(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerpolicy&&(a.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?a.credentials="include":i.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function iT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var le={exports:{}},at={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yl=Symbol.for("react.element"),aT=Symbol.for("react.portal"),sT=Symbol.for("react.fragment"),oT=Symbol.for("react.strict_mode"),lT=Symbol.for("react.profiler"),cT=Symbol.for("react.provider"),uT=Symbol.for("react.context"),dT=Symbol.for("react.forward_ref"),hT=Symbol.for("react.suspense"),fT=Symbol.for("react.memo"),_T=Symbol.for("react.lazy"),Kg=Symbol.iterator;function pT(t){return t===null||typeof t!="object"?null:(t=Kg&&t[Kg]||t["@@iterator"],typeof t=="function"?t:null)}var ob={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lb=Object.assign,cb={};function Zs(t,e,n){this.props=t,this.context=e,this.refs=cb,this.updater=n||ob}Zs.prototype.isReactComponent={};Zs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Zs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ub(){}ub.prototype=Zs.prototype;function bp(t,e,n){this.props=t,this.context=e,this.refs=cb,this.updater=n||ob}var wp=bp.prototype=new ub;wp.constructor=bp;lb(wp,Zs.prototype);wp.isPureReactComponent=!0;var Yg=Array.isArray,db=Object.prototype.hasOwnProperty,xp={current:null},hb={key:!0,ref:!0,__self:!0,__source:!0};function fb(t,e,n){var r,i={},a=null,l=null;if(e!=null)for(r in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(a=""+e.key),e)db.call(e,r)&&!hb.hasOwnProperty(r)&&(i[r]=e[r]);var h=arguments.length-2;if(h===1)i.children=n;else if(1<h){for(var _=Array(h),g=0;g<h;g++)_[g]=arguments[g+2];i.children=_}if(t&&t.defaultProps)for(r in h=t.defaultProps,h)i[r]===void 0&&(i[r]=h[r]);return{$$typeof:Yl,type:t,key:a,ref:l,props:i,_owner:xp.current}}function mT(t,e){return{$$typeof:Yl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ep(t){return typeof t=="object"&&t!==null&&t.$$typeof===Yl}function gT(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Jg=/\/+/g;function Fh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?gT(""+t.key):e.toString(36)}function _u(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case Yl:case aT:l=!0}}if(l)return l=t,i=i(l),t=r===""?"."+Fh(l,0):r,Yg(i)?(n="",t!=null&&(n=t.replace(Jg,"$&/")+"/"),_u(i,e,n,"",function(g){return g})):i!=null&&(Ep(i)&&(i=mT(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(Jg,"$&/")+"/")+t)),e.push(i)),1;if(l=0,r=r===""?".":r+":",Yg(t))for(var h=0;h<t.length;h++){a=t[h];var _=r+Fh(a,h);l+=_u(a,e,n,_,i)}else if(_=pT(t),typeof _=="function")for(t=_.call(t),h=0;!(a=t.next()).done;)a=a.value,_=r+Fh(a,h++),l+=_u(a,e,n,_,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function $c(t,e,n){if(t==null)return t;var r=[],i=0;return _u(t,r,"","",function(a){return e.call(n,a,i++)}),r}function vT(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Rn={current:null},pu={transition:null},yT={ReactCurrentDispatcher:Rn,ReactCurrentBatchConfig:pu,ReactCurrentOwner:xp};at.Children={map:$c,forEach:function(t,e,n){$c(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return $c(t,function(){e++}),e},toArray:function(t){return $c(t,function(e){return e})||[]},only:function(t){if(!Ep(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};at.Component=Zs;at.Fragment=sT;at.Profiler=lT;at.PureComponent=bp;at.StrictMode=oT;at.Suspense=hT;at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yT;at.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=lb({},t.props),i=t.key,a=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,l=xp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var h=t.type.defaultProps;for(_ in e)db.call(e,_)&&!hb.hasOwnProperty(_)&&(r[_]=e[_]===void 0&&h!==void 0?h[_]:e[_])}var _=arguments.length-2;if(_===1)r.children=n;else if(1<_){h=Array(_);for(var g=0;g<_;g++)h[g]=arguments[g+2];r.children=h}return{$$typeof:Yl,type:t.type,key:i,ref:a,props:r,_owner:l}};at.createContext=function(t){return t={$$typeof:uT,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:cT,_context:t},t.Consumer=t};at.createElement=fb;at.createFactory=function(t){var e=fb.bind(null,t);return e.type=t,e};at.createRef=function(){return{current:null}};at.forwardRef=function(t){return{$$typeof:dT,render:t}};at.isValidElement=Ep;at.lazy=function(t){return{$$typeof:_T,_payload:{_status:-1,_result:t},_init:vT}};at.memo=function(t,e){return{$$typeof:fT,type:t,compare:e===void 0?null:e}};at.startTransition=function(t){var e=pu.transition;pu.transition={};try{t()}finally{pu.transition=e}};at.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};at.useCallback=function(t,e){return Rn.current.useCallback(t,e)};at.useContext=function(t){return Rn.current.useContext(t)};at.useDebugValue=function(){};at.useDeferredValue=function(t){return Rn.current.useDeferredValue(t)};at.useEffect=function(t,e){return Rn.current.useEffect(t,e)};at.useId=function(){return Rn.current.useId()};at.useImperativeHandle=function(t,e,n){return Rn.current.useImperativeHandle(t,e,n)};at.useInsertionEffect=function(t,e){return Rn.current.useInsertionEffect(t,e)};at.useLayoutEffect=function(t,e){return Rn.current.useLayoutEffect(t,e)};at.useMemo=function(t,e){return Rn.current.useMemo(t,e)};at.useReducer=function(t,e,n){return Rn.current.useReducer(t,e,n)};at.useRef=function(t){return Rn.current.useRef(t)};at.useState=function(t){return Rn.current.useState(t)};at.useSyncExternalStore=function(t,e,n){return Rn.current.useSyncExternalStore(t,e,n)};at.useTransition=function(){return Rn.current.useTransition()};at.version="18.2.0";(function(t){t.exports=at})(le);const Ra=iT(le.exports);var Vf={},_b={exports:{}},ar={},pb={exports:{}},mb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(ue,ge){var Ne=ue.length;ue.push(ge);e:for(;0<Ne;){var Ve=Ne-1>>>1,et=ue[Ve];if(0<i(et,ge))ue[Ve]=ge,ue[Ne]=et,Ne=Ve;else break e}}function n(ue){return ue.length===0?null:ue[0]}function r(ue){if(ue.length===0)return null;var ge=ue[0],Ne=ue.pop();if(Ne!==ge){ue[0]=Ne;e:for(var Ve=0,et=ue.length,Yt=et>>>1;Ve<Yt;){var Ut=2*(Ve+1)-1,zn=ue[Ut],yt=Ut+1,Jt=ue[yt];if(0>i(zn,Ne))yt<et&&0>i(Jt,zn)?(ue[Ve]=Jt,ue[yt]=Ne,Ve=yt):(ue[Ve]=zn,ue[Ut]=Ne,Ve=Ut);else if(yt<et&&0>i(Jt,Ne))ue[Ve]=Jt,ue[yt]=Ne,Ve=yt;else break e}}return ge}function i(ue,ge){var Ne=ue.sortIndex-ge.sortIndex;return Ne!==0?Ne:ue.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,h=l.now();t.unstable_now=function(){return l.now()-h}}var _=[],g=[],k=1,C=null,T=3,L=!1,F=!1,D=!1,P=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $(ue){for(var ge=n(g);ge!==null;){if(ge.callback===null)r(g);else if(ge.startTime<=ue)r(g),ge.sortIndex=ge.expirationTime,e(_,ge);else break;ge=n(g)}}function U(ue){if(D=!1,$(ue),!F)if(n(_)!==null)F=!0,me(z);else{var ge=n(g);ge!==null&&qe(U,ge.startTime-ue)}}function z(ue,ge){F=!1,D&&(D=!1,A(B),B=-1),L=!0;var Ne=T;try{for($(ge),C=n(_);C!==null&&(!(C.expirationTime>ge)||ue&&!X());){var Ve=C.callback;if(typeof Ve=="function"){C.callback=null,T=C.priorityLevel;var et=Ve(C.expirationTime<=ge);ge=t.unstable_now(),typeof et=="function"?C.callback=et:C===n(_)&&r(_),$(ge)}else r(_);C=n(_)}if(C!==null)var Yt=!0;else{var Ut=n(g);Ut!==null&&qe(U,Ut.startTime-ge),Yt=!1}return Yt}finally{C=null,T=Ne,L=!1}}var G=!1,V=null,B=-1,Y=5,J=-1;function X(){return!(t.unstable_now()-J<Y)}function q(){if(V!==null){var ue=t.unstable_now();J=ue;var ge=!0;try{ge=V(!0,ue)}finally{ge?ee():(G=!1,V=null)}}else G=!1}var ee;if(typeof M=="function")ee=function(){M(q)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,ke=ce.port2;ce.port1.onmessage=q,ee=function(){ke.postMessage(null)}}else ee=function(){P(q,0)};function me(ue){V=ue,G||(G=!0,ee())}function qe(ue,ge){B=P(function(){ue(t.unstable_now())},ge)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ue){ue.callback=null},t.unstable_continueExecution=function(){F||L||(F=!0,me(z))},t.unstable_forceFrameRate=function(ue){0>ue||125<ue?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<ue?Math.floor(1e3/ue):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_getFirstCallbackNode=function(){return n(_)},t.unstable_next=function(ue){switch(T){case 1:case 2:case 3:var ge=3;break;default:ge=T}var Ne=T;T=ge;try{return ue()}finally{T=Ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ue,ge){switch(ue){case 1:case 2:case 3:case 4:case 5:break;default:ue=3}var Ne=T;T=ue;try{return ge()}finally{T=Ne}},t.unstable_scheduleCallback=function(ue,ge,Ne){var Ve=t.unstable_now();switch(typeof Ne=="object"&&Ne!==null?(Ne=Ne.delay,Ne=typeof Ne=="number"&&0<Ne?Ve+Ne:Ve):Ne=Ve,ue){case 1:var et=-1;break;case 2:et=250;break;case 5:et=1073741823;break;case 4:et=1e4;break;default:et=5e3}return et=Ne+et,ue={id:k++,callback:ge,priorityLevel:ue,startTime:Ne,expirationTime:et,sortIndex:-1},Ne>Ve?(ue.sortIndex=Ne,e(g,ue),n(_)===null&&ue===n(g)&&(D?(A(B),B=-1):D=!0,qe(U,Ne-Ve))):(ue.sortIndex=et,e(_,ue),F||L||(F=!0,me(z))),ue},t.unstable_shouldYield=X,t.unstable_wrapCallback=function(ue){var ge=T;return function(){var Ne=T;T=ge;try{return ue.apply(this,arguments)}finally{T=Ne}}}})(mb);(function(t){t.exports=mb})(pb);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gb=le.exports,nr=pb.exports;function ve(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vb=new Set,dl={};function Za(t,e){$s(t,e),$s(t+"Capture",e)}function $s(t,e){for(dl[t]=e,t=0;t<e.length;t++)vb.add(e[t])}var ui=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hf=Object.prototype.hasOwnProperty,bT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Qg={},Xg={};function wT(t){return Hf.call(Xg,t)?!0:Hf.call(Qg,t)?!1:bT.test(t)?Xg[t]=!0:(Qg[t]=!0,!1)}function xT(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ET(t,e,n,r){if(e===null||typeof e>"u"||xT(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Fn(t,e,n,r,i,a,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=l}var fn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){fn[t]=new Fn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];fn[e]=new Fn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){fn[t]=new Fn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){fn[t]=new Fn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){fn[t]=new Fn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){fn[t]=new Fn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){fn[t]=new Fn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){fn[t]=new Fn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){fn[t]=new Fn(t,5,!1,t.toLowerCase(),null,!1,!1)});var kp=/[\-:]([a-z])/g;function Sp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(kp,Sp);fn[e]=new Fn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(kp,Sp);fn[e]=new Fn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(kp,Sp);fn[e]=new Fn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){fn[t]=new Fn(t,1,!1,t.toLowerCase(),null,!1,!1)});fn.xlinkHref=new Fn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){fn[t]=new Fn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Tp(t,e,n,r){var i=fn.hasOwnProperty(e)?fn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ET(e,n,i,r)&&(n=null),r||i===null?wT(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var wi=gb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Rc=Symbol.for("react.element"),us=Symbol.for("react.portal"),ds=Symbol.for("react.fragment"),Cp=Symbol.for("react.strict_mode"),Bf=Symbol.for("react.profiler"),yb=Symbol.for("react.provider"),bb=Symbol.for("react.context"),Np=Symbol.for("react.forward_ref"),qf=Symbol.for("react.suspense"),Wf=Symbol.for("react.suspense_list"),Dp=Symbol.for("react.memo"),Di=Symbol.for("react.lazy"),wb=Symbol.for("react.offscreen"),Zg=Symbol.iterator;function yo(t){return t===null||typeof t!="object"?null:(t=Zg&&t[Zg]||t["@@iterator"],typeof t=="function"?t:null)}var It=Object.assign,jh;function Lo(t){if(jh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);jh=e&&e[1]||""}return`
`+jh+t}var zh=!1;function Uh(t,e){if(!t||zh)return"";zh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(g){var r=g}Reflect.construct(t,[],e)}else{try{e.call()}catch(g){r=g}t.call(e.prototype)}else{try{throw Error()}catch(g){r=g}t()}}catch(g){if(g&&r&&typeof g.stack=="string"){for(var i=g.stack.split(`
`),a=r.stack.split(`
`),l=i.length-1,h=a.length-1;1<=l&&0<=h&&i[l]!==a[h];)h--;for(;1<=l&&0<=h;l--,h--)if(i[l]!==a[h]){if(l!==1||h!==1)do if(l--,h--,0>h||i[l]!==a[h]){var _=`
`+i[l].replace(" at new "," at ");return t.displayName&&_.includes("<anonymous>")&&(_=_.replace("<anonymous>",t.displayName)),_}while(1<=l&&0<=h);break}}}finally{zh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Lo(t):""}function kT(t){switch(t.tag){case 5:return Lo(t.type);case 16:return Lo("Lazy");case 13:return Lo("Suspense");case 19:return Lo("SuspenseList");case 0:case 2:case 15:return t=Uh(t.type,!1),t;case 11:return t=Uh(t.type.render,!1),t;case 1:return t=Uh(t.type,!0),t;default:return""}}function Gf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ds:return"Fragment";case us:return"Portal";case Bf:return"Profiler";case Cp:return"StrictMode";case qf:return"Suspense";case Wf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case bb:return(t.displayName||"Context")+".Consumer";case yb:return(t._context.displayName||"Context")+".Provider";case Np:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Dp:return e=t.displayName||null,e!==null?e:Gf(t.type)||"Memo";case Di:e=t._payload,t=t._init;try{return Gf(t(e))}catch{}}return null}function ST(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Gf(e);case 8:return e===Cp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ra(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function TT(t){var e=xb(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(l){r=""+l,a.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Fc(t){t._valueTracker||(t._valueTracker=TT(t))}function Eb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=xb(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ru(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Kf(t,e){var n=e.checked;return It({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function ev(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ra(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function kb(t,e){e=e.checked,e!=null&&Tp(t,"checked",e,!1)}function Yf(t,e){kb(t,e);var n=ra(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Jf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Jf(t,e.type,ra(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function tv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Jf(t,e,n){(e!=="number"||Ru(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Po=Array.isArray;function Ss(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ra(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Qf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ve(91));return It({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function nv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ve(92));if(Po(n)){if(1<n.length)throw Error(ve(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ra(n)}}function Sb(t,e){var n=ra(e.value),r=ra(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function rv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Tb(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Tb(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var jc,Cb=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(jc=jc||document.createElement("div"),jc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=jc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function hl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var qo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},CT=["Webkit","ms","Moz","O"];Object.keys(qo).forEach(function(t){CT.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),qo[e]=qo[t]})});function Nb(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||qo.hasOwnProperty(t)&&qo[t]?(""+e).trim():e+"px"}function Db(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Nb(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var NT=It({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Zf(t,e){if(e){if(NT[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ve(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ve(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ve(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ve(62))}}function e_(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var t_=null;function Ap(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var n_=null,Ts=null,Cs=null;function iv(t){if(t=Xl(t)){if(typeof n_!="function")throw Error(ve(280));var e=t.stateNode;e&&(e=Fd(e),n_(t.stateNode,t.type,e))}}function Ab(t){Ts?Cs?Cs.push(t):Cs=[t]:Ts=t}function Ib(){if(Ts){var t=Ts,e=Cs;if(Cs=Ts=null,iv(t),e)for(t=0;t<e.length;t++)iv(e[t])}}function Mb(t,e){return t(e)}function Ob(){}var Vh=!1;function Lb(t,e,n){if(Vh)return t(e,n);Vh=!0;try{return Mb(t,e,n)}finally{Vh=!1,(Ts!==null||Cs!==null)&&(Ob(),Ib())}}function fl(t,e){var n=t.stateNode;if(n===null)return null;var r=Fd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ve(231,e,typeof n));return n}var r_=!1;if(ui)try{var bo={};Object.defineProperty(bo,"passive",{get:function(){r_=!0}}),window.addEventListener("test",bo,bo),window.removeEventListener("test",bo,bo)}catch{r_=!1}function DT(t,e,n,r,i,a,l,h,_){var g=Array.prototype.slice.call(arguments,3);try{e.apply(n,g)}catch(k){this.onError(k)}}var Wo=!1,Fu=null,ju=!1,i_=null,AT={onError:function(t){Wo=!0,Fu=t}};function IT(t,e,n,r,i,a,l,h,_){Wo=!1,Fu=null,DT.apply(AT,arguments)}function MT(t,e,n,r,i,a,l,h,_){if(IT.apply(this,arguments),Wo){if(Wo){var g=Fu;Wo=!1,Fu=null}else throw Error(ve(198));ju||(ju=!0,i_=g)}}function es(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Pb(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function av(t){if(es(t)!==t)throw Error(ve(188))}function OT(t){var e=t.alternate;if(!e){if(e=es(t),e===null)throw Error(ve(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return av(i),t;if(a===r)return av(i),e;a=a.sibling}throw Error(ve(188))}if(n.return!==r.return)n=i,r=a;else{for(var l=!1,h=i.child;h;){if(h===n){l=!0,n=i,r=a;break}if(h===r){l=!0,r=i,n=a;break}h=h.sibling}if(!l){for(h=a.child;h;){if(h===n){l=!0,n=a,r=i;break}if(h===r){l=!0,r=a,n=i;break}h=h.sibling}if(!l)throw Error(ve(189))}}if(n.alternate!==r)throw Error(ve(190))}if(n.tag!==3)throw Error(ve(188));return n.stateNode.current===n?t:e}function $b(t){return t=OT(t),t!==null?Rb(t):null}function Rb(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Rb(t);if(e!==null)return e;t=t.sibling}return null}var Fb=nr.unstable_scheduleCallback,sv=nr.unstable_cancelCallback,LT=nr.unstable_shouldYield,PT=nr.unstable_requestPaint,Pt=nr.unstable_now,$T=nr.unstable_getCurrentPriorityLevel,Ip=nr.unstable_ImmediatePriority,jb=nr.unstable_UserBlockingPriority,zu=nr.unstable_NormalPriority,RT=nr.unstable_LowPriority,zb=nr.unstable_IdlePriority,Ld=null,Hr=null;function FT(t){if(Hr&&typeof Hr.onCommitFiberRoot=="function")try{Hr.onCommitFiberRoot(Ld,t,void 0,(t.current.flags&128)===128)}catch{}}var Dr=Math.clz32?Math.clz32:UT,jT=Math.log,zT=Math.LN2;function UT(t){return t>>>=0,t===0?32:31-(jT(t)/zT|0)|0}var zc=64,Uc=4194304;function $o(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Uu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,l=n&268435455;if(l!==0){var h=l&~i;h!==0?r=$o(h):(a&=l,a!==0&&(r=$o(a)))}else l=n&~i,l!==0?r=$o(l):a!==0&&(r=$o(a));if(r===0)return 0;if(e!==0&&e!==r&&(e&i)===0&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if((r&4)!==0&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Dr(e),i=1<<n,r|=t[n],e&=~i;return r}function VT(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function HT(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var l=31-Dr(a),h=1<<l,_=i[l];_===-1?((h&n)===0||(h&r)!==0)&&(i[l]=VT(h,e)):_<=e&&(t.expiredLanes|=h),a&=~h}}function a_(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ub(){var t=zc;return zc<<=1,(zc&4194240)===0&&(zc=64),t}function Hh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Jl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Dr(e),t[e]=n}function BT(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Dr(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function Mp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Dr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var _t=0;function Vb(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var Hb,Op,Bb,qb,Wb,s_=!1,Vc=[],Hi=null,Bi=null,qi=null,_l=new Map,pl=new Map,Mi=[],qT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ov(t,e){switch(t){case"focusin":case"focusout":Hi=null;break;case"dragenter":case"dragleave":Bi=null;break;case"mouseover":case"mouseout":qi=null;break;case"pointerover":case"pointerout":_l.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":pl.delete(e.pointerId)}}function wo(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Xl(e),e!==null&&Op(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function WT(t,e,n,r,i){switch(e){case"focusin":return Hi=wo(Hi,t,e,n,r,i),!0;case"dragenter":return Bi=wo(Bi,t,e,n,r,i),!0;case"mouseover":return qi=wo(qi,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return _l.set(a,wo(_l.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,pl.set(a,wo(pl.get(a)||null,t,e,n,r,i)),!0}return!1}function Gb(t){var e=ka(t.target);if(e!==null){var n=es(e);if(n!==null){if(e=n.tag,e===13){if(e=Pb(n),e!==null){t.blockedOn=e,Wb(t.priority,function(){Bb(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function mu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=o_(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);t_=r,n.target.dispatchEvent(r),t_=null}else return e=Xl(n),e!==null&&Op(e),t.blockedOn=n,!1;e.shift()}return!0}function lv(t,e,n){mu(t)&&n.delete(e)}function GT(){s_=!1,Hi!==null&&mu(Hi)&&(Hi=null),Bi!==null&&mu(Bi)&&(Bi=null),qi!==null&&mu(qi)&&(qi=null),_l.forEach(lv),pl.forEach(lv)}function xo(t,e){t.blockedOn===e&&(t.blockedOn=null,s_||(s_=!0,nr.unstable_scheduleCallback(nr.unstable_NormalPriority,GT)))}function ml(t){function e(i){return xo(i,t)}if(0<Vc.length){xo(Vc[0],t);for(var n=1;n<Vc.length;n++){var r=Vc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Hi!==null&&xo(Hi,t),Bi!==null&&xo(Bi,t),qi!==null&&xo(qi,t),_l.forEach(e),pl.forEach(e),n=0;n<Mi.length;n++)r=Mi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Mi.length&&(n=Mi[0],n.blockedOn===null);)Gb(n),n.blockedOn===null&&Mi.shift()}var Ns=wi.ReactCurrentBatchConfig,Vu=!0;function KT(t,e,n,r){var i=_t,a=Ns.transition;Ns.transition=null;try{_t=1,Lp(t,e,n,r)}finally{_t=i,Ns.transition=a}}function YT(t,e,n,r){var i=_t,a=Ns.transition;Ns.transition=null;try{_t=4,Lp(t,e,n,r)}finally{_t=i,Ns.transition=a}}function Lp(t,e,n,r){if(Vu){var i=o_(t,e,n,r);if(i===null)Zh(t,e,r,Hu,n),ov(t,r);else if(WT(i,t,e,n,r))r.stopPropagation();else if(ov(t,r),e&4&&-1<qT.indexOf(t)){for(;i!==null;){var a=Xl(i);if(a!==null&&Hb(a),a=o_(t,e,n,r),a===null&&Zh(t,e,r,Hu,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Zh(t,e,r,null,n)}}var Hu=null;function o_(t,e,n,r){if(Hu=null,t=Ap(r),t=ka(t),t!==null)if(e=es(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Pb(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Hu=t,null}function Kb(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($T()){case Ip:return 1;case jb:return 4;case zu:case RT:return 16;case zb:return 536870912;default:return 16}default:return 16}}var ji=null,Pp=null,gu=null;function Yb(){if(gu)return gu;var t,e=Pp,n=e.length,r,i="value"in ji?ji.value:ji.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var l=n-t;for(r=1;r<=l&&e[n-r]===i[a-r];r++);return gu=i.slice(t,1<r?1-r:void 0)}function vu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Hc(){return!0}function cv(){return!1}function sr(t){function e(n,r,i,a,l){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=l,this.currentTarget=null;for(var h in t)t.hasOwnProperty(h)&&(n=t[h],this[h]=n?n(a):a[h]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Hc:cv,this.isPropagationStopped=cv,this}return It(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Hc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Hc)},persist:function(){},isPersistent:Hc}),e}var eo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$p=sr(eo),Ql=It({},eo,{view:0,detail:0}),JT=sr(Ql),Bh,qh,Eo,Pd=It({},Ql,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Eo&&(Eo&&t.type==="mousemove"?(Bh=t.screenX-Eo.screenX,qh=t.screenY-Eo.screenY):qh=Bh=0,Eo=t),Bh)},movementY:function(t){return"movementY"in t?t.movementY:qh}}),uv=sr(Pd),QT=It({},Pd,{dataTransfer:0}),XT=sr(QT),ZT=It({},Ql,{relatedTarget:0}),Wh=sr(ZT),eC=It({},eo,{animationName:0,elapsedTime:0,pseudoElement:0}),tC=sr(eC),nC=It({},eo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),rC=sr(nC),iC=It({},eo,{data:0}),dv=sr(iC),aC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=oC[t])?!!e[t]:!1}function Rp(){return lC}var cC=It({},Ql,{key:function(t){if(t.key){var e=aC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=vu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?sC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rp,charCode:function(t){return t.type==="keypress"?vu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),uC=sr(cC),dC=It({},Pd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),hv=sr(dC),hC=It({},Ql,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rp}),fC=sr(hC),_C=It({},eo,{propertyName:0,elapsedTime:0,pseudoElement:0}),pC=sr(_C),mC=It({},Pd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),gC=sr(mC),vC=[9,13,27,32],Fp=ui&&"CompositionEvent"in window,Go=null;ui&&"documentMode"in document&&(Go=document.documentMode);var yC=ui&&"TextEvent"in window&&!Go,Jb=ui&&(!Fp||Go&&8<Go&&11>=Go),fv=String.fromCharCode(32),_v=!1;function Qb(t,e){switch(t){case"keyup":return vC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var hs=!1;function bC(t,e){switch(t){case"compositionend":return Xb(e);case"keypress":return e.which!==32?null:(_v=!0,fv);case"textInput":return t=e.data,t===fv&&_v?null:t;default:return null}}function wC(t,e){if(hs)return t==="compositionend"||!Fp&&Qb(t,e)?(t=Yb(),gu=Pp=ji=null,hs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Jb&&e.locale!=="ko"?null:e.data;default:return null}}var xC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!xC[t.type]:e==="textarea"}function Zb(t,e,n,r){Ab(r),e=Bu(e,"onChange"),0<e.length&&(n=new $p("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ko=null,gl=null;function EC(t){uw(t,0)}function $d(t){var e=ps(t);if(Eb(e))return t}function kC(t,e){if(t==="change")return e}var ew=!1;if(ui){var Gh;if(ui){var Kh="oninput"in document;if(!Kh){var mv=document.createElement("div");mv.setAttribute("oninput","return;"),Kh=typeof mv.oninput=="function"}Gh=Kh}else Gh=!1;ew=Gh&&(!document.documentMode||9<document.documentMode)}function gv(){Ko&&(Ko.detachEvent("onpropertychange",tw),gl=Ko=null)}function tw(t){if(t.propertyName==="value"&&$d(gl)){var e=[];Zb(e,gl,t,Ap(t)),Lb(EC,e)}}function SC(t,e,n){t==="focusin"?(gv(),Ko=e,gl=n,Ko.attachEvent("onpropertychange",tw)):t==="focusout"&&gv()}function TC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $d(gl)}function CC(t,e){if(t==="click")return $d(e)}function NC(t,e){if(t==="input"||t==="change")return $d(e)}function DC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Mr=typeof Object.is=="function"?Object.is:DC;function vl(t,e){if(Mr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Hf.call(e,i)||!Mr(t[i],e[i]))return!1}return!0}function vv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yv(t,e){var n=vv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=vv(n)}}function nw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?nw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function rw(){for(var t=window,e=Ru();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ru(t.document)}return e}function jp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function AC(t){var e=rw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&nw(n.ownerDocument.documentElement,n)){if(r!==null&&jp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=yv(n,a);var l=yv(n,r);i&&l&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var IC=ui&&"documentMode"in document&&11>=document.documentMode,fs=null,l_=null,Yo=null,c_=!1;function bv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;c_||fs==null||fs!==Ru(r)||(r=fs,"selectionStart"in r&&jp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Yo&&vl(Yo,r)||(Yo=r,r=Bu(l_,"onSelect"),0<r.length&&(e=new $p("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=fs)))}function Bc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var _s={animationend:Bc("Animation","AnimationEnd"),animationiteration:Bc("Animation","AnimationIteration"),animationstart:Bc("Animation","AnimationStart"),transitionend:Bc("Transition","TransitionEnd")},Yh={},iw={};ui&&(iw=document.createElement("div").style,"AnimationEvent"in window||(delete _s.animationend.animation,delete _s.animationiteration.animation,delete _s.animationstart.animation),"TransitionEvent"in window||delete _s.transitionend.transition);function Rd(t){if(Yh[t])return Yh[t];if(!_s[t])return t;var e=_s[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in iw)return Yh[t]=e[n];return t}var aw=Rd("animationend"),sw=Rd("animationiteration"),ow=Rd("animationstart"),lw=Rd("transitionend"),cw=new Map,wv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ca(t,e){cw.set(t,e),Za(e,[t])}for(var Jh=0;Jh<wv.length;Jh++){var Qh=wv[Jh],MC=Qh.toLowerCase(),OC=Qh[0].toUpperCase()+Qh.slice(1);ca(MC,"on"+OC)}ca(aw,"onAnimationEnd");ca(sw,"onAnimationIteration");ca(ow,"onAnimationStart");ca("dblclick","onDoubleClick");ca("focusin","onFocus");ca("focusout","onBlur");ca(lw,"onTransitionEnd");$s("onMouseEnter",["mouseout","mouseover"]);$s("onMouseLeave",["mouseout","mouseover"]);$s("onPointerEnter",["pointerout","pointerover"]);$s("onPointerLeave",["pointerout","pointerover"]);Za("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Za("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Za("onBeforeInput",["compositionend","keypress","textInput","paste"]);Za("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Za("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Za("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LC=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ro));function xv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,MT(r,e,void 0,t),t.currentTarget=null}function uw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var l=r.length-1;0<=l;l--){var h=r[l],_=h.instance,g=h.currentTarget;if(h=h.listener,_!==a&&i.isPropagationStopped())break e;xv(i,h,g),a=_}else for(l=0;l<r.length;l++){if(h=r[l],_=h.instance,g=h.currentTarget,h=h.listener,_!==a&&i.isPropagationStopped())break e;xv(i,h,g),a=_}}}if(ju)throw t=i_,ju=!1,i_=null,t}function wt(t,e){var n=e[__];n===void 0&&(n=e[__]=new Set);var r=t+"__bubble";n.has(r)||(dw(e,t,2,!1),n.add(r))}function Xh(t,e,n){var r=0;e&&(r|=4),dw(n,t,r,e)}var qc="_reactListening"+Math.random().toString(36).slice(2);function yl(t){if(!t[qc]){t[qc]=!0,vb.forEach(function(n){n!=="selectionchange"&&(LC.has(n)||Xh(n,!1,t),Xh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[qc]||(e[qc]=!0,Xh("selectionchange",!1,e))}}function dw(t,e,n,r){switch(Kb(e)){case 1:var i=KT;break;case 4:i=YT;break;default:i=Lp}n=i.bind(null,e,n,t),i=void 0,!r_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Zh(t,e,n,r,i){var a=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var h=r.stateNode.containerInfo;if(h===i||h.nodeType===8&&h.parentNode===i)break;if(l===4)for(l=r.return;l!==null;){var _=l.tag;if((_===3||_===4)&&(_=l.stateNode.containerInfo,_===i||_.nodeType===8&&_.parentNode===i))return;l=l.return}for(;h!==null;){if(l=ka(h),l===null)return;if(_=l.tag,_===5||_===6){r=a=l;continue e}h=h.parentNode}}r=r.return}Lb(function(){var g=a,k=Ap(n),C=[];e:{var T=cw.get(t);if(T!==void 0){var L=$p,F=t;switch(t){case"keypress":if(vu(n)===0)break e;case"keydown":case"keyup":L=uC;break;case"focusin":F="focus",L=Wh;break;case"focusout":F="blur",L=Wh;break;case"beforeblur":case"afterblur":L=Wh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=uv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=XT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=fC;break;case aw:case sw:case ow:L=tC;break;case lw:L=pC;break;case"scroll":L=JT;break;case"wheel":L=gC;break;case"copy":case"cut":case"paste":L=rC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=hv}var D=(e&4)!==0,P=!D&&t==="scroll",A=D?T!==null?T+"Capture":null:T;D=[];for(var M=g,$;M!==null;){$=M;var U=$.stateNode;if($.tag===5&&U!==null&&($=U,A!==null&&(U=fl(M,A),U!=null&&D.push(bl(M,U,$)))),P)break;M=M.return}0<D.length&&(T=new L(T,F,null,n,k),C.push({event:T,listeners:D}))}}if((e&7)===0){e:{if(T=t==="mouseover"||t==="pointerover",L=t==="mouseout"||t==="pointerout",T&&n!==t_&&(F=n.relatedTarget||n.fromElement)&&(ka(F)||F[di]))break e;if((L||T)&&(T=k.window===k?k:(T=k.ownerDocument)?T.defaultView||T.parentWindow:window,L?(F=n.relatedTarget||n.toElement,L=g,F=F?ka(F):null,F!==null&&(P=es(F),F!==P||F.tag!==5&&F.tag!==6)&&(F=null)):(L=null,F=g),L!==F)){if(D=uv,U="onMouseLeave",A="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(D=hv,U="onPointerLeave",A="onPointerEnter",M="pointer"),P=L==null?T:ps(L),$=F==null?T:ps(F),T=new D(U,M+"leave",L,n,k),T.target=P,T.relatedTarget=$,U=null,ka(k)===g&&(D=new D(A,M+"enter",F,n,k),D.target=$,D.relatedTarget=P,U=D),P=U,L&&F)t:{for(D=L,A=F,M=0,$=D;$;$=os($))M++;for($=0,U=A;U;U=os(U))$++;for(;0<M-$;)D=os(D),M--;for(;0<$-M;)A=os(A),$--;for(;M--;){if(D===A||A!==null&&D===A.alternate)break t;D=os(D),A=os(A)}D=null}else D=null;L!==null&&Ev(C,T,L,D,!1),F!==null&&P!==null&&Ev(C,P,F,D,!0)}}e:{if(T=g?ps(g):window,L=T.nodeName&&T.nodeName.toLowerCase(),L==="select"||L==="input"&&T.type==="file")var z=kC;else if(pv(T))if(ew)z=NC;else{z=TC;var G=SC}else(L=T.nodeName)&&L.toLowerCase()==="input"&&(T.type==="checkbox"||T.type==="radio")&&(z=CC);if(z&&(z=z(t,g))){Zb(C,z,n,k);break e}G&&G(t,T,g),t==="focusout"&&(G=T._wrapperState)&&G.controlled&&T.type==="number"&&Jf(T,"number",T.value)}switch(G=g?ps(g):window,t){case"focusin":(pv(G)||G.contentEditable==="true")&&(fs=G,l_=g,Yo=null);break;case"focusout":Yo=l_=fs=null;break;case"mousedown":c_=!0;break;case"contextmenu":case"mouseup":case"dragend":c_=!1,bv(C,n,k);break;case"selectionchange":if(IC)break;case"keydown":case"keyup":bv(C,n,k)}var V;if(Fp)e:{switch(t){case"compositionstart":var B="onCompositionStart";break e;case"compositionend":B="onCompositionEnd";break e;case"compositionupdate":B="onCompositionUpdate";break e}B=void 0}else hs?Qb(t,n)&&(B="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(B="onCompositionStart");B&&(Jb&&n.locale!=="ko"&&(hs||B!=="onCompositionStart"?B==="onCompositionEnd"&&hs&&(V=Yb()):(ji=k,Pp="value"in ji?ji.value:ji.textContent,hs=!0)),G=Bu(g,B),0<G.length&&(B=new dv(B,t,null,n,k),C.push({event:B,listeners:G}),V?B.data=V:(V=Xb(n),V!==null&&(B.data=V)))),(V=yC?bC(t,n):wC(t,n))&&(g=Bu(g,"onBeforeInput"),0<g.length&&(k=new dv("onBeforeInput","beforeinput",null,n,k),C.push({event:k,listeners:g}),k.data=V))}uw(C,e)})}function bl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Bu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=fl(t,n),a!=null&&r.unshift(bl(t,a,i)),a=fl(t,e),a!=null&&r.push(bl(t,a,i))),t=t.return}return r}function os(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ev(t,e,n,r,i){for(var a=e._reactName,l=[];n!==null&&n!==r;){var h=n,_=h.alternate,g=h.stateNode;if(_!==null&&_===r)break;h.tag===5&&g!==null&&(h=g,i?(_=fl(n,a),_!=null&&l.unshift(bl(n,_,h))):i||(_=fl(n,a),_!=null&&l.push(bl(n,_,h)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var PC=/\r\n?/g,$C=/\u0000|\uFFFD/g;function kv(t){return(typeof t=="string"?t:""+t).replace(PC,`
`).replace($C,"")}function Wc(t,e,n){if(e=kv(e),kv(t)!==e&&n)throw Error(ve(425))}function qu(){}var u_=null,d_=null;function h_(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var f_=typeof setTimeout=="function"?setTimeout:void 0,RC=typeof clearTimeout=="function"?clearTimeout:void 0,Sv=typeof Promise=="function"?Promise:void 0,FC=typeof queueMicrotask=="function"?queueMicrotask:typeof Sv<"u"?function(t){return Sv.resolve(null).then(t).catch(jC)}:f_;function jC(t){setTimeout(function(){throw t})}function ef(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),ml(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);ml(e)}function Wi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Tv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var to=Math.random().toString(36).slice(2),Ur="__reactFiber$"+to,wl="__reactProps$"+to,di="__reactContainer$"+to,__="__reactEvents$"+to,zC="__reactListeners$"+to,UC="__reactHandles$"+to;function ka(t){var e=t[Ur];if(e)return e;for(var n=t.parentNode;n;){if(e=n[di]||n[Ur]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Tv(t);t!==null;){if(n=t[Ur])return n;t=Tv(t)}return e}t=n,n=t.parentNode}return null}function Xl(t){return t=t[Ur]||t[di],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ps(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ve(33))}function Fd(t){return t[wl]||null}var p_=[],ms=-1;function ua(t){return{current:t}}function kt(t){0>ms||(t.current=p_[ms],p_[ms]=null,ms--)}function gt(t,e){ms++,p_[ms]=t.current,t.current=e}var ia={},Sn=ua(ia),Gn=ua(!1),Fa=ia;function Rs(t,e){var n=t.type.contextTypes;if(!n)return ia;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Kn(t){return t=t.childContextTypes,t!=null}function Wu(){kt(Gn),kt(Sn)}function Cv(t,e,n){if(Sn.current!==ia)throw Error(ve(168));gt(Sn,e),gt(Gn,n)}function hw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ve(108,ST(t)||"Unknown",i));return It({},n,r)}function Gu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ia,Fa=Sn.current,gt(Sn,t),gt(Gn,Gn.current),!0}function Nv(t,e,n){var r=t.stateNode;if(!r)throw Error(ve(169));n?(t=hw(t,e,Fa),r.__reactInternalMemoizedMergedChildContext=t,kt(Gn),kt(Sn),gt(Sn,t)):kt(Gn),gt(Gn,n)}var Zr=null,jd=!1,tf=!1;function fw(t){Zr===null?Zr=[t]:Zr.push(t)}function VC(t){jd=!0,fw(t)}function da(){if(!tf&&Zr!==null){tf=!0;var t=0,e=_t;try{var n=Zr;for(_t=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Zr=null,jd=!1}catch(i){throw Zr!==null&&(Zr=Zr.slice(t+1)),Fb(Ip,da),i}finally{_t=e,tf=!1}}return null}var gs=[],vs=0,Ku=null,Yu=0,ur=[],dr=0,ja=null,ti=1,ni="";function ba(t,e){gs[vs++]=Yu,gs[vs++]=Ku,Ku=t,Yu=e}function _w(t,e,n){ur[dr++]=ti,ur[dr++]=ni,ur[dr++]=ja,ja=t;var r=ti;t=ni;var i=32-Dr(r)-1;r&=~(1<<i),n+=1;var a=32-Dr(e)+i;if(30<a){var l=i-i%5;a=(r&(1<<l)-1).toString(32),r>>=l,i-=l,ti=1<<32-Dr(e)+i|n<<i|r,ni=a+t}else ti=1<<a|n<<i|r,ni=t}function zp(t){t.return!==null&&(ba(t,1),_w(t,1,0))}function Up(t){for(;t===Ku;)Ku=gs[--vs],gs[vs]=null,Yu=gs[--vs],gs[vs]=null;for(;t===ja;)ja=ur[--dr],ur[dr]=null,ni=ur[--dr],ur[dr]=null,ti=ur[--dr],ur[dr]=null}var er=null,Zn=null,St=!1,Cr=null;function pw(t,e){var n=fr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Dv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,er=t,Zn=Wi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,er=t,Zn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ja!==null?{id:ti,overflow:ni}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=fr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,er=t,Zn=null,!0):!1;default:return!1}}function m_(t){return(t.mode&1)!==0&&(t.flags&128)===0}function g_(t){if(St){var e=Zn;if(e){var n=e;if(!Dv(t,e)){if(m_(t))throw Error(ve(418));e=Wi(n.nextSibling);var r=er;e&&Dv(t,e)?pw(r,n):(t.flags=t.flags&-4097|2,St=!1,er=t)}}else{if(m_(t))throw Error(ve(418));t.flags=t.flags&-4097|2,St=!1,er=t}}}function Av(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;er=t}function Gc(t){if(t!==er)return!1;if(!St)return Av(t),St=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!h_(t.type,t.memoizedProps)),e&&(e=Zn)){if(m_(t))throw mw(),Error(ve(418));for(;e;)pw(t,e),e=Wi(e.nextSibling)}if(Av(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ve(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Zn=Wi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Zn=null}}else Zn=er?Wi(t.stateNode.nextSibling):null;return!0}function mw(){for(var t=Zn;t;)t=Wi(t.nextSibling)}function Fs(){Zn=er=null,St=!1}function Vp(t){Cr===null?Cr=[t]:Cr.push(t)}var HC=wi.ReactCurrentBatchConfig;function Sr(t,e){if(t&&t.defaultProps){e=It({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Ju=ua(null),Qu=null,ys=null,Hp=null;function Bp(){Hp=ys=Qu=null}function qp(t){var e=Ju.current;kt(Ju),t._currentValue=e}function v_(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ds(t,e){Qu=t,Hp=ys=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(Wn=!0),t.firstContext=null)}function vr(t){var e=t._currentValue;if(Hp!==t)if(t={context:t,memoizedValue:e,next:null},ys===null){if(Qu===null)throw Error(ve(308));ys=t,Qu.dependencies={lanes:0,firstContext:t}}else ys=ys.next=t;return e}var Sa=null;function Wp(t){Sa===null?Sa=[t]:Sa.push(t)}function gw(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Wp(e)):(n.next=i.next,i.next=n),e.interleaved=n,hi(t,r)}function hi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ai=!1;function Gp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function oi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Gi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(ct&2)!==0){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,hi(t,n)}return i=r.interleaved,i===null?(e.next=e,Wp(r)):(e.next=i.next,i.next=e),r.interleaved=e,hi(t,n)}function yu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Mp(t,n)}}function Iv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=l:a=a.next=l,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Xu(t,e,n,r){var i=t.updateQueue;Ai=!1;var a=i.firstBaseUpdate,l=i.lastBaseUpdate,h=i.shared.pending;if(h!==null){i.shared.pending=null;var _=h,g=_.next;_.next=null,l===null?a=g:l.next=g,l=_;var k=t.alternate;k!==null&&(k=k.updateQueue,h=k.lastBaseUpdate,h!==l&&(h===null?k.firstBaseUpdate=g:h.next=g,k.lastBaseUpdate=_))}if(a!==null){var C=i.baseState;l=0,k=g=_=null,h=a;do{var T=h.lane,L=h.eventTime;if((r&T)===T){k!==null&&(k=k.next={eventTime:L,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});e:{var F=t,D=h;switch(T=e,L=n,D.tag){case 1:if(F=D.payload,typeof F=="function"){C=F.call(L,C,T);break e}C=F;break e;case 3:F.flags=F.flags&-65537|128;case 0:if(F=D.payload,T=typeof F=="function"?F.call(L,C,T):F,T==null)break e;C=It({},C,T);break e;case 2:Ai=!0}}h.callback!==null&&h.lane!==0&&(t.flags|=64,T=i.effects,T===null?i.effects=[h]:T.push(h))}else L={eventTime:L,lane:T,tag:h.tag,payload:h.payload,callback:h.callback,next:null},k===null?(g=k=L,_=C):k=k.next=L,l|=T;if(h=h.next,h===null){if(h=i.shared.pending,h===null)break;T=h,h=T.next,T.next=null,i.lastBaseUpdate=T,i.shared.pending=null}}while(1);if(k===null&&(_=C),i.baseState=_,i.firstBaseUpdate=g,i.lastBaseUpdate=k,e=i.shared.interleaved,e!==null){i=e;do l|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Ua|=l,t.lanes=l,t.memoizedState=C}}function Mv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ve(191,i));i.call(r)}}}var yw=new gb.Component().refs;function y_(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:It({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var zd={isMounted:function(t){return(t=t._reactInternals)?es(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=$n(),i=Yi(t),a=oi(r,i);a.payload=e,n!=null&&(a.callback=n),e=Gi(t,a,i),e!==null&&(Ar(e,t,i,r),yu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=$n(),i=Yi(t),a=oi(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=Gi(t,a,i),e!==null&&(Ar(e,t,i,r),yu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=$n(),r=Yi(t),i=oi(n,r);i.tag=2,e!=null&&(i.callback=e),e=Gi(t,i,r),e!==null&&(Ar(e,t,r,n),yu(e,t,r))}};function Ov(t,e,n,r,i,a,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,l):e.prototype&&e.prototype.isPureReactComponent?!vl(n,r)||!vl(i,a):!0}function bw(t,e,n){var r=!1,i=ia,a=e.contextType;return typeof a=="object"&&a!==null?a=vr(a):(i=Kn(e)?Fa:Sn.current,r=e.contextTypes,a=(r=r!=null)?Rs(t,i):ia),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=zd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function Lv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&zd.enqueueReplaceState(e,e.state,null)}function b_(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=yw,Gp(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=vr(a):(a=Kn(e)?Fa:Sn.current,i.context=Rs(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(y_(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&zd.enqueueReplaceState(i,i.state,null),Xu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ko(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ve(309));var r=n.stateNode}if(!r)throw Error(ve(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(l){var h=i.refs;h===yw&&(h=i.refs={}),l===null?delete h[a]:h[a]=l},e._stringRef=a,e)}if(typeof t!="string")throw Error(ve(284));if(!n._owner)throw Error(ve(290,t))}return t}function Kc(t,e){throw t=Object.prototype.toString.call(e),Error(ve(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Pv(t){var e=t._init;return e(t._payload)}function ww(t){function e(A,M){if(t){var $=A.deletions;$===null?(A.deletions=[M],A.flags|=16):$.push(M)}}function n(A,M){if(!t)return null;for(;M!==null;)e(A,M),M=M.sibling;return null}function r(A,M){for(A=new Map;M!==null;)M.key!==null?A.set(M.key,M):A.set(M.index,M),M=M.sibling;return A}function i(A,M){return A=Ji(A,M),A.index=0,A.sibling=null,A}function a(A,M,$){return A.index=$,t?($=A.alternate,$!==null?($=$.index,$<M?(A.flags|=2,M):$):(A.flags|=2,M)):(A.flags|=1048576,M)}function l(A){return t&&A.alternate===null&&(A.flags|=2),A}function h(A,M,$,U){return M===null||M.tag!==6?(M=cf($,A.mode,U),M.return=A,M):(M=i(M,$),M.return=A,M)}function _(A,M,$,U){var z=$.type;return z===ds?k(A,M,$.props.children,U,$.key):M!==null&&(M.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===Di&&Pv(z)===M.type)?(U=i(M,$.props),U.ref=ko(A,M,$),U.return=A,U):(U=Su($.type,$.key,$.props,null,A.mode,U),U.ref=ko(A,M,$),U.return=A,U)}function g(A,M,$,U){return M===null||M.tag!==4||M.stateNode.containerInfo!==$.containerInfo||M.stateNode.implementation!==$.implementation?(M=uf($,A.mode,U),M.return=A,M):(M=i(M,$.children||[]),M.return=A,M)}function k(A,M,$,U,z){return M===null||M.tag!==7?(M=Oa($,A.mode,U,z),M.return=A,M):(M=i(M,$),M.return=A,M)}function C(A,M,$){if(typeof M=="string"&&M!==""||typeof M=="number")return M=cf(""+M,A.mode,$),M.return=A,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Rc:return $=Su(M.type,M.key,M.props,null,A.mode,$),$.ref=ko(A,null,M),$.return=A,$;case us:return M=uf(M,A.mode,$),M.return=A,M;case Di:var U=M._init;return C(A,U(M._payload),$)}if(Po(M)||yo(M))return M=Oa(M,A.mode,$,null),M.return=A,M;Kc(A,M)}return null}function T(A,M,$,U){var z=M!==null?M.key:null;if(typeof $=="string"&&$!==""||typeof $=="number")return z!==null?null:h(A,M,""+$,U);if(typeof $=="object"&&$!==null){switch($.$$typeof){case Rc:return $.key===z?_(A,M,$,U):null;case us:return $.key===z?g(A,M,$,U):null;case Di:return z=$._init,T(A,M,z($._payload),U)}if(Po($)||yo($))return z!==null?null:k(A,M,$,U,null);Kc(A,$)}return null}function L(A,M,$,U,z){if(typeof U=="string"&&U!==""||typeof U=="number")return A=A.get($)||null,h(M,A,""+U,z);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case Rc:return A=A.get(U.key===null?$:U.key)||null,_(M,A,U,z);case us:return A=A.get(U.key===null?$:U.key)||null,g(M,A,U,z);case Di:var G=U._init;return L(A,M,$,G(U._payload),z)}if(Po(U)||yo(U))return A=A.get($)||null,k(M,A,U,z,null);Kc(M,U)}return null}function F(A,M,$,U){for(var z=null,G=null,V=M,B=M=0,Y=null;V!==null&&B<$.length;B++){V.index>B?(Y=V,V=null):Y=V.sibling;var J=T(A,V,$[B],U);if(J===null){V===null&&(V=Y);break}t&&V&&J.alternate===null&&e(A,V),M=a(J,M,B),G===null?z=J:G.sibling=J,G=J,V=Y}if(B===$.length)return n(A,V),St&&ba(A,B),z;if(V===null){for(;B<$.length;B++)V=C(A,$[B],U),V!==null&&(M=a(V,M,B),G===null?z=V:G.sibling=V,G=V);return St&&ba(A,B),z}for(V=r(A,V);B<$.length;B++)Y=L(V,A,B,$[B],U),Y!==null&&(t&&Y.alternate!==null&&V.delete(Y.key===null?B:Y.key),M=a(Y,M,B),G===null?z=Y:G.sibling=Y,G=Y);return t&&V.forEach(function(X){return e(A,X)}),St&&ba(A,B),z}function D(A,M,$,U){var z=yo($);if(typeof z!="function")throw Error(ve(150));if($=z.call($),$==null)throw Error(ve(151));for(var G=z=null,V=M,B=M=0,Y=null,J=$.next();V!==null&&!J.done;B++,J=$.next()){V.index>B?(Y=V,V=null):Y=V.sibling;var X=T(A,V,J.value,U);if(X===null){V===null&&(V=Y);break}t&&V&&X.alternate===null&&e(A,V),M=a(X,M,B),G===null?z=X:G.sibling=X,G=X,V=Y}if(J.done)return n(A,V),St&&ba(A,B),z;if(V===null){for(;!J.done;B++,J=$.next())J=C(A,J.value,U),J!==null&&(M=a(J,M,B),G===null?z=J:G.sibling=J,G=J);return St&&ba(A,B),z}for(V=r(A,V);!J.done;B++,J=$.next())J=L(V,A,B,J.value,U),J!==null&&(t&&J.alternate!==null&&V.delete(J.key===null?B:J.key),M=a(J,M,B),G===null?z=J:G.sibling=J,G=J);return t&&V.forEach(function(q){return e(A,q)}),St&&ba(A,B),z}function P(A,M,$,U){if(typeof $=="object"&&$!==null&&$.type===ds&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case Rc:e:{for(var z=$.key,G=M;G!==null;){if(G.key===z){if(z=$.type,z===ds){if(G.tag===7){n(A,G.sibling),M=i(G,$.props.children),M.return=A,A=M;break e}}else if(G.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===Di&&Pv(z)===G.type){n(A,G.sibling),M=i(G,$.props),M.ref=ko(A,G,$),M.return=A,A=M;break e}n(A,G);break}else e(A,G);G=G.sibling}$.type===ds?(M=Oa($.props.children,A.mode,U,$.key),M.return=A,A=M):(U=Su($.type,$.key,$.props,null,A.mode,U),U.ref=ko(A,M,$),U.return=A,A=U)}return l(A);case us:e:{for(G=$.key;M!==null;){if(M.key===G)if(M.tag===4&&M.stateNode.containerInfo===$.containerInfo&&M.stateNode.implementation===$.implementation){n(A,M.sibling),M=i(M,$.children||[]),M.return=A,A=M;break e}else{n(A,M);break}else e(A,M);M=M.sibling}M=uf($,A.mode,U),M.return=A,A=M}return l(A);case Di:return G=$._init,P(A,M,G($._payload),U)}if(Po($))return F(A,M,$,U);if(yo($))return D(A,M,$,U);Kc(A,$)}return typeof $=="string"&&$!==""||typeof $=="number"?($=""+$,M!==null&&M.tag===6?(n(A,M.sibling),M=i(M,$),M.return=A,A=M):(n(A,M),M=cf($,A.mode,U),M.return=A,A=M),l(A)):n(A,M)}return P}var js=ww(!0),xw=ww(!1),Zl={},Br=ua(Zl),xl=ua(Zl),El=ua(Zl);function Ta(t){if(t===Zl)throw Error(ve(174));return t}function Kp(t,e){switch(gt(El,e),gt(xl,t),gt(Br,Zl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Xf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Xf(e,t)}kt(Br),gt(Br,e)}function zs(){kt(Br),kt(xl),kt(El)}function Ew(t){Ta(El.current);var e=Ta(Br.current),n=Xf(e,t.type);e!==n&&(gt(xl,t),gt(Br,n))}function Yp(t){xl.current===t&&(kt(Br),kt(xl))}var Dt=ua(0);function Zu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var nf=[];function Jp(){for(var t=0;t<nf.length;t++)nf[t]._workInProgressVersionPrimary=null;nf.length=0}var bu=wi.ReactCurrentDispatcher,rf=wi.ReactCurrentBatchConfig,za=0,At=null,Ht=null,Xt=null,ed=!1,Jo=!1,kl=0,BC=0;function yn(){throw Error(ve(321))}function Qp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Mr(t[n],e[n]))return!1;return!0}function Xp(t,e,n,r,i,a){if(za=a,At=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,bu.current=t===null||t.memoizedState===null?KC:YC,t=n(r,i),Jo){a=0;do{if(Jo=!1,kl=0,25<=a)throw Error(ve(301));a+=1,Xt=Ht=null,e.updateQueue=null,bu.current=JC,t=n(r,i)}while(Jo)}if(bu.current=td,e=Ht!==null&&Ht.next!==null,za=0,Xt=Ht=At=null,ed=!1,e)throw Error(ve(300));return t}function Zp(){var t=kl!==0;return kl=0,t}function jr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xt===null?At.memoizedState=Xt=t:Xt=Xt.next=t,Xt}function yr(){if(Ht===null){var t=At.alternate;t=t!==null?t.memoizedState:null}else t=Ht.next;var e=Xt===null?At.memoizedState:Xt.next;if(e!==null)Xt=e,Ht=t;else{if(t===null)throw Error(ve(310));Ht=t,t={memoizedState:Ht.memoizedState,baseState:Ht.baseState,baseQueue:Ht.baseQueue,queue:Ht.queue,next:null},Xt===null?At.memoizedState=Xt=t:Xt=Xt.next=t}return Xt}function Sl(t,e){return typeof e=="function"?e(t):e}function af(t){var e=yr(),n=e.queue;if(n===null)throw Error(ve(311));n.lastRenderedReducer=t;var r=Ht,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var l=i.next;i.next=a.next,a.next=l}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var h=l=null,_=null,g=a;do{var k=g.lane;if((za&k)===k)_!==null&&(_=_.next={lane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),r=g.hasEagerState?g.eagerState:t(r,g.action);else{var C={lane:k,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};_===null?(h=_=C,l=r):_=_.next=C,At.lanes|=k,Ua|=k}g=g.next}while(g!==null&&g!==a);_===null?l=r:_.next=h,Mr(r,e.memoizedState)||(Wn=!0),e.memoizedState=r,e.baseState=l,e.baseQueue=_,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,At.lanes|=a,Ua|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function sf(t){var e=yr(),n=e.queue;if(n===null)throw Error(ve(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var l=i=i.next;do a=t(a,l.action),l=l.next;while(l!==i);Mr(a,e.memoizedState)||(Wn=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function kw(){}function Sw(t,e){var n=At,r=yr(),i=e(),a=!Mr(r.memoizedState,i);if(a&&(r.memoizedState=i,Wn=!0),r=r.queue,em(Nw.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||Xt!==null&&Xt.memoizedState.tag&1){if(n.flags|=2048,Tl(9,Cw.bind(null,n,r,i,e),void 0,null),tn===null)throw Error(ve(349));(za&30)!==0||Tw(n,e,i)}return i}function Tw(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=At.updateQueue,e===null?(e={lastEffect:null,stores:null},At.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Cw(t,e,n,r){e.value=n,e.getSnapshot=r,Dw(e)&&Aw(t)}function Nw(t,e,n){return n(function(){Dw(e)&&Aw(t)})}function Dw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Mr(t,n)}catch{return!0}}function Aw(t){var e=hi(t,1);e!==null&&Ar(e,t,1,-1)}function $v(t){var e=jr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sl,lastRenderedState:t},e.queue=t,t=t.dispatch=GC.bind(null,At,t),[e.memoizedState,t]}function Tl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=At.updateQueue,e===null?(e={lastEffect:null,stores:null},At.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Iw(){return yr().memoizedState}function wu(t,e,n,r){var i=jr();At.flags|=t,i.memoizedState=Tl(1|e,n,void 0,r===void 0?null:r)}function Ud(t,e,n,r){var i=yr();r=r===void 0?null:r;var a=void 0;if(Ht!==null){var l=Ht.memoizedState;if(a=l.destroy,r!==null&&Qp(r,l.deps)){i.memoizedState=Tl(e,n,a,r);return}}At.flags|=t,i.memoizedState=Tl(1|e,n,a,r)}function Rv(t,e){return wu(8390656,8,t,e)}function em(t,e){return Ud(2048,8,t,e)}function Mw(t,e){return Ud(4,2,t,e)}function Ow(t,e){return Ud(4,4,t,e)}function Lw(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Pw(t,e,n){return n=n!=null?n.concat([t]):null,Ud(4,4,Lw.bind(null,e,t),n)}function tm(){}function $w(t,e){var n=yr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Qp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Rw(t,e){var n=yr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Qp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Fw(t,e,n){return(za&21)===0?(t.baseState&&(t.baseState=!1,Wn=!0),t.memoizedState=n):(Mr(n,e)||(n=Ub(),At.lanes|=n,Ua|=n,t.baseState=!0),e)}function qC(t,e){var n=_t;_t=n!==0&&4>n?n:4,t(!0);var r=rf.transition;rf.transition={};try{t(!1),e()}finally{_t=n,rf.transition=r}}function jw(){return yr().memoizedState}function WC(t,e,n){var r=Yi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},zw(t))Uw(e,n);else if(n=gw(t,e,n,r),n!==null){var i=$n();Ar(n,t,r,i),Vw(n,e,r)}}function GC(t,e,n){var r=Yi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(zw(t))Uw(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var l=e.lastRenderedState,h=a(l,n);if(i.hasEagerState=!0,i.eagerState=h,Mr(h,l)){var _=e.interleaved;_===null?(i.next=i,Wp(e)):(i.next=_.next,_.next=i),e.interleaved=i;return}}catch{}finally{}n=gw(t,e,i,r),n!==null&&(i=$n(),Ar(n,t,r,i),Vw(n,e,r))}}function zw(t){var e=t.alternate;return t===At||e!==null&&e===At}function Uw(t,e){Jo=ed=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Vw(t,e,n){if((n&4194240)!==0){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Mp(t,n)}}var td={readContext:vr,useCallback:yn,useContext:yn,useEffect:yn,useImperativeHandle:yn,useInsertionEffect:yn,useLayoutEffect:yn,useMemo:yn,useReducer:yn,useRef:yn,useState:yn,useDebugValue:yn,useDeferredValue:yn,useTransition:yn,useMutableSource:yn,useSyncExternalStore:yn,useId:yn,unstable_isNewReconciler:!1},KC={readContext:vr,useCallback:function(t,e){return jr().memoizedState=[t,e===void 0?null:e],t},useContext:vr,useEffect:Rv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,wu(4194308,4,Lw.bind(null,e,t),n)},useLayoutEffect:function(t,e){return wu(4194308,4,t,e)},useInsertionEffect:function(t,e){return wu(4,2,t,e)},useMemo:function(t,e){var n=jr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=jr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=WC.bind(null,At,t),[r.memoizedState,t]},useRef:function(t){var e=jr();return t={current:t},e.memoizedState=t},useState:$v,useDebugValue:tm,useDeferredValue:function(t){return jr().memoizedState=t},useTransition:function(){var t=$v(!1),e=t[0];return t=qC.bind(null,t[1]),jr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=At,i=jr();if(St){if(n===void 0)throw Error(ve(407));n=n()}else{if(n=e(),tn===null)throw Error(ve(349));(za&30)!==0||Tw(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,Rv(Nw.bind(null,r,a,t),[t]),r.flags|=2048,Tl(9,Cw.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=jr(),e=tn.identifierPrefix;if(St){var n=ni,r=ti;n=(r&~(1<<32-Dr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=kl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=BC++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},YC={readContext:vr,useCallback:$w,useContext:vr,useEffect:em,useImperativeHandle:Pw,useInsertionEffect:Mw,useLayoutEffect:Ow,useMemo:Rw,useReducer:af,useRef:Iw,useState:function(){return af(Sl)},useDebugValue:tm,useDeferredValue:function(t){var e=yr();return Fw(e,Ht.memoizedState,t)},useTransition:function(){var t=af(Sl)[0],e=yr().memoizedState;return[t,e]},useMutableSource:kw,useSyncExternalStore:Sw,useId:jw,unstable_isNewReconciler:!1},JC={readContext:vr,useCallback:$w,useContext:vr,useEffect:em,useImperativeHandle:Pw,useInsertionEffect:Mw,useLayoutEffect:Ow,useMemo:Rw,useReducer:sf,useRef:Iw,useState:function(){return sf(Sl)},useDebugValue:tm,useDeferredValue:function(t){var e=yr();return Ht===null?e.memoizedState=t:Fw(e,Ht.memoizedState,t)},useTransition:function(){var t=sf(Sl)[0],e=yr().memoizedState;return[t,e]},useMutableSource:kw,useSyncExternalStore:Sw,useId:jw,unstable_isNewReconciler:!1};function Us(t,e){try{var n="",r=e;do n+=kT(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function of(t,e,n){return{value:t,source:null,stack:n!=null?n:null,digest:e!=null?e:null}}function w_(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var QC=typeof WeakMap=="function"?WeakMap:Map;function Hw(t,e,n){n=oi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){rd||(rd=!0,I_=r),w_(t,e)},n}function Bw(t,e,n){n=oi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){w_(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){w_(t,e),typeof r!="function"&&(Ki===null?Ki=new Set([this]):Ki.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function Fv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new QC;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=dN.bind(null,t,e,n),e.then(t,t))}function jv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function zv(t,e,n,r,i){return(t.mode&1)===0?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=oi(-1,1),e.tag=2,Gi(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=i,t)}var XC=wi.ReactCurrentOwner,Wn=!1;function Cn(t,e,n,r){e.child=t===null?xw(e,null,n,r):js(e,t.child,n,r)}function Uv(t,e,n,r,i){n=n.render;var a=e.ref;return Ds(e,i),r=Xp(t,e,n,r,a,i),n=Zp(),t!==null&&!Wn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,fi(t,e,i)):(St&&n&&zp(e),e.flags|=1,Cn(t,e,r,i),e.child)}function Vv(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!cm(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,qw(t,e,a,r,i)):(t=Su(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,(t.lanes&i)===0){var l=a.memoizedProps;if(n=n.compare,n=n!==null?n:vl,n(l,r)&&t.ref===e.ref)return fi(t,e,i)}return e.flags|=1,t=Ji(a,r),t.ref=e.ref,t.return=e,e.child=t}function qw(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(vl(a,r)&&t.ref===e.ref)if(Wn=!1,e.pendingProps=r=a,(t.lanes&i)!==0)(t.flags&131072)!==0&&(Wn=!0);else return e.lanes=t.lanes,fi(t,e,i)}return x_(t,e,n,r,i)}function Ww(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},gt(ws,Qn),Qn|=n;else{if((n&1073741824)===0)return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,gt(ws,Qn),Qn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,gt(ws,Qn),Qn|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,gt(ws,Qn),Qn|=r;return Cn(t,e,i,n),e.child}function Gw(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function x_(t,e,n,r,i){var a=Kn(n)?Fa:Sn.current;return a=Rs(e,a),Ds(e,i),n=Xp(t,e,n,r,a,i),r=Zp(),t!==null&&!Wn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,fi(t,e,i)):(St&&r&&zp(e),e.flags|=1,Cn(t,e,n,i),e.child)}function Hv(t,e,n,r,i){if(Kn(n)){var a=!0;Gu(e)}else a=!1;if(Ds(e,i),e.stateNode===null)xu(t,e),bw(e,n,r),b_(e,n,r,i),r=!0;else if(t===null){var l=e.stateNode,h=e.memoizedProps;l.props=h;var _=l.context,g=n.contextType;typeof g=="object"&&g!==null?g=vr(g):(g=Kn(n)?Fa:Sn.current,g=Rs(e,g));var k=n.getDerivedStateFromProps,C=typeof k=="function"||typeof l.getSnapshotBeforeUpdate=="function";C||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(h!==r||_!==g)&&Lv(e,l,r,g),Ai=!1;var T=e.memoizedState;l.state=T,Xu(e,r,l,i),_=e.memoizedState,h!==r||T!==_||Gn.current||Ai?(typeof k=="function"&&(y_(e,n,k,r),_=e.memoizedState),(h=Ai||Ov(e,n,h,r,T,_,g))?(C||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=_),l.props=r,l.state=_,l.context=g,r=h):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{l=e.stateNode,vw(t,e),h=e.memoizedProps,g=e.type===e.elementType?h:Sr(e.type,h),l.props=g,C=e.pendingProps,T=l.context,_=n.contextType,typeof _=="object"&&_!==null?_=vr(_):(_=Kn(n)?Fa:Sn.current,_=Rs(e,_));var L=n.getDerivedStateFromProps;(k=typeof L=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(h!==C||T!==_)&&Lv(e,l,r,_),Ai=!1,T=e.memoizedState,l.state=T,Xu(e,r,l,i);var F=e.memoizedState;h!==C||T!==F||Gn.current||Ai?(typeof L=="function"&&(y_(e,n,L,r),F=e.memoizedState),(g=Ai||Ov(e,n,g,r,T,F,_)||!1)?(k||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,F,_),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,F,_)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||h===t.memoizedProps&&T===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||h===t.memoizedProps&&T===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=F),l.props=r,l.state=F,l.context=_,r=g):(typeof l.componentDidUpdate!="function"||h===t.memoizedProps&&T===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||h===t.memoizedProps&&T===t.memoizedState||(e.flags|=1024),r=!1)}return E_(t,e,n,r,a,i)}function E_(t,e,n,r,i,a){Gw(t,e);var l=(e.flags&128)!==0;if(!r&&!l)return i&&Nv(e,n,!1),fi(t,e,a);r=e.stateNode,XC.current=e;var h=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&l?(e.child=js(e,t.child,null,a),e.child=js(e,null,h,a)):Cn(t,e,h,a),e.memoizedState=r.state,i&&Nv(e,n,!0),e.child}function Kw(t){var e=t.stateNode;e.pendingContext?Cv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Cv(t,e.context,!1),Kp(t,e.containerInfo)}function Bv(t,e,n,r,i){return Fs(),Vp(i),e.flags|=256,Cn(t,e,n,r),e.child}var k_={dehydrated:null,treeContext:null,retryLane:0};function S_(t){return{baseLanes:t,cachePool:null,transitions:null}}function Yw(t,e,n){var r=e.pendingProps,i=Dt.current,a=!1,l=(e.flags&128)!==0,h;if((h=l)||(h=t!==null&&t.memoizedState===null?!1:(i&2)!==0),h?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),gt(Dt,i&1),t===null)return g_(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((e.mode&1)===0?e.lanes=1:t.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(l=r.children,t=r.fallback,a?(r=e.mode,a=e.child,l={mode:"hidden",children:l},(r&1)===0&&a!==null?(a.childLanes=0,a.pendingProps=l):a=Bd(l,r,0,null),t=Oa(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=S_(n),e.memoizedState=k_,t):nm(e,l));if(i=t.memoizedState,i!==null&&(h=i.dehydrated,h!==null))return ZC(t,e,l,r,h,i,n);if(a){a=r.fallback,l=e.mode,i=t.child,h=i.sibling;var _={mode:"hidden",children:r.children};return(l&1)===0&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=_,e.deletions=null):(r=Ji(i,_),r.subtreeFlags=i.subtreeFlags&14680064),h!==null?a=Ji(h,a):(a=Oa(a,l,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,l=t.child.memoizedState,l=l===null?S_(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=t.childLanes&~n,e.memoizedState=k_,r}return a=t.child,t=a.sibling,r=Ji(a,{mode:"visible",children:r.children}),(e.mode&1)===0&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function nm(t,e){return e=Bd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Yc(t,e,n,r){return r!==null&&Vp(r),js(e,t.child,null,n),t=nm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ZC(t,e,n,r,i,a,l){if(n)return e.flags&256?(e.flags&=-257,r=of(Error(ve(422))),Yc(t,e,l,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=Bd({mode:"visible",children:r.children},i,0,null),a=Oa(a,i,l,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,(e.mode&1)!==0&&js(e,t.child,null,l),e.child.memoizedState=S_(l),e.memoizedState=k_,a);if((e.mode&1)===0)return Yc(t,e,l,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var h=r.dgst;return r=h,a=Error(ve(419)),r=of(a,r,void 0),Yc(t,e,l,r)}if(h=(l&t.childLanes)!==0,Wn||h){if(r=tn,r!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=(i&(r.suspendedLanes|l))!==0?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,hi(t,i),Ar(r,t,i,-1))}return lm(),r=of(Error(ve(421))),Yc(t,e,l,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=hN.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,Zn=Wi(i.nextSibling),er=e,St=!0,Cr=null,t!==null&&(ur[dr++]=ti,ur[dr++]=ni,ur[dr++]=ja,ti=t.id,ni=t.overflow,ja=e),e=nm(e,r.children),e.flags|=4096,e)}function qv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),v_(t.return,e,n)}function lf(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Jw(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(Cn(t,e,r.children,n),r=Dt.current,(r&2)!==0)r=r&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&qv(t,n,e);else if(t.tag===19)qv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(gt(Dt,r),(e.mode&1)===0)e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Zu(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),lf(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Zu(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}lf(e,!0,n,null,a);break;case"together":lf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function xu(t,e){(e.mode&1)===0&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function fi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ua|=e.lanes,(n&e.childLanes)===0)return null;if(t!==null&&e.child!==t.child)throw Error(ve(153));if(e.child!==null){for(t=e.child,n=Ji(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ji(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function eN(t,e,n){switch(e.tag){case 3:Kw(e),Fs();break;case 5:Ew(e);break;case 1:Kn(e.type)&&Gu(e);break;case 4:Kp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;gt(Ju,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(gt(Dt,Dt.current&1),e.flags|=128,null):(n&e.child.childLanes)!==0?Yw(t,e,n):(gt(Dt,Dt.current&1),t=fi(t,e,n),t!==null?t.sibling:null);gt(Dt,Dt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,(t.flags&128)!==0){if(r)return Jw(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),gt(Dt,Dt.current),r)break;return null;case 22:case 23:return e.lanes=0,Ww(t,e,n)}return fi(t,e,n)}var Qw,T_,Xw,Zw;Qw=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};T_=function(){};Xw=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ta(Br.current);var a=null;switch(n){case"input":i=Kf(t,i),r=Kf(t,r),a=[];break;case"select":i=It({},i,{value:void 0}),r=It({},r,{value:void 0}),a=[];break;case"textarea":i=Qf(t,i),r=Qf(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=qu)}Zf(n,r);var l;n=null;for(g in i)if(!r.hasOwnProperty(g)&&i.hasOwnProperty(g)&&i[g]!=null)if(g==="style"){var h=i[g];for(l in h)h.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(dl.hasOwnProperty(g)?a||(a=[]):(a=a||[]).push(g,null));for(g in r){var _=r[g];if(h=i!=null?i[g]:void 0,r.hasOwnProperty(g)&&_!==h&&(_!=null||h!=null))if(g==="style")if(h){for(l in h)!h.hasOwnProperty(l)||_&&_.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in _)_.hasOwnProperty(l)&&h[l]!==_[l]&&(n||(n={}),n[l]=_[l])}else n||(a||(a=[]),a.push(g,n)),n=_;else g==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,h=h?h.__html:void 0,_!=null&&h!==_&&(a=a||[]).push(g,_)):g==="children"?typeof _!="string"&&typeof _!="number"||(a=a||[]).push(g,""+_):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(dl.hasOwnProperty(g)?(_!=null&&g==="onScroll"&&wt("scroll",t),a||h===_||(a=[])):(a=a||[]).push(g,_))}n&&(a=a||[]).push("style",n);var g=a;(e.updateQueue=g)&&(e.flags|=4)}};Zw=function(t,e,n,r){n!==r&&(e.flags|=4)};function So(t,e){if(!St)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function bn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function tN(t,e,n){var r=e.pendingProps;switch(Up(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bn(e),null;case 1:return Kn(e.type)&&Wu(),bn(e),null;case 3:return r=e.stateNode,zs(),kt(Gn),kt(Sn),Jp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Gc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,Cr!==null&&(L_(Cr),Cr=null))),T_(t,e),bn(e),null;case 5:Yp(e);var i=Ta(El.current);if(n=e.type,t!==null&&e.stateNode!=null)Xw(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ve(166));return bn(e),null}if(t=Ta(Br.current),Gc(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[Ur]=e,r[wl]=a,t=(e.mode&1)!==0,n){case"dialog":wt("cancel",r),wt("close",r);break;case"iframe":case"object":case"embed":wt("load",r);break;case"video":case"audio":for(i=0;i<Ro.length;i++)wt(Ro[i],r);break;case"source":wt("error",r);break;case"img":case"image":case"link":wt("error",r),wt("load",r);break;case"details":wt("toggle",r);break;case"input":ev(r,a),wt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},wt("invalid",r);break;case"textarea":nv(r,a),wt("invalid",r)}Zf(n,a),i=null;for(var l in a)if(a.hasOwnProperty(l)){var h=a[l];l==="children"?typeof h=="string"?r.textContent!==h&&(a.suppressHydrationWarning!==!0&&Wc(r.textContent,h,t),i=["children",h]):typeof h=="number"&&r.textContent!==""+h&&(a.suppressHydrationWarning!==!0&&Wc(r.textContent,h,t),i=["children",""+h]):dl.hasOwnProperty(l)&&h!=null&&l==="onScroll"&&wt("scroll",r)}switch(n){case"input":Fc(r),tv(r,a,!0);break;case"textarea":Fc(r),rv(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=qu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Tb(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=l.createElement(n,{is:r.is}):(t=l.createElement(n),n==="select"&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,n),t[Ur]=e,t[wl]=r,Qw(t,e,!1,!1),e.stateNode=t;e:{switch(l=e_(n,r),n){case"dialog":wt("cancel",t),wt("close",t),i=r;break;case"iframe":case"object":case"embed":wt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ro.length;i++)wt(Ro[i],t);i=r;break;case"source":wt("error",t),i=r;break;case"img":case"image":case"link":wt("error",t),wt("load",t),i=r;break;case"details":wt("toggle",t),i=r;break;case"input":ev(t,r),i=Kf(t,r),wt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=It({},r,{value:void 0}),wt("invalid",t);break;case"textarea":nv(t,r),i=Qf(t,r),wt("invalid",t);break;default:i=r}Zf(n,i),h=i;for(a in h)if(h.hasOwnProperty(a)){var _=h[a];a==="style"?Db(t,_):a==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,_!=null&&Cb(t,_)):a==="children"?typeof _=="string"?(n!=="textarea"||_!=="")&&hl(t,_):typeof _=="number"&&hl(t,""+_):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(dl.hasOwnProperty(a)?_!=null&&a==="onScroll"&&wt("scroll",t):_!=null&&Tp(t,a,_,l))}switch(n){case"input":Fc(t),tv(t,r,!1);break;case"textarea":Fc(t),rv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ra(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?Ss(t,!!r.multiple,a,!1):r.defaultValue!=null&&Ss(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=qu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return bn(e),null;case 6:if(t&&e.stateNode!=null)Zw(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ve(166));if(n=Ta(El.current),Ta(Br.current),Gc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ur]=e,(a=r.nodeValue!==n)&&(t=er,t!==null))switch(t.tag){case 3:Wc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Wc(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ur]=e,e.stateNode=r}return bn(e),null;case 13:if(kt(Dt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(St&&Zn!==null&&(e.mode&1)!==0&&(e.flags&128)===0)mw(),Fs(),e.flags|=98560,a=!1;else if(a=Gc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(ve(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ve(317));a[Ur]=e}else Fs(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;bn(e),a=!1}else Cr!==null&&(L_(Cr),Cr=null),a=!0;if(!a)return e.flags&65536?e:null}return(e.flags&128)!==0?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,(e.mode&1)!==0&&(t===null||(Dt.current&1)!==0?Bt===0&&(Bt=3):lm())),e.updateQueue!==null&&(e.flags|=4),bn(e),null);case 4:return zs(),T_(t,e),t===null&&yl(e.stateNode.containerInfo),bn(e),null;case 10:return qp(e.type._context),bn(e),null;case 17:return Kn(e.type)&&Wu(),bn(e),null;case 19:if(kt(Dt),a=e.memoizedState,a===null)return bn(e),null;if(r=(e.flags&128)!==0,l=a.rendering,l===null)if(r)So(a,!1);else{if(Bt!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(l=Zu(t),l!==null){for(e.flags|=128,So(a,!1),r=l.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,l=a.alternate,l===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,t=l.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return gt(Dt,Dt.current&1|2),e.child}t=t.sibling}a.tail!==null&&Pt()>Vs&&(e.flags|=128,r=!0,So(a,!1),e.lanes=4194304)}else{if(!r)if(t=Zu(l),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),So(a,!0),a.tail===null&&a.tailMode==="hidden"&&!l.alternate&&!St)return bn(e),null}else 2*Pt()-a.renderingStartTime>Vs&&n!==1073741824&&(e.flags|=128,r=!0,So(a,!1),e.lanes=4194304);a.isBackwards?(l.sibling=e.child,e.child=l):(n=a.last,n!==null?n.sibling=l:e.child=l,a.last=l)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Pt(),e.sibling=null,n=Dt.current,gt(Dt,r?n&1|2:n&1),e):(bn(e),null);case 22:case 23:return om(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&(e.mode&1)!==0?(Qn&1073741824)!==0&&(bn(e),e.subtreeFlags&6&&(e.flags|=8192)):bn(e),null;case 24:return null;case 25:return null}throw Error(ve(156,e.tag))}function nN(t,e){switch(Up(e),e.tag){case 1:return Kn(e.type)&&Wu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return zs(),kt(Gn),kt(Sn),Jp(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 5:return Yp(e),null;case 13:if(kt(Dt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ve(340));Fs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return kt(Dt),null;case 4:return zs(),null;case 10:return qp(e.type._context),null;case 22:case 23:return om(),null;case 24:return null;default:return null}}var Jc=!1,wn=!1,rN=typeof WeakSet=="function"?WeakSet:Set,Me=null;function bs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Lt(t,e,r)}else n.current=null}function C_(t,e,n){try{n()}catch(r){Lt(t,e,r)}}var Wv=!1;function iN(t,e){if(u_=Vu,t=rw(),jp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var l=0,h=-1,_=-1,g=0,k=0,C=t,T=null;t:for(;;){for(var L;C!==n||i!==0&&C.nodeType!==3||(h=l+i),C!==a||r!==0&&C.nodeType!==3||(_=l+r),C.nodeType===3&&(l+=C.nodeValue.length),(L=C.firstChild)!==null;)T=C,C=L;for(;;){if(C===t)break t;if(T===n&&++g===i&&(h=l),T===a&&++k===r&&(_=l),(L=C.nextSibling)!==null)break;C=T,T=C.parentNode}C=L}n=h===-1||_===-1?null:{start:h,end:_}}else n=null}n=n||{start:0,end:0}}else n=null;for(d_={focusedElem:t,selectionRange:n},Vu=!1,Me=e;Me!==null;)if(e=Me,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Me=t;else for(;Me!==null;){e=Me;try{var F=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(F!==null){var D=F.memoizedProps,P=F.memoizedState,A=e.stateNode,M=A.getSnapshotBeforeUpdate(e.elementType===e.type?D:Sr(e.type,D),P);A.__reactInternalSnapshotBeforeUpdate=M}break;case 3:var $=e.stateNode.containerInfo;$.nodeType===1?$.textContent="":$.nodeType===9&&$.documentElement&&$.removeChild($.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ve(163))}}catch(U){Lt(e,e.return,U)}if(t=e.sibling,t!==null){t.return=e.return,Me=t;break}Me=e.return}return F=Wv,Wv=!1,F}function Qo(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&C_(e,n,a)}i=i.next}while(i!==r)}}function Vd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function N_(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function ex(t){var e=t.alternate;e!==null&&(t.alternate=null,ex(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ur],delete e[wl],delete e[__],delete e[zC],delete e[UC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function tx(t){return t.tag===5||t.tag===3||t.tag===4}function Gv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||tx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function D_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=qu));else if(r!==4&&(t=t.child,t!==null))for(D_(t,e,n),t=t.sibling;t!==null;)D_(t,e,n),t=t.sibling}function A_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(A_(t,e,n),t=t.sibling;t!==null;)A_(t,e,n),t=t.sibling}var on=null,Tr=!1;function Ti(t,e,n){for(n=n.child;n!==null;)nx(t,e,n),n=n.sibling}function nx(t,e,n){if(Hr&&typeof Hr.onCommitFiberUnmount=="function")try{Hr.onCommitFiberUnmount(Ld,n)}catch{}switch(n.tag){case 5:wn||bs(n,e);case 6:var r=on,i=Tr;on=null,Ti(t,e,n),on=r,Tr=i,on!==null&&(Tr?(t=on,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):on.removeChild(n.stateNode));break;case 18:on!==null&&(Tr?(t=on,n=n.stateNode,t.nodeType===8?ef(t.parentNode,n):t.nodeType===1&&ef(t,n),ml(t)):ef(on,n.stateNode));break;case 4:r=on,i=Tr,on=n.stateNode.containerInfo,Tr=!0,Ti(t,e,n),on=r,Tr=i;break;case 0:case 11:case 14:case 15:if(!wn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,l=a.destroy;a=a.tag,l!==void 0&&((a&2)!==0||(a&4)!==0)&&C_(n,e,l),i=i.next}while(i!==r)}Ti(t,e,n);break;case 1:if(!wn&&(bs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(h){Lt(n,e,h)}Ti(t,e,n);break;case 21:Ti(t,e,n);break;case 22:n.mode&1?(wn=(r=wn)||n.memoizedState!==null,Ti(t,e,n),wn=r):Ti(t,e,n);break;default:Ti(t,e,n)}}function Kv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new rN),e.forEach(function(r){var i=fN.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function xr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,l=e,h=l;e:for(;h!==null;){switch(h.tag){case 5:on=h.stateNode,Tr=!1;break e;case 3:on=h.stateNode.containerInfo,Tr=!0;break e;case 4:on=h.stateNode.containerInfo,Tr=!0;break e}h=h.return}if(on===null)throw Error(ve(160));nx(a,l,i),on=null,Tr=!1;var _=i.alternate;_!==null&&(_.return=null),i.return=null}catch(g){Lt(i,e,g)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)rx(e,t),e=e.sibling}function rx(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xr(e,t),Fr(t),r&4){try{Qo(3,t,t.return),Vd(3,t)}catch(D){Lt(t,t.return,D)}try{Qo(5,t,t.return)}catch(D){Lt(t,t.return,D)}}break;case 1:xr(e,t),Fr(t),r&512&&n!==null&&bs(n,n.return);break;case 5:if(xr(e,t),Fr(t),r&512&&n!==null&&bs(n,n.return),t.flags&32){var i=t.stateNode;try{hl(i,"")}catch(D){Lt(t,t.return,D)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,l=n!==null?n.memoizedProps:a,h=t.type,_=t.updateQueue;if(t.updateQueue=null,_!==null)try{h==="input"&&a.type==="radio"&&a.name!=null&&kb(i,a),e_(h,l);var g=e_(h,a);for(l=0;l<_.length;l+=2){var k=_[l],C=_[l+1];k==="style"?Db(i,C):k==="dangerouslySetInnerHTML"?Cb(i,C):k==="children"?hl(i,C):Tp(i,k,C,g)}switch(h){case"input":Yf(i,a);break;case"textarea":Sb(i,a);break;case"select":var T=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var L=a.value;L!=null?Ss(i,!!a.multiple,L,!1):T!==!!a.multiple&&(a.defaultValue!=null?Ss(i,!!a.multiple,a.defaultValue,!0):Ss(i,!!a.multiple,a.multiple?[]:"",!1))}i[wl]=a}catch(D){Lt(t,t.return,D)}}break;case 6:if(xr(e,t),Fr(t),r&4){if(t.stateNode===null)throw Error(ve(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(D){Lt(t,t.return,D)}}break;case 3:if(xr(e,t),Fr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ml(e.containerInfo)}catch(D){Lt(t,t.return,D)}break;case 4:xr(e,t),Fr(t);break;case 13:xr(e,t),Fr(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(am=Pt())),r&4&&Kv(t);break;case 22:if(k=n!==null&&n.memoizedState!==null,t.mode&1?(wn=(g=wn)||k,xr(e,t),wn=g):xr(e,t),Fr(t),r&8192){if(g=t.memoizedState!==null,(t.stateNode.isHidden=g)&&!k&&(t.mode&1)!==0)for(Me=t,k=t.child;k!==null;){for(C=Me=k;Me!==null;){switch(T=Me,L=T.child,T.tag){case 0:case 11:case 14:case 15:Qo(4,T,T.return);break;case 1:bs(T,T.return);var F=T.stateNode;if(typeof F.componentWillUnmount=="function"){r=T,n=T.return;try{e=r,F.props=e.memoizedProps,F.state=e.memoizedState,F.componentWillUnmount()}catch(D){Lt(r,n,D)}}break;case 5:bs(T,T.return);break;case 22:if(T.memoizedState!==null){Jv(C);continue}}L!==null?(L.return=T,Me=L):Jv(C)}k=k.sibling}e:for(k=null,C=t;;){if(C.tag===5){if(k===null){k=C;try{i=C.stateNode,g?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(h=C.stateNode,_=C.memoizedProps.style,l=_!=null&&_.hasOwnProperty("display")?_.display:null,h.style.display=Nb("display",l))}catch(D){Lt(t,t.return,D)}}}else if(C.tag===6){if(k===null)try{C.stateNode.nodeValue=g?"":C.memoizedProps}catch(D){Lt(t,t.return,D)}}else if((C.tag!==22&&C.tag!==23||C.memoizedState===null||C===t)&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===t)break e;for(;C.sibling===null;){if(C.return===null||C.return===t)break e;k===C&&(k=null),C=C.return}k===C&&(k=null),C.sibling.return=C.return,C=C.sibling}}break;case 19:xr(e,t),Fr(t),r&4&&Kv(t);break;case 21:break;default:xr(e,t),Fr(t)}}function Fr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(tx(n)){var r=n;break e}n=n.return}throw Error(ve(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(hl(i,""),r.flags&=-33);var a=Gv(t);A_(t,a,i);break;case 3:case 4:var l=r.stateNode.containerInfo,h=Gv(t);D_(t,h,l);break;default:throw Error(ve(161))}}catch(_){Lt(t,t.return,_)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function aN(t,e,n){Me=t,ix(t)}function ix(t,e,n){for(var r=(t.mode&1)!==0;Me!==null;){var i=Me,a=i.child;if(i.tag===22&&r){var l=i.memoizedState!==null||Jc;if(!l){var h=i.alternate,_=h!==null&&h.memoizedState!==null||wn;h=Jc;var g=wn;if(Jc=l,(wn=_)&&!g)for(Me=i;Me!==null;)l=Me,_=l.child,l.tag===22&&l.memoizedState!==null?Qv(i):_!==null?(_.return=l,Me=_):Qv(i);for(;a!==null;)Me=a,ix(a),a=a.sibling;Me=i,Jc=h,wn=g}Yv(t)}else(i.subtreeFlags&8772)!==0&&a!==null?(a.return=i,Me=a):Yv(t)}}function Yv(t){for(;Me!==null;){var e=Me;if((e.flags&8772)!==0){var n=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:wn||Vd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!wn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Sr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&Mv(e,a,r);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Mv(e,l,n)}break;case 5:var h=e.stateNode;if(n===null&&e.flags&4){n=h;var _=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":_.autoFocus&&n.focus();break;case"img":_.src&&(n.src=_.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var g=e.alternate;if(g!==null){var k=g.memoizedState;if(k!==null){var C=k.dehydrated;C!==null&&ml(C)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ve(163))}wn||e.flags&512&&N_(e)}catch(T){Lt(e,e.return,T)}}if(e===t){Me=null;break}if(n=e.sibling,n!==null){n.return=e.return,Me=n;break}Me=e.return}}function Jv(t){for(;Me!==null;){var e=Me;if(e===t){Me=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Me=n;break}Me=e.return}}function Qv(t){for(;Me!==null;){var e=Me;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Vd(4,e)}catch(_){Lt(e,n,_)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(_){Lt(e,i,_)}}var a=e.return;try{N_(e)}catch(_){Lt(e,a,_)}break;case 5:var l=e.return;try{N_(e)}catch(_){Lt(e,l,_)}}}catch(_){Lt(e,e.return,_)}if(e===t){Me=null;break}var h=e.sibling;if(h!==null){h.return=e.return,Me=h;break}Me=e.return}}var sN=Math.ceil,nd=wi.ReactCurrentDispatcher,rm=wi.ReactCurrentOwner,pr=wi.ReactCurrentBatchConfig,ct=0,tn=null,jt=null,un=0,Qn=0,ws=ua(0),Bt=0,Cl=null,Ua=0,Hd=0,im=0,Xo=null,Bn=null,am=0,Vs=1/0,Xr=null,rd=!1,I_=null,Ki=null,Qc=!1,zi=null,id=0,Zo=0,M_=null,Eu=-1,ku=0;function $n(){return(ct&6)!==0?Pt():Eu!==-1?Eu:Eu=Pt()}function Yi(t){return(t.mode&1)===0?1:(ct&2)!==0&&un!==0?un&-un:HC.transition!==null?(ku===0&&(ku=Ub()),ku):(t=_t,t!==0||(t=window.event,t=t===void 0?16:Kb(t.type)),t)}function Ar(t,e,n,r){if(50<Zo)throw Zo=0,M_=null,Error(ve(185));Jl(t,n,r),((ct&2)===0||t!==tn)&&(t===tn&&((ct&2)===0&&(Hd|=n),Bt===4&&Oi(t,un)),Yn(t,r),n===1&&ct===0&&(e.mode&1)===0&&(Vs=Pt()+500,jd&&da()))}function Yn(t,e){var n=t.callbackNode;HT(t,e);var r=Uu(t,t===tn?un:0);if(r===0)n!==null&&sv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&sv(n),e===1)t.tag===0?VC(Xv.bind(null,t)):fw(Xv.bind(null,t)),FC(function(){(ct&6)===0&&da()}),n=null;else{switch(Vb(r)){case 1:n=Ip;break;case 4:n=jb;break;case 16:n=zu;break;case 536870912:n=zb;break;default:n=zu}n=hx(n,ax.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ax(t,e){if(Eu=-1,ku=0,(ct&6)!==0)throw Error(ve(327));var n=t.callbackNode;if(As()&&t.callbackNode!==n)return null;var r=Uu(t,t===tn?un:0);if(r===0)return null;if((r&30)!==0||(r&t.expiredLanes)!==0||e)e=ad(t,r);else{e=r;var i=ct;ct|=2;var a=ox();(tn!==t||un!==e)&&(Xr=null,Vs=Pt()+500,Ma(t,e));do try{cN();break}catch(h){sx(t,h)}while(1);Bp(),nd.current=a,ct=i,jt!==null?e=0:(tn=null,un=0,e=Bt)}if(e!==0){if(e===2&&(i=a_(t),i!==0&&(r=i,e=O_(t,i))),e===1)throw n=Cl,Ma(t,0),Oi(t,r),Yn(t,Pt()),n;if(e===6)Oi(t,r);else{if(i=t.current.alternate,(r&30)===0&&!oN(i)&&(e=ad(t,r),e===2&&(a=a_(t),a!==0&&(r=a,e=O_(t,a))),e===1))throw n=Cl,Ma(t,0),Oi(t,r),Yn(t,Pt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ve(345));case 2:wa(t,Bn,Xr);break;case 3:if(Oi(t,r),(r&130023424)===r&&(e=am+500-Pt(),10<e)){if(Uu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){$n(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=f_(wa.bind(null,t,Bn,Xr),e);break}wa(t,Bn,Xr);break;case 4:if(Oi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var l=31-Dr(r);a=1<<l,l=e[l],l>i&&(i=l),r&=~a}if(r=i,r=Pt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*sN(r/1960))-r,10<r){t.timeoutHandle=f_(wa.bind(null,t,Bn,Xr),r);break}wa(t,Bn,Xr);break;case 5:wa(t,Bn,Xr);break;default:throw Error(ve(329))}}}return Yn(t,Pt()),t.callbackNode===n?ax.bind(null,t):null}function O_(t,e){var n=Xo;return t.current.memoizedState.isDehydrated&&(Ma(t,e).flags|=256),t=ad(t,e),t!==2&&(e=Bn,Bn=n,e!==null&&L_(e)),t}function L_(t){Bn===null?Bn=t:Bn.push.apply(Bn,t)}function oN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Mr(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Oi(t,e){for(e&=~im,e&=~Hd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Dr(e),r=1<<n;t[n]=-1,e&=~r}}function Xv(t){if((ct&6)!==0)throw Error(ve(327));As();var e=Uu(t,0);if((e&1)===0)return Yn(t,Pt()),null;var n=ad(t,e);if(t.tag!==0&&n===2){var r=a_(t);r!==0&&(e=r,n=O_(t,r))}if(n===1)throw n=Cl,Ma(t,0),Oi(t,e),Yn(t,Pt()),n;if(n===6)throw Error(ve(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,wa(t,Bn,Xr),Yn(t,Pt()),null}function sm(t,e){var n=ct;ct|=1;try{return t(e)}finally{ct=n,ct===0&&(Vs=Pt()+500,jd&&da())}}function Va(t){zi!==null&&zi.tag===0&&(ct&6)===0&&As();var e=ct;ct|=1;var n=pr.transition,r=_t;try{if(pr.transition=null,_t=1,t)return t()}finally{_t=r,pr.transition=n,ct=e,(ct&6)===0&&da()}}function om(){Qn=ws.current,kt(ws)}function Ma(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,RC(n)),jt!==null)for(n=jt.return;n!==null;){var r=n;switch(Up(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Wu();break;case 3:zs(),kt(Gn),kt(Sn),Jp();break;case 5:Yp(r);break;case 4:zs();break;case 13:kt(Dt);break;case 19:kt(Dt);break;case 10:qp(r.type._context);break;case 22:case 23:om()}n=n.return}if(tn=t,jt=t=Ji(t.current,null),un=Qn=e,Bt=0,Cl=null,im=Hd=Ua=0,Bn=Xo=null,Sa!==null){for(e=0;e<Sa.length;e++)if(n=Sa[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var l=a.next;a.next=i,r.next=l}n.pending=r}Sa=null}return t}function sx(t,e){do{var n=jt;try{if(Bp(),bu.current=td,ed){for(var r=At.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ed=!1}if(za=0,Xt=Ht=At=null,Jo=!1,kl=0,rm.current=null,n===null||n.return===null){Bt=1,Cl=e,jt=null;break}e:{var a=t,l=n.return,h=n,_=e;if(e=un,h.flags|=32768,_!==null&&typeof _=="object"&&typeof _.then=="function"){var g=_,k=h,C=k.tag;if((k.mode&1)===0&&(C===0||C===11||C===15)){var T=k.alternate;T?(k.updateQueue=T.updateQueue,k.memoizedState=T.memoizedState,k.lanes=T.lanes):(k.updateQueue=null,k.memoizedState=null)}var L=jv(l);if(L!==null){L.flags&=-257,zv(L,l,h,a,e),L.mode&1&&Fv(a,g,e),e=L,_=g;var F=e.updateQueue;if(F===null){var D=new Set;D.add(_),e.updateQueue=D}else F.add(_);break e}else{if((e&1)===0){Fv(a,g,e),lm();break e}_=Error(ve(426))}}else if(St&&h.mode&1){var P=jv(l);if(P!==null){(P.flags&65536)===0&&(P.flags|=256),zv(P,l,h,a,e),Vp(Us(_,h));break e}}a=_=Us(_,h),Bt!==4&&(Bt=2),Xo===null?Xo=[a]:Xo.push(a),a=l;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var A=Hw(a,_,e);Iv(a,A);break e;case 1:h=_;var M=a.type,$=a.stateNode;if((a.flags&128)===0&&(typeof M.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(Ki===null||!Ki.has($)))){a.flags|=65536,e&=-e,a.lanes|=e;var U=Bw(a,h,e);Iv(a,U);break e}}a=a.return}while(a!==null)}cx(n)}catch(z){e=z,jt===n&&n!==null&&(jt=n=n.return);continue}break}while(1)}function ox(){var t=nd.current;return nd.current=td,t===null?td:t}function lm(){(Bt===0||Bt===3||Bt===2)&&(Bt=4),tn===null||(Ua&268435455)===0&&(Hd&268435455)===0||Oi(tn,un)}function ad(t,e){var n=ct;ct|=2;var r=ox();(tn!==t||un!==e)&&(Xr=null,Ma(t,e));do try{lN();break}catch(i){sx(t,i)}while(1);if(Bp(),ct=n,nd.current=r,jt!==null)throw Error(ve(261));return tn=null,un=0,Bt}function lN(){for(;jt!==null;)lx(jt)}function cN(){for(;jt!==null&&!LT();)lx(jt)}function lx(t){var e=dx(t.alternate,t,Qn);t.memoizedProps=t.pendingProps,e===null?cx(t):jt=e,rm.current=null}function cx(t){var e=t;do{var n=e.alternate;if(t=e.return,(e.flags&32768)===0){if(n=tN(n,e,Qn),n!==null){jt=n;return}}else{if(n=nN(n,e),n!==null){n.flags&=32767,jt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Bt=6,jt=null;return}}if(e=e.sibling,e!==null){jt=e;return}jt=e=t}while(e!==null);Bt===0&&(Bt=5)}function wa(t,e,n){var r=_t,i=pr.transition;try{pr.transition=null,_t=1,uN(t,e,n,r)}finally{pr.transition=i,_t=r}return null}function uN(t,e,n,r){do As();while(zi!==null);if((ct&6)!==0)throw Error(ve(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ve(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(BT(t,a),t===tn&&(jt=tn=null,un=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||Qc||(Qc=!0,hx(zu,function(){return As(),null})),a=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||a){a=pr.transition,pr.transition=null;var l=_t;_t=1;var h=ct;ct|=4,rm.current=null,iN(t,n),rx(n,t),AC(d_),Vu=!!u_,d_=u_=null,t.current=n,aN(n),PT(),ct=h,_t=l,pr.transition=a}else t.current=n;if(Qc&&(Qc=!1,zi=t,id=i),a=t.pendingLanes,a===0&&(Ki=null),FT(n.stateNode),Yn(t,Pt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(rd)throw rd=!1,t=I_,I_=null,t;return(id&1)!==0&&t.tag!==0&&As(),a=t.pendingLanes,(a&1)!==0?t===M_?Zo++:(Zo=0,M_=t):Zo=0,da(),null}function As(){if(zi!==null){var t=Vb(id),e=pr.transition,n=_t;try{if(pr.transition=null,_t=16>t?16:t,zi===null)var r=!1;else{if(t=zi,zi=null,id=0,(ct&6)!==0)throw Error(ve(331));var i=ct;for(ct|=4,Me=t.current;Me!==null;){var a=Me,l=a.child;if((Me.flags&16)!==0){var h=a.deletions;if(h!==null){for(var _=0;_<h.length;_++){var g=h[_];for(Me=g;Me!==null;){var k=Me;switch(k.tag){case 0:case 11:case 15:Qo(8,k,a)}var C=k.child;if(C!==null)C.return=k,Me=C;else for(;Me!==null;){k=Me;var T=k.sibling,L=k.return;if(ex(k),k===g){Me=null;break}if(T!==null){T.return=L,Me=T;break}Me=L}}}var F=a.alternate;if(F!==null){var D=F.child;if(D!==null){F.child=null;do{var P=D.sibling;D.sibling=null,D=P}while(D!==null)}}Me=a}}if((a.subtreeFlags&2064)!==0&&l!==null)l.return=a,Me=l;else e:for(;Me!==null;){if(a=Me,(a.flags&2048)!==0)switch(a.tag){case 0:case 11:case 15:Qo(9,a,a.return)}var A=a.sibling;if(A!==null){A.return=a.return,Me=A;break e}Me=a.return}}var M=t.current;for(Me=M;Me!==null;){l=Me;var $=l.child;if((l.subtreeFlags&2064)!==0&&$!==null)$.return=l,Me=$;else e:for(l=M;Me!==null;){if(h=Me,(h.flags&2048)!==0)try{switch(h.tag){case 0:case 11:case 15:Vd(9,h)}}catch(z){Lt(h,h.return,z)}if(h===l){Me=null;break e}var U=h.sibling;if(U!==null){U.return=h.return,Me=U;break e}Me=h.return}}if(ct=i,da(),Hr&&typeof Hr.onPostCommitFiberRoot=="function")try{Hr.onPostCommitFiberRoot(Ld,t)}catch{}r=!0}return r}finally{_t=n,pr.transition=e}}return!1}function Zv(t,e,n){e=Us(n,e),e=Hw(t,e,1),t=Gi(t,e,1),e=$n(),t!==null&&(Jl(t,1,e),Yn(t,e))}function Lt(t,e,n){if(t.tag===3)Zv(t,t,n);else for(;e!==null;){if(e.tag===3){Zv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ki===null||!Ki.has(r))){t=Us(n,t),t=Bw(e,t,1),e=Gi(e,t,1),t=$n(),e!==null&&(Jl(e,1,t),Yn(e,t));break}}e=e.return}}function dN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=$n(),t.pingedLanes|=t.suspendedLanes&n,tn===t&&(un&n)===n&&(Bt===4||Bt===3&&(un&130023424)===un&&500>Pt()-am?Ma(t,0):im|=n),Yn(t,e)}function ux(t,e){e===0&&((t.mode&1)===0?e=1:(e=Uc,Uc<<=1,(Uc&130023424)===0&&(Uc=4194304)));var n=$n();t=hi(t,e),t!==null&&(Jl(t,e,n),Yn(t,n))}function hN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ux(t,n)}function fN(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ve(314))}r!==null&&r.delete(e),ux(t,n)}var dx;dx=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Gn.current)Wn=!0;else{if((t.lanes&n)===0&&(e.flags&128)===0)return Wn=!1,eN(t,e,n);Wn=(t.flags&131072)!==0}else Wn=!1,St&&(e.flags&1048576)!==0&&_w(e,Yu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;xu(t,e),t=e.pendingProps;var i=Rs(e,Sn.current);Ds(e,n),i=Xp(null,e,r,t,i,n);var a=Zp();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Kn(r)?(a=!0,Gu(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Gp(e),i.updater=zd,e.stateNode=i,i._reactInternals=e,b_(e,r,t,n),e=E_(null,e,r,!0,a,n)):(e.tag=0,St&&a&&zp(e),Cn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(xu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=pN(r),t=Sr(r,t),i){case 0:e=x_(null,e,r,t,n);break e;case 1:e=Hv(null,e,r,t,n);break e;case 11:e=Uv(null,e,r,t,n);break e;case 14:e=Vv(null,e,r,Sr(r.type,t),n);break e}throw Error(ve(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sr(r,i),x_(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sr(r,i),Hv(t,e,r,i,n);case 3:e:{if(Kw(e),t===null)throw Error(ve(387));r=e.pendingProps,a=e.memoizedState,i=a.element,vw(t,e),Xu(e,r,null,n);var l=e.memoizedState;if(r=l.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Us(Error(ve(423)),e),e=Bv(t,e,r,n,i);break e}else if(r!==i){i=Us(Error(ve(424)),e),e=Bv(t,e,r,n,i);break e}else for(Zn=Wi(e.stateNode.containerInfo.firstChild),er=e,St=!0,Cr=null,n=xw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Fs(),r===i){e=fi(t,e,n);break e}Cn(t,e,r,n)}e=e.child}return e;case 5:return Ew(e),t===null&&g_(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,l=i.children,h_(r,i)?l=null:a!==null&&h_(r,a)&&(e.flags|=32),Gw(t,e),Cn(t,e,l,n),e.child;case 6:return t===null&&g_(e),null;case 13:return Yw(t,e,n);case 4:return Kp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=js(e,null,r,n):Cn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sr(r,i),Uv(t,e,r,i,n);case 7:return Cn(t,e,e.pendingProps,n),e.child;case 8:return Cn(t,e,e.pendingProps.children,n),e.child;case 12:return Cn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,l=i.value,gt(Ju,r._currentValue),r._currentValue=l,a!==null)if(Mr(a.value,l)){if(a.children===i.children&&!Gn.current){e=fi(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var h=a.dependencies;if(h!==null){l=a.child;for(var _=h.firstContext;_!==null;){if(_.context===r){if(a.tag===1){_=oi(-1,n&-n),_.tag=2;var g=a.updateQueue;if(g!==null){g=g.shared;var k=g.pending;k===null?_.next=_:(_.next=k.next,k.next=_),g.pending=_}}a.lanes|=n,_=a.alternate,_!==null&&(_.lanes|=n),v_(a.return,n,e),h.lanes|=n;break}_=_.next}}else if(a.tag===10)l=a.type===e.type?null:a.child;else if(a.tag===18){if(l=a.return,l===null)throw Error(ve(341));l.lanes|=n,h=l.alternate,h!==null&&(h.lanes|=n),v_(l,n,e),l=a.sibling}else l=a.child;if(l!==null)l.return=a;else for(l=a;l!==null;){if(l===e){l=null;break}if(a=l.sibling,a!==null){a.return=l.return,l=a;break}l=l.return}a=l}Cn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ds(e,n),i=vr(i),r=r(i),e.flags|=1,Cn(t,e,r,n),e.child;case 14:return r=e.type,i=Sr(r,e.pendingProps),i=Sr(r.type,i),Vv(t,e,r,i,n);case 15:return qw(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sr(r,i),xu(t,e),e.tag=1,Kn(r)?(t=!0,Gu(e)):t=!1,Ds(e,n),bw(e,r,i),b_(e,r,i,n),E_(null,e,r,!0,t,n);case 19:return Jw(t,e,n);case 22:return Ww(t,e,n)}throw Error(ve(156,e.tag))};function hx(t,e){return Fb(t,e)}function _N(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fr(t,e,n,r){return new _N(t,e,n,r)}function cm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function pN(t){if(typeof t=="function")return cm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Np)return 11;if(t===Dp)return 14}return 2}function Ji(t,e){var n=t.alternate;return n===null?(n=fr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Su(t,e,n,r,i,a){var l=2;if(r=t,typeof t=="function")cm(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case ds:return Oa(n.children,i,a,e);case Cp:l=8,i|=8;break;case Bf:return t=fr(12,n,e,i|2),t.elementType=Bf,t.lanes=a,t;case qf:return t=fr(13,n,e,i),t.elementType=qf,t.lanes=a,t;case Wf:return t=fr(19,n,e,i),t.elementType=Wf,t.lanes=a,t;case wb:return Bd(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case yb:l=10;break e;case bb:l=9;break e;case Np:l=11;break e;case Dp:l=14;break e;case Di:l=16,r=null;break e}throw Error(ve(130,t==null?t:typeof t,""))}return e=fr(l,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function Oa(t,e,n,r){return t=fr(7,t,r,e),t.lanes=n,t}function Bd(t,e,n,r){return t=fr(22,t,r,e),t.elementType=wb,t.lanes=n,t.stateNode={isHidden:!1},t}function cf(t,e,n){return t=fr(6,t,null,e),t.lanes=n,t}function uf(t,e,n){return e=fr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function mN(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hh(0),this.expirationTimes=Hh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function um(t,e,n,r,i,a,l,h,_){return t=new mN(t,e,n,h,_),e===1?(e=1,a===!0&&(e|=8)):e=0,a=fr(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gp(a),t}function gN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:us,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function fx(t){if(!t)return ia;t=t._reactInternals;e:{if(es(t)!==t||t.tag!==1)throw Error(ve(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Kn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ve(171))}if(t.tag===1){var n=t.type;if(Kn(n))return hw(t,n,e)}return e}function _x(t,e,n,r,i,a,l,h,_){return t=um(n,r,!0,t,i,a,l,h,_),t.context=fx(null),n=t.current,r=$n(),i=Yi(n),a=oi(r,i),a.callback=e!=null?e:null,Gi(n,a,i),t.current.lanes=i,Jl(t,i,r),Yn(t,r),t}function qd(t,e,n,r){var i=e.current,a=$n(),l=Yi(i);return n=fx(n),e.context===null?e.context=n:e.pendingContext=n,e=oi(a,l),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Gi(i,e,l),t!==null&&(Ar(t,i,l,a),yu(t,i,l)),l}function sd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ey(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function dm(t,e){ey(t,e),(t=t.alternate)&&ey(t,e)}function vN(){return null}var px=typeof reportError=="function"?reportError:function(t){console.error(t)};function hm(t){this._internalRoot=t}Wd.prototype.render=hm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ve(409));qd(t,e,null,null)};Wd.prototype.unmount=hm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Va(function(){qd(null,t,null,null)}),e[di]=null}};function Wd(t){this._internalRoot=t}Wd.prototype.unstable_scheduleHydration=function(t){if(t){var e=qb();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Mi.length&&e!==0&&e<Mi[n].priority;n++);Mi.splice(n,0,t),n===0&&Gb(t)}};function fm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Gd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ty(){}function yN(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var g=sd(l);a.call(g)}}var l=_x(e,r,t,0,null,!1,!1,"",ty);return t._reactRootContainer=l,t[di]=l.current,yl(t.nodeType===8?t.parentNode:t),Va(),l}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var h=r;r=function(){var g=sd(_);h.call(g)}}var _=um(t,0,!1,null,null,!1,!1,"",ty);return t._reactRootContainer=_,t[di]=_.current,yl(t.nodeType===8?t.parentNode:t),Va(function(){qd(e,_,n,r)}),_}function Kd(t,e,n,r,i){var a=n._reactRootContainer;if(a){var l=a;if(typeof i=="function"){var h=i;i=function(){var _=sd(l);h.call(_)}}qd(e,l,t,i)}else l=yN(n,e,t,i,r);return sd(l)}Hb=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=$o(e.pendingLanes);n!==0&&(Mp(e,n|1),Yn(e,Pt()),(ct&6)===0&&(Vs=Pt()+500,da()))}break;case 13:Va(function(){var r=hi(t,1);if(r!==null){var i=$n();Ar(r,t,1,i)}}),dm(t,1)}};Op=function(t){if(t.tag===13){var e=hi(t,134217728);if(e!==null){var n=$n();Ar(e,t,134217728,n)}dm(t,134217728)}};Bb=function(t){if(t.tag===13){var e=Yi(t),n=hi(t,e);if(n!==null){var r=$n();Ar(n,t,e,r)}dm(t,e)}};qb=function(){return _t};Wb=function(t,e){var n=_t;try{return _t=t,e()}finally{_t=n}};n_=function(t,e,n){switch(e){case"input":if(Yf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Fd(r);if(!i)throw Error(ve(90));Eb(r),Yf(r,i)}}}break;case"textarea":Sb(t,n);break;case"select":e=n.value,e!=null&&Ss(t,!!n.multiple,e,!1)}};Mb=sm;Ob=Va;var bN={usingClientEntryPoint:!1,Events:[Xl,ps,Fd,Ab,Ib,sm]},To={findFiberByHostInstance:ka,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},wN={bundleType:To.bundleType,version:To.version,rendererPackageName:To.rendererPackageName,rendererConfig:To.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=$b(t),t===null?null:t.stateNode},findFiberByHostInstance:To.findFiberByHostInstance||vN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xc.isDisabled&&Xc.supportsFiber)try{Ld=Xc.inject(wN),Hr=Xc}catch{}}ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bN;ar.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!fm(e))throw Error(ve(200));return gN(t,e,null,n)};ar.createRoot=function(t,e){if(!fm(t))throw Error(ve(299));var n=!1,r="",i=px;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=um(t,1,!1,null,null,n,!1,r,i),t[di]=e.current,yl(t.nodeType===8?t.parentNode:t),new hm(e)};ar.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ve(188)):(t=Object.keys(t).join(","),Error(ve(268,t)));return t=$b(e),t=t===null?null:t.stateNode,t};ar.flushSync=function(t){return Va(t)};ar.hydrate=function(t,e,n){if(!Gd(e))throw Error(ve(200));return Kd(null,t,e,!0,n)};ar.hydrateRoot=function(t,e,n){if(!fm(t))throw Error(ve(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",l=px;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=_x(e,null,t,1,n!=null?n:null,i,!1,a,l),t[di]=e.current,yl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Wd(e)};ar.render=function(t,e,n){if(!Gd(e))throw Error(ve(200));return Kd(null,t,e,!1,n)};ar.unmountComponentAtNode=function(t){if(!Gd(t))throw Error(ve(40));return t._reactRootContainer?(Va(function(){Kd(null,null,t,!1,function(){t._reactRootContainer=null,t[di]=null})}),!0):!1};ar.unstable_batchedUpdates=sm;ar.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Gd(n))throw Error(ve(200));if(t==null||t._reactInternals===void 0)throw Error(ve(38));return Kd(t,e,n,!1,r)};ar.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=ar})(_b);var ny=_b.exports;Vf.createRoot=ny.createRoot,Vf.hydrateRoot=ny.hydrateRoot;function od(){return od=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},od.apply(this,arguments)}var Ca;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ca||(Ca={}));var ry=function(t){return t},iy="beforeunload",xN="popstate";function EN(t){t===void 0&&(t={});var e=t,n=e.window,r=n===void 0?document.defaultView:n,i=r.history;function a(){var V=r.location,B=V.pathname,Y=V.search,J=V.hash,X=i.state||{};return[X.idx,ry({pathname:B,search:Y,hash:J,state:X.usr||null,key:X.key||"default"})]}var l=null;function h(){if(l)L.call(l),l=null;else{var V=Ca.Pop,B=a(),Y=B[0],J=B[1];if(L.length){if(Y!=null){var X=k-Y;X&&(l={action:V,location:J,retry:function(){z(X*-1)}},z(X))}}else M(V)}}r.addEventListener(xN,h);var _=Ca.Pop,g=a(),k=g[0],C=g[1],T=sy(),L=sy();k==null&&(k=0,i.replaceState(od({},i.state,{idx:k}),""));function F(V){return typeof V=="string"?V:P_(V)}function D(V,B){return B===void 0&&(B=null),ry(od({pathname:C.pathname,hash:"",search:""},typeof V=="string"?ts(V):V,{state:B,key:kN()}))}function P(V,B){return[{usr:V.state,key:V.key,idx:B},F(V)]}function A(V,B,Y){return!L.length||(L.call({action:V,location:B,retry:Y}),!1)}function M(V){_=V;var B=a();k=B[0],C=B[1],T.call({action:_,location:C})}function $(V,B){var Y=Ca.Push,J=D(V,B);function X(){$(V,B)}if(A(Y,J,X)){var q=P(J,k+1),ee=q[0],ce=q[1];try{i.pushState(ee,"",ce)}catch{r.location.assign(ce)}M(Y)}}function U(V,B){var Y=Ca.Replace,J=D(V,B);function X(){U(V,B)}if(A(Y,J,X)){var q=P(J,k),ee=q[0],ce=q[1];i.replaceState(ee,"",ce),M(Y)}}function z(V){i.go(V)}var G={get action(){return _},get location(){return C},createHref:F,push:$,replace:U,go:z,back:function(){z(-1)},forward:function(){z(1)},listen:function(B){return T.push(B)},block:function(B){var Y=L.push(B);return L.length===1&&r.addEventListener(iy,ay),function(){Y(),L.length||r.removeEventListener(iy,ay)}}};return G}function ay(t){t.preventDefault(),t.returnValue=""}function sy(){var t=[];return{get length(){return t.length},push:function(n){return t.push(n),function(){t=t.filter(function(r){return r!==n})}},call:function(n){t.forEach(function(r){return r&&r(n)})}}}function kN(){return Math.random().toString(36).substr(2,8)}function P_(t){var e=t.pathname,n=e===void 0?"/":e,r=t.search,i=r===void 0?"":r,a=t.hash,l=a===void 0?"":a;return i&&i!=="?"&&(n+=i.charAt(0)==="?"?i:"?"+i),l&&l!=="#"&&(n+=l.charAt(0)==="#"?l:"#"+l),n}function ts(t){var e={};if(t){var n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));var r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}/**
 * React Router v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const _m=le.exports.createContext(null),pm=le.exports.createContext(null),Yd=le.exports.createContext({outlet:null,matches:[]});function Or(t,e){if(!t)throw new Error(e)}function SN(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?ts(e):e,i=vx(r.pathname||"/",n);if(i==null)return null;let a=mx(t);TN(a);let l=null;for(let h=0;l==null&&h<a.length;++h)l=PN(a[h],i);return l}function mx(t,e,n,r){return e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r=""),t.forEach((i,a)=>{let l={relativePath:i.path||"",caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};l.relativePath.startsWith("/")&&(l.relativePath.startsWith(r)||Or(!1),l.relativePath=l.relativePath.slice(r.length));let h=Qi([r,l.relativePath]),_=n.concat(l);i.children&&i.children.length>0&&(i.index===!0&&Or(!1),mx(i.children,e,_,h)),!(i.path==null&&!i.index)&&e.push({path:h,score:ON(h,i.index),routesMeta:_})}),e}function TN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:LN(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const CN=/^:\w+$/,NN=3,DN=2,AN=1,IN=10,MN=-2,oy=t=>t==="*";function ON(t,e){let n=t.split("/"),r=n.length;return n.some(oy)&&(r+=MN),e&&(r+=DN),n.filter(i=>!oy(i)).reduce((i,a)=>i+(CN.test(a)?NN:a===""?AN:IN),r)}function LN(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function PN(t,e){let{routesMeta:n}=t,r={},i="/",a=[];for(let l=0;l<n.length;++l){let h=n[l],_=l===n.length-1,g=i==="/"?e:e.slice(i.length)||"/",k=$N({path:h.relativePath,caseSensitive:h.caseSensitive,end:_},g);if(!k)return null;Object.assign(r,k.params);let C=h.route;a.push({params:r,pathname:Qi([i,k.pathname]),pathnameBase:yx(Qi([i,k.pathnameBase])),route:C}),k.pathnameBase!=="/"&&(i=Qi([i,k.pathnameBase]))}return a}function $N(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=RN(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),h=i.slice(1);return{params:r.reduce((g,k,C)=>{if(k==="*"){let T=h[C]||"";l=a.slice(0,a.length-T.length).replace(/(.)\/+$/,"$1")}return g[k]=FN(h[C]||""),g},{}),pathname:a,pathnameBase:l,pattern:t}}function RN(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(l,h)=>(r.push(h),"([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)",[new RegExp(i,e?void 0:"i"),r]}function FN(t,e){try{return decodeURIComponent(t)}catch{return t}}function jN(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ts(t):t;return{pathname:n?n.startsWith("/")?n:zN(n,e):e,search:VN(r),hash:HN(i)}}function zN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function gx(t,e,n){let r=typeof t=="string"?ts(t):t,i=t===""||r.pathname===""?"/":r.pathname,a;if(i==null)a=n;else{let h=e.length-1;if(i.startsWith("..")){let _=i.split("/");for(;_[0]==="..";)_.shift(),h-=1;r.pathname=_.join("/")}a=h>=0?e[h]:"/"}let l=jN(r,a);return i&&i!=="/"&&i.endsWith("/")&&!l.pathname.endsWith("/")&&(l.pathname+="/"),l}function UN(t){return t===""||t.pathname===""?"/":typeof t=="string"?ts(t).pathname:t.pathname}function vx(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=t.charAt(e.length);return n&&n!=="/"?null:t.slice(e.length)||"/"}const Qi=t=>t.join("/").replace(/\/\/+/g,"/"),yx=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),VN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,HN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function BN(t){no()||Or(!1);let{basename:e,navigator:n}=le.exports.useContext(_m),{hash:r,pathname:i,search:a}=mm(t),l=i;if(e!=="/"){let h=UN(t),_=h!=null&&h.endsWith("/");l=i==="/"?e+(_?"/":""):Qi([e,i])}return n.createHref({pathname:l,search:a,hash:r})}function no(){return le.exports.useContext(pm)!=null}function ec(){return no()||Or(!1),le.exports.useContext(pm).location}function br(){no()||Or(!1);let{basename:t,navigator:e}=le.exports.useContext(_m),{matches:n}=le.exports.useContext(Yd),{pathname:r}=ec(),i=JSON.stringify(n.map(h=>h.pathnameBase)),a=le.exports.useRef(!1);return le.exports.useEffect(()=>{a.current=!0}),le.exports.useCallback(function(h,_){if(_===void 0&&(_={}),!a.current)return;if(typeof h=="number"){e.go(h);return}let g=gx(h,JSON.parse(i),r);t!=="/"&&(g.pathname=Qi([t,g.pathname])),(_.replace?e.replace:e.push)(g,_.state)},[t,e,i,r])}function mm(t){let{matches:e}=le.exports.useContext(Yd),{pathname:n}=ec(),r=JSON.stringify(e.map(i=>i.pathnameBase));return le.exports.useMemo(()=>gx(t,JSON.parse(r),n),[t,r,n])}function qN(t,e){no()||Or(!1);let{matches:n}=le.exports.useContext(Yd),r=n[n.length-1],i=r?r.params:{};r&&r.pathname;let a=r?r.pathnameBase:"/";r&&r.route;let l=ec(),h;if(e){var _;let T=typeof e=="string"?ts(e):e;a==="/"||((_=T.pathname)==null?void 0:_.startsWith(a))||Or(!1),h=T}else h=l;let g=h.pathname||"/",k=a==="/"?g:g.slice(a.length)||"/",C=SN(t,{pathname:k});return WN(C&&C.map(T=>Object.assign({},T,{params:Object.assign({},i,T.params),pathname:Qi([a,T.pathname]),pathnameBase:T.pathnameBase==="/"?a:Qi([a,T.pathnameBase])})),n)}function WN(t,e){return e===void 0&&(e=[]),t==null?null:t.reduceRight((n,r,i)=>le.exports.createElement(Yd.Provider,{children:r.route.element!==void 0?r.route.element:n,value:{outlet:n,matches:e.concat(t.slice(0,i+1))}}),null)}function gm(t){let{to:e,replace:n,state:r}=t;no()||Or(!1);let i=br();return le.exports.useEffect(()=>{i(e,{replace:n,state:r})}),null}function Nt(t){Or(!1)}function GN(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ca.Pop,navigator:a,static:l=!1}=t;no()&&Or(!1);let h=yx(e),_=le.exports.useMemo(()=>({basename:h,navigator:a,static:l}),[h,a,l]);typeof r=="string"&&(r=ts(r));let{pathname:g="/",search:k="",hash:C="",state:T=null,key:L="default"}=r,F=le.exports.useMemo(()=>{let D=vx(g,h);return D==null?null:{pathname:D,search:k,hash:C,state:T,key:L}},[h,g,k,C,T,L]);return F==null?null:le.exports.createElement(_m.Provider,{value:_},le.exports.createElement(pm.Provider,{children:n,value:{location:F,navigationType:i}}))}function KN(t){let{children:e,location:n}=t;return qN($_(e),n)}function $_(t){let e=[];return le.exports.Children.forEach(t,n=>{if(!le.exports.isValidElement(n))return;if(n.type===le.exports.Fragment){e.push.apply(e,$_(n.props.children));return}n.type!==Nt&&Or(!1);let r={caseSensitive:n.props.caseSensitive,element:n.props.element,index:n.props.index,path:n.props.path};n.props.children&&(r.children=$_(n.props.children)),e.push(r)}),e}/**
 * React Router DOM v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ld(){return ld=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ld.apply(this,arguments)}function bx(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const YN=["onClick","reloadDocument","replace","state","target","to"],JN=["aria-current","caseSensitive","className","end","style","to","children"];function QN(t){let{basename:e,children:n,window:r}=t,i=le.exports.useRef();i.current==null&&(i.current=EN({window:r}));let a=i.current,[l,h]=le.exports.useState({action:a.action,location:a.location});return le.exports.useLayoutEffect(()=>a.listen(h),[a]),le.exports.createElement(GN,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:a})}function XN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}const Vr=le.exports.forwardRef(function(e,n){let{onClick:r,reloadDocument:i,replace:a=!1,state:l,target:h,to:_}=e,g=bx(e,YN),k=BN(_),C=ZN(_,{replace:a,state:l,target:h});function T(L){r&&r(L),!L.defaultPrevented&&!i&&C(L)}return le.exports.createElement("a",ld({},g,{href:k,onClick:T,ref:n,target:h}))}),zr=le.exports.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:a="",end:l=!1,style:h,to:_,children:g}=e,k=bx(e,JN),C=ec(),T=mm(_),L=C.pathname,F=T.pathname;i||(L=L.toLowerCase(),F=F.toLowerCase());let D=L===F||!l&&L.startsWith(F)&&L.charAt(F.length)==="/",P=D?r:void 0,A;typeof a=="function"?A=a({isActive:D}):A=[a,D?"active":null].filter(Boolean).join(" ");let M=typeof h=="function"?h({isActive:D}):h;return le.exports.createElement(Vr,ld({},k,{"aria-current":P,className:A,ref:n,style:M,to:_}),typeof g=="function"?g({isActive:D}):g)});function ZN(t,e){let{target:n,replace:r,state:i}=e===void 0?{}:e,a=br(),l=ec(),h=mm(t);return le.exports.useCallback(_=>{if(_.button===0&&(!n||n==="_self")&&!XN(_)){_.preventDefault();let g=!!r||P_(l)===P_(h);a(t,{replace:g,state:i})}},[l,a,h,r,i,n,t])}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},eD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],l=t[n++],h=t[n++],_=((i&7)<<18|(a&63)<<12|(l&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(_>>10)),e[r++]=String.fromCharCode(56320+(_&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},xx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],l=i+1<t.length,h=l?t[i+1]:0,_=i+2<t.length,g=_?t[i+2]:0,k=a>>2,C=(a&3)<<4|h>>4;let T=(h&15)<<2|g>>6,L=g&63;_||(L=64,l||(T=64)),r.push(n[k],n[C],n[T],n[L])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(wx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):eD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],h=i<t.length?n[t.charAt(i)]:0;++i;const g=i<t.length?n[t.charAt(i)]:64;++i;const C=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||h==null||g==null||C==null)throw Error();const T=a<<2|h>>4;if(r.push(T),g!==64){const L=h<<4&240|g>>2;if(r.push(L),C!==64){const F=g<<6&192|C;r.push(F)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},tD=function(t){const e=wx(t);return xx.encodeByteArray(e,!0)},Ex=function(t){return tD(t).replace(/\./g,"")},nD=function(t){try{return xx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function Sx(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Tx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function iD(){return rn().indexOf("Electron/")>=0}function Cx(){const t=rn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function aD(){return rn().indexOf("MSAppHost/")>=0}function sD(){return typeof indexedDB=="object"}function oD(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lD="FirebaseError";class xi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=lD,Object.setPrototypeOf(this,xi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tc.prototype.create)}}class tc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?cD(a,r):"Error",h=`${this.serviceName}: ${l} (${i}).`;return new xi(i,h,r)}}function cD(t,e){return t.replace(uD,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const uD=/\{\$([^}]+)}/g;function dD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function cd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],l=e[i];if(ly(a)&&ly(l)){if(!cd(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function ly(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Fo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function jo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function hD(t,e){const n=new fD(t,e);return n.subscribe.bind(n)}class fD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");_D(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=df),i.error===void 0&&(i.error=df),i.complete===void 0&&(i.complete=df);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _D(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function df(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(t){return t&&t._delegate?t._delegate:t}class Ha{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new rD;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gD(e))try{this.getOrInitializeService({instanceIdentifier:xa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=xa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xa){return this.instances.has(e)}getOptions(e=xa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&l.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(!!r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:mD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=xa){return this.component?this.component.multipleInstances?e:xa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mD(t){return t===xa?void 0:t}function gD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new pD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ht||(ht={}));const yD={debug:ht.DEBUG,verbose:ht.VERBOSE,info:ht.INFO,warn:ht.WARN,error:ht.ERROR,silent:ht.SILENT},bD=ht.INFO,wD={[ht.DEBUG]:"log",[ht.VERBOSE]:"log",[ht.INFO]:"info",[ht.WARN]:"warn",[ht.ERROR]:"error"},xD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=wD[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class vm{constructor(e){this.name=e,this._logLevel=bD,this._logHandler=xD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ht))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ht.DEBUG,...e),this._logHandler(this,ht.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ht.VERBOSE,...e),this._logHandler(this,ht.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ht.INFO,...e),this._logHandler(this,ht.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ht.WARN,...e),this._logHandler(this,ht.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ht.ERROR,...e),this._logHandler(this,ht.ERROR,...e)}}const ED=(t,e)=>e.some(n=>t instanceof n);let cy,uy;function kD(){return cy||(cy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function SD(){return uy||(uy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Nx=new WeakMap,R_=new WeakMap,Dx=new WeakMap,hf=new WeakMap,ym=new WeakMap;function TD(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(Xi(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&Nx.set(n,t)}).catch(()=>{}),ym.set(e,t),e}function CD(t){if(R_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});R_.set(t,e)}let F_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return R_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Dx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Xi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function ND(t){F_=t(F_)}function DD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ff(this),e,...n);return Dx.set(r,e.sort?e.sort():[e]),Xi(r)}:SD().includes(t)?function(...e){return t.apply(ff(this),e),Xi(Nx.get(this))}:function(...e){return Xi(t.apply(ff(this),e))}}function AD(t){return typeof t=="function"?DD(t):(t instanceof IDBTransaction&&CD(t),ED(t,kD())?new Proxy(t,F_):t)}function Xi(t){if(t instanceof IDBRequest)return TD(t);if(hf.has(t))return hf.get(t);const e=AD(t);return e!==t&&(hf.set(t,e),ym.set(e,t)),e}const ff=t=>ym.get(t);function ID(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(t,e),h=Xi(l);return r&&l.addEventListener("upgradeneeded",_=>{r(Xi(l.result),_.oldVersion,_.newVersion,Xi(l.transaction))}),n&&l.addEventListener("blocked",()=>n()),h.then(_=>{a&&_.addEventListener("close",()=>a()),i&&_.addEventListener("versionchange",()=>i())}).catch(()=>{}),h}const MD=["get","getKey","getAll","getAllKeys","count"],OD=["put","add","delete","clear"],_f=new Map;function dy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(_f.get(e))return _f.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=OD.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||MD.includes(n)))return;const a=async function(l,...h){const _=this.transaction(l,i?"readwrite":"readonly");let g=_.store;return r&&(g=g.index(h.shift())),(await Promise.all([g[n](...h),i&&_.done]))[0]};return _f.set(e,a),a}ND(t=>({...t,get:(e,n,r)=>dy(e,n)||t.get(e,n,r),has:(e,n)=>!!dy(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(PD(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function PD(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const j_="@firebase/app",hy="0.7.32";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba=new vm("@firebase/app"),$D="@firebase/app-compat",RD="@firebase/analytics-compat",FD="@firebase/analytics",jD="@firebase/app-check-compat",zD="@firebase/app-check",UD="@firebase/auth",VD="@firebase/auth-compat",HD="@firebase/database",BD="@firebase/database-compat",qD="@firebase/functions",WD="@firebase/functions-compat",GD="@firebase/installations",KD="@firebase/installations-compat",YD="@firebase/messaging",JD="@firebase/messaging-compat",QD="@firebase/performance",XD="@firebase/performance-compat",ZD="@firebase/remote-config",eA="@firebase/remote-config-compat",tA="@firebase/storage",nA="@firebase/storage-compat",rA="@firebase/firestore",iA="@firebase/firestore-compat",aA="firebase",sA="9.9.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ax="[DEFAULT]",oA={[j_]:"fire-core",[$D]:"fire-core-compat",[FD]:"fire-analytics",[RD]:"fire-analytics-compat",[zD]:"fire-app-check",[jD]:"fire-app-check-compat",[UD]:"fire-auth",[VD]:"fire-auth-compat",[HD]:"fire-rtdb",[BD]:"fire-rtdb-compat",[qD]:"fire-fn",[WD]:"fire-fn-compat",[GD]:"fire-iid",[KD]:"fire-iid-compat",[YD]:"fire-fcm",[JD]:"fire-fcm-compat",[QD]:"fire-perf",[XD]:"fire-perf-compat",[ZD]:"fire-rc",[eA]:"fire-rc-compat",[tA]:"fire-gcs",[nA]:"fire-gcs-compat",[rA]:"fire-fst",[iA]:"fire-fst-compat","fire-js":"fire-js",[aA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ud=new Map,z_=new Map;function lA(t,e){try{t.container.addComponent(e)}catch(n){Ba.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Hs(t){const e=t.name;if(z_.has(e))return Ba.debug(`There were multiple attempts to register component ${e}.`),!1;z_.set(e,t);for(const n of ud.values())lA(n,t);return!0}function bm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},qa=new tc("app","Firebase",cA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ha("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rc=sA;function dA(t,e={}){typeof e!="object"&&(e={name:e});const n=Object.assign({name:Ax,automaticDataCollectionEnabled:!1},e),r=n.name;if(typeof r!="string"||!r)throw qa.create("bad-app-name",{appName:String(r)});const i=ud.get(r);if(i){if(cd(t,i.options)&&cd(n,i.config))return i;throw qa.create("duplicate-app",{appName:r})}const a=new vD(r);for(const h of z_.values())a.addComponent(h);const l=new uA(t,n,a);return ud.set(r,l),l}function Ix(t=Ax){const e=ud.get(t);if(!e)throw qa.create("no-app",{appName:t});return e}function Zi(t,e,n){var r;let i=(r=oA[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const h=[`Unable to register library "${i}" with version "${e}":`];a&&h.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&h.push("and"),l&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ba.warn(h.join(" "));return}Hs(new Ha(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA="firebase-heartbeat-database",fA=1,Nl="firebase-heartbeat-store";let pf=null;function Mx(){return pf||(pf=ID(hA,fA,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Nl)}}}).catch(t=>{throw qa.create("idb-open",{originalErrorMessage:t.message})})),pf}async function _A(t){var e;try{return(await Mx()).transaction(Nl).objectStore(Nl).get(Ox(t))}catch(n){if(n instanceof xi)Ba.warn(n.message);else{const r=qa.create("idb-get",{originalErrorMessage:(e=n)===null||e===void 0?void 0:e.message});Ba.warn(r.message)}}}async function fy(t,e){var n;try{const i=(await Mx()).transaction(Nl,"readwrite");return await i.objectStore(Nl).put(e,Ox(t)),i.done}catch(r){if(r instanceof xi)Ba.warn(r.message);else{const i=qa.create("idb-set",{originalErrorMessage:(n=r)===null||n===void 0?void 0:n.message});Ba.warn(i.message)}}}function Ox(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA=1024,mA=30*24*60*60*1e3;class gA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new yA(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=_y();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const a=new Date(i.date).valueOf();return Date.now()-a<=mA}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=_y(),{heartbeatsToSend:n,unsentEntries:r}=vA(this._heartbeatsCache.heartbeats),i=Ex(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function _y(){return new Date().toISOString().substring(0,10)}function vA(t,e=pA){const n=[];let r=t.slice();for(const i of t){const a=n.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),py(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),py(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class yA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sD()?oD().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await _A(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return fy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return fy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function py(t){return Ex(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(t){Hs(new Ha("platform-logger",e=>new LD(e),"PRIVATE")),Hs(new Ha("heartbeat",e=>new gA(e),"PRIVATE")),Zi(j_,hy,t),Zi(j_,hy,"esm2017"),Zi("fire-js","")}bA("");var wA="firebase",xA="9.9.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zi(wA,xA,"app");function wm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Lx(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const EA=Lx,Px=new tc("auth","Firebase",Lx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const my=new vm("@firebase/auth");function Tu(t,...e){my.logLevel<=ht.ERROR&&my.error(`Auth (${rc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(t,...e){throw xm(t,...e)}function qr(t,...e){return xm(t,...e)}function kA(t,e,n){const r=Object.assign(Object.assign({},EA()),{[e]:n});return new tc("auth","Firebase",r).create(e,{appName:t.name})}function xm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Px.create(t,...e)}function Ke(t,e,...n){if(!t)throw xm(e,...n)}function ri(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Tu(e),new Error(e)}function _i(t,e){t||ri(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy=new Map;function ii(t){_i(t instanceof Function,"Expected a class definition");let e=gy.get(t);return e?(_i(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,gy.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SA(t,e){const n=bm(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(cd(a,e!=null?e:{}))return i;Lr(i,"already-initialized")}return n.initialize({options:e})}function TA(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ii);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function CA(){return vy()==="http:"||vy()==="https:"}function vy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(CA()||Sx()||"connection"in navigator)?navigator.onLine:!0}function DA(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,n){this.shortDelay=e,this.longDelay=n,_i(n>e,"Short delay should be less than long delay!"),this.isMobile=kx()||Tx()}get(){return NA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(t,e){_i(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;ri("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;ri("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;ri("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IA=new ic(3e4,6e4);function ac(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function sc(t,e,n,r,i={}){return Rx(t,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const h=nc(Object.assign({key:t.config.apiKey},l)).slice(1),_=await t._getAdditionalHeaders();return _["Content-Type"]="application/json",t.languageCode&&(_["X-Firebase-Locale"]=t.languageCode),$x.fetch()(Fx(t,t.config.apiHost,n,h),Object.assign({method:e,headers:_,referrerPolicy:"no-referrer"},a))})}async function Rx(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},AA),e);try{const i=new MA(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Zc(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const h=a.ok?l.errorMessage:l.error.message,[_,g]=h.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zc(t,"credential-already-in-use",l);if(_==="EMAIL_EXISTS")throw Zc(t,"email-already-in-use",l);if(_==="USER_DISABLED")throw Zc(t,"user-disabled",l);const k=r[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw kA(t,k,g);Lr(t,k)}}catch(i){if(i instanceof xi)throw i;Lr(t,"network-request-failed")}}async function oc(t,e,n,r,i={}){const a=await sc(t,e,n,r,i);return"mfaPendingCredential"in a&&Lr(t,"multi-factor-auth-required",{_serverResponse:a}),a}function Fx(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Em(t.config,i):`${t.config.apiScheme}://${i}`}class MA{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(qr(this.auth,"network-request-failed")),IA.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Zc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=qr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OA(t,e){return sc(t,"POST","/v1/accounts:delete",e)}async function LA(t,e){return sc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function el(t){if(!!t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function PA(t,e=!1){const n=_n(t),r=await n.getIdToken(e),i=km(r);Ke(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:el(mf(i.auth_time)),issuedAtTime:el(mf(i.iat)),expirationTime:el(mf(i.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function mf(t){return Number(t)*1e3}function km(t){var e;const[n,r,i]=t.split(".");if(n===void 0||r===void 0||i===void 0)return Tu("JWT malformed, contained fewer than 3 sections"),null;try{const a=nD(r);return a?JSON.parse(a):(Tu("Failed to decode base64 JWT payload"),null)}catch(a){return Tu("Caught error parsing JWT payload as JSON",(e=a)===null||e===void 0?void 0:e.toString()),null}}function $A(t){const e=km(t);return Ke(e,"internal-error"),Ke(typeof e.exp<"u","internal-error"),Ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof xi&&RA(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function RA({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){var e;try{await this.user.getIdToken(!0)}catch(n){((e=n)===null||e===void 0?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=el(this.lastLoginAt),this.creationTime=el(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Dl(t,LA(n,{idToken:r}));Ke(i==null?void 0:i.users.length,n,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?UA(a.providerUserInfo):[],h=zA(t.providerData,l),_=t.isAnonymous,g=!(t.email&&a.passwordHash)&&!(h!=null&&h.length),k=_?g:!1,C={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new jx(a.createdAt,a.lastLoginAt),isAnonymous:k};Object.assign(t,C)}async function jA(t){const e=_n(t);await dd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function zA(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function UA(t){return t.map(e=>{var{providerId:n}=e,r=wm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VA(t,e){const n=await Rx(t,{},async()=>{const r=nc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,l=Fx(t,i,"/v1/token",`key=${a}`),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",$x.fetch()(l,{method:"POST",headers:h,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ke(e.idToken,"internal-error"),Ke(typeof e.idToken<"u","internal-error"),Ke(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):$A(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return Ke(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await VA(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,l=new Al;return r&&(Ke(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Ke(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(Ke(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Al,this.toJSON())}_performRefresh(){return ri("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(t,e){Ke(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class La{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,a=wm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new FA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new jx(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Dl(this,this.stsTokenManager.getToken(this.auth,e));return Ke(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return PA(this,e)}reload(){return jA(this)}_assign(e){this!==e&&(Ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new La(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){Ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await dd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Dl(this,OA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,a,l,h,_,g,k;const C=(r=n.displayName)!==null&&r!==void 0?r:void 0,T=(i=n.email)!==null&&i!==void 0?i:void 0,L=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,F=(l=n.photoURL)!==null&&l!==void 0?l:void 0,D=(h=n.tenantId)!==null&&h!==void 0?h:void 0,P=(_=n._redirectEventId)!==null&&_!==void 0?_:void 0,A=(g=n.createdAt)!==null&&g!==void 0?g:void 0,M=(k=n.lastLoginAt)!==null&&k!==void 0?k:void 0,{uid:$,emailVerified:U,isAnonymous:z,providerData:G,stsTokenManager:V}=n;Ke($&&V,e,"internal-error");const B=Al.fromJSON(this.name,V);Ke(typeof $=="string",e,"internal-error"),Ci(C,e.name),Ci(T,e.name),Ke(typeof U=="boolean",e,"internal-error"),Ke(typeof z=="boolean",e,"internal-error"),Ci(L,e.name),Ci(F,e.name),Ci(D,e.name),Ci(P,e.name),Ci(A,e.name),Ci(M,e.name);const Y=new La({uid:$,auth:e,email:T,emailVerified:U,displayName:C,isAnonymous:z,photoURL:F,phoneNumber:L,tenantId:D,stsTokenManager:B,createdAt:A,lastLoginAt:M});return G&&Array.isArray(G)&&(Y.providerData=G.map(J=>Object.assign({},J))),P&&(Y._redirectEventId=P),Y}static async _fromIdTokenResponse(e,n,r=!1){const i=new Al;i.updateFromServerResponse(n);const a=new La({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await dd(a),a}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}zx.type="NONE";const yy=zx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cu(t,e,n){return`firebase:${t}:${e}:${n}`}class Is{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Cu(this.userKey,i.apiKey,a),this.fullPersistenceKey=Cu("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?La._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Is(ii(yy),e,r);const i=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let a=i[0]||ii(yy);const l=Cu(r,e.config.apiKey,e.name);let h=null;for(const g of n)try{const k=await g._get(l);if(k){const C=La._fromJSON(e,k);g!==a&&(h=C),a=g;break}}catch{}const _=i.filter(g=>g._shouldAllowMigration);return!a._shouldAllowMigration||!_.length?new Is(a,e,r):(a=_[0],h&&await a._set(l,h.toJSON()),await Promise.all(n.map(async g=>{if(g!==a)try{await g._remove(l)}catch{}})),new Is(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function by(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Hx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ux(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qx(e))return"Blackberry";if(Wx(e))return"Webos";if(Sm(e))return"Safari";if((e.includes("chrome/")||Vx(e))&&!e.includes("edge/"))return"Chrome";if(Bx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Ux(t=rn()){return/firefox\//i.test(t)}function Sm(t=rn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Vx(t=rn()){return/crios\//i.test(t)}function Hx(t=rn()){return/iemobile/i.test(t)}function Bx(t=rn()){return/android/i.test(t)}function qx(t=rn()){return/blackberry/i.test(t)}function Wx(t=rn()){return/webos/i.test(t)}function Jd(t=rn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function HA(t=rn()){var e;return Jd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function BA(){return Cx()&&document.documentMode===10}function Gx(t=rn()){return Jd(t)||Bx(t)||Wx(t)||qx(t)||/windows phone/i.test(t)||Hx(t)}function qA(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(t,e=[]){let n;switch(t){case"Browser":n=by(rn());break;case"Worker":n=`${by(rn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${rc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,h)=>{try{const _=e(a);l(_)}catch(_){h(_)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){var n;if(this.auth.currentUser===e)return;const r=[];try{for(const i of this.queue)await i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const a of r)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:(n=i)===null||n===void 0?void 0:n.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GA{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wy(this),this.idTokenSubscription=new wy(this),this.beforeStateQueue=new WA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Px,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ii(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Is.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,h=i==null?void 0:i._redirectEventId,_=await this.tryRedirectSignIn(e);(!l||l===h)&&(_==null?void 0:_.user)&&(i=_.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){var n;try{await dd(e)}catch(r){if(((n=r)===null||n===void 0?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=DA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?_n(e):null;return n&&Ke(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(ii(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new tc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ii(e)||this._popupRedirectResolver;Ke(n,this,"argument-error"),this.redirectPersistenceManager=await Is.create(this,[ii(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n),l=this._isInitialized?Promise.resolve():this._initializationPromise;return Ke(l,this,"internal-error"),l.then(()=>a(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Kx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function Qd(t){return _n(t)}class wy{constructor(e){this.auth=e,this.observer=null,this.addObserver=hD(n=>this.observer=n)}get next(){return Ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ri("not implemented")}_getIdTokenResponse(e){return ri("not implemented")}_linkToIdToken(e,n){return ri("not implemented")}_getReauthenticationResolver(e){return ri("not implemented")}}async function KA(t,e){return sc(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YA(t,e){return oc(t,"POST","/v1/accounts:signInWithPassword",ac(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JA(t,e){return oc(t,"POST","/v1/accounts:signInWithEmailLink",ac(t,e))}async function QA(t,e){return oc(t,"POST","/v1/accounts:signInWithEmailLink",ac(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il extends Tm{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Il(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Il(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if((n==null?void 0:n.email)&&(n==null?void 0:n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return YA(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return JA(e,{email:this._email,oobCode:this._password});default:Lr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return KA(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return QA(e,{idToken:n,email:this._email,oobCode:this._password});default:Lr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ms(t,e){return oc(t,"POST","/v1/accounts:signInWithIdp",ac(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA="http://localhost";class Wa extends Tm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Wa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Lr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,a=wm(n,["providerId","signInMethod"]);if(!r||!i)return null;const l=new Wa(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Ms(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ms(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ms(e,n)}buildRequest(){const e={requestUri:XA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=nc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZA(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function eI(t){const e=Fo(jo(t)).link,n=e?Fo(jo(e)).deep_link_id:null,r=Fo(jo(t)).deep_link_id;return(r?Fo(jo(r)).link:null)||r||n||e||t}class Cm{constructor(e){var n,r,i,a,l,h;const _=Fo(jo(e)),g=(n=_.apiKey)!==null&&n!==void 0?n:null,k=(r=_.oobCode)!==null&&r!==void 0?r:null,C=ZA((i=_.mode)!==null&&i!==void 0?i:null);Ke(g&&k&&C,"argument-error"),this.apiKey=g,this.operation=C,this.code=k,this.continueUrl=(a=_.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=_.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(h=_.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const n=eI(e);try{return new Cm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(){this.providerId=ro.PROVIDER_ID}static credential(e,n){return Il._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Cm.parseLink(n);return Ke(r,"argument-error"),Il._fromEmailAndCode(e,r.code,r.tenantId)}}ro.PROVIDER_ID="password";ro.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ro.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc extends Yx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends lc{constructor(){super("facebook.com")}static credential(e){return Wa._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Li.credential(e.oauthAccessToken)}catch{return null}}}Li.FACEBOOK_SIGN_IN_METHOD="facebook.com";Li.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends lc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Wa._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Pi.credential(n,r)}catch{return null}}}Pi.GOOGLE_SIGN_IN_METHOD="google.com";Pi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends lc{constructor(){super("github.com")}static credential(e){return Wa._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $i.credential(e.oauthAccessToken)}catch{return null}}}$i.GITHUB_SIGN_IN_METHOD="github.com";$i.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri extends lc{constructor(){super("twitter.com")}static credential(e,n){return Wa._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ri.credentialFromTaggedObject(e)}static credentialFromError(e){return Ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ri.credential(n,r)}catch{return null}}}Ri.TWITTER_SIGN_IN_METHOD="twitter.com";Ri.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tI(t,e){return oc(t,"POST","/v1/accounts:signUp",ac(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await La._fromIdTokenResponse(e,r,i),l=xy(r);return new Ga({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=xy(r);return new Ga({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function xy(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd extends xi{constructor(e,n,r,i){var a;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,hd.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new hd(e,n,r,i)}}function Jx(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?hd._fromErrorAndOperation(t,a,e,r):a})}async function nI(t,e,n=!1){const r=await Dl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ga._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rI(t,e,n=!1){var r;const{auth:i}=t,a="reauthenticate";try{const l=await Dl(t,Jx(i,a,e,t),n);Ke(l.idToken,i,"internal-error");const h=km(l.idToken);Ke(h,i,"internal-error");const{sub:_}=h;return Ke(t.uid===_,i,"user-mismatch"),Ga._forOperation(t,a,l)}catch(l){throw((r=l)===null||r===void 0?void 0:r.code)==="auth/user-not-found"&&Lr(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qx(t,e,n=!1){const r="signIn",i=await Jx(t,r,e),a=await Ga._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function iI(t,e){return Qx(Qd(t),e)}async function aI(t,e,n){const r=Qd(t),i=await tI(r,{returnSecureToken:!0,email:e,password:n}),a=await Ga._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(a.user),a}function sI(t,e,n){return iI(_n(t),ro.credential(e,n))}function oI(t,e,n,r){return _n(t).onAuthStateChanged(e,n,r)}function lI(t){return _n(t).signOut()}const fd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(fd,"1"),this.storage.removeItem(fd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(){const t=rn();return Sm(t)||Jd(t)}const uI=1e3,dI=10;class Zx extends Xx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=cI()&&qA(),this.fallbackToPolling=Gx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,h,_)=>{this.notifyListeners(l,_)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const l=this.storage.getItem(r);if(e.newValue!==l)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);BA()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,dI):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},uI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Zx.type="LOCAL";const hI=Zx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1 extends Xx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}e1.type="SESSION";const t1=e1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fI(t){return Promise.all(t.map(async e=>{try{const n=await e;return{fulfilled:!0,value:n}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Xd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const h=Array.from(l).map(async g=>g(n.origin,a)),_=await fI(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:_})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((h,_)=>{const g=Nm("",20);i.port1.start();const k=setTimeout(()=>{_(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(C){const T=C;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(k),a=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(T.data.response);break;default:clearTimeout(k),clearTimeout(a),_(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(){return window}function pI(t){Wr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(){return typeof Wr().WorkerGlobalScope<"u"&&typeof Wr().importScripts=="function"}async function mI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function gI(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function vI(){return n1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1="firebaseLocalStorageDb",yI=1,_d="firebaseLocalStorage",i1="fbase_key";class cc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Zd(t,e){return t.transaction([_d],e?"readwrite":"readonly").objectStore(_d)}function bI(){const t=indexedDB.deleteDatabase(r1);return new cc(t).toPromise()}function V_(){const t=indexedDB.open(r1,yI);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(_d,{keyPath:i1})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(_d)?e(r):(r.close(),await bI(),e(await V_()))})})}async function Ey(t,e,n){const r=Zd(t,!0).put({[i1]:e,value:n});return new cc(r).toPromise()}async function wI(t,e){const n=Zd(t,!1).get(e),r=await new cc(n).toPromise();return r===void 0?null:r.value}function ky(t,e){const n=Zd(t,!0).delete(e);return new cc(n).toPromise()}const xI=800,EI=3;class a1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await V_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>EI)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return n1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xd._getInstance(vI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await mI(),!this.activeServiceWorker)return;this.sender=new _I(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);!r||((e=r[0])===null||e===void 0?void 0:e.fulfilled)&&((n=r[0])===null||n===void 0?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||gI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await V_();return await Ey(e,fd,"1"),await ky(e,fd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Ey(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>wI(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ky(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Zd(i,!1).getAll();return new cc(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),xI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}a1.type="LOCAL";const kI=a1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SI(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function TI(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=qr("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",SI().appendChild(r)})}function CI(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new ic(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(t,e){return e?ii(e):(Ke(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm extends Tm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ms(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ms(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ms(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function DI(t){return Qx(t.auth,new Dm(t),t.bypassAuthState)}function AI(t){const{auth:e,user:n}=t;return Ke(n,e,"internal-error"),rI(n,new Dm(t),t.bypassAuthState)}async function II(t){const{auth:e,user:n}=t;return Ke(n,e,"internal-error"),nI(n,new Dm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:l,type:h}=e;if(l){this.reject(l);return}const _={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(_))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return DI;case"linkViaPopup":case"linkViaRedirect":return II;case"reauthViaPopup":case"reauthViaRedirect":return AI;default:Lr(this.auth,"internal-error")}}resolve(e){_i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MI=new ic(2e3,1e4);class xs extends s1{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,xs.currentPopupAction&&xs.currentPopupAction.cancel(),xs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ke(e,this.auth,"internal-error"),e}async onExecution(){_i(this.filter.length===1,"Popup operations only handle one event");const e=Nm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(qr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(qr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qr(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,MI.get())};e()}}xs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OI="pendingRedirect",Nu=new Map;class LI extends s1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Nu.get(this.auth._key());if(!e){try{const r=await PI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Nu.set(this.auth._key(),e)}return this.bypassAuthState||Nu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function PI(t,e){const n=FI(e),r=RI(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function $I(t,e){Nu.set(t._key(),e)}function RI(t){return ii(t._redirectPersistence)}function FI(t){return Cu(OI,t.config.apiKey,t.name)}async function jI(t,e,n=!1){const r=Qd(t),i=NI(r,e),l=await new LI(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI=10*60*1e3;class UI{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!VI(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!o1(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(qr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=zI&&this.cachedEventUids.clear(),this.cachedEventUids.has(Sy(e))}saveEventToCache(e){this.cachedEventUids.add(Sy(e)),this.lastProcessedEventTime=Date.now()}}function Sy(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function o1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function VI(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return o1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HI(t,e={}){return sc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qI=/^https?/;async function WI(t){if(t.config.emulator)return;const{authorizedDomains:e}=await HI(t);for(const n of e)try{if(GI(n))return}catch{}Lr(t,"unauthorized-domain")}function GI(t){const e=U_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!qI.test(n))return!1;if(BI.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KI=new ic(3e4,6e4);function Ty(){const t=Wr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function YI(t){return new Promise((e,n)=>{var r,i,a;function l(){Ty(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ty(),n(qr(t,"network-request-failed"))},timeout:KI.get()})}if(!((i=(r=Wr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Wr().gapi)===null||a===void 0)&&a.load)l();else{const h=CI("iframefcb");return Wr()[h]=()=>{gapi.load?l():n(qr(t,"network-request-failed"))},TI(`https://apis.google.com/js/api.js?onload=${h}`).catch(_=>n(_))}}).catch(e=>{throw Du=null,e})}let Du=null;function JI(t){return Du=Du||YI(t),Du}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI=new ic(5e3,15e3),XI="__/auth/iframe",ZI="emulator/auth/iframe",eM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function nM(t){const e=t.config;Ke(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Em(e,ZI):`https://${t.config.authDomain}/${XI}`,r={apiKey:e.apiKey,appName:t.name,v:rc},i=tM.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${nc(r).slice(1)}`}async function rM(t){const e=await JI(t),n=Wr().gapi;return Ke(n,t,"internal-error"),e.open({where:document.body,url:nM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eM,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=qr(t,"network-request-failed"),h=Wr().setTimeout(()=>{a(l)},QI.get());function _(){Wr().clearTimeout(h),i(r)}r.ping(_).then(_,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},aM=500,sM=600,oM="_blank",lM="http://localhost";class Cy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function cM(t,e,n,r=aM,i=sM){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const _=Object.assign(Object.assign({},iM),{width:r.toString(),height:i.toString(),top:a,left:l}),g=rn().toLowerCase();n&&(h=Vx(g)?oM:n),Ux(g)&&(e=e||lM,_.scrollbars="yes");const k=Object.entries(_).reduce((T,[L,F])=>`${T}${L}=${F},`,"");if(HA(g)&&h!=="_self")return uM(e||"",h),new Cy(null);const C=window.open(e||"",h,k);Ke(C,t,"popup-blocked");try{C.focus()}catch{}return new Cy(C)}function uM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dM="__/auth/handler",hM="emulator/auth/handler";function Ny(t,e,n,r,i,a){Ke(t.config.authDomain,t,"auth-domain-config-required"),Ke(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:rc,eventId:i};if(e instanceof Yx){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",dD(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,g]of Object.entries(a||{}))l[_]=g}if(e instanceof lc){const _=e.getScopes().filter(g=>g!=="");_.length>0&&(l.scopes=_.join(","))}t.tenantId&&(l.tid=t.tenantId);const h=l;for(const _ of Object.keys(h))h[_]===void 0&&delete h[_];return`${fM(t)}?${nc(h).slice(1)}`}function fM({config:t}){return t.emulator?Em(t,hM):`https://${t.authDomain}/${dM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gf="webStorageSupport";class _M{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=t1,this._completeRedirectFn=jI,this._overrideRedirectResult=$I}async _openPopup(e,n,r,i){var a;_i((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=Ny(e,n,r,U_(),i);return cM(e,l,Nm())}async _openRedirect(e,n,r,i){return await this._originValidation(e),pI(Ny(e,n,r,U_(),i)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(_i(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await rM(e),r=new UI(e);return n.register("authEvent",i=>(Ke(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(gf,{type:gf},i=>{var a;const l=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[gf];l!==void 0&&n(!!l),Lr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=WI(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Gx()||Sm()||Jd()}}const pM=_M;var Dy="@firebase/auth",Ay="0.20.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{var i;e(((i=r)===null||i===void 0?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function vM(t){Hs(new Ha("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:a,authDomain:l}=r.options;return((h,_)=>{Ke(a&&!a.includes(":"),"invalid-api-key",{appName:h.name}),Ke(!(l!=null&&l.includes(":")),"argument-error",{appName:h.name});const g={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Kx(t)},k=new GA(h,_,g);return TA(k,n),k})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Hs(new Ha("auth-internal",e=>{const n=Qd(e.getProvider("auth").getImmediate());return(r=>new mM(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zi(Dy,Ay,gM(t)),Zi(Dy,Ay,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yM(t=Ix()){const e=bm(t,"auth");return e.isInitialized()?e.getImmediate():SA(t,{popupRedirectResolver:pM,persistence:[kI,hI,t1]})}vM("Browser");const bM={apiKey:"AIzaSyCRLN_2xzTrvHfN4EDRtETLysu2QWCd9Fk",authDomain:"navisacademy-1c1d2.firebaseapp.com",projectId:"navisacademy-1c1d2",storageBucket:"navisacademy-1c1d2.appspot.com",messagingSenderId:"138551732835",appId:"1:138551732835:web:ce9005d6cde0708230e656",measurementId:"G-VC1HXL8EM6"},wM=dA(bM),eu=yM(wM);var xM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Oe,Am=Am||{},Ye=xM||self;function pd(){}function H_(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function uc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function EM(t){return Object.prototype.hasOwnProperty.call(t,vf)&&t[vf]||(t[vf]=++kM)}var vf="closure_uid_"+(1e9*Math.random()>>>0),kM=0;function SM(t,e,n){return t.call.apply(t.bind,arguments)}function TM(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function dn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?dn=SM:dn=TM,dn.apply(null,arguments)}function tu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function mn(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,i,a){for(var l=Array(arguments.length-2),h=2;h<arguments.length;h++)l[h-2]=arguments[h];return e.prototype[i].apply(r,l)}}function ha(){this.s=this.s,this.o=this.o}var CM=0;ha.prototype.s=!1;ha.prototype.na=function(){!this.s&&(this.s=!0,this.M(),CM!=0)&&EM(this)};ha.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const l1=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},c1=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const r=t.length,i=typeof t=="string"?t.split(""):t;for(let a=0;a<r;a++)a in i&&e.call(n,i[a],a,t)};function NM(t){e:{var e=yO;const n=t.length,r=typeof t=="string"?t.split(""):t;for(let i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break e}e=-1}return 0>e?null:typeof t=="string"?t.charAt(e):t[e]}function Iy(t){return Array.prototype.concat.apply([],arguments)}function Im(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function md(t){return/^[\s\xa0]*$/.test(t)}var My=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function An(t,e){return t.indexOf(e)!=-1}function yf(t,e){return t<e?-1:t>e?1:0}var In;e:{var Oy=Ye.navigator;if(Oy){var Ly=Oy.userAgent;if(Ly){In=Ly;break e}}In=""}function Mm(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function u1(t){const e={};for(const n in t)e[n]=t[n];return e}var Py="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function d1(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let a=0;a<Py.length;a++)n=Py[a],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Om(t){return Om[" "](t),t}Om[" "]=pd;function DM(t){var e=MM;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var AM=An(In,"Opera"),Bs=An(In,"Trident")||An(In,"MSIE"),h1=An(In,"Edge"),B_=h1||Bs,f1=An(In,"Gecko")&&!(An(In.toLowerCase(),"webkit")&&!An(In,"Edge"))&&!(An(In,"Trident")||An(In,"MSIE"))&&!An(In,"Edge"),IM=An(In.toLowerCase(),"webkit")&&!An(In,"Edge");function _1(){var t=Ye.document;return t?t.documentMode:void 0}var gd;e:{var bf="",wf=function(){var t=In;if(f1)return/rv:([^\);]+)(\)|;)/.exec(t);if(h1)return/Edge\/([\d\.]+)/.exec(t);if(Bs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(IM)return/WebKit\/(\S+)/.exec(t);if(AM)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(wf&&(bf=wf?wf[1]:""),Bs){var xf=_1();if(xf!=null&&xf>parseFloat(bf)){gd=String(xf);break e}}gd=bf}var MM={};function OM(){return DM(function(){let t=0;const e=My(String(gd)).split("."),n=My("9").split("."),r=Math.max(e.length,n.length);for(let l=0;t==0&&l<r;l++){var i=e[l]||"",a=n[l]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],i[0].length==0&&a[0].length==0)break;t=yf(i[1].length==0?0:parseInt(i[1],10),a[1].length==0?0:parseInt(a[1],10))||yf(i[2].length==0,a[2].length==0)||yf(i[2],a[2]),i=i[3],a=a[3]}while(t==0)}return 0<=t})}var q_;if(Ye.document&&Bs){var $y=_1();q_=$y||parseInt(gd,10)||void 0}else q_=void 0;var LM=q_,PM=function(){if(!Ye.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ye.addEventListener("test",pd,e),Ye.removeEventListener("test",pd,e)}catch{}return t}();function En(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}En.prototype.h=function(){this.defaultPrevented=!0};function Ml(t,e){if(En.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(f1){e:{try{Om(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:$M[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ml.Z.h.call(this)}}mn(Ml,En);var $M={2:"touch",3:"pen",4:"mouse"};Ml.prototype.h=function(){Ml.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var dc="closure_listenable_"+(1e6*Math.random()|0),RM=0;function FM(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++RM,this.ca=this.fa=!1}function eh(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function th(t){this.src=t,this.g={},this.h=0}th.prototype.add=function(t,e,n,r,i){var a=t.toString();t=this.g[a],t||(t=this.g[a]=[],this.h++);var l=G_(t,e,r,i);return-1<l?(e=t[l],n||(e.fa=!1)):(e=new FM(e,this.src,a,!!r,i),e.fa=n,t.push(e)),e};function W_(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=l1(r,e),a;(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(eh(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function G_(t,e,n,r){for(var i=0;i<t.length;++i){var a=t[i];if(!a.ca&&a.listener==e&&a.capture==!!n&&a.ia==r)return i}return-1}var Lm="closure_lm_"+(1e6*Math.random()|0),Ef={};function p1(t,e,n,r,i){if(r&&r.once)return g1(t,e,n,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)p1(t,e[a],n,r,i);return null}return n=Rm(n),t&&t[dc]?t.N(e,n,uc(r)?!!r.capture:!!r,i):m1(t,e,n,!1,r,i)}function m1(t,e,n,r,i,a){if(!e)throw Error("Invalid event type");var l=uc(i)?!!i.capture:!!i,h=$m(t);if(h||(t[Lm]=h=new th(t)),n=h.add(e,n,r,l,a),n.proxy)return n;if(r=jM(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)PM||(i=l),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(y1(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function jM(){function t(n){return e.call(t.src,t.listener,n)}var e=zM;return t}function g1(t,e,n,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)g1(t,e[a],n,r,i);return null}return n=Rm(n),t&&t[dc]?t.O(e,n,uc(r)?!!r.capture:!!r,i):m1(t,e,n,!0,r,i)}function v1(t,e,n,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)v1(t,e[a],n,r,i);else r=uc(r)?!!r.capture:!!r,n=Rm(n),t&&t[dc]?(t=t.i,e=String(e).toString(),e in t.g&&(a=t.g[e],n=G_(a,n,r,i),-1<n&&(eh(a[n]),Array.prototype.splice.call(a,n,1),a.length==0&&(delete t.g[e],t.h--)))):t&&(t=$m(t))&&(e=t.g[e.toString()],t=-1,e&&(t=G_(e,n,r,i)),(n=-1<t?e[t]:null)&&Pm(n))}function Pm(t){if(typeof t!="number"&&t&&!t.ca){var e=t.src;if(e&&e[dc])W_(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(y1(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=$m(e))?(W_(n,t),n.h==0&&(n.src=null,e[Lm]=null)):eh(t)}}}function y1(t){return t in Ef?Ef[t]:Ef[t]="on"+t}function zM(t,e){if(t.ca)t=!0;else{e=new Ml(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&Pm(t),t=n.call(r,e)}return t}function $m(t){return t=t[Lm],t instanceof th?t:null}var kf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rm(t){return typeof t=="function"?t:(t[kf]||(t[kf]=function(e){return t.handleEvent(e)}),t[kf])}function an(){ha.call(this),this.i=new th(this),this.P=this,this.I=null}mn(an,ha);an.prototype[dc]=!0;an.prototype.removeEventListener=function(t,e,n,r){v1(this,t,e,n,r)};function hn(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new En(e,t);else if(e instanceof En)e.target=e.target||t;else{var i=e;e=new En(r,t),d1(e,i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var l=e.g=n[a];i=nu(l,r,!0,e)&&i}if(l=e.g=t,i=nu(l,r,!0,e)&&i,i=nu(l,r,!1,e)&&i,n)for(a=0;a<n.length;a++)l=e.g=n[a],i=nu(l,r,!1,e)&&i}an.prototype.M=function(){if(an.Z.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)eh(n[r]);delete t.g[e],t.h--}}this.I=null};an.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};an.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function nu(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var l=e[a];if(l&&!l.ca&&l.capture==n){var h=l.listener,_=l.ia||l.src;l.fa&&W_(t.i,l),i=h.call(_,r)!==!1&&i}}return i&&!r.defaultPrevented}var Fm=Ye.JSON.stringify;function UM(){var t=w1;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class VM{constructor(){this.h=this.g=null}add(e,n){const r=b1.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var b1=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new HM,t=>t.reset());class HM{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function BM(t){Ye.setTimeout(()=>{throw t},0)}function jm(t,e){K_||qM(),Y_||(K_(),Y_=!0),w1.add(t,e)}var K_;function qM(){var t=Ye.Promise.resolve(void 0);K_=function(){t.then(WM)}}var Y_=!1,w1=new VM;function WM(){for(var t;t=UM();){try{t.h.call(t.g)}catch(n){BM(n)}var e=b1;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Y_=!1}function nh(t,e){an.call(this),this.h=t||1,this.g=e||Ye,this.j=dn(this.kb,this),this.l=Date.now()}mn(nh,an);Oe=nh.prototype;Oe.da=!1;Oe.S=null;Oe.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),hn(this,"tick"),this.da&&(zm(this),this.start()))}};Oe.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function zm(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}Oe.M=function(){nh.Z.M.call(this),zm(this),delete this.g};function Um(t,e,n){if(typeof t=="function")n&&(t=dn(t,n));else if(t&&typeof t.handleEvent=="function")t=dn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Ye.setTimeout(t,e||0)}function x1(t){t.g=Um(()=>{t.g=null,t.i&&(t.i=!1,x1(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class GM extends ha{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:x1(this)}M(){super.M(),this.g&&(Ye.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ol(t){ha.call(this),this.h=t,this.g={}}mn(Ol,ha);var Ry=[];function E1(t,e,n,r){Array.isArray(n)||(n&&(Ry[0]=n.toString()),n=Ry);for(var i=0;i<n.length;i++){var a=p1(e,n[i],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}}function k1(t){Mm(t.g,function(e,n){this.g.hasOwnProperty(n)&&Pm(e)},t),t.g={}}Ol.prototype.M=function(){Ol.Z.M.call(this),k1(this)};Ol.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function rh(){this.g=!0}rh.prototype.Aa=function(){this.g=!1};function KM(t,e,n,r,i,a){t.info(function(){if(t.g)if(a)for(var l="",h=a.split("&"),_=0;_<h.length;_++){var g=h[_].split("=");if(1<g.length){var k=g[0];g=g[1];var C=k.split("_");l=2<=C.length&&C[1]=="type"?l+(k+"="+g+"&"):l+(k+"=redacted&")}}else l=null;else l=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+l})}function YM(t,e,n,r,i,a,l){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+a+" "+l})}function Es(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+QM(t,n)+(r?" "+r:"")})}function JM(t,e){t.info(function(){return"TIMEOUT: "+e})}rh.prototype.info=function(){};function QM(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if(a!="noop"&&a!="stop"&&a!="close")for(var l=1;l<i.length;l++)i[l]=""}}}}return Fm(n)}catch{return e}}var ns={},Fy=null;function ih(){return Fy=Fy||new an}ns.Ma="serverreachability";function S1(t){En.call(this,ns.Ma,t)}mn(S1,En);function Ll(t){const e=ih();hn(e,new S1(e))}ns.STAT_EVENT="statevent";function T1(t,e){En.call(this,ns.STAT_EVENT,t),this.stat=e}mn(T1,En);function On(t){const e=ih();hn(e,new T1(e,t))}ns.Na="timingevent";function C1(t,e){En.call(this,ns.Na,t),this.size=e}mn(C1,En);function hc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Ye.setTimeout(function(){t()},e)}var ah={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},N1={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Vm(){}Vm.prototype.h=null;function jy(t){return t.h||(t.h=t.i())}function D1(){}var fc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Hm(){En.call(this,"d")}mn(Hm,En);function Bm(){En.call(this,"c")}mn(Bm,En);var J_;function sh(){}mn(sh,Vm);sh.prototype.g=function(){return new XMLHttpRequest};sh.prototype.i=function(){return{}};J_=new sh;function _c(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new Ol(this),this.P=XM,t=B_?125:void 0,this.W=new nh(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new A1}function A1(){this.i=null,this.g="",this.h=!1}var XM=45e3,Q_={},vd={};Oe=_c.prototype;Oe.setTimeout=function(t){this.P=t};function X_(t,e,n){t.K=1,t.v=lh(pi(e)),t.s=n,t.U=!0,I1(t,null)}function I1(t,e){t.F=Date.now(),pc(t),t.A=pi(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),F1(n.h,"t",r),t.C=0,n=t.l.H,t.h=new A1,t.g=iE(t.l,n?e:null,!t.s),0<t.O&&(t.L=new GM(dn(t.Ia,t,t.g),t.O)),E1(t.V,t.g,"readystatechange",t.gb),e=t.H?u1(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Ll(),KM(t.j,t.u,t.A,t.m,t.X,t.s)}Oe.gb=function(t){t=t.target;const e=this.L;e&&ai(t)==3?e.l():this.Ia(t)};Oe.Ia=function(t){try{if(t==this.g)e:{const k=ai(this.g);var e=this.g.Da();const C=this.g.ba();if(!(3>k)&&(k!=3||B_||this.g&&(this.h.h||this.g.ga()||Hy(this.g)))){this.I||k!=4||e==7||(e==8||0>=C?Ll(3):Ll(2)),oh(this);var n=this.g.ba();this.N=n;t:if(M1(this)){var r=Hy(this.g);t="";var i=r.length,a=ai(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Na(this),tl(this);var l="";break t}this.h.i=new Ye.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,l=this.h.g}else l=this.g.ga();if(this.i=n==200,YM(this.j,this.u,this.A,this.m,this.X,k,n),this.i){if(this.$&&!this.J){t:{if(this.g){var h,_=this.g;if((h=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!md(h)){var g=h;break t}}g=null}if(n=g)Es(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Z_(this,n);else{this.i=!1,this.o=3,On(12),Na(this),tl(this);break e}}this.U?(O1(this,k,l),B_&&this.i&&k==3&&(E1(this.V,this.W,"tick",this.fb),this.W.start())):(Es(this.j,this.m,l,null),Z_(this,l)),k==4&&Na(this),this.i&&!this.I&&(k==4?eE(this.l,this):(this.i=!1,pc(this)))}else n==400&&0<l.indexOf("Unknown SID")?(this.o=3,On(12)):(this.o=0,On(13)),Na(this),tl(this)}}}catch{}finally{}};function M1(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Ba:!1}function O1(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=ZM(t,n),i==vd){e==4&&(t.o=4,On(14),r=!1),Es(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Q_){t.o=4,On(15),Es(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Es(t.j,t.m,i,null),Z_(t,i);M1(t)&&i!=vd&&i!=Q_&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,On(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,e=t.l,e.g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Zm(e),e.L=!0,On(11))):(Es(t.j,t.m,n,"[Invalid Chunked Response]"),Na(t),tl(t))}Oe.fb=function(){if(this.g){var t=ai(this.g),e=this.g.ga();this.C<e.length&&(oh(this),O1(this,t,e),this.i&&t!=4&&pc(this))}};function ZM(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?vd:(n=Number(e.substring(n,r)),isNaN(n)?Q_:(r+=1,r+n>e.length?vd:(e=e.substr(r,n),t.C=r+n,e)))}Oe.cancel=function(){this.I=!0,Na(this)};function pc(t){t.Y=Date.now()+t.P,L1(t,t.P)}function L1(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=hc(dn(t.eb,t),e)}function oh(t){t.B&&(Ye.clearTimeout(t.B),t.B=null)}Oe.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(JM(this.j,this.A),this.K!=2&&(Ll(),On(17)),Na(this),this.o=2,tl(this)):L1(this,this.Y-t)};function tl(t){t.l.G==0||t.I||eE(t.l,t)}function Na(t){oh(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,zm(t.W),k1(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Z_(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||ep(n.i,t))){if(n.I=t.N,!t.J&&ep(n.i,t)&&n.G==3){try{var r=n.Ca.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)xd(n),dh(n);else break e;Xm(n),On(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&n.A==0&&!n.v&&(n.v=hc(dn(n.ab,n),6e3));if(1>=U1(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else Da(n,11)}else if((t.J||n.g==t)&&xd(n),!md(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){let g=i[e];if(n.U=g[0],g=g[1],n.G==2)if(g[0]=="c"){n.J=g[1],n.la=g[2];const k=g[3];k!=null&&(n.ma=k,n.h.info("VER="+n.ma));const C=g[4];C!=null&&(n.za=C,n.h.info("SVER="+n.za));const T=g[5];T!=null&&typeof T=="number"&&0<T&&(r=1.5*T,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const L=t.g;if(L){const F=L.g?L.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(F){var a=r.i;!a.g&&(An(F,"spdy")||An(F,"quic")||An(F,"h2"))&&(a.j=a.l,a.g=new Set,a.h&&(Gm(a,a.h),a.h=null))}if(r.D){const D=L.g?L.g.getResponseHeader("X-HTTP-Session-Id"):null;D&&(r.sa=D,Tt(r.F,r.D,D))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var l=t;if(r.oa=rE(r,r.H?r.la:null,r.W),l.J){V1(r.i,l);var h=l,_=r.K;_&&h.setTimeout(_),h.B&&(oh(h),pc(h)),r.g=l}else X1(r);0<n.l.length&&hh(n)}else g[0]!="stop"&&g[0]!="close"||Da(n,7);else n.G==3&&(g[0]=="stop"||g[0]=="close"?g[0]=="stop"?Da(n,7):Qm(n):g[0]!="noop"&&n.j&&n.j.wa(g),n.A=0)}}Ll(4)}catch{}}function eO(t){if(t.R&&typeof t.R=="function")return t.R();if(typeof t=="string")return t.split("");if(H_(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function qm(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(H_(t)||typeof t=="string")c1(t,e,void 0);else{if(t.T&&typeof t.T=="function")var n=t.T();else if(t.R&&typeof t.R=="function")n=void 0;else if(H_(t)||typeof t=="string"){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=eO(t),i=r.length;for(var a=0;a<i;a++)e.call(void 0,r[a],n&&n[a],t)}}function io(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof io)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}Oe=io.prototype;Oe.R=function(){Wm(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t};Oe.T=function(){return Wm(this),this.g.concat()};function Wm(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Ka(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)r=t.g[e],Ka(i,r)||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}Oe.get=function(t,e){return Ka(this.h,t)?this.h[t]:e};Oe.set=function(t,e){Ka(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e};Oe.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);t.call(e,a,i,this)}};function Ka(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var P1=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function tO(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var a=t[n].substring(0,r);i=t[n].substring(r+1)}else a=t[n];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ya(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Ya){this.g=e!==void 0?e:t.g,yd(this,t.j),this.s=t.s,bd(this,t.i),wd(this,t.m),this.l=t.l,e=t.h;var n=new Pl;n.i=e.i,e.g&&(n.g=new io(e.g),n.h=e.h),zy(this,n),this.o=t.o}else t&&(n=String(t).match(P1))?(this.g=!!e,yd(this,n[1]||"",!0),this.s=nl(n[2]||""),bd(this,n[3]||"",!0),wd(this,n[4]),this.l=nl(n[5]||"",!0),zy(this,n[6]||"",!0),this.o=nl(n[7]||"")):(this.g=!!e,this.h=new Pl(null,this.g))}Ya.prototype.toString=function(){var t=[],e=this.j;e&&t.push(zo(e,Uy,!0),":");var n=this.i;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(zo(e,Uy,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&t.push("/"),t.push(zo(n,n.charAt(0)=="/"?sO:aO,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",zo(n,lO)),t.join("")};function pi(t){return new Ya(t)}function yd(t,e,n){t.j=n?nl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function bd(t,e,n){t.i=n?nl(e,!0):e}function wd(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function zy(t,e,n){e instanceof Pl?(t.h=e,cO(t.h,t.g)):(n||(e=zo(e,oO)),t.h=new Pl(e,t.g))}function Tt(t,e,n){t.h.set(e,n)}function lh(t){return Tt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function nO(t){return t instanceof Ya?pi(t):new Ya(t,void 0)}function rO(t,e,n,r){var i=new Ya(null,void 0);return t&&yd(i,t),e&&bd(i,e),n&&wd(i,n),r&&(i.l=r),i}function nl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function zo(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,iO),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function iO(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Uy=/[#\/\?@]/g,aO=/[#\?:]/g,sO=/[#\?]/g,oO=/[#\?@]/g,lO=/#/g;function Pl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function fa(t){t.g||(t.g=new io,t.h=0,t.i&&tO(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Oe=Pl.prototype;Oe.add=function(t,e){fa(this),this.i=null,t=ao(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function $1(t,e){fa(t),e=ao(t,e),Ka(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,t=t.g,Ka(t.h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&Wm(t)))}function R1(t,e){return fa(t),e=ao(t,e),Ka(t.g.h,e)}Oe.forEach=function(t,e){fa(this),this.g.forEach(function(n,r){c1(n,function(i){t.call(e,i,r,this)},this)},this)};Oe.T=function(){fa(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],a=0;a<i.length;a++)n.push(e[r]);return n};Oe.R=function(t){fa(this);var e=[];if(typeof t=="string")R1(this,t)&&(e=Iy(e,this.g.get(ao(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=Iy(e,t[n])}return e};Oe.set=function(t,e){return fa(this),this.i=null,t=ao(this,t),R1(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Oe.get=function(t,e){return t?(t=this.R(t),0<t.length?String(t[0]):e):e};function F1(t,e,n){$1(t,e),0<n.length&&(t.i=null,t.g.set(ao(t,e),Im(n)),t.h+=n.length)}Oe.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var l=i;r[a]!==""&&(l+="="+encodeURIComponent(String(r[a]))),t.push(l)}}return this.i=t.join("&")};function ao(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function cO(t,e){e&&!t.j&&(fa(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&($1(this,r),F1(this,i,n))},t)),t.j=e}var uO=class{constructor(t,e){this.h=t,this.g=e}};function j1(t){this.l=t||dO,Ye.PerformanceNavigationTiming?(t=Ye.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Ye.g&&Ye.g.Ea&&Ye.g.Ea()&&Ye.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var dO=10;function z1(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function U1(t){return t.h?1:t.g?t.g.size:0}function ep(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Gm(t,e){t.g?t.g.add(e):t.h=e}function V1(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}j1.prototype.cancel=function(){if(this.i=H1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function H1(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return Im(t.i)}function Km(){}Km.prototype.stringify=function(t){return Ye.JSON.stringify(t,void 0)};Km.prototype.parse=function(t){return Ye.JSON.parse(t,void 0)};function hO(){this.g=new Km}function fO(t,e,n){const r=n||"";try{qm(t,function(i,a){let l=i;uc(i)&&(l=Fm(i)),e.push(r+a+"="+encodeURIComponent(l))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function _O(t,e){const n=new rh;if(Ye.Image){const r=new Image;r.onload=tu(ru,n,r,"TestLoadImage: loaded",!0,e),r.onerror=tu(ru,n,r,"TestLoadImage: error",!1,e),r.onabort=tu(ru,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=tu(ru,n,r,"TestLoadImage: timeout",!1,e),Ye.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function ru(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function mc(t){this.l=t.$b||null,this.j=t.ib||!1}mn(mc,Vm);mc.prototype.g=function(){return new ch(this.l,this.j)};mc.prototype.i=function(t){return function(){return t}}({});function ch(t,e){an.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Ym,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}mn(ch,an);var Ym=0;Oe=ch.prototype;Oe.open=function(t,e){if(this.readyState!=Ym)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,$l(this)};Oe.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Ye).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))};Oe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,gc(this)),this.readyState=Ym};Oe.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,$l(this)),this.g&&(this.readyState=3,$l(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Ye.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;B1(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))};function B1(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}Oe.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?gc(this):$l(this),this.readyState==3&&B1(this)}};Oe.Ua=function(t){this.g&&(this.response=this.responseText=t,gc(this))};Oe.Ta=function(t){this.g&&(this.response=t,gc(this))};Oe.ha=function(){this.g&&gc(this)};function gc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,$l(t)}Oe.setRequestHeader=function(t,e){this.v.append(t,e)};Oe.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Oe.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function $l(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(ch.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var pO=Ye.JSON.parse;function zt(t){an.call(this),this.headers=new io,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=q1,this.K=this.L=!1}mn(zt,an);var q1="",mO=/^https?$/i,gO=["POST","PUT"];Oe=zt.prototype;Oe.ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():J_.g(),this.C=this.u?jy(this.u):jy(J_),this.g.onreadystatechange=dn(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(a){Vy(this,a);return}t=n||"";const i=new io(this.headers);r&&qm(r,function(a,l){i.set(l,a)}),r=NM(i.T()),n=Ye.FormData&&t instanceof Ye.FormData,!(0<=l1(gO,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(a,l){this.g.setRequestHeader(l,a)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{K1(this),0<this.B&&((this.K=vO(this.g))?(this.g.timeout=this.B,this.g.ontimeout=dn(this.pa,this)):this.A=Um(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(a){Vy(this,a)}};function vO(t){return Bs&&OM()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}function yO(t){return t.toLowerCase()=="content-type"}Oe.pa=function(){typeof Am<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,hn(this,"timeout"),this.abort(8))};function Vy(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,W1(t),uh(t)}function W1(t){t.D||(t.D=!0,hn(t,"complete"),hn(t,"error"))}Oe.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,hn(this,"complete"),hn(this,"abort"),uh(this))};Oe.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),uh(this,!0)),zt.Z.M.call(this)};Oe.Fa=function(){this.s||(this.F||this.v||this.l?G1(this):this.cb())};Oe.cb=function(){G1(this)};function G1(t){if(t.h&&typeof Am<"u"&&(!t.C[1]||ai(t)!=4||t.ba()!=2)){if(t.v&&ai(t)==4)Um(t.Fa,0,t);else if(hn(t,"readystatechange"),ai(t)==4){t.h=!1;try{const h=t.ba();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=h===0){var i=String(t.H).match(P1)[1]||null;if(!i&&Ye.self&&Ye.self.location){var a=Ye.self.location.protocol;i=a.substr(0,a.length-1)}r=!mO.test(i?i.toLowerCase():"")}n=r}if(n)hn(t,"complete"),hn(t,"success");else{t.m=6;try{var l=2<ai(t)?t.g.statusText:""}catch{l=""}t.j=l+" ["+t.ba()+"]",W1(t)}}finally{uh(t)}}}}function uh(t,e){if(t.g){K1(t);const n=t.g,r=t.C[0]?pd:null;t.g=null,t.C=null,e||hn(t,"ready");try{n.onreadystatechange=r}catch{}}}function K1(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Ye.clearTimeout(t.A),t.A=null)}function ai(t){return t.g?t.g.readyState:0}Oe.ba=function(){try{return 2<ai(this)?this.g.status:-1}catch{return-1}};Oe.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};Oe.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),pO(e)}};function Hy(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case q1:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}Oe.Da=function(){return this.m};Oe.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function bO(t){let e="";return Mm(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Jm(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=bO(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Tt(t,e,n))}function Co(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Y1(t){this.za=0,this.l=[],this.h=new rh,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Co("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Co("baseRetryDelayMs",5e3,t),this.$a=Co("retryDelaySeedMs",1e4,t),this.Ya=Co("forwardChannelMaxRetries",2,t),this.ra=Co("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new j1(t&&t.concurrentRequestLimit),this.Ca=new hO,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||t.Xb!==!1}Oe=Y1.prototype;Oe.ma=8;Oe.G=1;function Qm(t){if(J1(t),t.G==3){var e=t.V++,n=pi(t.F);Tt(n,"SID",t.J),Tt(n,"RID",e),Tt(n,"TYPE","terminate"),vc(t,n),e=new _c(t,t.h,e,void 0),e.K=2,e.v=lh(pi(n)),n=!1,Ye.navigator&&Ye.navigator.sendBeacon&&(n=Ye.navigator.sendBeacon(e.v.toString(),"")),!n&&Ye.Image&&(new Image().src=e.v,n=!0),n||(e.g=iE(e.l,null),e.g.ea(e.v)),e.F=Date.now(),pc(e)}nE(t)}Oe.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch{}};function dh(t){t.g&&(Zm(t),t.g.cancel(),t.g=null)}function J1(t){dh(t),t.u&&(Ye.clearTimeout(t.u),t.u=null),xd(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Ye.clearTimeout(t.m),t.m=null)}function Sf(t,e){t.l.push(new uO(t.Za++,e)),t.G==3&&hh(t)}function hh(t){z1(t.i)||t.m||(t.m=!0,jm(t.Ha,t),t.C=0)}function wO(t,e){return U1(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.l=e.D.concat(t.l),!0):t.G==1||t.G==2||t.C>=(t.Xa?0:t.Ya)?!1:(t.m=hc(dn(t.Ha,t,e),tE(t,t.C)),t.C++,!0)}Oe.Ha=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const i=new _c(this,this.h,t,void 0);let a=this.s;if(this.P&&(a?(a=u1(a),d1(a,this.P)):a=this.P),this.o===null&&(i.H=a),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){t:{var r=this.l[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Q1(this,i,e),n=pi(this.F),Tt(n,"RID",t),Tt(n,"CVER",22),this.D&&Tt(n,"X-HTTP-Session-Id",this.D),vc(this,n),this.o&&a&&Jm(n,this.o,a),Gm(this.i,i),this.Ra&&Tt(n,"TYPE","init"),this.ja?(Tt(n,"$req",e),Tt(n,"SID","null"),i.$=!0,X_(i,n,null)):X_(i,n,e),this.G=2}}else this.G==3&&(t?By(this,t):this.l.length==0||z1(this.i)||By(this))};function By(t,e){var n;e?n=e.m:n=t.V++;const r=pi(t.F);Tt(r,"SID",t.J),Tt(r,"RID",n),Tt(r,"AID",t.U),vc(t,r),t.o&&t.s&&Jm(r,t.o,t.s),n=new _c(t,t.h,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=Q1(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),Gm(t.i,n),X_(n,r,e)}function vc(t,e){t.j&&qm({},function(n,r){Tt(e,r,n)})}function Q1(t,e,n){n=Math.min(t.l.length,n);var r=t.j?dn(t.j.Oa,t.j,t):null;e:{var i=t.l;let a=-1;for(;;){const l=["count="+n];a==-1?0<n?(a=i[0].h,l.push("ofs="+a)):a=0:l.push("ofs="+a);let h=!0;for(let _=0;_<n;_++){let g=i[_].h;const k=i[_].g;if(g-=a,0>g)a=Math.max(0,i[_].h-100),h=!1;else try{fO(k,l,"req"+g+"_")}catch{r&&r(k)}}if(h){r=l.join("&");break e}}}return t=t.l.splice(0,n),e.D=t,r}function X1(t){t.g||t.u||(t.Y=1,jm(t.Ga,t),t.A=0)}function Xm(t){return t.g||t.u||3<=t.A?!1:(t.Y++,t.u=hc(dn(t.Ga,t),tE(t,t.A)),t.A++,!0)}Oe.Ga=function(){if(this.u=null,Z1(this),this.$&&!(this.L||this.g==null||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=hc(dn(this.bb,this),t)}};Oe.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,On(10),dh(this),Z1(this))};function Zm(t){t.B!=null&&(Ye.clearTimeout(t.B),t.B=null)}function Z1(t){t.g=new _c(t,t.h,"rpc",t.Y),t.o===null&&(t.g.H=t.s),t.g.O=0;var e=pi(t.oa);Tt(e,"RID","rpc"),Tt(e,"SID",t.J),Tt(e,"CI",t.N?"0":"1"),Tt(e,"AID",t.U),vc(t,e),Tt(e,"TYPE","xmlhttp"),t.o&&t.s&&Jm(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=lh(pi(e)),n.s=null,n.U=!0,I1(n,t)}Oe.ab=function(){this.v!=null&&(this.v=null,dh(this),Xm(this),On(19))};function xd(t){t.v!=null&&(Ye.clearTimeout(t.v),t.v=null)}function eE(t,e){var n=null;if(t.g==e){xd(t),Zm(t),t.g=null;var r=2}else if(ep(t.i,e))n=e.D,V1(t.i,e),r=1;else return;if(t.I=e.N,t.G!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=ih(),hn(r,new C1(r,n)),hh(t)}else X1(t);else if(i=e.o,i==3||i==0&&0<t.I||!(r==1&&wO(t,e)||r==2&&Xm(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Da(t,5);break;case 4:Da(t,10);break;case 3:Da(t,6);break;default:Da(t,2)}}}function tE(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function Da(t,e){if(t.h.info("Error code "+e),e==2){var n=null;t.j&&(n=null);var r=dn(t.jb,t);n||(n=new Ya("//www.google.com/images/cleardot.gif"),Ye.location&&Ye.location.protocol=="http"||yd(n,"https"),lh(n)),_O(n.toString(),r)}else On(2);t.G=0,t.j&&t.j.va(e),nE(t),J1(t)}Oe.jb=function(t){t?(this.h.info("Successfully pinged google.com"),On(2)):(this.h.info("Failed to ping google.com"),On(1))};function nE(t){t.G=0,t.I=-1,t.j&&((H1(t.i).length!=0||t.l.length!=0)&&(t.i.i.length=0,Im(t.l),t.l.length=0),t.j.ua())}function rE(t,e,n){let r=nO(n);if(r.i!="")e&&bd(r,e+"."+r.i),wd(r,r.m);else{const i=Ye.location;r=rO(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&Mm(t.aa,function(i,a){Tt(r,a,i)}),e=t.D,n=t.sa,e&&n&&Tt(r,e,n),Tt(r,"VER",t.ma),vc(t,r),r}function iE(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ba&&!t.qa?new zt(new mc({ib:!0})):new zt(t.qa),e.L=t.H,e}function aE(){}Oe=aE.prototype;Oe.xa=function(){};Oe.wa=function(){};Oe.va=function(){};Oe.ua=function(){};Oe.Oa=function(){};function Ed(){if(Bs&&!(10<=Number(LM)))throw Error("Environmental error: no available transport.")}Ed.prototype.g=function(t,e){return new rr(t,e)};function rr(t,e){an.call(this),this.g=new Y1(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!md(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!md(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new so(this)}mn(rr,an);rr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),jm(dn(t.hb,t,e))),On(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=rE(t,null,t.W),hh(t)};rr.prototype.close=function(){Qm(this.g)};rr.prototype.u=function(t){if(typeof t=="string"){var e={};e.__data__=t,Sf(this.g,e)}else this.v?(e={},e.__data__=Fm(t),Sf(this.g,e)):Sf(this.g,t)};rr.prototype.M=function(){this.g.j=null,delete this.j,Qm(this.g),delete this.g,rr.Z.M.call(this)};function sE(t){Hm.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}mn(sE,Hm);function oE(){Bm.call(this),this.status=1}mn(oE,Bm);function so(t){this.g=t}mn(so,aE);so.prototype.xa=function(){hn(this.g,"a")};so.prototype.wa=function(t){hn(this.g,new sE(t))};so.prototype.va=function(t){hn(this.g,new oE)};so.prototype.ua=function(){hn(this.g,"b")};Ed.prototype.createWebChannel=Ed.prototype.g;rr.prototype.send=rr.prototype.u;rr.prototype.open=rr.prototype.m;rr.prototype.close=rr.prototype.close;ah.NO_ERROR=0;ah.TIMEOUT=8;ah.HTTP_ERROR=6;N1.COMPLETE="complete";D1.EventType=fc;fc.OPEN="a";fc.CLOSE="b";fc.ERROR="c";fc.MESSAGE="d";an.prototype.listen=an.prototype.N;zt.prototype.listenOnce=zt.prototype.O;zt.prototype.getLastError=zt.prototype.La;zt.prototype.getLastErrorCode=zt.prototype.Da;zt.prototype.getStatus=zt.prototype.ba;zt.prototype.getResponseJson=zt.prototype.Qa;zt.prototype.getResponseText=zt.prototype.ga;zt.prototype.send=zt.prototype.ea;var xO=function(){return new Ed},EO=function(){return ih()},Tf=ah,kO=N1,SO=ns,qy={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},TO=mc,iu=D1,CO=zt;const Wy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vn.UNAUTHENTICATED=new Vn(null),Vn.GOOGLE_CREDENTIALS=new Vn("google-credentials-uid"),Vn.FIRST_PARTY=new Vn("first-party-uid"),Vn.MOCK_USER=new Vn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oo="9.9.4";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja=new vm("@firebase/firestore");function Gy(){return Ja.logLevel}function je(t,...e){if(Ja.logLevel<=ht.DEBUG){const n=e.map(eg);Ja.debug(`Firestore (${oo}): ${t}`,...n)}}function mi(t,...e){if(Ja.logLevel<=ht.ERROR){const n=e.map(eg);Ja.error(`Firestore (${oo}): ${t}`,...n)}}function Ky(t,...e){if(Ja.logLevel<=ht.WARN){const n=e.map(eg);Ja.warn(`Firestore (${oo}): ${t}`,...n)}}function eg(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(t="Unexpected state"){const e=`FIRESTORE (${oo}) INTERNAL ASSERTION FAILED: `+t;throw mi(e),new Error(e)}function vt(t,e){t||Qe()}function Ze(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _e={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $e extends xi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class DO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Vn.UNAUTHENTICATED))}shutdown(){}}class AO{constructor(e){this.t=e,this.currentUser=Vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=_=>this.i!==r?(r=this.i,n(_)):Promise.resolve();let a=new li;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new li,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const _=a;e.enqueueRetryable(async()=>{await _.promise,await i(this.currentUser)})},h=_=>{je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.auth.addAuthTokenListener(this.o),l()};this.t.onInit(_=>h(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?h(_):(je("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new li)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(vt(typeof r.accessToken=="string"),new NO(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return vt(e===null||typeof e=="string"),new Vn(e)}}class IO{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=Vn.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(vt(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class MO{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i}getToken(){return Promise.resolve(new IO(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(Vn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class OO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class LO{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const r=a=>{a.error!=null&&je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.A;return this.A=a.token,je("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.T.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.T.getImmediate({optional:!0});a?i(a):je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(vt(typeof n.token=="string"),this.A=n.token,new OO(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=PO(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%e.length))}return r}}function ft(t,e){return t<e?-1:t>e?1:0}function qs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new $e(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new $e(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new $e(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $e(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return qt.fromMillis(Date.now())}static fromDate(e){return qt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new qt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ft(this.nanoseconds,e.nanoseconds):ft(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new rt(e)}static min(){return new rt(new qt(0,0))}static max(){return new rt(new qt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,n,r){n===void 0?n=0:n>e.length&&Qe(),r===void 0?r=e.length-n:r>e.length-n&&Qe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Rl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Rl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=e.get(i),l=n.get(i);if(a<l)return-1;if(a>l)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Et extends Rl{construct(e,n,r){return new Et(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new $e(_e.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Et(n)}static emptyPath(){return new Et([])}}const $O=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xn extends Rl{construct(e,n,r){return new xn(e,n,r)}static isValidIdentifier(e){return $O.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new xn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new $e(_e.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const h=e[i];if(h==="\\"){if(i+1===e.length)throw new $e(_e.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[i+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new $e(_e.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,i+=2}else h==="`"?(l=!l,i++):h!=="."||l?(r+=h,i++):(a(),i++)}if(a(),l)throw new $e(_e.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xn(n)}static emptyPath(){return new xn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e){this.path=e}static fromPath(e){return new ze(Et.fromString(e))}static fromName(e){return new ze(Et.fromString(e).popFirst(5))}static empty(){return new ze(Et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ze(new Et(e.slice()))}}function RO(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=rt.fromTimestamp(r===1e9?new qt(n+1,0):new qt(n,r));return new aa(i,ze.empty(),e)}function FO(t){return new aa(t.readTime,t.key,-1)}class aa{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new aa(rt.min(),ze.empty(),-1)}static max(){return new aa(rt.max(),ze.empty(),-1)}}function jO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ze.comparator(t.documentKey,e.documentKey),n!==0?n:ft(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yc(t){if(t.code!==_e.FAILED_PRECONDITION||t.message!==zO)throw t;je("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Qe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new be((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof be?n:be.resolve(n)}catch(n){return be.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):be.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):be.reject(n)}static resolve(e){return new be((n,r)=>{n(e)})}static reject(e){return new be((n,r)=>{r(e)})}static waitFor(e){return new be((n,r)=>{let i=0,a=0,l=!1;e.forEach(h=>{++i,h.next(()=>{++a,l&&a===i&&n()},_=>r(_))}),l=!0,a===i&&n()})}static or(e){let n=be.resolve(!1);for(const r of e)n=n.next(i=>i?be.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new be((r,i)=>{const a=e.length,l=new Array(a);let h=0;for(let _=0;_<a;_++){const g=_;n(e[g]).next(k=>{l[g]=k,++h,h===a&&r(l)},k=>i(k))}})}static doWhile(e,n){return new be((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function bc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>n.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yy(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function rs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function cE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tg.at=-1;class Gt{constructor(e,n){this.comparator=e,this.root=n||ln.EMPTY}insert(e,n){return new Gt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ln.BLACK,null,null))}remove(e){return new Gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ln.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new au(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new au(this.root,e,this.comparator,!1)}getReverseIterator(){return new au(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new au(this.root,e,this.comparator,!0)}}class au{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ln{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r!=null?r:ln.RED,this.left=i!=null?i:ln.EMPTY,this.right=a!=null?a:ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new ln(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,a!=null?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ln.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ln.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Qe();const e=this.left.check();if(e!==this.right.check())throw Qe();return e+(this.isRed()?0:1)}}ln.EMPTY=null,ln.RED=!0,ln.BLACK=!1;ln.EMPTY=new class{constructor(){this.size=0}get key(){throw Qe()}get value(){throw Qe()}get color(){throw Qe()}get left(){throw Qe()}get right(){throw Qe()}copy(t,e,n,r,i){return this}insert(t,e,n){return new ln(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.comparator=e,this.data=new Gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Jy(this.data.getIterator())}getIteratorFrom(e){return new Jy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Wt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Wt(this.comparator);return n.data=e,n}}class Jy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e){this.fields=e,e.sort(xn.comparator)}static empty(){return new mr([])}unionWith(e){let n=new Wt(xn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new mr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return qs(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new pn(n)}static fromUint8Array(e){const n=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new pn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ft(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pn.EMPTY_BYTE_STRING=new pn("");const VO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sa(t){if(vt(!!t),typeof t=="string"){let e=0;const n=VO.exec(t);if(vt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ft(t.seconds),nanos:Ft(t.nanos)}}function Ft(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ws(t){return typeof t=="string"?pn.fromBase64String(t):pn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uE(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function dE(t){const e=t.mapValue.fields.__previous_value__;return uE(e)?dE(e):e}function Fl(t){const e=sa(t.mapValue.fields.__local_write_time__.timestampValue);return new qt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e,n,r,i,a,l,h,_){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=h,this.useFetchStreams=_}}class jl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new jl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof jl&&e.projectId===this.projectId&&e.database===this.database}}function fh(t){return t==null}function kd(t){return t===0&&1/t==-1/0}function BO(t){return typeof t=="number"&&Number.isInteger(t)&&!kd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Qa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?uE(t)?4:qO(t)?9007199254740991:10:Qe()}function Gr(t,e){if(t===e)return!0;const n=Qa(t);if(n!==Qa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Fl(t).isEqual(Fl(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=sa(r.timestampValue),l=sa(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Ws(r.bytesValue).isEqual(Ws(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Ft(r.geoPointValue.latitude)===Ft(i.geoPointValue.latitude)&&Ft(r.geoPointValue.longitude)===Ft(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ft(r.integerValue)===Ft(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=Ft(r.doubleValue),l=Ft(i.doubleValue);return a===l?kd(a)===kd(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return qs(t.arrayValue.values||[],e.arrayValue.values||[],Gr);case 10:return function(r,i){const a=r.mapValue.fields||{},l=i.mapValue.fields||{};if(Yy(a)!==Yy(l))return!1;for(const h in a)if(a.hasOwnProperty(h)&&(l[h]===void 0||!Gr(a[h],l[h])))return!1;return!0}(t,e);default:return Qe()}}function zl(t,e){return(t.values||[]).find(n=>Gr(n,e))!==void 0}function Gs(t,e){if(t===e)return 0;const n=Qa(t),r=Qa(e);if(n!==r)return ft(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ft(t.booleanValue,e.booleanValue);case 2:return function(i,a){const l=Ft(i.integerValue||i.doubleValue),h=Ft(a.integerValue||a.doubleValue);return l<h?-1:l>h?1:l===h?0:isNaN(l)?isNaN(h)?0:-1:1}(t,e);case 3:return Qy(t.timestampValue,e.timestampValue);case 4:return Qy(Fl(t),Fl(e));case 5:return ft(t.stringValue,e.stringValue);case 6:return function(i,a){const l=Ws(i),h=Ws(a);return l.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(i,a){const l=i.split("/"),h=a.split("/");for(let _=0;_<l.length&&_<h.length;_++){const g=ft(l[_],h[_]);if(g!==0)return g}return ft(l.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,a){const l=ft(Ft(i.latitude),Ft(a.latitude));return l!==0?l:ft(Ft(i.longitude),Ft(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,a){const l=i.values||[],h=a.values||[];for(let _=0;_<l.length&&_<h.length;++_){const g=Gs(l[_],h[_]);if(g)return g}return ft(l.length,h.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===su.mapValue&&a===su.mapValue)return 0;if(i===su.mapValue)return 1;if(a===su.mapValue)return-1;const l=i.fields||{},h=Object.keys(l),_=a.fields||{},g=Object.keys(_);h.sort(),g.sort();for(let k=0;k<h.length&&k<g.length;++k){const C=ft(h[k],g[k]);if(C!==0)return C;const T=Gs(l[h[k]],_[g[k]]);if(T!==0)return T}return ft(h.length,g.length)}(t.mapValue,e.mapValue);default:throw Qe()}}function Qy(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ft(t,e);const n=sa(t),r=sa(e),i=ft(n.seconds,r.seconds);return i!==0?i:ft(n.nanos,r.nanos)}function Os(t){return tp(t)}function tp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=sa(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ws(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,ze.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",a=!0;for(const l of r.values||[])a?a=!1:i+=",",i+=tp(l);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",l=!0;for(const h of i)l?l=!1:a+=",",a+=`${h}:${tp(r.fields[h])}`;return a+"}"}(t.mapValue):Qe();var e,n}function Xy(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function np(t){return!!t&&"integerValue"in t}function ng(t){return!!t&&"arrayValue"in t}function Zy(t){return!!t&&"nullValue"in t}function e0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Au(t){return!!t&&"mapValue"in t}function rl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return rs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=rl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=rl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function qO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.value=e}static empty(){return new qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Au(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=rl(n)}setAll(e){let n=xn.emptyPath(),r={},i=[];e.forEach((l,h)=>{if(!n.isImmediateParentOf(h)){const _=this.getFieldsMap(n);this.applyChanges(_,r,i),r={},i=[],n=h.popLast()}l?r[h.lastSegment()]=rl(l):i.push(h.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());Au(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Gr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Au(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){rs(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new qn(rl(this.value))}}function hE(t){const e=[];return rs(t.fields,(n,r)=>{const i=new xn([n]);if(Au(r)){const a=hE(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new mr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,n,r,i,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=l}static newInvalidDocument(e){return new cn(e,0,rt.min(),rt.min(),qn.empty(),0)}static newFoundDocument(e,n,r){return new cn(e,1,n,rt.min(),r,0)}static newNoDocument(e,n){return new cn(e,2,n,rt.min(),qn.empty(),0)}static newUnknownDocument(e,n){return new cn(e,3,n,rt.min(),qn.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=rt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{constructor(e,n=null,r=[],i=[],a=null,l=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=h,this.ht=null}}function t0(t,e=null,n=[],r=[],i=null,a=null,l=null){return new WO(t,e,n,r,i,a,l)}function rg(t){const e=Ze(t);if(e.ht===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Os(i.value);var i}).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),fh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Os(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Os(r)).join(",")),e.ht=n}return e.ht}function GO(t){let e=t.path.canonicalString();return t.collectionGroup!==null&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${Os(r.value)}`;var r}).join(", ")}]`),fh(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(n)).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>Os(n)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>Os(n)).join(",")),`Target(${e})`}function ig(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!tL(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if(n=t.filters[i],r=e.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!Gr(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!r0(t.startAt,e.startAt)&&r0(t.endAt,e.endAt)}function rp(t){return ze.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Ln extends class{}{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.lt(e,n,r):new KO(e,n,r):n==="array-contains"?new QO(e,r):n==="in"?new XO(e,r):n==="not-in"?new ZO(e,r):n==="array-contains-any"?new eL(e,r):new Ln(e,n,r)}static lt(e,n,r){return n==="in"?new YO(e,r):new JO(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.ft(Gs(n,this.value)):n!==null&&Qa(this.value)===Qa(n)&&this.ft(Gs(n,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Qe()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class KO extends Ln{constructor(e,n,r){super(e,n,r),this.key=ze.fromName(r.referenceValue)}matches(e){const n=ze.comparator(e.key,this.key);return this.ft(n)}}class YO extends Ln{constructor(e,n){super(e,"in",n),this.keys=fE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class JO extends Ln{constructor(e,n){super(e,"not-in",n),this.keys=fE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function fE(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ze.fromName(r.referenceValue))}class QO extends Ln{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ng(n)&&zl(n.arrayValue,this.value)}}class XO extends Ln{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&zl(this.value.arrayValue,n)}}class ZO extends Ln{constructor(e,n){super(e,"not-in",n)}matches(e){if(zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!zl(this.value.arrayValue,n)}}class eL extends Ln{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ng(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>zl(this.value.arrayValue,r))}}class Sd{constructor(e,n){this.position=e,this.inclusive=n}}class il{constructor(e,n="asc"){this.field=e,this.dir=n}}function tL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function n0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],l=t.position[i];if(a.field.isKeyField()?r=ze.comparator(ze.fromName(l.referenceValue),n.key):r=Gs(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function r0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Gr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,n=null,r=[],i=[],a=null,l="F",h=null,_=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=h,this.endAt=_,this._t=null,this.wt=null,this.startAt,this.endAt}}function nL(t,e,n,r,i,a,l,h){return new wc(t,e,n,r,i,a,l,h)}function _h(t){return new wc(t)}function i0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function _E(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function pE(t){for(const e of t.filters)if(e.dt())return e.field;return null}function mE(t){return t.collectionGroup!==null}function Ul(t){const e=Ze(t);if(e._t===null){e._t=[];const n=pE(e),r=_E(e);if(n!==null&&r===null)n.isKeyField()||e._t.push(new il(n)),e._t.push(new il(xn.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e._t.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new il(xn.keyField(),a))}}}return e._t}function gi(t){const e=Ze(t);if(!e.wt)if(e.limitType==="F")e.wt=t0(e.path,e.collectionGroup,Ul(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const a of Ul(e)){const l=a.dir==="desc"?"asc":"desc";n.push(new il(a.field,l))}const r=e.endAt?new Sd(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Sd(e.startAt.position,e.startAt.inclusive):null;e.wt=t0(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.wt}function ip(t,e,n){return new wc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ph(t,e){return ig(gi(t),gi(e))&&t.limitType===e.limitType}function gE(t){return`${rg(gi(t))}|lt:${t.limitType}`}function ap(t){return`Query(target=${GO(gi(t))}; limitType=${t.limitType})`}function ag(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):ze.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of n.explicitOrderBy)if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,a,l){const h=n0(i,a,l);return i.inclusive?h<=0:h<0}(n.startAt,Ul(n),r)||n.endAt&&!function(i,a,l){const h=n0(i,a,l);return i.inclusive?h>=0:h>0}(n.endAt,Ul(n),r))}(t,e)}function rL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function vE(t){return(e,n)=>{let r=!1;for(const i of Ul(t)){const a=iL(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function iL(t,e,n){const r=t.field.isKeyField()?ze.comparator(e.key,n.key):function(i,a,l){const h=a.data.field(i),_=l.data.field(i);return h!==null&&_!==null?Gs(h,_):Qe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Qe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(t,e){if(t.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kd(e)?"-0":e}}function bE(t){return{integerValue:""+t}}function wE(t,e){return BO(e)?bE(e):yE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(){this._=void 0}}function aL(t,e,n){return t instanceof Vl?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(a.fields.__previous_value__=i),{mapValue:a}}(n,e):t instanceof Hl?EE(t,e):t instanceof Bl?kE(t,e):function(r,i){const a=xE(r,i),l=a0(a)+a0(r.yt);return np(a)&&np(r.yt)?bE(l):yE(r.It,l)}(t,e)}function sL(t,e,n){return t instanceof Hl?EE(t,e):t instanceof Bl?kE(t,e):n}function xE(t,e){return t instanceof ql?np(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Vl extends mh{}class Hl extends mh{constructor(e){super(),this.elements=e}}function EE(t,e){const n=SE(e);for(const r of t.elements)n.some(i=>Gr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Bl extends mh{constructor(e){super(),this.elements=e}}function kE(t,e){let n=SE(e);for(const r of t.elements)n=n.filter(i=>!Gr(i,r));return{arrayValue:{values:n}}}class ql extends mh{constructor(e,n){super(),this.It=e,this.yt=n}}function a0(t){return Ft(t.integerValue||t.doubleValue)}function SE(t){return ng(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e,n){this.field=e,this.transform=n}}function oL(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof Hl&&r instanceof Hl||n instanceof Bl&&r instanceof Bl?qs(n.elements,r.elements,Gr):n instanceof ql&&r instanceof ql?Gr(n.yt,r.yt):n instanceof Vl&&r instanceof Vl}(t.transform,e.transform)}class lL{constructor(e,n){this.version=e,this.transformResults=n}}class Ir{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ir}static exists(e){return new Ir(void 0,e)}static updateTime(e){return new Ir(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Iu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class gh{}function CE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new DE(t.key,Ir.none()):new xc(t.key,t.data,Ir.none());{const n=t.data,r=qn.empty();let i=new Wt(xn.comparator);for(let a of e.fields)if(!i.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new _a(t.key,r,new mr(i.toArray()),Ir.none())}}function cL(t,e,n){t instanceof xc?function(r,i,a){const l=r.value.clone(),h=o0(r.fieldTransforms,i,a.transformResults);l.setAll(h),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof _a?function(r,i,a){if(!Iu(r.precondition,i))return void i.convertToUnknownDocument(a.version);const l=o0(r.fieldTransforms,i,a.transformResults),h=i.data;h.setAll(NE(r)),h.setAll(l),i.convertToFoundDocument(a.version,h).setHasCommittedMutations()}(t,e,n):function(r,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function al(t,e,n,r){return t instanceof xc?function(i,a,l,h){if(!Iu(i.precondition,a))return l;const _=i.value.clone(),g=l0(i.fieldTransforms,h,a);return _.setAll(g),a.convertToFoundDocument(a.version,_).setHasLocalMutations(),null}(t,e,n,r):t instanceof _a?function(i,a,l,h){if(!Iu(i.precondition,a))return l;const _=l0(i.fieldTransforms,h,a),g=a.data;return g.setAll(NE(i)),g.setAll(_),a.convertToFoundDocument(a.version,g).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(k=>k.field))}(t,e,n,r):function(i,a,l){return Iu(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function uL(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=xE(r.transform,i||null);a!=null&&(n===null&&(n=qn.empty()),n.set(r.field,a))}return n||null}function s0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&qs(n,r,(i,a)=>oL(i,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class xc extends gh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class _a extends gh{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function NE(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function o0(t,e,n){const r=new Map;vt(t.length===n.length);for(let i=0;i<n.length;i++){const a=t[i],l=a.transform,h=e.data.field(a.field);r.set(a.field,sL(l,h,n[i]))}return r}function l0(t,e,n){const r=new Map;for(const i of t){const a=i.transform,l=n.data.field(i.field);r.set(i.field,aL(a,l,e))}return r}class DE extends gh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dL extends gh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $t,st;function fL(t){switch(t){default:return Qe();case _e.CANCELLED:case _e.UNKNOWN:case _e.DEADLINE_EXCEEDED:case _e.RESOURCE_EXHAUSTED:case _e.INTERNAL:case _e.UNAVAILABLE:case _e.UNAUTHENTICATED:return!1;case _e.INVALID_ARGUMENT:case _e.NOT_FOUND:case _e.ALREADY_EXISTS:case _e.PERMISSION_DENIED:case _e.FAILED_PRECONDITION:case _e.ABORTED:case _e.OUT_OF_RANGE:case _e.UNIMPLEMENTED:case _e.DATA_LOSS:return!0}}function AE(t){if(t===void 0)return mi("GRPC error has no .code"),_e.UNKNOWN;switch(t){case $t.OK:return _e.OK;case $t.CANCELLED:return _e.CANCELLED;case $t.UNKNOWN:return _e.UNKNOWN;case $t.DEADLINE_EXCEEDED:return _e.DEADLINE_EXCEEDED;case $t.RESOURCE_EXHAUSTED:return _e.RESOURCE_EXHAUSTED;case $t.INTERNAL:return _e.INTERNAL;case $t.UNAVAILABLE:return _e.UNAVAILABLE;case $t.UNAUTHENTICATED:return _e.UNAUTHENTICATED;case $t.INVALID_ARGUMENT:return _e.INVALID_ARGUMENT;case $t.NOT_FOUND:return _e.NOT_FOUND;case $t.ALREADY_EXISTS:return _e.ALREADY_EXISTS;case $t.PERMISSION_DENIED:return _e.PERMISSION_DENIED;case $t.FAILED_PRECONDITION:return _e.FAILED_PRECONDITION;case $t.ABORTED:return _e.ABORTED;case $t.OUT_OF_RANGE:return _e.OUT_OF_RANGE;case $t.UNIMPLEMENTED:return _e.UNIMPLEMENTED;case $t.DATA_LOSS:return _e.DATA_LOSS;default:return Qe()}}(st=$t||($t={}))[st.OK=0]="OK",st[st.CANCELLED=1]="CANCELLED",st[st.UNKNOWN=2]="UNKNOWN",st[st.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",st[st.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",st[st.NOT_FOUND=5]="NOT_FOUND",st[st.ALREADY_EXISTS=6]="ALREADY_EXISTS",st[st.PERMISSION_DENIED=7]="PERMISSION_DENIED",st[st.UNAUTHENTICATED=16]="UNAUTHENTICATED",st[st.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",st[st.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",st[st.ABORTED=10]="ABORTED",st[st.OUT_OF_RANGE=11]="OUT_OF_RANGE",st[st.UNIMPLEMENTED=12]="UNIMPLEMENTED",st[st.INTERNAL=13]="INTERNAL",st[st.UNAVAILABLE=14]="UNAVAILABLE",st[st.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){rs(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return cE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _L=new Gt(ze.comparator);function vi(){return _L}const IE=new Gt(ze.comparator);function Uo(...t){let e=IE;for(const n of t)e=e.insert(n.key,n);return e}function ME(t){let e=IE;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Aa(){return sl()}function OE(){return sl()}function sl(){return new lo(t=>t.toString(),(t,e)=>t.isEqual(e))}const pL=new Gt(ze.comparator),mL=new Wt(ze.comparator);function it(...t){let e=mL;for(const n of t)e=e.add(n);return e}const gL=new Wt(ft);function LE(){return gL}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n){const r=new Map;return r.set(e,Ec.createSynthesizedTargetChangeForCurrentChange(e,n)),new vh(rt.min(),r,LE(),vi(),it())}}class Ec{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n){return new Ec(pn.EMPTY_BYTE_STRING,n,it(),it(),it())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n,r,i){this.Tt=e,this.removedTargetIds=n,this.key=r,this.Et=i}}class PE{constructor(e,n){this.targetId=e,this.At=n}}class $E{constructor(e,n,r=pn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class c0{constructor(){this.Rt=0,this.bt=d0(),this.Pt=pn.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return this.Rt!==0}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=it(),n=it(),r=it();return this.bt.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Qe()}}),new Ec(this.Pt,this.vt,e,n,r)}Nt(){this.Vt=!1,this.bt=d0()}kt(e,n){this.Vt=!0,this.bt=this.bt.insert(e,n)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class vL{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=vi(),this.qt=u0(),this.Kt=new Wt(ft)}Gt(e){for(const n of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(n,e.Et):this.jt(n,e.key,e.Et);for(const n of e.removedTargetIds)this.jt(n,e.key,e.Et)}Wt(e){this.forEachTarget(e,n=>{const r=this.zt(n);switch(e.state){case 0:this.Ht(n)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(n);break;case 3:this.Ht(n)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(n)&&(this.Jt(n),r.Ct(e.resumeToken));break;default:Qe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Lt.forEach((r,i)=>{this.Ht(i)&&n(i)})}Yt(e){const n=e.targetId,r=e.At.count,i=this.Xt(n);if(i){const a=i.target;if(rp(a))if(r===0){const l=new ze(a.path);this.jt(n,l,cn.newNoDocument(l,rt.min()))}else vt(r===1);else this.Zt(n)!==r&&(this.Jt(n),this.Kt=this.Kt.add(n))}}te(e){const n=new Map;this.Lt.forEach((a,l)=>{const h=this.Xt(l);if(h){if(a.current&&rp(h.target)){const _=new ze(h.target.path);this.Ut.get(_)!==null||this.ee(l,_)||this.jt(l,_,cn.newNoDocument(_,e))}a.Dt&&(n.set(l,a.xt()),a.Nt())}});let r=it();this.qt.forEach((a,l)=>{let h=!0;l.forEachWhile(_=>{const g=this.Xt(_);return!g||g.purpose===2||(h=!1,!1)}),h&&(r=r.add(a))}),this.Ut.forEach((a,l)=>l.setReadTime(e));const i=new vh(e,n,this.Kt,this.Ut,r);return this.Ut=vi(),this.qt=u0(),this.Kt=new Wt(ft),i}Qt(e,n){if(!this.Ht(e))return;const r=this.ee(e,n.key)?2:0;this.zt(e).kt(n.key,r),this.Ut=this.Ut.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ne(n.key).add(e))}jt(e,n,r){if(!this.Ht(e))return;const i=this.zt(e);this.ee(e,n)?i.kt(n,1):i.Mt(n),this.qt=this.qt.insert(n,this.ne(n).delete(e)),r&&(this.Ut=this.Ut.insert(n,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const n=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let n=this.Lt.get(e);return n||(n=new c0,this.Lt.set(e,n)),n}ne(e){let n=this.qt.get(e);return n||(n=new Wt(ft),this.qt=this.qt.insert(e,n)),n}Ht(e){const n=this.Xt(e)!==null;return n||je("WatchChangeAggregator","Detected inactive target",e),n}Xt(e){const n=this.Lt.get(e);return n&&n.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new c0),this.Bt.getRemoteKeysForTarget(e).forEach(n=>{this.jt(e,n,null)})}ee(e,n){return this.Bt.getRemoteKeysForTarget(e).has(n)}}function u0(){return new Gt(ze.comparator)}function d0(){return new Gt(ze.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yL=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),bL=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))();class wL{constructor(e,n){this.databaseId=e,this.gt=n}}function Td(t,e){return t.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function RE(t,e){return t.gt?e.toBase64():e.toUint8Array()}function xL(t,e){return Td(t,e.toTimestamp())}function ci(t){return vt(!!t),rt.fromTimestamp(function(e){const n=sa(e);return new qt(n.seconds,n.nanos)}(t))}function sg(t,e){return function(n){return new Et(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function FE(t){const e=Et.fromString(t);return vt(UE(e)),e}function sp(t,e){return sg(t.databaseId,e.path)}function Cf(t,e){const n=FE(e);if(n.get(1)!==t.databaseId.projectId)throw new $e(_e.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new $e(_e.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ze(jE(n))}function op(t,e){return sg(t.databaseId,e)}function EL(t){const e=FE(t);return e.length===4?Et.emptyPath():jE(e)}function lp(t){return new Et(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function jE(t){return vt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function h0(t,e,n){return{name:sp(t,e),fields:n.value.mapValue.fields}}function kL(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Qe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(_,g){return _.gt?(vt(g===void 0||typeof g=="string"),pn.fromBase64String(g||"")):(vt(g===void 0||g instanceof Uint8Array),pn.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,h=l&&function(_){const g=_.code===void 0?_e.UNKNOWN:AE(_.code);return new $e(g,_.message||"")}(l);n=new $E(r,i,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Cf(t,r.document.name),a=ci(r.document.updateTime),l=new qn({mapValue:{fields:r.document.fields}}),h=cn.newFoundDocument(i,a,l),_=r.targetIds||[],g=r.removedTargetIds||[];n=new Mu(_,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Cf(t,r.document),a=r.readTime?ci(r.readTime):rt.min(),l=cn.newNoDocument(i,a),h=r.removedTargetIds||[];n=new Mu([],h,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Cf(t,r.document),a=r.removedTargetIds||[];n=new Mu([],a,i,null)}else{if(!("filter"in e))return Qe();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,a=new hL(i),l=r.targetId;n=new PE(l,a)}}return n}function SL(t,e){let n;if(e instanceof xc)n={update:h0(t,e.key,e.value)};else if(e instanceof DE)n={delete:sp(t,e.key)};else if(e instanceof _a)n={update:h0(t,e.key,e.data),updateMask:PL(e.fieldMask)};else{if(!(e instanceof dL))return Qe();n={verify:sp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const l=a.transform;if(l instanceof Vl)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Hl)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Bl)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof ql)return{fieldPath:a.field.canonicalString(),increment:l.yt};throw Qe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:xL(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Qe()}(t,e.precondition)),n}function TL(t,e){return t&&t.length>0?(vt(e!==void 0),t.map(n=>function(r,i){let a=r.updateTime?ci(r.updateTime):ci(i);return a.isEqual(rt.min())&&(a=ci(i)),new lL(a,r.transformResults||[])}(n,e))):[]}function CL(t,e){return{documents:[op(t,e.path)]}}function NL(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=op(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=op(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(_){if(_.length===0)return;const g=_.map(k=>function(C){if(C.op==="=="){if(e0(C.value))return{unaryFilter:{field:ls(C.field),op:"IS_NAN"}};if(Zy(C.value))return{unaryFilter:{field:ls(C.field),op:"IS_NULL"}}}else if(C.op==="!="){if(e0(C.value))return{unaryFilter:{field:ls(C.field),op:"IS_NOT_NAN"}};if(Zy(C.value))return{unaryFilter:{field:ls(C.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ls(C.field),op:ML(C.op),value:C.value}}}(k));return g.length===1?g[0]:{compositeFilter:{op:"AND",filters:g}}}(e.filters);i&&(n.structuredQuery.where=i);const a=function(_){if(_.length!==0)return _.map(g=>function(k){return{field:ls(k.field),direction:IL(k.dir)}}(g))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=function(_,g){return _.gt||fh(g)?g:{value:g}}(t,e.limit);var h;return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),n}function DL(t){let e=EL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){vt(r===1);const k=n.from[0];k.allDescendants?i=k.collectionId:e=e.child(k.collectionId)}let a=[];n.where&&(a=zE(n.where));let l=[];n.orderBy&&(l=n.orderBy.map(k=>function(C){return new il(ks(C.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(k)));let h=null;n.limit&&(h=function(k){let C;return C=typeof k=="object"?k.value:k,fh(C)?null:C}(n.limit));let _=null;n.startAt&&(_=function(k){const C=!!k.before,T=k.values||[];return new Sd(T,C)}(n.startAt));let g=null;return n.endAt&&(g=function(k){const C=!k.before,T=k.values||[];return new Sd(T,C)}(n.endAt)),nL(e,i,l,a,h,"F",_,g)}function AL(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Qe()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function zE(t){return t?t.unaryFilter!==void 0?[LL(t)]:t.fieldFilter!==void 0?[OL(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(e=>zE(e)).reduce((e,n)=>e.concat(n)):Qe():[]}function IL(t){return yL[t]}function ML(t){return bL[t]}function ls(t){return{fieldPath:t.canonicalString()}}function ks(t){return xn.fromServerFormat(t.fieldPath)}function OL(t){return Ln.create(ks(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Qe()}}(t.fieldFilter.op),t.fieldFilter.value)}function LL(t){switch(t.unaryFilter.op){case"IS_NAN":const e=ks(t.unaryFilter.field);return Ln.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=ks(t.unaryFilter.field);return Ln.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=ks(t.unaryFilter.field);return Ln.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=ks(t.unaryFilter.field);return Ln.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Qe()}}function PL(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function UE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&cL(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=al(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=al(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=OE();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let h=this.applyToLocalView(l,a.mutatedFields);h=n.has(i.key)?null:h;const _=CE(l,h);_!==null&&r.set(i.key,_),l.isValidDocument()||l.convertToNoDocument(rt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),it())}isEqual(e){return this.batchId===e.batchId&&qs(this.mutations,e.mutations,(n,r)=>s0(n,r))&&qs(this.baseMutations,e.baseMutations,(n,r)=>s0(n,r))}}class og{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){vt(e.mutations.length===r.length);let i=pL;const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new og(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e,n,r,i,a=rt.min(),l=rt.min(),h=pn.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=h}withSequenceNumber(e){return new Pa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Pa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Pa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(e){this.re=e}}function jL(t){const e=DL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ip(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(){this.Ye=new UL}addToCollectionParentIndex(e,n){return this.Ye.add(n),be.resolve()}getCollectionParents(e,n){return be.resolve(this.Ye.getEntries(n))}addFieldIndex(e,n){return be.resolve()}deleteFieldIndex(e,n){return be.resolve()}getDocumentsMatchingTarget(e,n){return be.resolve(null)}getIndexType(e,n){return be.resolve(0)}getFieldIndexes(e,n){return be.resolve([])}getNextCollectionGroupToUpdate(e){return be.resolve(null)}getMinOffset(e,n){return be.resolve(aa.min())}getMinOffsetFromCollectionGroup(e,n){return be.resolve(aa.min())}updateCollectionGroup(e,n,r){return be.resolve()}updateIndexEntries(e,n){return be.resolve()}}class UL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Wt(Et.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Wt(Et.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Ks(0)}static vn(){return new Ks(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(){this.changes=new lo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?be.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.getBaseDocument(e,n,r))).next(i=>(r!==null&&al(r.mutation,i,mr.empty(),qt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,it()).next(()=>r))}getLocalViewOfDocuments(e,n,r=it()){const i=Aa();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let l=Uo();return a.forEach((h,_)=>{l=l.insert(h,_.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=Aa();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,it()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,h)=>{n.set(l,h)})})}computeViews(e,n,r,i){let a=vi();const l=sl(),h=sl();return n.forEach((_,g)=>{const k=r.get(g.key);i.has(g.key)&&(k===void 0||k.mutation instanceof _a)?a=a.insert(g.key,g):k!==void 0&&(l.set(g.key,k.mutation.getFieldMask()),al(k.mutation,g,k.mutation.getFieldMask(),qt.now()))}),this.recalculateAndSaveOverlays(e,a).next(_=>(_.forEach((g,k)=>l.set(g,k)),n.forEach((g,k)=>{var C;return h.set(g,new HL(k,(C=l.get(g))!==null&&C!==void 0?C:null))}),h))}recalculateAndSaveOverlays(e,n){const r=sl();let i=new Gt((l,h)=>l-h),a=it();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const h of l)h.keys().forEach(_=>{const g=n.get(_);if(g===null)return;let k=r.get(_)||mr.empty();k=h.applyToLocalView(g,k),r.set(_,k);const C=(i.get(h.batchId)||it()).add(_);i=i.insert(h.batchId,C)})}).next(()=>{const l=[],h=i.getReverseIterator();for(;h.hasNext();){const _=h.getNext(),g=_.key,k=_.value,C=OE();k.forEach(T=>{if(!a.has(T)){const L=CE(n.get(T),r.get(T));L!==null&&C.set(T,L),a=a.add(T)}}),l.push(this.documentOverlayCache.saveOverlays(e,g,C))}return be.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return ze.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):mE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):be.resolve(Aa());let h=-1,_=a;return l.next(g=>be.forEach(g,(k,C)=>(h<C.largestBatchId&&(h=C.largestBatchId),a.get(k)?be.resolve():this.getBaseDocument(e,k,C).next(T=>{_=_.insert(k,T)}))).next(()=>this.populateOverlays(e,g,a)).next(()=>this.computeViews(e,_,g,it())).next(k=>({batchId:h,changes:ME(k)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ze(n)).next(r=>{let i=Uo();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let a=Uo();return this.indexManager.getCollectionParents(e,i).next(l=>be.forEach(l,h=>{const _=function(g,k){return new wc(k,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,h.child(i));return this.getDocumentsMatchingCollectionQuery(e,_,r).next(g=>{g.forEach((k,C)=>{a=a.insert(k,C)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,n.path,r).next(a=>(i=a,this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId))).next(a=>{a.forEach((h,_)=>{const g=_.getKey();i.get(g)===null&&(i=i.insert(g,cn.newInvalidDocument(g)))});let l=Uo();return i.forEach((h,_)=>{const g=a.get(h);g!==void 0&&al(g.mutation,_,mr.empty(),qt.now()),ag(n,_)&&(l=l.insert(h,_))}),l})}getBaseDocument(e,n,r){return r===null||r.mutation.type===1?this.remoteDocumentCache.getEntry(e,n):be.resolve(cn.newInvalidDocument(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return be.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:ci(r.createTime)}),be.resolve()}getNamedQuery(e,n){return be.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,function(r){return{name:r.name,query:jL(r.bundledQuery),readTime:ci(r.readTime)}}(n)),be.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(){this.overlays=new Gt(ze.comparator),this.es=new Map}getOverlay(e,n){return be.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Aa();return be.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.ue(e,n,a)}),be.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.es.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.es.delete(r)),be.resolve()}getOverlaysForCollection(e,n,r){const i=Aa(),a=n.length+1,l=new ze(n.child("")),h=this.overlays.getIteratorFrom(l);for(;h.hasNext();){const _=h.getNext().value,g=_.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===a&&_.largestBatchId>r&&i.set(_.getKey(),_)}return be.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new Gt((g,k)=>g-k);const l=this.overlays.getIterator();for(;l.hasNext();){const g=l.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>r){let k=a.get(g.largestBatchId);k===null&&(k=Aa(),a=a.insert(g.largestBatchId,k)),k.set(g.getKey(),g)}}const h=Aa(),_=a.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((g,k)=>h.set(g,k)),!(h.size()>=i)););return be.resolve(h)}ue(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new RL(n,r));let a=this.es.get(n);a===void 0&&(a=it(),this.es.set(n,a)),this.es.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(){this.ns=new Wt(Qt.ss),this.rs=new Wt(Qt.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const r=new Qt(e,n);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.cs(new Qt(e,n))}hs(e,n){e.forEach(r=>this.removeReference(r,n))}ls(e){const n=new ze(new Et([])),r=new Qt(n,e),i=new Qt(n,e+1),a=[];return this.rs.forEachInRange([r,i],l=>{this.cs(l),a.push(l.key)}),a}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new ze(new Et([])),r=new Qt(n,e),i=new Qt(n,e+1);let a=it();return this.rs.forEachInRange([r,i],l=>{a=a.add(l.key)}),a}containsKey(e){const n=new Qt(e,0),r=this.ns.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Qt{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return ze.comparator(e.key,n.key)||ft(e._s,n._s)}static os(e,n){return ft(e._s,n._s)||ze.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new Wt(Qt.ss)}checkEmpty(e){return be.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new $L(a,n,r,i);this.mutationQueue.push(l);for(const h of i)this.gs=this.gs.add(new Qt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return be.resolve(l)}lookupMutationBatch(e,n){return be.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ps(r),a=i<0?0:i;return be.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return be.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return be.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Qt(n,0),i=new Qt(n,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],l=>{const h=this.ys(l._s);a.push(h)}),be.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Wt(ft);return n.forEach(i=>{const a=new Qt(i,0),l=new Qt(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([a,l],h=>{r=r.add(h._s)})}),be.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;ze.isDocumentKey(a)||(a=a.child(""));const l=new Qt(new ze(a),0);let h=new Wt(ft);return this.gs.forEachWhile(_=>{const g=_.key.path;return!!r.isPrefixOf(g)&&(g.length===i&&(h=h.add(_._s)),!0)},l),be.resolve(this.Is(h))}Is(e){const n=[];return e.forEach(r=>{const i=this.ys(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){vt(this.Ts(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.gs;return be.forEach(n.mutations,i=>{const a=new Qt(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,n){const r=new Qt(n,0),i=this.gs.firstAfterOrEqual(r);return be.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,be.resolve()}Ts(e,n){return this.ps(e)}ps(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(e){this.Es=e,this.docs=new Gt(ze.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,l=this.Es(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return be.resolve(r?r.document.mutableCopy():cn.newInvalidDocument(n))}getEntries(e,n){let r=vi();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():cn.newInvalidDocument(i))}),be.resolve(r)}getAllFromCollection(e,n,r){let i=vi();const a=new ze(n.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:h,value:{document:_}}=l.getNext();if(!n.isPrefixOf(h.path))break;h.path.length>n.length+1||jO(FO(_),r)<=0||(i=i.insert(_.key,_.mutableCopy()))}return be.resolve(i)}getAllFromCollectionGroup(e,n,r,i){Qe()}As(e,n){return be.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new YL(this)}getSize(e){return be.resolve(this.size)}}class YL extends VL{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),be.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(e){this.persistence=e,this.Rs=new lo(n=>rg(n),ig),this.lastRemoteSnapshotVersion=rt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new lg,this.targetCount=0,this.vs=Ks.Pn()}forEachTarget(e,n){return this.Rs.forEach((r,i)=>n(i)),be.resolve()}getLastRemoteSnapshotVersion(e){return be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return be.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),be.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.bs&&(this.bs=n),be.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new Ks(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,be.resolve()}updateTargetData(e,n){return this.Dn(n),be.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,be.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.Rs.forEach((l,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.Rs.delete(l),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)}),be.waitFor(a).next(()=>i)}getTargetCount(e){return be.resolve(this.targetCount)}getTargetData(e,n){const r=this.Rs.get(n)||null;return be.resolve(r)}addMatchingKeys(e,n,r){return this.Ps.us(n,r),be.resolve()}removeMatchingKeys(e,n,r){this.Ps.hs(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),be.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),be.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ps.ds(n);return be.resolve(r)}containsKey(e,n){return be.resolve(this.Ps.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new tg(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new JL(this),this.indexManager=new zL,this.remoteDocumentCache=function(r){return new KL(r)}(r=>this.referenceDelegate.xs(r)),this.It=new FL(n),this.Ns=new qL(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new WL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Vs[e.toKey()];return r||(r=new GL(n,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,r){je("MemoryPersistence","Starting transaction:",e);const i=new XL(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(a=>this.referenceDelegate.Ms(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Os(e,n){return be.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,n)))}}class XL extends UO{constructor(e){super(),this.currentSequenceNumber=e}}class cg{constructor(e){this.persistence=e,this.Fs=new lg,this.$s=null}static Bs(e){return new cg(e)}get Ls(){if(this.$s)return this.$s;throw Qe()}addReference(e,n,r){return this.Fs.addReference(r,n),this.Ls.delete(r.toString()),be.resolve()}removeReference(e,n,r){return this.Fs.removeReference(r,n),this.Ls.add(r.toString()),be.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),be.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.Ls.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}ks(){this.$s=new Set}Ms(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return be.forEach(this.Ls,r=>{const i=ze.fromPath(r);return this.Us(e,i).next(a=>{a||n.removeEntry(i,rt.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.Us(e,n).next(r=>{r?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}Us(e,n){return be.or([()=>be.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Os(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Si=r,this.Di=i}static Ci(e,n){let r=it(),i=it();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new ug(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZL{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.ki(e,n).next(a=>a||this.Mi(e,n,i,r)).next(a=>a||this.Oi(e,n))}ki(e,n){if(i0(n))return be.resolve(null);let r=gi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=ip(n,null,"F"),r=gi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=it(...a);return this.Ni.getDocuments(e,l).next(h=>this.indexManager.getMinOffset(e,r).next(_=>{const g=this.Fi(n,h);return this.$i(n,g,l,_.readTime)?this.ki(e,ip(n,null,"F")):this.Bi(e,g,n,_)}))})))}Mi(e,n,r,i){return i0(n)||i.isEqual(rt.min())?this.Oi(e,n):this.Ni.getDocuments(e,r).next(a=>{const l=this.Fi(n,a);return this.$i(n,l,r,i)?this.Oi(e,n):(Gy()<=ht.DEBUG&&je("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ap(n)),this.Bi(e,l,n,RO(i,-1)))})}Fi(e,n){let r=new Wt(vE(e));return n.forEach((i,a)=>{ag(e,a)&&(r=r.add(a))}),r}$i(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Oi(e,n){return Gy()<=ht.DEBUG&&je("QueryEngine","Using full collection scan to execute query:",ap(n)),this.Ni.getDocumentsMatchingQuery(e,n,aa.min())}Bi(e,n,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(e,n,r,i){this.persistence=e,this.Li=n,this.It=i,this.Ui=new Gt(ft),this.qi=new lo(a=>rg(a),ig),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new BL(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ui))}}function tP(t,e,n,r){return new eP(t,e,n,r)}async function VE(t,e){const n=Ze(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.Qi(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],h=[];let _=it();for(const g of i){l.push(g.batchId);for(const k of g.mutations)_=_.add(k.key)}for(const g of a){h.push(g.batchId);for(const k of g.mutations)_=_.add(k.key)}return n.localDocuments.getDocuments(r,_).next(g=>({ji:g,removedBatchIds:l,addedBatchIds:h}))})})}function nP(t,e){const n=Ze(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.Gi.newChangeBuffer({trackRemovals:!0});return function(l,h,_,g){const k=_.batch,C=k.keys();let T=be.resolve();return C.forEach(L=>{T=T.next(()=>g.getEntry(h,L)).next(F=>{const D=_.docVersions.get(L);vt(D!==null),F.version.compareTo(D)<0&&(k.applyToRemoteDocument(F,_),F.isValidDocument()&&(F.setReadTime(_.commitVersion),g.addEntry(F)))})}),T.next(()=>l.mutationQueue.removeMutationBatch(h,k))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let h=it();for(let _=0;_<l.mutationResults.length;++_)l.mutationResults[_].transformResults.length>0&&(h=h.add(l.batch.mutations[_].key));return h}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function HE(t){const e=Ze(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function rP(t,e){const n=Ze(t),r=e.snapshotVersion;let i=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.Ui;const h=[];e.targetChanges.forEach((k,C)=>{const T=i.get(C);if(!T)return;h.push(n.Cs.removeMatchingKeys(a,k.removedDocuments,C).next(()=>n.Cs.addMatchingKeys(a,k.addedDocuments,C)));let L=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.has(C)?L=L.withResumeToken(pn.EMPTY_BYTE_STRING,rt.min()).withLastLimboFreeSnapshotVersion(rt.min()):k.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(k.resumeToken,r)),i=i.insert(C,L),function(F,D,P){return F.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=3e8?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0}(T,L,k)&&h.push(n.Cs.updateTargetData(a,L))});let _=vi(),g=it();if(e.documentUpdates.forEach(k=>{e.resolvedLimboDocuments.has(k)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(a,k))}),h.push(iP(a,l,e.documentUpdates).next(k=>{_=k.Wi,g=k.zi})),!r.isEqual(rt.min())){const k=n.Cs.getLastRemoteSnapshotVersion(a).next(C=>n.Cs.setTargetsMetadata(a,a.currentSequenceNumber,r));h.push(k)}return be.waitFor(h).next(()=>l.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,_,g)).next(()=>_)}).then(a=>(n.Ui=i,a))}function iP(t,e,n){let r=it(),i=it();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let l=vi();return n.forEach((h,_)=>{const g=a.get(h);_.isFoundDocument()!==g.isFoundDocument()&&(i=i.add(h)),_.isNoDocument()&&_.version.isEqual(rt.min())?(e.removeEntry(h,_.readTime),l=l.insert(h,_)):!g.isValidDocument()||_.version.compareTo(g.version)>0||_.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(_),l=l.insert(h,_)):je("LocalStore","Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",_.version)}),{Wi:l,zi:i}})}function aP(t,e){const n=Ze(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function sP(t,e){const n=Ze(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Cs.getTargetData(r,e).next(a=>a?(i=a,be.resolve(i)):n.Cs.allocateTargetId(r).next(l=>(i=new Pa(e,l,0,r.currentSequenceNumber),n.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ui.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(r.targetId,r),n.qi.set(e,r.targetId)),r})}async function cp(t,e,n){const r=Ze(t),i=r.Ui.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!bc(l))throw l;je("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ui=r.Ui.remove(e),r.qi.delete(i.target)}function f0(t,e,n){const r=Ze(t);let i=rt.min(),a=it();return r.persistence.runTransaction("Execute query","readonly",l=>function(h,_,g){const k=Ze(h),C=k.qi.get(g);return C!==void 0?be.resolve(k.Ui.get(C)):k.Cs.getTargetData(_,g)}(r,l,gi(e)).next(h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(l,h.targetId).next(_=>{a=_})}).next(()=>r.Li.getDocumentsMatchingQuery(l,e,n?i:rt.min(),n?a:it())).next(h=>(oP(r,rL(e),h),{documents:h,Hi:a})))}function oP(t,e,n){let r=rt.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Ki.set(e,r)}class _0{constructor(){this.activeTargetIds=LE()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lP{constructor(){this.Lr=new _0,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,n,r){this.Ur[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new _0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{qr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){je("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){je("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.oo=n+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,n,r,i,a){const l=this.ao(e,n);je("RestConnection","Sending: ",l,r);const h={};return this.ho(h,i,a),this.lo(e,l,h,r).then(_=>(je("RestConnection","Received: ",_),_),_=>{throw Ky("RestConnection",`${e} failed with error: `,_,"url: ",l,"request:",r),_})}fo(e,n,r,i,a,l){return this.co(e,n,r,i,a)}ho(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+oo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}ao(e,n){const r=uP[e];return`${this.oo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,n,r,i){return new Promise((a,l)=>{const h=new CO;h.listenOnce(kO.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Tf.NO_ERROR:const g=h.getResponseJson();je("Connection","XHR received:",JSON.stringify(g)),a(g);break;case Tf.TIMEOUT:je("Connection",'RPC "'+e+'" timed out'),l(new $e(_e.DEADLINE_EXCEEDED,"Request time out"));break;case Tf.HTTP_ERROR:const k=h.getStatus();if(je("Connection",'RPC "'+e+'" failed with status:',k,"response text:",h.getResponseText()),k>0){const C=h.getResponseJson().error;if(C&&C.status&&C.message){const T=function(L){const F=L.toLowerCase().replace(/_/g,"-");return Object.values(_e).indexOf(F)>=0?F:_e.UNKNOWN}(C.status);l(new $e(T,C.message))}else l(new $e(_e.UNKNOWN,"Server responded with status "+h.getStatus()))}else l(new $e(_e.UNAVAILABLE,"Connection failed."));break;default:Qe()}}finally{je("Connection",'RPC "'+e+'" completed.')}});const _=JSON.stringify(i);h.send(n,"POST",_,r,15)})}_o(e,n,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=xO(),l=EO(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new TO({})),this.ho(h.initMessageHeaders,n,r),kx()||Tx()||iD()||Cx()||aD()||Sx()||(h.httpHeadersOverwriteParam="$httpHeaders");const _=i.join("");je("Connection","Creating WebChannel: "+_,h);const g=a.createWebChannel(_,h);let k=!1,C=!1;const T=new dP({Hr:F=>{C?je("Connection","Not sending because WebChannel is closed:",F):(k||(je("Connection","Opening WebChannel transport."),g.open(),k=!0),je("Connection","WebChannel sending:",F),g.send(F))},Jr:()=>g.close()}),L=(F,D,P)=>{F.listen(D,A=>{try{P(A)}catch(M){setTimeout(()=>{throw M},0)}})};return L(g,iu.EventType.OPEN,()=>{C||je("Connection","WebChannel transport opened.")}),L(g,iu.EventType.CLOSE,()=>{C||(C=!0,je("Connection","WebChannel transport closed"),T.io())}),L(g,iu.EventType.ERROR,F=>{C||(C=!0,Ky("Connection","WebChannel transport errored:",F),T.io(new $e(_e.UNAVAILABLE,"The operation could not be completed")))}),L(g,iu.EventType.MESSAGE,F=>{var D;if(!C){const P=F.data[0];vt(!!P);const A=P,M=A.error||((D=A[0])===null||D===void 0?void 0:D.error);if(M){je("Connection","WebChannel received error:",M);const $=M.status;let U=function(G){const V=$t[G];if(V!==void 0)return AE(V)}($),z=M.message;U===void 0&&(U=_e.INTERNAL,z="Unknown error status: "+$+" with message "+M.message),C=!0,T.io(new $e(U,z)),g.close()}else je("Connection","WebChannel received:",P),T.ro(P)}}),L(l,SO.STAT_EVENT,F=>{F.stat===qy.PROXY?je("Connection","Detected buffering proxy"):F.stat===qy.NOPROXY&&je("Connection","Detected no buffering proxy")}),setTimeout(()=>{T.so()},0),T}}function Nf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yh(t){return new wL(t,!0)}class BE{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Hs=e,this.timerId=n,this.wo=r,this.mo=i,this.yo=a,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&je("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.po} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){this.Io!==null&&(this.Io.skipDelay(),this.Io=null)}cancel(){this.Io!==null&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e,n,r,i,a,l,h,_){this.Hs=e,this.Po=r,this.vo=i,this.Vo=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=h,this.listener=_,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new BE(e,n)}No(){return this.state===1||this.state===5||this.ko()}ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Mo()}async stop(){this.No()&&await this.close(0)}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&this.Do===null&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(e,n){this.Lo(),this.Uo(),this.xo.cancel(),this.So++,e!==4?this.xo.reset():n&&n.code===_e.RESOURCE_EXHAUSTED?(mi(n.toString()),mi("Using maximum backoff delay to prevent overloading the backend."),this.xo.Eo()):n&&n.code===_e.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.qo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(n)}qo(){}auth(){this.state=1;const e=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===n&&this.Go(r,i)},r=>{e(()=>{const i=new $e(_e.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,n){const r=this.Ko(this.So);this.stream=this.jo(e,n),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Mo(){this.state=5,this.xo.Ao(async()=>{this.state=0,this.start()})}Qo(e){return je("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return n=>{this.Hs.enqueueAndForget(()=>this.So===e?n():(je("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fP extends qE{constructor(e,n,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.It=a}jo(e,n){return this.Vo._o("Listen",e,n)}onMessage(e){this.xo.reset();const n=kL(this.It,e),r=function(i){if(!("targetChange"in i))return rt.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?rt.min():a.readTime?ci(a.readTime):rt.min()}(e);return this.listener.Wo(n,r)}zo(e){const n={};n.database=lp(this.It),n.addTarget=function(i,a){let l;const h=a.target;return l=rp(h)?{documents:CL(i,h)}:{query:NL(i,h)},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?l.resumeToken=RE(i,a.resumeToken):a.snapshotVersion.compareTo(rt.min())>0&&(l.readTime=Td(i,a.snapshotVersion.toTimestamp())),l}(this.It,e);const r=AL(this.It,e);r&&(n.labels=r),this.Bo(n)}Ho(e){const n={};n.database=lp(this.It),n.removeTarget=e,this.Bo(n)}}class _P extends qE{constructor(e,n,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.It=a,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,n){return this.Vo._o("Write",e,n)}onMessage(e){if(vt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const n=TL(e.writeResults,e.commitTime),r=ci(e.commitTime);return this.listener.Zo(r,n)}return vt(!e.writeResults||e.writeResults.length===0),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=lp(this.It),this.Bo(e)}Xo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>SL(this.It,r))};this.Bo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.Vo=r,this.It=i,this.nu=!1}su(){if(this.nu)throw new $e(_e.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,n,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.Vo.co(e,n,r,i,a)).catch(i=>{throw i.name==="FirebaseError"?(i.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new $e(_e.UNKNOWN,i.toString())})}fo(e,n,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.Vo.fo(e,n,r,a,l,i)).catch(a=>{throw a.name==="FirebaseError"?(a.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new $e(_e.UNKNOWN,a.toString())})}terminate(){this.nu=!0}}class mP{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){this.iu===0&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){this.state==="Online"?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,e==="Online"&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(mi(n),this.ou=!1):je("OnlineStateTracker",n)}lu(){this.ru!==null&&(this.ru.cancel(),this.ru=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.qr(l=>{r.enqueueAndForget(async()=>{is(this)&&(je("RemoteStore","Restarting streams for network reachability change."),await async function(h){const _=Ze(h);_._u.add(4),await kc(_),_.gu.set("Unknown"),_._u.delete(4),await bh(_)}(this))})}),this.gu=new mP(r,i)}}async function bh(t){if(is(t))for(const e of t.wu)await e(!0)}async function kc(t){for(const e of t.wu)await e(!1)}function WE(t,e){const n=Ze(t);n.du.has(e.targetId)||(n.du.set(e.targetId,e),fg(n)?hg(n):co(n).ko()&&dg(n,e))}function GE(t,e){const n=Ze(t),r=co(n);n.du.delete(e),r.ko()&&KE(n,e),n.du.size===0&&(r.ko()?r.Fo():is(n)&&n.gu.set("Unknown"))}function dg(t,e){t.yu.Ot(e.targetId),co(t).zo(e)}function KE(t,e){t.yu.Ot(e),co(t).Ho(e)}function hg(t){t.yu=new vL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),se:e=>t.du.get(e)||null}),co(t).start(),t.gu.uu()}function fg(t){return is(t)&&!co(t).No()&&t.du.size>0}function is(t){return Ze(t)._u.size===0}function YE(t){t.yu=void 0}async function vP(t){t.du.forEach((e,n)=>{dg(t,e)})}async function yP(t,e){YE(t),fg(t)?(t.gu.hu(e),hg(t)):t.gu.set("Unknown")}async function bP(t,e,n){if(t.gu.set("Online"),e instanceof $E&&e.state===2&&e.cause)try{await async function(r,i){const a=i.cause;for(const l of i.targetIds)r.du.has(l)&&(await r.remoteSyncer.rejectListen(l,a),r.du.delete(l),r.yu.removeTarget(l))}(t,e)}catch(r){je("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Cd(t,r)}else if(e instanceof Mu?t.yu.Gt(e):e instanceof PE?t.yu.Yt(e):t.yu.Wt(e),!n.isEqual(rt.min()))try{const r=await HE(t.localStore);n.compareTo(r)>=0&&await function(i,a){const l=i.yu.te(a);return l.targetChanges.forEach((h,_)=>{if(h.resumeToken.approximateByteSize()>0){const g=i.du.get(_);g&&i.du.set(_,g.withResumeToken(h.resumeToken,a))}}),l.targetMismatches.forEach(h=>{const _=i.du.get(h);if(!_)return;i.du.set(h,_.withResumeToken(pn.EMPTY_BYTE_STRING,_.snapshotVersion)),KE(i,h);const g=new Pa(_.target,h,1,_.sequenceNumber);dg(i,g)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){je("RemoteStore","Failed to raise snapshot:",r),await Cd(t,r)}}async function Cd(t,e,n){if(!bc(e))throw e;t._u.add(1),await kc(t),t.gu.set("Offline"),n||(n=()=>HE(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{je("RemoteStore","Retrying IndexedDB access"),await n(),t._u.delete(1),await bh(t)})}function JE(t,e){return e().catch(n=>Cd(t,n,e))}async function wh(t){const e=Ze(t),n=oa(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;wP(e);)try{const i=await aP(e.localStore,r);if(i===null){e.fu.length===0&&n.Fo();break}r=i.batchId,xP(e,i)}catch(i){await Cd(e,i)}QE(e)&&XE(e)}function wP(t){return is(t)&&t.fu.length<10}function xP(t,e){t.fu.push(e);const n=oa(t);n.ko()&&n.Yo&&n.Xo(e.mutations)}function QE(t){return is(t)&&!oa(t).No()&&t.fu.length>0}function XE(t){oa(t).start()}async function EP(t){oa(t).eu()}async function kP(t){const e=oa(t);for(const n of t.fu)e.Xo(n.mutations)}async function SP(t,e,n){const r=t.fu.shift(),i=og.from(r,e,n);await JE(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await wh(t)}async function TP(t,e){e&&oa(t).Yo&&await async function(n,r){if(i=r.code,fL(i)&&i!==_e.ABORTED){const a=n.fu.shift();oa(n).Oo(),await JE(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,r)),await wh(n)}var i}(t,e),QE(t)&&XE(t)}async function m0(t,e){const n=Ze(t);n.asyncQueue.verifyOperationInProgress(),je("RemoteStore","RemoteStore received new credentials");const r=is(n);n._u.add(3),await kc(n),r&&n.gu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n._u.delete(3),await bh(n)}async function CP(t,e){const n=Ze(t);e?(n._u.delete(2),await bh(n)):e||(n._u.add(2),await kc(n),n.gu.set("Unknown"))}function co(t){return t.pu||(t.pu=function(e,n,r){const i=Ze(e);return i.su(),new fP(n,i.Vo,i.authCredentials,i.appCheckCredentials,i.It,r)}(t.datastore,t.asyncQueue,{Yr:vP.bind(null,t),Zr:yP.bind(null,t),Wo:bP.bind(null,t)}),t.wu.push(async e=>{e?(t.pu.Oo(),fg(t)?hg(t):t.gu.set("Unknown")):(await t.pu.stop(),YE(t))})),t.pu}function oa(t){return t.Iu||(t.Iu=function(e,n,r){const i=Ze(e);return i.su(),new _P(n,i.Vo,i.authCredentials,i.appCheckCredentials,i.It,r)}(t.datastore,t.asyncQueue,{Yr:EP.bind(null,t),Zr:TP.bind(null,t),tu:kP.bind(null,t),Zo:SP.bind(null,t)}),t.wu.push(async e=>{e?(t.Iu.Oo(),await wh(t)):(await t.Iu.stop(),t.fu.length>0&&(je("RemoteStore",`Stopping write stream with ${t.fu.length} pending writes`),t.fu=[]))})),t.Iu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new li,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,n,r,i,a){const l=Date.now()+r,h=new _g(e,n,l,i,a);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $e(_e.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pg(t,e){if(mi("AsyncQueue",`${e}: ${t}`),bc(t))return new $e(_e.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ze.comparator(n.key,r.key):(n,r)=>ze.comparator(n.key,r.key),this.keyedMap=Uo(),this.sortedSet=new Gt(this.comparator)}static emptySet(e){return new Ls(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ls)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ls;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(){this.Tu=new Gt(ze.comparator)}track(e){const n=e.doc.key,r=this.Tu.get(n);r?e.type!==0&&r.type===3?this.Tu=this.Tu.insert(n,e):e.type===3&&r.type!==1?this.Tu=this.Tu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Tu=this.Tu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Tu=this.Tu.remove(n):e.type===1&&r.type===2?this.Tu=this.Tu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):Qe():this.Tu=this.Tu.insert(n,e)}Eu(){const e=[];return this.Tu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ys{constructor(e,n,r,i,a,l,h,_){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=h,this.excludesMetadataChanges=_}static fromInitialDocuments(e,n,r,i){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new Ys(e,n,Ls.emptySet(n),a,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ph(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(){this.Au=void 0,this.listeners=[]}}class DP{constructor(){this.queries=new lo(e=>gE(e),ph),this.onlineState="Unknown",this.Ru=new Set}}async function mg(t,e){const n=Ze(t),r=e.query;let i=!1,a=n.queries.get(r);if(a||(i=!0,a=new NP),i)try{a.Au=await n.onListen(r)}catch(l){const h=pg(l,`Initialization of query '${ap(e.query)}' failed`);return void e.onError(h)}n.queries.set(r,a),a.listeners.push(e),e.bu(n.onlineState),a.Au&&e.Pu(a.Au)&&vg(n)}async function gg(t,e){const n=Ze(t),r=e.query;let i=!1;const a=n.queries.get(r);if(a){const l=a.listeners.indexOf(e);l>=0&&(a.listeners.splice(l,1),i=a.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function AP(t,e){const n=Ze(t);let r=!1;for(const i of e){const a=i.query,l=n.queries.get(a);if(l){for(const h of l.listeners)h.Pu(i)&&(r=!0);l.Au=i}}r&&vg(n)}function IP(t,e,n){const r=Ze(t),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(n);r.queries.delete(e)}function vg(t){t.Ru.forEach(e=>{e.next()})}class yg{constructor(e,n,r){this.query=e,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ys(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),n=!0):this.Cu(e,this.onlineState)&&(this.xu(e),n=!0),this.Su=e,n}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let n=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),n=!0),n}Cu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Nu||!r)&&(!e.docs.isEmpty()||n==="Offline")}Du(e){if(e.docChanges.length>0)return!0;const n=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}xu(e){e=Ys.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e){this.key=e}}class ek{constructor(e){this.key=e}}class MP{constructor(e,n){this.query=e,this.Lu=n,this.Uu=null,this.current=!1,this.qu=it(),this.mutatedKeys=it(),this.Ku=vE(e),this.Gu=new Ls(this.Ku)}get Qu(){return this.Lu}ju(e,n){const r=n?n.Wu:new g0,i=n?n.Gu:this.Gu;let a=n?n.mutatedKeys:this.mutatedKeys,l=i,h=!1;const _=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,g=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((k,C)=>{const T=i.get(k),L=ag(this.query,C)?C:null,F=!!T&&this.mutatedKeys.has(T.key),D=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let P=!1;T&&L?T.data.isEqual(L.data)?F!==D&&(r.track({type:3,doc:L}),P=!0):this.zu(T,L)||(r.track({type:2,doc:L}),P=!0,(_&&this.Ku(L,_)>0||g&&this.Ku(L,g)<0)&&(h=!0)):!T&&L?(r.track({type:0,doc:L}),P=!0):T&&!L&&(r.track({type:1,doc:T}),P=!0,(_||g)&&(h=!0)),P&&(L?(l=l.add(L),a=D?a.add(k):a.delete(k)):(l=l.delete(k),a=a.delete(k)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const k=this.query.limitType==="F"?l.last():l.first();l=l.delete(k.key),a=a.delete(k.key),r.track({type:1,doc:k})}return{Gu:l,Wu:r,$i:h,mutatedKeys:a}}zu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const a=e.Wu.Eu();a.sort((g,k)=>function(C,T){const L=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Qe()}};return L(C)-L(T)}(g.type,k.type)||this.Ku(g.doc,k.doc)),this.Hu(r);const l=n?this.Ju():[],h=this.qu.size===0&&this.current?1:0,_=h!==this.Uu;return this.Uu=h,a.length!==0||_?{snapshot:new Ys(this.query,e.Gu,i,a,e.mutatedKeys,h===0,_,!1),Yu:l}:{Yu:l}}bu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new g0,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(n=>this.Lu=this.Lu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Lu=this.Lu.delete(n)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=it(),this.Gu.forEach(r=>{this.Xu(r.key)&&(this.qu=this.qu.add(r.key))});const n=[];return e.forEach(r=>{this.qu.has(r)||n.push(new ek(r))}),this.qu.forEach(r=>{e.has(r)||n.push(new ZE(r))}),n}Zu(e){this.Lu=e.Hi,this.qu=it();const n=this.ju(e.documents);return this.applyChanges(n,!0)}tc(){return Ys.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,this.Uu===0)}}class OP{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class LP{constructor(e){this.key=e,this.ec=!1}}class PP{constructor(e,n,r,i,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.nc={},this.sc=new lo(h=>gE(h),ph),this.ic=new Map,this.rc=new Set,this.oc=new Gt(ze.comparator),this.uc=new Map,this.cc=new lg,this.ac={},this.hc=new Map,this.lc=Ks.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return this.fc===!0}}async function $P(t,e){const n=WP(t);let r,i;const a=n.sc.get(e);if(a)r=a.targetId,n.sharedClientState.addLocalQueryTarget(r),i=a.view.tc();else{const l=await sP(n.localStore,gi(e));n.isPrimaryClient&&WE(n.remoteStore,l);const h=n.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,i=await RP(n,e,r,h==="current")}return i}async function RP(t,e,n,r){t.dc=(k,C,T)=>async function(L,F,D,P){let A=F.view.ju(D);A.$i&&(A=await f0(L.localStore,F.query,!1).then(({documents:U})=>F.view.ju(U,A)));const M=P&&P.targetChanges.get(F.targetId),$=F.view.applyChanges(A,L.isPrimaryClient,M);return y0(L,F.targetId,$.Yu),$.snapshot}(t,k,C,T);const i=await f0(t.localStore,e,!0),a=new MP(e,i.Hi),l=a.ju(i.documents),h=Ec.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline"),_=a.applyChanges(l,t.isPrimaryClient,h);y0(t,n,_.Yu);const g=new OP(e,n,a);return t.sc.set(e,g),t.ic.has(n)?t.ic.get(n).push(e):t.ic.set(n,[e]),_.snapshot}async function FP(t,e){const n=Ze(t),r=n.sc.get(e),i=n.ic.get(r.targetId);if(i.length>1)return n.ic.set(r.targetId,i.filter(a=>!ph(a,e))),void n.sc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await cp(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),GE(n.remoteStore,r.targetId),up(n,r.targetId)}).catch(yc)):(up(n,r.targetId),await cp(n.localStore,r.targetId,!0))}async function jP(t,e,n){const r=GP(t);try{const i=await function(a,l){const h=Ze(a),_=qt.now(),g=l.reduce((T,L)=>T.add(L.key),it());let k,C;return h.persistence.runTransaction("Locally write mutations","readwrite",T=>{let L=vi(),F=it();return h.Gi.getEntries(T,g).next(D=>{L=D,L.forEach((P,A)=>{A.isValidDocument()||(F=F.add(P))})}).next(()=>h.localDocuments.getOverlayedDocuments(T,L)).next(D=>{k=D;const P=[];for(const A of l){const M=uL(A,k.get(A.key).overlayedDocument);M!=null&&P.push(new _a(A.key,M,hE(M.value.mapValue),Ir.exists(!0)))}return h.mutationQueue.addMutationBatch(T,_,P,l)}).next(D=>{C=D;const P=D.applyToLocalDocumentSet(k,F);return h.documentOverlayCache.saveOverlays(T,D.batchId,P)})}).then(()=>({batchId:C.batchId,changes:ME(k)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,l,h){let _=a.ac[a.currentUser.toKey()];_||(_=new Gt(ft)),_=_.insert(l,h),a.ac[a.currentUser.toKey()]=_}(r,i.batchId,n),await Sc(r,i.changes),await wh(r.remoteStore)}catch(i){const a=pg(i,"Failed to persist write");n.reject(a)}}async function tk(t,e){const n=Ze(t);try{const r=await rP(n.localStore,e);e.targetChanges.forEach((i,a)=>{const l=n.uc.get(a);l&&(vt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.ec=!0:i.modifiedDocuments.size>0?vt(l.ec):i.removedDocuments.size>0&&(vt(l.ec),l.ec=!1))}),await Sc(n,r,e)}catch(r){await yc(r)}}function v0(t,e,n){const r=Ze(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.sc.forEach((a,l)=>{const h=l.view.bu(e);h.snapshot&&i.push(h.snapshot)}),function(a,l){const h=Ze(a);h.onlineState=l;let _=!1;h.queries.forEach((g,k)=>{for(const C of k.listeners)C.bu(l)&&(_=!0)}),_&&vg(h)}(r.eventManager,e),i.length&&r.nc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function zP(t,e,n){const r=Ze(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.uc.get(e),a=i&&i.key;if(a){let l=new Gt(ze.comparator);l=l.insert(a,cn.newNoDocument(a,rt.min()));const h=it().add(a),_=new vh(rt.min(),new Map,new Wt(ft),l,h);await tk(r,_),r.oc=r.oc.remove(a),r.uc.delete(e),bg(r)}else await cp(r.localStore,e,!1).then(()=>up(r,e,n)).catch(yc)}async function UP(t,e){const n=Ze(t),r=e.batch.batchId;try{const i=await nP(n.localStore,e);rk(n,r,null),nk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Sc(n,i)}catch(i){await yc(i)}}async function VP(t,e,n){const r=Ze(t);try{const i=await function(a,l){const h=Ze(a);return h.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let g;return h.mutationQueue.lookupMutationBatch(_,l).next(k=>(vt(k!==null),g=k.keys(),h.mutationQueue.removeMutationBatch(_,k))).next(()=>h.mutationQueue.performConsistencyCheck(_)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(_,g,l)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,g)).next(()=>h.localDocuments.getDocuments(_,g))})}(r.localStore,e);rk(r,e,n),nk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Sc(r,i)}catch(i){await yc(i)}}function nk(t,e){(t.hc.get(e)||[]).forEach(n=>{n.resolve()}),t.hc.delete(e)}function rk(t,e,n){const r=Ze(t);let i=r.ac[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.ac[r.currentUser.toKey()]=i}}function up(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ic.get(e))t.sc.delete(r),n&&t.nc._c(r,n);t.ic.delete(e),t.isPrimaryClient&&t.cc.ls(e).forEach(r=>{t.cc.containsKey(r)||ik(t,r)})}function ik(t,e){t.rc.delete(e.path.canonicalString());const n=t.oc.get(e);n!==null&&(GE(t.remoteStore,n),t.oc=t.oc.remove(e),t.uc.delete(n),bg(t))}function y0(t,e,n){for(const r of n)r instanceof ZE?(t.cc.addReference(r.key,e),HP(t,r)):r instanceof ek?(je("SyncEngine","Document no longer in limbo: "+r.key),t.cc.removeReference(r.key,e),t.cc.containsKey(r.key)||ik(t,r.key)):Qe()}function HP(t,e){const n=e.key,r=n.path.canonicalString();t.oc.get(n)||t.rc.has(r)||(je("SyncEngine","New document in limbo: "+n),t.rc.add(r),bg(t))}function bg(t){for(;t.rc.size>0&&t.oc.size<t.maxConcurrentLimboResolutions;){const e=t.rc.values().next().value;t.rc.delete(e);const n=new ze(Et.fromString(e)),r=t.lc.next();t.uc.set(r,new LP(n)),t.oc=t.oc.insert(n,r),WE(t.remoteStore,new Pa(gi(_h(n.path)),r,2,tg.at))}}async function Sc(t,e,n){const r=Ze(t),i=[],a=[],l=[];r.sc.isEmpty()||(r.sc.forEach((h,_)=>{l.push(r.dc(_,e,n).then(g=>{if(g){r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,g.fromCache?"not-current":"current"),i.push(g);const k=ug.Ci(_.targetId,g);a.push(k)}}))}),await Promise.all(l),r.nc.Wo(i),await async function(h,_){const g=Ze(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",k=>be.forEach(_,C=>be.forEach(C.Si,T=>g.persistence.referenceDelegate.addReference(k,C.targetId,T)).next(()=>be.forEach(C.Di,T=>g.persistence.referenceDelegate.removeReference(k,C.targetId,T)))))}catch(k){if(!bc(k))throw k;je("LocalStore","Failed to update sequence numbers: "+k)}for(const k of _){const C=k.targetId;if(!k.fromCache){const T=g.Ui.get(C),L=T.snapshotVersion,F=T.withLastLimboFreeSnapshotVersion(L);g.Ui=g.Ui.insert(C,F)}}}(r.localStore,a))}async function BP(t,e){const n=Ze(t);if(!n.currentUser.isEqual(e)){je("SyncEngine","User change. New user:",e.toKey());const r=await VE(n.localStore,e);n.currentUser=e,function(i,a){i.hc.forEach(l=>{l.forEach(h=>{h.reject(new $e(_e.CANCELLED,a))})}),i.hc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Sc(n,r.ji)}}function qP(t,e){const n=Ze(t),r=n.uc.get(e);if(r&&r.ec)return it().add(r.key);{let i=it();const a=n.ic.get(e);if(!a)return i;for(const l of a){const h=n.sc.get(l);i=i.unionWith(h.view.Qu)}return i}}function WP(t){const e=Ze(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=tk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=qP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=zP.bind(null,e),e.nc.Wo=AP.bind(null,e.eventManager),e.nc._c=IP.bind(null,e.eventManager),e}function GP(t){const e=Ze(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=UP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=VP.bind(null,e),e}class KP{constructor(){this.synchronizeTabs=!1}async initialize(e){this.It=yh(e.databaseInfo.databaseId),this.sharedClientState=this.mc(e),this.persistence=this.gc(e),await this.persistence.start(),this.localStore=this.yc(e),this.gcScheduler=this.Ic(e,this.localStore),this.indexBackfillerScheduler=this.Tc(e,this.localStore)}Ic(e,n){return null}Tc(e,n){return null}yc(e){return tP(this.persistence,new ZL,e.initialUser,this.It)}gc(e){return new QL(cg.Bs,this.It)}mc(e){return new lP}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class YP{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>v0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=BP.bind(null,this.syncEngine),await CP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new DP}createDatastore(e){const n=yh(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new hP(i));var i;return function(a,l,h,_){return new pP(a,l,h,_)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,a=h=>v0(this.syncEngine,h,0),l=p0.C()?new p0:new cP,new gP(n,r,i,a,l);var n,r,i,a,l}createSyncEngine(e,n){return function(r,i,a,l,h,_,g){const k=new PP(r,i,a,l,h,_);return g&&(k.fc=!0),k}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=Ze(e);je("RemoteStore","RemoteStore shutting down."),n._u.add(5),await kc(n),n.mu.shutdown(),n.gu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):mi("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Vn.UNAUTHENTICATED,this.clientId=lE.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async a=>{je("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(je("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new $e(_e.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new li;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=pg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function QP(t,e){t.asyncQueue.verifyOperationInProgress(),je("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await VE(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function XP(t,e){t.asyncQueue.verifyOperationInProgress();const n=await ZP(t);je("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>m0(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,a)=>m0(e.remoteStore,a)),t.onlineComponents=e}async function ZP(t){return t.offlineComponents||(je("FirestoreClient","Using default OfflineComponentProvider"),await QP(t,new KP)),t.offlineComponents}async function ak(t){return t.onlineComponents||(je("FirestoreClient","Using default OnlineComponentProvider"),await XP(t,new YP)),t.onlineComponents}function e$(t){return ak(t).then(e=>e.syncEngine)}async function Nd(t){const e=await ak(t),n=e.eventManager;return n.onListen=$P.bind(null,e.syncEngine),n.onUnlisten=FP.bind(null,e.syncEngine),n}function t$(t,e,n={}){const r=new li;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,l,h,_){const g=new wg({next:C=>{a.enqueueAndForget(()=>gg(i,k));const T=C.docs.has(l);!T&&C.fromCache?_.reject(new $e(_e.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&C.fromCache&&h&&h.source==="server"?_.reject(new $e(_e.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(C)},error:C=>_.reject(C)}),k=new yg(_h(l.path),g,{includeMetadataChanges:!0,Nu:!0});return mg(i,k)}(await Nd(t),t.asyncQueue,e,n,r)),r.promise}function n$(t,e,n={}){const r=new li;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,l,h,_){const g=new wg({next:C=>{a.enqueueAndForget(()=>gg(i,k)),C.fromCache&&h.source==="server"?_.reject(new $e(_e.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(C)},error:C=>_.reject(C)}),k=new yg(l,g,{includeMetadataChanges:!0,Nu:!0});return mg(i,k)}(await Nd(t),t.asyncQueue,e,n,r)),r.promise}const b0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sk(t,e,n){if(!n)throw new $e(_e.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function r$(t,e,n,r){if(e===!0&&r===!0)throw new $e(_e.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function w0(t){if(!ze.isDocumentKey(t))throw new $e(_e.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function x0(t){if(ze.isDocumentKey(t))throw new $e(_e.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function xh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Qe()}function gr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new $e(_e.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xh(t);throw new $e(_e.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new $e(_e.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new $e(_e.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,r$("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new E0({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new $e(_e.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new $e(_e.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new E0(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new DO;switch(n.type){case"gapi":const r=n.client;return new MO(r,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new $e(_e.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=b0.get(e);n&&(je("ComponentProvider","Removing Datastore"),b0.delete(e),n.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ea(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new kn(this.firestore,e,this._key)}}class uo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new uo(this.firestore,e,this._query)}}class ea extends uo{constructor(e,n,r){super(e,n,_h(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new kn(this.firestore,null,new ze(e))}withConverter(e){return new ea(this.firestore,e,this._path)}}function ir(t,e,...n){if(t=_n(t),sk("collection","path",e),t instanceof xg){const r=Et.fromString(e,...n);return x0(r),new ea(t,null,r)}{if(!(t instanceof kn||t instanceof ea))throw new $e(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Et.fromString(e,...n));return x0(r),new ea(t.firestore,null,r)}}function en(t,e,...n){if(t=_n(t),arguments.length===1&&(e=lE.R()),sk("doc","path",e),t instanceof xg){const r=Et.fromString(e,...n);return w0(r),new kn(t,null,new ze(r))}{if(!(t instanceof kn||t instanceof ea))throw new $e(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Et.fromString(e,...n));return w0(r),new kn(t.firestore,t instanceof ea?t.converter:null,new ze(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i${constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new BE(this,"async_queue_retry"),this.jc=()=>{const n=Nf();n&&je("AsyncQueue","Visibility state changed to "+n.visibilityState),this.xo.bo()};const e=Nf();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const n=Nf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const n=new li;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}async Hc(){if(this.Bc.length!==0){try{await this.Bc[0](),this.Bc.shift(),this.xo.reset()}catch(e){if(!bc(e))throw e;je("AsyncQueue","Operation failed with retryable error: "+e)}this.Bc.length>0&&this.xo.Ao(()=>this.Hc())}}zc(e){const n=this.$c.then(()=>(this.Kc=!0,e().catch(r=>{this.qc=r,this.Kc=!1;const i=function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),l}(r);throw mi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Kc=!1,r))));return this.$c=n,n}enqueueAfterDelay(e,n,r){this.Wc(),this.Qc.indexOf(e)>-1&&(n=0);const i=_g.createAndSchedule(this,e,n,r,a=>this.Jc(a));return this.Uc.push(i),i}Wc(){this.qc&&Qe()}verifyOperationInProgress(){}async Yc(){let e;do e=this.$c,await e;while(e!==this.$c)}Xc(e){for(const n of this.Uc)if(n.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const n=this.Uc.indexOf(e);this.Uc.splice(n,1)}}function k0(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class la extends xg{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new i$,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||ok(this),this._firestoreClient.terminate()}}function Tn(t,e){const n=typeof t=="object"?t:Ix(),r=typeof t=="string"?t:e||"(default)";return bm(n,"firestore").getImmediate({identifier:r})}function Eh(t){return t._firestoreClient||ok(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function ok(t){var e;const n=t._freezeSettings(),r=function(i,a,l,h){return new HO(i,a,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new JP(t._authCredentials,t._appCheckCredentials,t._queue,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new $e(_e.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Js(pn.fromBase64String(e))}catch(n){throw new $e(_e.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Js(pn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new $e(_e.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new $e(_e.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ft(this._lat,e._lat)||ft(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a$=/^__.*__$/;class s${constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new _a(e,this.data,this.fieldMask,n,this.fieldTransforms):new xc(e,this.data,n,this.fieldTransforms)}}class lk{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new _a(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function ck(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Qe()}}class kg{constructor(e,n,r,i,a,l){this.settings=e,this.databaseId=n,this.It=r,this.ignoreUndefinedProperties=i,a===void 0&&this.ea(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new kg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.sa({path:r,ra:!1});return i.oa(e),i}ua(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.sa({path:r,ra:!1});return i.ea(),i}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return Dd(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(e.length===0)throw this.aa("Document fields must not be empty");if(ck(this.na)&&a$.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class o${constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.It=r||yh(e)}fa(e,n,r,i=!1){return new kg({na:e,methodName:n,la:r,path:xn.emptyPath(),ra:!1,ha:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Sh(t){const e=t._freezeSettings(),n=yh(t._databaseId);return new o$(t._databaseId,!!e.ignoreUndefinedProperties,n)}function uk(t,e,n,r,i,a={}){const l=t.fa(a.merge||a.mergeFields?2:0,e,n,i);Tg("Data must be an object, but it was:",l,r);const h=dk(r,l);let _,g;if(a.merge)_=new mr(l.fieldMask),g=l.fieldTransforms;else if(a.mergeFields){const k=[];for(const C of a.mergeFields){const T=dp(e,C,n);if(!l.contains(T))throw new $e(_e.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);fk(k,T)||k.push(T)}_=new mr(k),g=l.fieldTransforms.filter(C=>_.covers(C.field))}else _=null,g=l.fieldTransforms;return new s$(new qn(h),_,g)}class Th extends Tc{_toFieldTransform(e){if(e.na!==2)throw e.na===1?e.aa(`${this._methodName}() can only appear at the top level of your update data`):e.aa(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Th}}class Sg extends Tc{_toFieldTransform(e){return new TE(e.path,new Vl)}isEqual(e){return e instanceof Sg}}class l$ extends Tc{constructor(e,n){super(e),this._a=n}_toFieldTransform(e){const n=new ql(e.It,wE(e.It,this._a));return new TE(e.path,n)}isEqual(e){return this===e}}function c$(t,e,n,r){const i=t.fa(1,e,n);Tg("Data must be an object, but it was:",i,r);const a=[],l=qn.empty();rs(r,(_,g)=>{const k=Cg(e,_,n);g=_n(g);const C=i.ua(k);if(g instanceof Th)a.push(k);else{const T=Cc(g,C);T!=null&&(a.push(k),l.set(k,T))}});const h=new mr(a);return new lk(l,h,i.fieldTransforms)}function u$(t,e,n,r,i,a){const l=t.fa(1,e,n),h=[dp(e,r,n)],_=[i];if(a.length%2!=0)throw new $e(_e.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<a.length;T+=2)h.push(dp(e,a[T])),_.push(a[T+1]);const g=[],k=qn.empty();for(let T=h.length-1;T>=0;--T)if(!fk(g,h[T])){const L=h[T];let F=_[T];F=_n(F);const D=l.ua(L);if(F instanceof Th)g.push(L);else{const P=Cc(F,D);P!=null&&(g.push(L),k.set(L,P))}}const C=new mr(g);return new lk(k,C,l.fieldTransforms)}function d$(t,e,n,r=!1){return Cc(n,t.fa(r?4:3,e))}function Cc(t,e){if(hk(t=_n(t)))return Tg("Unsupported field value:",e,t),dk(t,e);if(t instanceof Tc)return function(n,r){if(!ck(r.na))throw r.aa(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.aa(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ra&&e.na!==4)throw e.aa("Nested arrays are not supported");return function(n,r){const i=[];let a=0;for(const l of n){let h=Cc(l,r.ca(a));h==null&&(h={nullValue:"NULL_VALUE"}),i.push(h),a++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=_n(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return wE(r.It,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=qt.fromDate(n);return{timestampValue:Td(r.It,i)}}if(n instanceof qt){const i=new qt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Td(r.It,i)}}if(n instanceof Eg)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Js)return{bytesValue:RE(r.It,n._byteString)};if(n instanceof kn){const i=r.databaseId,a=n.firestore._databaseId;if(!a.isEqual(i))throw r.aa(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:sg(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.aa(`Unsupported field value: ${xh(n)}`)}(t,e)}function dk(t,e){const n={};return cE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):rs(t,(r,i)=>{const a=Cc(i,e.ia(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function hk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof qt||t instanceof Eg||t instanceof Js||t instanceof kn||t instanceof Tc)}function Tg(t,e,n){if(!hk(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=xh(n);throw r==="an object"?e.aa(t+" a custom object"):e.aa(t+" "+r)}}function dp(t,e,n){if((e=_n(e))instanceof kh)return e._internalPath;if(typeof e=="string")return Cg(t,e);throw Dd("Field path arguments must be of type string or ",t,!1,void 0,n)}const h$=new RegExp("[~\\*/\\[\\]]");function Cg(t,e,n){if(e.search(h$)>=0)throw Dd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new kh(...e.split("."))._internalPath}catch{throw Dd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Dd(t,e,n,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let _="";return(a||l)&&(_+=" (found",a&&(_+=` in field ${r}`),l&&(_+=` in document ${i}`),_+=")"),new $e(_e.INVALID_ARGUMENT,h+t+_)}function fk(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new kn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new f$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ng("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class f$ extends _k{data(){return super.data()}}function Ng(t,e){return typeof e=="string"?Cg(t,e):e instanceof kh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pk extends _k{constructor(e,n,r,i,a,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ou(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Ng("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ou extends pk{data(e={}){return super.data(e)}}class mk{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Vo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ou(this._firestore,this._userDataWriter,r.key,r,new Vo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new $e(_e.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new Ou(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Vo(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const h=new Ou(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Vo(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,g=-1;return l.type!==0&&(_=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),g=a.indexOf(l.doc.key)),{type:_$(l.type),doc:h,oldIndex:_,newIndex:g}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function _$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Qe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gk(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new $e(_e.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class p${}function Wl(t,...e){for(const n of e)t=n._apply(t);return t}class m$ extends p${constructor(e,n,r){super(),this.wa=e,this.ma=n,this.ga=r,this.type="where"}_apply(e){const n=Sh(e.firestore),r=function(i,a,l,h,_,g,k){let C;if(_.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new $e(_e.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){T0(k,g);const L=[];for(const F of k)L.push(S0(h,i,F));C={arrayValue:{values:L}}}else C=S0(h,i,k)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||T0(k,g),C=d$(l,a,k,g==="in"||g==="not-in");const T=Ln.create(_,g,C);return function(L,F){if(F.dt()){const P=pE(L);if(P!==null&&!P.isEqual(F.field))throw new $e(_e.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${P.toString()}' and '${F.field.toString()}'`);const A=_E(L);A!==null&&g$(L,F.field,A)}const D=function(P,A){for(const M of P.filters)if(A.indexOf(M.op)>=0)return M.op;return null}(L,function(P){switch(P){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(F.op));if(D!==null)throw D===F.op?new $e(_e.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${F.op.toString()}' filter.`):new $e(_e.INVALID_ARGUMENT,`Invalid query. You cannot use '${F.op.toString()}' filters with '${D.toString()}' filters.`)}(i,T),T}(e._query,"where",n,e.firestore._databaseId,this.wa,this.ma,this.ga);return new uo(e.firestore,e.converter,function(i,a){const l=i.filters.concat([a]);return new wc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),l,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function hp(t,e,n){const r=e,i=Ng("where",t);return new m$(i,r,n)}function S0(t,e,n){if(typeof(n=_n(n))=="string"){if(n==="")throw new $e(_e.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mE(e)&&n.indexOf("/")!==-1)throw new $e(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Et.fromString(n));if(!ze.isDocumentKey(r))throw new $e(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Xy(t,new ze(r))}if(n instanceof kn)return Xy(t,n._key);throw new $e(_e.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xh(n)}.`)}function T0(t,e){if(!Array.isArray(t)||t.length===0)throw new $e(_e.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new $e(_e.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function g$(t,e,n){if(!n.isEqual(e))throw new $e(_e.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v${convertValue(e,n="none"){switch(Qa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ws(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Qe()}}convertObject(e,n){const r={};return rs(e.fields,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertGeoPoint(e){return new Eg(Ft(e.latitude),Ft(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=dE(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Fl(e));default:return null}}convertTimestamp(e){const n=sa(e);return new qt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Et.fromString(e);vt(UE(r));const i=new jl(r.get(1),r.get(3)),a=new ze(r.popFirst(5));return i.isEqual(n)||mi(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vk(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y$(t){t=gr(t,kn);const e=gr(t.firestore,la);return t$(Eh(e),t._key).then(n=>yk(e,t,n))}class Dg extends v${constructor(e){super(),this.firestore=e}convertBytes(e){return new Js(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new kn(this.firestore,null,n)}}function yi(t){t=gr(t,uo);const e=gr(t.firestore,la),n=Eh(e),r=new Dg(e);return gk(t._query),n$(n,t._query).then(i=>new mk(e,r,t,i))}function ta(t,e,n){t=gr(t,kn);const r=gr(t.firestore,la),i=vk(t.converter,e,n);return Ag(r,[uk(Sh(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ir.none())])}function Ia(t,e,n,...r){t=gr(t,kn);const i=gr(t.firestore,la),a=Sh(i);let l;return l=typeof(e=_n(e))=="string"||e instanceof kh?u$(a,"updateDoc",t._key,e,n,r):c$(a,"updateDoc",t._key,e),Ag(i,[l.toMutation(t._key,Ir.exists(!0))])}function Ch(t,e){const n=gr(t.firestore,la),r=en(t),i=vk(t.converter,e);return Ag(n,[uk(Sh(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ir.exists(!1))]).then(()=>r)}function b$(t,...e){var n,r,i;t=_n(t);let a={includeMetadataChanges:!1},l=0;typeof e[l]!="object"||k0(e[l])||(a=e[l],l++);const h={includeMetadataChanges:a.includeMetadataChanges};if(k0(e[l])){const C=e[l];e[l]=(n=C.next)===null||n===void 0?void 0:n.bind(C),e[l+1]=(r=C.error)===null||r===void 0?void 0:r.bind(C),e[l+2]=(i=C.complete)===null||i===void 0?void 0:i.bind(C)}let _,g,k;if(t instanceof kn)g=gr(t.firestore,la),k=_h(t._key.path),_={next:C=>{e[l]&&e[l](yk(g,t,C))},error:e[l+1],complete:e[l+2]};else{const C=gr(t,uo);g=gr(C.firestore,la),k=C._query;const T=new Dg(g);_={next:L=>{e[l]&&e[l](new mk(g,T,C,L))},error:e[l+1],complete:e[l+2]},gk(t._query)}return function(C,T,L,F){const D=new wg(F),P=new yg(T,D,L);return C.asyncQueue.enqueueAndForget(async()=>mg(await Nd(C),P)),()=>{D.Rc(),C.asyncQueue.enqueueAndForget(async()=>gg(await Nd(C),P))}}(Eh(g),k,h,_)}function Ag(t,e){return function(n,r){const i=new li;return n.asyncQueue.enqueueAndForget(async()=>jP(await e$(n),r,i)),i.promise}(Eh(t),e)}function yk(t,e,n){const r=n.docs.get(e._key),i=new Dg(t);return new pk(t,i,e._key,r,new Vo(n.hasPendingWrites,n.fromCache),e.converter)}function Nh(){return new Sg("serverTimestamp")}function Ad(t){return new l$("increment",t)}(function(t,e=!0){(function(n){oo=n})(rc),Hs(new Ha("firestore",(n,{instanceIdentifier:r,options:i})=>{const a=n.getProvider("app").getImmediate(),l=new la(new AO(n.getProvider("auth-internal")),new LO(n.getProvider("app-check-internal")),function(h,_){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new $e(_e.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jl(h.options.projectId,_)}(a,r),a);return i=Object.assign({useFetchStreams:e},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),Zi(Wy,"3.4.15",t),Zi(Wy,"3.4.15","esm2017")})();var Dh={exports:{}},Ah={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w$=le.exports,x$=Symbol.for("react.element"),E$=Symbol.for("react.fragment"),k$=Object.prototype.hasOwnProperty,S$=w$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,T$={key:!0,ref:!0,__self:!0,__source:!0};function bk(t,e,n){var r,i={},a=null,l=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(l=e.ref);for(r in e)k$.call(e,r)&&!T$.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:x$,type:t,key:a,ref:l,props:i,_owner:S$.current}}Ah.Fragment=E$;Ah.jsx=bk;Ah.jsxs=bk;(function(t){t.exports=Ah})(Dh);const Kt=Dh.exports.Fragment,I=Dh.exports.jsx,te=Dh.exports.jsxs,wk=le.exports.createContext(),C$=({children:t})=>{Tn();const[e,n]=le.exports.useState({}),r=(l,h)=>aI(eu,l,h),i=(l,h)=>sI(eu,l,h),a=()=>lI(eu);return le.exports.useEffect(()=>{const l=oI(eu,h=>{n(h)});return()=>{l()}},[]),I(wk.Provider,{value:{createUser:r,userLogged:e,logOut:a,signIn:i},children:t})},wr=()=>le.exports.useContext(wk),xk=le.exports.createContext(),N$=({children:t})=>{const e=Tn(),{userLogged:n}=wr(),[r,i]=le.exports.useState({});return le.exports.useEffect(()=>{if(n){const a=b$(en(e,`Users/${n.uid}`),l=>{const h=l.data(),_={uid:n.uid,email:n.email,role:h.role,form:h,newNotifications:h.newNotifications,notifications:h.notifications,misClases:{actualClass:h.actualClass,remainingClases:h.remainingClases,completedClases:h.completedClases,absentedClases:h.absentedClases,teacherUid:h.teacherUid,teacher:h.teacher}};i(_)});return()=>{a()}}else i({})},[n]),I(xk.Provider,{value:{user:r},children:t})},jn=()=>le.exports.useContext(xk);const Ek="/assets/logo.f1e9716b.svg",D$=()=>{const{user:t}=jn();return I("div",{children:te("div",{className:"notificaciones",children:[I("img",{src:"../../../src/Assets/turn-notifications-on-button.png",alt:"notifications.png"}),t&&t.newNotifications?t.notifications:""]})})},A$=()=>{const{userLogged:t,logOut:e}=wr(),n=br();return I(Kt,{children:te("div",{className:"navBarContainer",children:[I(zr,{className:"navBar-brand",to:"/",children:I("img",{src:Ek,alt:""})}),t?te("ul",{className:"navBar-options",children:[I("li",{className:"navBar-item",children:I(zr,{className:"navBar-link",to:"/MisNotificaciones",children:I(D$,{})})}),te("li",{className:"navBar-item",children:[I("input",{type:"checkbox",id:"clickEvent"}),I("label",{htmlFor:"clickEvent",children:I("div",{className:"userMenu",children:I("img",{src:"../../../src/Assets/round-account-button-with-user-inside.png",alt:"userIcon.png"})})}),I("div",{className:"modalUserMenu",children:te("ul",{className:"userMenuOptions",children:[I(zr,{to:"/Account",children:I("li",{children:"Mi Perfil"})}),I(zr,{to:"/Panel",children:I("li",{children:"Mi Panel"})}),I(zr,{to:"/MisNotificaciones",children:I("li",{children:"Mis Notificaciones"})}),I(zr,{to:"/Panel",children:I("li",{onClick:async()=>{try{await e(),n("/logger"),swal("BYE!","sesion Finalizada!","success")}catch(i){console.log(i.message)}},children:"Cerrar Sesi\xF3n"})})]})})]})]}):te("ul",{className:"navBar-options",children:[I(zr,{className:"navBar-link",to:"/signIn",children:I("li",{className:"navBar-item",children:"Iniciar Sesion"})}),I(zr,{className:"navBar-link",to:"/signUp",children:I("li",{className:"navBar-item",children:"Registrarse"})})]})]})})};const Lu="/assets/cohete.30df8fe9.svg";function I$(){return te(Kt,{children:[I("div",{className:"paquetes__title",children:I("h2",{children:" Paquetes"})}),I("section",{className:"card_Content",children:te("div",{className:"card__Container",children:[te("div",{className:"card__body",children:[I("span",{className:"mini_Title",children:"El Mas Barato"}),I("div",{className:"cohete",children:I("img",{src:Lu,alt:""})}),I("h2",{className:"box-1",children:"Navis \xB01"}),te("span",{className:"box-2",children:[" ","Lorem ipsum dolor, sit amet consectetur adipisicing elit. Debitis impedit, eius, repellat quae voluptates obcaecati libero sed blanditiis praesentium molestias incidunt, dicta facilis? Harum ducimus, eos atque ipsa corrupti architecto!"]}),I(Vr,{to:"signUp",children:I("button",{className:"button_itemCards",children:"Adquirir"})})]}),te("div",{className:"card__body",children:[I("span",{className:"mini_Title",children:"El Mas Popular"}),I("div",{className:"cohete",children:I("img",{src:Lu,alt:""})}),I("h2",{className:"box-1",children:"Navis \xB02"}),te("span",{className:"box-2",children:[" ","Lorem ipsum dolor, sit amet consectetur adipisicing elit. Debitis impedit, eius, repellat quae voluptates obcaecati libero sed blanditiis praesentium molestias incidunt, dicta facilis? Harum ducimus, eos atque ipsa corrupti architecto!"]}),I(Vr,{to:"signUp",children:I("button",{className:"button_itemCards",children:"Adquirir"})})]}),te("div",{className:"card__body",children:[I("span",{className:"mini_Title",children:"Recomendado"}),I("div",{className:"cohete",children:I("img",{src:Lu,alt:""})}),I("h2",{className:"box-1",children:"Navis \xB03"}),te("span",{className:"box-2",children:[" ","Lorem ipsum dolor, sit amet consectetur adipisicing elit. Debitis impedit, eius, repellat quae voluptates obcaecati libero sed blanditiis praesentium molestias incidunt, dicta facilis? Harum ducimus, eos atque ipsa corrupti architecto!"]}),I(Vr,{to:"signUp",children:I("button",{className:"button_itemCards",children:"Adquirir"})})]})]})})]})}const M$="/assets/img00.4c956133.jpg",O$="/assets/img01.17840f88.jpg",L$="/assets/img02.946af719.jpg";const P$=()=>{const t=[M$,O$,L$],[e,n]=le.exports.useState(0),[r,i]=le.exports.useState(t[0]),[a,l]=le.exports.useState(!1),h=(k,C,T=!0)=>{l(!1),setTimeout(()=>{const L=T?k<C.length-1:k>0,F=T?L?k+1:0:L?k-1:C.length-1;i(C[F]),n(F)},500)};return te("div",{className:"carousel-container",children:[I("img",{src:r,alt:"img",onLoad:()=>l(!0)}),te("button",{className:"boton-der",onClick:()=>{h(e,t,!1)},children:[" ",I("i",{className:"fa-solid fa-circle-chevron-left"})," "]}),te("button",{className:"boton-izq",onClick:()=>{h(e,t)},children:[" ",I("i",{className:"fa-solid fa-circle-chevron-right"})," "]})]})},$$=()=>te("section",{className:"about_container",children:[te("div",{className:"about__1",children:[te("h2",{className:"about__title",children:["\xA1Se ",I("span",{children:"aprende"})," desde el primer d\xEDa!"]}),I("span",{className:"parrafo__content",children:"\xBFNecesitas aprobar un examen de ingl\xE9s?, \xBFQuieres estudiar en el extranjero?, \xBFEn tu trabajo dominar el ingl\xE9s es un requisito?, Te ayudaremos a conseguirlo. En Navis nos adaptamos tus objetivos a la hora de aprender ingl\xE9s, ya sea desde cero o para un fin en espec\xEDfico, con nosotros lo lograras. Aprende ingl\xE9s de manera f\xE1cil, r\xE1pida y entretenida."})]}),I("div",{className:"about__2",children:I(P$,{})})]});const R$="/assets/reloj.69dba3dd.svg",No="/assets/notas.40f15ebe.svg",F$="/assets/objetivo.83bab982.svg";function C0(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function Ig(t={},e={}){Object.keys(e).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:C0(e[n])&&C0(t[n])&&Object.keys(e[n]).length>0&&Ig(t[n],e[n])})}const kk={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function nn(){const t=typeof document<"u"?document:{};return Ig(t,kk),t}const j$={document:kk,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function sn(){const t=typeof window<"u"?window:{};return Ig(t,j$),t}function z$(t){const e=t.__proto__;Object.defineProperty(t,"__proto__",{get(){return e},set(n){e.__proto__=n}})}class Ui extends Array{constructor(e){typeof e=="number"?super(e):(super(...e||[]),z$(this))}}function Nc(t=[]){const e=[];return t.forEach(n=>{Array.isArray(n)?e.push(...Nc(n)):e.push(n)}),e}function Sk(t,e){return Array.prototype.filter.call(t,e)}function U$(t){const e=[];for(let n=0;n<t.length;n+=1)e.indexOf(t[n])===-1&&e.push(t[n]);return e}function V$(t,e){if(typeof t!="string")return[t];const n=[],r=e.querySelectorAll(t);for(let i=0;i<r.length;i+=1)n.push(r[i]);return n}function Se(t,e){const n=sn(),r=nn();let i=[];if(!e&&t instanceof Ui)return t;if(!t)return new Ui(i);if(typeof t=="string"){const a=t.trim();if(a.indexOf("<")>=0&&a.indexOf(">")>=0){let l="div";a.indexOf("<li")===0&&(l="ul"),a.indexOf("<tr")===0&&(l="tbody"),(a.indexOf("<td")===0||a.indexOf("<th")===0)&&(l="tr"),a.indexOf("<tbody")===0&&(l="table"),a.indexOf("<option")===0&&(l="select");const h=r.createElement(l);h.innerHTML=a;for(let _=0;_<h.childNodes.length;_+=1)i.push(h.childNodes[_])}else i=V$(t.trim(),e||r)}else if(t.nodeType||t===n||t===r)i.push(t);else if(Array.isArray(t)){if(t instanceof Ui)return t;i=t}return new Ui(U$(i))}Se.fn=Ui.prototype;function H$(...t){const e=Nc(t.map(n=>n.split(" ")));return this.forEach(n=>{n.classList.add(...e)}),this}function B$(...t){const e=Nc(t.map(n=>n.split(" ")));return this.forEach(n=>{n.classList.remove(...e)}),this}function q$(...t){const e=Nc(t.map(n=>n.split(" ")));this.forEach(n=>{e.forEach(r=>{n.classList.toggle(r)})})}function W$(...t){const e=Nc(t.map(n=>n.split(" ")));return Sk(this,n=>e.filter(r=>n.classList.contains(r)).length>0).length>0}function G$(t,e){if(arguments.length===1&&typeof t=="string")return this[0]?this[0].getAttribute(t):void 0;for(let n=0;n<this.length;n+=1)if(arguments.length===2)this[n].setAttribute(t,e);else for(const r in t)this[n][r]=t[r],this[n].setAttribute(r,t[r]);return this}function K$(t){for(let e=0;e<this.length;e+=1)this[e].removeAttribute(t);return this}function Y$(t){for(let e=0;e<this.length;e+=1)this[e].style.transform=t;return this}function J$(t){for(let e=0;e<this.length;e+=1)this[e].style.transitionDuration=typeof t!="string"?`${t}ms`:t;return this}function Q$(...t){let[e,n,r,i]=t;typeof t[1]=="function"&&([e,r,i]=t,n=void 0),i||(i=!1);function a(g){const k=g.target;if(!k)return;const C=g.target.dom7EventData||[];if(C.indexOf(g)<0&&C.unshift(g),Se(k).is(n))r.apply(k,C);else{const T=Se(k).parents();for(let L=0;L<T.length;L+=1)Se(T[L]).is(n)&&r.apply(T[L],C)}}function l(g){const k=g&&g.target?g.target.dom7EventData||[]:[];k.indexOf(g)<0&&k.unshift(g),r.apply(this,k)}const h=e.split(" ");let _;for(let g=0;g<this.length;g+=1){const k=this[g];if(n)for(_=0;_<h.length;_+=1){const C=h[_];k.dom7LiveListeners||(k.dom7LiveListeners={}),k.dom7LiveListeners[C]||(k.dom7LiveListeners[C]=[]),k.dom7LiveListeners[C].push({listener:r,proxyListener:a}),k.addEventListener(C,a,i)}else for(_=0;_<h.length;_+=1){const C=h[_];k.dom7Listeners||(k.dom7Listeners={}),k.dom7Listeners[C]||(k.dom7Listeners[C]=[]),k.dom7Listeners[C].push({listener:r,proxyListener:l}),k.addEventListener(C,l,i)}}return this}function X$(...t){let[e,n,r,i]=t;typeof t[1]=="function"&&([e,r,i]=t,n=void 0),i||(i=!1);const a=e.split(" ");for(let l=0;l<a.length;l+=1){const h=a[l];for(let _=0;_<this.length;_+=1){const g=this[_];let k;if(!n&&g.dom7Listeners?k=g.dom7Listeners[h]:n&&g.dom7LiveListeners&&(k=g.dom7LiveListeners[h]),k&&k.length)for(let C=k.length-1;C>=0;C-=1){const T=k[C];r&&T.listener===r||r&&T.listener&&T.listener.dom7proxy&&T.listener.dom7proxy===r?(g.removeEventListener(h,T.proxyListener,i),k.splice(C,1)):r||(g.removeEventListener(h,T.proxyListener,i),k.splice(C,1))}}}return this}function Z$(...t){const e=sn(),n=t[0].split(" "),r=t[1];for(let i=0;i<n.length;i+=1){const a=n[i];for(let l=0;l<this.length;l+=1){const h=this[l];if(e.CustomEvent){const _=new e.CustomEvent(a,{detail:r,bubbles:!0,cancelable:!0});h.dom7EventData=t.filter((g,k)=>k>0),h.dispatchEvent(_),h.dom7EventData=[],delete h.dom7EventData}}}return this}function eR(t){const e=this;function n(r){r.target===this&&(t.call(this,r),e.off("transitionend",n))}return t&&e.on("transitionend",n),this}function tR(t){if(this.length>0){if(t){const e=this.styles();return this[0].offsetWidth+parseFloat(e.getPropertyValue("margin-right"))+parseFloat(e.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null}function nR(t){if(this.length>0){if(t){const e=this.styles();return this[0].offsetHeight+parseFloat(e.getPropertyValue("margin-top"))+parseFloat(e.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null}function rR(){if(this.length>0){const t=sn(),e=nn(),n=this[0],r=n.getBoundingClientRect(),i=e.body,a=n.clientTop||i.clientTop||0,l=n.clientLeft||i.clientLeft||0,h=n===t?t.scrollY:n.scrollTop,_=n===t?t.scrollX:n.scrollLeft;return{top:r.top+h-a,left:r.left+_-l}}return null}function iR(){const t=sn();return this[0]?t.getComputedStyle(this[0],null):{}}function aR(t,e){const n=sn();let r;if(arguments.length===1)if(typeof t=="string"){if(this[0])return n.getComputedStyle(this[0],null).getPropertyValue(t)}else{for(r=0;r<this.length;r+=1)for(const i in t)this[r].style[i]=t[i];return this}if(arguments.length===2&&typeof t=="string"){for(r=0;r<this.length;r+=1)this[r].style[t]=e;return this}return this}function sR(t){return t?(this.forEach((e,n)=>{t.apply(e,[e,n])}),this):this}function oR(t){const e=Sk(this,t);return Se(e)}function lR(t){if(typeof t>"u")return this[0]?this[0].innerHTML:null;for(let e=0;e<this.length;e+=1)this[e].innerHTML=t;return this}function cR(t){if(typeof t>"u")return this[0]?this[0].textContent.trim():null;for(let e=0;e<this.length;e+=1)this[e].textContent=t;return this}function uR(t){const e=sn(),n=nn(),r=this[0];let i,a;if(!r||typeof t>"u")return!1;if(typeof t=="string"){if(r.matches)return r.matches(t);if(r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(r.msMatchesSelector)return r.msMatchesSelector(t);for(i=Se(t),a=0;a<i.length;a+=1)if(i[a]===r)return!0;return!1}if(t===n)return r===n;if(t===e)return r===e;if(t.nodeType||t instanceof Ui){for(i=t.nodeType?[t]:t,a=0;a<i.length;a+=1)if(i[a]===r)return!0;return!1}return!1}function dR(){let t=this[0],e;if(t){for(e=0;(t=t.previousSibling)!==null;)t.nodeType===1&&(e+=1);return e}}function hR(t){if(typeof t>"u")return this;const e=this.length;if(t>e-1)return Se([]);if(t<0){const n=e+t;return n<0?Se([]):Se([this[n]])}return Se([this[t]])}function fR(...t){let e;const n=nn();for(let r=0;r<t.length;r+=1){e=t[r];for(let i=0;i<this.length;i+=1)if(typeof e=="string"){const a=n.createElement("div");for(a.innerHTML=e;a.firstChild;)this[i].appendChild(a.firstChild)}else if(e instanceof Ui)for(let a=0;a<e.length;a+=1)this[i].appendChild(e[a]);else this[i].appendChild(e)}return this}function _R(t){const e=nn();let n,r;for(n=0;n<this.length;n+=1)if(typeof t=="string"){const i=e.createElement("div");for(i.innerHTML=t,r=i.childNodes.length-1;r>=0;r-=1)this[n].insertBefore(i.childNodes[r],this[n].childNodes[0])}else if(t instanceof Ui)for(r=0;r<t.length;r+=1)this[n].insertBefore(t[r],this[n].childNodes[0]);else this[n].insertBefore(t,this[n].childNodes[0]);return this}function pR(t){return this.length>0?t?this[0].nextElementSibling&&Se(this[0].nextElementSibling).is(t)?Se([this[0].nextElementSibling]):Se([]):this[0].nextElementSibling?Se([this[0].nextElementSibling]):Se([]):Se([])}function mR(t){const e=[];let n=this[0];if(!n)return Se([]);for(;n.nextElementSibling;){const r=n.nextElementSibling;t?Se(r).is(t)&&e.push(r):e.push(r),n=r}return Se(e)}function gR(t){if(this.length>0){const e=this[0];return t?e.previousElementSibling&&Se(e.previousElementSibling).is(t)?Se([e.previousElementSibling]):Se([]):e.previousElementSibling?Se([e.previousElementSibling]):Se([])}return Se([])}function vR(t){const e=[];let n=this[0];if(!n)return Se([]);for(;n.previousElementSibling;){const r=n.previousElementSibling;t?Se(r).is(t)&&e.push(r):e.push(r),n=r}return Se(e)}function yR(t){const e=[];for(let n=0;n<this.length;n+=1)this[n].parentNode!==null&&(t?Se(this[n].parentNode).is(t)&&e.push(this[n].parentNode):e.push(this[n].parentNode));return Se(e)}function bR(t){const e=[];for(let n=0;n<this.length;n+=1){let r=this[n].parentNode;for(;r;)t?Se(r).is(t)&&e.push(r):e.push(r),r=r.parentNode}return Se(e)}function wR(t){let e=this;return typeof t>"u"?Se([]):(e.is(t)||(e=e.parents(t).eq(0)),e)}function xR(t){const e=[];for(let n=0;n<this.length;n+=1){const r=this[n].querySelectorAll(t);for(let i=0;i<r.length;i+=1)e.push(r[i])}return Se(e)}function ER(t){const e=[];for(let n=0;n<this.length;n+=1){const r=this[n].children;for(let i=0;i<r.length;i+=1)(!t||Se(r[i]).is(t))&&e.push(r[i])}return Se(e)}function kR(){for(let t=0;t<this.length;t+=1)this[t].parentNode&&this[t].parentNode.removeChild(this[t]);return this}const N0={addClass:H$,removeClass:B$,hasClass:W$,toggleClass:q$,attr:G$,removeAttr:K$,transform:Y$,transition:J$,on:Q$,off:X$,trigger:Z$,transitionEnd:eR,outerWidth:tR,outerHeight:nR,styles:iR,offset:rR,css:aR,each:sR,html:lR,text:cR,is:uR,index:dR,eq:hR,append:fR,prepend:_R,next:pR,nextAll:mR,prev:gR,prevAll:vR,parent:yR,parents:bR,closest:wR,find:xR,children:ER,filter:oR,remove:kR};Object.keys(N0).forEach(t=>{Object.defineProperty(Se.fn,t,{value:N0[t],writable:!0})});function SR(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function Gl(t,e=0){return setTimeout(t,e)}function Kl(){return Date.now()}function TR(t){const e=sn();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function CR(t,e="x"){const n=sn();let r,i,a;const l=TR(t);return n.WebKitCSSMatrix?(i=l.transform||l.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(h=>h.replace(",",".")).join(", ")),a=new n.WebKitCSSMatrix(i==="none"?"":i)):(a=l.MozTransform||l.OTransform||l.MsTransform||l.msTransform||l.transform||l.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=a.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?i=a.m41:r.length===16?i=parseFloat(r[12]):i=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?i=a.m42:r.length===16?i=parseFloat(r[13]):i=parseFloat(r[5])),i||0}function ou(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function NR(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Xn(...t){const e=Object(t[0]),n=["__proto__","constructor","prototype"];for(let r=1;r<t.length;r+=1){const i=t[r];if(i!=null&&!NR(i)){const a=Object.keys(Object(i)).filter(l=>n.indexOf(l)<0);for(let l=0,h=a.length;l<h;l+=1){const _=a[l],g=Object.getOwnPropertyDescriptor(i,_);g!==void 0&&g.enumerable&&(ou(e[_])&&ou(i[_])?i[_].__swiper__?e[_]=i[_]:Xn(e[_],i[_]):!ou(e[_])&&ou(i[_])?(e[_]={},i[_].__swiper__?e[_]=i[_]:Xn(e[_],i[_])):e[_]=i[_])}}}return e}function lu(t,e,n){t.style.setProperty(e,n)}function Tk({swiper:t,targetPosition:e,side:n}){const r=sn(),i=-t.translate;let a=null,l;const h=t.params.speed;t.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(t.cssModeFrameID);const _=e>i?"next":"prev",g=(C,T)=>_==="next"&&C>=T||_==="prev"&&C<=T,k=()=>{l=new Date().getTime(),a===null&&(a=l);const C=Math.max(Math.min((l-a)/h,1),0),T=.5-Math.cos(C*Math.PI)/2;let L=i+T*(e-i);if(g(L,e)&&(L=e),t.wrapperEl.scrollTo({[n]:L}),g(L,e)){t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[n]:L})}),r.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=r.requestAnimationFrame(k)};k()}let Df;function DR(){const t=sn(),e=nn();return{smoothScroll:e.documentElement&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch),passiveListener:function(){let r=!1;try{const i=Object.defineProperty({},"passive",{get(){r=!0}});t.addEventListener("testPassiveListener",null,i)}catch{}return r}(),gestures:function(){return"ongesturestart"in t}()}}function Ck(){return Df||(Df=DR()),Df}let Af;function AR({userAgent:t}={}){const e=Ck(),n=sn(),r=n.navigator.platform,i=t||n.navigator.userAgent,a={ios:!1,android:!1},l=n.screen.width,h=n.screen.height,_=i.match(/(Android);?[\s\/]+([\d.]+)?/);let g=i.match(/(iPad).*OS\s([\d_]+)/);const k=i.match(/(iPod)(.*OS\s([\d_]+))?/),C=!g&&i.match(/(iPhone\sOS|iOS)\s([\d_]+)/),T=r==="Win32";let L=r==="MacIntel";const F=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!g&&L&&e.touch&&F.indexOf(`${l}x${h}`)>=0&&(g=i.match(/(Version)\/([\d.]+)/),g||(g=[0,1,"13_0_0"]),L=!1),_&&!T&&(a.os="android",a.android=!0),(g||C||k)&&(a.os="ios",a.ios=!0),a}function IR(t={}){return Af||(Af=AR(t)),Af}let If;function MR(){const t=sn();function e(){const n=t.navigator.userAgent.toLowerCase();return n.indexOf("safari")>=0&&n.indexOf("chrome")<0&&n.indexOf("android")<0}return{isSafari:e(),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent)}}function OR(){return If||(If=MR()),If}function LR({swiper:t,on:e,emit:n}){const r=sn();let i=null,a=null;const l=()=>{!t||t.destroyed||!t.initialized||(n("beforeResize"),n("resize"))},h=()=>{!t||t.destroyed||!t.initialized||(i=new ResizeObserver(k=>{a=r.requestAnimationFrame(()=>{const{width:C,height:T}=t;let L=C,F=T;k.forEach(({contentBoxSize:D,contentRect:P,target:A})=>{A&&A!==t.el||(L=P?P.width:(D[0]||D).inlineSize,F=P?P.height:(D[0]||D).blockSize)}),(L!==C||F!==T)&&l()})}),i.observe(t.el))},_=()=>{a&&r.cancelAnimationFrame(a),i&&i.unobserve&&t.el&&(i.unobserve(t.el),i=null)},g=()=>{!t||t.destroyed||!t.initialized||n("orientationchange")};e("init",()=>{if(t.params.resizeObserver&&typeof r.ResizeObserver<"u"){h();return}r.addEventListener("resize",l),r.addEventListener("orientationchange",g)}),e("destroy",()=>{_(),r.removeEventListener("resize",l),r.removeEventListener("orientationchange",g)})}function PR({swiper:t,extendParams:e,on:n,emit:r}){const i=[],a=sn(),l=(g,k={})=>{const C=a.MutationObserver||a.WebkitMutationObserver,T=new C(L=>{if(L.length===1){r("observerUpdate",L[0]);return}const F=function(){r("observerUpdate",L[0])};a.requestAnimationFrame?a.requestAnimationFrame(F):a.setTimeout(F,0)});T.observe(g,{attributes:typeof k.attributes>"u"?!0:k.attributes,childList:typeof k.childList>"u"?!0:k.childList,characterData:typeof k.characterData>"u"?!0:k.characterData}),i.push(T)},h=()=>{if(!!t.params.observer){if(t.params.observeParents){const g=t.$el.parents();for(let k=0;k<g.length;k+=1)l(g[k])}l(t.$el[0],{childList:t.params.observeSlideChildren}),l(t.$wrapperEl[0],{attributes:!1})}},_=()=>{i.forEach(g=>{g.disconnect()}),i.splice(0,i.length)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",h),n("destroy",_)}const $R={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const i=n?"unshift":"push";return t.split(" ").forEach(a=>{r.eventsListeners[a]||(r.eventsListeners[a]=[]),r.eventsListeners[a][i](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function i(...a){r.off(t,i),i.__emitterProxy&&delete i.__emitterProxy,e.apply(r,a)}return i.__emitterProxy=e,r.on(t,i,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((i,a)=>{(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&n.eventsListeners[r].splice(a,1)})}),n},emit(...t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let n,r,i;return typeof t[0]=="string"||Array.isArray(t[0])?(n=t[0],r=t.slice(1,t.length),i=e):(n=t[0].events,r=t[0].data,i=t[0].context||e),r.unshift(i),(Array.isArray(n)?n:n.split(" ")).forEach(l=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(h=>{h.apply(i,[l,...r])}),e.eventsListeners&&e.eventsListeners[l]&&e.eventsListeners[l].forEach(h=>{h.apply(i,r)})}),e}};function RR(){const t=this;let e,n;const r=t.$el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r[0].clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r[0].clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(r.css("padding-left")||0,10)-parseInt(r.css("padding-right")||0,10),n=n-parseInt(r.css("padding-top")||0,10)-parseInt(r.css("padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function FR(){const t=this;function e(J){return t.isHorizontal()?J:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[J]}function n(J,X){return parseFloat(J.getPropertyValue(e(X))||0)}const r=t.params,{$wrapperEl:i,size:a,rtlTranslate:l,wrongRTL:h}=t,_=t.virtual&&r.virtual.enabled,g=_?t.virtual.slides.length:t.slides.length,k=i.children(`.${t.params.slideClass}`),C=_?t.virtual.slides.length:k.length;let T=[];const L=[],F=[];let D=r.slidesOffsetBefore;typeof D=="function"&&(D=r.slidesOffsetBefore.call(t));let P=r.slidesOffsetAfter;typeof P=="function"&&(P=r.slidesOffsetAfter.call(t));const A=t.snapGrid.length,M=t.slidesGrid.length;let $=r.spaceBetween,U=-D,z=0,G=0;if(typeof a>"u")return;typeof $=="string"&&$.indexOf("%")>=0&&($=parseFloat($.replace("%",""))/100*a),t.virtualSize=-$,l?k.css({marginLeft:"",marginBottom:"",marginTop:""}):k.css({marginRight:"",marginBottom:"",marginTop:""}),r.centeredSlides&&r.cssMode&&(lu(t.wrapperEl,"--swiper-centered-offset-before",""),lu(t.wrapperEl,"--swiper-centered-offset-after",""));const V=r.grid&&r.grid.rows>1&&t.grid;V&&t.grid.initSlides(C);let B;const Y=r.slidesPerView==="auto"&&r.breakpoints&&Object.keys(r.breakpoints).filter(J=>typeof r.breakpoints[J].slidesPerView<"u").length>0;for(let J=0;J<C;J+=1){B=0;const X=k.eq(J);if(V&&t.grid.updateSlide(J,X,C,e),X.css("display")!=="none"){if(r.slidesPerView==="auto"){Y&&(k[J].style[e("width")]="");const q=getComputedStyle(X[0]),ee=X[0].style.transform,ce=X[0].style.webkitTransform;if(ee&&(X[0].style.transform="none"),ce&&(X[0].style.webkitTransform="none"),r.roundLengths)B=t.isHorizontal()?X.outerWidth(!0):X.outerHeight(!0);else{const ke=n(q,"width"),me=n(q,"padding-left"),qe=n(q,"padding-right"),ue=n(q,"margin-left"),ge=n(q,"margin-right"),Ne=q.getPropertyValue("box-sizing");if(Ne&&Ne==="border-box")B=ke+ue+ge;else{const{clientWidth:Ve,offsetWidth:et}=X[0];B=ke+me+qe+ue+ge+(et-Ve)}}ee&&(X[0].style.transform=ee),ce&&(X[0].style.webkitTransform=ce),r.roundLengths&&(B=Math.floor(B))}else B=(a-(r.slidesPerView-1)*$)/r.slidesPerView,r.roundLengths&&(B=Math.floor(B)),k[J]&&(k[J].style[e("width")]=`${B}px`);k[J]&&(k[J].swiperSlideSize=B),F.push(B),r.centeredSlides?(U=U+B/2+z/2+$,z===0&&J!==0&&(U=U-a/2-$),J===0&&(U=U-a/2-$),Math.abs(U)<1/1e3&&(U=0),r.roundLengths&&(U=Math.floor(U)),G%r.slidesPerGroup===0&&T.push(U),L.push(U)):(r.roundLengths&&(U=Math.floor(U)),(G-Math.min(t.params.slidesPerGroupSkip,G))%t.params.slidesPerGroup===0&&T.push(U),L.push(U),U=U+B+$),t.virtualSize+=B+$,z=B,G+=1}}if(t.virtualSize=Math.max(t.virtualSize,a)+P,l&&h&&(r.effect==="slide"||r.effect==="coverflow")&&i.css({width:`${t.virtualSize+r.spaceBetween}px`}),r.setWrapperSize&&i.css({[e("width")]:`${t.virtualSize+r.spaceBetween}px`}),V&&t.grid.updateWrapperSize(B,T,e),!r.centeredSlides){const J=[];for(let X=0;X<T.length;X+=1){let q=T[X];r.roundLengths&&(q=Math.floor(q)),T[X]<=t.virtualSize-a&&J.push(q)}T=J,Math.floor(t.virtualSize-a)-Math.floor(T[T.length-1])>1&&T.push(t.virtualSize-a)}if(T.length===0&&(T=[0]),r.spaceBetween!==0){const J=t.isHorizontal()&&l?"marginLeft":e("marginRight");k.filter((X,q)=>r.cssMode?q!==k.length-1:!0).css({[J]:`${$}px`})}if(r.centeredSlides&&r.centeredSlidesBounds){let J=0;F.forEach(q=>{J+=q+(r.spaceBetween?r.spaceBetween:0)}),J-=r.spaceBetween;const X=J-a;T=T.map(q=>q<0?-D:q>X?X+P:q)}if(r.centerInsufficientSlides){let J=0;if(F.forEach(X=>{J+=X+(r.spaceBetween?r.spaceBetween:0)}),J-=r.spaceBetween,J<a){const X=(a-J)/2;T.forEach((q,ee)=>{T[ee]=q-X}),L.forEach((q,ee)=>{L[ee]=q+X})}}if(Object.assign(t,{slides:k,snapGrid:T,slidesGrid:L,slidesSizesGrid:F}),r.centeredSlides&&r.cssMode&&!r.centeredSlidesBounds){lu(t.wrapperEl,"--swiper-centered-offset-before",`${-T[0]}px`),lu(t.wrapperEl,"--swiper-centered-offset-after",`${t.size/2-F[F.length-1]/2}px`);const J=-t.snapGrid[0],X=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(q=>q+J),t.slidesGrid=t.slidesGrid.map(q=>q+X)}if(C!==g&&t.emit("slidesLengthChange"),T.length!==A&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),L.length!==M&&t.emit("slidesGridLengthChange"),r.watchSlidesProgress&&t.updateSlidesOffset(),!_&&!r.cssMode&&(r.effect==="slide"||r.effect==="fade")){const J=`${r.containerModifierClass}backface-hidden`,X=t.$el.hasClass(J);C<=r.maxBackfaceHiddenSlides?X||t.$el.addClass(J):X&&t.$el.removeClass(J)}}function jR(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let i=0,a;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const l=h=>r?e.slides.filter(_=>parseInt(_.getAttribute("data-swiper-slide-index"),10)===h)[0]:e.slides.eq(h)[0];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||Se([])).each(h=>{n.push(h)});else for(a=0;a<Math.ceil(e.params.slidesPerView);a+=1){const h=e.activeIndex+a;if(h>e.slides.length&&!r)break;n.push(l(h))}else n.push(l(e.activeIndex));for(a=0;a<n.length;a+=1)if(typeof n[a]<"u"){const h=n[a].offsetHeight;i=h>i?h:i}(i||i===0)&&e.$wrapperEl.css("height",`${i}px`)}function zR(){const t=this,e=t.slides;for(let n=0;n<e.length;n+=1)e[n].swiperSlideOffset=t.isHorizontal()?e[n].offsetLeft:e[n].offsetTop}function UR(t=this&&this.translate||0){const e=this,n=e.params,{slides:r,rtlTranslate:i,snapGrid:a}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let l=-t;i&&(l=t),r.removeClass(n.slideVisibleClass),e.visibleSlidesIndexes=[],e.visibleSlides=[];for(let h=0;h<r.length;h+=1){const _=r[h];let g=_.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(g-=r[0].swiperSlideOffset);const k=(l+(n.centeredSlides?e.minTranslate():0)-g)/(_.swiperSlideSize+n.spaceBetween),C=(l-a[0]+(n.centeredSlides?e.minTranslate():0)-g)/(_.swiperSlideSize+n.spaceBetween),T=-(l-g),L=T+e.slidesSizesGrid[h];(T>=0&&T<e.size-1||L>1&&L<=e.size||T<=0&&L>=e.size)&&(e.visibleSlides.push(_),e.visibleSlidesIndexes.push(h),r.eq(h).addClass(n.slideVisibleClass)),_.progress=i?-k:k,_.originalProgress=i?-C:C}e.visibleSlides=Se(e.visibleSlides)}function VR(t){const e=this;if(typeof t>"u"){const g=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*g||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:i,isBeginning:a,isEnd:l}=e;const h=a,_=l;r===0?(i=0,a=!0,l=!0):(i=(t-e.minTranslate())/r,a=i<=0,l=i>=1),Object.assign(e,{progress:i,isBeginning:a,isEnd:l}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),a&&!h&&e.emit("reachBeginning toEdge"),l&&!_&&e.emit("reachEnd toEdge"),(h&&!a||_&&!l)&&e.emit("fromEdge"),e.emit("progress",i)}function HR(){const t=this,{slides:e,params:n,$wrapperEl:r,activeIndex:i,realIndex:a}=t,l=t.virtual&&n.virtual.enabled;e.removeClass(`${n.slideActiveClass} ${n.slideNextClass} ${n.slidePrevClass} ${n.slideDuplicateActiveClass} ${n.slideDuplicateNextClass} ${n.slideDuplicatePrevClass}`);let h;l?h=t.$wrapperEl.find(`.${n.slideClass}[data-swiper-slide-index="${i}"]`):h=e.eq(i),h.addClass(n.slideActiveClass),n.loop&&(h.hasClass(n.slideDuplicateClass)?r.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${a}"]`).addClass(n.slideDuplicateActiveClass):r.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${a}"]`).addClass(n.slideDuplicateActiveClass));let _=h.nextAll(`.${n.slideClass}`).eq(0).addClass(n.slideNextClass);n.loop&&_.length===0&&(_=e.eq(0),_.addClass(n.slideNextClass));let g=h.prevAll(`.${n.slideClass}`).eq(0).addClass(n.slidePrevClass);n.loop&&g.length===0&&(g=e.eq(-1),g.addClass(n.slidePrevClass)),n.loop&&(_.hasClass(n.slideDuplicateClass)?r.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${_.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicateNextClass):r.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${_.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicateNextClass),g.hasClass(n.slideDuplicateClass)?r.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${g.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicatePrevClass):r.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${g.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicatePrevClass)),t.emitSlidesClasses()}function BR(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{slidesGrid:r,snapGrid:i,params:a,activeIndex:l,realIndex:h,snapIndex:_}=e;let g=t,k;if(typeof g>"u"){for(let T=0;T<r.length;T+=1)typeof r[T+1]<"u"?n>=r[T]&&n<r[T+1]-(r[T+1]-r[T])/2?g=T:n>=r[T]&&n<r[T+1]&&(g=T+1):n>=r[T]&&(g=T);a.normalizeSlideIndex&&(g<0||typeof g>"u")&&(g=0)}if(i.indexOf(n)>=0)k=i.indexOf(n);else{const T=Math.min(a.slidesPerGroupSkip,g);k=T+Math.floor((g-T)/a.slidesPerGroup)}if(k>=i.length&&(k=i.length-1),g===l){k!==_&&(e.snapIndex=k,e.emit("snapIndexChange"));return}const C=parseInt(e.slides.eq(g).attr("data-swiper-slide-index")||g,10);Object.assign(e,{snapIndex:k,realIndex:C,previousIndex:l,activeIndex:g}),e.emit("activeIndexChange"),e.emit("snapIndexChange"),h!==C&&e.emit("realIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&e.emit("slideChange")}function qR(t){const e=this,n=e.params,r=Se(t).closest(`.${n.slideClass}`)[0];let i=!1,a;if(r){for(let l=0;l<e.slides.length;l+=1)if(e.slides[l]===r){i=!0,a=l;break}}if(r&&i)e.clickedSlide=r,e.virtual&&e.params.virtual.enabled?e.clickedIndex=parseInt(Se(r).attr("data-swiper-slide-index"),10):e.clickedIndex=a;else{e.clickedSlide=void 0,e.clickedIndex=void 0;return}n.slideToClickedSlide&&e.clickedIndex!==void 0&&e.clickedIndex!==e.activeIndex&&e.slideToClickedSlide()}const WR={updateSize:RR,updateSlides:FR,updateAutoHeight:jR,updateSlidesOffset:zR,updateSlidesProgress:UR,updateProgress:VR,updateSlidesClasses:HR,updateActiveIndex:BR,updateClickedSlide:qR};function GR(t=this.isHorizontal()?"x":"y"){const e=this,{params:n,rtlTranslate:r,translate:i,$wrapperEl:a}=e;if(n.virtualTranslate)return r?-i:i;if(n.cssMode)return i;let l=CR(a[0],t);return r&&(l=-l),l||0}function KR(t,e){const n=this,{rtlTranslate:r,params:i,$wrapperEl:a,wrapperEl:l,progress:h}=n;let _=0,g=0;const k=0;n.isHorizontal()?_=r?-t:t:g=t,i.roundLengths&&(_=Math.floor(_),g=Math.floor(g)),i.cssMode?l[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-_:-g:i.virtualTranslate||a.transform(`translate3d(${_}px, ${g}px, ${k}px)`),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?_:g;let C;const T=n.maxTranslate()-n.minTranslate();T===0?C=0:C=(t-n.minTranslate())/T,C!==h&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function YR(){return-this.snapGrid[0]}function JR(){return-this.snapGrid[this.snapGrid.length-1]}function QR(t=0,e=this.params.speed,n=!0,r=!0,i){const a=this,{params:l,wrapperEl:h}=a;if(a.animating&&l.preventInteractionOnTransition)return!1;const _=a.minTranslate(),g=a.maxTranslate();let k;if(r&&t>_?k=_:r&&t<g?k=g:k=t,a.updateProgress(k),l.cssMode){const C=a.isHorizontal();if(e===0)h[C?"scrollLeft":"scrollTop"]=-k;else{if(!a.support.smoothScroll)return Tk({swiper:a,targetPosition:-k,side:C?"left":"top"}),!0;h.scrollTo({[C?"left":"top"]:-k,behavior:"smooth"})}return!0}return e===0?(a.setTransition(0),a.setTranslate(k),n&&(a.emit("beforeTransitionStart",e,i),a.emit("transitionEnd"))):(a.setTransition(e),a.setTranslate(k),n&&(a.emit("beforeTransitionStart",e,i),a.emit("transitionStart")),a.animating||(a.animating=!0,a.onTranslateToWrapperTransitionEnd||(a.onTranslateToWrapperTransitionEnd=function(T){!a||a.destroyed||T.target===this&&(a.$wrapperEl[0].removeEventListener("transitionend",a.onTranslateToWrapperTransitionEnd),a.$wrapperEl[0].removeEventListener("webkitTransitionEnd",a.onTranslateToWrapperTransitionEnd),a.onTranslateToWrapperTransitionEnd=null,delete a.onTranslateToWrapperTransitionEnd,n&&a.emit("transitionEnd"))}),a.$wrapperEl[0].addEventListener("transitionend",a.onTranslateToWrapperTransitionEnd),a.$wrapperEl[0].addEventListener("webkitTransitionEnd",a.onTranslateToWrapperTransitionEnd))),!0}const XR={getTranslate:GR,setTranslate:KR,minTranslate:YR,maxTranslate:JR,translateTo:QR};function ZR(t,e){const n=this;n.params.cssMode||n.$wrapperEl.transition(t),n.emit("setTransition",t,e)}function Nk({swiper:t,runCallbacks:e,direction:n,step:r}){const{activeIndex:i,previousIndex:a}=t;let l=n;if(l||(i>a?l="next":i<a?l="prev":l="reset"),t.emit(`transition${r}`),e&&i!==a){if(l==="reset"){t.emit(`slideResetTransition${r}`);return}t.emit(`slideChangeTransition${r}`),l==="next"?t.emit(`slideNextTransition${r}`):t.emit(`slidePrevTransition${r}`)}}function e2(t=!0,e){const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),Nk({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function t2(t=!0,e){const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),Nk({swiper:n,runCallbacks:t,direction:e,step:"End"}))}const n2={setTransition:ZR,transitionStart:e2,transitionEnd:t2};function r2(t=0,e=this.params.speed,n=!0,r,i){if(typeof t!="number"&&typeof t!="string")throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof t}] given.`);if(typeof t=="string"){const $=parseInt(t,10);if(!isFinite($))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${t}] given.`);t=$}const a=this;let l=t;l<0&&(l=0);const{params:h,snapGrid:_,slidesGrid:g,previousIndex:k,activeIndex:C,rtlTranslate:T,wrapperEl:L,enabled:F}=a;if(a.animating&&h.preventInteractionOnTransition||!F&&!r&&!i)return!1;const D=Math.min(a.params.slidesPerGroupSkip,l);let P=D+Math.floor((l-D)/a.params.slidesPerGroup);P>=_.length&&(P=_.length-1);const A=-_[P];if(h.normalizeSlideIndex)for(let $=0;$<g.length;$+=1){const U=-Math.floor(A*100),z=Math.floor(g[$]*100),G=Math.floor(g[$+1]*100);typeof g[$+1]<"u"?U>=z&&U<G-(G-z)/2?l=$:U>=z&&U<G&&(l=$+1):U>=z&&(l=$)}if(a.initialized&&l!==C&&(!a.allowSlideNext&&A<a.translate&&A<a.minTranslate()||!a.allowSlidePrev&&A>a.translate&&A>a.maxTranslate()&&(C||0)!==l))return!1;l!==(k||0)&&n&&a.emit("beforeSlideChangeStart"),a.updateProgress(A);let M;if(l>C?M="next":l<C?M="prev":M="reset",T&&-A===a.translate||!T&&A===a.translate)return a.updateActiveIndex(l),h.autoHeight&&a.updateAutoHeight(),a.updateSlidesClasses(),h.effect!=="slide"&&a.setTranslate(A),M!=="reset"&&(a.transitionStart(n,M),a.transitionEnd(n,M)),!1;if(h.cssMode){const $=a.isHorizontal(),U=T?A:-A;if(e===0){const z=a.virtual&&a.params.virtual.enabled;z&&(a.wrapperEl.style.scrollSnapType="none",a._immediateVirtual=!0),L[$?"scrollLeft":"scrollTop"]=U,z&&requestAnimationFrame(()=>{a.wrapperEl.style.scrollSnapType="",a._swiperImmediateVirtual=!1})}else{if(!a.support.smoothScroll)return Tk({swiper:a,targetPosition:U,side:$?"left":"top"}),!0;L.scrollTo({[$?"left":"top"]:U,behavior:"smooth"})}return!0}return a.setTransition(e),a.setTranslate(A),a.updateActiveIndex(l),a.updateSlidesClasses(),a.emit("beforeTransitionStart",e,r),a.transitionStart(n,M),e===0?a.transitionEnd(n,M):a.animating||(a.animating=!0,a.onSlideToWrapperTransitionEnd||(a.onSlideToWrapperTransitionEnd=function(U){!a||a.destroyed||U.target===this&&(a.$wrapperEl[0].removeEventListener("transitionend",a.onSlideToWrapperTransitionEnd),a.$wrapperEl[0].removeEventListener("webkitTransitionEnd",a.onSlideToWrapperTransitionEnd),a.onSlideToWrapperTransitionEnd=null,delete a.onSlideToWrapperTransitionEnd,a.transitionEnd(n,M))}),a.$wrapperEl[0].addEventListener("transitionend",a.onSlideToWrapperTransitionEnd),a.$wrapperEl[0].addEventListener("webkitTransitionEnd",a.onSlideToWrapperTransitionEnd)),!0}function i2(t=0,e=this.params.speed,n=!0,r){if(typeof t=="string"){const l=parseInt(t,10);if(!isFinite(l))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${t}] given.`);t=l}const i=this;let a=t;return i.params.loop&&(a+=i.loopedSlides),i.slideTo(a,e,n,r)}function a2(t=this.params.speed,e=!0,n){const r=this,{animating:i,enabled:a,params:l}=r;if(!a)return r;let h=l.slidesPerGroup;l.slidesPerView==="auto"&&l.slidesPerGroup===1&&l.slidesPerGroupAuto&&(h=Math.max(r.slidesPerViewDynamic("current",!0),1));const _=r.activeIndex<l.slidesPerGroupSkip?1:h;if(l.loop){if(i&&l.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}return l.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+_,t,e,n)}function s2(t=this.params.speed,e=!0,n){const r=this,{params:i,animating:a,snapGrid:l,slidesGrid:h,rtlTranslate:_,enabled:g}=r;if(!g)return r;if(i.loop){if(a&&i.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}const k=_?r.translate:-r.translate;function C(P){return P<0?-Math.floor(Math.abs(P)):Math.floor(P)}const T=C(k),L=l.map(P=>C(P));let F=l[L.indexOf(T)-1];if(typeof F>"u"&&i.cssMode){let P;l.forEach((A,M)=>{T>=A&&(P=M)}),typeof P<"u"&&(F=l[P>0?P-1:P])}let D=0;if(typeof F<"u"&&(D=h.indexOf(F),D<0&&(D=r.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(D=D-r.slidesPerViewDynamic("previous",!0)+1,D=Math.max(D,0))),i.rewind&&r.isBeginning){const P=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(P,t,e,n)}return r.slideTo(D,t,e,n)}function o2(t=this.params.speed,e=!0,n){const r=this;return r.slideTo(r.activeIndex,t,e,n)}function l2(t=this.params.speed,e=!0,n,r=.5){const i=this;let a=i.activeIndex;const l=Math.min(i.params.slidesPerGroupSkip,a),h=l+Math.floor((a-l)/i.params.slidesPerGroup),_=i.rtlTranslate?i.translate:-i.translate;if(_>=i.snapGrid[h]){const g=i.snapGrid[h],k=i.snapGrid[h+1];_-g>(k-g)*r&&(a+=i.params.slidesPerGroup)}else{const g=i.snapGrid[h-1],k=i.snapGrid[h];_-g<=(k-g)*r&&(a-=i.params.slidesPerGroup)}return a=Math.max(a,0),a=Math.min(a,i.slidesGrid.length-1),i.slideTo(a,t,e,n)}function c2(){const t=this,{params:e,$wrapperEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let i=t.clickedIndex,a;if(e.loop){if(t.animating)return;a=parseInt(Se(t.clickedSlide).attr("data-swiper-slide-index"),10),e.centeredSlides?i<t.loopedSlides-r/2||i>t.slides.length-t.loopedSlides+r/2?(t.loopFix(),i=n.children(`.${e.slideClass}[data-swiper-slide-index="${a}"]:not(.${e.slideDuplicateClass})`).eq(0).index(),Gl(()=>{t.slideTo(i)})):t.slideTo(i):i>t.slides.length-r?(t.loopFix(),i=n.children(`.${e.slideClass}[data-swiper-slide-index="${a}"]:not(.${e.slideDuplicateClass})`).eq(0).index(),Gl(()=>{t.slideTo(i)})):t.slideTo(i)}else t.slideTo(i)}const u2={slideTo:r2,slideToLoop:i2,slideNext:a2,slidePrev:s2,slideReset:o2,slideToClosest:l2,slideToClickedSlide:c2};function d2(){const t=this,e=nn(),{params:n,$wrapperEl:r}=t,i=r.children().length>0?Se(r.children()[0].parentNode):r;i.children(`.${n.slideClass}.${n.slideDuplicateClass}`).remove();let a=i.children(`.${n.slideClass}`);if(n.loopFillGroupWithBlank){const _=n.slidesPerGroup-a.length%n.slidesPerGroup;if(_!==n.slidesPerGroup){for(let g=0;g<_;g+=1){const k=Se(e.createElement("div")).addClass(`${n.slideClass} ${n.slideBlankClass}`);i.append(k)}a=i.children(`.${n.slideClass}`)}}n.slidesPerView==="auto"&&!n.loopedSlides&&(n.loopedSlides=a.length),t.loopedSlides=Math.ceil(parseFloat(n.loopedSlides||n.slidesPerView,10)),t.loopedSlides+=n.loopAdditionalSlides,t.loopedSlides>a.length&&t.params.loopedSlidesLimit&&(t.loopedSlides=a.length);const l=[],h=[];a.each((_,g)=>{Se(_).attr("data-swiper-slide-index",g)});for(let _=0;_<t.loopedSlides;_+=1){const g=_-Math.floor(_/a.length)*a.length;h.push(a.eq(g)[0]),l.unshift(a.eq(a.length-g-1)[0])}for(let _=0;_<h.length;_+=1)i.append(Se(h[_].cloneNode(!0)).addClass(n.slideDuplicateClass));for(let _=l.length-1;_>=0;_-=1)i.prepend(Se(l[_].cloneNode(!0)).addClass(n.slideDuplicateClass))}function h2(){const t=this;t.emit("beforeLoopFix");const{activeIndex:e,slides:n,loopedSlides:r,allowSlidePrev:i,allowSlideNext:a,snapGrid:l,rtlTranslate:h}=t;let _;t.allowSlidePrev=!0,t.allowSlideNext=!0;const k=-l[e]-t.getTranslate();e<r?(_=n.length-r*3+e,_+=r,t.slideTo(_,0,!1,!0)&&k!==0&&t.setTranslate((h?-t.translate:t.translate)-k)):e>=n.length-r&&(_=-n.length+e+r,_+=r,t.slideTo(_,0,!1,!0)&&k!==0&&t.setTranslate((h?-t.translate:t.translate)-k)),t.allowSlidePrev=i,t.allowSlideNext=a,t.emit("loopFix")}function f2(){const t=this,{$wrapperEl:e,params:n,slides:r}=t;e.children(`.${n.slideClass}.${n.slideDuplicateClass},.${n.slideClass}.${n.slideBlankClass}`).remove(),r.removeAttr("data-swiper-slide-index")}const _2={loopCreate:d2,loopFix:h2,loopDestroy:f2};function p2(t){const e=this;if(e.support.touch||!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;n.style.cursor="move",n.style.cursor=t?"grabbing":"grab"}function m2(){const t=this;t.support.touch||t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="")}const g2={setGrabCursor:p2,unsetGrabCursor:m2};function v2(t,e=this){function n(r){if(!r||r===nn()||r===sn())return null;r.assignedSlot&&(r=r.assignedSlot);const i=r.closest(t);return!i&&!r.getRootNode?null:i||n(r.getRootNode().host)}return n(e)}function y2(t){const e=this,n=nn(),r=sn(),i=e.touchEventsData,{params:a,touches:l,enabled:h}=e;if(!h||e.animating&&a.preventInteractionOnTransition)return;!e.animating&&a.cssMode&&a.loop&&e.loopFix();let _=t;_.originalEvent&&(_=_.originalEvent);let g=Se(_.target);if(a.touchEventsTarget==="wrapper"&&!g.closest(e.wrapperEl).length||(i.isTouchEvent=_.type==="touchstart",!i.isTouchEvent&&"which"in _&&_.which===3)||!i.isTouchEvent&&"button"in _&&_.button>0||i.isTouched&&i.isMoved)return;const k=!!a.noSwipingClass&&a.noSwipingClass!=="",C=t.composedPath?t.composedPath():t.path;k&&_.target&&_.target.shadowRoot&&C&&(g=Se(C[0]));const T=a.noSwipingSelector?a.noSwipingSelector:`.${a.noSwipingClass}`,L=!!(_.target&&_.target.shadowRoot);if(a.noSwiping&&(L?v2(T,g[0]):g.closest(T)[0])){e.allowClick=!0;return}if(a.swipeHandler&&!g.closest(a.swipeHandler)[0])return;l.currentX=_.type==="touchstart"?_.targetTouches[0].pageX:_.pageX,l.currentY=_.type==="touchstart"?_.targetTouches[0].pageY:_.pageY;const F=l.currentX,D=l.currentY,P=a.edgeSwipeDetection||a.iOSEdgeSwipeDetection,A=a.edgeSwipeThreshold||a.iOSEdgeSwipeThreshold;if(P&&(F<=A||F>=r.innerWidth-A))if(P==="prevent")t.preventDefault();else return;if(Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),l.startX=F,l.startY=D,i.touchStartTime=Kl(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,a.threshold>0&&(i.allowThresholdMove=!1),_.type!=="touchstart"){let M=!0;g.is(i.focusableElements)&&(M=!1,g[0].nodeName==="SELECT"&&(i.isTouched=!1)),n.activeElement&&Se(n.activeElement).is(i.focusableElements)&&n.activeElement!==g[0]&&n.activeElement.blur();const $=M&&e.allowTouchMove&&a.touchStartPreventDefault;(a.touchStartForcePreventDefault||$)&&!g[0].isContentEditable&&_.preventDefault()}e.params.freeMode&&e.params.freeMode.enabled&&e.freeMode&&e.animating&&!a.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",_)}function b2(t){const e=nn(),n=this,r=n.touchEventsData,{params:i,touches:a,rtlTranslate:l,enabled:h}=n;if(!h)return;let _=t;if(_.originalEvent&&(_=_.originalEvent),!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",_);return}if(r.isTouchEvent&&_.type!=="touchmove")return;const g=_.type==="touchmove"&&_.targetTouches&&(_.targetTouches[0]||_.changedTouches[0]),k=_.type==="touchmove"?g.pageX:_.pageX,C=_.type==="touchmove"?g.pageY:_.pageY;if(_.preventedByNestedSwiper){a.startX=k,a.startY=C;return}if(!n.allowTouchMove){Se(_.target).is(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(a,{startX:k,startY:C,currentX:k,currentY:C}),r.touchStartTime=Kl());return}if(r.isTouchEvent&&i.touchReleaseOnEdges&&!i.loop){if(n.isVertical()){if(C<a.startY&&n.translate<=n.maxTranslate()||C>a.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else if(k<a.startX&&n.translate<=n.maxTranslate()||k>a.startX&&n.translate>=n.minTranslate())return}if(r.isTouchEvent&&e.activeElement&&_.target===e.activeElement&&Se(_.target).is(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}if(r.allowTouchCallbacks&&n.emit("touchMove",_),_.targetTouches&&_.targetTouches.length>1)return;a.currentX=k,a.currentY=C;const T=a.currentX-a.startX,L=a.currentY-a.startY;if(n.params.threshold&&Math.sqrt(T**2+L**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let A;n.isHorizontal()&&a.currentY===a.startY||n.isVertical()&&a.currentX===a.startX?r.isScrolling=!1:T*T+L*L>=25&&(A=Math.atan2(Math.abs(L),Math.abs(T))*180/Math.PI,r.isScrolling=n.isHorizontal()?A>i.touchAngle:90-A>i.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",_),typeof r.startMoving>"u"&&(a.currentX!==a.startX||a.currentY!==a.startY)&&(r.startMoving=!0),r.isScrolling){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!i.cssMode&&_.cancelable&&_.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&_.stopPropagation(),r.isMoved||(i.loop&&!i.cssMode&&n.loopFix(),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating&&n.$wrapperEl.trigger("webkitTransitionEnd transitionend"),r.allowMomentumBounce=!1,i.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",_)),n.emit("sliderMove",_),r.isMoved=!0;let F=n.isHorizontal()?T:L;a.diff=F,F*=i.touchRatio,l&&(F=-F),n.swipeDirection=F>0?"prev":"next",r.currentTranslate=F+r.startTranslate;let D=!0,P=i.resistanceRatio;if(i.touchReleaseOnEdges&&(P=0),F>0&&r.currentTranslate>n.minTranslate()?(D=!1,i.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+F)**P)):F<0&&r.currentTranslate<n.maxTranslate()&&(D=!1,i.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-F)**P)),D&&(_.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),i.threshold>0)if(Math.abs(F)>i.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,a.startX=a.currentX,a.startY=a.currentY,r.currentTranslate=r.startTranslate,a.diff=n.isHorizontal()?a.currentX-a.startX:a.currentY-a.startY;return}}else{r.currentTranslate=r.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),n.params.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function w2(t){const e=this,n=e.touchEventsData,{params:r,touches:i,rtlTranslate:a,slidesGrid:l,enabled:h}=e;if(!h)return;let _=t;if(_.originalEvent&&(_=_.originalEvent),n.allowTouchCallbacks&&e.emit("touchEnd",_),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&r.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}r.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const g=Kl(),k=g-n.touchStartTime;if(e.allowClick){const M=_.path||_.composedPath&&_.composedPath();e.updateClickedSlide(M&&M[0]||_.target),e.emit("tap click",_),k<300&&g-n.lastClickTime<300&&e.emit("doubleTap doubleClick",_)}if(n.lastClickTime=Kl(),Gl(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||i.diff===0||n.currentTranslate===n.startTranslate){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let C;if(r.followFinger?C=a?e.translate:-e.translate:C=-n.currentTranslate,r.cssMode)return;if(e.params.freeMode&&r.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:C});return}let T=0,L=e.slidesSizesGrid[0];for(let M=0;M<l.length;M+=M<r.slidesPerGroupSkip?1:r.slidesPerGroup){const $=M<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;typeof l[M+$]<"u"?C>=l[M]&&C<l[M+$]&&(T=M,L=l[M+$]-l[M]):C>=l[M]&&(T=M,L=l[l.length-1]-l[l.length-2])}let F=null,D=null;r.rewind&&(e.isBeginning?D=e.params.virtual&&e.params.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(F=0));const P=(C-l[T])/L,A=T<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;if(k>r.longSwipesMs){if(!r.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(P>=r.longSwipesRatio?e.slideTo(r.rewind&&e.isEnd?F:T+A):e.slideTo(T)),e.swipeDirection==="prev"&&(P>1-r.longSwipesRatio?e.slideTo(T+A):D!==null&&P<0&&Math.abs(P)>r.longSwipesRatio?e.slideTo(D):e.slideTo(T))}else{if(!r.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(_.target===e.navigation.nextEl||_.target===e.navigation.prevEl)?_.target===e.navigation.nextEl?e.slideTo(T+A):e.slideTo(T):(e.swipeDirection==="next"&&e.slideTo(F!==null?F:T+A),e.swipeDirection==="prev"&&e.slideTo(D!==null?D:T))}}function D0(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:i,snapGrid:a}=t;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses(),(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides?t.slideTo(t.slides.length-1,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.run(),t.allowSlidePrev=i,t.allowSlideNext=r,t.params.watchOverflow&&a!==t.snapGrid&&t.checkOverflow()}function x2(t){const e=this;!e.enabled||e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation()))}function E2(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let i;const a=t.maxTranslate()-t.minTranslate();a===0?i=0:i=(t.translate-t.minTranslate())/a,i!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}let A0=!1;function k2(){}const Dk=(t,e)=>{const n=nn(),{params:r,touchEvents:i,el:a,wrapperEl:l,device:h,support:_}=t,g=!!r.nested,k=e==="on"?"addEventListener":"removeEventListener",C=e;if(!_.touch)a[k](i.start,t.onTouchStart,!1),n[k](i.move,t.onTouchMove,g),n[k](i.end,t.onTouchEnd,!1);else{const T=i.start==="touchstart"&&_.passiveListener&&r.passiveListeners?{passive:!0,capture:!1}:!1;a[k](i.start,t.onTouchStart,T),a[k](i.move,t.onTouchMove,_.passiveListener?{passive:!1,capture:g}:g),a[k](i.end,t.onTouchEnd,T),i.cancel&&a[k](i.cancel,t.onTouchEnd,T)}(r.preventClicks||r.preventClicksPropagation)&&a[k]("click",t.onClick,!0),r.cssMode&&l[k]("scroll",t.onScroll),r.updateOnWindowResize?t[C](h.ios||h.android?"resize orientationchange observerUpdate":"resize observerUpdate",D0,!0):t[C]("observerUpdate",D0,!0)};function S2(){const t=this,e=nn(),{params:n,support:r}=t;t.onTouchStart=y2.bind(t),t.onTouchMove=b2.bind(t),t.onTouchEnd=w2.bind(t),n.cssMode&&(t.onScroll=E2.bind(t)),t.onClick=x2.bind(t),r.touch&&!A0&&(e.addEventListener("touchstart",k2),A0=!0),Dk(t,"on")}function T2(){Dk(this,"off")}const C2={attachEvents:S2,detachEvents:T2},I0=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function N2(){const t=this,{activeIndex:e,initialized:n,loopedSlides:r=0,params:i,$el:a}=t,l=i.breakpoints;if(!l||l&&Object.keys(l).length===0)return;const h=t.getBreakpoint(l,t.params.breakpointsBase,t.el);if(!h||t.currentBreakpoint===h)return;const g=(h in l?l[h]:void 0)||t.originalParams,k=I0(t,i),C=I0(t,g),T=i.enabled;k&&!C?(a.removeClass(`${i.containerModifierClass}grid ${i.containerModifierClass}grid-column`),t.emitContainerClasses()):!k&&C&&(a.addClass(`${i.containerModifierClass}grid`),(g.grid.fill&&g.grid.fill==="column"||!g.grid.fill&&i.grid.fill==="column")&&a.addClass(`${i.containerModifierClass}grid-column`),t.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(P=>{const A=i[P]&&i[P].enabled,M=g[P]&&g[P].enabled;A&&!M&&t[P].disable(),!A&&M&&t[P].enable()});const L=g.direction&&g.direction!==i.direction,F=i.loop&&(g.slidesPerView!==i.slidesPerView||L);L&&n&&t.changeDirection(),Xn(t.params,g);const D=t.params.enabled;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),T&&!D?t.disable():!T&&D&&t.enable(),t.currentBreakpoint=h,t.emit("_beforeBreakpoint",g),F&&n&&(t.loopDestroy(),t.loopCreate(),t.updateSlides(),t.slideTo(e-r+t.loopedSlides,0,!1)),t.emit("breakpoint",g)}function D2(t,e="window",n){if(!t||e==="container"&&!n)return;let r=!1;const i=sn(),a=e==="window"?i.innerHeight:n.clientHeight,l=Object.keys(t).map(h=>{if(typeof h=="string"&&h.indexOf("@")===0){const _=parseFloat(h.substr(1));return{value:a*_,point:h}}return{value:h,point:h}});l.sort((h,_)=>parseInt(h.value,10)-parseInt(_.value,10));for(let h=0;h<l.length;h+=1){const{point:_,value:g}=l[h];e==="window"?i.matchMedia(`(min-width: ${g}px)`).matches&&(r=_):g<=n.clientWidth&&(r=_)}return r||"max"}const A2={setBreakpoint:N2,getBreakpoint:D2};function I2(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(i=>{r[i]&&n.push(e+i)}):typeof r=="string"&&n.push(e+r)}),n}function M2(){const t=this,{classNames:e,params:n,rtl:r,$el:i,device:a,support:l}=t,h=I2(["initialized",n.direction,{"pointer-events":!l.touch},{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:a.android},{ios:a.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...h),i.addClass([...e].join(" ")),t.emitContainerClasses()}function O2(){const t=this,{$el:e,classNames:n}=t;e.removeClass(n.join(" ")),t.emitContainerClasses()}const L2={addClasses:M2,removeClasses:O2};function P2(t,e,n,r,i,a){const l=sn();let h;function _(){a&&a()}!Se(t).parent("picture")[0]&&(!t.complete||!i)&&e?(h=new l.Image,h.onload=_,h.onerror=_,r&&(h.sizes=r),n&&(h.srcset=n),e&&(h.src=e)):_()}function $2(){const t=this;t.imagesToLoad=t.$el.find("img");function e(){typeof t>"u"||t===null||!t||t.destroyed||(t.imagesLoaded!==void 0&&(t.imagesLoaded+=1),t.imagesLoaded===t.imagesToLoad.length&&(t.params.updateOnImagesReady&&t.update(),t.emit("imagesReady")))}for(let n=0;n<t.imagesToLoad.length;n+=1){const r=t.imagesToLoad[n];t.loadImage(r,r.currentSrc||r.getAttribute("src"),r.srcset||r.getAttribute("srcset"),r.sizes||r.getAttribute("sizes"),!0,e)}}const R2={loadImage:P2,preloadImages:$2};function F2(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const i=t.slides.length-1,a=t.slidesGrid[i]+t.slidesSizesGrid[i]+r*2;t.isLocked=t.size>a}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}const j2={checkOverflow:F2},M0={init:!0,direction:"horizontal",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopedSlidesLimit:!0,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function z2(t,e){return function(r={}){const i=Object.keys(r)[0],a=r[i];if(typeof a!="object"||a===null){Xn(e,r);return}if(["navigation","pagination","scrollbar"].indexOf(i)>=0&&t[i]===!0&&(t[i]={auto:!0}),!(i in t&&"enabled"in a)){Xn(e,r);return}t[i]===!0&&(t[i]={enabled:!0}),typeof t[i]=="object"&&!("enabled"in t[i])&&(t[i].enabled=!0),t[i]||(t[i]={enabled:!1}),Xn(e,r)}}const Mf={eventsEmitter:$R,update:WR,translate:XR,transition:n2,slide:u2,loop:_2,grabCursor:g2,events:C2,breakpoints:A2,checkOverflow:j2,classes:L2,images:R2},Of={};class Nn{constructor(...e){let n,r;if(e.length===1&&e[0].constructor&&Object.prototype.toString.call(e[0]).slice(8,-1)==="Object"?r=e[0]:[n,r]=e,r||(r={}),r=Xn({},r),n&&!r.el&&(r.el=n),r.el&&Se(r.el).length>1){const h=[];return Se(r.el).each(_=>{const g=Xn({},r,{el:_});h.push(new Nn(g))}),h}const i=this;i.__swiper__=!0,i.support=Ck(),i.device=IR({userAgent:r.userAgent}),i.browser=OR(),i.eventsListeners={},i.eventsAnyListeners=[],i.modules=[...i.__modules__],r.modules&&Array.isArray(r.modules)&&i.modules.push(...r.modules);const a={};i.modules.forEach(h=>{h({swiper:i,extendParams:z2(r,a),on:i.on.bind(i),once:i.once.bind(i),off:i.off.bind(i),emit:i.emit.bind(i)})});const l=Xn({},M0,a);return i.params=Xn({},l,Of,r),i.originalParams=Xn({},i.params),i.passedParams=Xn({},r),i.params&&i.params.on&&Object.keys(i.params.on).forEach(h=>{i.on(h,i.params.on[h])}),i.params&&i.params.onAny&&i.onAny(i.params.onAny),i.$=Se,Object.assign(i,{enabled:i.params.enabled,el:n,classNames:[],slides:Se(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return i.params.direction==="horizontal"},isVertical(){return i.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:i.params.allowSlideNext,allowSlidePrev:i.params.allowSlidePrev,touchEvents:function(){const _=["touchstart","touchmove","touchend","touchcancel"],g=["pointerdown","pointermove","pointerup"];return i.touchEventsTouch={start:_[0],move:_[1],end:_[2],cancel:_[3]},i.touchEventsDesktop={start:g[0],move:g[1],end:g[2]},i.support.touch||!i.params.simulateTouch?i.touchEventsTouch:i.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:i.params.focusableElements,lastClickTime:Kl(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:i.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),i.emit("_swiper"),i.params.init&&i.init(),i}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;!e.enabled||(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const i=r.minTranslate(),l=(r.maxTranslate()-i)*e+i;r.translateTo(l,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.each(r=>{const i=e.getSlideClasses(r);n.push({slideEl:r,classNames:i}),e.emit("_slideClass",r,i)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e="current",n=!1){const r=this,{params:i,slides:a,slidesGrid:l,slidesSizesGrid:h,size:_,activeIndex:g}=r;let k=1;if(i.centeredSlides){let C=a[g].swiperSlideSize,T;for(let L=g+1;L<a.length;L+=1)a[L]&&!T&&(C+=a[L].swiperSlideSize,k+=1,C>_&&(T=!0));for(let L=g-1;L>=0;L-=1)a[L]&&!T&&(C+=a[L].swiperSlideSize,k+=1,C>_&&(T=!0))}else if(e==="current")for(let C=g+1;C<a.length;C+=1)(n?l[C]+h[C]-l[g]<_:l[C]-l[g]<_)&&(k+=1);else for(let C=g-1;C>=0;C-=1)l[g]-l[C]<_&&(k+=1);return k}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function i(){const l=e.rtlTranslate?e.translate*-1:e.translate,h=Math.min(Math.max(l,e.maxTranslate()),e.minTranslate());e.setTranslate(h),e.updateActiveIndex(),e.updateSlidesClasses()}let a;e.params.freeMode&&e.params.freeMode.enabled?(i(),e.params.autoHeight&&e.updateAutoHeight()):((e.params.slidesPerView==="auto"||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?a=e.slideTo(e.slides.length-1,0,!1,!0):a=e.slideTo(e.activeIndex,0,!1,!0),a||i()),r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n=!0){const r=this,i=r.params.direction;return e||(e=i==="horizontal"?"vertical":"horizontal"),e===i||e!=="horizontal"&&e!=="vertical"||(r.$el.removeClass(`${r.params.containerModifierClass}${i}`).addClass(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.each(a=>{e==="vertical"?a.style.width="":a.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.$el.addClass(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.$el.removeClass(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;const r=Se(e||n.params.el);if(e=r[0],!e)return!1;e.swiper=n;const i=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let l=(()=>{if(e&&e.shadowRoot&&e.shadowRoot.querySelector){const h=Se(e.shadowRoot.querySelector(i()));return h.children=_=>r.children(_),h}return r.children?r.children(i()):Se(r).children(i())})();if(l.length===0&&n.params.createElements){const _=nn().createElement("div");l=Se(_),_.className=n.params.wrapperClass,r.append(_),r.children(`.${n.params.slideClass}`).each(g=>{l.append(g)})}return Object.assign(n,{$el:r,el:e,$wrapperEl:l,wrapperEl:l[0],mounted:!0,rtl:e.dir.toLowerCase()==="rtl"||r.css("direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(e.dir.toLowerCase()==="rtl"||r.css("direction")==="rtl"),wrongRTL:l.css("display")==="-webkit-box"}),!0}init(e){const n=this;return n.initialized||n.mount(e)===!1||(n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.params.loop&&n.loopCreate(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.preloadImages&&n.preloadImages(),n.params.loop?n.slideTo(n.params.initialSlide+n.loopedSlides,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.attachEvents(),n.initialized=!0,n.emit("init"),n.emit("afterInit")),n}destroy(e=!0,n=!0){const r=this,{params:i,$el:a,$wrapperEl:l,slides:h}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),i.loop&&r.loopDestroy(),n&&(r.removeClasses(),a.removeAttr("style"),l.removeAttr("style"),h&&h.length&&h.removeClass([i.slideVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(_=>{r.off(_)}),e!==!1&&(r.$el[0].swiper=null,SR(r)),r.destroyed=!0),null}static extendDefaults(e){Xn(Of,e)}static get extendedDefaults(){return Of}static get defaults(){return M0}static installModule(e){Nn.prototype.__modules__||(Nn.prototype.__modules__=[]);const n=Nn.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>Nn.installModule(n)),Nn):(Nn.installModule(e),Nn)}}Object.keys(Mf).forEach(t=>{Object.keys(Mf[t]).forEach(e=>{Nn.prototype[e]=Mf[t][e]})});Nn.use([LR,PR]);function Mg(t,e,n,r){const i=nn();return t.params.createElements&&Object.keys(r).forEach(a=>{if(!n[a]&&n.auto===!0){let l=t.$el.children(`.${r[a]}`)[0];l||(l=i.createElement("div"),l.className=r[a],t.$el.append(l)),n[a]=l,e[a]=l}}),n}function Ak({swiper:t,extendParams:e,on:n,emit:r}){e({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,$nextEl:null,prevEl:null,$prevEl:null};function i(L){let F;return L&&(F=Se(L),t.params.uniqueNavElements&&typeof L=="string"&&F.length>1&&t.$el.find(L).length===1&&(F=t.$el.find(L))),F}function a(L,F){const D=t.params.navigation;L&&L.length>0&&(L[F?"addClass":"removeClass"](D.disabledClass),L[0]&&L[0].tagName==="BUTTON"&&(L[0].disabled=F),t.params.watchOverflow&&t.enabled&&L[t.isLocked?"addClass":"removeClass"](D.lockClass))}function l(){if(t.params.loop)return;const{$nextEl:L,$prevEl:F}=t.navigation;a(F,t.isBeginning&&!t.params.rewind),a(L,t.isEnd&&!t.params.rewind)}function h(L){L.preventDefault(),!(t.isBeginning&&!t.params.loop&&!t.params.rewind)&&(t.slidePrev(),r("navigationPrev"))}function _(L){L.preventDefault(),!(t.isEnd&&!t.params.loop&&!t.params.rewind)&&(t.slideNext(),r("navigationNext"))}function g(){const L=t.params.navigation;if(t.params.navigation=Mg(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(L.nextEl||L.prevEl))return;const F=i(L.nextEl),D=i(L.prevEl);F&&F.length>0&&F.on("click",_),D&&D.length>0&&D.on("click",h),Object.assign(t.navigation,{$nextEl:F,nextEl:F&&F[0],$prevEl:D,prevEl:D&&D[0]}),t.enabled||(F&&F.addClass(L.lockClass),D&&D.addClass(L.lockClass))}function k(){const{$nextEl:L,$prevEl:F}=t.navigation;L&&L.length&&(L.off("click",_),L.removeClass(t.params.navigation.disabledClass)),F&&F.length&&(F.off("click",h),F.removeClass(t.params.navigation.disabledClass))}n("init",()=>{t.params.navigation.enabled===!1?T():(g(),l())}),n("toEdge fromEdge lock unlock",()=>{l()}),n("destroy",()=>{k()}),n("enable disable",()=>{const{$nextEl:L,$prevEl:F}=t.navigation;L&&L[t.enabled?"removeClass":"addClass"](t.params.navigation.lockClass),F&&F[t.enabled?"removeClass":"addClass"](t.params.navigation.lockClass)}),n("click",(L,F)=>{const{$nextEl:D,$prevEl:P}=t.navigation,A=F.target;if(t.params.navigation.hideOnClick&&!Se(A).is(P)&&!Se(A).is(D)){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===A||t.pagination.el.contains(A)))return;let M;D?M=D.hasClass(t.params.navigation.hiddenClass):P&&(M=P.hasClass(t.params.navigation.hiddenClass)),r(M===!0?"navigationShow":"navigationHide"),D&&D.toggleClass(t.params.navigation.hiddenClass),P&&P.toggleClass(t.params.navigation.hiddenClass)}});const C=()=>{t.$el.removeClass(t.params.navigation.navigationDisabledClass),g(),l()},T=()=>{t.$el.addClass(t.params.navigation.navigationDisabledClass),k()};Object.assign(t.navigation,{enable:C,disable:T,update:l,init:g,destroy:k})}function ei(t=""){return`.${t.trim().replace(/([\.:!\/])/g,"\\$1").replace(/ /g,".")}`}function Ik({swiper:t,extendParams:e,on:n,emit:r}){const i="swiper-pagination";e({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:D=>D,formatFractionTotal:D=>D,bulletClass:`${i}-bullet`,bulletActiveClass:`${i}-bullet-active`,modifierClass:`${i}-`,currentClass:`${i}-current`,totalClass:`${i}-total`,hiddenClass:`${i}-hidden`,progressbarFillClass:`${i}-progressbar-fill`,progressbarOppositeClass:`${i}-progressbar-opposite`,clickableClass:`${i}-clickable`,lockClass:`${i}-lock`,horizontalClass:`${i}-horizontal`,verticalClass:`${i}-vertical`,paginationDisabledClass:`${i}-disabled`}}),t.pagination={el:null,$el:null,bullets:[]};let a,l=0;function h(){return!t.params.pagination.el||!t.pagination.el||!t.pagination.$el||t.pagination.$el.length===0}function _(D,P){const{bulletActiveClass:A}=t.params.pagination;D[P]().addClass(`${A}-${P}`)[P]().addClass(`${A}-${P}-${P}`)}function g(){const D=t.rtl,P=t.params.pagination;if(h())return;const A=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,M=t.pagination.$el;let $;const U=t.params.loop?Math.ceil((A-t.loopedSlides*2)/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?($=Math.ceil((t.activeIndex-t.loopedSlides)/t.params.slidesPerGroup),$>A-1-t.loopedSlides*2&&($-=A-t.loopedSlides*2),$>U-1&&($-=U),$<0&&t.params.paginationType!=="bullets"&&($=U+$)):typeof t.snapIndex<"u"?$=t.snapIndex:$=t.activeIndex||0,P.type==="bullets"&&t.pagination.bullets&&t.pagination.bullets.length>0){const z=t.pagination.bullets;let G,V,B;if(P.dynamicBullets&&(a=z.eq(0)[t.isHorizontal()?"outerWidth":"outerHeight"](!0),M.css(t.isHorizontal()?"width":"height",`${a*(P.dynamicMainBullets+4)}px`),P.dynamicMainBullets>1&&t.previousIndex!==void 0&&(l+=$-(t.previousIndex-t.loopedSlides||0),l>P.dynamicMainBullets-1?l=P.dynamicMainBullets-1:l<0&&(l=0)),G=Math.max($-l,0),V=G+(Math.min(z.length,P.dynamicMainBullets)-1),B=(V+G)/2),z.removeClass(["","-next","-next-next","-prev","-prev-prev","-main"].map(Y=>`${P.bulletActiveClass}${Y}`).join(" ")),M.length>1)z.each(Y=>{const J=Se(Y),X=J.index();X===$&&J.addClass(P.bulletActiveClass),P.dynamicBullets&&(X>=G&&X<=V&&J.addClass(`${P.bulletActiveClass}-main`),X===G&&_(J,"prev"),X===V&&_(J,"next"))});else{const Y=z.eq($),J=Y.index();if(Y.addClass(P.bulletActiveClass),P.dynamicBullets){const X=z.eq(G),q=z.eq(V);for(let ee=G;ee<=V;ee+=1)z.eq(ee).addClass(`${P.bulletActiveClass}-main`);if(t.params.loop)if(J>=z.length){for(let ee=P.dynamicMainBullets;ee>=0;ee-=1)z.eq(z.length-ee).addClass(`${P.bulletActiveClass}-main`);z.eq(z.length-P.dynamicMainBullets-1).addClass(`${P.bulletActiveClass}-prev`)}else _(X,"prev"),_(q,"next");else _(X,"prev"),_(q,"next")}}if(P.dynamicBullets){const Y=Math.min(z.length,P.dynamicMainBullets+4),J=(a*Y-a)/2-B*a,X=D?"right":"left";z.css(t.isHorizontal()?X:"top",`${J}px`)}}if(P.type==="fraction"&&(M.find(ei(P.currentClass)).text(P.formatFractionCurrent($+1)),M.find(ei(P.totalClass)).text(P.formatFractionTotal(U))),P.type==="progressbar"){let z;P.progressbarOpposite?z=t.isHorizontal()?"vertical":"horizontal":z=t.isHorizontal()?"horizontal":"vertical";const G=($+1)/U;let V=1,B=1;z==="horizontal"?V=G:B=G,M.find(ei(P.progressbarFillClass)).transform(`translate3d(0,0,0) scaleX(${V}) scaleY(${B})`).transition(t.params.speed)}P.type==="custom"&&P.renderCustom?(M.html(P.renderCustom(t,$+1,U)),r("paginationRender",M[0])):r("paginationUpdate",M[0]),t.params.watchOverflow&&t.enabled&&M[t.isLocked?"addClass":"removeClass"](P.lockClass)}function k(){const D=t.params.pagination;if(h())return;const P=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,A=t.pagination.$el;let M="";if(D.type==="bullets"){let $=t.params.loop?Math.ceil((P-t.loopedSlides*2)/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&!t.params.loop&&$>P&&($=P);for(let U=0;U<$;U+=1)D.renderBullet?M+=D.renderBullet.call(t,U,D.bulletClass):M+=`<${D.bulletElement} class="${D.bulletClass}"></${D.bulletElement}>`;A.html(M),t.pagination.bullets=A.find(ei(D.bulletClass))}D.type==="fraction"&&(D.renderFraction?M=D.renderFraction.call(t,D.currentClass,D.totalClass):M=`<span class="${D.currentClass}"></span> / <span class="${D.totalClass}"></span>`,A.html(M)),D.type==="progressbar"&&(D.renderProgressbar?M=D.renderProgressbar.call(t,D.progressbarFillClass):M=`<span class="${D.progressbarFillClass}"></span>`,A.html(M)),D.type!=="custom"&&r("paginationRender",t.pagination.$el[0])}function C(){t.params.pagination=Mg(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});const D=t.params.pagination;if(!D.el)return;let P=Se(D.el);P.length!==0&&(t.params.uniqueNavElements&&typeof D.el=="string"&&P.length>1&&(P=t.$el.find(D.el),P.length>1&&(P=P.filter(A=>Se(A).parents(".swiper")[0]===t.el))),D.type==="bullets"&&D.clickable&&P.addClass(D.clickableClass),P.addClass(D.modifierClass+D.type),P.addClass(t.isHorizontal()?D.horizontalClass:D.verticalClass),D.type==="bullets"&&D.dynamicBullets&&(P.addClass(`${D.modifierClass}${D.type}-dynamic`),l=0,D.dynamicMainBullets<1&&(D.dynamicMainBullets=1)),D.type==="progressbar"&&D.progressbarOpposite&&P.addClass(D.progressbarOppositeClass),D.clickable&&P.on("click",ei(D.bulletClass),function(M){M.preventDefault();let $=Se(this).index()*t.params.slidesPerGroup;t.params.loop&&($+=t.loopedSlides),t.slideTo($)}),Object.assign(t.pagination,{$el:P,el:P[0]}),t.enabled||P.addClass(D.lockClass))}function T(){const D=t.params.pagination;if(h())return;const P=t.pagination.$el;P.removeClass(D.hiddenClass),P.removeClass(D.modifierClass+D.type),P.removeClass(t.isHorizontal()?D.horizontalClass:D.verticalClass),t.pagination.bullets&&t.pagination.bullets.removeClass&&t.pagination.bullets.removeClass(D.bulletActiveClass),D.clickable&&P.off("click",ei(D.bulletClass))}n("init",()=>{t.params.pagination.enabled===!1?F():(C(),k(),g())}),n("activeIndexChange",()=>{(t.params.loop||typeof t.snapIndex>"u")&&g()}),n("snapIndexChange",()=>{t.params.loop||g()}),n("slidesLengthChange",()=>{t.params.loop&&(k(),g())}),n("snapGridLengthChange",()=>{t.params.loop||(k(),g())}),n("destroy",()=>{T()}),n("enable disable",()=>{const{$el:D}=t.pagination;D&&D[t.enabled?"removeClass":"addClass"](t.params.pagination.lockClass)}),n("lock unlock",()=>{g()}),n("click",(D,P)=>{const A=P.target,{$el:M}=t.pagination;if(t.params.pagination.el&&t.params.pagination.hideOnClick&&M&&M.length>0&&!Se(A).hasClass(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&A===t.navigation.nextEl||t.navigation.prevEl&&A===t.navigation.prevEl))return;const $=M.hasClass(t.params.pagination.hiddenClass);r($===!0?"paginationShow":"paginationHide"),M.toggleClass(t.params.pagination.hiddenClass)}});const L=()=>{t.$el.removeClass(t.params.pagination.paginationDisabledClass),t.pagination.$el&&t.pagination.$el.removeClass(t.params.pagination.paginationDisabledClass),C(),k(),g()},F=()=>{t.$el.addClass(t.params.pagination.paginationDisabledClass),t.pagination.$el&&t.pagination.$el.addClass(t.params.pagination.paginationDisabledClass),T()};Object.assign(t.pagination,{enable:L,disable:F,render:k,update:g,init:C,destroy:T})}function U2({swiper:t,extendParams:e,on:n,emit:r}){const i=nn();let a=!1,l=null,h=null,_,g,k,C;e({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),t.scrollbar={el:null,dragEl:null,$el:null,$dragEl:null};function T(){if(!t.params.scrollbar.el||!t.scrollbar.el)return;const{scrollbar:X,rtlTranslate:q,progress:ee}=t,{$dragEl:ce,$el:ke}=X,me=t.params.scrollbar;let qe=g,ue=(k-g)*ee;q?(ue=-ue,ue>0?(qe=g-ue,ue=0):-ue+g>k&&(qe=k+ue)):ue<0?(qe=g+ue,ue=0):ue+g>k&&(qe=k-ue),t.isHorizontal()?(ce.transform(`translate3d(${ue}px, 0, 0)`),ce[0].style.width=`${qe}px`):(ce.transform(`translate3d(0px, ${ue}px, 0)`),ce[0].style.height=`${qe}px`),me.hide&&(clearTimeout(l),ke[0].style.opacity=1,l=setTimeout(()=>{ke[0].style.opacity=0,ke.transition(400)},1e3))}function L(X){!t.params.scrollbar.el||!t.scrollbar.el||t.scrollbar.$dragEl.transition(X)}function F(){if(!t.params.scrollbar.el||!t.scrollbar.el)return;const{scrollbar:X}=t,{$dragEl:q,$el:ee}=X;q[0].style.width="",q[0].style.height="",k=t.isHorizontal()?ee[0].offsetWidth:ee[0].offsetHeight,C=t.size/(t.virtualSize+t.params.slidesOffsetBefore-(t.params.centeredSlides?t.snapGrid[0]:0)),t.params.scrollbar.dragSize==="auto"?g=k*C:g=parseInt(t.params.scrollbar.dragSize,10),t.isHorizontal()?q[0].style.width=`${g}px`:q[0].style.height=`${g}px`,C>=1?ee[0].style.display="none":ee[0].style.display="",t.params.scrollbar.hide&&(ee[0].style.opacity=0),t.params.watchOverflow&&t.enabled&&X.$el[t.isLocked?"addClass":"removeClass"](t.params.scrollbar.lockClass)}function D(X){return t.isHorizontal()?X.type==="touchstart"||X.type==="touchmove"?X.targetTouches[0].clientX:X.clientX:X.type==="touchstart"||X.type==="touchmove"?X.targetTouches[0].clientY:X.clientY}function P(X){const{scrollbar:q,rtlTranslate:ee}=t,{$el:ce}=q;let ke;ke=(D(X)-ce.offset()[t.isHorizontal()?"left":"top"]-(_!==null?_:g/2))/(k-g),ke=Math.max(Math.min(ke,1),0),ee&&(ke=1-ke);const me=t.minTranslate()+(t.maxTranslate()-t.minTranslate())*ke;t.updateProgress(me),t.setTranslate(me),t.updateActiveIndex(),t.updateSlidesClasses()}function A(X){const q=t.params.scrollbar,{scrollbar:ee,$wrapperEl:ce}=t,{$el:ke,$dragEl:me}=ee;a=!0,_=X.target===me[0]||X.target===me?D(X)-X.target.getBoundingClientRect()[t.isHorizontal()?"left":"top"]:null,X.preventDefault(),X.stopPropagation(),ce.transition(100),me.transition(100),P(X),clearTimeout(h),ke.transition(0),q.hide&&ke.css("opacity",1),t.params.cssMode&&t.$wrapperEl.css("scroll-snap-type","none"),r("scrollbarDragStart",X)}function M(X){const{scrollbar:q,$wrapperEl:ee}=t,{$el:ce,$dragEl:ke}=q;!a||(X.preventDefault?X.preventDefault():X.returnValue=!1,P(X),ee.transition(0),ce.transition(0),ke.transition(0),r("scrollbarDragMove",X))}function $(X){const q=t.params.scrollbar,{scrollbar:ee,$wrapperEl:ce}=t,{$el:ke}=ee;!a||(a=!1,t.params.cssMode&&(t.$wrapperEl.css("scroll-snap-type",""),ce.transition("")),q.hide&&(clearTimeout(h),h=Gl(()=>{ke.css("opacity",0),ke.transition(400)},1e3)),r("scrollbarDragEnd",X),q.snapOnRelease&&t.slideToClosest())}function U(X){const{scrollbar:q,touchEventsTouch:ee,touchEventsDesktop:ce,params:ke,support:me}=t,qe=q.$el;if(!qe)return;const ue=qe[0],ge=me.passiveListener&&ke.passiveListeners?{passive:!1,capture:!1}:!1,Ne=me.passiveListener&&ke.passiveListeners?{passive:!0,capture:!1}:!1;if(!ue)return;const Ve=X==="on"?"addEventListener":"removeEventListener";me.touch?(ue[Ve](ee.start,A,ge),ue[Ve](ee.move,M,ge),ue[Ve](ee.end,$,Ne)):(ue[Ve](ce.start,A,ge),i[Ve](ce.move,M,ge),i[Ve](ce.end,$,Ne))}function z(){!t.params.scrollbar.el||!t.scrollbar.el||U("on")}function G(){!t.params.scrollbar.el||!t.scrollbar.el||U("off")}function V(){const{scrollbar:X,$el:q}=t;t.params.scrollbar=Mg(t,t.originalParams.scrollbar,t.params.scrollbar,{el:"swiper-scrollbar"});const ee=t.params.scrollbar;if(!ee.el)return;let ce=Se(ee.el);t.params.uniqueNavElements&&typeof ee.el=="string"&&ce.length>1&&q.find(ee.el).length===1&&(ce=q.find(ee.el)),ce.addClass(t.isHorizontal()?ee.horizontalClass:ee.verticalClass);let ke=ce.find(`.${t.params.scrollbar.dragClass}`);ke.length===0&&(ke=Se(`<div class="${t.params.scrollbar.dragClass}"></div>`),ce.append(ke)),Object.assign(X,{$el:ce,el:ce[0],$dragEl:ke,dragEl:ke[0]}),ee.draggable&&z(),ce&&ce[t.enabled?"removeClass":"addClass"](t.params.scrollbar.lockClass)}function B(){const X=t.params.scrollbar,q=t.scrollbar.$el;q&&q.removeClass(t.isHorizontal()?X.horizontalClass:X.verticalClass),G()}n("init",()=>{t.params.scrollbar.enabled===!1?J():(V(),F(),T())}),n("update resize observerUpdate lock unlock",()=>{F()}),n("setTranslate",()=>{T()}),n("setTransition",(X,q)=>{L(q)}),n("enable disable",()=>{const{$el:X}=t.scrollbar;X&&X[t.enabled?"removeClass":"addClass"](t.params.scrollbar.lockClass)}),n("destroy",()=>{B()});const Y=()=>{t.$el.removeClass(t.params.scrollbar.scrollbarDisabledClass),t.scrollbar.$el&&t.scrollbar.$el.removeClass(t.params.scrollbar.scrollbarDisabledClass),V(),F(),T()},J=()=>{t.$el.addClass(t.params.scrollbar.scrollbarDisabledClass),t.scrollbar.$el&&t.scrollbar.$el.addClass(t.params.scrollbar.scrollbarDisabledClass),B()};Object.assign(t.scrollbar,{enable:Y,disable:J,updateSize:F,setTranslate:T,init:V,destroy:B})}function V2({swiper:t,extendParams:e,on:n}){e({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null}}),t.a11y={clicked:!1};let r=null;function i(q){const ee=r;ee.length!==0&&(ee.html(""),ee.html(q))}function a(q=16){const ee=()=>Math.round(16*Math.random()).toString(16);return"x".repeat(q).replace(/x/g,ee)}function l(q){q.attr("tabIndex","0")}function h(q){q.attr("tabIndex","-1")}function _(q,ee){q.attr("role",ee)}function g(q,ee){q.attr("aria-roledescription",ee)}function k(q,ee){q.attr("aria-controls",ee)}function C(q,ee){q.attr("aria-label",ee)}function T(q,ee){q.attr("id",ee)}function L(q,ee){q.attr("aria-live",ee)}function F(q){q.attr("aria-disabled",!0)}function D(q){q.attr("aria-disabled",!1)}function P(q){if(q.keyCode!==13&&q.keyCode!==32)return;const ee=t.params.a11y,ce=Se(q.target);t.navigation&&t.navigation.$nextEl&&ce.is(t.navigation.$nextEl)&&(t.isEnd&&!t.params.loop||t.slideNext(),t.isEnd?i(ee.lastSlideMessage):i(ee.nextSlideMessage)),t.navigation&&t.navigation.$prevEl&&ce.is(t.navigation.$prevEl)&&(t.isBeginning&&!t.params.loop||t.slidePrev(),t.isBeginning?i(ee.firstSlideMessage):i(ee.prevSlideMessage)),t.pagination&&ce.is(ei(t.params.pagination.bulletClass))&&ce[0].click()}function A(){if(t.params.loop||t.params.rewind||!t.navigation)return;const{$nextEl:q,$prevEl:ee}=t.navigation;ee&&ee.length>0&&(t.isBeginning?(F(ee),h(ee)):(D(ee),l(ee))),q&&q.length>0&&(t.isEnd?(F(q),h(q)):(D(q),l(q)))}function M(){return t.pagination&&t.pagination.bullets&&t.pagination.bullets.length}function $(){return M()&&t.params.pagination.clickable}function U(){const q=t.params.a11y;!M()||t.pagination.bullets.each(ee=>{const ce=Se(ee);t.params.pagination.clickable&&(l(ce),t.params.pagination.renderBullet||(_(ce,"button"),C(ce,q.paginationBulletMessage.replace(/\{\{index\}\}/,ce.index()+1)))),ce.is(`.${t.params.pagination.bulletActiveClass}`)?ce.attr("aria-current","true"):ce.removeAttr("aria-current")})}const z=(q,ee,ce)=>{l(q),q[0].tagName!=="BUTTON"&&(_(q,"button"),q.on("keydown",P)),C(q,ce),k(q,ee)},G=()=>{t.a11y.clicked=!0},V=()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{t.a11y.clicked=!1})})},B=q=>{if(t.a11y.clicked)return;const ee=q.target.closest(`.${t.params.slideClass}`);if(!ee||!t.slides.includes(ee))return;const ce=t.slides.indexOf(ee)===t.activeIndex,ke=t.params.watchSlidesProgress&&t.visibleSlides&&t.visibleSlides.includes(ee);ce||ke||(t.isHorizontal()?t.el.scrollLeft=0:t.el.scrollTop=0,t.slideTo(t.slides.indexOf(ee),0))},Y=()=>{const q=t.params.a11y;q.itemRoleDescriptionMessage&&g(Se(t.slides),q.itemRoleDescriptionMessage),q.slideRole&&_(Se(t.slides),q.slideRole);const ee=t.params.loop?t.slides.filter(ce=>!ce.classList.contains(t.params.slideDuplicateClass)).length:t.slides.length;q.slideLabelMessage&&t.slides.each((ce,ke)=>{const me=Se(ce),qe=t.params.loop?parseInt(me.attr("data-swiper-slide-index"),10):ke,ue=q.slideLabelMessage.replace(/\{\{index\}\}/,qe+1).replace(/\{\{slidesLength\}\}/,ee);C(me,ue)})},J=()=>{const q=t.params.a11y;t.$el.append(r);const ee=t.$el;q.containerRoleDescriptionMessage&&g(ee,q.containerRoleDescriptionMessage),q.containerMessage&&C(ee,q.containerMessage);const ce=t.$wrapperEl,ke=q.id||ce.attr("id")||`swiper-wrapper-${a(16)}`,me=t.params.autoplay&&t.params.autoplay.enabled?"off":"polite";T(ce,ke),L(ce,me),Y();let qe,ue;t.navigation&&t.navigation.$nextEl&&(qe=t.navigation.$nextEl),t.navigation&&t.navigation.$prevEl&&(ue=t.navigation.$prevEl),qe&&qe.length&&z(qe,ke,q.nextSlideMessage),ue&&ue.length&&z(ue,ke,q.prevSlideMessage),$()&&t.pagination.$el.on("keydown",ei(t.params.pagination.bulletClass),P),t.$el.on("focus",B,!0),t.$el.on("pointerdown",G,!0),t.$el.on("pointerup",V,!0)};function X(){r&&r.length>0&&r.remove();let q,ee;t.navigation&&t.navigation.$nextEl&&(q=t.navigation.$nextEl),t.navigation&&t.navigation.$prevEl&&(ee=t.navigation.$prevEl),q&&q.off("keydown",P),ee&&ee.off("keydown",P),$()&&t.pagination.$el.off("keydown",ei(t.params.pagination.bulletClass),P),t.$el.off("focus",B,!0),t.$el.off("pointerdown",G,!0),t.$el.off("pointerup",V,!0)}n("beforeInit",()=>{r=Se(`<span class="${t.params.a11y.notificationClass}" aria-live="assertive" aria-atomic="true"></span>`)}),n("afterInit",()=>{!t.params.a11y.enabled||J()}),n("slidesLengthChange snapGridLengthChange slidesGridLengthChange",()=>{!t.params.a11y.enabled||Y()}),n("fromEdge toEdge afterInit lock unlock",()=>{!t.params.a11y.enabled||A()}),n("paginationUpdate",()=>{!t.params.a11y.enabled||U()}),n("destroy",()=>{!t.params.a11y.enabled||X()})}function Mk({swiper:t,extendParams:e,on:n,emit:r}){let i;t.autoplay={running:!1,paused:!1},e({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});function a(){if(!t.size){t.autoplay.running=!1,t.autoplay.paused=!1;return}const D=t.slides.eq(t.activeIndex);let P=t.params.autoplay.delay;D.attr("data-swiper-autoplay")&&(P=D.attr("data-swiper-autoplay")||t.params.autoplay.delay),clearTimeout(i),i=Gl(()=>{let A;t.params.autoplay.reverseDirection?t.params.loop?(t.loopFix(),A=t.slidePrev(t.params.speed,!0,!0),r("autoplay")):t.isBeginning?t.params.autoplay.stopOnLastSlide?h():(A=t.slideTo(t.slides.length-1,t.params.speed,!0,!0),r("autoplay")):(A=t.slidePrev(t.params.speed,!0,!0),r("autoplay")):t.params.loop?(t.loopFix(),A=t.slideNext(t.params.speed,!0,!0),r("autoplay")):t.isEnd?t.params.autoplay.stopOnLastSlide?h():(A=t.slideTo(0,t.params.speed,!0,!0),r("autoplay")):(A=t.slideNext(t.params.speed,!0,!0),r("autoplay")),(t.params.cssMode&&t.autoplay.running||A===!1)&&a()},P)}function l(){return typeof i<"u"||t.autoplay.running?!1:(t.autoplay.running=!0,r("autoplayStart"),a(),!0)}function h(){return!t.autoplay.running||typeof i>"u"?!1:(i&&(clearTimeout(i),i=void 0),t.autoplay.running=!1,r("autoplayStop"),!0)}function _(D){!t.autoplay.running||t.autoplay.paused||(i&&clearTimeout(i),t.autoplay.paused=!0,D===0||!t.params.autoplay.waitForTransition?(t.autoplay.paused=!1,a()):["transitionend","webkitTransitionEnd"].forEach(P=>{t.$wrapperEl[0].addEventListener(P,k)}))}function g(){const D=nn();D.visibilityState==="hidden"&&t.autoplay.running&&_(),D.visibilityState==="visible"&&t.autoplay.paused&&(a(),t.autoplay.paused=!1)}function k(D){!t||t.destroyed||!t.$wrapperEl||D.target===t.$wrapperEl[0]&&(["transitionend","webkitTransitionEnd"].forEach(P=>{t.$wrapperEl[0].removeEventListener(P,k)}),t.autoplay.paused=!1,t.autoplay.running?a():h())}function C(){t.params.autoplay.disableOnInteraction?h():(r("autoplayPause"),_()),["transitionend","webkitTransitionEnd"].forEach(D=>{t.$wrapperEl[0].removeEventListener(D,k)})}function T(){t.params.autoplay.disableOnInteraction||(t.autoplay.paused=!1,r("autoplayResume"),a())}function L(){t.params.autoplay.pauseOnMouseEnter&&(t.$el.on("mouseenter",C),t.$el.on("mouseleave",T))}function F(){t.$el.off("mouseenter",C),t.$el.off("mouseleave",T)}n("init",()=>{t.params.autoplay.enabled&&(l(),nn().addEventListener("visibilitychange",g),L())}),n("beforeTransitionStart",(D,P,A)=>{t.autoplay.running&&(A||!t.params.autoplay.disableOnInteraction?t.autoplay.pause(P):h())}),n("sliderFirstMove",()=>{t.autoplay.running&&(t.params.autoplay.disableOnInteraction?h():_())}),n("touchEnd",()=>{t.params.cssMode&&t.autoplay.paused&&!t.params.autoplay.disableOnInteraction&&a()}),n("destroy",()=>{F(),t.autoplay.running&&h(),nn().removeEventListener("visibilitychange",g)}),Object.assign(t.autoplay,{pause:_,run:a,start:l,stop:h})}function Xa(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function Vi(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:Xa(e[r])&&Xa(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:Vi(t[r],e[r]):t[r]=e[r]})}function Ok(t={}){return t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function Lk(t={}){return t.pagination&&typeof t.pagination.el>"u"}function Pk(t={}){return t.scrollbar&&typeof t.scrollbar.el>"u"}function $k(t=""){const e=t.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return e.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}const Rk=["modules","init","_direction","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_preloadImages","updateOnImagesReady","_loop","_loopAdditionalSlides","_loopedSlides","_loopedSlidesLimit","_loopFillGroupWithBlank","loopPreventsSlide","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideBlankClass","slideActiveClass","slideDuplicateActiveClass","slideVisibleClass","slideDuplicateClass","slideNextClass","slideDuplicateNextClass","slidePrevClass","slideDuplicatePrevClass","wrapperClass","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","lazy","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom"];function H2(t={},e=!0){const n={on:{}},r={},i={};Vi(n,Nn.defaults),Vi(n,Nn.extendedDefaults),n._emitClasses=!0,n.init=!1;const a={},l=Rk.map(_=>_.replace(/_/,"")),h=Object.assign({},t);return Object.keys(h).forEach(_=>{typeof t[_]>"u"||(l.indexOf(_)>=0?Xa(t[_])?(n[_]={},i[_]={},Vi(n[_],t[_]),Vi(i[_],t[_])):(n[_]=t[_],i[_]=t[_]):_.search(/on[A-Z]/)===0&&typeof t[_]=="function"?e?r[`${_[2].toLowerCase()}${_.substr(3)}`]=t[_]:n.on[`${_[2].toLowerCase()}${_.substr(3)}`]=t[_]:a[_]=t[_])}),["navigation","pagination","scrollbar"].forEach(_=>{n[_]===!0&&(n[_]={}),n[_]===!1&&delete n[_]}),{params:n,passedParams:i,rest:a,events:r}}function B2({el:t,nextEl:e,prevEl:n,paginationEl:r,scrollbarEl:i,swiper:a},l){Ok(l)&&e&&n&&(a.params.navigation.nextEl=e,a.originalParams.navigation.nextEl=e,a.params.navigation.prevEl=n,a.originalParams.navigation.prevEl=n),Lk(l)&&r&&(a.params.pagination.el=r,a.originalParams.pagination.el=r),Pk(l)&&i&&(a.params.scrollbar.el=i,a.originalParams.scrollbar.el=i),a.init(t)}const Fk=(t,e)=>{let n=e.slidesPerView;if(e.breakpoints){const i=Nn.prototype.getBreakpoint(e.breakpoints),a=i in e.breakpoints?e.breakpoints[i]:void 0;a&&a.slidesPerView&&(n=a.slidesPerView)}let r=Math.ceil(parseFloat(e.loopedSlides||n,10));return r+=e.loopAdditionalSlides,r>t.length&&e.loopedSlidesLimit&&(r=t.length),r};function q2(t,e,n){const r=e.map((_,g)=>Ra.cloneElement(_,{swiper:t,"data-swiper-slide-index":g}));function i(_,g,k){return Ra.cloneElement(_,{key:`${_.key}-duplicate-${g}-${k}`,className:`${_.props.className||""} ${n.slideDuplicateClass}`})}if(n.loopFillGroupWithBlank){const _=n.slidesPerGroup-r.length%n.slidesPerGroup;if(_!==n.slidesPerGroup)for(let g=0;g<_;g+=1){const k=I("div",{className:`${n.slideClass} ${n.slideBlankClass}`});r.push(k)}}n.slidesPerView==="auto"&&!n.loopedSlides&&(n.loopedSlides=r.length);const a=Fk(r,n),l=[],h=[];for(let _=0;_<a;_+=1){const g=_-Math.floor(_/r.length)*r.length;h.push(i(r[g],_,"append")),l.unshift(i(r[r.length-g-1],_,"prepend"))}return t&&(t.loopedSlides=a),[...l,...r,...h]}function W2(t,e,n,r,i){const a=[];if(!e)return a;const l=_=>{a.indexOf(_)<0&&a.push(_)};if(n&&r){const _=r.map(i),g=n.map(i);_.join("")!==g.join("")&&l("children"),r.length!==n.length&&l("children")}return Rk.filter(_=>_[0]==="_").map(_=>_.replace(/_/,"")).forEach(_=>{if(_ in t&&_ in e)if(Xa(t[_])&&Xa(e[_])){const g=Object.keys(t[_]),k=Object.keys(e[_]);g.length!==k.length?l(_):(g.forEach(C=>{t[_][C]!==e[_][C]&&l(_)}),k.forEach(C=>{t[_][C]!==e[_][C]&&l(_)}))}else t[_]!==e[_]&&l(_)}),a}function jk(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function zk(t){const e=[];return Ra.Children.toArray(t).forEach(n=>{jk(n)?e.push(n):n.props&&n.props.children&&zk(n.props.children).forEach(r=>e.push(r))}),e}function G2(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return Ra.Children.toArray(t).forEach(r=>{if(jk(r))e.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const i=zk(r.props.children);i.length>0?i.forEach(a=>e.push(a)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:e,slots:n}}function K2({swiper:t,slides:e,passedParams:n,changedParams:r,nextEl:i,prevEl:a,scrollbarEl:l,paginationEl:h}){const _=r.filter(z=>z!=="children"&&z!=="direction"),{params:g,pagination:k,navigation:C,scrollbar:T,virtual:L,thumbs:F}=t;let D,P,A,M,$;r.includes("thumbs")&&n.thumbs&&n.thumbs.swiper&&g.thumbs&&!g.thumbs.swiper&&(D=!0),r.includes("controller")&&n.controller&&n.controller.control&&g.controller&&!g.controller.control&&(P=!0),r.includes("pagination")&&n.pagination&&(n.pagination.el||h)&&(g.pagination||g.pagination===!1)&&k&&!k.el&&(A=!0),r.includes("scrollbar")&&n.scrollbar&&(n.scrollbar.el||l)&&(g.scrollbar||g.scrollbar===!1)&&T&&!T.el&&(M=!0),r.includes("navigation")&&n.navigation&&(n.navigation.prevEl||a)&&(n.navigation.nextEl||i)&&(g.navigation||g.navigation===!1)&&C&&!C.prevEl&&!C.nextEl&&($=!0);const U=z=>{!t[z]||(t[z].destroy(),z==="navigation"?(g[z].prevEl=void 0,g[z].nextEl=void 0,t[z].prevEl=void 0,t[z].nextEl=void 0):(g[z].el=void 0,t[z].el=void 0))};_.forEach(z=>{if(Xa(g[z])&&Xa(n[z]))Vi(g[z],n[z]);else{const G=n[z];(G===!0||G===!1)&&(z==="navigation"||z==="pagination"||z==="scrollbar")?G===!1&&U(z):g[z]=n[z]}}),_.includes("controller")&&!P&&t.controller&&t.controller.control&&g.controller&&g.controller.control&&(t.controller.control=g.controller.control),r.includes("children")&&e&&L&&g.virtual.enabled?(L.slides=e,L.update(!0)):r.includes("children")&&t.lazy&&t.params.lazy.enabled&&t.lazy.load(),D&&F.init()&&F.update(!0),P&&(t.controller.control=g.controller.control),A&&(h&&(g.pagination.el=h),k.init(),k.render(),k.update()),M&&(l&&(g.scrollbar.el=l),T.init(),T.updateSize(),T.setTranslate()),$&&(i&&(g.navigation.nextEl=i),a&&(g.navigation.prevEl=a),C.init(),C.update()),r.includes("allowSlideNext")&&(t.allowSlideNext=n.allowSlideNext),r.includes("allowSlidePrev")&&(t.allowSlidePrev=n.allowSlidePrev),r.includes("direction")&&t.changeDirection(n.direction,!1),t.update()}function Y2(t,e,n){if(!n)return null;const r=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`};return e.filter((i,a)=>a>=n.from&&a<=n.to).map(i=>Ra.cloneElement(i,{swiper:t,style:r}))}const J2=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.lazy&&t.params.lazy.enabled&&t.lazy.load(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function ol(t,e){return typeof window>"u"?le.exports.useEffect(t,e):le.exports.useLayoutEffect(t,e)}const Q2=le.exports.createContext(null),X2=le.exports.createContext(null),Og=le.exports.forwardRef(function(t,e){let{className:n,tag:r="div",wrapperTag:i="div",children:a,onSwiper:l,...h}=t===void 0?{}:t,_=!1;const[g,k]=le.exports.useState("swiper"),[C,T]=le.exports.useState(null),[L,F]=le.exports.useState(!1),D=le.exports.useRef(!1),P=le.exports.useRef(null),A=le.exports.useRef(null),M=le.exports.useRef(null),$=le.exports.useRef(null),U=le.exports.useRef(null),z=le.exports.useRef(null),G=le.exports.useRef(null),V=le.exports.useRef(null),{params:B,passedParams:Y,rest:J,events:X}=H2(h),{slides:q,slots:ee}=G2(a),ce=()=>{F(!L)};Object.assign(B.on,{_containerClasses(ge,Ne){k(Ne)}});const ke=()=>{if(Object.assign(B.on,X),_=!0,A.current=new Nn(B),A.current.loopCreate=()=>{},A.current.loopDestroy=()=>{},B.loop&&(A.current.loopedSlides=Fk(q,B)),A.current.virtual&&A.current.params.virtual.enabled){A.current.virtual.slides=q;const ge={cache:!1,slides:q,renderExternal:T,renderExternalUpdate:!1};Vi(A.current.params.virtual,ge),Vi(A.current.originalParams.virtual,ge)}};P.current||ke(),A.current&&A.current.on("_beforeBreakpoint",ce);const me=()=>{_||!X||!A.current||Object.keys(X).forEach(ge=>{A.current.on(ge,X[ge])})},qe=()=>{!X||!A.current||Object.keys(X).forEach(ge=>{A.current.off(ge,X[ge])})};le.exports.useEffect(()=>()=>{A.current&&A.current.off("_beforeBreakpoint",ce)}),le.exports.useEffect(()=>{!D.current&&A.current&&(A.current.emitSlidesClasses(),D.current=!0)}),ol(()=>{if(e&&(e.current=P.current),!!P.current)return A.current.destroyed&&ke(),B2({el:P.current,nextEl:U.current,prevEl:z.current,paginationEl:G.current,scrollbarEl:V.current,swiper:A.current},B),l&&l(A.current),()=>{A.current&&!A.current.destroyed&&A.current.destroy(!0,!1)}},[]),ol(()=>{me();const ge=W2(Y,M.current,q,$.current,Ne=>Ne.key);return M.current=Y,$.current=q,ge.length&&A.current&&!A.current.destroyed&&K2({swiper:A.current,slides:q,passedParams:Y,changedParams:ge,nextEl:U.current,prevEl:z.current,scrollbarEl:V.current,paginationEl:G.current}),()=>{qe()}}),ol(()=>{J2(A.current)},[C]);function ue(){return B.virtual?Y2(A.current,q,C):!B.loop||A.current&&A.current.destroyed?q.map(ge=>Ra.cloneElement(ge,{swiper:A.current})):q2(A.current,q,B)}return I(r,{ref:P,className:$k(`${g}${n?` ${n}`:""}`),...J,children:te(X2.Provider,{value:A.current,children:[ee["container-start"],te(i,{className:"swiper-wrapper",children:[ee["wrapper-start"],ue(),ee["wrapper-end"]]}),Ok(B)&&te(Kt,{children:[I("div",{ref:z,className:"swiper-button-prev"}),I("div",{ref:U,className:"swiper-button-next"})]}),Pk(B)&&I("div",{ref:V,className:"swiper-scrollbar"}),Lk(B)&&I("div",{ref:G,className:"swiper-pagination"}),ee["container-end"]]})})});Og.displayName="Swiper";const Dn=le.exports.forwardRef(function(t,e){let{tag:n="div",children:r,className:i="",swiper:a,zoom:l,virtualIndex:h,..._}=t===void 0?{}:t;const g=le.exports.useRef(null),[k,C]=le.exports.useState("swiper-slide");function T(D,P,A){P===g.current&&C(A)}ol(()=>{if(e&&(e.current=g.current),!(!g.current||!a)){if(a.destroyed){k!=="swiper-slide"&&C("swiper-slide");return}return a.on("_slideClass",T),()=>{!a||a.off("_slideClass",T)}}}),ol(()=>{a&&g.current&&!a.destroyed&&C(a.getSlideClasses(g.current))},[a]);const L={isActive:k.indexOf("swiper-slide-active")>=0||k.indexOf("swiper-slide-duplicate-active")>=0,isVisible:k.indexOf("swiper-slide-visible")>=0,isDuplicate:k.indexOf("swiper-slide-duplicate")>=0,isPrev:k.indexOf("swiper-slide-prev")>=0||k.indexOf("swiper-slide-duplicate-prev")>=0,isNext:k.indexOf("swiper-slide-next")>=0||k.indexOf("swiper-slide-duplicate-next")>=0},F=()=>typeof r=="function"?r(L):r;return I(n,{ref:g,className:$k(`${k}${i?` ${i}`:""}`),"data-swiper-slide-index":h,..._,children:I(Q2.Provider,{value:L,children:l?I("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof l=="number"?l:void 0,children:F()}):F()})})});Dn.displayName="SwiperSlide";const Z2=()=>te(Kt,{children:[te("div",{className:"quality__Title",children:[" ",I("h2",{children:"Cualidades"})]}),I("div",{className:"quality_Content",children:I("div",{className:"animate__fadeInDown quality_Body",children:te(Og,{modules:[Ak,Ik,Mk],spaceBetween:15,slidesPerView:3,navigation:!0,autoplay:{delay:2e3,disableOnInteraction:!1},loop:!0,pagination:{clickable:!0},scrollbar:{draggable:!0},breakpoints:{0:{slidesPerView:1,spaceBetween:10},480:{slidesPerView:2,spaceBetween:20},768:{slidesPerView:3,spaceBetween:5},1024:{slidesPerView:3,spaceBetween:5},1024:{slidesPerView:3,spaceBetween:5}},children:[I(Dn,{children:I("div",{className:"box__1",children:te("div",{className:"box__body",children:[te("div",{className:"quality__Svg",children:[" ",I("img",{src:R$,alt:" "})]}),te("div",{children:[I("h4",{children:"Flexible con tu tiempo"}),I("span",{children:"Solo t\xFA decides cuando estudiar."})]})]})})}),I(Dn,{children:I("div",{className:"box__2",children:te("div",{className:"box__body",children:[te("div",{className:"quality__Svg",children:[" ",I("img",{src:No,alt:" "})]}),te("div",{children:[I("h4",{children:" 100% interactivo"}),I("span",{children:"Clases guiadas y ejercicios que puedes hacer con tu profesor y por tu cuenta."})]})]})})}),I(Dn,{children:I("div",{className:"box__3",children:te("div",{className:"box__body",children:[te("div",{className:"quality__Svg",children:[" ",I("img",{src:F$,alt:" "})]}),te("div",{children:[I("h4",{children:"Adaptados a tus objetivos."}),I("span",{children:"te preparamos para entrevistas, viajes, examen acad\xE9micos, TOEFL y m\xE1s."})]})]})})}),I(Dn,{children:I("div",{className:"box__2",children:te("div",{className:"box__body",children:[te("div",{className:"quality__Svg",children:[" ",I("img",{src:No,alt:" "})]}),te("div",{children:[I("h4",{children:" Divide el ingl\xE9s en 4 \xE1reas:"}),I("span",{children:"hablar, escuchar, vocabulario y gram\xE1tica."})]})]})})}),I(Dn,{children:I("div",{className:"box__2",children:te("div",{className:"box__body",children:[te("div",{className:"quality__Svg",children:[" ",I("img",{src:No,alt:" "})]}),te("div",{children:[I("h4",{children:" No es una clase normal"}),I("span",{children:"No es est\xE1tica: juegos, roles, ejercicios y conversaci\xF3n.                     "})]})]})})}),I(Dn,{children:I("div",{className:"box__2",children:te("div",{className:"box__body",children:[te("div",{className:"quality__Svg",children:[" ",I("img",{src:No,alt:" "})]}),te("div",{children:[I("h4",{children:"  - Recursos profesionales."}),I("span",{children:"Nos basamos en el m\xE9todo de Cambridge, la escala de ingl\xE9s global.                    "})]})]})})}),I(Dn,{children:I("div",{className:"box__2",children:te("div",{className:"box__body",children:[te("div",{className:"quality__Svg",children:[" ",I("img",{src:No,alt:" "})]}),te("div",{children:[I("h4",{children:"  - Profesores altamente cualificados."}),I("span",{children:"Contamos con profesores especializados en la ense\xF1anza del ingl\xE9s a ni\xF1os y adultos de distintas edades.                     "})]})]})})})]})})})]});const eF=()=>te(Kt,{children:[I("div",{className:"review__title",children:I("h2",{children:"Reviews"})}),te("section",{className:"Review__Content",children:[te("div",{className:"review__body",children:[te("div",{className:"review-1",children:[I("div",{className:"review__Content",children:I("img",{src:"https://cdn.pixabay.com/photo/2020/10/19/09/44/woman-5667299_960_720.jpg",alt:""})}),I("div",{className:"parrafo__Body",children:te("span",{children:["Mi hijo comenz\xF3 clases hace un a\xF1o y hoy estudia en un internado de Londres. 100% recomendado.",I("div",{children:I("span",{className:"review__Name",children:"TERESA R."})})]})})]}),te("div",{className:"review-2",children:[I("div",{className:"review__Content",children:I("img",{src:"https://cdn.pixabay.com/photo/2022/05/15/13/32/fashionable-7198003_960_720.jpg",alt:""})}),I("div",{className:"parrafo__Body",children:te("span",{children:[" ","Quer\xEDa que mi hijo tuviera apoyo acad\xE9mico y pudiera aprobar sus ex\xE1menes y lo logr\xF3 gracias a esta academia. Me gusta que se enfocan en las necesidades del estudiante.",I("div",{children:I("span",{className:"review__Name",children:"SANDRA M."})})]})})]})]}),te("div",{className:"section__2",children:[te("div",{className:"review-3",children:[I("div",{className:"review__Content",children:I("img",{src:"https://cdn.pixabay.com/photo/2017/11/02/14/27/model-2911332_960_720.jpg",alt:""})}),I("div",{className:"parrafo__Body",children:te("span",{children:["Gracias a estas clases logr\xE9 aprobar mi examen de la Universidad de Florencia y ahora soy profesor.",I("div",{children:I("span",{className:"review__Name",children:"ANGELO L."})})]})})]}),te("div",{className:"review-4",children:[I("div",{className:"review__Content",children:I("img",{src:"https://cdn.pixabay.com/photo/2017/06/30/15/55/camera-2458579_960_720.jpg",alt:""})}),I("div",{className:"parrafo__Body",children:te("span",{children:["Buscaba un curso corto para poder viajar y no sentir tanta verg\xFCenza al hablar y con Navis en un mes ya estaba lista para mi viaje.",I("div",{children:I("span",{className:"review__Name",children:"JAIRO M."})})]})})]})]}),te("div",{className:"section__2",children:[te("div",{className:"review-3",children:[I("div",{className:"review__Content",children:I("img",{src:"https://cdn.pixabay.com/photo/2017/01/03/09/18/woman-1948939_960_720.jpg",alt:""})}),I("div",{className:"parrafo__Body",children:te("span",{children:["Por a\xF1os fue muy dif\xEDcil que mi hijo pusiera atenci\xF3n al ingl\xE9s, pero ahora le gusta. La profesora juega con \xE9l y se divierten mucho.",I("div",{children:I("span",{className:"review__Name",children:"VALERIA P."})})]})})]}),te("div",{className:"review-4",children:[I("div",{className:"review__Content",children:I("img",{src:"https://cdn.pixabay.com/photo/2018/01/01/15/28/one-3054354_960_720.jpg",alt:""})}),I("div",{className:"parrafo__Body",children:te("span",{children:["Con estas clases me prepar\xE9 para la prueba oral del TOEFL, y logr\xE9 un 28/30. I did it!",I("div",{children:I("span",{className:"review__Name",children:"SOFIA R."})})]})})]}),te("div",{className:"review-4",children:[I("div",{className:"review__Content",children:I("img",{src:"https://cdn.pixabay.com/photo/2016/12/27/21/49/application-1934972_960_720.jpg",alt:""})}),I("div",{className:"parrafo__Body",children:te("span",{children:["Me mud\xE9 a Texas hace 4 a\xF1os, nunca aprend\xED ingl\xE9s y depend\xEDa de mi hija para las llamadas o cosas importantes, luego me cans\xE9 de mi trabajo y decid\xED comenzar a aprender para poder obtener un mejor empleo. Gracias a esta academia lo estoy logrando. Thanks Navis!",I("div",{children:I("span",{className:"review__Name",children:"JORGE R."})})]})})]})]})]})]});const tF=()=>te(Kt,{children:[I("div",{className:"question__Title",children:I("h2",{children:"PREGUNTAS FRECUENTES"})}),I("div",{className:"question_Content",children:I("div",{className:"question_Body",children:te(Og,{modules:[Ak,Ik,U2,V2,Mk],spaceBetween:50,slidesPerView:3,navigation:!0,autoplay:{delay:2e3},loop:!0,pagination:{clickable:!0},scrollbar:{draggable:!0},breakpoints:{0:{slidesPerView:1,spaceBetween:10},480:{slidesPerView:2,spaceBetween:20},768:{slidesPerView:3,spaceBetween:35},1024:{slidesPerView:3,spaceBetween:25},1024:{slidesPerView:3,spaceBetween:45}},children:[I(Dn,{children:te("div",{className:"question__1",children:[I("h2",{children:"\xBFQu\xE9 es Navis?"}),I("div",{className:"question__body",children:I("span",{children:"La \xFAnica academia de ingl\xE9s online que se enfoca en tus necesidades."})})]})}),I(Dn,{children:te("div",{className:"question__2",children:[I("h2",{children:"\xBFEn qu\xE9 horario puedo estudiar?"}),I("div",{className:"question__body",children:I("span",{children:"Tu tiempo es tuyo, tu coordinas con tu profesor cuando deseas ver tus clases."})})]})}),I(Dn,{children:te("div",{className:"question__3",children:[I("h2",{children:"\xBFPuedo elegir o cambiar de profesor?"}),I("div",{className:"question__body",children:I("span",{children:"S\xED, siempre podr\xE1s escoger un profesor que se adapte a ti."})})]})}),I(Dn,{children:te("div",{className:"question__3",children:[I("h2",{children:"\xBFQu\xE9 se requiere para estudiar?"}),I("div",{className:"question__body",children:I("span",{children:"Lo \xFAnico que necesitas es un ordenador o tel\xE9fono inteligente con conexi\xF3n a Internet estable, micr\xF3fono y c\xE1mara."})})]})}),I(Dn,{children:te("div",{className:"question__3",children:[I("h2",{children:"En caso de no poder asistir a una clase, \xBFqu\xE9 debo hacer?"}),I("div",{className:"question__body",children:I("span",{children:"4 horas antes tienes la opci\xF3n de reprogramar la clase."})})]})}),I(Dn,{children:te("div",{className:"question__3",children:[I("h2",{children:"\xBFCu\xE1nto dura la clase?"}),I("div",{className:"question__body",children:I("span",{children:"Dependiendo del paquete adquirido las clases pueden durar entre 30 o 50 minutos."})})]})}),I(Dn,{children:te("div",{className:"question__3",children:[I("h2",{children:"\xBFCu\xE1les son los medios de pago?"}),I("div",{className:"question__body",children:I("span",{children:"Puedes pagar con tarjeta de cr\xE9dito o d\xE9bito a trav\xE9s de PayPal. El pago se realizar\xE1 en la moneda local del pa\xEDs en el que est\xE9s."})})]})})]})})})]});const nF="/assets/contacto.6d59b551.svg",rF=()=>te(Kt,{children:[I("div",{className:"contact__Title",children:I("h2",{children:"Contacto"})}),te("section",{className:"contact__Section",children:[I("div",{className:"contact__Img",children:I("img",{src:nF,alt:""})}),I("div",{className:"contact__body",children:I("span",{children:"+000 (000) 000-0000"})})]})]}),iF=()=>te(Kt,{children:[I($$,{}),I(Z2,{}),I(eF,{}),I(I$,{}),I(tF,{}),I(rF,{})]});const aF=t=>te("div",{children:["Perfil Teacher:",I("br",{}),"Nombre: ",t.name,I("br",{}),"Apellido: ",t.lastName,I("br",{}),"Pais: ",t.country,I("br",{}),"Ciudad: ",t.city,I("br",{}),"Telefono: ",t.phoneNumber]}),sF=t=>te("div",{children:[I("div",{className:"",children:"Perfil Alumno:"}),te("div",{className:"",children:["Nombre: ",t.name]}),te("div",{className:"",children:["Apellido: ",t.lastName]}),te("div",{className:"",children:["Pais: ",t.country]}),te("div",{className:"",children:["Ciudad: ",t.city]}),te("div",{className:"",children:["Telefono: ",t.phoneNumber]})]});const as=()=>te("div",{className:"loaderContainer",children:[I("span",{className:"loader"}),I("h5",{children:"LOADING..."})]}),oF=()=>{const{user:t}=jn(),e=br(),n=t.form,r=()=>{e("/Account/EditarInformacion")};return n?I("div",{className:"mainProfile-container",children:te("div",{className:"asideProfile-container",children:[I("div",{className:"userCard-header_container",children:te("div",{className:"userCard-header",children:[I("div",{className:"user-avatar",children:I("i",{class:"fa-solid fa-user fa-3x"})}),te("div",{className:"userMain-info",children:[te("p",{children:[n.name," ",n.lastName]}),I("span",{children:t.role==="alumn"?"Estudiante":"Profesor"})]})]})}),I("div",{className:"userCard-body",children:te("div",{className:"userCard-body-input",children:[I("span",{className:"userCard-body-input_title",children:"Mail:"}),I("span",{className:"userCard-body-input_content",children:t.email})]})}),I("div",{className:"userCard-body",children:te("div",{className:"userCard-body-input",children:[I("span",{className:"userCard-body-input_title",children:"Pais:"}),I("span",{className:"userCard-body-input_content",children:n.country})]})}),I("div",{className:"userCard-footer",children:I("button",{className:"userCard-button",onClick:r,children:"Editar Perfil"})})]})}):I(as,{})},lF=()=>{const{userLogged:t}=wr(),{user:e}=jn(),[n,r]=le.exports.useState({}),[i,a]=le.exports.useState(!1),l=_=>{r({...n,[_.target.name]:_.target.value}),console.log(n)},h=async _=>{_.preventDefault(),a(!0);try{const g=Tn(),k=en(g,`Users/${t.uid}`);await Ia(k,{...n}),a(!1)}catch(g){swal("UPS!",`${g.message}`,"error"),a(!1)}};return i?I(as,{}):te("div",{children:[I("h1",{children:"EDITAR INFO DE USUARIO"}),e.role==="alumn"?I(sF,{...e.form}):I(aF,{...e.form}),I("div",{className:"caja__trasera",children:I("div",{className:"caja__trasera-login",children:te("form",{className:"form__Register",onSubmit:h,children:[I("label",{htmlFor:"name",children:"Name :"}),I("input",{type:"text",id:"name",name:"name",value:n.name||"",onChange:l}),I("br",{}),I("label",{htmlFor:"lastName",children:"Last name :"}),I("input",{type:"text",id:"lastName",name:"lastName",value:n.lastName||"",onChange:l}),I("br",{}),I("label",{htmlFor:"phoneNumber",children:"Phone Number :"}),I("input",{type:"tel",id:"phoneNumber",name:"phoneNumber",value:n.phoneNumber||"",onChange:l}),I("br",{}),I("label",{htmlFor:"country",children:"Country:"}),I("input",{type:"text",id:"country",name:"country",value:n.country||"",onChange:l}),I("br",{}),I("label",{htmlFor:"city",children:"City:"}),I("input",{type:"text",id:"city",name:"city",value:n.city||"",onChange:l}),I("br",{}),I("button",{className:"boton__Edit",type:"submit",id:"btn__iniciar-sesion",children:"Editar"})]})})})]})};const cF=()=>I(Kt,{children:I("div",{className:"not__Acc",children:te("div",{className:" caja__trasera",children:[te("div",{className:"form__Register",children:[I("h3",{children:"\xBFYa tienes una cuenta?"}),I("p",{children:"Inicia sesion con tu cuenta"}),I(zr,{to:"/signIn",children:I("button",{className:"boton__login",id:"btn__iniciar-sesion",children:"Iniciar Sesion"})})]}),te("div",{className:"form__Register",children:[I("h3",{children:"\xBFTodavia no te registraste?"}),I("p",{children:"Registrate gratis"}),I(zr,{to:"/signUp",children:I("button",{className:"boton__login",id:"btn__registrarse",children:"Registrarse"})})]})]})})}),uF=()=>{const t=br(),{user:e,signIn:n}=wr(),[r,i]=le.exports.useState(""),[a,l]=le.exports.useState(""),[h,_]=le.exports.useState(""),[g,k]=le.exports.useState(!1),C=async T=>{T.preventDefault(),_(""),k(!0);try{await n(r,a),swal("Bienvenido",`sesion iniciada como ${r}`,"success"),t("/Panel")}catch(L){_(L.message),console.log(L.message),swal("UPS!",`${L.message}`,"error"),k(!1)}};return g?I(as,{}):I(Kt,{children:I("div",{className:"caja__trasera",children:te("div",{className:"caja__trasera-login",children:[te("div",{className:"first-column",children:[te("div",{className:"tittleColumn",children:[te("p",{className:"login-logo",children:[I("img",{className:"cohete-navis",src:Lu,alt:"cohete.svg"}),I("i",{className:"fa-solid fa-user"})]}),I("p",{className:"login-tittle",children:"Login"})]}),te("p",{className:"subTittle",children:["\xBFTodavia no tenes una cuenta?"," ",I(Vr,{to:"/signUp",children:"Registrate."})]})]}),te("form",{className:"form__Register",onSubmit:C,children:[I("label",{htmlFor:"email",children:"Correo electr\xF3nico"}),I("input",{type:"email",id:"email",name:"email",value:r,onChange:T=>i(T.target.value)}),I("label",{htmlFor:"password",children:"Clave"}),I("input",{type:"password",id:"password",name:"password",value:a,onChange:T=>l(T.target.value)}),I("button",{className:"boton__login",type:"submit",id:"btn__iniciar-sesion",children:"Iniciar Sesi\xF3n"})]})]})})})};class ss extends Error{}class dF extends ss{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class hF extends ss{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class fF extends ss{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class Ho extends ss{}class Uk extends ss{constructor(e){super(`Invalid unit ${e}`)}}class hr extends ss{}class Ni extends ss{constructor(){super("Zone is an abstract class")}}const Te="numeric",Pr="short",tr="long",fp={year:Te,month:Te,day:Te},Vk={year:Te,month:Pr,day:Te},_F={year:Te,month:Pr,day:Te,weekday:Pr},Hk={year:Te,month:tr,day:Te},Bk={year:Te,month:tr,day:Te,weekday:tr},qk={hour:Te,minute:Te},Wk={hour:Te,minute:Te,second:Te},Gk={hour:Te,minute:Te,second:Te,timeZoneName:Pr},Kk={hour:Te,minute:Te,second:Te,timeZoneName:tr},Yk={hour:Te,minute:Te,hourCycle:"h23"},Jk={hour:Te,minute:Te,second:Te,hourCycle:"h23"},Qk={hour:Te,minute:Te,second:Te,hourCycle:"h23",timeZoneName:Pr},Xk={hour:Te,minute:Te,second:Te,hourCycle:"h23",timeZoneName:tr},Zk={year:Te,month:Te,day:Te,hour:Te,minute:Te},eS={year:Te,month:Te,day:Te,hour:Te,minute:Te,second:Te},tS={year:Te,month:Pr,day:Te,hour:Te,minute:Te},nS={year:Te,month:Pr,day:Te,hour:Te,minute:Te,second:Te},pF={year:Te,month:Pr,day:Te,weekday:Pr,hour:Te,minute:Te},rS={year:Te,month:tr,day:Te,hour:Te,minute:Te,timeZoneName:Pr},iS={year:Te,month:tr,day:Te,hour:Te,minute:Te,second:Te,timeZoneName:Pr},aS={year:Te,month:tr,day:Te,weekday:tr,hour:Te,minute:Te,timeZoneName:tr},sS={year:Te,month:tr,day:Te,weekday:tr,hour:Te,minute:Te,second:Te,timeZoneName:tr};function ot(t){return typeof t>"u"}function $a(t){return typeof t=="number"}function Ih(t){return typeof t=="number"&&t%1===0}function mF(t){return typeof t=="string"}function gF(t){return Object.prototype.toString.call(t)==="[object Date]"}function oS(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function vF(t){return Array.isArray(t)?t:[t]}function O0(t,e,n){if(t.length!==0)return t.reduce((r,i)=>{const a=[e(i),i];return r&&n(r[0],a[0])===r[0]?r:a},null)[1]}function yF(t,e){return e.reduce((n,r)=>(n[r]=t[r],n),{})}function Qs(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function si(t,e,n){return Ih(t)&&t>=e&&t<=n}function bF(t,e){return t-e*Math.floor(t/e)}function Rt(t,e=2){const n=t<0;let r;return n?r="-"+(""+-t).padStart(e,"0"):r=(""+t).padStart(e,"0"),r}function Ii(t){if(!(ot(t)||t===null||t===""))return parseInt(t,10)}function ga(t){if(!(ot(t)||t===null||t===""))return parseFloat(t)}function Lg(t){if(!(ot(t)||t===null||t==="")){const e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function Pg(t,e,n=!1){const r=10**e;return(n?Math.trunc:Math.round)(t*r)/r}function Dc(t){return t%4===0&&(t%100!==0||t%400===0)}function ll(t){return Dc(t)?366:365}function Id(t,e){const n=bF(e-1,12)+1,r=t+(e-n)/12;return n===2?Dc(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function $g(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(e.getUTCFullYear()-1900)),+e}function Md(t){const e=(t+Math.floor(t/4)-Math.floor(t/100)+Math.floor(t/400))%7,n=t-1,r=(n+Math.floor(n/4)-Math.floor(n/100)+Math.floor(n/400))%7;return e===4||r===3?53:52}function _p(t){return t>99?t:t>60?1900+t:2e3+t}function lS(t,e,n,r=null){const i=new Date(t),a={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(a.timeZone=r);const l={timeZoneName:e,...a},h=new Intl.DateTimeFormat(n,l).formatToParts(i).find(_=>_.type.toLowerCase()==="timezonename");return h?h.value:null}function Mh(t,e){let n=parseInt(t,10);Number.isNaN(n)&&(n=0);const r=parseInt(e,10)||0,i=n<0||Object.is(n,-0)?-r:r;return n*60+i}function cS(t){const e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new hr(`Invalid unit value ${t}`);return e}function Od(t,e){const n={};for(const r in t)if(Qs(t,r)){const i=t[r];if(i==null)continue;n[e(r)]=cS(i)}return n}function cl(t,e){const n=Math.trunc(Math.abs(t/60)),r=Math.trunc(Math.abs(t%60)),i=t>=0?"+":"-";switch(e){case"short":return`${i}${Rt(n,2)}:${Rt(r,2)}`;case"narrow":return`${i}${n}${r>0?`:${r}`:""}`;case"techie":return`${i}${Rt(n,2)}${Rt(r,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function Oh(t){return yF(t,["hour","minute","second","millisecond"])}const uS=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/,wF=["January","February","March","April","May","June","July","August","September","October","November","December"],dS=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],xF=["J","F","M","A","M","J","J","A","S","O","N","D"];function hS(t){switch(t){case"narrow":return[...xF];case"short":return[...dS];case"long":return[...wF];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const fS=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],_S=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],EF=["M","T","W","T","F","S","S"];function pS(t){switch(t){case"narrow":return[...EF];case"short":return[..._S];case"long":return[...fS];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const mS=["AM","PM"],kF=["Before Christ","Anno Domini"],SF=["BC","AD"],TF=["B","A"];function gS(t){switch(t){case"narrow":return[...TF];case"short":return[...SF];case"long":return[...kF];default:return null}}function CF(t){return mS[t.hour<12?0:1]}function NF(t,e){return pS(e)[t.weekday-1]}function DF(t,e){return hS(e)[t.month-1]}function AF(t,e){return gS(e)[t.year<0?0:1]}function IF(t,e,n="always",r=!1){const i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},a=["hours","minutes","seconds"].indexOf(t)===-1;if(n==="auto"&&a){const C=t==="days";switch(e){case 1:return C?"tomorrow":`next ${i[t][0]}`;case-1:return C?"yesterday":`last ${i[t][0]}`;case 0:return C?"today":`this ${i[t][0]}`}}const l=Object.is(e,-0)||e<0,h=Math.abs(e),_=h===1,g=i[t],k=r?_?g[1]:g[2]||g[1]:_?i[t][0]:t;return l?`${h} ${k} ago`:`in ${h} ${k}`}function L0(t,e){let n="";for(const r of t)r.literal?n+=r.val:n+=e(r.val);return n}const MF={D:fp,DD:Vk,DDD:Hk,DDDD:Bk,t:qk,tt:Wk,ttt:Gk,tttt:Kk,T:Yk,TT:Jk,TTT:Qk,TTTT:Xk,f:Zk,ff:tS,fff:rS,ffff:aS,F:eS,FF:nS,FFF:iS,FFFF:sS};class Mn{static create(e,n={}){return new Mn(e,n)}static parseFormat(e){let n=null,r="",i=!1;const a=[];for(let l=0;l<e.length;l++){const h=e.charAt(l);h==="'"?(r.length>0&&a.push({literal:i,val:r}),n=null,r="",i=!i):i||h===n?r+=h:(r.length>0&&a.push({literal:!1,val:r}),r=h,n=h)}return r.length>0&&a.push({literal:i,val:r}),a}static macroTokenToFormatOpts(e){return MF[e]}constructor(e,n){this.opts=n,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,n){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...n}).format()}formatDateTime(e,n={}){return this.loc.dtFormatter(e,{...this.opts,...n}).format()}formatDateTimeParts(e,n={}){return this.loc.dtFormatter(e,{...this.opts,...n}).formatToParts()}resolvedOptions(e,n={}){return this.loc.dtFormatter(e,{...this.opts,...n}).resolvedOptions()}num(e,n=0){if(this.opts.forceSimple)return Rt(e,n);const r={...this.opts};return n>0&&(r.padTo=n),this.loc.numberFormatter(r).format(e)}formatDateTimeFromString(e,n){const r=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",a=(L,F)=>this.loc.extract(e,L,F),l=L=>e.isOffsetFixed&&e.offset===0&&L.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,L.format):"",h=()=>r?CF(e):a({hour:"numeric",hourCycle:"h12"},"dayperiod"),_=(L,F)=>r?DF(e,L):a(F?{month:L}:{month:L,day:"numeric"},"month"),g=(L,F)=>r?NF(e,L):a(F?{weekday:L}:{weekday:L,month:"long",day:"numeric"},"weekday"),k=L=>{const F=Mn.macroTokenToFormatOpts(L);return F?this.formatWithSystemDefault(e,F):L},C=L=>r?AF(e,L):a({era:L},"era"),T=L=>{switch(L){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return l({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return l({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return l({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return h();case"d":return i?a({day:"numeric"},"day"):this.num(e.day);case"dd":return i?a({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return g("short",!0);case"cccc":return g("long",!0);case"ccccc":return g("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return g("short",!1);case"EEEE":return g("long",!1);case"EEEEE":return g("narrow",!1);case"L":return i?a({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return i?a({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return _("short",!0);case"LLLL":return _("long",!0);case"LLLLL":return _("narrow",!0);case"M":return i?a({month:"numeric"},"month"):this.num(e.month);case"MM":return i?a({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return _("short",!1);case"MMMM":return _("long",!1);case"MMMMM":return _("narrow",!1);case"y":return i?a({year:"numeric"},"year"):this.num(e.year);case"yy":return i?a({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return i?a({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return i?a({year:"numeric"},"year"):this.num(e.year,6);case"G":return C("short");case"GG":return C("long");case"GGGGG":return C("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return k(L)}};return L0(Mn.parseFormat(n),T)}formatDurationFromString(e,n){const r=_=>{switch(_[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},i=_=>g=>{const k=r(g);return k?this.num(_.get(k),g.length):g},a=Mn.parseFormat(n),l=a.reduce((_,{literal:g,val:k})=>g?_:_.concat(k),[]),h=e.shiftTo(...l.map(r).filter(_=>_));return L0(a,i(h))}}class Nr{constructor(e,n){this.reason=e,this.explanation=n}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}class Ac{get type(){throw new Ni}get name(){throw new Ni}get ianaName(){return this.name}get isUniversal(){throw new Ni}offsetName(e,n){throw new Ni}formatOffset(e,n){throw new Ni}offset(e){throw new Ni}equals(e){throw new Ni}get isValid(){throw new Ni}}let Lf=null;class Lh extends Ac{static get instance(){return Lf===null&&(Lf=new Lh),Lf}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:n,locale:r}){return lS(e,n,r)}formatOffset(e,n){return cl(this.offset(e),n)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}let Pu={};function OF(t){return Pu[t]||(Pu[t]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),Pu[t]}const LF={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function PF(t,e){const n=t.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(n),[,i,a,l,h,_,g,k]=r;return[l,i,a,h,_,g,k]}function $F(t,e){const n=t.formatToParts(e),r=[];for(let i=0;i<n.length;i++){const{type:a,value:l}=n[i],h=LF[a];a==="era"?r[h]=l:ot(h)||(r[h]=parseInt(l,10))}return r}let cu={};class bi extends Ac{static create(e){return cu[e]||(cu[e]=new bi(e)),cu[e]}static resetCache(){cu={},Pu={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=bi.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:n,locale:r}){return lS(e,n,r,this.name)}formatOffset(e,n){return cl(this.offset(e),n)}offset(e){const n=new Date(e);if(isNaN(n))return NaN;const r=OF(this.name);let[i,a,l,h,_,g,k]=r.formatToParts?$F(r,n):PF(r,n);h==="BC"&&(i=-Math.abs(i)+1);const T=$g({year:i,month:a,day:l,hour:_===24?0:_,minute:g,second:k,millisecond:0});let L=+n;const F=L%1e3;return L-=F>=0?F:1e3+F,(T-L)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let Pf=null;class Pn extends Ac{static get utcInstance(){return Pf===null&&(Pf=new Pn(0)),Pf}static instance(e){return e===0?Pn.utcInstance:new Pn(e)}static parseSpecifier(e){if(e){const n=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(n)return new Pn(Mh(n[1],n[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${cl(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${cl(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,n){return cl(this.fixed,n)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class RF extends Ac{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Fi(t,e){if(ot(t)||t===null)return e;if(t instanceof Ac)return t;if(mF(t)){const n=t.toLowerCase();return n==="default"?e:n==="local"||n==="system"?Lh.instance:n==="utc"||n==="gmt"?Pn.utcInstance:Pn.parseSpecifier(n)||bi.create(t)}else return $a(t)?Pn.instance(t):typeof t=="object"&&t.offset&&typeof t.offset=="number"?t:new RF(t)}let P0=()=>Date.now(),$0="system",R0=null,F0=null,j0=null,z0;class Vt{static get now(){return P0}static set now(e){P0=e}static set defaultZone(e){$0=e}static get defaultZone(){return Fi($0,Lh.instance)}static get defaultLocale(){return R0}static set defaultLocale(e){R0=e}static get defaultNumberingSystem(){return F0}static set defaultNumberingSystem(e){F0=e}static get defaultOutputCalendar(){return j0}static set defaultOutputCalendar(e){j0=e}static get throwOnInvalid(){return z0}static set throwOnInvalid(e){z0=e}static resetCaches(){xt.resetCache(),bi.resetCache()}}let U0={};function FF(t,e={}){const n=JSON.stringify([t,e]);let r=U0[n];return r||(r=new Intl.ListFormat(t,e),U0[n]=r),r}let pp={};function mp(t,e={}){const n=JSON.stringify([t,e]);let r=pp[n];return r||(r=new Intl.DateTimeFormat(t,e),pp[n]=r),r}let gp={};function jF(t,e={}){const n=JSON.stringify([t,e]);let r=gp[n];return r||(r=new Intl.NumberFormat(t,e),gp[n]=r),r}let vp={};function zF(t,e={}){const{base:n,...r}=e,i=JSON.stringify([t,r]);let a=vp[i];return a||(a=new Intl.RelativeTimeFormat(t,e),vp[i]=a),a}let Bo=null;function UF(){return Bo||(Bo=new Intl.DateTimeFormat().resolvedOptions().locale,Bo)}function VF(t){const e=t.indexOf("-u-");if(e===-1)return[t];{let n;const r=t.substring(0,e);try{n=mp(t).resolvedOptions()}catch{n=mp(r).resolvedOptions()}const{numberingSystem:i,calendar:a}=n;return[r,i,a]}}function HF(t,e,n){return(n||e)&&(t+="-u",n&&(t+=`-ca-${n}`),e&&(t+=`-nu-${e}`)),t}function BF(t){const e=[];for(let n=1;n<=12;n++){const r=Je.utc(2016,n,1);e.push(t(r))}return e}function qF(t){const e=[];for(let n=1;n<=7;n++){const r=Je.utc(2016,11,13+n);e.push(t(r))}return e}function uu(t,e,n,r,i){const a=t.listingMode(n);return a==="error"?null:a==="en"?r(e):i(e)}function WF(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem==="latn"}class GF{constructor(e,n,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;const{padTo:i,floor:a,...l}=r;if(!n||Object.keys(l).length>0){const h={useGrouping:!1,...r};r.padTo>0&&(h.minimumIntegerDigits=r.padTo),this.inf=jF(e,h)}}format(e){if(this.inf){const n=this.floor?Math.floor(e):e;return this.inf.format(n)}else{const n=this.floor?Math.floor(e):Pg(e,3);return Rt(n,this.padTo)}}}class KF{constructor(e,n,r){this.opts=r;let i;if(e.zone.isUniversal){const l=-1*(e.offset/60),h=l>=0?`Etc/GMT+${l}`:`Etc/GMT${l}`;e.offset!==0&&bi.create(h).valid?(i=h,this.dt=e):(i="UTC",r.timeZoneName?this.dt=e:this.dt=e.offset===0?e:Je.fromMillis(e.ts+e.offset*60*1e3))}else e.zone.type==="system"?this.dt=e:(this.dt=e,i=e.zone.name);const a={...this.opts};i&&(a.timeZone=i),this.dtf=mp(n,a)}format(){return this.dtf.format(this.dt.toJSDate())}formatToParts(){return this.dtf.formatToParts(this.dt.toJSDate())}resolvedOptions(){return this.dtf.resolvedOptions()}}class YF{constructor(e,n,r){this.opts={style:"long",...r},!n&&oS()&&(this.rtf=zF(e,r))}format(e,n){return this.rtf?this.rtf.format(e,n):IF(n,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,n){return this.rtf?this.rtf.formatToParts(e,n):[]}}class xt{static fromOpts(e){return xt.create(e.locale,e.numberingSystem,e.outputCalendar,e.defaultToEN)}static create(e,n,r,i=!1){const a=e||Vt.defaultLocale,l=a||(i?"en-US":UF()),h=n||Vt.defaultNumberingSystem,_=r||Vt.defaultOutputCalendar;return new xt(l,h,_,a)}static resetCache(){Bo=null,pp={},gp={},vp={}}static fromObject({locale:e,numberingSystem:n,outputCalendar:r}={}){return xt.create(e,n,r)}constructor(e,n,r,i){const[a,l,h]=VF(e);this.locale=a,this.numberingSystem=n||l||null,this.outputCalendar=r||h||null,this.intl=HF(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=i,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=WF(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),n=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&n?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:xt.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,n=!1,r=!0){return uu(this,e,r,hS,()=>{const i=n?{month:e,day:"numeric"}:{month:e},a=n?"format":"standalone";return this.monthsCache[a][e]||(this.monthsCache[a][e]=BF(l=>this.extract(l,i,"month"))),this.monthsCache[a][e]})}weekdays(e,n=!1,r=!0){return uu(this,e,r,pS,()=>{const i=n?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},a=n?"format":"standalone";return this.weekdaysCache[a][e]||(this.weekdaysCache[a][e]=qF(l=>this.extract(l,i,"weekday"))),this.weekdaysCache[a][e]})}meridiems(e=!0){return uu(this,void 0,e,()=>mS,()=>{if(!this.meridiemCache){const n={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Je.utc(2016,11,13,9),Je.utc(2016,11,13,19)].map(r=>this.extract(r,n,"dayperiod"))}return this.meridiemCache})}eras(e,n=!0){return uu(this,e,n,gS,()=>{const r={era:e};return this.eraCache[e]||(this.eraCache[e]=[Je.utc(-40,1,1),Je.utc(2017,1,1)].map(i=>this.extract(i,r,"era"))),this.eraCache[e]})}extract(e,n,r){const i=this.dtFormatter(e,n),a=i.formatToParts(),l=a.find(h=>h.type.toLowerCase()===r);return l?l.value:null}numberFormatter(e={}){return new GF(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,n={}){return new KF(e,this.intl,n)}relFormatter(e={}){return new YF(this.intl,this.isEnglish(),e)}listFormatter(e={}){return FF(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}}function ho(...t){const e=t.reduce((n,r)=>n+r.source,"");return RegExp(`^${e}$`)}function fo(...t){return e=>t.reduce(([n,r,i],a)=>{const[l,h,_]=a(e,i);return[{...n,...l},h||r,_]},[{},null,1]).slice(0,2)}function _o(t,...e){if(t==null)return[null,null];for(const[n,r]of e){const i=n.exec(t);if(i)return r(i)}return[null,null]}function vS(...t){return(e,n)=>{const r={};let i;for(i=0;i<t.length;i++)r[t[i]]=Ii(e[n+i]);return[r,null,n+i]}}const yS=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,JF=`(?:${yS.source}?(?:\\[(${uS.source})\\])?)?`,Rg=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,bS=RegExp(`${Rg.source}${JF}`),Fg=RegExp(`(?:T${bS.source})?`),QF=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,XF=/(\d{4})-?W(\d\d)(?:-?(\d))?/,ZF=/(\d{4})-?(\d{3})/,ej=vS("weekYear","weekNumber","weekDay"),tj=vS("year","ordinal"),nj=/(\d{4})-(\d\d)-(\d\d)/,wS=RegExp(`${Rg.source} ?(?:${yS.source}|(${uS.source}))?`),rj=RegExp(`(?: ${wS.source})?`);function Ps(t,e,n){const r=t[e];return ot(r)?n:Ii(r)}function ij(t,e){return[{year:Ps(t,e),month:Ps(t,e+1,1),day:Ps(t,e+2,1)},null,e+3]}function po(t,e){return[{hours:Ps(t,e,0),minutes:Ps(t,e+1,0),seconds:Ps(t,e+2,0),milliseconds:Lg(t[e+3])},null,e+4]}function Ic(t,e){const n=!t[e]&&!t[e+1],r=Mh(t[e+1],t[e+2]),i=n?null:Pn.instance(r);return[{},i,e+3]}function Mc(t,e){const n=t[e]?bi.create(t[e]):null;return[{},n,e+1]}const aj=RegExp(`^T?${Rg.source}$`),sj=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function oj(t){const[e,n,r,i,a,l,h,_,g]=t,k=e[0]==="-",C=_&&_[0]==="-",T=(L,F=!1)=>L!==void 0&&(F||L&&k)?-L:L;return[{years:T(ga(n)),months:T(ga(r)),weeks:T(ga(i)),days:T(ga(a)),hours:T(ga(l)),minutes:T(ga(h)),seconds:T(ga(_),_==="-0"),milliseconds:T(Lg(g),C)}]}const lj={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function jg(t,e,n,r,i,a,l){const h={year:e.length===2?_p(Ii(e)):Ii(e),month:dS.indexOf(n)+1,day:Ii(r),hour:Ii(i),minute:Ii(a)};return l&&(h.second=Ii(l)),t&&(h.weekday=t.length>3?fS.indexOf(t)+1:_S.indexOf(t)+1),h}const cj=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function uj(t){const[,e,n,r,i,a,l,h,_,g,k,C]=t,T=jg(e,i,r,n,a,l,h);let L;return _?L=lj[_]:g?L=0:L=Mh(k,C),[T,new Pn(L)]}function dj(t){return t.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const hj=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,fj=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,_j=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function V0(t){const[,e,n,r,i,a,l,h]=t;return[jg(e,i,r,n,a,l,h),Pn.utcInstance]}function pj(t){const[,e,n,r,i,a,l,h]=t;return[jg(e,h,n,r,i,a,l),Pn.utcInstance]}const mj=ho(QF,Fg),gj=ho(XF,Fg),vj=ho(ZF,Fg),yj=ho(bS),xS=fo(ij,po,Ic,Mc),bj=fo(ej,po,Ic,Mc),wj=fo(tj,po,Ic,Mc),xj=fo(po,Ic,Mc);function Ej(t){return _o(t,[mj,xS],[gj,bj],[vj,wj],[yj,xj])}function kj(t){return _o(dj(t),[cj,uj])}function Sj(t){return _o(t,[hj,V0],[fj,V0],[_j,pj])}function Tj(t){return _o(t,[sj,oj])}const Cj=fo(po);function Nj(t){return _o(t,[aj,Cj])}const Dj=ho(nj,rj),Aj=ho(wS),Ij=fo(po,Ic,Mc);function Mj(t){return _o(t,[Dj,xS],[Aj,Ij])}const Oj="Invalid Duration",ES={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},Lj={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...ES},cr=146097/400,cs=146097/4800,Pj={years:{quarters:4,months:12,weeks:cr/7,days:cr,hours:cr*24,minutes:cr*24*60,seconds:cr*24*60*60,milliseconds:cr*24*60*60*1e3},quarters:{months:3,weeks:cr/28,days:cr/4,hours:cr*24/4,minutes:cr*24*60/4,seconds:cr*24*60*60/4,milliseconds:cr*24*60*60*1e3/4},months:{weeks:cs/7,days:cs,hours:cs*24,minutes:cs*24*60,seconds:cs*24*60*60,milliseconds:cs*24*60*60*1e3},...ES},Ea=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],$j=Ea.slice(0).reverse();function va(t,e,n=!1){const r={values:n?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new lt(r)}function Rj(t){return t<0?Math.floor(t):Math.ceil(t)}function kS(t,e,n,r,i){const a=t[i][n],l=e[n]/a,h=Math.sign(l)===Math.sign(r[i]),_=!h&&r[i]!==0&&Math.abs(l)<=1?Rj(l):Math.trunc(l);r[i]+=_,e[n]-=_*a}function Fj(t,e){$j.reduce((n,r)=>ot(e[r])?n:(n&&kS(t,e,n,e,r),r),null)}class lt{constructor(e){const n=e.conversionAccuracy==="longterm"||!1;let r=n?Pj:Lj;e.matrix&&(r=e.matrix),this.values=e.values,this.loc=e.loc||xt.create(),this.conversionAccuracy=n?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(e,n){return lt.fromObject({milliseconds:e},n)}static fromObject(e,n={}){if(e==null||typeof e!="object")throw new hr(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new lt({values:Od(e,lt.normalizeUnit),loc:xt.fromObject(n),conversionAccuracy:n.conversionAccuracy,matrix:n.matrix})}static fromDurationLike(e){if($a(e))return lt.fromMillis(e);if(lt.isDuration(e))return e;if(typeof e=="object")return lt.fromObject(e);throw new hr(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,n){const[r]=Tj(e);return r?lt.fromObject(r,n):lt.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,n){const[r]=Nj(e);return r?lt.fromObject(r,n):lt.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,n=null){if(!e)throw new hr("need to specify a reason the Duration is invalid");const r=e instanceof Nr?e:new Nr(e,n);if(Vt.throwOnInvalid)throw new fF(r);return new lt({invalid:r})}static normalizeUnit(e){const n={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!n)throw new Uk(e);return n}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,n={}){const r={...n,floor:n.round!==!1&&n.floor!==!1};return this.isValid?Mn.create(this.loc,r).formatDurationFromString(this,e):Oj}toHuman(e={}){const n=Ea.map(r=>{const i=this.values[r];return ot(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:r.slice(0,-1)}).format(i)}).filter(r=>r);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(n)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=Pg(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const n=this.toMillis();if(n<0||n>=864e5)return null;e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e};const r=this.shiftTo("hours","minutes","seconds","milliseconds");let i=e.format==="basic"?"hhmm":"hh:mm";(!e.suppressSeconds||r.seconds!==0||r.milliseconds!==0)&&(i+=e.format==="basic"?"ss":":ss",(!e.suppressMilliseconds||r.milliseconds!==0)&&(i+=".SSS"));let a=r.toFormat(i);return e.includePrefix&&(a="T"+a),a}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const n=lt.fromDurationLike(e),r={};for(const i of Ea)(Qs(n.values,i)||Qs(this.values,i))&&(r[i]=n.get(i)+this.get(i));return va(this,{values:r},!0)}minus(e){if(!this.isValid)return this;const n=lt.fromDurationLike(e);return this.plus(n.negate())}mapUnits(e){if(!this.isValid)return this;const n={};for(const r of Object.keys(this.values))n[r]=cS(e(this.values[r],r));return va(this,{values:n},!0)}get(e){return this[lt.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const n={...this.values,...Od(e,lt.normalizeUnit)};return va(this,{values:n})}reconfigure({locale:e,numberingSystem:n,conversionAccuracy:r,matrix:i}={}){const l={loc:this.loc.clone({locale:e,numberingSystem:n}),matrix:i,conversionAccuracy:r};return va(this,l)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return Fj(this.matrix,e),va(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(l=>lt.normalizeUnit(l));const n={},r={},i=this.toObject();let a;for(const l of Ea)if(e.indexOf(l)>=0){a=l;let h=0;for(const g in r)h+=this.matrix[g][l]*r[g],r[g]=0;$a(i[l])&&(h+=i[l]);const _=Math.trunc(h);n[l]=_,r[l]=(h*1e3-_*1e3)/1e3;for(const g in i)Ea.indexOf(g)>Ea.indexOf(l)&&kS(this.matrix,i,g,n,l)}else $a(i[l])&&(r[l]=i[l]);for(const l in r)r[l]!==0&&(n[a]+=l===a?r[l]:r[l]/this.matrix[a][l]);return va(this,{values:n},!0).normalize()}negate(){if(!this.isValid)return this;const e={};for(const n of Object.keys(this.values))e[n]=this.values[n]===0?0:-this.values[n];return va(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function n(r,i){return r===void 0||r===0?i===void 0||i===0:r===i}for(const r of Ea)if(!n(this.values[r],e.values[r]))return!1;return!0}}const Do="Invalid Interval";function jj(t,e){return!t||!t.isValid?Ot.invalid("missing or invalid start"):!e||!e.isValid?Ot.invalid("missing or invalid end"):e<t?Ot.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}class Ot{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,n=null){if(!e)throw new hr("need to specify a reason the Interval is invalid");const r=e instanceof Nr?e:new Nr(e,n);if(Vt.throwOnInvalid)throw new hF(r);return new Ot({invalid:r})}static fromDateTimes(e,n){const r=Mo(e),i=Mo(n),a=jj(r,i);return a==null?new Ot({start:r,end:i}):a}static after(e,n){const r=lt.fromDurationLike(n),i=Mo(e);return Ot.fromDateTimes(i,i.plus(r))}static before(e,n){const r=lt.fromDurationLike(n),i=Mo(e);return Ot.fromDateTimes(i.minus(r),i)}static fromISO(e,n){const[r,i]=(e||"").split("/",2);if(r&&i){let a,l;try{a=Je.fromISO(r,n),l=a.isValid}catch{l=!1}let h,_;try{h=Je.fromISO(i,n),_=h.isValid}catch{_=!1}if(l&&_)return Ot.fromDateTimes(a,h);if(l){const g=lt.fromISO(i,n);if(g.isValid)return Ot.after(a,g)}else if(_){const g=lt.fromISO(r,n);if(g.isValid)return Ot.before(h,g)}}return Ot.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds"){if(!this.isValid)return NaN;const n=this.start.startOf(e),r=this.end.startOf(e);return Math.floor(r.diff(n,e).get(e))+1}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:n}={}){return this.isValid?Ot.fromDateTimes(e||this.s,n||this.e):this}splitAt(...e){if(!this.isValid)return[];const n=e.map(Mo).filter(l=>this.contains(l)).sort(),r=[];let{s:i}=this,a=0;for(;i<this.e;){const l=n[a]||this.e,h=+l>+this.e?this.e:l;r.push(Ot.fromDateTimes(i,h)),i=h,a+=1}return r}splitBy(e){const n=lt.fromDurationLike(e);if(!this.isValid||!n.isValid||n.as("milliseconds")===0)return[];let{s:r}=this,i=1,a;const l=[];for(;r<this.e;){const h=this.start.plus(n.mapUnits(_=>_*i));a=+h>+this.e?this.e:h,l.push(Ot.fromDateTimes(r,a)),r=a,i+=1}return l}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const n=this.s>e.s?this.s:e.s,r=this.e<e.e?this.e:e.e;return n>=r?null:Ot.fromDateTimes(n,r)}union(e){if(!this.isValid)return this;const n=this.s<e.s?this.s:e.s,r=this.e>e.e?this.e:e.e;return Ot.fromDateTimes(n,r)}static merge(e){const[n,r]=e.sort((i,a)=>i.s-a.s).reduce(([i,a],l)=>a?a.overlaps(l)||a.abutsStart(l)?[i,a.union(l)]:[i.concat([a]),l]:[i,l],[[],null]);return r&&n.push(r),n}static xor(e){let n=null,r=0;const i=[],a=e.map(_=>[{time:_.s,type:"s"},{time:_.e,type:"e"}]),l=Array.prototype.concat(...a),h=l.sort((_,g)=>_.time-g.time);for(const _ of h)r+=_.type==="s"?1:-1,r===1?n=_.time:(n&&+n!=+_.time&&i.push(Ot.fromDateTimes(n,_.time)),n=null);return Ot.merge(i)}difference(...e){return Ot.xor([this].concat(e)).map(n=>this.intersection(n)).filter(n=>n&&!n.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:Do}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:Do}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Do}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:Do}toFormat(e,{separator:n=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(e)}${n}${this.e.toFormat(e)}`:Do}toDuration(e,n){return this.isValid?this.e.diff(this.s,e,n):lt.invalid(this.invalidReason)}mapEndpoints(e){return Ot.fromDateTimes(e(this.s),e(this.e))}}class du{static hasDST(e=Vt.defaultZone){const n=Je.now().setZone(e).set({month:12});return!e.isUniversal&&n.offset!==n.set({month:6}).offset}static isValidIANAZone(e){return bi.isValidZone(e)}static normalizeZone(e){return Fi(e,Vt.defaultZone)}static months(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null,outputCalendar:a="gregory"}={}){return(i||xt.create(n,r,a)).months(e)}static monthsFormat(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null,outputCalendar:a="gregory"}={}){return(i||xt.create(n,r,a)).months(e,!0)}static weekdays(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null}={}){return(i||xt.create(n,r,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null}={}){return(i||xt.create(n,r,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return xt.create(e).meridiems()}static eras(e="short",{locale:n=null}={}){return xt.create(n,null,"gregory").eras(e)}static features(){return{relative:oS()}}}function H0(t,e){const n=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=n(e)-n(t);return Math.floor(lt.fromMillis(r).as("days"))}function zj(t,e,n){const r=[["years",(h,_)=>_.year-h.year],["quarters",(h,_)=>_.quarter-h.quarter+(_.year-h.year)*4],["months",(h,_)=>_.month-h.month+(_.year-h.year)*12],["weeks",(h,_)=>{const g=H0(h,_);return(g-g%7)/7}],["days",H0]],i={};let a,l;for(const[h,_]of r)if(n.indexOf(h)>=0){a=h;let g=_(t,e);l=t.plus({[h]:g}),l>e?(t=t.plus({[h]:g-1}),g-=1):t=l,i[h]=g}return[t,i,l,a]}function Uj(t,e,n,r){let[i,a,l,h]=zj(t,e,n);const _=e-i,g=n.filter(C=>["hours","minutes","seconds","milliseconds"].indexOf(C)>=0);g.length===0&&(l<e&&(l=i.plus({[h]:1})),l!==i&&(a[h]=(a[h]||0)+_/(l-i)));const k=lt.fromObject(a,r);return g.length>0?lt.fromMillis(_,r).shiftTo(...g).plus(k):k}const zg={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},B0={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},Vj=zg.hanidec.replace(/[\[|\]]/g,"").split("");function Hj(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);if(t[n].search(zg.hanidec)!==-1)e+=Vj.indexOf(t[n]);else for(const i in B0){const[a,l]=B0[i];r>=a&&r<=l&&(e+=r-a)}}return parseInt(e,10)}else return e}function Er({numberingSystem:t},e=""){return new RegExp(`${zg[t||"latn"]}${e}`)}const Bj="missing Intl.DateTimeFormat.formatToParts support";function dt(t,e=n=>n){return{regex:t,deser:([n])=>e(Hj(n))}}const qj=String.fromCharCode(160),SS=`[ ${qj}]`,TS=new RegExp(SS,"g");function Wj(t){return t.replace(/\./g,"\\.?").replace(TS,SS)}function q0(t){return t.replace(/\./g,"").replace(TS," ").toLowerCase()}function kr(t,e){return t===null?null:{regex:RegExp(t.map(Wj).join("|")),deser:([n])=>t.findIndex(r=>q0(n)===q0(r))+e}}function W0(t,e){return{regex:t,deser:([,n,r])=>Mh(n,r),groups:e}}function $f(t){return{regex:t,deser:([e])=>e}}function Gj(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function Kj(t,e){const n=Er(e),r=Er(e,"{2}"),i=Er(e,"{3}"),a=Er(e,"{4}"),l=Er(e,"{6}"),h=Er(e,"{1,2}"),_=Er(e,"{1,3}"),g=Er(e,"{1,6}"),k=Er(e,"{1,9}"),C=Er(e,"{2,4}"),T=Er(e,"{4,6}"),L=P=>({regex:RegExp(Gj(P.val)),deser:([A])=>A,literal:!0}),D=(P=>{if(t.literal)return L(P);switch(P.val){case"G":return kr(e.eras("short",!1),0);case"GG":return kr(e.eras("long",!1),0);case"y":return dt(g);case"yy":return dt(C,_p);case"yyyy":return dt(a);case"yyyyy":return dt(T);case"yyyyyy":return dt(l);case"M":return dt(h);case"MM":return dt(r);case"MMM":return kr(e.months("short",!0,!1),1);case"MMMM":return kr(e.months("long",!0,!1),1);case"L":return dt(h);case"LL":return dt(r);case"LLL":return kr(e.months("short",!1,!1),1);case"LLLL":return kr(e.months("long",!1,!1),1);case"d":return dt(h);case"dd":return dt(r);case"o":return dt(_);case"ooo":return dt(i);case"HH":return dt(r);case"H":return dt(h);case"hh":return dt(r);case"h":return dt(h);case"mm":return dt(r);case"m":return dt(h);case"q":return dt(h);case"qq":return dt(r);case"s":return dt(h);case"ss":return dt(r);case"S":return dt(_);case"SSS":return dt(i);case"u":return $f(k);case"uu":return $f(h);case"uuu":return dt(n);case"a":return kr(e.meridiems(),0);case"kkkk":return dt(a);case"kk":return dt(C,_p);case"W":return dt(h);case"WW":return dt(r);case"E":case"c":return dt(n);case"EEE":return kr(e.weekdays("short",!1,!1),1);case"EEEE":return kr(e.weekdays("long",!1,!1),1);case"ccc":return kr(e.weekdays("short",!0,!1),1);case"cccc":return kr(e.weekdays("long",!0,!1),1);case"Z":case"ZZ":return W0(new RegExp(`([+-]${h.source})(?::(${r.source}))?`),2);case"ZZZ":return W0(new RegExp(`([+-]${h.source})(${r.source})?`),2);case"z":return $f(/[a-z_+-/]{1,256}?/i);default:return L(P)}})(t)||{invalidReason:Bj};return D.token=t,D}const Yj={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function Jj(t,e,n){const{type:r,value:i}=t;if(r==="literal")return{literal:!0,val:i};const a=n[r];let l=Yj[r];if(typeof l=="object"&&(l=l[a]),l)return{literal:!1,val:l}}function Qj(t){return[`^${t.map(n=>n.regex).reduce((n,r)=>`${n}(${r.source})`,"")}$`,t]}function Xj(t,e,n){const r=t.match(e);if(r){const i={};let a=1;for(const l in n)if(Qs(n,l)){const h=n[l],_=h.groups?h.groups+1:1;!h.literal&&h.token&&(i[h.token.val[0]]=h.deser(r.slice(a,a+_))),a+=_}return[r,i]}else return[r,{}]}function Zj(t){const e=a=>{switch(a){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let n=null,r;return ot(t.z)||(n=bi.create(t.z)),ot(t.Z)||(n||(n=new Pn(t.Z)),r=t.Z),ot(t.q)||(t.M=(t.q-1)*3+1),ot(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),ot(t.u)||(t.S=Lg(t.u)),[Object.keys(t).reduce((a,l)=>{const h=e(l);return h&&(a[h]=t[l]),a},{}),n,r]}let Rf=null;function ez(){return Rf||(Rf=Je.fromMillis(1555555555555)),Rf}function tz(t,e){if(t.literal)return t;const n=Mn.macroTokenToFormatOpts(t.val),r=DS(n,e);return r==null||r.includes(void 0)?t:r}function CS(t,e){return Array.prototype.concat(...t.map(n=>tz(n,e)))}function NS(t,e,n){const r=CS(Mn.parseFormat(n),t),i=r.map(l=>Kj(l,t)),a=i.find(l=>l.invalidReason);if(a)return{input:e,tokens:r,invalidReason:a.invalidReason};{const[l,h]=Qj(i),_=RegExp(l,"i"),[g,k]=Xj(e,_,h),[C,T,L]=k?Zj(k):[null,null,void 0];if(Qs(k,"a")&&Qs(k,"H"))throw new Ho("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:r,regex:_,rawMatches:g,matches:k,result:C,zone:T,specificOffset:L}}}function nz(t,e,n){const{result:r,zone:i,specificOffset:a,invalidReason:l}=NS(t,e,n);return[r,i,a,l]}function DS(t,e){return t?Mn.create(e,t).formatDateTimeParts(ez()).map(i=>Jj(i,e,t)):null}const AS=[0,31,59,90,120,151,181,212,243,273,304,334],IS=[0,31,60,91,121,152,182,213,244,274,305,335];function _r(t,e){return new Nr("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function MS(t,e,n){const r=new Date(Date.UTC(t,e-1,n));t<100&&t>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const i=r.getUTCDay();return i===0?7:i}function OS(t,e,n){return n+(Dc(t)?IS:AS)[e-1]}function LS(t,e){const n=Dc(t)?IS:AS,r=n.findIndex(a=>a<e),i=e-n[r];return{month:r+1,day:i}}function yp(t){const{year:e,month:n,day:r}=t,i=OS(e,n,r),a=MS(e,n,r);let l=Math.floor((i-a+10)/7),h;return l<1?(h=e-1,l=Md(h)):l>Md(e)?(h=e+1,l=1):h=e,{weekYear:h,weekNumber:l,weekday:a,...Oh(t)}}function G0(t){const{weekYear:e,weekNumber:n,weekday:r}=t,i=MS(e,1,4),a=ll(e);let l=n*7+r-i-3,h;l<1?(h=e-1,l+=ll(h)):l>a?(h=e+1,l-=ll(e)):h=e;const{month:_,day:g}=LS(h,l);return{year:h,month:_,day:g,...Oh(t)}}function Ff(t){const{year:e,month:n,day:r}=t,i=OS(e,n,r);return{year:e,ordinal:i,...Oh(t)}}function K0(t){const{year:e,ordinal:n}=t,{month:r,day:i}=LS(e,n);return{year:e,month:r,day:i,...Oh(t)}}function rz(t){const e=Ih(t.weekYear),n=si(t.weekNumber,1,Md(t.weekYear)),r=si(t.weekday,1,7);return e?n?r?!1:_r("weekday",t.weekday):_r("week",t.week):_r("weekYear",t.weekYear)}function iz(t){const e=Ih(t.year),n=si(t.ordinal,1,ll(t.year));return e?n?!1:_r("ordinal",t.ordinal):_r("year",t.year)}function PS(t){const e=Ih(t.year),n=si(t.month,1,12),r=si(t.day,1,Id(t.year,t.month));return e?n?r?!1:_r("day",t.day):_r("month",t.month):_r("year",t.year)}function $S(t){const{hour:e,minute:n,second:r,millisecond:i}=t,a=si(e,0,23)||e===24&&n===0&&r===0&&i===0,l=si(n,0,59),h=si(r,0,59),_=si(i,0,999);return a?l?h?_?!1:_r("millisecond",i):_r("second",r):_r("minute",n):_r("hour",e)}const jf="Invalid DateTime",Y0=864e13;function hu(t){return new Nr("unsupported zone",`the zone "${t.name}" is not supported`)}function zf(t){return t.weekData===null&&(t.weekData=yp(t.c)),t.weekData}function Ao(t,e){const n={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new Je({...n,...e,old:n})}function RS(t,e,n){let r=t-e*60*1e3;const i=n.offset(r);if(e===i)return[r,e];r-=(i-e)*60*1e3;const a=n.offset(r);return i===a?[r,i]:[t-Math.min(i,a)*60*1e3,Math.max(i,a)]}function J0(t,e){t+=e*60*1e3;const n=new Date(t);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function $u(t,e,n){return RS($g(t),e,n)}function Q0(t,e){const n=t.o,r=t.c.year+Math.trunc(e.years),i=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,a={...t.c,year:r,month:i,day:Math.min(t.c.day,Id(r,i))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},l=lt.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),h=$g(a);let[_,g]=RS(h,n,t.zone);return l!==0&&(_+=l,g=t.zone.offset(_)),{ts:_,o:g}}function Io(t,e,n,r,i,a){const{setZone:l,zone:h}=n;if(t&&Object.keys(t).length!==0){const _=e||h,g=Je.fromObject(t,{...n,zone:_,specificOffset:a});return l?g:g.setZone(h)}else return Je.invalid(new Nr("unparsable",`the input "${i}" can't be parsed as ${r}`))}function fu(t,e,n=!0){return t.isValid?Mn.create(xt.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(t,e):null}function Uf(t,e){const n=t.c.year>9999||t.c.year<0;let r="";return n&&t.c.year>=0&&(r+="+"),r+=Rt(t.c.year,n?6:4),e?(r+="-",r+=Rt(t.c.month),r+="-",r+=Rt(t.c.day)):(r+=Rt(t.c.month),r+=Rt(t.c.day)),r}function X0(t,e,n,r,i,a){let l=Rt(t.c.hour);return e?(l+=":",l+=Rt(t.c.minute),(t.c.second!==0||!n)&&(l+=":")):l+=Rt(t.c.minute),(t.c.second!==0||!n)&&(l+=Rt(t.c.second),(t.c.millisecond!==0||!r)&&(l+=".",l+=Rt(t.c.millisecond,3))),i&&(t.isOffsetFixed&&t.offset===0&&!a?l+="Z":t.o<0?(l+="-",l+=Rt(Math.trunc(-t.o/60)),l+=":",l+=Rt(Math.trunc(-t.o%60))):(l+="+",l+=Rt(Math.trunc(t.o/60)),l+=":",l+=Rt(Math.trunc(t.o%60)))),a&&(l+="["+t.zone.ianaName+"]"),l}const FS={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},az={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},sz={ordinal:1,hour:0,minute:0,second:0,millisecond:0},jS=["year","month","day","hour","minute","second","millisecond"],oz=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],lz=["year","ordinal","hour","minute","second","millisecond"];function Z0(t){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new Uk(t);return e}function eb(t,e){const n=Fi(e.zone,Vt.defaultZone),r=xt.fromObject(e),i=Vt.now();let a,l;if(ot(t.year))a=i;else{for(const g of jS)ot(t[g])&&(t[g]=FS[g]);const h=PS(t)||$S(t);if(h)return Je.invalid(h);const _=n.offset(i);[a,l]=$u(t,_,n)}return new Je({ts:a,zone:n,loc:r,o:l})}function tb(t,e,n){const r=ot(n.round)?!0:n.round,i=(l,h)=>(l=Pg(l,r||n.calendary?0:2,!0),e.loc.clone(n).relFormatter(n).format(l,h)),a=l=>n.calendary?e.hasSame(t,l)?0:e.startOf(l).diff(t.startOf(l),l).get(l):e.diff(t,l).get(l);if(n.unit)return i(a(n.unit),n.unit);for(const l of n.units){const h=a(l);if(Math.abs(h)>=1)return i(h,l)}return i(t>e?-0:0,n.units[n.units.length-1])}function nb(t){let e={},n;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],n=Array.from(t).slice(0,t.length-1)):n=Array.from(t),[e,n]}class Je{constructor(e){const n=e.zone||Vt.defaultZone;let r=e.invalid||(Number.isNaN(e.ts)?new Nr("invalid input"):null)||(n.isValid?null:hu(n));this.ts=ot(e.ts)?Vt.now():e.ts;let i=null,a=null;if(!r)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(n))[i,a]=[e.old.c,e.old.o];else{const h=n.offset(this.ts);i=J0(this.ts,h),r=Number.isNaN(i.year)?new Nr("invalid input"):null,i=r?null:i,a=r?null:h}this._zone=n,this.loc=e.loc||xt.create(),this.invalid=r,this.weekData=null,this.c=i,this.o=a,this.isLuxonDateTime=!0}static now(){return new Je({})}static local(){const[e,n]=nb(arguments),[r,i,a,l,h,_,g]=n;return eb({year:r,month:i,day:a,hour:l,minute:h,second:_,millisecond:g},e)}static utc(){const[e,n]=nb(arguments),[r,i,a,l,h,_,g]=n;return e.zone=Pn.utcInstance,eb({year:r,month:i,day:a,hour:l,minute:h,second:_,millisecond:g},e)}static fromJSDate(e,n={}){const r=gF(e)?e.valueOf():NaN;if(Number.isNaN(r))return Je.invalid("invalid input");const i=Fi(n.zone,Vt.defaultZone);return i.isValid?new Je({ts:r,zone:i,loc:xt.fromObject(n)}):Je.invalid(hu(i))}static fromMillis(e,n={}){if($a(e))return e<-Y0||e>Y0?Je.invalid("Timestamp out of range"):new Je({ts:e,zone:Fi(n.zone,Vt.defaultZone),loc:xt.fromObject(n)});throw new hr(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,n={}){if($a(e))return new Je({ts:e*1e3,zone:Fi(n.zone,Vt.defaultZone),loc:xt.fromObject(n)});throw new hr("fromSeconds requires a numerical input")}static fromObject(e,n={}){e=e||{};const r=Fi(n.zone,Vt.defaultZone);if(!r.isValid)return Je.invalid(hu(r));const i=Vt.now(),a=ot(n.specificOffset)?r.offset(i):n.specificOffset,l=Od(e,Z0),h=!ot(l.ordinal),_=!ot(l.year),g=!ot(l.month)||!ot(l.day),k=_||g,C=l.weekYear||l.weekNumber,T=xt.fromObject(n);if((k||h)&&C)throw new Ho("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(g&&h)throw new Ho("Can't mix ordinal dates with month/day");const L=C||l.weekday&&!k;let F,D,P=J0(i,a);L?(F=oz,D=az,P=yp(P)):h?(F=lz,D=sz,P=Ff(P)):(F=jS,D=FS);let A=!1;for(const B of F){const Y=l[B];ot(Y)?A?l[B]=D[B]:l[B]=P[B]:A=!0}const M=L?rz(l):h?iz(l):PS(l),$=M||$S(l);if($)return Je.invalid($);const U=L?G0(l):h?K0(l):l,[z,G]=$u(U,a,r),V=new Je({ts:z,zone:r,o:G,loc:T});return l.weekday&&k&&e.weekday!==V.weekday?Je.invalid("mismatched weekday",`you can't specify both a weekday of ${l.weekday} and a date of ${V.toISO()}`):V}static fromISO(e,n={}){const[r,i]=Ej(e);return Io(r,i,n,"ISO 8601",e)}static fromRFC2822(e,n={}){const[r,i]=kj(e);return Io(r,i,n,"RFC 2822",e)}static fromHTTP(e,n={}){const[r,i]=Sj(e);return Io(r,i,n,"HTTP",n)}static fromFormat(e,n,r={}){if(ot(e)||ot(n))throw new hr("fromFormat requires an input string and a format");const{locale:i=null,numberingSystem:a=null}=r,l=xt.fromOpts({locale:i,numberingSystem:a,defaultToEN:!0}),[h,_,g,k]=nz(l,e,n);return k?Je.invalid(k):Io(h,_,r,`format ${n}`,e,g)}static fromString(e,n,r={}){return Je.fromFormat(e,n,r)}static fromSQL(e,n={}){const[r,i]=Mj(e);return Io(r,i,n,"SQL",e)}static invalid(e,n=null){if(!e)throw new hr("need to specify a reason the DateTime is invalid");const r=e instanceof Nr?e:new Nr(e,n);if(Vt.throwOnInvalid)throw new dF(r);return new Je({invalid:r})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,n={}){const r=DS(e,xt.fromObject(n));return r?r.map(i=>i?i.val:null).join(""):null}static expandFormat(e,n={}){return CS(Mn.parseFormat(e),xt.fromObject(n)).map(i=>i.val).join("")}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?zf(this).weekYear:NaN}get weekNumber(){return this.isValid?zf(this).weekNumber:NaN}get weekday(){return this.isValid?zf(this).weekday:NaN}get ordinal(){return this.isValid?Ff(this.c).ordinal:NaN}get monthShort(){return this.isValid?du.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?du.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?du.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?du.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}get isInLeapYear(){return Dc(this.year)}get daysInMonth(){return Id(this.year,this.month)}get daysInYear(){return this.isValid?ll(this.year):NaN}get weeksInWeekYear(){return this.isValid?Md(this.weekYear):NaN}resolvedLocaleOptions(e={}){const{locale:n,numberingSystem:r,calendar:i}=Mn.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:n,numberingSystem:r,outputCalendar:i}}toUTC(e=0,n={}){return this.setZone(Pn.instance(e),n)}toLocal(){return this.setZone(Vt.defaultZone)}setZone(e,{keepLocalTime:n=!1,keepCalendarTime:r=!1}={}){if(e=Fi(e,Vt.defaultZone),e.equals(this.zone))return this;if(e.isValid){let i=this.ts;if(n||r){const a=e.offset(this.ts),l=this.toObject();[i]=$u(l,a,e)}return Ao(this,{ts:i,zone:e})}else return Je.invalid(hu(e))}reconfigure({locale:e,numberingSystem:n,outputCalendar:r}={}){const i=this.loc.clone({locale:e,numberingSystem:n,outputCalendar:r});return Ao(this,{loc:i})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const n=Od(e,Z0),r=!ot(n.weekYear)||!ot(n.weekNumber)||!ot(n.weekday),i=!ot(n.ordinal),a=!ot(n.year),l=!ot(n.month)||!ot(n.day),h=a||l,_=n.weekYear||n.weekNumber;if((h||i)&&_)throw new Ho("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&i)throw new Ho("Can't mix ordinal dates with month/day");let g;r?g=G0({...yp(this.c),...n}):ot(n.ordinal)?(g={...this.toObject(),...n},ot(n.day)&&(g.day=Math.min(Id(g.year,g.month),g.day))):g=K0({...Ff(this.c),...n});const[k,C]=$u(g,this.o,this.zone);return Ao(this,{ts:k,o:C})}plus(e){if(!this.isValid)return this;const n=lt.fromDurationLike(e);return Ao(this,Q0(this,n))}minus(e){if(!this.isValid)return this;const n=lt.fromDurationLike(e).negate();return Ao(this,Q0(this,n))}startOf(e){if(!this.isValid)return this;const n={},r=lt.normalizeUnit(e);switch(r){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0;break}if(r==="weeks"&&(n.weekday=1),r==="quarters"){const i=Math.ceil(this.month/3);n.month=(i-1)*3+1}return this.set(n)}endOf(e){return this.isValid?this.plus({[e]:1}).startOf(e).minus(1):this}toFormat(e,n={}){return this.isValid?Mn.create(this.loc.redefaultToEN(n)).formatDateTimeFromString(this,e):jf}toLocaleString(e=fp,n={}){return this.isValid?Mn.create(this.loc.clone(n),e).formatDateTime(this):jf}toLocaleParts(e={}){return this.isValid?Mn.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:n=!1,suppressMilliseconds:r=!1,includeOffset:i=!0,extendedZone:a=!1}={}){if(!this.isValid)return null;const l=e==="extended";let h=Uf(this,l);return h+="T",h+=X0(this,l,n,r,i,a),h}toISODate({format:e="extended"}={}){return this.isValid?Uf(this,e==="extended"):null}toISOWeekDate(){return fu(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:n=!1,includeOffset:r=!0,includePrefix:i=!1,extendedZone:a=!1,format:l="extended"}={}){return this.isValid?(i?"T":"")+X0(this,l==="extended",n,e,r,a):null}toRFC2822(){return fu(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return fu(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Uf(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:n=!1,includeOffsetSpace:r=!0}={}){let i="HH:mm:ss.SSS";return(n||e)&&(r&&(i+=" "),n?i+="z":e&&(i+="ZZ")),fu(this,i,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():jf}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const n={...this.c};return e.includeConfig&&(n.outputCalendar=this.outputCalendar,n.numberingSystem=this.loc.numberingSystem,n.locale=this.loc.locale),n}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,n="milliseconds",r={}){if(!this.isValid||!e.isValid)return lt.invalid("created by diffing an invalid DateTime");const i={locale:this.locale,numberingSystem:this.numberingSystem,...r},a=vF(n).map(lt.normalizeUnit),l=e.valueOf()>this.valueOf(),h=l?this:e,_=l?e:this,g=Uj(h,_,a,i);return l?g.negate():g}diffNow(e="milliseconds",n={}){return this.diff(Je.now(),e,n)}until(e){return this.isValid?Ot.fromDateTimes(this,e):this}hasSame(e,n){if(!this.isValid)return!1;const r=e.valueOf(),i=this.setZone(e.zone,{keepLocalTime:!0});return i.startOf(n)<=r&&r<=i.endOf(n)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const n=e.base||Je.fromObject({},{zone:this.zone}),r=e.padding?this<n?-e.padding:e.padding:0;let i=["years","months","days","hours","minutes","seconds"],a=e.unit;return Array.isArray(e.unit)&&(i=e.unit,a=void 0),tb(n,this.plus(r),{...e,numeric:"always",units:i,unit:a})}toRelativeCalendar(e={}){return this.isValid?tb(e.base||Je.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(Je.isDateTime))throw new hr("min requires all arguments be DateTimes");return O0(e,n=>n.valueOf(),Math.min)}static max(...e){if(!e.every(Je.isDateTime))throw new hr("max requires all arguments be DateTimes");return O0(e,n=>n.valueOf(),Math.max)}static fromFormatExplain(e,n,r={}){const{locale:i=null,numberingSystem:a=null}=r,l=xt.fromOpts({locale:i,numberingSystem:a,defaultToEN:!0});return NS(l,e,n)}static fromStringExplain(e,n,r={}){return Je.fromFormatExplain(e,n,r)}static get DATE_SHORT(){return fp}static get DATE_MED(){return Vk}static get DATE_MED_WITH_WEEKDAY(){return _F}static get DATE_FULL(){return Hk}static get DATE_HUGE(){return Bk}static get TIME_SIMPLE(){return qk}static get TIME_WITH_SECONDS(){return Wk}static get TIME_WITH_SHORT_OFFSET(){return Gk}static get TIME_WITH_LONG_OFFSET(){return Kk}static get TIME_24_SIMPLE(){return Yk}static get TIME_24_WITH_SECONDS(){return Jk}static get TIME_24_WITH_SHORT_OFFSET(){return Qk}static get TIME_24_WITH_LONG_OFFSET(){return Xk}static get DATETIME_SHORT(){return Zk}static get DATETIME_SHORT_WITH_SECONDS(){return eS}static get DATETIME_MED(){return tS}static get DATETIME_MED_WITH_SECONDS(){return nS}static get DATETIME_MED_WITH_WEEKDAY(){return pF}static get DATETIME_FULL(){return rS}static get DATETIME_FULL_WITH_SECONDS(){return iS}static get DATETIME_HUGE(){return aS}static get DATETIME_HUGE_WITH_SECONDS(){return sS}}function Mo(t){if(Je.isDateTime(t))return t;if(t&&t.valueOf&&$a(t.valueOf()))return Je.fromJSDate(t);if(t&&typeof t=="object")return Je.fromObject(t);throw new hr(`Unknown datetime argument: ${t}, of type ${typeof t}`)}const cz=()=>{const[t,e]=le.exports.useState({}),[n,r]=le.exports.useState(!1),[i,a]=le.exports.useState(""),{createUser:l}=wr(),h=br();Je.now().toFormat("DDDD - HH:mm:ss");const _=Nh(),g=L=>{e({...t,[L.target.name]:L.target.value})},k={role:"alumn",remainingClases:0,completedClases:0,absentedClases:0,actualClass:0,teacher:"unasigned",newNotifications:!0,notifications:1},C={textNotification:"Bienvenido a Navis!",notificationType:"Welcome"},T=async L=>{L.preventDefault(),a(""),r(!0);try{const F=await l(t.email,t.password).then(M=>M);console.log(F);const D=Tn(),P=en(D,`Users/${F.user.uid}`);ta(P,{...t,...k});const A=ir(D,`Users/${F.user.uid}/myNotifications`);Ch(A,{...C,timeStamp:_}),h("/account")}catch(F){a(F.message),swal("UPS!",`${F.message}`,"error"),r(!1)}};return n?I(as,{}):I(Kt,{children:I("div",{className:"caja__trasera",children:te("div",{className:"caja__trasera-login",children:[te("p",{children:["\xBFYa tienes una cuenta? ",I(Vr,{to:"/signIn",children:"Inicia sesion."})]}),te("form",{className:"form__Register",onSubmit:T,children:[I("label",{htmlFor:"name",children:"Nombre :"}),I("input",{type:"text",id:"name",name:"name",value:t.name||"",onChange:g}),I("label",{htmlFor:"lastName",children:"Apellido :"}),I("input",{type:"text",id:"lastName",name:"lastName",value:t.lastName||"",onChange:g}),I("label",{htmlFor:"password",children:"Password :"}),I("input",{type:"password",id:"password",name:"password",value:t.password||"",onChange:g}),I("label",{htmlFor:"email",children:"Email :"}),I("input",{type:"email",id:"email",name:"email",value:t.email||"",onChange:g}),I("label",{htmlFor:"phoneNumber",children:"Numero de celular :"}),I("input",{type:"tel",id:"phoneNumber",name:"phoneNumber",value:t.phoneNumber||"",onChange:g}),I("label",{htmlFor:"country",children:"Pais:"}),I("input",{type:"text",id:"country",name:"country",value:t.country||"",onChange:g}),I("label",{htmlFor:"city",children:"Ciudad:"}),I("input",{type:"text",id:"city",name:"city",value:t.city||"",onChange:g}),I("button",{className:"boton__login",type:"submit",id:"btn__iniciar-sesion",children:"Crear Cuenta"})]})]})})})},uz={"client-id":{BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0}.PAYPAL_CLIENT_ID,currency:"USD",intent:"capture","data-client-token":"abc123xyz==",components:"buttons"};/*!
 * react-paypal-js v7.8.1 (2022-05-27T22:10:01.444Z)
 * Copyright 2020-present, PayPal, Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hn;(function(t){t.INITIAL="initial",t.PENDING="pending",t.REJECTED="rejected",t.RESOLVED="resolved"})(Hn||(Hn={}));var na;(function(t){t.LOADING_STATUS="setLoadingStatus",t.RESET_OPTIONS="resetOptions",t.SET_BRAINTREE_INSTANCE="braintreeInstance"})(na||(na={}));var rb;(function(t){t.NUMBER="number",t.CVV="cvv",t.EXPIRATION_DATE="expirationDate",t.EXPIRATION_MONTH="expirationMonth",t.EXPIRATION_YEAR="expirationYear",t.POSTAL_CODE="postalCode"})(rb||(rb={}));var ul="data-react-paypal-script-id",Xs={DATA_CLIENT_TOKEN:"data-client-token",DATA_USER_ID_TOKEN:"data-user-id-token",DATA_SDK_INTEGRATION_SOURCE:"data-sdk-integration-source",DATA_SDK_INTEGRATION_SOURCE_VALUE:"react-paypal-js",DATA_NAMESPACE:"data-namespace"},dz="Failed to load the PayPal JS SDK script.",zS="paypal",hz="usePayPalScriptReducer must be used within a PayPalScriptProvider",Zt=function(){return Zt=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Zt.apply(this,arguments)};function fz(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function ib(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}function _z(t){return t===void 0&&(t=zS),window[t]}function pz(t){for(var e="",n=0;n<t.length;n++){var r=t[n].charCodeAt(0)*n;t[n+1]&&(r+=t[n+1].charCodeAt(0)*(n-1)),e+=String.fromCharCode(97+Math.abs(r)%26)}return e}function mz(t){var e=t.reactComponentName,n=t.sdkComponentKey,r=t.sdkRequestedComponents,i=r===void 0?"":r,a=t.sdkDataNamespace,l=a===void 0?zS:a,h=n.charAt(0).toUpperCase().concat(n.substring(1)),_="Unable to render <".concat(e," /> because window.").concat(l,".").concat(h," is undefined.");if(!i.includes(n)){var g=[i,n].filter(Boolean).join();_+=`
To fix the issue, add '`.concat(n,"' to the list of components passed to the parent PayPalScriptProvider:")+"\n`<PayPalScriptProvider options={{ components: '".concat(g,"'}}>`.")}return _}function US(t){return"react-paypal-js-".concat(pz(JSON.stringify(t)))}function gz(t){var e=self.document.querySelector("script[".concat(ul,'="').concat(t,'"]'));e!=null&&e.parentNode&&e.parentNode.removeChild(e)}function vz(t,e){var n;switch(e.type){case na.LOADING_STATUS:return Zt(Zt({},t),{loadingStatus:e.value});case na.RESET_OPTIONS:return gz(t.options[ul]),delete e.value[ul],Zt(Zt({},t),{loadingStatus:Hn.PENDING,options:Zt(Zt({},e.value),(n={},n[ul]="".concat(US(e.value)),n[Xs.DATA_SDK_INTEGRATION_SOURCE]=Xs.DATA_SDK_INTEGRATION_SOURCE_VALUE,n))});case na.SET_BRAINTREE_INSTANCE:return Zt(Zt({},t),{braintreePayPalCheckoutInstance:e.value});default:return t}}var VS=le.exports.createContext(null);function yz(t){if(typeof(t==null?void 0:t.dispatch)=="function"&&t.dispatch.length!==0)return t;throw new Error(hz)}function bz(){var t=yz(le.exports.useContext(VS)),e=Zt(Zt({},t),{isInitial:t.loadingStatus===Hn.INITIAL,isPending:t.loadingStatus===Hn.PENDING,isResolved:t.loadingStatus===Hn.RESOLVED,isRejected:t.loadingStatus===Hn.REJECTED});return[e,t.dispatch]}le.exports.createContext({});var Ug=function(t){var e=t.className,n=e===void 0?"":e,r=t.disabled,i=r===void 0?!1:r,a=t.children,l=t.forceReRender,h=l===void 0?[]:l,_=fz(t,["className","disabled","children","forceReRender"]),g=i?{opacity:.38}:{},k="".concat(n," ").concat(i?"paypal-buttons-disabled":"").trim(),C=le.exports.useRef(null),T=le.exports.useRef(null),L=bz()[0],F=L.isResolved,D=L.options,P=le.exports.useState(null),A=P[0],M=P[1],$=le.exports.useState(!0),U=$[0],z=$[1],G=le.exports.useState(null),V=G[1];function B(){T.current!==null&&T.current.close().catch(function(){})}return le.exports.useEffect(function(){if(F===!1)return B;var Y=_z(D[Xs.DATA_NAMESPACE]);if(Y===void 0||Y.Buttons===void 0)return V(function(){throw new Error(mz({reactComponentName:Ug.displayName,sdkComponentKey:"buttons",sdkRequestedComponents:D.components,sdkDataNamespace:D[Xs.DATA_NAMESPACE]}))}),B;var J=function(X,q){M(q),typeof _.onInit=="function"&&_.onInit(X,q)};try{T.current=Y.Buttons(Zt(Zt({},_),{onInit:J}))}catch(X){return V(function(){throw new Error("Failed to render <PayPalButtons /> component. Failed to initialize:  ".concat(X))})}return T.current.isEligible()===!1?(z(!1),B):(C.current&&T.current.render(C.current).catch(function(X){C.current===null||C.current.children.length===0||V(function(){throw new Error("Failed to render <PayPalButtons /> component. ".concat(X))})}),B)},ib(ib([F],h,!0),[_.fundingSource],!1)),le.exports.useEffect(function(){A!==null&&(i===!0?A.disable().catch(function(){}):A.enable().catch(function(){}))},[i,A]),I(Kt,{children:U?I("div",{ref:C,style:g,className:k}):a})};Ug.displayName="PayPalButtons";function wz(t,e){var n=document.querySelector('script[src="'.concat(t,'"]'));if(n===null)return null;var r=HS(t,e),i=n.cloneNode();if(delete i.dataset.uidAuto,Object.keys(i.dataset).length!==Object.keys(r.dataset).length)return null;var a=!0;return Object.keys(i.dataset).forEach(function(l){i.dataset[l]!==r.dataset[l]&&(a=!1)}),a?n:null}function xz(t){var e=t.url,n=t.attributes,r=t.onSuccess,i=t.onError,a=HS(e,n);a.onerror=i,a.onload=r,document.head.insertBefore(a,document.head.firstElementChild)}function Ez(t){var e="https://www.paypal.com/sdk/js";t.sdkBaseURL&&(e=t.sdkBaseURL,delete t.sdkBaseURL),Tz(t);var n=Object.keys(t).filter(function(a){return typeof t[a]<"u"&&t[a]!==null&&t[a]!==""}).reduce(function(a,l){var h=t[l].toString();return l.substring(0,5)==="data-"?a.dataAttributes[l]=h:a.queryParams[l]=h,a},{queryParams:{},dataAttributes:{}}),r=n.queryParams,i=n.dataAttributes;return{url:"".concat(e,"?").concat(kz(r)),dataAttributes:i}}function kz(t){var e="";return Object.keys(t).forEach(function(n){e.length!==0&&(e+="&"),e+=n+"="+t[n]}),e}function Sz(t){var e=t.split("/* Original Error:")[1];return e?e.replace(/\n/g,"").replace("*/","").trim():t}function HS(t,e){e===void 0&&(e={});var n=document.createElement("script");return n.src=t,Object.keys(e).forEach(function(r){n.setAttribute(r,e[r]),r==="data-csp-nonce"&&n.setAttribute("nonce",e["data-csp-nonce"])}),n}function Tz(t){var e=t["merchant-id"],n=t["data-merchant-id"],r="",i="";return Array.isArray(e)?e.length>1?(r="*",i=e.toString()):r=e.toString():typeof e=="string"&&e.length>0?r=e:typeof n=="string"&&n.length>0&&(r="*",i=n),t["merchant-id"]=r,t["data-merchant-id"]=i,t}function Cz(t,e){if(e===void 0&&(e=BS()),qS(t,e),typeof window>"u")return e.resolve(null);var n=Ez(t),r=n.url,i=n.dataAttributes,a=i["data-namespace"]||"paypal",l=ab(a);return wz(r,i)&&l?e.resolve(l):Nz({url:r,attributes:i},e).then(function(){var h=ab(a);if(h)return h;throw new Error("The window.".concat(a," global variable is not available."))})}function Nz(t,e){e===void 0&&(e=BS()),qS(t,e);var n=t.url,r=t.attributes;if(typeof n!="string"||n.length===0)throw new Error("Invalid url.");if(typeof r<"u"&&typeof r!="object")throw new Error("Expected attributes to be an object.");return new e(function(i,a){if(typeof window>"u")return i();xz({url:n,attributes:r,onSuccess:function(){return i()},onError:function(){var l=new Error('The script "'.concat(n,'" failed to load.'));return window.fetch?fetch(n).then(function(h){return h.status===200&&a(l),h.text()}).then(function(h){var _=Sz(h);a(new Error(_))}).catch(function(h){a(h)}):a(l)}})})}function BS(){if(typeof Promise>"u")throw new Error("Promise is undefined. To resolve the issue, use a Promise polyfill.");return Promise}function ab(t){return window[t]}function qS(t,e){if(typeof t!="object"||t===null)throw new Error("Expected an options object.");if(typeof e<"u"&&typeof e!="function")throw new Error("Expected PromisePonyfill to be a function.")}var Dz=function(t){var e,n=t.options,r=n===void 0?{"client-id":"test"}:n,i=t.children,a=t.deferLoading,l=a===void 0?!1:a,h=le.exports.useReducer(vz,{options:Zt(Zt({},r),(e={},e[ul]="".concat(US(r)),e[Xs.DATA_SDK_INTEGRATION_SOURCE]=Xs.DATA_SDK_INTEGRATION_SOURCE_VALUE,e)),loadingStatus:l?Hn.INITIAL:Hn.PENDING}),_=h[0],g=h[1];return le.exports.useEffect(function(){if(l===!1&&_.loadingStatus===Hn.INITIAL)return g({type:na.LOADING_STATUS,value:Hn.PENDING});if(_.loadingStatus===Hn.PENDING){var k=!0;return Cz(_.options).then(function(){k&&g({type:na.LOADING_STATUS,value:Hn.RESOLVED})}).catch(function(C){console.error("".concat(dz," ").concat(C)),k&&g({type:na.LOADING_STATUS,value:Hn.REJECTED})}),function(){k=!1}}},[_.options,l,_.loadingStatus]),I(VS.Provider,{value:Zt(Zt({},_),{dispatch:g}),children:i})};const Az=({totalValue:t,cantidad:e})=>{const{userLogged:n}=wr(),r="Felicitaciones, adquiriste nuevas clases",i="Compra",a=Nh(),l=async()=>{try{const _=Tn(),g=en(_,`Users/${n.uid}`);await Ia(g,{remainingClases:Ad(e),newNotifications:!0,notifications:Ad(1)});const k=Wl(ir(_,`Users/${n.uid}/myNotifications`));Ch(k,{notificationType:i,textNotification:r,cantidad:e,timeStamp:a}).then(({id:C})=>{const T=en(_,`AdminNotifications/${C}`);ta(T,{notificationType:i,cantidad:e})})}catch(_){swal("UPS!",`${_.message}`,"error")}},h=t;return I(Dz,{options:uz,children:I(Ug,{createOrder:(_,g)=>g.order.create({purchase_units:[{amount:{value:h}}]}),onApprove:async(_,g)=>{const k=await g.order.capture();console.log(k);let C=k;C?(l(),C=!1):console.log("pago not apprub")}})})};function WS({totalValue:t,cantidad:e}){return console.log("checkout enter : ",t,e),te("div",{className:"payment-container",children:[te("span",{className:"amount",children:["$",t]}),I(Az,{totalValue:t,cantidad:e,className:"payment"})]})}const Iz=({children:t})=>{const{userLogged:e}=wr();return e?t:I(gm,{to:"/logger"})},Mz=({children:t})=>{const{userLogged:e}=wr(),{user:n}=jn();return e?n.role==="teacher"?I("h1",{children:"NOT A STUDENT ACOUNT"}):t:I(gm,{to:"/logger"})},Oz=({children:t})=>{const{userLogged:e}=wr(),{user:n}=jn();return e?n.role==="alumn"?I("h1",{children:"NOT A TEACHER ACOUNT"}):t:I(gm,{to:"/logger"})},Lz=t=>{const{user:e}=jn(),n=br(),r=e.form.actualClass,i=()=>{swal("Muy Bien","Aqui podras reprogramar tu clase","success"),n("/Account/ReprogramClass")};return I("div",{className:"next-class-container",children:te("div",{className:"class__Body",children:[te("div",{children:[te("h3",{children:[t.myClass[r].time?t.myClass[r].time:""," HS"]}),I("div",{children:e.form.teacherName?te("p",{children:["Profesor: ",e.form.teacherName]}):I("p",{children:"Profesor no asignado"})})]}),te("p",{children:[" TU PROXIMA CLASE ES EL DIA: ",t.myClass[r].date,"-",t.myClass[r].day," "]}),I("span",{className:"class__button-start",children:"INICIAR CLASE"}),I("a",{target:"_Blank",className:"class__button-end",href:" https://www.blinklearning.com/v/1666102044/themes/tmpux/launch.php",children:I("span",{children:"BLINK LEARNING"})}),I("span",{className:"class__button-end",onClick:i,children:"REPROGRAMAR CLASE"})]})})},Pz=({myClasses:t=[]})=>I(Lz,{myClass:t}),$z=t=>{const{user:e}=jn(),n=br(),r=()=>{swal("Muy Bien","Ahora programaras tus clases","success"),n("/Account/ProgramarClases")},i=()=>{n("/MiCalendario")};return I("div",{children:te("div",{className:"info-container",children:[I("div",{className:"info",children:te("h3",{children:["CLASES DISPONIBLES : ",t.remainingClases]})}),I("div",{className:"info__Content",children:te("div",{className:"info-button-classes-container",children:[e.form.teacher==="unasigned"?I("div",{className:"info-button",children:I("button",{onClick:r,disabled:e.form.remainingClases===0,children:I("h3",{children:"Programar clases"})})}):"",e.form.teacher==="assigned"?I("div",{className:"info-button",children:I("button",{onClick:i,children:I("h3",{children:"Calendario de clases"})})}):""]})})]})})},Rz=[{number:"01",price:"9.55",amount:"60",duration:"50"},{number:"02",price:"10.99",amount:"30",duration:"50"},{number:"03",price:"13.55",amount:"20",duration:"50"},{number:"04",price:"16.99",amount:"10",duration:"50"},{number:"05",price:"22.99",amount:"5",duration:"50"}];const Fz=()=>{const[t,e]=le.exports.useState(!1),[n,r]=le.exports.useState(),[i,a]=le.exports.useState();return t?I(WS,{totalValue:n,cantidad:i}):te("div",{className:"buy-container",children:[I("h3",{children:"ADQUIRIR MAS CLASES"}),I("div",{className:"buy-card-container",children:Rz.map((l,h)=>I("div",{className:"buy-card",children:I("li",{children:te("ul",{children:[te("li",{className:"pack-number",children:["Pack N\xBA : ",l.number," "]}),te("li",{className:"amount",children:["Cantidad de clases ",l.amount," "]}),te("li",{className:"price",children:["$ ",l.price," USD/Clase "]}),te("li",{className:"duration",children:[" Duraci\xF3n : ",l.duration," min/Class "]}),te("div",{children:[I("div",{children:te("select",{children:[I("option",{value:"dolar",id:"dolar",children:"$"}),I("option",{value:"euro",id:"euro",children:"\u20AC"})]})}),I("button",{className:"button__Card",onClick:_=>{console.log(l);let g=parseFloat(l.price),k=parseInt(l.amount),T=(k*g).toFixed(2).toString();a(k),r(T),e(!t)},children:"ADQUIRIR CLASES"})]})]})})},h))})]})};const GS=()=>{const{user:t}=jn(),[e,n]=le.exports.useState([]),[r,i]=le.exports.useState(!0);if(le.exports.useEffect(()=>{const a=Tn(),l=ir(a,`Users/${t.uid}/mySchedule`);yi(l).then(h=>{const _=h.docs.map(k=>({...k.data()})),g=[];_.forEach(k=>Object.keys(k).forEach(C=>g.push({condition:k[C].condition,date:k[C].date,time:k[C].time,day:k[C].day}))),g.sort((k,C)=>k.day<C.day?-1:k.day>C.day?1:0),g.sort((k,C)=>k.date<C.date?-1:k.date>C.date?1:0),n(g),i(!1)})},[]),!r)return I(Kt,{children:te("div",{children:[te("div",{className:"container",children:[t.form.teacher==="assigned"?I(Pz,{myClasses:e}):"",I($z,{...t.misClases})]}),I(Fz,{})]})})};const jz=({info:t})=>te("div",{className:"infoContainer",children:[te("ul",{className:"primerColumna",children:[te("div",{className:"nombreAlumno",children:[te("li",{children:[t.studentName," "]}),te("li",{children:[t.studentLastName," "]})]}),te("li",{className:"timeClass",children:[t.time," "]})]}),te("ul",{className:"segundaColumna",children:[I("li",{children:"Asistencias: "}),I("li",{children:"Numero De Clase: "})]}),I("div",{className:"terceraColumna",children:I("p",{children:t.date})}),I("div",{className:"cuartaColumna",children:I("button",{children:"Link de la clase"})})]}),KS=({myClasses:t=[]})=>(t.sort((e,n)=>e.date<n.date?-1:e.date>n.date?1:0),t.map(e=>I(jz,{info:e},e.id))),zz=()=>{const{user:t}=wr(),[e,n]=le.exports.useState([]),i=Je.now().toFormat("kkkk-LL-dd");return console.log(i),le.exports.useEffect(()=>{const a=Tn(),l=ir(a,`Users/${t.uid}/myClases`),h=Wl(l,hp("date","<",i));yi(h).then(_=>n(_.docs.map(g=>({id:g.id,...g.data()}))))},[]),te("div",{children:[I("h1",{children:"TEST FILTERS"}),I(KS,{myClasses:e})]})};const YS=()=>{const{userLogged:t}=wr(),[e,n]=le.exports.useState([]),[r,i]=le.exports.useState(!1);return le.exports.useEffect(()=>{i(!0);const a=Tn(),l=ir(a,`Users/${t.uid}/myClases`);yi(l).then(h=>n(h.docs.map(_=>({id:_.id,..._.data()})))),i(!1)},[]),r?I(as,{}):te("div",{children:[I("p",{children:"Mis Proximas Clases"}),I(KS,{myClasses:e})]})};function JS(){const{user:t}=jn(),e=br();return I(Kt,{children:te("div",{children:[te("div",{className:"encabezado",children:[I("button",{onClick:()=>{e("/Account")},children:"Mi Perfil"}),I("button",{onClick:()=>{console.log("MyStudents"),e("/Account/Teacher/MyStudents"),swal("BIENVENIDO","Aqu\xED podras ver una lista de tus alumnos","success")},children:"Mis Alumnos"}),I("button",{onClick:()=>{e("/MiCalendario")},children:"Mi Calendario"}),te("ul",{className:"infoEncabezado",children:[I("li",{className:"infoTittle",children:"Mis Clases Impartidas"}),te("li",{children:["Totales: ",t.form.totalClasses]}),te("li",{children:["Este mes: ",t.form.thisMonthClasses," "]}),te("li",{children:["Mes Anterior: ",t.form.lastMonthClasses]})]})]}),I(YS,{})]})})}const Uz=()=>{const t=br();return I("div",{className:"admin__Options",children:te("div",{className:"admin__Body",children:[I("h2",{children:"PANEL DE ADMINISTRADOR"}),te("div",{className:"admin__Button",children:[I("button",{className:"card__Admin__Buttons",onClick:()=>{swal("Bienvenido","Aqui podras crear cuentas de profesores","success"),t("/Admin/CreateTeacherAccount")},children:"CREAR CUENTA DE PROFESOR"}),I("button",{className:"card__Admin__Buttons",onClick:()=>{swal("Bienvenido","Aqui veras las clases programadas y asignaras los profesores","success"),t("/Admin/ProgramingClassesAsAdmin")},children:"PROGRAMAR CLASES"})]})]})})},Vz=[{field:"Nombre",inNameId:"name",inType:"text"},{field:"Apellido",inNameId:"lastName",inType:"text"},{field:"Contrase\xF1a",inNameId:"password",inType:"password"},{field:"Email",inNameId:"email",inType:"email"},{field:"Numero De Contacto",inNameId:"phoneNumber",inType:"tel"},{field:"Pais",inNameId:"country",inType:"text"},{field:"Ciudad",inNameId:"city",inType:"text"}];const ya=[{"00:00":!0,"01:00":!0,"02:00":!0,"03:00":!0,"04:00":!0,"05:00":!0,"06:00":!0,"07:00":!0,"08:00":!0,"09:00":!0,"10:00":!0,"11:00":!0,"12:00":!0,"13:00":!0,"14:00":!0,"15:00":!0,"16:00":!0,"17:00":!0,"18:00":!0,"19:00":!0,"20:00":!0,"21:00":!0,"22:00":!0,"23:00":!0}],Hz=({teacherForm:t})=>{const{createUser:e}=wr(),n=br(),r=["lunes","martes","miercoles","jueves","viernes","sabado","domingo"],[i,a]=le.exports.useState([]),[l,h]=le.exports.useState(...ya),[_,g]=le.exports.useState(...ya),[k,C]=le.exports.useState(...ya),[T,L]=le.exports.useState(...ya),[F,D]=le.exports.useState(...ya),[P,A]=le.exports.useState(...ya),[M,$]=le.exports.useState(...ya),U=B=>{let Y=i.filter(q=>q.day===B.target.id),J=Y[0].timeEnd,X=i.filter(q=>q.day!=B.target.id);Y={day:B.target.id,timeStart:B.target.value,timeEnd:J},X.push(Y),a(X)},z=B=>{let Y=i.filter(q=>q.day===B.target.id),J=Y[0].timeStart,X=i.filter(q=>q.day!=B.target.id);Y={day:B.target.id,timeStart:J,timeEnd:B.target.value},X.push(Y),a(X)},G=async()=>{const Y={...t,weekDisponibility:i,disponibility:{lunes:l,martes:_,miercoles:k,jueves:T,viernes:F,sabado:P,domingo:M}};try{const J=await e(t.email,t.password).then(ee=>ee),X=Tn(),q=en(X,`Users/${J.user.uid}`);await ta(q,{...Y}),n("/account")}catch(J){swal("UPS!",`${J.message}`,"error")}},V=()=>{let B=!(!t.name||t.name.length<4),Y=!(!t.lastName||t.lastName.length<4),J=!(!t.password||t.password.length<9),X=!(!t.email||t.email<12);B?B=!0:swal("CUIDADO!","El nombre debe tener al menos 4 caracteres","error"),Y?Y=!0:swal("CUIDADO!","El apellido debe tener al menos 4 caracteres","error"),J?J=!0:swal("CUIDADO!","La contrase\xF1a debe tener al menos 9 caracteres","error"),X?X=!0:swal("CUIDADO!","Ingrese una direccion de email valida","error");let q=!1;i.length===0?swal("CUIDADO!","Debes seleccionar al menos un dia y un horario","error"):i.map(ce=>{ce.timeStart!=null&&ce.timeEnd!=null?ce.timeStart>=ce.timeEnd?swal("CUIDADO!","El horario de inicio debe ser menor al de finalizacion","error"):q=!0:swal("CUIDADO!","Debes seleccionar un horario","error")}),B&&Y&&J&&X&&q&&G()};return I(Kt,{children:te("div",{className:"teacherDisponibility-conteiner",children:[I("h5",{children:"Selecciona los dias y el horario de disponibilidad del docente"}),I("ul",{className:"teacherDisponibility-day-list",children:r.map((B,Y)=>{const[J,X]=le.exports.useState(!1);return te("div",{className:"teacherDisponibility-day-time-button",children:[I("li",{className:J?"teacherDisponibility-day-button clicked":"teacherDisponibility-day-button",onClick:()=>{let q=i;J?q=q.filter(ee=>ee.day!=B):q.push({day:B,timeStart:void 0,timeEnd:void 0}),X(!J),a(q),console.log(i)},children:B}),J&&te("div",{className:"time-selector",children:[te("li",{children:["Horario de inicio :",I("input",{step:900,type:"time",id:B,name:"timeStart",value:i.timeStart,onChange:U})]}),te("li",{children:["Horario de finalizacion :",I("input",{step:900,type:"time",id:B,name:"timeEnd",value:i.timeEnd,onChange:z})]})]})]},Y)})}),I("button",{className:"teacherDisponibility-continue-button",onClick:V,children:"CREAR CUENTA DE PROFESOR"})]})})};const Bz=()=>{const[t,e]=le.exports.useState({role:"teacher",totalClasses:0,remainingClasses:0,thisMonthClasses:0,lastMonthClasses:0}),n=r=>{e({...t,[r.target.name]:r.target.value})};return I(Kt,{children:te("div",{className:"createTeacher-container",children:[I("div",{className:"caja__trasera-login",children:I("form",{className:"form__Register",children:Vz.map((r,i)=>te("div",{children:[te("label",{htmlFor:r.inNameId,children:[r.field," :"]}),I("input",{type:r.inType,id:r.inNameId,name:r.inNameId,value:t[r.inNameId]||"",onChange:n})]},i))})}),I(Hz,{teacherForm:t})]})})},qz=({date:t,teacher:e})=>{console.log("INFO EN date : ",t),console.log("INFO EN userWeek : ",t.userWeek),console.log("INFO EN teacher : ",e);const n=Nh(),r={teacher:"assigned",condition:"succes",teacherEmail:e.email,teacherUid:e.id,teacherName:e.name,teacherLastName:e.lastName},i={studentEmail:t.studentEmail,studentUid:t.studentUid,studentName:t.studentName,studentLastName:t.studentLastName,remainingClases:t.remainingClases,classWith:t.userWeek},a={textNotification:"Felicitaciones, tu peticion de clases fue aceptada, ya te asignamos un profesor",notificationType:"Notificacion"},l=[],h=[],_=[],g=e.disponibility;let k=g,C=!0,T=0;const L=()=>{C=!C};t.userWeek.map(P=>{const A=e.weekDisponibility.filter(M=>M.day===P.day);l.push(...A)}),t.userWeek.length!=l.length?L():t.userWeek.map((P,A)=>{!(P.time>=l[A].timeStart&&P.time<l[A].timeEnd)&&L()}),C&&t.userWeek.map((P,A)=>{P.day==="lunes"&&g.lunes[P.time]&&T++,P.day==="martes"&&g.martes[P.time]&&T++,P.day==="miercoles"&&g.miercoles[P.time]&&T++,P.day==="jueves"&&g.jueves[P.time]&&T++,P.day==="viernes"&&g.viernes[P.time]&&T++,P.day==="sabado"&&g.sabado[P.time]&&T++,P.day==="domingo"&&g.domingo[P.time]&&T++}),C&&T!=t.userWeek.length&&L();const F=()=>{let P=new Date;const A=(ee,ce)=>{ee.setDate(ee.getDate()+ce)};let M=0,$=1,U=2,z=3,G=4,V=5,B=6;switch(P.getDay()){case 0:A(P,7);break;case 1:A(P,6);break;case 2:A(P,5);break;case 3:A(P,4);break;case 4:A(P,3);break;case 5:A(P,2);break;case 6:A(P,1);break}const J=(ee,ce)=>{A(P,ce);let ke=P.getDate(),me=P.getMonth(),qe=P.getFullYear(),ue=ee,ge=parseInt(ee);ge++,ge=ge.toString(),ge=ge+":00";let Ne=`${qe}-${me+1}-${ke} ${ue}`,Ve=`${qe}-${me+1}-${ke} ${ge}`;const et={start_date:`${Ne}`,end_date:`${Ve}`,condition:"pending",date:`${qe}-${me+1}`,day:ke,month:me,year:qe,time:ee},Yt={...et,text:`Alumno : ${t.studentName} ${t.studentLastName}`},Ut={...et,text:`Profesor : ${e.name} ${e.lastName}`};h.push(Yt),_.push(Ut),A(P,-ce)},X=ee=>{ee.day==="domingo"&&J(ee.time,M),ee.day==="lunes"&&J(ee.time,$),ee.day==="martes"&&J(ee.time,U),ee.day==="miercoles"&&J(ee.time,z),ee.day==="jueves"&&J(ee.time,G),ee.day==="viernes"&&J(ee.time,V),ee.day==="sabado"&&J(ee.time,B)};let q=0;A(P,7);for(let ee=0;ee<t.remainingClases;ee++)q===t.userWeek.length&&(q=0,A(P,7)),X(t.userWeek[q]),q++;t.userWeek.map(ee=>{let ce=k[ee.day];ce[ee.time]=!1})},D=async P=>{F(),P.preventDefault();try{const A=Tn(),M=en(A,`Classes/${t.id}`);await Ia(M,{...r});const $=en(A,`Users/${e.id}`);await Ia($,{disponibility:k});const U=en(A,`Users/${e.id}/myStudents/${t.studentUid}`);await ta(U,{...i});const z=en(A,`Users/${e.id}/mySchedule/${t.studentUid}`);await ta(z,{...h});const G=en(A,`Users/${t.studentUid}`);await Ia(G,{teacher:"assigned",teacherName:`${e.name} ${e.lastName}`,teacherUid:e.id,notifications:Ad(1)});const V=en(A,`Users/${t.studentUid}/myClasses/${t.id}`);await Ia(V,{...r});const B=en(A,`Users/${t.studentUid}/mySchedule/${t.id}`);await ta(B,{..._});const Y=ir(A,`Users/${t.studentUid}/myNotifications`);await Ch(Y,{...a,timeStamp:n})}catch(A){swal("UPS!",`${A.message}`,"error")}};if(C)return I("div",{children:te("ul",{children:[te("li",{children:[" Profesor: ",e.name," ",e.lastName," "]}),te("li",{children:[" Email: ",e.email," "]}),I("li",{children:" Disponible para cubrir la clase "}),I("button",{onClick:D,children:"ASIGNAR PROFESOR"})]})})},Wz=({date:t,teachers:e=[],daysInfo:n})=>e.map(r=>I(qz,{date:t,teacher:r,requiredDays:n},r.id));const Gz=({info:t,teachersList:e})=>{const[n,r]=le.exports.useState(!1),[i,a]=le.exports.useState([]),l=()=>{console.log(e),swal("OK","Selecciona un profesor de la lista","success"),r(!0)};return te("div",{className:"panel_Content",children:[I("div",{className:"profile-card",children:te("ul",{className:"profile-card",children:[te("li",{children:[" ALUMNO: ",t.studentName," ",t.studentLastName]}),I("button",{className:"profile-card__button",onClick:l,children:"ASIGNAR PROFESOR"})]})}),n?te("div",{children:[I("h1",{children:"PROFESORES DISPONIBLES"}),I(Wz,{date:t,teachers:e,daysInfo:i})]}):""]})},Kz=({classDate:t=[],teachers:e=[]})=>t.map(n=>I(Gz,{info:n,teachersList:e},n.id)),Yz=()=>{const[t,e]=le.exports.useState([]),[n,r]=le.exports.useState([]),[i,a]=le.exports.useState(!0);return le.exports.useEffect(()=>{const l=Tn(),h=ir(l,"Classes"),_=Wl(h,hp("teacher","==","unasigned"));yi(_).then(C=>e(C.docs.map(T=>({id:T.id,...T.data()}))));const g=ir(l,"Users"),k=Wl(g,hp("role","==","teacher"));yi(k).then(C=>r(C.docs.map(T=>({id:T.id,...T.data()})))),a(!1)},[]),i?I(as,{}):te("div",{children:[I("h4",{children:"CLASES A PROGRAMAR"}),I(Kz,{classDate:t,teachers:n})]})};const Jz="/assets/facebook.83af00d0.svg",Qz="/assets/instagram.e0a2630a.svg",Xz="/assets/whatsapp.2e82302a.svg",Zz=()=>I(Kt,{children:I("section",{className:"footer_Content",children:te("div",{className:"footer__Container",children:[I(Vr,{className:"logoFooter",to:"/home",children:I("img",{src:Ek,alt:""})}),I("div",{children:te("div",{className:"redes__Footer",children:[I(Vr,{to:"",children:I("img",{src:Jz,alt:""})}),I(Vr,{to:"/#",children:I("img",{src:Qz,alt:""})}),I(Vr,{to:"/#",children:I("img",{src:Xz,alt:""})})]})})]})})}),eU=({info:t})=>te("div",{children:[I("button",{onClick:()=>{console.log(t)},children:"TEST"}),te("ul",{children:[te("li",{children:[" Alumno: ",t.studentName," ",t.studentLastName," "]}),te("li",{children:[" Mail: ",t.studentEmail," "]}),te("li",{children:[" Clases Restantes: ",t.remainingClases]}),te("ul",{children:[" Dias y hora:",t.classWith.map(n=>te("li",{children:[I("p",{children:n.day}),I("p",{children:n.time})]}))]})]})]}),tU=({myStudents:t=[]})=>t.map(e=>I(eU,{info:e},e.id)),nU=()=>{const{user:t}=jn(),[e,n]=le.exports.useState([]);return le.exports.useEffect(()=>{const r=Tn(),i=ir(r,`Users/${t.uid}/myStudents`);yi(i).then(a=>n(a.docs.map(l=>({id:l.id,...l.data()}))))},[]),te("div",{children:[I("h4",{children:"Mis Alumnos"}),I(tU,{myStudents:e})]})},rU=()=>{const{user:t}=jn();return I("div",{children:t.role==="alumn"?I(GS,{}):t.role==="teacher"?I(JS,{}):I(as,{})})};var iU={exports:{}};/*!
 * @license
 * 
 * dhtmlxScheduler v.6.0.2 Standard
 * 
 * To use dhtmlxScheduler in non-GPL projects (and get Pro version of the product), please obtain Commercial/Enterprise or Ultimate license on our site https://dhtmlx.com/docs/products/dhtmlxScheduler/#licensing or contact us at sales@dhtmlx.com
 * 
 * (c) XB Software Ltd.
 * 
 */(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function i(a){if(r[a])return r[a].exports;var l=r[a]={i:a,l:!1,exports:{}};return n[a].call(l.exports,l,l.exports,i),l.l=!0,l.exports}return i.m=n,i.c=r,i.d=function(a,l,h){i.o(a,l)||Object.defineProperty(a,l,{enumerable:!0,get:h})},i.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},i.t=function(a,l){if(1&l&&(a=i(a)),8&l||4&l&&typeof a=="object"&&a&&a.__esModule)return a;var h=Object.create(null);if(i.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:a}),2&l&&typeof a!="string")for(var _ in a)i.d(h,_,function(g){return a[g]}.bind(null,_));return h},i.n=function(a){var l=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(l,"a",l),l},i.o=function(a,l){return Object.prototype.hasOwnProperty.call(a,l)},i.p="/codebase/",i(i.s=9)}([function(n,r,i){(function(a){var l;l=typeof window<"u"?window:a,r.a=l}).call(this,i(1))},function(n,r){function i(l){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(l)}var a;a=function(){return this}();try{a=a||new Function("return this")()}catch{(typeof window>"u"?"undefined":i(window))==="object"&&(a=window)}n.exports=a},function(n,r){n.exports=function(i){return function(){var a={};for(var l in this._events){var h=this._events[l];h.id.toString().indexOf("#")==-1&&(a[h.id]=h)}return a}.bind(i)}},function(n,r){n.exports=function(i){if(typeof i=="string"||typeof i=="number")return i;var a="";for(var l in i){var h="";i.hasOwnProperty(l)&&(h=l+"="+(h=typeof i[l]=="string"?encodeURIComponent(i[l]):typeof i[l]=="number"?i[l]:encodeURIComponent(JSON.stringify(i[l]))),a.length&&(h="&"+h),a+=h)}return a}},function(n,r,i){i.r(r)},function(n,r){var i,a,l=n.exports={};function h(){throw new Error("setTimeout has not been defined")}function _(){throw new Error("clearTimeout has not been defined")}function g(M){if(i===setTimeout)return setTimeout(M,0);if((i===h||!i)&&setTimeout)return i=setTimeout,setTimeout(M,0);try{return i(M,0)}catch{try{return i.call(null,M,0)}catch{return i.call(this,M,0)}}}(function(){try{i=typeof setTimeout=="function"?setTimeout:h}catch{i=h}try{a=typeof clearTimeout=="function"?clearTimeout:_}catch{a=_}})();var k,C=[],T=!1,L=-1;function F(){T&&k&&(T=!1,k.length?C=k.concat(C):L=-1,C.length&&D())}function D(){if(!T){var M=g(F);T=!0;for(var $=C.length;$;){for(k=C,C=[];++L<$;)k&&k[L].run();L=-1,$=C.length}k=null,T=!1,function(U){if(a===clearTimeout)return clearTimeout(U);if((a===_||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(U);try{a(U)}catch{try{return a.call(null,U)}catch{return a.call(this,U)}}}(M)}}function P(M,$){this.fun=M,this.array=$}function A(){}l.nextTick=function(M){var $=new Array(arguments.length-1);if(arguments.length>1)for(var U=1;U<arguments.length;U++)$[U-1]=arguments[U];C.push(new P(M,$)),C.length!==1||T||g(D)},P.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=A,l.addListener=A,l.once=A,l.off=A,l.removeListener=A,l.removeAllListeners=A,l.emit=A,l.prependListener=A,l.prependOnceListener=A,l.listeners=function(M){return[]},l.binding=function(M){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(M){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},function(n,r,i){(function(a,l,h){var _,g,k;function C(T){return(C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L})(T)}/* @preserve
 * The MIT License (MIT)
 * 
 * Copyright (c) 2013-2018 Petka Antonov
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 * 
 */(function(T){C(r)=="object"&&n!==void 0?n.exports=T():(g=[],(k=typeof(_=T)=="function"?_.apply(r,g):_)===void 0||(n.exports=k))})(function(){return function T(L,F,D){function P($,U){if(!F[$]){if(!L[$]){var z=typeof _dereq_=="function"&&_dereq_;if(!U&&z)return z($,!0);if(A)return A($,!0);var G=new Error("Cannot find module '"+$+"'");throw G.code="MODULE_NOT_FOUND",G}var V=F[$]={exports:{}};L[$][0].call(V.exports,function(B){var Y=L[$][1][B];return P(Y||B)},V,V.exports,T,L,F,D)}return F[$].exports}for(var A=typeof _dereq_=="function"&&_dereq_,M=0;M<D.length;M++)P(D[M]);return P}({1:[function(T,L,F){var D;try{throw new Error}catch(z){D=z}var P=T("./schedule"),A=T("./queue");function M(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new A(16),this._normalQueue=new A(16),this._haveDrainedQueues=!1;var z=this;this.drainQueues=function(){z._drainQueues()},this._schedule=P}function $(z){for(;z.length()>0;)U(z)}function U(z){var G=z.shift();if(typeof G!="function")G._settlePromises();else{var V=z.shift(),B=z.shift();G.call(V,B)}}M.prototype.setScheduler=function(z){var G=this._schedule;return this._schedule=z,this._customScheduler=!0,G},M.prototype.hasCustomScheduler=function(){return this._customScheduler},M.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},M.prototype.fatalError=function(z,G){G?(a.stderr.write("Fatal "+(z instanceof Error?z.stack:z)+`
`),a.exit(2)):this.throwLater(z)},M.prototype.throwLater=function(z,G){if(arguments.length===1&&(G=z,z=function(){throw G}),typeof setTimeout<"u")setTimeout(function(){z(G)},0);else try{this._schedule(function(){z(G)})}catch{throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}},M.prototype.invokeLater=function(z,G,V){this._lateQueue.push(z,G,V),this._queueTick()},M.prototype.invoke=function(z,G,V){this._normalQueue.push(z,G,V),this._queueTick()},M.prototype.settlePromises=function(z){this._normalQueue._pushOne(z),this._queueTick()},M.prototype._drainQueues=function(){$(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,$(this._lateQueue)},M.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},M.prototype._reset=function(){this._isTickUsed=!1},L.exports=M,L.exports.firstLineError=D},{"./queue":17,"./schedule":18}],2:[function(T,L,F){L.exports=function(D,P,A,M){var $=!1,U=function(B,Y){this._reject(Y)},z=function(B,Y){Y.promiseRejectionQueued=!0,Y.bindingPromise._then(U,U,null,this,B)},G=function(B,Y){(50397184&this._bitField)==0&&this._resolveCallback(Y.target)},V=function(B,Y){Y.promiseRejectionQueued||this._reject(B)};D.prototype.bind=function(B){$||($=!0,D.prototype._propagateFrom=M.propagateFromFunction(),D.prototype._boundValue=M.boundValueFunction());var Y=A(B),J=new D(P);J._propagateFrom(this,1);var X=this._target();if(J._setBoundTo(Y),Y instanceof D){var q={promiseRejectionQueued:!1,promise:J,target:X,bindingPromise:Y};X._then(P,z,void 0,J,q),Y._then(G,V,void 0,J,q),J._setOnCancel(Y)}else J._resolveCallback(X);return J},D.prototype._setBoundTo=function(B){B!==void 0?(this._bitField=2097152|this._bitField,this._boundTo=B):this._bitField=-2097153&this._bitField},D.prototype._isBound=function(){return(2097152&this._bitField)==2097152},D.bind=function(B,Y){return D.resolve(Y).bind(B)}}},{}],3:[function(T,L,F){var D;typeof Promise<"u"&&(D=Promise);var P=T("./promise")();P.noConflict=function(){try{Promise===P&&(Promise=D)}catch{}return P},L.exports=P},{"./promise":15}],4:[function(T,L,F){L.exports=function(D,P,A,M){var $=T("./util"),U=$.tryCatch,z=$.errorObj,G=D._async;D.prototype.break=D.prototype.cancel=function(){if(!M.cancellation())return this._warn("cancellation is disabled");for(var V=this,B=V;V._isCancellable();){if(!V._cancelBy(B)){B._isFollowing()?B._followee().cancel():B._cancelBranched();break}var Y=V._cancellationParent;if(Y==null||!Y._isCancellable()){V._isFollowing()?V._followee().cancel():V._cancelBranched();break}V._isFollowing()&&V._followee().cancel(),V._setWillBeCancelled(),B=V,V=Y}},D.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},D.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===void 0||this._branchesRemainingToCancel<=0},D.prototype._cancelBy=function(V){return V===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},D.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},D.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),G.invoke(this._cancelPromises,this,void 0))},D.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},D.prototype._unsetOnCancel=function(){this._onCancelField=void 0},D.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},D.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},D.prototype._doInvokeOnCancel=function(V,B){if($.isArray(V))for(var Y=0;Y<V.length;++Y)this._doInvokeOnCancel(V[Y],B);else if(V!==void 0)if(typeof V=="function"){if(!B){var J=U(V).call(this._boundValue());J===z&&(this._attachExtraTrace(J.e),G.throwLater(J.e))}}else V._resultCancelled(this)},D.prototype._invokeOnCancel=function(){var V=this._onCancel();this._unsetOnCancel(),G.invoke(this._doInvokeOnCancel,this,V)},D.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},D.prototype._resultCancelled=function(){this.cancel()}}},{"./util":21}],5:[function(T,L,F){L.exports=function(D){var P=T("./util"),A=T("./es5").keys,M=P.tryCatch,$=P.errorObj;return function(U,z,G){return function(V){var B=G._boundValue();e:for(var Y=0;Y<U.length;++Y){var J=U[Y];if(J===Error||J!=null&&J.prototype instanceof Error){if(V instanceof J)return M(z).call(B,V)}else if(typeof J=="function"){var X=M(J).call(B,V);if(X===$)return X;if(X)return M(z).call(B,V)}else if(P.isObject(V)){for(var q=A(J),ee=0;ee<q.length;++ee){var ce=q[ee];if(J[ce]!=V[ce])continue e}return M(z).call(B,V)}}return D}}}},{"./es5":10,"./util":21}],6:[function(T,L,F){L.exports=function(D){var P=!1,A=[];function M(){this._trace=new M.CapturedTrace($())}function $(){var U=A.length-1;if(U>=0)return A[U]}return D.prototype._promiseCreated=function(){},D.prototype._pushContext=function(){},D.prototype._popContext=function(){return null},D._peekContext=D.prototype._peekContext=function(){},M.prototype._pushContext=function(){this._trace!==void 0&&(this._trace._promiseCreated=null,A.push(this._trace))},M.prototype._popContext=function(){if(this._trace!==void 0){var U=A.pop(),z=U._promiseCreated;return U._promiseCreated=null,z}return null},M.CapturedTrace=null,M.create=function(){if(P)return new M},M.deactivateLongStackTraces=function(){},M.activateLongStackTraces=function(){var U=D.prototype._pushContext,z=D.prototype._popContext,G=D._peekContext,V=D.prototype._peekContext,B=D.prototype._promiseCreated;M.deactivateLongStackTraces=function(){D.prototype._pushContext=U,D.prototype._popContext=z,D._peekContext=G,D.prototype._peekContext=V,D.prototype._promiseCreated=B,P=!1},P=!0,D.prototype._pushContext=M.prototype._pushContext,D.prototype._popContext=M.prototype._popContext,D._peekContext=D.prototype._peekContext=$,D.prototype._promiseCreated=function(){var Y=this._peekContext();Y&&Y._promiseCreated==null&&(Y._promiseCreated=this)}},M}},{}],7:[function(T,L,F){L.exports=function(D,P,A,M){var $,U,z,G,V=D._async,B=T("./errors").Warning,Y=T("./util"),J=T("./es5"),X=Y.canAttachTrace,q=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,ee=/\((?:timers\.js):\d+:\d+\)/,ce=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,ke=null,me=null,qe=!1,ue=Y.env("BLUEBIRD_DEBUG")!=0,ge=!(Y.env("BLUEBIRD_WARNINGS")==0||!ue&&!Y.env("BLUEBIRD_WARNINGS")),Ne=!(Y.env("BLUEBIRD_LONG_STACK_TRACES")==0||!ue&&!Y.env("BLUEBIRD_LONG_STACK_TRACES")),Ve=Y.env("BLUEBIRD_W_FORGOTTEN_RETURN")!=0&&(ge||!!Y.env("BLUEBIRD_W_FORGOTTEN_RETURN"));(function(){var se=[];function he(){for(var ye=0;ye<se.length;++ye)se[ye]._notifyUnhandledRejection();pe()}function pe(){se.length=0}G=function(ye){se.push(ye),setTimeout(he,1)},J.defineProperty(D,"_unhandledRejectionCheck",{value:he}),J.defineProperty(D,"_unhandledRejectionClear",{value:pe})})(),D.prototype.suppressUnhandledRejections=function(){var se=this._target();se._bitField=-1048577&se._bitField|524288},D.prototype._ensurePossibleRejectionHandled=function(){(524288&this._bitField)==0&&(this._setRejectionIsUnhandled(),G(this))},D.prototype._notifyUnhandledRejectionIsHandled=function(){or("rejectionHandled",$,void 0,this)},D.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},D.prototype._returnedNonUndefined=function(){return(268435456&this._bitField)!=0},D.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var se=this._settledValue();this._setUnhandledRejectionIsNotified(),or("unhandledRejection",U,se,this)}},D.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},D.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},D.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},D.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},D.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},D.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},D.prototype._warn=function(se,he,pe){return tt(se,he,pe||this)},D.onPossiblyUnhandledRejection=function(se){var he=D._getContext();U=Y.contextBind(he,se)},D.onUnhandledRejectionHandled=function(se){var he=D._getContext();$=Y.contextBind(he,se)};var et=function(){};D.longStackTraces=function(){if(V.haveItemsQueued()&&!bt.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);if(!bt.longStackTraces&&$r()){var se=D.prototype._captureStackTrace,he=D.prototype._attachExtraTrace,pe=D.prototype._dereferenceTrace;bt.longStackTraces=!0,et=function(){if(V.haveItemsQueued()&&!bt.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);D.prototype._captureStackTrace=se,D.prototype._attachExtraTrace=he,D.prototype._dereferenceTrace=pe,P.deactivateLongStackTraces(),bt.longStackTraces=!1},D.prototype._captureStackTrace=oe,D.prototype._attachExtraTrace=Le,D.prototype._dereferenceTrace=nt,P.activateLongStackTraces()}},D.hasLongStackTraces=function(){return bt.longStackTraces&&$r()};var Yt={unhandledrejection:{before:function(){var se=Y.global.onunhandledrejection;return Y.global.onunhandledrejection=null,se},after:function(se){Y.global.onunhandledrejection=se}},rejectionhandled:{before:function(){var se=Y.global.onrejectionhandled;return Y.global.onrejectionhandled=null,se},after:function(se){Y.global.onrejectionhandled=se}}},Ut=function(){var se=function(pe,ye){if(!pe)return!Y.global.dispatchEvent(ye);var Pe;try{return Pe=pe.before(),!Y.global.dispatchEvent(ye)}finally{pe.after(Pe)}};try{if(typeof CustomEvent=="function"){var he=new CustomEvent("CustomEvent");return Y.global.dispatchEvent(he),function(pe,ye){pe=pe.toLowerCase();var Pe=new CustomEvent(pe,{detail:ye,cancelable:!0});return J.defineProperty(Pe,"promise",{value:ye.promise}),J.defineProperty(Pe,"reason",{value:ye.reason}),se(Yt[pe],Pe)}}return typeof Event=="function"?(he=new Event("CustomEvent"),Y.global.dispatchEvent(he),function(pe,ye){pe=pe.toLowerCase();var Pe=new Event(pe,{cancelable:!0});return Pe.detail=ye,J.defineProperty(Pe,"promise",{value:ye.promise}),J.defineProperty(Pe,"reason",{value:ye.reason}),se(Yt[pe],Pe)}):((he=document.createEvent("CustomEvent")).initCustomEvent("testingtheevent",!1,!0,{}),Y.global.dispatchEvent(he),function(pe,ye){pe=pe.toLowerCase();var Pe=document.createEvent("CustomEvent");return Pe.initCustomEvent(pe,!1,!0,ye),se(Yt[pe],Pe)})}catch{}return function(){return!1}}(),zn=Y.isNode?function(){return a.emit.apply(a,arguments)}:Y.global?function(se){var he="on"+se.toLowerCase(),pe=Y.global[he];return!!pe&&(pe.apply(Y.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function yt(se,he){return{promise:he}}var Jt={promiseCreated:yt,promiseFulfilled:yt,promiseRejected:yt,promiseResolved:yt,promiseCancelled:yt,promiseChained:function(se,he,pe){return{promise:he,child:pe}},warning:function(se,he){return{warning:he}},unhandledRejection:function(se,he,pe){return{reason:he,promise:pe}},rejectionHandled:yt},de=function(se){var he=!1;try{he=zn.apply(null,arguments)}catch(ye){V.throwLater(ye),he=!0}var pe=!1;try{pe=Ut(se,Jt[se].apply(null,arguments))}catch(ye){V.throwLater(ye),pe=!0}return pe||he};function Kr(){return!1}function pa(se,he,pe){var ye=this;try{se(he,pe,function(Pe){if(typeof Pe!="function")throw new TypeError("onCancel must be a function, got: "+Y.toString(Pe));ye._attachCancellationCallback(Pe)})}catch(Pe){return Pe}}function gn(se){if(!this._isCancellable())return this;var he=this._onCancel();he!==void 0?Y.isArray(he)?he.push(se):this._setOnCancel([he,se]):this._setOnCancel(se)}function ie(){return this._onCancelField}function fe(se){this._onCancelField=se}function Ee(){this._cancellationParent=void 0,this._onCancelField=void 0}function Ae(se,he){if((1&he)!=0){this._cancellationParent=se;var pe=se._branchesRemainingToCancel;pe===void 0&&(pe=0),se._branchesRemainingToCancel=pe+1}(2&he)!=0&&se._isBound()&&this._setBoundTo(se._boundTo)}D.config=function(se){if("longStackTraces"in(se=Object(se))&&(se.longStackTraces?D.longStackTraces():!se.longStackTraces&&D.hasLongStackTraces()&&et()),"warnings"in se){var he=se.warnings;bt.warnings=!!he,Ve=bt.warnings,Y.isObject(he)&&"wForgottenReturn"in he&&(Ve=!!he.wForgottenReturn)}if("cancellation"in se&&se.cancellation&&!bt.cancellation){if(V.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");D.prototype._clearCancellationData=Ee,D.prototype._propagateFrom=Ae,D.prototype._onCancel=ie,D.prototype._setOnCancel=fe,D.prototype._attachCancellationCallback=gn,D.prototype._execute=pa,He=Ae,bt.cancellation=!0}if("monitoring"in se&&(se.monitoring&&!bt.monitoring?(bt.monitoring=!0,D.prototype._fireEvent=de):!se.monitoring&&bt.monitoring&&(bt.monitoring=!1,D.prototype._fireEvent=Kr)),"asyncHooks"in se&&Y.nodeSupportsAsyncResource){var pe=bt.asyncHooks,ye=!!se.asyncHooks;pe!==ye&&(bt.asyncHooks=ye,ye?A():M())}return D},D.prototype._fireEvent=Kr,D.prototype._execute=function(se,he,pe){try{se(he,pe)}catch(ye){return ye}},D.prototype._onCancel=function(){},D.prototype._setOnCancel=function(se){},D.prototype._attachCancellationCallback=function(se){},D.prototype._captureStackTrace=function(){},D.prototype._attachExtraTrace=function(){},D.prototype._dereferenceTrace=function(){},D.prototype._clearCancellationData=function(){},D.prototype._propagateFrom=function(se,he){};var He=function(se,he){(2&he)!=0&&se._isBound()&&this._setBoundTo(se._boundTo)};function Ue(){var se=this._boundTo;return se!==void 0&&se instanceof D?se.isFulfilled()?se.value():void 0:se}function oe(){this._trace=new Jr(this._peekContext())}function Le(se,he){if(X(se)){var pe=this._trace;if(pe!==void 0&&he&&(pe=pe._parent),pe!==void 0)pe.attachExtraTrace(se);else if(!se.__stackCleaned__){var ye=pt(se);Y.notEnumerableProp(se,"stack",ye.message+`
`+ye.stack.join(`
`)),Y.notEnumerableProp(se,"__stackCleaned__",!0)}}}function nt(){this._trace=void 0}function tt(se,he,pe){if(bt.warnings){var ye,Pe=new B(se);if(he)pe._attachExtraTrace(Pe);else if(bt.longStackTraces&&(ye=D._peekContext()))ye.attachExtraTrace(Pe);else{var Be=pt(Pe);Pe.stack=Be.message+`
`+Be.stack.join(`
`)}de("warning",Pe)||vn(Pe,"",!0)}}function Ge(se){for(var he=[],pe=0;pe<se.length;++pe){var ye=se[pe],Pe=ye==="    (No stack trace)"||ke.test(ye),Be=Pe&&Yr(ye);Pe&&!Be&&(qe&&ye.charAt(0)!==" "&&(ye="    "+ye),he.push(ye))}return he}function pt(se){var he=se.stack,pe=se.toString();return he=typeof he=="string"&&he.length>0?function(ye){for(var Pe=ye.stack.replace(/\s+$/g,"").split(`
`),Be=0;Be<Pe.length;++Be){var Re=Pe[Be];if(Re==="    (No stack trace)"||ke.test(Re))break}return Be>0&&ye.name!="SyntaxError"&&(Pe=Pe.slice(Be)),Pe}(se):["    (No stack trace)"],{message:pe,stack:se.name=="SyntaxError"?he:Ge(he)}}function vn(se,he,pe){if(typeof console<"u"){var ye;if(Y.isObject(se)){var Pe=se.stack;ye=he+me(Pe,se)}else ye=he+String(se);typeof z=="function"?z(ye,pe):typeof console.log!="function"&&C(console.log)!=="object"||console.log(ye)}}function or(se,he,pe,ye){var Pe=!1;try{typeof he=="function"&&(Pe=!0,se==="rejectionHandled"?he(ye):he(pe,ye))}catch(Be){V.throwLater(Be)}se==="unhandledRejection"?de(se,pe,ye)||Pe||vn(pe,"Unhandled rejection "):de(se,ye)}function Ei(se){var he;if(typeof se=="function")he="[function "+(se.name||"anonymous")+"]";else{if(he=se&&typeof se.toString=="function"?se.toString():Y.toString(se),/\[object [a-zA-Z0-9$_]+\]/.test(he))try{he=JSON.stringify(se)}catch{}he.length===0&&(he="(empty array)")}return"(<"+function(pe){return pe.length<41?pe:pe.substr(0,38)+"..."}(he)+">, no stack trace)"}function $r(){return typeof go=="function"}var Yr=function(){return!1},Oc=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function mo(se){var he=se.match(Oc);if(he)return{fileName:he[1],line:parseInt(he[2],10)}}function Jr(se){this._parent=se,this._promisesCreated=0;var he=this._length=1+(se===void 0?0:se._length);go(this,Jr),he>32&&this.uncycle()}Y.inherits(Jr,Error),P.CapturedTrace=Jr,Jr.prototype.uncycle=function(){var se=this._length;if(!(se<2)){for(var he=[],pe={},ye=0,Pe=this;Pe!==void 0;++ye)he.push(Pe),Pe=Pe._parent;for(ye=(se=this._length=ye)-1;ye>=0;--ye){var Be=he[ye].stack;pe[Be]===void 0&&(pe[Be]=ye)}for(ye=0;ye<se;++ye){var Re=pe[he[ye].stack];if(Re!==void 0&&Re!==ye){Re>0&&(he[Re-1]._parent=void 0,he[Re-1]._length=1),he[ye]._parent=void 0,he[ye]._length=1;var ut=ye>0?he[ye-1]:this;Re<se-1?(ut._parent=he[Re+1],ut._parent.uncycle(),ut._length=ut._parent._length+1):(ut._parent=void 0,ut._length=1);for(var Mt=ut._length+1,mt=ye-2;mt>=0;--mt)he[mt]._length=Mt,Mt++;return}}}},Jr.prototype.attachExtraTrace=function(se){if(!se.__stackCleaned__){this.uncycle();for(var he=pt(se),pe=he.message,ye=[he.stack],Pe=this;Pe!==void 0;)ye.push(Ge(Pe.stack.split(`
`))),Pe=Pe._parent;(function(Be){for(var Re=Be[0],ut=1;ut<Be.length;++ut){for(var Mt=Be[ut],mt=Re.length-1,Qr=Re[mt],Un=-1,Jn=Mt.length-1;Jn>=0;--Jn)if(Mt[Jn]===Qr){Un=Jn;break}for(Jn=Un;Jn>=0;--Jn){var vo=Mt[Jn];if(Re[mt]!==vo)break;Re.pop(),mt--}Re=Mt}})(ye),function(Be){for(var Re=0;Re<Be.length;++Re)(Be[Re].length===0||Re+1<Be.length&&Be[Re][0]===Be[Re+1][0])&&(Be.splice(Re,1),Re--)}(ye),Y.notEnumerableProp(se,"stack",function(Be,Re){for(var ut=0;ut<Re.length-1;++ut)Re[ut].push("From previous event:"),Re[ut]=Re[ut].join(`
`);return ut<Re.length&&(Re[ut]=Re[ut].join(`
`)),Be+`
`+Re.join(`
`)}(pe,ye)),Y.notEnumerableProp(se,"__stackCleaned__",!0)}};var go=function(){var se=/^\s*at\s*/,he=function(Be,Re){return typeof Be=="string"?Be:Re.name!==void 0&&Re.message!==void 0?Re.toString():Ei(Re)};if(typeof Error.stackTraceLimit=="number"&&typeof Error.captureStackTrace=="function"){Error.stackTraceLimit+=6,ke=se,me=he;var pe=Error.captureStackTrace;return Yr=function(Be){return q.test(Be)},function(Be,Re){Error.stackTraceLimit+=6,pe(Be,Re),Error.stackTraceLimit-=6}}var ye,Pe=new Error;if(typeof Pe.stack=="string"&&Pe.stack.split(`
`)[0].indexOf("stackDetection@")>=0)return ke=/@/,me=he,qe=!0,function(Be){Be.stack=new Error().stack};try{throw new Error}catch(Be){ye="stack"in Be}return"stack"in Pe||!ye||typeof Error.stackTraceLimit!="number"?(me=function(Be,Re){return typeof Be=="string"?Be:C(Re)!=="object"&&typeof Re!="function"||Re.name===void 0||Re.message===void 0?Ei(Re):Re.toString()},null):(ke=se,me=he,function(Be){Error.stackTraceLimit+=6;try{throw new Error}catch(Re){Be.stack=Re.stack}Error.stackTraceLimit-=6})}();typeof console<"u"&&console.warn!==void 0&&(z=function(se){console.warn(se)},Y.isNode&&a.stderr.isTTY?z=function(se,he){var pe=he?"\x1B[33m":"\x1B[31m";console.warn(pe+se+`\x1B[0m
`)}:Y.isNode||typeof new Error().stack!="string"||(z=function(se,he){console.warn("%c"+se,he?"color: darkorange":"color: red")}));var bt={warnings:ge,longStackTraces:!1,cancellation:!1,monitoring:!1,asyncHooks:!1};return Ne&&D.longStackTraces(),{asyncHooks:function(){return bt.asyncHooks},longStackTraces:function(){return bt.longStackTraces},warnings:function(){return bt.warnings},cancellation:function(){return bt.cancellation},monitoring:function(){return bt.monitoring},propagateFromFunction:function(){return He},boundValueFunction:function(){return Ue},checkForgottenReturns:function(se,he,pe,ye,Pe){if(se===void 0&&he!==null&&Ve){if(Pe!==void 0&&Pe._returnedNonUndefined()||(65535&ye._bitField)==0)return;pe&&(pe+=" ");var Be="",Re="";if(he._trace){for(var ut=he._trace.stack.split(`
`),Mt=Ge(ut),mt=Mt.length-1;mt>=0;--mt){var Qr=Mt[mt];if(!ee.test(Qr)){var Un=Qr.match(ce);Un&&(Be="at "+Un[1]+":"+Un[2]+":"+Un[3]+" ");break}}if(Mt.length>0){var Jn=Mt[0];for(mt=0;mt<ut.length;++mt)if(ut[mt]===Jn){mt>0&&(Re=`
`+ut[mt-1]);break}}}var vo="a promise was created in a "+pe+"handler "+Be+"but was not returned from it, see http://goo.gl/rRqMUw"+Re;ye._warn(vo,!0,he)}},setBounds:function(se,he){if($r()){for(var pe,ye,Pe=(se.stack||"").split(`
`),Be=(he.stack||"").split(`
`),Re=-1,ut=-1,Mt=0;Mt<Pe.length;++Mt)if(mt=mo(Pe[Mt])){pe=mt.fileName,Re=mt.line;break}for(Mt=0;Mt<Be.length;++Mt){var mt;if(mt=mo(Be[Mt])){ye=mt.fileName,ut=mt.line;break}}Re<0||ut<0||!pe||!ye||pe!==ye||Re>=ut||(Yr=function(Qr){if(q.test(Qr))return!0;var Un=mo(Qr);return!!(Un&&Un.fileName===pe&&Re<=Un.line&&Un.line<=ut)})}},warn:tt,deprecated:function(se,he){var pe=se+" is deprecated and will be removed in a future version.";return he&&(pe+=" Use "+he+" instead."),tt(pe)},CapturedTrace:Jr,fireDomEvent:Ut,fireGlobalEvent:zn}}},{"./errors":9,"./es5":10,"./util":21}],8:[function(T,L,F){L.exports=function(D){function P(){return this.value}function A(){throw this.reason}D.prototype.return=D.prototype.thenReturn=function(M){return M instanceof D&&M.suppressUnhandledRejections(),this._then(P,void 0,void 0,{value:M},void 0)},D.prototype.throw=D.prototype.thenThrow=function(M){return this._then(A,void 0,void 0,{reason:M},void 0)},D.prototype.catchThrow=function(M){if(arguments.length<=1)return this._then(void 0,A,void 0,{reason:M},void 0);var $=arguments[1];return this.caught(M,function(){throw $})},D.prototype.catchReturn=function(M){if(arguments.length<=1)return M instanceof D&&M.suppressUnhandledRejections(),this._then(void 0,P,void 0,{value:M},void 0);var $=arguments[1];return $ instanceof D&&$.suppressUnhandledRejections(),this.caught(M,function(){return $})}}},{}],9:[function(T,L,F){var D,P,A=T("./es5"),M=A.freeze,$=T("./util"),U=$.inherits,z=$.notEnumerableProp;function G(me,qe){function ue(ge){if(!(this instanceof ue))return new ue(ge);z(this,"message",typeof ge=="string"?ge:qe),z(this,"name",me),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return U(ue,Error),ue}var V=G("Warning","warning"),B=G("CancellationError","cancellation error"),Y=G("TimeoutError","timeout error"),J=G("AggregateError","aggregate error");try{D=TypeError,P=RangeError}catch{D=G("TypeError","type error"),P=G("RangeError","range error")}for(var X="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),q=0;q<X.length;++q)typeof Array.prototype[X[q]]=="function"&&(J.prototype[X[q]]=Array.prototype[X[q]]);A.defineProperty(J.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),J.prototype.isOperational=!0;var ee=0;function ce(me){if(!(this instanceof ce))return new ce(me);z(this,"name","OperationalError"),z(this,"message",me),this.cause=me,this.isOperational=!0,me instanceof Error?(z(this,"message",me.message),z(this,"stack",me.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}J.prototype.toString=function(){var me=Array(4*ee+1).join(" "),qe=`
`+me+`AggregateError of:
`;ee++,me=Array(4*ee+1).join(" ");for(var ue=0;ue<this.length;++ue){for(var ge=this[ue]===this?"[Circular AggregateError]":this[ue]+"",Ne=ge.split(`
`),Ve=0;Ve<Ne.length;++Ve)Ne[Ve]=me+Ne[Ve];qe+=(ge=Ne.join(`
`))+`
`}return ee--,qe},U(ce,Error);var ke=Error.__BluebirdErrorTypes__;ke||(ke=M({CancellationError:B,TimeoutError:Y,OperationalError:ce,RejectionError:ce,AggregateError:J}),A.defineProperty(Error,"__BluebirdErrorTypes__",{value:ke,writable:!1,enumerable:!1,configurable:!1})),L.exports={Error,TypeError:D,RangeError:P,CancellationError:ke.CancellationError,OperationalError:ke.OperationalError,TimeoutError:ke.TimeoutError,AggregateError:ke.AggregateError,Warning:V}},{"./es5":10,"./util":21}],10:[function(T,L,F){var D=function(){return this===void 0}();if(D)L.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:D,propertyIsWritable:function(U,z){var G=Object.getOwnPropertyDescriptor(U,z);return!(G&&!G.writable&&!G.set)}};else{var P={}.hasOwnProperty,A={}.toString,M={}.constructor.prototype,$=function(U){var z=[];for(var G in U)P.call(U,G)&&z.push(G);return z};L.exports={isArray:function(U){try{return A.call(U)==="[object Array]"}catch{return!1}},keys:$,names:$,defineProperty:function(U,z,G){return U[z]=G.value,U},getDescriptor:function(U,z){return{value:U[z]}},freeze:function(U){return U},getPrototypeOf:function(U){try{return Object(U).constructor.prototype}catch{return M}},isES5:D,propertyIsWritable:function(){return!0}}}},{}],11:[function(T,L,F){L.exports=function(D,P,A){var M=T("./util"),$=D.CancellationError,U=M.errorObj,z=T("./catch_filter")(A);function G(q,ee,ce){this.promise=q,this.type=ee,this.handler=ce,this.called=!1,this.cancelPromise=null}function V(q){this.finallyHandler=q}function B(q,ee){return q.cancelPromise!=null&&(arguments.length>1?q.cancelPromise._reject(ee):q.cancelPromise._cancel(),q.cancelPromise=null,!0)}function Y(){return X.call(this,this.promise._target()._settledValue())}function J(q){if(!B(this,q))return U.e=q,U}function X(q){var ee=this.promise,ce=this.handler;if(!this.called){this.called=!0;var ke=this.isFinallyHandler()?ce.call(ee._boundValue()):ce.call(ee._boundValue(),q);if(ke===A)return ke;if(ke!==void 0){ee._setReturnedNonUndefined();var me=P(ke,ee);if(me instanceof D){if(this.cancelPromise!=null){if(me._isCancelled()){var qe=new $("late cancellation observer");return ee._attachExtraTrace(qe),U.e=qe,U}me.isPending()&&me._attachCancellationCallback(new V(this))}return me._then(Y,J,void 0,this,void 0)}}}return ee.isRejected()?(B(this),U.e=q,U):(B(this),q)}return G.prototype.isFinallyHandler=function(){return this.type===0},V.prototype._resultCancelled=function(){B(this.finallyHandler)},D.prototype._passThrough=function(q,ee,ce,ke){return typeof q!="function"?this.then():this._then(ce,ke,void 0,new G(this,ee,q),void 0)},D.prototype.lastly=D.prototype.finally=function(q){return this._passThrough(q,0,X,X)},D.prototype.tap=function(q){return this._passThrough(q,1,X)},D.prototype.tapCatch=function(q){var ee=arguments.length;if(ee===1)return this._passThrough(q,1,void 0,X);var ce,ke=new Array(ee-1),me=0;for(ce=0;ce<ee-1;++ce){var qe=arguments[ce];if(!M.isObject(qe))return D.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+M.classString(qe)));ke[me++]=qe}ke.length=me;var ue=arguments[ce];return this._passThrough(z(ke,ue,this),1,void 0,X)},G}},{"./catch_filter":5,"./util":21}],12:[function(T,L,F){L.exports=function(D,P,A,M,$){var U=T("./util");U.canEvaluate,U.tryCatch,U.errorObj,D.join=function(){var z,G=arguments.length-1;G>0&&typeof arguments[G]=="function"&&(z=arguments[G]);var V=[].slice.call(arguments);z&&V.pop();var B=new P(V).promise();return z!==void 0?B.spread(z):B}}},{"./util":21}],13:[function(T,L,F){L.exports=function(D,P,A,M,$){var U=T("./util"),z=U.tryCatch;D.method=function(G){if(typeof G!="function")throw new D.TypeError("expecting a function but got "+U.classString(G));return function(){var V=new D(P);V._captureStackTrace(),V._pushContext();var B=z(G).apply(this,arguments),Y=V._popContext();return $.checkForgottenReturns(B,Y,"Promise.method",V),V._resolveFromSyncValue(B),V}},D.attempt=D.try=function(G){if(typeof G!="function")return M("expecting a function but got "+U.classString(G));var V,B=new D(P);if(B._captureStackTrace(),B._pushContext(),arguments.length>1){$.deprecated("calling Promise.try with more than 1 argument");var Y=arguments[1],J=arguments[2];V=U.isArray(Y)?z(G).apply(J,Y):z(G).call(J,Y)}else V=z(G)();var X=B._popContext();return $.checkForgottenReturns(V,X,"Promise.try",B),B._resolveFromSyncValue(V),B},D.prototype._resolveFromSyncValue=function(G){G===U.errorObj?this._rejectCallback(G.e,!1):this._resolveCallback(G,!0)}}},{"./util":21}],14:[function(T,L,F){var D=T("./util"),P=D.maybeWrapAsError,A=T("./errors").OperationalError,M=T("./es5"),$=/^(?:name|message|stack|cause)$/;function U(z){var G;if(function(J){return J instanceof Error&&M.getPrototypeOf(J)===Error.prototype}(z)){(G=new A(z)).name=z.name,G.message=z.message,G.stack=z.stack;for(var V=M.keys(z),B=0;B<V.length;++B){var Y=V[B];$.test(Y)||(G[Y]=z[Y])}return G}return D.markAsOriginatingFromRejection(z),z}L.exports=function(z,G){return function(V,B){if(z!==null){if(V){var Y=U(P(V));z._attachExtraTrace(Y),z._reject(Y)}else if(G){var J=[].slice.call(arguments,1);z._fulfill(J)}else z._fulfill(B);z=null}}}},{"./errors":9,"./es5":10,"./util":21}],15:[function(T,L,F){L.exports=function(){var D=function(){return new ce(`circular promise resolution chain

    See http://goo.gl/MqrFmX
`)},P=function(){return new de.PromiseInspection(this._target())},A=function(ie){return de.reject(new ce(ie))};function M(){}var $={},U=T("./util");U.setReflectHandler(P);var z=function(){var ie=a.domain;return ie===void 0?null:ie},G=function(){return{domain:z(),async:null}},V=U.isNode&&U.nodeSupportsAsyncResource?T("async_hooks").AsyncResource:null,B=function(){return{domain:z(),async:new V("Bluebird::Promise")}},Y=U.isNode?G:function(){return null};U.notEnumerableProp(de,"_getContext",Y);var J=T("./es5"),X=T("./async"),q=new X;J.defineProperty(de,"_async",{value:q});var ee=T("./errors"),ce=de.TypeError=ee.TypeError;de.RangeError=ee.RangeError;var ke=de.CancellationError=ee.CancellationError;de.TimeoutError=ee.TimeoutError,de.OperationalError=ee.OperationalError,de.RejectionError=ee.OperationalError,de.AggregateError=ee.AggregateError;var me=function(){},qe={},ue={},ge=T("./thenables")(de,me),Ne=T("./promise_array")(de,me,ge,A,M),Ve=T("./context")(de),et=(Ve.create,T("./debuggability")(de,Ve,function(){Y=B,U.notEnumerableProp(de,"_getContext",B)},function(){Y=G,U.notEnumerableProp(de,"_getContext",G)})),Yt=(et.CapturedTrace,T("./finally")(de,ge,ue)),Ut=T("./catch_filter")(ue),zn=T("./nodeback"),yt=U.errorObj,Jt=U.tryCatch;function de(ie){ie!==me&&function(fe,Ee){if(fe==null||fe.constructor!==de)throw new ce(`the promise constructor cannot be invoked directly

    See http://goo.gl/MqrFmX
`);if(typeof Ee!="function")throw new ce("expecting a function but got "+U.classString(Ee))}(this,ie),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(ie),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function Kr(ie){this.promise._resolveCallback(ie)}function pa(ie){this.promise._rejectCallback(ie,!1)}function gn(ie){var fe=new de(me);fe._fulfillmentHandler0=ie,fe._rejectionHandler0=ie,fe._promise0=ie,fe._receiver0=ie}return de.prototype.toString=function(){return"[object Promise]"},de.prototype.caught=de.prototype.catch=function(ie){var fe=arguments.length;if(fe>1){var Ee,Ae=new Array(fe-1),He=0;for(Ee=0;Ee<fe-1;++Ee){var Ue=arguments[Ee];if(!U.isObject(Ue))return A("Catch statement predicate: expecting an object but got "+U.classString(Ue));Ae[He++]=Ue}if(Ae.length=He,typeof(ie=arguments[Ee])!="function")throw new ce("The last argument to .catch() must be a function, got "+U.toString(ie));return this.then(void 0,Ut(Ae,ie,this))}return this.then(void 0,ie)},de.prototype.reflect=function(){return this._then(P,P,void 0,this,void 0)},de.prototype.then=function(ie,fe){if(et.warnings()&&arguments.length>0&&typeof ie!="function"&&typeof fe!="function"){var Ee=".then() only accepts functions but was passed: "+U.classString(ie);arguments.length>1&&(Ee+=", "+U.classString(fe)),this._warn(Ee)}return this._then(ie,fe,void 0,void 0,void 0)},de.prototype.done=function(ie,fe){this._then(ie,fe,void 0,void 0,void 0)._setIsFinal()},de.prototype.spread=function(ie){return typeof ie!="function"?A("expecting a function but got "+U.classString(ie)):this.all()._then(ie,void 0,void 0,qe,void 0)},de.prototype.toJSON=function(){var ie={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(ie.fulfillmentValue=this.value(),ie.isFulfilled=!0):this.isRejected()&&(ie.rejectionReason=this.reason(),ie.isRejected=!0),ie},de.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new Ne(this).promise()},de.prototype.error=function(ie){return this.caught(U.originatesFromRejection,ie)},de.getNewLibraryCopy=L.exports,de.is=function(ie){return ie instanceof de},de.fromNode=de.fromCallback=function(ie){var fe=new de(me);fe._captureStackTrace();var Ee=arguments.length>1&&!!Object(arguments[1]).multiArgs,Ae=Jt(ie)(zn(fe,Ee));return Ae===yt&&fe._rejectCallback(Ae.e,!0),fe._isFateSealed()||fe._setAsyncGuaranteed(),fe},de.all=function(ie){return new Ne(ie).promise()},de.cast=function(ie){var fe=ge(ie);return fe instanceof de||((fe=new de(me))._captureStackTrace(),fe._setFulfilled(),fe._rejectionHandler0=ie),fe},de.resolve=de.fulfilled=de.cast,de.reject=de.rejected=function(ie){var fe=new de(me);return fe._captureStackTrace(),fe._rejectCallback(ie,!0),fe},de.setScheduler=function(ie){if(typeof ie!="function")throw new ce("expecting a function but got "+U.classString(ie));return q.setScheduler(ie)},de.prototype._then=function(ie,fe,Ee,Ae,He){var Ue=He!==void 0,oe=Ue?He:new de(me),Le=this._target(),nt=Le._bitField;Ue||(oe._propagateFrom(this,3),oe._captureStackTrace(),Ae===void 0&&(2097152&this._bitField)!=0&&(Ae=(50397184&nt)!=0?this._boundValue():Le===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,oe));var tt=Y();if((50397184&nt)!=0){var Ge,pt,vn=Le._settlePromiseCtx;(33554432&nt)!=0?(pt=Le._rejectionHandler0,Ge=ie):(16777216&nt)!=0?(pt=Le._fulfillmentHandler0,Ge=fe,Le._unsetRejectionIsUnhandled()):(vn=Le._settlePromiseLateCancellationObserver,pt=new ke("late cancellation observer"),Le._attachExtraTrace(pt),Ge=fe),q.invoke(vn,Le,{handler:U.contextBind(tt,Ge),promise:oe,receiver:Ae,value:pt})}else Le._addCallbacks(ie,fe,oe,Ae,tt);return oe},de.prototype._length=function(){return 65535&this._bitField},de.prototype._isFateSealed=function(){return(117506048&this._bitField)!=0},de.prototype._isFollowing=function(){return(67108864&this._bitField)==67108864},de.prototype._setLength=function(ie){this._bitField=-65536&this._bitField|65535&ie},de.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},de.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},de.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},de.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},de.prototype._isFinal=function(){return(4194304&this._bitField)>0},de.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},de.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},de.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},de.prototype._setAsyncGuaranteed=function(){if(!q.hasCustomScheduler()){var ie=this._bitField;this._bitField=ie|(536870912&ie)>>2^134217728}},de.prototype._setNoAsyncGuarantee=function(){this._bitField=-134217729&(536870912|this._bitField)},de.prototype._receiverAt=function(ie){var fe=ie===0?this._receiver0:this[4*ie-4+3];if(fe!==$)return fe===void 0&&this._isBound()?this._boundValue():fe},de.prototype._promiseAt=function(ie){return this[4*ie-4+2]},de.prototype._fulfillmentHandlerAt=function(ie){return this[4*ie-4+0]},de.prototype._rejectionHandlerAt=function(ie){return this[4*ie-4+1]},de.prototype._boundValue=function(){},de.prototype._migrateCallback0=function(ie){ie._bitField;var fe=ie._fulfillmentHandler0,Ee=ie._rejectionHandler0,Ae=ie._promise0,He=ie._receiverAt(0);He===void 0&&(He=$),this._addCallbacks(fe,Ee,Ae,He,null)},de.prototype._migrateCallbackAt=function(ie,fe){var Ee=ie._fulfillmentHandlerAt(fe),Ae=ie._rejectionHandlerAt(fe),He=ie._promiseAt(fe),Ue=ie._receiverAt(fe);Ue===void 0&&(Ue=$),this._addCallbacks(Ee,Ae,He,Ue,null)},de.prototype._addCallbacks=function(ie,fe,Ee,Ae,He){var Ue=this._length();if(Ue>=65531&&(Ue=0,this._setLength(0)),Ue===0)this._promise0=Ee,this._receiver0=Ae,typeof ie=="function"&&(this._fulfillmentHandler0=U.contextBind(He,ie)),typeof fe=="function"&&(this._rejectionHandler0=U.contextBind(He,fe));else{var oe=4*Ue-4;this[oe+2]=Ee,this[oe+3]=Ae,typeof ie=="function"&&(this[oe+0]=U.contextBind(He,ie)),typeof fe=="function"&&(this[oe+1]=U.contextBind(He,fe))}return this._setLength(Ue+1),Ue},de.prototype._proxy=function(ie,fe){this._addCallbacks(void 0,void 0,fe,ie,null)},de.prototype._resolveCallback=function(ie,fe){if((117506048&this._bitField)==0){if(ie===this)return this._rejectCallback(D(),!1);var Ee=ge(ie,this);if(!(Ee instanceof de))return this._fulfill(ie);fe&&this._propagateFrom(Ee,2);var Ae=Ee._target();if(Ae!==this){var He=Ae._bitField;if((50397184&He)==0){var Ue=this._length();Ue>0&&Ae._migrateCallback0(this);for(var oe=1;oe<Ue;++oe)Ae._migrateCallbackAt(this,oe);this._setFollowing(),this._setLength(0),this._setFollowee(Ee)}else if((33554432&He)!=0)this._fulfill(Ae._value());else if((16777216&He)!=0)this._reject(Ae._reason());else{var Le=new ke("late cancellation observer");Ae._attachExtraTrace(Le),this._reject(Le)}}else this._reject(D())}},de.prototype._rejectCallback=function(ie,fe,Ee){var Ae=U.ensureErrorObject(ie),He=Ae===ie;if(!He&&!Ee&&et.warnings()){var Ue="a promise was rejected with a non-error: "+U.classString(ie);this._warn(Ue,!0)}this._attachExtraTrace(Ae,!!fe&&He),this._reject(ie)},de.prototype._resolveFromExecutor=function(ie){if(ie!==me){var fe=this;this._captureStackTrace(),this._pushContext();var Ee=!0,Ae=this._execute(ie,function(He){fe._resolveCallback(He)},function(He){fe._rejectCallback(He,Ee)});Ee=!1,this._popContext(),Ae!==void 0&&fe._rejectCallback(Ae,!0)}},de.prototype._settlePromiseFromHandler=function(ie,fe,Ee,Ae){var He=Ae._bitField;if((65536&He)==0){var Ue;Ae._pushContext(),fe===qe?Ee&&typeof Ee.length=="number"?Ue=Jt(ie).apply(this._boundValue(),Ee):(Ue=yt).e=new ce("cannot .spread() a non-array: "+U.classString(Ee)):Ue=Jt(ie).call(fe,Ee);var oe=Ae._popContext();(65536&(He=Ae._bitField))==0&&(Ue===ue?Ae._reject(Ee):Ue===yt?Ae._rejectCallback(Ue.e,!1):(et.checkForgottenReturns(Ue,oe,"",Ae,this),Ae._resolveCallback(Ue)))}},de.prototype._target=function(){for(var ie=this;ie._isFollowing();)ie=ie._followee();return ie},de.prototype._followee=function(){return this._rejectionHandler0},de.prototype._setFollowee=function(ie){this._rejectionHandler0=ie},de.prototype._settlePromise=function(ie,fe,Ee,Ae){var He=ie instanceof de,Ue=this._bitField,oe=(134217728&Ue)!=0;(65536&Ue)!=0?(He&&ie._invokeInternalOnCancel(),Ee instanceof Yt&&Ee.isFinallyHandler()?(Ee.cancelPromise=ie,Jt(fe).call(Ee,Ae)===yt&&ie._reject(yt.e)):fe===P?ie._fulfill(P.call(Ee)):Ee instanceof M?Ee._promiseCancelled(ie):He||ie instanceof Ne?ie._cancel():Ee.cancel()):typeof fe=="function"?He?(oe&&ie._setAsyncGuaranteed(),this._settlePromiseFromHandler(fe,Ee,Ae,ie)):fe.call(Ee,Ae,ie):Ee instanceof M?Ee._isResolved()||((33554432&Ue)!=0?Ee._promiseFulfilled(Ae,ie):Ee._promiseRejected(Ae,ie)):He&&(oe&&ie._setAsyncGuaranteed(),(33554432&Ue)!=0?ie._fulfill(Ae):ie._reject(Ae))},de.prototype._settlePromiseLateCancellationObserver=function(ie){var fe=ie.handler,Ee=ie.promise,Ae=ie.receiver,He=ie.value;typeof fe=="function"?Ee instanceof de?this._settlePromiseFromHandler(fe,Ae,He,Ee):fe.call(Ae,He,Ee):Ee instanceof de&&Ee._reject(He)},de.prototype._settlePromiseCtx=function(ie){this._settlePromise(ie.promise,ie.handler,ie.receiver,ie.value)},de.prototype._settlePromise0=function(ie,fe,Ee){var Ae=this._promise0,He=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(Ae,ie,He,fe)},de.prototype._clearCallbackDataAtIndex=function(ie){var fe=4*ie-4;this[fe+2]=this[fe+3]=this[fe+0]=this[fe+1]=void 0},de.prototype._fulfill=function(ie){var fe=this._bitField;if(!((117506048&fe)>>>16)){if(ie===this){var Ee=D();return this._attachExtraTrace(Ee),this._reject(Ee)}this._setFulfilled(),this._rejectionHandler0=ie,(65535&fe)>0&&((134217728&fe)!=0?this._settlePromises():q.settlePromises(this),this._dereferenceTrace())}},de.prototype._reject=function(ie){var fe=this._bitField;if(!((117506048&fe)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=ie,this._isFinal())return q.fatalError(ie,U.isNode);(65535&fe)>0?q.settlePromises(this):this._ensurePossibleRejectionHandled()}},de.prototype._fulfillPromises=function(ie,fe){for(var Ee=1;Ee<ie;Ee++){var Ae=this._fulfillmentHandlerAt(Ee),He=this._promiseAt(Ee),Ue=this._receiverAt(Ee);this._clearCallbackDataAtIndex(Ee),this._settlePromise(He,Ae,Ue,fe)}},de.prototype._rejectPromises=function(ie,fe){for(var Ee=1;Ee<ie;Ee++){var Ae=this._rejectionHandlerAt(Ee),He=this._promiseAt(Ee),Ue=this._receiverAt(Ee);this._clearCallbackDataAtIndex(Ee),this._settlePromise(He,Ae,Ue,fe)}},de.prototype._settlePromises=function(){var ie=this._bitField,fe=65535&ie;if(fe>0){if((16842752&ie)!=0){var Ee=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,Ee,ie),this._rejectPromises(fe,Ee)}else{var Ae=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,Ae,ie),this._fulfillPromises(fe,Ae)}this._setLength(0)}this._clearCancellationData()},de.prototype._settledValue=function(){var ie=this._bitField;return(33554432&ie)!=0?this._rejectionHandler0:(16777216&ie)!=0?this._fulfillmentHandler0:void 0},typeof Symbol<"u"&&Symbol.toStringTag&&J.defineProperty(de.prototype,Symbol.toStringTag,{get:function(){return"Object"}}),de.defer=de.pending=function(){return et.deprecated("Promise.defer","new Promise"),{promise:new de(me),resolve:Kr,reject:pa}},U.notEnumerableProp(de,"_makeSelfResolutionError",D),T("./method")(de,me,ge,A,et),T("./bind")(de,me,ge,et),T("./cancel")(de,Ne,A,et),T("./direct_resolve")(de),T("./synchronous_inspection")(de),T("./join")(de,Ne,ge,me,q),de.Promise=de,de.version="3.7.2",U.toFastProperties(de),U.toFastProperties(de.prototype),gn({a:1}),gn({b:2}),gn({c:3}),gn(1),gn(function(){}),gn(void 0),gn(!1),gn(new de(me)),et.setBounds(X.firstLineError,U.lastLineError),de}},{"./async":1,"./bind":2,"./cancel":4,"./catch_filter":5,"./context":6,"./debuggability":7,"./direct_resolve":8,"./errors":9,"./es5":10,"./finally":11,"./join":12,"./method":13,"./nodeback":14,"./promise_array":16,"./synchronous_inspection":19,"./thenables":20,"./util":21,async_hooks:void 0}],16:[function(T,L,F){L.exports=function(D,P,A,M,$){var U=T("./util");U.isArray;function z(G){var V=this._promise=new D(P);G instanceof D&&(V._propagateFrom(G,3),G.suppressUnhandledRejections()),V._setOnCancel(this),this._values=G,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return U.inherits(z,$),z.prototype.length=function(){return this._length},z.prototype.promise=function(){return this._promise},z.prototype._init=function G(V,B){var Y=A(this._values,this._promise);if(Y instanceof D){var J=(Y=Y._target())._bitField;if(this._values=Y,(50397184&J)==0)return this._promise._setAsyncGuaranteed(),Y._then(G,this._reject,void 0,this,B);if((33554432&J)==0)return(16777216&J)!=0?this._reject(Y._reason()):this._cancel();Y=Y._value()}if((Y=U.asArray(Y))!==null)Y.length!==0?this._iterate(Y):B===-5?this._resolveEmptyArray():this._resolve(function(q){switch(q){case-2:return[];case-3:return{};case-6:return new Map}}(B));else{var X=M("expecting an array or an iterable object but got "+U.classString(Y)).reason();this._promise._rejectCallback(X,!1)}},z.prototype._iterate=function(G){var V=this.getActualLength(G.length);this._length=V,this._values=this.shouldCopyValues()?new Array(V):this._values;for(var B=this._promise,Y=!1,J=null,X=0;X<V;++X){var q=A(G[X],B);J=q instanceof D?(q=q._target())._bitField:null,Y?J!==null&&q.suppressUnhandledRejections():J!==null?(50397184&J)==0?(q._proxy(this,X),this._values[X]=q):Y=(33554432&J)!=0?this._promiseFulfilled(q._value(),X):(16777216&J)!=0?this._promiseRejected(q._reason(),X):this._promiseCancelled(X):Y=this._promiseFulfilled(q,X)}Y||B._setAsyncGuaranteed()},z.prototype._isResolved=function(){return this._values===null},z.prototype._resolve=function(G){this._values=null,this._promise._fulfill(G)},z.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},z.prototype._reject=function(G){this._values=null,this._promise._rejectCallback(G,!1)},z.prototype._promiseFulfilled=function(G,V){return this._values[V]=G,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},z.prototype._promiseCancelled=function(){return this._cancel(),!0},z.prototype._promiseRejected=function(G){return this._totalResolved++,this._reject(G),!0},z.prototype._resultCancelled=function(){if(!this._isResolved()){var G=this._values;if(this._cancel(),G instanceof D)G.cancel();else for(var V=0;V<G.length;++V)G[V]instanceof D&&G[V].cancel()}},z.prototype.shouldCopyValues=function(){return!0},z.prototype.getActualLength=function(G){return G},z}},{"./util":21}],17:[function(T,L,F){function D(P){this._capacity=P,this._length=0,this._front=0}D.prototype._willBeOverCapacity=function(P){return this._capacity<P},D.prototype._pushOne=function(P){var A=this.length();this._checkCapacity(A+1),this[this._front+A&this._capacity-1]=P,this._length=A+1},D.prototype.push=function(P,A,M){var $=this.length()+3;if(this._willBeOverCapacity($))return this._pushOne(P),this._pushOne(A),void this._pushOne(M);var U=this._front+$-3;this._checkCapacity($);var z=this._capacity-1;this[U+0&z]=P,this[U+1&z]=A,this[U+2&z]=M,this._length=$},D.prototype.shift=function(){var P=this._front,A=this[P];return this[P]=void 0,this._front=P+1&this._capacity-1,this._length--,A},D.prototype.length=function(){return this._length},D.prototype._checkCapacity=function(P){this._capacity<P&&this._resizeTo(this._capacity<<1)},D.prototype._resizeTo=function(P){var A=this._capacity;this._capacity=P,function(M,$,U,z,G){for(var V=0;V<G;++V)U[V+z]=M[V+$],M[V+$]=void 0}(this,0,this,A,this._front+this._length&A-1)},L.exports=D},{}],18:[function(T,L,F){var D,P=T("./util"),A=P.getNativePromise();if(P.isNode&&typeof MutationObserver>"u"){var M=l.setImmediate,$=a.nextTick;D=P.isRecentNode?function(z){M.call(l,z)}:function(z){$.call(a,z)}}else if(typeof A=="function"&&typeof A.resolve=="function"){var U=A.resolve();D=function(z){U.then(z)}}else D=typeof MutationObserver<"u"&&(typeof window>"u"||!window.navigator||!window.navigator.standalone&&!window.cordova)&&"classList"in document.documentElement?function(){var z=document.createElement("div"),G={attributes:!0},V=!1,B=document.createElement("div");return new MutationObserver(function(){z.classList.toggle("foo"),V=!1}).observe(B,G),function(Y){var J=new MutationObserver(function(){J.disconnect(),Y()});J.observe(z,G),V||(V=!0,B.classList.toggle("foo"))}}():h!==void 0?function(z){h(z)}:typeof setTimeout<"u"?function(z){setTimeout(z,0)}:function(){throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)};L.exports=D},{"./util":21}],19:[function(T,L,F){L.exports=function(D){function P(V){V!==void 0?(V=V._target(),this._bitField=V._bitField,this._settledValueField=V._isFateSealed()?V._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}P.prototype._settledValue=function(){return this._settledValueField};var A=P.prototype.value=function(){if(!this.isFulfilled())throw new TypeError(`cannot get fulfillment value of a non-fulfilled promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},M=P.prototype.error=P.prototype.reason=function(){if(!this.isRejected())throw new TypeError(`cannot get rejection reason of a non-rejected promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},$=P.prototype.isFulfilled=function(){return(33554432&this._bitField)!=0},U=P.prototype.isRejected=function(){return(16777216&this._bitField)!=0},z=P.prototype.isPending=function(){return(50397184&this._bitField)==0},G=P.prototype.isResolved=function(){return(50331648&this._bitField)!=0};P.prototype.isCancelled=function(){return(8454144&this._bitField)!=0},D.prototype.__isCancelled=function(){return(65536&this._bitField)==65536},D.prototype._isCancelled=function(){return this._target().__isCancelled()},D.prototype.isCancelled=function(){return(8454144&this._target()._bitField)!=0},D.prototype.isPending=function(){return z.call(this._target())},D.prototype.isRejected=function(){return U.call(this._target())},D.prototype.isFulfilled=function(){return $.call(this._target())},D.prototype.isResolved=function(){return G.call(this._target())},D.prototype.value=function(){return A.call(this._target())},D.prototype.reason=function(){var V=this._target();return V._unsetRejectionIsUnhandled(),M.call(V)},D.prototype._value=function(){return this._settledValue()},D.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},D.PromiseInspection=P}},{}],20:[function(T,L,F){L.exports=function(D,P){var A=T("./util"),M=A.errorObj,$=A.isObject,U={}.hasOwnProperty;return function(z,G){if($(z)){if(z instanceof D)return z;var V=function(Y){try{return function(J){return J.then}(Y)}catch(J){return M.e=J,M}}(z);if(V===M){G&&G._pushContext();var B=D.reject(V.e);return G&&G._popContext(),B}if(typeof V=="function")return function(Y){try{return U.call(Y,"_promise0")}catch{return!1}}(z)?(B=new D(P),z._then(B._fulfill,B._reject,void 0,B,null),B):function(Y,J,X){var q=new D(P),ee=q;X&&X._pushContext(),q._captureStackTrace(),X&&X._popContext();var ce=!0,ke=A.tryCatch(J).call(Y,function(me){q&&(q._resolveCallback(me),q=null)},function(me){q&&(q._rejectCallback(me,ce,!0),q=null)});return ce=!1,q&&ke===M&&(q._rejectCallback(ke.e,!0,!0),q=null),ee}(z,V,G)}return z}}},{"./util":21}],21:[function(T,L,F){var D=T("./es5"),P=typeof navigator>"u",A={e:{}},M,$=typeof self<"u"?self:typeof window<"u"?window:l!==void 0?l:this!==void 0?this:null;function U(){try{var oe=M;return M=null,oe.apply(this,arguments)}catch(Le){return A.e=Le,A}}function z(oe){return M=oe,U}var G=function(oe,Le){var nt={}.hasOwnProperty;function tt(){for(var Ge in this.constructor=oe,this.constructor$=Le,Le.prototype)nt.call(Le.prototype,Ge)&&Ge.charAt(Ge.length-1)!=="$"&&(this[Ge+"$"]=Le.prototype[Ge])}return tt.prototype=Le.prototype,oe.prototype=new tt,oe.prototype};function V(oe){return oe==null||oe===!0||oe===!1||typeof oe=="string"||typeof oe=="number"}function B(oe){return typeof oe=="function"||C(oe)==="object"&&oe!==null}function Y(oe){return V(oe)?new Error(Ve(oe)):oe}function J(oe,Le){var nt,tt=oe.length,Ge=new Array(tt+1);for(nt=0;nt<tt;++nt)Ge[nt]=oe[nt];return Ge[nt]=Le,Ge}function X(oe,Le,nt){if(!D.isES5)return{}.hasOwnProperty.call(oe,Le)?oe[Le]:void 0;var tt=Object.getOwnPropertyDescriptor(oe,Le);return tt!=null?tt.get==null&&tt.set==null?tt.value:nt:void 0}function q(oe,Le,nt){if(V(oe))return oe;var tt={value:nt,configurable:!0,enumerable:!1,writable:!0};return D.defineProperty(oe,Le,tt),oe}function ee(oe){throw oe}var ce=function(){var oe=[Array.prototype,Object.prototype,Function.prototype],Le=function(Ge){for(var pt=0;pt<oe.length;++pt)if(oe[pt]===Ge)return!0;return!1};if(D.isES5){var nt=Object.getOwnPropertyNames;return function(Ge){for(var pt=[],vn=Object.create(null);Ge!=null&&!Le(Ge);){var or;try{or=nt(Ge)}catch{return pt}for(var Ei=0;Ei<or.length;++Ei){var $r=or[Ei];if(!vn[$r]){vn[$r]=!0;var Yr=Object.getOwnPropertyDescriptor(Ge,$r);Yr!=null&&Yr.get==null&&Yr.set==null&&pt.push($r)}}Ge=D.getPrototypeOf(Ge)}return pt}}var tt={}.hasOwnProperty;return function(Ge){if(Le(Ge))return[];var pt=[];e:for(var vn in Ge)if(tt.call(Ge,vn))pt.push(vn);else{for(var or=0;or<oe.length;++or)if(tt.call(oe[or],vn))continue e;pt.push(vn)}return pt}}(),ke=/this\s*\.\s*\S+\s*=/;function me(oe){try{if(typeof oe=="function"){var Le=D.names(oe.prototype),nt=D.isES5&&Le.length>1,tt=Le.length>0&&!(Le.length===1&&Le[0]==="constructor"),Ge=ke.test(oe+"")&&D.names(oe).length>0;if(nt||tt||Ge)return!0}return!1}catch{return!1}}function qe(oe){function Le(){}Le.prototype=oe;var nt=new Le;function tt(){return C(nt.foo)}return tt(),tt(),oe}var ue=/^[a-z$_][a-z$_0-9]*$/i;function ge(oe){return ue.test(oe)}function Ne(oe,Le,nt){for(var tt=new Array(oe),Ge=0;Ge<oe;++Ge)tt[Ge]=Le+Ge+nt;return tt}function Ve(oe){try{return oe+""}catch{return"[no string representation]"}}function et(oe){return oe instanceof Error||oe!==null&&C(oe)==="object"&&typeof oe.message=="string"&&typeof oe.name=="string"}function Yt(oe){try{q(oe,"isOperational",!0)}catch{}}function Ut(oe){return oe!=null&&(oe instanceof Error.__BluebirdErrorTypes__.OperationalError||oe.isOperational===!0)}function zn(oe){return et(oe)&&D.propertyIsWritable(oe,"stack")}var yt="stack"in new Error?function(oe){return zn(oe)?oe:new Error(Ve(oe))}:function(oe){if(zn(oe))return oe;try{throw new Error(Ve(oe))}catch(Le){return Le}};function Jt(oe){return{}.toString.call(oe)}function de(oe,Le,nt){for(var tt=D.names(oe),Ge=0;Ge<tt.length;++Ge){var pt=tt[Ge];if(nt(pt))try{D.defineProperty(Le,pt,D.getDescriptor(oe,pt))}catch{}}}var Kr=function(oe){return D.isArray(oe)?oe:null};if(typeof Symbol<"u"&&Symbol.iterator){var pa=typeof Array.from=="function"?function(oe){return Array.from(oe)}:function(oe){for(var Le,nt=[],tt=oe[Symbol.iterator]();!(Le=tt.next()).done;)nt.push(Le.value);return nt};Kr=function(oe){return D.isArray(oe)?oe:oe!=null&&typeof oe[Symbol.iterator]=="function"?pa(oe):null}}var gn=a!==void 0&&Jt(a).toLowerCase()==="[object process]",ie=a!==void 0&&a.env!==void 0,fe;function Ee(oe){return ie?a.env[oe]:void 0}function Ae(){if(typeof Promise=="function")try{if(Jt(new Promise(function(){}))==="[object Promise]")return Promise}catch{}}function He(oe,Le){if(oe===null||typeof Le!="function"||Le===fe)return Le;oe.domain!==null&&(Le=oe.domain.bind(Le));var nt=oe.async;if(nt!==null){var tt=Le;Le=function(){var Ge=new Array(2).concat([].slice.call(arguments));return Ge[0]=tt,Ge[1]=this,nt.runInAsyncScope.apply(nt,Ge)}}return Le}var Ue={setReflectHandler:function(oe){fe=oe},isClass:me,isIdentifier:ge,inheritedDataKeys:ce,getDataPropertyOrDefault:X,thrower:ee,isArray:D.isArray,asArray:Kr,notEnumerableProp:q,isPrimitive:V,isObject:B,isError:et,canEvaluate:P,errorObj:A,tryCatch:z,inherits:G,withAppended:J,maybeWrapAsError:Y,toFastProperties:qe,filledRange:Ne,toString:Ve,canAttachTrace:zn,ensureErrorObject:yt,originatesFromRejection:Ut,markAsOriginatingFromRejection:Yt,classString:Jt,copyDescriptors:de,isNode:gn,hasEnvVariables:ie,env:Ee,global:$,getNativePromise:Ae,contextBind:He};Ue.isRecentNode=Ue.isNode&&function(){var oe;return a.versions&&a.versions.node?oe=a.versions.node.split(".").map(Number):a.version&&(oe=a.version.split(".").map(Number)),oe[0]===0&&oe[1]>10||oe[0]>0}(),Ue.nodeSupportsAsyncResource=Ue.isNode&&function(){var oe=!1;try{oe=typeof T("async_hooks").AsyncResource.prototype.runInAsyncScope=="function"}catch{oe=!1}return oe}(),Ue.isNode&&Ue.toFastProperties(a);try{throw new Error}catch(oe){Ue.lastLineError=oe}L.exports=Ue},{"./es5":10,async_hooks:void 0}]},{},[3])(3)}),typeof window<"u"&&window!==null?window.P=window.Promise:typeof self<"u"&&self!==null&&(self.P=self.Promise)}).call(this,i(5),i(1),i(7).setImmediate)},function(n,r,i){(function(a){var l=a!==void 0&&a||typeof self<"u"&&self||window,h=Function.prototype.apply;function _(g,k){this._id=g,this._clearFn=k}r.setTimeout=function(){return new _(h.call(setTimeout,l,arguments),clearTimeout)},r.setInterval=function(){return new _(h.call(setInterval,l,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(g){g&&g.close()},_.prototype.unref=_.prototype.ref=function(){},_.prototype.close=function(){this._clearFn.call(l,this._id)},r.enroll=function(g,k){clearTimeout(g._idleTimeoutId),g._idleTimeout=k},r.unenroll=function(g){clearTimeout(g._idleTimeoutId),g._idleTimeout=-1},r._unrefActive=r.active=function(g){clearTimeout(g._idleTimeoutId);var k=g._idleTimeout;k>=0&&(g._idleTimeoutId=setTimeout(function(){g._onTimeout&&g._onTimeout()},k))},i(8),r.setImmediate=typeof self<"u"&&self.setImmediate||a!==void 0&&a.setImmediate||this&&this.setImmediate,r.clearImmediate=typeof self<"u"&&self.clearImmediate||a!==void 0&&a.clearImmediate||this&&this.clearImmediate}).call(this,i(1))},function(n,r,i){(function(a,l){(function(h,_){if(!h.setImmediate){var g,k=1,C={},T=!1,L=h.document,F=Object.getPrototypeOf&&Object.getPrototypeOf(h);F=F&&F.setTimeout?F:h,{}.toString.call(h.process)==="[object process]"?g=function(A){l.nextTick(function(){P(A)})}:function(){if(h.postMessage&&!h.importScripts){var A=!0,M=h.onmessage;return h.onmessage=function(){A=!1},h.postMessage("","*"),h.onmessage=M,A}}()?function(){var A="setImmediate$"+Math.random()+"$",M=function($){$.source===h&&typeof $.data=="string"&&$.data.indexOf(A)===0&&P(+$.data.slice(A.length))};h.addEventListener?h.addEventListener("message",M,!1):h.attachEvent("onmessage",M),g=function($){h.postMessage(A+$,"*")}}():h.MessageChannel?function(){var A=new MessageChannel;A.port1.onmessage=function(M){P(M.data)},g=function(M){A.port2.postMessage(M)}}():L&&"onreadystatechange"in L.createElement("script")?function(){var A=L.documentElement;g=function(M){var $=L.createElement("script");$.onreadystatechange=function(){P(M),$.onreadystatechange=null,A.removeChild($),$=null},A.appendChild($)}}():g=function(A){setTimeout(P,0,A)},F.setImmediate=function(A){typeof A!="function"&&(A=new Function(""+A));for(var M=new Array(arguments.length-1),$=0;$<M.length;$++)M[$]=arguments[$+1];var U={callback:A,args:M};return C[k]=U,g(k),k++},F.clearImmediate=D}function D(A){delete C[A]}function P(A){if(T)setTimeout(P,0,A);else{var M=C[A];if(M){T=!0;try{(function($){var U=$.callback,z=$.args;switch(z.length){case 0:U();break;case 1:U(z[0]);break;case 2:U(z[0],z[1]);break;case 3:U(z[0],z[1],z[2]);break;default:U.apply(_,z)}})(M)}finally{D(A),T=!1}}}}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,i(1),i(5))},function(n,r,i){i.r(r),i.d(r,"scheduler",function(){return Pc}),i.d(r,"Scheduler",function(){return Wg});var a=i(0);i(4);function l(s){function w(c){var u=document.createElement("div");return(c||"").split(" ").forEach(function(f){u.classList.add(f)}),u}var d={rows_container:function(){return w("dhx_cal_navbar_rows_container")},row:function(){return w("dhx_cal_navbar_row")},view:function(c){var u=w("dhx_cal_tab");return u.setAttribute("name",c.view+"_tab"),u.setAttribute("data-tab",c.view),s.config.fix_tab_position&&(c.$firstTab?u.classList.add("dhx_cal_tab_first"):c.$lastTab?u.classList.add("dhx_cal_tab_last"):c.view!=="week"&&u.classList.add("dhx_cal_tab_standalone")),u},date:function(){return w("dhx_cal_date")},button:function(c){return w("dhx_cal_nav_button dhx_cal_nav_button_custom dhx_cal_tab")},builtInButton:function(c){return w("dhx_cal_"+c.view+"_button dhx_cal_nav_button")},spacer:function(){return w("dhx_cal_line_spacer")},minicalendarButton:function(c){var u=w("dhx_minical_icon");return c.click||u.$_eventAttached||s.event(u,"click",function(){s.isCalendarVisible()?s.destroyCalendar():s.renderCalendar({position:this,date:s.getState().date,navigation:!0,handler:function(f,y){s.setCurrentView(f),s.destroyCalendar()}})}),u},html_element:function(c){return w("dhx_cal_nav_content")}};function m(c){var u=function(x){var v;if(x.view)switch(x.view){case"today":case"next":case"prev":v=d.builtInButton;break;case"date":v=d.date;break;case"spacer":v=d.spacer;break;case"button":v=d.button;break;case"minicalendar":v=d.minicalendarButton;break;default:v=d.view}else x.rows?v=d.rows_container:x.cols&&(v=d.row);return v}(c);if(u){var f=u(c);if(c.css&&f.classList.add(c.css),c.width&&((y=c.width)===1*y&&(y+="px"),f.style.width=y),c.height&&((y=c.height)===1*y&&(y+="px"),f.style.height=y),c.click&&f.addEventListener("click",c.click),c.html&&(f.innerHTML=c.html),c.align){var y="";c.align=="right"?y="flex-end":c.align=="left"&&(y="flex-start"),f.style.justifyContent=y}return f}}function p(c){return typeof c=="string"&&(c={view:c}),c.view||c.rows||c.cols||(c.view="button"),c}s._init_nav_bar=function(c){var u=this.$container.querySelector(".dhx_cal_navline");return u||((u=document.createElement("div")).className="dhx_cal_navline dhx_cal_navline_flex",s._update_nav_bar(c,u),u)};var o=null;s._update_nav_bar=function(c,u){if(c){var f=!1,y=!1,x=c.height||s.xy.nav_height;o!==null&&o===x||(f=!0),y=!0,f&&(s.xy.nav_height=x),y&&(u.innerHTML="",u.appendChild(function v(E){var b,S=document.createDocumentFragment();b=Array.isArray(E)?E:[E];for(var N=0;N<b.length;N++){var O,j=p(b[N]);j.view==="day"&&b[N+1]&&((O=p(b[N+1])).view!=="week"&&O.view!=="month"||(j.$firstTab=!0)),j.view==="month"&&b[N-1]&&((O=p(b[N-1])).view!=="week"&&O.view!=="day"||(j.$lastTab=!0));var R=m(j);S.appendChild(R),(j.cols||j.rows)&&R.appendChild(v(j.cols||j.rows))}return S}(c))),(f||y)&&(s.unset_actions(),s._els=[],s.get_elements(),s.set_actions()),u.style.display=x===0?"none":"",o=x}}}function h(s){function w(o){for(var c=document.body;o&&o!=c;)o=o.parentNode;return c==o}function d(o){return{w:o.innerWidth||document.documentElement.clientWidth,h:o.innerHeight||document.documentElement.clientHeight}}function m(o,c){var u,f=d(c);o.event(c,"resize",function(){clearTimeout(u),u=setTimeout(function(){if(w(o.$container)){var y=d(c);(function(x,v){return x.w==v.w&&x.h==v.h})(f,y)||(f=y,p(o))}},150)})}function p(o){!o.$destroyed&&o.$root&&w(o.$root)&&o.callEvent("onSchedulerResize",[])&&(o.updateView(),o.callEvent("onAfterSchedulerResize",[]))}(function(o){var c=o.$container;window.getComputedStyle(c).getPropertyValue("position")=="static"&&(c.style.position="relative");var u=document.createElement("iframe");u.className="scheduler_container_resize_watcher",u.tabIndex=-1,o.config.wai_aria_attributes&&(u.setAttribute("role","none"),u.setAttribute("aria-hidden",!0)),window.Sfdc||window.$A||window.Aura?function(f){var y=f.$root.offsetHeight,x=f.$root.offsetWidth;(function v(){f.$destroyed||(f.$root&&(f.$root.offsetHeight==y&&f.$root.offsetWidth==x||p(f),y=f.$root.offsetHeight,x=f.$root.offsetWidth),setTimeout(v,200))})()}(o):(c.appendChild(u),u.contentWindow?m(o,u.contentWindow):(c.removeChild(u),m(o,window)))})(s)}function _(s,w){for(var d=0;d<w.length;d++){var m=w[d];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(s,m.key,m)}}var g=function(){function s(){(function(w,d){if(!(w instanceof d))throw new TypeError("Cannot call a class as a function")})(this,s),this._silent_mode=!1,this.listeners={}}return function(w,d,m){d&&_(w.prototype,d),m&&_(w,m)}(s,[{key:"_silentStart",value:function(){this._silent_mode=!0}},{key:"_silentEnd",value:function(){this._silent_mode=!1}}]),s}(),k=function(s){var w={},d=0,m=function(){var p=!0;for(var o in w){var c=w[o].apply(s,arguments);p=p&&c}return p};return m.addEvent=function(p,o){if(typeof p=="function"){var c;if(o&&o.id?c=o.id:(c=d,d++),o&&o.once){var u=p;p=function(){u(),m.removeEvent(c)}}return w[c]=p,c}return!1},m.removeEvent=function(p){delete w[p]},m.clear=function(){w={}},m},C=function(s){var w=new g;s.attachEvent=function(d,m,p){d="ev_"+d.toLowerCase(),w.listeners[d]||(w.listeners[d]=k(this)),p&&p.thisObject&&(m=m.bind(p.thisObject));var o=d+":"+w.listeners[d].addEvent(m,p);return p&&p.id&&(o=p.id),o},s.attachAll=function(d){this.attachEvent("listen_all",d)},s.callEvent=function(d,m){if(w._silent_mode)return!0;var p="ev_"+d.toLowerCase(),o=w.listeners;return o.ev_listen_all&&o.ev_listen_all.apply(this,[d].concat(m)),!o[p]||o[p].apply(this,m)},s.checkEvent=function(d){return!!w.listeners["ev_"+d.toLowerCase()]},s.detachEvent=function(d){if(d){var m=w.listeners;for(var p in m)m[p].removeEvent(d);var o=d.split(":");if(m=w.listeners,o.length===2){var c=o[0],u=o[1];m[c]&&m[c].removeEvent(u)}}},s.detachAllEvents=function(){for(var d in w.listeners)w.listeners[d].clear()}};function T(s){return(T=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}var L={event:function(s,w,d){s.addEventListener?s.addEventListener(w,d,!1):s.attachEvent&&s.attachEvent("on"+w,d)},eventRemove:function(s,w,d){s.removeEventListener?s.removeEventListener(w,d,!1):s.detachEvent&&s.detachEvent("on"+w,d)}},F=function(){return function s(w,d){w=w||L.event,d=d||L.eventRemove;var m=[],p={attach:function(o,c,u,f){m.push({element:o,event:c,callback:u,capture:f}),w(o,c,u,f)},detach:function(o,c,u,f){d(o,c,u,f);for(var y=0;y<m.length;y++){var x=m[y];x.element===o&&x.event===c&&x.callback===u&&x.capture===f&&(m.splice(y,1),y--)}},detachAll:function(){for(var o=m.slice(),c=0;c<o.length;c++){var u=o[c];p.detach(u.element,u.event,u.callback,u.capture),p.detach(u.element,u.event,u.callback,void 0),p.detach(u.element,u.event,u.callback,!1),p.detach(u.element,u.event,u.callback,!0)}m.splice(0,m.length)},extend:function(){return s(this.event,this.eventRemove)}};return p}()};function D(s){return(D=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}function P(s){return(P=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}function A(s){return(A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}var M=Date.now();function $(s){return!(!s||A(s)!=="object")&&!!(s.getFullYear&&s.getMonth&&s.getDate)}var U={uid:function(){return M++},mixin:function(s,w,d){for(var m in w)(s[m]===void 0||d)&&(s[m]=w[m]);return s},copy:function s(w){var d,m;if(w&&A(w)=="object")switch(!0){case $(w):m=new Date(w);break;case function(p){return Array.isArray?Array.isArray(p):p&&p.length!==void 0&&p.pop&&p.push}(w):for(m=new Array(w.length),d=0;d<w.length;d++)m[d]=s(w[d]);break;case function(p){return p&&A(p)==="object"&&Function.prototype.toString.call(p.constructor)==="function String() { [native code] }"}(w):m=new String(w);break;case function(p){return p&&A(p)==="object"&&Function.prototype.toString.call(p.constructor)==="function Number() { [native code] }"}(w):m=new Number(w);break;case function(p){return p&&A(p)==="object"&&Function.prototype.toString.call(p.constructor)==="function Boolean() { [native code] }"}(w):m=new Boolean(w);break;default:for(d in m={},w)Object.prototype.hasOwnProperty.apply(w,[d])&&(m[d]=s(w[d]))}return m||w},defined:function(s){return s!==void 0},isDate:$};function z(s){if(!s)return"";var w=s.className||"";return w.baseVal&&(w=w.baseVal),w.indexOf||(w=""),w||""}function G(s,w,d){d===void 0&&(d=!0);for(var m=s.target||s.srcElement,p="";m;){if(p=z(m)){var o=p.indexOf(w);if(o>=0){if(!d)return m;var c=o===0||!(p.charAt(o-1)||"").trim(),u=o+w.length>=p.length||!p.charAt(o+w.length).trim();if(c&&u)return m}}m=m.parentNode}return null}function V(s){var w=!1,d=!1;if(window.getComputedStyle){var m=window.getComputedStyle(s,null);w=m.display,d=m.visibility}else s.currentStyle&&(w=s.currentStyle.display,d=s.currentStyle.visibility);var p=!1,o=G({target:s},"dhx_form_repeat",!1);return o&&(p=o.style.height=="0px"),p=p||!s.offsetHeight,w!="none"&&d!="hidden"&&!p}function B(s){return!isNaN(s.getAttribute("tabindex"))&&1*s.getAttribute("tabindex")>=0}function Y(s){return!{a:!0,area:!0}[s.nodeName.loLowerCase()]||!!s.getAttribute("href")}function J(s){return!{input:!0,select:!0,textarea:!0,button:!0,object:!0}[s.nodeName.toLowerCase()]||!s.hasAttribute("disabled")}function X(){return document.head.createShadowRoot||document.head.attachShadow}function q(s){if(!s||!X())return document.body;for(;s.parentNode&&(s=s.parentNode);)if(s instanceof ShadowRoot)return s.host;return document.body}var ee,ce={getAbsoluteLeft:function(s){return this.getOffset(s).left},getAbsoluteTop:function(s){return this.getOffset(s).top},getOffsetSum:function(s){for(var w=0,d=0;s;)w+=parseInt(s.offsetTop),d+=parseInt(s.offsetLeft),s=s.offsetParent;return{top:w,left:d}},getOffsetRect:function(s){var w=s.getBoundingClientRect(),d=0,m=0;if(/Mobi/.test(navigator.userAgent)){var p=document.createElement("div");p.style.position="absolute",p.style.left="0px",p.style.top="0px",p.style.width="1px",p.style.height="1px",document.body.appendChild(p);var o=p.getBoundingClientRect();d=w.top-o.top,m=w.left-o.left,p.parentNode.removeChild(p)}else{var c=document.body,u=document.documentElement,f=window.pageYOffset||u.scrollTop||c.scrollTop,y=window.pageXOffset||u.scrollLeft||c.scrollLeft,x=u.clientTop||c.clientTop||0,v=u.clientLeft||c.clientLeft||0;d=w.top+f-x,m=w.left+y-v}return{top:Math.round(d),left:Math.round(m)}},getOffset:function(s){return s.getBoundingClientRect?this.getOffsetRect(s):this.getOffsetSum(s)},closest:function(s,w){return s&&w?ee(s,w):null},insertAfter:function(s,w){w.nextSibling?w.parentNode.insertBefore(s,w.nextSibling):w.parentNode.appendChild(s)},remove:function(s){s&&s.parentNode&&s.parentNode.removeChild(s)},getFocusableNodes:function(s){for(var w=s.querySelectorAll(["a[href]","area[href]","input","select","textarea","button","iframe","object","embed","[tabindex]","[contenteditable]"].join(", ")),d=Array.prototype.slice.call(w,0),m=0;m<d.length;m++)d[m].$position=m;for(d.sort(function(o,c){return o.tabIndex===0&&c.tabIndex!==0?1:o.tabIndex!==0&&c.tabIndex===0?-1:o.tabIndex===c.tabIndex?o.$position-c.$position:o.tabIndex<c.tabIndex?-1:1}),m=0;m<d.length;m++){var p=d[m];(B(p)||J(p)||Y(p))&&V(p)||(d.splice(m,1),m--)}return d},getClassName:z,locateCss:G,getRootNode:q,hasShadowParent:function(s){return!!q(s)},isShadowDomSupported:X,getActiveElement:function(){var s=document.activeElement;return s.shadowRoot&&(s=s.shadowRoot.activeElement),s===document.body&&document.getSelection&&(s=document.getSelection().focusNode||document.body),s},getRelativeEventPosition:function(s,w){var d=document.documentElement,m=function(p){var o=0,c=0,u=0,f=0;if(p.getBoundingClientRect){var y=p.getBoundingClientRect(),x=document.body,v=document.documentElement||document.body.parentNode||document.body,E=window.pageYOffset||v.scrollTop||x.scrollTop,b=window.pageXOffset||v.scrollLeft||x.scrollLeft,S=v.clientTop||x.clientTop||0,N=v.clientLeft||x.clientLeft||0;o=y.top+E-S,c=y.left+b-N,u=document.body.offsetWidth-y.right,f=document.body.offsetHeight-y.bottom}else{for(;p;)o+=parseInt(p.offsetTop,10),c+=parseInt(p.offsetLeft,10),p=p.offsetParent;u=document.body.offsetWidth-p.offsetWidth-c,f=document.body.offsetHeight-p.offsetHeight-o}return{y:Math.round(o),x:Math.round(c),width:p.offsetWidth,height:p.offsetHeight,right:Math.round(u),bottom:Math.round(f)}}(w);return{x:s.clientX+d.scrollLeft-d.clientLeft-m.x+w.scrollLeft,y:s.clientY+d.scrollTop-d.clientTop-m.y+w.scrollTop}}};if(Element.prototype.closest)ee=function(s,w){return s.closest(w)};else{var ke=Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;ee=function(s,w){var d=s;do{if(ke.call(d,w))return d;d=d.parentElement||d.parentNode}while(d!==null&&d.nodeType===1);return null}}var me=typeof window<"u",qe={isIE:me&&(navigator.userAgent.indexOf("MSIE")>=0||navigator.userAgent.indexOf("Trident")>=0),isIE6:me&&!XMLHttpRequest&&navigator.userAgent.indexOf("MSIE")>=0,isIE7:me&&navigator.userAgent.indexOf("MSIE 7.0")>=0&&navigator.userAgent.indexOf("Trident")<0,isIE8:me&&navigator.userAgent.indexOf("MSIE 8.0")>=0&&navigator.userAgent.indexOf("Trident")>=0,isOpera:me&&navigator.userAgent.indexOf("Opera")>=0,isChrome:me&&navigator.userAgent.indexOf("Chrome")>=0,isKHTML:me&&(navigator.userAgent.indexOf("Safari")>=0||navigator.userAgent.indexOf("Konqueror")>=0),isFF:me&&navigator.userAgent.indexOf("Firefox")>=0,isIPad:me&&navigator.userAgent.search(/iPad/gi)>=0,isEdge:me&&navigator.userAgent.indexOf("Edge")!=-1,isNode:!me||typeof navigator>"u"},ue=i(6).Promise,ge=i(3),Ne=i.n(ge);function Ve(s){return(Ve=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}function et(s){var w=function(o,c){for(var u="var temp=date.match(/[a-zA-Z]+|[0-9]+/g);",f=o.match(/%[a-zA-Z]/g),y=0;y<f.length;y++)switch(f[y]){case"%j":case"%d":u+="set[2]=temp["+y+"]||1;";break;case"%n":case"%m":u+="set[1]=(temp["+y+"]||1)-1;";break;case"%y":u+="set[0]=temp["+y+"]*1+(temp["+y+"]>50?1900:2000);";break;case"%g":case"%G":case"%h":case"%H":u+="set[3]=temp["+y+"]||0;";break;case"%i":u+="set[4]=temp["+y+"]||0;";break;case"%Y":u+="set[0]=temp["+y+"]||0;";break;case"%a":case"%A":u+="set[3]=set[3]%12+((temp["+y+"]||'').toLowerCase()=='am'?0:12);";break;case"%s":u+="set[5]=temp["+y+"]||0;";break;case"%M":u+="set[1]=this.locale.date.month_short_hash[temp["+y+"]]||0;";break;case"%F":u+="set[1]=this.locale.date.month_full_hash[temp["+y+"]]||0;"}var x="set[0],set[1],set[2],set[3],set[4],set[5]";return c&&(x=" Date.UTC("+x+")"),new Function("date","var set=[0,0,1,0,0,0]; "+u+" return new Date("+x+");")},d=function(o,c){return function(u){for(var f=[0,0,1,0,0,0],y=u.match(/[a-zA-Z]+|[0-9]+/g),x=o.match(/%[a-zA-Z]/g),v=0;v<x.length;v++)switch(x[v]){case"%j":case"%d":f[2]=y[v]||1;break;case"%n":case"%m":f[1]=(y[v]||1)-1;break;case"%y":f[0]=1*y[v]+(y[v]>50?1900:2e3);break;case"%g":case"%G":case"%h":case"%H":f[3]=y[v]||0;break;case"%i":f[4]=y[v]||0;break;case"%Y":f[0]=y[v]||0;break;case"%a":case"%A":f[3]=f[3]%12+((y[v]||"").toLowerCase()=="am"?0:12);break;case"%s":f[5]=y[v]||0;break;case"%M":f[1]=s.locale.date.month_short_hash[y[v]]||0;break;case"%F":f[1]=s.locale.date.month_full_hash[y[v]]||0}return c?new Date(Date.UTC(f[0],f[1],f[2],f[3],f[4],f[5])):new Date(f[0],f[1],f[2],f[3],f[4],f[5])}},m=!1;function p(){return s.config.csp==="auto"?m:s.config.csp}(function(){try{new Function("canUseCsp = false;")}catch{m=!0}})(),s.date={init:function(){for(var o=s.locale.date.month_short,c=s.locale.date.month_short_hash={},u=0;u<o.length;u++)c[o[u]]=u;for(o=s.locale.date.month_full,c=s.locale.date.month_full_hash={},u=0;u<o.length;u++)c[o[u]]=u},_bind_host_object:function(o){return o.bind?o.bind(s):function(){return o.apply(s,arguments)}},date_part:function(o){var c=new Date(o);return o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0),o.getHours()&&(o.getDate()<c.getDate()||o.getMonth()<c.getMonth()||o.getFullYear()<c.getFullYear())&&o.setTime(o.getTime()+36e5*(24-o.getHours())),o},time_part:function(o){return(o.valueOf()/1e3-60*o.getTimezoneOffset())%86400},week_start:function(o){var c=o.getDay();return s.config.start_on_monday&&(c===0?c=6:c--),this.date_part(this.add(o,-1*c,"day"))},month_start:function(o){return o.setDate(1),this.date_part(o)},year_start:function(o){return o.setMonth(0),this.month_start(o)},day_start:function(o){return this.date_part(o)},_add_days:function(o,c){var u=new Date(o.valueOf());if(u.setDate(u.getDate()+c),c==Math.round(c)&&c>0){var f=(+u-+o)%864e5;if(f&&o.getTimezoneOffset()==u.getTimezoneOffset()){var y=f/36e5;u.setTime(u.getTime()+60*(24-y)*60*1e3)}}return c>=0&&!o.getHours()&&u.getHours()&&(u.getDate()<o.getDate()||u.getMonth()<o.getMonth()||u.getFullYear()<o.getFullYear())&&u.setTime(u.getTime()+36e5*(24-u.getHours())),u},add:function(o,c,u){var f=new Date(o.valueOf());switch(u){case"day":f=s.date._add_days(f,c);break;case"week":f=s.date._add_days(f,7*c);break;case"month":f.setMonth(f.getMonth()+c);break;case"year":f.setYear(f.getFullYear()+c);break;case"hour":f.setTime(f.getTime()+60*c*60*1e3);break;case"minute":f.setTime(f.getTime()+60*c*1e3);break;default:return s.date["add_"+u](o,c,u)}return f},to_fixed:function(o){return o<10?"0"+o:o},copy:function(o){return new Date(o.valueOf())},date_to_str:function(o,c){if(p())return function(f,y){return function(x){return f.replace(/%[a-zA-Z]/g,function(v){switch(v){case"%d":return y?s.date.to_fixed(x.getUTCDate()):s.date.to_fixed(x.getDate());case"%m":return y?s.date.to_fixed(x.getUTCMonth()+1):s.date.to_fixed(x.getMonth()+1);case"%j":return y?x.getUTCDate():x.getDate();case"%n":return y?x.getUTCMonth()+1:x.getMonth()+1;case"%y":return y?s.date.to_fixed(x.getUTCFullYear()%100):s.date.to_fixed(x.getFullYear()%100);case"%Y":return y?x.getUTCFullYear():x.getFullYear();case"%D":return y?s.locale.date.day_short[x.getUTCDay()]:s.locale.date.day_short[x.getDay()];case"%l":return y?s.locale.date.day_full[x.getUTCDay()]:s.locale.date.day_full[x.getDay()];case"%M":return y?s.locale.date.month_short[x.getUTCMonth()]:s.locale.date.month_short[x.getMonth()];case"%F":return y?s.locale.date.month_full[x.getUTCMonth()]:s.locale.date.month_full[x.getMonth()];case"%h":return y?s.date.to_fixed((x.getUTCHours()+11)%12+1):s.date.to_fixed((x.getHours()+11)%12+1);case"%g":return y?(x.getUTCHours()+11)%12+1:(x.getHours()+11)%12+1;case"%G":return y?x.getUTCHours():x.getHours();case"%H":return y?s.date.to_fixed(x.getUTCHours()):s.date.to_fixed(x.getHours());case"%i":return y?s.date.to_fixed(x.getUTCMinutes()):s.date.to_fixed(x.getMinutes());case"%a":return y?x.getUTCHours()>11?"pm":"am":x.getHours()>11?"pm":"am";case"%A":return y?x.getUTCHours()>11?"PM":"AM":x.getHours()>11?"PM":"AM";case"%s":return y?s.date.to_fixed(x.getUTCSeconds()):s.date.to_fixed(x.getSeconds());case"%W":return y?s.date.to_fixed(s.date.getUTCISOWeek(x)):s.date.to_fixed(s.date.getISOWeek(x));default:return v}})}}(o,c);o=o.replace(/%[a-zA-Z]/g,function(f){switch(f){case"%d":return'"+this.date.to_fixed(date.getDate())+"';case"%m":return'"+this.date.to_fixed((date.getMonth()+1))+"';case"%j":return'"+date.getDate()+"';case"%n":return'"+(date.getMonth()+1)+"';case"%y":return'"+this.date.to_fixed(date.getFullYear()%100)+"';case"%Y":return'"+date.getFullYear()+"';case"%D":return'"+this.locale.date.day_short[date.getDay()]+"';case"%l":return'"+this.locale.date.day_full[date.getDay()]+"';case"%M":return'"+this.locale.date.month_short[date.getMonth()]+"';case"%F":return'"+this.locale.date.month_full[date.getMonth()]+"';case"%h":return'"+this.date.to_fixed((date.getHours()+11)%12+1)+"';case"%g":return'"+((date.getHours()+11)%12+1)+"';case"%G":return'"+date.getHours()+"';case"%H":return'"+this.date.to_fixed(date.getHours())+"';case"%i":return'"+this.date.to_fixed(date.getMinutes())+"';case"%a":return'"+(date.getHours()>11?"pm":"am")+"';case"%A":return'"+(date.getHours()>11?"PM":"AM")+"';case"%s":return'"+this.date.to_fixed(date.getSeconds())+"';case"%W":return'"+this.date.to_fixed(this.date.getISOWeek(date))+"';default:return f}}),c&&(o=o.replace(/date\.get/g,"date.getUTC"));var u=new Function("date",'return "'+o+'";');return s.date._bind_host_object(u)},str_to_date:function(o,c,u){var f=p()?d:w,y=f(o,c),x=/^[0-9]{4}(\-|\/)[0-9]{2}(\-|\/)[0-9]{2} ?(([0-9]{1,2}:[0-9]{1,2})(:[0-9]{1,2})?)?$/,v=/^[0-9]{2}\/[0-9]{2}\/[0-9]{4} ?(([0-9]{1,2}:[0-9]{2})(:[0-9]{1,2})?)?$/,E=/^[0-9]{2}\-[0-9]{2}\-[0-9]{4} ?(([0-9]{1,2}:[0-9]{1,2})(:[0-9]{1,2})?)?$/,b=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24\:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,S=f("%Y-%m-%d %H:%i:%s",c),N=f("%m/%d/%Y %H:%i:%s",c),O=f("%d-%m-%Y %H:%i:%s",c);return function(j){if(!u&&!s.config.parse_exact_format){if(j&&j.getISOWeek)return new Date(j);if(typeof j=="number")return new Date(j);if(function(R){return x.test(String(R))}(j))return S(j);if(function(R){return v.test(String(R))}(j))return N(j);if(function(R){return E.test(String(R))}(j))return O(j);if(function(R){return b.test(R)}(j))return new Date(j)}return y.call(s,j)}},getISOWeek:function(o){if(!o)return!1;var c=(o=this.date_part(new Date(o))).getDay();c===0&&(c=7);var u=new Date(o.valueOf());u.setDate(o.getDate()+(4-c));var f=u.getFullYear(),y=Math.round((u.getTime()-new Date(f,0,1).getTime())/864e5);return 1+Math.floor(y/7)},getUTCISOWeek:function(o){return this.getISOWeek(this.convert_to_utc(o))},convert_to_utc:function(o){return new Date(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate(),o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds())}}}function Yt(s){return(Yt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}function Ut(s){return(Ut=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}var zn=i(2),yt=i.n(zn);function Jt(s){return(Jt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}function de(s){s._loaded={},s._load=function(d,m){if(d=d||this._load_url){var p;if(d+=(d.indexOf("?")==-1?"?":"&")+"timeshift="+new Date().getTimezoneOffset(),this.config.prevent_cache&&(d+="&uid="+this.uid()),m=m||this._date,this._load_mode){var o=this.templates.load_format;for(m=this.date[this._load_mode+"_start"](new Date(m.valueOf()));m>this._min_date;)m=this.date.add(m,-1,this._load_mode);p=m;for(var c=!0;p<this._max_date;)p=this.date.add(p,1,this._load_mode),this._loaded[o(m)]&&c?m=this.date.add(m,1,this._load_mode):c=!1;var u=p;do p=u,u=this.date.add(p,-1,this._load_mode);while(u>m&&this._loaded[o(u)]);if(p<=m)return!1;for(s.ajax.get(d+"&from="+o(m)+"&to="+o(p),f);m<p;)this._loaded[o(m)]=!0,m=this.date.add(m,1,this._load_mode)}else s.ajax.get(d,f);return this.callEvent("onXLS",[]),this.callEvent("onLoadStart",[]),!0}function f(y){s.on_load(y),s.callEvent("onLoadEnd",[])}},s._parsers={},function(d){d._parsers.xml={canParse:function(m,p){if(p.responseXML&&p.responseXML.firstChild)return!0;try{var o=d.ajax.parse(p.responseText),c=d.ajax.xmltop("data",o);if(c&&c.tagName==="data")return!0}catch{}return!1},parse:function(m){var p;if(m.xmlDoc.responseXML||(m.xmlDoc.responseXML=d.ajax.parse(m.xmlDoc.responseText)),(p=d.ajax.xmltop("data",m.xmlDoc)).tagName!="data")return null;var o=p.getAttribute("dhx_security");o&&(window.dhtmlx&&(window.dhtmlx.security_key=o),d.security_key=o);for(var c=d.ajax.xpath("//coll_options",m.xmlDoc),u=0;u<c.length;u++){var f=c[u].getAttribute("for"),y=d.serverList[f];y||(d.serverList[f]=y=[]),y.splice(0,y.length);for(var x=d.ajax.xpath(".//item",c[u]),v=0;v<x.length;v++){for(var E=x[v].attributes,b={key:x[v].getAttribute("value"),label:x[v].getAttribute("label")},S=0;S<E.length;S++){var N=E[S];N.nodeName!="value"&&N.nodeName!="label"&&(b[N.nodeName]=N.nodeValue)}y.push(b)}}c.length&&d.callEvent("onOptionsLoad",[]);var O=d.ajax.xpath("//userdata",m.xmlDoc);for(u=0;u<O.length;u++){var j=d._xmlNodeToJSON(O[u]);d._userdata[j.name]=j.text}var R=[];for(p=d.ajax.xpath("//event",m.xmlDoc),u=0;u<p.length;u++){var H=R[u]=d._xmlNodeToJSON(p[u]);d._init_event(H)}return R}}}(s),function(d){d.json=d._parsers.json={canParse:function(m){if(m&&Ut(m)==="object")return!0;if(typeof m=="string")try{var p=JSON.parse(m);return Object.prototype.toString.call(p)==="[object Object]"||Object.prototype.toString.call(p)==="[object Array]"}catch{return!1}return!1},parse:function(m){var p=[];typeof m=="string"&&(m=JSON.parse(m)),Object.prototype.toString.call(m)==="[object Array]"?p=m:m&&(m.events?p=m.events:m.data&&(p=m.data)),p=p||[],m.dhx_security&&(window.dhtmlx&&(window.dhtmlx.security_key=m.dhx_security),d.security_key=m.dhx_security);var o=m&&m.collections?m.collections:{},c=!1;for(var u in o)if(o.hasOwnProperty(u)){c=!0;var f=o[u],y=d.serverList[u];y||(d.serverList[u]=y=[]),y.splice(0,y.length);for(var x=0;x<f.length;x++){var v=f[x],E={key:v.value,label:v.label};for(var b in v)if(v.hasOwnProperty(b)){if(b=="value"||b=="label")continue;E[b]=v[b]}y.push(E)}}c&&d.callEvent("onOptionsLoad",[]);for(var S=[],N=0;N<p.length;N++){var O=p[N];d._init_event(O),S.push(O)}return S}}}(s),function(d){d.ical=d._parsers.ical={canParse:function(m){return typeof m=="string"&&new RegExp("^BEGIN:VCALENDAR").test(m)},parse:function(m){var p=m.match(RegExp(this.c_start+"[^\f]*"+this.c_end,""));if(p.length){p[0]=p[0].replace(/[\r\n]+ /g,""),p[0]=p[0].replace(/[\r\n]+(?=[a-z \t])/g," "),p[0]=p[0].replace(/;[^:\r\n]*:/g,":");for(var o,c=[],u=RegExp("(?:"+this.e_start+")([^\f]*?)(?:"+this.e_end+")","g");(o=u.exec(p))!==null;){for(var f,y={},x=/[^\r\n]+[\r\n]+/g;(f=x.exec(o[1]))!==null;)this.parse_param(f.toString(),y);y.uid&&!y.id&&(y.id=y.uid),c.push(y)}return c}},parse_param:function(m,p){var o=m.indexOf(":");if(o!=-1){var c=m.substr(0,o).toLowerCase(),u=m.substr(o+1).replace(/\\,/g,",").replace(/[\r\n]+$/,"");c=="summary"?c="text":c=="dtstart"?(c="start_date",u=this.parse_date(u,0,0)):c=="dtend"&&(c="end_date",u=this.parse_date(u,0,0)),p[c]=u}},parse_date:function(m,p,o){var c=m.split("T"),u=!1;c[1]&&(p=c[1].substr(0,2),o=c[1].substr(2,2),u=c[1][6]=="Z");var f=c[0].substr(0,4),y=parseInt(c[0].substr(4,2),10)-1,x=c[0].substr(6,2);return d.config.server_utc||u?new Date(Date.UTC(f,y,x,p,o)):new Date(f,y,x,p,o)},c_start:"BEGIN:VCALENDAR",e_start:"BEGIN:VEVENT",e_end:"END:VEVENT",c_end:"END:VCALENDAR"}}(s),s.on_load=function(d){var m;this.callEvent("onBeforeParse",[]);var p=!1,o=!1;for(var c in this._parsers){var u=this._parsers[c];if(u.canParse(d.xmlDoc.responseText,d.xmlDoc)){try{var f=d.xmlDoc.responseText;c==="xml"&&(f=d),(m=u.parse(f))||(p=!0)}catch{p=!0}o=!0;break}}if(!o)if(this._process&&this[this._process])try{m=this[this._process].parse(d.xmlDoc.responseText)}catch{p=!0}else p=!0;(p||d.xmlDoc.status&&d.xmlDoc.status>=400)&&(this.callEvent("onLoadError",[d.xmlDoc]),m=[]),this._process_loading(m),this.callEvent("onXLE",[]),this.callEvent("onParse",[])},s._process_loading=function(d){this._loading=!0,this._not_render=!0;for(var m=0;m<d.length;m++)this.callEvent("onEventLoading",[d[m]])&&this.addEvent(d[m]);this._not_render=!1,this._render_wait&&this.render_view_data(),this._loading=!1,this._after_call&&this._after_call(),this._after_call=null},s._init_event=function(d){d.text=d.text||d._tagvalue||"",d.start_date=s._init_date(d.start_date),d.end_date=s._init_date(d.end_date)},s._init_date=function(d){return d?typeof d=="string"?s._helpers.parseDate(d):new Date(d):null};var w=yt()(s);s.serialize=function(){var d=[],m=w();for(var p in m){var o={},c=m[p];for(var u in c)if(u.charAt(0)!="$"&&u.charAt(0)!="_"){var f=void 0,y=c[u];f=s.utils.isDate(y)?s.defined(s.templates.xml_format)?s.templates.xml_format(y):s.templates.format_date(y):y,o[u]=f}d.push(o)}return d},s.parse=function(d,m){this._process=m,this.on_load({xmlDoc:{responseText:d}})},s.load=function(d,m){typeof m=="string"&&(this._process=m,m=arguments[2]),this._load_url=d,this._after_call=m,this._load(d,this._date)},s.setLoadMode=function(d){d=="all"&&(d=""),this._load_mode=d},s.serverList=function(d,m){return m?(this.serverList[d]=m.slice(0),this.serverList[d]):(this.serverList[d]=this.serverList[d]||[],this.serverList[d])},s._userdata={},s._xmlNodeToJSON=function(d){for(var m={},p=0;p<d.attributes.length;p++)m[d.attributes[p].name]=d.attributes[p].value;for(p=0;p<d.childNodes.length;p++){var o=d.childNodes[p];o.nodeType==1&&(m[o.tagName]=o.firstChild?o.firstChild.nodeValue:"")}return m.text||(m.text=d.firstChild?d.firstChild.nodeValue:""),m},s.attachEvent("onXLS",function(){var d;this.config.show_loading===!0&&((d=this.config.show_loading=document.createElement("div")).className="dhx_loading",d.style.left=Math.round((this._x-128)/2)+"px",d.style.top=Math.round((this._y-15)/2)+"px",this._obj.appendChild(d))}),s.attachEvent("onXLE",function(){var d=this.config.show_loading;d&&Jt(d)=="object"&&(d.parentNode&&d.parentNode.removeChild(d),this.config.show_loading=!0)})}function Kr(s){s._init_touch_events=function(){if((this.config.touch&&(navigator.userAgent.indexOf("Mobile")!=-1||navigator.userAgent.indexOf("iPad")!=-1||navigator.userAgent.indexOf("Android")!=-1||navigator.userAgent.indexOf("Touch")!=-1)&&!window.MSStream||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&(this.xy.scroll_width=0,this._mobile=!0),this.config.touch){var w=!0;try{document.createEvent("TouchEvent")}catch{w=!1}w?this._touch_events(["touchmove","touchstart","touchend"],function(d){return d.touches&&d.touches.length>1?null:d.touches[0]?{target:d.target,pageX:d.touches[0].pageX,pageY:d.touches[0].pageY,clientX:d.touches[0].clientX,clientY:d.touches[0].clientY}:d},function(){return!1}):window.PointerEvent||window.navigator.pointerEnabled?this._touch_events(["pointermove","pointerdown","pointerup"],function(d){return d.pointerType=="mouse"?null:d},function(d){return!d||d.pointerType=="mouse"}):window.navigator.msPointerEnabled&&this._touch_events(["MSPointerMove","MSPointerDown","MSPointerUp"],function(d){return d.pointerType==d.MSPOINTER_TYPE_MOUSE?null:d},function(d){return!d||d.pointerType==d.MSPOINTER_TYPE_MOUSE})}},s._touch_events=function(w,d,m){var p,o,c,u,f,y,x=0;function v(b,S,N){b.addEventListener(S,function(O){return!!s._is_lightbox_open()||(m(O)?void 0:N(O))},{passive:!1})}function E(b){m(b)||(s._hide_global_tip(),u&&(s._on_mouse_up(d(b)),s._temp_touch_block=!1),s._drag_id=null,s._drag_mode=null,s._drag_pos=null,s._pointerDragId=null,clearTimeout(c),u=y=!1,f=!0)}v(document.body,w[0],function(b){if(!m(b)){var S=d(b);if(S){if(u)return function(N){if(!m(N)){var O=s.getState().drag_mode,j=!!s.matrix&&s.matrix[s._mode],R=s.render_view_data;O=="create"&&j&&(s.render_view_data=function(){for(var H=s.getState().drag_id,Z=s.getEvent(H),re=j.y_property,K=s.getEvents(Z.start_date,Z.end_date),ae=0;ae<K.length;ae++)K[ae][re]!=Z[re]&&(K.splice(ae,1),ae--);Z._sorder=K.length-1,Z._count=K.length,this.render_data([Z],s.getState().mode)}),s._on_mouse_move(N),O=="create"&&j&&(s.render_view_data=R),N.preventDefault&&N.preventDefault(),N.cancelBubble=!0}}(S),b.preventDefault&&b.preventDefault(),b.cancelBubble=!0,s._update_global_tip(),!1;o=d(b),y&&(o?(p.target!=o.target||Math.abs(p.pageX-o.pageX)>5||Math.abs(p.pageY-o.pageY)>5)&&(f=!0,clearTimeout(c)):f=!0)}}}),v(this._els.dhx_cal_data[0],"touchcancel",E),v(this._els.dhx_cal_data[0],"contextmenu",function(b){if(!m(b))return y?(b&&b.preventDefault&&b.preventDefault(),b.cancelBubble=!0,!1):void 0}),v(this._obj,w[1],function(b){var S;if(document&&document.body&&document.body.classList.add("dhx_cal_touch_active"),!m(b))if(s._pointerDragId=b.pointerId,u=f=!1,y=!0,S=o=d(b)){var N=new Date;if(!f&&!u&&N-x<250)return s._click.dhx_cal_data(S),window.setTimeout(function(){S.type="dblclick",s._on_dbl_click(S)},50),b.preventDefault&&b.preventDefault(),b.cancelBubble=!0,s._block_next_stop=!0,!1;if(x=N,!f&&!u&&s.config.touch_drag){var O=s._locate_event(document.activeElement),j=s._locate_event(S.target),R=p?s._locate_event(p.target):null;if(O&&j&&O==j&&O!=R)return b.preventDefault&&b.preventDefault(),b.cancelBubble=!0,s._ignore_next_click=!1,s._click.dhx_cal_data(S),p=S,!1;c=setTimeout(function(){u=!0;var H=p.target,Z=s._getClassName(H);H&&Z.indexOf("dhx_body")!=-1&&(H=H.previousSibling),s._on_mouse_down(p,H),s._drag_mode&&s._drag_mode!="create"&&s.for_rendered(s._drag_id,function(re,K){re.style.display="none",s._rendered.splice(K,1)}),s.config.touch_tip&&s._show_global_tip(),s.updateEvent(s._drag_id)},s.config.touch_drag),p=S}}else f=!0}),v(this._els.dhx_cal_data[0],w[2],function(b){if(document&&document.body&&document.body.classList.remove("dhx_cal_touch_active"),!m(b))return s.config.touch_swipe_dates&&!u&&function(S,N,O,j){if(!S||!N)return!1;for(var R=S.target;R&&R!=s._obj;)R=R.parentNode;if(R!=s._obj||s.matrix&&s.matrix[s.getState().mode]&&s.matrix[s.getState().mode].scrollable)return!1;var H=Math.abs(S.pageY-N.pageY),Z=Math.abs(S.pageX-N.pageX);return H<j&&Z>O&&(!H||Z/H>3)&&(S.pageX>N.pageX?s._click.dhx_cal_next_button():s._click.dhx_cal_prev_button(),!0)}(p,o,200,100)&&(s._block_next_stop=!0),u&&(s._ignore_next_click=!0,setTimeout(function(){s._ignore_next_click=!1},100)),E(b),s._block_next_stop?(s._block_next_stop=!1,b.preventDefault&&b.preventDefault(),b.cancelBubble=!0,!1):void 0}),s.event(document.body,w[2],E)},s._show_global_tip=function(){s._hide_global_tip();var w=s._global_tip=document.createElement("div");w.className="dhx_global_tip",s._update_global_tip(1),document.body.appendChild(w)},s._update_global_tip=function(w){var d=s._global_tip;if(d){var m="";if(s._drag_id&&!w){var p=s.getEvent(s._drag_id);p&&(m="<div>"+(p._timed?s.templates.event_header(p.start_date,p.end_date,p):s.templates.day_date(p.start_date,p.end_date,p))+"</div>")}s._drag_mode=="create"||s._drag_mode=="new-size"?d.innerHTML=(s.locale.labels.drag_to_create||"Drag to create")+m:d.innerHTML=(s.locale.labels.drag_to_move||"Drag to move")+m}},s._hide_global_tip=function(){var w=s._global_tip;w&&w.parentNode&&(w.parentNode.removeChild(w),s._global_tip=0)}}function pa(s){var w,d;function m(){if(s._is_material_skin())return!0;if(d!==void 0)return d;var o=document.createElement("div");o.style.position="absolute",o.style.left="-9999px",o.style.top="-9999px",o.innerHTML="<div class='dhx_cal_container'><div class='dhx_cal_data'><div class='dhx_cal_event'><div class='dhx_body'></div></div><div>",document.body.appendChild(o);var c=window.getComputedStyle(o.querySelector(".dhx_body")).getPropertyValue("box-sizing");document.body.removeChild(o),(d=c==="border-box")||setTimeout(function(){d=void 0},1e3)}function p(){if(!s._is_material_skin()&&!s._border_box_events()){var o=d;d=void 0,w=void 0,o!==m()&&s.$container&&s.getState().mode&&s.setCurrentView()}}s._skin_settings={fix_tab_position:[1,0],use_select_menu_space:[1,0],wide_form:[1,0],hour_size_px:[44,42],displayed_event_color:["#ff4a4a","ffc5ab"],displayed_event_text_color:["#ffef80","7e2727"]},s._skin_xy={lightbox_additional_height:[90,50],nav_height:[59,22],bar_height:[24,20]},s._is_material_skin=function(){return s.skin?(s.skin+"").indexOf("material")>-1:function(){if(w===void 0){var o=document.createElement("div");o.style.position="absolute",o.style.left="-9999px",o.style.top="-9999px",o.innerHTML="<div class='dhx_cal_container'><div class='dhx_cal_scale_placeholder'></div><div>",document.body.appendChild(o);var c=window.getComputedStyle(o.querySelector(".dhx_cal_scale_placeholder")),u=c.getPropertyValue("position");w=u==="absolute",setTimeout(function(){w=null},500)}return w}()},window.addEventListener("DOMContentLoaded",p),window.addEventListener("load",p),s._border_box_events=function(){return m()},s._configure=function(o,c,u){for(var f in c)o[f]===void 0&&(o[f]=c[f][u])},s._skin_init=function(){if(!s.skin)for(var o=document.getElementsByTagName("link"),c=0;c<o.length;c++){var u=o[c].href.match("dhtmlxscheduler_([a-z]+).css");if(u){s.skin=u[1];break}}var f=0;if(!s.skin||s.skin!=="classic"&&s.skin!=="glossy"||(f=1),s._is_material_skin()){var y=s.config.buttons_left.$initial,x=s.config.buttons_right.$initial;if(y&&s.config.buttons_left.slice().join()==y&&x&&s.config.buttons_right.slice().join()==x){var v=s.config.buttons_left.slice();s.config.buttons_left=s.config.buttons_right.slice(),s.config.buttons_right=v}s.xy.event_header_height=18,s.xy.week_agenda_scale_height=35,s.xy.map_icon_width=38,s._lightbox_controls.defaults.textarea.height=64,s._lightbox_controls.defaults.time.height="auto"}if(this._configure(s.config,s._skin_settings,f),this._configure(s.xy,s._skin_xy,f),s.skin==="flat"&&(s.xy.scale_height=35,s.templates.hour_scale=function(b){var S=b.getMinutes();return S=S<10?"0"+S:S,"<span class='dhx_scale_h'>"+b.getHours()+"</span><span class='dhx_scale_m'>&nbsp;"+S+"</span>"}),!f){var E=s.config.minicalendar;E&&(E.padding=14),s.templates.event_bar_date=function(b,S,N){return"\u2022 <b>"+s.templates.event_date(b)+"</b> "},s.attachEvent("onTemplatesReady",function(){var b=s.date.date_to_str("%d");s.templates._old_month_day||(s.templates._old_month_day=s.templates.month_day);var S=s.templates._old_month_day;if(s.templates.month_day=function(ae){if(this._mode=="month"){var W=b(ae);return ae.getDate()==1&&(W=s.locale.date.month_full[ae.getMonth()]+" "+W),+ae==+s.date.date_part(this._currentDate())&&(W=s.locale.labels.dhx_cal_today_button+" "+W),W}return S.call(this,ae)},s.config.fix_tab_position){var N=s._els.dhx_cal_navline[0].getElementsByTagName("div"),O=null,j=211,R=[14,75,136],H=14;s._is_material_skin()&&(R=[16,103,192],j=294,H=-1);for(var Z=0;Z<N.length;Z++){var re=N[Z],K=re.getAttribute("data-tab")||re.getAttribute("name");if(K){switch(re.style.right="auto",K){case"day":case"day_tab":re.style.left=R[0]+"px",re.className+=" dhx_cal_tab_first";break;case"week":case"week_tab":re.style.left=R[1]+"px";break;case"month":case"month_tab":re.style.left=R[2]+"px",re.className+=" dhx_cal_tab_last";break;default:re.style.left=j+"px",re.className+=" dhx_cal_tab_standalone",j=j+H+re.offsetWidth}re.className+=" "+K}else(re.className||"").indexOf("dhx_minical_icon")===0&&re.parentNode==s._els.dhx_cal_navline[0]&&(O=re)}O&&(O.style.left=j+"px")}}),s._skin_init=function(){}}}}function gn(s){return(gn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}function ie(s){return this.serverProcessor=s,this.action_param="!nativeeditor_status",this.object=null,this.updatedRows=[],this.autoUpdate=!0,this.updateMode="cell",this._tMode="GET",this._headers=null,this._payload=null,this.post_delim="_",this._waitMode=0,this._in_progress={},this._invalid={},this.messages=[],this.styles={updated:"font-weight:bold;",inserted:"font-weight:bold;",deleted:"text-decoration : line-through;",invalid:"background-color:FFE0E0;",invalid_cell:"border-bottom:2px solid red;",error:"color:red;",clear:"font-weight:normal;text-decoration:none;"},this.enableUTFencoding(!0),C(this),this}function fe(s){return(fe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}ie.prototype={setTransactionMode:function(s,w){gn(s)=="object"?(this._tMode=s.mode||this._tMode,s.headers!==void 0&&(this._headers=s.headers),s.payload!==void 0&&(this._payload=s.payload),this._tSend=!!w):(this._tMode=s,this._tSend=w),this._tMode=="REST"&&(this._tSend=!1,this._endnm=!0),this._tMode==="JSON"||this._tMode==="REST-JSON"?(this._tSend=!1,this._endnm=!0,this._serializeAsJson=!0,this._headers=this._headers||{},this._headers["Content-Type"]="application/json"):this._headers&&!this._headers["Content-Type"]&&(this._headers["Content-Type"]="application/x-www-form-urlencoded"),this._tMode==="CUSTOM"&&(this._tSend=!1,this._endnm=!0,this._router=s.router)},escape:function(s){function w(d){return s.apply(this,arguments)}return w.toString=function(){return s.toString()},w}(function(s){return this._utf?encodeURIComponent(s):escape(s)}),enableUTFencoding:function(s){this._utf=!!s},setDataColumns:function(s){this._columns=typeof s=="string"?s.split(","):s},getSyncState:function(){return!this.updatedRows.length},enableDataNames:function(s){this._endnm=!!s},enablePartialDataSend:function(s){this._changed=!!s},setUpdateMode:function(s,w){this.autoUpdate=s=="cell",this.updateMode=s,this.dnd=w},ignore:function(s,w){this._silent_mode=!0,s.call(w||window),this._silent_mode=!1},setUpdated:function(s,w,d){if(!this._silent_mode){var m=this.findRow(s);d=d||"updated";var p=this.$scheduler.getUserData(s,this.action_param);p&&d=="updated"&&(d=p),w?(this.set_invalid(s,!1),this.updatedRows[m]=s,this.$scheduler.setUserData(s,this.action_param,d),this._in_progress[s]&&(this._in_progress[s]="wait")):this.is_invalid(s)||(this.updatedRows.splice(m,1),this.$scheduler.setUserData(s,this.action_param,"")),this.markRow(s,w,d),w&&this.autoUpdate&&this.sendData(s)}},markRow:function(s,w,d){var m="",p=this.is_invalid(s);if(p&&(m=this.styles[p],w=!0),this.callEvent("onRowMark",[s,w,d,p])&&(m=this.styles[w?d:"clear"]+m,this.$scheduler[this._methods[0]](s,m),p&&p.details)){m+=this.styles[p+"_cell"];for(var o=0;o<p.details.length;o++)p.details[o]&&this.$scheduler[this._methods[1]](s,o,m)}},getActionByState:function(s){return s==="inserted"?"create":s==="updated"?"update":s==="deleted"?"delete":"update"},getState:function(s){return this.$scheduler.getUserData(s,this.action_param)},is_invalid:function(s){return this._invalid[s]},set_invalid:function(s,w,d){d&&(w={value:w,details:d,toString:function(){return this.value.toString()}}),this._invalid[s]=w},checkBeforeUpdate:function(s){return!0},sendData:function(s){return this.$scheduler.editStop&&this.$scheduler.editStop(),s===void 0||this._tSend?this.sendAllData():!this._in_progress[s]&&(this.messages=[],!(!this.checkBeforeUpdate(s)&&this.callEvent("onValidationError",[s,this.messages]))&&void this._beforeSendData(this._getRowData(s),s))},_beforeSendData:function(s,w){if(!this.callEvent("onBeforeUpdate",[w,this.getState(w),s]))return!1;this._sendData(s,w)},serialize:function(s,w){if(this._serializeAsJson)return this._serializeAsJSON(s);if(typeof s=="string")return s;if(w!==void 0)return this.serialize_one(s,"");var d=[],m=[];for(var p in s)s.hasOwnProperty(p)&&(d.push(this.serialize_one(s[p],p+this.post_delim)),m.push(p));return d.push("ids="+this.escape(m.join(","))),this.$scheduler.security_key&&d.push("dhx_security="+this.$scheduler.security_key),d.join("&")},serialize_one:function(s,w){if(typeof s=="string")return s;var d=[],m="";for(var p in s)if(s.hasOwnProperty(p)){if((p=="id"||p==this.action_param)&&this._tMode=="REST")continue;m=typeof s[p]=="string"||typeof s[p]=="number"?s[p]:JSON.stringify(s[p]),d.push(this.escape((w||"")+p)+"="+this.escape(m))}return d.join("&")},_applyPayload:function(s){var w=this.$scheduler.ajax;if(this._payload)for(var d in this._payload)s=s+w.urlSeparator(s)+this.escape(d)+"="+this.escape(this._payload[d]);return s},_sendData:function(s,w){if(s){if(!this.callEvent("onBeforeDataSending",w?[w,this.getState(w),s]:[null,null,s]))return!1;w&&(this._in_progress[w]=new Date().valueOf());var d=this,m=this.$scheduler.ajax;if(this._tMode!=="CUSTOM"){var p,o={callback:function(S){var N=[];if(w)N.push(w);else if(s)for(var O in s)N.push(O);return d.afterUpdate(d,S,N)},headers:d._headers},c=this.serverProcessor+(this._user?m.urlSeparator(this.serverProcessor)+["dhx_user="+this._user,"dhx_version="+this.$scheduler.getUserData(0,"version")].join("&"):""),u=this._applyPayload(c);switch(this._tMode){case"GET":p=this._cleanupArgumentsBeforeSend(s),o.url=u+m.urlSeparator(u)+this.serialize(p,w),o.method="GET";break;case"POST":p=this._cleanupArgumentsBeforeSend(s),o.url=u,o.method="POST",o.data=this.serialize(p,w);break;case"JSON":p={};var f=this._cleanupItemBeforeSend(s);for(var y in f)y!==this.action_param&&y!=="id"&&y!=="gr_id"&&(p[y]=f[y]);o.url=u,o.method="POST",o.data=JSON.stringify({id:w,action:s[this.action_param],data:p});break;case"REST":case"REST-JSON":switch(u=c.replace(/(&|\?)editing=true/,""),p="",this.getState(w)){case"inserted":o.method="POST",o.data=this.serialize(s,w);break;case"deleted":o.method="DELETE",u=u+(u.slice(-1)==="/"?"":"/")+w;break;default:o.method="PUT",o.data=this.serialize(s,w),u=u+(u.slice(-1)==="/"?"":"/")+w}o.url=this._applyPayload(u)}return this._waitMode++,m.query(o)}var x,v=this.getState(w),E=this.getActionByState(v),b=function(S){var N=v;if(S&&S.responseText&&S.setRequestHeader){S.status!==200&&(N="error");try{S=JSON.parse(S.responseText)}catch{}}N=N||"updated";var O=w,j=w;S&&(N=S.action||N,O=S.sid||O,j=S.id||S.tid||j),d.afterUpdateCallback(O,j,N,S)};if(this._router instanceof Function)x=this._router("event",E,s,w);else switch(v){case"inserted":x=this._router.event.create(s);break;case"deleted":x=this._router.event.delete(w);break;default:x=this._router.event.update(s,w)}if(x){if(!x.then&&x.id===void 0&&x.tid===void 0&&x.action===void 0)throw new Error("Incorrect router return value. A Promise or a response object is expected");x.then?x.then(b).catch(function(S){S&&S.action?b(S):b({action:"error",value:S})}):b(x)}else b(null)}},sendAllData:function(){if(this.updatedRows.length&&this.updateMode!=="off"){this.messages=[];var s=!0;if(this._forEachUpdatedRow(function(w){s=s&&this.checkBeforeUpdate(w)}),!s&&!this.callEvent("onValidationError",["",this.messages]))return!1;this._tSend?this._sendData(this._getAllData()):this._forEachUpdatedRow(function(w){if(!this._in_progress[w]){if(this.is_invalid(w))return;this._beforeSendData(this._getRowData(w),w)}})}},_getAllData:function(s){var w={},d=!1;return this._forEachUpdatedRow(function(m){if(!this._in_progress[m]&&!this.is_invalid(m)){var p=this._getRowData(m);this.callEvent("onBeforeUpdate",[m,this.getState(m),p])&&(w[m]=p,d=!0,this._in_progress[m]=new Date().valueOf())}}),d?w:null},findRow:function(s){var w=0;for(w=0;w<this.updatedRows.length&&s!=this.updatedRows[w];w++);return w},defineAction:function(s,w){this._uActions||(this._uActions={}),this._uActions[s]=w},afterUpdateCallback:function(s,w,d,m){if(this.$scheduler){var p=s,o=d!=="error"&&d!=="invalid";if(o||this.set_invalid(s,d),this._uActions&&this._uActions[d]&&!this._uActions[d](m))return delete this._in_progress[p];this._in_progress[p]!=="wait"&&this.setUpdated(s,!1);var c=s;switch(d){case"inserted":case"insert":w!=s&&(this.setUpdated(s,!1),this.$scheduler[this._methods[2]](s,w),s=w);break;case"delete":case"deleted":return this.$scheduler.setUserData(s,this.action_param,"true_deleted"),this.$scheduler[this._methods[3]](s,w),delete this._in_progress[p],this.callEvent("onAfterUpdate",[s,d,w,m])}this._in_progress[p]!=="wait"?(o&&this.$scheduler.setUserData(s,this.action_param,""),delete this._in_progress[p]):(delete this._in_progress[p],this.setUpdated(w,!0,this.$scheduler.getUserData(s,this.action_param))),this.callEvent("onAfterUpdate",[c,d,w,m])}},_errorResponse:function(s,w){return this.$scheduler&&this.$scheduler.callEvent&&this.$scheduler.callEvent("onSaveError",[w,s.xmlDoc]),this.cleanUpdate(w)},_setDefaultTransactionMode:function(){this.serverProcessor&&(this.setTransactionMode("POST",!0),this.serverProcessor+=(this.serverProcessor.indexOf("?")!==-1?"&":"?")+"editing=true",this._serverProcessor=this.serverProcessor)},afterUpdate:function(s,w,d){var m=this.$scheduler.ajax;if(w.xmlDoc.status===200){var p;try{p=JSON.parse(w.xmlDoc.responseText)}catch{w.xmlDoc.responseText.length||(p={})}if(p){var o=p.action||this.getState(d)||"updated",c=p.sid||d[0],u=p.tid||d[0];return s.afterUpdateCallback(c,u,o,p),void s.finalizeUpdate()}var f=m.xmltop("data",w.xmlDoc);if(!f)return this._errorResponse(w,d);var y=m.xpath("//data/action",f);if(!y.length)return this._errorResponse(w,d);for(var x=0;x<y.length;x++){var v=y[x];o=v.getAttribute("type"),c=v.getAttribute("sid"),u=v.getAttribute("tid"),s.afterUpdateCallback(c,u,o,v)}s.finalizeUpdate()}else this._errorResponse(w,d)},cleanUpdate:function(s){if(s)for(var w=0;w<s.length;w++)delete this._in_progress[s[w]]},finalizeUpdate:function(){this._waitMode&&this._waitMode--,this.callEvent("onAfterUpdateFinish",[]),this.updatedRows.length||this.callEvent("onFullSync",[])},init:function(s){if(!this._initialized){this.$scheduler=s,this.$scheduler._dp_init&&this.$scheduler._dp_init(this),this._setDefaultTransactionMode(),this._methods=this._methods||["_set_event_text_style","","_dp_change_event_id","_dp_hook_delete"],function(d,m){d._validId=function(p){return!0},d.setUserData=function(p,o,c){if(p){var u=this.getEvent(p);u&&(u[o]=c)}else this._userdata[o]=c},d.getUserData=function(p,o){if(p){var c=this.getEvent(p);return c?c[o]:null}return this._userdata[o]},d._set_event_text_style=function(p,o){if(d.getEvent(p)){this.for_rendered(p,function(u){u.style.cssText+=";"+o});var c=this.getEvent(p);c._text_style=o,this.event_updated(c)}},d._update_callback=function(p,o){var c=d._xmlNodeToJSON(p.firstChild);c.rec_type=="none"&&(c.rec_pattern="none"),c.text=c.text||c._tagvalue,c.start_date=d._helpers.parseDate(c.start_date),c.end_date=d._helpers.parseDate(c.end_date),d.addEvent(c),d._add_rec_marker&&d.setCurrentView()},d._dp_change_event_id=function(p,o){d.getEvent(p)&&d.changeEventId(p,o)},d._dp_hook_delete=function(p,o){if(d.getEvent(p))return o&&p!=o&&(this.getUserData(p,m.action_param)=="true_deleted"&&this.setUserData(p,m.action_param,"updated"),this.changeEventId(p,o)),this.deleteEvent(o,!0)},d.setDp=function(){this._dp=m},d.setDp()}(this.$scheduler,this);var w=new function(d,m){this.$scheduler=d,this.$dp=m,this._dataProcessorHandlers=[],this.attach=function(){var p=this.$dp,o=this.$scheduler;this._dataProcessorHandlers.push(o.attachEvent("onEventAdded",function(c){!this._loading&&this._validId(c)&&p.setUpdated(c,!0,"inserted")})),this._dataProcessorHandlers.push(o.attachEvent("onConfirmedBeforeEventDelete",function(c){if(this._validId(c)){var u=p.getState(c);return u=="inserted"||this._new_event?(p.setUpdated(c,!1),!0):u!="deleted"&&(u=="true_deleted"||(p.setUpdated(c,!0,"deleted"),!1))}})),this._dataProcessorHandlers.push(o.attachEvent("onEventChanged",function(c){!this._loading&&this._validId(c)&&p.setUpdated(c,!0,"updated")})),this._dataProcessorHandlers.push(o.attachEvent("onClearAll",function(){p._in_progress={},p._invalid={},p.updatedRows=[],p._waitMode=0})),p.attachEvent("insertCallback",o._update_callback),p.attachEvent("updateCallback",o._update_callback),p.attachEvent("deleteCallback",function(c,u){o.getEvent(u)?(o.setUserData(u,this.action_param,"true_deleted"),o.deleteEvent(u)):o._add_rec_marker&&o._update_callback(c,u)})},this.detach=function(){for(var p in this._dataProcessorHandlers){var o=this._dataProcessorHandlers[p];this.$scheduler.detachEvent(o)}this._dataProcessorHandlers=[]}}(this.$scheduler,this);w.attach(),this.attachEvent("onDestroy",function(){delete this._getRowData,delete this.$scheduler._dp,delete this.$scheduler._dataprocessor,delete this.$scheduler._set_event_text_style,delete this.$scheduler._dp_change_event_id,delete this.$scheduler._dp_hook_delete,delete this.$scheduler,w.detach()}),this.$scheduler.callEvent("onDataProcessorReady",[this]),this._initialized=!0,s._dataprocessor=this}},setOnAfterUpdate:function(s){this.attachEvent("onAfterUpdate",s)},setOnBeforeUpdateHandler:function(s){this.attachEvent("onBeforeDataSending",s)},setAutoUpdate:function(s,w){s=s||2e3,this._user=w||new Date().valueOf(),this._need_update=!1,this._update_busy=!1,this.attachEvent("onAfterUpdate",function(m,p,o,c){this.afterAutoUpdate(m,p,o,c)}),this.attachEvent("onFullSync",function(){this.fullSync()});var d=this;a.a.setInterval(function(){d.loadUpdate()},s)},afterAutoUpdate:function(s,w,d,m){return w!="collision"||(this._need_update=!0,!1)},fullSync:function(){return this._need_update&&(this._need_update=!1,this.loadUpdate()),!0},getUpdates:function(s,w){var d=this.$scheduler.ajax;if(this._update_busy)return!1;this._update_busy=!0,d.get(s,w)},_getXmlNodeValue:function(s){return s.firstChild?s.firstChild.nodeValue:""},loadUpdate:function(){var s=this,w=this.$scheduler.ajax,d=this.$scheduler.getUserData(0,"version"),m=this.serverProcessor+w.urlSeparator(this.serverProcessor)+["dhx_user="+this._user,"dhx_version="+d].join("&");m=m.replace("editing=true&",""),this.getUpdates(m,function(p){var o=w.xpath("//userdata",p);s.$scheduler.setUserData(0,"version",s._getXmlNodeValue(o[0]));var c=w.xpath("//update",p);if(c.length){s._silent_mode=!0;for(var u=0;u<c.length;u++){var f=c[u].getAttribute("status"),y=c[u].getAttribute("id"),x=c[u].getAttribute("parent");switch(f){case"inserted":this.callEvent("insertCallback",[c[u],y,x]);break;case"updated":this.callEvent("updateCallback",[c[u],y,x]);break;case"deleted":this.callEvent("deleteCallback",[c[u],y,x])}}s._silent_mode=!1}s._update_busy=!1,s=null})},destructor:function(){this.callEvent("onDestroy",[]),this.detachAllEvents(),this.updatedRows=[],this._in_progress={},this._invalid={},this._headers=null,this._payload=null,delete this._initialized},url:function(s){this.serverProcessor=this._serverProcessor=s},_serializeAsJSON:function(s){if(typeof s=="string")return s;var w=this.$scheduler.utils.copy(s);return this._tMode==="REST-JSON"&&(delete w.id,delete w[this.action_param]),JSON.stringify(w)},_cleanupArgumentsBeforeSend:function(s){var w;if(s[this.action_param]===void 0)for(var d in w={},s)w[d]=this._cleanupArgumentsBeforeSend(s[d]);else w=this._cleanupItemBeforeSend(s);return w},_cleanupItemBeforeSend:function(s){var w=null;return s&&(s[this.action_param]==="deleted"?((w={}).id=s.id,w[this.action_param]=s[this.action_param]):w=s),w},_forEachUpdatedRow:function(s){for(var w=this.updatedRows.slice(),d=0;d<w.length;d++){var m=w[d];this.$scheduler.getUserData(m,this.action_param)&&s.call(this,m)}},_prepareDataItem:function(s){var w={},d=this.$scheduler,m=d.utils.copy(s);for(var p in m)p.indexOf("_")!==0&&m[p]&&(m[p].getUTCFullYear?w[p]=d._helpers.formatDate(m[p]):gn(m[p])=="object"?w[p]=this._prepareDataItem(m[p]):m[p]===null?w[p]="":w[p]=m[p]);return w[this.action_param]=d.getUserData(s.id,this.action_param),w},_getRowData:function(s){var w=this.$scheduler.getEvent(s);return w||(w={id:s}),this._prepareDataItem(w)}};var Ee=function(s){var w="data-dhxbox",d=null;function m(R,H){var Z=R.callback;N.hide(R.box),d=R.box=null,Z&&Z(H)}function p(R){if(d){var H=R.which||R.keyCode,Z=!1;if(O.keyboard){if(H==13||H==32){var re=R.target||R.srcElement;ce.getClassName(re).indexOf("scheduler_popup_button")>-1&&re.click?re.click():(m(d,!0),Z=!0)}H==27&&(m(d,!1),Z=!0)}return Z?(R.preventDefault&&R.preventDefault(),!(R.cancelBubble=!0)):void 0}}function o(R){o.cover||(o.cover=document.createElement("div"),s.event(o.cover,"keydown",p),o.cover.className="dhx_modal_cover",document.body.appendChild(o.cover)),o.cover.style.display=R?"inline-block":"none"}function c(R,H,Z){var re=s._waiAria.messageButtonAttrString(R),K=(H||"").toLowerCase().replace(/ /g,"_"),ae="scheduler_".concat(K,"_button dhtmlx_").concat(K,"_button");return"<div ".concat(re," class='scheduler_popup_button dhtmlx_popup_button ").concat(ae,"' data-result='").concat(Z,"' result='").concat(Z,"' ><div>").concat(R,"</div></div>")}function u(R){O.area||(O.area=document.createElement("div"),O.area.className="scheduler_message_area dhtmlx_message_area",O.area.style[O.position]="5px",document.body.appendChild(O.area)),O.hide(R.id);var H=document.createElement("div");return H.innerHTML="<div>"+R.text+"</div>",H.className="scheduler-info dhtmlx-info scheduler-"+R.type+" dhtmlx-"+R.type,s.event(H,"click",function(){O.hide(R.id),R=null}),s._waiAria.messageInfoAttr(H),O.position=="bottom"&&O.area.firstChild?O.area.insertBefore(H,O.area.firstChild):O.area.appendChild(H),R.expire>0&&(O.timers[R.id]=window.setTimeout(function(){O&&O.hide(R.id)},R.expire)),O.pull[R.id]=H,H=null,R.id}function f(){for(var R=[].slice.apply(arguments,[0]),H=0;H<R.length;H++)if(R[H])return R[H]}function y(R,H,Z){var re=R.tagName?R:function(W,ne,Q){var we=document.createElement("div"),Ce=U.uid();s._waiAria.messageModalAttr(we,Ce),we.className=" scheduler_modal_box dhtmlx_modal_box scheduler-"+W.type+" dhtmlx-"+W.type,we.setAttribute(w,1);var xe="";if(W.width&&(we.style.width=W.width),W.height&&(we.style.height=W.height),W.title&&(xe+='<div class="scheduler_popup_title dhtmlx_popup_title">'+W.title+"</div>"),xe+='<div class="scheduler_popup_text dhtmlx_popup_text" id="'+Ce+'"><span>'+(W.content?"":W.text)+'</span></div><div  class="scheduler_popup_controls dhtmlx_popup_controls">',ne&&(xe+=c(f(W.ok,s.locale.labels.message_ok,"OK"),"ok",!0)),Q&&(xe+=c(f(W.cancel,s.locale.labels.message_cancel,"Cancel"),"cancel",!1)),W.buttons)for(var Ie=0;Ie<W.buttons.length;Ie++){var De=W.buttons[Ie];fe(De)=="object"?xe+=c(De.label,De.css||"scheduler_"+De.label.toLowerCase()+"_button dhtmlx_"+De.label.toLowerCase()+"_button",De.value||Ie):xe+=c(De,De,Ie)}if(xe+="</div>",we.innerHTML=xe,W.content){var Fe=W.content;typeof Fe=="string"&&(Fe=document.getElementById(Fe)),Fe.style.display=="none"&&(Fe.style.display=""),we.childNodes[W.title?1:0].appendChild(Fe)}return s.event(we,"click",function(We){var Xe=We.target||We.srcElement;if(Xe.className||(Xe=Xe.parentNode),ce.closest(Xe,".scheduler_popup_button")){var Ct=Xe.getAttribute("data-result");m(W,Ct=Ct=="true"||Ct!="false"&&Ct)}}),W.box=we,(ne||Q)&&(d=W),we}(R,H,Z);R.hidden||o(!0),document.body.appendChild(re);var K=Math.abs(Math.floor(((window.innerWidth||document.documentElement.offsetWidth)-re.offsetWidth)/2)),ae=Math.abs(Math.floor(((window.innerHeight||document.documentElement.offsetHeight)-re.offsetHeight)/2));return R.position=="top"?re.style.top="-3px":re.style.top=ae+"px",re.style.left=K+"px",s.event(re,"keydown",p),N.focus(re),R.hidden&&N.hide(re),s.callEvent("onMessagePopup",[re]),re}function x(R){return y(R,!0,!1)}function v(R){return y(R,!0,!0)}function E(R){return y(R)}function b(R,H,Z){return fe(R)!="object"&&(typeof H=="function"&&(Z=H,H=""),R={text:R,type:H,callback:Z}),R}function S(R,H,Z,re){return fe(R)!="object"&&(R={text:R,type:H,expire:Z,id:re}),R.id=R.id||U.uid(),R.expire=R.expire||O.expire,R}s.event(document,"keydown",p,!0);var N=function(){var R=b.apply(this,arguments);return R.type=R.type||"alert",E(R)};N.hide=function(R){for(;R&&R.getAttribute&&!R.getAttribute(w);)R=R.parentNode;R&&(R.parentNode.removeChild(R),o(!1),s.callEvent("onAfterMessagePopup",[R]))},N.focus=function(R){setTimeout(function(){var H=ce.getFocusableNodes(R);H.length&&H[0].focus&&H[0].focus()},1)};var O=function(R,H,Z,re){switch((R=S.apply(this,arguments)).type=R.type||"info",R.type.split("-")[0]){case"alert":return x(R);case"confirm":return v(R);case"modalbox":return E(R);default:return u(R)}};O.seed=new Date().valueOf(),O.uid=U.uid,O.expire=4e3,O.keyboard=!0,O.position="top",O.pull={},O.timers={},O.hideAll=function(){for(var R in O.pull)O.hide(R)},O.hide=function(R){var H=O.pull[R];H&&H.parentNode&&(window.setTimeout(function(){H.parentNode.removeChild(H),H=null},2e3),H.className+=" hidden",O.timers[R]&&window.clearTimeout(O.timers[R]),delete O.pull[R])};var j=[];return s.attachEvent("onMessagePopup",function(R){j.push(R)}),s.attachEvent("onAfterMessagePopup",function(R){for(var H=0;H<j.length;H++)j[H]===R&&(j.splice(H,1),H--)}),s.attachEvent("onDestroy",function(){o.cover&&o.cover.parentNode&&o.cover.parentNode.removeChild(o.cover);for(var R=0;R<j.length;R++)j[R].parentNode&&j[R].parentNode.removeChild(j[R]);j=null,O.area&&O.area.parentNode&&O.area.parentNode.removeChild(O.area),O=null}),{alert:function(){var R=b.apply(this,arguments);return R.type=R.type||"confirm",x(R)},confirm:function(){var R=b.apply(this,arguments);return R.type=R.type||"alert",v(R)},message:O,modalbox:N}},Ae={date:{month_full:["\u0643\u0627\u0646\u0648\u0646 \u0627\u0644\u062B\u0627\u0646\u064A","\u0634\u0628\u0627\u0637","\u0622\u0630\u0627\u0631","\u0646\u064A\u0633\u0627\u0646","\u0623\u064A\u0627\u0631","\u062D\u0632\u064A\u0631\u0627\u0646","\u062A\u0645\u0648\u0632","\u0622\u0628","\u0623\u064A\u0644\u0648\u0644","\u062A\u0634\u0631\u064A\u0646 \u0627\u0644\u0623\u0648\u0644","\u062A\u0634\u0631\u064A\u0646 \u0627\u0644\u062B\u0627\u0646\u064A","\u0643\u0627\u0646\u0648\u0646 \u0627\u0644\u0623\u0648\u0644"],month_short:["\u064A\u0646\u0627\u064A\u0631","\u0641\u0628\u0631\u0627\u064A\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064A\u0644","\u0645\u0627\u064A\u0648","\u064A\u0648\u0646\u064A\u0648","\u064A\u0648\u0644\u064A\u0648","\u0623\u063A\u0633\u0637\u0633","\u0633\u0628\u062A\u0645\u0628\u0631","\u0623\u0643\u062A\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062F\u064A\u0633\u0645\u0628\u0631"],day_full:["\u0627\u0644\u0623\u062D\u062F","\u0627\u0644\u0623\u062B\u0646\u064A\u0646","\u0623\u0644\u062B\u0644\u0627\u062B\u0627\u0621","\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621","\u0623\u0644\u062D\u0645\u064A\u0633","\u0623\u0644\u062C\u0645\u0639\u0629","\u0627\u0644\u0633\u0628\u062A"],day_short:["\u0627\u062D\u062F","\u0627\u062B\u0646\u064A\u0646","\u062B\u0644\u0627\u062B\u0627\u0621","\u0627\u0631\u0628\u0639\u0627\u0621","\u062E\u0645\u064A\u0633","\u062C\u0645\u0639\u0629","\u0633\u0628\u062A"]},labels:{dhx_cal_today_button:"\u0627\u0644\u064A\u0648\u0645",day_tab:"\u064A\u0648\u0645",week_tab:"\u0623\u0633\u0628\u0648\u0639",month_tab:"\u0634\u0647\u0631",new_event:"\u062D\u062F\u062B \u062C\u062F\u064A\u062F",icon_save:"\u0627\u062E\u0632\u0646",icon_cancel:"\u0627\u0644\u063A\u0627\u0621",icon_details:"\u062A\u0641\u0627\u0635\u064A\u0644",icon_edit:"\u062A\u062D\u0631\u064A\u0631",icon_delete:"\u062D\u0630\u0641",confirm_closing:"\u0627\u0644\u062A\u063A\u064A\u064A\u0631\u0627\u062A \u0633\u0648\u0641 \u062A\u0636\u064A\u0639, \u0647\u0644 \u0627\u0646\u062A \u0645\u062A\u0623\u0643\u062F\u061F",confirm_deleting:"\u0627\u0644\u062D\u062F\u062B \u0633\u064A\u062A\u0645 \u062D\u0630\u0641\u0647\u0627 \u0646\u0647\u0627\u0626\u064A\u0627 \u060C \u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F\u061F",section_description:"\u0627\u0644\u0648\u0635\u0641",section_time:"\u0627\u0644\u0641\u062A\u0631\u0629 \u0627\u0644\u0632\u0645\u0646\u064A\u0629",full_day:"\u0637\u0648\u0627\u0644 \u0627\u0644\u064A\u0648\u0645",confirm_recurring:"\u0647\u0644 \u062A\u0631\u064A\u062F \u062A\u062D\u0631\u064A\u0631 \u0645\u062C\u0645\u0648\u0639\u0629 \u0643\u0627\u0645\u0644\u0629 \u0645\u0646 \u0627\u0644\u0623\u062D\u062F\u0627\u062B \u0627\u0644\u0645\u062A\u0643\u0631\u0631\u0629\u061F",section_recurring:"\u062A\u0643\u0631\u0627\u0631 \u0627\u0644\u062D\u062F\u062B",button_recurring:"\u062A\u0639\u0637\u064A\u0644",button_recurring_open:"\u062A\u0645\u0643\u064A\u0646",button_edit_series:"\u062A\u062D\u0631\u064A\u0631 \u0633\u0644\u0633\u0644\u0629",button_edit_occurrence:"\u062A\u0639\u062F\u064A\u0644 \u0646\u0633\u062E\u0629",grid_tab:"\u062C\u062F\u0648\u0644",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute"}},He={date:{month_full:["\u0421\u0442\u0443\u0434\u0437\u0435\u043D\u044C","\u041B\u044E\u0442\u044B","\u0421\u0430\u043A\u0430\u0432\u0456\u043A","\u041A\u0440\u0430\u0441\u0430\u0432\u0456\u043A","Ma\u0439","\u0427\u044D\u0440\u0432\u0435\u043D\u044C","\u041B\u0456\u043F\u0435\u043D\u044C","\u0416\u043D\u0456\u0432\u0435\u043D\u044C","\u0412\u0435\u0440\u0430\u0441\u0435\u043D\u044C","\u041A\u0430\u0441\u0442\u0440\u044B\u0447\u043D\u0456\u043A","\u041B\u0456\u0441\u0442\u0430\u043F\u0430\u0434","\u0421\u043D\u0435\u0436\u0430\u043D\u044C"],month_short:["\u0421\u0442\u0443\u0434\u0437","\u041B\u044E\u0442","\u0421\u0430\u043A","\u041A\u0440\u0430\u0441","Ma\u0439","\u0427\u044D\u0440","\u041B\u0456\u043F","\u0416\u043D\u0456\u0432","\u0412\u0435\u0440","\u041A\u0430\u0441\u0442","\u041B\u0456\u0441\u0442","\u0421\u043D\u0435\u0436"],day_full:["\u041D\u044F\u0434\u0437\u0435\u043B\u044F","\u041F\u0430\u043D\u044F\u0434\u0437\u0435\u043B\u0430\u043A","\u0410\u045E\u0442\u043E\u0440\u0430\u043A","\u0421\u0435\u0440\u0430\u0434\u0430","\u0427\u0430\u0446\u0432\u0435\u0440","\u041F\u044F\u0442\u043D\u0456\u0446\u0430","\u0421\u0443\u0431\u043E\u0442\u0430"],day_short:["\u041D\u0434","\u041F\u043D","\u0410\u045E\u0442","\u0421\u0440","\u0427\u0446\u0432","\u041F\u0442","\u0421\u0431"]},labels:{dhx_cal_today_button:"\u0421\u0451\u043D\u043D\u044F",day_tab:"\u0414\u0437\u0435\u043D\u044C",week_tab:"\u0422\u044B\u0434\u0437\u0435\u043D\u044C",month_tab:"\u041C\u0435\u0441\u044F\u0446",new_event:"\u041D\u043E\u0432\u0430\u044F \u043F\u0430\u0434\u0437\u0435\u044F",icon_save:"\u0417\u0430\u0445\u0430\u0432\u0430\u0446\u044C",icon_cancel:"\u0410\u0434\u043C\u044F\u043D\u0456\u0446\u044C",icon_details:"\u0414\u044D\u0442\u0430\u043B\u0456",icon_edit:"\u0417\u043C\u044F\u043D\u0456\u0446\u044C",icon_delete:"\u0412\u044B\u0434\u0430\u043B\u0456\u0446\u044C",confirm_closing:"",confirm_deleting:"\u041F\u0430\u0434\u0437\u0435\u044F \u0431\u0443\u0434\u0437\u0435 \u0432\u044B\u0434\u0430\u043B\u0435\u043D\u0430 \u043D\u0435\u0437\u0432\u0430\u0440\u043E\u0442\u043D\u0430, \u043F\u0440\u0430\u0446\u044F\u0433\u043D\u0443\u0446\u044C?",section_description:"\u0410\u043F\u0456\u0441\u0430\u043D\u043D\u0435",section_time:"\u041F\u0435\u0440\u044B\u044F\u0434 \u0447\u0430\u0441\u0443",full_day:"\u0423\u0432\u0435\u0441\u044C \u0434\u0437\u0435\u043D\u044C",confirm_recurring:"\u0412\u044B \u0445\u043E\u0447\u0430\u0446\u0435 \u0437\u043C\u044F\u043D\u0456\u0446\u044C \u0443\u0441\u044E \u0441\u0435\u0440\u044B\u044E \u043F\u0430\u045E\u0442\u0430\u0440\u0430\u043B\u044C\u043D\u044B\u0445 \u043F\u0430\u0434\u0437\u0435\u0439?",section_recurring:"\u041F\u0430\u045E\u0442\u0430\u0440\u044D\u043D\u043D\u0435",button_recurring:"\u0410\u0434\u043A\u043B\u044E\u0447\u0430\u043D\u0430",button_recurring_open:"\u0423\u043A\u043B\u044E\u0447\u0430\u043D\u0430",button_edit_series:"\u0420\u044D\u0434\u0430\u0433\u0430\u0432\u0430\u0446\u044C \u0441\u0435\u0440\u044B\u044E",button_edit_occurrence:"\u0420\u044D\u0434\u0430\u0433\u0430\u0432\u0430\u0446\u044C \u0430\u0441\u043E\u0431\u043D\u0456\u043A",agenda_tab:"\u0421\u043F\u0456\u0441",date:"\u0414\u0430\u0442\u0430",description:"\u0410\u043F\u0456\u0441\u0430\u043D\u043D\u0435",year_tab:"\u0413\u043E\u0434",week_agenda_tab:"\u0421\u043F\u0456\u0441",grid_tab:"\u0421\u043Fic",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"\u0414\u0437\u0435\u043D\u044C",repeat_radio_week:"\u0422\u044B\u0434\u0437\u0435\u043D\u044C",repeat_radio_month:"\u041C\u0435\u0441\u044F\u0446",repeat_radio_year:"\u0413\u043E\u0434",repeat_radio_day_type:"\u041A\u043E\u0436\u043D\u044B",repeat_text_day_count:"\u0434\u0437\u0435\u043D\u044C",repeat_radio_day_type2:"\u041A\u043E\u0436\u043D\u044B \u043F\u0440\u0430\u0446\u043E\u045E\u043D\u044B \u0434\u0437\u0435\u043D\u044C",repeat_week:" \u041F\u0430\u045E\u0442\u0430\u0440\u0430\u0446\u044C \u043A\u043E\u0436\u043D\u044B",repeat_text_week_count:"\u0442\u044B\u0434\u0437\u0435\u043D\u044C",repeat_radio_month_type:"\u041F\u0430\u045E\u0442\u0430\u0440\u0430\u0446\u044C",repeat_radio_month_start:"",repeat_text_month_day:" \u0447\u044B\u0441\u043B\u0430 \u043A\u043E\u0436\u043D\u0430\u0433\u0430",repeat_text_month_count:"\u043C\u0435\u0441\u044F\u0446\u0443",repeat_text_month_count2_before:"\u043A\u043E\u0436\u043D\u044B ",repeat_text_month_count2_after:"\u043C\u0435\u0441\u044F\u0446",repeat_year_label:"",select_year_day2:"",repeat_text_year_day:"\u0434\u0435\u043D\u044C",select_year_month:"",repeat_radio_end:"\u0411\u0435\u0437 \u0434\u0430\u0442\u044B \u0437\u0430\u043A\u0430\u043D\u0447\u044D\u043D\u043D\u044F",repeat_text_occurences_count:"\u043F\u0430\u045E\u0442\u043E\u0440\u0430\u045E",repeat_radio_end2:"",repeat_radio_end3:"\u0414\u0430 ",month_for_recurring:["\u0421\u0442\u0443\u0434\u0437\u0435\u043D\u044F","\u041B\u044E\u0442\u0430\u0433\u0430","\u0421\u0430\u043A\u0430\u0432\u0456\u043A\u0430","\u041A\u0440\u0430\u0441\u0430\u0432\u0456\u043A\u0430","\u041C\u0430\u044F","\u0427\u044D\u0440\u0432\u0435\u043D\u044F","\u041B\u0456\u043Fe\u043D\u044F","\u0416\u043D\u0456\u045E\u043D\u044F","\u0412\u0435\u0440\u0430\u0441\u043D\u044F","\u041A\u0430\u0441\u0442\u0440\u044B\u0447\u043D\u0456\u043A\u0430","\u041B\u0456\u0441\u0442\u0430\u043F\u0430\u0434\u0430","\u0421\u043D\u0435\u0436\u043D\u044F"],day_for_recurring:["\u041D\u044F\u0434\u0437\u0435\u043B\u044E","\u041F\u0430\u043D\u044F\u0434\u0437\u0435\u043B\u0430\u043A","\u0410\u045E\u0442\u043E\u0440\u0430\u043A","\u0421\u0435\u0440\u0430\u0434\u0443","\u0427\u0430\u0446\u0432\u0435\u0440","\u041F\u044F\u0442\u043D\u0456\u0446\u0443","\u0421\u0443\u0431\u043E\u0442\u0443"]}},Ue={date:{month_full:["Gener","Febrer","Mar\xE7","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"],month_short:["Gen","Feb","Mar","Abr","Mai","Jun","Jul","Ago","Set","Oct","Nov","Des"],day_full:["Diumenge","Dilluns","Dimarts","Dimecres","Dijous","Divendres","Dissabte"],day_short:["Dg","Dl","Dm","Dc","Dj","Dv","Ds"]},labels:{dhx_cal_today_button:"Hui",day_tab:"Dia",week_tab:"Setmana",month_tab:"Mes",new_event:"Nou esdeveniment",icon_save:"Guardar",icon_cancel:"Cancel\xB7lar",icon_details:"Detalls",icon_edit:"Editar",icon_delete:"Esborrar",confirm_closing:"",confirm_deleting:"L'esdeveniment s'esborrar\xE0 definitivament, continuar ?",section_description:"Descripci\xF3",section_time:"Periode de temps",full_day:"Tot el dia",confirm_recurring:"\xBFDesitja modificar el conjunt d'esdeveniments repetits?",section_recurring:"Repeteixca l'esdeveniment",button_recurring:"Impedit",button_recurring_open:"Perm\xE9s",button_edit_series:"Edit s\xE8rie",button_edit_occurrence:"Edita Inst\xE0ncia",agenda_tab:"Agenda",date:"Data",description:"Descripci\xF3",year_tab:"Any",week_agenda_tab:"Agenda",grid_tab:"Taula",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute"}},oe={date:{month_full:["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"],month_short:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],day_full:["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"],day_short:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"]},labels:{dhx_cal_today_button:"\u4ECA\u5929",day_tab:"\u65E5",week_tab:"\u5468",month_tab:"\u6708",new_event:"\u65B0\u5EFA\u65E5\u7A0B",icon_save:"\u4FDD\u5B58",icon_cancel:"\u5173\u95ED",icon_details:"\u8BE6\u7EC6",icon_edit:"\u7F16\u8F91",icon_delete:"\u5220\u9664",confirm_closing:"\u8BF7\u786E\u8BA4\u662F\u5426\u64A4\u9500\u4FEE\u6539!",confirm_deleting:"\u662F\u5426\u5220\u9664\u65E5\u7A0B?",section_description:"\u63CF\u8FF0",section_time:"\u65F6\u95F4\u8303\u56F4",full_day:"\u6574\u5929",confirm_recurring:"\u8BF7\u786E\u8BA4\u662F\u5426\u5C06\u65E5\u7A0B\u8BBE\u4E3A\u91CD\u590D\u6A21\u5F0F?",section_recurring:"\u91CD\u590D\u5468\u671F",button_recurring:"\u7981\u7528",button_recurring_open:"\u542F\u7528",button_edit_series:"\u7F16\u8F91\u7CFB\u5217",button_edit_occurrence:"\u7F16\u8F91\u5B9E\u4F8B",agenda_tab:"\u8BAE\u7A0B",date:"\u65E5\u671F",description:"\u8BF4\u660E",year_tab:"\u4ECA\u5E74",week_agenda_tab:"\u8BAE\u7A0B",grid_tab:"\u7535\u7F51",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"\u6309\u5929",repeat_radio_week:"\u6309\u5468",repeat_radio_month:"\u6309\u6708",repeat_radio_year:"\u6309\u5E74",repeat_radio_day_type:"\u6BCF",repeat_text_day_count:"\u5929",repeat_radio_day_type2:"\u6BCF\u4E2A\u5DE5\u4F5C\u65E5",repeat_week:" \u91CD\u590D \u6BCF",repeat_text_week_count:"\u661F\u671F\u7684:",repeat_radio_month_type:"\u91CD\u590D",repeat_radio_month_start:"\u5728",repeat_text_month_day:"\u65E5 \u6BCF",repeat_text_month_count:"\u6708",repeat_text_month_count2_before:"\u6BCF",repeat_text_month_count2_after:"\u6708",repeat_year_label:"\u5728",select_year_day2:"\u7684",repeat_text_year_day:"\u65E5",select_year_month:"\u6708",repeat_radio_end:"\u65E0\u7ED3\u675F\u65E5\u671F",repeat_text_occurences_count:"\u6B21\u7ED3\u675F",repeat_radio_end2:"\u91CD\u590D",repeat_radio_end3:"\u7ED3\u675F\u4E8E",month_for_recurring:["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"],day_for_recurring:["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"]}},Le={date:{month_full:["Leden","\xDAnor","B\u0159ezen","Duben","Kv\u011Bten","\u010Cerven","\u010Cervenec","Srpen","Z\xE1\u0159\xED","\u0158\xEDjen","Listopad","Prosinec"],month_short:["Led","\xDAn","B\u0159e","Dub","Kv\u011B","\u010Cer","\u010Cec","Srp","Z\xE1\u0159\xED","\u0158\xEDj","List","Pro"],day_full:["Ned\u011Ble","Pond\u011Bl\xED","\xDAter\xFD","St\u0159eda","\u010Ctvrtek","P\xE1tek","Sobota"],day_short:["Ne","Po","\xDAt","St","\u010Ct","P\xE1","So"]},labels:{dhx_cal_today_button:"Dnes",day_tab:"Den",week_tab:"T\xFDden",month_tab:"M\u011Bs\xEDc",new_event:"Nov\xE1 ud\xE1lost",icon_save:"Ulo\u017Eit",icon_cancel:"Zp\u011Bt",icon_details:"Detail",icon_edit:"Edituj",icon_delete:"Smazat",confirm_closing:"",confirm_deleting:"Ud\xE1lost bude trvale smaz\xE1na, opravdu?",section_description:"Pozn\xE1mky",section_time:"Doba platnosti",confirm_recurring:"P\u0159ejete si upravit celou \u0159adu opakovan\xFDch ud\xE1lost\xED?",section_recurring:"Opakov\xE1n\xED ud\xE1losti",button_recurring:"Vypnuto",button_recurring_open:"Zapnuto",button_edit_series:"Edit series",button_edit_occurrence:"Upravit instance",agenda_tab:"Program",date:"Datum",description:"Pozn\xE1mka",year_tab:"Rok",full_day:"Full day",week_agenda_tab:"Program",grid_tab:"M\u0159\xED\u017Eka",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Denn\u011B",repeat_radio_week:"T\xFDdn\u011B",repeat_radio_month:"M\u011Bs\xED\u010Dn\u011B",repeat_radio_year:"Ro\u010Dn\u011B",repeat_radio_day_type:"ka\u017Ed\xFD",repeat_text_day_count:"Den",repeat_radio_day_type2:"pracovn\xED dny",repeat_week:"Opakuje ka\u017Ed\xFDch",repeat_text_week_count:"T\xFDdn\u016F na:",repeat_radio_month_type:"u ka\u017Ed\xE9ho",repeat_radio_month_start:"na",repeat_text_month_day:"Den ka\u017Ed\xE9ho",repeat_text_month_count:"M\u011Bs\xEDc",repeat_text_month_count2_before:"ka\u017Ed\xFD",repeat_text_month_count2_after:"M\u011Bs\xEDc",repeat_year_label:"na",select_year_day2:"v",repeat_text_year_day:"Den v",select_year_month:"",repeat_radio_end:"bez data ukon\u010Den\xED",repeat_text_occurences_count:"Ud\xE1losti",repeat_radio_end2:"po",repeat_radio_end3:"Konec",month_for_recurring:["Leden","\xDAnor","B\u0159ezen","Duben","Kv\u011Bten","\u010Cerven","\u010Cervenec","Srpen","Z\xE1\u0159\xED","\u0158\xEDjen","Listopad","Prosinec"],day_for_recurring:["Ned\u011Ble ","Pond\u011Bl\xED","\xDAter\xFD","St\u0159eda","\u010Ctvrtek","P\xE1tek","Sobota"]}},nt={date:{month_full:["Januar","Februar","Marts","April","Maj","Juni","Juli","August","September","Oktober","November","December"],month_short:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["S\xF8ndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","L\xF8rdag"],day_short:["S\xF8n","Man","Tir","Ons","Tor","Fre","L\xF8r"]},labels:{dhx_cal_today_button:"Idag",day_tab:"Dag",week_tab:"Uge",month_tab:"M\xE5ned",new_event:"Ny begivenhed",icon_save:"Gem",icon_cancel:"Fortryd",icon_details:"Detaljer",icon_edit:"Tilret",icon_delete:"Slet",confirm_closing:"Dine rettelser vil g\xE5 tabt.. Er dy sikker?",confirm_deleting:"Bigivenheden vil blive slettet permanent. Er du sikker?",section_description:"Beskrivelse",section_time:"Tidsperiode",confirm_recurring:"Vil du tilrette hele serien af gentagne begivenheder?",section_recurring:"Gentag begivenhed",button_recurring:"Frakoblet",button_recurring_open:"Tilkoblet",button_edit_series:"Rediger serien",button_edit_occurrence:"Rediger en kopi",agenda_tab:"Dagsorden",date:"Dato",description:"Beskrivelse",year_tab:"\xC5r",week_agenda_tab:"Dagsorden",grid_tab:"Grid",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Daglig",repeat_radio_week:"Ugenlig",repeat_radio_month:"M\xE5nedlig",repeat_radio_year:"\xC5rlig",repeat_radio_day_type:"Hver",repeat_text_day_count:"dag",repeat_radio_day_type2:"P\xE5 hver arbejdsdag",repeat_week:" Gentager sig hver",repeat_text_week_count:"uge p\xE5 f\xF8lgende dage:",repeat_radio_month_type:"Hver den",repeat_radio_month_start:"Den",repeat_text_month_day:" i hver",repeat_text_month_count:"m\xE5ned",repeat_text_month_count2_before:"hver",repeat_text_month_count2_after:"m\xE5ned",repeat_year_label:"Den",select_year_day2:"i",repeat_text_year_day:"dag i",select_year_month:"",repeat_radio_end:"Ingen slutdato",repeat_text_occurences_count:"gentagelse",repeat_radio_end2:"Efter",repeat_radio_end3:"Slut",month_for_recurring:["Januar","Februar","M\xE4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],day_for_recurring:["S\xF8ndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","L\xF8rdag"]}},tt={date:{month_full:[" Januar"," Februar"," M\xE4rz "," April"," Mai"," Juni"," Juli"," August"," September "," Oktober"," November "," Dezember"],month_short:["Jan","Feb","M\xE4r","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],day_full:["Sonntag","Montag","Dienstag"," Mittwoch"," Donnerstag","Freitag","Samstag"],day_short:["So","Mo","Di","Mi","Do","Fr","Sa"]},labels:{dhx_cal_today_button:"Heute",day_tab:"Tag",week_tab:"Woche",month_tab:"Monat",new_event:"neuer Eintrag",icon_save:"Speichern",icon_cancel:"Abbrechen",icon_details:"Details",icon_edit:"\xC4ndern",icon_delete:"L\xF6schen",confirm_closing:"",confirm_deleting:"Der Eintrag wird gel\xF6scht",section_description:"Beschreibung",section_time:"Zeitspanne",full_day:"Ganzer Tag",confirm_recurring:"Wollen Sie alle Eintr\xE4ge bearbeiten oder nur diesen einzelnen Eintrag?",section_recurring:"Wiederholung",button_recurring:"Aus",button_recurring_open:"An",button_edit_series:"Bearbeiten Sie die Serie",button_edit_occurrence:"Bearbeiten Sie eine Kopie",agenda_tab:"Agenda",date:"Datum",description:"Beschreibung",year_tab:"Jahre",week_agenda_tab:"Agenda",grid_tab:"Grid",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"T\xE4glich",repeat_radio_week:"W\xF6chentlich",repeat_radio_month:"Monatlich",repeat_radio_year:"J\xE4hrlich",repeat_radio_day_type:"jeden",repeat_text_day_count:"Tag",repeat_radio_day_type2:"an jedem Arbeitstag",repeat_week:" Wiederholt sich jede",repeat_text_week_count:"Woche am:",repeat_radio_month_type:"an jedem",repeat_radio_month_start:"am",repeat_text_month_day:"Tag eines jeden",repeat_text_month_count:"Monats",repeat_text_month_count2_before:"jeden",repeat_text_month_count2_after:"Monats",repeat_year_label:"am",select_year_day2:"im",repeat_text_year_day:"Tag im",select_year_month:"",repeat_radio_end:"kein Enddatum",repeat_text_occurences_count:"Ereignissen",repeat_radio_end3:"Schlu\xDF",repeat_radio_end2:"nach",month_for_recurring:["Januar","Februar","M\xE4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],day_for_recurring:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"]}},Ge={date:{month_full:["\u0399\u03B1\u03BD\u03BF\u03C5\u03AC\u03C1\u03B9\u03BF\u03C2","\u03A6\u03B5\u03B2\u03C1\u03BF\u03C5\u03AC\u03C1\u03B9\u03BF\u03C2","\u039C\u03AC\u03C1\u03C4\u03B9\u03BF\u03C2","\u0391\u03C0\u03C1\u03AF\u03BB\u03B9\u03BF\u03C2","\u039C\u03AC\u03CA\u03BF\u03C2","\u0399\u03BF\u03CD\u03BD\u03B9\u03BF\u03C2","\u0399\u03BF\u03CD\u03BB\u03B9\u03BF\u03C2","\u0391\u03CD\u03B3\u03BF\u03C5\u03C3\u03C4\u03BF\u03C2","\u03A3\u03B5\u03C0\u03C4\u03AD\u03BC\u03B2\u03C1\u03B9\u03BF\u03C2","\u039F\u03BA\u03C4\u03CE\u03B2\u03C1\u03B9\u03BF\u03C2","\u039D\u03BF\u03AD\u03BC\u03B2\u03C1\u03B9\u03BF\u03C2","\u0394\u03B5\u03BA\u03AD\u03BC\u03B2\u03C1\u03B9\u03BF\u03C2"],month_short:["\u0399\u0391\u039D","\u03A6\u0395\u0392","\u039C\u0391\u03A1","\u0391\u03A0\u03A1","\u039C\u0391\u0399","\u0399\u039F\u03A5\u039D","\u0399\u039F\u03A5\u039B","\u0391\u03A5\u0393","\u03A3\u0395\u03A0","\u039F\u039A\u03A4","\u039D\u039F\u0395","\u0394\u0395\u039A"],day_full:["\u039A\u03C5\u03C1\u03B9\u03B1\u03BA\u03AE","\u0394\u03B5\u03C5\u03C4\u03AD\u03C1\u03B1","\u03A4\u03C1\u03AF\u03C4\u03B7","\u03A4\u03B5\u03C4\u03AC\u03C1\u03C4\u03B7","\u03A0\u03AD\u03BC\u03C0\u03C4\u03B7","\u03A0\u03B1\u03C1\u03B1\u03C3\u03BA\u03B5\u03C5\u03AE","\u039A\u03C5\u03C1\u03B9\u03B1\u03BA\u03AE"],day_short:["\u039A\u03A5","\u0394\u0395","\u03A4\u03A1","\u03A4\u0395","\u03A0\u0395","\u03A0\u0391","\u03A3\u0391"]},labels:{dhx_cal_today_button:"\u03A3\u03AE\u03BC\u03B5\u03C1\u03B1",day_tab:"\u0397\u03BC\u03AD\u03C1\u03B1",week_tab:"\u0395\u03B2\u03B4\u03BF\u03BC\u03AC\u03B4\u03B1",month_tab:"\u039C\u03AE\u03BD\u03B1\u03C2",new_event:"\u039D\u03AD\u03BF \u03AD\u03C1\u03B3\u03BF",icon_save:"\u0391\u03C0\u03BF\u03B8\u03AE\u03BA\u03B5\u03C5\u03C3\u03B7",icon_cancel:"\u0386\u03BA\u03C5\u03C1\u03BF",icon_details:"\u039B\u03B5\u03C0\u03C4\u03BF\u03BC\u03AD\u03C1\u03B5\u03B9\u03B5\u03C2",icon_edit:"\u0395\u03C0\u03B5\u03BE\u03B5\u03C1\u03B3\u03B1\u03C3\u03AF\u03B1",icon_delete:"\u0394\u03B9\u03B1\u03B3\u03C1\u03B1\u03C6\u03AE",confirm_closing:"",confirm_deleting:"\u03A4\u03BF \u03AD\u03C1\u03B3\u03BF \u03B8\u03B1 \u03B4\u03B9\u03B1\u03B3\u03C1\u03B1\u03C6\u03B5\u03AF \u03BF\u03C1\u03B9\u03C3\u03C4\u03B9\u03BA\u03AC. \u0398\u03AD\u03BB\u03B5\u03C4\u03B5 \u03BD\u03B1 \u03C3\u03C5\u03BD\u03B5\u03C7\u03AF\u03C3\u03B5\u03C4\u03B5;",section_description:"\u03A0\u03B5\u03C1\u03B9\u03B3\u03C1\u03B1\u03C6\u03AE",section_time:"\u03A7\u03C1\u03BF\u03BD\u03B9\u03BA\u03AE \u03C0\u03B5\u03C1\u03AF\u03BF\u03B4\u03BF\u03C2",full_day:"\u03A0\u03BB\u03AE\u03C1\u03B7\u03C2 \u0397\u03BC\u03AD\u03C1\u03B1",confirm_recurring:"\u0398\u03AD\u03BB\u03B5\u03C4\u03B5 \u03BD\u03B1 \u03B5\u03C0\u03B5\u03BE\u03B5\u03C1\u03B3\u03B1\u03C3\u03B8\u03B5\u03AF\u03C4\u03B5 \u03BF\u03BB\u03CC\u03BA\u03BB\u03B7\u03C1\u03B7 \u03C4\u03B7\u03BD \u03BF\u03BC\u03AC\u03B4\u03B1 \u03C4\u03C9\u03BD \u03B5\u03C0\u03B1\u03BD\u03B1\u03BB\u03B1\u03BC\u03B2\u03B1\u03BD\u03CC\u03BC\u03B5\u03BD\u03C9\u03BD \u03AD\u03C1\u03B3\u03C9\u03BD;",section_recurring:"\u0395\u03C0\u03B1\u03BD\u03B1\u03BB\u03B1\u03BC\u03B2\u03B1\u03BD\u03CC\u03BC\u03B5\u03BD\u03BF \u03AD\u03C1\u03B3\u03BF",button_recurring:"\u0391\u03BD\u03B5\u03BD\u03B5\u03C1\u03B3\u03CC",button_recurring_open:"\u0395\u03BD\u03B5\u03C1\u03B3\u03CC",button_edit_series:"\u0395\u03C0\u03B5\u03BE\u03B5\u03C1\u03B3\u03B1\u03C3\u03C4\u03B5\u03AF\u03C4\u03B5 \u03C4\u03B7 \u03C3\u03B5\u03B9\u03C1\u03AC",button_edit_occurrence:"\u0395\u03C0\u03B5\u03BE\u03B5\u03C1\u03B3\u03B1\u03C3\u03AF\u03B1 \u03AD\u03BD\u03B1 \u03B1\u03BD\u03C4\u03AF\u03B3\u03C1\u03B1\u03C6\u03BF",agenda_tab:"\u0397\u03BC\u03B5\u03C1\u03AE\u03C3\u03B9\u03B1 \u0394\u03B9\u03AC\u03C4\u03B1\u03BE\u03B7",date:"\u0397\u03BC\u03B5\u03C1\u03BF\u03BC\u03B7\u03BD\u03AF\u03B1",description:"\u03A0\u03B5\u03C1\u03B9\u03B3\u03C1\u03B1\u03C6\u03AE",year_tab:"\u0388\u03C4\u03BF\u03C2",week_agenda_tab:"\u0397\u03BC\u03B5\u03C1\u03AE\u03C3\u03B9\u03B1 \u0394\u03B9\u03AC\u03C4\u03B1\u03BE\u03B7",grid_tab:"\u03A0\u03BB\u03AD\u03B3\u03BC\u03B1",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"\u0397\u03BC\u03B5\u03C1\u03B7\u03C3\u03AF\u03C9\u03C2",repeat_radio_week:"\u0395\u03B2\u03B4\u03BF\u03BC\u03B1\u03B4\u03B9\u03B1\u03AF\u03C9\u03C2",repeat_radio_month:"\u039C\u03B7\u03BD\u03B9\u03B1\u03AF\u03C9\u03C2",repeat_radio_year:"\u0395\u03C4\u03B7\u03C3\u03AF\u03C9\u03C2",repeat_radio_day_type:"\u039A\u03AC\u03B8\u03B5",repeat_text_day_count:"\u03B7\u03BC\u03AD\u03C1\u03B1",repeat_radio_day_type2:"\u039A\u03AC\u03B8\u03B5 \u03B5\u03C1\u03B3\u03AC\u03C3\u03B9\u03BC\u03B7",repeat_week:" \u0395\u03C0\u03B1\u03BD\u03AC\u03BB\u03B7\u03C8\u03B7 \u03BA\u03AC\u03B8\u03B5",repeat_text_week_count:"\u03B5\u03B2\u03B4\u03BF\u03BC\u03AC\u03B4\u03B1 \u03C4\u03B9\u03C2 \u03B5\u03C0\u03CC\u03BC\u03B5\u03BD\u03B5\u03C2 \u03B7\u03BC\u03AD\u03C1\u03B5\u03C2:",repeat_radio_month_type:"\u0395\u03C0\u03B1\u03BD\u03AC\u03BB\u03B7\u03C8\u03B7",repeat_radio_month_start:"\u03A4\u03B7\u03BD",repeat_text_month_day:"\u03B7\u03BC\u03AD\u03C1\u03B1 \u03BA\u03AC\u03B8\u03B5",repeat_text_month_count:"\u03BC\u03AE\u03BD\u03B1",repeat_text_month_count2_before:"\u03BA\u03AC\u03B8\u03B5",repeat_text_month_count2_after:"\u03BC\u03AE\u03BD\u03B1",repeat_year_label:"\u03A4\u03B7\u03BD",select_year_day2:"\u03C4\u03BF\u03C5",repeat_text_year_day:"\u03B7\u03BC\u03AD\u03C1\u03B1",select_year_month:"\u03BC\u03AE\u03BD\u03B1",repeat_radio_end:"\u03A7\u03C9\u03C1\u03AF\u03C2 \u03B7\u03BC\u03B5\u03C1\u03BF\u03BC\u03B7\u03BD\u03AF\u03B1 \u03BB\u03AE\u03BE\u03B5\u03C9\u03C2",repeat_text_occurences_count:"\u03B5\u03C0\u03B1\u03BD\u03B1\u03BB\u03AE\u03C8\u03B5\u03B9\u03C2",repeat_radio_end3:"\u039B\u03AE\u03B3\u03B5\u03B9 \u03C4\u03B7\u03BD",repeat_radio_end2:"\u039C\u03B5\u03C4\u03AC \u03B1\u03C0\u03CC",month_for_recurring:["\u0399\u03B1\u03BD\u03BF\u03C5\u03AC\u03C1\u03B9\u03BF\u03C2","\u03A6\u03B5\u03B2\u03C1\u03BF\u03C5\u03AC\u03C1\u03B9\u03BF\u03C2","\u039C\u03AC\u03C1\u03C4\u03B9\u03BF\u03C2","\u0391\u03C0\u03C1\u03AF\u03BB\u03B9\u03BF\u03C2","\u039C\u03AC\u03CA\u03BF\u03C2","\u0399\u03BF\u03CD\u03BD\u03B9\u03BF\u03C2","\u0399\u03BF\u03CD\u03BB\u03B9\u03BF\u03C2","\u0391\u03CD\u03B3\u03BF\u03C5\u03C3\u03C4\u03BF\u03C2","\u03A3\u03B5\u03C0\u03C4\u03AD\u03BC\u03B2\u03C1\u03B9\u03BF\u03C2","\u039F\u03BA\u03C4\u03CE\u03B2\u03C1\u03B9\u03BF\u03C2","\u039D\u03BF\u03AD\u03BC\u03B2\u03C1\u03B9\u03BF\u03C2","\u0394\u03B5\u03BA\u03AD\u03BC\u03B2\u03C1\u03B9\u03BF\u03C2"],day_for_recurring:["\u039A\u03C5\u03C1\u03B9\u03B1\u03BA\u03AE","\u0394\u03B5\u03C5\u03C4\u03AD\u03C1\u03B1","\u03A4\u03C1\u03AF\u03C4\u03B7","\u03A4\u03B5\u03C4\u03AC\u03C1\u03C4\u03B7","\u03A0\u03AD\u03BC\u03C0\u03C4\u03B7","\u03A0\u03B1\u03C1\u03B1\u03C3\u03BA\u03B5\u03C5\u03AE","\u03A3\u03AC\u03B2\u03B2\u03B1\u03C4\u03BF"]}},pt={date:{month_full:["January","February","March","April","May","June","July","August","September","October","November","December"],month_short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],day_full:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],day_short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},labels:{dhx_cal_today_button:"Today",day_tab:"Day",week_tab:"Week",month_tab:"Month",new_event:"New event",icon_save:"Save",icon_cancel:"Cancel",icon_details:"Details",icon_edit:"Edit",icon_delete:"Delete",confirm_closing:"",confirm_deleting:"Event will be deleted permanently, are you sure?",section_description:"Description",section_time:"Time period",full_day:"Full day",confirm_recurring:"Do you want to edit the whole set of repeated events?",section_recurring:"Repeat event",button_recurring:"Disabled",button_recurring_open:"Enabled",button_edit_series:"Edit series",button_edit_occurrence:"Edit occurrence",agenda_tab:"Agenda",date:"Date",description:"Description",year_tab:"Year",week_agenda_tab:"Agenda",grid_tab:"Grid",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Daily",repeat_radio_week:"Weekly",repeat_radio_month:"Monthly",repeat_radio_year:"Yearly",repeat_radio_day_type:"Every",repeat_text_day_count:"day",repeat_radio_day_type2:"Every workday",repeat_week:" Repeat every",repeat_text_week_count:"week next days:",repeat_radio_month_type:"Repeat",repeat_radio_month_start:"On",repeat_text_month_day:"day every",repeat_text_month_count:"month",repeat_text_month_count2_before:"every",repeat_text_month_count2_after:"month",repeat_year_label:"On",select_year_day2:"of",repeat_text_year_day:"day",select_year_month:"month",repeat_radio_end:"No end date",repeat_text_occurences_count:"occurrences",repeat_radio_end2:"After",repeat_radio_end3:"End by",month_for_recurring:["January","February","March","April","May","June","July","August","September","October","November","December"],day_for_recurring:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},vn={date:{month_full:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],month_short:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],day_full:["Domingo","Lunes","Martes","Mi\xE9rcoles","Jueves","Viernes","S\xE1bado"],day_short:["Dom","Lun","Mar","Mi\xE9","Jue","Vie","S\xE1b"]},labels:{dhx_cal_today_button:"Hoy",day_tab:"D\xEDa",week_tab:"Semana",month_tab:"Mes",new_event:"Nuevo evento",icon_save:"Guardar",icon_cancel:"Cancelar",icon_details:"Detalles",icon_edit:"Editar",icon_delete:"Eliminar",confirm_closing:"",confirm_deleting:"El evento se borrar\xE1 definitivamente, \xBFcontinuar?",section_description:"Descripci\xF3n",section_time:"Per\xEDodo",full_day:"Todo el d\xEDa",confirm_recurring:"\xBFDesea modificar el conjunto de eventos repetidos?",section_recurring:"Repita el evento",button_recurring:"Impedido",button_recurring_open:"Permitido",button_edit_series:"Editar la serie",button_edit_occurrence:"Editar este evento",agenda_tab:"D\xEDa",date:"Fecha",description:"Descripci\xF3n",year_tab:"A\xF1o",week_agenda_tab:"D\xEDa",grid_tab:"Reja",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Diariamente",repeat_radio_week:"Semanalmente",repeat_radio_month:"Mensualmente",repeat_radio_year:"Anualmente",repeat_radio_day_type:"Cada",repeat_text_day_count:"dia",repeat_radio_day_type2:"Cada jornada de trabajo",repeat_week:" Repetir cada",repeat_text_week_count:"semana:",repeat_radio_month_type:"Repita",repeat_radio_month_start:"El",repeat_text_month_day:"dia cada ",repeat_text_month_count:"mes",repeat_text_month_count2_before:"cada",repeat_text_month_count2_after:"mes",repeat_year_label:"El",select_year_day2:"del",repeat_text_year_day:"dia",select_year_month:"mes",repeat_radio_end:"Sin fecha de finalizaci\xF3n",repeat_text_occurences_count:"ocurrencias",repeat_radio_end3:"Fin",repeat_radio_end2:"Despu\xE9s de",month_for_recurring:["Enero","Febrero","\u041C\u0430rzo","\u0410bril","Mayo","Junio","Julio","\u0410gosto","Setiembre","Octubre","Noviembre","Diciembre"],day_for_recurring:["Domingo","Lunes","Martes","Mi\xE9rcoles","Jeuves","Viernes","Sabado"]}},or={date:{month_full:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kes&auml;kuu","Hein&auml;kuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],month_short:["Tam","Hel","Maa","Huh","Tou","Kes","Hei","Elo","Syy","Lok","Mar","Jou"],day_full:["Sunnuntai","Maanantai","Tiistai","Keskiviikko","Torstai","Perjantai","Lauantai"],day_short:["Su","Ma","Ti","Ke","To","Pe","La"]},labels:{dhx_cal_today_button:"T\xE4n\xE4\xE4n",day_tab:"P\xE4iv\xE4",week_tab:"Viikko",month_tab:"Kuukausi",new_event:"Uusi tapahtuma",icon_save:"Tallenna",icon_cancel:"Peru",icon_details:"Tiedot",icon_edit:"Muokkaa",icon_delete:"Poista",confirm_closing:"",confirm_deleting:"Haluatko varmasti poistaa tapahtuman?",section_description:"Kuvaus",section_time:"Aikajakso",full_day:"Koko p\xE4iv\xE4",confirm_recurring:"Haluatko varmasti muokata toistuvan tapahtuman kaikkia jaksoja?",section_recurring:"Toista tapahtuma",button_recurring:"Ei k&auml;yt&ouml;ss&auml;",button_recurring_open:"K&auml;yt&ouml;ss&auml;",button_edit_series:"Muokkaa sarja",button_edit_occurrence:"Muokkaa kopio",agenda_tab:"Esityslista",date:"P\xE4iv\xE4m\xE4\xE4r\xE4",description:"Kuvaus",year_tab:"Vuoden",week_agenda_tab:"Esityslista",grid_tab:"Ritil\xE4",drag_to_create:"Luo uusi vet\xE4m\xE4ll\xE4",drag_to_move:"Siirr\xE4 vet\xE4m\xE4ll\xE4",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"P&auml;ivitt&auml;in",repeat_radio_week:"Viikoittain",repeat_radio_month:"Kuukausittain",repeat_radio_year:"Vuosittain",repeat_radio_day_type:"Joka",repeat_text_day_count:"p&auml;iv&auml;",repeat_radio_day_type2:"Joka arkip&auml;iv&auml;",repeat_week:"Toista joka",repeat_text_week_count:"viikko n&auml;in&auml; p&auml;ivin&auml;:",repeat_radio_month_type:"Toista",repeat_radio_month_start:"",repeat_text_month_day:"p&auml;iv&auml;n&auml; joka",repeat_text_month_count:"kuukausi",repeat_text_month_count2_before:"joka",repeat_text_month_count2_after:"kuukausi",repeat_year_label:"",select_year_day2:"",repeat_text_year_day:"p&auml;iv&auml;",select_year_month:"kuukausi",repeat_radio_end:"Ei loppumisaikaa",repeat_text_occurences_count:"Toiston j&auml;lkeen",repeat_radio_end3:"Loppuu",repeat_radio_end2:"",month_for_recurring:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kes&auml;kuu","Hein&auml;kuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],day_for_recurring:["Sunnuntai","Maanantai","Tiistai","Keskiviikko","Torstai","Perjantai","Lauantai"]}},Ei={date:{month_full:["Janvier","F\xE9vrier","Mars","Avril","Mai","Juin","Juillet","Ao\xFBt","Septembre","Octobre","Novembre","D\xE9cembre"],month_short:["Jan","F\xE9v","Mar","Avr","Mai","Juin","Juil","Ao\xFB","Sep","Oct","Nov","D\xE9c"],day_full:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],day_short:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"]},labels:{dhx_cal_today_button:"Aujourd'hui",day_tab:"Jour",week_tab:"Semaine",month_tab:"Mois",new_event:"Nouvel \xE9v\xE9nement",icon_save:"Enregistrer",icon_cancel:"Annuler",icon_details:"D\xE9tails",icon_edit:"Modifier",icon_delete:"Effacer",confirm_closing:"",confirm_deleting:"L'\xE9v\xE9nement sera effac\xE9 sans appel, \xEAtes-vous s\xFBr ?",section_description:"Description",section_time:"P\xE9riode",full_day:"Journ\xE9e compl\xE8te",confirm_recurring:"Voulez-vous \xE9diter toute une s\xE9rie d'\xE9v\xE8nements r\xE9p\xE9t\xE9s?",section_recurring:"P\xE9riodicit\xE9",button_recurring:"D\xE9sactiv\xE9",button_recurring_open:"Activ\xE9",button_edit_series:"Modifier la s\xE9rie",button_edit_occurrence:"Modifier une copie",agenda_tab:"Jour",date:"Date",description:"Description",year_tab:"Ann\xE9e",week_agenda_tab:"Jour",grid_tab:"Grille",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Quotidienne",repeat_radio_week:"Hebdomadaire",repeat_radio_month:"Mensuelle",repeat_radio_year:"Annuelle",repeat_radio_day_type:"Chaque",repeat_text_day_count:"jour",repeat_radio_day_type2:"Chaque journ\xE9e de travail",repeat_week:" R\xE9p\xE9ter toutes les",repeat_text_week_count:"semaine:",repeat_radio_month_type:"R\xE9p\xE9ter",repeat_radio_month_start:"Le",repeat_text_month_day:"jour chaque",repeat_text_month_count:"mois",repeat_text_month_count2_before:"chaque",repeat_text_month_count2_after:"mois",repeat_year_label:"Le",select_year_day2:"du",repeat_text_year_day:"jour",select_year_month:"mois",repeat_radio_end:"Pas de date d&quot;ach\xE8vement",repeat_text_occurences_count:"occurrences",repeat_radio_end3:"Fin",repeat_radio_end2:"Apr\xE8s",month_for_recurring:["Janvier","F\xE9vrier","Mars","Avril","Mai","Juin","Juillet","Ao\xFBt","Septembre","Octobre","Novembre","D\xE9cembre"],day_for_recurring:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"]}},$r={date:{month_full:["\u05D9\u05E0\u05D5\u05D0\u05E8","\u05E4\u05D1\u05E8\u05D5\u05D0\u05E8","\u05DE\u05E8\u05E5","\u05D0\u05E4\u05E8\u05D9\u05DC","\u05DE\u05D0\u05D9","\u05D9\u05D5\u05E0\u05D9","\u05D9\u05D5\u05DC\u05D9","\u05D0\u05D5\u05D2\u05D5\u05E1\u05D8","\u05E1\u05E4\u05D8\u05DE\u05D1\u05E8","\u05D0\u05D5\u05E7\u05D8\u05D5\u05D1\u05E8","\u05E0\u05D5\u05D1\u05DE\u05D1\u05E8","\u05D3\u05E6\u05DE\u05D1\u05E8"],month_short:["\u05D9\u05E0\u05D5","\u05E4\u05D1\u05E8","\u05DE\u05E8\u05E5","\u05D0\u05E4\u05E8","\u05DE\u05D0\u05D9","\u05D9\u05D5\u05E0","\u05D9\u05D5\u05DC","\u05D0\u05D5\u05D2","\u05E1\u05E4\u05D8","\u05D0\u05D5\u05E7","\u05E0\u05D5\u05D1","\u05D3\u05E6\u05DE"],day_full:["\u05E8\u05D0\u05E9\u05D5\u05DF","\u05E9\u05E0\u05D9","\u05E9\u05DC\u05D9\u05E9\u05D9","\u05E8\u05D1\u05D9\u05E2\u05D9","\u05D7\u05DE\u05D9\u05E9\u05D9","\u05E9\u05D9\u05E9\u05D9","\u05E9\u05D1\u05EA"],day_short:["\u05D0","\u05D1","\u05D2","\u05D3","\u05D4","\u05D5","\u05E9"]},labels:{dhx_cal_today_button:"\u05D4\u05D9\u05D5\u05DD",day_tab:"\u05D9\u05D5\u05DD",week_tab:"\u05E9\u05D1\u05D5\u05E2",month_tab:"\u05D7\u05D5\u05D3\u05E9",new_event:"\u05D0\u05E8\u05D5\u05E2 \u05D7\u05D3\u05E9",icon_save:"\u05E9\u05DE\u05D5\u05E8",icon_cancel:"\u05D1\u05D8\u05DC",icon_details:"\u05E4\u05E8\u05D8\u05D9\u05DD",icon_edit:"\u05E2\u05E8\u05D5\u05DA",icon_delete:"\u05DE\u05D7\u05E7",confirm_closing:"",confirm_deleting:"\u05D0\u05E8\u05D5\u05E2 \u05D9\u05DE\u05D7\u05E7 \u05E1\u05D5\u05E4\u05D9\u05EA.\u05DC\u05D4\u05DE\u05E9\u05D9\u05DA?",section_description:"\u05EA\u05D9\u05D0\u05D5\u05E8",section_time:"\u05EA\u05E7\u05D5\u05E4\u05D4",confirm_recurring:"\u05D4\u05D0\u05DD \u05D1\u05E8\u05E6\u05D5\u05E0\u05DA \u05DC\u05E9\u05E0\u05D5\u05EA \u05DB\u05DC \u05E1\u05D3\u05E8\u05EA \u05D0\u05E8\u05D5\u05E2\u05D9\u05DD \u05DE\u05EA\u05DE\u05E9\u05DB\u05D9\u05DD?",section_recurring:"\u05DC\u05D4\u05E2\u05EA\u05D9\u05E7 \u05D0\u05E8\u05D5\u05E2",button_recurring:"\u05DC\u05D0 \u05E4\u05E2\u05D9\u05DC",button_recurring_open:"\u05E4\u05E2\u05D9\u05DC",full_day:"\u05D9\u05D5\u05DD \u05E9\u05DC\u05DD",button_edit_series:"\u05E2\u05E8\u05D5\u05DA \u05D0\u05EA \u05D4\u05E1\u05D3\u05E8\u05D4",button_edit_occurrence:"\u05E2\u05E8\u05D9\u05DB\u05EA \u05E2\u05D5\u05EA\u05E7",agenda_tab:"\u05E1\u05D3\u05E8 \u05D9\u05D5\u05DD",date:"\u05EA\u05D0\u05E8\u05D9\u05DA",description:"\u05EA\u05D9\u05D0\u05D5\u05E8",year_tab:"\u05DC\u05E9\u05E0\u05D4",week_agenda_tab:"\u05E1\u05D3\u05E8 \u05D9\u05D5\u05DD",grid_tab:"\u05E1\u05D5\u05E8\u05D2",drag_to_create:"Drag to create",drag_to_move:"\u05D2\u05E8\u05D5\u05E8 \u05DB\u05D3\u05D9 \u05DC\u05D4\u05D6\u05D9\u05D6",message_ok:"OK",message_cancel:"\u05D1\u05D8\u05DC",next:"\u05D4\u05D1\u05D0",prev:"\u05D4\u05E7\u05D5\u05D3\u05DD",year:"\u05E9\u05E0\u05D4",month:"\u05D7\u05D5\u05D3\u05E9",day:"\u05D9\u05D5\u05DD",hour:"\u05E9\u05E2\u05D4",minute:"\u05D3\u05E7\u05D4",repeat_radio_day:"\u05D9\u05D5\u05DE\u05D9",repeat_radio_week:"\u05E9\u05D1\u05D5\u05E2\u05D9",repeat_radio_month:"\u05D7\u05D5\u05D3\u05E9\u05D9",repeat_radio_year:"\u05E9\u05E0\u05EA\u05D9",repeat_radio_day_type:"\u05D7\u05D6\u05D5\u05E8 \u05DB\u05DC",repeat_text_day_count:"\u05D9\u05DE\u05D9\u05DD",repeat_radio_day_type2:"\u05D7\u05D6\u05D5\u05E8 \u05DB\u05DC \u05D9\u05D5\u05DD \u05E2\u05D1\u05D5\u05D3\u05D4",repeat_week:" \u05D7\u05D6\u05D5\u05E8 \u05DB\u05DC",repeat_text_week_count:"\u05E9\u05D1\u05D5\u05E2 \u05DC\u05E4\u05D9 \u05D9\u05DE\u05D9\u05DD:",repeat_radio_month_type:"\u05D7\u05D6\u05D5\u05E8 \u05DB\u05DC",repeat_radio_month_start:"\u05DB\u05DC",repeat_text_month_day:"\u05D9\u05DE\u05D9\u05DD \u05DB\u05DC",repeat_text_month_count:"\u05D7\u05D5\u05D3\u05E9\u05D9\u05DD",repeat_text_month_count2_before:"\u05D7\u05D6\u05D5\u05E8 \u05DB\u05DC",repeat_text_month_count2_after:"\u05D7\u05D5\u05D3\u05E9",repeat_year_label:"\u05DB\u05DC",select_year_day2:"\u05D1\u05D7\u05D5\u05D3\u05E9",repeat_text_year_day:"\u05D9\u05DE\u05D9\u05DD",select_year_month:"\u05D7\u05D5\u05D3\u05E9",repeat_radio_end:"\u05DC\u05E2\u05D5\u05DC\u05DD \u05DC\u05D0 \u05DE\u05E1\u05EA\u05D9\u05D9\u05DD",repeat_text_occurences_count:"\u05D0\u05D9\u05E8\u05D5\u05E2\u05D9\u05DD",repeat_radio_end3:"\u05DE\u05E1\u05EA\u05D9\u05D9\u05DD \u05D1",repeat_radio_end2:"\u05D0\u05D7\u05E8\u05D9",month_for_recurring:["\u05D9\u05E0\u05D5\u05D0\u05E8","\u05E4\u05D1\u05E8\u05D5\u05D0\u05E8","\u05DE\u05E8\u05E5","\u05D0\u05E4\u05E8\u05D9\u05DC","\u05DE\u05D0\u05D9","\u05D9\u05D5\u05E0\u05D9","\u05D9\u05D5\u05DC\u05D9","\u05D0\u05D5\u05D2\u05D5\u05E1\u05D8","\u05E1\u05E4\u05D8\u05DE\u05D1\u05E8","\u05D0\u05D5\u05E7\u05D8\u05D5\u05D1\u05E8","\u05E0\u05D5\u05D1\u05DE\u05D1\u05E8","\u05D3\u05E6\u05DE\u05D1\u05E8"],day_for_recurring:["\u05E8\u05D0\u05E9\u05D5\u05DF","\u05E9\u05E0\u05D9","\u05E9\u05DC\u05D9\u05E9\u05D9","\u05E8\u05D1\u05D9\u05E2\u05D9","\u05D7\u05DE\u05D9\u05E9\u05D9","\u05E9\u05D9\u05E9\u05D9","\u05E9\u05D1\u05EA"]}},Yr={date:{month_full:["Janu\xE1r","Febru\xE1r","M\xE1rcius","\xC1prilis","M\xE1jus","J\xFAnius","J\xFAlius","Augusztus","Szeptember","Okt\xF3ber","November","December"],month_short:["Jan","Feb","M\xE1r","\xC1pr","M\xE1j","J\xFAn","J\xFAl","Aug","Sep","Okt","Nov","Dec"],day_full:["Vas\xE1rnap","H\xE9tf\xF5","Kedd","Szerda","Cs\xFCt\xF6rt\xF6k","P\xE9ntek","szombat"],day_short:["Va","H\xE9","Ke","Sze","Cs\xFC","P\xE9","Szo"]},labels:{dhx_cal_today_button:"Ma",day_tab:"Nap",week_tab:"H\xE9t",month_tab:"H\xF3nap",new_event:"\xDAj esem\xE9ny",icon_save:"Ment\xE9s",icon_cancel:"M\xE9gse",icon_details:"R\xE9szletek",icon_edit:"Szerkeszt\xE9s",icon_delete:"T\xF6rl\xE9s",confirm_closing:"",confirm_deleting:"Az esem\xE9ny t\xF6r\xF6lve lesz, biztosan folytatja?",section_description:"Le\xEDr\xE1s",section_time:"Id\xF5szak",full_day:"Egesz napos",confirm_recurring:"Biztosan szerkeszteni akarod az \xF6sszes ism\xE9tl\xF5d\xF5 esem\xE9ny be\xE1ll\xEDt\xE1s\xE1t?",section_recurring:"Esem\xE9ny ism\xE9tl\xE9se",button_recurring:"Tilt\xE1s",button_recurring_open:"Enged\xE9lyez\xE9s",button_edit_series:"Edit series",button_edit_occurrence:"Szerkeszt\xE9s b\xEDr\xF3s\xE1g",agenda_tab:"Napirend",date:"D\xE1tum",description:"Le\xEDr\xE1s",year_tab:"\xC9v",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute"}},Oc={date:{month_full:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],month_short:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Ags","Sep","Okt","Nov","Des"],day_full:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"],day_short:["Ming","Sen","Sel","Rab","Kam","Jum","Sab"]},labels:{dhx_cal_today_button:"Hari Ini",day_tab:"Hari",week_tab:"Minggu",month_tab:"Bulan",new_event:"Acara Baru",icon_save:"Simpan",icon_cancel:"Batal",icon_details:"Detail",icon_edit:"Edit",icon_delete:"Hapus",confirm_closing:"",confirm_deleting:"Acara akan dihapus",section_description:"Keterangan",section_time:"Periode",full_day:"Hari penuh",confirm_recurring:"Apakah acara ini akan berulang?",section_recurring:"Acara Rutin",button_recurring:"Tidak Difungsikan",button_recurring_open:"Difungsikan",button_edit_series:"Mengedit seri",button_edit_occurrence:"Mengedit salinan",agenda_tab:"Agenda",date:"Tanggal",description:"Keterangan",year_tab:"Tahun",week_agenda_tab:"Agenda",grid_tab:"Tabel",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute"}},mo={date:{month_full:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],month_short:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],day_full:["Domenica","Luned\xEC","Marted\xEC","Mercoled\xEC","Gioved\xEC","Venerd\xEC","Sabato"],day_short:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"]},labels:{dhx_cal_today_button:"Oggi",day_tab:"Giorno",week_tab:"Settimana",month_tab:"Mese",new_event:"Nuovo evento",icon_save:"Salva",icon_cancel:"Chiudi",icon_details:"Dettagli",icon_edit:"Modifica",icon_delete:"Elimina",confirm_closing:"",confirm_deleting:"L'evento sar\xE0 eliminato, siete sicuri?",section_description:"Descrizione",section_time:"Periodo di tempo",full_day:"Intera giornata",confirm_recurring:"Vuoi modificare l'intera serie di eventi?",section_recurring:"Ripetere l'evento",button_recurring:"Disattivato",button_recurring_open:"Attivato",button_edit_series:"Modificare la serie",button_edit_occurrence:"Modificare una copia",agenda_tab:"Agenda",date:"Data",description:"Descrizione",year_tab:"Anno",week_agenda_tab:"Agenda",grid_tab:"Griglia",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Quotidiano",repeat_radio_week:"Settimanale",repeat_radio_month:"Mensile",repeat_radio_year:"Annuale",repeat_radio_day_type:"Ogni",repeat_text_day_count:"giorno",repeat_radio_day_type2:"Ogni giornata lavorativa",repeat_week:" Ripetere ogni",repeat_text_week_count:"settimana:",repeat_radio_month_type:"Ripetere",repeat_radio_month_start:"Il",repeat_text_month_day:"giorno ogni",repeat_text_month_count:"mese",repeat_text_month_count2_before:"ogni",repeat_text_month_count2_after:"mese",repeat_year_label:"Il",select_year_day2:"del",repeat_text_year_day:"giorno",select_year_month:"mese",repeat_radio_end:"Senza data finale",repeat_text_occurences_count:"occorenze",repeat_radio_end3:"Fine",repeat_radio_end2:"Dopo",month_for_recurring:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Jiugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],day_for_recurring:["Domenica","Luned\xEC","Marted\xEC","Mercoled\xEC","Joved\xEC","Venerd\xEC","Sabato"]}},Jr={date:{month_full:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],month_short:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],day_full:["\u65E5\u66DC\u65E5","\u6708\u66DC\u65E5","\u706B\u66DC\u65E5","\u6C34\u66DC\u65E5","\u6728\u66DC\u65E5","\u91D1\u66DC\u65E5","\u571F\u66DC\u65E5"],day_short:["\u65E5","\u6708","\u706B","\u6C34","\u6728","\u91D1","\u571F"]},labels:{dhx_cal_today_button:"\u4ECA\u65E5",day_tab:"\u65E5",week_tab:"\u9031",month_tab:"\u6708",new_event:"\u65B0\u30A4\u30D9\u30F3\u30C8",icon_save:"\u4FDD\u5B58",icon_cancel:"\u30AD\u30E3\u30F3\u30BB\u30EB",icon_details:"\u8A73\u7D30",icon_edit:"\u7DE8\u96C6",icon_delete:"\u524A\u9664",confirm_closing:"",confirm_deleting:"\u30A4\u30D9\u30F3\u30C8\u5B8C\u5168\u306B\u524A\u9664\u3055\u308C\u307E\u3059\u3001\u5B9C\u3057\u3044\u3067\u3059\u304B\uFF1F",section_description:"\u30C7\u30B9\u30AF\u30EA\u30D7\u30B7\u30E7\u30F3",section_time:"\u671F\u9593",confirm_recurring:"\u7E70\u308A\u8FD4\u3055\u308C\u3066\u3044\u308B\u30A4\u30D9\u30F3\u30C8\u3092\u5168\u3066\u7DE8\u96C6\u3057\u307E\u3059\u304B\uFF1F",section_recurring:"\u30A4\u30D9\u30F3\u30C8\u3092\u7E70\u308A\u8FD4\u3059",button_recurring:"\u7121\u52B9",button_recurring_open:"\u6709\u52B9",full_day:"\u7D42\u65E5",button_edit_series:"\u30B7\u30EA\u30FC\u30BA\u3092\u7DE8\u96C6\u3057\u307E\u3059",button_edit_occurrence:"\u30B3\u30D4\u30FC\u3092\u7DE8\u96C6",agenda_tab:"\u8B70\u984C\u306F",date:"\u65E5\u4ED8",description:"\u8AAC\u660E",year_tab:"\u4ECA\u5E74",week_agenda_tab:"\u8B70\u984C\u306F",grid_tab:"\u30B0\u30EA\u30C3\u30C9",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute"}};function go(s,w){for(var d=0;d<w.length;d++){var m=w[d];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(s,m.key,m)}}var bt=function(){function s(w){for(var d in function(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}(this,s),this._locales={},w)this._locales[d]=w[d]}return function(w,d,m){d&&go(w.prototype,d),m&&go(w,m)}(s,[{key:"addLocale",value:function(w,d){this._locales[w]=d}},{key:"getLocale",value:function(w){return this._locales[w]}}]),s}(),se={date:{month_full:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],month_short:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],day_full:["S\xF8ndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","L\xF8rdag"],day_short:["S\xF8n","Mon","Tir","Ons","Tor","Fre","L\xF8r"]},labels:{dhx_cal_today_button:"I dag",day_tab:"Dag",week_tab:"Uke",month_tab:"M\xE5ned",new_event:"Ny hendelse",icon_save:"Lagre",icon_cancel:"Avbryt",icon_details:"Detaljer",icon_edit:"Rediger",icon_delete:"Slett",confirm_closing:"",confirm_deleting:"Hendelsen vil bli slettet permanent. Er du sikker?",section_description:"Beskrivelse",section_time:"Tidsperiode",confirm_recurring:"Vil du forandre hele dette settet av repeterende hendelser?",section_recurring:"Repeter hendelsen",button_recurring:"Av",button_recurring_open:"P\xE5",button_edit_series:"Rediger serien",button_edit_occurrence:"Redigere en kopi",agenda_tab:"Agenda",date:"Dato",description:"Beskrivelse",year_tab:"\xC5r",week_agenda_tab:"Agenda",grid_tab:"Grid",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Daglig",repeat_radio_week:"Ukentlig",repeat_radio_month:"M\xE5nedlig",repeat_radio_year:"\xC5rlig",repeat_radio_day_type:"Hver",repeat_text_day_count:"dag",repeat_radio_day_type2:"Alle hverdager",repeat_week:" Gjentas hver",repeat_text_week_count:"uke p\xE5:",repeat_radio_month_type:"P\xE5 hver",repeat_radio_month_start:"P\xE5",repeat_text_month_day:"dag hver",repeat_text_month_count:"m\xE5ned",repeat_text_month_count2_before:"hver",repeat_text_month_count2_after:"m\xE5ned",repeat_year_label:"p\xE5",select_year_day2:"i",repeat_text_year_day:"dag i",select_year_month:"",repeat_radio_end:"Ingen sluttdato",repeat_text_occurences_count:"forekomst",repeat_radio_end3:"Stop den",repeat_radio_end2:"Etter",month_for_recurring:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],day_for_recurring:["Sondag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","L\xF8rdag"]}},he={date:{month_full:["Januari","Februari","Maart","April","Mei","Juni","Juli","Augustus","September","Oktober","November","December"],month_short:["Jan","Feb","mrt","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["Zondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrijdag","Zaterdag"],day_short:["Zo","Ma","Di","Wo","Do","Vr","Za"]},labels:{dhx_cal_today_button:"Vandaag",day_tab:"Dag",week_tab:"Week",month_tab:"Maand",new_event:"Nieuw item",icon_save:"Opslaan",icon_cancel:"Annuleren",icon_details:"Details",icon_edit:"Bewerken",icon_delete:"Verwijderen",confirm_closing:"",confirm_deleting:"Item zal permanent worden verwijderd, doorgaan?",section_description:"Beschrijving",section_time:"Tijd periode",full_day:"Hele dag",confirm_recurring:"Wilt u alle terugkerende items bijwerken?",section_recurring:"Item herhalen",button_recurring:"Uit",button_recurring_open:"Aan",button_edit_series:"Bewerk de serie",button_edit_occurrence:"Bewerk een kopie",agenda_tab:"Agenda",date:"Datum",description:"Omschrijving",year_tab:"Jaar",week_agenda_tab:"Agenda",grid_tab:"Tabel",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Dagelijks",repeat_radio_week:"Wekelijks",repeat_radio_month:"Maandelijks",repeat_radio_year:"Jaarlijks",repeat_radio_day_type:"Elke",repeat_text_day_count:"dag(en)",repeat_radio_day_type2:"Elke werkdag",repeat_week:" Herhaal elke",repeat_text_week_count:"week op de volgende dagen:",repeat_radio_month_type:"Herhaal",repeat_radio_month_start:"Op",repeat_text_month_day:"dag iedere",repeat_text_month_count:"maanden",repeat_text_month_count2_before:"iedere",repeat_text_month_count2_after:"maanden",repeat_year_label:"Op",select_year_day2:"van",repeat_text_year_day:"dag",select_year_month:"maand",repeat_radio_end:"Geen eind datum",repeat_text_occurences_count:"keren",repeat_radio_end3:"Eindigd per",repeat_radio_end2:"Na",month_for_recurring:["Januari","Februari","Maart","April","Mei","Juni","Juli","Augustus","September","Oktober","November","December"],day_for_recurring:["Zondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrijdag","Zaterdag"]}},pe={date:{month_full:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],month_short:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],day_full:["S\xF8ndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","L\xF8rdag"],day_short:["S\xF8n","Man","Tir","Ons","Tor","Fre","L\xF8r"]},labels:{dhx_cal_today_button:"Idag",day_tab:"Dag",week_tab:"Uke",month_tab:"M\xE5ned",new_event:"Ny",icon_save:"Lagre",icon_cancel:"Avbryt",icon_details:"Detaljer",icon_edit:"Endre",icon_delete:"Slett",confirm_closing:"Endringer blir ikke lagret, er du sikker?",confirm_deleting:"Oppf\xF8ringen vil bli slettet, er du sikker?",section_description:"Beskrivelse",section_time:"Tidsperiode",full_day:"Full dag",confirm_recurring:"Vil du endre hele settet med repeterende oppf\xF8ringer?",section_recurring:"Repeterende oppf\xF8ring",button_recurring:"Ikke aktiv",button_recurring_open:"Aktiv",button_edit_series:"Rediger serien",button_edit_occurrence:"Redigere en kopi",agenda_tab:"Agenda",date:"Dato",description:"Beskrivelse",year_tab:"\xC5r",week_agenda_tab:"Agenda",grid_tab:"Grid",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute"}},ye={date:{month_full:["Stycze\u0144","Luty","Marzec","Kwiecie\u0144","Maj","Czerwiec","Lipiec","Sierpie\u0144","Wrzesie\u0144","Pa\u017Adziernik","Listopad","Grudzie\u0144"],month_short:["Sty","Lut","Mar","Kwi","Maj","Cze","Lip","Sie","Wrz","Pa\u017A","Lis","Gru"],day_full:["Niedziela","Poniedzia\u0142ek","Wtorek","\u015Aroda","Czwartek","Pi\u0105tek","Sobota"],day_short:["Nie","Pon","Wto","\u015Aro","Czw","Pi\u0105","Sob"]},labels:{dhx_cal_today_button:"Dzi\u015B",day_tab:"Dzie\u0144",week_tab:"Tydzie\u0144",month_tab:"Miesi\u0105c",new_event:"Nowe zdarzenie",icon_save:"Zapisz",icon_cancel:"Anuluj",icon_details:"Szczeg\xF3\u0142y",icon_edit:"Edytuj",icon_delete:"Usu\u0144",confirm_closing:"",confirm_deleting:"Zdarzenie zostanie usuni\u0119te na zawsze, kontynuowa\u0107?",section_description:"Opis",section_time:"Okres czasu",full_day:"Ca\u0142y dzie\u0144",confirm_recurring:"Czy chcesz edytowa\u0107 ca\u0142y zbi\xF3r powtarzaj\u0105cych si\u0119 zdarze\u0144?",section_recurring:"Powt\xF3rz zdarzenie",button_recurring:"Nieaktywne",button_recurring_open:"Aktywne",button_edit_series:"Edytuj seri\u0119",button_edit_occurrence:"Edytuj kopi\u0119",agenda_tab:"Agenda",date:"Data",description:"Opis",year_tab:"Rok",week_agenda_tab:"Agenda",grid_tab:"Tabela",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Codziennie",repeat_radio_week:"Co tydzie",repeat_radio_month:"Co miesic",repeat_radio_year:"Co rok",repeat_radio_day_type:"Kadego",repeat_text_day_count:"dnia",repeat_radio_day_type2:"Kadego dnia roboczego",repeat_week:" Powtarzaj kadego",repeat_text_week_count:"tygodnia w dni:",repeat_radio_month_type:"Powtrz",repeat_radio_month_start:"W",repeat_text_month_day:"dnia kadego",repeat_text_month_count:"miesica",repeat_text_month_count2_before:"kadego",repeat_text_month_count2_after:"miesica",repeat_year_label:"W",select_year_day2:"miesica",repeat_text_year_day:"dnia miesica",select_year_month:"",repeat_radio_end:"Bez daty kocowej",repeat_text_occurences_count:"wystpieniu/ach",repeat_radio_end3:"Zakocz w",repeat_radio_end2:"Po",month_for_recurring:["Stycznia","Lutego","Marca","Kwietnia","Maja","Czerwca","Lipca","Sierpnia","Wrzenia","Padziernka","Listopada","Grudnia"],day_for_recurring:["Niedziela","Poniedziaek","Wtorek","roda","Czwartek","Pitek","Sobota"]}},Pe={date:{month_full:["Janeiro","Fevereiro","Mar\xE7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],month_short:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],day_full:["Domingo","Segunda","Ter\xE7a","Quarta","Quinta","Sexta","S\xE1bado"],day_short:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"]},labels:{dhx_cal_today_button:"Hoje",day_tab:"Dia",week_tab:"Semana",month_tab:"M\xEAs",new_event:"Novo evento",icon_save:"Salvar",icon_cancel:"Cancelar",icon_details:"Detalhes",icon_edit:"Editar",icon_delete:"Deletar",confirm_closing:"",confirm_deleting:"Tem certeza que deseja excluir?",section_description:"Descri\xE7\xE3o",section_time:"Per\xEDodo de tempo",full_day:"Dia inteiro",confirm_recurring:"Deseja editar todos esses eventos repetidos?",section_recurring:"Repetir evento",button_recurring:"Desabilitar",button_recurring_open:"Habilitar",button_edit_series:"Editar a s\xE9rie",button_edit_occurrence:"Editar uma c\xF3pia",agenda_tab:"Dia",date:"Data",description:"Descri\xE7\xE3o",year_tab:"Ano",week_agenda_tab:"Dia",grid_tab:"Grade",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Di\xE1rio",repeat_radio_week:"Semanal",repeat_radio_month:"Mensal",repeat_radio_year:"Anual",repeat_radio_day_type:"Cada",repeat_text_day_count:"dia(s)",repeat_radio_day_type2:"Cada trabalho di\xE1rio",repeat_week:" Repita cada",repeat_text_week_count:"semana:",repeat_radio_month_type:"Repetir",repeat_radio_month_start:"Em",repeat_text_month_day:"todo dia",repeat_text_month_count:"m\xEAs",repeat_text_month_count2_before:"todo",repeat_text_month_count2_after:"m\xEAs",repeat_year_label:"Em",select_year_day2:"of",repeat_text_year_day:"dia",select_year_month:"m\xEAs",repeat_radio_end:"Sem data final",repeat_text_occurences_count:"ocorr\xEAncias",repeat_radio_end3:"Fim",repeat_radio_end2:"Depois",month_for_recurring:["Janeiro","Fevereiro","Mar\xE7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],day_for_recurring:["Domingo","Segunda","Ter\xE7a","Quarta","Quinta","Sexta","S\xE1bado"]}},Be={date:{month_full:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","November","December"],month_short:["Ian","Feb","Mar","Apr","Mai","Iun","Iul","Aug","Sep","Oct","Nov","Dec"],day_full:["Duminica","Luni","Marti","Miercuri","Joi","Vineri","Sambata"],day_short:["Du","Lu","Ma","Mi","Jo","Vi","Sa"]},labels:{dhx_cal_today_button:"Astazi",day_tab:"Zi",week_tab:"Saptamana",month_tab:"Luna",new_event:"Eveniment nou",icon_save:"Salveaza",icon_cancel:"Anuleaza",icon_details:"Detalii",icon_edit:"Editeaza",icon_delete:"Sterge",confirm_closing:"Schimbarile nu vor fi salvate, esti sigur?",confirm_deleting:"Evenimentul va fi sters permanent, esti sigur?",section_description:"Descriere",section_time:"Interval",full_day:"Toata ziua",confirm_recurring:"Vrei sa editezi toata seria de evenimente repetate?",section_recurring:"Repetare",button_recurring:"Dezactivata",button_recurring_open:"Activata",button_edit_series:"Editeaza serie",button_edit_occurrence:"Editeaza doar intrare",agenda_tab:"Agenda",date:"Data",description:"Descriere",year_tab:"An",week_agenda_tab:"Agenda",grid_tab:"Lista",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Zilnic",repeat_radio_week:"Saptamanal",repeat_radio_month:"Lunar",repeat_radio_year:"Anual",repeat_radio_day_type:"La fiecare",repeat_text_day_count:"zi(le)",repeat_radio_day_type2:"Fiecare zi lucratoare",repeat_week:" Repeta la fiecare",repeat_text_week_count:"saptamana in urmatoarele zile:",repeat_radio_month_type:"Repeta in",repeat_radio_month_start:"In a",repeat_text_month_day:"zi la fiecare",repeat_text_month_count:"luni",repeat_text_month_count2_before:"la fiecare",repeat_text_month_count2_after:"luni",repeat_year_label:"In",select_year_day2:"a lunii",repeat_text_year_day:"zi a lunii",select_year_month:"",repeat_radio_end:"Fara data de sfarsit",repeat_text_occurences_count:"evenimente",repeat_radio_end3:"La data",repeat_radio_end2:"Dupa",month_for_recurring:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","Noiembrie","Decembrie"],day_for_recurring:["Duminica","Luni","Marti","Miercuri","Joi","Vineri","Sambata"]}},Re={date:{month_full:["\u042F\u043D\u0432\u0430\u0440\u044C","\u0424\u0435\u0432\u0440\u0430\u043B\u044C","\u041C\u0430\u0440\u0442","\u0410\u043F\u0440\u0435\u043B\u044C","Ma\u0439","\u0418\u044E\u043D\u044C","\u0418\u044E\u043B\u044C","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043D\u0442\u044F\u0431\u0440\u044C","O\u043A\u0442\u044F\u0431\u0440\u044C","\u041D\u043E\u044F\u0431\u0440\u044C","\u0414\u0435\u043A\u0430\u0431\u0440\u044C"],month_short:["\u042F\u043D\u0432","\u0424\u0435\u0432","Ma\u0440","A\u043F\u0440","Ma\u0439","\u0418\u044E\u043D","\u0418\u044E\u043B","A\u0432\u0433","\u0421\u0435\u043D","\u041E\u043A\u0442","\u041D\u043E\u044F","\u0414\u0435\u043A"],day_full:["\u0412\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u044C\u0435","\u041F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A","\u0412\u0442\u043E\u0440\u043D\u0438\u043A","\u0421\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440\u0433","\u041F\u044F\u0442\u043D\u0438\u0446\u0430","\u0421\u0443\u0431\u0431\u043E\u0442\u0430"],day_short:["\u0412\u0441","\u041F\u043D","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041F\u0442","\u0421\u0431"]},labels:{dhx_cal_today_button:"\u0421\u0435\u0433\u043E\u0434\u043D\u044F",day_tab:"\u0414\u0435\u043D\u044C",week_tab:"\u041D\u0435\u0434\u0435\u043B\u044F",month_tab:"\u041C\u0435\u0441\u044F\u0446",new_event:"\u041D\u043E\u0432\u043E\u0435 \u0441\u043E\u0431\u044B\u0442\u0438\u0435",icon_save:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C",icon_cancel:"\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C",icon_details:"\u0414\u0435\u0442\u0430\u043B\u0438",icon_edit:"\u0418\u0437\u043C\u0435\u043D\u0438\u0442\u044C",icon_delete:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C",confirm_closing:"",confirm_deleting:"\u0421\u043E\u0431\u044B\u0442\u0438\u0435 \u0431\u0443\u0434\u0435\u0442 \u0443\u0434\u0430\u043B\u0435\u043D\u043E \u0431\u0435\u0437\u0432\u043E\u0437\u0432\u0440\u0430\u0442\u043D\u043E, \u043F\u0440\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u044C?",section_description:"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435",section_time:"\u041F\u0435\u0440\u0438\u043E\u0434 \u0432\u0440\u0435\u043C\u0435\u043D\u0438",full_day:"\u0412\u0435\u0441\u044C \u0434\u0435\u043D\u044C",confirm_recurring:"\u0412\u044B \u0445\u043E\u0442\u0438\u0442\u0435 \u0438\u0437\u043C\u0435\u043D\u0438\u0442\u044C \u0432\u0441\u044E \u0441\u0435\u0440\u0438\u044E \u043F\u043E\u0432\u0442\u043E\u0440\u044F\u044E\u0449\u0438\u0445\u0441\u044F \u0441\u043E\u0431\u044B\u0442\u0438\u0439?",section_recurring:"\u041F\u043E\u0432\u0442\u043E\u0440\u0435\u043D\u0438\u0435",button_recurring:"\u041E\u0442\u043A\u043B\u044E\u0447\u0435\u043D\u043E",button_recurring_open:"\u0412\u043A\u043B\u044E\u0447\u0435\u043D\u043E",button_edit_series:"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0441\u0435\u0440\u0438\u044E",button_edit_occurrence:"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u044D\u043A\u0437\u0435\u043C\u043F\u043B\u044F\u0440",agenda_tab:"\u0421\u043F\u0438\u0441\u043E\u043A",date:"\u0414\u0430\u0442\u0430",description:"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435",year_tab:"\u0413\u043E\u0434",week_agenda_tab:"\u0421\u043F\u0438\u0441\u043E\u043A",grid_tab:"\u0422\u0430\u0431\u043B\u0438\u0446\u0430",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"\u0414\u0435\u043D\u044C",repeat_radio_week:"\u041D\u0435\u0434\u0435\u043B\u044F",repeat_radio_month:"\u041C\u0435\u0441\u044F\u0446",repeat_radio_year:"\u0413\u043E\u0434",repeat_radio_day_type:"\u041A\u0430\u0436\u0434\u044B\u0439",repeat_text_day_count:"\u0434\u0435\u043D\u044C",repeat_radio_day_type2:"\u041A\u0430\u0436\u0434\u044B\u0439 \u0440\u0430\u0431\u043E\u0447\u0438\u0439 \u0434\u0435\u043D\u044C",repeat_week:" \u041F\u043E\u0432\u0442\u043E\u0440\u044F\u0442\u044C \u043A\u0430\u0436\u0434\u0443\u044E",repeat_text_week_count:"\u043D\u0435\u0434\u0435\u043B\u044E , \u0432:",repeat_radio_month_type:"\u041F\u043E\u0432\u0442\u043E\u0440\u044F\u0442\u044C",repeat_radio_month_start:"",repeat_text_month_day:" \u0447\u0438\u0441\u043B\u0430 \u043A\u0430\u0436\u0434\u044B\u0439 ",repeat_text_month_count:"\u043C\u0435\u0441\u044F\u0446",repeat_text_month_count2_before:"\u043A\u0430\u0436\u0434\u044B\u0439 ",repeat_text_month_count2_after:"\u043C\u0435\u0441\u044F\u0446",repeat_year_label:"",select_year_day2:"",repeat_text_year_day:"\u0434\u0435\u043D\u044C",select_year_month:"",repeat_radio_end:"\u0411\u0435\u0437 \u0434\u0430\u0442\u044B \u043E\u043A\u043E\u043D\u0447\u0430\u043D\u0438\u044F",repeat_text_occurences_count:"\u043F\u043E\u0432\u0442\u043E\u0440\u0435\u043D\u0438\u0439",repeat_radio_end3:"\u0414\u043E ",repeat_radio_end2:"",month_for_recurring:["\u042F\u043D\u0432\u0430\u0440\u044F","\u0424\u0435\u0432\u0440\u0430\u043B\u044F","\u041C\u0430\u0440\u0442\u0430","\u0410\u043F\u0440\u0435\u043B\u044F","\u041C\u0430\u044F","\u0418\u044E\u043D\u044F","\u0418\u044E\u043B\u044F","\u0410\u0432\u0433\u0443\u0441\u0442\u0430","\u0421\u0435\u043D\u0442\u044F\u0431\u0440\u044F","\u041E\u043A\u0442\u044F\u0431\u0440\u044F","\u041D\u043E\u044F\u0431\u0440\u044F","\u0414\u0435\u043A\u0430\u0431\u0440\u044F"],day_for_recurring:["\u0412\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u044C\u0435","\u041F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A","\u0412\u0442\u043E\u0440\u043D\u0438\u043A","\u0421\u0440\u0435\u0434\u0443","\u0427\u0435\u0442\u0432\u0435\u0440\u0433","\u041F\u044F\u0442\u043D\u0438\u0446\u0443","\u0421\u0443\u0431\u0431\u043E\u0442\u0443"]}},ut={date:{month_full:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],month_short:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["Nedelja","Ponedeljek","Torek","Sreda","\u010Cetrtek","Petek","Sobota"],day_short:["Ned","Pon","Tor","Sre","\u010Cet","Pet","Sob"]},labels:{dhx_cal_today_button:"Danes",day_tab:"Dan",week_tab:"Teden",month_tab:"Mesec",new_event:"Nov dogodek",icon_save:"Shrani",icon_cancel:"Prekli\u010Di",icon_details:"Podrobnosti",icon_edit:"Uredi",icon_delete:"Izbri\u0161i",confirm_closing:"",confirm_deleting:"Dogodek bo izbrisan. \u017Delite nadaljevati?",section_description:"Opis",section_time:"\u010Casovni okvir",full_day:"Ves dan",confirm_recurring:"\u017Delite urediti celoten set ponavljajo\u010Dih dogodkov?",section_recurring:"Ponovi dogodek",button_recurring:"Onemogo\u010Deno",button_recurring_open:"Omogo\u010Deno",button_edit_series:"Edit series",button_edit_occurrence:"Edit occurrence",agenda_tab:"Zadeva",date:"Datum",description:"Opis",year_tab:"Leto",week_agenda_tab:"Zadeva",grid_tab:"Miza",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute"}},Mt={date:{month_full:["Janu\xE1r","Febru\xE1r","Marec","Apr\xEDl","M\xE1j","J\xFAn","J\xFAl","August","September","Okt\xF3ber","November","December"],month_short:["Jan","Feb","Mar","Apr","M\xE1j","J\xFAn","J\xFAl","Aug","Sept","Okt","Nov","Dec"],day_full:["Nede\u013Ea","Pondelok","Utorok","Streda","\u0160tvrtok","Piatok","Sobota"],day_short:["Ne","Po","Ut","St","\u0160t","Pi","So"]},labels:{dhx_cal_today_button:"Dnes",day_tab:"De\u0148",week_tab:"T\xFD\u017Ede\u0148",month_tab:"Mesiac",new_event:"Nov\xE1 udalos\u0165",icon_save:"Ulo\u017Ei\u0165",icon_cancel:"Sp\xE4\u0165",icon_details:"Detail",icon_edit:"Edituj",icon_delete:"Zmaza\u0165",confirm_closing:"Va\u0161e zmeny nebud\xFA ulo\u017Een\xE9. Skuto\u010Dne?",confirm_deleting:"Udalos\u0165 bude natrvalo vymazan\xE1. Skuto\u010Dne?",section_description:"Pozn\xE1mky",section_time:"Doba platnosti",confirm_recurring:"Prajete si upravi\u0165 cel\xFA radu opakovan\xFDch udalost\xED?",section_recurring:"Opakovanie udalosti",button_recurring:"Vypnut\xE9",button_recurring_open:"Zapnut\xE9",button_edit_series:"Upravi\u0165 opakovania",button_edit_occurrence:"Upravi\u0165 in\u0161tancie",agenda_tab:"Program",date:"D\xE1tum",description:"Pozn\xE1mka",year_tab:"Rok",full_day:"Cel\xFD de\u0148",week_agenda_tab:"Program",grid_tab:"Mrie\u017Eka",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Denne",repeat_radio_week:"T\xFD\u017Edenne",repeat_radio_month:"Mesa\xE8ne",repeat_radio_year:"Ro\xE8ne",repeat_radio_day_type:"Ka\u017Ed\xFD",repeat_text_day_count:"de\xF2",repeat_radio_day_type2:"Ka\u017Ed\xFD prac. de\xF2",repeat_week:"Opakova ka\u017Ed\xFD",repeat_text_week_count:"t\xFD\u017Ede\xF2 v d\xF2och:",repeat_radio_month_type:"Opakova",repeat_radio_month_start:"On",repeat_text_month_day:"de\xF2 ka\u017Ed\xFD",repeat_text_month_count:"mesiac",repeat_text_month_count2_before:"ka\u017Ed\xFD",repeat_text_month_count2_after:"mesiac",repeat_year_label:"On",select_year_day2:"po\xE8as",repeat_text_year_day:"de\xF2",select_year_month:"mesiac",repeat_radio_end:"Bez d\xE1tumu ukon\xE8enia",repeat_text_occurences_count:"udalostiach",repeat_radio_end3:"Ukon\xE8i",repeat_radio_end2:"Po",month_for_recurring:["Janu\xE1r","Febru\xE1r","Marec","Apr\xEDl","M\xE1j","J\xFAn","J\xFAl","August","September","Okt\xF3ber","November","December"],day_for_recurring:["Nede\xBEa","Pondelok","Utorok","Streda","\u0160tvrtok","Piatok","Sobota"]}},mt={date:{month_full:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],month_short:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["S\xF6ndag","M\xE5ndag","Tisdag","Onsdag","Torsdag","Fredag","L\xF6rdag"],day_short:["S\xF6n","M\xE5n","Tis","Ons","Tor","Fre","L\xF6r"]},labels:{dhx_cal_today_button:"Idag",day_tab:"Dag",week_tab:"Vecka",month_tab:"M\xE5nad",new_event:"Ny h\xE4ndelse",icon_save:"Spara",icon_cancel:"\xC5ngra",icon_details:"Detaljer",icon_edit:"\xC4ndra",icon_delete:"Ta bort",confirm_closing:"",confirm_deleting:"\xC4r du s\xE4ker p\xE5 att du vill ta bort h\xE4ndelsen permanent?",section_description:"Beskrivning",section_time:"Tid",full_day:"Hela dagen",confirm_recurring:"Vill du redigera hela serien med repeterande h\xE4ndelser?",section_recurring:"Upprepa h\xE4ndelse",button_recurring:"Inaktiverat",button_recurring_open:"Aktiverat",button_edit_series:"Redigera serien",button_edit_occurrence:"Redigera en kopia",agenda_tab:"Dagordning",date:"Datum",description:"Beskrivning",year_tab:"\xC5r",week_agenda_tab:"Dagordning",grid_tab:"Galler",drag_to_create:"Dra f\xF6r att skapa ny",drag_to_move:"Dra f\xF6r att flytta",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Dagligen",repeat_radio_week:"Veckovis",repeat_radio_month:"M\xE5nadsvis",repeat_radio_year:"\xC5rligen",repeat_radio_day_type:"Var",repeat_text_day_count:"dag",repeat_radio_day_type2:"Varje arbetsdag",repeat_week:" Upprepa var",repeat_text_week_count:"vecka dessa dagar:",repeat_radio_month_type:"Upprepa",repeat_radio_month_start:"Den",repeat_text_month_day:"dagen var",repeat_text_month_count:"m\xE5nad",repeat_text_month_count2_before:"var",repeat_text_month_count2_after:"m\xE5nad",repeat_year_label:"Den",select_year_day2:"i",repeat_text_year_day:"dag i",select_year_month:"m\xE5nad",repeat_radio_end:"Inget slutdatum",repeat_text_occurences_count:"upprepningar",repeat_radio_end3:"Sluta efter",repeat_radio_end2:"Efter",month_for_recurring:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],day_for_recurring:["S\xF6ndag","M\xE5ndag","Tisdag","Onsdag","Torsdag","Fredag","L\xF6rdag"]}},Qr={date:{month_full:["Ocak","\xDEubat","Mart","Nisan","May\xFDs","Haziran","Temmuz","A\xF0ustos","Eyl\xFCl","Ekim","Kas\xFDm","Aral\xFDk"],month_short:["Oca","\xDEub","Mar","Nis","May","Haz","Tem","A\xF0u","Eyl","Eki","Kas","Ara"],day_full:["Pazar","Pazartes,","Sal\xFD","\xC7ar\xFEamba","Per\xFEembe","Cuma","Cumartesi"],day_short:["Paz","Pts","Sal","\xC7ar","Per","Cum","Cts"]},labels:{dhx_cal_today_button:"Bug\xFCn",day_tab:"G\xFCn",week_tab:"Hafta",month_tab:"Ay",new_event:"Uygun",icon_save:"Kaydet",icon_cancel:"\xDDptal",icon_details:"Detaylar",icon_edit:"D\xFCzenle",icon_delete:"Sil",confirm_closing:"",confirm_deleting:"Etkinlik silinecek, devam?",section_description:"A\xE7\xFDklama",section_time:"Zaman aral\xFD\xF0\xFD",full_day:"Tam g\xFCn",confirm_recurring:"T\xFCm tekrar eden etkinlikler silinecek, devam?",section_recurring:"Etkinli\xF0i tekrarla",button_recurring:"Pasif",button_recurring_open:"Aktif",button_edit_series:"Dizi d\xFCzenleme",button_edit_occurrence:"Bir kopyas\u0131n\u0131 d\xFCzenleyin",agenda_tab:"Ajanda",date:"Tarih",description:"A\xE7\xFDklama",year_tab:"Y\xFDl",week_agenda_tab:"Ajanda",grid_tab:"Izgara",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute"}},Un={date:{month_full:["\u0421\u0456\u0447\u0435\u043D\u044C","\u041B\u044E\u0442\u0438\u0439","\u0411\u0435\u0440\u0435\u0437\u0435\u043D\u044C","\u041A\u0432\u0456\u0442\u0435\u043D\u044C","\u0422\u0440\u0430\u0432\u0435\u043D\u044C","\u0427\u0435\u0440\u0432\u0435\u043D\u044C","\u041B\u0438\u043F\u0435\u043D\u044C","\u0421\u0435\u0440\u043F\u0435\u043D\u044C","\u0412\u0435\u0440\u0435\u0441\u0435\u043D\u044C","\u0416\u043E\u0432\u0442\u0435\u043D\u044C","\u041B\u0438\u0441\u0442\u043E\u043F\u0430\u0434","\u0413\u0440\u0443\u0434\u0435\u043D\u044C"],month_short:["\u0421\u0456\u0447","\u041B\u044E\u0442","\u0411\u0435\u0440","\u041A\u0432\u0456","\u0422\u0440\u0430","\u0427\u0435\u0440","\u041B\u0438\u043F","\u0421\u0435\u0440","\u0412\u0435\u0440","\u0416\u043E\u0432","\u041B\u0438\u0441","\u0413\u0440\u0443"],day_full:["\u041D\u0435\u0434\u0456\u043B\u044F","\u041F\u043E\u043D\u0435\u0434\u0456\u043B\u043E\u043A","\u0412\u0456\u0432\u0442\u043E\u0440\u043E\u043A","\u0421\u0435\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440","\u041F'\u044F\u0442\u043D\u0438\u0446\u044F","\u0421\u0443\u0431\u043E\u0442\u0430"],day_short:["\u041D\u0435\u0434","\u041F\u043E\u043D","\u0412\u0456\u0432","\u0421\u0435\u0440","\u0427\u0435\u0442","\u041F\u0442\u043D","\u0421\u0443\u0431"]},labels:{dhx_cal_today_button:"\u0421\u044C\u043E\u0433\u043E\u0434\u043D\u0456",day_tab:"\u0414\u0435\u043D\u044C",week_tab:"\u0422\u0438\u0436\u0434\u0435\u043D\u044C",month_tab:"\u041C\u0456\u0441\u044F\u0446\u044C",new_event:"\u041D\u043E\u0432\u0430 \u043F\u043E\u0434\u0456\u044F",icon_save:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438",icon_cancel:"\u0412\u0456\u0434\u043C\u0456\u043D\u0430",icon_details:"\u0414\u0435\u0442\u0430\u043B\u0456",icon_edit:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438",icon_delete:"\u0412\u0438\u043B\u0443\u0447\u0438\u0442\u0438",confirm_closing:"",confirm_deleting:"\u041F\u043E\u0434\u0456\u044F \u0432\u0438\u043B\u0443\u0447\u0438\u0442\u044C\u0441\u044F \u043D\u0430\u0437\u0430\u0432\u0436\u0434\u0438. \u0412\u0438 \u0432\u043F\u0435\u0432\u043D\u0435\u043D\u0456?",section_description:"\u041E\u043F\u0438\u0441",section_time:"\u0427\u0430\u0441\u043E\u0432\u0438\u0439 \u043F\u0440\u043E\u043C\u0456\u0436\u043E\u043A",full_day:"\u0412\u0435\u0441\u044C \u0434\u0435\u043D\u044C",confirm_recurring:"\u0425\u043E\u0447\u0435\u0442\u0435 \u0440\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0432\u0435\u0441\u044C \u043F\u0435\u0440\u0435\u043B\u0456\u043A \u043F\u043E\u0432\u0442\u043E\u0440\u044E\u0432\u0430\u043D\u0438\u0445 \u043F\u043E\u0434\u0456\u0439?",section_recurring:"\u041F\u043E\u0432\u0442\u043E\u0440\u044E\u0432\u0430\u043D\u0430 \u043F\u043E\u0434\u0456\u044F",button_recurring:"\u0412\u0456\u0434\u043A\u043B\u044E\u0447\u0435\u043D\u043E",button_recurring_open:"\u0412\u043A\u043B\u044E\u0447\u0435\u043D\u043E",button_edit_series:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0441\u0435\u0440\u0456\u044E",button_edit_occurrence:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u043F\u0440\u0438\u043C\u0456\u0440\u043D\u0438\u043A",agenda_tab:"\u041F\u0435\u0440\u0435\u043B\u0456\u043A",date:"\u0414\u0430\u0442\u0430",description:"\u041E\u043F\u0438\u0441",year_tab:"\u0420\u0456\u043A",week_agenda_tab:"\u041F\u0435\u0440\u0435\u043B\u0456\u043A",grid_tab:"\u0422\u0430\u0431\u043B\u0438\u0446\u044F",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"\u0414\u0435\u043D\u044C",repeat_radio_week:"\u0422\u0438\u0436\u0434\u0435\u043D\u044C",repeat_radio_month:"\u041C\u0456\u0441\u044F\u0446\u044C",repeat_radio_year:"\u0420\u0456\u043A",repeat_radio_day_type:"\u041A\u043E\u0436\u043D\u0438\u0439",repeat_text_day_count:"\u0434\u0435\u043D\u044C",repeat_radio_day_type2:"\u041A\u043E\u0436\u043D\u0438\u0439 \u0440\u043E\u0431\u043E\u0447\u0438\u0439 \u0434\u0435\u043D\u044C",repeat_week:" \u041F\u043E\u0432\u0442\u043E\u0440\u044E\u0432\u0430\u0442\u0438 \u043A\u043E\u0436\u0435\u043D",repeat_text_week_count:"\u0442\u0438\u0436\u0434\u0435\u043D\u044C , \u043F\u043E:",repeat_radio_month_type:"\u041F\u043E\u0432\u0442\u043E\u0440\u044E\u0432\u0430\u0442\u0438",repeat_radio_month_start:"",repeat_text_month_day:" \u0447\u0438\u0441\u043B\u0430 \u043A\u043E\u0436\u043D\u0438\u0439 ",repeat_text_month_count:"\u043C\u0456\u0441\u044F\u0446\u044C",repeat_text_month_count2_before:"\u043A\u043E\u0436\u0435\u043D ",repeat_text_month_count2_after:"\u043C\u0456\u0441\u044F\u0446\u044C",repeat_year_label:"",select_year_day2:"",repeat_text_year_day:"\u0434\u0435\u043D\u044C",select_year_month:"",repeat_radio_end:"\u0411\u0435\u0437 \u0434\u0430\u0442\u0438 \u0437\u0430\u043A\u0456\u043D\u0447\u0435\u043D\u043D\u044F",repeat_text_occurences_count:"\u043F\u043E\u0432\u0442\u043E\u0440\u0435\u043D\u044C",repeat_radio_end3:"\u0414\u043E ",repeat_radio_end2:"",month_for_recurring:["\u0441\u0456\u0447\u043D\u044F","\u043B\u044E\u0442\u043E\u0433\u043E","\u0431\u0435\u0440\u0435\u0437\u043D\u044F","\u043A\u0432\u0456\u0442\u043D\u044F","\u0442\u0440\u0430\u0432\u043D\u044F","\u0447\u0435\u0440\u0432\u043D\u044F","\u043B\u0438\u043F\u043D\u044F","\u0441\u0435\u0440\u043F\u043D\u044F","\u0432\u0435\u0440\u0435\u0441\u043D\u044F","\u0436\u043E\u0432\u0442\u043D\u044F","\u043B\u0438\u0441\u0442\u043E\u043F\u0430\u0434\u0430","\u0433\u0440\u0443\u0434\u043D\u044F"],day_for_recurring:["\u041D\u0435\u0434\u0456\u043B\u044F\u043C","\u041F\u043E\u043D\u0435\u0434\u0456\u043B\u043A\u0430\u043C","\u0412\u0456\u0432\u0442\u043E\u0440\u043A\u0430\u043C","\u0421\u0435\u0440\u0435\u0434\u0430\u043C","\u0427\u0435\u0442\u0432\u0435\u0440\u0433\u0430\u043C","\u041F'\u044F\u0442\u043D\u0438\u0446\u044F\u043C","\u0421\u0443\u0431\u043E\u0442\u0430\u043C"]}};function Jn(s){return(Jn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}var vo=function(s){var w={version:"6.0.2"};(function(o){var c={agenda:"https://docs.dhtmlx.com/scheduler/agenda_view.html",grid:"https://docs.dhtmlx.com/scheduler/grid_view.html",map:"https://docs.dhtmlx.com/scheduler/map_view.html",unit:"https://docs.dhtmlx.com/scheduler/units_view.html",timeline:"https://docs.dhtmlx.com/scheduler/timeline_view.html",week_agenda:"https://docs.dhtmlx.com/scheduler/weekagenda_view.html",year:"https://docs.dhtmlx.com/scheduler/year_view.html",anythingElse:"https://docs.dhtmlx.com/scheduler/views.html"},u={agenda:"ext/dhtmlxscheduler_agenda_view.js",grid:"ext/dhtmlxscheduler_grid_view.js",map:"ext/dhtmlxscheduler_map_view.js",unit:"ext/dhtmlxscheduler_units.js",timeline:"ext/dhtmlxscheduler_timeline.js, ext/dhtmlxscheduler_treetimeline.js, ext/dhtmlxscheduler_daytimeline.js",week_agenda:"ext/dhtmlxscheduler_week_agenda.js",year:"ext/dhtmlxscheduler_year_view.js",limit:"ext/dhtmlxscheduler_limit.js"};o._commonErrorMessages={unknownView:function(f){var y=u[f]?"You're probably missing "+u[f]+".":"";return"`"+f+"` view is not defined. \nPlease check parameters you pass to `scheduler.init` or `scheduler.setCurrentView` in your code and ensure you've imported appropriate extensions. \nRelated docs: "+(c[f]||c.anythingElse)+`
`+(y?y+`
`:"")},collapsedContainer:function(f){return`Scheduler container height is set to *100%* but the rendered height is zero and the scheduler is not visible. 
Make sure that the container has some initial height or use different units. For example:
<div id='scheduler_here' class='dhx_cal_container' style='width:100%; height:600px;'> 
`}},o.createTimelineView=function(){throw new Error("scheduler.createTimelineView is not implemented. Be sure to add the required extension: "+u.timeline+`
Related docs: `+c.timeline)},o.createUnitsView=function(){throw new Error("scheduler.createUnitsView is not implemented. Be sure to add the required extension: "+u.unit+`
Related docs: `+c.unit)},o.createGridView=function(){throw new Error("scheduler.createGridView is not implemented. Be sure to add the required extension: "+u.grid+`
Related docs: `+c.grid)},o.addMarkedTimespan=function(){throw new Error(`scheduler.addMarkedTimespan is not implemented. Be sure to add the required extension: ext/dhtmlxscheduler_limit.js
Related docs: https://docs.dhtmlx.com/scheduler/limits.html`)},o.renderCalendar=function(){throw new Error(`scheduler.renderCalendar is not implemented. Be sure to add the required extension: ext/dhtmlxscheduler_minical.js
https://docs.dhtmlx.com/scheduler/minicalendar.html`)},o.exportToPNG=function(){throw new Error(["scheduler.exportToPNG is not implemented.","This feature requires an additional module, be sure to check the related doc here https://docs.dhtmlx.com/scheduler/png.html","Licensing info: https://dhtmlx.com/docs/products/dhtmlxScheduler/export.shtml"].join(`
`))},o.exportToPDF=function(){throw new Error(["scheduler.exportToPDF is not implemented.","This feature requires an additional module, be sure to check the related doc here https://docs.dhtmlx.com/scheduler/pdf.html","Licensing info: https://dhtmlx.com/docs/products/dhtmlxScheduler/export.shtml"].join(`
`))}})(w),function(o){var c=F();o.event=c.attach,o.eventRemove=c.detach,o._eventRemoveAll=c.detachAll,o._createDomEventScope=c.extend,o._trim=function(u){return(String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")}).apply(u)},o._isDate=function(u){return!(!u||D(u)!="object"||!(u.getFullYear&&u.getMonth&&u.getDate))},o._isObject=function(u){return u&&D(u)=="object"}}(w),function(o){C(o),l(o),o._detachDomEvent=function(v,E,b){v.removeEventListener?v.removeEventListener(E,b,!1):v.detachEvent&&v.detachEvent("on"+E,b)},o._init_once=function(){h(o),o._init_once=function(){}};var c={render:function(v){return o._init_nav_bar(v)}},u={render:function(v){var E=document.createElement("div");return E.className="dhx_cal_header",E}},f={render:function(v){var E=document.createElement("div");return E.className="dhx_cal_data",E}};function y(v){return!!(v.querySelector(".dhx_cal_header")&&v.querySelector(".dhx_cal_data")&&v.querySelector(".dhx_cal_navline"))}o.init=function(v,E,b){if(!this.$destroyed){if(E=E||o._currentDate(),b=b||"week",this._obj&&this.unset_actions(),this._obj=typeof v=="string"?document.getElementById(v):v,this.$container=this._obj,this.$root=this._obj,!this.$container.offsetHeight&&this.$container.offsetWidth&&this.$container.style.height==="100%"&&window.console.error(o._commonErrorMessages.collapsedContainer(),this.$container),this.config.wai_aria_attributes&&this.config.wai_aria_application_role&&this.$container.setAttribute("role","application"),this.config.header||y(this.$container)||(this.config.header=function(S){var N=["day","week","month"];if(S.matrix)for(var O in S.matrix)N.push(O);if(S._props)for(var O in S._props)N.push(O);if(S._grid&&S._grid.names)for(var O in S._grid.names)N.push(O);return["map","agenda","week_agenda","year"].forEach(function(j){S[j+"_view"]&&N.push(j)}),N.concat(["date"]).concat(["prev","today","next"])}(this),window.console.log(["Required DOM elements are missing from the scheduler container and **scheduler.config.header** is not specified.","Using a default header configuration: ","scheduler.config.header = "+JSON.stringify(this.config.header,null,2),"Check this article for the details: https://docs.dhtmlx.com/scheduler/initialization.html"].join(`
`))),this.config.header)this.$container.innerHTML="",this.$container.classList.add("dhx_cal_container"),this.config.header.height&&(this.xy.nav_height=this.config.header.height),this.$container.appendChild(c.render(this.config.header)),this.$container.appendChild(u.render()),this.$container.appendChild(f.render());else if(!y(this.$container))throw new Error(["Required DOM elements are missing from the scheduler container.","Be sure to either specify them manually in the markup: https://docs.dhtmlx.com/scheduler/initialization.html#initializingschedulerviamarkup","Or to use **scheduler.config.header** setting so they could be created automatically: https://docs.dhtmlx.com/scheduler/initialization.html#initializingschedulerviaheaderconfig"].join(`
`));this.config.rtl&&(this.$container.className+=" dhx_cal_container_rtl"),this._skin_init&&o._skin_init(),o.date.init(),this._scroll=!0,this._quirks=this.$env.isIE&&document.compatMode=="BackCompat",this._quirks7=this.$env.isIE&&navigator.appVersion.indexOf("MSIE 8")==-1,this._els=[],this.get_elements(),this.init_templates(),this.set_actions(),this._init_once(),this._init_touch_events(),this.set_sizes(),o.callEvent("onSchedulerReady",[]),this.setCurrentView(E,b)}},o.xy={min_event_height:40,scale_width:50,scroll_width:18,scale_height:20,month_scale_height:20,menu_width:25,margin_top:0,margin_left:0,editor_width:140,month_head_height:22,event_header_height:14},o.keys={edit_save:13,edit_cancel:27},o.bind=function(v,E){return v.bind?v.bind(E):function(){return v.apply(E,arguments)}},o.set_sizes=function(){var v=this._x=this._obj.clientWidth-this.xy.margin_left,E=this._y=this._obj.clientHeight-this.xy.margin_top,b=this._table_view?0:this.xy.scale_width+this.xy.scroll_width,S=this._table_view?-1:this.xy.scale_width,N=this.$container.querySelector(".dhx_cal_scale_placeholder");o._is_material_skin()?(N||((N=document.createElement("div")).className="dhx_cal_scale_placeholder",this.$container.insertBefore(N,this._els.dhx_cal_header[0])),N.style.display="block",this.set_xy(N,v,this.xy.scale_height+1,0,this.xy.nav_height+(this._quirks?-1:1))):N&&N.parentNode.removeChild(N),this._lightbox&&(o.$container.offsetWidth<1200||this._setLbPosition(document.querySelector(".dhx_cal_light"))),this.set_xy(this._els.dhx_cal_navline[0],v,this.xy.nav_height,0,0),this.set_xy(this._els.dhx_cal_header[0],v-b,this.xy.scale_height,S,this.xy.nav_height+(this._quirks?-1:1));var O=this._els.dhx_cal_navline[0].offsetHeight;O>0&&(this.xy.nav_height=O);var j=this.xy.scale_height+this.xy.nav_height+(this._quirks?-2:0);this.set_xy(this._els.dhx_cal_data[0],v,E-(j+2),0,j+2)},o.set_xy=function(v,E,b,S,N){var O="left";v.style.width=Math.max(0,E)+"px",v.style.height=Math.max(0,b)+"px",arguments.length>3&&(this.config.rtl&&(O="right"),v.style[O]=S+"px",v.style.top=N+"px")},o.get_elements=function(){for(var v=this._obj.getElementsByTagName("DIV"),E=0;E<v.length;E++){var b=o._getClassName(v[E]),S=v[E].getAttribute("data-tab")||v[E].getAttribute("name")||"";b&&(b=b.split(" ")[0]),this._els[b]||(this._els[b]=[]),this._els[b].push(v[E]);var N=o.locale.labels[S+"_tab"]||o.locale.labels[S||b];typeof N!="string"&&S&&!v[E].innerHTML&&(N=S.split("_")[0]),N&&(this._waiAria.labelAttr(v[E],N),v[E].innerHTML=N)}};var x=o._createDomEventScope();o.unset_actions=function(){x.detachAll()},o.set_actions=function(){for(var v in this._els)if(this._click[v])for(var E=0;E<this._els[v].length;E++){var b=this._els[v][E],S=this._click[v].bind(b);x.attach(b,"click",S)}x.attach(this._obj,"selectstart",function(N){return N.preventDefault(),!1}),x.attach(this._obj,"mousemove",function(N){o._temp_touch_block||o._on_mouse_move(N)}),x.attach(this._obj,"mousedown",function(N){o._ignore_next_click||o._on_mouse_down(N)}),x.attach(this._obj,"mouseup",function(N){o._ignore_next_click||o._on_mouse_up(N)}),x.attach(this._obj,"dblclick",function(N){o._on_dbl_click(N)}),x.attach(this._obj,"contextmenu",function(N){var O=N,j=O.target||O.srcElement;return o.callEvent("onContextMenu",[o._locate_event(j),O])})},o.select=function(v){this._select_id!=v&&(o._close_not_saved(),this.editStop(!1),this._select_id&&this.unselect(),this._select_id=v,this.updateEvent(v),this.callEvent("onEventSelected",[v]))},o.unselect=function(v){if(!v||v==this._select_id){var E=this._select_id;this._select_id=null,E&&this.getEvent(E)&&this.updateEvent(E),this.callEvent("onEventUnselected",[E])}},o.getState=function(){return{mode:this._mode,date:new Date(this._date),min_date:new Date(this._min_date),max_date:new Date(this._max_date),editor_id:this._edit_id,lightbox_id:this._lightbox_id,new_event:this._new_event,select_id:this._select_id,expanded:this.expanded,drag_id:this._drag_id,drag_mode:this._drag_mode}},o._click={dhx_cal_data:function(v){if(o._ignore_next_click)return v.preventDefault&&v.preventDefault(),v.cancelBubble=!0,o._ignore_next_click=!1,!1;var E=v.target,b=o._locate_event(E);if(b){if(!o.callEvent("onClick",[b,v])||o.config.readonly)return}else o.callEvent("onEmptyClick",[o.getActionData(v).date,v]);if(b&&o.config.select){o.select(b);var S=o._getClassName(E);S.indexOf("_icon")!=-1&&o._click.buttons[S.split(" ")[1].replace("icon_","")](b)}else o._close_not_saved(),o.getState().select_id&&new Date().valueOf()-(o._new_event||0)>500&&o.unselect()},dhx_cal_prev_button:function(){o._click.dhx_cal_next_button(0,-1)},dhx_cal_next_button:function(v,E){var b=1;o.config.rtl&&(E=-E,b=-b),o.setCurrentView(o.date.add(o.date[o._mode+"_start"](new Date(o._date)),E||b,o._mode))},dhx_cal_today_button:function(){o.callEvent("onBeforeTodayDisplayed",[])&&o.setCurrentView(o._currentDate())},dhx_cal_tab:function(){var v=this.getAttribute("data-tab"),E=this.getAttribute("name"),b=v||E.substring(0,E.search("_tab"));o.setCurrentView(o._date,b)},buttons:{delete:function(v){var E=o.locale.labels.confirm_deleting;o._dhtmlx_confirm(E,o.locale.labels.title_confirm_deleting,function(){o.deleteEvent(v)})},edit:function(v){o.edit(v)},save:function(v){o.editStop(!0)},details:function(v){o.showLightbox(v)},cancel:function(v){o.editStop(!1)}}},o._dhtmlx_confirm=function(v,E,b){if(!v)return b();var S={text:v};E&&(S.title=E),b&&(S.callback=function(N){N&&b()}),o.confirm(S)},o.addEventNow=function(v,E,b){var S={};o._isObject(v)&&!o._isDate(v)&&(S=v,v=null);var N=6e4*(this.config.event_duration||this.config.time_step);v||(v=S.start_date||Math.round(o._currentDate().valueOf()/N)*N);var O=new Date(v);if(!E){var j=this.config.first_hour;j>O.getHours()&&(O.setHours(j),v=O.valueOf()),E=v.valueOf()+N}var R=new Date(E);O.valueOf()==R.valueOf()&&R.setTime(R.valueOf()+N),S.start_date=S.start_date||O,S.end_date=S.end_date||R,S.text=S.text||this.locale.labels.new_event,S.id=this._drag_id=S.id||this.uid(),this._drag_mode="new-size",this._loading=!0;var H=this.addEvent(S);return this.callEvent("onEventCreated",[this._drag_id,b]),this._loading=!1,this._drag_event={},this._on_mouse_up(b),H},o._on_dbl_click=function(v,E){if(E=E||v.target||v.srcElement,!this.config.readonly){var b=o._getClassName(E).split(" ")[0];switch(b){case"dhx_scale_holder":case"dhx_scale_holder_now":case"dhx_month_body":case"dhx_wa_day_data":if(!o.config.dblclick_create)break;this.addEventNow(this.getActionData(v).date,null,v);break;case"dhx_cal_event":case"dhx_wa_ev_body":case"dhx_agenda_line":case"dhx_grid_event":case"dhx_cal_event_line":case"dhx_cal_event_clear":var S=this._locate_event(E);if(!this.callEvent("onDblClick",[S,v]))return;this.config.details_on_dblclick||this._table_view||!this.getEvent(S)._timed||!this.config.select?this.showLightbox(S):this.edit(S);break;case"dhx_time_block":case"dhx_cal_container":return;default:var N=this["dblclick_"+b];if(N)N.call(this,v);else if(E.parentNode&&E!=this)return o._on_dbl_click(v,E.parentNode)}}},o._get_column_index=function(v){var E=0;if(this._cols){for(var b=0,S=0;b+this._cols[S]<v&&S<this._cols.length;)b+=this._cols[S],S++;if(E=S+(this._cols[S]?(v-b)/this._cols[S]:0),this._ignores&&E>=this._cols.length)for(;E>=1&&this._ignores[Math.floor(E)];)E--}return E},o._week_indexes_from_pos=function(v){if(this._cols){var E=this._get_column_index(v.x);return v.x=Math.min(this._cols.length-1,Math.max(0,Math.ceil(E)-1)),v.y=Math.max(0,Math.ceil(60*v.y/(this.config.time_step*this.config.hour_size_px))-1)+this.config.first_hour*(60/this.config.time_step),v}return v},o._mouse_coords=function(v){var E,b=document.body,S=document.documentElement;E=this.$env.isIE||!v.pageX&&!v.pageY?{x:v.clientX+(b.scrollLeft||S.scrollLeft||0)-b.clientLeft,y:v.clientY+(b.scrollTop||S.scrollTop||0)-b.clientTop}:{x:v.pageX,y:v.pageY},this.config.rtl&&this._colsS?(E.x=this.$container.querySelector(".dhx_cal_data").offsetWidth-E.x,this._mode!=="month"&&(E.x-=this.xy.scale_width)):E.x-=this.$domHelpers.getAbsoluteLeft(this._obj)+(this._table_view?0:this.xy.scale_width);var N=this.$container.querySelector(".dhx_cal_data");E.y-=this.$domHelpers.getAbsoluteTop(N)-this._els.dhx_cal_data[0].scrollTop,E.ev=v;var O=this["mouse_"+this._mode];if(O)E=O.call(this,E);else if(this._table_view){var j=this._get_column_index(E.x);if(!this._cols||!this._colsS)return E;var R=0;for(R=1;R<this._colsS.heights.length&&!(this._colsS.heights[R]>E.y);R++);E.y=Math.ceil(24*(Math.max(0,j)+7*Math.max(0,R-1))*60/this.config.time_step),(o._drag_mode||this._mode=="month")&&(E.y=24*(Math.max(0,Math.ceil(j)-1)+7*Math.max(0,R-1))*60/this.config.time_step),this._drag_mode=="move"&&o._ignores_detected&&o.config.preserve_length&&(E._ignores=!0,this._drag_event._event_length||(this._drag_event._event_length=this._get_real_event_length(this._drag_event.start_date,this._drag_event.end_date,{x_step:1,x_unit:"day"}))),E.x=0}else E=this._week_indexes_from_pos(E);return E.timestamp=+new Date,E},o._close_not_saved=function(){if(new Date().valueOf()-(o._new_event||0)>500&&o._edit_id){var v=o.locale.labels.confirm_closing;o._dhtmlx_confirm(v,o.locale.labels.title_confirm_closing,function(){o.editStop(o.config.positive_closing)}),v&&(this._drag_id=this._drag_pos=this._drag_mode=null)}},o._correct_shift=function(v,E){return v-6e4*(new Date(o._min_date).getTimezoneOffset()-new Date(v).getTimezoneOffset())*(E?-1:1)},o._is_pos_changed=function(v,E){function b(S,N,O){return Math.abs(S-N)>O}return!v||!this._drag_pos||!!(this._drag_pos.has_moved||!this._drag_pos.timestamp||E.timestamp-this._drag_pos.timestamp>100||b(v.ev.clientX,E.ev.clientX,5)||b(v.ev.clientY,E.ev.clientY,5))},o._correct_drag_start_date=function(v){var E;o.matrix&&(E=o.matrix[o._mode]),E=E||{x_step:1,x_unit:"day"},v=new Date(v);var b=1;return(E._start_correction||E._end_correction)&&(b=60*(E.last_hour||0)-(60*v.getHours()+v.getMinutes())||1),1*v+(o._get_fictional_event_length(v,b,E)-b)},o._correct_drag_end_date=function(v,E){var b;o.matrix&&(b=o.matrix[o._mode]),b=b||{x_step:1,x_unit:"day"};var S=1*v+o._get_fictional_event_length(v,E,b);return new Date(1*S-(o._get_fictional_event_length(S,-1,b,-1)+1))},o._on_mouse_move=function(v){if(this._drag_mode){var E=this._mouse_coords(v);if(this._is_pos_changed(this._drag_pos,E)){var b,S;if(this._edit_id!=this._drag_id&&this._close_not_saved(),!this._drag_mode)return;var N=null;if(this._drag_pos&&!this._drag_pos.has_moved&&((N=this._drag_pos).has_moved=!0),this._drag_pos=E,this._drag_pos.has_moved=!0,this._drag_mode=="create"){if(N&&(E=N),this._close_not_saved(),this.unselect(this._select_id),this._loading=!0,b=this._get_date_from_pos(E).valueOf(),!this._drag_start)return this.callEvent("onBeforeEventCreated",[v,this._drag_id])?(this._loading=!1,void(this._drag_start=b)):void(this._loading=!1);S=b,this._drag_start;var O=new Date(this._drag_start),j=new Date(S);this._mode!="day"&&this._mode!="week"||O.getHours()!=j.getHours()||O.getMinutes()!=j.getMinutes()||(j=new Date(this._drag_start+1e3)),this._drag_id=this.uid(),this.addEvent(O,j,this.locale.labels.new_event,this._drag_id,E.fields),this.callEvent("onEventCreated",[this._drag_id,v]),this._loading=!1,this._drag_mode="new-size"}var R,H=this.config.time_step,Z=this.getEvent(this._drag_id);if(o.matrix&&(R=o.matrix[o._mode]),R=R||{x_step:1,x_unit:"day"},this._drag_mode=="move")b=this._min_date.valueOf()+6e4*(E.y*this.config.time_step+24*E.x*60),!E.custom&&this._table_view&&(b+=1e3*this.date.time_part(Z.start_date)),!this._table_view&&this._dragEventBody&&this._drag_event._move_event_shift===void 0&&(this._drag_event._move_event_shift=b-Z.start_date),this._drag_event._move_event_shift&&(b-=this._drag_event._move_event_shift),b=this._correct_shift(b),E._ignores&&this.config.preserve_length&&this._table_view?(b=o._correct_drag_start_date(b),S=o._correct_drag_end_date(b,this._drag_event._event_length)):S=Z.end_date.valueOf()-(Z.start_date.valueOf()-b);else{if(b=Z.start_date.valueOf(),S=Z.end_date.valueOf(),this._table_view){var re=this._min_date.valueOf()+E.y*this.config.time_step*6e4+(E.custom?0:864e5);if(this._mode=="month")if(re=this._correct_shift(re,!1),this._drag_from_start){var K=864e5;re<=o.date.date_part(new Date(S+K-1)).valueOf()&&(b=re-K)}else S=re;else this.config.preserve_length?E.resize_from_start?b=o._correct_drag_start_date(re):S=o._correct_drag_end_date(re,0):E.resize_from_start?b=re:S=re}else{var ae=this.date.date_part(new Date(Z.end_date.valueOf()-1)).valueOf(),W=new Date(ae),ne=this.config.first_hour,Q=60/H*(this.config.last_hour-ne);this.config.time_step=1;var we=this._mouse_coords(v);this.config.time_step=H;var Ce=E.y*H*6e4,xe=Math.min(E.y+1,Q)*H*6e4,Ie=6e4*we.y;S=Math.abs(Ce-Ie)>Math.abs(xe-Ie)?ae+xe:ae+Ce,S+=6e4*(new Date(S).getTimezoneOffset()-W.getTimezoneOffset()),this._els.dhx_cal_data[0].style.cursor="s-resize",this._mode!="week"&&this._mode!="day"||(S=this._correct_shift(S))}if(this._drag_mode=="new-size")if(S<=this._drag_start){var De=E.shift||(this._table_view&&!E.custom?864e5:0);b=S-(E.shift?0:De),S=this._drag_start+(De||6e4*H)}else b=this._drag_start;else S<=b&&(S=b+6e4*H)}var Fe=new Date(S-1),We=new Date(b);if(this._drag_mode=="move"&&o.config.limit_drag_out&&(+We<+o._min_date||+S>+o._max_date)){if(+Z.start_date<+o._min_date||+Z.end_date>+o._max_date)We=new Date(Z.start_date),S=new Date(Z.end_date);else{var Xe=S-We;+We<+o._min_date?(We=new Date(o._min_date),E._ignores&&this.config.preserve_length&&this._table_view?(We=new Date(o._correct_drag_start_date(We)),R._start_correction&&(We=new Date(We.valueOf()+R._start_correction)),S=new Date(1*We+this._get_fictional_event_length(We,this._drag_event._event_length,R))):S=new Date(+We+Xe)):(S=new Date(o._max_date),E._ignores&&this.config.preserve_length&&this._table_view?(R._end_correction&&(S=new Date(S.valueOf()-R._end_correction)),S=new Date(1*S-this._get_fictional_event_length(S,0,R,!0)),We=new Date(1*S-this._get_fictional_event_length(S,this._drag_event._event_length,R,!0)),this._ignores_detected&&(We=o.date.add(We,R.x_step,R.x_unit),S=new Date(1*S-this._get_fictional_event_length(S,0,R,!0)),S=o.date.add(S,R.x_step,R.x_unit))):We=new Date(+S-Xe))}Fe=new Date(S-1)}if(!this._table_view&&this._dragEventBody&&!o.config.all_timed&&(!o._get_section_view()&&E.x!=this._get_event_sday({start_date:new Date(b),end_date:new Date(b)})||new Date(b).getHours()<this.config.first_hour)&&(Xe=S-We,this._drag_mode=="move"&&(K=this._min_date.valueOf()+24*E.x*60*6e4,(We=new Date(K)).setHours(this.config.first_hour),S=new Date(We.valueOf()+Xe),Fe=new Date(S-1))),this._table_view||o.config.all_timed||!(!o.getView()&&E.x!=this._get_event_sday({start_date:new Date(S),end_date:new Date(S)})||new Date(S).getHours()>=this.config.last_hour)||(Xe=S-We,K=this._min_date.valueOf()+24*E.x*60*6e4,(S=o.date.date_part(new Date(K))).setHours(this.config.last_hour),Fe=new Date(S-1),this._drag_mode=="move"&&(We=new Date(+S-Xe))),this._table_view||Fe.getDate()==We.getDate()&&Fe.getHours()<this.config.last_hour||o._allow_dnd)if(Z.start_date=We,Z.end_date=new Date(S),this.config.update_render){var Ct=o._els.dhx_cal_data[0].scrollTop;this.update_view(),o._els.dhx_cal_data[0].scrollTop=Ct}else this.updateEvent(this._drag_id);this._table_view&&this.for_rendered(this._drag_id,function(Rr){Rr.className+=" dhx_in_move dhx_cal_event_drag"}),this.callEvent("onEventDrag",[this._drag_id,this._drag_mode,v])}}else if(o.checkEvent("onMouseMove")){var lr=this._locate_event(v.target||v.srcElement);this.callEvent("onMouseMove",[lr,v])}},o._on_mouse_down=function(v,E){if(v.button!=2&&!this.config.readonly&&!this._drag_mode){E=E||v.target||v.srcElement;var b=o._getClassName(E).split(" ")[0];switch(this.config.drag_event_body&&b=="dhx_body"&&E.parentNode&&E.parentNode.className.indexOf("dhx_cal_select_menu")===-1&&(b="dhx_event_move",this._dragEventBody=!0),b){case"dhx_cal_event_line":case"dhx_cal_event_clear":this._table_view&&(this._drag_mode="move");break;case"dhx_event_move":case"dhx_wa_ev_body":this._drag_mode="move";break;case"dhx_event_resize":this._drag_mode="resize",o._getClassName(E).indexOf("dhx_event_resize_end")<0?o._drag_from_start=!0:o._drag_from_start=!1;break;case"dhx_scale_holder":case"dhx_scale_holder_now":case"dhx_month_body":case"dhx_matrix_cell":case"dhx_marked_timespan":this._drag_mode="create";break;case"":if(E.parentNode)return o._on_mouse_down(v,E.parentNode);break;default:if((!o.checkEvent("onMouseDown")||o.callEvent("onMouseDown",[b,v]))&&E.parentNode&&E!=this&&b!="dhx_body")return o._on_mouse_down(v,E.parentNode);this._drag_mode=null,this._drag_id=null}if(this._drag_mode){var S=this._locate_event(E);if(this.config["drag_"+this._drag_mode]&&this.callEvent("onBeforeDrag",[S,this._drag_mode,v])){if(this._drag_id=S,(this._edit_id!=this._drag_id||this._edit_id&&this._drag_mode=="create")&&this._close_not_saved(),!this._drag_mode)return;this._drag_event=o._lame_clone(this.getEvent(this._drag_id)||{}),this._drag_pos=this._mouse_coords(v)}else this._drag_mode=this._drag_id=0}this._drag_start=null}},o._get_private_properties=function(v){var E={};for(var b in v)b.indexOf("_")===0&&(E[b]=!0);return E},o._clear_temporary_properties=function(v,E){var b=this._get_private_properties(v),S=this._get_private_properties(E);for(var N in S)b[N]||delete E[N]},o._on_mouse_up=function(v){if(!v||v.button!=2||!this._mobile){if(this._drag_mode&&this._drag_id){this._els.dhx_cal_data[0].style.cursor="default";var E=this._drag_id,b=this._drag_mode,S=!this._drag_pos||this._drag_pos.has_moved;delete this._drag_event._move_event_shift;var N=this.getEvent(this._drag_id);if(S&&(this._drag_event._dhx_changed||!this._drag_event.start_date||N.start_date.valueOf()!=this._drag_event.start_date.valueOf()||N.end_date.valueOf()!=this._drag_event.end_date.valueOf())){var O=this._drag_mode=="new-size";if(this.callEvent("onBeforeEventChanged",[N,v,O,this._drag_event]))if(this._drag_id=this._drag_mode=null,O&&this.config.edit_on_create){if(this.unselect(),this._new_event=new Date,this._table_view||this.config.details_on_create||!this.config.select||!this.isOneDayEvent(this.getEvent(E)))return o.callEvent("onDragEnd",[E,b,v]),this.showLightbox(E);this._drag_pos=!0,this._select_id=this._edit_id=E}else this._new_event||this.callEvent(O?"onEventAdded":"onEventChanged",[E,this.getEvent(E)]);else O?this.deleteEvent(N.id,!0):(this._drag_event._dhx_changed=!1,this._clear_temporary_properties(N,this._drag_event),o._lame_copy(N,this._drag_event),this.updateEvent(N.id))}this._drag_pos&&(this._drag_pos.has_moved||this._drag_pos===!0)&&(this._drag_id=this._drag_mode=null,this.render_view_data()),o.callEvent("onDragEnd",[E,b,v])}this._drag_id=null,this._drag_mode=null,this._drag_pos=null}},o._trigger_dyn_loading=function(){return!(!this._load_mode||!this._load()||(this._render_wait=!0,0))},o.update_view=function(){this._reset_ignores(),this._update_nav_bar(this.config.header,this.$container.querySelector(".dhx_cal_navline"));var v=this[this._mode+"_view"];if(v?v.call(this,!0):this._reset_scale(),this._trigger_dyn_loading())return!0;this.render_view_data()},o.isViewExists=function(v){return!!(o[v+"_view"]||o.date[v+"_start"]&&o.templates[v+"_date"]&&o.templates[v+"_scale_date"])},o._set_aria_buttons_attrs=function(){for(var v=["dhx_cal_next_button","dhx_cal_prev_button","dhx_cal_tab","dhx_cal_today_button"],E=0;E<v.length;E++)for(var b=this._els[v[E]],S=0;b&&S<b.length;S++){var N=b[S].getAttribute("data-tab")||b[S].getAttribute("name"),O=this.locale.labels[v[E]];N&&(O=this.locale.labels[N+"_tab"]||this.locale.labels[N]||O),v[E]=="dhx_cal_next_button"?O=this.locale.labels.next:v[E]=="dhx_cal_prev_button"&&(O=this.locale.labels.prev),this._waiAria.headerButtonsAttributes(b[S],O||"")}},o.updateView=function(v,E){if(!this.$container)throw new Error(`The scheduler is not initialized. 
 **scheduler.updateView** or **scheduler.setCurrentView** can be called only after **scheduler.init**`);v=v||this._date,E=E||this._mode;var b=this._obj,S="dhx_scheduler_"+this._mode,N="dhx_scheduler_"+E;this._mode&&b.className.indexOf(S)!=-1?b.className=b.className.replace(S,N):b.className+=" "+N;var O,j=!(this._mode!=E||!this.config.preserve_scroll)&&this._els.dhx_cal_data[0].scrollTop;this._els.dhx_multi_day&&this._els.dhx_multi_day[0]&&(O=this._els.dhx_multi_day[0].scrollTop),this[this._mode+"_view"]&&E&&this._mode!=E&&this[this._mode+"_view"](!1),this._close_not_saved(),this._els.dhx_multi_day&&(this._els.dhx_multi_day[0].parentNode.removeChild(this._els.dhx_multi_day[0]),this._els.dhx_multi_day=null),this._mode=E,this._date=v,this._table_view=this._mode=="month",this._dy_shift=0,this.update_view(),this._set_aria_buttons_attrs();var R=this._els.dhx_cal_tab;if(R)for(var H=0;H<R.length;H++){var Z=R[H];Z.getAttribute("data-tab")==this._mode||Z.getAttribute("name")==this._mode+"_tab"?(Z.classList.add("active"),this._waiAria.headerToggleState(Z,!0)):(Z.classList.remove("active"),this._waiAria.headerToggleState(Z,!1))}typeof j=="number"&&(this._els.dhx_cal_data[0].scrollTop=j),typeof O=="number"&&this._els.dhx_multi_day&&this._els.dhx_multi_day[0]&&(this._els.dhx_multi_day[0].scrollTop=O)},o.setCurrentView=function(v,E){this.callEvent("onBeforeViewChange",[this._mode,this._date,E||this._mode,v||this._date])&&(this.updateView(v,E),this.callEvent("onViewChange",[this._mode,this._date]))},o.render=function(v,E){o.setCurrentView(v,E)},o._render_x_header=function(v,E,b,S,N){N=N||0;var O=document.createElement("div");O.className="dhx_scale_bar",this.templates[this._mode+"_scalex_class"]&&(O.className+=" "+this.templates[this._mode+"_scalex_class"](b));var j=this._cols[v]-1;this._mode=="month"&&v===0&&this.config.left_border&&(O.className+=" dhx_scale_bar_border",E+=1),this.set_xy(O,j,this.xy.scale_height-2,E,N);var R=this.templates[this._mode+"_scale_date"](b,this._mode);O.innerHTML=R,this._waiAria.dayHeaderAttr(O,R),S.appendChild(O)},o._get_columns_num=function(v,E){var b=7;if(!o._table_view){var S=o.date["get_"+o._mode+"_end"];S&&(E=S(v)),b=Math.round((E.valueOf()-v.valueOf())/864e5)}return b},o._get_timeunit_start=function(){return this.date[this._mode+"_start"](new Date(this._date.valueOf()))},o._get_view_end=function(){var v=this._get_timeunit_start(),E=o.date.add(v,1,this._mode);if(!o._table_view){var b=o.date["get_"+o._mode+"_end"];b&&(E=b(v))}return E},o._calc_scale_sizes=function(v,E,b){var S=this.config.rtl,N=v,O=this._get_columns_num(E,b);this._process_ignores(E,O,"day",1);for(var j=O-this._ignores_detected,R=0;R<O;R++)this._ignores[R]?(this._cols[R]=0,j++):this._cols[R]=Math.floor(N/(j-R)),N-=this._cols[R],this._colsS[R]=(this._cols[R-1]||0)+(this._colsS[R-1]||(this._table_view?0:(S?this.xy.scroll_width:this.xy.scale_width)+2));this._colsS.col_length=O,this._colsS[O]=this._cols[O-1]+this._colsS[O-1]||0},o._set_scale_col_size=function(v,E,b){var S=this.config;this.set_xy(v,E-1,S.hour_size_px*(S.last_hour-S.first_hour),b+this.xy.scale_width+1,0)},o._render_scales=function(v,E){var b=new Date(o._min_date),S=new Date(o._max_date),N=this.date.date_part(o._currentDate()),O=parseInt(v.style.width,10),j=new Date(this._min_date),R=this._get_columns_num(b,S);this._calc_scale_sizes(O,b,S);var H=0;v.innerHTML="";for(var Z=0;Z<R;Z++){if(this._ignores[Z]||this._render_x_header(Z,H,j,v),!this._table_view){var re=document.createElement("div"),K="dhx_scale_holder";j.valueOf()==N.valueOf()&&(K="dhx_scale_holder_now"),re.setAttribute("data-column-index",Z),this._ignores_detected&&this._ignores[Z]&&(K+=" dhx_scale_ignore"),re.className=K+" "+this.templates.week_date_class(j,N),this._waiAria.dayColumnAttr(re,j),this._set_scale_col_size(re,this._cols[Z],H),E.appendChild(re),this.callEvent("onScaleAdd",[re,j])}H+=this._cols[Z],j=this.date.add(j,1,"day"),j=this.date.day_start(j)}},o._getNavDateElement=function(){return this.$container.querySelector(".dhx_cal_date")},o._reset_scale=function(){if(this.templates[this._mode+"_date"]){var v=this._els.dhx_cal_header[0],E=this._els.dhx_cal_data[0],b=this.config;v.innerHTML="",E.innerHTML="";var S,N,O=(b.readonly||!b.drag_resize?" dhx_resize_denied":"")+(b.readonly||!b.drag_move?" dhx_move_denied":"");E.className="dhx_cal_data"+O,this._scales={},this._cols=[],this._colsS={height:0},this._dy_shift=0,this.set_sizes();var j=this._get_timeunit_start(),R=o._get_view_end();S=N=this._table_view?o.date.week_start(j):j,this._min_date=S;var H=this.templates[this._mode+"_date"](j,R,this._mode),Z=this._getNavDateElement();if(Z&&(Z.innerHTML=H,this._waiAria.navBarDateAttr(Z,H)),this._max_date=R,o._render_scales(v,E),this._table_view)this._reset_month_scale(E,j,N);else if(this._reset_hours_scale(E,j,N),b.multi_day){this._els.dhx_multi_day&&(this._els.dhx_multi_day[0].parentNode.removeChild(this._els.dhx_multi_day[0]),this._els.dhx_multi_day=null);var re=this._els.dhx_cal_navline[0].offsetHeight+this._els.dhx_cal_header[0].offsetHeight+1,K=document.createElement("div");K.className="dhx_multi_day",K.style.visibility="hidden";var ae=this._colsS[this._colsS.col_length],W=b.rtl?this.xy.scale_width:this.xy.scroll_width,ne=Math.max(ae+W-2,0);this.set_xy(K,ne,0,0,re),E.parentNode.insertBefore(K,E);var Q=K.cloneNode(!0);Q.className="dhx_multi_day_icon",Q.style.visibility="hidden",this.set_xy(Q,this.xy.scale_width,0,0,re),K.appendChild(Q),this._els.dhx_multi_day=[K,Q],o.event(this._els.dhx_multi_day[0],"click",this._click.dhx_cal_data)}}},o._reset_hours_scale=function(v,E,b){var S=document.createElement("div");S.className="dhx_scale_holder";for(var N=new Date(1980,1,1,this.config.first_hour,0,0),O=1*this.config.first_hour;O<this.config.last_hour;O++){var j=document.createElement("div");j.className="dhx_scale_hour",j.style.height=this.config.hour_size_px+"px";var R=this.xy.scale_width;this.config.left_border&&(j.className+=" dhx_scale_hour_border"),j.style.width=R+"px";var H=o.templates.hour_scale(N);j.innerHTML=H,this._waiAria.hourScaleAttr(j,H),S.appendChild(j),N=this.date.add(N,1,"hour")}v.appendChild(S),this.config.scroll_hour&&(v.scrollTop=this.config.hour_size_px*(this.config.scroll_hour-this.config.first_hour))},o._currentDate=function(){return o.config.now_date?new Date(o.config.now_date):new Date},o._reset_ignores=function(){this._ignores={},this._ignores_detected=0},o._process_ignores=function(v,E,b,S,N){this._reset_ignores();var O=o["ignore_"+this._mode];if(O)for(var j=new Date(v),R=0;R<E;R++)O(j)&&(this._ignores_detected+=1,this._ignores[R]=!0,N&&E++),j=o.date.add(j,S,b),o.date[b+"_start"]&&(j=o.date[b+"_start"](j))},o._render_month_scale=function(v,E,b,S){var N=o.date.add(E,1,"month"),O=new Date(b),j=o._currentDate();this.date.date_part(j),this.date.date_part(b),S=S||Math.ceil(Math.round((N.valueOf()-b.valueOf())/864e5)/7);for(var R=[],H=0;H<=7;H++){var Z=(this._cols[H]||0)-1;H===0&&this.config.left_border&&(Z-=1),R[H]=Z+"px"}function re(Si){var ma=o._colsS.height;return o._colsS.heights[Si+1]!==void 0&&(ma=o._colsS.heights[Si+1]-(o._colsS.heights[Si]||0)),ma}var K=0,ae=document.createElement("table");ae.setAttribute("cellpadding","0"),ae.setAttribute("cellspacing","0");var W=document.createElement("tbody");ae.appendChild(W);var ne=[];for(H=0;H<S;H++){var Q=document.createElement("tr");W.appendChild(Q);for(var we=Math.max(re(H)-o.xy.month_head_height,0),Ce=0;Ce<7;Ce++){var xe=document.createElement("td");Q.appendChild(xe);var Ie="";b<E?Ie="dhx_before":b>=N?Ie="dhx_after":b.valueOf()==j.valueOf()&&(Ie="dhx_now"),this._ignores_detected&&this._ignores[Ce]&&(Ie+=" dhx_scale_ignore"),xe.className=Ie+" "+this.templates.month_date_class(b,j),xe.setAttribute("data-cell-date",o.templates.format_date(b));var De="dhx_month_body",Fe="dhx_month_head";if(Ce===0&&this.config.left_border&&(De+=" dhx_month_body_border",Fe+=" dhx_month_head_border"),this._ignores_detected&&this._ignores[Ce])xe.appendChild(document.createElement("div")),xe.appendChild(document.createElement("div"));else{this._waiAria.monthCellAttr(xe,b);var We=document.createElement("div");We.className=Fe,We.innerHTML=this.templates.month_day(b),xe.appendChild(We);var Xe=document.createElement("div");Xe.className=De,Xe.style.height=we+"px",Xe.style.width=R[Ce],xe.appendChild(Xe)}ne.push(b);var Ct=b.getDate();(b=this.date.add(b,1,"day")).getDate()-Ct>1&&(b=new Date(b.getFullYear(),b.getMonth(),Ct+1,12,0))}o._colsS.heights[H]=K,K+=re(H)}this._min_date=O,this._max_date=b,v.innerHTML="",v.appendChild(ae),this._scales={};var lr=v.getElementsByTagName("div");for(H=0;H<ne.length;H++){v=lr[2*H+1];var Rr=ne[H];this._scales[+Rr]=v}for(H=0;H<ne.length;H++)Rr=ne[H],this.callEvent("onScaleAdd",[this._scales[+Rr],Rr]);return this._max_date},o._reset_month_scale=function(v,E,b,S){var N=o.date.add(E,1,"month"),O=o._currentDate();this.date.date_part(O),this.date.date_part(b),S=S||Math.ceil(Math.round((N.valueOf()-b.valueOf())/864e5)/7);var j=Math.floor(v.clientHeight/S)-this.xy.month_head_height;return this._colsS.height=j+this.xy.month_head_height,this._colsS.heights=[],o._render_month_scale(v,E,b,S)},o.getView=function(v){return v||(v=o.getState().mode),o.matrix&&o.matrix[v]?o.matrix[v]:o._props&&o._props[v]?o._props[v]:null},o.getLabel=function(v,E){for(var b=this.config.lightbox.sections,S=0;S<b.length;S++)if(b[S].map_to==v){for(var N=b[S].options,O=0;O<N.length;O++)if(N[O].key==E)return N[O].label}return""},o.updateCollection=function(v,E){var b=o.serverList(v);return!!b&&(b.splice(0,b.length),b.push.apply(b,E||[]),o.callEvent("onOptionsLoad",[]),o.resetLightbox(),o.hideCover(),!0)},o._lame_clone=function(v,E){var b,S,N;for(E=E||[],b=0;b<E.length;b+=2)if(v===E[b])return E[b+1];if(v&&T(v)=="object"){for(N=Object.create(v),S=[Array,Date,Number,String,Boolean],b=0;b<S.length;b++)v instanceof S[b]&&(N=b?new S[b](v):new S[b]);for(b in E.push(v,N),v)Object.prototype.hasOwnProperty.apply(v,[b])&&(N[b]=o._lame_clone(v[b],E))}return N||v},o._lame_copy=function(v,E){for(var b in E)E.hasOwnProperty(b)&&(v[b]=E[b]);return v},o._get_date_from_pos=function(v){var E=this._min_date.valueOf()+6e4*(v.y*this.config.time_step+24*(this._table_view?0:v.x)*60);return new Date(this._correct_shift(E))},o.getActionData=function(v){var E=this._mouse_coords(v);return{date:this._get_date_from_pos(E),section:E.section}},o._focus=function(v,E){if(v&&v.focus)if(this._mobile)window.setTimeout(function(){v.focus()},10);else try{E&&v.select&&v.offsetWidth&&v.select(),v.focus()}catch{}},o._get_real_event_length=function(v,E,b){var S,N=E-v,O=b._start_correction+b._end_correction||0,j=this["ignore_"+this._mode],R=0;b.render?(R=this._get_date_index(b,v),S=this._get_date_index(b,E)):S=Math.round(N/60/60/1e3/24);for(var H=!0;R<S;){var Z=o.date.add(E,-b.x_step,b.x_unit);j&&j(E)&&(!H||H&&j(Z))?N-=E-Z:(H=!1,N-=O),E=Z,S--}return N},o._get_fictional_event_length=function(v,E,b,S){var N=new Date(v),O=S?-1:1;if(b._start_correction||b._end_correction){var j;j=S?60*N.getHours()+N.getMinutes()-60*(b.first_hour||0):60*(b.last_hour||0)-(60*N.getHours()+N.getMinutes());var R=60*(b.last_hour-b.first_hour),H=Math.ceil((E/6e4-j)/R);H<0&&(H=0),E+=H*(1440-R)*60*1e3}var Z,re=new Date(1*v+E*O),K=this["ignore_"+this._mode],ae=0;for(b.render?(ae=this._get_date_index(b,N),Z=this._get_date_index(b,re)):Z=Math.round(E/60/60/1e3/24);ae*O<=Z*O;){var W=o.date.add(N,b.x_step*O,b.x_unit);K&&K(N)&&(E+=(W-N)*O,Z+=O),N=W,ae+=O}return E},o._get_section_view=function(){return this.getView()},o._get_section_property=function(){return this.matrix&&this.matrix[this._mode]?this.matrix[this._mode].y_property:this._props&&this._props[this._mode]?this._props[this._mode].map_to:null},o._is_initialized=function(){var v=this.getState();return this._obj&&v.date&&v.mode},o._is_lightbox_open=function(){var v=this.getState();return v.lightbox_id!==null&&v.lightbox_id!==void 0}}(w),function(o){(function(){var c=new RegExp(`<(?:.|
)*?>`,"gm"),u=new RegExp(" +","gm");function f(E){return(E+"").replace(c," ").replace(u," ")}var y=new RegExp("'","gm");function x(E){return(E+"").replace(y,"&#39;")}for(var v in o._waiAria={getAttributeString:function(E){var b=[" "];for(var S in E)if(typeof E[S]!="function"&&P(E[S])!="object"){var N=x(f(E[S]));b.push(S+"='"+N+"'")}return b.push(" "),b.join(" ")},setAttributes:function(E,b){for(var S in b)E.setAttribute(S,f(b[S]));return E},labelAttr:function(E,b){return this.setAttributes(E,{"aria-label":b})},label:function(E){return o._waiAria.getAttributeString({"aria-label":E})},hourScaleAttr:function(E,b){this.labelAttr(E,b)},monthCellAttr:function(E,b){this.labelAttr(E,o.templates.day_date(b))},navBarDateAttr:function(E,b){this.labelAttr(E,b)},dayHeaderAttr:function(E,b){this.labelAttr(E,b)},dayColumnAttr:function(E,b){this.dayHeaderAttr(E,o.templates.day_date(b))},headerButtonsAttributes:function(E,b){return this.setAttributes(E,{role:"button","aria-label":b})},headerToggleState:function(E,b){return this.setAttributes(E,{"aria-pressed":b?"true":"false"})},getHeaderCellAttr:function(E){return o._waiAria.getAttributeString({"aria-label":E})},eventAttr:function(E,b){this._eventCommonAttr(E,b)},_eventCommonAttr:function(E,b){b.setAttribute("aria-label",f(o.templates.event_text(E.start_date,E.end_date,E))),o.config.readonly&&b.setAttribute("aria-readonly",!0),E.$dataprocessor_class&&b.setAttribute("aria-busy",!0),b.setAttribute("aria-selected",o.getState().select_id==E.id?"true":"false")},setEventBarAttr:function(E,b){this._eventCommonAttr(E,b)},_getAttributes:function(E,b){var S={setAttribute:function(N,O){this[N]=O}};return E.apply(this,[b,S]),S},eventBarAttrString:function(E){return this.getAttributeString(this._getAttributes(this.setEventBarAttr,E))},agendaHeadAttrString:function(){return this.getAttributeString({role:"row"})},agendaHeadDateString:function(E){return this.getAttributeString({role:"columnheader","aria-label":E})},agendaHeadDescriptionString:function(E){return this.agendaHeadDateString(E)},agendaDataAttrString:function(){return this.getAttributeString({role:"grid"})},agendaEventAttrString:function(E){var b=this._getAttributes(this._eventCommonAttr,E);return b.role="row",this.getAttributeString(b)},agendaDetailsBtnString:function(){return this.getAttributeString({role:"button","aria-label":o.locale.labels.icon_details})},gridAttrString:function(){return this.getAttributeString({role:"grid"})},gridRowAttrString:function(E){return this.agendaEventAttrString(E)},gridCellAttrString:function(E,b,S){return this.getAttributeString({role:"gridcell","aria-label":[b.label===void 0?b.id:b.label,": ",S]})},mapAttrString:function(){return this.gridAttrString()},mapRowAttrString:function(E){return this.gridRowAttrString(E)},mapDetailsBtnString:function(){return this.agendaDetailsBtnString()},minicalHeader:function(E,b){this.setAttributes(E,{id:b+"","aria-live":"assertice","aria-atomic":"true"})},minicalGrid:function(E,b){this.setAttributes(E,{"aria-labelledby":b+"",role:"grid"})},minicalRow:function(E){this.setAttributes(E,{role:"row"})},minicalDayCell:function(E,b){var S=b.valueOf()<o._max_date.valueOf()&&b.valueOf()>=o._min_date.valueOf();this.setAttributes(E,{role:"gridcell","aria-label":o.templates.day_date(b),"aria-selected":S?"true":"false"})},minicalHeadCell:function(E){this.setAttributes(E,{role:"columnheader"})},weekAgendaDayCell:function(E,b){var S=E.querySelector(".dhx_wa_scale_bar"),N=E.querySelector(".dhx_wa_day_data"),O=o.uid()+"";this.setAttributes(S,{id:O}),this.setAttributes(N,{"aria-labelledby":O})},weekAgendaEvent:function(E,b){this.eventAttr(b,E)},lightboxHiddenAttr:function(E){E.setAttribute("aria-hidden","true")},lightboxVisibleAttr:function(E){E.setAttribute("aria-hidden","false")},lightboxSectionButtonAttrString:function(E){return this.getAttributeString({role:"button","aria-label":E,tabindex:"0"})},yearHeader:function(E,b){this.setAttributes(E,{id:b+""})},yearGrid:function(E,b){this.minicalGrid(E,b)},yearHeadCell:function(E){return this.minicalHeadCell(E)},yearRow:function(E){return this.minicalRow(E)},yearDayCell:function(E){this.setAttributes(E,{role:"gridcell"})},lightboxAttr:function(E){E.setAttribute("role","dialog"),E.setAttribute("aria-hidden","true"),E.firstChild.setAttribute("role","heading")},lightboxButtonAttrString:function(E){return this.getAttributeString({role:"button","aria-label":o.locale.labels[E],tabindex:"0"})},eventMenuAttrString:function(E){return this.getAttributeString({role:"button","aria-label":o.locale.labels[E]})},lightboxHeader:function(E,b){E.setAttribute("aria-label",b)},lightboxSelectAttrString:function(E){var b="";switch(E){case"%Y":b=o.locale.labels.year;break;case"%m":b=o.locale.labels.month;break;case"%d":b=o.locale.labels.day;break;case"%H:%i":b=o.locale.labels.hour+" "+o.locale.labels.minute}return o._waiAria.getAttributeString({"aria-label":b})},messageButtonAttrString:function(E){return"tabindex='0' role='button' aria-label='"+E+"'"},messageInfoAttr:function(E){E.setAttribute("role","alert")},messageModalAttr:function(E,b){E.setAttribute("role","dialog"),b&&E.setAttribute("aria-labelledby",b)},quickInfoAttr:function(E){E.setAttribute("role","dialog")},quickInfoHeaderAttrString:function(){return" role='heading' "},quickInfoHeader:function(E,b){E.setAttribute("aria-label",b)},quickInfoButtonAttrString:function(E){return o._waiAria.getAttributeString({role:"button","aria-label":E,tabindex:"0"})},tooltipAttr:function(E){E.setAttribute("role","tooltip")},tooltipVisibleAttr:function(E){E.setAttribute("aria-hidden","false")},tooltipHiddenAttr:function(E){E.setAttribute("aria-hidden","true")}},o._waiAria)o._waiAria[v]=function(E){return function(){return o.config.wai_aria_attributes?E.apply(this,arguments):" "}}(o._waiAria[v])})()}(w),w.utils=U,w.$domHelpers=ce,w.utils.dom=ce,w.uid=U.uid,w.mixin=U.mixin,w.defined=U.defined,w.assert=function(o){return function(c,u){c||o.config.show_errors&&o.callEvent("onError",[u])!==!1&&(o.message?o.message({type:"error",text:u,expire:-1}):console.log(u))}}(w),w.copy=U.copy,w._getFocusableNodes=ce.getFocusableNodes,w._getClassName=ce.getClassName,w._locate_css=ce.locateCss;var d=Ee(w);w.utils.mixin(w,d),w.env=w.$env=qe,w.Promise=ue,function(o){o.destructor=function(){for(var c in o.callEvent("onDestroy",[]),this.clearAll(),this.$container&&(this.$container.innerHTML=""),this._eventRemoveAll&&this._eventRemoveAll(),this.resetLightbox&&this.resetLightbox(),this._dp&&this._dp.destructor&&this._dp.destructor(),this.detachAllEvents(),this)c.indexOf("$")===0&&delete this[c];o.$destroyed=!0}}(w),function(o){function c(u,f){var y={method:u};if(f.length===0)throw new Error("Arguments list of query is wrong.");if(f.length===1)return typeof f[0]=="string"?(y.url=f[0],y.async=!0):(y.url=f[0].url,y.async=f[0].async||!0,y.callback=f[0].callback,y.headers=f[0].headers),f[0].data?typeof f[0].data!="string"?y.data=Ne()(f[0].data):y.data=f[0].data:y.data="",y;switch(y.url=f[0],u){case"GET":case"DELETE":y.callback=f[1],y.headers=f[2];break;case"POST":case"PUT":f[1]?typeof f[1]!="string"?y.data=Ne()(f[1]):y.data=f[1]:y.data="",y.callback=f[2],y.headers=f[3]}return y}o.Promise=ue,o.ajax={cache:!0,method:"get",serializeRequestParams:Ne.a,parse:function(u){return typeof u!="string"?u:(u=u.replace(/^[\s]+/,""),typeof DOMParser>"u"||o.$env.isIE?window.ActiveXObject!==void 0&&((f=new window.ActiveXObject("Microsoft.XMLDOM")).async="false",f.loadXML(u)):f=new DOMParser().parseFromString(u,"text/xml"),f);var f},xmltop:function(u,f,y){if(f.status===void 0||f.status<400){var x=f.responseXML?f.responseXML||f:this.parse(f.responseText||f);if(x&&x.documentElement!==null&&!x.getElementsByTagName("parsererror").length)return x.getElementsByTagName(u)[0]}return y!==-1&&o.callEvent("onLoadXMLError",["Incorrect XML",arguments[1],y]),document.createElement("DIV")},xpath:function(u,f){if(f.nodeName||(f=f.responseXML||f),o.$env.isIE)return f.selectNodes(u)||[];for(var y,x=[],v=(f.ownerDocument||f).evaluate(u,f,null,XPathResult.ANY_TYPE,null);y=v.iterateNext();)x.push(y);return x},query:function(u){return this._call(u.method||"GET",u.url,u.data||"",u.async||!0,u.callback,u.headers)},get:function(u,f,y){var x=c("GET",arguments);return this.query(x)},getSync:function(u,f){var y=c("GET",arguments);return y.async=!1,this.query(y)},put:function(u,f,y,x){var v=c("PUT",arguments);return this.query(v)},del:function(u,f,y){var x=c("DELETE",arguments);return this.query(x)},post:function(u,f,y,x){(arguments.length==1||arguments.length==2&&typeof f=="function")&&(f="");var v=c("POST",arguments);return this.query(v)},postSync:function(u,f,y){f=f===null?"":String(f);var x=c("POST",arguments);return x.async=!1,this.query(x)},_call:function(u,f,y,x,v,E){return new o.Promise(function(b,S){var N=(typeof XMLHttpRequest>"u"?"undefined":Ve(XMLHttpRequest))===void 0||o.$env.isIE?new window.ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest,O=navigator.userAgent.match(/AppleWebKit/)!==null&&navigator.userAgent.match(/Qt/)!==null&&navigator.userAgent.match(/Safari/)!==null;if(x&&N.addEventListener("readystatechange",function(){if(N.readyState==4||O&&N.readyState==3){if((N.status!=200||N.responseText==="")&&!o.callEvent("onAjaxError",[N]))return;setTimeout(function(){typeof v=="function"&&v.apply(window,[{xmlDoc:N,filePath:f}]),b(N),typeof v=="function"&&(v=null,N=null)},0)}}),u!="GET"||this.cache||(f+=(f.indexOf("?")>=0?"&":"?")+"dhxr"+new Date().getTime()+"=1"),N.open(u,f,x),E)for(var j in E)N.setRequestHeader(j,E[j]);else u.toUpperCase()=="POST"||u=="PUT"||u=="DELETE"?N.setRequestHeader("Content-Type","application/x-www-form-urlencoded"):u=="GET"&&(y=null);if(N.setRequestHeader("X-Requested-With","XMLHttpRequest"),N.send(y),!x)return{xmlDoc:N,filePath:f}}.bind(this))},urlSeparator:function(u){return u.indexOf("?")!=-1?"&":"?"}},o.$ajax=o.ajax}(w),et(w),function(o){o.config={default_date:"%j %M %Y",month_date:"%F %Y",load_date:"%Y-%m-%d",week_date:"%l",day_date:"%D, %F %j",hour_date:"%H:%i",month_day:"%d",date_format:"%Y-%m-%d %H:%i",api_date:"%d-%m-%Y %H:%i",parse_exact_format:!1,preserve_length:!0,time_step:5,start_on_monday:!0,first_hour:0,last_hour:24,readonly:!1,drag_resize:!0,drag_move:!0,drag_create:!0,drag_event_body:!0,dblclick_create:!0,edit_on_create:!0,details_on_create:!1,header:null,resize_month_events:!1,resize_month_timed:!1,responsive_lightbox:!1,rtl:!1,cascade_event_display:!1,cascade_event_count:4,cascade_event_margin:30,multi_day:!0,multi_day_height_limit:0,drag_lightbox:!0,preserve_scroll:!0,select:!0,server_utc:!1,touch:!0,touch_tip:!0,touch_drag:500,touch_swipe_dates:!1,quick_info_detached:!0,positive_closing:!1,drag_highlight:!0,limit_drag_out:!1,icons_edit:["icon_save","icon_cancel"],icons_select:["icon_details","icon_edit","icon_delete"],buttons_left:["dhx_save_btn","dhx_cancel_btn"],buttons_right:["dhx_delete_btn"],lightbox:{sections:[{name:"description",map_to:"text",type:"textarea",focus:!0},{name:"time",height:72,type:"time",map_to:"auto"}]},highlight_displayed_event:!0,left_border:!1,ajax_error:"alert",delay_render:0,timeline_swap_resize:!0,wai_aria_attributes:!0,wai_aria_application_role:!0,csp:"auto",event_attribute:"data-event-id",show_errors:!0},o.config.buttons_left.$initial=o.config.buttons_left.join(),o.config.buttons_right.$initial=o.config.buttons_right.join(),o._helpers={parseDate:function(c){return(o.templates.xml_date||o.templates.parse_date)(c)},formatDate:function(c){return(o.templates.xml_format||o.templates.format_date)(c)}},o.templates={},o.init_templates=function(){var c=o.locale.labels;c.dhx_save_btn=c.icon_save,c.dhx_cancel_btn=c.icon_cancel,c.dhx_delete_btn=c.icon_delete;var u=o.date.date_to_str,f=o.config;(function(y,x){for(var v in x)y[v]||(y[v]=x[v])})(o.templates,{day_date:u(f.default_date),month_date:u(f.month_date),week_date:function(y,x){return f.rtl?o.templates.day_date(o.date.add(x,-1,"day"))+" &ndash; "+o.templates.day_date(y):o.templates.day_date(y)+" &ndash; "+o.templates.day_date(o.date.add(x,-1,"day"))},day_scale_date:u(f.default_date),month_scale_date:u(f.week_date),week_scale_date:u(f.day_date),hour_scale:u(f.hour_date),time_picker:u(f.hour_date),event_date:u(f.hour_date),month_day:u(f.month_day),load_format:u(f.load_date),format_date:u(f.date_format,f.server_utc),parse_date:o.date.str_to_date(f.date_format,f.server_utc),api_date:o.date.str_to_date(f.api_date,!1,!1),event_header:function(y,x,v){return o.templates.event_date(y)+" - "+o.templates.event_date(x)},event_text:function(y,x,v){return v.text},event_class:function(y,x,v){return""},month_date_class:function(y){return""},week_date_class:function(y){return""},event_bar_date:function(y,x,v){return o.templates.event_date(y)+" "},event_bar_text:function(y,x,v){return v.text},month_events_link:function(y,x){return"<a>View more("+x+" events)</a>"},drag_marker_class:function(y,x,v){return""},drag_marker_content:function(y,x,v){return""},tooltip_date_format:o.date.date_to_str("%Y-%m-%d %H:%i"),tooltip_text:function(y,x,v){return"<b>Event:</b> "+v.text+"<br/><b>Start date:</b> "+o.templates.tooltip_date_format(y)+"<br/><b>End date:</b> "+o.templates.tooltip_date_format(x)}}),this.callEvent("onTemplatesReady",[])}}(w),function(o){o._events={},o.clearAll=function(){this._events={},this._loaded={},this._edit_id=null,this._select_id=null,this._drag_id=null,this._drag_mode=null,this._drag_pos=null,this._new_event=null,this.clear_view(),this.callEvent("onClearAll",[])},o.addEvent=function(c,u,f,y,x){if(!arguments.length)return this.addEventNow();var v=c;arguments.length!=1&&((v=x||{}).start_date=c,v.end_date=u,v.text=f,v.id=y),v.id=v.id||o.uid(),v.text=v.text||"",typeof v.start_date=="string"&&(v.start_date=this.templates.api_date(v.start_date)),typeof v.end_date=="string"&&(v.end_date=this.templates.api_date(v.end_date));var E=6e4*(this.config.event_duration||this.config.time_step);v.start_date.valueOf()==v.end_date.valueOf()&&v.end_date.setTime(v.end_date.valueOf()+E),v.start_date.setMilliseconds(0),v.end_date.setMilliseconds(0),v._timed=this.isOneDayEvent(v);var b=!this._events[v.id];return this._events[v.id]=v,this.event_updated(v),this._loading||this.callEvent(b?"onEventAdded":"onEventChanged",[v.id,v]),v.id},o.deleteEvent=function(c,u){var f=this._events[c];(u||this.callEvent("onBeforeEventDelete",[c,f])&&this.callEvent("onConfirmedBeforeEventDelete",[c,f]))&&(f&&(o.getState().select_id==c&&o.unselect(),delete this._events[c],this.event_updated(f),this._drag_id==f.id&&(this._drag_id=null,this._drag_mode=null,this._drag_pos=null)),this.callEvent("onEventDeleted",[c,f]))},o.getEvent=function(c){return this._events[c]},o.setEvent=function(c,u){u.id||(u.id=c),this._events[c]=u},o.for_rendered=function(c,u){for(var f=this._rendered.length-1;f>=0;f--)this._rendered[f].getAttribute(this.config.event_attribute)==c&&u(this._rendered[f],f)},o.changeEventId=function(c,u){if(c!=u){var f=this._events[c];f&&(f.id=u,this._events[u]=f,delete this._events[c]),this.for_rendered(c,function(y){y.setAttribute("event_id",u),y.setAttribute(o.config.event_attribute,u)}),this._select_id==c&&(this._select_id=u),this._edit_id==c&&(this._edit_id=u),this.callEvent("onEventIdChange",[c,u])}},function(){for(var c=["text","Text","start_date","StartDate","end_date","EndDate"],u=function(x){return function(v){return o.getEvent(v)[x]}},f=function(x){return function(v,E){var b=o.getEvent(v);b[x]=E,b._changed=!0,b._timed=this.isOneDayEvent(b),o.event_updated(b,!0)}},y=0;y<c.length;y+=2)o["getEvent"+c[y+1]]=u(c[y]),o["setEvent"+c[y+1]]=f(c[y])}(),o.event_updated=function(c,u){this.is_visible_events(c)?this.render_view_data():this.clear_event(c.id)},o.is_visible_events=function(c){if(!this._min_date||!this._max_date)return!1;if(c.start_date.valueOf()<this._max_date.valueOf()&&this._min_date.valueOf()<c.end_date.valueOf()){var u=c.start_date.getHours(),f=c.end_date.getHours()+c.end_date.getMinutes()/60,y=this.config.last_hour,x=this.config.first_hour;return!(!this._table_view&&(f>y||f<=x)&&(u>=y||u<x)&&!((c.end_date.valueOf()-c.start_date.valueOf())/36e5>24-(this.config.last_hour-this.config.first_hour)||u<y&&f>x))}return!1},o.isOneDayEvent=function(c){var u=new Date(c.end_date.valueOf()-1);return c.start_date.getFullYear()===u.getFullYear()&&c.start_date.getMonth()===u.getMonth()&&c.start_date.getDate()===u.getDate()&&c.end_date.valueOf()-c.start_date.valueOf()<864e5},o.get_visible_events=function(c){var u=[];for(var f in this._events)this.is_visible_events(this._events[f])&&(c&&!this._events[f]._timed||this.filter_event(f,this._events[f])&&u.push(this._events[f]));return u},o.filter_event=function(c,u){var f=this["filter_"+this._mode];return!f||f(c,u)},o._is_main_area_event=function(c){return!!c._timed},o.render_view_data=function(c,u){var f=!1;if(!c){if(f=!0,this._not_render)return void(this._render_wait=!0);this._render_wait=!1,this.clear_view(),c=this.get_visible_events(!(this._table_view||this.config.multi_day))}for(var y=0,x=c.length;y<x;y++)this._recalculate_timed(c[y]);if(this.config.multi_day&&!this._table_view){var v=[],E=[];for(y=0;y<c.length;y++)this._is_main_area_event(c[y])?v.push(c[y]):E.push(c[y]);if(!this._els.dhx_multi_day){var b=o._commonErrorMessages.unknownView(this._mode);throw new Error(b)}this._rendered_location=this._els.dhx_multi_day[0],this._table_view=!0,this.render_data(E,u),this._table_view=!1,this._rendered_location=this._els.dhx_cal_data[0],this._table_view=!1,this.render_data(v,u)}else{var S=document.createDocumentFragment(),N=this._els.dhx_cal_data[0];this._rendered_location=S,this.render_data(c,u),N.appendChild(S),this._rendered_location=N}f&&this.callEvent("onDataRender",[])},o._view_month_day=function(c){var u=o.getActionData(c).date;o.callEvent("onViewMoreClick",[u])&&o.setCurrentView(u,"day")},o._render_month_link=function(c){for(var u=this._rendered_location,f=this._lame_clone(c),y=c._sday;y<c._eday;y++){f._sday=y,f._eday=y+1;var x=o.date,v=o._min_date;v=x.add(v,f._sweek,"week"),v=x.add(v,f._sday,"day");var E=o.getEvents(v,x.add(v,1,"day")).length,b=this._get_event_bar_pos(f),S=b.x2-b.x,N=document.createElement("div");o.event(N,"click",function(O){o._view_month_day(O)}),N.className="dhx_month_link",N.style.top=b.y+"px",N.style.left=b.x+"px",N.style.width=S+"px",N.innerHTML=o.templates.month_events_link(v,E),this._rendered.push(N),u.appendChild(N)}},o._recalculate_timed=function(c){var u;c&&(u=Yt(c)!="object"?this._events[c]:c)&&(u._timed=o.isOneDayEvent(u))},o.attachEvent("onEventChanged",o._recalculate_timed),o.attachEvent("onEventAdded",o._recalculate_timed),o.render_data=function(c,u){c=this._pre_render_events(c,u);for(var f={},y=0;y<c.length;y++)if(this._table_view)if(o._mode!="month")this.render_event_bar(c[y]);else{var x=o.config.max_month_events;x!==1*x||c[y]._sorder<x?this.render_event_bar(c[y]):x!==void 0&&c[y]._sorder==x&&o._render_month_link(c[y])}else{var v=c[y],E=o.locate_holder(v._sday);if(!E)continue;f[v._sday]||(f[v._sday]={real:E,buffer:document.createDocumentFragment(),width:E.clientWidth});var b=f[v._sday];this.render_event(v,b.buffer,b.width)}for(var y in f)(b=f[y]).real&&b.buffer&&b.real.appendChild(b.buffer)},o._get_first_visible_cell=function(c){for(var u=0;u<c.length;u++)if((c[u].className||"").indexOf("dhx_scale_ignore")==-1)return c[u];return c[0]},o._pre_render_events=function(c,u){var f=this.xy.bar_height,y=this._colsS.heights,x=this._colsS.heights=[0,0,0,0,0,0,0],v=this._els.dhx_cal_data[0];if(c=this._table_view?this._pre_render_events_table(c,u):this._pre_render_events_line(c,u),this._table_view)if(u)this._colsS.heights=y;else{var E=v.firstChild;if(E.rows){for(var b=0;b<E.rows.length;b++){x[b]++;var S=E.rows[b].cells,N=this._colsS.height-this.xy.month_head_height;if(x[b]*f>N){var O=N;1*this.config.max_month_events!==this.config.max_month_events||x[b]<=this.config.max_month_events?O=x[b]*f:(this.config.max_month_events+1)*f>N&&(O=(this.config.max_month_events+1)*f);for(var j=0;j<S.length;j++)S[j].childNodes[1].style.height=O+"px"}x[b]=(x[b-1]||0)+o._get_first_visible_cell(S).offsetHeight}if(x.unshift(0),E.parentNode.offsetHeight<E.parentNode.scrollHeight&&!o._colsS.scroll_fix&&o.xy.scroll_width){var R=o._colsS,H=R[R.col_length],Z=R.heights.slice();H-=o.xy.scroll_width||0,this._calc_scale_sizes(H,this._min_date,this._max_date),o._colsS.heights=Z,this.set_xy(this._els.dhx_cal_header[0],H,this.xy.scale_height),o._render_scales(this._els.dhx_cal_header[0]),o._render_month_scale(this._els.dhx_cal_data[0],this._get_timeunit_start(),this._min_date),R.scroll_fix=!0}}else if(c.length||this._els.dhx_multi_day[0].style.visibility!="visible"||(x[0]=-1),c.length||x[0]==-1){var re=(x[0]+1)*f+1,K=re,ae=re+"px";this.config.multi_day_height_limit&&(ae=(K=Math.min(re,this.config.multi_day_height_limit))+"px"),v.style.top=this._els.dhx_cal_navline[0].offsetHeight+this._els.dhx_cal_header[0].offsetHeight+K+"px",v.style.height=this._obj.offsetHeight-parseInt(v.style.top,10)-(this.xy.margin_top||0)+"px";var W=this._els.dhx_multi_day[0];W.style.height=ae,W.style.visibility=x[0]==-1?"hidden":"visible";var ne=this._els.dhx_multi_day[1];ne.style.height=ae,ne.style.visibility=x[0]==-1?"hidden":"visible",ne.className=x[0]?"dhx_multi_day_icon":"dhx_multi_day_icon_small",this._dy_shift=(x[0]+1)*f,this.config.multi_day_height_limit&&(this._dy_shift=Math.min(this.config.multi_day_height_limit,this._dy_shift)),x[0]=0,K!=re&&(v.style.top=parseInt(v.style.top)+2+"px",W.style.overflowY="auto",ne.style.position="fixed",ne.style.top="",ne.style.left="")}}return c},o._get_event_sday=function(c){var u=this.date.day_start(new Date(c.start_date));return Math.round((u.valueOf()-this._min_date.valueOf())/864e5)},o._get_event_mapped_end_date=function(c){var u=c.end_date;if(this.config.separate_short_events){var f=(c.end_date-c.start_date)/6e4;f<this._min_mapped_duration&&(u=this.date.add(u,this._min_mapped_duration-f,"minute"))}return u},o._pre_render_events_line=function(c,u){c.sort(function(W,ne){return W.start_date.valueOf()==ne.start_date.valueOf()?W.id>ne.id?1:-1:W.start_date>ne.start_date?1:-1});var f=[],y=[];this._min_mapped_duration=Math.ceil(60*this.xy.min_event_height/this.config.hour_size_px);for(var x=0;x<c.length;x++){var v=c[x],E=v.start_date,b=v.end_date,S=E.getHours(),N=b.getHours();if(v._sday=this._get_event_sday(v),this._ignores[v._sday])c.splice(x,1),x--;else{if(f[v._sday]||(f[v._sday]=[]),!u){v._inner=!1;for(var O=f[v._sday];O.length;){var j=O[O.length-1];if(!(this._get_event_mapped_end_date(j).valueOf()<=v.start_date.valueOf()))break;O.splice(O.length-1,1)}for(var R=O.length,H=!1,Z=0;Z<O.length;Z++)if(j=O[Z],this._get_event_mapped_end_date(j).valueOf()<=v.start_date.valueOf()){H=!0,v._sorder=j._sorder,R=Z,v._inner=!0;break}if(O.length&&(O[O.length-1]._inner=!0),!H)if(O.length)if(O.length<=O[O.length-1]._sorder){if(O[O.length-1]._sorder)for(Z=0;Z<O.length;Z++){for(var re=!1,K=0;K<O.length;K++)if(O[K]._sorder==Z){re=!0;break}if(!re){v._sorder=Z;break}}else v._sorder=0;v._inner=!0}else{var ae=O[0]._sorder;for(Z=1;Z<O.length;Z++)O[Z]._sorder>ae&&(ae=O[Z]._sorder);v._sorder=ae+1,v._inner=!1}else v._sorder=0;O.splice(R,R==O.length?0:1,v),O.length>(O.max_count||0)?(O.max_count=O.length,v._count=O.length):v._count=v._count?v._count:1}(S<this.config.first_hour||N>=this.config.last_hour)&&(y.push(v),c[x]=v=this._copy_event(v),S<this.config.first_hour&&(v.start_date.setHours(this.config.first_hour),v.start_date.setMinutes(0)),N>=this.config.last_hour&&(v.end_date.setMinutes(0),v.end_date.setHours(this.config.last_hour)),v.start_date>v.end_date||S==this.config.last_hour)&&(c.splice(x,1),x--)}}if(!u){for(x=0;x<c.length;x++)c[x]._count=f[c[x]._sday].max_count;for(x=0;x<y.length;x++)y[x]._count=f[y[x]._sday].max_count}return c},o._time_order=function(c){c.sort(function(u,f){return u.start_date.valueOf()==f.start_date.valueOf()?u._timed&&!f._timed?1:!u._timed&&f._timed?-1:u.id>f.id?1:-1:u.start_date>f.start_date?1:-1})},o._is_any_multiday_cell_visible=function(c,u,f){var y=this._cols.length,x=!1,v=c,E=!0,b=new Date(u);for(o.date.day_start(new Date(u)).valueOf()!=u.valueOf()&&(b=o.date.day_start(b),b=o.date.add(b,1,"day"));v<b;){E=!1;var S=this.locate_holder_day(v,!1,f)%y;if(!this._ignores[S]){x=!0;break}v=o.date.add(v,1,"day")}return E||x},o._pre_render_events_table=function(c,u){this._time_order(c);for(var f,y=[],x=[[],[],[],[],[],[],[]],v=this._colsS.heights,E=this._cols.length,b={},S=0;S<c.length;S++){var N=c[S],O=N.id;b[O]||(b[O]={first_chunk:!0,last_chunk:!0});var j=b[O],R=f||N.start_date,H=N.end_date;R<this._min_date&&(j.first_chunk=!1,R=this._min_date),H>this._max_date&&(j.last_chunk=!1,H=this._max_date);var Z=this.locate_holder_day(R,!1,N);if(N._sday=Z%E,!this._ignores[N._sday]||!N._timed){var re=this.locate_holder_day(H,!0,N)||E;if(N._eday=re%E||E,N._length=re-Z,N._sweek=Math.floor((this._correct_shift(R.valueOf(),1)-this._min_date.valueOf())/(864e5*E)),o._is_any_multiday_cell_visible(R,H,N)){var K,ae=x[N._sweek];for(K=0;K<ae.length&&!(ae[K]._eday<=N._sday);K++);if(N._sorder&&u||(N._sorder=K),N._sday+N._length<=E)f=null,y.push(N),ae[K]=N,v[N._sweek]=ae.length-1,N._first_chunk=j.first_chunk,N._last_chunk=j.last_chunk;else{var W=this._copy_event(N);W.id=N.id,W._length=E-N._sday,W._eday=E,W._sday=N._sday,W._sweek=N._sweek,W._sorder=N._sorder,W.end_date=this.date.add(R,W._length,"day"),W._first_chunk=j.first_chunk,j.first_chunk&&(j.first_chunk=!1),y.push(W),ae[K]=W,f=W.end_date,v[N._sweek]=ae.length-1,S--}}}}return y},o._copy_dummy=function(){var c=new Date(this.start_date),u=new Date(this.end_date);this.start_date=c,this.end_date=u},o._copy_event=function(c){return this._copy_dummy.prototype=c,new this._copy_dummy},o._rendered=[],o.clear_view=function(){for(var c=0;c<this._rendered.length;c++){var u=this._rendered[c];u.parentNode&&u.parentNode.removeChild(u)}this._rendered=[]},o.updateEvent=function(c){var u=this.getEvent(c);this.clear_event(c),u&&this.is_visible_events(u)&&this.filter_event(c,u)&&(this._table_view||this.config.multi_day||u._timed)&&(this.config.update_render?this.render_view_data():this.getState().mode!="month"||this.getState().drag_id||this.isOneDayEvent(u)?this.render_view_data([u],!0):this.render_view_data())},o.clear_event=function(c){this.for_rendered(c,function(u,f){u.parentNode&&u.parentNode.removeChild(u),o._rendered.splice(f,1)})},o._y_from_date=function(c){var u=60*c.getHours()+c.getMinutes();return Math.round((60*u*1e3-60*this.config.first_hour*60*1e3)*this.config.hour_size_px/36e5)%(24*this.config.hour_size_px)},o._calc_event_y=function(c,u){u=u||0;var f=60*c.start_date.getHours()+c.start_date.getMinutes(),y=60*c.end_date.getHours()+c.end_date.getMinutes()||60*o.config.last_hour;return{top:this._y_from_date(c.start_date),height:Math.max(u,(y-f)*this.config.hour_size_px/60)}},o.render_event=function(c,u,f){var y=o.xy.menu_width,x=this.config.use_select_menu_space?0:y;if(!(c._sday<0)){var v=o.locate_holder(c._sday);if(v){u=u||v;var E=this._calc_event_y(c,o.xy.min_event_height),b=E.top,S=E.height,N=c._count||1,O=c._sorder||0;f=f||v.clientWidth;var j=Math.floor((f-x)/N),R=O*j+1;if(c._inner||(j*=N-O),this.config.cascade_event_display){var H=this.config.cascade_event_count,Z=this.config.cascade_event_margin;R=O%H*Z;var re=c._inner?(N-O-1)%H*Z/2:0;j=Math.floor(f-x-R-re)}var K=this._render_v_bar(c,x+R,b,j,S,c._text_style,o.templates.event_header(c.start_date,c.end_date,c),o.templates.event_text(c.start_date,c.end_date,c));if(this._waiAria.eventAttr(c,K),this._rendered.push(K),u.appendChild(K),R=R+parseInt(this.config.rtl?v.style.right:v.style.left,10)+x,this._edit_id==c.id){K.style.zIndex=1,j=Math.max(j-4,o.xy.editor_width),(K=document.createElement("div")).setAttribute("event_id",c.id),K.setAttribute(this.config.event_attribute,c.id),this._waiAria.eventAttr(c,K),K.className="dhx_cal_event dhx_cal_editor",this.config.rtl&&R++,this.set_xy(K,j,S-20,R,b+(o.xy.event_header_height||14)),c.color&&(K.style.backgroundColor=c.color);var ae=o.templates.event_class(c.start_date,c.end_date,c);ae&&(K.className+=" "+ae);var W=document.createElement("div");this.set_xy(W,j-6,S-26),W.style.cssText+=";margin:2px 2px 2px 2px;overflow:hidden;",K.appendChild(W),this._els.dhx_cal_data[0].appendChild(K),this._rendered.push(K),W.innerHTML="<textarea class='dhx_cal_editor'>"+c.text+"</textarea>",this._editor=W.querySelector("textarea"),this._quirks7&&(this._editor.style.height=S-12+"px"),o.event(this._editor,"keydown",function(Fe){if(Fe.shiftKey)return!0;var We=Fe.keyCode;We==o.keys.edit_save&&o.editStop(!0),We==o.keys.edit_cancel&&o.editStop(!1),We!=o.keys.edit_save&&We!=o.keys.edit_cancel||Fe.preventDefault&&Fe.preventDefault()}),o.event(this._editor,"selectstart",function(Fe){return Fe.cancelBubble=!0,!0}),o._focus(this._editor,!0),this._els.dhx_cal_data[0].scrollLeft=0}if(this.xy.menu_width!==0&&this._select_id==c.id){this.config.cascade_event_display&&this._drag_mode&&(K.style.zIndex=1);for(var ne,Q=this.config["icons_"+(this._edit_id==c.id?"edit":"select")],we="",Ce=c.color?"background-color: "+c.color+";":"",xe=c.textColor?"color: "+c.textColor+";":"",Ie=0;Ie<Q.length;Ie++)ne=this._waiAria.eventMenuAttrString(Q[Ie]),we+="<div class='dhx_menu_icon "+Q[Ie]+"' style='"+Ce+xe+"' title='"+this.locale.labels[Q[Ie]]+"'"+ne+"></div>";var De=this._render_v_bar(c,R-y+1,b,y,20*Q.length+26-2,"","<div style='"+Ce+xe+"' class='dhx_menu_head'></div>",we,!0);De.style.left=R-y+1,this._els.dhx_cal_data[0].appendChild(De),this._rendered.push(De)}this.config.drag_highlight&&this._drag_id==c.id&&this.highlightEventPosition(c)}}},o._render_v_bar=function(c,u,f,y,x,v,E,b,S){var N=document.createElement("div"),O=c.id,j=S?"dhx_cal_event dhx_cal_select_menu":"dhx_cal_event",R=o.getState();R.drag_id==c.id&&(j+=" dhx_cal_event_drag"),R.select_id==c.id&&(j+=" dhx_cal_event_selected");var H=o.templates.event_class(c.start_date,c.end_date,c);H&&(j=j+" "+H),this.config.cascade_event_display&&(j+=" dhx_cal_event_cascade");var Z=c.color?"background-color:"+c.color+";":"",re=c.textColor?"color:"+c.textColor+";":"",K=o._border_box_events(),ae=y-2,W=K?ae:y-4,ne=K?ae:y-6,Q=K?ae:y-(this._quirks?4:14),we=K?ae-2:y-8,Ce=K?x-this.xy.event_header_height-1:x-(this._quirks?20:30)+1,xe='<div event_id="'+O+'" '+this.config.event_attribute+'="'+O+'" class="'+j+'" style="position:absolute; top:'+f+"px; "+(this.config.rtl?"right:":"left:")+u+"px; width:"+W+"px; height:"+x+"px;"+(v||"")+'"></div>';N.innerHTML=xe;var Ie=N.cloneNode(!0).firstChild;if(!S&&o.renderEvent(Ie,c,y,x,E,b))return Ie;Ie=N.firstChild;var De='<div class="dhx_event_move dhx_header" style=" width:'+ne+"px;"+Z+'" >&nbsp;</div>';De+='<div class="dhx_event_move dhx_title" style="'+Z+re+'">'+E+"</div>",De+='<div class="dhx_body" style=" width:'+Q+"px; height:"+Ce+"px;"+Z+re+'">'+b+"</div>";var Fe="dhx_event_resize dhx_footer";return(S||c._drag_resize===!1)&&(Fe="dhx_resize_denied "+Fe),De+='<div class="'+Fe+'" style=" width:'+we+"px;"+(S?" margin-top:-1px;":"")+Z+re+'" ></div>',Ie.innerHTML=De,Ie},o.renderEvent=function(){return!1},o.locate_holder=function(c){return this._mode=="day"?this._els.dhx_cal_data[0].firstChild:this._els.dhx_cal_data[0].childNodes[c]},o.locate_holder_day=function(c,u){var f=Math.floor((this._correct_shift(c,1)-this._min_date)/864e5);return u&&this.date.time_part(c)&&f++,f},o._get_dnd_order=function(c,u,f){if(!this._drag_event)return c;this._drag_event._orig_sorder?c=this._drag_event._orig_sorder:this._drag_event._orig_sorder=c;for(var y=u*c;y+u>f;)c--,y-=u;return c=Math.max(c,0)},o._get_event_bar_pos=function(c){var u=this.config.rtl,f=this._colsS,y=f[c._sday],x=f[c._eday];u&&(y=f[f.col_length]-f[c._eday]+f[0],x=f[f.col_length]-f[c._sday]+f[0]),x==y&&(x=f[c._eday+1]);var v=this.xy.bar_height,E=c._sorder;if(c.id==this._drag_id){var b=f.heights[c._sweek+1]-f.heights[c._sweek]-this.xy.month_head_height;E=o._get_dnd_order(E,v,b)}var S=E*v;return{x:y,x2:x,y:f.heights[c._sweek]+(f.height?this.xy.month_scale_height+2:2)+S}},o.render_event_bar=function(c){var u=this._rendered_location,f=this._get_event_bar_pos(c),y=f.y,x=f.x,v=f.x2,E="";if(v){var b=o.config.resize_month_events&&this._mode=="month"&&(!c._timed||o.config.resize_month_timed),S=document.createElement("div"),N=c.hasOwnProperty("_first_chunk")&&c._first_chunk,O=c.hasOwnProperty("_last_chunk")&&c._last_chunk,j=b&&(c._timed||N),R=b&&(c._timed||O),H=!0,Z="dhx_cal_event_clear";c._timed&&!b||(H=!1,Z="dhx_cal_event_line"),N&&(Z+=" dhx_cal_event_line_start"),O&&(Z+=" dhx_cal_event_line_end"),j&&(E+="<div class='dhx_event_resize dhx_event_resize_start'></div>"),R&&(E+="<div class='dhx_event_resize dhx_event_resize_end'></div>");var re=o.templates.event_class(c.start_date,c.end_date,c);re&&(Z+=" "+re);var K=c.color?"background:"+c.color+";":"",ae=c.textColor?"color:"+c.textColor+";":"",W=["position:absolute","top:"+y+"px","left:"+x+"px","width:"+(v-x-3-(H?1:0))+"px",ae,K,c._text_style||""].join(";"),ne="<div event_id='"+c.id+"' "+this.config.event_attribute+"='"+c.id+"' class='"+Z+"' style='"+W+"'"+this._waiAria.eventBarAttrString(c)+">";b&&(ne+=E),o.getState().mode=="month"&&(c=o.getEvent(c.id)),c._timed&&(ne+=o.templates.event_bar_date(c.start_date,c.end_date,c)),ne+=o.templates.event_bar_text(c.start_date,c.end_date,c)+"</div>",ne+="</div>",S.innerHTML=ne,this._rendered.push(S.firstChild),u.appendChild(S.firstChild)}},o._locate_event=function(c){for(var u=null;c&&!u&&c.getAttribute;)u=c.getAttribute(this.config.event_attribute),c=c.parentNode;return u},o.edit=function(c){this._edit_id!=c&&(this.editStop(!1,c),this._edit_id=c,this.updateEvent(c))},o.editStop=function(c,u){if(!u||this._edit_id!=u){var f=this.getEvent(this._edit_id);f&&(c&&(f.text=this._editor.value),this._edit_id=null,this._editor=null,this.updateEvent(f.id),this._edit_stop_event(f,c))}},o._edit_stop_event=function(c,u){this._new_event?(u?this.callEvent("onEventAdded",[c.id,c]):c&&this.deleteEvent(c.id,!0),this._new_event=null):u&&this.callEvent("onEventChanged",[c.id,c])},o.getEvents=function(c,u){var f=[];for(var y in this._events){var x=this._events[y];x&&(!c&&!u||x.start_date<u&&x.end_date>c)&&f.push(x)}return f},o.getRenderedEvent=function(c){if(c){for(var u=o._rendered,f=0;f<u.length;f++){var y=u[f];if(y.getAttribute(o.config.event_attribute)==c)return y}return null}},o.showEvent=function(c,u){c&&Yt(c)==="object"&&(u=c.mode,O=c.section,c=c.section);var f=typeof c=="number"||typeof c=="string"?o.getEvent(c):c;if(u=u||o._mode,f&&(!this.checkEvent("onBeforeEventDisplay")||this.callEvent("onBeforeEventDisplay",[f,u]))){var y=o.config.scroll_hour;o.config.scroll_hour=f.start_date.getHours();var x=o.config.preserve_scroll;o.config.preserve_scroll=!1;var v=f.color,E=f.textColor;if(o.config.highlight_displayed_event&&(f.color=o.config.displayed_event_color,f.textColor=o.config.displayed_event_text_color),o.setCurrentView(new Date(f.start_date),u),o.config.scroll_hour=y,o.config.preserve_scroll=x,o.matrix&&o.matrix[u]){var b=o.getView(),S=b.y_property,N=o.getEvent(f.id);if(N){if(!O){var O=N[S];Array.isArray(O)?O=O[0]:typeof O=="string"&&o.config.section_delimiter&&O.indexOf(o.config.section_delimiter)>-1&&(O=O.split(o.config.section_delimiter)[0])}var j=b.getSectionTop(O),R=b.posFromDate(N.start_date),H=o.$container.querySelector(".dhx_timeline_data_wrapper");if(R-=(H.offsetWidth-b.dx)/2,j=j-H.offsetHeight/2+b.dy/2,b._smartRenderingEnabled())var Z=b.attachEvent("onScroll",function(){re(),b.detachEvent(Z)});b.scrollTo({left:R,top:j}),b._smartRenderingEnabled()||re()}}else re();o.callEvent("onAfterEventDisplay",[f,u])}function re(){f.color=v,f.textColor=E}}}(w),function(o){o._append_drag_marker=function(c){if(!c.parentNode){var u=o._els.dhx_cal_data[0].lastChild,f=o._getClassName(u);f.indexOf("dhx_scale_holder")<0&&u.previousSibling&&(u=u.previousSibling),f=o._getClassName(u),u&&f.indexOf("dhx_scale_holder")===0&&u.appendChild(c)}},o._update_marker_position=function(c,u){var f=o._calc_event_y(u,0);c.style.top=f.top+"px",c.style.height=f.height+"px"},o.highlightEventPosition=function(c){var u=document.createElement("div");u.setAttribute("event_id",c.id),u.setAttribute(this.config.event_attribute,c.id),this._rendered.push(u),this._update_marker_position(u,c);var f=this.templates.drag_marker_class(c.start_date,c.end_date,c),y=this.templates.drag_marker_content(c.start_date,c.end_date,c);u.className="dhx_drag_marker",f&&(u.className+=" "+f),y&&(u.innerHTML=y),this._append_drag_marker(u)}}(w),de(w),function(o){o._lightbox_controls={},o.formSection=function(c){for(var u=this.config.lightbox.sections,f=0;f<u.length&&u[f].name!=c;f++);if(f===u.length)return null;var y=u[f];o._lightbox||o.getLightbox();var x=document.getElementById(y.id),v=x.nextSibling,E={section:y,header:x,node:v,getValue:function(S){return o.form_blocks[y.type].get_value(v,S||{},y)},setValue:function(S,N){return o.form_blocks[y.type].set_value(v,S,N||{},y)}},b=o._lightbox_controls["get_"+y.type+"_control"];return b?b(E):E},o._lightbox_controls.get_template_control=function(c){return c.control=c.node,c},o._lightbox_controls.get_select_control=function(c){return c.control=c.node.getElementsByTagName("select")[0],c},o._lightbox_controls.get_textarea_control=function(c){return c.control=c.node.getElementsByTagName("textarea")[0],c},o._lightbox_controls.get_time_control=function(c){return c.control=c.node.getElementsByTagName("select"),c},o._lightbox_controls.defaults={template:{height:30},textarea:{height:200},select:{height:23},time:{height:20}},o.form_blocks={template:{render:function(c){var u=o._lightbox_controls.defaults.template,f=u?u.height:30;return"<div class='dhx_cal_ltext dhx_cal_template' style='height:"+(c.height||f||30)+"px;'></div>"},set_value:function(c,u,f,y){c.innerHTML=u||""},get_value:function(c,u,f){return c.innerHTML||""},focus:function(c){}},textarea:{render:function(c){var u=o._lightbox_controls.defaults.textarea,f=u?u.height:200;return"<div class='dhx_cal_ltext' style='height:"+(c.height||f||"130")+"px;'><textarea></textarea></div>"},set_value:function(c,u,f){o.form_blocks.textarea._get_input(c).value=u||""},get_value:function(c,u){return o.form_blocks.textarea._get_input(c).value},focus:function(c){var u=o.form_blocks.textarea._get_input(c);o._focus(u,!0)},_get_input:function(c){return c.getElementsByTagName("textarea")[0]}},select:{render:function(c){for(var u=o._lightbox_controls.defaults.select,f=u?u.height:23,y="<div class='dhx_cal_ltext' style='height:"+(c.height||f||"23")+"px;'><select style='width:100%;'>",x=0;x<c.options.length;x++)y+="<option value='"+c.options[x].key+"'>"+c.options[x].label+"</option>";return y+="</select></div>"},set_value:function(c,u,f,y){var x=c.firstChild;!x._dhx_onchange&&y.onchange&&(o.event(x,"change",y.onchange),x._dhx_onchange=!0),u===void 0&&(u=(x.options[0]||{}).value),x.value=u||""},get_value:function(c,u){return c.firstChild.value},focus:function(c){var u=c.firstChild;o._focus(u,!0)}},time:{render:function(c){c.time_format||(c.time_format=["%H:%i","%d","%m","%Y"]),c._time_format_order={};var u=c.time_format,f=o.config,y=o.date.date_part(o._currentDate()),x=1440,v=0;o.config.limit_time_select&&(x=60*f.last_hour+1,v=60*f.first_hour,y.setHours(f.first_hour));for(var E="",b=0;b<u.length;b++){var S=u[b];b>0&&(E+=" ");var N="",O="";switch(S){case"%Y":var j,R,H;N="dhx_lightbox_year_select",c._time_format_order[3]=b,c.year_range&&(isNaN(c.year_range)?c.year_range.push&&(R=c.year_range[0],H=c.year_range[1]):j=c.year_range),j=j||10;var Z=Z||Math.floor(j/2);R=R||y.getFullYear()-Z,H=H||R+j;for(var re=R;re<H;re++)O+="<option value='"+re+"'>"+re+"</option>";break;case"%m":for(N="dhx_lightbox_month_select",c._time_format_order[2]=b,re=0;re<12;re++)O+="<option value='"+re+"'>"+this.locale.date.month_full[re]+"</option>";break;case"%d":for(N="dhx_lightbox_day_select",c._time_format_order[1]=b,re=1;re<32;re++)O+="<option value='"+re+"'>"+re+"</option>";break;case"%H:%i":N="dhx_lightbox_time_select",c._time_format_order[0]=b,re=v;var K=y.getDate();for(c._time_values=[];re<x;)O+="<option value='"+re+"'>"+this.templates.time_picker(y)+"</option>",c._time_values.push(re),y.setTime(y.valueOf()+60*this.config.time_step*1e3),re=24*(y.getDate()!=K?1:0)*60+60*y.getHours()+y.getMinutes()}if(O){var ae=o._waiAria.lightboxSelectAttrString(S);E+="<select class='"+N+"' "+(c.readonly?"disabled='disabled'":"")+ae+">"+O+"</select> "}}var W=o._lightbox_controls.defaults.select;return"<div style='height:"+((W?W.height:23)||30)+"px;padding-top:0px;font-size:inherit;' class='dhx_section_time'>"+E+"<span style='font-weight:normal; font-size:10pt;'> &nbsp;&ndash;&nbsp; </span>"+E+"</div>"},set_value:function(c,u,f,y){var x,v,E=o.config,b=c.getElementsByTagName("select"),S=y._time_format_order;if(E.full_day){if(!c._full_day){var N="<label class='dhx_fullday'><input type='checkbox' name='full_day' value='true'> "+o.locale.labels.full_day+"&nbsp;</label></input>";o.config.wide_form||(N=c.previousSibling.innerHTML+N),c.previousSibling.innerHTML=N,c._full_day=!0}var O=c.previousSibling.getElementsByTagName("input")[0];O.checked=o.date.time_part(f.start_date)===0&&o.date.time_part(f.end_date)===0,b[S[0]].disabled=O.checked,b[S[0]+b.length/2].disabled=O.checked,O.$_eventAttached||(O.$_eventAttached=!0,o.event(O,"click",function(){if(O.checked){var Z={};o.form_blocks.time.get_value(c,Z,y),x=o.date.date_part(Z.start_date),(+(v=o.date.date_part(Z.end_date))==+x||+v>=+x&&(f.end_date.getHours()!==0||f.end_date.getMinutes()!==0))&&(v=o.date.add(v,1,"day"))}else x=null,v=null;b[S[0]].disabled=O.checked,b[S[0]+b.length/2].disabled=O.checked,H(b,0,x||f.start_date),H(b,4,v||f.end_date)}))}if(E.auto_end_date&&E.event_duration)for(var j=function(){E.auto_end_date&&E.event_duration&&(x=new Date(b[S[3]].value,b[S[2]].value,b[S[1]].value,0,b[S[0]].value),v=new Date(x.getTime()+60*o.config.event_duration*1e3),H(b,4,v))},R=0;R<4;R++)b[R].$_eventAttached||(b[R].$_eventAttached=!0,o.event(b[R],"change",j));function H(Z,re,K){for(var ae=y._time_values,W=60*K.getHours()+K.getMinutes(),ne=W,Q=!1,we=0;we<ae.length;we++){var Ce=ae[we];if(Ce===W){Q=!0;break}Ce<W&&(ne=Ce)}Z[re+S[0]].value=Q?W:ne,Q||ne||(Z[re+S[0]].selectedIndex=-1),Z[re+S[1]].value=K.getDate(),Z[re+S[2]].value=K.getMonth(),Z[re+S[3]].value=K.getFullYear()}H(b,0,f.start_date),H(b,4,f.end_date)},get_value:function(c,u,f){var y=c.getElementsByTagName("select"),x=f._time_format_order;if(u.start_date=new Date(y[x[3]].value,y[x[2]].value,y[x[1]].value,0,y[x[0]].value),u.end_date=new Date(y[x[3]+4].value,y[x[2]+4].value,y[x[1]+4].value,0,y[x[0]+4].value),!y[x[3]].value||!y[x[3]+4].value){var v=o.getEvent(o._lightbox_id);v&&(u.start_date=v.start_date,u.end_date=v.end_date)}return u.end_date<=u.start_date&&(u.end_date=o.date.add(u.start_date,o.config.time_step,"minute")),{start_date:new Date(u.start_date),end_date:new Date(u.end_date)}},focus:function(c){o._focus(c.getElementsByTagName("select")[0])}}},o._setLbPosition=function(c){if(c){var u=window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop,f=window.pageXOffset||document.body.scrollLeft||document.documentElement.scrollLeft,y=window.innerHeight||document.documentElement.clientHeight;c.style.top=u?Math.round(u+Math.max((y-c.offsetHeight)/2,0))+"px":Math.round(Math.max((y-c.offsetHeight)/2,0)+9)+"px",document.documentElement.scrollWidth>document.body.offsetWidth?c.style.left=Math.round(f+(document.body.offsetWidth-c.offsetWidth)/2)+"px":c.style.left=Math.round((document.body.offsetWidth-c.offsetWidth)/2)+"px"}},o.showCover=function(c){c&&(c.style.display="block",this._setLbPosition(c)),o.config.responsive_lightbox&&(document.documentElement.classList.add("dhx_cal_overflow_container"),document.body.classList.add("dhx_cal_overflow_container")),this.show_cover()},o.showLightbox=function(c){if(c)if(this.callEvent("onBeforeLightbox",[c])){var u=this.getLightbox();this.showCover(u),this._fill_lightbox(c,u),this._waiAria.lightboxVisibleAttr(u),this.callEvent("onLightbox",[c])}else this._new_event&&(this._new_event=null)},o._fill_lightbox=function(c,u){var f=this.getEvent(c),y=u.getElementsByTagName("span"),x=[];if(o.templates.lightbox_header){x.push("");var v=o.templates.lightbox_header(f.start_date,f.end_date,f);x.push(v),y[1].innerHTML="",y[2].innerHTML=v}else{var E=this.templates.event_header(f.start_date,f.end_date,f),b=(this.templates.event_bar_text(f.start_date,f.end_date,f)||"").substr(0,70);x.push(E),x.push(b),y[1].innerHTML=E,y[2].innerHTML=b}this._waiAria.lightboxHeader(u,x.join(" "));for(var S=this.config.lightbox.sections,N=0;N<S.length;N++){var O=S[N],j=o._get_lightbox_section_node(O),R=this.form_blocks[O.type],H=f[O.map_to]!==void 0?f[O.map_to]:O.default_value;R.set_value.call(this,j,H,f,O),S[N].focus&&R.focus.call(this,j)}o._lightbox_id=c},o._get_lightbox_section_node=function(c){return document.getElementById(c.id).nextSibling},o._lightbox_out=function(c){for(var u=this.config.lightbox.sections,f=0;f<u.length;f++){var y=document.getElementById(u[f].id);y=y&&y.nextSibling;var x=this.form_blocks[u[f].type].get_value.call(this,y,c,u[f]);u[f].map_to!="auto"&&(c[u[f].map_to]=x)}return c},o._empty_lightbox=function(c){var u=o._lightbox_id,f=this.getEvent(u);this._lame_copy(f,c),this.setEvent(f.id,f),this._edit_stop_event(f,!0),this.render_view_data()},o.hide_lightbox=function(c){o.endLightbox(!1,this.getLightbox())},o.hideCover=function(c){c&&(c.style.display="none"),this.hide_cover(),o.config.responsive_lightbox&&(document.documentElement.classList.remove("dhx_cal_overflow_container"),document.body.classList.remove("dhx_cal_overflow_container"))},o.hide_cover=function(){this._cover&&this._cover.parentNode.removeChild(this._cover),this._cover=null},o.show_cover=function(){this._cover||(this._cover=document.createElement("div"),this._cover.className="dhx_cal_cover",document.body.appendChild(this._cover))},o.save_lightbox=function(){var c=this._lightbox_out({},this._lame_copy(this.getEvent(this._lightbox_id)));this.checkEvent("onEventSave")&&!this.callEvent("onEventSave",[this._lightbox_id,c,this._new_event])||(this._empty_lightbox(c),this.hide_lightbox())},o.startLightbox=function(c,u){this._lightbox_id=c,this._custom_lightbox=!0,this._temp_lightbox=this._lightbox,this._lightbox=u,this.showCover(u)},o.endLightbox=function(c,u){u=u||o.getLightbox();var f=o.getEvent(this._lightbox_id);f&&this._edit_stop_event(f,c),c&&o.render_view_data(),this.hideCover(u),this._custom_lightbox&&(this._lightbox=this._temp_lightbox,this._custom_lightbox=!1),this._temp_lightbox=this._lightbox_id=null,this._waiAria.lightboxHiddenAttr(u),this.callEvent("onAfterLightbox",[])},o.resetLightbox=function(){o._lightbox&&!o._custom_lightbox&&o._lightbox.parentNode.removeChild(o._lightbox),o._lightbox=null},o.cancel_lightbox=function(){this._lightbox_id&&this.callEvent("onEventCancel",[this._lightbox_id,this._new_event]),this.hide_lightbox()},o.hideLightbox=o.cancel_lightbox,o._init_lightbox_events=function(){if(!this.getLightbox().$_eventAttached){var c=this.getLightbox();c.$_eventAttached=!0,o.event(c,"click",function(u){var f=o.$domHelpers.closest(u.target,".dhx_btn_set");if(f){var y=f?f.getAttribute("data-action"):null;switch(y){case"dhx_save_btn":case"save":if(o.config.readonly_active)return;o.save_lightbox();break;case"dhx_delete_btn":case"delete":if(o.config.readonly_active)return;var x=o.locale.labels.confirm_deleting;o._dhtmlx_confirm(x,o.locale.labels.title_confirm_deleting,function(){o.deleteEvent(o._lightbox_id),o._new_event=null,o.hide_lightbox()});break;case"dhx_cancel_btn":case"cancel":o.cancel_lightbox();break;default:o.callEvent("onLightboxButton",[y,f,u])}}else{var v=o.$domHelpers.closest(u.target,".dhx_custom_button[data-section-index]");if(v){var E=Number(v.getAttribute("data-section-index"));o.form_blocks[o.config.lightbox.sections[E].type].button_click(o.$domHelpers.closest(v,".dhx_cal_lsection"),v,u)}}}),o.event(c,"keydown",function(u){var f=u||window.event,y=u.target||u.srcElement,x=y.querySelector("[dhx_button]");switch(x||(x=y.parentNode.querySelector(".dhx_custom_button, .dhx_readonly")),(u||f).keyCode){case 32:if((u||f).shiftKey)return;x&&x.click&&x.click();break;case o.keys.edit_save:if((u||f).shiftKey)return;if(x&&x.click)x.click();else{if(o.config.readonly_active)return;o.save_lightbox()}break;case o.keys.edit_cancel:o.cancel_lightbox()}})}},o.setLightboxSize=function(){var c=this._lightbox;if(c){var u=c.childNodes[1];u.style.height="0px",u.style.height=u.scrollHeight+"px",c.style.height=u.scrollHeight+o.xy.lightbox_additional_height+"px",u.style.height=u.scrollHeight+"px"}},o._init_dnd_events=function(){o.event(document.body,"mousemove",o._move_while_dnd),o.event(document.body,"mouseup",o._finish_dnd),o._init_dnd_events=function(){}},o._move_while_dnd=function(c){if(o._dnd_start_lb){document.dhx_unselectable||(document.body.className+=" dhx_unselectable",document.dhx_unselectable=!0);var u=o.getLightbox(),f=[c.pageX,c.pageY];u.style.top=o._lb_start[1]+f[1]-o._dnd_start_lb[1]+"px",u.style.left=o._lb_start[0]+f[0]-o._dnd_start_lb[0]+"px"}},o._ready_to_dnd=function(c){var u=o.getLightbox();o._lb_start=[parseInt(u.style.left,10),parseInt(u.style.top,10)],o._dnd_start_lb=[c.pageX,c.pageY]},o._finish_dnd=function(){o._lb_start&&(o._lb_start=o._dnd_start_lb=!1,document.body.className=document.body.className.replace(" dhx_unselectable",""),document.dhx_unselectable=!1)},o.getLightbox=function(){if(!this._lightbox){var c=document.createElement("div");c.className="dhx_cal_light",o.config.wide_form&&(c.className+=" dhx_cal_light_wide"),o.form_blocks.recurring&&(c.className+=" dhx_cal_light_rec"),o.config.rtl&&(c.className+=" dhx_cal_light_rtl"),o.config.responsive_lightbox&&(c.className+=" dhx_cal_light_responsive"),c.style.visibility="hidden";for(var u=this._lightbox_template,f=this.config.buttons_left,y=0;y<f.length;y++)u+="<div "+this._waiAria.lightboxButtonAttrString(f[y])+" data-action='"+f[y]+"' class='dhx_btn_set dhx_"+(o.config.rtl?"right":"left")+"_btn_set "+f[y]+"_set'><div class='"+f[y]+"'></div><div>"+o.locale.labels[f[y]]+"</div></div>";f=this.config.buttons_right;var x=o.config.rtl;for(y=0;y<f.length;y++)u+="<div "+this._waiAria.lightboxButtonAttrString(f[y])+" data-action='"+f[y]+"' class='dhx_btn_set dhx_"+(x?"left":"right")+"_btn_set "+f[y]+"_set' style='float:"+(x?"left":"right")+";'><div class='"+f[y]+"'></div><div>"+o.locale.labels[f[y]]+"</div></div>";u+="</div>",c.innerHTML=u,o.config.drag_lightbox&&(o.event(c.firstChild,"mousedown",o._ready_to_dnd),o.event(c.firstChild,"selectstart",function(j){return j.preventDefault(),!1}),c.firstChild.style.cursor="move",o._init_dnd_events()),this._waiAria.lightboxAttr(c),document.body.insertBefore(c,document.body.firstChild),this._lightbox=c;var v=this.config.lightbox.sections;for(u="",y=0;y<v.length;y++){var E=this.form_blocks[v[y].type];if(E){v[y].id="area_"+this.uid();var b="";v[y].button&&(b="<div "+o._waiAria.lightboxSectionButtonAttrString(this.locale.labels["button_"+v[y].button])+" class='dhx_custom_button' data-section-index='"+y+"' index='"+y+"'><div class='dhx_custom_button_"+v[y].button+"'></div><div>"+this.locale.labels["button_"+v[y].button]+"</div></div>"),this.config.wide_form&&(u+="<div class='dhx_wrap_section'>");var S=this.locale.labels["section_"+v[y].name];typeof S!="string"&&(S=v[y].name),u+="<div id='"+v[y].id+"' class='dhx_cal_lsection'>"+b+"<label>"+S+"</label></div>"+E.render.call(this,v[y]),u+="</div>"}}var N=c.getElementsByTagName("div");for(y=0;y<N.length;y++){var O=N[y];if(o._getClassName(O)=="dhx_cal_larea"){O.innerHTML=u;break}}o._bindLightboxLabels(v),this.setLightboxSize(),this._init_lightbox_events(this),c.style.display="none",c.style.visibility="visible"}return this._lightbox},o._bindLightboxLabels=function(c){for(var u=0;u<c.length;u++){var f=c[u];if(f.id&&document.getElementById(f.id)){for(var y=document.getElementById(f.id).querySelector("label"),x=o._get_lightbox_section_node(f);x&&!x.querySelector;)x=x.nextSibling;var v=!0;if(x){var E=x.querySelector("input, select, textarea");E&&(f.inputId=E.id||"input_"+o.uid(),E.id||(E.id=f.inputId),y.setAttribute("for",f.inputId),v=!1)}v&&o.form_blocks[f.type].focus&&o.event(y,"click",function(b){return function(){var S=o.form_blocks[b.type],N=o._get_lightbox_section_node(b);S&&S.focus&&S.focus.call(o,N)}}(f))}}},o.attachEvent("onEventIdChange",function(c,u){this._lightbox_id==c&&(this._lightbox_id=u)}),o._lightbox_template="<div class='dhx_cal_ltitle'><span class='dhx_mark'>&nbsp;</span><span class='dhx_time'></span><span class='dhx_title'></span></div><div class='dhx_cal_larea'></div>"}(w),Kr(w),function(o){o.getRootView=function(){return{view:{render:function(){return{tag:"div",type:1,attrs:{style:"width:100%;height:100%;"},hooks:{didInsert:function(){o.setCurrentView()}},body:[{el:this.el,type:1}]}},init:function(){var c=document.createElement("DIV");c.id="scheduler_"+o.uid(),c.style.width="100%",c.style.height="100%",c.classList.add("dhx_cal_container"),c.cmp="grid",c.innerHTML='<div class="dhx_cal_navline"><div class="dhx_cal_prev_button">&nbsp;</div><div class="dhx_cal_next_button">&nbsp;</div><div class="dhx_cal_today_button"></div><div class="dhx_cal_date"></div><div class="dhx_cal_tab" data-tab="day"></div><div class="dhx_cal_tab" data-tab="week"></div><div class="dhx_cal_tab" data-tab="month"></div></div><div class="dhx_cal_header"></div><div class="dhx_cal_data"></div>',o.init(c),this.el=c}},type:4}}}(w),pa(w),window.jQuery&&function(o){var c=0,u=[];o.fn.dhx_scheduler=function(f){if(typeof f!="string"){var y=[];return this.each(function(){if(this&&this.getAttribute)if(this.getAttribute("dhxscheduler"))y.push(window[this.getAttribute("dhxscheduler")]);else{var x="scheduler";c&&(x="scheduler"+(c+1),window[x]=Scheduler.getSchedulerInstance());var v=window[x];for(var E in this.setAttribute("dhxscheduler",x),f)E!="data"&&(v.config[E]=f[E]);this.getElementsByTagName("div").length||(this.innerHTML='<div class="dhx_cal_navline"><div class="dhx_cal_prev_button">&nbsp;</div><div class="dhx_cal_next_button">&nbsp;</div><div class="dhx_cal_today_button"></div><div class="dhx_cal_date"></div><div class="dhx_cal_tab" name="day_tab" data-tab="day" style="right:204px;"></div><div class="dhx_cal_tab" name="week_tab" data-tab="week" style="right:140px;"></div><div class="dhx_cal_tab" name="month_tab" data-tab="month" style="right:76px;"></div></div><div class="dhx_cal_header"></div><div class="dhx_cal_data"></div>',this.className+=" dhx_cal_container"),v.init(this,v.config.date,v.config.mode),f.data&&v.parse(f.data),y.push(v),c++}}),y.length===1?y[0]:y}if(u[f])return u[f].apply(this,[]);o.error("Method "+f+" does not exist on jQuery.dhx_scheduler")}}(window.jQuery),function(o){(function(){var c=o.setCurrentView,u=o.updateView,f=null,y=null,x=function(b,S){var N=this;a.a.clearTimeout(y),a.a.clearTimeout(f);var O=N._date,j=N._mode;E(this,b,S),y=setTimeout(function(){N.callEvent("onBeforeViewChange",[j,O,S||N._mode,b||N._date])?(u.call(N,b,S),N.callEvent("onViewChange",[N._mode,N._date]),a.a.clearTimeout(f),y=0):E(N,O,j)},o.config.delay_render)},v=function(b,S){var N=this,O=arguments;E(this,b,S),a.a.clearTimeout(f),f=setTimeout(function(){y||u.apply(N,O)},o.config.delay_render)};function E(b,S,N){S&&(b._date=S),N&&(b._mode=N)}o.attachEvent("onSchedulerReady",function(){o.config.delay_render?(o.setCurrentView=x,o.updateView=v):(o.setCurrentView=c,o.updateView=u)})})()}(w),function(o){o.createDataProcessor=function(c){var u,f;c instanceof Function?u=c:c.hasOwnProperty("router")?u=c.router:c.hasOwnProperty("event")&&(u=c),f=u?"CUSTOM":c.mode||"REST-JSON";var y=new ie(c.url);return y.init(o),y.setTransactionMode({mode:f,router:u},c.batchUpdate),y},o.DataProcessor=ie}(w),function(o){o.attachEvent("onSchedulerReady",function(){typeof dhtmlxError<"u"&&window.dhtmlxError.catchError("LoadXML",function(c,u,f){var y=f[0].responseText;switch(o.config.ajax_error){case"alert":a.a.alert(y);break;case"console":a.a.console.log(y)}})})}(w);var m=new bt({en:pt,ar:Ae,be:He,ca:Ue,cn:oe,cs:Le,da:nt,de:tt,el:Ge,es:vn,fi:or,fr:Ei,he:$r,hu:Yr,id:Oc,it:mo,jp:Jr,nb:se,nl:he,no:pe,pl:ye,pt:Pe,ro:Be,ru:Re,si:ut,sk:Mt,sv:mt,tr:Qr,ua:Un});w.i18n={addLocale:m.addLocale,setLocale:function(o){if(typeof o=="string"){var c=m.getLocale(o);c||(c=m.getLocale("en")),w.locale=c}else if(o)if(w.locale)for(var u in o)o[u]&&Jn(o[u])==="object"?(w.locale[u]||(w.locale[u]={}),w.mixin(w.locale[u],o[u],!0)):w.locale[u]=o[u];else w.locale=o},getLocale:m.getLocale},w.i18n.setLocale("en"),w.ext={};var p={};return w.plugins=function(o){(function(c,u,f){var y=[];for(var x in c)if(c[x]){var v=x.toLowerCase();u[v]&&u[v].forEach(function(E){var b=E.toLowerCase();c[b]||y.push(b)}),y.push(v)}return y.sort(function(E,b){var S=f[E]||0,N=f[b]||0;return S>N?1:S<N?-1:0}),y})(o,{treetimeline:["timeline"],daytimeline:["timeline"],outerdrag:["legacy"]},{legacy:1,limit:1,timeline:2,daytimeline:3,treetimeline:3,outerdrag:6}).forEach(function(c){if(!p[c]){var u=s.getExtension(c);if(!u)throw new Error("unknown plugin "+c);u(w),p[c]=!0}})},w};function Vg(s,w){for(var d=0;d<w.length;d++){var m=w[d];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(s,m.key,m)}}var QS=function(){function s(w){for(var d in function(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}(this,s),this._extensions={},w)this._extensions[d]=w[d]}return function(w,d,m){d&&Vg(w.prototype,d),m&&Vg(w,m)}(s,[{key:"addExtension",value:function(w,d){this._extensions[w]=d}},{key:"getExtension",value:function(w){return this._extensions[w]}}]),s}();function Hg(s,w){for(var d=0;d<w.length;d++){var m=w[d];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(s,m.key,m)}}typeof dhtmlx<"u"&&dhtmlx.attaches&&(dhtmlx.attaches.attachScheduler=function(s,w,d,m){d=d||'<div class="dhx_cal_tab" name="day_tab" data-tab="day" style="right:204px;"></div><div class="dhx_cal_tab" name="week_tab" data-tab="week" style="right:140px;"></div><div class="dhx_cal_tab" name="month_tab" data-tab="month" style="right:76px;"></div>';var p=document.createElement("DIV");return p.id="dhxSchedObj_"+this._genStr(12),p.innerHTML='<div id="'+p.id+'" class="dhx_cal_container" style="width:100%; height:100%;"><div class="dhx_cal_navline"><div class="dhx_cal_prev_button">&nbsp;</div><div class="dhx_cal_next_button">&nbsp;</div><div class="dhx_cal_today_button"></div><div class="dhx_cal_date"></div>'+d+'</div><div class="dhx_cal_header"></div><div class="dhx_cal_data"></div></div>',document.body.appendChild(p.firstChild),this.attachObject(p.id,!1,!0),this.vs[this.av].sched=m,this.vs[this.av].schedId=p.id,m.setSizes=m.updateView,m.destructor=function(){},m.init(p.id,s,w),this.vs[this._viewRestore()].sched});var ki=function(s,w){w(!1,"The ".concat(s,` extension is not included in this version of dhtmlxScheduler.<br>
		You may need a <a href="https://docs.dhtmlx.com/scheduler/editions_comparison.html" target="_blank">Professional version of the component</a>.<br>
		Contact us at <a href="https://dhtmlx.com/docs/contact.shtml" target="_blank">https://dhtmlx.com/docs/contact.shtml</a> if you have any questions.`))},XS=function(s){(function(){var w=[];function d(){return!!w.length}function m(f){setTimeout(function(){d()||function(y,x){for(;y&&y!=x;)y=y.parentNode;return y==x}(document.activeElement,s.$container)||s.focus()},1)}function p(f){var y=(f=f||window.event).currentTarget;(function(x){return x==w[w.length-1]})(y)&&s.$keyboardNavigation.trapFocus(y,f)}if(s.attachEvent("onLightbox",function(){(function(f){s.eventRemove(f,"keydown",p),s.event(f,"keydown",p),w.push(f)})(s.getLightbox())}),s.attachEvent("onAfterLightbox",function(){var f=w.pop();f&&s.eventRemove(f,"keydown",p),m()}),s.attachEvent("onAfterQuickInfo",function(){m()}),!s._keyNavMessagePopup){s._keyNavMessagePopup=!0;var o=null,c=null,u=[];s.attachEvent("onMessagePopup",function(f){for(o=document.activeElement,c=o;c&&s._getClassName(c).indexOf("dhx_cal_data")<0;)c=c.parentNode;c&&(c=c.parentNode),s.eventRemove(f,"keydown",p),s.event(f,"keydown",p),u.push(f)}),s.attachEvent("onAfterMessagePopup",function(){var f=u.pop();f&&s.eventRemove(f,"keydown",p),setTimeout(function(){for(var y=document.activeElement;y&&s._getClassName(y).indexOf("dhx_cal_light")<0;)y=y.parentNode;y||(o&&o.parentNode?o.focus():c&&c.parentNode&&c.focus(),o=null,c=null)},1)})}s.$keyboardNavigation.isModal=d})()},ZS=function(s){s._temp_key_scope=function(){s.config.key_nav=!0,s.$keyboardNavigation._pasteDate=null,s.$keyboardNavigation._pasteSection=null;var w=null,d={};function m(c){c=c||window.event,d.x=c.clientX,d.y=c.clientY}function p(){for(var c,u,f=document.elementFromPoint(d.x,d.y);f&&f!=s._obj;)f=f.parentNode;return c=f==s._obj,u=s.$keyboardNavigation.dispatcher.isEnabled(),c||u}function o(c){return s._lame_copy({},c)}document.body?s.event(document.body,"mousemove",m):s.event(window,"load",function(){s.event(document.body,"mousemove",m)}),s.attachEvent("onMouseMove",function(c,u){var f=s.getState();if(f.mode&&f.min_date){var y=s.getActionData(u);s.$keyboardNavigation._pasteDate=y.date,s.$keyboardNavigation._pasteSection=y.section}}),s._make_pasted_event=function(c){var u=s.$keyboardNavigation._pasteDate,f=s.$keyboardNavigation._pasteSection,y=c.end_date-c.start_date,x=o(c);if(function(E){delete E.rec_type,delete E.rec_pattern,delete E.event_pid,delete E.event_length}(x),x.start_date=new Date(u),x.end_date=new Date(x.start_date.valueOf()+y),f){var v=s._get_section_property();s.config.multisection?x[v]=c[v]:x[v]=f}return x},s._do_paste=function(c,u,f){s.callEvent("onBeforeEventPasted",[c,u,f])!==!1&&(s.addEvent(u),s.callEvent("onEventPasted",[c,u,f]))},s._is_key_nav_active=function(){return!(!this._is_initialized()||this._is_lightbox_open()||!this.config.key_nav)},s.event(document,"keydown",function(c){(c.ctrlKey||c.metaKey)&&c.keyCode==86&&s._buffer_event&&!s.$keyboardNavigation.dispatcher.isEnabled()&&(s.$keyboardNavigation.dispatcher.isActive=p())}),s._key_nav_copy_paste=function(c){if(!s._is_key_nav_active())return!0;if(c.keyCode==37||c.keyCode==39){c.cancelBubble=!0;var u=s.date.add(s._date,c.keyCode==37?-1:1,s._mode);return s.setCurrentView(u),!0}var f=function(){var v=s.$keyboardNavigation.dispatcher.getActiveNode();return v&&v.eventId?v.eventId:s._select_id}();if((c.ctrlKey||c.metaKey)&&c.keyCode==67)return f&&(s._buffer_event=o(s.getEvent(f)),w=!0,s.callEvent("onEventCopied",[s.getEvent(f)])),!0;if((c.ctrlKey||c.metaKey)&&c.keyCode==88&&f){w=!1;var y=s._buffer_event=o(s.getEvent(f));s.updateEvent(y.id),s.callEvent("onEventCut",[y])}if((c.ctrlKey||c.metaKey)&&c.keyCode==86&&p()){if(y=(y=s._buffer_event?s.getEvent(s._buffer_event.id):s._buffer_event)||s._buffer_event){var x=s._make_pasted_event(y);w?(x.id=s.uid(),s._do_paste(w,x,y)):s.callEvent("onBeforeEventChanged",[x,c,!1,y])&&(s._do_paste(w,x,y),w=!0)}return!0}}},s._temp_key_scope()},eT=function(s){s.$keyboardNavigation.attachSchedulerHandlers=function(){var w,d=s.$keyboardNavigation.dispatcher,m=function(f){if(s.config.key_nav)return d.keyDownHandler(f)},p=function(){d.keepScrollPosition(function(){d.focusGlobalNode()})};s.attachEvent("onDataRender",function(){s.config.key_nav&&d.isEnabled()&&!s.getState().editor_id&&(clearTimeout(w),w=setTimeout(function(){d.isEnabled()||d.enable(),o()}))});var o=function(){if(d.isEnabled()){var f=d.getActiveNode();f&&(f.isValid()||(f=f.fallback()),!f||f instanceof s.$keyboardNavigation.MinicalButton||f instanceof s.$keyboardNavigation.MinicalCell||d.keepScrollPosition(function(){f.focus(!0)}))}};function c(f){if(!s.config.key_nav)return!0;var y,x=s.$keyboardNavigation.isChildOf(f.target||f.srcElement,s.$container.querySelector(".dhx_cal_data")),v=s.getActionData(f);s._locate_event(f.target||f.srcElement)?y=new s.$keyboardNavigation.Event(s._locate_event(f.target||f.srcElement)):x&&(y=new s.$keyboardNavigation.TimeSlot,v.date&&x&&(y=y.nextSlot(new s.$keyboardNavigation.TimeSlot(v.date,null,v.section)))),y&&(d.isEnabled()?v.date&&x&&d.delay(function(){d.setActiveNode(y)}):d.activeNode=y)}s.attachEvent("onSchedulerReady",function(){var f=s.$container;s.eventRemove(document,"keydown",m),s.eventRemove(f,"mousedown",c),s.eventRemove(f,"focus",p),s.config.key_nav?(s.event(document,"keydown",m),s.event(f,"mousedown",c),s.event(f,"focus",p),f.setAttribute("tabindex","0")):f.removeAttribute("tabindex")});var u=s.updateEvent;s.updateEvent=function(f){var y=u.apply(this,arguments);if(s.config.key_nav&&d.isEnabled()&&s.getState().select_id==f){var x=new s.$keyboardNavigation.Event(f);s.getState().lightbox_id||function(v){if(s.config.key_nav&&d.isEnabled()){var E=v,b=new s.$keyboardNavigation.Event(E.eventId);if(!b.isValid()){var S=b.start||E.start,N=b.end||E.end,O=b.section||E.section;(b=new s.$keyboardNavigation.TimeSlot(S,N,O)).isValid()||(b=new s.$keyboardNavigation.TimeSlot)}d.setActiveNode(b);var j=d.getActiveNode();j&&j.getNode&&document.activeElement!=j.getNode()&&d.focusNode(d.getActiveNode())}}(x)}return y},s.attachEvent("onEventDeleted",function(f){return s.config.key_nav&&d.isEnabled()&&d.getActiveNode().eventId==f&&d.setActiveNode(new s.$keyboardNavigation.TimeSlot),!0}),s.attachEvent("onClearAll",function(){if(!s.config.key_nav)return!0;d.isEnabled()&&d.getActiveNode()instanceof s.$keyboardNavigation.Event&&d.setActiveNode(new s.$keyboardNavigation.TimeSlot)})}};function Lc(s){return(Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}function Ph(s){return(Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}function Bg(s){return(Bg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}function qg(s){return(qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}function $h(s){return($h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}var Rh=new(function(){function s(w){(function(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")})(this,s),this._seed=0,this._schedulerPlugins=[],this._bundledExtensions=w,this._extensionsManager=new QS(w)}return function(w,d,m){d&&Hg(w.prototype,d),m&&Hg(w,m)}(s,[{key:"plugin",value:function(w){this._schedulerPlugins.push(w),a.a.scheduler&&w(a.a.scheduler)}},{key:"getSchedulerInstance",value:function(w){for(var d=vo(this._extensionsManager),m=0;m<this._schedulerPlugins.length;m++)this._schedulerPlugins[m](d);return d._internal_id=this._seed++,this.$syncFactory&&this.$syncFactory(d),w&&this._initFromConfig(d,w),d}},{key:"_initFromConfig",value:function(w,d){if(d.plugins&&w.plugins(d.plugins),d.config&&w.mixin(w.config,d.config,!0),d.templates&&w.attachEvent("onTemplatesReady",function(){w.mixin(w.templates,d.templates,!0)},{once:!0}),d.events)for(var m in d.events)w.attachEvent(m,d.events[m]);d.locale&&w.i18n.setLocale(d.locale),Array.isArray(d.calendars)&&d.calendars.forEach(function(p){w.addCalendar(p)}),d.container?w.init(d.container):w.init(),d.data&&(typeof d.data=="string"?w.load(d.data):w.parse(d.data))}}]),s}())({active_links:function(s){s.config.active_link_view="day",s._active_link_click=function(w){var d=w.target.getAttribute("data-link-date"),m=s.date.str_to_date(s.config.api_date,!1,!0);if(d)return s.setCurrentView(m(d),s.config.active_link_view),w&&w.preventDefault&&w.preventDefault(),!1},s.attachEvent("onTemplatesReady",function(){var w=function(m,p){p=p||m+"_scale_date",s.templates["_active_links_old_"+p]||(s.templates["_active_links_old_"+p]=s.templates[p]);var o=s.templates["_active_links_old_"+p],c=s.date.date_to_str(s.config.api_date);s.templates[p]=function(u){return"<a data-link-date='"+c(u)+"' href='#'>"+o(u)+"</a>"}};if(w("week"),w("","month_day"),this.matrix)for(var d in this.matrix)w(d);this._detachDomEvent(this._obj,"click",s._active_link_click),s.event(this._obj,"click",s._active_link_click)})},agenda_view:function(s){s.date.add_agenda=function(w){return s.date.add(w,1,"year")},s.templates.agenda_time=function(w,d,m){return m._timed?this.day_date(m.start_date,m.end_date,m)+" "+this.event_date(w):s.templates.day_date(w)+" &ndash; "+s.templates.day_date(d)},s.templates.agenda_text=function(w,d,m){return m.text},s.templates.agenda_date=function(){return""},s.date.agenda_start=function(){return s.date.date_part(s._currentDate())},s.attachEvent("onTemplatesReady",function(){var w=s.dblclick_dhx_cal_data;s.dblclick_dhx_cal_data=function(){if(this._mode=="agenda")!this.config.readonly&&this.config.dblclick_create&&this.addEventNow();else if(w)return w.apply(this,arguments)};var d=s.render_data;s.render_data=function(o){if(this._mode!="agenda")return d.apply(this,arguments);p()};var m=s.render_view_data;function p(){var o=s.get_visible_events();o.sort(function(j,R){return j.start_date>R.start_date?1:-1});for(var c,u="<div class='dhx_agenda_area' "+s._waiAria.agendaDataAttrString()+">",f=0;f<o.length;f++){var y=o[f],x=y.color?"background:"+y.color+";":"",v=y.textColor?"color:"+y.textColor+";":"",E=s.templates.event_class(y.start_date,y.end_date,y);c=s._waiAria.agendaEventAttrString(y);var b=s._waiAria.agendaDetailsBtnString();u+="<div "+c+" class='dhx_agenda_line"+(E?" "+E:"")+"' event_id='"+y.id+"' "+s.config.event_attribute+"='"+y.id+"' style='"+v+x+(y._text_style||"")+"'><div class='dhx_agenda_event_time'>"+(s.config.rtl?s.templates.agenda_time(y.end_date,y.start_date,y):s.templates.agenda_time(y.start_date,y.end_date,y))+"</div>",u+="<div "+b+" class='dhx_event_icon icon_details'>&nbsp;</div>",u+="<span>"+s.templates.agenda_text(y.start_date,y.end_date,y)+"</span></div>"}u+="<div class='dhx_v_border'></div></div>",s._els.dhx_cal_data[0].innerHTML=u,s._els.dhx_cal_data[0].childNodes[0].scrollTop=s._agendaScrollTop||0;var S=s._els.dhx_cal_data[0].childNodes[0];S.childNodes[S.childNodes.length-1].style.height=S.offsetHeight<s._els.dhx_cal_data[0].offsetHeight?"100%":S.offsetHeight+"px";var N=s._els.dhx_cal_data[0].firstChild.childNodes,O=s._getNavDateElement();for(O&&(O.innerHTML=s.templates.agenda_date(s._min_date,s._max_date,s._mode)),s._rendered=[],f=0;f<N.length-1;f++)s._rendered[f]=N[f]}s.render_view_data=function(){return this._mode=="agenda"&&(s._agendaScrollTop=s._els.dhx_cal_data[0].childNodes[0].scrollTop,s._els.dhx_cal_data[0].childNodes[0].scrollTop=0),m.apply(this,arguments)},s.agenda_view=function(o){s._min_date=s.config.agenda_start||s.date.agenda_start(s._date),s._max_date=s.config.agenda_end||s.date.add_agenda(s._min_date,1),function(c){if(c){var u=s.locale.labels,f=s._waiAria.agendaHeadAttrString(),y=s._waiAria.agendaHeadDateString(u.date),x=s._waiAria.agendaHeadDescriptionString(u.description);s._els.dhx_cal_header[0].innerHTML="<div "+f+" class='dhx_agenda_line'><div "+y+">"+u.date+"</div><span class = 'description_header' style='padding-left:25px' "+x+">"+u.description+"</span></div>",s._table_view=!0,s.set_sizes()}}(o),o?(s._cols=null,s._colsS=null,s._table_view=!0,p()):s._table_view=!1}})},all_timed:function(s){s.config.all_timed="short",s.config.all_timed_month=!1;var w=function(u){return!((u.end_date-u.start_date)/36e5>=24)||s._drag_mode=="resize"&&s._drag_id==u.id};s._safe_copy=function(u){var f=null,y=s._copy_event(u);return u.event_pid&&(f=s.getEvent(u.event_pid)),f&&f.isPrototypeOf(u)&&(delete y.event_length,delete y.event_pid,delete y.rec_pattern,delete y.rec_type),y};var d=s._pre_render_events_line,m=s._pre_render_events_table,p=function(u,f){return this._table_view?m.call(this,u,f):d.call(this,u,f)};s._pre_render_events_line=s._pre_render_events_table=function(u,f){if(!this.config.all_timed||this._table_view&&this._mode!="month"||this._mode=="month"&&!this.config.all_timed_month)return p.call(this,u,f);for(var y=0;y<u.length;y++){var x=u[y];if(!x._timed)if(this.config.all_timed!="short"||w(x)){var v=this._safe_copy(x);x._virtual?v._first_chunk=!1:v._first_chunk=!0,v._drag_resize=!1,v._virtual=!0,v.start_date=new Date(v.start_date),N(x)?(v.end_date=O(v.start_date),this.config.last_hour!=24&&(v.end_date=j(v.start_date,this.config.last_hour))):v.end_date=new Date(x.end_date);var E=!1;v.start_date<this._max_date&&v.end_date>this._min_date&&v.start_date<v.end_date&&(u[y]=v,E=!0);var b=this._safe_copy(x);if(b._virtual=!0,b.end_date=new Date(b.end_date),b.start_date<this._min_date?b.start_date=j(this._min_date,this.config.first_hour):b.start_date=j(O(x.start_date),this.config.first_hour),b.start_date<this._max_date&&b.start_date<b.end_date){if(!E){u[y--]=b;continue}u.splice(y+1,0,b),b._last_chunk=!1}else v._last_chunk=!0,v._drag_resize=!0}else this._mode!="month"&&u.splice(y--,1)}var S=this._drag_mode!="move"&&f;return p.call(this,u,S);function N(R){var H=O(R.start_date);return+R.end_date>+H}function O(R){var H=s.date.add(R,1,"day");return H=s.date.date_part(H)}function j(R,H){var Z=s.date.date_part(new Date(R));return Z.setHours(H),Z}};var o=s.get_visible_events;s.get_visible_events=function(u){return this.config.all_timed&&this.config.multi_day?o.call(this,!1):o.call(this,u)},s.attachEvent("onBeforeViewChange",function(u,f,y,x){return s._allow_dnd=y=="day"||y=="week",!0}),s._is_main_area_event=function(u){return!!(u._timed||this.config.all_timed===!0||this.config.all_timed=="short"&&w(u))};var c=s.updateEvent;s.updateEvent=function(u){var f,y,x=s.getEvent(u);x&&(f=s.config.all_timed&&!(s.isOneDayEvent(s._events[u])||s.getState().drag_id))&&(y=s.config.update_render,s.config.update_render=!0),c.apply(s,arguments),x&&f&&(s.config.update_render=y)}},collision:function(s){var w,d;function m(p){s._get_section_view()&&p&&(w=s.getEvent(p)[s._get_section_property()])}s.config.collision_limit=1,s.attachEvent("onBeforeDrag",function(p){return m(p),!0}),s.attachEvent("onBeforeLightbox",function(p){var o=s.getEvent(p);return d=[o.start_date,o.end_date],m(p),!0}),s.attachEvent("onEventChanged",function(p){if(!p||!s.getEvent(p))return!0;var o=s.getEvent(p);if(!s.checkCollision(o)){if(!d)return!1;o.start_date=d[0],o.end_date=d[1],o._timed=this.isOneDayEvent(o)}return!0}),s.attachEvent("onBeforeEventChanged",function(p,o,c){return s.checkCollision(p)}),s.attachEvent("onEventAdded",function(p,o){s.checkCollision(o)||s.deleteEvent(p)}),s.attachEvent("onEventSave",function(p,o,c){if((o=s._lame_clone(o)).id=p,!o.start_date||!o.end_date){var u=s.getEvent(p);o.start_date=new Date(u.start_date),o.end_date=new Date(u.end_date)}return o.rec_type&&s._roll_back_dates(o),s.checkCollision(o)}),s._check_sections_collision=function(p,o){var c=s._get_section_property();return p[c]==o[c]&&p.id!=o.id},s.checkCollision=function(p){var o=[],c=s.config.collision_limit;if(p.rec_type)for(var u=s.getRecDates(p),f=0;f<u.length;f++)for(var y=s.getEvents(u[f].start_date,u[f].end_date),x=0;x<y.length;x++)(y[x].event_pid||y[x].id)!=p.id&&o.push(y[x]);else{o=s.getEvents(p.start_date,p.end_date);for(var v=0;v<o.length;v++){var E=o[v];if(E.id==p.id||E.event_length&&[E.event_pid,E.event_length].join("#")==p.id){o.splice(v,1);break}}}var b=s._get_section_view(),S=s._get_section_property(),N=!0;if(b){var O=0;for(v=0;v<o.length;v++)o[v].id!=p.id&&this._check_sections_collision(o[v],p)&&O++;O>=c&&(N=!1)}else o.length>=c&&(N=!1);if(!N){var j=!s.callEvent("onEventCollision",[p,o]);return j||(p[S]=w||p[S]),j}return N}},container_autoresize:function(s){s.config.container_autoresize=!0,s.config.month_day_min_height=90,s.config.min_grid_size=25,s.config.min_map_size=400;var w=s._pre_render_events,d=!0,m=0,p=0;s._pre_render_events=function(x,v){if(!s.config.container_autoresize||!d)return w.apply(this,arguments);var E=this.xy.bar_height,b=this._colsS.heights,S=this._colsS.heights=[0,0,0,0,0,0,0],N=this._els.dhx_cal_data[0];if(x=this._table_view?this._pre_render_events_table(x,v):this._pre_render_events_line(x,v),this._table_view)if(v)this._colsS.heights=b;else{var O=N.firstChild;if(O.rows){for(var j=0;j<O.rows.length;j++){if(S[j]++,S[j]*E>this._colsS.height-this.xy.month_head_height){var R=O.rows[j].cells,H=this._colsS.height-this.xy.month_head_height;1*this.config.max_month_events!==this.config.max_month_events||S[j]<=this.config.max_month_events?H=S[j]*E:(this.config.max_month_events+1)*E>this._colsS.height-this.xy.month_head_height&&(H=(this.config.max_month_events+1)*E);for(var Z=0;Z<R.length;Z++)R[Z].childNodes[1].style.height=H+"px";S[j]=(S[j-1]||0)+R[0].offsetHeight}S[j]=(S[j-1]||0)+O.rows[j].cells[0].offsetHeight}S.unshift(0),O.parentNode.offsetHeight<O.parentNode.scrollHeight&&O._h_fix}else if(x.length||this._els.dhx_multi_day[0].style.visibility!="visible"||(S[0]=-1),x.length||S[0]==-1){var re=(S[0]+1)*E+1;p!=re+1&&(this._obj.style.height=m-p+re-1+"px"),re+="px",N.style.top=this._els.dhx_cal_navline[0].offsetHeight+this._els.dhx_cal_header[0].offsetHeight+parseInt(re,10)+"px",N.style.height=this._obj.offsetHeight-parseInt(N.style.top,10)-(this.xy.margin_top||0)+"px";var K=this._els.dhx_multi_day[0];K.style.height=re,K.style.visibility=S[0]==-1?"hidden":"visible",(K=this._els.dhx_multi_day[1]).style.height=re,K.style.visibility=S[0]==-1?"hidden":"visible",K.className=S[0]?"dhx_multi_day_icon":"dhx_multi_day_icon_small",this._dy_shift=(S[0]+1)*E,S[0]=0}}return x};var o=["dhx_cal_navline","dhx_cal_header","dhx_multi_day","dhx_cal_data"],c=function(x){m=0;for(var v=0;v<o.length;v++){var E=o[v],b=s._els[E]?s._els[E][0]:null,S=0;switch(E){case"dhx_cal_navline":case"dhx_cal_header":S=parseInt(b.style.height,10);break;case"dhx_multi_day":S=b?b.offsetHeight-1:0,p=S;break;case"dhx_cal_data":var N=s.getState().mode;if(S=b.childNodes[1]&&N!="month"?b.childNodes[1].offsetHeight:Math.max(b.offsetHeight-1,b.scrollHeight),N=="month")s.config.month_day_min_height&&!x&&(S=b.getElementsByTagName("tr").length*s.config.month_day_min_height),x&&(b.style.height=S+"px");else if(N=="year")S=190*s.config.year_y;else if(N=="agenda"){if(S=0,b.childNodes&&b.childNodes.length)for(var O=0;O<b.childNodes.length;O++)S+=b.childNodes[O].offsetHeight;S+2<s.config.min_grid_size?S=s.config.min_grid_size:S+=2}else if(N=="week_agenda"){for(var j,R,H=s.xy.week_agenda_scale_height+s.config.min_grid_size,Z=0;Z<b.childNodes.length;Z++)for(R=b.childNodes[Z],O=0;O<R.childNodes.length;O++){for(var re=0,K=R.childNodes[O].childNodes[1],ae=0;ae<K.childNodes.length;ae++)re+=K.childNodes[ae].offsetHeight;j=re+s.xy.week_agenda_scale_height,(j=Z!=1||O!=2&&O!=3?j:2*j)>H&&(H=j)}S=3*H}else if(N=="map"){S=0;var W=b.querySelectorAll(".dhx_map_line");for(O=0;O<W.length;O++)S+=W[O].offsetHeight;S+2<s.config.min_map_size?S=s.config.min_map_size:S+=2}else if(s._gridView)if(S=0,b.childNodes[1].childNodes[0].childNodes&&b.childNodes[1].childNodes[0].childNodes.length){for(W=b.childNodes[1].childNodes[0].childNodes[0].childNodes,O=0;O<W.length;O++)S+=W[O].offsetHeight;(S+=2)<s.config.min_grid_size&&(S=s.config.min_grid_size)}else S=s.config.min_grid_size;if(s.matrix&&s.matrix[N]){if(x)S+=0,b.style.height=S+"px";else{S=0;for(var ne=s.matrix[N],Q=ne.y_unit,we=0;we<Q.length;we++)S+=ne.getSectionHeight(Q[we].key);s.$container.clientWidth!=s.$container.scrollWidth&&(S+=y())}S-=1}(N=="day"||N=="week"||s._props&&s._props[N])&&(S+=2)}m+=S+=1}s._obj.style.height=m+"px",x||s.updateView()};function u(){d=!1,s.callEvent("onAfterSchedulerResize",[]),d=!0}var f=function(){if(!s.config.container_autoresize||!d)return!0;var x=s.getState().mode;if(!x)return!0;var v=window.requestAnimationFrame||window.setTimeout,E=document.documentElement.scrollTop;v(function(){c()}),s.matrix&&s.matrix[x]||x=="month"?v(function(){c(!0),document.documentElement.scrollTop=E,u()},1):u()};function y(){var x=document.createElement("div");x.style.cssText="visibility:hidden;position:absolute;left:-1000px;width:100px;padding:0px;margin:0px;height:110px;min-height:100px;overflow-y:scroll;",document.body.appendChild(x);var v=x.offsetWidth-x.clientWidth;return document.body.removeChild(x),v}s.attachEvent("onBeforeViewChange",function(){var x=s.config.container_autoresize;if(s.xy.$original_scroll_width||(s.xy.$original_scroll_width=s.xy.scroll_width),s.xy.scroll_width=x?0:s.xy.$original_scroll_width,s.matrix)for(var v in s.matrix){var E=s.matrix[v];E.$original_section_autoheight||(E.$original_section_autoheight=E.section_autoheight),E.section_autoheight=!x&&E.$original_section_autoheight}return!0}),s.attachEvent("onViewChange",f),s.attachEvent("onXLE",f),s.attachEvent("onEventChanged",f),s.attachEvent("onEventCreated",f),s.attachEvent("onEventAdded",f),s.attachEvent("onEventDeleted",f),s.attachEvent("onAfterSchedulerResize",f),s.attachEvent("onClearAll",f),s.attachEvent("onBeforeExpand",function(){return d=!1,!0}),s.attachEvent("onBeforeCollapse",function(){return d=!0,!0})},cookie:function(s){function w(p){return(p._obj.id||"scheduler")+"_settings"}var d=!0;s.attachEvent("onBeforeViewChange",function(p,o,c,u){if(d&&s._get_url_nav){var f=s._get_url_nav();(f.date||f.mode||f.event)&&(d=!1)}var y=w(s);if(d){d=!1;var x=function(E){var b=E+"=";if(document.cookie.length>0){var S=document.cookie.indexOf(b);if(S!=-1){S+=b.length;var N=document.cookie.indexOf(";",S);return N==-1&&(N=document.cookie.length),document.cookie.substring(S,N)}}return""}(y);if(x){s._min_date||(s._min_date=u),(x=unescape(x).split("@"))[0]=this._helpers.parseDate(x[0]);var v=this.isViewExists(x[1])?x[1]:c;return u=isNaN(+x[0])?u:x[0],window.setTimeout(function(){s.setCurrentView(u,v)},1),!1}}return!0}),s.attachEvent("onViewChange",function(p,o){(function(c,u,f){var y=c+"="+f+(u?"; "+u:"");document.cookie=y})(w(s),"expires=Sun, 31 Jan 9999 22:00:00 GMT",escape(this._helpers.formatDate(o)+"@"+p))});var m=s._load;s._load=function(){var p=arguments;if(s._date)m.apply(this,p);else{var o=this;window.setTimeout(function(){m.apply(o,p)},1)}}},daytimeline:function(s){ki("Day Timeline",s.assert)},drag_between:function(s){ki("Drag Between",s.assert)},editors:function(s){s.form_blocks.combo={render:function(w){w.cached_options||(w.cached_options={});var d="";return d+="<div class='"+w.type+"' style='height:"+(w.height||20)+"px;' ></div>"},set_value:function(w,d,m,p){(function(){b();var E=s.attachEvent("onAfterLightbox",function(){b(),s.detachEvent(E)});function b(){if(w._combo&&w._combo.DOMParent){var S=w._combo;S.unload?S.unload():S.destructor&&S.destructor(),S.DOMParent=S.DOMelem=null}}})(),window.dhx_globalImgPath=p.image_path||"/",w._combo=new dhtmlXCombo(w,p.name,w.offsetWidth-8),p.onchange&&w._combo.attachEvent("onChange",p.onchange),p.options_height&&w._combo.setOptionHeight(p.options_height);var o=w._combo;if(o.enableFilteringMode(p.filtering,p.script_path||null,!!p.cache),p.script_path){var c=m[p.map_to];c?p.cached_options[c]?(o.addOption(c,p.cached_options[c]),o.disable(1),o.selectOption(0),o.disable(0)):s.ajax.get(p.script_path+"?id="+c+"&uid="+s.uid(),function(E){var b,S=E.xmlDoc.responseText;try{b=JSON.parse(S).options[0].text}catch{b=s.ajax.xpath("//option",E.xmlDoc)[0].childNodes[0].nodeValue}p.cached_options[c]=b,o.addOption(c,b),o.disable(1),o.selectOption(0),o.disable(0)}):o.setComboValue("")}else{for(var u=[],f=0;f<p.options.length;f++){var y=p.options[f],x=[y.key,y.label,y.css];u.push(x)}if(o.addOption(u),m[p.map_to]){var v=o.getIndexByValue(m[p.map_to]);o.selectOption(v)}}},get_value:function(w,d,m){var p=w._combo.getSelectedValue();return m.script_path&&(m.cached_options[p]=w._combo.getSelectedText()),p},focus:function(w){}},s.form_blocks.radio={render:function(w){var d="";d+="<div class='dhx_cal_ltext dhx_cal_radio' style='height:"+w.height+"px;' >";for(var m=0;m<w.options.length;m++){var p=s.uid();d+="<input id='"+p+"' type='radio' name='"+w.name+"' value='"+w.options[m].key+"'><label for='"+p+"'> "+w.options[m].label+"</label>",w.vertical&&(d+="<br/>")}return d+="</div>"},set_value:function(w,d,m,p){for(var o=w.getElementsByTagName("input"),c=0;c<o.length;c++){o[c].checked=!1;var u=m[p.map_to]||d;o[c].value==u&&(o[c].checked=!0)}},get_value:function(w,d,m){for(var p=w.getElementsByTagName("input"),o=0;o<p.length;o++)if(p[o].checked)return p[o].value},focus:function(w){}},s.form_blocks.checkbox={render:function(w){return s.config.wide_form?'<div class="dhx_cal_wide_checkbox" '+(w.height?"style='height:"+w.height+"px;'":"")+"></div>":""},set_value:function(w,d,m,p){w=document.getElementById(p.id);var o=s.uid(),c=p.checked_value!==void 0?d==p.checked_value:!!d;w.className+=" dhx_cal_checkbox";var u="<input id='"+o+"' type='checkbox' value='true' name='"+p.name+"'"+(c?"checked='true'":"")+"'>",f="<label for='"+o+"'>"+(s.locale.labels["section_"+p.name]||p.name)+"</label>";if(s.config.wide_form?(w.innerHTML=f,w.nextSibling.innerHTML=u):w.innerHTML=u+f,p.handler){var y=w.getElementsByTagName("input")[0];if(y.$_eventAttached)return;y.$_eventAttached=!0,s.event(y,"click",p.handler)}},get_value:function(w,d,m){var p=(w=document.getElementById(m.id)).getElementsByTagName("input")[0];return p||(p=w.nextSibling.getElementsByTagName("input")[0]),p.checked?m.checked_value||!0:m.unchecked_value||!1},focus:function(w){}}},expand:function(s){s.ext.fullscreen={toggleIcon:null},s.expand=function(){if(s.callEvent("onBeforeExpand",[])){var w=s._obj;do w._position=w.style.position||"",w.style.position="static";while((w=w.parentNode)&&w.style);(w=s._obj).style.position="absolute",w._width=w.style.width,w._height=w.style.height,w.style.width=w.style.height="100%",w.style.top=w.style.left="0px";var d=document.body;d.scrollTop=0,(d=d.parentNode)&&(d.scrollTop=0),document.body._overflow=document.body.style.overflow||"",document.body.style.overflow="hidden",s._maximize(),s.callEvent("onExpand",[])}},s.collapse=function(){if(s.callEvent("onBeforeCollapse",[])){var w=s._obj;do w.style.position=w._position;while((w=w.parentNode)&&w.style);(w=s._obj).style.width=w._width,w.style.height=w._height,document.body.style.overflow=document.body._overflow,s._maximize(),s.callEvent("onCollapse",[])}},s.attachEvent("onTemplatesReady",function(){var w=document.createElement("div");w.className="dhx_expand_icon",s.ext.fullscreen.toggleIcon=w,s._obj.appendChild(w),s.event(w,"click",function(){s.expanded?s.collapse():s.expand()})}),s._maximize=function(){this.expanded=!this.expanded,s.ext.fullscreen.toggleIcon.style.backgroundPosition="0 "+(this.expanded?"0":"18")+"px";for(var w=["left","top"],d=0;d<w.length;d++){var m=s["_prev_margin_"+w[d]];s.xy["margin_"+w[d]]?(s["_prev_margin_"+w[d]]=s.xy["margin_"+w[d]],s.xy["margin_"+w[d]]=0):m&&(s.xy["margin_"+w[d]]=s["_prev_margin_"+w[d]],delete s["_prev_margin_"+w[d]])}s.setCurrentView()}},grid_view:function(s){ki("Grid",s.assert)},html_templates:function(s){s.attachEvent("onTemplatesReady",function(){for(var w=document.body.getElementsByTagName("DIV"),d=0;d<w.length;d++){var m=w[d].className||"";if((m=m.split(":")).length==2&&m[0]=="template"){var p='return "'+(w[d].innerHTML||"").replace(/"/g,'\\"').replace(/[\n\r]+/g,"")+'";';p=unescape(p).replace(/\{event\.([a-z]+)\}/g,function(o,c){return'"+ev.'+c+'+"'}),s.templates[m[1]]=Function("start","end","ev",p),w[d].style.display="none"}}})},key_nav:function(s){function w(d){var m={minicalButton:s.$keyboardNavigation.MinicalButton,minicalDate:s.$keyboardNavigation.MinicalCell,scheduler:s.$keyboardNavigation.SchedulerNode,dataArea:s.$keyboardNavigation.DataArea,timeSlot:s.$keyboardNavigation.TimeSlot,event:s.$keyboardNavigation.Event},p={};for(var o in m)p[o.toLowerCase()]=m[o];return p[d=(d+"").toLowerCase()]||m.scheduler}s.config.key_nav=!0,s.config.key_nav_step=30,s.addShortcut=function(d,m,p){var o=w(p);o&&o.prototype.bind(d,m)},s.getShortcutHandler=function(d,m){var p=w(m);if(p){var o=s.$keyboardNavigation.shortcuts.parse(d);if(o.length)return p.prototype.findHandler(o[0])}},s.removeShortcut=function(d,m){var p=w(m);p&&p.prototype.unbind(d)},s.focus=function(){if(s.config.key_nav){var d=s.$keyboardNavigation.dispatcher;d.enable();var m=d.getActiveNode();!m||m instanceof s.$keyboardNavigation.MinicalButton||m instanceof s.$keyboardNavigation.MinicalCell?d.setDefaultNode():d.focusNode(d.getActiveNode())}},s.$keyboardNavigation={},s._compose=function(){for(var d=Array.prototype.slice.call(arguments,0),m={},p=0;p<d.length;p++){var o=d[p];for(var c in typeof o=="function"&&(o=new o),o)m[c]=o[c]}return m},function(d){d.$keyboardNavigation.shortcuts={createCommand:function(){return{modifiers:{shift:!1,alt:!1,ctrl:!1,meta:!1},keyCode:null}},parse:function(m){for(var p=[],o=this.getExpressions(this.trim(m)),c=0;c<o.length;c++){for(var u=this.getWords(o[c]),f=this.createCommand(),y=0;y<u.length;y++)this.commandKeys[u[y]]?f.modifiers[u[y]]=!0:this.specialKeys[u[y]]?f.keyCode=this.specialKeys[u[y]]:f.keyCode=u[y].charCodeAt(0);p.push(f)}return p},getCommandFromEvent:function(m){var p=this.createCommand();p.modifiers.shift=!!m.shiftKey,p.modifiers.alt=!!m.altKey,p.modifiers.ctrl=!!m.ctrlKey,p.modifiers.meta=!!m.metaKey,p.keyCode=m.which||m.keyCode,p.keyCode>=96&&p.keyCode<=105&&(p.keyCode-=48);var o=String.fromCharCode(p.keyCode);return o&&(p.keyCode=o.toLowerCase().charCodeAt(0)),p},getHashFromEvent:function(m){return this.getHash(this.getCommandFromEvent(m))},getHash:function(m){var p=[];for(var o in m.modifiers)m.modifiers[o]&&p.push(o);return p.push(m.keyCode),p.join(this.junctionChar)},getExpressions:function(m){return m.split(this.junctionChar)},getWords:function(m){return m.split(this.combinationChar)},trim:function(m){return m.replace(/\s/g,"")},junctionChar:",",combinationChar:"+",commandKeys:{shift:16,alt:18,ctrl:17,meta:!0},specialKeys:{backspace:8,tab:9,enter:13,esc:27,space:32,up:38,down:40,left:37,right:39,home:36,end:35,pageup:33,pagedown:34,delete:46,insert:45,plus:107,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123}}}(s),function(d){d.$keyboardNavigation.EventHandler={_handlers:null,findHandler:function(m){this._handlers||(this._handlers={});var p=d.$keyboardNavigation.shortcuts.getHash(m);return this._handlers[p]},doAction:function(m,p){var o=this.findHandler(m);o&&(o.call(this,p),p.preventDefault?p.preventDefault():p.returnValue=!1)},bind:function(m,p){this._handlers||(this._handlers={});for(var o=d.$keyboardNavigation.shortcuts,c=o.parse(m),u=0;u<c.length;u++)this._handlers[o.getHash(c[u])]=p},unbind:function(m){for(var p=d.$keyboardNavigation.shortcuts,o=p.parse(m),c=0;c<o.length;c++)this._handlers[p.getHash(o[c])]&&delete this._handlers[p.getHash(o[c])]},bindAll:function(m){for(var p in m)this.bind(p,m[p])},initKeys:function(){this._handlers||(this._handlers={}),this.keys&&this.bindAll(this.keys)}}}(s),function(d){d.$keyboardNavigation.getFocusableNodes=d._getFocusableNodes,d.$keyboardNavigation.trapFocus=function(m,p){if(p.keyCode!=9)return!1;for(var o,c=d.$keyboardNavigation.getFocusableNodes(m),u=document.activeElement,f=-1,y=0;y<c.length;y++)if(c[y]==u){f=y;break}if(p.shiftKey){if(o=c[f<=0?c.length-1:f-1])return o.focus(),p.preventDefault(),!0}else if(o=c[f>=c.length-1?0:f+1])return o.focus(),p.preventDefault(),!0;return!1}}(s),function(d){d.$keyboardNavigation.marker={clear:function(){for(var m=d.$container.querySelectorAll(".dhx_focus_slot"),p=0;p<m.length;p++)m[p].parentNode.removeChild(m[p])},createElement:function(){var m=document.createElement("div");return m.setAttribute("tabindex",-1),m.className="dhx_focus_slot",m},renderMultiple:function(m,p,o){for(var c=[],u=new Date(m),f=new Date(Math.min(p.valueOf(),d.date.add(d.date.day_start(new Date(m)),1,"day").valueOf()));u.valueOf()<p.valueOf();)c=c.concat(o.call(this,u,new Date(Math.min(f.valueOf(),p.valueOf())))),u=d.date.day_start(d.date.add(u,1,"day")),f=d.date.day_start(d.date.add(u,1,"day")),f=new Date(Math.min(f.valueOf(),p.valueOf()));return c},render:function(m,p,o){this.clear();var c=[],u=d.$keyboardNavigation.TimeSlot.prototype._modes;switch(d.$keyboardNavigation.TimeSlot.prototype._getMode()){case u.units:c=this.renderVerticalMarker(m,p,o);break;case u.timeline:c=this.renderTimelineMarker(m,p,o);break;case u.year:c=c.concat(this.renderMultiple(m,p,this.renderYearMarker));break;case u.month:c=this.renderMonthMarker(m,p);break;case u.weekAgenda:c=c.concat(this.renderMultiple(m,p,this.renderWeekAgendaMarker));break;case u.list:c=this.renderAgendaMarker(m,p);break;case u.dayColumns:c=c.concat(this.renderMultiple(m,p,this.renderVerticalMarker))}this.addWaiAriaLabel(c,m,p,o),this.addDataAttributes(c,m,p,o);for(var f=c.length-1;f>=0;f--)if(c[f].offsetWidth)return c[f];return null},addDataAttributes:function(m,p,o,c){for(var u=d.date.date_to_str(d.config.api_date),f=u(p),y=u(o),x=0;x<m.length;x++)m[x].setAttribute("data-start-date",f),m[x].setAttribute("data-end-date",y),c&&m[x].setAttribute("data-section",c)},addWaiAriaLabel:function(m,p,o,c){var u="",f=d.getState().mode,y=!1;u+=d.templates.day_date(p),d.date.day_start(new Date(p)).valueOf()!=p.valueOf()&&(u+=" "+d.templates.hour_scale(p),y=!0),d.date.day_start(new Date(p)).valueOf()!=d.date.day_start(new Date(o)).valueOf()&&(u+=" - "+d.templates.day_date(o),(y||d.date.day_start(new Date(o)).valueOf()!=o.valueOf())&&(u+=" "+d.templates.hour_scale(o))),c&&(d.matrix&&d.matrix[f]?u+=", "+d.templates[f+"_scale_label"](c.key,c.label,c):d._props&&d._props[f]&&(u+=", "+d.templates[f+"_scale_text"](c.key,c.label,c)));for(var x=0;x<m.length;x++)d._waiAria.setAttributes(m[x],{"aria-label":u,"aria-live":"polite"})},renderWeekAgendaMarker:function(m,p){for(var o=d.$container.querySelectorAll(".dhx_wa_day_cont .dhx_wa_scale_bar"),c=d.date.week_start(new Date(d.getState().min_date)),u=-1,f=d.date.day_start(new Date(m)),y=0;y<o.length&&(u++,d.date.day_start(new Date(c)).valueOf()!=f.valueOf());y++)c=d.date.add(c,1,"day");return u!=-1?this._wrapDiv(o[u]):[]},_wrapDiv:function(m){var p=this.createElement();return p.style.top=m.offsetTop+"px",p.style.left=m.offsetLeft+"px",p.style.width=m.offsetWidth+"px",p.style.height=m.offsetHeight+"px",m.appendChild(p),[p]},renderYearMarker:function(m,p){var o=d._get_year_cell(m);o.style.position="relative";var c=this.createElement();return c.style.top="0px",c.style.left="0px",c.style.width="100%",c.style.height="100%",o.appendChild(c),[c]},renderAgendaMarker:function(m,p){var o=this.createElement();return o.style.height="1px",o.style.width="100%",o.style.opacity=1,o.style.top="0px",o.style.left="0px",d.$container.querySelector(".dhx_cal_data").appendChild(o),[o]},renderTimelineMarker:function(m,p,o){var c=d._lame_copy({},d.matrix[d._mode]),u=c._scales;c.round_position=!1;var f=[],y=m?new Date(m):d._min_date,x=p?new Date(p):d._max_date;if(y.valueOf()<d._min_date.valueOf()&&(y=new Date(d._min_date)),x.valueOf()>d._max_date.valueOf()&&(x=new Date(d._max_date)),!c._trace_x)return f;for(var v=0;v<c._trace_x.length&&!d._is_column_visible(c._trace_x[v]);v++);if(v==c._trace_x.length)return f;var E=u[o];if(!(y<p&&x>m))return f;var b=this.createElement(),S=d._timeline_getX({start_date:m},!1,c)-1,N=d._timeline_getX({start_date:p},!1,c)-1,O=c._section_height[o]-1||c.dy-1,j=0;d._isRender("cell")&&(j=E.offsetTop,S+=c.dx,N+=c.dx,E=d.$container.querySelector(".dhx_cal_data"));var R=Math.max(1,N-S-1);return b.style.cssText="height: "+O+"px; left: "+S+"px; width: "+R+"px; top: "+j+"px;",E.appendChild(b),f.push(b),f},renderMonthCell:function(m){for(var p=d.$container.querySelectorAll(".dhx_month_head"),o=[],c=0;c<p.length;c++)o.push(p[c].parentNode);var u=-1,f=0,y=-1,x=d.date.week_start(new Date(d.getState().min_date)),v=d.date.day_start(new Date(m));for(c=0;c<o.length&&(u++,y==6?(f++,y=0):y++,d.date.day_start(new Date(x)).valueOf()!=v.valueOf());c++)x=d.date.add(x,1,"day");if(u==-1)return[];var E=d._colsS[y],b=d._colsS.heights[f],S=this.createElement();S.style.top=b+"px",S.style.left=E+"px",S.style.width=d._cols[y]+"px",S.style.height=(d._colsS.heights[f+1]-b||d._colsS.height)+"px";var N=d.$container.querySelector(".dhx_cal_data"),O=N.querySelector("table");return O.nextSibling?N.insertBefore(S,O.nextSibling):N.appendChild(S),S},renderMonthMarker:function(m,p){for(var o=[],c=m;c.valueOf()<p.valueOf();)o.push(this.renderMonthCell(c)),c=d.date.add(c,1,"day");return o},renderVerticalMarker:function(m,p,o){var c=d.locate_holder_day(m),u=[],f=null,y=d.config;if(d._ignores[c])return u;if(d._props&&d._props[d._mode]&&o){var x=d._props[d._mode];c=x.order[o];var v=x.order[o];x.days>1?c=d.locate_holder_day(m)+v:(c=v,x.size&&c>x.position+x.size&&(c=0))}if(!(f=d.locate_holder(c))||f.querySelector(".dhx_scale_hour"))return document.createElement("div");var E=Math.max(60*m.getHours()+m.getMinutes(),60*y.first_hour),b=Math.min(60*p.getHours()+p.getMinutes(),60*y.last_hour);if(!b&&d.date.day_start(new Date(p)).valueOf()>d.date.day_start(new Date(m)).valueOf()&&(b=60*y.last_hour),b<=E)return[];var S=this.createElement(),N=d.config.hour_size_px*y.last_hour+1;return S.style.top=Math.round((60*E*1e3-36e5*d.config.first_hour)*d.config.hour_size_px/36e5)%N+"px",S.style.lineHeight=S.style.height=Math.max(Math.round(60*(b-E)*1e3*d.config.hour_size_px/36e5)%N,1)+"px",S.style.width="100%",f.appendChild(S),u.push(S),u[0]}}}(s),function(d){d.$keyboardNavigation.SchedulerNode=function(){},d.$keyboardNavigation.SchedulerNode.prototype=d._compose(d.$keyboardNavigation.EventHandler,{getDefaultNode:function(){var m=new d.$keyboardNavigation.TimeSlot;return m.isValid()||(m=m.fallback()),m},_modes:{month:"month",year:"year",dayColumns:"dayColumns",timeline:"timeline",units:"units",weekAgenda:"weekAgenda",list:"list"},getMode:function(){var m=d.getState().mode;return d.matrix&&d.matrix[m]?this._modes.timeline:d._props&&d._props[m]?this._modes.units:m=="month"?this._modes.month:m=="year"?this._modes.year:m=="week_agenda"?this._modes.weekAgenda:m=="map"||m=="agenda"||d._grid&&d["grid_"+m]?this._modes.list:this._modes.dayColumns},focus:function(){d.focus()},blur:function(){},disable:function(){d.$container.setAttribute("tabindex","0")},enable:function(){d.$container&&d.$container.removeAttribute("tabindex")},isEnabled:function(){return d.$container.hasAttribute("tabindex")},_compareEvents:function(m,p){return m.start_date.valueOf()==p.start_date.valueOf()?m.id>p.id?1:-1:m.start_date.valueOf()>p.start_date.valueOf()?1:-1},_pickEvent:function(m,p,o,c){var u=d.getState();m=new Date(Math.max(u.min_date.valueOf(),m.valueOf())),p=new Date(Math.min(u.max_date.valueOf(),p.valueOf()));var f=d.getEvents(m,p);f.sort(this._compareEvents),c&&(f=f.reverse());for(var y=!!o,x=0;x<f.length&&y;x++)f[x].id==o&&(y=!1),f.splice(x,1),x--;for(x=0;x<f.length;x++)if(new d.$keyboardNavigation.Event(f[x].id).getNode())return f[x];return null},nextEventHandler:function(m){var p=d.$keyboardNavigation.dispatcher.activeNode,o=m||p&&p.eventId,c=null;if(o&&d.getEvent(o)){var u=d.getEvent(o);c=d.$keyboardNavigation.SchedulerNode.prototype._pickEvent(u.start_date,d.date.add(u.start_date,1,"year"),u.id,!1)}if(!c&&!m){var f=d.getState();c=d.$keyboardNavigation.SchedulerNode.prototype._pickEvent(f.min_date,d.date.add(f.min_date,1,"year"),null,!1)}if(c){var y=new d.$keyboardNavigation.Event(c.id);y.isValid()?(p&&p.blur(),d.$keyboardNavigation.dispatcher.setActiveNode(y)):this.nextEventHandler(c.id)}},prevEventHandler:function(m){var p=d.$keyboardNavigation.dispatcher.activeNode,o=m||p&&p.eventId,c=null;if(o&&d.getEvent(o)){var u=d.getEvent(o);c=d.$keyboardNavigation.SchedulerNode.prototype._pickEvent(d.date.add(u.end_date,-1,"year"),u.end_date,u.id,!0)}if(!c&&!m){var f=d.getState();c=d.$keyboardNavigation.SchedulerNode.prototype._pickEvent(d.date.add(f.max_date,-1,"year"),f.max_date,null,!0)}if(c){var y=new d.$keyboardNavigation.Event(c.id);y.isValid()?(p&&p.blur(),d.$keyboardNavigation.dispatcher.setActiveNode(y)):this.prevEventHandler(c.id)}},keys:{"alt+1, alt+2, alt+3, alt+4, alt+5, alt+6, alt+7, alt+8, alt+9":function(m){var p=d.$keyboardNavigation.HeaderCell.prototype.getNodes(".dhx_cal_navline .dhx_cal_tab"),o=m.key;o===void 0&&(o=m.keyCode-48),p[1*o-1]&&p[1*o-1].click()},"ctrl+left,meta+left":function(m){d._click.dhx_cal_prev_button()},"ctrl+right,meta+right":function(m){d._click.dhx_cal_next_button()},"ctrl+up,meta+up":function(m){d.$container.querySelector(".dhx_cal_data").scrollTop-=20},"ctrl+down,meta+down":function(m){d.$container.querySelector(".dhx_cal_data").scrollTop+=20},e:function(){this.nextEventHandler()},home:function(){d.setCurrentView(new Date)},"shift+e":function(){this.prevEventHandler()},"ctrl+enter,meta+enter":function(){d.addEventNow({start_date:new Date(d.getState().date)})},"ctrl+c,meta+c":function(m){d._key_nav_copy_paste(m)},"ctrl+v,meta+v":function(m){d._key_nav_copy_paste(m)},"ctrl+x,meta+x":function(m){d._key_nav_copy_paste(m)}}}),d.$keyboardNavigation.SchedulerNode.prototype.bindAll(d.$keyboardNavigation.SchedulerNode.prototype.keys)}(s),function(d){d.$keyboardNavigation.KeyNavNode=function(){},d.$keyboardNavigation.KeyNavNode.prototype=d._compose(d.$keyboardNavigation.EventHandler,{isValid:function(){return!0},fallback:function(){return null},moveTo:function(m){d.$keyboardNavigation.dispatcher.setActiveNode(m)},compareTo:function(m){if(!m)return!1;for(var p in this){if(!!this[p]!=!!m[p])return!1;var o=!(!this[p]||!this[p].toString),c=!(!m[p]||!m[p].toString);if(c!=o)return!1;if(c&&o){if(m[p].toString()!=this[p].toString())return!1}else if(m[p]!=this[p])return!1}return!0},getNode:function(){},focus:function(){var m=this.getNode();m&&(m.setAttribute("tabindex","-1"),m.focus&&m.focus())},blur:function(){var m=this.getNode();m&&m.setAttribute("tabindex","-1")}})}(s),function(d){d.$keyboardNavigation.HeaderCell=function(m){this.index=m||0},d.$keyboardNavigation.HeaderCell.prototype=d._compose(d.$keyboardNavigation.KeyNavNode,{getNode:function(m){m=m||this.index||0;var p=this.getNodes();if(p[m])return p[m]},getNodes:function(m){m=m||[".dhx_cal_navline .dhx_cal_prev_button",".dhx_cal_navline .dhx_cal_next_button",".dhx_cal_navline .dhx_cal_today_button",".dhx_cal_navline .dhx_cal_tab"].join(", ");var p=Array.prototype.slice.call(d.$container.querySelectorAll(m));return p.sort(function(o,c){return o.offsetLeft-c.offsetLeft}),p},_handlers:null,isValid:function(){return!!this.getNode(this.index)},fallback:function(){var m=this.getNode(0);return m||(m=new d.$keyboardNavigation.TimeSlot),m},keys:{left:function(){var m=this.index-1;m<0&&(m=this.getNodes().length-1),this.moveTo(new d.$keyboardNavigation.HeaderCell(m))},right:function(){var m=this.index+1;m>=this.getNodes().length&&(m=0),this.moveTo(new d.$keyboardNavigation.HeaderCell(m))},down:function(){this.moveTo(new d.$keyboardNavigation.TimeSlot)},enter:function(){var m=this.getNode();m&&m.click()}}}),d.$keyboardNavigation.HeaderCell.prototype.bindAll(d.$keyboardNavigation.HeaderCell.prototype.keys)}(s),function(d){d.$keyboardNavigation.Event=function(m){if(this.eventId=null,d.getEvent(m)){var p=d.getEvent(m);this.start=new Date(p.start_date),this.end=new Date(p.end_date),this.section=this._getSection(p),this.eventId=m}},d.$keyboardNavigation.Event.prototype=d._compose(d.$keyboardNavigation.KeyNavNode,{_getNodes:function(){return Array.prototype.slice.call(d.$container.querySelectorAll("["+d.config.event_attribute+"]"))},_modes:d.$keyboardNavigation.SchedulerNode.prototype._modes,getMode:d.$keyboardNavigation.SchedulerNode.prototype.getMode,_handlers:null,isValid:function(){return!(!d.getEvent(this.eventId)||!this.getNode())},fallback:function(){var m=this._getNodes()[0],p=null;if(m&&d._locate_event(m)){var o=d._locate_event(m);p=new d.$keyboardNavigation.Event(o)}else p=new d.$keyboardNavigation.TimeSlot;return p},isScrolledIntoView:function(m){var p=m.getBoundingClientRect(),o=d.$container.querySelector(".dhx_cal_data").getBoundingClientRect();return!(p.bottom<o.top||p.top>o.bottom)},getNode:function(){var m="["+d.config.event_attribute+"='"+this.eventId+"']",p=d.$keyboardNavigation.dispatcher.getInlineEditor(this.eventId);if(p)return p;if(d.isMultisectionEvent&&d.isMultisectionEvent(d.getEvent(this.eventId))){for(var o=d.$container.querySelectorAll(m),c=0;c<o.length;c++)if(this.isScrolledIntoView(o[c]))return o[c];return o[0]}return d.$container.querySelector(m)},focus:function(){var m=d.getEvent(this.eventId),p=d.getState();(m.start_date.valueOf()>p.max_date.valueOf()||m.end_date.valueOf()<=p.min_date.valueOf())&&d.setCurrentView(m.start_date);var o=this.getNode();this.isScrolledIntoView(o)?d.$keyboardNavigation.dispatcher.keepScrollPosition(function(){d.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this)}.bind(this)):d.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this)},blur:function(){d.$keyboardNavigation.KeyNavNode.prototype.blur.apply(this)},_getSection:function(m){var p=null,o=d.getState().mode;return d.matrix&&d.matrix[o]?p=m[d.matrix[d.getState().mode].y_property]:d._props&&d._props[o]&&(p=m[d._props[o].map_to]),p},_moveToSlot:function(m){var p=d.getEvent(this.eventId);if(p){var o=this._getSection(p),c=new d.$keyboardNavigation.TimeSlot(p.start_date,null,o);this.moveTo(c.nextSlot(c,m))}else this.moveTo(new d.$keyboardNavigation.TimeSlot)},keys:{left:function(){this._moveToSlot("left")},right:function(){this._moveToSlot("right")},down:function(){this.getMode()==this._modes.list?d.$keyboardNavigation.SchedulerNode.prototype.nextEventHandler():this._moveToSlot("down")},space:function(){var m=this.getNode();m&&m.click?m.click():this.moveTo(new d.$keyboardNavigation.TimeSlot)},up:function(){this.getMode()==this._modes.list?d.$keyboardNavigation.SchedulerNode.prototype.prevEventHandler():this._moveToSlot("up")},delete:function(){d.getEvent(this.eventId)?d._click.buttons.delete(this.eventId):this.moveTo(new d.$keyboardNavigation.TimeSlot)},enter:function(){d.getEvent(this.eventId)?d.showLightbox(this.eventId):this.moveTo(new d.$keyboardNavigation.TimeSlot)}}}),d.$keyboardNavigation.Event.prototype.bindAll(d.$keyboardNavigation.Event.prototype.keys)}(s),function(d){d.$keyboardNavigation.TimeSlot=function(m,p,o,c){var u=d.getState(),f=d.matrix&&d.matrix[u.mode];m||(m=this.getDefaultDate()),p||(p=f?d.date.add(m,f.x_step,f.x_unit):d.date.add(m,d.config.key_nav_step,"minute")),this.section=o||this._getDefaultSection(),this.start_date=new Date(m),this.end_date=new Date(p),this.movingDate=c||null},d.$keyboardNavigation.TimeSlot.prototype=d._compose(d.$keyboardNavigation.KeyNavNode,{_handlers:null,getDefaultDate:function(){var m,p=d.getState(),o=new Date(p.date);o.setSeconds(0),o.setMilliseconds(0);var c=new Date;c.setSeconds(0),c.setMilliseconds(0);var u=d.matrix&&d.matrix[p.mode],f=!1;if(o.valueOf()===c.valueOf()&&(f=!0),u)f?(u.x_unit==="day"?(c.setHours(0),c.setMinutes(0)):u.x_unit==="hour"&&c.setMinutes(0),m=c):m=d.date[u.name+"_start"](new Date(p.date)),m=this.findVisibleColumn(m);else if(m=new Date(d.getState().min_date),f&&(m=c),m=this.findVisibleColumn(m),f||m.setHours(d.config.first_hour),!d._table_view){var y=d.$container.querySelector(".dhx_cal_data");y.scrollTop&&m.setHours(d.config.first_hour+Math.ceil(y.scrollTop/d.config.hour_size_px))}return m},clone:function(m){return new d.$keyboardNavigation.TimeSlot(m.start_date,m.end_date,m.section,m.movingDate)},_getMultisectionView:function(){var m,p=d.getState();return d._props&&d._props[p.mode]?m=d._props[p.mode]:d.matrix&&d.matrix[p.mode]&&(m=d.matrix[p.mode]),m},_getDefaultSection:function(){var m=null;return this._getMultisectionView()&&!m&&(m=this._getNextSection()),m},_getNextSection:function(m,p){var o=this._getMultisectionView(),c=o.order[m],u=c;u=(u=c!==void 0?c+p:o.size&&o.position?o.position:0)<0?u=(o.options||o.y_unit).length-1:u;var f=o.options||o.y_unit;return f[u]?f[u].key:null},isValid:function(){var m=d.getState();if(this.start_date.valueOf()<m.min_date.valueOf()||this.start_date.valueOf()>=m.max_date.valueOf()||!this.isVisible(this.start_date,this.end_date))return!1;var p=this._getMultisectionView();return!p||p.order[this.section]!==void 0},fallback:function(){var m=new d.$keyboardNavigation.TimeSlot;return m.isValid()?m:new d.$keyboardNavigation.DataArea},getNodes:function(){return Array.prototype.slice.call(d.$container.querySelectorAll(".dhx_focus_slot"))},getNode:function(){return this.getNodes()[0]},focus:function(){d.$keyboardNavigation.marker.render(this.start_date,this.end_date,this.section),d.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this),d.$keyboardNavigation._pasteDate=this.start_date,d.$keyboardNavigation._pasteSection=this.section},blur:function(){d.$keyboardNavigation.KeyNavNode.prototype.blur.apply(this),d.$keyboardNavigation.marker.clear()},_modes:d.$keyboardNavigation.SchedulerNode.prototype._modes,_getMode:d.$keyboardNavigation.SchedulerNode.prototype.getMode,addMonthDate:function(m,p,o){var c;switch(p){case"up":c=d.date.add(m,-1,"week");break;case"down":c=d.date.add(m,1,"week");break;case"left":c=d.date.day_start(d.date.add(m,-1,"day")),c=this.findVisibleColumn(c,-1);break;case"right":c=d.date.day_start(d.date.add(m,1,"day")),c=this.findVisibleColumn(c,1);break;default:c=d.date.day_start(new Date(m))}var u=d.getState();return(m.valueOf()<u.min_date.valueOf()||!o&&m.valueOf()>=u.max_date.valueOf())&&(c=new Date(u.min_date)),c},nextMonthSlot:function(m,p,o){var c,u;return(c=this.addMonthDate(m.start_date,p,o)).setHours(d.config.first_hour),(u=new Date(c)).setHours(d.config.last_hour),{start_date:c,end_date:u}},_alignTimeSlot:function(m,p,o,c){for(var u=new Date(p);u.valueOf()<m.valueOf();)u=d.date.add(u,c,o);return u.valueOf()>m.valueOf()&&(u=d.date.add(u,-c,o)),u},nextTimelineSlot:function(m,p,o){var c=d.getState(),u=d.matrix[c.mode],f=this._alignTimeSlot(m.start_date,d.date[u.name+"_start"](new Date(m.start_date)),u.x_unit,u.x_step),y=this._alignTimeSlot(m.end_date,d.date[u.name+"_start"](new Date(m.end_date)),u.x_unit,u.x_step);y.valueOf()<=f.valueOf()&&(y=d.date.add(f,u.x_step,u.x_unit));var x=this.clone(m);switch(x.start_date=f,x.end_date=y,x.section=m.section||this._getNextSection(),p){case"up":x.section=this._getNextSection(m.section,-1);break;case"down":x.section=this._getNextSection(m.section,1);break;case"left":x.start_date=this.findVisibleColumn(d.date.add(x.start_date,-u.x_step,u.x_unit),-1),x.end_date=d.date.add(x.start_date,u.x_step,u.x_unit);break;case"right":x.start_date=this.findVisibleColumn(d.date.add(x.start_date,u.x_step,u.x_unit),1),x.end_date=d.date.add(x.start_date,u.x_step,u.x_unit)}return(x.start_date.valueOf()<c.min_date.valueOf()||x.start_date.valueOf()>=c.max_date.valueOf())&&(o&&x.start_date.valueOf()>=c.max_date.valueOf()?x.start_date=new Date(c.max_date):(x.start_date=d.date[c.mode+"_start"](d.date.add(c.date,p=="left"?-1:1,c.mode)),x.end_date=d.date.add(x.start_date,u.x_step,u.x_unit))),x},nextUnitsSlot:function(m,p,o){var c=this.clone(m);c.section=m.section||this._getNextSection();var u=m.section||this._getNextSection(),f=d.getState(),y=d._props[f.mode];switch(p){case"left":u=this._getNextSection(m.section,-1);var x=y.size?y.size-1:y.options.length;y.days>1&&y.order[u]==x-1&&d.date.add(m.start_date,-1,"day").valueOf()>=f.min_date.valueOf()&&(c=this.nextDaySlot(m,p,o));break;case"right":u=this._getNextSection(m.section,1),y.days>1&&!y.order[u]&&d.date.add(m.start_date,1,"day").valueOf()<f.max_date.valueOf()&&(c=this.nextDaySlot(m,p,o));break;default:c=this.nextDaySlot(m,p,o),u=m.section}return c.section=u,c},_moveDate:function(m,p){var o=this.findVisibleColumn(d.date.add(m,p,"day"),p);return o.setHours(m.getHours()),o.setMinutes(m.getMinutes()),o},isBeforeLastHour:function(m,p){var o=m.getMinutes(),c=m.getHours(),u=d.config.last_hour;return c<u||!p&&(u==24||c==u)&&!o},isAfterFirstHour:function(m,p){var o=m.getMinutes(),c=m.getHours(),u=d.config.first_hour,f=d.config.last_hour;return c>=u||!p&&!o&&(!c&&f==24||c==f)},isInVisibleDayTime:function(m,p){return this.isBeforeLastHour(m,p)&&this.isAfterFirstHour(m,p)},nextDaySlot:function(m,p,o){var c,u,f=d.config.key_nav_step,y=this._alignTimeSlot(m.start_date,d.date.day_start(new Date(m.start_date)),"minute",f),x=m.start_date;switch(p){case"up":if(c=d.date.add(y,-f,"minute"),!this.isInVisibleDayTime(c,!0)&&(!o||this.isInVisibleDayTime(x,!0))){var v=!0;o&&d.date.date_part(new Date(c)).valueOf()!=d.date.date_part(new Date(x)).valueOf()&&(v=!1),v&&(c=this.findVisibleColumn(d.date.add(m.start_date,-1,"day"),-1)),c.setHours(d.config.last_hour),c.setMinutes(0),c=d.date.add(c,-f,"minute")}u=d.date.add(c,f,"minute");break;case"down":c=d.date.add(y,f,"minute");var E=o?c:d.date.add(c,f,"minute");this.isInVisibleDayTime(E,!1)||o&&!this.isInVisibleDayTime(x,!1)||(o?(v=!0,d.date.date_part(new Date(x)).valueOf()==x.valueOf()&&(v=!1),v&&(c=this.findVisibleColumn(d.date.add(m.start_date,1,"day"),1)),c.setHours(d.config.first_hour),c.setMinutes(0),c=d.date.add(c,f,"minute")):((c=this.findVisibleColumn(d.date.add(m.start_date,1,"day"),1)).setHours(d.config.first_hour),c.setMinutes(0))),u=d.date.add(c,f,"minute");break;case"left":c=this._moveDate(m.start_date,-1),u=this._moveDate(m.end_date,-1);break;case"right":c=this._moveDate(m.start_date,1),u=this._moveDate(m.end_date,1);break;default:c=y,u=d.date.add(c,f,"minute")}return{start_date:c,end_date:u}},nextWeekAgendaSlot:function(m,p){var o,c,u=d.getState();switch(p){case"down":case"left":o=d.date.day_start(d.date.add(m.start_date,-1,"day")),o=this.findVisibleColumn(o,-1);break;case"up":case"right":o=d.date.day_start(d.date.add(m.start_date,1,"day")),o=this.findVisibleColumn(o,1);break;default:o=d.date.day_start(m.start_date)}return(m.start_date.valueOf()<u.min_date.valueOf()||m.start_date.valueOf()>=u.max_date.valueOf())&&(o=new Date(u.min_date)),(c=new Date(o)).setHours(d.config.last_hour),{start_date:o,end_date:c}},nextAgendaSlot:function(m,p){return{start_date:m.start_date,end_date:m.end_date}},isDateVisible:function(m){if(!d._ignores_detected)return!0;var p,o=d.matrix&&d.matrix[d.getState().mode];return p=o?d._get_date_index(o,m):d.locate_holder_day(m),!d._ignores[p]},findVisibleColumn:function(m,p){var o=m;p=p||1;for(var c=d.getState();!this.isDateVisible(o)&&(p>0&&o.valueOf()<=c.max_date.valueOf()||p<0&&o.valueOf()>=c.min_date.valueOf());)o=this.nextDateColumn(o,p);return o},nextDateColumn:function(m,p){p=p||1;var o=d.matrix&&d.matrix[d.getState().mode];return o?d.date.add(m,p*o.x_step,o.x_unit):d.date.day_start(d.date.add(m,p,"day"))},isVisible:function(m,p){if(!d._ignores_detected)return!0;for(var o=new Date(m);o.valueOf()<p.valueOf();){if(this.isDateVisible(o))return!0;o=this.nextDateColumn(o)}return!1},nextSlot:function(m,p,o,c){var u;o=o||this._getMode();var f=d.$keyboardNavigation.TimeSlot.prototype.clone(m);switch(o){case this._modes.units:u=this.nextUnitsSlot(f,p,c);break;case this._modes.timeline:u=this.nextTimelineSlot(f,p,c);break;case this._modes.year:case this._modes.month:u=this.nextMonthSlot(f,p,c);break;case this._modes.weekAgenda:u=this.nextWeekAgendaSlot(f,p,c);break;case this._modes.list:u=this.nextAgendaSlot(f,p,c);break;case this._modes.dayColumns:u=this.nextDaySlot(f,p,c)}return u.start_date.valueOf()>=u.end_date.valueOf()&&(u=this.nextSlot(u,p,o)),d.$keyboardNavigation.TimeSlot.prototype.clone(u)},extendSlot:function(m,p){var o;switch(this._getMode()){case this._modes.units:o=p=="left"||p=="right"?this.nextUnitsSlot(m,p):this.extendUnitsSlot(m,p);break;case this._modes.timeline:o=p=="down"||p=="up"?this.nextTimelineSlot(m,p):this.extendTimelineSlot(m,p);break;case this._modes.year:case this._modes.month:o=this.extendMonthSlot(m,p);break;case this._modes.dayColumns:o=this.extendDaySlot(m,p);break;case this._modes.weekAgenda:o=this.extendWeekAgendaSlot(m,p);break;default:o=m}var c=d.getState();return o.start_date.valueOf()<c.min_date.valueOf()&&(o.start_date=this.findVisibleColumn(c.min_date),o.start_date.setHours(d.config.first_hour)),o.end_date.valueOf()>c.max_date.valueOf()&&(o.end_date=this.findVisibleColumn(c.max_date,-1)),d.$keyboardNavigation.TimeSlot.prototype.clone(o)},extendTimelineSlot:function(m,p){return this.extendGenericSlot({left:"start_date",right:"end_date"},m,p,"timeline")},extendWeekAgendaSlot:function(m,p){return this.extendGenericSlot({left:"start_date",right:"end_date"},m,p,"weekAgenda")},extendGenericSlot:function(m,p,o,c){var u,f=p.movingDate;if(f||(f=m[o]),!f||!m[o])return p;if(!o)return d.$keyboardNavigation.TimeSlot.prototype.clone(p);(u=this.nextSlot({start_date:p[f],section:p.section},o,c,!0)).start_date.valueOf()==p.start_date.valueOf()&&(u=this.nextSlot({start_date:u.start_date,section:u.section},o,c,!0)),u.movingDate=f;var y=this.extendSlotDates(p,u,u.movingDate);return y.end_date.valueOf()<=y.start_date.valueOf()&&(u.movingDate=u.movingDate=="end_date"?"start_date":"end_date"),y=this.extendSlotDates(p,u,u.movingDate),u.start_date=y.start_date,u.end_date=y.end_date,u},extendSlotDates:function(m,p,o){var c={start_date:null,end_date:null};return o=="start_date"?(c.start_date=p.start_date,c.end_date=m.end_date):(c.start_date=m.start_date,c.end_date=p.start_date),c},extendMonthSlot:function(m,p){return(m=this.extendGenericSlot({up:"start_date",down:"end_date",left:"start_date",right:"end_date"},m,p,"month")).start_date.setHours(d.config.first_hour),m.end_date=d.date.add(m.end_date,-1,"day"),m.end_date.setHours(d.config.last_hour),m},extendUnitsSlot:function(m,p){var o;switch(p){case"down":case"up":o=this.extendDaySlot(m,p);break;default:o=m}return o.section=m.section,o},extendDaySlot:function(m,p){return this.extendGenericSlot({up:"start_date",down:"end_date",left:"start_date",right:"end_date"},m,p,"dayColumns")},scrollSlot:function(m){var p=d.getState(),o=this.nextSlot(this,m);(o.start_date.valueOf()<p.min_date.valueOf()||o.start_date.valueOf()>=p.max_date.valueOf())&&d.setCurrentView(new Date(o.start_date)),this.moveTo(o)},keys:{left:function(){this.scrollSlot("left")},right:function(){this.scrollSlot("right")},down:function(){this._getMode()==this._modes.list?d.$keyboardNavigation.SchedulerNode.prototype.nextEventHandler():this.scrollSlot("down")},up:function(){this._getMode()==this._modes.list?d.$keyboardNavigation.SchedulerNode.prototype.prevEventHandler():this.scrollSlot("up")},"shift+down":function(){this.moveTo(this.extendSlot(this,"down"))},"shift+up":function(){this.moveTo(this.extendSlot(this,"up"))},"shift+right":function(){this.moveTo(this.extendSlot(this,"right"))},"shift+left":function(){this.moveTo(this.extendSlot(this,"left"))},enter:function(){var m={start_date:new Date(this.start_date),end_date:new Date(this.end_date)},p=d.getState().mode;d.matrix&&d.matrix[p]?m[d.matrix[d.getState().mode].y_property]=this.section:d._props&&d._props[p]&&(m[d._props[p].map_to]=this.section),d.addEventNow(m)}}}),d.$keyboardNavigation.TimeSlot.prototype.bindAll(d.$keyboardNavigation.TimeSlot.prototype.keys)}(s),function(d){d.$keyboardNavigation.MinicalButton=function(m,p){this.container=m,this.index=p||0},d.$keyboardNavigation.MinicalButton.prototype=d._compose(d.$keyboardNavigation.KeyNavNode,{isValid:function(){return!!this.container.offsetWidth},fallback:function(){var m=new d.$keyboardNavigation.TimeSlot;return m.isValid()?m:new d.$keyboardNavigation.DataArea},focus:function(){d.$keyboardNavigation.dispatcher.globalNode.disable(),this.container.removeAttribute("tabindex"),d.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this)},blur:function(){this.container.setAttribute("tabindex","0"),d.$keyboardNavigation.KeyNavNode.prototype.blur.apply(this)},getNode:function(){return this.index?this.container.querySelector(".dhx_cal_next_button"):this.container.querySelector(".dhx_cal_prev_button")},keys:{right:function(m){this.moveTo(new d.$keyboardNavigation.MinicalButton(this.container,this.index?0:1))},left:function(m){this.moveTo(new d.$keyboardNavigation.MinicalButton(this.container,this.index?0:1))},down:function(){var m=new d.$keyboardNavigation.MinicalCell(this.container,0,0);m&&!m.isValid()&&(m=m.fallback()),this.moveTo(m)},enter:function(m){this.getNode().click()}}}),d.$keyboardNavigation.MinicalButton.prototype.bindAll(d.$keyboardNavigation.MinicalButton.prototype.keys)}(s),function(d){d.$keyboardNavigation.MinicalCell=function(m,p,o){this.container=m,this.row=p||0,this.col=o||0},d.$keyboardNavigation.MinicalCell.prototype=d._compose(d.$keyboardNavigation.KeyNavNode,{isValid:function(){var m=this._getGrid();return!(!m[this.row]||!m[this.row][this.col])},fallback:function(){var m=this.row,p=this.col,o=this._getGrid();o[m]||(m=0);var c=!0;if(m>o.length/2&&(c=!1),!o[m]){var u=new d.$keyboardNavigation.TimeSlot;return u.isValid()?u:new d.$keyboardNavigation.DataArea}if(c){for(var f=p;o[m]&&f<o[m].length;f++)if(o[m][f]||f!=o[m].length-1||(m++,p=0),o[m][f])return new d.$keyboardNavigation.MinicalCell(this.container,m,f)}else for(f=p;o[m]&&f<o[m].length;f--)if(o[m][f]||f||(p=o[--m].length-1),o[m][f])return new d.$keyboardNavigation.MinicalCell(this.container,m,f);return new d.$keyboardNavigation.MinicalButton(this.container,0)},focus:function(){d.$keyboardNavigation.dispatcher.globalNode.disable(),this.container.removeAttribute("tabindex"),d.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this)},blur:function(){this.container.setAttribute("tabindex","0"),d.$keyboardNavigation.KeyNavNode.prototype.blur.apply(this)},_getNode:function(m,p){return this.container.querySelector(".dhx_year_body tr:nth-child("+(m+1)+") td:nth-child("+(p+1)+")")},getNode:function(){return this._getNode(this.row,this.col)},_getGrid:function(){for(var m=this.container.querySelectorAll(".dhx_year_body tr"),p=[],o=0;o<m.length;o++){p[o]=[];for(var c=m[o].querySelectorAll("td"),u=0;u<c.length;u++){var f=c[u],y=!0,x=d._getClassName(f);(x.indexOf("dhx_after")>-1||x.indexOf("dhx_before")>-1||x.indexOf("dhx_scale_ignore")>-1)&&(y=!1),p[o][u]=y}}return p},keys:{right:function(m){var p=this._getGrid(),o=this.row,c=this.col+1;p[o]&&p[o][c]||(p[o+1]?(o+=1,c=0):c=this.col);var u=new d.$keyboardNavigation.MinicalCell(this.container,o,c);u.isValid()||(u=u.fallback()),this.moveTo(u)},left:function(m){var p=this._getGrid(),o=this.row,c=this.col-1;p[o]&&p[o][c]||(c=p[o-1]?p[o-=1].length-1:this.col);var u=new d.$keyboardNavigation.MinicalCell(this.container,o,c);u.isValid()||(u=u.fallback()),this.moveTo(u)},down:function(){var m=this._getGrid(),p=this.row+1,o=this.col;m[p]&&m[p][o]||(p=this.row);var c=new d.$keyboardNavigation.MinicalCell(this.container,p,o);c.isValid()||(c=c.fallback()),this.moveTo(c)},up:function(){var m=this._getGrid(),p=this.row-1,o=this.col;if(m[p]&&m[p][o]){var c=new d.$keyboardNavigation.MinicalCell(this.container,p,o);c.isValid()||(c=c.fallback()),this.moveTo(c)}else{var u=0;this.col>m[this.row].length/2&&(u=1),this.moveTo(new d.$keyboardNavigation.MinicalButton(this.container,u))}},enter:function(m){this.getNode().querySelector(".dhx_month_head").click()}}}),d.$keyboardNavigation.MinicalCell.prototype.bindAll(d.$keyboardNavigation.MinicalCell.prototype.keys)}(s),function(d){d.$keyboardNavigation.DataArea=function(m){this.index=m||0},d.$keyboardNavigation.DataArea.prototype=d._compose(d.$keyboardNavigation.KeyNavNode,{getNode:function(m){return d.$container.querySelector(".dhx_cal_data")},_handlers:null,isValid:function(){return!0},fallback:function(){return this},keys:{"up,down,right,left":function(){this.moveTo(new d.$keyboardNavigation.TimeSlot)}}}),d.$keyboardNavigation.DataArea.prototype.bindAll(d.$keyboardNavigation.DataArea.prototype.keys)}(s),XS(s),function(d){d.$keyboardNavigation.dispatcher={isActive:!1,activeNode:null,globalNode:new d.$keyboardNavigation.SchedulerNode,keepScrollPosition:function(m){var p,o,c=d.$container.querySelector(".dhx_timeline_scrollable_data");c||(c=d.$container.querySelector(".dhx_cal_data")),c&&(p=c.scrollTop,o=c.scrollLeft),m(),c&&(c.scrollTop=p,c.scrollLeft=o)},enable:function(){if(d.$container){this.isActive=!0;var m=this;this.keepScrollPosition(function(){m.globalNode.enable(),m.setActiveNode(m.getActiveNode())})}},disable:function(){this.isActive=!1,this.globalNode.disable()},isEnabled:function(){return!!this.isActive},getDefaultNode:function(){return this.globalNode.getDefaultNode()},setDefaultNode:function(){this.setActiveNode(this.getDefaultNode())},getActiveNode:function(){var m=this.activeNode;return m&&!m.isValid()&&(m=m.fallback()),m},focusGlobalNode:function(){this.blurNode(this.globalNode),this.focusNode(this.globalNode)},setActiveNode:function(m){m&&m.isValid()&&(this.activeNode&&this.activeNode.compareTo(m)||this.isEnabled()&&(this.blurNode(this.activeNode),this.activeNode=m,this.focusNode(this.activeNode)))},focusNode:function(m){m&&m.focus&&(m.focus(),m.getNode&&document.activeElement!=m.getNode()&&this.setActiveNode(new d.$keyboardNavigation.DataArea))},blurNode:function(m){m&&m.blur&&m.blur()},getInlineEditor:function(m){var p=d.$container.querySelector(".dhx_cal_editor["+d.config.event_attribute+"='"+m+"'] textarea");return p&&p.offsetWidth?p:null},keyDownHandler:function(m){if(!m.defaultPrevented){var p=this.getActiveNode();if((!d.$keyboardNavigation.isModal()||p&&p.container&&d.utils.dom.locateCss({target:p.container},"dhx_minical_popup",!1))&&(!d.getState().editor_id||!this.getInlineEditor(d.getState().editor_id))&&this.isEnabled()){m=m||window.event;var o=this.globalNode,c=d.$keyboardNavigation.shortcuts.getCommandFromEvent(m);p?p.findHandler(c)?p.doAction(c,m):o.findHandler(c)&&o.doAction(c,m):this.setDefaultNode()}}},_timeout:null,delay:function(m,p){clearTimeout(this._timeout),this._timeout=setTimeout(m,p||1)}}}(s),ZS(s),function(){eT(s),function(c){c.$keyboardNavigation._minicalendars=[],c.$keyboardNavigation.isMinical=function(u){for(var f=c.$keyboardNavigation._minicalendars,y=0;y<f.length;y++)if(this.isChildOf(u,f[y]))return!0;return!1},c.$keyboardNavigation.isChildOf=function(u,f){for(;u&&u!==f;)u=u.parentNode;return u===f},c.$keyboardNavigation.patchMinicalendar=function(){var u=c.$keyboardNavigation.dispatcher;function f(E){var b=E.target;u.enable(),u.setActiveNode(new c.$keyboardNavigation.MinicalButton(b,0))}function y(E){var b=E.target||E.srcElement,S=c.utils.dom.locateCss(E,"dhx_cal_prev_button",!1),N=c.utils.dom.locateCss(E,"dhx_cal_next_button",!1),O=c.utils.dom.locateCss(E,"dhx_year_body",!1),j=0,R=0;if(O){for(var H,Z,re=b;re&&re.tagName.toLowerCase()!="td";)re=re.parentNode;if(re&&(H=(Z=re).parentNode),H&&Z){for(var K=H.parentNode.querySelectorAll("tr"),ae=0;ae<K.length;ae++)if(K[ae]==H){j=ae;break}var W=H.querySelectorAll("td");for(ae=0;ae<W.length;ae++)if(W[ae]==Z){R=ae;break}}}var ne=E.currentTarget;u.delay(function(){var Q;(S||N||O)&&(S?(Q=new c.$keyboardNavigation.MinicalButton(ne,0),u.setActiveNode(new c.$keyboardNavigation.MinicalButton(ne,0))):N?Q=new c.$keyboardNavigation.MinicalButton(ne,1):O&&(Q=new c.$keyboardNavigation.MinicalCell(ne,j,R)),Q&&(u.enable(),Q.isValid()&&(u.activeNode=null,u.setActiveNode(Q))))})}if(c.renderCalendar){var x=c.renderCalendar;c.renderCalendar=function(){var E=x.apply(this,arguments),b=c.$keyboardNavigation._minicalendars;c.eventRemove(E,"click",y),c.event(E,"click",y),c.eventRemove(E,"focus",f),c.event(E,"focus",f);for(var S=!1,N=0;N<b.length;N++)if(b[N]==E){S=!0;break}if(S||b.push(E),u.isEnabled()){var O=u.getActiveNode();O&&O.container==E?u.focusNode(O):E.setAttribute("tabindex","0")}else E.setAttribute("tabindex","0");return E}}if(c.destroyCalendar){var v=c.destroyCalendar;c.destroyCalendar=function(E,b){E=E||(c._def_count?c._def_count.firstChild:null);var S=v.apply(this,arguments);if(!E||!E.parentNode)for(var N=c.$keyboardNavigation._minicalendars,O=0;O<N.length;O++)N[O]==E&&(c.eventRemove(N[O],"focus",f),N.splice(O,1),O--);return S}}}}(s);var d=s.$keyboardNavigation.dispatcher;if(s.$keyboardNavigation.attachSchedulerHandlers(),s.renderCalendar)s.$keyboardNavigation.patchMinicalendar();else var m=s.attachEvent("onSchedulerReady",function(){s.detachEvent(m),s.$keyboardNavigation.patchMinicalendar()});function p(){if(s.config.key_nav){var c=document.activeElement;return!(!c||s.utils.dom.locateCss(c,"dhx_cal_quick_info",!1))&&(s.$keyboardNavigation.isChildOf(c,s.$container)||s.$keyboardNavigation.isMinical(c))}}function o(c){c&&!d.isEnabled()?d.enable():!c&&d.isEnabled()&&d.disable()}setInterval(function(){if(s.$container&&s.$keyboardNavigation.isChildOf(s.$container,document.body)){var c=p();c?o(c):!c&&d.isEnabled()&&setTimeout(function(){s.config.key_nav?o(p()):s.$container.removeAttribute("tabindex")},100)}},500)}()},layer:function(s){s.attachEvent("onTemplatesReady",function(){this.layers.sort(function(d,m){return d.zIndex-m.zIndex}),s._dp_init=function(d){d._methods=["_set_event_text_style","","changeEventId","deleteEvent"],this.attachEvent("onEventAdded",function(m){!this._loading&&this.validId(m)&&this.getEvent(m)&&this.getEvent(m).layer==d.layer&&d.setUpdated(m,!0,"inserted")}),this.attachEvent("onBeforeEventDelete",function(m){if(this.getEvent(m)&&this.getEvent(m).layer==d.layer){if(!this.validId(m))return;var p=d.getState(m);return p=="inserted"||this._new_event?(d.setUpdated(m,!1),!0):p!="deleted"&&(p=="true_deleted"||(d.setUpdated(m,!0,"deleted"),!1))}return!0}),this.attachEvent("onEventChanged",function(m){!this._loading&&this.validId(m)&&this.getEvent(m)&&this.getEvent(m).layer==d.layer&&d.setUpdated(m,!0,"updated")}),d._getRowData=function(m,p){var o=this.obj.getEvent(m),c={};for(var u in o)u.indexOf("_")!==0&&(o[u]&&o[u].getUTCFullYear?c[u]=this.obj._helpers.formatDate(o[u]):c[u]=o[u]);return c},d._clearUpdateFlag=function(){},d.attachEvent("insertCallback",s._update_callback),d.attachEvent("updateCallback",s._update_callback),d.attachEvent("deleteCallback",function(m,p){this.obj.setUserData(p,this.action_param,"true_deleted"),this.obj.deleteEvent(p)})},function(){var d=function o(c){if(c===null||Lc(c)!="object")return c;var u=new c.constructor;for(var f in c)u[f]=o(c[f]);return u};s._dataprocessors=[],s._layers_zindex={};for(var m=0;m<s.layers.length;m++){if(s.config["lightbox_"+s.layers[m].name]={},s.config["lightbox_"+s.layers[m].name].sections=d(s.config.lightbox.sections),s._layers_zindex[s.layers[m].name]=s.config.initial_layer_zindex||5+3*m,s.layers[m].url){var p=s.createDataProcessor({url:s.layers[m].url});p.layer=s.layers[m].name,s._dataprocessors.push(p),s._dataprocessors[m].init(s)}s.layers[m].isDefault&&(s.defaultLayer=s.layers[m].name)}}(),s.showLayer=function(d){this.toggleLayer(d,!0)},s.hideLayer=function(d){this.toggleLayer(d,!1)},s.toggleLayer=function(d,m){var p=this.getLayer(d);p.visible=m!==void 0?!!m:!p.visible,this.setCurrentView(this._date,this._mode)},s.getLayer=function(d){var m,p;typeof d=="string"&&(p=d),Lc(d)=="object"&&(p=d.layer);for(var o=0;o<s.layers.length;o++)s.layers[o].name==p&&(m=s.layers[o]);return m},s.attachEvent("onBeforeLightbox",function(d){var m=this.getEvent(d);return this.config.lightbox.sections=this.config["lightbox_"+m.layer].sections,s.resetLightbox(),!0}),s.attachEvent("onClick",function(d,m){var p=s.getEvent(d);return!s.getLayer(p.layer).noMenu}),s.attachEvent("onEventCollision",function(d,m){var p=this.getLayer(d);if(!p.checkCollision)return!1;for(var o=0,c=0;c<m.length;c++)m[c].layer==p.name&&m[c].id!=d.id&&o++;return o>=s.config.collision_limit}),s.addEvent=function(d,m,p,o,c){var u=d;arguments.length!=1&&((u=c||{}).start_date=d,u.end_date=m,u.text=p,u.id=o,u.layer=this.defaultLayer),u.id=u.id||s.uid(),u.text=u.text||"",typeof u.start_date=="string"&&(u.start_date=this.templates.api_date(u.start_date)),typeof u.end_date=="string"&&(u.end_date=this.templates.api_date(u.end_date)),u._timed=this.isOneDayEvent(u);var f=!this._events[u.id];this._events[u.id]=u,this.event_updated(u),this._loading||this.callEvent(f?"onEventAdded":"onEventChanged",[u.id,u])},this._evs_layer={};for(var w=0;w<this.layers.length;w++)this._evs_layer[this.layers[w].name]=[];s.addEventNow=function(d,m,p){var o={};Lc(d)=="object"&&(o=d,d=null);var c=6e4*(this.config.event_duration||this.config.time_step);d||(d=Math.round(s._currentDate().valueOf()/c)*c);var u=new Date(d);if(!m){var f=this.config.first_hour;f>u.getHours()&&(u.setHours(f),d=u.valueOf()),m=d+c}o.start_date=o.start_date||u,o.end_date=o.end_date||new Date(m),o.text=o.text||this.locale.labels.new_event,o.id=this._drag_id=this.uid(),o.layer=this.defaultLayer,this._drag_mode="new-size",this._loading=!0,this.addEvent(o),this.callEvent("onEventCreated",[this._drag_id,p]),this._loading=!1,this._drag_event={},this._on_mouse_up(p)},s._t_render_view_data=function(d){if(this.config.multi_day&&!this._table_view){for(var m=[],p=[],o=0;o<d.length;o++)d[o]._timed?m.push(d[o]):p.push(d[o]);this._table_view=!0,this.render_data(p),this._table_view=!1,this.render_data(m)}else this.render_data(d)},s.render_view_data=function(){if(this._not_render)this._render_wait=!0;else{this._render_wait=!1,this.clear_view(),this._evs_layer={};for(var d=0;d<this.layers.length;d++)this._evs_layer[this.layers[d].name]=[];var m=this.get_visible_events();for(d=0;d<m.length;d++)this._evs_layer[m[d].layer]&&this._evs_layer[m[d].layer].push(m[d]);if(this._mode=="month"){var p=[];for(d=0;d<this.layers.length;d++)this.layers[d].visible&&(p=p.concat(this._evs_layer[this.layers[d].name]));this._t_render_view_data(p)}else for(d=0;d<this.layers.length;d++)if(this.layers[d].visible){var o=this._evs_layer[this.layers[d].name];this._t_render_view_data(o)}}},s._render_v_bar=function(d,m,p,o,c,u,f,y,x){var v=d.id;f.indexOf("<div class=")==-1&&(f=s.templates["event_header_"+d.layer]?s.templates["event_header_"+d.layer](d.start_date,d.end_date,d):f),y.indexOf("<div class=")==-1&&(y=s.templates["event_text_"+d.layer]?s.templates["event_text_"+d.layer](d.start_date,d.end_date,d):y);var E=document.createElement("div"),b="dhx_cal_event",S=s.templates["event_class_"+d.layer]?s.templates["event_class_"+d.layer](d.start_date,d.end_date,d):s.templates.event_class(d.start_date,d.end_date,d);S&&(b=b+" "+S);var N=s._border_box_events(),O=o-2,j=N?O:o-4,R=N?O:o-6,H=N?O:o-(this._quirks?4:14),Z=N?O-2:o-8,re=N?c-this.xy.event_header_height:c-(this._quirks?20:30)+1,K='<div event_id="'+v+'" '+s.config.event_attribute+'="'+v+'" class="'+b+'" style="position:absolute; top:'+p+"px; left:"+m+"px; width:"+j+"px; height:"+c+"px;"+(u||"")+'">';return K+='<div class="dhx_header" style=" width:'+R+'px;" >&nbsp;</div>',K+='<div class="dhx_title">'+f+"</div>",K+='<div class="dhx_body" style=" width:'+H+"px; height:"+re+'px;">'+y+"</div>",K+='<div class="dhx_footer" style=" width:'+Z+"px;"+(x?" margin-top:-1px;":"")+'" ></div></div>',E.innerHTML=K,E.style.zIndex=100,E.firstChild},s.render_event_bar=function(d){var m=this._els.dhx_cal_data[0],p=this._colsS[d._sday],o=this._colsS[d._eday];o==p&&(o=this._colsS[d._eday+1]);var c=this.xy.bar_height,u=this._colsS.heights[d._sweek]+(this._colsS.height?this.xy.month_scale_height+2:2)+d._sorder*c,f=document.createElement("div"),y=d._timed?"dhx_cal_event_clear":"dhx_cal_event_line",x=s.templates["event_class_"+d.layer]?s.templates["event_class_"+d.layer](d.start_date,d.end_date,d):s.templates.event_class(d.start_date,d.end_date,d);x&&(y=y+" "+x);var v='<div event_id="'+d.id+'" '+this.config.event_attribute+'="'+d.id+'" class="'+y+'" style="position:absolute; top:'+u+"px; left:"+p+"px; width:"+(o-p-15)+"px;"+(d._text_style||"")+'">';d._timed&&(v+=s.templates["event_bar_date_"+d.layer]?s.templates["event_bar_date_"+d.layer](d.start_date,d.end_date,d):s.templates.event_bar_date(d.start_date,d.end_date,d)),v+=s.templates["event_bar_text_"+d.layer]?s.templates["event_bar_text_"+d.layer](d.start_date,d.end_date,d):s.templates.event_bar_text(d.start_date,d.end_date,d)+"</div>)",v+="</div>",f.innerHTML=v,this._rendered.push(f.firstChild),m.appendChild(f.firstChild)},s.render_event=function(d){var m=s.xy.menu_width;if(s.getLayer(d.layer).noMenu&&(m=0),!(d._sday<0)){var p=s.locate_holder(d._sday);if(p){var o=60*d.start_date.getHours()+d.start_date.getMinutes(),c=60*d.end_date.getHours()+d.end_date.getMinutes()||60*s.config.last_hour,u=Math.round((60*o*1e3-60*this.config.first_hour*60*1e3)*this.config.hour_size_px/36e5)%(24*this.config.hour_size_px)+1,f=Math.max(s.xy.min_event_height,(c-o)*this.config.hour_size_px/60)+1,y=Math.floor((p.clientWidth-m)/d._count),x=d._sorder*y+1;d._inner||(y*=d._count-d._sorder);var v=this._render_v_bar(d.id,m+x,u,y,f,d._text_style,s.templates.event_header(d.start_date,d.end_date,d),s.templates.event_text(d.start_date,d.end_date,d));if(this._rendered.push(v),p.appendChild(v),x=x+parseInt(p.style.left,10)+m,u+=this._dy_shift,v.style.zIndex=this._layers_zindex[d.layer],this._edit_id==d.id){v.style.zIndex=parseInt(v.style.zIndex)+1;var E=v.style.zIndex;y=Math.max(y-4,s.xy.editor_width),(v=document.createElement("div")).setAttribute("event_id",d.id),v.setAttribute(this.config.event_attribute,d.id),this.set_xy(v,y,f-20,x,u+14),v.className="dhx_cal_editor",v.style.zIndex=E;var b=document.createElement("div");this.set_xy(b,y-6,f-26),b.style.cssText+=";margin:2px 2px 2px 2px;overflow:hidden;",b.style.zIndex=E,v.appendChild(b),this._els.dhx_cal_data[0].appendChild(v),this._rendered.push(v),b.innerHTML="<textarea class='dhx_cal_editor'>"+d.text+"</textarea>",this._quirks7&&(b.firstChild.style.height=f-12+"px"),this._editor=b.firstChild,this._editor.addEventListener("keypress",function(R){if(R.shiftKey)return!0;var H=R.keyCode;H==s.keys.edit_save&&s.editStop(!0),H==s.keys.edit_cancel&&s.editStop(!1)}),this._editor.addEventListener("selectstart",function(R){return R.cancelBubble=!0,!0}),b.firstChild.focus(),this._els.dhx_cal_data[0].scrollLeft=0,b.firstChild.select()}if(this._select_id==d.id){v.style.zIndex=parseInt(v.style.zIndex)+1;for(var S=this.config["icons_"+(this._edit_id==d.id?"edit":"select")],N="",O=0;O<S.length;O++)N+="<div class='dhx_menu_icon "+S[O]+"' title='"+this.locale.labels[S[O]]+"'></div>";var j=this._render_v_bar(d.id,x-m+1,u,m,20*S.length+26,"","<div class='dhx_menu_head'></div>",N,!0);j.style.left=x-m+1,j.style.zIndex=v.style.zIndex,this._els.dhx_cal_data[0].appendChild(j),this._rendered.push(j)}}}},s.filter_agenda=function(d,m){var p=s.getLayer(m.layer);return p&&p.visible}})},limit:function(s){s.config.limit_start=null,s.config.limit_end=null,s.config.limit_view=!1,s.config.check_limits=!0,s.config.mark_now=!0,s.config.display_marked_timespans=!0,s.config.overwrite_marked_timespans=!0,s._temp_limit_scope=function(){var w=null,d=function(o,c,u){var f=Ph(o)=="object"?o:{days:o};return f.type="dhx_time_block",f.css="",c&&(u&&(f.sections=u),f=function(y,x,v){return x instanceof Date&&v instanceof Date?(y.start_date=x,y.end_date=v):(y.days=x,y.zones=v),y}(f,o,c)),f};s.blockTime=function(o,c,u){var f=d(o,c,u);return s.addMarkedTimespan(f)},s.unblockTime=function(o,c,u){var f=d(o,c=c||"fullday",u);return s.deleteMarkedTimespan(f)},s.attachEvent("onBeforeViewChange",function(o,c,u,f){function y(x,v){var E=s.config.limit_start,b=s.config.limit_end,S=s.date.add(x,1,v);return x.valueOf()>b.valueOf()||S<=E.valueOf()}return!s.config.limit_view||!y(f=f||c,u=u||o)||c.valueOf()==f.valueOf()||(setTimeout(function(){var x=y(c,u)?s.config.limit_start:c;s.setCurrentView(y(x,u)?null:x,u)},1),!1)}),s.checkInMarkedTimespan=function(o,c,u){c=c||"default";for(var f=!0,y=new Date(o.start_date.valueOf()),x=s.date.add(y,1,"day"),v=s._marked_timespans;y<o.end_date;y=s.date.date_part(x),x=s.date.add(y,1,"day")){var E=+s.date.date_part(new Date(y)),b=p(o,v,y.getDay(),E,c);if(b)for(var S=0;S<b.length;S+=2){var N=s._get_zone_minutes(y),O=o.end_date>x||o.end_date.getDate()!=y.getDate()?1440:s._get_zone_minutes(o.end_date),j=b[S],R=b[S+1];if(j<O&&R>N&&!(f=typeof u=="function"&&u(o,N,O,j,R)))break}}return!f};var m=s.checkLimitViolation=function(o){if(!o||!s.config.check_limits)return!0;var c=s,u=c.config,f=[];if(o.rec_type)for(var y=s.getRecDates(o),x=0;x<y.length;x++){var v=s._copy_event(o);s._lame_copy(v,y[x]),f.push(v)}else f=[o];for(var E=!0,b=0;b<f.length;b++){var S=!0;(v=f[b])._timed=s.isOneDayEvent(v),(S=!u.limit_start||!u.limit_end||v.start_date.valueOf()>=u.limit_start.valueOf()&&v.end_date.valueOf()<=u.limit_end.valueOf())&&(S=!s.checkInMarkedTimespan(v,"dhx_time_block",function(N,O,j,R,H){var Z=!0;return O<=H&&O>=R&&((H==1440||j<=H)&&(Z=!1),N._timed&&c._drag_id&&c._drag_mode=="new-size"?(N.start_date.setHours(0),N.start_date.setMinutes(H)):Z=!1),(j>=R&&j<=H||O<R&&j>H)&&(N._timed&&c._drag_id&&c._drag_mode=="new-size"?(N.end_date.setHours(0),N.end_date.setMinutes(R)):Z=!1),Z})),S||(S=c.checkEvent("onLimitViolation")?c.callEvent("onLimitViolation",[v.id,v]):S),E=E&&S}return E||(c._drag_id=null,c._drag_mode=null),E};function p(o,c,u,f,y){var x=s,v=[],E={_props:"map_to",matrix:"y_property"};for(var b in E){var S=E[b];if(x[b])for(var N in x[b]){var O=x[b][N][S];o[O]&&(v=x._add_timespan_zones(v,s._get_blocked_zones(c[N],o[O],u,f,y)))}}return v=x._add_timespan_zones(v,s._get_blocked_zones(c,"global",u,f,y))}s._get_blocked_zones=function(o,c,u,f,y){var x=[];if(o&&o[c])for(var v=o[c],E=this._get_relevant_blocked_zones(u,f,v,y),b=0;b<E.length;b++)x=this._add_timespan_zones(x,E[b].zones);return x},s._get_relevant_blocked_zones=function(o,c,u,f){var y;return s.config.overwrite_marked_timespans?y=u[c]&&u[c][f]?u[c][f]:u[o]&&u[o][f]?u[o][f]:[]:(y=[],u[c]&&u[c][f]&&(y=y.concat(u[c][f])),u[o]&&u[o][f]&&(y=y.concat(u[o][f]))),y},s.attachEvent("onMouseDown",function(o){return o!="dhx_time_block"}),s.attachEvent("onBeforeDrag",function(o){return!o||m(s.getEvent(o))}),s.attachEvent("onClick",function(o,c){return m(s.getEvent(o))}),s.attachEvent("onBeforeLightbox",function(o){var c=s.getEvent(o);return w=[c.start_date,c.end_date],m(c)}),s.attachEvent("onEventSave",function(o,c,u){if(!c.start_date||!c.end_date){var f=s.getEvent(o);c.start_date=new Date(f.start_date),c.end_date=new Date(f.end_date)}if(c.rec_type){var y=s._lame_clone(c);return s._roll_back_dates(y),m(y)}return m(c)}),s.attachEvent("onEventAdded",function(o){if(!o)return!0;var c=s.getEvent(o);return!m(c)&&s.config.limit_start&&s.config.limit_end&&(c.start_date<s.config.limit_start&&(c.start_date=new Date(s.config.limit_start)),c.start_date.valueOf()>=s.config.limit_end.valueOf()&&(c.start_date=this.date.add(s.config.limit_end,-1,"day")),c.end_date<s.config.limit_start&&(c.end_date=new Date(s.config.limit_start)),c.end_date.valueOf()>=s.config.limit_end.valueOf()&&(c.end_date=this.date.add(s.config.limit_end,-1,"day")),c.start_date.valueOf()>=c.end_date.valueOf()&&(c.end_date=this.date.add(c.start_date,this.config.event_duration||this.config.time_step,"minute")),c._timed=this.isOneDayEvent(c)),!0}),s.attachEvent("onEventChanged",function(o){if(!o)return!0;var c=s.getEvent(o);if(!m(c)){if(!w)return!1;c.start_date=w[0],c.end_date=w[1],c._timed=this.isOneDayEvent(c)}return!0}),s.attachEvent("onBeforeEventChanged",function(o,c,u){return m(o)}),s.attachEvent("onBeforeEventCreated",function(o){var c=s.getActionData(o).date,u={_timed:!0,start_date:c,end_date:s.date.add(c,s.config.time_step,"minute")};return m(u)}),s.attachEvent("onViewChange",function(){s._mark_now()}),s.attachEvent("onAfterSchedulerResize",function(){return window.setTimeout(function(){s._mark_now()},1),!0}),s.attachEvent("onTemplatesReady",function(){s._mark_now_timer=window.setInterval(function(){s._is_initialized()&&s._mark_now()},6e4)}),s._mark_now=function(o){this._els.dhx_now_time||(this._els.dhx_now_time=[]);var c=s._currentDate(),u=this.config;if(s._remove_mark_now(),!o&&u.mark_now&&c<this._max_date&&c>this._min_date&&c.getHours()>=u.first_hour&&c.getHours()<u.last_hour){var f=this.locate_holder_day(c);this._els.dhx_now_time=s._append_mark_now(f,c)}},s._append_mark_now=function(o,c){var u=s._get_zone_minutes(c),f={zones:[u,u+1],css:"dhx_now_time",type:"dhx_now_time"};if(!this._table_view){if(this._props&&this._props[this._mode]){var y,x,v=this._props[this._mode],E=v.size||v.options.length;v.days>1?(v.size&&v.options.length&&(o=(v.position+o)/v.options.length*v.size),y=o,x=o+E):x=(y=0)+E;for(var b=[],S=y;S<x;S++){var N=S;f.days=N;var O=s._render_marked_timespan(f,null,N)[0];b.push(O)}return b}return f.days=o,s._render_marked_timespan(f,null,o)}if(this._mode=="month")return f.days=+s.date.date_part(c),s._render_marked_timespan(f,null,null)},s._remove_mark_now=function(){for(var o=this._els.dhx_now_time,c=0;c<o.length;c++){var u=o[c],f=u.parentNode;f&&f.removeChild(u)}this._els.dhx_now_time=[]},s._marked_timespans={global:{}},s._get_zone_minutes=function(o){return 60*o.getHours()+o.getMinutes()},s._prepare_timespan_options=function(o){var c=[],u=[];if(o.days=="fullweek"&&(o.days=[0,1,2,3,4,5,6]),o.days instanceof Array){for(var f=o.days.slice(),y=0;y<f.length;y++){var x=s._lame_clone(o);x.days=f[y],c.push.apply(c,s._prepare_timespan_options(x))}return c}if(!o||!(o.start_date&&o.end_date&&o.end_date>o.start_date||o.days!==void 0&&o.zones)&&!o.type)return c;o.zones=="fullday"&&(o.zones=[0,1440]),o.zones&&o.invert_zones&&(o.zones=s.invertZones(o.zones)),o.id=s.uid(),o.css=o.css||"",o.type=o.type||"default";var v=o.sections;if(v){for(var E in v)if(v.hasOwnProperty(E)){var b=v[E];for(b instanceof Array||(b=[b]),y=0;y<b.length;y++)(Z=s._lame_copy({},o)).sections={},Z.sections[E]=b[y],u.push(Z)}}else u.push(o);for(var S=0;S<u.length;S++){var N=u[S],O=N.start_date,j=N.end_date;if(O&&j)for(var R=s.date.date_part(new Date(O)),H=s.date.add(R,1,"day");R<j;){var Z;delete(Z=s._lame_copy({},N)).start_date,delete Z.end_date,Z.days=R.valueOf();var re=O>R?s._get_zone_minutes(O):0,K=j>H||j.getDate()!=R.getDate()?1440:s._get_zone_minutes(j);Z.zones=[re,K],c.push(Z),R=H,H=s.date.add(H,1,"day")}else N.days instanceof Date&&(N.days=s.date.date_part(N.days).valueOf()),N.zones=o.zones.slice(),c.push(N)}return c},s._get_dates_by_index=function(o,c,u){var f=[];c=s.date.date_part(new Date(c||s._min_date)),u=new Date(u||s._max_date);for(var y=c.getDay(),x=o-y>=0?o-y:7-c.getDay()+o,v=s.date.add(c,x,"day");v<u;v=s.date.add(v,1,"week"))f.push(v);return f},s._get_css_classes_by_config=function(o){var c=[];return o.type=="dhx_time_block"&&(c.push("dhx_time_block"),o.css&&c.push("dhx_time_block_reset")),c.push("dhx_marked_timespan",o.css),c.join(" ")},s._get_block_by_config=function(o){var c=document.createElement("div");return o.html&&(typeof o.html=="string"?c.innerHTML=o.html:c.appendChild(o.html)),c},s._render_marked_timespan=function(o,c,u){var f=[],y=s.config,x=this._min_date,v=this._max_date,E=!1;if(!y.display_marked_timespans)return f;if(!u&&u!==0){if(o.days<7)u=o.days;else{var b=new Date(o.days);if(E=+b,!(+v>+b&&+x<=+b))return f;u=b.getDay()}var S=x.getDay();S>u?u=7-(S-u):u-=S}var N=o.zones,O=s._get_css_classes_by_config(o);if(s._table_view&&s._mode=="month"){var j=[],R=[];if(c)j.push(c),R.push(u);else{R=E?[E]:s._get_dates_by_index(u);for(var H=0;H<R.length;H++)j.push(this._scales[R[H]])}for(H=0;H<j.length;H++){c=j[H],u=R[H];var Z=Math.floor((this._correct_shift(u,1)-x.valueOf())/(864e5*this._cols.length)),re=this.locate_holder_day(u,!1)%this._cols.length;if(!this._ignores[re]){var K=this.config.rtl?this._colsS.col_length-1-re:re,ae=s._get_block_by_config(o),W=Math.max(c.offsetHeight-1,0),ne=Math.max(c.offsetWidth-1,0),Q=this._colsS[K],we=this._colsS.heights[Z]+(this._colsS.height?this.xy.month_scale_height+2:2)-1;ae.className=O,ae.style.top=we+"px",ae.style.lineHeight=ae.style.height=W+"px";for(var Ce=0;Ce<N.length;Ce+=2){var xe=N[H];if((We=N[H+1])<=xe)return[];(Xe=ae.cloneNode(!0)).style.left=Q+Math.round(xe/1440*ne)+"px",Xe.style.width=Math.round((We-xe)/1440*ne)+"px",c.appendChild(Xe),f.push(Xe)}}}}else{var Ie=u;if(this._ignores[this.locate_holder_day(u,!1)])return f;if(this._props&&this._props[this._mode]&&o.sections&&o.sections[this._mode]){var De=this._props[this._mode];Ie=De.order[o.sections[this._mode]];var Fe=De.order[o.sections[this._mode]];De.days>1?Ie=Ie*(De.size||De.options.length)+Fe:(Ie=Fe,De.size&&Ie>De.position+De.size&&(Ie=0))}for(c=c||s.locate_holder(Ie),H=0;H<N.length;H+=2){var We,Xe;if(xe=Math.max(N[H],60*y.first_hour),(We=Math.min(N[H+1],60*y.last_hour))<=xe){if(H+2<N.length)continue;return[]}(Xe=s._get_block_by_config(o)).className=O;var Ct=24*this.config.hour_size_px+1;Xe.style.top=Math.round((60*xe*1e3-36e5*this.config.first_hour)*this.config.hour_size_px/36e5)%Ct+"px",Xe.style.lineHeight=Xe.style.height=Math.max(Math.round(60*(We-xe)*1e3*this.config.hour_size_px/36e5)%Ct,1)+"px",c.appendChild(Xe),f.push(Xe)}}return f},s._mark_timespans=function(){var o=this._els.dhx_cal_data[0],c=[];if(s._table_view&&s._mode=="month")for(var u in this._scales){var f=new Date(+u);c.push.apply(c,s._on_scale_add_marker(this._scales[u],f))}else{f=new Date(s._min_date);for(var y=0,x=o.childNodes.length;y<x;y++){var v=o.childNodes[y];v.firstChild&&s._getClassName(v.firstChild).indexOf("dhx_scale_hour")>-1||(c.push.apply(c,s._on_scale_add_marker(v,f)),f=s.date.add(f,1,"day"))}}return c},s.markTimespan=function(o){var c=!1;this._els.dhx_cal_data||(s.get_elements(),c=!0);var u=s._marked_timespans_ids,f=s._marked_timespans_types,y=s._marked_timespans;s.deleteMarkedTimespan(),s.addMarkedTimespan(o);var x=s._mark_timespans();return c&&(s._els=[]),s._marked_timespans_ids=u,s._marked_timespans_types=f,s._marked_timespans=y,x},s.unmarkTimespan=function(o){if(o)for(var c=0;c<o.length;c++){var u=o[c];u.parentNode&&u.parentNode.removeChild(u)}},s._addMarkerTimespanConfig=function(o){var c=s._marked_timespans,u=o.id,f=s._marked_timespans_ids;f[u]||(f[u]=[]);var y=o.days,x=o.sections,v=o.type;if(o.id=u,x){for(var E in x)if(x.hasOwnProperty(E)){c[E]||(c[E]={});var b=x[E],S=c[E];S[b]||(S[b]={}),S[b][y]||(S[b][y]={}),S[b][y][v]||(S[b][y][v]=[],s._marked_timespans_types||(s._marked_timespans_types={}),s._marked_timespans_types[v]||(s._marked_timespans_types[v]=!0));var N=S[b][y][v];o._array=N,N.push(o),f[u].push(o)}}else c.global[y]||(c.global[y]={}),c.global[y][v]||(c.global[y][v]=[]),s._marked_timespans_types||(s._marked_timespans_types={}),s._marked_timespans_types[v]||(s._marked_timespans_types[v]=!0),N=c.global[y][v],o._array=N,N.push(o),f[u].push(o)},s._marked_timespans_ids={},s.addMarkedTimespan=function(o){var c=s._prepare_timespan_options(o);if(c.length){for(var u=c[0].id,f=0;f<c.length;f++)s._addMarkerTimespanConfig(c[f]);return u}},s._add_timespan_zones=function(o,c){var u=o.slice();if(c=c.slice(),!u.length)return c;for(var f=0;f<u.length;f+=2)for(var y=u[f],x=u[f+1],v=f+2==u.length,E=0;E<c.length;E+=2){var b=c[E],S=c[E+1];if(S>x&&b<=x||b<y&&S>=y)u[f]=Math.min(y,b),u[f+1]=Math.max(x,S),f-=2;else{if(!v)continue;var N=y>b?0:2;u.splice(f+N,0,b,S)}c.splice(E--,2);break}return u},s._subtract_timespan_zones=function(o,c){for(var u=o.slice(),f=0;f<u.length;f+=2)for(var y=u[f],x=u[f+1],v=0;v<c.length;v+=2){var E=c[v],b=c[v+1];if(b>y&&E<x){var S=!1;y>=E&&x<=b&&u.splice(f,2),y<E&&(u.splice(f,2,y,E),S=!0),x>b&&u.splice(S?f+2:f,S?0:2,b,x),f-=2;break}}return u},s.invertZones=function(o){return s._subtract_timespan_zones([0,1440],o.slice())},s._delete_marked_timespan_by_id=function(o){var c=s._marked_timespans_ids[o];if(c){for(var u=0;u<c.length;u++)for(var f=c[u],y=f._array,x=0;x<y.length;x++)if(y[x]==f){y.splice(x,1);break}}},s._delete_marked_timespan_by_config=function(o){var c,u=s._marked_timespans,f=o.sections,y=o.days,x=o.type||"default";if(f){for(var v in f)if(f.hasOwnProperty(v)&&u[v]){var E=f[v];u[v][E]&&(c=u[v][E])}}else c=u.global;if(c){if(y!==void 0)c[y]&&c[y][x]&&(s._addMarkerTimespanConfig(o),s._delete_marked_timespans_list(c[y][x],o));else for(var b in c)if(c[b][x]){var S=s._lame_clone(o);o.days=b,s._addMarkerTimespanConfig(S),s._delete_marked_timespans_list(c[b][x],o)}}},s._delete_marked_timespans_list=function(o,c){for(var u=0;u<o.length;u++){var f=o[u],y=s._subtract_timespan_zones(f.zones,c.zones);if(y.length)f.zones=y;else{o.splice(u,1),u--;for(var x=s._marked_timespans_ids[f.id],v=0;v<x.length;v++)if(x[v]==f){x.splice(v,1);break}}}},s.deleteMarkedTimespan=function(o){if(arguments.length||(s._marked_timespans={global:{}},s._marked_timespans_ids={},s._marked_timespans_types={}),Ph(o)!="object")s._delete_marked_timespan_by_id(o);else{o.start_date&&o.end_date||(o.days!==void 0||o.type||(o.days="fullweek"),o.zones||(o.zones="fullday"));var c=[];if(o.type)c.push(o.type);else for(var u in s._marked_timespans_types)c.push(u);for(var f=s._prepare_timespan_options(o),y=0;y<f.length;y++)for(var x=f[y],v=0;v<c.length;v++){var E=s._lame_clone(x);E.type=c[v],s._delete_marked_timespan_by_config(E)}}},s._get_types_to_render=function(o,c){var u=o?s._lame_copy({},o):{};for(var f in c||{})c.hasOwnProperty(f)&&(u[f]=c[f]);return u},s._get_configs_to_render=function(o){var c=[];for(var u in o)o.hasOwnProperty(u)&&c.push.apply(c,o[u]);return c},s._on_scale_add_marker=function(o,c){if(!s._table_view||s._mode=="month"){var u=c.getDay(),f=c.valueOf(),y=this._mode,x=s._marked_timespans,v=[],E=[];if(this._props&&this._props[y]){var b=this._props[y],S=b.options,N=S[s._get_unit_index(b,c)];if(b.days>1){var O=Math.round((c-s._min_date)/864e5),j=b.size||S.length;c=s.date.add(s._min_date,Math.floor(O/j),"day"),c=s.date.date_part(c)}else c=s.date.date_part(new Date(this._date));if(u=c.getDay(),f=c.valueOf(),x[y]&&x[y][N.key]){var R=x[y][N.key],H=s._get_types_to_render(R[u],R[f]);v.push.apply(v,s._get_configs_to_render(H))}}var Z=x.global;if(s.config.overwrite_marked_timespans){var re=Z[f]||Z[u];v.push.apply(v,s._get_configs_to_render(re))}else Z[f]&&v.push.apply(v,s._get_configs_to_render(Z[f])),Z[u]&&v.push.apply(v,s._get_configs_to_render(Z[u]));for(var K=0;K<v.length;K++)E.push.apply(E,s._render_marked_timespan(v[K],o,c));return E}},s.attachEvent("onScaleAdd",function(){s._on_scale_add_marker.apply(s,arguments)}),s.dblclick_dhx_marked_timespan=function(o,c){s.callEvent("onScaleDblClick",[s.getActionData(o).date,c,o]),s.config.dblclick_create&&s.addEventNow(s.getActionData(o).date,null,o)}},s._temp_limit_scope()},map_view:function(s){var w;s.xy.map_date_width=188,s.xy.map_icon_width=25,s.xy.map_description_width=400,s.config.map_resolve_event_location=!0,s.config.map_resolve_user_location=!0,s.config.map_initial_position=new google.maps.LatLng(48.724,8.215),s.config.map_error_position=new google.maps.LatLng(15,15),s.config.map_infowindow_max_width=300,s.config.map_type=google.maps.MapTypeId.ROADMAP,s.config.map_zoom_after_resolve=15,s.locale.labels.marker_geo_success="It seems you are here.",s.locale.labels.marker_geo_fail="Sorry, could not get your current position using geolocation.",s.templates.marker_date=s.date.date_to_str("%Y-%m-%d %H:%i"),s.templates.marker_text=function(d,m,p){return"<div><b>"+p.text+"</b><br/><br/>"+(p.event_location||"")+"<br/><br/>"+s.templates.marker_date(d)+" - "+s.templates.marker_date(m)+"</div>"},s.dblclick_dhx_map_area=function(){!this.config.readonly&&this.config.dblclick_create&&this.addEventNow({start_date:s._date,end_date:s.date.add(s._date,s.config.time_step,"minute")})},s.templates.map_time=function(d,m,p){return s.config.rtl&&!p._timed?s.templates.day_date(m)+" &ndash; "+s.templates.day_date(d):p._timed?this.day_date(p.start_date,p.end_date,p)+" "+this.event_date(d):s.templates.day_date(d)+" &ndash; "+s.templates.day_date(m)},s.templates.map_text=function(d,m,p){return p.text},s.date.map_start=function(d){return d},s.date.add_map=function(d,m,p){return new Date(d.valueOf())},s.templates.map_date=function(d,m,p){return""},s._latLngUpdate=!1,s.attachEvent("onSchedulerReady",function(){s._isMapPositionSet=!1;var d=document.createElement("div");d.className="dhx_map",d.id="dhx_gmap",d.style.display="none",s._obj.appendChild(d),s._els.dhx_gmap=[],s._els.dhx_gmap.push(d),f("dhx_gmap");var m={zoom:s.config.map_initial_zoom||10,center:s.config.map_initial_position,mapTypeId:s.config.map_type||google.maps.MapTypeId.ROADMAP},p=new google.maps.Map(document.getElementById("dhx_gmap"),m);p.disableDefaultUI=!1,p.disableDoubleClickZoom=!s.config.readonly,google.maps.event.addListener(p,"dblclick",function(b){if(!s.config.readonly&&s.config.dblclick_create){var S=b.latLng;w.geocode({latLng:S},function(N,O){O==google.maps.GeocoderStatus.OK&&(S=N[0].geometry.location,s.addEventNow({lat:S.lat(),lng:S.lng(),event_location:N[0].formatted_address,start_date:s._date,end_date:s.date.add(s._date,s.config.time_step,"minute")}))})}});var o={content:""};s.config.map_infowindow_max_width&&(o.maxWidth=s.config.map_infowindow_max_width),s.map={_points:[],_markers:[],_infowindow:new google.maps.InfoWindow(o),_infowindows_content:[],_initialization_count:-1,_obj:p},w=new google.maps.Geocoder,s.config.map_resolve_user_location&&navigator.geolocation&&(s._isMapPositionSet||navigator.geolocation.getCurrentPosition(function(b){var S=new google.maps.LatLng(b.coords.latitude,b.coords.longitude);p.setCenter(S),p.setZoom(s.config.map_zoom_after_resolve||10),s.map._infowindow.setContent(s.locale.labels.marker_geo_success),s.map._infowindow.position=p.getCenter(),s.map._infowindow.open(p),s._isMapPositionSet=!0},function(){s.map._infowindow.setContent(s.locale.labels.marker_geo_fail),s.map._infowindow.setPosition(p.getCenter()),s.map._infowindow.open(p),s._isMapPositionSet=!0})),google.maps.event.addListener(p,"resize",function(b){d.style.zIndex="5",p.setZoom(p.getZoom())}),google.maps.event.addListener(p,"tilesloaded",function(b){d.style.zIndex="5"}),d.style.display="none";var c=s.render_data;function u(){var b=s.get_visible_events();b.sort(function(W,ne){return W.start_date.valueOf()==ne.start_date.valueOf()?W.id>ne.id?1:-1:W.start_date>ne.start_date?1:-1});for(var S="<div "+(Z=s._waiAria.mapAttrString())+" class='dhx_map_area'>",N=0;N<b.length;N++){var O=b[N],j=O.id==s._selected_event_id?"dhx_map_line highlight":"dhx_map_line",R=O.color?"background:"+O.color+";":"",H=O.textColor?"color:"+O.textColor+";":"",Z=s._waiAria.mapRowAttrString(O),re=s._waiAria.mapDetailsBtnString();S+="<div "+Z+" class='"+j+"' event_id='"+O.id+"' "+s.config.event_attribute+"='"+O.id+"' style='"+R+H+(O._text_style||"")+" width: "+(s.xy.map_date_width+s.xy.map_description_width+2)+"px;'><div class='dhx_map_event_time' style='width: "+s.xy.map_date_width+"px;' >"+s.templates.map_time(O.start_date,O.end_date,O)+"</div>",S+="<div "+re+" class='dhx_event_icon icon_details'>&nbsp;</div>",S+="<div class='line_description' style='width:"+(s.xy.map_description_width-s.xy.map_icon_width)+"px;'>"+s.templates.map_text(O.start_date,O.end_date,O)+"</div></div>"}S+="<div class='dhx_v_border' style="+(s.config.rtl?"'right: ":"'left: ")+(s.xy.map_date_width-2)+"px;'></div><div class='dhx_v_border_description'></div></div>",s._els.dhx_cal_data[0].scrollTop=0,s._els.dhx_cal_data[0].innerHTML=S,s._els.dhx_cal_data[0].style.width=s.xy.map_date_width+s.xy.map_description_width+1+"px";var K=s._els.dhx_cal_data[0].firstChild.childNodes,ae=s._getNavDateElement();for(ae&&(ae.innerHTML=s.templates[s._mode+"_date"](s._min_date,s._max_date,s._mode)),s._rendered=[],N=0;N<K.length-2;N++)s._rendered[N]=K[N]}function f(b){var S=document.getElementById(b),N=s._y-s.xy.nav_height;N<0&&(N=0);var O=s._x-s.xy.map_date_width-s.xy.map_description_width-1;O<0&&(O=0),S.style.height=N+"px",S.style.width=O+"px",s.config.rtl?S.style.marginRight=s.xy.map_date_width+s.xy.map_description_width+1+"px":S.style.marginLeft=s.xy.map_date_width+s.xy.map_description_width+1+"px",S.style.marginTop=s.xy.nav_height+2+"px"}s.render_data=function(b,S){if(this._mode!="map")return c.apply(this,arguments);u();for(var N=s.get_visible_events(),O=0;O<N.length;O++)s.map._markers[N[O].id]||x(N[O],!1,!1)},s.map_view=function(b){s.map._initialization_count++;var S,N=s._els.dhx_gmap[0];if(s._els.dhx_cal_data[0].style.width=s.xy.map_date_width+s.xy.map_description_width+1+"px",s._min_date=s.config.map_start||s._currentDate(),s._max_date=s.config.map_end||s.date.add(s._currentDate(),1,"year"),s._table_view=!0,function(R){if(R){var H=s.locale.labels;s._els.dhx_cal_header[0].innerHTML="<div class='dhx_map_line' style='width: "+(s.xy.map_date_width+s.xy.map_description_width+2)+"px;' ><div class='headline_date' style='width: "+s.xy.map_date_width+"px;'>"+H.date+"</div><div class='headline_description' style='width: "+s.xy.map_description_width+"px;'>"+H.description+"</div></div>",s._table_view=!0,s.set_sizes()}}(b),b){(function(){s._selected_event_id=null,s.map._infowindow.close();var R=s.map._markers;for(var H in R)R.hasOwnProperty(H)&&(R[H].setMap(null),delete s.map._markers[H],s.map._infowindows_content[H]&&delete s.map._infowindows_content[H])})(),u(),N.style.display="block",f("dhx_gmap"),S=s.map._obj.getCenter();for(var O=s.get_visible_events(),j=0;j<O.length;j++)s.map._markers[O[j].id]||x(O[j])}else N.style.display="none";google.maps.event.trigger(s.map._obj,"resize"),s.map._initialization_count===0&&S&&s.map._obj.setCenter(S),s._selected_event_id&&y(s._selected_event_id)};var y=function(b){s.map._obj.setCenter(s.map._points[b]),s.callEvent("onClick",[b])},x=function(b,S,N){var O=s.config.map_error_position;b.lat&&b.lng&&(O=new google.maps.LatLng(b.lat,b.lng));var j=s.templates.marker_text(b.start_date,b.end_date,b);s._new_event||(s.map._infowindows_content[b.id]=j,s.map._markers[b.id]&&s.map._markers[b.id].setMap(null),s.map._markers[b.id]=new google.maps.Marker({position:O,map:s.map._obj}),google.maps.event.addListener(s.map._markers[b.id],"click",function(){s.map._infowindow.setContent(s.map._infowindows_content[b.id]),s.map._infowindow.open(s.map._obj,s.map._markers[b.id]),s._selected_event_id=b.id,s.render_data()}),s.map._points[b.id]=O,S&&s.map._obj.setCenter(s.map._points[b.id]),N&&s.callEvent("onClick",[b.id]))};s.attachEvent("onClick",function(b,S){if(this._mode=="map"){s._selected_event_id=b;for(var N=0;N<s._rendered.length;N++)s._rendered[N].className="dhx_map_line",s._rendered[N].getAttribute(s.config.event_attribute)==b&&(s._rendered[N].className+=" highlight");s.map._points[b]&&s.map._markers[b]&&(s.map._obj.setCenter(s.map._points[b]),google.maps.event.trigger(s.map._markers[b],"click"))}return!0});var v=function(b){b.event_location&&w?w.geocode({address:b.event_location,language:s.uid().toString()},function(S,N){var O={};N!=google.maps.GeocoderStatus.OK?(O=s.callEvent("onLocationError",[b.id]))&&O!==!0||(O=s.config.map_error_position):O=S[0].geometry.location,b.lat=O.lat(),b.lng=O.lng(),s._selected_event_id=b.id,s._latLngUpdate=!0,s.callEvent("onEventChanged",[b.id,b]),x(b,!0,!0)}):x(b,!0,!0)},E=function(b){b.event_location&&w&&w.geocode({address:b.event_location,language:s.uid().toString()},function(S,N){var O={};N!=google.maps.GeocoderStatus.OK?(O=s.callEvent("onLocationError",[b.id]))&&O!==!0||(O=s.config.map_error_position):O=S[0].geometry.location,b.lat=O.lat(),b.lng=O.lng(),s._latLngUpdate=!0,s.callEvent("onEventChanged",[b.id,b])})};s.attachEvent("onEventChanged",function(b,S){if(this._latLngUpdate)this._latLngUpdate=!1;else{var N=s.getEvent(b);N.start_date<s._min_date&&N.end_date>s._min_date||N.start_date<s._max_date&&N.end_date>s._max_date||N.start_date.valueOf()>=s._min_date&&N.end_date.valueOf()<=s._max_date?(s.map._markers[b]&&s.map._markers[b].setMap(null),v(N)):(s._selected_event_id=null,s.map._infowindow.close(),s.map._markers[b]&&s.map._markers[b].setMap(null))}return!0}),s.attachEvent("onEventIdChange",function(b,S){var N=s.getEvent(S);return(N.start_date<s._min_date&&N.end_date>s._min_date||N.start_date<s._max_date&&N.end_date>s._max_date||N.start_date.valueOf()>=s._min_date&&N.end_date.valueOf()<=s._max_date)&&(s.map._markers[b]&&(s.map._markers[b].setMap(null),delete s.map._markers[b]),s.map._infowindows_content[b]&&delete s.map._infowindows_content[b],v(N)),!0}),s.attachEvent("onEventAdded",function(b,S){return s._dataprocessor||(S.start_date<s._min_date&&S.end_date>s._min_date||S.start_date<s._max_date&&S.end_date>s._max_date||S.start_date.valueOf()>=s._min_date&&S.end_date.valueOf()<=s._max_date)&&(s.map._markers[b]&&s.map._markers[b].setMap(null),v(S)),!0}),s.attachEvent("onBeforeEventDelete",function(b,S){return s.map._markers[b]&&s.map._markers[b].setMap(null),s._selected_event_id=null,s.map._infowindow.close(),!0}),s._event_resolve_delay=1500,s.attachEvent("onEventLoading",function(b){return s.config.map_resolve_event_location&&b.event_location&&!b.lat&&!b.lng&&(s._event_resolve_delay+=1500,function(S,N,O,j){setTimeout(function(){var R=S.apply(N,O);return S=N=O=null,R},j||1)}(E,this,[b],s._event_resolve_delay)),!0}),s.attachEvent("onEventCancel",function(b,S){return S&&(s.map._markers[b]&&s.map._markers[b].setMap(null),s.map._infowindow.close()),!0})})},minical:function(s){var w=s._createDomEventScope();s.templates.calendar_month=s.date.date_to_str("%F %Y"),s.templates.calendar_scale_date=s.date.date_to_str("%D"),s.templates.calendar_date=s.date.date_to_str("%d"),s.config.minicalendar={mark_events:!0},s._synced_minicalendars=[],s.renderCalendar=function(d,m,p){var o=null,c=d.date||s._currentDate();if(typeof c=="string"&&(c=this.templates.api_date(c)),m)o=this._render_calendar(m.parentNode,c,d,m),s.unmarkCalendar(o);else{var u=d.container,f=d.position;if(typeof u=="string"&&(u=document.getElementById(u)),typeof f=="string"&&(f=document.getElementById(f)),f&&f.left===void 0&&f.right===void 0){var y=s.$domHelpers.getOffset(f);f={top:y.top+f.offsetHeight,left:y.left}}u||(u=s._get_def_cont(f)),(o=this._render_calendar(u,c,d)).$_eventAttached||(o.$_eventAttached=!0,w.attach(o,"click",function(R){var H=R.target||R.srcElement,Z=s.$domHelpers;if(Z.closest(H,".dhx_month_head")&&!Z.closest(H,".dhx_after")&&!Z.closest(H,".dhx_before")){var re=Z.closest(H,"[data-cell-date]").getAttribute("data-cell-date"),K=s.templates.parse_date(re);s.unmarkCalendar(this),s.markCalendar(this,K,"dhx_calendar_click"),this._last_date=K,this.conf.handler&&this.conf.handler.call(s,K,this)}}.bind(o)))}if(s.config.minicalendar.mark_events)for(var x=s.date.month_start(c),v=s.date.add(x,1,"month"),E=this.getEvents(x,v),b=this["filter_"+this._mode],S={},N=0;N<E.length;N++){var O=E[N];if(!b||b(O.id,O)){var j=O.start_date;for(j.valueOf()<x.valueOf()&&(j=x),j=s.date.date_part(new Date(j.valueOf()));j<O.end_date&&(S[+j]||(S[+j]=!0,this.markCalendar(o,j,"dhx_year_event")),!((j=this.date.add(j,1,"day")).valueOf()>=v.valueOf())););}}return this._markCalendarCurrentDate(o),o.conf=d,d.sync&&!p&&this._synced_minicalendars.push(o),o.conf._on_xle_handler||(o.conf._on_xle_handler=s.attachEvent("onXLE",function(){s.updateCalendar(o,o.conf.date)})),this.config.wai_aria_attributes&&this.config.wai_aria_application_role&&o.setAttribute("role","application"),o},s._get_def_cont=function(d){return this._def_count||(this._def_count=document.createElement("div"),this._def_count.className="dhx_minical_popup",s.event(this._def_count,"click",function(m){m.cancelBubble=!0}),document.body.appendChild(this._def_count)),d.left&&(this._def_count.style.left=d.left+"px"),d.right&&(this._def_count.style.right=d.right+"px"),d.top&&(this._def_count.style.top=d.top+"px"),d.bottom&&(this._def_count.style.bottom=d.bottom+"px"),this._def_count._created=new Date,this._def_count},s._locateCalendar=function(d,m){if(typeof m=="string"&&(m=s.templates.api_date(m)),+m>+d._max_date||+m<+d._min_date)return null;for(var p=d.querySelector(".dhx_year_body").childNodes[0],o=0,c=new Date(d._min_date);+this.date.add(c,1,"week")<=+m;)c=this.date.add(c,1,"week"),o++;var u=s.config.start_on_monday,f=(m.getDay()||(u?7:0))-(u?1:0);return p.rows[o].cells[f].firstChild},s.markCalendar=function(d,m,p){var o=this._locateCalendar(d,m);o&&(o.className+=" "+p)},s.unmarkCalendar=function(d,m,p){if(m=m||d._last_date,p=p||"dhx_calendar_click",m){var o=this._locateCalendar(d,m);o&&(o.className=(o.className||"").replace(RegExp(p,"g")))}},s._week_template=function(d){for(var m=d||250,p=0,o=document.createElement("div"),c=this.date.week_start(s._currentDate()),u=0;u<7;u++)this._cols[u]=Math.floor(m/(7-u)),this._render_x_header(u,p,c,o),c=this.date.add(c,1,"day"),m-=this._cols[u],p+=this._cols[u];return o.lastChild.className+=" dhx_scale_bar_last",o},s.updateCalendar=function(d,m){d.conf.date=m,this.renderCalendar(d.conf,d,!0)},s._mini_cal_arrows=["&nbsp;","&nbsp;"],s._render_calendar=function(d,m,p,o){var c=s.templates,u=this._cols;this._cols=[];var f=this._mode;this._mode="calendar";var y=this._colsS;this._colsS={height:0};var x=new Date(this._min_date),v=new Date(this._max_date),E=new Date(s._date),b=c.month_day,S=this._ignores_detected;this._ignores_detected=0,c.month_day=c.calendar_date,m=this.date.month_start(m);var N,O=this._week_template(d.offsetWidth-1-this.config.minicalendar.padding);o?N=o:(N=document.createElement("div")).className="dhx_cal_container dhx_mini_calendar",N.setAttribute("date",this._helpers.formatDate(m)),N.innerHTML="<div class='dhx_year_month'></div><div class='dhx_year_grid"+(s.config.rtl?" dhx_grid_rtl'>":"'>")+"<div class='dhx_year_week'>"+(O?O.innerHTML:"")+"</div><div class='dhx_year_body'></div></div>";var j=N.querySelector(".dhx_year_month"),R=N.querySelector(".dhx_year_week"),H=N.querySelector(".dhx_year_body");if(j.innerHTML=this.templates.calendar_month(m),p.navigation)for(var Z=function(Xe,Ct){var lr=s.date.add(Xe._date,Ct,"month");s.updateCalendar(Xe,lr),s._date.getMonth()==Xe._date.getMonth()&&s._date.getFullYear()==Xe._date.getFullYear()&&s._markCalendarCurrentDate(Xe)},re=["dhx_cal_prev_button","dhx_cal_next_button"],K=["left:1px;top:2px;position:absolute;","left:auto; right:1px;top:2px;position:absolute;"],ae=[-1,1],W=function(Xe){return function(){if(p.sync)for(var Ct=s._synced_minicalendars,lr=0;lr<Ct.length;lr++)Z(Ct[lr],Xe);else s.config.rtl&&(Xe=-Xe),Z(N,Xe)}},ne=[s.locale.labels.prev,s.locale.labels.next],Q=0;Q<2;Q++){var we=document.createElement("div");we.className=re[Q],s._waiAria.headerButtonsAttributes(we,ne[Q]),we.style.cssText=K[Q],we.innerHTML=this._mini_cal_arrows[Q],j.appendChild(we),w.attach(we,"click",W(ae[Q]))}N._date=new Date(m),N.week_start=(m.getDay()-(this.config.start_on_monday?1:0)+7)%7;var Ce=N._min_date=this.date.week_start(m);N._max_date=this.date.add(N._min_date,6,"week"),this._reset_month_scale(H,m,Ce,6),o||d.appendChild(N),R.style.height=R.childNodes[0].offsetHeight-1+"px";var xe=s.uid();s._waiAria.minicalHeader(j,xe),s._waiAria.minicalGrid(N.querySelector(".dhx_year_grid"),xe),s._waiAria.minicalRow(R);for(var Ie=R.querySelectorAll(".dhx_scale_bar"),De=0;De<Ie.length;De++)s._waiAria.minicalHeadCell(Ie[De]);var Fe=H.querySelectorAll("td"),We=new Date(Ce);for(De=0;De<Fe.length;De++)s._waiAria.minicalDayCell(Fe[De],new Date(We)),We=s.date.add(We,1,"day");return s._waiAria.minicalHeader(j,xe),this._cols=u,this._mode=f,this._colsS=y,this._min_date=x,this._max_date=v,s._date=E,c.month_day=b,this._ignores_detected=S,N},s.destroyCalendar=function(d,m){!d&&this._def_count&&this._def_count.firstChild&&(m||new Date().valueOf()-this._def_count._created.valueOf()>500)&&(d=this._def_count.firstChild),d&&(w.detachAll(),d.innerHTML="",d.parentNode&&d.parentNode.removeChild(d),this._def_count&&(this._def_count.style.top="-1000px"),d.conf&&d.conf._on_xle_handler&&s.detachEvent(d.conf._on_xle_handler))},s.isCalendarVisible=function(){return!!(this._def_count&&parseInt(this._def_count.style.top,10)>0)&&this._def_count},s.attachEvent("onTemplatesReady",function(){s.event(document.body,"click",function(){s.destroyCalendar()})},{once:!0}),s.templates.calendar_time=s.date.date_to_str("%d-%m-%Y"),s.form_blocks.calendar_time={render:function(d){var m="<input class='dhx_readonly' type='text' readonly='true'>",p=s.config,o=this.date.date_part(s._currentDate()),c=1440,u=0;p.limit_time_select&&(u=60*p.first_hour,c=60*p.last_hour+1),o.setHours(u/60),d._time_values=[],m+=" <select class='dhx_lightbox_time_select'>";for(var f=u;f<c;f+=1*this.config.time_step)m+="<option value='"+f+"'>"+this.templates.time_picker(o)+"</option>",d._time_values.push(f),o=this.date.add(o,this.config.time_step,"minute");return"<div style='height:30px;padding-top:0; font-size:inherit;' class='dhx_section_time dhx_lightbox_minical'>"+(m+="</select>")+"<span style='font-weight:normal; font-size:10pt;'> &nbsp;&ndash;&nbsp; </span>"+m+"</div>"},set_value:function(d,m,p,o){var c,u,f=d.getElementsByTagName("input"),y=d.getElementsByTagName("select"),x=function(j,R,H){s.event(j,"click",function(){s.destroyCalendar(null,!0),s.renderCalendar({position:j,date:new Date(this._date),navigation:!0,handler:function(Z){j.value=s.templates.calendar_time(Z),j._date=new Date(Z),s.destroyCalendar(),s.config.event_duration&&s.config.auto_end_date&&H===0&&S()}})})};if(s.config.full_day){if(!d._full_day){var v="<label class='dhx_fullday'><input type='checkbox' name='full_day' value='true'> "+s.locale.labels.full_day+"&nbsp;</label></input>";s.config.wide_form||(v=d.previousSibling.innerHTML+v),d.previousSibling.innerHTML=v,d._full_day=!0}var E=d.previousSibling.getElementsByTagName("input")[0],b=s.date.time_part(p.start_date)===0&&s.date.time_part(p.end_date)===0;E.checked=b,y[0].disabled=E.checked,y[1].disabled=E.checked,E.$_eventAttached||(E.$_eventAttached=!0,s.event(E,"click",function(){if(E.checked===!0){var j={};s.form_blocks.calendar_time.get_value(d,j),c=s.date.date_part(j.start_date),(+(u=s.date.date_part(j.end_date))==+c||+u>=+c&&(p.end_date.getHours()!==0||p.end_date.getMinutes()!==0))&&(u=s.date.add(u,1,"day"))}var R=c||p.start_date,H=u||p.end_date;N(f[0],R),N(f[1],H),y[0].value=60*R.getHours()+R.getMinutes(),y[1].value=60*H.getHours()+H.getMinutes(),y[0].disabled=E.checked,y[1].disabled=E.checked}))}if(s.config.event_duration&&s.config.auto_end_date){var S=function(){s.config.auto_end_date&&s.config.event_duration&&(c=s.date.add(f[0]._date,y[0].value,"minute"),u=new Date(c.getTime()+60*s.config.event_duration*1e3),f[1].value=s.templates.calendar_time(u),f[1]._date=s.date.date_part(new Date(u)),y[1].value=60*u.getHours()+u.getMinutes())};y[0].$_eventAttached||y[0].addEventListener("change",S)}function N(j,R,H){x(j,R,H),j.value=s.templates.calendar_time(R),j._date=s.date.date_part(new Date(R))}function O(j){for(var R=o._time_values,H=60*j.getHours()+j.getMinutes(),Z=H,re=!1,K=0;K<R.length;K++){var ae=R[K];if(ae===H){re=!0;break}ae<H&&(Z=ae)}return re||Z?re?H:Z:-1}N(f[0],p.start_date,0),N(f[1],p.end_date,1),x=function(){},y[0].value=O(p.start_date),y[1].value=O(p.end_date)},get_value:function(d,m){var p=d.getElementsByTagName("input"),o=d.getElementsByTagName("select");return m.start_date=s.date.add(p[0]._date,o[0].value,"minute"),m.end_date=s.date.add(p[1]._date,o[1].value,"minute"),m.end_date<=m.start_date&&(m.end_date=s.date.add(m.start_date,s.config.time_step,"minute")),{start_date:new Date(m.start_date),end_date:new Date(m.end_date)}},focus:function(d){}},s.linkCalendar=function(d,m){var p=function(){var o=s._date,c=new Date(o.valueOf());return m&&(c=m(c)),c.setDate(1),s.updateCalendar(d,c),!0};s.attachEvent("onViewChange",p),s.attachEvent("onXLE",p),s.attachEvent("onEventAdded",p),s.attachEvent("onEventChanged",p),s.attachEvent("onEventDeleted",p),p()},s._markCalendarCurrentDate=function(d){var m=s.getState(),p=m.min_date,o=m.max_date,c=m.mode,u=s.date.month_start(new Date(d._date)),f=s.date.add(u,1,"month");if(!({month:!0,year:!0,agenda:!0,grid:!0}[c]||p.valueOf()<=u.valueOf()&&o.valueOf()>=f.valueOf()))for(var y=p;y.valueOf()<o.valueOf();)u.valueOf()<=y.valueOf()&&f>y&&s.markCalendar(d,y,"dhx_calendar_click"),y=s.date.add(y,1,"day")},s.attachEvent("onEventCancel",function(){s.destroyCalendar(null,!0)}),s.attachEvent("onDestroy",function(){s.destroyCalendar()})},monthheight:function(s){s.attachEvent("onTemplatesReady",function(){s.xy.scroll_width=0;var w=s.render_view_data;s.render_view_data=function(){var m=this._els.dhx_cal_data[0];m.firstChild._h_fix=!0,w.apply(s,arguments);var p=parseInt(m.style.height);m.style.height="1px",m.style.height=m.scrollHeight+"px",this._obj.style.height=this._obj.clientHeight+m.scrollHeight-p+"px"};var d=s._reset_month_scale;s._reset_month_scale=function(m,p,o,c){var u={clientHeight:100};d.apply(s,[u,p,o,c]),m.innerHTML=u.innerHTML}})},multisection:function(s){ki("Multisection",s.assert)},multisource:function(s){var w=s._load;s._load=function(d,m){if(Bg(d=d||this._load_url)=="object")for(var p=function(c){var u=function(){};return u.prototype=c,u}(this._loaded),o=0;o<d.length;o++)this._loaded=new p,w.call(this,d[o],m);else w.apply(this,arguments)}},mvc:function(s){var w,d={use_id:!1};function m(c){var u={};for(var f in c)f.indexOf("_")!==0&&(u[f]=c[f]);return d.use_id||delete u.id,u}function p(c){c._not_render=!1,c._render_wait&&c.render_view_data(),c._loading=!1,c.callEvent("onXLE",[])}function o(c){return d.use_id?c.id:c.cid}s.backbone=function(c,u){u&&(d=u),c.bind("change",function(x,v){var E=o(x),b=s._events[E]=x.toJSON();b.id=E,s._init_event(b),clearTimeout(w),w=setTimeout(function(){s.updateView()},1)}),c.bind("remove",function(x,v){var E=o(x);s._events[E]&&s.deleteEvent(E)});var f=[];function y(){f.length&&(s.parse(f,"json"),f=[])}c.bind("add",function(x,v){var E=o(x);if(!s._events[E]){var b=x.toJSON();b.id=E,s._init_event(b),f.push(b),f.length==1&&setTimeout(y,1)}}),c.bind("request",function(x){x instanceof Backbone.Collection&&function(v){v._loading=!0,v._not_render=!0,v.callEvent("onXLS",[])}(s)}),c.bind("sync",function(x){x instanceof Backbone.Collection&&p(s)}),c.bind("error",function(x){x instanceof Backbone.Collection&&p(s)}),s.attachEvent("onEventCreated",function(x){var v=new c.model(s.getEvent(x));return s._events[x]=v.toJSON(),s._events[x].id=x,!0}),s.attachEvent("onEventAdded",function(x){if(!c.get(x)){var v=m(s.getEvent(x)),E=new c.model(v),b=o(E);b!=x&&this.changeEventId(x,b),c.add(E),c.trigger("scheduler:add",E)}return!0}),s.attachEvent("onEventChanged",function(x){var v=c.get(x),E=m(s.getEvent(x));return v.set(E),c.trigger("scheduler:change",v),!0}),s.attachEvent("onEventDeleted",function(x){var v=c.get(x);return v&&(c.trigger("scheduler:remove",v),c.remove(x)),!0})}},outerdrag:function(s){s.attachEvent("onTemplatesReady",function(){var w,d=new dhtmlDragAndDropObject,m=d.stopDrag;function p(o,c,u,f){if(!s.checkEvent("onBeforeExternalDragIn")||s.callEvent("onBeforeExternalDragIn",[o,c,u,f,w])){var y=s.attachEvent("onEventCreated",function(S){s.callEvent("onExternalDragIn",[S,o,w])||(this._drag_mode=this._drag_id=null,this.deleteEvent(S))}),x=s.getActionData(w),v={start_date:new Date(x.date)};if(s.matrix&&s.matrix[s._mode]){var E=s.matrix[s._mode];v[E.y_property]=x.section;var b=s._locate_cell_timeline(w);v.start_date=E._trace_x[b.x],v.end_date=s.date.add(v.start_date,E.x_step,E.x_unit)}s._props&&s._props[s._mode]&&(v[s._props[s._mode].map_to]=x.section),s.addEventNow(v),s.detachEvent(y)}}d.stopDrag=function(o){return w=o,m.apply(this,arguments)},d.addDragLanding(s._els.dhx_cal_data[0],{_drag:function(o,c,u,f){p(o,c,u,f)},_dragIn:function(o,c){return o},_dragOut:function(o){return this}}),dhtmlx.DragControl&&dhtmlx.DragControl.addDrop(s._els.dhx_cal_data[0],{onDrop:function(o,c,u,f){var y=dhtmlx.DragControl.getMaster(o);w=f,p(o,y,c,f.target||f.srcElement)},onDragIn:function(o,c,u){return c}},!0)})},pdf:function(s){var w,d,m=new RegExp("<[^>]*>","g"),p=new RegExp("<br[^>]*>","g");function o(K){return K.replace(p,`
`).replace(m,"")}function c(K,ae){K=parseFloat(K),ae=parseFloat(ae),isNaN(ae)||(K-=ae);var W=f(K);return K=K-W.width+W.cols*w,isNaN(K)?"auto":100*K/w}function u(K,ae,W){K=parseFloat(K),ae=parseFloat(ae),!isNaN(ae)&&W&&(K-=ae);var ne=f(K);return K=K-ne.width+ne.cols*w,isNaN(K)?"auto":100*K/(w-(isNaN(ae)?0:ae))}function f(K){for(var ae=0,W=s._els.dhx_cal_header[0].childNodes,ne=W[1]?W[1].childNodes:W[0].childNodes,Q=0;Q<ne.length;Q++){var we=ne[Q].style?ne[Q]:ne[Q].parentNode,Ce=parseFloat(we.style.width);if(!(K>Ce))break;K-=Ce+1,ae+=Ce+1}return{width:ae,cols:Q}}function y(K){return K=parseFloat(K),isNaN(K)?"auto":100*K/d}function x(K,ae){return(window.getComputedStyle?window.getComputedStyle(K,null)[ae]:K.currentStyle?K.currentStyle[ae]:null)||""}function v(K,ae){for(var W=parseInt(K.style.left,10),ne=0;ne<s._cols.length;ne++)if((W-=s._cols[ne])<0)return ne;return ae}function E(K,ae){for(var W=parseInt(K.style.top,10),ne=0;ne<s._colsS.heights.length;ne++)if(s._colsS.heights[ne]>W)return ne;return ae}function b(K){return K?"<"+K+">":""}function S(K){return K?"</"+K+">":""}function N(K,ae,W,ne){var Q="<"+K+" profile='"+ae+"'";return W&&(Q+=" header='"+W+"'"),ne&&(Q+=" footer='"+ne+"'"),Q+=">"}function O(){var K="",ae=s._mode;if(s.matrix&&s.matrix[s._mode]&&(ae=s.matrix[s._mode].render=="cell"?"matrix":"timeline"),K+="<scale mode='"+ae+"' today='"+s._els.dhx_cal_date[0].innerHTML+"'>",s._mode=="week_agenda")for(var W=s._els.dhx_cal_data[0].getElementsByTagName("DIV"),ne=0;ne<W.length;ne++)W[ne].className=="dhx_wa_scale_bar"&&(K+="<column>"+o(W[ne].innerHTML)+"</column>");else if(s._mode=="agenda"||s._mode=="map")K+="<column>"+o((W=s._els.dhx_cal_header[0].childNodes[0].childNodes)[0].innerHTML)+"</column><column>"+o(W[1].innerHTML)+"</column>";else if(s._mode=="year")for(W=s._els.dhx_cal_data[0].childNodes,ne=0;ne<W.length;ne++)K+="<month label='"+o(W[ne].querySelector(".dhx_year_month").innerHTML)+"'>",K+=R(W[ne].querySelector(".dhx_year_week").childNodes),K+=j(W[ne].querySelector(".dhx_year_body")),K+="</month>";else{K+="<x>",K+=R(W=s._els.dhx_cal_header[0].childNodes),K+="</x>";var Q=s._els.dhx_cal_data[0];if(s.matrix&&s.matrix[s._mode]){for(K+="<y>",ne=0;ne<Q.firstChild.rows.length;ne++)K+="<row><![CDATA["+o(Q.firstChild.rows[ne].cells[0].innerHTML)+"]]></row>";K+="</y>",d=Q.firstChild.rows[0].cells[0].offsetHeight}else if(Q.firstChild.tagName=="TABLE")K+=j(Q);else{for(Q=Q.childNodes[Q.childNodes.length-1];Q.className.indexOf("dhx_scale_holder")==-1;)Q=Q.previousSibling;for(Q=Q.childNodes,K+="<y>",ne=0;ne<Q.length;ne++)K+=`
<row><![CDATA[`+o(Q[ne].innerHTML)+"]]></row>";K+="</y>",d=Q[0].offsetHeight}}return K+="</scale>"}function j(K){for(var ae="",W=K.querySelectorAll("tr"),ne=0;ne<W.length;ne++){for(var Q=[],we=W[ne].querySelectorAll("td"),Ce=0;Ce<we.length;Ce++)Q.push(we[Ce].querySelector(".dhx_month_head").innerHTML);ae+=`
<row height='`+we[0].offsetHeight+"'><![CDATA["+o(Q.join("|"))+"]]></row>",d=we[0].offsetHeight}return ae}function R(K){var ae,W="";s.matrix&&s.matrix[s._mode]&&(s.matrix[s._mode].second_scale&&(ae=K[1].childNodes),K=K[0].childNodes);for(var ne=0;ne<K.length;ne++)W+=`
<column><![CDATA[`+o(K[ne].innerHTML)+"]]></column>";if(w=K[0].offsetWidth,ae){var Q=0,we=K[0].offsetWidth,Ce=1;for(ne=0;ne<ae.length;ne++)W+=`
<column second_scale='`+Ce+"'><![CDATA["+o(ae[ne].innerHTML)+"]]></column>",(Q+=ae[ne].offsetWidth)>=we&&(we+=K[Ce]?K[Ce].offsetWidth:0,Ce++),w=ae[0].offsetWidth}return W}function H(K){var ae="",W=s._rendered,ne=s.matrix&&s.matrix[s._mode];if(s._mode=="agenda"||s._mode=="map")for(var Q=0;Q<W.length;Q++)ae+="<event><head><![CDATA["+o(W[Q].childNodes[0].innerHTML)+"]]></head><body><![CDATA["+o(W[Q].childNodes[2].innerHTML)+"]]></body></event>";else if(s._mode=="week_agenda")for(Q=0;Q<W.length;Q++)ae+="<event day='"+W[Q].parentNode.getAttribute("day")+"'><body>"+o(W[Q].innerHTML)+"</body></event>";else if(s._mode=="year")for(W=s.get_visible_events(),Q=0;Q<W.length;Q++){var we=W[Q].start_date;for(we.valueOf()<s._min_date.valueOf()&&(we=s._min_date);we<W[Q].end_date;){var Ce=we.getMonth()+12*(we.getFullYear()-s._min_date.getFullYear())-s.week_starts._month,xe=s.week_starts[Ce]+we.getDate()-1,Ie=K?x(s._get_year_cell(we),"color"):"",De=K?x(s._get_year_cell(we),"backgroundColor"):"";if(ae+="<event day='"+xe%7+"' week='"+Math.floor(xe/7)+"' month='"+Ce+"' backgroundColor='"+De+"' color='"+Ie+"'></event>",(we=s.date.add(we,1,"day")).valueOf()>=s._max_date.valueOf())break}}else if(ne&&ne.render=="cell")for(W=s._els.dhx_cal_data[0].getElementsByTagName("TD"),Q=0;Q<W.length;Q++)Ie=K?x(W[Q],"color"):"",ae+=`
<event><body backgroundColor='`+(De=K?x(W[Q],"backgroundColor"):"")+"' color='"+Ie+"'><![CDATA["+o(W[Q].innerHTML)+"]]></body></event>";else for(Q=0;Q<W.length;Q++){var Fe,We;if(s.matrix&&s.matrix[s._mode])Fe=c(W[Q].style.left),We=c(W[Q].offsetWidth)-1;else{var Xe=s.config.use_select_menu_space?0:26;Fe=u(W[Q].style.left,Xe,!0),We=u(W[Q].style.width,Xe)-1}if(!isNaN(1*We)){var Ct=y(W[Q].style.top),lr=y(W[Q].style.height),Rr=W[Q].className.split(" ")[0].replace("dhx_cal_","");if(Rr!=="dhx_tooltip_line"){var Si=s.getEvent(W[Q].getAttribute(s.config.event_attribute));if(Si){xe=Si._sday;var ma=Si._sweek,tT=Si._length||0;if(s._mode=="month")lr=parseInt(W[Q].offsetHeight,10),Ct=parseInt(W[Q].style.top,10)-s.xy.month_head_height,xe=v(W[Q],xe),ma=E(W[Q],ma);else if(s.matrix&&s.matrix[s._mode]){xe=0,ma=W[Q].parentNode.parentNode.parentNode.rowIndex;var nT=d;d=W[Q].parentNode.offsetHeight,Ct=y(W[Q].style.top),Ct-=.2*Ct,d=nT}else{if(W[Q].parentNode==s._els.dhx_cal_data[0])continue;var Gg=s._els.dhx_cal_data[0].childNodes[0],rT=parseFloat(Gg.className.indexOf("dhx_scale_holder")!=-1?Gg.style.left:0);Fe+=c(W[Q].parentNode.style.left,rT)}ae+=`
<event week='`+ma+"' day='"+xe+"' type='"+Rr+"' x='"+Fe+"' y='"+Ct+"' width='"+We+"' height='"+lr+"' len='"+tT+"'>",Rr=="event"?(ae+="<header><![CDATA["+o(W[Q].childNodes[1].innerHTML)+"]]></header>",Ie=K?x(W[Q].childNodes[2],"color"):"",ae+="<body backgroundColor='"+(De=K?x(W[Q].childNodes[2],"backgroundColor"):"")+"' color='"+Ie+"'><![CDATA["+o(W[Q].childNodes[2].innerHTML)+"]]></body>"):(Ie=K?x(W[Q],"color"):"",ae+="<body backgroundColor='"+(De=K?x(W[Q],"backgroundColor"):"")+"' color='"+Ie+"'><![CDATA["+o(W[Q].innerHTML)+"]]></body>"),ae+="</event>"}}}}return ae}function Z(K,ae,W,ne,Q,we){var Ce=!1;ne=="fullcolor"&&(Ce=!0,ne="color"),ne=ne||"color";var xe="";if(K){var Ie=s._date,De=s._mode;ae=s.date[W+"_start"](ae),ae=s.date["get_"+W+"_end"]?s.date["get_"+W+"_end"](ae):s.date.add(ae,1,W),xe=N("pages",ne,Q,we);for(var Fe=new Date(K);+Fe<+ae;Fe=this.date.add(Fe,1,W))this.setCurrentView(Fe,W),xe+=b("page")+O().replace("\u2013","-")+H(Ce)+S("page");xe+=S("pages"),this.setCurrentView(Ie,De)}else xe=N("data",ne,Q,we)+O().replace("\u2013","-")+H(Ce)+S("data");return xe}function re(K,ae,W,ne,Q,we,Ce){(function(xe,Ie){var De=s.uid(),Fe=document.createElement("div");Fe.style.display="none",document.body.appendChild(Fe),Fe.innerHTML='<form id="'+De+'" method="post" target="_blank" action="'+Ie+'" accept-charset="utf-8" enctype="application/x-www-form-urlencoded"><input type="hidden" name="mycoolxmlbody"/> </form>',document.getElementById(De).firstChild.value=encodeURIComponent(xe),document.getElementById(De).submit(),Fe.parentNode.removeChild(Fe)})(qg(Q)=="object"?function(xe){for(var Ie="<data>",De=0;De<xe.length;De++)Ie+=xe[De].source.getPDFData(xe[De].start,xe[De].end,xe[De].view,xe[De].mode,xe[De].header,xe[De].footer);return Ie+="</data>"}(Q):Z.apply(this,[K,ae,W,Q,we,Ce]),ne)}s.getPDFData=Z,s.toPDF=function(K,ae,W,ne){return re.apply(this,[null,null,null,K,ae,W,ne])},s.toPDFRange=function(K,ae,W,ne,Q,we,Ce){return typeof K=="string"&&(K=s.templates.api_date(K),ae=s.templates.api_date(ae)),re.apply(this,arguments)}},quick_info:function(s){s.config.icons_select=["icon_details","icon_delete"],s.config.details_on_create=!0,s.config.show_quick_info=!0,s.xy.menu_width=0,s.attachEvent("onClick",function(w){if(s.config.show_quick_info)return s.showQuickInfo(w),!0}),function(){for(var w=["onEmptyClick","onViewChange","onLightbox","onBeforeEventDelete","onBeforeDrag"],d=function(){return s.hideQuickInfo(!0),!0},m=0;m<w.length;m++)s.attachEvent(w[m],d)}(),s.templates.quick_info_title=function(w,d,m){return m.text.substr(0,50)},s.templates.quick_info_content=function(w,d,m){return m.details||m.text},s.templates.quick_info_date=function(w,d,m){return s.isOneDayEvent(m)&&s.config.rtl?s.templates.day_date(w,d,m)+" "+s.templates.event_header(d,w,m):s.isOneDayEvent(m)?s.templates.day_date(w,d,m)+" "+s.templates.event_header(w,d,m):s.config.rtl?s.templates.week_date(d,w,m):s.templates.week_date(w,d,m)},s.showQuickInfo=function(w){if(w!=this._quick_info_box_id&&(this.hideQuickInfo(!0),this.callEvent("onBeforeQuickInfo",[w])!==!1)){var d=this._get_event_counter_part(w);d&&(this._quick_info_box=this._init_quick_info(d),this._fill_quick_data(w),this._show_quick_info(d),this.callEvent("onQuickInfo",[w]))}},function(){function w(d){d=d||"";var m,p=parseFloat(d),o=d.match(/m?s/);switch(o&&(o=o[0]),o){case"s":m=1e3*p;break;case"ms":m=p;break;default:m=0}return m}s.hideQuickInfo=function(d){var m=this._quick_info_box,p=this._quick_info_box_id;if(this._quick_info_box_id=0,m&&m.parentNode){var o=m.offsetWidth;if(s.config.quick_info_detached)return this.callEvent("onAfterQuickInfo",[p]),m.parentNode.removeChild(m);if(m.style.right=="auto"?m.style.left=-o+"px":m.style.right=-o+"px",d)m.parentNode.removeChild(m);else{var c;window.getComputedStyle?c=window.getComputedStyle(m,null):m.currentStyle&&(c=m.currentStyle);var u=w(c["transition-delay"])+w(c["transition-duration"]);setTimeout(function(){m.parentNode&&m.parentNode.removeChild(m)},u)}this.callEvent("onAfterQuickInfo",[p])}}}(),s.event(window,"keydown",function(w){w.keyCode==27&&s.hideQuickInfo()}),s._show_quick_info=function(w){var d=s._quick_info_box;s._obj.appendChild(d);var m=d.offsetWidth,p=d.offsetHeight;if(s.config.quick_info_detached){var o=w.left-w.dx*(m-w.width);o+m>window.innerWidth&&(o=window.innerWidth-m),o=Math.max(0,o),d.style.left=o+"px",d.style.top=w.top-(w.dy?p:-w.height)+"px"}else d.style.top=this.xy.scale_height+this.xy.nav_height+20+"px",w.dx==1?(d.style.right="auto",d.style.left=-m+"px",setTimeout(function(){d.style.left="-10px"},1)):(d.style.left="auto",d.style.right=-m+"px",setTimeout(function(){d.style.right="-10px"},1)),d.className=d.className.replace(" dhx_qi_left","").replace(" dhx_qi_right","")+" dhx_qi_"+(w.dx==1?"left":"right")},s.attachEvent("onTemplatesReady",function(){if(s.hideQuickInfo(),this._quick_info_box){var w=this._quick_info_box;w.parentNode&&w.parentNode.removeChild(w),this._quick_info_box=null}}),s._quick_info_onscroll_handler=function(w){s.hideQuickInfo()},s._init_quick_info=function(){if(!this._quick_info_box){var w=s.xy,d=this._quick_info_box=document.createElement("div");this._waiAria.quickInfoAttr(d),d.className="dhx_cal_quick_info",s.$testmode&&(d.className+=" dhx_no_animate"),s.config.rtl&&(d.className+=" dhx_quick_info_rtl");var m=this._waiAria.quickInfoHeaderAttrString(),p='<div class="dhx_cal_qi_title" style="height:'+w.quick_info_title+'px" '+m+'><div class="dhx_cal_qi_tcontent"></div><div  class="dhx_cal_qi_tdate"></div></div><div class="dhx_cal_qi_content"></div>';p+='<div class="dhx_cal_qi_controls" style="height:'+w.quick_info_buttons+'px">';for(var o=s.config.icons_select,c=0;c<o.length;c++)p+="<div "+(m=this._waiAria.quickInfoButtonAttrString(this.locale.labels[o[c]]))+' class="dhx_qi_big_icon '+o[c]+'" title="'+s.locale.labels[o[c]]+`"><div class='dhx_menu_icon `+o[c]+"'></div><div>"+s.locale.labels[o[c]]+"</div></div>";p+="</div>",d.innerHTML=p,s.event(d,"click",function(u){s._qi_button_click(u.target||u.srcElement)}),s.config.quick_info_detached&&(s._detachDomEvent(s._els.dhx_cal_data[0],"scroll",s._quick_info_onscroll_handler),s.event(s._els.dhx_cal_data[0],"scroll",s._quick_info_onscroll_handler))}return this._quick_info_box},s._qi_button_click=function(w){var d=s._quick_info_box;if(w&&w!=d){var m=s._getClassName(w);if(m.indexOf("_icon")!=-1){var p=s._quick_info_box_id;s._click.buttons[m.split(" ")[1].replace("icon_","")](p)}else s._qi_button_click(w.parentNode)}},s._get_event_counter_part=function(w){for(var d=s.getRenderedEvent(w),m=0,p=0,o=d;o&&o!=s._obj;)m+=o.offsetLeft,p+=o.offsetTop-o.scrollTop,o=o.offsetParent;return o?{left:m,top:p,dx:m+d.offsetWidth/2>s._x/2?1:0,dy:p+d.offsetHeight/2>s._y/2?1:0,width:d.offsetWidth,height:d.offsetHeight}:0},s._fill_quick_data=function(w){var d=s.getEvent(w),m=s._quick_info_box;s._quick_info_box_id=w;var p={content:s.templates.quick_info_title(d.start_date,d.end_date,d),date:s.templates.quick_info_date(d.start_date,d.end_date,d)},o=m.firstChild.firstChild;o.innerHTML=p.content,o.nextSibling.innerHTML=p.date,s._waiAria.quickInfoHeader(m,[p.content,p.date].join(" ")),m.firstChild.nextSibling.innerHTML=s.templates.quick_info_content(d.start_date,d.end_date,d)}},readonly:function(s){s.attachEvent("onTemplatesReady",function(){var w;s.form_blocks.recurring&&(w=s.form_blocks.recurring.set_value);var d=s.config.buttons_left.slice(),m=s.config.buttons_right.slice();function p(f,y,x,v){for(var E=y.getElementsByTagName(f),b=x.getElementsByTagName(f),S=b.length-1;S>=0;S--)if(x=b[S],v){var N=document.createElement("span");N.className="dhx_text_disabled",N.innerHTML=v(E[S]),x.parentNode.insertBefore(N,x),x.parentNode.removeChild(x)}else x.disabled=!0,y.checked&&(x.checked=!0)}s.attachEvent("onBeforeLightbox",function(f){this.config.readonly_form||this.getEvent(f).readonly?this.config.readonly_active=!0:(this.config.readonly_active=!1,s.config.buttons_left=d.slice(),s.config.buttons_right=m.slice(),s.form_blocks.recurring&&(s.form_blocks.recurring.set_value=w));var y=this.config.lightbox.sections;if(this.config.readonly_active){for(var x=0;x<y.length;x++)y[x].type=="recurring"&&this.config.readonly_active&&s.form_blocks.recurring&&(s.form_blocks.recurring.set_value=function(R,H,Z){var re=s.$domHelpers.closest(R,".dhx_wrap_section");re.querySelector(".dhx_cal_lsection").display="none",re.querySelector(".dhx_form_repeat").display="none",re.style.display="none",s.setLightboxSize()});var v=["dhx_delete_btn","dhx_save_btn"],E=[s.config.buttons_left,s.config.buttons_right];for(x=0;x<v.length;x++)for(var b=v[x],S=0;S<E.length;S++){for(var N=E[S],O=-1,j=0;j<N.length;j++)if(N[j]==b){O=j;break}O!=-1&&N.splice(O,1)}}return this.resetLightbox(),!0});var o=s._fill_lightbox;s._fill_lightbox=function(){var f=this.getLightbox();this.config.readonly_active&&(f.style.visibility="hidden",f.style.display="block");var y=o.apply(this,arguments);if(this.config.readonly_active&&(f.style.visibility="",f.style.display="none"),this.config.readonly_active){var x=this.getLightbox(),v=this._lightbox_r=x.cloneNode(!0);v.id=s.uid(),v.className+=" dhx_cal_light_readonly",p("textarea",x,v,function(E){return E.value}),p("input",x,v,!1),p("select",x,v,function(E){return E.options.length?E.options[Math.max(E.selectedIndex||0,0)].text:""}),x.parentNode.insertBefore(v,x),c.call(this,v),s._lightbox&&s._lightbox.parentNode.removeChild(s._lightbox),this._lightbox=v,s.config.drag_lightbox&&s.event(v.firstChild,"mousedown",s._ready_to_dnd),s._init_lightbox_events(),this.setLightboxSize()}return y};var c=s.showCover;s.showCover=function(){this.config.readonly_active||c.apply(this,arguments)};var u=s.hide_lightbox;s.hide_lightbox=function(){return this._lightbox_r&&(this._lightbox_r.parentNode.removeChild(this._lightbox_r),this._lightbox_r=this._lightbox=null),u.apply(this,arguments)}})},recurring:function(s){function w(){var p=s.formSection("recurring");if(p||(p=d("recurring")),!p)throw new Error(["Can't locate the Recurring form section.","Make sure that you have the recurring control on the lightbox configuration https://docs.dhtmlx.com/scheduler/recurring_events.html#recurringlightbox ",'and that the recurring control has name "recurring":',"","scheduler.config.lightbox.sections = [",'	{name:"recurring", ... }',"];"].join(`
`));return p}function d(p){for(var o=0;o<s.config.lightbox.sections.length;o++){var c=s.config.lightbox.sections[o];if(c.type===p)return s.formSection(c.name)}return null}function m(p){return new Date(p.getFullYear(),p.getMonth(),p.getDate(),p.getHours(),p.getMinutes(),p.getSeconds(),0)}s.config.occurrence_timestamp_in_utc=!1,s.config.recurring_workdays=[1,2,3,4,5],s.form_blocks.recurring={_get_node:function(p){return typeof p=="string"&&(p=document.getElementById(p)),p.style.display=="none"&&(p.style.display=""),p},_outer_html:function(p){return p.outerHTML||function(o){var c,u=document.createElement("div");return u.appendChild(o.cloneNode(!0)),c=u.innerHTML,u=null,c}(p)},render:function(p){if(p.form){var o=s.form_blocks.recurring,c=o._get_node(p.form),u=o._outer_html(c);return c.style.display="none",u}var f=s.locale.labels;return'<div class="dhx_form_repeat"> <form> <div class="dhx_repeat_left"> <label><input class="dhx_repeat_radio" type="radio" name="repeat" value="day" />'+f.repeat_radio_day+'</label><br /> <label><input class="dhx_repeat_radio" type="radio" name="repeat" value="week"/>'+f.repeat_radio_week+'</label><br /> <label><input class="dhx_repeat_radio" type="radio" name="repeat" value="month" checked />'+f.repeat_radio_month+'</label><br /> <label><input class="dhx_repeat_radio" type="radio" name="repeat" value="year" />'+f.repeat_radio_year+'</label> </div> <div class="dhx_repeat_divider"></div> <div class="dhx_repeat_center"> <div style="display:none;" id="dhx_repeat_day"> <label><input class="dhx_repeat_radio" type="radio" name="day_type" value="d"/>'+f.repeat_radio_day_type+'</label><label><input class="dhx_repeat_text" type="text" name="day_count" value="1" />'+f.repeat_text_day_count+'</label><br /> <label><input class="dhx_repeat_radio" type="radio" name="day_type" checked value="w"/>'+f.repeat_radio_day_type2+'</label> </div> <div style="display:none;" id="dhx_repeat_week"><label>'+f.repeat_week+'<input class="dhx_repeat_text" type="text" name="week_count" value="1" /></label><span>'+f.repeat_text_week_count+'</span><br /> <table class="dhx_repeat_days"> <tr> <td> <label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="1" />'+f.day_for_recurring[1]+'</label><br /> <label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="4" />'+f.day_for_recurring[4]+'</label> </td> <td> <label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="2" />'+f.day_for_recurring[2]+'</label><br /> <label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="5" />'+f.day_for_recurring[5]+'</label> </td> <td> <label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="3" />'+f.day_for_recurring[3]+'</label><br /> <label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="6" />'+f.day_for_recurring[6]+'</label> </td> <td> <label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="0" />'+f.day_for_recurring[0]+'</label><br /><br /> </td> </tr> </table> </div> <div id="dhx_repeat_month"> <label class = "dhx_repeat_month_label"><input class="dhx_repeat_radio" type="radio" name="month_type" value="d"/>'+f.repeat_radio_month_type+'</label><label><input class="dhx_repeat_text" type="text" name="month_day" value="1" />'+f.repeat_text_month_day+'</label><label><input class="dhx_repeat_text" type="text" name="month_count" value="1" />'+f.repeat_text_month_count+'</label><br /> <label class = "dhx_repeat_month_label"><input class="dhx_repeat_radio" type="radio" name="month_type" checked value="w"/>'+f.repeat_radio_month_start+'</label><input class="dhx_repeat_text" type="text" name="month_week2" value="1" /><label><select name="month_day2">	<option value="1" selected >'+s.locale.date.day_full[1]+'<option value="2">'+s.locale.date.day_full[2]+'<option value="3">'+s.locale.date.day_full[3]+'<option value="4">'+s.locale.date.day_full[4]+'<option value="5">'+s.locale.date.day_full[5]+'<option value="6">'+s.locale.date.day_full[6]+'<option value="0">'+s.locale.date.day_full[0]+"</select>"+f.repeat_text_month_count2_before+'</label><label><input class="dhx_repeat_text" type="text" name="month_count2" value="1" />'+f.repeat_text_month_count2_after+'</label><br /> </div> <div style="display:none;" id="dhx_repeat_year"> <label class = "dhx_repeat_year_label"><input class="dhx_repeat_radio" type="radio" name="year_type" value="d"/>'+f.repeat_radio_day_type+'</label><label><input class="dhx_repeat_text" type="text" name="year_day" value="1" />'+f.repeat_text_year_day+'</label><label><select name="year_month"><option value="0" selected >'+f.month_for_recurring[0]+'<option value="1">'+f.month_for_recurring[1]+'<option value="2">'+f.month_for_recurring[2]+'<option value="3">'+f.month_for_recurring[3]+'<option value="4">'+f.month_for_recurring[4]+'<option value="5">'+f.month_for_recurring[5]+'<option value="6">'+f.month_for_recurring[6]+'<option value="7">'+f.month_for_recurring[7]+'<option value="8">'+f.month_for_recurring[8]+'<option value="9">'+f.month_for_recurring[9]+'<option value="10">'+f.month_for_recurring[10]+'<option value="11">'+f.month_for_recurring[11]+"</select>"+f.select_year_month+'</label><br /> <label class = "dhx_repeat_year_label"><input class="dhx_repeat_radio" type="radio" name="year_type" checked value="w"/>'+f.repeat_year_label+'</label><input class="dhx_repeat_text" type="text" name="year_week2" value="1" /><select name="year_day2"><option value="1" selected >'+s.locale.date.day_full[1]+'<option value="2">'+s.locale.date.day_full[2]+'<option value="3">'+s.locale.date.day_full[3]+'<option value="4">'+s.locale.date.day_full[4]+'<option value="5">'+s.locale.date.day_full[5]+'<option value="6">'+s.locale.date.day_full[6]+'<option value="7">'+s.locale.date.day_full[0]+"</select>"+f.select_year_day2+'<select name="year_month2"><option value="0" selected >'+f.month_for_recurring[0]+'<option value="1">'+f.month_for_recurring[1]+'<option value="2">'+f.month_for_recurring[2]+'<option value="3">'+f.month_for_recurring[3]+'<option value="4">'+f.month_for_recurring[4]+'<option value="5">'+f.month_for_recurring[5]+'<option value="6">'+f.month_for_recurring[6]+'<option value="7">'+f.month_for_recurring[7]+'<option value="8">'+f.month_for_recurring[8]+'<option value="9">'+f.month_for_recurring[9]+'<option value="10">'+f.month_for_recurring[10]+'<option value="11">'+f.month_for_recurring[11]+'</select><br /> </div> </div> <div class="dhx_repeat_divider"></div> <div class="dhx_repeat_right"> <label><input class="dhx_repeat_radio" type="radio" name="end" checked/>'+f.repeat_radio_end+'</label><br /> <label><input class="dhx_repeat_radio" type="radio" name="end" />'+f.repeat_radio_end2+'</label><input class="dhx_repeat_text" type="text" name="occurences_count" value="1" />'+f.repeat_text_occurences_count+'<br /> <label><input class="dhx_repeat_radio" type="radio" name="end" />'+f.repeat_radio_end3+'</label><input class="dhx_repeat_date" type="text" name="date_of_end" value="'+s.config.repeat_date_of_end+'" /><br /> </div> </form> </div> <div style="clear:both"> </div>'},_ds:{},_get_form_node:function(p,o,c){var u=p[o];if(!u)return null;if(u.nodeName)return u;if(u.length){for(var f=0;f<u.length;f++)if(u[f].value==c)return u[f]}},_get_node_value:function(p,o,c){var u=p[o];if(!u)return"";if(u.length){if(c){for(var f=[],y=0;y<u.length;y++)u[y].checked&&f.push(u[y].value);return f}for(y=0;y<u.length;y++)if(u[y].checked)return u[y].value}return u.value?c?[u.value]:u.value:void 0},_get_node_numeric_value:function(p,o){return 1*s.form_blocks.recurring._get_node_value(p,o)||0},_set_node_value:function(p,o,c){var u=p[o];if(u){if(u.name==o)u.value=c;else if(u.length)for(var f=$h(c)=="object",y=0;y<u.length;y++)(f||u[y].value==c)&&(u[y].checked=f?!!c[u[y].value]:!!c)}},_init_set_value:function(p,o,c){var u=s.form_blocks.recurring,f=u._get_node_value,y=u._set_node_value;s.form_blocks.recurring._ds={start:c.start_date,end:c._end_date};var x=s.date.str_to_date(s.config.repeat_date,!1,!0),v=function(W){var ne=x(W);return s.config.include_end_by&&(ne=s.date.add(ne,1,"day")),ne},E=s.date.date_to_str(s.config.repeat_date),b=p.getElementsByTagName("FORM")[0],S={};function N(W){for(var ne=0;ne<W.length;ne++){var Q=W[ne];if(Q.name)if(S[Q.name])if(S[Q.name].nodeType){var we=S[Q.name];S[Q.name]=[we,Q]}else S[Q.name].push(Q);else S[Q.name]=Q}}if(N(b.getElementsByTagName("INPUT")),N(b.getElementsByTagName("SELECT")),!s.config.repeat_date_of_end){var O=s.date.date_to_str(s.config.repeat_date);s.config.repeat_date_of_end=O(s.date.add(s._currentDate(),30,"day"))}y(S,"date_of_end",s.config.repeat_date_of_end);var j=function(W){return document.getElementById(W)||{style:{}}};function R(){j("dhx_repeat_day").style.display="none",j("dhx_repeat_week").style.display="none",j("dhx_repeat_month").style.display="none",j("dhx_repeat_year").style.display="none",j("dhx_repeat_"+this.value).style.display="block",s.setLightboxSize()}function H(W,ne){var Q=W.end;if(Q.length)if(Q[0].value&&Q[0].value!="on")for(var we=0;we<Q.length;we++)Q[we].value==ne&&(Q[we].checked=!0);else{var Ce=0;switch(ne){case"no":Ce=0;break;case"date_of_end":Ce=2;break;default:Ce=1}Q[Ce].checked=!0}else Q.value=ne}s.form_blocks.recurring._get_repeat_code=function(W){var ne=[f(S,"repeat")];for(Z[ne[0]](ne,W);ne.length<5;)ne.push("");var Q="",we=function(Ce){var xe=Ce.end;if(xe.length){for(var Ie=0;Ie<xe.length;Ie++)if(xe[Ie].checked)return xe[Ie].value&&xe[Ie].value!="on"?xe[Ie].value:Ie?Ie==2?"date_of_end":"occurences_count":"no"}else if(xe.value)return xe.value;return"no"}(S);return we=="no"?(W.end=new Date(9999,1,1),Q="no"):we=="date_of_end"?W.end=v(f(S,"date_of_end")):(s.transpose_type(ne.join("_")),Q=Math.max(1,f(S,"occurences_count")),W.end=s.date["add_"+ne.join("_")](new Date(W.start),Q+0,{start_date:W.start})||W.start),ne.join("_")+"#"+Q};var Z={month:function(W,ne){var Q=s.form_blocks.recurring._get_node_value,we=s.form_blocks.recurring._get_node_numeric_value;Q(S,"month_type")=="d"?(W.push(Math.max(1,we(S,"month_count"))),ne.start.setDate(Q(S,"month_day"))):(W.push(Math.max(1,we(S,"month_count2"))),W.push(Q(S,"month_day2")),W.push(Math.max(1,we(S,"month_week2"))),s.config.repeat_precise||ne.start.setDate(1)),ne._start=!0},week:function(W,ne){var Q=s.form_blocks.recurring._get_node_value,we=s.form_blocks.recurring._get_node_numeric_value;W.push(Math.max(1,we(S,"week_count"))),W.push(""),W.push("");for(var Ce=[],xe=Q(S,"week_day",!0),Ie=ne.start.getDay(),De=!1,Fe=0;Fe<xe.length;Fe++)Ce.push(xe[Fe]),De=De||xe[Fe]==Ie;Ce.length||(Ce.push(Ie),De=!0),Ce.sort(),s.config.repeat_precise?De||(s.transpose_day_week(ne.start,Ce,1,7),ne._start=!0):(ne.start=s.date.week_start(ne.start),ne._start=!0),W.push(Ce.join(","))},day:function(W){var ne=s.form_blocks.recurring._get_node_value,Q=s.form_blocks.recurring._get_node_numeric_value;ne(S,"day_type")=="d"?W.push(Math.max(1,Q(S,"day_count"))):(W.push("week"),W.push(1),W.push(""),W.push(""),W.push(s.config.recurring_workdays.join(",")),W.splice(0,1))},year:function(W,ne){var Q=s.form_blocks.recurring._get_node_value;Q(S,"year_type")=="d"?(W.push("1"),ne.start.setMonth(0),ne.start.setDate(Q(S,"year_day")),ne.start.setMonth(Q(S,"year_month"))):(W.push("1"),W.push(Q(S,"year_day2")),W.push(Q(S,"year_week2")),ne.start.setDate(1),ne.start.setMonth(Q(S,"year_month2"))),ne._start=!0}},re={week:function(W,ne){var Q=s.form_blocks.recurring._set_node_value;Q(S,"week_count",W[1]);for(var we=W[4].split(","),Ce={},xe=0;xe<we.length;xe++)Ce[we[xe]]=!0;Q(S,"week_day",Ce)},month:function(W,ne){var Q=s.form_blocks.recurring._set_node_value;W[2]===""?(Q(S,"month_type","d"),Q(S,"month_count",W[1]),Q(S,"month_day",ne.start.getDate())):(Q(S,"month_type","w"),Q(S,"month_count2",W[1]),Q(S,"month_week2",W[3]),Q(S,"month_day2",W[2]))},day:function(W,ne){var Q=s.form_blocks.recurring._set_node_value;Q(S,"day_type","d"),Q(S,"day_count",W[1])},year:function(W,ne){var Q=s.form_blocks.recurring._set_node_value;W[2]===""?(Q(S,"year_type","d"),Q(S,"year_day",ne.start.getDate()),Q(S,"year_month",ne.start.getMonth())):(Q(S,"year_type","w"),Q(S,"year_week2",W[3]),Q(S,"year_day2",W[2]),Q(S,"year_month2",ne.start.getMonth()))}};s.form_blocks.recurring._set_repeat_code=function(W,ne){var Q=s.form_blocks.recurring._set_node_value,we=W.split("#");switch(W=we[0].split("_"),re[W[0]](W,ne),we[1]){case"no":H(S,"no");break;case"":H(S,"date_of_end");var Ce=ne.end;s.config.include_end_by&&(Ce=s.date.add(Ce,-1,"day")),Q(S,"date_of_end",E(Ce));break;default:H(S,"occurences_count"),Q(S,"occurences_count",we[1])}Q(S,"repeat",W[0]);var xe=s.form_blocks.recurring._get_form_node(S,"repeat",W[0]);xe.nodeName=="SELECT"?(xe.dispatchEvent(new Event("change")),xe.dispatchEvent(new MouseEvent("click"))):xe.dispatchEvent(new MouseEvent("click"))};for(var K=0;K<b.elements.length;K++){var ae=b.elements[K];switch(ae.name){case"repeat":ae.nodeName!="SELECT"||ae.$_eventAttached?ae.$_eventAttached||(ae.$_eventAttached=!0,ae.addEventListener("click",R)):(ae.$_eventAttached=!0,ae.addEventListener("change",R))}}s._lightbox._rec_init_done=!0},set_value:function(p,o,c){var u=s.form_blocks.recurring;s._lightbox._rec_init_done||u._init_set_value(p,o,c),p.open=!c.rec_type,p.blocked=this._is_modified_occurence(c);var f=u._ds;f.start=c.start_date,f.end=c._end_date,u._toggle_block(),o&&u._set_repeat_code(o,f)},get_value:function(p,o){if(p.open){var c=s.form_blocks.recurring._ds,u={};(function(){var f=s.formSection("time");if(f||(f=d("time")),f||(f=d("calendar_time")),!f)throw new Error(["Can't calculate the recurring rule, the Recurring form block can't find the Time control. Make sure you have the time control in 'scheduler.config.lightbox.sections' config.","You can use either the default time control https://docs.dhtmlx.com/scheduler/time.html, or the datepicker https://docs.dhtmlx.com/scheduler/minicalendar.html, or a custom control. ",'In the latter case, make sure the control is named "time":',"","scheduler.config.lightbox.sections = [",'{name:"time", height:72, type:"YOU CONTROL", map_to:"auto" }];'].join(`
`));return f})().getValue(u),c.start=u.start_date,o.rec_type=s.form_blocks.recurring._get_repeat_code(c),c._start?(o.start_date=new Date(c.start),o._start_date=new Date(c.start),c._start=!1):o._start_date=null,o._end_date=c.end,o.rec_pattern=o.rec_type.split("#")[0]}else o.rec_type=o.rec_pattern="",o._end_date=o.end_date;return o.rec_type},_get_button:function(){return w().header.firstChild.firstChild},_get_form:function(){return w().node},open:function(){var p=s.form_blocks.recurring;p._get_form().open||p._toggle_block()},close:function(){var p=s.form_blocks.recurring;p._get_form().open&&p._toggle_block()},_toggle_block:function(){var p=s.form_blocks.recurring,o=p._get_form(),c=p._get_button();o.open||o.blocked?(o.style.height="0px",c&&(c.style.backgroundPosition="-5px 20px",c.nextSibling.innerHTML=s.locale.labels.button_recurring)):(o.style.height="auto",c&&(c.style.backgroundPosition="-5px 0px",c.nextSibling.innerHTML=s.locale.labels.button_recurring_open)),o.open=!o.open,s.setLightboxSize()},focus:function(p){},button_click:function(p,o,c){s.form_blocks.recurring._get_form().blocked||s.form_blocks.recurring._toggle_block()}},s._rec_markers={},s._rec_markers_pull={},s._add_rec_marker=function(p,o){p._pid_time=o,this._rec_markers[p.id]=p,this._rec_markers_pull[p.event_pid]||(this._rec_markers_pull[p.event_pid]={}),this._rec_markers_pull[p.event_pid][o]=p},s._get_rec_marker=function(p,o){var c=this._rec_markers_pull[o];return c?c[p]:null},s._get_rec_markers=function(p){return this._rec_markers_pull[p]||[]},s._rec_temp=[],function(){var p=s.addEvent;s.addEvent=function(o,c,u,f,y){var x=p.apply(this,arguments);if(x&&s.getEvent(x)){var v=s.getEvent(x);v.start_date&&(v.start_date=m(v.start_date)),v.end_date&&(v.end_date=m(v.end_date)),this._is_modified_occurence(v)&&s._add_rec_marker(v,1e3*v.event_length),v.rec_type&&(v.rec_pattern=v.rec_type.split("#")[0])}return x}}(),s.attachEvent("onEventIdChange",function(p,o){if(!this._ignore_call){this._ignore_call=!0,s._rec_markers[p]&&(s._rec_markers[o]=s._rec_markers[p],delete s._rec_markers[p]),s._rec_markers_pull[p]&&(s._rec_markers_pull[o]=s._rec_markers_pull[p],delete s._rec_markers_pull[p]);for(var c=0;c<this._rec_temp.length;c++)(u=this._rec_temp[c]).event_pid==p&&(u.event_pid=o,this.changeEventId(u.id,o+"#"+u.id.split("#")[1]));for(var c in this._rec_markers){var u;(u=this._rec_markers[c]).event_pid==p&&(u.event_pid=o,u._pid_changed=!0)}var f=s._rec_markers[o];f&&f._pid_changed&&(delete f._pid_changed,setTimeout(function(){s.callEvent("onEventChanged",[o,s.getEvent(o)])},1)),delete this._ignore_call}}),s.attachEvent("onConfirmedBeforeEventDelete",function(p){var o=this.getEvent(p);if(this._is_virtual_event(p)||this._is_modified_occurence(o)&&o.rec_type&&o.rec_type!="none"){p=p.split("#");var c=this.uid(),u=p[1]?p[1]:Math.round(o._pid_time/1e3),f=this._copy_event(o);f.id=c,f.event_pid=o.event_pid||p[0];var y=u;f.event_length=y,f.rec_type=f.rec_pattern="none",this.addEvent(f),this._add_rec_marker(f,1e3*y)}else{o.rec_type&&this._lightbox_id&&this._roll_back_dates(o);var x=this._get_rec_markers(p);for(var v in x)x.hasOwnProperty(v)&&(p=x[v].id,this.getEvent(p)&&this.deleteEvent(p,!0))}return!0}),s.attachEvent("onEventDeleted",function(p,o){!this._is_virtual_event(p)&&this._is_modified_occurence(o)&&(s._events[p]||(o.rec_type=o.rec_pattern="none",this.setEvent(p,o)))}),s.attachEvent("onEventChanged",function(p,o){if(this._loading)return!0;var c=this.getEvent(p);if(this._is_virtual_event(p)){p=p.split("#");var u=this.uid();this._not_render=!0;var f=this._copy_event(o);f.id=u,f.event_pid=p[0];var y=p[1];f.event_length=y,f.rec_type=f.rec_pattern="",this._add_rec_marker(f,1e3*y),this.addEvent(f),this._not_render=!1}else{c.start_date&&(c.start_date=m(c.start_date)),c.end_date&&(c.end_date=m(c.end_date)),c.rec_type&&this._lightbox_id&&this._roll_back_dates(c);var x=this._get_rec_markers(p);for(var v in x)x.hasOwnProperty(v)&&(delete this._rec_markers[x[v].id],this.deleteEvent(x[v].id,!0));delete this._rec_markers_pull[p];for(var E=!1,b=0;b<this._rendered.length;b++)this._rendered[b].getAttribute(this.config.event_attribute)==p&&(E=!0);E||(this._select_id=null)}return!0}),s.attachEvent("onEventAdded",function(p){if(!this._loading){var o=this.getEvent(p);o.rec_type&&!o.event_length&&this._roll_back_dates(o)}return!0}),s.attachEvent("onEventSave",function(p,o,c){return this.getEvent(p).rec_type||!o.rec_type||this._is_virtual_event(p)||(this._select_id=null),!0}),s.attachEvent("onEventCreated",function(p){var o=this.getEvent(p);return o.rec_type||(o.rec_type=o.rec_pattern=o.event_length=o.event_pid=""),!0}),s.attachEvent("onEventCancel",function(p){var o=this.getEvent(p);o.rec_type&&(this._roll_back_dates(o),this.render_view_data())}),s._roll_back_dates=function(p){p.start_date&&(p.start_date=m(p.start_date)),p.end_date&&(p.end_date=m(p.end_date)),p.event_length=Math.round((p.end_date.valueOf()-p.start_date.valueOf())/1e3),p.end_date=p._end_date,p._start_date&&(p.start_date.setMonth(0),p.start_date.setDate(p._start_date.getDate()),p.start_date.setMonth(p._start_date.getMonth()),p.start_date.setFullYear(p._start_date.getFullYear()))},s._is_virtual_event=function(p){return p.toString().indexOf("#")!=-1},s._is_modified_occurence=function(p){return p.event_pid&&p.event_pid!="0"},s._validId=function(p){return!this._is_virtual_event(p)},s.showLightbox_rec=s.showLightbox,s.showLightbox=function(p){var o=this.locale,c=s.config.lightbox_recurring,u=this.getEvent(p),f=u.event_pid,y=this._is_virtual_event(p);y&&(f=p.split("#")[0]);var x=function(E){var b=s.getEvent(E);return b._end_date=b.end_date,b.end_date=new Date(b.start_date.valueOf()+1e3*b.event_length),s.showLightbox_rec(E)};if((f||1*f==0)&&u.rec_type)return x(p);if(!f||f==="0"||!o.labels.confirm_recurring||c=="instance"||c=="series"&&!y)return this.showLightbox_rec(p);if(c=="ask"){var v=this;s.modalbox({text:o.labels.confirm_recurring,title:o.labels.title_confirm_recurring,width:"500px",position:"middle",buttons:[o.labels.button_edit_series,o.labels.button_edit_occurrence,o.labels.icon_cancel],callback:function(E){switch(+E){case 0:return x(f);case 1:return v.showLightbox_rec(p);case 2:return}}})}else x(f)},s.get_visible_events_rec=s.get_visible_events,s.get_visible_events=function(p){for(var o=0;o<this._rec_temp.length;o++)delete this._events[this._rec_temp[o].id];this._rec_temp=[];var c=this.get_visible_events_rec(p),u=[];for(o=0;o<c.length;o++)c[o].rec_type?c[o].rec_pattern!="none"&&this.repeat_date(c[o],u):u.push(c[o]);return u},function(){var p=s.isOneDayEvent;s.isOneDayEvent=function(c){return!!c.rec_type||p.call(this,c)};var o=s.updateEvent;s.updateEvent=function(c){var u=s.getEvent(c);u&&u.rec_type&&(u.rec_pattern=(u.rec_type||"").split("#")[0]),u&&u.rec_type&&!this._is_virtual_event(c)?s.update_view():o.call(this,c)}}(),s.transponse_size={day:1,week:7,month:1,year:12},s.date.day_week=function(p,o,c){p.setDate(1);var u=s.date.month_start(new Date(p)),f=1*o+(c=7*(c-1))-p.getDay()+1;p.setDate(f<=c?f+7:f);var y=s.date.month_start(new Date(p));return u.valueOf()===y.valueOf()},s.transpose_day_week=function(p,o,c,u,f){for(var y=(p.getDay()||(s.config.start_on_monday?7:0))-c,x=0;x<o.length;x++)if(o[x]>y)return p.setDate(p.getDate()+1*o[x]-y-(u?c:f));this.transpose_day_week(p,o,c+u,null,c)},s.transpose_type=function(p){var o="transpose_"+p;if(!this.date[o]){var c=p.split("_"),u="add_"+p,f=this.transponse_size[c[0]]*c[1];if(c[0]=="day"||c[0]=="week"){var y=null;if(c[4]&&(y=c[4].split(","),s.config.start_on_monday)){for(var x=0;x<y.length;x++)y[x]=1*y[x]||7;y.sort()}this.date[o]=function(v,E){var b=Math.floor((E.valueOf()-v.valueOf())/(864e5*f));return b>0&&v.setDate(v.getDate()+b*f),y&&s.transpose_day_week(v,y,1,f),v},this.date[u]=function(v,E){var b=new Date(v.valueOf());if(y)for(var S=0;S<E;S++)s.transpose_day_week(b,y,0,f);else b.setDate(b.getDate()+E*f);return b}}else c[0]!="month"&&c[0]!="year"||(this.date[o]=function(v,E,b){var S=Math.ceil((12*E.getFullYear()+1*E.getMonth()+1-(12*v.getFullYear()+1*v.getMonth()+1))/f-1);return S>=0&&(v.setDate(1),v.setMonth(v.getMonth()+S*f)),s.date[u](v,0,b)},this.date[u]=function(v,E,b,S){if(S?S++:S=1,S>12)return null;var N=new Date(v.valueOf());N.setDate(1),N.setMonth(N.getMonth()+E*f);var O=N.getMonth(),j=N.getFullYear();N.setDate(b.start_date.getDate()),c[3]&&s.date.day_week(N,c[2],c[3]);var R=s.config.recurring_overflow_instances;return N.getMonth()!=O&&R!="none"&&(N=R==="lastDay"?new Date(j,O+1,0,N.getHours(),N.getMinutes(),N.getSeconds(),N.getMilliseconds()):s.date[u](new Date(j,O+1,0),E||1,b,S)),N})}},s.repeat_date=function(p,o,c,u,f,y){u=u||this._min_date,f=f||this._max_date;var x=y||-1,v=new Date(p.start_date.valueOf()),E=v.getHours(),b=0;for(!p.rec_pattern&&p.rec_type&&(p.rec_pattern=p.rec_type.split("#")[0]),this.transpose_type(p.rec_pattern),v=s.date["transpose_"+p.rec_pattern](v,u,p);v&&(v<p.start_date||s._fix_daylight_saving_date(v,u,p,v,new Date(v.valueOf()+1e3*p.event_length)).valueOf()<=u.valueOf()||v.valueOf()+1e3*p.event_length<=u.valueOf());)v=this.date["add_"+p.rec_pattern](v,1,p);for(;v&&v<f&&v<p.end_date&&(x<0||b<x);){v.setHours(E);var S=s.config.occurrence_timestamp_in_utc?Date.UTC(v.getFullYear(),v.getMonth(),v.getDate(),v.getHours(),v.getMinutes(),v.getSeconds()):v.valueOf(),N=this._get_rec_marker(S,p.id);if(N)c&&(N.rec_type!="none"&&b++,o.push(N));else{var O=new Date(v.valueOf()+1e3*p.event_length),j=this._copy_event(p);if(j.text=p.text,j.start_date=v,j.event_pid=p.id,j.id=p.id+"#"+Math.round(S/1e3),j.end_date=O,j.end_date=s._fix_daylight_saving_date(j.start_date,j.end_date,p,v,j.end_date),j._timed=this.isOneDayEvent(j),!j._timed&&!this._table_view&&!this.config.multi_day)return;o.push(j),c||(this._events[j.id]=j,this._rec_temp.push(j)),b++}v=this.date["add_"+p.rec_pattern](v,1,p)}},s._fix_daylight_saving_date=function(p,o,c,u,f){var y=p.getTimezoneOffset()-o.getTimezoneOffset();return y?y>0?new Date(u.valueOf()+1e3*c.event_length-60*y*1e3):new Date(o.valueOf()-60*y*1e3):new Date(f.valueOf())},s.getRecDates=function(p,o){var c=$h(p)=="object"?p:s.getEvent(p),u=[];if(o=o||100,!c.rec_type)return[{start_date:c.start_date,end_date:c.end_date}];if(c.rec_type=="none")return[];s.repeat_date(c,u,!0,c.start_date,c.end_date,o);for(var f=[],y=0;y<u.length;y++)u[y].rec_type!="none"&&f.push({start_date:u[y].start_date,end_date:u[y].end_date});return f},s.getEvents=function(p,o){var c=[];for(var u in this._events){var f=this._events[u];if(f&&f.start_date<o&&f.end_date>p)if(f.rec_pattern){if(f.rec_pattern=="none")continue;var y=[];this.repeat_date(f,y,!0,p,o);for(var x=0;x<y.length;x++)!y[x].rec_pattern&&y[x].start_date<o&&y[x].end_date>p&&!this._rec_markers[y[x].id]&&c.push(y[x])}else this._is_virtual_event(f.id)||c.push(f)}return c},s.config.repeat_date="%m.%d.%Y",s.config.lightbox.sections=[{name:"description",map_to:"text",type:"textarea",focus:!0},{name:"recurring",type:"recurring",map_to:"rec_type",button:"recurring"},{name:"time",height:72,type:"time",map_to:"auto"}],s._copy_dummy=function(p){var o=new Date(this.start_date),c=new Date(this.end_date);this.start_date=o,this.end_date=c,this.event_length=this.event_pid=this.rec_pattern=this.rec_type=null},s.config.include_end_by=!1,s.config.lightbox_recurring="ask",s.attachEvent("onClearAll",function(){s._rec_markers={},s._rec_markers_pull={},s._rec_temp=[]})},serialize:function(s){var w=yt()(s);s.data_attributes=function(){var d=[],m=s._helpers.formatDate,p=w();for(var o in p){var c=p[o];for(var u in c)u.substr(0,1)!="_"&&d.push([u,u=="start_date"||u=="end_date"?m:null]);break}return d},s.toXML=function(d){var m=[],p=this.data_attributes(),o=w();for(var c in o){var u=o[c];m.push("<event>");for(var f=0;f<p.length;f++)m.push("<"+p[f][0]+"><![CDATA["+(p[f][1]?p[f][1](u[p[f][0]]):u[p[f][0]])+"]]></"+p[f][0]+">");m.push("</event>")}return(d||"")+"<data>"+m.join(`
`)+"</data>"},s._serialize_json_value=function(d){return d===null||typeof d=="boolean"?d=""+d:(d||d===0||(d=""),d='"'+d.toString().replace(/\n/g,"").replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'),d},s.toJSON=function(){return JSON.stringify(this.serialize())},s.toICal=function(d){var m=s.date.date_to_str("%Y%m%dT%H%i%s"),p=s.date.date_to_str("%Y%m%d"),o=[],c=w();for(var u in c){var f=c[u];o.push("BEGIN:VEVENT"),f._timed&&(f.start_date.getHours()||f.start_date.getMinutes())?o.push("DTSTART:"+m(f.start_date)):o.push("DTSTART:"+p(f.start_date)),f._timed&&(f.end_date.getHours()||f.end_date.getMinutes())?o.push("DTEND:"+m(f.end_date)):o.push("DTEND:"+p(f.end_date)),o.push("SUMMARY:"+f.text),o.push("END:VEVENT")}return`BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//dhtmlXScheduler//NONSGML v2.2//EN
DESCRIPTION:`+(d||"")+`
`+o.join(`
`)+`
END:VCALENDAR`}},timeline:function(s){ki("Timeline",s.assert)},tooltip:function(s){var w=s._createDomEventScope(),d={};s.ext.tooltip=s.dhtmlXTooltip=s.tooltip=d,d.config={className:"dhtmlXTooltip scheduler_tooltip tooltip",timeout_to_display:50,timeout_to_hide:50,delta_x:15,delta_y:-20},d.tooltip=document.createElement("div"),d.tooltip.className=d.config.className,s._waiAria.tooltipAttr(d.tooltip),d.show=function(m,p){if(!this._mobile||s.config.touch_tooltip){var o=d,c=this.tooltip,u=c.style;o.tooltip.className=o.config.className;var f=this.position(m),y=m.target||m.srcElement;if(!this.isTooltip(y)){var x=f.x+(o.config.delta_x||0),v=f.y-(o.config.delta_y||0);u.visibility="hidden",u.right="",u.bottom="",u.left="0",u.top="0",s.config.rtl&&(c.className+=" dhtmlXTooltip_rtl"),this.tooltip.innerHTML=p,document.body.appendChild(this.tooltip);var E=this.tooltip.offsetWidth,b=this.tooltip.offsetHeight;if(document.documentElement.clientWidth-x-E<0?(u.left="",u.right=document.documentElement.clientWidth-x+2*(o.config.delta_x||0)+"px"):u.left=x<0?f.x+Math.abs(o.config.delta_x||0)+"px":x+"px",document.documentElement.clientHeight-v-b<0){var S=document.documentElement.clientHeight-v-2*(o.config.delta_y||0);S+b>document.documentElement.clientHeight?(v-=Math.abs(document.documentElement.clientHeight-v-b),v=Math.max(v,0),u.top=v+"px"):(u.bottom=S+"px",u.top="")}else u.top=v<0?f.y+Math.abs(o.config.delta_y||0)+"px":v+"px";s._waiAria.tooltipVisibleAttr(this.tooltip),u.visibility="visible",w.attach(this.tooltip,"mouseleave",function(N){for(var O=s.dhtmlXTooltip,j=N.relatedTarget;j!=s._obj&&j;)j=j.parentNode;j!=s._obj&&O.delay(O.hide,O,[],O.config.timeout_to_hide)}),s.callEvent("onTooltipDisplayed",[this.tooltip,this.tooltip.event_id])}}},d._clearTimeout=function(){this.tooltip._timeout_id&&clearTimeout(this.tooltip._timeout_id)},d.hide=function(){if(this.tooltip.parentNode){s._waiAria.tooltipHiddenAttr(this.tooltip);var m=this.tooltip.event_id;this.tooltip.event_id=null,w.detachAll(),this.tooltip.parentNode.removeChild(this.tooltip),s.callEvent("onAfterTooltip",[m])}this._clearTimeout()},d.delay=function(m,p,o,c){this._clearTimeout(),this.tooltip._timeout_id=setTimeout(function(){var u=m.apply(p,o);return m=p=o=null,u},c||this.config.timeout_to_display)},d.isTooltip=function(m){for(var p=!1;m&&!p;)p=m.className==this.tooltip.className,m=m.parentNode;return p},d.position=function(m){return{x:m.clientX,y:m.clientY}},s.attachEvent("onMouseMove",function(m,p){var o=p.target||p.srcElement,c=d,u=c.isTooltip(o),f=c.isTooltipTarget&&c.isTooltipTarget(o);if(m&&s.getState().editor_id!=m||u||f){var y,x;if(m||c.tooltip.event_id){var v=s.getEvent(m)||s.getEvent(c.tooltip.event_id);if(!v)return;if(c.tooltip.event_id=v.id,!(y=s.templates.tooltip_text(v.start_date,v.end_date,v)))return c.hide()}if(f&&(y=""),s.$env.isIE)for(var E in x={pageX:void 0,pageY:void 0,clientX:void 0,clientY:void 0,target:void 0,srcElement:void 0})x[E]=p[E];if(!s.callEvent("onBeforeTooltip",[m])||!y)return;c.delay(c.show,c,[x||p,y])}else c.delay(c.hide,c,[],c.config.timeout_to_hide)}),s.attachEvent("onBeforeDrag",function(){return d.hide(),!0}),s.attachEvent("onEventDeleted",function(){return d.hide(),!0}),s.attachEvent("onDestroy",function(){d.hide()})},treetimeline:function(s){ki("Tree Timeline",s.assert)},units:function(s){ki("Units",s.assert)},url:function(s){s._get_url_nav=function(){for(var w={},d=(document.location.hash||"").replace("#","").split(","),m=0;m<d.length;m++){var p=d[m].split("=");p.length==2&&(w[p[0]]=p[1])}return w},s.attachEvent("onTemplatesReady",function(){var w=!0,d=s.date.str_to_date("%Y-%m-%d"),m=s.date.date_to_str("%Y-%m-%d"),p=s._get_url_nav().event||null;function o(c){p=c,s.getEvent(c)&&s.showEvent(c)}s.attachEvent("onAfterEventDisplay",function(c){return p=null,!0}),s.attachEvent("onBeforeViewChange",function(c,u,f,y){if(w){w=!1;var x=s._get_url_nav();if(x.event)try{if(s.getEvent(x.event))return setTimeout(function(){o(x.event)}),!1;var v=s.attachEvent("onXLE",function(){setTimeout(function(){o(x.event)}),s.detachEvent(v)})}catch{}if(x.date||x.mode){try{this.setCurrentView(x.date?d(x.date):null,x.mode||null)}catch{this.setCurrentView(x.date?d(x.date):null,f)}return!1}}var E=["date="+m(y||u),"mode="+(f||c)];p&&E.push("event="+p);var b="#"+E.join(",");return document.location.hash=b,!0})})},week_agenda:function(s){ki("Week Agenda",s.assert)},wp:function(s){s.attachEvent("onLightBox",function(){if(this._cover)try{this._cover.style.height=this.expanded?"100%":(document.body.parentNode||document.body).scrollHeight+"px"}catch{}}),s.form_blocks.select.set_value=function(w,d,m){d!==void 0&&d!==""||(d=(w.firstChild.options[0]||{}).value),w.firstChild.value=d||""}},year_view:function(s){s.config.year_x=4,s.config.year_y=3,s.xy.year_top=0,s.templates.year_date=function(u){return s.date.date_to_str(s.locale.labels.year_tab+" %Y")(u)},s.templates.year_month=s.date.date_to_str("%F"),s.templates.year_scale_date=s.date.date_to_str("%D"),s.templates.year_tooltip=function(u,f,y){return y.text};var w=function(){return s._mode=="year"};s.dblclick_dhx_month_head=function(u){if(w()){var f=u.target||u.srcElement,y=s._getClassName(f.parentNode);if(y.indexOf("dhx_before")!=-1||y.indexOf("dhx_after")!=-1)return!1;for(var x=f;x&&(!x.hasAttribute||!x.hasAttribute("date"));)x=x.parentNode;if(x){var v=this._helpers.parseDate(x.getAttribute("date"));v.setDate(parseInt(f.innerHTML,10));var E=this.date.add(v,1,"day");!this.config.readonly&&this.config.dblclick_create&&this.addEventNow(v.valueOf(),E.valueOf(),u)}}};var d=s.changeEventId;s.changeEventId=function(){d.apply(this,arguments),w()&&this.year_view(!0)};var m=s.render_data;s.render_data=function(u){if(!w())return m.apply(this,arguments);for(var f=0;f<u.length;f++)this._year_render_event(u[f])};var p=s.clear_view;s.clear_view=function(){if(!w())return p.apply(this,arguments);var u=s._year_marked_cells,f=null;for(var y in u)u.hasOwnProperty(y)&&((f=u[y]).className="dhx_month_head",f.removeAttribute("date"));s._year_marked_cells={}},s._hideToolTip=function(){this._tooltip&&(this._tooltip.style.display="none",this._tooltip.date=new Date(9999,1,1))},s._showToolTip=function(u,f,y,x){if(this._tooltip){if(this._tooltip.date.valueOf()==u.valueOf())return;this._tooltip.innerHTML=""}else{var v=this._tooltip=document.createElement("div");v.className="dhx_year_tooltip",this.config.rtl&&(v.className+=" dhx_tooltip_rtl"),document.body.appendChild(v),v.addEventListener("click",s._click.dhx_cal_data)}for(var E=this.getEvents(u,this.date.add(u,1,"day")),b="",S=0;S<E.length;S++){var N=E[S];if(this.filter_event(N.id,N)){var O=N.color?"background:"+N.color+";":"",j=N.textColor?"color:"+N.textColor+";":"";b+="<div class='dhx_tooltip_line' style='"+O+j+"' event_id='"+E[S].id+"' "+this.config.event_attribute+"='"+E[S].id+"'>",b+="<div class='dhx_tooltip_date' style='"+O+j+"'>"+(E[S]._timed?this.templates.event_date(E[S].start_date):"")+"</div>",b+="<div class='dhx_event_icon icon_details'>&nbsp;</div>",b+=this.templates.year_tooltip(E[S].start_date,E[S].end_date,E[S])+"</div>"}}this._tooltip.style.display="",this._tooltip.style.top="0px",document.body.offsetWidth-f.left-this._tooltip.offsetWidth<0?this._tooltip.style.left=f.left-this._tooltip.offsetWidth+"px":this._tooltip.style.left=f.left+x.offsetWidth+"px",this._tooltip.date=u,this._tooltip.innerHTML=b,document.body.offsetHeight-f.top-this._tooltip.offsetHeight<0?this._tooltip.style.top=f.top-this._tooltip.offsetHeight+x.offsetHeight+"px":this._tooltip.style.top=f.top+"px"},s._year_view_tooltip_handler=function(u){if(w()){var f=u.target||u.srcElement;f.tagName.toLowerCase()=="a"&&(f=f.parentNode),s._getClassName(f).indexOf("dhx_year_event")!=-1?s._showToolTip(s.templates.parse_date(f.getAttribute("data-year-date")),s.$domHelpers.getOffset(f),u,f):s._hideToolTip()}},s._init_year_tooltip=function(){s._detachDomEvent(s._els.dhx_cal_data[0],"mouseover",s._year_view_tooltip_handler),s.event(s._els.dhx_cal_data[0],"mouseover",s._year_view_tooltip_handler)},s._get_year_cell=function(u){var f=u.getMonth()+12*(u.getFullYear()-this._min_date.getFullYear())-this.week_starts._month,y=this._els.dhx_cal_data[0].childNodes[f],x=this.week_starts[f]+u.getDate()-1;return y.querySelectorAll(".dhx_year_body tr")[Math.floor(x/7)].querySelectorAll("td")[x%7].querySelector(".dhx_month_head")},s._year_marked_cells={},s._mark_year_date=function(u,f){var y=s.templates.format_date(u),x=this._get_year_cell(u);if(x){var v=this.templates.event_class(f.start_date,f.end_date,f);s._year_marked_cells[y]||(x.className="dhx_month_head dhx_year_event",x.setAttribute("data-year-date",y),x.setAttribute("date",y),s._year_marked_cells[y]=x),x.className+=v?" "+v:""}},s._unmark_year_date=function(u){var f=this._get_year_cell(u);f&&(f.className="dhx_month_head")},s._year_render_event=function(u){var f=u.start_date;for(f=f.valueOf()<this._min_date.valueOf()?this._min_date:this.date.date_part(new Date(f));f<u.end_date;)if(this._mark_year_date(f,u),(f=this.date.add(f,1,"day")).valueOf()>=this._max_date.valueOf())return},s.year_view=function(u){var f;if(u&&(f=s.xy.scale_height,s.xy.scale_height=-1),s._els.dhx_cal_header[0].style.display=u?"none":"",s.set_sizes(),u&&(s.xy.scale_height=f),s._table_view=u,!this._load_mode||!this._load())if(u){if(s._init_year_tooltip(),s._reset_year_scale(),s._load_mode&&s._load())return void(s._render_wait=!0);s.render_view_data()}else s._hideToolTip()},s._reset_year_scale=function(){this._cols=[],this._colsS={};var u=[],f=this._els.dhx_cal_data[0],y=this.config;f.scrollTop=0,f.innerHTML="";var x=Math.floor(parseInt(f.style.width)/y.year_x),v=Math.floor((parseInt(f.style.height)-s.xy.year_top)/y.year_y);v<190&&(v=190,x=Math.floor((parseInt(f.style.width)-s.xy.scroll_width)/y.year_x));var E=x-11,b=0,S=document.createElement("div"),N=this.date.week_start(s._currentDate());this._process_ignores(N,7,"day",1);for(var O=7-(this._ignores_detected||0),j=0,R=0;R<7;R++)this._ignores&&this._ignores[R]||(this._cols[R]=Math.floor(E/(O-j)),this._render_x_header(R,b,N,S),E-=this._cols[R],b+=this._cols[R],j++),N=this.date.add(N,1,"day");for(S.lastChild.className+=" dhx_scale_bar_last",R=0;R<S.childNodes.length;R++)this._waiAria.yearHeadCell(S.childNodes[R]);var H=this.date[this._mode+"_start"](this.date.copy(this._date)),Z=H,re=null;for(R=0;R<y.year_y;R++)for(var K=0;K<y.year_x;K++){(re=document.createElement("div")).className="dhx_year_box",re.style.cssText="position:absolute;",re.setAttribute("date",this._helpers.formatDate(H)),re.innerHTML="<div class='dhx_year_month'></div><div class='dhx_year_grid'><div class='dhx_year_week'>"+S.innerHTML+"</div><div class='dhx_year_body'></div></div>";var ae=re.querySelector(".dhx_year_month"),W=re.querySelector(".dhx_year_grid"),ne=re.querySelector(".dhx_year_week"),Q=re.querySelector(".dhx_year_body"),we=s.uid();this._waiAria.yearHeader(ae,we),this._waiAria.yearGrid(W,we),ae.innerHTML=this.templates.year_month(H);var Ce=this.date.week_start(H);this._reset_month_scale(Q,H,Ce,6);for(var xe=Q.querySelectorAll("td"),Ie=0;Ie<xe.length;Ie++)this._waiAria.yearDayCell(xe[Ie]);f.appendChild(re),ne.style.height=ne.childNodes[0].offsetHeight+"px";var De=Math.round((v-190)/2);re.style.marginTop=De+"px",this.set_xy(re,x-10,v-De-10,x*K+5,v*R+5+s.xy.year_top),u[R*y.year_x+K]=(H.getDay()-(this.config.start_on_monday?1:0)+7)%7,H=this.date.add(H,1,"month")}var Fe=this._getNavDateElement();Fe&&(Fe.innerHTML=this.templates[this._mode+"_date"](Z,H,this._mode)),this.week_starts=u,u._month=Z.getMonth(),this._min_date=Z,this._max_date=H};var o=s.getActionData;s.getActionData=function(u){if(!w())return o.apply(s,arguments);var f=u.target,y=s._get_year_month_date(f),x=s._get_year_month_cell(f),v=s._get_year_day_indexes(x);return v&&y?(y=s.date.add(y,v.week,"week"),y=s.date.add(y,v.day,"day")):y=null,{date:y,section:null}},s._get_year_day_indexes=function(u){var f=s._get_year_el_node(u,this._locate_year_month_table);if(!f)return null;for(var y=0,x=0,v=(y=0,f.rows.length);y<v;y++){for(var E=f.rows[y].getElementsByTagName("td"),b=(x=0,E.length);x<b&&E[x]!=u;x++);if(x<b)break}return y<v?{day:x,week:y}:null},s._get_year_month_date=function(u){if(!(u=s._get_year_el_node(u,s._locate_year_month_root)))return null;var f=u.getAttribute("data-year-date");return f?s.date.week_start(s.date.month_start(s.templates.parse_date(f))):null},s._locate_year_month_day=function(u){return s._getClassName(u).indexOf("dhx_year_event")!=-1&&u.hasAttribute&&u.hasAttribute("data-year-date")};var c=s._locate_event;s._locate_event=function(u){var f=c.apply(s,arguments);if(!f){var y=s._get_year_el_node(u,s._locate_year_month_day);if(!y||!y.hasAttribute("data-year-date"))return null;var x=s.templates.parse_date(y.getAttribute("data-year-date")),v=s.getEvents(x,s.date.add(x,1,"day"));if(!v.length)return null;f=v[0].id}return f},s._locate_year_month_cell=function(u){return u.nodeName.toLowerCase()=="td"},s._locate_year_month_table=function(u){return u.nodeName.toLowerCase()=="table"},s._locate_year_month_root=function(u){return u.hasAttribute&&u.hasAttribute("data-year-date")},s._get_year_month_cell=function(u){return this._get_year_el_node(u,this._locate_year_month_cell)},s._get_year_month_table=function(u){return this._get_year_el_node(u,this._locate_year_month_table)},s._get_year_month_root=function(u){return this._get_year_el_node(this._get_year_month_table(u),this._locate_year_month_root)},s._get_year_el_node=function(u,f){for(;u&&!f(u);)u=u.parentNode;return u},s.attachEvent("onDestroy",function(){s._hideToolTip()})}}),Pc=Rh.getSchedulerInstance(),Wg={plugin:Pc.bind(Rh.plugin,Rh)};window.scheduler=Pc,window.Scheduler=Wg,r.default=Pc}])})})(iU);const Oo=window.scheduler,aU=Je.now().toFormat("y, L, d");class sU extends le.exports.Component{componentDidMount(){Oo.skin="material",Oo.config.header=["day","week","month","date","prev","today","next"];const{events:e}=this.props;Oo.init(this.schedulerContainer,aU),Oo.clearAll(),Oo.parse(e)}render(){return I("div",{ref:e=>{this.schedulerContainer=e},style:{width:"100%",height:"100%"}})}}const oU=()=>{const{user:t}=jn(),[e,n]=le.exports.useState([]),[r,i]=le.exports.useState(!0);le.exports.useEffect(()=>{const l=Tn(),h=ir(l,`Users/${t.uid}/mySchedule`);yi(h).then(_=>{const g=_.docs.map(C=>({...C.data()})),k=[];g.forEach(C=>Object.keys(C).forEach(T=>k.push({start_date:C[T].start_date,end_date:C[T].end_date,text:C[T].text}))),n(k),i(!1)})},[]);const a=()=>{console.log(e)};return r?I("h5",{children:"loading..."}):te("div",{children:[I("button",{onClick:a,children:"TEST"}),I("div",{className:"scheduler-container",children:I(sU,{events:e})})]})};const lU=({info:t})=>{const e=t.timeStamp.toDate().toString(),n=()=>{console.log(t)};return I("div",{className:"notification_container",children:te("div",{className:"notification_card",children:[te("p",{className:"notification_type",children:[" ",t.notificationType," "]}),te("p",{className:"notification_info",children:[" ",t.textNotification," "]}),te("p",{className:"notification_date",children:[" ",e," "]}),I("button",{className:"notification_button",onClick:n,children:"Visto"})]})})},cU=({notificaciones:t=[]})=>(t.sort((e,n)=>e.timeStamp>n.timeStamp?-1:e.timeStamp<n.timeStamp?1:0),t.map(e=>I(lU,{info:e},e.id)));const uU=()=>{const{user:t}=jn(),[e,n]=le.exports.useState([]);return le.exports.useEffect(()=>{const r=Tn(),i=ir(r,`Users/${t.uid}/myNotifications`);yi(i).then(a=>n(a.docs.map(l=>({id:l.id,...l.data()}))))},[t]),I("div",{className:"notification_body",children:I(cU,{notificaciones:e})})};const dU=()=>{const{user:t}=jn(),e=Nh();le.exports.useState(!1);const[n,r]=le.exports.useState([]),i=["lunes","martes","miercoles","jueves","viernes","sabado","domingo"],a={condition:"pending",teacher:"unasigned",remainingClases:t.misClases.remainingClases,studentUid:t.uid,studentEmail:t.email,studentName:t.form.name,studentLastName:t.form.lastName},l={textNotification:"Programaste tus clases, en breve se te asiganara un profesor",notificationType:"Notificacion"},h=async()=>{const k=["domingo","lunes","martes","miercoles","jueves","viernes","sabado"];let C=[];k.map((T,L)=>{let F=n.filter(D=>D.day===T);C.push(...F)});try{const T=Tn(),L=Wl(ir(T,`Users/${t.uid}/myClasses`));Ch(L,{userWeek:C,...a}).then(({id:D})=>{const P=en(T,`Classes/${D}`);ta(P,{userWeek:C,...a});const A=en(T,`Users/${t.uid}/myNotifications/${D}`);ta(A,{...l,timeStamp:e})});const F=en(T,`Users/${t.uid}`);await Ia(F,{teacher:"pending",notifications:Ad(1)}),swal("Muy Bien","Pronto se te asignara un profesor!","success")}catch(T){swal("UPS!",`${T.message}`,"error")}},_=()=>{let k=!1;n.length===0?swal("CUIDADO!","Debes seleccionar al menos un dia y un horario","error"):n.map((C,T)=>{C.time!=null?k=!0:(swal("CUIDADO!","Debes eleccionar un horario","error"),k=!1)}),k&&(console.log(n),h())},g=k=>{let C=n.filter(L=>L.day===k.target.id),T=n.filter(L=>L.day!=k.target.id);C={day:k.target.id,time:k.target.value},T.push(C),r(T)};return I(Kt,{children:te("div",{className:"programar-clase-conteiner",children:[I("h5",{children:"Selecciona los dias y el horario en que quieres tomar tus clases"}),I("ul",{className:"day-list",children:i.map((k,C)=>{const[T,L]=le.exports.useState(!1);return te("div",{className:"day-time-button",children:[I("li",{className:T?"day-button clicked":"day-button",onClick:()=>{let F=n;T?F=F.filter(D=>D.day!=k):F.push({day:k,time:void 0}),L(!T),r(F),console.log(n)},children:k}),T&&I("input",{step:600,type:"time",id:k,name:"time",value:n.time,onChange:g})]},C)})}),I("button",{className:"continue-button",onClick:_,children:"CONTINUAR"})]})})};const hU=({teacher:t,newDate:e})=>{const n=[],r=t.disponibility;return t.teacherWeek.map((i,a)=>{console.log(i.day);let l=r[i.day],h=parseInt(i.timeStart),_=parseInt(i.timeEnd);for(let g=h;g<_;g++){let k=g.toString();if(k=k+":00",l[k]){const C={day:i.day,time:k};n.push(C)}}}),I("div",{children:n.map((i,a)=>I("div",{className:"listaHorarios_container",children:te("div",{className:"listaHorarios_card",children:[te("div",{className:"listaHorarios_data",children:[te("p",{className:"listaHorarios_dia",children:[i.day,":"]}),te("p",{className:"listaHorarios_hora",children:[i.time," HS"]})]}),I("button",{className:"listaHorarios_button",onClick:()=>{e(i.day,i.time)},children:"Seleccionar"})]})},a))})};const sb=()=>{const{user:t}=jn(),[e,n]=le.exports.useState(),[r,i]=le.exports.useState(),a=t.misClases.teacherUid,l=br();async function h(g){const k=Tn(),C=en(k,`Users/${g}`),L=(await y$(C)).data(),F=ir(k,`Users/${t.uid}/mySchedule`);return yi(F).then(D=>{i(D.docs.map(P=>({id:P.id,...P.data()})))}),L}le.exports.useEffect(()=>{h(a).then(g=>{const k={disponibility:g.disponibility,teacherWeek:g.weekDisponibility};n(k)})},[]);const _=(g,k)=>{let C=new Date;const T=(V,B)=>{V.setDate(V.getDate()+B)};let L=0,F=1,D=2,P=3,A=4,M=5,$=6;switch(C.getDay()){case 0:T(C,0);break;case 1:T(C,-1);break;case 2:T(C,-2);break;case 3:T(C,-3);break;case 4:T(C,-4);break;case 5:T(C,-5);break;case 6:T(C,-6);break}const z=(V,B)=>{T(C,B);let Y=C.getDate(),J=C.getMonth(),X=C.getFullYear(),q=V,ee=parseInt(V);ee++,ee=ee.toString(),ee=ee+":00";let ce=`${X}-${J+1}-${Y} ${q}`,ke=`${X}-${J+1}-${Y} ${ee}`;const me={start_date:`${ce}`,end_date:`${ke}`,condition:"pending",date:`${X}-${J+1}`,day:Y,month:J,year:X,time:V};({...me,text:`${t.form.name}${t.form.lastName}`},{...me,text:`${t.form.teacherName}`}),T(C,-B)},G=(V,B)=>{V==="domingo"&&z(B,L),V==="lunes"&&z(B,F),V==="martes"&&z(B,D),V==="miercoles"&&z(B,P),V==="jueves"&&z(B,A),V==="viernes"&&z(B,M),V==="sabado"&&z(B,$)};T(C,7),G(g,k),swal("Muy Bien","Tu clase fue reprogramada","success"),l("/Panel")};if(e)return te("div",{children:[te("div",{className:"reprogramar_title",children:[I("h5",{children:"REPROGRAMAR CLASE"}),I("p",{children:"Aqui veras una lista de los horarios disponibles para reprogramar tu clase, recuerda que solo puedes hacer esto 2 veces por mes"})]}),I("div",{children:I(hU,{teacher:e,newDate:_})})]})};function fU(){return I(Kt,{children:I(QN,{children:I(C$,{children:te(N$,{children:[I(A$,{}),te(KN,{children:[I(Nt,{path:"/dev",element:I(sb,{})}),I(Nt,{path:"/",element:I(iF,{})}),I(Nt,{path:"/logger",element:I(cF,{})}),I(Nt,{path:"/signIn",element:I(uF,{})}),I(Nt,{path:"/signUp",element:I(cz,{})}),I(Nt,{path:"/Panel",element:I(rU,{})}),I(Nt,{path:"/Admin",element:I(Uz,{})}),I(Nt,{path:"/Admin/CreateTeacherAccount",element:I(Bz,{})}),I(Nt,{path:"/Admin/ProgramingClassesAsAdmin",element:I(Yz,{})}),I(Nt,{path:"/Account/EditarInformacion",element:I(lF,{})}),I(Nt,{path:"/Account/ProgramarClases",element:I(dU,{})}),I(Nt,{path:"/Account/ReprogramClass",element:I(sb,{})}),I(Nt,{path:"/Account/Teacher/MyStudents",element:I(nU,{})}),I(Nt,{path:"/Account/Teacher/AllMyClasses",element:I(YS,{})}),I(Nt,{path:"/Account/Teacher/TestFilters",element:I(zz,{})}),I(Nt,{path:"/MiCalendario",element:I(oU,{})}),I(Nt,{path:"/Checkout",element:I(WS,{})}),I(Nt,{path:"/account",element:I(Iz,{children:I(oF,{})})}),I(Nt,{path:"/Alumn",element:I(Mz,{children:I(GS,{})})}),I(Nt,{path:"/Teacher",element:I(Oz,{children:I(JS,{})})}),I(Nt,{path:"*",element:I("h1",{children:"404"})}),I(Nt,{path:"/MisNotificaciones",element:I(uU,{})})]}),I(Zz,{})]})})})})}Vf.createRoot(document.getElementById("root")).render(I(Ra.StrictMode,{children:I(fU,{})}));
