(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerpolicy&&(a.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?a.credentials="include":i.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Cb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var oe={exports:{}},at={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jl=Symbol.for("react.element"),TC=Symbol.for("react.portal"),NC=Symbol.for("react.fragment"),DC=Symbol.for("react.strict_mode"),IC=Symbol.for("react.profiler"),AC=Symbol.for("react.provider"),OC=Symbol.for("react.context"),MC=Symbol.for("react.forward_ref"),PC=Symbol.for("react.suspense"),LC=Symbol.for("react.memo"),RC=Symbol.for("react.lazy"),cv=Symbol.iterator;function $C(t){return t===null||typeof t!="object"?null:(t=cv&&t[cv]||t["@@iterator"],typeof t=="function"?t:null)}var Tb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Nb=Object.assign,Db={};function Zs(t,e,n){this.props=t,this.context=e,this.refs=Db,this.updater=n||Tb}Zs.prototype.isReactComponent={};Zs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Zs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ib(){}Ib.prototype=Zs.prototype;function Rp(t,e,n){this.props=t,this.context=e,this.refs=Db,this.updater=n||Tb}var $p=Rp.prototype=new Ib;$p.constructor=Rp;Nb($p,Zs.prototype);$p.isPureReactComponent=!0;var uv=Array.isArray,Ab=Object.prototype.hasOwnProperty,Fp={current:null},Ob={key:!0,ref:!0,__self:!0,__source:!0};function Mb(t,e,n){var r,i={},a=null,l=null;if(e!=null)for(r in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(a=""+e.key),e)Ab.call(e,r)&&!Ob.hasOwnProperty(r)&&(i[r]=e[r]);var h=arguments.length-2;if(h===1)i.children=n;else if(1<h){for(var _=Array(h),g=0;g<h;g++)_[g]=arguments[g+2];i.children=_}if(t&&t.defaultProps)for(r in h=t.defaultProps,h)i[r]===void 0&&(i[r]=h[r]);return{$$typeof:Jl,type:t,key:a,ref:l,props:i,_owner:Fp.current}}function FC(t,e){return{$$typeof:Jl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Up(t){return typeof t=="object"&&t!==null&&t.$$typeof===Jl}function UC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var dv=/\/+/g;function Vh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?UC(""+t.key):e.toString(36)}function pu(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case Jl:case TC:l=!0}}if(l)return l=t,i=i(l),t=r===""?"."+Vh(l,0):r,uv(i)?(n="",t!=null&&(n=t.replace(dv,"$&/")+"/"),pu(i,e,n,"",function(g){return g})):i!=null&&(Up(i)&&(i=FC(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(dv,"$&/")+"/")+t)),e.push(i)),1;if(l=0,r=r===""?".":r+":",uv(t))for(var h=0;h<t.length;h++){a=t[h];var _=r+Vh(a,h);l+=pu(a,e,n,_,i)}else if(_=$C(t),typeof _=="function")for(t=_.call(t),h=0;!(a=t.next()).done;)a=a.value,_=r+Vh(a,h++),l+=pu(a,e,n,_,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function Rc(t,e,n){if(t==null)return t;var r=[],i=0;return pu(t,r,"","",function(a){return e.call(n,a,i++)}),r}function jC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Fn={current:null},mu={transition:null},VC={ReactCurrentDispatcher:Fn,ReactCurrentBatchConfig:mu,ReactCurrentOwner:Fp};at.Children={map:Rc,forEach:function(t,e,n){Rc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Rc(t,function(){e++}),e},toArray:function(t){return Rc(t,function(e){return e})||[]},only:function(t){if(!Up(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};at.Component=Zs;at.Fragment=NC;at.Profiler=IC;at.PureComponent=Rp;at.StrictMode=DC;at.Suspense=PC;at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VC;at.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Nb({},t.props),i=t.key,a=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,l=Fp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var h=t.type.defaultProps;for(_ in e)Ab.call(e,_)&&!Ob.hasOwnProperty(_)&&(r[_]=e[_]===void 0&&h!==void 0?h[_]:e[_])}var _=arguments.length-2;if(_===1)r.children=n;else if(1<_){h=Array(_);for(var g=0;g<_;g++)h[g]=arguments[g+2];r.children=h}return{$$typeof:Jl,type:t.type,key:i,ref:a,props:r,_owner:l}};at.createContext=function(t){return t={$$typeof:OC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:AC,_context:t},t.Consumer=t};at.createElement=Mb;at.createFactory=function(t){var e=Mb.bind(null,t);return e.type=t,e};at.createRef=function(){return{current:null}};at.forwardRef=function(t){return{$$typeof:MC,render:t}};at.isValidElement=Up;at.lazy=function(t){return{$$typeof:RC,_payload:{_status:-1,_result:t},_init:jC}};at.memo=function(t,e){return{$$typeof:LC,type:t,compare:e===void 0?null:e}};at.startTransition=function(t){var e=mu.transition;mu.transition={};try{t()}finally{mu.transition=e}};at.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};at.useCallback=function(t,e){return Fn.current.useCallback(t,e)};at.useContext=function(t){return Fn.current.useContext(t)};at.useDebugValue=function(){};at.useDeferredValue=function(t){return Fn.current.useDeferredValue(t)};at.useEffect=function(t,e){return Fn.current.useEffect(t,e)};at.useId=function(){return Fn.current.useId()};at.useImperativeHandle=function(t,e,n){return Fn.current.useImperativeHandle(t,e,n)};at.useInsertionEffect=function(t,e){return Fn.current.useInsertionEffect(t,e)};at.useLayoutEffect=function(t,e){return Fn.current.useLayoutEffect(t,e)};at.useMemo=function(t,e){return Fn.current.useMemo(t,e)};at.useReducer=function(t,e,n){return Fn.current.useReducer(t,e,n)};at.useRef=function(t){return Fn.current.useRef(t)};at.useState=function(t){return Fn.current.useState(t)};at.useSyncExternalStore=function(t,e,n){return Fn.current.useSyncExternalStore(t,e,n)};at.useTransition=function(){return Fn.current.useTransition()};at.version="18.2.0";(function(t){t.exports=at})(oe);const ta=Cb(oe.exports);var qf={},Pb={exports:{}},sr={},Lb={exports:{}},Rb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(fe,me){var Ce=fe.length;fe.push(me);e:for(;0<Ce;){var ze=Ce-1>>>1,Ye=fe[ze];if(0<i(Ye,me))fe[ze]=me,fe[Ce]=Ye,Ce=ze;else break e}}function n(fe){return fe.length===0?null:fe[0]}function r(fe){if(fe.length===0)return null;var me=fe[0],Ce=fe.pop();if(Ce!==me){fe[0]=Ce;e:for(var ze=0,Ye=fe.length,Ht=Ye>>>1;ze<Ht;){var Rt=2*(ze+1)-1,vn=fe[Rt],mt=Rt+1,Jt=fe[mt];if(0>i(vn,Ce))mt<Ye&&0>i(Jt,vn)?(fe[ze]=Jt,fe[mt]=Ce,ze=mt):(fe[ze]=vn,fe[Rt]=Ce,ze=Rt);else if(mt<Ye&&0>i(Jt,Ce))fe[ze]=Jt,fe[mt]=Ce,ze=mt;else break e}}return me}function i(fe,me){var Ce=fe.sortIndex-me.sortIndex;return Ce!==0?Ce:fe.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,h=l.now();t.unstable_now=function(){return l.now()-h}}var _=[],g=[],k=1,C=null,T=3,O=!1,L=!1,N=!1,P=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(fe){for(var me=n(g);me!==null;){if(me.callback===null)r(g);else if(me.startTime<=fe)r(g),me.sortIndex=me.expirationTime,e(_,me);else break;me=n(g)}}function V(fe){if(N=!1,R(fe),!L)if(n(_)!==null)L=!0,Ee(j);else{var me=n(g);me!==null&&tt(V,me.startTime-fe)}}function j(fe,me){L=!1,N&&(N=!1,I(B),B=-1),O=!0;var Ce=T;try{for(R(me),C=n(_);C!==null&&(!(C.expirationTime>me)||fe&&!Z());){var ze=C.callback;if(typeof ze=="function"){C.callback=null,T=C.priorityLevel;var Ye=ze(C.expirationTime<=me);me=t.unstable_now(),typeof Ye=="function"?C.callback=Ye:C===n(_)&&r(_),R(me)}else r(_);C=n(_)}if(C!==null)var Ht=!0;else{var Rt=n(g);Rt!==null&&tt(V,Rt.startTime-me),Ht=!1}return Ht}finally{C=null,T=Ce,O=!1}}var W=!1,z=null,B=-1,K=5,Y=-1;function Z(){return!(t.unstable_now()-Y<K)}function X(){if(z!==null){var fe=t.unstable_now();Y=fe;var me=!0;try{me=z(!0,fe)}finally{me?le():(W=!1,z=null)}}else W=!1}var le;if(typeof A=="function")le=function(){A(X)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,$e=xe.port2;xe.port1.onmessage=X,le=function(){$e.postMessage(null)}}else le=function(){P(X,0)};function Ee(fe){z=fe,W||(W=!0,le())}function tt(fe,me){B=P(function(){fe(t.unstable_now())},me)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(fe){fe.callback=null},t.unstable_continueExecution=function(){L||O||(L=!0,Ee(j))},t.unstable_forceFrameRate=function(fe){0>fe||125<fe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<fe?Math.floor(1e3/fe):5},t.unstable_getCurrentPriorityLevel=function(){return T},t.unstable_getFirstCallbackNode=function(){return n(_)},t.unstable_next=function(fe){switch(T){case 1:case 2:case 3:var me=3;break;default:me=T}var Ce=T;T=me;try{return fe()}finally{T=Ce}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(fe,me){switch(fe){case 1:case 2:case 3:case 4:case 5:break;default:fe=3}var Ce=T;T=fe;try{return me()}finally{T=Ce}},t.unstable_scheduleCallback=function(fe,me,Ce){var ze=t.unstable_now();switch(typeof Ce=="object"&&Ce!==null?(Ce=Ce.delay,Ce=typeof Ce=="number"&&0<Ce?ze+Ce:ze):Ce=ze,fe){case 1:var Ye=-1;break;case 2:Ye=250;break;case 5:Ye=1073741823;break;case 4:Ye=1e4;break;default:Ye=5e3}return Ye=Ce+Ye,fe={id:k++,callback:me,priorityLevel:fe,startTime:Ce,expirationTime:Ye,sortIndex:-1},Ce>ze?(fe.sortIndex=Ce,e(g,fe),n(_)===null&&fe===n(g)&&(N?(I(B),B=-1):N=!0,tt(V,Ce-ze))):(fe.sortIndex=Ye,e(_,fe),L||O||(L=!0,Ee(j))),fe},t.unstable_shouldYield=Z,t.unstable_wrapCallback=function(fe){var me=T;return function(){var Ce=T;T=me;try{return fe.apply(this,arguments)}finally{T=Ce}}}})(Rb);(function(t){t.exports=Rb})(Lb);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $b=oe.exports,ir=Lb.exports;function pe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Fb=new Set,ul={};function Qa(t,e){Rs(t,e),Rs(t+"Capture",e)}function Rs(t,e){for(ul[t]=e,t=0;t<e.length;t++)Fb.add(e[t])}var ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wf=Object.prototype.hasOwnProperty,zC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hv={},fv={};function HC(t){return Wf.call(fv,t)?!0:Wf.call(hv,t)?!1:zC.test(t)?fv[t]=!0:(hv[t]=!0,!1)}function BC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function qC(t,e,n,r){if(e===null||typeof e>"u"||BC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Un(t,e,n,r,i,a,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=l}var fn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){fn[t]=new Un(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];fn[e]=new Un(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){fn[t]=new Un(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){fn[t]=new Un(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){fn[t]=new Un(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){fn[t]=new Un(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){fn[t]=new Un(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){fn[t]=new Un(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){fn[t]=new Un(t,5,!1,t.toLowerCase(),null,!1,!1)});var jp=/[\-:]([a-z])/g;function Vp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(jp,Vp);fn[e]=new Un(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(jp,Vp);fn[e]=new Un(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(jp,Vp);fn[e]=new Un(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){fn[t]=new Un(t,1,!1,t.toLowerCase(),null,!1,!1)});fn.xlinkHref=new Un("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){fn[t]=new Un(t,1,!1,t.toLowerCase(),null,!0,!0)});function zp(t,e,n,r){var i=fn.hasOwnProperty(e)?fn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(qC(e,n,i,r)&&(n=null),r||i===null?HC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var yi=$b.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$c=Symbol.for("react.element"),cs=Symbol.for("react.portal"),us=Symbol.for("react.fragment"),Hp=Symbol.for("react.strict_mode"),Gf=Symbol.for("react.profiler"),Ub=Symbol.for("react.provider"),jb=Symbol.for("react.context"),Bp=Symbol.for("react.forward_ref"),Kf=Symbol.for("react.suspense"),Yf=Symbol.for("react.suspense_list"),qp=Symbol.for("react.memo"),Ti=Symbol.for("react.lazy"),Vb=Symbol.for("react.offscreen"),_v=Symbol.iterator;function yo(t){return t===null||typeof t!="object"?null:(t=_v&&t[_v]||t["@@iterator"],typeof t=="function"?t:null)}var It=Object.assign,zh;function Mo(t){if(zh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);zh=e&&e[1]||""}return`
`+zh+t}var Hh=!1;function Bh(t,e){if(!t||Hh)return"";Hh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(g){var r=g}Reflect.construct(t,[],e)}else{try{e.call()}catch(g){r=g}t.call(e.prototype)}else{try{throw Error()}catch(g){r=g}t()}}catch(g){if(g&&r&&typeof g.stack=="string"){for(var i=g.stack.split(`
`),a=r.stack.split(`
`),l=i.length-1,h=a.length-1;1<=l&&0<=h&&i[l]!==a[h];)h--;for(;1<=l&&0<=h;l--,h--)if(i[l]!==a[h]){if(l!==1||h!==1)do if(l--,h--,0>h||i[l]!==a[h]){var _=`
`+i[l].replace(" at new "," at ");return t.displayName&&_.includes("<anonymous>")&&(_=_.replace("<anonymous>",t.displayName)),_}while(1<=l&&0<=h);break}}}finally{Hh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Mo(t):""}function WC(t){switch(t.tag){case 5:return Mo(t.type);case 16:return Mo("Lazy");case 13:return Mo("Suspense");case 19:return Mo("SuspenseList");case 0:case 2:case 15:return t=Bh(t.type,!1),t;case 11:return t=Bh(t.type.render,!1),t;case 1:return t=Bh(t.type,!0),t;default:return""}}function Jf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case us:return"Fragment";case cs:return"Portal";case Gf:return"Profiler";case Hp:return"StrictMode";case Kf:return"Suspense";case Yf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case jb:return(t.displayName||"Context")+".Consumer";case Ub:return(t._context.displayName||"Context")+".Provider";case Bp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case qp:return e=t.displayName||null,e!==null?e:Jf(t.type)||"Memo";case Ti:e=t._payload,t=t._init;try{return Jf(t(e))}catch{}}return null}function GC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jf(e);case 8:return e===Hp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function na(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function KC(t){var e=zb(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(l){r=""+l,a.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Fc(t){t._valueTracker||(t._valueTracker=KC(t))}function Hb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=zb(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Fu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Qf(t,e){var n=e.checked;return It({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function pv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=na(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Bb(t,e){e=e.checked,e!=null&&zp(t,"checked",e,!1)}function Xf(t,e){Bb(t,e);var n=na(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Zf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Zf(t,e.type,na(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function mv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Zf(t,e,n){(e!=="number"||Fu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Po=Array.isArray;function ks(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+na(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function e_(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(pe(91));return It({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function gv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(pe(92));if(Po(n)){if(1<n.length)throw Error(pe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:na(n)}}function qb(t,e){var n=na(e.value),r=na(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function vv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Wb(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function t_(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Wb(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Uc,Gb=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Uc=Uc||document.createElement("div"),Uc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Uc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function dl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Bo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},YC=["Webkit","ms","Moz","O"];Object.keys(Bo).forEach(function(t){YC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Bo[e]=Bo[t]})});function Kb(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Bo.hasOwnProperty(t)&&Bo[t]?(""+e).trim():e+"px"}function Yb(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Kb(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var JC=It({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function n_(t,e){if(e){if(JC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(pe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(pe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(pe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(pe(62))}}function r_(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var i_=null;function Wp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var a_=null,Ss=null,Cs=null;function yv(t){if(t=Zl(t)){if(typeof a_!="function")throw Error(pe(280));var e=t.stateNode;e&&(e=Ud(e),a_(t.stateNode,t.type,e))}}function Jb(t){Ss?Cs?Cs.push(t):Cs=[t]:Ss=t}function Qb(){if(Ss){var t=Ss,e=Cs;if(Cs=Ss=null,yv(t),e)for(t=0;t<e.length;t++)yv(e[t])}}function Xb(t,e){return t(e)}function Zb(){}var qh=!1;function ew(t,e,n){if(qh)return t(e,n);qh=!0;try{return Xb(t,e,n)}finally{qh=!1,(Ss!==null||Cs!==null)&&(Zb(),Qb())}}function hl(t,e){var n=t.stateNode;if(n===null)return null;var r=Ud(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(pe(231,e,typeof n));return n}var s_=!1;if(ci)try{var bo={};Object.defineProperty(bo,"passive",{get:function(){s_=!0}}),window.addEventListener("test",bo,bo),window.removeEventListener("test",bo,bo)}catch{s_=!1}function QC(t,e,n,r,i,a,l,h,_){var g=Array.prototype.slice.call(arguments,3);try{e.apply(n,g)}catch(k){this.onError(k)}}var qo=!1,Uu=null,ju=!1,o_=null,XC={onError:function(t){qo=!0,Uu=t}};function ZC(t,e,n,r,i,a,l,h,_){qo=!1,Uu=null,QC.apply(XC,arguments)}function eT(t,e,n,r,i,a,l,h,_){if(ZC.apply(this,arguments),qo){if(qo){var g=Uu;qo=!1,Uu=null}else throw Error(pe(198));ju||(ju=!0,o_=g)}}function Xa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function tw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function bv(t){if(Xa(t)!==t)throw Error(pe(188))}function tT(t){var e=t.alternate;if(!e){if(e=Xa(t),e===null)throw Error(pe(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return bv(i),t;if(a===r)return bv(i),e;a=a.sibling}throw Error(pe(188))}if(n.return!==r.return)n=i,r=a;else{for(var l=!1,h=i.child;h;){if(h===n){l=!0,n=i,r=a;break}if(h===r){l=!0,r=i,n=a;break}h=h.sibling}if(!l){for(h=a.child;h;){if(h===n){l=!0,n=a,r=i;break}if(h===r){l=!0,r=a,n=i;break}h=h.sibling}if(!l)throw Error(pe(189))}}if(n.alternate!==r)throw Error(pe(190))}if(n.tag!==3)throw Error(pe(188));return n.stateNode.current===n?t:e}function nw(t){return t=tT(t),t!==null?rw(t):null}function rw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=rw(t);if(e!==null)return e;t=t.sibling}return null}var iw=ir.unstable_scheduleCallback,wv=ir.unstable_cancelCallback,nT=ir.unstable_shouldYield,rT=ir.unstable_requestPaint,Lt=ir.unstable_now,iT=ir.unstable_getCurrentPriorityLevel,Gp=ir.unstable_ImmediatePriority,aw=ir.unstable_UserBlockingPriority,Vu=ir.unstable_NormalPriority,aT=ir.unstable_LowPriority,sw=ir.unstable_IdlePriority,Ld=null,Hr=null;function sT(t){if(Hr&&typeof Hr.onCommitFiberRoot=="function")try{Hr.onCommitFiberRoot(Ld,t,void 0,(t.current.flags&128)===128)}catch{}}var Ir=Math.clz32?Math.clz32:cT,oT=Math.log,lT=Math.LN2;function cT(t){return t>>>=0,t===0?32:31-(oT(t)/lT|0)|0}var jc=64,Vc=4194304;function Lo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function zu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,l=n&268435455;if(l!==0){var h=l&~i;h!==0?r=Lo(h):(a&=l,a!==0&&(r=Lo(a)))}else l=n&~i,l!==0?r=Lo(l):a!==0&&(r=Lo(a));if(r===0)return 0;if(e!==0&&e!==r&&(e&i)===0&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if((r&4)!==0&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ir(e),i=1<<n,r|=t[n],e&=~i;return r}function uT(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dT(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var l=31-Ir(a),h=1<<l,_=i[l];_===-1?((h&n)===0||(h&r)!==0)&&(i[l]=uT(h,e)):_<=e&&(t.expiredLanes|=h),a&=~h}}function l_(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ow(){var t=jc;return jc<<=1,(jc&4194240)===0&&(jc=64),t}function Wh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ql(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ir(e),t[e]=n}function hT(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ir(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function Kp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ir(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var _t=0;function lw(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var cw,Yp,uw,dw,hw,c_=!1,zc=[],Vi=null,zi=null,Hi=null,fl=new Map,_l=new Map,Ii=[],fT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xv(t,e){switch(t){case"focusin":case"focusout":Vi=null;break;case"dragenter":case"dragleave":zi=null;break;case"mouseover":case"mouseout":Hi=null;break;case"pointerover":case"pointerout":fl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":_l.delete(e.pointerId)}}function wo(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Zl(e),e!==null&&Yp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function _T(t,e,n,r,i){switch(e){case"focusin":return Vi=wo(Vi,t,e,n,r,i),!0;case"dragenter":return zi=wo(zi,t,e,n,r,i),!0;case"mouseover":return Hi=wo(Hi,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return fl.set(a,wo(fl.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,_l.set(a,wo(_l.get(a)||null,t,e,n,r,i)),!0}return!1}function fw(t){var e=ka(t.target);if(e!==null){var n=Xa(e);if(n!==null){if(e=n.tag,e===13){if(e=tw(n),e!==null){t.blockedOn=e,hw(t.priority,function(){uw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function gu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=u_(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);i_=r,n.target.dispatchEvent(r),i_=null}else return e=Zl(n),e!==null&&Yp(e),t.blockedOn=n,!1;e.shift()}return!0}function Ev(t,e,n){gu(t)&&n.delete(e)}function pT(){c_=!1,Vi!==null&&gu(Vi)&&(Vi=null),zi!==null&&gu(zi)&&(zi=null),Hi!==null&&gu(Hi)&&(Hi=null),fl.forEach(Ev),_l.forEach(Ev)}function xo(t,e){t.blockedOn===e&&(t.blockedOn=null,c_||(c_=!0,ir.unstable_scheduleCallback(ir.unstable_NormalPriority,pT)))}function pl(t){function e(i){return xo(i,t)}if(0<zc.length){xo(zc[0],t);for(var n=1;n<zc.length;n++){var r=zc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Vi!==null&&xo(Vi,t),zi!==null&&xo(zi,t),Hi!==null&&xo(Hi,t),fl.forEach(e),_l.forEach(e),n=0;n<Ii.length;n++)r=Ii[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ii.length&&(n=Ii[0],n.blockedOn===null);)fw(n),n.blockedOn===null&&Ii.shift()}var Ts=yi.ReactCurrentBatchConfig,Hu=!0;function mT(t,e,n,r){var i=_t,a=Ts.transition;Ts.transition=null;try{_t=1,Jp(t,e,n,r)}finally{_t=i,Ts.transition=a}}function gT(t,e,n,r){var i=_t,a=Ts.transition;Ts.transition=null;try{_t=4,Jp(t,e,n,r)}finally{_t=i,Ts.transition=a}}function Jp(t,e,n,r){if(Hu){var i=u_(t,e,n,r);if(i===null)nf(t,e,r,Bu,n),xv(t,r);else if(_T(i,t,e,n,r))r.stopPropagation();else if(xv(t,r),e&4&&-1<fT.indexOf(t)){for(;i!==null;){var a=Zl(i);if(a!==null&&cw(a),a=u_(t,e,n,r),a===null&&nf(t,e,r,Bu,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else nf(t,e,r,null,n)}}var Bu=null;function u_(t,e,n,r){if(Bu=null,t=Wp(r),t=ka(t),t!==null)if(e=Xa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=tw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Bu=t,null}function _w(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(iT()){case Gp:return 1;case aw:return 4;case Vu:case aT:return 16;case sw:return 536870912;default:return 16}default:return 16}}var $i=null,Qp=null,vu=null;function pw(){if(vu)return vu;var t,e=Qp,n=e.length,r,i="value"in $i?$i.value:$i.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var l=n-t;for(r=1;r<=l&&e[n-r]===i[a-r];r++);return vu=i.slice(t,1<r?1-r:void 0)}function yu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Hc(){return!0}function kv(){return!1}function or(t){function e(n,r,i,a,l){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=l,this.currentTarget=null;for(var h in t)t.hasOwnProperty(h)&&(n=t[h],this[h]=n?n(a):a[h]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Hc:kv,this.isPropagationStopped=kv,this}return It(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Hc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Hc)},persist:function(){},isPersistent:Hc}),e}var eo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xp=or(eo),Xl=It({},eo,{view:0,detail:0}),vT=or(Xl),Gh,Kh,Eo,Rd=It({},Xl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Eo&&(Eo&&t.type==="mousemove"?(Gh=t.screenX-Eo.screenX,Kh=t.screenY-Eo.screenY):Kh=Gh=0,Eo=t),Gh)},movementY:function(t){return"movementY"in t?t.movementY:Kh}}),Sv=or(Rd),yT=It({},Rd,{dataTransfer:0}),bT=or(yT),wT=It({},Xl,{relatedTarget:0}),Yh=or(wT),xT=It({},eo,{animationName:0,elapsedTime:0,pseudoElement:0}),ET=or(xT),kT=It({},eo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ST=or(kT),CT=It({},eo,{data:0}),Cv=or(CT),TT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},NT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},DT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function IT(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=DT[t])?!!e[t]:!1}function Zp(){return IT}var AT=It({},Xl,{key:function(t){if(t.key){var e=TT[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=yu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?NT[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zp,charCode:function(t){return t.type==="keypress"?yu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?yu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),OT=or(AT),MT=It({},Rd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tv=or(MT),PT=It({},Xl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zp}),LT=or(PT),RT=It({},eo,{propertyName:0,elapsedTime:0,pseudoElement:0}),$T=or(RT),FT=It({},Rd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),UT=or(FT),jT=[9,13,27,32],em=ci&&"CompositionEvent"in window,Wo=null;ci&&"documentMode"in document&&(Wo=document.documentMode);var VT=ci&&"TextEvent"in window&&!Wo,mw=ci&&(!em||Wo&&8<Wo&&11>=Wo),Nv=String.fromCharCode(32),Dv=!1;function gw(t,e){switch(t){case"keyup":return jT.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ds=!1;function zT(t,e){switch(t){case"compositionend":return vw(e);case"keypress":return e.which!==32?null:(Dv=!0,Nv);case"textInput":return t=e.data,t===Nv&&Dv?null:t;default:return null}}function HT(t,e){if(ds)return t==="compositionend"||!em&&gw(t,e)?(t=pw(),vu=Qp=$i=null,ds=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return mw&&e.locale!=="ko"?null:e.data;default:return null}}var BT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Iv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!BT[t.type]:e==="textarea"}function yw(t,e,n,r){Jb(r),e=qu(e,"onChange"),0<e.length&&(n=new Xp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Go=null,ml=null;function qT(t){Iw(t,0)}function $d(t){var e=_s(t);if(Hb(e))return t}function WT(t,e){if(t==="change")return e}var bw=!1;if(ci){var Jh;if(ci){var Qh="oninput"in document;if(!Qh){var Av=document.createElement("div");Av.setAttribute("oninput","return;"),Qh=typeof Av.oninput=="function"}Jh=Qh}else Jh=!1;bw=Jh&&(!document.documentMode||9<document.documentMode)}function Ov(){Go&&(Go.detachEvent("onpropertychange",ww),ml=Go=null)}function ww(t){if(t.propertyName==="value"&&$d(ml)){var e=[];yw(e,ml,t,Wp(t)),ew(qT,e)}}function GT(t,e,n){t==="focusin"?(Ov(),Go=e,ml=n,Go.attachEvent("onpropertychange",ww)):t==="focusout"&&Ov()}function KT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $d(ml)}function YT(t,e){if(t==="click")return $d(e)}function JT(t,e){if(t==="input"||t==="change")return $d(e)}function QT(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Mr=typeof Object.is=="function"?Object.is:QT;function gl(t,e){if(Mr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Wf.call(e,i)||!Mr(t[i],e[i]))return!1}return!0}function Mv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Pv(t,e){var n=Mv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Mv(n)}}function xw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?xw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ew(){for(var t=window,e=Fu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Fu(t.document)}return e}function tm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function XT(t){var e=Ew(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&xw(n.ownerDocument.documentElement,n)){if(r!==null&&tm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=Pv(n,a);var l=Pv(n,r);i&&l&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ZT=ci&&"documentMode"in document&&11>=document.documentMode,hs=null,d_=null,Ko=null,h_=!1;function Lv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;h_||hs==null||hs!==Fu(r)||(r=hs,"selectionStart"in r&&tm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ko&&gl(Ko,r)||(Ko=r,r=qu(d_,"onSelect"),0<r.length&&(e=new Xp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=hs)))}function Bc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var fs={animationend:Bc("Animation","AnimationEnd"),animationiteration:Bc("Animation","AnimationIteration"),animationstart:Bc("Animation","AnimationStart"),transitionend:Bc("Transition","TransitionEnd")},Xh={},kw={};ci&&(kw=document.createElement("div").style,"AnimationEvent"in window||(delete fs.animationend.animation,delete fs.animationiteration.animation,delete fs.animationstart.animation),"TransitionEvent"in window||delete fs.transitionend.transition);function Fd(t){if(Xh[t])return Xh[t];if(!fs[t])return t;var e=fs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in kw)return Xh[t]=e[n];return t}var Sw=Fd("animationend"),Cw=Fd("animationiteration"),Tw=Fd("animationstart"),Nw=Fd("transitionend"),Dw=new Map,Rv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ca(t,e){Dw.set(t,e),Qa(e,[t])}for(var Zh=0;Zh<Rv.length;Zh++){var ef=Rv[Zh],eN=ef.toLowerCase(),tN=ef[0].toUpperCase()+ef.slice(1);ca(eN,"on"+tN)}ca(Sw,"onAnimationEnd");ca(Cw,"onAnimationIteration");ca(Tw,"onAnimationStart");ca("dblclick","onDoubleClick");ca("focusin","onFocus");ca("focusout","onBlur");ca(Nw,"onTransitionEnd");Rs("onMouseEnter",["mouseout","mouseover"]);Rs("onMouseLeave",["mouseout","mouseover"]);Rs("onPointerEnter",["pointerout","pointerover"]);Rs("onPointerLeave",["pointerout","pointerover"]);Qa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nN=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ro));function $v(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,eT(r,e,void 0,t),t.currentTarget=null}function Iw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var l=r.length-1;0<=l;l--){var h=r[l],_=h.instance,g=h.currentTarget;if(h=h.listener,_!==a&&i.isPropagationStopped())break e;$v(i,h,g),a=_}else for(l=0;l<r.length;l++){if(h=r[l],_=h.instance,g=h.currentTarget,h=h.listener,_!==a&&i.isPropagationStopped())break e;$v(i,h,g),a=_}}}if(ju)throw t=o_,ju=!1,o_=null,t}function wt(t,e){var n=e[g_];n===void 0&&(n=e[g_]=new Set);var r=t+"__bubble";n.has(r)||(Aw(e,t,2,!1),n.add(r))}function tf(t,e,n){var r=0;e&&(r|=4),Aw(n,t,r,e)}var qc="_reactListening"+Math.random().toString(36).slice(2);function vl(t){if(!t[qc]){t[qc]=!0,Fb.forEach(function(n){n!=="selectionchange"&&(nN.has(n)||tf(n,!1,t),tf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[qc]||(e[qc]=!0,tf("selectionchange",!1,e))}}function Aw(t,e,n,r){switch(_w(e)){case 1:var i=mT;break;case 4:i=gT;break;default:i=Jp}n=i.bind(null,e,n,t),i=void 0,!s_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function nf(t,e,n,r,i){var a=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var h=r.stateNode.containerInfo;if(h===i||h.nodeType===8&&h.parentNode===i)break;if(l===4)for(l=r.return;l!==null;){var _=l.tag;if((_===3||_===4)&&(_=l.stateNode.containerInfo,_===i||_.nodeType===8&&_.parentNode===i))return;l=l.return}for(;h!==null;){if(l=ka(h),l===null)return;if(_=l.tag,_===5||_===6){r=a=l;continue e}h=h.parentNode}}r=r.return}ew(function(){var g=a,k=Wp(n),C=[];e:{var T=Dw.get(t);if(T!==void 0){var O=Xp,L=t;switch(t){case"keypress":if(yu(n)===0)break e;case"keydown":case"keyup":O=OT;break;case"focusin":L="focus",O=Yh;break;case"focusout":L="blur",O=Yh;break;case"beforeblur":case"afterblur":O=Yh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":O=Sv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":O=bT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":O=LT;break;case Sw:case Cw:case Tw:O=ET;break;case Nw:O=$T;break;case"scroll":O=vT;break;case"wheel":O=UT;break;case"copy":case"cut":case"paste":O=ST;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":O=Tv}var N=(e&4)!==0,P=!N&&t==="scroll",I=N?T!==null?T+"Capture":null:T;N=[];for(var A=g,R;A!==null;){R=A;var V=R.stateNode;if(R.tag===5&&V!==null&&(R=V,I!==null&&(V=hl(A,I),V!=null&&N.push(yl(A,V,R)))),P)break;A=A.return}0<N.length&&(T=new O(T,L,null,n,k),C.push({event:T,listeners:N}))}}if((e&7)===0){e:{if(T=t==="mouseover"||t==="pointerover",O=t==="mouseout"||t==="pointerout",T&&n!==i_&&(L=n.relatedTarget||n.fromElement)&&(ka(L)||L[ui]))break e;if((O||T)&&(T=k.window===k?k:(T=k.ownerDocument)?T.defaultView||T.parentWindow:window,O?(L=n.relatedTarget||n.toElement,O=g,L=L?ka(L):null,L!==null&&(P=Xa(L),L!==P||L.tag!==5&&L.tag!==6)&&(L=null)):(O=null,L=g),O!==L)){if(N=Sv,V="onMouseLeave",I="onMouseEnter",A="mouse",(t==="pointerout"||t==="pointerover")&&(N=Tv,V="onPointerLeave",I="onPointerEnter",A="pointer"),P=O==null?T:_s(O),R=L==null?T:_s(L),T=new N(V,A+"leave",O,n,k),T.target=P,T.relatedTarget=R,V=null,ka(k)===g&&(N=new N(I,A+"enter",L,n,k),N.target=R,N.relatedTarget=P,V=N),P=V,O&&L)t:{for(N=O,I=L,A=0,R=N;R;R=as(R))A++;for(R=0,V=I;V;V=as(V))R++;for(;0<A-R;)N=as(N),A--;for(;0<R-A;)I=as(I),R--;for(;A--;){if(N===I||I!==null&&N===I.alternate)break t;N=as(N),I=as(I)}N=null}else N=null;O!==null&&Fv(C,T,O,N,!1),L!==null&&P!==null&&Fv(C,P,L,N,!0)}}e:{if(T=g?_s(g):window,O=T.nodeName&&T.nodeName.toLowerCase(),O==="select"||O==="input"&&T.type==="file")var j=WT;else if(Iv(T))if(bw)j=JT;else{j=KT;var W=GT}else(O=T.nodeName)&&O.toLowerCase()==="input"&&(T.type==="checkbox"||T.type==="radio")&&(j=YT);if(j&&(j=j(t,g))){yw(C,j,n,k);break e}W&&W(t,T,g),t==="focusout"&&(W=T._wrapperState)&&W.controlled&&T.type==="number"&&Zf(T,"number",T.value)}switch(W=g?_s(g):window,t){case"focusin":(Iv(W)||W.contentEditable==="true")&&(hs=W,d_=g,Ko=null);break;case"focusout":Ko=d_=hs=null;break;case"mousedown":h_=!0;break;case"contextmenu":case"mouseup":case"dragend":h_=!1,Lv(C,n,k);break;case"selectionchange":if(ZT)break;case"keydown":case"keyup":Lv(C,n,k)}var z;if(em)e:{switch(t){case"compositionstart":var B="onCompositionStart";break e;case"compositionend":B="onCompositionEnd";break e;case"compositionupdate":B="onCompositionUpdate";break e}B=void 0}else ds?gw(t,n)&&(B="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(B="onCompositionStart");B&&(mw&&n.locale!=="ko"&&(ds||B!=="onCompositionStart"?B==="onCompositionEnd"&&ds&&(z=pw()):($i=k,Qp="value"in $i?$i.value:$i.textContent,ds=!0)),W=qu(g,B),0<W.length&&(B=new Cv(B,t,null,n,k),C.push({event:B,listeners:W}),z?B.data=z:(z=vw(n),z!==null&&(B.data=z)))),(z=VT?zT(t,n):HT(t,n))&&(g=qu(g,"onBeforeInput"),0<g.length&&(k=new Cv("onBeforeInput","beforeinput",null,n,k),C.push({event:k,listeners:g}),k.data=z))}Iw(C,e)})}function yl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function qu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=hl(t,n),a!=null&&r.unshift(yl(t,a,i)),a=hl(t,e),a!=null&&r.push(yl(t,a,i))),t=t.return}return r}function as(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Fv(t,e,n,r,i){for(var a=e._reactName,l=[];n!==null&&n!==r;){var h=n,_=h.alternate,g=h.stateNode;if(_!==null&&_===r)break;h.tag===5&&g!==null&&(h=g,i?(_=hl(n,a),_!=null&&l.unshift(yl(n,_,h))):i||(_=hl(n,a),_!=null&&l.push(yl(n,_,h)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var rN=/\r\n?/g,iN=/\u0000|\uFFFD/g;function Uv(t){return(typeof t=="string"?t:""+t).replace(rN,`
`).replace(iN,"")}function Wc(t,e,n){if(e=Uv(e),Uv(t)!==e&&n)throw Error(pe(425))}function Wu(){}var f_=null,__=null;function p_(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var m_=typeof setTimeout=="function"?setTimeout:void 0,aN=typeof clearTimeout=="function"?clearTimeout:void 0,jv=typeof Promise=="function"?Promise:void 0,sN=typeof queueMicrotask=="function"?queueMicrotask:typeof jv<"u"?function(t){return jv.resolve(null).then(t).catch(oN)}:m_;function oN(t){setTimeout(function(){throw t})}function rf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),pl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);pl(e)}function Bi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Vv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var to=Math.random().toString(36).slice(2),Vr="__reactFiber$"+to,bl="__reactProps$"+to,ui="__reactContainer$"+to,g_="__reactEvents$"+to,lN="__reactListeners$"+to,cN="__reactHandles$"+to;function ka(t){var e=t[Vr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ui]||n[Vr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Vv(t);t!==null;){if(n=t[Vr])return n;t=Vv(t)}return e}t=n,n=t.parentNode}return null}function Zl(t){return t=t[Vr]||t[ui],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function _s(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(pe(33))}function Ud(t){return t[bl]||null}var v_=[],ps=-1;function ua(t){return{current:t}}function kt(t){0>ps||(t.current=v_[ps],v_[ps]=null,ps--)}function vt(t,e){ps++,v_[ps]=t.current,t.current=e}var ra={},Tn=ua(ra),Kn=ua(!1),Ra=ra;function $s(t,e){var n=t.type.contextTypes;if(!n)return ra;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Yn(t){return t=t.childContextTypes,t!=null}function Gu(){kt(Kn),kt(Tn)}function zv(t,e,n){if(Tn.current!==ra)throw Error(pe(168));vt(Tn,e),vt(Kn,n)}function Ow(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(pe(108,GC(t)||"Unknown",i));return It({},n,r)}function Ku(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ra,Ra=Tn.current,vt(Tn,t),vt(Kn,Kn.current),!0}function Hv(t,e,n){var r=t.stateNode;if(!r)throw Error(pe(169));n?(t=Ow(t,e,Ra),r.__reactInternalMemoizedMergedChildContext=t,kt(Kn),kt(Tn),vt(Tn,t)):kt(Kn),vt(Kn,n)}var Zr=null,jd=!1,af=!1;function Mw(t){Zr===null?Zr=[t]:Zr.push(t)}function uN(t){jd=!0,Mw(t)}function da(){if(!af&&Zr!==null){af=!0;var t=0,e=_t;try{var n=Zr;for(_t=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Zr=null,jd=!1}catch(i){throw Zr!==null&&(Zr=Zr.slice(t+1)),iw(Gp,da),i}finally{_t=e,af=!1}}return null}var ms=[],gs=0,Yu=null,Ju=0,hr=[],fr=0,$a=null,ei=1,ti="";function ba(t,e){ms[gs++]=Ju,ms[gs++]=Yu,Yu=t,Ju=e}function Pw(t,e,n){hr[fr++]=ei,hr[fr++]=ti,hr[fr++]=$a,$a=t;var r=ei;t=ti;var i=32-Ir(r)-1;r&=~(1<<i),n+=1;var a=32-Ir(e)+i;if(30<a){var l=i-i%5;a=(r&(1<<l)-1).toString(32),r>>=l,i-=l,ei=1<<32-Ir(e)+i|n<<i|r,ti=a+t}else ei=1<<a|n<<i|r,ti=t}function nm(t){t.return!==null&&(ba(t,1),Pw(t,1,0))}function rm(t){for(;t===Yu;)Yu=ms[--gs],ms[gs]=null,Ju=ms[--gs],ms[gs]=null;for(;t===$a;)$a=hr[--fr],hr[fr]=null,ti=hr[--fr],hr[fr]=null,ei=hr[--fr],hr[fr]=null}var nr=null,tr=null,St=!1,Nr=null;function Lw(t,e){var n=pr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Bv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,nr=t,tr=Bi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,nr=t,tr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=$a!==null?{id:ei,overflow:ti}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=pr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,nr=t,tr=null,!0):!1;default:return!1}}function y_(t){return(t.mode&1)!==0&&(t.flags&128)===0}function b_(t){if(St){var e=tr;if(e){var n=e;if(!Bv(t,e)){if(y_(t))throw Error(pe(418));e=Bi(n.nextSibling);var r=nr;e&&Bv(t,e)?Lw(r,n):(t.flags=t.flags&-4097|2,St=!1,nr=t)}}else{if(y_(t))throw Error(pe(418));t.flags=t.flags&-4097|2,St=!1,nr=t}}}function qv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;nr=t}function Gc(t){if(t!==nr)return!1;if(!St)return qv(t),St=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!p_(t.type,t.memoizedProps)),e&&(e=tr)){if(y_(t))throw Rw(),Error(pe(418));for(;e;)Lw(t,e),e=Bi(e.nextSibling)}if(qv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(pe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){tr=Bi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}tr=null}}else tr=nr?Bi(t.stateNode.nextSibling):null;return!0}function Rw(){for(var t=tr;t;)t=Bi(t.nextSibling)}function Fs(){tr=nr=null,St=!1}function im(t){Nr===null?Nr=[t]:Nr.push(t)}var dN=yi.ReactCurrentBatchConfig;function Cr(t,e){if(t&&t.defaultProps){e=It({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Qu=ua(null),Xu=null,vs=null,am=null;function sm(){am=vs=Xu=null}function om(t){var e=Qu.current;kt(Qu),t._currentValue=e}function w_(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ns(t,e){Xu=t,am=vs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(Gn=!0),t.firstContext=null)}function br(t){var e=t._currentValue;if(am!==t)if(t={context:t,memoizedValue:e,next:null},vs===null){if(Xu===null)throw Error(pe(308));vs=t,Xu.dependencies={lanes:0,firstContext:t}}else vs=vs.next=t;return e}var Sa=null;function lm(t){Sa===null?Sa=[t]:Sa.push(t)}function $w(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,lm(e)):(n.next=i.next,i.next=n),e.interleaved=n,di(t,r)}function di(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ni=!1;function cm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function si(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function qi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(ct&2)!==0){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,di(t,n)}return i=r.interleaved,i===null?(e.next=e,lm(r)):(e.next=i.next,i.next=e),r.interleaved=e,di(t,n)}function bu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Kp(t,n)}}function Wv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=l:a=a.next=l,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Zu(t,e,n,r){var i=t.updateQueue;Ni=!1;var a=i.firstBaseUpdate,l=i.lastBaseUpdate,h=i.shared.pending;if(h!==null){i.shared.pending=null;var _=h,g=_.next;_.next=null,l===null?a=g:l.next=g,l=_;var k=t.alternate;k!==null&&(k=k.updateQueue,h=k.lastBaseUpdate,h!==l&&(h===null?k.firstBaseUpdate=g:h.next=g,k.lastBaseUpdate=_))}if(a!==null){var C=i.baseState;l=0,k=g=_=null,h=a;do{var T=h.lane,O=h.eventTime;if((r&T)===T){k!==null&&(k=k.next={eventTime:O,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});e:{var L=t,N=h;switch(T=e,O=n,N.tag){case 1:if(L=N.payload,typeof L=="function"){C=L.call(O,C,T);break e}C=L;break e;case 3:L.flags=L.flags&-65537|128;case 0:if(L=N.payload,T=typeof L=="function"?L.call(O,C,T):L,T==null)break e;C=It({},C,T);break e;case 2:Ni=!0}}h.callback!==null&&h.lane!==0&&(t.flags|=64,T=i.effects,T===null?i.effects=[h]:T.push(h))}else O={eventTime:O,lane:T,tag:h.tag,payload:h.payload,callback:h.callback,next:null},k===null?(g=k=O,_=C):k=k.next=O,l|=T;if(h=h.next,h===null){if(h=i.shared.pending,h===null)break;T=h,h=T.next,T.next=null,i.lastBaseUpdate=T,i.shared.pending=null}}while(1);if(k===null&&(_=C),i.baseState=_,i.firstBaseUpdate=g,i.lastBaseUpdate=k,e=i.shared.interleaved,e!==null){i=e;do l|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Ua|=l,t.lanes=l,t.memoizedState=C}}function Gv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(pe(191,i));i.call(r)}}}var Uw=new $b.Component().refs;function x_(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:It({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Vd={isMounted:function(t){return(t=t._reactInternals)?Xa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=$n(),i=Gi(t),a=si(r,i);a.payload=e,n!=null&&(a.callback=n),e=qi(t,a,i),e!==null&&(Ar(e,t,i,r),bu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=$n(),i=Gi(t),a=si(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=qi(t,a,i),e!==null&&(Ar(e,t,i,r),bu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=$n(),r=Gi(t),i=si(n,r);i.tag=2,e!=null&&(i.callback=e),e=qi(t,i,r),e!==null&&(Ar(e,t,r,n),bu(e,t,r))}};function Kv(t,e,n,r,i,a,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,l):e.prototype&&e.prototype.isPureReactComponent?!gl(n,r)||!gl(i,a):!0}function jw(t,e,n){var r=!1,i=ra,a=e.contextType;return typeof a=="object"&&a!==null?a=br(a):(i=Yn(e)?Ra:Tn.current,r=e.contextTypes,a=(r=r!=null)?$s(t,i):ra),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Vd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function Yv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Vd.enqueueReplaceState(e,e.state,null)}function E_(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Uw,cm(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=br(a):(a=Yn(e)?Ra:Tn.current,i.context=$s(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(x_(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Vd.enqueueReplaceState(i,i.state,null),Zu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ko(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(pe(309));var r=n.stateNode}if(!r)throw Error(pe(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(l){var h=i.refs;h===Uw&&(h=i.refs={}),l===null?delete h[a]:h[a]=l},e._stringRef=a,e)}if(typeof t!="string")throw Error(pe(284));if(!n._owner)throw Error(pe(290,t))}return t}function Kc(t,e){throw t=Object.prototype.toString.call(e),Error(pe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Jv(t){var e=t._init;return e(t._payload)}function Vw(t){function e(I,A){if(t){var R=I.deletions;R===null?(I.deletions=[A],I.flags|=16):R.push(A)}}function n(I,A){if(!t)return null;for(;A!==null;)e(I,A),A=A.sibling;return null}function r(I,A){for(I=new Map;A!==null;)A.key!==null?I.set(A.key,A):I.set(A.index,A),A=A.sibling;return I}function i(I,A){return I=Ki(I,A),I.index=0,I.sibling=null,I}function a(I,A,R){return I.index=R,t?(R=I.alternate,R!==null?(R=R.index,R<A?(I.flags|=2,A):R):(I.flags|=2,A)):(I.flags|=1048576,A)}function l(I){return t&&I.alternate===null&&(I.flags|=2),I}function h(I,A,R,V){return A===null||A.tag!==6?(A=hf(R,I.mode,V),A.return=I,A):(A=i(A,R),A.return=I,A)}function _(I,A,R,V){var j=R.type;return j===us?k(I,A,R.props.children,V,R.key):A!==null&&(A.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ti&&Jv(j)===A.type)?(V=i(A,R.props),V.ref=ko(I,A,R),V.return=I,V):(V=Cu(R.type,R.key,R.props,null,I.mode,V),V.ref=ko(I,A,R),V.return=I,V)}function g(I,A,R,V){return A===null||A.tag!==4||A.stateNode.containerInfo!==R.containerInfo||A.stateNode.implementation!==R.implementation?(A=ff(R,I.mode,V),A.return=I,A):(A=i(A,R.children||[]),A.return=I,A)}function k(I,A,R,V,j){return A===null||A.tag!==7?(A=Oa(R,I.mode,V,j),A.return=I,A):(A=i(A,R),A.return=I,A)}function C(I,A,R){if(typeof A=="string"&&A!==""||typeof A=="number")return A=hf(""+A,I.mode,R),A.return=I,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case $c:return R=Cu(A.type,A.key,A.props,null,I.mode,R),R.ref=ko(I,null,A),R.return=I,R;case cs:return A=ff(A,I.mode,R),A.return=I,A;case Ti:var V=A._init;return C(I,V(A._payload),R)}if(Po(A)||yo(A))return A=Oa(A,I.mode,R,null),A.return=I,A;Kc(I,A)}return null}function T(I,A,R,V){var j=A!==null?A.key:null;if(typeof R=="string"&&R!==""||typeof R=="number")return j!==null?null:h(I,A,""+R,V);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case $c:return R.key===j?_(I,A,R,V):null;case cs:return R.key===j?g(I,A,R,V):null;case Ti:return j=R._init,T(I,A,j(R._payload),V)}if(Po(R)||yo(R))return j!==null?null:k(I,A,R,V,null);Kc(I,R)}return null}function O(I,A,R,V,j){if(typeof V=="string"&&V!==""||typeof V=="number")return I=I.get(R)||null,h(A,I,""+V,j);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case $c:return I=I.get(V.key===null?R:V.key)||null,_(A,I,V,j);case cs:return I=I.get(V.key===null?R:V.key)||null,g(A,I,V,j);case Ti:var W=V._init;return O(I,A,R,W(V._payload),j)}if(Po(V)||yo(V))return I=I.get(R)||null,k(A,I,V,j,null);Kc(A,V)}return null}function L(I,A,R,V){for(var j=null,W=null,z=A,B=A=0,K=null;z!==null&&B<R.length;B++){z.index>B?(K=z,z=null):K=z.sibling;var Y=T(I,z,R[B],V);if(Y===null){z===null&&(z=K);break}t&&z&&Y.alternate===null&&e(I,z),A=a(Y,A,B),W===null?j=Y:W.sibling=Y,W=Y,z=K}if(B===R.length)return n(I,z),St&&ba(I,B),j;if(z===null){for(;B<R.length;B++)z=C(I,R[B],V),z!==null&&(A=a(z,A,B),W===null?j=z:W.sibling=z,W=z);return St&&ba(I,B),j}for(z=r(I,z);B<R.length;B++)K=O(z,I,B,R[B],V),K!==null&&(t&&K.alternate!==null&&z.delete(K.key===null?B:K.key),A=a(K,A,B),W===null?j=K:W.sibling=K,W=K);return t&&z.forEach(function(Z){return e(I,Z)}),St&&ba(I,B),j}function N(I,A,R,V){var j=yo(R);if(typeof j!="function")throw Error(pe(150));if(R=j.call(R),R==null)throw Error(pe(151));for(var W=j=null,z=A,B=A=0,K=null,Y=R.next();z!==null&&!Y.done;B++,Y=R.next()){z.index>B?(K=z,z=null):K=z.sibling;var Z=T(I,z,Y.value,V);if(Z===null){z===null&&(z=K);break}t&&z&&Z.alternate===null&&e(I,z),A=a(Z,A,B),W===null?j=Z:W.sibling=Z,W=Z,z=K}if(Y.done)return n(I,z),St&&ba(I,B),j;if(z===null){for(;!Y.done;B++,Y=R.next())Y=C(I,Y.value,V),Y!==null&&(A=a(Y,A,B),W===null?j=Y:W.sibling=Y,W=Y);return St&&ba(I,B),j}for(z=r(I,z);!Y.done;B++,Y=R.next())Y=O(z,I,B,Y.value,V),Y!==null&&(t&&Y.alternate!==null&&z.delete(Y.key===null?B:Y.key),A=a(Y,A,B),W===null?j=Y:W.sibling=Y,W=Y);return t&&z.forEach(function(X){return e(I,X)}),St&&ba(I,B),j}function P(I,A,R,V){if(typeof R=="object"&&R!==null&&R.type===us&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case $c:e:{for(var j=R.key,W=A;W!==null;){if(W.key===j){if(j=R.type,j===us){if(W.tag===7){n(I,W.sibling),A=i(W,R.props.children),A.return=I,I=A;break e}}else if(W.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ti&&Jv(j)===W.type){n(I,W.sibling),A=i(W,R.props),A.ref=ko(I,W,R),A.return=I,I=A;break e}n(I,W);break}else e(I,W);W=W.sibling}R.type===us?(A=Oa(R.props.children,I.mode,V,R.key),A.return=I,I=A):(V=Cu(R.type,R.key,R.props,null,I.mode,V),V.ref=ko(I,A,R),V.return=I,I=V)}return l(I);case cs:e:{for(W=R.key;A!==null;){if(A.key===W)if(A.tag===4&&A.stateNode.containerInfo===R.containerInfo&&A.stateNode.implementation===R.implementation){n(I,A.sibling),A=i(A,R.children||[]),A.return=I,I=A;break e}else{n(I,A);break}else e(I,A);A=A.sibling}A=ff(R,I.mode,V),A.return=I,I=A}return l(I);case Ti:return W=R._init,P(I,A,W(R._payload),V)}if(Po(R))return L(I,A,R,V);if(yo(R))return N(I,A,R,V);Kc(I,R)}return typeof R=="string"&&R!==""||typeof R=="number"?(R=""+R,A!==null&&A.tag===6?(n(I,A.sibling),A=i(A,R),A.return=I,I=A):(n(I,A),A=hf(R,I.mode,V),A.return=I,I=A),l(I)):n(I,A)}return P}var Us=Vw(!0),zw=Vw(!1),ec={},Br=ua(ec),wl=ua(ec),xl=ua(ec);function Ca(t){if(t===ec)throw Error(pe(174));return t}function um(t,e){switch(vt(xl,e),vt(wl,t),vt(Br,ec),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:t_(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=t_(e,t)}kt(Br),vt(Br,e)}function js(){kt(Br),kt(wl),kt(xl)}function Hw(t){Ca(xl.current);var e=Ca(Br.current),n=t_(e,t.type);e!==n&&(vt(wl,t),vt(Br,n))}function dm(t){wl.current===t&&(kt(Br),kt(wl))}var Nt=ua(0);function ed(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var sf=[];function hm(){for(var t=0;t<sf.length;t++)sf[t]._workInProgressVersionPrimary=null;sf.length=0}var wu=yi.ReactCurrentDispatcher,of=yi.ReactCurrentBatchConfig,Fa=0,Dt=null,qt=null,en=null,td=!1,Yo=!1,El=0,hN=0;function wn(){throw Error(pe(321))}function fm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Mr(t[n],e[n]))return!1;return!0}function _m(t,e,n,r,i,a){if(Fa=a,Dt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,wu.current=t===null||t.memoizedState===null?mN:gN,t=n(r,i),Yo){a=0;do{if(Yo=!1,El=0,25<=a)throw Error(pe(301));a+=1,en=qt=null,e.updateQueue=null,wu.current=vN,t=n(r,i)}while(Yo)}if(wu.current=nd,e=qt!==null&&qt.next!==null,Fa=0,en=qt=Dt=null,td=!1,e)throw Error(pe(300));return t}function pm(){var t=El!==0;return El=0,t}function jr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?Dt.memoizedState=en=t:en=en.next=t,en}function wr(){if(qt===null){var t=Dt.alternate;t=t!==null?t.memoizedState:null}else t=qt.next;var e=en===null?Dt.memoizedState:en.next;if(e!==null)en=e,qt=t;else{if(t===null)throw Error(pe(310));qt=t,t={memoizedState:qt.memoizedState,baseState:qt.baseState,baseQueue:qt.baseQueue,queue:qt.queue,next:null},en===null?Dt.memoizedState=en=t:en=en.next=t}return en}function kl(t,e){return typeof e=="function"?e(t):e}function lf(t){var e=wr(),n=e.queue;if(n===null)throw Error(pe(311));n.lastRenderedReducer=t;var r=qt,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var l=i.next;i.next=a.next,a.next=l}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var h=l=null,_=null,g=a;do{var k=g.lane;if((Fa&k)===k)_!==null&&(_=_.next={lane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),r=g.hasEagerState?g.eagerState:t(r,g.action);else{var C={lane:k,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};_===null?(h=_=C,l=r):_=_.next=C,Dt.lanes|=k,Ua|=k}g=g.next}while(g!==null&&g!==a);_===null?l=r:_.next=h,Mr(r,e.memoizedState)||(Gn=!0),e.memoizedState=r,e.baseState=l,e.baseQueue=_,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,Dt.lanes|=a,Ua|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function cf(t){var e=wr(),n=e.queue;if(n===null)throw Error(pe(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var l=i=i.next;do a=t(a,l.action),l=l.next;while(l!==i);Mr(a,e.memoizedState)||(Gn=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function Bw(){}function qw(t,e){var n=Dt,r=wr(),i=e(),a=!Mr(r.memoizedState,i);if(a&&(r.memoizedState=i,Gn=!0),r=r.queue,mm(Kw.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||en!==null&&en.memoizedState.tag&1){if(n.flags|=2048,Sl(9,Gw.bind(null,n,r,i,e),void 0,null),nn===null)throw Error(pe(349));(Fa&30)!==0||Ww(n,e,i)}return i}function Ww(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Dt.updateQueue,e===null?(e={lastEffect:null,stores:null},Dt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Gw(t,e,n,r){e.value=n,e.getSnapshot=r,Yw(e)&&Jw(t)}function Kw(t,e,n){return n(function(){Yw(e)&&Jw(t)})}function Yw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Mr(t,n)}catch{return!0}}function Jw(t){var e=di(t,1);e!==null&&Ar(e,t,1,-1)}function Qv(t){var e=jr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:kl,lastRenderedState:t},e.queue=t,t=t.dispatch=pN.bind(null,Dt,t),[e.memoizedState,t]}function Sl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Dt.updateQueue,e===null?(e={lastEffect:null,stores:null},Dt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Qw(){return wr().memoizedState}function xu(t,e,n,r){var i=jr();Dt.flags|=t,i.memoizedState=Sl(1|e,n,void 0,r===void 0?null:r)}function zd(t,e,n,r){var i=wr();r=r===void 0?null:r;var a=void 0;if(qt!==null){var l=qt.memoizedState;if(a=l.destroy,r!==null&&fm(r,l.deps)){i.memoizedState=Sl(e,n,a,r);return}}Dt.flags|=t,i.memoizedState=Sl(1|e,n,a,r)}function Xv(t,e){return xu(8390656,8,t,e)}function mm(t,e){return zd(2048,8,t,e)}function Xw(t,e){return zd(4,2,t,e)}function Zw(t,e){return zd(4,4,t,e)}function ex(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function tx(t,e,n){return n=n!=null?n.concat([t]):null,zd(4,4,ex.bind(null,e,t),n)}function gm(){}function nx(t,e){var n=wr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&fm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function rx(t,e){var n=wr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&fm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ix(t,e,n){return(Fa&21)===0?(t.baseState&&(t.baseState=!1,Gn=!0),t.memoizedState=n):(Mr(n,e)||(n=ow(),Dt.lanes|=n,Ua|=n,t.baseState=!0),e)}function fN(t,e){var n=_t;_t=n!==0&&4>n?n:4,t(!0);var r=of.transition;of.transition={};try{t(!1),e()}finally{_t=n,of.transition=r}}function ax(){return wr().memoizedState}function _N(t,e,n){var r=Gi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},sx(t))ox(e,n);else if(n=$w(t,e,n,r),n!==null){var i=$n();Ar(n,t,r,i),lx(n,e,r)}}function pN(t,e,n){var r=Gi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(sx(t))ox(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var l=e.lastRenderedState,h=a(l,n);if(i.hasEagerState=!0,i.eagerState=h,Mr(h,l)){var _=e.interleaved;_===null?(i.next=i,lm(e)):(i.next=_.next,_.next=i),e.interleaved=i;return}}catch{}finally{}n=$w(t,e,i,r),n!==null&&(i=$n(),Ar(n,t,r,i),lx(n,e,r))}}function sx(t){var e=t.alternate;return t===Dt||e!==null&&e===Dt}function ox(t,e){Yo=td=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function lx(t,e,n){if((n&4194240)!==0){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Kp(t,n)}}var nd={readContext:br,useCallback:wn,useContext:wn,useEffect:wn,useImperativeHandle:wn,useInsertionEffect:wn,useLayoutEffect:wn,useMemo:wn,useReducer:wn,useRef:wn,useState:wn,useDebugValue:wn,useDeferredValue:wn,useTransition:wn,useMutableSource:wn,useSyncExternalStore:wn,useId:wn,unstable_isNewReconciler:!1},mN={readContext:br,useCallback:function(t,e){return jr().memoizedState=[t,e===void 0?null:e],t},useContext:br,useEffect:Xv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,xu(4194308,4,ex.bind(null,e,t),n)},useLayoutEffect:function(t,e){return xu(4194308,4,t,e)},useInsertionEffect:function(t,e){return xu(4,2,t,e)},useMemo:function(t,e){var n=jr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=jr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=_N.bind(null,Dt,t),[r.memoizedState,t]},useRef:function(t){var e=jr();return t={current:t},e.memoizedState=t},useState:Qv,useDebugValue:gm,useDeferredValue:function(t){return jr().memoizedState=t},useTransition:function(){var t=Qv(!1),e=t[0];return t=fN.bind(null,t[1]),jr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Dt,i=jr();if(St){if(n===void 0)throw Error(pe(407));n=n()}else{if(n=e(),nn===null)throw Error(pe(349));(Fa&30)!==0||Ww(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,Xv(Kw.bind(null,r,a,t),[t]),r.flags|=2048,Sl(9,Gw.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=jr(),e=nn.identifierPrefix;if(St){var n=ti,r=ei;n=(r&~(1<<32-Ir(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=El++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=hN++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},gN={readContext:br,useCallback:nx,useContext:br,useEffect:mm,useImperativeHandle:tx,useInsertionEffect:Xw,useLayoutEffect:Zw,useMemo:rx,useReducer:lf,useRef:Qw,useState:function(){return lf(kl)},useDebugValue:gm,useDeferredValue:function(t){var e=wr();return ix(e,qt.memoizedState,t)},useTransition:function(){var t=lf(kl)[0],e=wr().memoizedState;return[t,e]},useMutableSource:Bw,useSyncExternalStore:qw,useId:ax,unstable_isNewReconciler:!1},vN={readContext:br,useCallback:nx,useContext:br,useEffect:mm,useImperativeHandle:tx,useInsertionEffect:Xw,useLayoutEffect:Zw,useMemo:rx,useReducer:cf,useRef:Qw,useState:function(){return cf(kl)},useDebugValue:gm,useDeferredValue:function(t){var e=wr();return qt===null?e.memoizedState=t:ix(e,qt.memoizedState,t)},useTransition:function(){var t=cf(kl)[0],e=wr().memoizedState;return[t,e]},useMutableSource:Bw,useSyncExternalStore:qw,useId:ax,unstable_isNewReconciler:!1};function Vs(t,e){try{var n="",r=e;do n+=WC(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function uf(t,e,n){return{value:t,source:null,stack:n!=null?n:null,digest:e!=null?e:null}}function k_(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var yN=typeof WeakMap=="function"?WeakMap:Map;function cx(t,e,n){n=si(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){id||(id=!0,P_=r),k_(t,e)},n}function ux(t,e,n){n=si(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){k_(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){k_(t,e),typeof r!="function"&&(Wi===null?Wi=new Set([this]):Wi.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function Zv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new yN;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=MN.bind(null,t,e,n),e.then(t,t))}function ey(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ty(t,e,n,r,i){return(t.mode&1)===0?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=si(-1,1),e.tag=2,qi(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=i,t)}var bN=yi.ReactCurrentOwner,Gn=!1;function Dn(t,e,n,r){e.child=t===null?zw(e,null,n,r):Us(e,t.child,n,r)}function ny(t,e,n,r,i){n=n.render;var a=e.ref;return Ns(e,i),r=_m(t,e,n,r,a,i),n=pm(),t!==null&&!Gn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,hi(t,e,i)):(St&&n&&nm(e),e.flags|=1,Dn(t,e,r,i),e.child)}function ry(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!Sm(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,dx(t,e,a,r,i)):(t=Cu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,(t.lanes&i)===0){var l=a.memoizedProps;if(n=n.compare,n=n!==null?n:gl,n(l,r)&&t.ref===e.ref)return hi(t,e,i)}return e.flags|=1,t=Ki(a,r),t.ref=e.ref,t.return=e,e.child=t}function dx(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(gl(a,r)&&t.ref===e.ref)if(Gn=!1,e.pendingProps=r=a,(t.lanes&i)!==0)(t.flags&131072)!==0&&(Gn=!0);else return e.lanes=t.lanes,hi(t,e,i)}return S_(t,e,n,r,i)}function hx(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},vt(bs,Zn),Zn|=n;else{if((n&1073741824)===0)return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,vt(bs,Zn),Zn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,vt(bs,Zn),Zn|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,vt(bs,Zn),Zn|=r;return Dn(t,e,i,n),e.child}function fx(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function S_(t,e,n,r,i){var a=Yn(n)?Ra:Tn.current;return a=$s(e,a),Ns(e,i),n=_m(t,e,n,r,a,i),r=pm(),t!==null&&!Gn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,hi(t,e,i)):(St&&r&&nm(e),e.flags|=1,Dn(t,e,n,i),e.child)}function iy(t,e,n,r,i){if(Yn(n)){var a=!0;Ku(e)}else a=!1;if(Ns(e,i),e.stateNode===null)Eu(t,e),jw(e,n,r),E_(e,n,r,i),r=!0;else if(t===null){var l=e.stateNode,h=e.memoizedProps;l.props=h;var _=l.context,g=n.contextType;typeof g=="object"&&g!==null?g=br(g):(g=Yn(n)?Ra:Tn.current,g=$s(e,g));var k=n.getDerivedStateFromProps,C=typeof k=="function"||typeof l.getSnapshotBeforeUpdate=="function";C||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(h!==r||_!==g)&&Yv(e,l,r,g),Ni=!1;var T=e.memoizedState;l.state=T,Zu(e,r,l,i),_=e.memoizedState,h!==r||T!==_||Kn.current||Ni?(typeof k=="function"&&(x_(e,n,k,r),_=e.memoizedState),(h=Ni||Kv(e,n,h,r,T,_,g))?(C||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=_),l.props=r,l.state=_,l.context=g,r=h):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{l=e.stateNode,Fw(t,e),h=e.memoizedProps,g=e.type===e.elementType?h:Cr(e.type,h),l.props=g,C=e.pendingProps,T=l.context,_=n.contextType,typeof _=="object"&&_!==null?_=br(_):(_=Yn(n)?Ra:Tn.current,_=$s(e,_));var O=n.getDerivedStateFromProps;(k=typeof O=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(h!==C||T!==_)&&Yv(e,l,r,_),Ni=!1,T=e.memoizedState,l.state=T,Zu(e,r,l,i);var L=e.memoizedState;h!==C||T!==L||Kn.current||Ni?(typeof O=="function"&&(x_(e,n,O,r),L=e.memoizedState),(g=Ni||Kv(e,n,g,r,T,L,_)||!1)?(k||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,L,_),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,L,_)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||h===t.memoizedProps&&T===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||h===t.memoizedProps&&T===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=L),l.props=r,l.state=L,l.context=_,r=g):(typeof l.componentDidUpdate!="function"||h===t.memoizedProps&&T===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||h===t.memoizedProps&&T===t.memoizedState||(e.flags|=1024),r=!1)}return C_(t,e,n,r,a,i)}function C_(t,e,n,r,i,a){fx(t,e);var l=(e.flags&128)!==0;if(!r&&!l)return i&&Hv(e,n,!1),hi(t,e,a);r=e.stateNode,bN.current=e;var h=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&l?(e.child=Us(e,t.child,null,a),e.child=Us(e,null,h,a)):Dn(t,e,h,a),e.memoizedState=r.state,i&&Hv(e,n,!0),e.child}function _x(t){var e=t.stateNode;e.pendingContext?zv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&zv(t,e.context,!1),um(t,e.containerInfo)}function ay(t,e,n,r,i){return Fs(),im(i),e.flags|=256,Dn(t,e,n,r),e.child}var T_={dehydrated:null,treeContext:null,retryLane:0};function N_(t){return{baseLanes:t,cachePool:null,transitions:null}}function px(t,e,n){var r=e.pendingProps,i=Nt.current,a=!1,l=(e.flags&128)!==0,h;if((h=l)||(h=t!==null&&t.memoizedState===null?!1:(i&2)!==0),h?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),vt(Nt,i&1),t===null)return b_(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((e.mode&1)===0?e.lanes=1:t.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(l=r.children,t=r.fallback,a?(r=e.mode,a=e.child,l={mode:"hidden",children:l},(r&1)===0&&a!==null?(a.childLanes=0,a.pendingProps=l):a=qd(l,r,0,null),t=Oa(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=N_(n),e.memoizedState=T_,t):vm(e,l));if(i=t.memoizedState,i!==null&&(h=i.dehydrated,h!==null))return wN(t,e,l,r,h,i,n);if(a){a=r.fallback,l=e.mode,i=t.child,h=i.sibling;var _={mode:"hidden",children:r.children};return(l&1)===0&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=_,e.deletions=null):(r=Ki(i,_),r.subtreeFlags=i.subtreeFlags&14680064),h!==null?a=Ki(h,a):(a=Oa(a,l,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,l=t.child.memoizedState,l=l===null?N_(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=t.childLanes&~n,e.memoizedState=T_,r}return a=t.child,t=a.sibling,r=Ki(a,{mode:"visible",children:r.children}),(e.mode&1)===0&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function vm(t,e){return e=qd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Yc(t,e,n,r){return r!==null&&im(r),Us(e,t.child,null,n),t=vm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function wN(t,e,n,r,i,a,l){if(n)return e.flags&256?(e.flags&=-257,r=uf(Error(pe(422))),Yc(t,e,l,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=qd({mode:"visible",children:r.children},i,0,null),a=Oa(a,i,l,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,(e.mode&1)!==0&&Us(e,t.child,null,l),e.child.memoizedState=N_(l),e.memoizedState=T_,a);if((e.mode&1)===0)return Yc(t,e,l,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var h=r.dgst;return r=h,a=Error(pe(419)),r=uf(a,r,void 0),Yc(t,e,l,r)}if(h=(l&t.childLanes)!==0,Gn||h){if(r=nn,r!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=(i&(r.suspendedLanes|l))!==0?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,di(t,i),Ar(r,t,i,-1))}return km(),r=uf(Error(pe(421))),Yc(t,e,l,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=PN.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,tr=Bi(i.nextSibling),nr=e,St=!0,Nr=null,t!==null&&(hr[fr++]=ei,hr[fr++]=ti,hr[fr++]=$a,ei=t.id,ti=t.overflow,$a=e),e=vm(e,r.children),e.flags|=4096,e)}function sy(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),w_(t.return,e,n)}function df(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function mx(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(Dn(t,e,r.children,n),r=Nt.current,(r&2)!==0)r=r&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sy(t,n,e);else if(t.tag===19)sy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(vt(Nt,r),(e.mode&1)===0)e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ed(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),df(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ed(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}df(e,!0,n,null,a);break;case"together":df(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Eu(t,e){(e.mode&1)===0&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function hi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ua|=e.lanes,(n&e.childLanes)===0)return null;if(t!==null&&e.child!==t.child)throw Error(pe(153));if(e.child!==null){for(t=e.child,n=Ki(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ki(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function xN(t,e,n){switch(e.tag){case 3:_x(e),Fs();break;case 5:Hw(e);break;case 1:Yn(e.type)&&Ku(e);break;case 4:um(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;vt(Qu,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(vt(Nt,Nt.current&1),e.flags|=128,null):(n&e.child.childLanes)!==0?px(t,e,n):(vt(Nt,Nt.current&1),t=hi(t,e,n),t!==null?t.sibling:null);vt(Nt,Nt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,(t.flags&128)!==0){if(r)return mx(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),vt(Nt,Nt.current),r)break;return null;case 22:case 23:return e.lanes=0,hx(t,e,n)}return hi(t,e,n)}var gx,D_,vx,yx;gx=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};D_=function(){};vx=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ca(Br.current);var a=null;switch(n){case"input":i=Qf(t,i),r=Qf(t,r),a=[];break;case"select":i=It({},i,{value:void 0}),r=It({},r,{value:void 0}),a=[];break;case"textarea":i=e_(t,i),r=e_(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Wu)}n_(n,r);var l;n=null;for(g in i)if(!r.hasOwnProperty(g)&&i.hasOwnProperty(g)&&i[g]!=null)if(g==="style"){var h=i[g];for(l in h)h.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(ul.hasOwnProperty(g)?a||(a=[]):(a=a||[]).push(g,null));for(g in r){var _=r[g];if(h=i!=null?i[g]:void 0,r.hasOwnProperty(g)&&_!==h&&(_!=null||h!=null))if(g==="style")if(h){for(l in h)!h.hasOwnProperty(l)||_&&_.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in _)_.hasOwnProperty(l)&&h[l]!==_[l]&&(n||(n={}),n[l]=_[l])}else n||(a||(a=[]),a.push(g,n)),n=_;else g==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,h=h?h.__html:void 0,_!=null&&h!==_&&(a=a||[]).push(g,_)):g==="children"?typeof _!="string"&&typeof _!="number"||(a=a||[]).push(g,""+_):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(ul.hasOwnProperty(g)?(_!=null&&g==="onScroll"&&wt("scroll",t),a||h===_||(a=[])):(a=a||[]).push(g,_))}n&&(a=a||[]).push("style",n);var g=a;(e.updateQueue=g)&&(e.flags|=4)}};yx=function(t,e,n,r){n!==r&&(e.flags|=4)};function So(t,e){if(!St)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function xn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function EN(t,e,n){var r=e.pendingProps;switch(rm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xn(e),null;case 1:return Yn(e.type)&&Gu(),xn(e),null;case 3:return r=e.stateNode,js(),kt(Kn),kt(Tn),hm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Gc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,Nr!==null&&($_(Nr),Nr=null))),D_(t,e),xn(e),null;case 5:dm(e);var i=Ca(xl.current);if(n=e.type,t!==null&&e.stateNode!=null)vx(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(pe(166));return xn(e),null}if(t=Ca(Br.current),Gc(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[Vr]=e,r[bl]=a,t=(e.mode&1)!==0,n){case"dialog":wt("cancel",r),wt("close",r);break;case"iframe":case"object":case"embed":wt("load",r);break;case"video":case"audio":for(i=0;i<Ro.length;i++)wt(Ro[i],r);break;case"source":wt("error",r);break;case"img":case"image":case"link":wt("error",r),wt("load",r);break;case"details":wt("toggle",r);break;case"input":pv(r,a),wt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},wt("invalid",r);break;case"textarea":gv(r,a),wt("invalid",r)}n_(n,a),i=null;for(var l in a)if(a.hasOwnProperty(l)){var h=a[l];l==="children"?typeof h=="string"?r.textContent!==h&&(a.suppressHydrationWarning!==!0&&Wc(r.textContent,h,t),i=["children",h]):typeof h=="number"&&r.textContent!==""+h&&(a.suppressHydrationWarning!==!0&&Wc(r.textContent,h,t),i=["children",""+h]):ul.hasOwnProperty(l)&&h!=null&&l==="onScroll"&&wt("scroll",r)}switch(n){case"input":Fc(r),mv(r,a,!0);break;case"textarea":Fc(r),vv(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Wu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Wb(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=l.createElement(n,{is:r.is}):(t=l.createElement(n),n==="select"&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,n),t[Vr]=e,t[bl]=r,gx(t,e,!1,!1),e.stateNode=t;e:{switch(l=r_(n,r),n){case"dialog":wt("cancel",t),wt("close",t),i=r;break;case"iframe":case"object":case"embed":wt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ro.length;i++)wt(Ro[i],t);i=r;break;case"source":wt("error",t),i=r;break;case"img":case"image":case"link":wt("error",t),wt("load",t),i=r;break;case"details":wt("toggle",t),i=r;break;case"input":pv(t,r),i=Qf(t,r),wt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=It({},r,{value:void 0}),wt("invalid",t);break;case"textarea":gv(t,r),i=e_(t,r),wt("invalid",t);break;default:i=r}n_(n,i),h=i;for(a in h)if(h.hasOwnProperty(a)){var _=h[a];a==="style"?Yb(t,_):a==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,_!=null&&Gb(t,_)):a==="children"?typeof _=="string"?(n!=="textarea"||_!=="")&&dl(t,_):typeof _=="number"&&dl(t,""+_):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(ul.hasOwnProperty(a)?_!=null&&a==="onScroll"&&wt("scroll",t):_!=null&&zp(t,a,_,l))}switch(n){case"input":Fc(t),mv(t,r,!1);break;case"textarea":Fc(t),vv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+na(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?ks(t,!!r.multiple,a,!1):r.defaultValue!=null&&ks(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Wu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return xn(e),null;case 6:if(t&&e.stateNode!=null)yx(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(pe(166));if(n=Ca(xl.current),Ca(Br.current),Gc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Vr]=e,(a=r.nodeValue!==n)&&(t=nr,t!==null))switch(t.tag){case 3:Wc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Wc(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Vr]=e,e.stateNode=r}return xn(e),null;case 13:if(kt(Nt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(St&&tr!==null&&(e.mode&1)!==0&&(e.flags&128)===0)Rw(),Fs(),e.flags|=98560,a=!1;else if(a=Gc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(pe(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(pe(317));a[Vr]=e}else Fs(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;xn(e),a=!1}else Nr!==null&&($_(Nr),Nr=null),a=!0;if(!a)return e.flags&65536?e:null}return(e.flags&128)!==0?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,(e.mode&1)!==0&&(t===null||(Nt.current&1)!==0?Wt===0&&(Wt=3):km())),e.updateQueue!==null&&(e.flags|=4),xn(e),null);case 4:return js(),D_(t,e),t===null&&vl(e.stateNode.containerInfo),xn(e),null;case 10:return om(e.type._context),xn(e),null;case 17:return Yn(e.type)&&Gu(),xn(e),null;case 19:if(kt(Nt),a=e.memoizedState,a===null)return xn(e),null;if(r=(e.flags&128)!==0,l=a.rendering,l===null)if(r)So(a,!1);else{if(Wt!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(l=ed(t),l!==null){for(e.flags|=128,So(a,!1),r=l.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,l=a.alternate,l===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,t=l.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return vt(Nt,Nt.current&1|2),e.child}t=t.sibling}a.tail!==null&&Lt()>zs&&(e.flags|=128,r=!0,So(a,!1),e.lanes=4194304)}else{if(!r)if(t=ed(l),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),So(a,!0),a.tail===null&&a.tailMode==="hidden"&&!l.alternate&&!St)return xn(e),null}else 2*Lt()-a.renderingStartTime>zs&&n!==1073741824&&(e.flags|=128,r=!0,So(a,!1),e.lanes=4194304);a.isBackwards?(l.sibling=e.child,e.child=l):(n=a.last,n!==null?n.sibling=l:e.child=l,a.last=l)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Lt(),e.sibling=null,n=Nt.current,vt(Nt,r?n&1|2:n&1),e):(xn(e),null);case 22:case 23:return Em(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&(e.mode&1)!==0?(Zn&1073741824)!==0&&(xn(e),e.subtreeFlags&6&&(e.flags|=8192)):xn(e),null;case 24:return null;case 25:return null}throw Error(pe(156,e.tag))}function kN(t,e){switch(rm(e),e.tag){case 1:return Yn(e.type)&&Gu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return js(),kt(Kn),kt(Tn),hm(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 5:return dm(e),null;case 13:if(kt(Nt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(pe(340));Fs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return kt(Nt),null;case 4:return js(),null;case 10:return om(e.type._context),null;case 22:case 23:return Em(),null;case 24:return null;default:return null}}var Jc=!1,En=!1,SN=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function ys(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Mt(t,e,r)}else n.current=null}function I_(t,e,n){try{n()}catch(r){Mt(t,e,r)}}var oy=!1;function CN(t,e){if(f_=Hu,t=Ew(),tm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var l=0,h=-1,_=-1,g=0,k=0,C=t,T=null;t:for(;;){for(var O;C!==n||i!==0&&C.nodeType!==3||(h=l+i),C!==a||r!==0&&C.nodeType!==3||(_=l+r),C.nodeType===3&&(l+=C.nodeValue.length),(O=C.firstChild)!==null;)T=C,C=O;for(;;){if(C===t)break t;if(T===n&&++g===i&&(h=l),T===a&&++k===r&&(_=l),(O=C.nextSibling)!==null)break;C=T,T=C.parentNode}C=O}n=h===-1||_===-1?null:{start:h,end:_}}else n=null}n=n||{start:0,end:0}}else n=null;for(__={focusedElem:t,selectionRange:n},Hu=!1,Ae=e;Ae!==null;)if(e=Ae,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ae=t;else for(;Ae!==null;){e=Ae;try{var L=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(L!==null){var N=L.memoizedProps,P=L.memoizedState,I=e.stateNode,A=I.getSnapshotBeforeUpdate(e.elementType===e.type?N:Cr(e.type,N),P);I.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var R=e.stateNode.containerInfo;R.nodeType===1?R.textContent="":R.nodeType===9&&R.documentElement&&R.removeChild(R.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(pe(163))}}catch(V){Mt(e,e.return,V)}if(t=e.sibling,t!==null){t.return=e.return,Ae=t;break}Ae=e.return}return L=oy,oy=!1,L}function Jo(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&I_(e,n,a)}i=i.next}while(i!==r)}}function Hd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function A_(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function bx(t){var e=t.alternate;e!==null&&(t.alternate=null,bx(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Vr],delete e[bl],delete e[g_],delete e[lN],delete e[cN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function wx(t){return t.tag===5||t.tag===3||t.tag===4}function ly(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||wx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function O_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Wu));else if(r!==4&&(t=t.child,t!==null))for(O_(t,e,n),t=t.sibling;t!==null;)O_(t,e,n),t=t.sibling}function M_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(M_(t,e,n),t=t.sibling;t!==null;)M_(t,e,n),t=t.sibling}var on=null,Tr=!1;function ki(t,e,n){for(n=n.child;n!==null;)xx(t,e,n),n=n.sibling}function xx(t,e,n){if(Hr&&typeof Hr.onCommitFiberUnmount=="function")try{Hr.onCommitFiberUnmount(Ld,n)}catch{}switch(n.tag){case 5:En||ys(n,e);case 6:var r=on,i=Tr;on=null,ki(t,e,n),on=r,Tr=i,on!==null&&(Tr?(t=on,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):on.removeChild(n.stateNode));break;case 18:on!==null&&(Tr?(t=on,n=n.stateNode,t.nodeType===8?rf(t.parentNode,n):t.nodeType===1&&rf(t,n),pl(t)):rf(on,n.stateNode));break;case 4:r=on,i=Tr,on=n.stateNode.containerInfo,Tr=!0,ki(t,e,n),on=r,Tr=i;break;case 0:case 11:case 14:case 15:if(!En&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,l=a.destroy;a=a.tag,l!==void 0&&((a&2)!==0||(a&4)!==0)&&I_(n,e,l),i=i.next}while(i!==r)}ki(t,e,n);break;case 1:if(!En&&(ys(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(h){Mt(n,e,h)}ki(t,e,n);break;case 21:ki(t,e,n);break;case 22:n.mode&1?(En=(r=En)||n.memoizedState!==null,ki(t,e,n),En=r):ki(t,e,n);break;default:ki(t,e,n)}}function cy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new SN),e.forEach(function(r){var i=LN.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Er(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,l=e,h=l;e:for(;h!==null;){switch(h.tag){case 5:on=h.stateNode,Tr=!1;break e;case 3:on=h.stateNode.containerInfo,Tr=!0;break e;case 4:on=h.stateNode.containerInfo,Tr=!0;break e}h=h.return}if(on===null)throw Error(pe(160));xx(a,l,i),on=null,Tr=!1;var _=i.alternate;_!==null&&(_.return=null),i.return=null}catch(g){Mt(i,e,g)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Ex(e,t),e=e.sibling}function Ex(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Er(e,t),Ur(t),r&4){try{Jo(3,t,t.return),Hd(3,t)}catch(N){Mt(t,t.return,N)}try{Jo(5,t,t.return)}catch(N){Mt(t,t.return,N)}}break;case 1:Er(e,t),Ur(t),r&512&&n!==null&&ys(n,n.return);break;case 5:if(Er(e,t),Ur(t),r&512&&n!==null&&ys(n,n.return),t.flags&32){var i=t.stateNode;try{dl(i,"")}catch(N){Mt(t,t.return,N)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,l=n!==null?n.memoizedProps:a,h=t.type,_=t.updateQueue;if(t.updateQueue=null,_!==null)try{h==="input"&&a.type==="radio"&&a.name!=null&&Bb(i,a),r_(h,l);var g=r_(h,a);for(l=0;l<_.length;l+=2){var k=_[l],C=_[l+1];k==="style"?Yb(i,C):k==="dangerouslySetInnerHTML"?Gb(i,C):k==="children"?dl(i,C):zp(i,k,C,g)}switch(h){case"input":Xf(i,a);break;case"textarea":qb(i,a);break;case"select":var T=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var O=a.value;O!=null?ks(i,!!a.multiple,O,!1):T!==!!a.multiple&&(a.defaultValue!=null?ks(i,!!a.multiple,a.defaultValue,!0):ks(i,!!a.multiple,a.multiple?[]:"",!1))}i[bl]=a}catch(N){Mt(t,t.return,N)}}break;case 6:if(Er(e,t),Ur(t),r&4){if(t.stateNode===null)throw Error(pe(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(N){Mt(t,t.return,N)}}break;case 3:if(Er(e,t),Ur(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{pl(e.containerInfo)}catch(N){Mt(t,t.return,N)}break;case 4:Er(e,t),Ur(t);break;case 13:Er(e,t),Ur(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(wm=Lt())),r&4&&cy(t);break;case 22:if(k=n!==null&&n.memoizedState!==null,t.mode&1?(En=(g=En)||k,Er(e,t),En=g):Er(e,t),Ur(t),r&8192){if(g=t.memoizedState!==null,(t.stateNode.isHidden=g)&&!k&&(t.mode&1)!==0)for(Ae=t,k=t.child;k!==null;){for(C=Ae=k;Ae!==null;){switch(T=Ae,O=T.child,T.tag){case 0:case 11:case 14:case 15:Jo(4,T,T.return);break;case 1:ys(T,T.return);var L=T.stateNode;if(typeof L.componentWillUnmount=="function"){r=T,n=T.return;try{e=r,L.props=e.memoizedProps,L.state=e.memoizedState,L.componentWillUnmount()}catch(N){Mt(r,n,N)}}break;case 5:ys(T,T.return);break;case 22:if(T.memoizedState!==null){dy(C);continue}}O!==null?(O.return=T,Ae=O):dy(C)}k=k.sibling}e:for(k=null,C=t;;){if(C.tag===5){if(k===null){k=C;try{i=C.stateNode,g?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(h=C.stateNode,_=C.memoizedProps.style,l=_!=null&&_.hasOwnProperty("display")?_.display:null,h.style.display=Kb("display",l))}catch(N){Mt(t,t.return,N)}}}else if(C.tag===6){if(k===null)try{C.stateNode.nodeValue=g?"":C.memoizedProps}catch(N){Mt(t,t.return,N)}}else if((C.tag!==22&&C.tag!==23||C.memoizedState===null||C===t)&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===t)break e;for(;C.sibling===null;){if(C.return===null||C.return===t)break e;k===C&&(k=null),C=C.return}k===C&&(k=null),C.sibling.return=C.return,C=C.sibling}}break;case 19:Er(e,t),Ur(t),r&4&&cy(t);break;case 21:break;default:Er(e,t),Ur(t)}}function Ur(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(wx(n)){var r=n;break e}n=n.return}throw Error(pe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(dl(i,""),r.flags&=-33);var a=ly(t);M_(t,a,i);break;case 3:case 4:var l=r.stateNode.containerInfo,h=ly(t);O_(t,h,l);break;default:throw Error(pe(161))}}catch(_){Mt(t,t.return,_)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function TN(t,e,n){Ae=t,kx(t)}function kx(t,e,n){for(var r=(t.mode&1)!==0;Ae!==null;){var i=Ae,a=i.child;if(i.tag===22&&r){var l=i.memoizedState!==null||Jc;if(!l){var h=i.alternate,_=h!==null&&h.memoizedState!==null||En;h=Jc;var g=En;if(Jc=l,(En=_)&&!g)for(Ae=i;Ae!==null;)l=Ae,_=l.child,l.tag===22&&l.memoizedState!==null?hy(i):_!==null?(_.return=l,Ae=_):hy(i);for(;a!==null;)Ae=a,kx(a),a=a.sibling;Ae=i,Jc=h,En=g}uy(t)}else(i.subtreeFlags&8772)!==0&&a!==null?(a.return=i,Ae=a):uy(t)}}function uy(t){for(;Ae!==null;){var e=Ae;if((e.flags&8772)!==0){var n=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:En||Hd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!En)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Cr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&Gv(e,a,r);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Gv(e,l,n)}break;case 5:var h=e.stateNode;if(n===null&&e.flags&4){n=h;var _=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":_.autoFocus&&n.focus();break;case"img":_.src&&(n.src=_.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var g=e.alternate;if(g!==null){var k=g.memoizedState;if(k!==null){var C=k.dehydrated;C!==null&&pl(C)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(pe(163))}En||e.flags&512&&A_(e)}catch(T){Mt(e,e.return,T)}}if(e===t){Ae=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ae=n;break}Ae=e.return}}function dy(t){for(;Ae!==null;){var e=Ae;if(e===t){Ae=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ae=n;break}Ae=e.return}}function hy(t){for(;Ae!==null;){var e=Ae;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Hd(4,e)}catch(_){Mt(e,n,_)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(_){Mt(e,i,_)}}var a=e.return;try{A_(e)}catch(_){Mt(e,a,_)}break;case 5:var l=e.return;try{A_(e)}catch(_){Mt(e,l,_)}}}catch(_){Mt(e,e.return,_)}if(e===t){Ae=null;break}var h=e.sibling;if(h!==null){h.return=e.return,Ae=h;break}Ae=e.return}}var NN=Math.ceil,rd=yi.ReactCurrentDispatcher,ym=yi.ReactCurrentOwner,gr=yi.ReactCurrentBatchConfig,ct=0,nn=null,Vt=null,un=0,Zn=0,bs=ua(0),Wt=0,Cl=null,Ua=0,Bd=0,bm=0,Qo=null,qn=null,wm=0,zs=1/0,Xr=null,id=!1,P_=null,Wi=null,Qc=!1,Fi=null,ad=0,Xo=0,L_=null,ku=-1,Su=0;function $n(){return(ct&6)!==0?Lt():ku!==-1?ku:ku=Lt()}function Gi(t){return(t.mode&1)===0?1:(ct&2)!==0&&un!==0?un&-un:dN.transition!==null?(Su===0&&(Su=ow()),Su):(t=_t,t!==0||(t=window.event,t=t===void 0?16:_w(t.type)),t)}function Ar(t,e,n,r){if(50<Xo)throw Xo=0,L_=null,Error(pe(185));Ql(t,n,r),((ct&2)===0||t!==nn)&&(t===nn&&((ct&2)===0&&(Bd|=n),Wt===4&&Ai(t,un)),Jn(t,r),n===1&&ct===0&&(e.mode&1)===0&&(zs=Lt()+500,jd&&da()))}function Jn(t,e){var n=t.callbackNode;dT(t,e);var r=zu(t,t===nn?un:0);if(r===0)n!==null&&wv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&wv(n),e===1)t.tag===0?uN(fy.bind(null,t)):Mw(fy.bind(null,t)),sN(function(){(ct&6)===0&&da()}),n=null;else{switch(lw(r)){case 1:n=Gp;break;case 4:n=aw;break;case 16:n=Vu;break;case 536870912:n=sw;break;default:n=Vu}n=Ox(n,Sx.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Sx(t,e){if(ku=-1,Su=0,(ct&6)!==0)throw Error(pe(327));var n=t.callbackNode;if(Ds()&&t.callbackNode!==n)return null;var r=zu(t,t===nn?un:0);if(r===0)return null;if((r&30)!==0||(r&t.expiredLanes)!==0||e)e=sd(t,r);else{e=r;var i=ct;ct|=2;var a=Tx();(nn!==t||un!==e)&&(Xr=null,zs=Lt()+500,Aa(t,e));do try{AN();break}catch(h){Cx(t,h)}while(1);sm(),rd.current=a,ct=i,Vt!==null?e=0:(nn=null,un=0,e=Wt)}if(e!==0){if(e===2&&(i=l_(t),i!==0&&(r=i,e=R_(t,i))),e===1)throw n=Cl,Aa(t,0),Ai(t,r),Jn(t,Lt()),n;if(e===6)Ai(t,r);else{if(i=t.current.alternate,(r&30)===0&&!DN(i)&&(e=sd(t,r),e===2&&(a=l_(t),a!==0&&(r=a,e=R_(t,a))),e===1))throw n=Cl,Aa(t,0),Ai(t,r),Jn(t,Lt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(pe(345));case 2:wa(t,qn,Xr);break;case 3:if(Ai(t,r),(r&130023424)===r&&(e=wm+500-Lt(),10<e)){if(zu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){$n(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=m_(wa.bind(null,t,qn,Xr),e);break}wa(t,qn,Xr);break;case 4:if(Ai(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var l=31-Ir(r);a=1<<l,l=e[l],l>i&&(i=l),r&=~a}if(r=i,r=Lt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*NN(r/1960))-r,10<r){t.timeoutHandle=m_(wa.bind(null,t,qn,Xr),r);break}wa(t,qn,Xr);break;case 5:wa(t,qn,Xr);break;default:throw Error(pe(329))}}}return Jn(t,Lt()),t.callbackNode===n?Sx.bind(null,t):null}function R_(t,e){var n=Qo;return t.current.memoizedState.isDehydrated&&(Aa(t,e).flags|=256),t=sd(t,e),t!==2&&(e=qn,qn=n,e!==null&&$_(e)),t}function $_(t){qn===null?qn=t:qn.push.apply(qn,t)}function DN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Mr(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ai(t,e){for(e&=~bm,e&=~Bd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ir(e),r=1<<n;t[n]=-1,e&=~r}}function fy(t){if((ct&6)!==0)throw Error(pe(327));Ds();var e=zu(t,0);if((e&1)===0)return Jn(t,Lt()),null;var n=sd(t,e);if(t.tag!==0&&n===2){var r=l_(t);r!==0&&(e=r,n=R_(t,r))}if(n===1)throw n=Cl,Aa(t,0),Ai(t,e),Jn(t,Lt()),n;if(n===6)throw Error(pe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,wa(t,qn,Xr),Jn(t,Lt()),null}function xm(t,e){var n=ct;ct|=1;try{return t(e)}finally{ct=n,ct===0&&(zs=Lt()+500,jd&&da())}}function ja(t){Fi!==null&&Fi.tag===0&&(ct&6)===0&&Ds();var e=ct;ct|=1;var n=gr.transition,r=_t;try{if(gr.transition=null,_t=1,t)return t()}finally{_t=r,gr.transition=n,ct=e,(ct&6)===0&&da()}}function Em(){Zn=bs.current,kt(bs)}function Aa(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,aN(n)),Vt!==null)for(n=Vt.return;n!==null;){var r=n;switch(rm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Gu();break;case 3:js(),kt(Kn),kt(Tn),hm();break;case 5:dm(r);break;case 4:js();break;case 13:kt(Nt);break;case 19:kt(Nt);break;case 10:om(r.type._context);break;case 22:case 23:Em()}n=n.return}if(nn=t,Vt=t=Ki(t.current,null),un=Zn=e,Wt=0,Cl=null,bm=Bd=Ua=0,qn=Qo=null,Sa!==null){for(e=0;e<Sa.length;e++)if(n=Sa[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var l=a.next;a.next=i,r.next=l}n.pending=r}Sa=null}return t}function Cx(t,e){do{var n=Vt;try{if(sm(),wu.current=nd,td){for(var r=Dt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}td=!1}if(Fa=0,en=qt=Dt=null,Yo=!1,El=0,ym.current=null,n===null||n.return===null){Wt=1,Cl=e,Vt=null;break}e:{var a=t,l=n.return,h=n,_=e;if(e=un,h.flags|=32768,_!==null&&typeof _=="object"&&typeof _.then=="function"){var g=_,k=h,C=k.tag;if((k.mode&1)===0&&(C===0||C===11||C===15)){var T=k.alternate;T?(k.updateQueue=T.updateQueue,k.memoizedState=T.memoizedState,k.lanes=T.lanes):(k.updateQueue=null,k.memoizedState=null)}var O=ey(l);if(O!==null){O.flags&=-257,ty(O,l,h,a,e),O.mode&1&&Zv(a,g,e),e=O,_=g;var L=e.updateQueue;if(L===null){var N=new Set;N.add(_),e.updateQueue=N}else L.add(_);break e}else{if((e&1)===0){Zv(a,g,e),km();break e}_=Error(pe(426))}}else if(St&&h.mode&1){var P=ey(l);if(P!==null){(P.flags&65536)===0&&(P.flags|=256),ty(P,l,h,a,e),im(Vs(_,h));break e}}a=_=Vs(_,h),Wt!==4&&(Wt=2),Qo===null?Qo=[a]:Qo.push(a),a=l;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var I=cx(a,_,e);Wv(a,I);break e;case 1:h=_;var A=a.type,R=a.stateNode;if((a.flags&128)===0&&(typeof A.getDerivedStateFromError=="function"||R!==null&&typeof R.componentDidCatch=="function"&&(Wi===null||!Wi.has(R)))){a.flags|=65536,e&=-e,a.lanes|=e;var V=ux(a,h,e);Wv(a,V);break e}}a=a.return}while(a!==null)}Dx(n)}catch(j){e=j,Vt===n&&n!==null&&(Vt=n=n.return);continue}break}while(1)}function Tx(){var t=rd.current;return rd.current=nd,t===null?nd:t}function km(){(Wt===0||Wt===3||Wt===2)&&(Wt=4),nn===null||(Ua&268435455)===0&&(Bd&268435455)===0||Ai(nn,un)}function sd(t,e){var n=ct;ct|=2;var r=Tx();(nn!==t||un!==e)&&(Xr=null,Aa(t,e));do try{IN();break}catch(i){Cx(t,i)}while(1);if(sm(),ct=n,rd.current=r,Vt!==null)throw Error(pe(261));return nn=null,un=0,Wt}function IN(){for(;Vt!==null;)Nx(Vt)}function AN(){for(;Vt!==null&&!nT();)Nx(Vt)}function Nx(t){var e=Ax(t.alternate,t,Zn);t.memoizedProps=t.pendingProps,e===null?Dx(t):Vt=e,ym.current=null}function Dx(t){var e=t;do{var n=e.alternate;if(t=e.return,(e.flags&32768)===0){if(n=EN(n,e,Zn),n!==null){Vt=n;return}}else{if(n=kN(n,e),n!==null){n.flags&=32767,Vt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Wt=6,Vt=null;return}}if(e=e.sibling,e!==null){Vt=e;return}Vt=e=t}while(e!==null);Wt===0&&(Wt=5)}function wa(t,e,n){var r=_t,i=gr.transition;try{gr.transition=null,_t=1,ON(t,e,n,r)}finally{gr.transition=i,_t=r}return null}function ON(t,e,n,r){do Ds();while(Fi!==null);if((ct&6)!==0)throw Error(pe(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(pe(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(hT(t,a),t===nn&&(Vt=nn=null,un=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||Qc||(Qc=!0,Ox(Vu,function(){return Ds(),null})),a=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||a){a=gr.transition,gr.transition=null;var l=_t;_t=1;var h=ct;ct|=4,ym.current=null,CN(t,n),Ex(n,t),XT(__),Hu=!!f_,__=f_=null,t.current=n,TN(n),rT(),ct=h,_t=l,gr.transition=a}else t.current=n;if(Qc&&(Qc=!1,Fi=t,ad=i),a=t.pendingLanes,a===0&&(Wi=null),sT(n.stateNode),Jn(t,Lt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(id)throw id=!1,t=P_,P_=null,t;return(ad&1)!==0&&t.tag!==0&&Ds(),a=t.pendingLanes,(a&1)!==0?t===L_?Xo++:(Xo=0,L_=t):Xo=0,da(),null}function Ds(){if(Fi!==null){var t=lw(ad),e=gr.transition,n=_t;try{if(gr.transition=null,_t=16>t?16:t,Fi===null)var r=!1;else{if(t=Fi,Fi=null,ad=0,(ct&6)!==0)throw Error(pe(331));var i=ct;for(ct|=4,Ae=t.current;Ae!==null;){var a=Ae,l=a.child;if((Ae.flags&16)!==0){var h=a.deletions;if(h!==null){for(var _=0;_<h.length;_++){var g=h[_];for(Ae=g;Ae!==null;){var k=Ae;switch(k.tag){case 0:case 11:case 15:Jo(8,k,a)}var C=k.child;if(C!==null)C.return=k,Ae=C;else for(;Ae!==null;){k=Ae;var T=k.sibling,O=k.return;if(bx(k),k===g){Ae=null;break}if(T!==null){T.return=O,Ae=T;break}Ae=O}}}var L=a.alternate;if(L!==null){var N=L.child;if(N!==null){L.child=null;do{var P=N.sibling;N.sibling=null,N=P}while(N!==null)}}Ae=a}}if((a.subtreeFlags&2064)!==0&&l!==null)l.return=a,Ae=l;else e:for(;Ae!==null;){if(a=Ae,(a.flags&2048)!==0)switch(a.tag){case 0:case 11:case 15:Jo(9,a,a.return)}var I=a.sibling;if(I!==null){I.return=a.return,Ae=I;break e}Ae=a.return}}var A=t.current;for(Ae=A;Ae!==null;){l=Ae;var R=l.child;if((l.subtreeFlags&2064)!==0&&R!==null)R.return=l,Ae=R;else e:for(l=A;Ae!==null;){if(h=Ae,(h.flags&2048)!==0)try{switch(h.tag){case 0:case 11:case 15:Hd(9,h)}}catch(j){Mt(h,h.return,j)}if(h===l){Ae=null;break e}var V=h.sibling;if(V!==null){V.return=h.return,Ae=V;break e}Ae=h.return}}if(ct=i,da(),Hr&&typeof Hr.onPostCommitFiberRoot=="function")try{Hr.onPostCommitFiberRoot(Ld,t)}catch{}r=!0}return r}finally{_t=n,gr.transition=e}}return!1}function _y(t,e,n){e=Vs(n,e),e=cx(t,e,1),t=qi(t,e,1),e=$n(),t!==null&&(Ql(t,1,e),Jn(t,e))}function Mt(t,e,n){if(t.tag===3)_y(t,t,n);else for(;e!==null;){if(e.tag===3){_y(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Wi===null||!Wi.has(r))){t=Vs(n,t),t=ux(e,t,1),e=qi(e,t,1),t=$n(),e!==null&&(Ql(e,1,t),Jn(e,t));break}}e=e.return}}function MN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=$n(),t.pingedLanes|=t.suspendedLanes&n,nn===t&&(un&n)===n&&(Wt===4||Wt===3&&(un&130023424)===un&&500>Lt()-wm?Aa(t,0):bm|=n),Jn(t,e)}function Ix(t,e){e===0&&((t.mode&1)===0?e=1:(e=Vc,Vc<<=1,(Vc&130023424)===0&&(Vc=4194304)));var n=$n();t=di(t,e),t!==null&&(Ql(t,e,n),Jn(t,n))}function PN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Ix(t,n)}function LN(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(pe(314))}r!==null&&r.delete(e),Ix(t,n)}var Ax;Ax=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Kn.current)Gn=!0;else{if((t.lanes&n)===0&&(e.flags&128)===0)return Gn=!1,xN(t,e,n);Gn=(t.flags&131072)!==0}else Gn=!1,St&&(e.flags&1048576)!==0&&Pw(e,Ju,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Eu(t,e),t=e.pendingProps;var i=$s(e,Tn.current);Ns(e,n),i=_m(null,e,r,t,i,n);var a=pm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Yn(r)?(a=!0,Ku(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,cm(e),i.updater=Vd,e.stateNode=i,i._reactInternals=e,E_(e,r,t,n),e=C_(null,e,r,!0,a,n)):(e.tag=0,St&&a&&nm(e),Dn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Eu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=$N(r),t=Cr(r,t),i){case 0:e=S_(null,e,r,t,n);break e;case 1:e=iy(null,e,r,t,n);break e;case 11:e=ny(null,e,r,t,n);break e;case 14:e=ry(null,e,r,Cr(r.type,t),n);break e}throw Error(pe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Cr(r,i),S_(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Cr(r,i),iy(t,e,r,i,n);case 3:e:{if(_x(e),t===null)throw Error(pe(387));r=e.pendingProps,a=e.memoizedState,i=a.element,Fw(t,e),Zu(e,r,null,n);var l=e.memoizedState;if(r=l.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Vs(Error(pe(423)),e),e=ay(t,e,r,n,i);break e}else if(r!==i){i=Vs(Error(pe(424)),e),e=ay(t,e,r,n,i);break e}else for(tr=Bi(e.stateNode.containerInfo.firstChild),nr=e,St=!0,Nr=null,n=zw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Fs(),r===i){e=hi(t,e,n);break e}Dn(t,e,r,n)}e=e.child}return e;case 5:return Hw(e),t===null&&b_(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,l=i.children,p_(r,i)?l=null:a!==null&&p_(r,a)&&(e.flags|=32),fx(t,e),Dn(t,e,l,n),e.child;case 6:return t===null&&b_(e),null;case 13:return px(t,e,n);case 4:return um(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Us(e,null,r,n):Dn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Cr(r,i),ny(t,e,r,i,n);case 7:return Dn(t,e,e.pendingProps,n),e.child;case 8:return Dn(t,e,e.pendingProps.children,n),e.child;case 12:return Dn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,l=i.value,vt(Qu,r._currentValue),r._currentValue=l,a!==null)if(Mr(a.value,l)){if(a.children===i.children&&!Kn.current){e=hi(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var h=a.dependencies;if(h!==null){l=a.child;for(var _=h.firstContext;_!==null;){if(_.context===r){if(a.tag===1){_=si(-1,n&-n),_.tag=2;var g=a.updateQueue;if(g!==null){g=g.shared;var k=g.pending;k===null?_.next=_:(_.next=k.next,k.next=_),g.pending=_}}a.lanes|=n,_=a.alternate,_!==null&&(_.lanes|=n),w_(a.return,n,e),h.lanes|=n;break}_=_.next}}else if(a.tag===10)l=a.type===e.type?null:a.child;else if(a.tag===18){if(l=a.return,l===null)throw Error(pe(341));l.lanes|=n,h=l.alternate,h!==null&&(h.lanes|=n),w_(l,n,e),l=a.sibling}else l=a.child;if(l!==null)l.return=a;else for(l=a;l!==null;){if(l===e){l=null;break}if(a=l.sibling,a!==null){a.return=l.return,l=a;break}l=l.return}a=l}Dn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ns(e,n),i=br(i),r=r(i),e.flags|=1,Dn(t,e,r,n),e.child;case 14:return r=e.type,i=Cr(r,e.pendingProps),i=Cr(r.type,i),ry(t,e,r,i,n);case 15:return dx(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Cr(r,i),Eu(t,e),e.tag=1,Yn(r)?(t=!0,Ku(e)):t=!1,Ns(e,n),jw(e,r,i),E_(e,r,i,n),C_(null,e,r,!0,t,n);case 19:return mx(t,e,n);case 22:return hx(t,e,n)}throw Error(pe(156,e.tag))};function Ox(t,e){return iw(t,e)}function RN(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pr(t,e,n,r){return new RN(t,e,n,r)}function Sm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $N(t){if(typeof t=="function")return Sm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Bp)return 11;if(t===qp)return 14}return 2}function Ki(t,e){var n=t.alternate;return n===null?(n=pr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Cu(t,e,n,r,i,a){var l=2;if(r=t,typeof t=="function")Sm(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case us:return Oa(n.children,i,a,e);case Hp:l=8,i|=8;break;case Gf:return t=pr(12,n,e,i|2),t.elementType=Gf,t.lanes=a,t;case Kf:return t=pr(13,n,e,i),t.elementType=Kf,t.lanes=a,t;case Yf:return t=pr(19,n,e,i),t.elementType=Yf,t.lanes=a,t;case Vb:return qd(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ub:l=10;break e;case jb:l=9;break e;case Bp:l=11;break e;case qp:l=14;break e;case Ti:l=16,r=null;break e}throw Error(pe(130,t==null?t:typeof t,""))}return e=pr(l,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function Oa(t,e,n,r){return t=pr(7,t,r,e),t.lanes=n,t}function qd(t,e,n,r){return t=pr(22,t,r,e),t.elementType=Vb,t.lanes=n,t.stateNode={isHidden:!1},t}function hf(t,e,n){return t=pr(6,t,null,e),t.lanes=n,t}function ff(t,e,n){return e=pr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function FN(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wh(0),this.expirationTimes=Wh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Cm(t,e,n,r,i,a,l,h,_){return t=new FN(t,e,n,h,_),e===1?(e=1,a===!0&&(e|=8)):e=0,a=pr(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},cm(a),t}function UN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:cs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Mx(t){if(!t)return ra;t=t._reactInternals;e:{if(Xa(t)!==t||t.tag!==1)throw Error(pe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Yn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(pe(171))}if(t.tag===1){var n=t.type;if(Yn(n))return Ow(t,n,e)}return e}function Px(t,e,n,r,i,a,l,h,_){return t=Cm(n,r,!0,t,i,a,l,h,_),t.context=Mx(null),n=t.current,r=$n(),i=Gi(n),a=si(r,i),a.callback=e!=null?e:null,qi(n,a,i),t.current.lanes=i,Ql(t,i,r),Jn(t,r),t}function Wd(t,e,n,r){var i=e.current,a=$n(),l=Gi(i);return n=Mx(n),e.context===null?e.context=n:e.pendingContext=n,e=si(a,l),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=qi(i,e,l),t!==null&&(Ar(t,i,l,a),bu(t,i,l)),l}function od(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function py(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Tm(t,e){py(t,e),(t=t.alternate)&&py(t,e)}function jN(){return null}var Lx=typeof reportError=="function"?reportError:function(t){console.error(t)};function Nm(t){this._internalRoot=t}Gd.prototype.render=Nm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(pe(409));Wd(t,e,null,null)};Gd.prototype.unmount=Nm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ja(function(){Wd(null,t,null,null)}),e[ui]=null}};function Gd(t){this._internalRoot=t}Gd.prototype.unstable_scheduleHydration=function(t){if(t){var e=dw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ii.length&&e!==0&&e<Ii[n].priority;n++);Ii.splice(n,0,t),n===0&&fw(t)}};function Dm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Kd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function my(){}function VN(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var g=od(l);a.call(g)}}var l=Px(e,r,t,0,null,!1,!1,"",my);return t._reactRootContainer=l,t[ui]=l.current,vl(t.nodeType===8?t.parentNode:t),ja(),l}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var h=r;r=function(){var g=od(_);h.call(g)}}var _=Cm(t,0,!1,null,null,!1,!1,"",my);return t._reactRootContainer=_,t[ui]=_.current,vl(t.nodeType===8?t.parentNode:t),ja(function(){Wd(e,_,n,r)}),_}function Yd(t,e,n,r,i){var a=n._reactRootContainer;if(a){var l=a;if(typeof i=="function"){var h=i;i=function(){var _=od(l);h.call(_)}}Wd(e,l,t,i)}else l=VN(n,e,t,i,r);return od(l)}cw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Lo(e.pendingLanes);n!==0&&(Kp(e,n|1),Jn(e,Lt()),(ct&6)===0&&(zs=Lt()+500,da()))}break;case 13:ja(function(){var r=di(t,1);if(r!==null){var i=$n();Ar(r,t,1,i)}}),Tm(t,1)}};Yp=function(t){if(t.tag===13){var e=di(t,134217728);if(e!==null){var n=$n();Ar(e,t,134217728,n)}Tm(t,134217728)}};uw=function(t){if(t.tag===13){var e=Gi(t),n=di(t,e);if(n!==null){var r=$n();Ar(n,t,e,r)}Tm(t,e)}};dw=function(){return _t};hw=function(t,e){var n=_t;try{return _t=t,e()}finally{_t=n}};a_=function(t,e,n){switch(e){case"input":if(Xf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ud(r);if(!i)throw Error(pe(90));Hb(r),Xf(r,i)}}}break;case"textarea":qb(t,n);break;case"select":e=n.value,e!=null&&ks(t,!!n.multiple,e,!1)}};Xb=xm;Zb=ja;var zN={usingClientEntryPoint:!1,Events:[Zl,_s,Ud,Jb,Qb,xm]},Co={findFiberByHostInstance:ka,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},HN={bundleType:Co.bundleType,version:Co.version,rendererPackageName:Co.rendererPackageName,rendererConfig:Co.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:yi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=nw(t),t===null?null:t.stateNode},findFiberByHostInstance:Co.findFiberByHostInstance||jN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xc.isDisabled&&Xc.supportsFiber)try{Ld=Xc.inject(HN),Hr=Xc}catch{}}sr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zN;sr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dm(e))throw Error(pe(200));return UN(t,e,null,n)};sr.createRoot=function(t,e){if(!Dm(t))throw Error(pe(299));var n=!1,r="",i=Lx;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Cm(t,1,!1,null,null,n,!1,r,i),t[ui]=e.current,vl(t.nodeType===8?t.parentNode:t),new Nm(e)};sr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(pe(188)):(t=Object.keys(t).join(","),Error(pe(268,t)));return t=nw(e),t=t===null?null:t.stateNode,t};sr.flushSync=function(t){return ja(t)};sr.hydrate=function(t,e,n){if(!Kd(e))throw Error(pe(200));return Yd(null,t,e,!0,n)};sr.hydrateRoot=function(t,e,n){if(!Dm(t))throw Error(pe(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",l=Lx;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=Px(e,null,t,1,n!=null?n:null,i,!1,a,l),t[ui]=e.current,vl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Gd(e)};sr.render=function(t,e,n){if(!Kd(e))throw Error(pe(200));return Yd(null,t,e,!1,n)};sr.unmountComponentAtNode=function(t){if(!Kd(t))throw Error(pe(40));return t._reactRootContainer?(ja(function(){Yd(null,null,t,!1,function(){t._reactRootContainer=null,t[ui]=null})}),!0):!1};sr.unstable_batchedUpdates=xm;sr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Kd(n))throw Error(pe(200));if(t==null||t._reactInternals===void 0)throw Error(pe(38));return Yd(t,e,n,!1,r)};sr.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=sr})(Pb);var gy=Pb.exports;qf.createRoot=gy.createRoot,qf.hydrateRoot=gy.hydrateRoot;function ld(){return ld=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ld.apply(this,arguments)}var Ta;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ta||(Ta={}));var vy=function(t){return t},yy="beforeunload",BN="popstate";function qN(t){t===void 0&&(t={});var e=t,n=e.window,r=n===void 0?document.defaultView:n,i=r.history;function a(){var z=r.location,B=z.pathname,K=z.search,Y=z.hash,Z=i.state||{};return[Z.idx,vy({pathname:B,search:K,hash:Y,state:Z.usr||null,key:Z.key||"default"})]}var l=null;function h(){if(l)O.call(l),l=null;else{var z=Ta.Pop,B=a(),K=B[0],Y=B[1];if(O.length){if(K!=null){var Z=k-K;Z&&(l={action:z,location:Y,retry:function(){j(Z*-1)}},j(Z))}}else A(z)}}r.addEventListener(BN,h);var _=Ta.Pop,g=a(),k=g[0],C=g[1],T=wy(),O=wy();k==null&&(k=0,i.replaceState(ld({},i.state,{idx:k}),""));function L(z){return typeof z=="string"?z:F_(z)}function N(z,B){return B===void 0&&(B=null),vy(ld({pathname:C.pathname,hash:"",search:""},typeof z=="string"?Za(z):z,{state:B,key:WN()}))}function P(z,B){return[{usr:z.state,key:z.key,idx:B},L(z)]}function I(z,B,K){return!O.length||(O.call({action:z,location:B,retry:K}),!1)}function A(z){_=z;var B=a();k=B[0],C=B[1],T.call({action:_,location:C})}function R(z,B){var K=Ta.Push,Y=N(z,B);function Z(){R(z,B)}if(I(K,Y,Z)){var X=P(Y,k+1),le=X[0],xe=X[1];try{i.pushState(le,"",xe)}catch{r.location.assign(xe)}A(K)}}function V(z,B){var K=Ta.Replace,Y=N(z,B);function Z(){V(z,B)}if(I(K,Y,Z)){var X=P(Y,k),le=X[0],xe=X[1];i.replaceState(le,"",xe),A(K)}}function j(z){i.go(z)}var W={get action(){return _},get location(){return C},createHref:L,push:R,replace:V,go:j,back:function(){j(-1)},forward:function(){j(1)},listen:function(B){return T.push(B)},block:function(B){var K=O.push(B);return O.length===1&&r.addEventListener(yy,by),function(){K(),O.length||r.removeEventListener(yy,by)}}};return W}function by(t){t.preventDefault(),t.returnValue=""}function wy(){var t=[];return{get length(){return t.length},push:function(n){return t.push(n),function(){t=t.filter(function(r){return r!==n})}},call:function(n){t.forEach(function(r){return r&&r(n)})}}}function WN(){return Math.random().toString(36).substr(2,8)}function F_(t){var e=t.pathname,n=e===void 0?"/":e,r=t.search,i=r===void 0?"":r,a=t.hash,l=a===void 0?"":a;return i&&i!=="?"&&(n+=i.charAt(0)==="?"?i:"?"+i),l&&l!=="#"&&(n+=l.charAt(0)==="#"?l:"#"+l),n}function Za(t){var e={};if(t){var n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));var r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}/**
 * React Router v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Im=oe.exports.createContext(null),Am=oe.exports.createContext(null),Jd=oe.exports.createContext({outlet:null,matches:[]});function Pr(t,e){if(!t)throw new Error(e)}function GN(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Za(e):e,i=Fx(r.pathname||"/",n);if(i==null)return null;let a=Rx(t);KN(a);let l=null;for(let h=0;l==null&&h<a.length;++h)l=rD(a[h],i);return l}function Rx(t,e,n,r){return e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r=""),t.forEach((i,a)=>{let l={relativePath:i.path||"",caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};l.relativePath.startsWith("/")&&(l.relativePath.startsWith(r)||Pr(!1),l.relativePath=l.relativePath.slice(r.length));let h=Yi([r,l.relativePath]),_=n.concat(l);i.children&&i.children.length>0&&(i.index===!0&&Pr(!1),Rx(i.children,e,_,h)),!(i.path==null&&!i.index)&&e.push({path:h,score:tD(h,i.index),routesMeta:_})}),e}function KN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:nD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const YN=/^:\w+$/,JN=3,QN=2,XN=1,ZN=10,eD=-2,xy=t=>t==="*";function tD(t,e){let n=t.split("/"),r=n.length;return n.some(xy)&&(r+=eD),e&&(r+=QN),n.filter(i=>!xy(i)).reduce((i,a)=>i+(YN.test(a)?JN:a===""?XN:ZN),r)}function nD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function rD(t,e){let{routesMeta:n}=t,r={},i="/",a=[];for(let l=0;l<n.length;++l){let h=n[l],_=l===n.length-1,g=i==="/"?e:e.slice(i.length)||"/",k=iD({path:h.relativePath,caseSensitive:h.caseSensitive,end:_},g);if(!k)return null;Object.assign(r,k.params);let C=h.route;a.push({params:r,pathname:Yi([i,k.pathname]),pathnameBase:Ux(Yi([i,k.pathnameBase])),route:C}),k.pathnameBase!=="/"&&(i=Yi([i,k.pathnameBase]))}return a}function iD(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=aD(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),h=i.slice(1);return{params:r.reduce((g,k,C)=>{if(k==="*"){let T=h[C]||"";l=a.slice(0,a.length-T.length).replace(/(.)\/+$/,"$1")}return g[k]=sD(h[C]||""),g},{}),pathname:a,pathnameBase:l,pattern:t}}function aD(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(l,h)=>(r.push(h),"([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)",[new RegExp(i,e?void 0:"i"),r]}function sD(t,e){try{return decodeURIComponent(t)}catch{return t}}function oD(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Za(t):t;return{pathname:n?n.startsWith("/")?n:lD(n,e):e,search:uD(r),hash:dD(i)}}function lD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function $x(t,e,n){let r=typeof t=="string"?Za(t):t,i=t===""||r.pathname===""?"/":r.pathname,a;if(i==null)a=n;else{let h=e.length-1;if(i.startsWith("..")){let _=i.split("/");for(;_[0]==="..";)_.shift(),h-=1;r.pathname=_.join("/")}a=h>=0?e[h]:"/"}let l=oD(r,a);return i&&i!=="/"&&i.endsWith("/")&&!l.pathname.endsWith("/")&&(l.pathname+="/"),l}function cD(t){return t===""||t.pathname===""?"/":typeof t=="string"?Za(t).pathname:t.pathname}function Fx(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=t.charAt(e.length);return n&&n!=="/"?null:t.slice(e.length)||"/"}const Yi=t=>t.join("/").replace(/\/\/+/g,"/"),Ux=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),uD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,dD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function hD(t){no()||Pr(!1);let{basename:e,navigator:n}=oe.exports.useContext(Im),{hash:r,pathname:i,search:a}=jx(t),l=i;if(e!=="/"){let h=cD(t),_=h!=null&&h.endsWith("/");l=i==="/"?e+(_?"/":""):Yi([e,i])}return n.createHref({pathname:l,search:a,hash:r})}function no(){return oe.exports.useContext(Am)!=null}function Qd(){return no()||Pr(!1),oe.exports.useContext(Am).location}function jn(){no()||Pr(!1);let{basename:t,navigator:e}=oe.exports.useContext(Im),{matches:n}=oe.exports.useContext(Jd),{pathname:r}=Qd(),i=JSON.stringify(n.map(h=>h.pathnameBase)),a=oe.exports.useRef(!1);return oe.exports.useEffect(()=>{a.current=!0}),oe.exports.useCallback(function(h,_){if(_===void 0&&(_={}),!a.current)return;if(typeof h=="number"){e.go(h);return}let g=$x(h,JSON.parse(i),r);t!=="/"&&(g.pathname=Yi([t,g.pathname])),(_.replace?e.replace:e.push)(g,_.state)},[t,e,i,r])}function jx(t){let{matches:e}=oe.exports.useContext(Jd),{pathname:n}=Qd(),r=JSON.stringify(e.map(i=>i.pathnameBase));return oe.exports.useMemo(()=>$x(t,JSON.parse(r),n),[t,r,n])}function fD(t,e){no()||Pr(!1);let{matches:n}=oe.exports.useContext(Jd),r=n[n.length-1],i=r?r.params:{};r&&r.pathname;let a=r?r.pathnameBase:"/";r&&r.route;let l=Qd(),h;if(e){var _;let T=typeof e=="string"?Za(e):e;a==="/"||((_=T.pathname)==null?void 0:_.startsWith(a))||Pr(!1),h=T}else h=l;let g=h.pathname||"/",k=a==="/"?g:g.slice(a.length)||"/",C=GN(t,{pathname:k});return _D(C&&C.map(T=>Object.assign({},T,{params:Object.assign({},i,T.params),pathname:Yi([a,T.pathname]),pathnameBase:T.pathnameBase==="/"?a:Yi([a,T.pathnameBase])})),n)}function _D(t,e){return e===void 0&&(e=[]),t==null?null:t.reduceRight((n,r,i)=>oe.exports.createElement(Jd.Provider,{children:r.route.element!==void 0?r.route.element:n,value:{outlet:n,matches:e.concat(t.slice(0,i+1))}}),null)}function Om(t){let{to:e,replace:n,state:r}=t;no()||Pr(!1);let i=jn();return oe.exports.useEffect(()=>{i(e,{replace:n,state:r})}),null}function Qt(t){Pr(!1)}function pD(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ta.Pop,navigator:a,static:l=!1}=t;no()&&Pr(!1);let h=Ux(e),_=oe.exports.useMemo(()=>({basename:h,navigator:a,static:l}),[h,a,l]);typeof r=="string"&&(r=Za(r));let{pathname:g="/",search:k="",hash:C="",state:T=null,key:O="default"}=r,L=oe.exports.useMemo(()=>{let N=Fx(g,h);return N==null?null:{pathname:N,search:k,hash:C,state:T,key:O}},[h,g,k,C,T,O]);return L==null?null:oe.exports.createElement(Im.Provider,{value:_},oe.exports.createElement(Am.Provider,{children:n,value:{location:L,navigationType:i}}))}function mD(t){let{children:e,location:n}=t;return fD(U_(e),n)}function U_(t){let e=[];return oe.exports.Children.forEach(t,n=>{if(!oe.exports.isValidElement(n))return;if(n.type===oe.exports.Fragment){e.push.apply(e,U_(n.props.children));return}n.type!==Qt&&Pr(!1);let r={caseSensitive:n.props.caseSensitive,element:n.props.element,index:n.props.index,path:n.props.path};n.props.children&&(r.children=U_(n.props.children)),e.push(r)}),e}/**
 * React Router DOM v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function j_(){return j_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j_.apply(this,arguments)}function gD(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const vD=["onClick","reloadDocument","replace","state","target","to"];function yD(t){let{basename:e,children:n,window:r}=t,i=oe.exports.useRef();i.current==null&&(i.current=qN({window:r}));let a=i.current,[l,h]=oe.exports.useState({action:a.action,location:a.location});return oe.exports.useLayoutEffect(()=>a.listen(h),[a]),oe.exports.createElement(pD,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:a})}function bD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}const Ft=oe.exports.forwardRef(function(e,n){let{onClick:r,reloadDocument:i,replace:a=!1,state:l,target:h,to:_}=e,g=gD(e,vD),k=hD(_),C=wD(_,{replace:a,state:l,target:h});function T(O){r&&r(O),!O.defaultPrevented&&!i&&C(O)}return oe.exports.createElement("a",j_({},g,{href:k,onClick:T,ref:n,target:h}))});function wD(t,e){let{target:n,replace:r,state:i}=e===void 0?{}:e,a=jn(),l=Qd(),h=jx(t);return oe.exports.useCallback(_=>{if(_.button===0&&(!n||n==="_self")&&!bD(_)){_.preventDefault();let g=!!r||F_(l)===F_(h);a(t,{replace:g,state:i})}},[l,a,h,r,i,n,t])}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},xD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],l=t[n++],h=t[n++],_=((i&7)<<18|(a&63)<<12|(l&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(_>>10)),e[r++]=String.fromCharCode(56320+(_&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},zx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],l=i+1<t.length,h=l?t[i+1]:0,_=i+2<t.length,g=_?t[i+2]:0,k=a>>2,C=(a&3)<<4|h>>4;let T=(h&15)<<2|g>>6,O=g&63;_||(O=64,l||(T=64)),r.push(n[k],n[C],n[T],n[O])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Vx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):xD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],h=i<t.length?n[t.charAt(i)]:0;++i;const g=i<t.length?n[t.charAt(i)]:64;++i;const C=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||h==null||g==null||C==null)throw Error();const T=a<<2|h>>4;if(r.push(T),g!==64){const O=h<<4&240|g>>2;if(r.push(O),C!==64){const L=g<<6&192|C;r.push(L)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},ED=function(t){const e=Vx(t);return zx.encodeByteArray(e,!0)},Hx=function(t){return ED(t).replace(/\./g,"")},kD=function(t){try{return zx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Bx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function qx(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Wx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function CD(){return rn().indexOf("Electron/")>=0}function Gx(){const t=rn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function TD(){return rn().indexOf("MSAppHost/")>=0}function ND(){return typeof indexedDB=="object"}function DD(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID="FirebaseError";class bi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=ID,Object.setPrototypeOf(this,bi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tc.prototype.create)}}class tc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?AD(a,r):"Error",h=`${this.serviceName}: ${l} (${i}).`;return new bi(i,h,r)}}function AD(t,e){return t.replace(OD,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const OD=/\{\$([^}]+)}/g;function MD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function cd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],l=e[i];if(Ey(a)&&Ey(l)){if(!cd(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Ey(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function $o(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Fo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function PD(t,e){const n=new LD(t,e);return n.subscribe.bind(n)}class LD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");RD(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=_f),i.error===void 0&&(i.error=_f),i.complete===void 0&&(i.complete=_f);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function RD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function _f(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(t){return t&&t._delegate?t._delegate:t}class Va{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new SD;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(UD(e))try{this.getOrInitializeService({instanceIdentifier:xa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=xa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xa){return this.instances.has(e)}getOptions(e=xa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&l.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(!!r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:FD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=xa){return this.component?this.component.multipleInstances?e:xa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FD(t){return t===xa?void 0:t}function UD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new $D(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ht||(ht={}));const VD={debug:ht.DEBUG,verbose:ht.VERBOSE,info:ht.INFO,warn:ht.WARN,error:ht.ERROR,silent:ht.SILENT},zD=ht.INFO,HD={[ht.DEBUG]:"log",[ht.VERBOSE]:"log",[ht.INFO]:"info",[ht.WARN]:"warn",[ht.ERROR]:"error"},BD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=HD[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Mm{constructor(e){this.name=e,this._logLevel=zD,this._logHandler=BD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ht))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?VD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ht.DEBUG,...e),this._logHandler(this,ht.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ht.VERBOSE,...e),this._logHandler(this,ht.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ht.INFO,...e),this._logHandler(this,ht.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ht.WARN,...e),this._logHandler(this,ht.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ht.ERROR,...e),this._logHandler(this,ht.ERROR,...e)}}const qD=(t,e)=>e.some(n=>t instanceof n);let ky,Sy;function WD(){return ky||(ky=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GD(){return Sy||(Sy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Kx=new WeakMap,V_=new WeakMap,Yx=new WeakMap,pf=new WeakMap,Pm=new WeakMap;function KD(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(Ji(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&Kx.set(n,t)}).catch(()=>{}),Pm.set(e,t),e}function YD(t){if(V_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});V_.set(t,e)}let z_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return V_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Yx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ji(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function JD(t){z_=t(z_)}function QD(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(mf(this),e,...n);return Yx.set(r,e.sort?e.sort():[e]),Ji(r)}:GD().includes(t)?function(...e){return t.apply(mf(this),e),Ji(Kx.get(this))}:function(...e){return Ji(t.apply(mf(this),e))}}function XD(t){return typeof t=="function"?QD(t):(t instanceof IDBTransaction&&YD(t),qD(t,WD())?new Proxy(t,z_):t)}function Ji(t){if(t instanceof IDBRequest)return KD(t);if(pf.has(t))return pf.get(t);const e=XD(t);return e!==t&&(pf.set(t,e),Pm.set(e,t)),e}const mf=t=>Pm.get(t);function ZD(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(t,e),h=Ji(l);return r&&l.addEventListener("upgradeneeded",_=>{r(Ji(l.result),_.oldVersion,_.newVersion,Ji(l.transaction))}),n&&l.addEventListener("blocked",()=>n()),h.then(_=>{a&&_.addEventListener("close",()=>a()),i&&_.addEventListener("versionchange",()=>i())}).catch(()=>{}),h}const eI=["get","getKey","getAll","getAllKeys","count"],tI=["put","add","delete","clear"],gf=new Map;function Cy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(gf.get(e))return gf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=tI.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||eI.includes(n)))return;const a=async function(l,...h){const _=this.transaction(l,i?"readwrite":"readonly");let g=_.store;return r&&(g=g.index(h.shift())),(await Promise.all([g[n](...h),i&&_.done]))[0]};return gf.set(e,a),a}JD(t=>({...t,get:(e,n,r)=>Cy(e,n)||t.get(e,n,r),has:(e,n)=>!!Cy(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(rI(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function rI(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const H_="@firebase/app",Ty="0.7.32";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za=new Mm("@firebase/app"),iI="@firebase/app-compat",aI="@firebase/analytics-compat",sI="@firebase/analytics",oI="@firebase/app-check-compat",lI="@firebase/app-check",cI="@firebase/auth",uI="@firebase/auth-compat",dI="@firebase/database",hI="@firebase/database-compat",fI="@firebase/functions",_I="@firebase/functions-compat",pI="@firebase/installations",mI="@firebase/installations-compat",gI="@firebase/messaging",vI="@firebase/messaging-compat",yI="@firebase/performance",bI="@firebase/performance-compat",wI="@firebase/remote-config",xI="@firebase/remote-config-compat",EI="@firebase/storage",kI="@firebase/storage-compat",SI="@firebase/firestore",CI="@firebase/firestore-compat",TI="firebase",NI="9.9.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx="[DEFAULT]",DI={[H_]:"fire-core",[iI]:"fire-core-compat",[sI]:"fire-analytics",[aI]:"fire-analytics-compat",[lI]:"fire-app-check",[oI]:"fire-app-check-compat",[cI]:"fire-auth",[uI]:"fire-auth-compat",[dI]:"fire-rtdb",[hI]:"fire-rtdb-compat",[fI]:"fire-fn",[_I]:"fire-fn-compat",[pI]:"fire-iid",[mI]:"fire-iid-compat",[gI]:"fire-fcm",[vI]:"fire-fcm-compat",[yI]:"fire-perf",[bI]:"fire-perf-compat",[wI]:"fire-rc",[xI]:"fire-rc-compat",[EI]:"fire-gcs",[kI]:"fire-gcs-compat",[SI]:"fire-fst",[CI]:"fire-fst-compat","fire-js":"fire-js",[TI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ud=new Map,B_=new Map;function II(t,e){try{t.container.addComponent(e)}catch(n){za.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Hs(t){const e=t.name;if(B_.has(e))return za.debug(`There were multiple attempts to register component ${e}.`),!1;B_.set(e,t);for(const n of ud.values())II(n,t);return!0}function Lm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ha=new tc("app","Firebase",AI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Va("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ha.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rc=NI;function MI(t,e={}){typeof e!="object"&&(e={name:e});const n=Object.assign({name:Jx,automaticDataCollectionEnabled:!1},e),r=n.name;if(typeof r!="string"||!r)throw Ha.create("bad-app-name",{appName:String(r)});const i=ud.get(r);if(i){if(cd(t,i.options)&&cd(n,i.config))return i;throw Ha.create("duplicate-app",{appName:r})}const a=new jD(r);for(const h of B_.values())a.addComponent(h);const l=new OI(t,n,a);return ud.set(r,l),l}function Qx(t=Jx){const e=ud.get(t);if(!e)throw Ha.create("no-app",{appName:t});return e}function Qi(t,e,n){var r;let i=(r=DI[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const h=[`Unable to register library "${i}" with version "${e}":`];a&&h.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&h.push("and"),l&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),za.warn(h.join(" "));return}Hs(new Va(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PI="firebase-heartbeat-database",LI=1,Tl="firebase-heartbeat-store";let vf=null;function Xx(){return vf||(vf=ZD(PI,LI,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Tl)}}}).catch(t=>{throw Ha.create("idb-open",{originalErrorMessage:t.message})})),vf}async function RI(t){var e;try{return(await Xx()).transaction(Tl).objectStore(Tl).get(Zx(t))}catch(n){if(n instanceof bi)za.warn(n.message);else{const r=Ha.create("idb-get",{originalErrorMessage:(e=n)===null||e===void 0?void 0:e.message});za.warn(r.message)}}}async function Ny(t,e){var n;try{const i=(await Xx()).transaction(Tl,"readwrite");return await i.objectStore(Tl).put(e,Zx(t)),i.done}catch(r){if(r instanceof bi)za.warn(r.message);else{const i=Ha.create("idb-set",{originalErrorMessage:(n=r)===null||n===void 0?void 0:n.message});za.warn(i.message)}}}function Zx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I=1024,FI=30*24*60*60*1e3;class UI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new VI(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Dy();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const a=new Date(i.date).valueOf();return Date.now()-a<=FI}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Dy(),{heartbeatsToSend:n,unsentEntries:r}=jI(this._heartbeatsCache.heartbeats),i=Hx(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Dy(){return new Date().toISOString().substring(0,10)}function jI(t,e=$I){const n=[];let r=t.slice();for(const i of t){const a=n.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),Iy(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Iy(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class VI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ND()?DD().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await RI(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ny(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ny(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Iy(t){return Hx(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(t){Hs(new Va("platform-logger",e=>new nI(e),"PRIVATE")),Hs(new Va("heartbeat",e=>new UI(e),"PRIVATE")),Qi(H_,Ty,t),Qi(H_,Ty,"esm2017"),Qi("fire-js","")}zI("");var HI="firebase",BI="9.9.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qi(HI,BI,"app");function Rm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function e1(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qI=e1,t1=new tc("auth","Firebase",e1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay=new Mm("@firebase/auth");function Tu(t,...e){Ay.logLevel<=ht.ERROR&&Ay.error(`Auth (${rc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(t,...e){throw $m(t,...e)}function qr(t,...e){return $m(t,...e)}function WI(t,e,n){const r=Object.assign(Object.assign({},qI()),{[e]:n});return new tc("auth","Firebase",r).create(e,{appName:t.name})}function $m(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return t1.create(t,...e)}function Ge(t,e,...n){if(!t)throw $m(e,...n)}function ni(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Tu(e),new Error(e)}function fi(t,e){t||ni(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oy=new Map;function ri(t){fi(t instanceof Function,"Expected a class definition");let e=Oy.get(t);return e?(fi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Oy.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(t,e){const n=Lm(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(cd(a,e!=null?e:{}))return i;Lr(i,"already-initialized")}return n.initialize({options:e})}function KI(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ri);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function YI(){return My()==="http:"||My()==="https:"}function My(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YI()||qx()||"connection"in navigator)?navigator.onLine:!0}function QI(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,n){this.shortDelay=e,this.longDelay=n,fi(n>e,"Short delay should be less than long delay!"),this.isMobile=Bx()||Wx()}get(){return JI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fm(t,e){fi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;ni("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;ni("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;ni("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=new ic(3e4,6e4);function ac(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function sc(t,e,n,r,i={}){return r1(t,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const h=nc(Object.assign({key:t.config.apiKey},l)).slice(1),_=await t._getAdditionalHeaders();return _["Content-Type"]="application/json",t.languageCode&&(_["X-Firebase-Locale"]=t.languageCode),n1.fetch()(i1(t,t.config.apiHost,n,h),Object.assign({method:e,headers:_,referrerPolicy:"no-referrer"},a))})}async function r1(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},XI),e);try{const i=new eA(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Zc(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const h=a.ok?l.errorMessage:l.error.message,[_,g]=h.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zc(t,"credential-already-in-use",l);if(_==="EMAIL_EXISTS")throw Zc(t,"email-already-in-use",l);if(_==="USER_DISABLED")throw Zc(t,"user-disabled",l);const k=r[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw WI(t,k,g);Lr(t,k)}}catch(i){if(i instanceof bi)throw i;Lr(t,"network-request-failed")}}async function oc(t,e,n,r,i={}){const a=await sc(t,e,n,r,i);return"mfaPendingCredential"in a&&Lr(t,"multi-factor-auth-required",{_serverResponse:a}),a}function i1(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Fm(t.config,i):`${t.config.apiScheme}://${i}`}class eA{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(qr(this.auth,"network-request-failed")),ZI.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Zc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=qr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tA(t,e){return sc(t,"POST","/v1/accounts:delete",e)}async function nA(t,e){return sc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zo(t){if(!!t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rA(t,e=!1){const n=_n(t),r=await n.getIdToken(e),i=Um(r);Ge(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Zo(yf(i.auth_time)),issuedAtTime:Zo(yf(i.iat)),expirationTime:Zo(yf(i.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function yf(t){return Number(t)*1e3}function Um(t){var e;const[n,r,i]=t.split(".");if(n===void 0||r===void 0||i===void 0)return Tu("JWT malformed, contained fewer than 3 sections"),null;try{const a=kD(r);return a?JSON.parse(a):(Tu("Failed to decode base64 JWT payload"),null)}catch(a){return Tu("Caught error parsing JWT payload as JSON",(e=a)===null||e===void 0?void 0:e.toString()),null}}function iA(t){const e=Um(t);return Ge(e,"internal-error"),Ge(typeof e.exp<"u","internal-error"),Ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof bi&&aA(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function aA({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){var e;try{await this.user.getIdToken(!0)}catch(n){((e=n)===null||e===void 0?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zo(this.lastLoginAt),this.creationTime=Zo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dd(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Nl(t,nA(n,{idToken:r}));Ge(i==null?void 0:i.users.length,n,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?cA(a.providerUserInfo):[],h=lA(t.providerData,l),_=t.isAnonymous,g=!(t.email&&a.passwordHash)&&!(h!=null&&h.length),k=_?g:!1,C={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new a1(a.createdAt,a.lastLoginAt),isAnonymous:k};Object.assign(t,C)}async function oA(t){const e=_n(t);await dd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function lA(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function cA(t){return t.map(e=>{var{providerId:n}=e,r=Rm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uA(t,e){const n=await r1(t,{},async()=>{const r=nc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,l=i1(t,i,"/v1/token",`key=${a}`),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",n1.fetch()(l,{method:"POST",headers:h,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ge(e.idToken,"internal-error"),Ge(typeof e.idToken<"u","internal-error"),Ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):iA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return Ge(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await uA(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,l=new Dl;return r&&(Ge(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Ge(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(Ge(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Dl,this.toJSON())}_performRefresh(){return ni("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(t,e){Ge(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ma{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,a=Rm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new a1(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Nl(this,this.stsTokenManager.getToken(this.auth,e));return Ge(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return rA(this,e)}reload(){return oA(this)}_assign(e){this!==e&&(Ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Ma(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){Ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await dd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Nl(this,tA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,a,l,h,_,g,k;const C=(r=n.displayName)!==null&&r!==void 0?r:void 0,T=(i=n.email)!==null&&i!==void 0?i:void 0,O=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,L=(l=n.photoURL)!==null&&l!==void 0?l:void 0,N=(h=n.tenantId)!==null&&h!==void 0?h:void 0,P=(_=n._redirectEventId)!==null&&_!==void 0?_:void 0,I=(g=n.createdAt)!==null&&g!==void 0?g:void 0,A=(k=n.lastLoginAt)!==null&&k!==void 0?k:void 0,{uid:R,emailVerified:V,isAnonymous:j,providerData:W,stsTokenManager:z}=n;Ge(R&&z,e,"internal-error");const B=Dl.fromJSON(this.name,z);Ge(typeof R=="string",e,"internal-error"),Si(C,e.name),Si(T,e.name),Ge(typeof V=="boolean",e,"internal-error"),Ge(typeof j=="boolean",e,"internal-error"),Si(O,e.name),Si(L,e.name),Si(N,e.name),Si(P,e.name),Si(I,e.name),Si(A,e.name);const K=new Ma({uid:R,auth:e,email:T,emailVerified:V,displayName:C,isAnonymous:j,photoURL:L,phoneNumber:O,tenantId:N,stsTokenManager:B,createdAt:I,lastLoginAt:A});return W&&Array.isArray(W)&&(K.providerData=W.map(Y=>Object.assign({},Y))),P&&(K._redirectEventId=P),K}static async _fromIdTokenResponse(e,n,r=!1){const i=new Dl;i.updateFromServerResponse(n);const a=new Ma({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await dd(a),a}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}s1.type="NONE";const Py=s1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nu(t,e,n){return`firebase:${t}:${e}:${n}`}class Is{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Nu(this.userKey,i.apiKey,a),this.fullPersistenceKey=Nu("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ma._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Is(ri(Py),e,r);const i=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let a=i[0]||ri(Py);const l=Nu(r,e.config.apiKey,e.name);let h=null;for(const g of n)try{const k=await g._get(l);if(k){const C=Ma._fromJSON(e,k);g!==a&&(h=C),a=g;break}}catch{}const _=i.filter(g=>g._shouldAllowMigration);return!a._shouldAllowMigration||!_.length?new Is(a,e,r):(a=_[0],h&&await a._set(l,h.toJSON()),await Promise.all(n.map(async g=>{if(g!==a)try{await g._remove(l)}catch{}})),new Is(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(c1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(o1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(d1(e))return"Blackberry";if(h1(e))return"Webos";if(jm(e))return"Safari";if((e.includes("chrome/")||l1(e))&&!e.includes("edge/"))return"Chrome";if(u1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function o1(t=rn()){return/firefox\//i.test(t)}function jm(t=rn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function l1(t=rn()){return/crios\//i.test(t)}function c1(t=rn()){return/iemobile/i.test(t)}function u1(t=rn()){return/android/i.test(t)}function d1(t=rn()){return/blackberry/i.test(t)}function h1(t=rn()){return/webos/i.test(t)}function Xd(t=rn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function dA(t=rn()){var e;return Xd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function hA(){return Gx()&&document.documentMode===10}function f1(t=rn()){return Xd(t)||u1(t)||h1(t)||d1(t)||/windows phone/i.test(t)||c1(t)}function fA(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(t,e=[]){let n;switch(t){case"Browser":n=Ly(rn());break;case"Worker":n=`${Ly(rn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${rc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,h)=>{try{const _=e(a);l(_)}catch(_){h(_)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){var n;if(this.auth.currentUser===e)return;const r=[];try{for(const i of this.queue)await i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const a of r)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:(n=i)===null||n===void 0?void 0:n.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ry(this),this.idTokenSubscription=new Ry(this),this.beforeStateQueue=new _A(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=t1,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ri(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Is.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,h=i==null?void 0:i._redirectEventId,_=await this.tryRedirectSignIn(e);(!l||l===h)&&(_==null?void 0:_.user)&&(i=_.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){var n;try{await dd(e)}catch(r){if(((n=r)===null||n===void 0?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=QI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?_n(e):null;return n&&Ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(ri(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new tc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ri(e)||this._popupRedirectResolver;Ge(n,this,"argument-error"),this.redirectPersistenceManager=await Is.create(this,[ri(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n),l=this._isInitialized?Promise.resolve():this._initializationPromise;return Ge(l,this,"internal-error"),l.then(()=>a(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=_1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function Zd(t){return _n(t)}class Ry{constructor(e){this.auth=e,this.observer=null,this.addObserver=PD(n=>this.observer=n)}get next(){return Ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ni("not implemented")}_getIdTokenResponse(e){return ni("not implemented")}_linkToIdToken(e,n){return ni("not implemented")}_getReauthenticationResolver(e){return ni("not implemented")}}async function mA(t,e){return sc(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gA(t,e){return oc(t,"POST","/v1/accounts:signInWithPassword",ac(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vA(t,e){return oc(t,"POST","/v1/accounts:signInWithEmailLink",ac(t,e))}async function yA(t,e){return oc(t,"POST","/v1/accounts:signInWithEmailLink",ac(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il extends Vm{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Il(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Il(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if((n==null?void 0:n.email)&&(n==null?void 0:n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return gA(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return vA(e,{email:this._email,oobCode:this._password});default:Lr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return mA(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return yA(e,{idToken:n,email:this._email,oobCode:this._password});default:Lr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function As(t,e){return oc(t,"POST","/v1/accounts:signInWithIdp",ac(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA="http://localhost";class Ba extends Vm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ba(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Lr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,a=Rm(n,["providerId","signInMethod"]);if(!r||!i)return null;const l=new Ba(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return As(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,As(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,As(e,n)}buildRequest(){const e={requestUri:bA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=nc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function xA(t){const e=$o(Fo(t)).link,n=e?$o(Fo(e)).deep_link_id:null,r=$o(Fo(t)).deep_link_id;return(r?$o(Fo(r)).link:null)||r||n||e||t}class zm{constructor(e){var n,r,i,a,l,h;const _=$o(Fo(e)),g=(n=_.apiKey)!==null&&n!==void 0?n:null,k=(r=_.oobCode)!==null&&r!==void 0?r:null,C=wA((i=_.mode)!==null&&i!==void 0?i:null);Ge(g&&k&&C,"argument-error"),this.apiKey=g,this.operation=C,this.code=k,this.continueUrl=(a=_.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=_.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(h=_.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const n=xA(e);try{return new zm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(){this.providerId=ro.PROVIDER_ID}static credential(e,n){return Il._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=zm.parseLink(n);return Ge(r,"argument-error"),Il._fromEmailAndCode(e,r.code,r.tenantId)}}ro.PROVIDER_ID="password";ro.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ro.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc extends p1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends lc{constructor(){super("facebook.com")}static credential(e){return Ba._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Oi.credential(e.oauthAccessToken)}catch{return null}}}Oi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Oi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends lc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ba._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Mi.credential(n,r)}catch{return null}}}Mi.GOOGLE_SIGN_IN_METHOD="google.com";Mi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends lc{constructor(){super("github.com")}static credential(e){return Ba._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pi.credential(e.oauthAccessToken)}catch{return null}}}Pi.GITHUB_SIGN_IN_METHOD="github.com";Pi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends lc{constructor(){super("twitter.com")}static credential(e,n){return Ba._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Li.credential(n,r)}catch{return null}}}Li.TWITTER_SIGN_IN_METHOD="twitter.com";Li.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EA(t,e){return oc(t,"POST","/v1/accounts:signUp",ac(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await Ma._fromIdTokenResponse(e,r,i),l=$y(r);return new qa({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=$y(r);return new qa({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function $y(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd extends bi{constructor(e,n,r,i){var a;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,hd.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new hd(e,n,r,i)}}function m1(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?hd._fromErrorAndOperation(t,a,e,r):a})}async function kA(t,e,n=!1){const r=await Nl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return qa._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SA(t,e,n=!1){var r;const{auth:i}=t,a="reauthenticate";try{const l=await Nl(t,m1(i,a,e,t),n);Ge(l.idToken,i,"internal-error");const h=Um(l.idToken);Ge(h,i,"internal-error");const{sub:_}=h;return Ge(t.uid===_,i,"user-mismatch"),qa._forOperation(t,a,l)}catch(l){throw((r=l)===null||r===void 0?void 0:r.code)==="auth/user-not-found"&&Lr(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g1(t,e,n=!1){const r="signIn",i=await m1(t,r,e),a=await qa._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function CA(t,e){return g1(Zd(t),e)}async function TA(t,e,n){const r=Zd(t),i=await EA(r,{returnSecureToken:!0,email:e,password:n}),a=await qa._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(a.user),a}function NA(t,e,n){return CA(_n(t),ro.credential(e,n))}function DA(t,e,n,r){return _n(t).onAuthStateChanged(e,n,r)}function IA(t){return _n(t).signOut()}const fd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(fd,"1"),this.storage.removeItem(fd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AA(){const t=rn();return jm(t)||Xd(t)}const OA=1e3,MA=10;class y1 extends v1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=AA()&&fA(),this.fallbackToPolling=f1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,h,_)=>{this.notifyListeners(l,_)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const l=this.storage.getItem(r);if(e.newValue!==l)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);hA()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,MA):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},OA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}y1.type="LOCAL";const PA=y1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1 extends v1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}b1.type="SESSION";const w1=b1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(t){return Promise.all(t.map(async e=>{try{const n=await e;return{fulfilled:!0,value:n}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new eh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const h=Array.from(l).map(async g=>g(n.origin,a)),_=await LA(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:_})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}eh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((h,_)=>{const g=Hm("",20);i.port1.start();const k=setTimeout(()=>{_(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(C){const T=C;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(k),a=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(T.data.response);break;default:clearTimeout(k),clearTimeout(a),_(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(){return window}function $A(t){Wr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(){return typeof Wr().WorkerGlobalScope<"u"&&typeof Wr().importScripts=="function"}async function FA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function UA(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function jA(){return x1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1="firebaseLocalStorageDb",VA=1,_d="firebaseLocalStorage",k1="fbase_key";class cc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function th(t,e){return t.transaction([_d],e?"readwrite":"readonly").objectStore(_d)}function zA(){const t=indexedDB.deleteDatabase(E1);return new cc(t).toPromise()}function W_(){const t=indexedDB.open(E1,VA);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(_d,{keyPath:k1})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(_d)?e(r):(r.close(),await zA(),e(await W_()))})})}async function Fy(t,e,n){const r=th(t,!0).put({[k1]:e,value:n});return new cc(r).toPromise()}async function HA(t,e){const n=th(t,!1).get(e),r=await new cc(n).toPromise();return r===void 0?null:r.value}function Uy(t,e){const n=th(t,!0).delete(e);return new cc(n).toPromise()}const BA=800,qA=3;class S1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await W_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>qA)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return x1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=eh._getInstance(jA()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await FA(),!this.activeServiceWorker)return;this.sender=new RA(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);!r||((e=r[0])===null||e===void 0?void 0:e.fulfilled)&&((n=r[0])===null||n===void 0?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||UA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await W_();return await Fy(e,fd,"1"),await Uy(e,fd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Fy(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>HA(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Uy(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=th(i,!1).getAll();return new cc(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}S1.type="LOCAL";const WA=S1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GA(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function KA(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=qr("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",GA().appendChild(r)})}function YA(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new ic(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(t,e){return e?ri(e):(Ge(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm extends Vm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return As(e,this._buildIdpRequest())}_linkToIdToken(e,n){return As(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return As(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function QA(t){return g1(t.auth,new Bm(t),t.bypassAuthState)}function XA(t){const{auth:e,user:n}=t;return Ge(n,e,"internal-error"),SA(n,new Bm(t),t.bypassAuthState)}async function ZA(t){const{auth:e,user:n}=t;return Ge(n,e,"internal-error"),kA(n,new Bm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:l,type:h}=e;if(l){this.reject(l);return}const _={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(_))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return QA;case"linkViaPopup":case"linkViaRedirect":return ZA;case"reauthViaPopup":case"reauthViaRedirect":return XA;default:Lr(this.auth,"internal-error")}}resolve(e){fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eO=new ic(2e3,1e4);class ws extends C1{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,ws.currentPopupAction&&ws.currentPopupAction.cancel(),ws.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ge(e,this.auth,"internal-error"),e}async onExecution(){fi(this.filter.length===1,"Popup operations only handle one event");const e=Hm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(qr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(qr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ws.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qr(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,eO.get())};e()}}ws.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO="pendingRedirect",Du=new Map;class nO extends C1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Du.get(this.auth._key());if(!e){try{const r=await rO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Du.set(this.auth._key(),e)}return this.bypassAuthState||Du.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rO(t,e){const n=sO(e),r=aO(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function iO(t,e){Du.set(t._key(),e)}function aO(t){return ri(t._redirectPersistence)}function sO(t){return Nu(tO,t.config.apiKey,t.name)}async function oO(t,e,n=!1){const r=Zd(t),i=JA(r,e),l=await new nO(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO=10*60*1e3;class cO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!uO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!T1(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(qr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=lO&&this.cachedEventUids.clear(),this.cachedEventUids.has(jy(e))}saveEventToCache(e){this.cachedEventUids.add(jy(e)),this.lastProcessedEventTime=Date.now()}}function jy(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function T1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function uO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return T1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dO(t,e={}){return sc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fO=/^https?/;async function _O(t){if(t.config.emulator)return;const{authorizedDomains:e}=await dO(t);for(const n of e)try{if(pO(n))return}catch{}Lr(t,"unauthorized-domain")}function pO(t){const e=q_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!fO.test(n))return!1;if(hO.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mO=new ic(3e4,6e4);function Vy(){const t=Wr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function gO(t){return new Promise((e,n)=>{var r,i,a;function l(){Vy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Vy(),n(qr(t,"network-request-failed"))},timeout:mO.get()})}if(!((i=(r=Wr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Wr().gapi)===null||a===void 0)&&a.load)l();else{const h=YA("iframefcb");return Wr()[h]=()=>{gapi.load?l():n(qr(t,"network-request-failed"))},KA(`https://apis.google.com/js/api.js?onload=${h}`).catch(_=>n(_))}}).catch(e=>{throw Iu=null,e})}let Iu=null;function vO(t){return Iu=Iu||gO(t),Iu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO=new ic(5e3,15e3),bO="__/auth/iframe",wO="emulator/auth/iframe",xO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kO(t){const e=t.config;Ge(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Fm(e,wO):`https://${t.config.authDomain}/${bO}`,r={apiKey:e.apiKey,appName:t.name,v:rc},i=EO.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${nc(r).slice(1)}`}async function SO(t){const e=await vO(t),n=Wr().gapi;return Ge(n,t,"internal-error"),e.open({where:document.body,url:kO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xO,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=qr(t,"network-request-failed"),h=Wr().setTimeout(()=>{a(l)},yO.get());function _(){Wr().clearTimeout(h),i(r)}r.ping(_).then(_,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},TO=500,NO=600,DO="_blank",IO="http://localhost";class zy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function AO(t,e,n,r=TO,i=NO){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const _=Object.assign(Object.assign({},CO),{width:r.toString(),height:i.toString(),top:a,left:l}),g=rn().toLowerCase();n&&(h=l1(g)?DO:n),o1(g)&&(e=e||IO,_.scrollbars="yes");const k=Object.entries(_).reduce((T,[O,L])=>`${T}${O}=${L},`,"");if(dA(g)&&h!=="_self")return OO(e||"",h),new zy(null);const C=window.open(e||"",h,k);Ge(C,t,"popup-blocked");try{C.focus()}catch{}return new zy(C)}function OO(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO="__/auth/handler",PO="emulator/auth/handler";function Hy(t,e,n,r,i,a){Ge(t.config.authDomain,t,"auth-domain-config-required"),Ge(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:rc,eventId:i};if(e instanceof p1){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",MD(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,g]of Object.entries(a||{}))l[_]=g}if(e instanceof lc){const _=e.getScopes().filter(g=>g!=="");_.length>0&&(l.scopes=_.join(","))}t.tenantId&&(l.tid=t.tenantId);const h=l;for(const _ of Object.keys(h))h[_]===void 0&&delete h[_];return`${LO(t)}?${nc(h).slice(1)}`}function LO({config:t}){return t.emulator?Fm(t,PO):`https://${t.authDomain}/${MO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bf="webStorageSupport";class RO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=w1,this._completeRedirectFn=oO,this._overrideRedirectResult=iO}async _openPopup(e,n,r,i){var a;fi((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=Hy(e,n,r,q_(),i);return AO(e,l,Hm())}async _openRedirect(e,n,r,i){return await this._originValidation(e),$A(Hy(e,n,r,q_(),i)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(fi(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await SO(e),r=new cO(e);return n.register("authEvent",i=>(Ge(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(bf,{type:bf},i=>{var a;const l=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[bf];l!==void 0&&n(!!l),Lr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=_O(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return f1()||jm()||Xd()}}const $O=RO;var By="@firebase/auth",qy="0.20.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{var i;e(((i=r)===null||i===void 0?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function jO(t){Hs(new Va("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:a,authDomain:l}=r.options;return((h,_)=>{Ge(a&&!a.includes(":"),"invalid-api-key",{appName:h.name}),Ge(!(l!=null&&l.includes(":")),"argument-error",{appName:h.name});const g={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_1(t)},k=new pA(h,_,g);return KI(k,n),k})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Hs(new Va("auth-internal",e=>{const n=Zd(e.getProvider("auth").getImmediate());return(r=>new FO(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qi(By,qy,UO(t)),Qi(By,qy,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VO(t=Qx()){const e=Lm(t,"auth");return e.isInitialized()?e.getImmediate():GI(t,{popupRedirectResolver:$O,persistence:[WA,PA,w1]})}jO("Browser");const zO={apiKey:"AIzaSyCRLN_2xzTrvHfN4EDRtETLysu2QWCd9Fk",authDomain:"navisacademy-1c1d2.firebaseapp.com",projectId:"navisacademy-1c1d2",storageBucket:"navisacademy-1c1d2.appspot.com",messagingSenderId:"138551732835",appId:"1:138551732835:web:ce9005d6cde0708230e656",measurementId:"G-VC1HXL8EM6"},HO=MI(zO),eu=VO(HO);var BO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Oe,qm=qm||{},Ke=BO||self;function pd(){}function G_(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function uc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function qO(t){return Object.prototype.hasOwnProperty.call(t,wf)&&t[wf]||(t[wf]=++WO)}var wf="closure_uid_"+(1e9*Math.random()>>>0),WO=0;function GO(t,e,n){return t.call.apply(t.bind,arguments)}function KO(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function dn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?dn=GO:dn=KO,dn.apply(null,arguments)}function tu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function mn(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,i,a){for(var l=Array(arguments.length-2),h=2;h<arguments.length;h++)l[h-2]=arguments[h];return e.prototype[i].apply(r,l)}}function ha(){this.s=this.s,this.o=this.o}var YO=0;ha.prototype.s=!1;ha.prototype.na=function(){!this.s&&(this.s=!0,this.M(),YO!=0)&&qO(this)};ha.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const N1=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},D1=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const r=t.length,i=typeof t=="string"?t.split(""):t;for(let a=0;a<r;a++)a in i&&e.call(n,i[a],a,t)};function JO(t){e:{var e=VM;const n=t.length,r=typeof t=="string"?t.split(""):t;for(let i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break e}e=-1}return 0>e?null:typeof t=="string"?t.charAt(e):t[e]}function Wy(t){return Array.prototype.concat.apply([],arguments)}function Wm(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function md(t){return/^[\s\xa0]*$/.test(t)}var Gy=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function An(t,e){return t.indexOf(e)!=-1}function xf(t,e){return t<e?-1:t>e?1:0}var On;e:{var Ky=Ke.navigator;if(Ky){var Yy=Ky.userAgent;if(Yy){On=Yy;break e}}On=""}function Gm(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function I1(t){const e={};for(const n in t)e[n]=t[n];return e}var Jy="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A1(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let a=0;a<Jy.length;a++)n=Jy[a],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Km(t){return Km[" "](t),t}Km[" "]=pd;function QO(t){var e=eM;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var XO=An(On,"Opera"),Bs=An(On,"Trident")||An(On,"MSIE"),O1=An(On,"Edge"),K_=O1||Bs,M1=An(On,"Gecko")&&!(An(On.toLowerCase(),"webkit")&&!An(On,"Edge"))&&!(An(On,"Trident")||An(On,"MSIE"))&&!An(On,"Edge"),ZO=An(On.toLowerCase(),"webkit")&&!An(On,"Edge");function P1(){var t=Ke.document;return t?t.documentMode:void 0}var gd;e:{var Ef="",kf=function(){var t=On;if(M1)return/rv:([^\);]+)(\)|;)/.exec(t);if(O1)return/Edge\/([\d\.]+)/.exec(t);if(Bs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(ZO)return/WebKit\/(\S+)/.exec(t);if(XO)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(kf&&(Ef=kf?kf[1]:""),Bs){var Sf=P1();if(Sf!=null&&Sf>parseFloat(Ef)){gd=String(Sf);break e}}gd=Ef}var eM={};function tM(){return QO(function(){let t=0;const e=Gy(String(gd)).split("."),n=Gy("9").split("."),r=Math.max(e.length,n.length);for(let l=0;t==0&&l<r;l++){var i=e[l]||"",a=n[l]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],i[0].length==0&&a[0].length==0)break;t=xf(i[1].length==0?0:parseInt(i[1],10),a[1].length==0?0:parseInt(a[1],10))||xf(i[2].length==0,a[2].length==0)||xf(i[2],a[2]),i=i[3],a=a[3]}while(t==0)}return 0<=t})}var Y_;if(Ke.document&&Bs){var Qy=P1();Y_=Qy||parseInt(gd,10)||void 0}else Y_=void 0;var nM=Y_,rM=function(){if(!Ke.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ke.addEventListener("test",pd,e),Ke.removeEventListener("test",pd,e)}catch{}return t}();function Sn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Sn.prototype.h=function(){this.defaultPrevented=!0};function Al(t,e){if(Sn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(M1){e:{try{Km(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:iM[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Al.Z.h.call(this)}}mn(Al,Sn);var iM={2:"touch",3:"pen",4:"mouse"};Al.prototype.h=function(){Al.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var dc="closure_listenable_"+(1e6*Math.random()|0),aM=0;function sM(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++aM,this.ca=this.fa=!1}function nh(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function rh(t){this.src=t,this.g={},this.h=0}rh.prototype.add=function(t,e,n,r,i){var a=t.toString();t=this.g[a],t||(t=this.g[a]=[],this.h++);var l=Q_(t,e,r,i);return-1<l?(e=t[l],n||(e.fa=!1)):(e=new sM(e,this.src,a,!!r,i),e.fa=n,t.push(e)),e};function J_(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=N1(r,e),a;(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(nh(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Q_(t,e,n,r){for(var i=0;i<t.length;++i){var a=t[i];if(!a.ca&&a.listener==e&&a.capture==!!n&&a.ia==r)return i}return-1}var Ym="closure_lm_"+(1e6*Math.random()|0),Cf={};function L1(t,e,n,r,i){if(r&&r.once)return $1(t,e,n,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)L1(t,e[a],n,r,i);return null}return n=Xm(n),t&&t[dc]?t.N(e,n,uc(r)?!!r.capture:!!r,i):R1(t,e,n,!1,r,i)}function R1(t,e,n,r,i,a){if(!e)throw Error("Invalid event type");var l=uc(i)?!!i.capture:!!i,h=Qm(t);if(h||(t[Ym]=h=new rh(t)),n=h.add(e,n,r,l,a),n.proxy)return n;if(r=oM(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)rM||(i=l),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(U1(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function oM(){function t(n){return e.call(t.src,t.listener,n)}var e=lM;return t}function $1(t,e,n,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)$1(t,e[a],n,r,i);return null}return n=Xm(n),t&&t[dc]?t.O(e,n,uc(r)?!!r.capture:!!r,i):R1(t,e,n,!0,r,i)}function F1(t,e,n,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)F1(t,e[a],n,r,i);else r=uc(r)?!!r.capture:!!r,n=Xm(n),t&&t[dc]?(t=t.i,e=String(e).toString(),e in t.g&&(a=t.g[e],n=Q_(a,n,r,i),-1<n&&(nh(a[n]),Array.prototype.splice.call(a,n,1),a.length==0&&(delete t.g[e],t.h--)))):t&&(t=Qm(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Q_(e,n,r,i)),(n=-1<t?e[t]:null)&&Jm(n))}function Jm(t){if(typeof t!="number"&&t&&!t.ca){var e=t.src;if(e&&e[dc])J_(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(U1(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Qm(e))?(J_(n,t),n.h==0&&(n.src=null,e[Ym]=null)):nh(t)}}}function U1(t){return t in Cf?Cf[t]:Cf[t]="on"+t}function lM(t,e){if(t.ca)t=!0;else{e=new Al(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&Jm(t),t=n.call(r,e)}return t}function Qm(t){return t=t[Ym],t instanceof rh?t:null}var Tf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xm(t){return typeof t=="function"?t:(t[Tf]||(t[Tf]=function(e){return t.handleEvent(e)}),t[Tf])}function an(){ha.call(this),this.i=new rh(this),this.P=this,this.I=null}mn(an,ha);an.prototype[dc]=!0;an.prototype.removeEventListener=function(t,e,n,r){F1(this,t,e,n,r)};function hn(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new Sn(e,t);else if(e instanceof Sn)e.target=e.target||t;else{var i=e;e=new Sn(r,t),A1(e,i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var l=e.g=n[a];i=nu(l,r,!0,e)&&i}if(l=e.g=t,i=nu(l,r,!0,e)&&i,i=nu(l,r,!1,e)&&i,n)for(a=0;a<n.length;a++)l=e.g=n[a],i=nu(l,r,!1,e)&&i}an.prototype.M=function(){if(an.Z.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)nh(n[r]);delete t.g[e],t.h--}}this.I=null};an.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};an.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function nu(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var l=e[a];if(l&&!l.ca&&l.capture==n){var h=l.listener,_=l.ia||l.src;l.fa&&J_(t.i,l),i=h.call(_,r)!==!1&&i}}return i&&!r.defaultPrevented}var Zm=Ke.JSON.stringify;function cM(){var t=V1;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class uM{constructor(){this.h=this.g=null}add(e,n){const r=j1.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var j1=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new dM,t=>t.reset());class dM{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function hM(t){Ke.setTimeout(()=>{throw t},0)}function eg(t,e){X_||fM(),Z_||(X_(),Z_=!0),V1.add(t,e)}var X_;function fM(){var t=Ke.Promise.resolve(void 0);X_=function(){t.then(_M)}}var Z_=!1,V1=new uM;function _M(){for(var t;t=cM();){try{t.h.call(t.g)}catch(n){hM(n)}var e=j1;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Z_=!1}function ih(t,e){an.call(this),this.h=t||1,this.g=e||Ke,this.j=dn(this.kb,this),this.l=Date.now()}mn(ih,an);Oe=ih.prototype;Oe.da=!1;Oe.S=null;Oe.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),hn(this,"tick"),this.da&&(tg(this),this.start()))}};Oe.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function tg(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}Oe.M=function(){ih.Z.M.call(this),tg(this),delete this.g};function ng(t,e,n){if(typeof t=="function")n&&(t=dn(t,n));else if(t&&typeof t.handleEvent=="function")t=dn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Ke.setTimeout(t,e||0)}function z1(t){t.g=ng(()=>{t.g=null,t.i&&(t.i=!1,z1(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class pM extends ha{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:z1(this)}M(){super.M(),this.g&&(Ke.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ol(t){ha.call(this),this.h=t,this.g={}}mn(Ol,ha);var Xy=[];function H1(t,e,n,r){Array.isArray(n)||(n&&(Xy[0]=n.toString()),n=Xy);for(var i=0;i<n.length;i++){var a=L1(e,n[i],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}}function B1(t){Gm(t.g,function(e,n){this.g.hasOwnProperty(n)&&Jm(e)},t),t.g={}}Ol.prototype.M=function(){Ol.Z.M.call(this),B1(this)};Ol.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function ah(){this.g=!0}ah.prototype.Aa=function(){this.g=!1};function mM(t,e,n,r,i,a){t.info(function(){if(t.g)if(a)for(var l="",h=a.split("&"),_=0;_<h.length;_++){var g=h[_].split("=");if(1<g.length){var k=g[0];g=g[1];var C=k.split("_");l=2<=C.length&&C[1]=="type"?l+(k+"="+g+"&"):l+(k+"=redacted&")}}else l=null;else l=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+l})}function gM(t,e,n,r,i,a,l){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+a+" "+l})}function xs(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+yM(t,n)+(r?" "+r:"")})}function vM(t,e){t.info(function(){return"TIMEOUT: "+e})}ah.prototype.info=function(){};function yM(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if(a!="noop"&&a!="stop"&&a!="close")for(var l=1;l<i.length;l++)i[l]=""}}}}return Zm(n)}catch{return e}}var es={},Zy=null;function sh(){return Zy=Zy||new an}es.Ma="serverreachability";function q1(t){Sn.call(this,es.Ma,t)}mn(q1,Sn);function Ml(t){const e=sh();hn(e,new q1(e))}es.STAT_EVENT="statevent";function W1(t,e){Sn.call(this,es.STAT_EVENT,t),this.stat=e}mn(W1,Sn);function Pn(t){const e=sh();hn(e,new W1(e,t))}es.Na="timingevent";function G1(t,e){Sn.call(this,es.Na,t),this.size=e}mn(G1,Sn);function hc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Ke.setTimeout(function(){t()},e)}var oh={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},K1={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function rg(){}rg.prototype.h=null;function e0(t){return t.h||(t.h=t.i())}function Y1(){}var fc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function ig(){Sn.call(this,"d")}mn(ig,Sn);function ag(){Sn.call(this,"c")}mn(ag,Sn);var ep;function lh(){}mn(lh,rg);lh.prototype.g=function(){return new XMLHttpRequest};lh.prototype.i=function(){return{}};ep=new lh;function _c(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new Ol(this),this.P=bM,t=K_?125:void 0,this.W=new ih(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new J1}function J1(){this.i=null,this.g="",this.h=!1}var bM=45e3,tp={},vd={};Oe=_c.prototype;Oe.setTimeout=function(t){this.P=t};function np(t,e,n){t.K=1,t.v=uh(_i(e)),t.s=n,t.U=!0,Q1(t,null)}function Q1(t,e){t.F=Date.now(),pc(t),t.A=_i(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),iE(n.h,"t",r),t.C=0,n=t.l.H,t.h=new J1,t.g=kE(t.l,n?e:null,!t.s),0<t.O&&(t.L=new pM(dn(t.Ia,t,t.g),t.O)),H1(t.V,t.g,"readystatechange",t.gb),e=t.H?I1(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Ml(),mM(t.j,t.u,t.A,t.m,t.X,t.s)}Oe.gb=function(t){t=t.target;const e=this.L;e&&ii(t)==3?e.l():this.Ia(t)};Oe.Ia=function(t){try{if(t==this.g)e:{const k=ii(this.g);var e=this.g.Da();const C=this.g.ba();if(!(3>k)&&(k!=3||K_||this.g&&(this.h.h||this.g.ga()||i0(this.g)))){this.I||k!=4||e==7||(e==8||0>=C?Ml(3):Ml(2)),ch(this);var n=this.g.ba();this.N=n;t:if(X1(this)){var r=i0(this.g);t="";var i=r.length,a=ii(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Na(this),el(this);var l="";break t}this.h.i=new Ke.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,l=this.h.g}else l=this.g.ga();if(this.i=n==200,gM(this.j,this.u,this.A,this.m,this.X,k,n),this.i){if(this.$&&!this.J){t:{if(this.g){var h,_=this.g;if((h=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!md(h)){var g=h;break t}}g=null}if(n=g)xs(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,rp(this,n);else{this.i=!1,this.o=3,Pn(12),Na(this),el(this);break e}}this.U?(Z1(this,k,l),K_&&this.i&&k==3&&(H1(this.V,this.W,"tick",this.fb),this.W.start())):(xs(this.j,this.m,l,null),rp(this,l)),k==4&&Na(this),this.i&&!this.I&&(k==4?bE(this.l,this):(this.i=!1,pc(this)))}else n==400&&0<l.indexOf("Unknown SID")?(this.o=3,Pn(12)):(this.o=0,Pn(13)),Na(this),el(this)}}}catch{}finally{}};function X1(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Ba:!1}function Z1(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=wM(t,n),i==vd){e==4&&(t.o=4,Pn(14),r=!1),xs(t.j,t.m,null,"[Incomplete Response]");break}else if(i==tp){t.o=4,Pn(15),xs(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else xs(t.j,t.m,i,null),rp(t,i);X1(t)&&i!=vd&&i!=tp&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Pn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,e=t.l,e.g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),_g(e),e.L=!0,Pn(11))):(xs(t.j,t.m,n,"[Invalid Chunked Response]"),Na(t),el(t))}Oe.fb=function(){if(this.g){var t=ii(this.g),e=this.g.ga();this.C<e.length&&(ch(this),Z1(this,t,e),this.i&&t!=4&&pc(this))}};function wM(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?vd:(n=Number(e.substring(n,r)),isNaN(n)?tp:(r+=1,r+n>e.length?vd:(e=e.substr(r,n),t.C=r+n,e)))}Oe.cancel=function(){this.I=!0,Na(this)};function pc(t){t.Y=Date.now()+t.P,eE(t,t.P)}function eE(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=hc(dn(t.eb,t),e)}function ch(t){t.B&&(Ke.clearTimeout(t.B),t.B=null)}Oe.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(vM(this.j,this.A),this.K!=2&&(Ml(),Pn(17)),Na(this),this.o=2,el(this)):eE(this,this.Y-t)};function el(t){t.l.G==0||t.I||bE(t.l,t)}function Na(t){ch(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,tg(t.W),B1(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function rp(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||ip(n.i,t))){if(n.I=t.N,!t.J&&ip(n.i,t)&&n.G==3){try{var r=n.Ca.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)xd(n),fh(n);else break e;fg(n),Pn(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&n.A==0&&!n.v&&(n.v=hc(dn(n.ab,n),6e3));if(1>=oE(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else Da(n,11)}else if((t.J||n.g==t)&&xd(n),!md(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){let g=i[e];if(n.U=g[0],g=g[1],n.G==2)if(g[0]=="c"){n.J=g[1],n.la=g[2];const k=g[3];k!=null&&(n.ma=k,n.h.info("VER="+n.ma));const C=g[4];C!=null&&(n.za=C,n.h.info("SVER="+n.za));const T=g[5];T!=null&&typeof T=="number"&&0<T&&(r=1.5*T,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const O=t.g;if(O){const L=O.g?O.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(L){var a=r.i;!a.g&&(An(L,"spdy")||An(L,"quic")||An(L,"h2"))&&(a.j=a.l,a.g=new Set,a.h&&(lg(a,a.h),a.h=null))}if(r.D){const N=O.g?O.g.getResponseHeader("X-HTTP-Session-Id"):null;N&&(r.sa=N,Ct(r.F,r.D,N))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var l=t;if(r.oa=EE(r,r.H?r.la:null,r.W),l.J){lE(r.i,l);var h=l,_=r.K;_&&h.setTimeout(_),h.B&&(ch(h),pc(h)),r.g=l}else vE(r);0<n.l.length&&_h(n)}else g[0]!="stop"&&g[0]!="close"||Da(n,7);else n.G==3&&(g[0]=="stop"||g[0]=="close"?g[0]=="stop"?Da(n,7):hg(n):g[0]!="noop"&&n.j&&n.j.wa(g),n.A=0)}}Ml(4)}catch{}}function xM(t){if(t.R&&typeof t.R=="function")return t.R();if(typeof t=="string")return t.split("");if(G_(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function sg(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(G_(t)||typeof t=="string")D1(t,e,void 0);else{if(t.T&&typeof t.T=="function")var n=t.T();else if(t.R&&typeof t.R=="function")n=void 0;else if(G_(t)||typeof t=="string"){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=xM(t),i=r.length;for(var a=0;a<i;a++)e.call(void 0,r[a],n&&n[a],t)}}function io(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof io)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}Oe=io.prototype;Oe.R=function(){og(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t};Oe.T=function(){return og(this),this.g.concat()};function og(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Wa(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)r=t.g[e],Wa(i,r)||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}Oe.get=function(t,e){return Wa(this.h,t)?this.h[t]:e};Oe.set=function(t,e){Wa(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e};Oe.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);t.call(e,a,i,this)}};function Wa(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var tE=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function EM(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var a=t[n].substring(0,r);i=t[n].substring(r+1)}else a=t[n];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ga(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Ga){this.g=e!==void 0?e:t.g,yd(this,t.j),this.s=t.s,bd(this,t.i),wd(this,t.m),this.l=t.l,e=t.h;var n=new Pl;n.i=e.i,e.g&&(n.g=new io(e.g),n.h=e.h),t0(this,n),this.o=t.o}else t&&(n=String(t).match(tE))?(this.g=!!e,yd(this,n[1]||"",!0),this.s=tl(n[2]||""),bd(this,n[3]||"",!0),wd(this,n[4]),this.l=tl(n[5]||"",!0),t0(this,n[6]||"",!0),this.o=tl(n[7]||"")):(this.g=!!e,this.h=new Pl(null,this.g))}Ga.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Uo(e,n0,!0),":");var n=this.i;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Uo(e,n0,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&t.push("/"),t.push(Uo(n,n.charAt(0)=="/"?NM:TM,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Uo(n,IM)),t.join("")};function _i(t){return new Ga(t)}function yd(t,e,n){t.j=n?tl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function bd(t,e,n){t.i=n?tl(e,!0):e}function wd(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function t0(t,e,n){e instanceof Pl?(t.h=e,AM(t.h,t.g)):(n||(e=Uo(e,DM)),t.h=new Pl(e,t.g))}function Ct(t,e,n){t.h.set(e,n)}function uh(t){return Ct(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function kM(t){return t instanceof Ga?_i(t):new Ga(t,void 0)}function SM(t,e,n,r){var i=new Ga(null,void 0);return t&&yd(i,t),e&&bd(i,e),n&&wd(i,n),r&&(i.l=r),i}function tl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Uo(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,CM),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function CM(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var n0=/[#\/\?@]/g,TM=/[#\?:]/g,NM=/[#\?]/g,DM=/[#\?@]/g,IM=/#/g;function Pl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function fa(t){t.g||(t.g=new io,t.h=0,t.i&&EM(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Oe=Pl.prototype;Oe.add=function(t,e){fa(this),this.i=null,t=ao(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function nE(t,e){fa(t),e=ao(t,e),Wa(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,t=t.g,Wa(t.h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&og(t)))}function rE(t,e){return fa(t),e=ao(t,e),Wa(t.g.h,e)}Oe.forEach=function(t,e){fa(this),this.g.forEach(function(n,r){D1(n,function(i){t.call(e,i,r,this)},this)},this)};Oe.T=function(){fa(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],a=0;a<i.length;a++)n.push(e[r]);return n};Oe.R=function(t){fa(this);var e=[];if(typeof t=="string")rE(this,t)&&(e=Wy(e,this.g.get(ao(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=Wy(e,t[n])}return e};Oe.set=function(t,e){return fa(this),this.i=null,t=ao(this,t),rE(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Oe.get=function(t,e){return t?(t=this.R(t),0<t.length?String(t[0]):e):e};function iE(t,e,n){nE(t,e),0<n.length&&(t.i=null,t.g.set(ao(t,e),Wm(n)),t.h+=n.length)}Oe.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var l=i;r[a]!==""&&(l+="="+encodeURIComponent(String(r[a]))),t.push(l)}}return this.i=t.join("&")};function ao(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function AM(t,e){e&&!t.j&&(fa(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(nE(this,r),iE(this,i,n))},t)),t.j=e}var OM=class{constructor(t,e){this.h=t,this.g=e}};function aE(t){this.l=t||MM,Ke.PerformanceNavigationTiming?(t=Ke.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Ke.g&&Ke.g.Ea&&Ke.g.Ea()&&Ke.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var MM=10;function sE(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function oE(t){return t.h?1:t.g?t.g.size:0}function ip(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function lg(t,e){t.g?t.g.add(e):t.h=e}function lE(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}aE.prototype.cancel=function(){if(this.i=cE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function cE(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return Wm(t.i)}function cg(){}cg.prototype.stringify=function(t){return Ke.JSON.stringify(t,void 0)};cg.prototype.parse=function(t){return Ke.JSON.parse(t,void 0)};function PM(){this.g=new cg}function LM(t,e,n){const r=n||"";try{sg(t,function(i,a){let l=i;uc(i)&&(l=Zm(i)),e.push(r+a+"="+encodeURIComponent(l))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function RM(t,e){const n=new ah;if(Ke.Image){const r=new Image;r.onload=tu(ru,n,r,"TestLoadImage: loaded",!0,e),r.onerror=tu(ru,n,r,"TestLoadImage: error",!1,e),r.onabort=tu(ru,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=tu(ru,n,r,"TestLoadImage: timeout",!1,e),Ke.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function ru(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function mc(t){this.l=t.$b||null,this.j=t.ib||!1}mn(mc,rg);mc.prototype.g=function(){return new dh(this.l,this.j)};mc.prototype.i=function(t){return function(){return t}}({});function dh(t,e){an.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=ug,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}mn(dh,an);var ug=0;Oe=dh.prototype;Oe.open=function(t,e){if(this.readyState!=ug)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ll(this)};Oe.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Ke).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))};Oe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,gc(this)),this.readyState=ug};Oe.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ll(this)),this.g&&(this.readyState=3,Ll(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Ke.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;uE(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))};function uE(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}Oe.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?gc(this):Ll(this),this.readyState==3&&uE(this)}};Oe.Ua=function(t){this.g&&(this.response=this.responseText=t,gc(this))};Oe.Ta=function(t){this.g&&(this.response=t,gc(this))};Oe.ha=function(){this.g&&gc(this)};function gc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ll(t)}Oe.setRequestHeader=function(t,e){this.v.append(t,e)};Oe.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Oe.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Ll(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(dh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var $M=Ke.JSON.parse;function zt(t){an.call(this),this.headers=new io,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=dE,this.K=this.L=!1}mn(zt,an);var dE="",FM=/^https?$/i,UM=["POST","PUT"];Oe=zt.prototype;Oe.ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ep.g(),this.C=this.u?e0(this.u):e0(ep),this.g.onreadystatechange=dn(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(a){r0(this,a);return}t=n||"";const i=new io(this.headers);r&&sg(r,function(a,l){i.set(l,a)}),r=JO(i.T()),n=Ke.FormData&&t instanceof Ke.FormData,!(0<=N1(UM,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(a,l){this.g.setRequestHeader(l,a)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{_E(this),0<this.B&&((this.K=jM(this.g))?(this.g.timeout=this.B,this.g.ontimeout=dn(this.pa,this)):this.A=ng(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(a){r0(this,a)}};function jM(t){return Bs&&tM()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}function VM(t){return t.toLowerCase()=="content-type"}Oe.pa=function(){typeof qm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,hn(this,"timeout"),this.abort(8))};function r0(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,hE(t),hh(t)}function hE(t){t.D||(t.D=!0,hn(t,"complete"),hn(t,"error"))}Oe.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,hn(this,"complete"),hn(this,"abort"),hh(this))};Oe.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),hh(this,!0)),zt.Z.M.call(this)};Oe.Fa=function(){this.s||(this.F||this.v||this.l?fE(this):this.cb())};Oe.cb=function(){fE(this)};function fE(t){if(t.h&&typeof qm<"u"&&(!t.C[1]||ii(t)!=4||t.ba()!=2)){if(t.v&&ii(t)==4)ng(t.Fa,0,t);else if(hn(t,"readystatechange"),ii(t)==4){t.h=!1;try{const h=t.ba();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=h===0){var i=String(t.H).match(tE)[1]||null;if(!i&&Ke.self&&Ke.self.location){var a=Ke.self.location.protocol;i=a.substr(0,a.length-1)}r=!FM.test(i?i.toLowerCase():"")}n=r}if(n)hn(t,"complete"),hn(t,"success");else{t.m=6;try{var l=2<ii(t)?t.g.statusText:""}catch{l=""}t.j=l+" ["+t.ba()+"]",hE(t)}}finally{hh(t)}}}}function hh(t,e){if(t.g){_E(t);const n=t.g,r=t.C[0]?pd:null;t.g=null,t.C=null,e||hn(t,"ready");try{n.onreadystatechange=r}catch{}}}function _E(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Ke.clearTimeout(t.A),t.A=null)}function ii(t){return t.g?t.g.readyState:0}Oe.ba=function(){try{return 2<ii(this)?this.g.status:-1}catch{return-1}};Oe.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};Oe.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),$M(e)}};function i0(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case dE:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}Oe.Da=function(){return this.m};Oe.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function zM(t){let e="";return Gm(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function dg(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=zM(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ct(t,e,n))}function To(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function pE(t){this.za=0,this.l=[],this.h=new ah,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=To("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=To("baseRetryDelayMs",5e3,t),this.$a=To("retryDelaySeedMs",1e4,t),this.Ya=To("forwardChannelMaxRetries",2,t),this.ra=To("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new aE(t&&t.concurrentRequestLimit),this.Ca=new PM,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||t.Xb!==!1}Oe=pE.prototype;Oe.ma=8;Oe.G=1;function hg(t){if(mE(t),t.G==3){var e=t.V++,n=_i(t.F);Ct(n,"SID",t.J),Ct(n,"RID",e),Ct(n,"TYPE","terminate"),vc(t,n),e=new _c(t,t.h,e,void 0),e.K=2,e.v=uh(_i(n)),n=!1,Ke.navigator&&Ke.navigator.sendBeacon&&(n=Ke.navigator.sendBeacon(e.v.toString(),"")),!n&&Ke.Image&&(new Image().src=e.v,n=!0),n||(e.g=kE(e.l,null),e.g.ea(e.v)),e.F=Date.now(),pc(e)}xE(t)}Oe.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch{}};function fh(t){t.g&&(_g(t),t.g.cancel(),t.g=null)}function mE(t){fh(t),t.u&&(Ke.clearTimeout(t.u),t.u=null),xd(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Ke.clearTimeout(t.m),t.m=null)}function Nf(t,e){t.l.push(new OM(t.Za++,e)),t.G==3&&_h(t)}function _h(t){sE(t.i)||t.m||(t.m=!0,eg(t.Ha,t),t.C=0)}function HM(t,e){return oE(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.l=e.D.concat(t.l),!0):t.G==1||t.G==2||t.C>=(t.Xa?0:t.Ya)?!1:(t.m=hc(dn(t.Ha,t,e),wE(t,t.C)),t.C++,!0)}Oe.Ha=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const i=new _c(this,this.h,t,void 0);let a=this.s;if(this.P&&(a?(a=I1(a),A1(a,this.P)):a=this.P),this.o===null&&(i.H=a),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){t:{var r=this.l[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=gE(this,i,e),n=_i(this.F),Ct(n,"RID",t),Ct(n,"CVER",22),this.D&&Ct(n,"X-HTTP-Session-Id",this.D),vc(this,n),this.o&&a&&dg(n,this.o,a),lg(this.i,i),this.Ra&&Ct(n,"TYPE","init"),this.ja?(Ct(n,"$req",e),Ct(n,"SID","null"),i.$=!0,np(i,n,null)):np(i,n,e),this.G=2}}else this.G==3&&(t?a0(this,t):this.l.length==0||sE(this.i)||a0(this))};function a0(t,e){var n;e?n=e.m:n=t.V++;const r=_i(t.F);Ct(r,"SID",t.J),Ct(r,"RID",n),Ct(r,"AID",t.U),vc(t,r),t.o&&t.s&&dg(r,t.o,t.s),n=new _c(t,t.h,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=gE(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),lg(t.i,n),np(n,r,e)}function vc(t,e){t.j&&sg({},function(n,r){Ct(e,r,n)})}function gE(t,e,n){n=Math.min(t.l.length,n);var r=t.j?dn(t.j.Oa,t.j,t):null;e:{var i=t.l;let a=-1;for(;;){const l=["count="+n];a==-1?0<n?(a=i[0].h,l.push("ofs="+a)):a=0:l.push("ofs="+a);let h=!0;for(let _=0;_<n;_++){let g=i[_].h;const k=i[_].g;if(g-=a,0>g)a=Math.max(0,i[_].h-100),h=!1;else try{LM(k,l,"req"+g+"_")}catch{r&&r(k)}}if(h){r=l.join("&");break e}}}return t=t.l.splice(0,n),e.D=t,r}function vE(t){t.g||t.u||(t.Y=1,eg(t.Ga,t),t.A=0)}function fg(t){return t.g||t.u||3<=t.A?!1:(t.Y++,t.u=hc(dn(t.Ga,t),wE(t,t.A)),t.A++,!0)}Oe.Ga=function(){if(this.u=null,yE(this),this.$&&!(this.L||this.g==null||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=hc(dn(this.bb,this),t)}};Oe.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Pn(10),fh(this),yE(this))};function _g(t){t.B!=null&&(Ke.clearTimeout(t.B),t.B=null)}function yE(t){t.g=new _c(t,t.h,"rpc",t.Y),t.o===null&&(t.g.H=t.s),t.g.O=0;var e=_i(t.oa);Ct(e,"RID","rpc"),Ct(e,"SID",t.J),Ct(e,"CI",t.N?"0":"1"),Ct(e,"AID",t.U),vc(t,e),Ct(e,"TYPE","xmlhttp"),t.o&&t.s&&dg(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=uh(_i(e)),n.s=null,n.U=!0,Q1(n,t)}Oe.ab=function(){this.v!=null&&(this.v=null,fh(this),fg(this),Pn(19))};function xd(t){t.v!=null&&(Ke.clearTimeout(t.v),t.v=null)}function bE(t,e){var n=null;if(t.g==e){xd(t),_g(t),t.g=null;var r=2}else if(ip(t.i,e))n=e.D,lE(t.i,e),r=1;else return;if(t.I=e.N,t.G!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=sh(),hn(r,new G1(r,n)),_h(t)}else vE(t);else if(i=e.o,i==3||i==0&&0<t.I||!(r==1&&HM(t,e)||r==2&&fg(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Da(t,5);break;case 4:Da(t,10);break;case 3:Da(t,6);break;default:Da(t,2)}}}function wE(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function Da(t,e){if(t.h.info("Error code "+e),e==2){var n=null;t.j&&(n=null);var r=dn(t.jb,t);n||(n=new Ga("//www.google.com/images/cleardot.gif"),Ke.location&&Ke.location.protocol=="http"||yd(n,"https"),uh(n)),RM(n.toString(),r)}else Pn(2);t.G=0,t.j&&t.j.va(e),xE(t),mE(t)}Oe.jb=function(t){t?(this.h.info("Successfully pinged google.com"),Pn(2)):(this.h.info("Failed to ping google.com"),Pn(1))};function xE(t){t.G=0,t.I=-1,t.j&&((cE(t.i).length!=0||t.l.length!=0)&&(t.i.i.length=0,Wm(t.l),t.l.length=0),t.j.ua())}function EE(t,e,n){let r=kM(n);if(r.i!="")e&&bd(r,e+"."+r.i),wd(r,r.m);else{const i=Ke.location;r=SM(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&Gm(t.aa,function(i,a){Ct(r,a,i)}),e=t.D,n=t.sa,e&&n&&Ct(r,e,n),Ct(r,"VER",t.ma),vc(t,r),r}function kE(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ba&&!t.qa?new zt(new mc({ib:!0})):new zt(t.qa),e.L=t.H,e}function SE(){}Oe=SE.prototype;Oe.xa=function(){};Oe.wa=function(){};Oe.va=function(){};Oe.ua=function(){};Oe.Oa=function(){};function Ed(){if(Bs&&!(10<=Number(nM)))throw Error("Environmental error: no available transport.")}Ed.prototype.g=function(t,e){return new ar(t,e)};function ar(t,e){an.call(this),this.g=new pE(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!md(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!md(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new so(this)}mn(ar,an);ar.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),eg(dn(t.hb,t,e))),Pn(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=EE(t,null,t.W),_h(t)};ar.prototype.close=function(){hg(this.g)};ar.prototype.u=function(t){if(typeof t=="string"){var e={};e.__data__=t,Nf(this.g,e)}else this.v?(e={},e.__data__=Zm(t),Nf(this.g,e)):Nf(this.g,t)};ar.prototype.M=function(){this.g.j=null,delete this.j,hg(this.g),delete this.g,ar.Z.M.call(this)};function CE(t){ig.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}mn(CE,ig);function TE(){ag.call(this),this.status=1}mn(TE,ag);function so(t){this.g=t}mn(so,SE);so.prototype.xa=function(){hn(this.g,"a")};so.prototype.wa=function(t){hn(this.g,new CE(t))};so.prototype.va=function(t){hn(this.g,new TE)};so.prototype.ua=function(){hn(this.g,"b")};Ed.prototype.createWebChannel=Ed.prototype.g;ar.prototype.send=ar.prototype.u;ar.prototype.open=ar.prototype.m;ar.prototype.close=ar.prototype.close;oh.NO_ERROR=0;oh.TIMEOUT=8;oh.HTTP_ERROR=6;K1.COMPLETE="complete";Y1.EventType=fc;fc.OPEN="a";fc.CLOSE="b";fc.ERROR="c";fc.MESSAGE="d";an.prototype.listen=an.prototype.N;zt.prototype.listenOnce=zt.prototype.O;zt.prototype.getLastError=zt.prototype.La;zt.prototype.getLastErrorCode=zt.prototype.Da;zt.prototype.getStatus=zt.prototype.ba;zt.prototype.getResponseJson=zt.prototype.Qa;zt.prototype.getResponseText=zt.prototype.ga;zt.prototype.send=zt.prototype.ea;var BM=function(){return new Ed},qM=function(){return sh()},Df=oh,WM=K1,GM=es,s0={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},KM=mc,iu=Y1,YM=zt;const o0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Hn.UNAUTHENTICATED=new Hn(null),Hn.GOOGLE_CREDENTIALS=new Hn("google-credentials-uid"),Hn.FIRST_PARTY=new Hn("first-party-uid"),Hn.MOCK_USER=new Hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oo="9.9.4";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka=new Mm("@firebase/firestore");function l0(){return Ka.logLevel}function Ue(t,...e){if(Ka.logLevel<=ht.DEBUG){const n=e.map(pg);Ka.debug(`Firestore (${oo}): ${t}`,...n)}}function pi(t,...e){if(Ka.logLevel<=ht.ERROR){const n=e.map(pg);Ka.error(`Firestore (${oo}): ${t}`,...n)}}function c0(t,...e){if(Ka.logLevel<=ht.WARN){const n=e.map(pg);Ka.warn(`Firestore (${oo}): ${t}`,...n)}}function pg(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(t="Unexpected state"){const e=`FIRESTORE (${oo}) INTERNAL ASSERTION FAILED: `+t;throw pi(e),new Error(e)}function yt(t,e){t||Qe()}function Ze(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Le extends bi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JM{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class QM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Hn.UNAUTHENTICATED))}shutdown(){}}class XM{constructor(e){this.t=e,this.currentUser=Hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=_=>this.i!==r?(r=this.i,n(_)):Promise.resolve();let a=new oi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new oi,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const _=a;e.enqueueRetryable(async()=>{await _.promise,await i(this.currentUser)})},h=_=>{Ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.auth.addAuthTokenListener(this.o),l()};this.t.onInit(_=>h(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?h(_):(Ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new oi)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(yt(typeof r.accessToken=="string"),new JM(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return yt(e===null||typeof e=="string"),new Hn(e)}}class ZM{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=Hn.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(yt(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class eP{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i}getToken(){return Promise.resolve(new ZM(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(Hn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class tP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nP{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const r=a=>{a.error!=null&&Ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.A;return this.A=a.token,Ue("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.T.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.T.getImmediate({optional:!0});a?i(a):Ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(yt(typeof n.token=="string"),this.A=n.token,new tP(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=rP(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%e.length))}return r}}function ft(t,e){return t<e?-1:t>e?1:0}function qs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Le(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Le(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Le(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Le(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Gt.fromMillis(Date.now())}static fromDate(e){return Gt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Gt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ft(this.nanoseconds,e.nanoseconds):ft(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new rt(e)}static min(){return new rt(new Gt(0,0))}static max(){return new rt(new Gt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,n,r){n===void 0?n=0:n>e.length&&Qe(),r===void 0?r=e.length-n:r>e.length-n&&Qe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Rl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Rl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=e.get(i),l=n.get(i);if(a<l)return-1;if(a>l)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Et extends Rl{construct(e,n,r){return new Et(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Le(he.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Et(n)}static emptyPath(){return new Et([])}}const iP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kn extends Rl{construct(e,n,r){return new kn(e,n,r)}static isValidIdentifier(e){return iP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new kn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Le(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const h=e[i];if(h==="\\"){if(i+1===e.length)throw new Le(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[i+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new Le(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,i+=2}else h==="`"?(l=!l,i++):h!=="."||l?(r+=h,i++):(a(),i++)}if(a(),l)throw new Le(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kn(n)}static emptyPath(){return new kn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.path=e}static fromPath(e){return new je(Et.fromString(e))}static fromName(e){return new je(Et.fromString(e).popFirst(5))}static empty(){return new je(Et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new je(new Et(e.slice()))}}function aP(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=rt.fromTimestamp(r===1e9?new Gt(n+1,0):new Gt(n,r));return new ia(i,je.empty(),e)}function sP(t){return new ia(t.readTime,t.key,-1)}class ia{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ia(rt.min(),je.empty(),-1)}static max(){return new ia(rt.max(),je.empty(),-1)}}function oP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=je.comparator(t.documentKey,e.documentKey),n!==0?n:ft(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yc(t){if(t.code!==he.FAILED_PRECONDITION||t.message!==lP)throw t;Ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Qe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ve((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ve?n:ve.resolve(n)}catch(n){return ve.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ve.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ve.reject(n)}static resolve(e){return new ve((n,r)=>{n(e)})}static reject(e){return new ve((n,r)=>{r(e)})}static waitFor(e){return new ve((n,r)=>{let i=0,a=0,l=!1;e.forEach(h=>{++i,h.next(()=>{++a,l&&a===i&&n()},_=>r(_))}),l=!0,a===i&&n()})}static or(e){let n=ve.resolve(!1);for(const r of e)n=n.next(i=>i?ve.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new ve((r,i)=>{const a=e.length,l=new Array(a);let h=0;for(let _=0;_<a;_++){const g=_;n(e[g]).next(k=>{l[g]=k,++h,h===a&&r(l)},k=>i(k))}})}static doWhile(e,n){return new ve((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function bc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>n.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ts(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function DE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mg.at=-1;class Yt{constructor(e,n){this.comparator=e,this.root=n||ln.EMPTY}insert(e,n){return new Yt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ln.BLACK,null,null))}remove(e){return new Yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ln.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new au(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new au(this.root,e,this.comparator,!1)}getReverseIterator(){return new au(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new au(this.root,e,this.comparator,!0)}}class au{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ln{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r!=null?r:ln.RED,this.left=i!=null?i:ln.EMPTY,this.right=a!=null?a:ln.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new ln(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,a!=null?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ln.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ln.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Qe();const e=this.left.check();if(e!==this.right.check())throw Qe();return e+(this.isRed()?0:1)}}ln.EMPTY=null,ln.RED=!0,ln.BLACK=!1;ln.EMPTY=new class{constructor(){this.size=0}get key(){throw Qe()}get value(){throw Qe()}get color(){throw Qe()}get left(){throw Qe()}get right(){throw Qe()}copy(t,e,n,r,i){return this}insert(t,e,n){return new ln(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.comparator=e,this.data=new Yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new d0(this.data.getIterator())}getIteratorFrom(e){return new d0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Kt(this.comparator);return n.data=e,n}}class d0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e){this.fields=e,e.sort(kn.comparator)}static empty(){return new vr([])}unionWith(e){let n=new Kt(kn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new vr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return qs(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new pn(n)}static fromUint8Array(e){const n=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new pn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ft(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pn.EMPTY_BYTE_STRING=new pn("");const uP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function aa(t){if(yt(!!t),typeof t=="string"){let e=0;const n=uP.exec(t);if(yt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:jt(t.seconds),nanos:jt(t.nanos)}}function jt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ws(t){return typeof t=="string"?pn.fromBase64String(t):pn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function AE(t){const e=t.mapValue.fields.__previous_value__;return IE(e)?AE(e):e}function $l(t){const e=aa(t.mapValue.fields.__local_write_time__.timestampValue);return new Gt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e,n,r,i,a,l,h,_){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=h,this.useFetchStreams=_}}class Fl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Fl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Fl&&e.projectId===this.projectId&&e.database===this.database}}function ph(t){return t==null}function kd(t){return t===0&&1/t==-1/0}function hP(t){return typeof t=="number"&&Number.isInteger(t)&&!kd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ya(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?IE(t)?4:fP(t)?9007199254740991:10:Qe()}function Gr(t,e){if(t===e)return!0;const n=Ya(t);if(n!==Ya(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $l(t).isEqual($l(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=aa(r.timestampValue),l=aa(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Ws(r.bytesValue).isEqual(Ws(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return jt(r.geoPointValue.latitude)===jt(i.geoPointValue.latitude)&&jt(r.geoPointValue.longitude)===jt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return jt(r.integerValue)===jt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=jt(r.doubleValue),l=jt(i.doubleValue);return a===l?kd(a)===kd(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return qs(t.arrayValue.values||[],e.arrayValue.values||[],Gr);case 10:return function(r,i){const a=r.mapValue.fields||{},l=i.mapValue.fields||{};if(u0(a)!==u0(l))return!1;for(const h in a)if(a.hasOwnProperty(h)&&(l[h]===void 0||!Gr(a[h],l[h])))return!1;return!0}(t,e);default:return Qe()}}function Ul(t,e){return(t.values||[]).find(n=>Gr(n,e))!==void 0}function Gs(t,e){if(t===e)return 0;const n=Ya(t),r=Ya(e);if(n!==r)return ft(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ft(t.booleanValue,e.booleanValue);case 2:return function(i,a){const l=jt(i.integerValue||i.doubleValue),h=jt(a.integerValue||a.doubleValue);return l<h?-1:l>h?1:l===h?0:isNaN(l)?isNaN(h)?0:-1:1}(t,e);case 3:return h0(t.timestampValue,e.timestampValue);case 4:return h0($l(t),$l(e));case 5:return ft(t.stringValue,e.stringValue);case 6:return function(i,a){const l=Ws(i),h=Ws(a);return l.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(i,a){const l=i.split("/"),h=a.split("/");for(let _=0;_<l.length&&_<h.length;_++){const g=ft(l[_],h[_]);if(g!==0)return g}return ft(l.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,a){const l=ft(jt(i.latitude),jt(a.latitude));return l!==0?l:ft(jt(i.longitude),jt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,a){const l=i.values||[],h=a.values||[];for(let _=0;_<l.length&&_<h.length;++_){const g=Gs(l[_],h[_]);if(g)return g}return ft(l.length,h.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===su.mapValue&&a===su.mapValue)return 0;if(i===su.mapValue)return 1;if(a===su.mapValue)return-1;const l=i.fields||{},h=Object.keys(l),_=a.fields||{},g=Object.keys(_);h.sort(),g.sort();for(let k=0;k<h.length&&k<g.length;++k){const C=ft(h[k],g[k]);if(C!==0)return C;const T=Gs(l[h[k]],_[g[k]]);if(T!==0)return T}return ft(h.length,g.length)}(t.mapValue,e.mapValue);default:throw Qe()}}function h0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ft(t,e);const n=aa(t),r=aa(e),i=ft(n.seconds,r.seconds);return i!==0?i:ft(n.nanos,r.nanos)}function Os(t){return ap(t)}function ap(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=aa(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ws(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,je.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",a=!0;for(const l of r.values||[])a?a=!1:i+=",",i+=ap(l);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",l=!0;for(const h of i)l?l=!1:a+=",",a+=`${h}:${ap(r.fields[h])}`;return a+"}"}(t.mapValue):Qe();var e,n}function f0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function sp(t){return!!t&&"integerValue"in t}function gg(t){return!!t&&"arrayValue"in t}function _0(t){return!!t&&"nullValue"in t}function p0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Au(t){return!!t&&"mapValue"in t}function nl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ts(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=nl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=nl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function fP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.value=e}static empty(){return new Wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Au(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=nl(n)}setAll(e){let n=kn.emptyPath(),r={},i=[];e.forEach((l,h)=>{if(!n.isImmediateParentOf(h)){const _=this.getFieldsMap(n);this.applyChanges(_,r,i),r={},i=[],n=h.popLast()}l?r[h.lastSegment()]=nl(l):i.push(h.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());Au(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Gr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Au(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ts(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Wn(nl(this.value))}}function OE(t){const e=[];return ts(t.fields,(n,r)=>{const i=new kn([n]);if(Au(r)){const a=OE(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new vr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,n,r,i,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=l}static newInvalidDocument(e){return new cn(e,0,rt.min(),rt.min(),Wn.empty(),0)}static newFoundDocument(e,n,r){return new cn(e,1,n,rt.min(),r,0)}static newNoDocument(e,n){return new cn(e,2,n,rt.min(),Wn.empty(),0)}static newUnknownDocument(e,n){return new cn(e,3,n,rt.min(),Wn.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=rt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(e,n=null,r=[],i=[],a=null,l=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=h,this.ht=null}}function m0(t,e=null,n=[],r=[],i=null,a=null,l=null){return new _P(t,e,n,r,i,a,l)}function vg(t){const e=Ze(t);if(e.ht===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Os(i.value);var i}).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),ph(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Os(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Os(r)).join(",")),e.ht=n}return e.ht}function pP(t){let e=t.path.canonicalString();return t.collectionGroup!==null&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${Os(r.value)}`;var r}).join(", ")}]`),ph(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(n)).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>Os(n)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>Os(n)).join(",")),`Target(${e})`}function yg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!EP(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if(n=t.filters[i],r=e.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!Gr(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!v0(t.startAt,e.startAt)&&v0(t.endAt,e.endAt)}function op(t){return je.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Ln extends class{}{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.lt(e,n,r):new mP(e,n,r):n==="array-contains"?new yP(e,r):n==="in"?new bP(e,r):n==="not-in"?new wP(e,r):n==="array-contains-any"?new xP(e,r):new Ln(e,n,r)}static lt(e,n,r){return n==="in"?new gP(e,r):new vP(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.ft(Gs(n,this.value)):n!==null&&Ya(this.value)===Ya(n)&&this.ft(Gs(n,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Qe()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class mP extends Ln{constructor(e,n,r){super(e,n,r),this.key=je.fromName(r.referenceValue)}matches(e){const n=je.comparator(e.key,this.key);return this.ft(n)}}class gP extends Ln{constructor(e,n){super(e,"in",n),this.keys=ME("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class vP extends Ln{constructor(e,n){super(e,"not-in",n),this.keys=ME("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function ME(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>je.fromName(r.referenceValue))}class yP extends Ln{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return gg(n)&&Ul(n.arrayValue,this.value)}}class bP extends Ln{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ul(this.value.arrayValue,n)}}class wP extends Ln{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ul(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ul(this.value.arrayValue,n)}}class xP extends Ln{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!gg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ul(this.value.arrayValue,r))}}class Sd{constructor(e,n){this.position=e,this.inclusive=n}}class rl{constructor(e,n="asc"){this.field=e,this.dir=n}}function EP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function g0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],l=t.position[i];if(a.field.isKeyField()?r=je.comparator(je.fromName(l.referenceValue),n.key):r=Gs(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function v0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Gr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(e,n=null,r=[],i=[],a=null,l="F",h=null,_=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=h,this.endAt=_,this._t=null,this.wt=null,this.startAt,this.endAt}}function kP(t,e,n,r,i,a,l,h){return new wc(t,e,n,r,i,a,l,h)}function mh(t){return new wc(t)}function y0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function PE(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function LE(t){for(const e of t.filters)if(e.dt())return e.field;return null}function RE(t){return t.collectionGroup!==null}function jl(t){const e=Ze(t);if(e._t===null){e._t=[];const n=LE(e),r=PE(e);if(n!==null&&r===null)n.isKeyField()||e._t.push(new rl(n)),e._t.push(new rl(kn.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e._t.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new rl(kn.keyField(),a))}}}return e._t}function mi(t){const e=Ze(t);if(!e.wt)if(e.limitType==="F")e.wt=m0(e.path,e.collectionGroup,jl(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const a of jl(e)){const l=a.dir==="desc"?"asc":"desc";n.push(new rl(a.field,l))}const r=e.endAt?new Sd(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Sd(e.startAt.position,e.startAt.inclusive):null;e.wt=m0(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.wt}function lp(t,e,n){return new wc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function gh(t,e){return yg(mi(t),mi(e))&&t.limitType===e.limitType}function $E(t){return`${vg(mi(t))}|lt:${t.limitType}`}function cp(t){return`Query(target=${pP(mi(t))}; limitType=${t.limitType})`}function bg(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):je.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of n.explicitOrderBy)if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,a,l){const h=g0(i,a,l);return i.inclusive?h<=0:h<0}(n.startAt,jl(n),r)||n.endAt&&!function(i,a,l){const h=g0(i,a,l);return i.inclusive?h>=0:h>0}(n.endAt,jl(n),r))}(t,e)}function SP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function FE(t){return(e,n)=>{let r=!1;for(const i of jl(t)){const a=CP(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function CP(t,e,n){const r=t.field.isKeyField()?je.comparator(e.key,n.key):function(i,a,l){const h=a.data.field(i),_=l.data.field(i);return h!==null&&_!==null?Gs(h,_):Qe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Qe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(t,e){if(t.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:kd(e)?"-0":e}}function jE(t){return{integerValue:""+t}}function VE(t,e){return hP(e)?jE(e):UE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(){this._=void 0}}function TP(t,e,n){return t instanceof Vl?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(a.fields.__previous_value__=i),{mapValue:a}}(n,e):t instanceof zl?HE(t,e):t instanceof Hl?BE(t,e):function(r,i){const a=zE(r,i),l=b0(a)+b0(r.yt);return sp(a)&&sp(r.yt)?jE(l):UE(r.It,l)}(t,e)}function NP(t,e,n){return t instanceof zl?HE(t,e):t instanceof Hl?BE(t,e):n}function zE(t,e){return t instanceof Bl?sp(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Vl extends vh{}class zl extends vh{constructor(e){super(),this.elements=e}}function HE(t,e){const n=qE(e);for(const r of t.elements)n.some(i=>Gr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Hl extends vh{constructor(e){super(),this.elements=e}}function BE(t,e){let n=qE(e);for(const r of t.elements)n=n.filter(i=>!Gr(i,r));return{arrayValue:{values:n}}}class Bl extends vh{constructor(e,n){super(),this.It=e,this.yt=n}}function b0(t){return jt(t.integerValue||t.doubleValue)}function qE(t){return gg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e,n){this.field=e,this.transform=n}}function DP(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof zl&&r instanceof zl||n instanceof Hl&&r instanceof Hl?qs(n.elements,r.elements,Gr):n instanceof Bl&&r instanceof Bl?Gr(n.yt,r.yt):n instanceof Vl&&r instanceof Vl}(t.transform,e.transform)}class IP{constructor(e,n){this.version=e,this.transformResults=n}}class Or{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Or}static exists(e){return new Or(void 0,e)}static updateTime(e){return new Or(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ou(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class yh{}function GE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new YE(t.key,Or.none()):new xc(t.key,t.data,Or.none());{const n=t.data,r=Wn.empty();let i=new Kt(kn.comparator);for(let a of e.fields)if(!i.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new _a(t.key,r,new vr(i.toArray()),Or.none())}}function AP(t,e,n){t instanceof xc?function(r,i,a){const l=r.value.clone(),h=x0(r.fieldTransforms,i,a.transformResults);l.setAll(h),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof _a?function(r,i,a){if(!Ou(r.precondition,i))return void i.convertToUnknownDocument(a.version);const l=x0(r.fieldTransforms,i,a.transformResults),h=i.data;h.setAll(KE(r)),h.setAll(l),i.convertToFoundDocument(a.version,h).setHasCommittedMutations()}(t,e,n):function(r,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function il(t,e,n,r){return t instanceof xc?function(i,a,l,h){if(!Ou(i.precondition,a))return l;const _=i.value.clone(),g=E0(i.fieldTransforms,h,a);return _.setAll(g),a.convertToFoundDocument(a.version,_).setHasLocalMutations(),null}(t,e,n,r):t instanceof _a?function(i,a,l,h){if(!Ou(i.precondition,a))return l;const _=E0(i.fieldTransforms,h,a),g=a.data;return g.setAll(KE(i)),g.setAll(_),a.convertToFoundDocument(a.version,g).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(k=>k.field))}(t,e,n,r):function(i,a,l){return Ou(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function OP(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=zE(r.transform,i||null);a!=null&&(n===null&&(n=Wn.empty()),n.set(r.field,a))}return n||null}function w0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&qs(n,r,(i,a)=>DP(i,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class xc extends yh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class _a extends yh{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function KE(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function x0(t,e,n){const r=new Map;yt(t.length===n.length);for(let i=0;i<n.length;i++){const a=t[i],l=a.transform,h=e.data.field(a.field);r.set(a.field,NP(l,h,n[i]))}return r}function E0(t,e,n){const r=new Map;for(const i of t){const a=i.transform,l=n.data.field(i.field);r.set(i.field,TP(a,l,e))}return r}class YE extends yh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MP extends yh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $t,st;function LP(t){switch(t){default:return Qe();case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0}}function JE(t){if(t===void 0)return pi("GRPC error has no .code"),he.UNKNOWN;switch(t){case $t.OK:return he.OK;case $t.CANCELLED:return he.CANCELLED;case $t.UNKNOWN:return he.UNKNOWN;case $t.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case $t.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case $t.INTERNAL:return he.INTERNAL;case $t.UNAVAILABLE:return he.UNAVAILABLE;case $t.UNAUTHENTICATED:return he.UNAUTHENTICATED;case $t.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case $t.NOT_FOUND:return he.NOT_FOUND;case $t.ALREADY_EXISTS:return he.ALREADY_EXISTS;case $t.PERMISSION_DENIED:return he.PERMISSION_DENIED;case $t.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case $t.ABORTED:return he.ABORTED;case $t.OUT_OF_RANGE:return he.OUT_OF_RANGE;case $t.UNIMPLEMENTED:return he.UNIMPLEMENTED;case $t.DATA_LOSS:return he.DATA_LOSS;default:return Qe()}}(st=$t||($t={}))[st.OK=0]="OK",st[st.CANCELLED=1]="CANCELLED",st[st.UNKNOWN=2]="UNKNOWN",st[st.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",st[st.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",st[st.NOT_FOUND=5]="NOT_FOUND",st[st.ALREADY_EXISTS=6]="ALREADY_EXISTS",st[st.PERMISSION_DENIED=7]="PERMISSION_DENIED",st[st.UNAUTHENTICATED=16]="UNAUTHENTICATED",st[st.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",st[st.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",st[st.ABORTED=10]="ABORTED",st[st.OUT_OF_RANGE=11]="OUT_OF_RANGE",st[st.UNIMPLEMENTED=12]="UNIMPLEMENTED",st[st.INTERNAL=13]="INTERNAL",st[st.UNAVAILABLE=14]="UNAVAILABLE",st[st.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ts(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return DE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP=new Yt(je.comparator);function gi(){return RP}const QE=new Yt(je.comparator);function jo(...t){let e=QE;for(const n of t)e=e.insert(n.key,n);return e}function XE(t){let e=QE;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ia(){return al()}function ZE(){return al()}function al(){return new lo(t=>t.toString(),(t,e)=>t.isEqual(e))}const $P=new Yt(je.comparator),FP=new Kt(je.comparator);function it(...t){let e=FP;for(const n of t)e=e.add(n);return e}const UP=new Kt(ft);function ek(){return UP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n){const r=new Map;return r.set(e,Ec.createSynthesizedTargetChangeForCurrentChange(e,n)),new bh(rt.min(),r,ek(),gi(),it())}}class Ec{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n){return new Ec(pn.EMPTY_BYTE_STRING,n,it(),it(),it())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,n,r,i){this.Tt=e,this.removedTargetIds=n,this.key=r,this.Et=i}}class tk{constructor(e,n){this.targetId=e,this.At=n}}class nk{constructor(e,n,r=pn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class k0{constructor(){this.Rt=0,this.bt=C0(),this.Pt=pn.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return this.Rt!==0}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=it(),n=it(),r=it();return this.bt.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Qe()}}),new Ec(this.Pt,this.vt,e,n,r)}Nt(){this.Vt=!1,this.bt=C0()}kt(e,n){this.Vt=!0,this.bt=this.bt.insert(e,n)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class jP{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=gi(),this.qt=S0(),this.Kt=new Kt(ft)}Gt(e){for(const n of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(n,e.Et):this.jt(n,e.key,e.Et);for(const n of e.removedTargetIds)this.jt(n,e.key,e.Et)}Wt(e){this.forEachTarget(e,n=>{const r=this.zt(n);switch(e.state){case 0:this.Ht(n)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(n);break;case 3:this.Ht(n)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(n)&&(this.Jt(n),r.Ct(e.resumeToken));break;default:Qe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Lt.forEach((r,i)=>{this.Ht(i)&&n(i)})}Yt(e){const n=e.targetId,r=e.At.count,i=this.Xt(n);if(i){const a=i.target;if(op(a))if(r===0){const l=new je(a.path);this.jt(n,l,cn.newNoDocument(l,rt.min()))}else yt(r===1);else this.Zt(n)!==r&&(this.Jt(n),this.Kt=this.Kt.add(n))}}te(e){const n=new Map;this.Lt.forEach((a,l)=>{const h=this.Xt(l);if(h){if(a.current&&op(h.target)){const _=new je(h.target.path);this.Ut.get(_)!==null||this.ee(l,_)||this.jt(l,_,cn.newNoDocument(_,e))}a.Dt&&(n.set(l,a.xt()),a.Nt())}});let r=it();this.qt.forEach((a,l)=>{let h=!0;l.forEachWhile(_=>{const g=this.Xt(_);return!g||g.purpose===2||(h=!1,!1)}),h&&(r=r.add(a))}),this.Ut.forEach((a,l)=>l.setReadTime(e));const i=new bh(e,n,this.Kt,this.Ut,r);return this.Ut=gi(),this.qt=S0(),this.Kt=new Kt(ft),i}Qt(e,n){if(!this.Ht(e))return;const r=this.ee(e,n.key)?2:0;this.zt(e).kt(n.key,r),this.Ut=this.Ut.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ne(n.key).add(e))}jt(e,n,r){if(!this.Ht(e))return;const i=this.zt(e);this.ee(e,n)?i.kt(n,1):i.Mt(n),this.qt=this.qt.insert(n,this.ne(n).delete(e)),r&&(this.Ut=this.Ut.insert(n,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const n=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let n=this.Lt.get(e);return n||(n=new k0,this.Lt.set(e,n)),n}ne(e){let n=this.qt.get(e);return n||(n=new Kt(ft),this.qt=this.qt.insert(e,n)),n}Ht(e){const n=this.Xt(e)!==null;return n||Ue("WatchChangeAggregator","Detected inactive target",e),n}Xt(e){const n=this.Lt.get(e);return n&&n.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new k0),this.Bt.getRemoteKeysForTarget(e).forEach(n=>{this.jt(e,n,null)})}ee(e,n){return this.Bt.getRemoteKeysForTarget(e).has(n)}}function S0(){return new Yt(je.comparator)}function C0(){return new Yt(je.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),zP=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))();class HP{constructor(e,n){this.databaseId=e,this.gt=n}}function Cd(t,e){return t.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rk(t,e){return t.gt?e.toBase64():e.toUint8Array()}function BP(t,e){return Cd(t,e.toTimestamp())}function li(t){return yt(!!t),rt.fromTimestamp(function(e){const n=aa(e);return new Gt(n.seconds,n.nanos)}(t))}function wg(t,e){return function(n){return new Et(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function ik(t){const e=Et.fromString(t);return yt(ok(e)),e}function up(t,e){return wg(t.databaseId,e.path)}function If(t,e){const n=ik(e);if(n.get(1)!==t.databaseId.projectId)throw new Le(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Le(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new je(ak(n))}function dp(t,e){return wg(t.databaseId,e)}function qP(t){const e=ik(t);return e.length===4?Et.emptyPath():ak(e)}function hp(t){return new Et(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ak(t){return yt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function T0(t,e,n){return{name:up(t,e),fields:n.value.mapValue.fields}}function WP(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Qe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(_,g){return _.gt?(yt(g===void 0||typeof g=="string"),pn.fromBase64String(g||"")):(yt(g===void 0||g instanceof Uint8Array),pn.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,h=l&&function(_){const g=_.code===void 0?he.UNKNOWN:JE(_.code);return new Le(g,_.message||"")}(l);n=new nk(r,i,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=If(t,r.document.name),a=li(r.document.updateTime),l=new Wn({mapValue:{fields:r.document.fields}}),h=cn.newFoundDocument(i,a,l),_=r.targetIds||[],g=r.removedTargetIds||[];n=new Mu(_,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=If(t,r.document),a=r.readTime?li(r.readTime):rt.min(),l=cn.newNoDocument(i,a),h=r.removedTargetIds||[];n=new Mu([],h,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=If(t,r.document),a=r.removedTargetIds||[];n=new Mu([],a,i,null)}else{if(!("filter"in e))return Qe();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,a=new PP(i),l=r.targetId;n=new tk(l,a)}}return n}function GP(t,e){let n;if(e instanceof xc)n={update:T0(t,e.key,e.value)};else if(e instanceof YE)n={delete:up(t,e.key)};else if(e instanceof _a)n={update:T0(t,e.key,e.data),updateMask:rL(e.fieldMask)};else{if(!(e instanceof MP))return Qe();n={verify:up(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const l=a.transform;if(l instanceof Vl)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof zl)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Hl)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Bl)return{fieldPath:a.field.canonicalString(),increment:l.yt};throw Qe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:BP(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Qe()}(t,e.precondition)),n}function KP(t,e){return t&&t.length>0?(yt(e!==void 0),t.map(n=>function(r,i){let a=r.updateTime?li(r.updateTime):li(i);return a.isEqual(rt.min())&&(a=li(i)),new IP(a,r.transformResults||[])}(n,e))):[]}function YP(t,e){return{documents:[dp(t,e.path)]}}function JP(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=dp(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=dp(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(_){if(_.length===0)return;const g=_.map(k=>function(C){if(C.op==="=="){if(p0(C.value))return{unaryFilter:{field:ss(C.field),op:"IS_NAN"}};if(_0(C.value))return{unaryFilter:{field:ss(C.field),op:"IS_NULL"}}}else if(C.op==="!="){if(p0(C.value))return{unaryFilter:{field:ss(C.field),op:"IS_NOT_NAN"}};if(_0(C.value))return{unaryFilter:{field:ss(C.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ss(C.field),op:eL(C.op),value:C.value}}}(k));return g.length===1?g[0]:{compositeFilter:{op:"AND",filters:g}}}(e.filters);i&&(n.structuredQuery.where=i);const a=function(_){if(_.length!==0)return _.map(g=>function(k){return{field:ss(k.field),direction:ZP(k.dir)}}(g))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=function(_,g){return _.gt||ph(g)?g:{value:g}}(t,e.limit);var h;return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),n}function QP(t){let e=qP(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){yt(r===1);const k=n.from[0];k.allDescendants?i=k.collectionId:e=e.child(k.collectionId)}let a=[];n.where&&(a=sk(n.where));let l=[];n.orderBy&&(l=n.orderBy.map(k=>function(C){return new rl(Es(C.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(k)));let h=null;n.limit&&(h=function(k){let C;return C=typeof k=="object"?k.value:k,ph(C)?null:C}(n.limit));let _=null;n.startAt&&(_=function(k){const C=!!k.before,T=k.values||[];return new Sd(T,C)}(n.startAt));let g=null;return n.endAt&&(g=function(k){const C=!k.before,T=k.values||[];return new Sd(T,C)}(n.endAt)),kP(e,i,l,a,h,"F",_,g)}function XP(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Qe()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function sk(t){return t?t.unaryFilter!==void 0?[nL(t)]:t.fieldFilter!==void 0?[tL(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(e=>sk(e)).reduce((e,n)=>e.concat(n)):Qe():[]}function ZP(t){return VP[t]}function eL(t){return zP[t]}function ss(t){return{fieldPath:t.canonicalString()}}function Es(t){return kn.fromServerFormat(t.fieldPath)}function tL(t){return Ln.create(Es(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Qe()}}(t.fieldFilter.op),t.fieldFilter.value)}function nL(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Es(t.unaryFilter.field);return Ln.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Es(t.unaryFilter.field);return Ln.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Es(t.unaryFilter.field);return Ln.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Es(t.unaryFilter.field);return Ln.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Qe()}}function rL(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ok(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iL{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&AP(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=il(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=il(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=ZE();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let h=this.applyToLocalView(l,a.mutatedFields);h=n.has(i.key)?null:h;const _=GE(l,h);_!==null&&r.set(i.key,_),l.isValidDocument()||l.convertToNoDocument(rt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),it())}isEqual(e){return this.batchId===e.batchId&&qs(this.mutations,e.mutations,(n,r)=>w0(n,r))&&qs(this.baseMutations,e.baseMutations,(n,r)=>w0(n,r))}}class xg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){yt(e.mutations.length===r.length);let i=$P;const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new xg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e,n,r,i,a=rt.min(),l=rt.min(),h=pn.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=h}withSequenceNumber(e){return new Pa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Pa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Pa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sL{constructor(e){this.re=e}}function oL(t){const e=QP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?lp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(){this.Ye=new cL}addToCollectionParentIndex(e,n){return this.Ye.add(n),ve.resolve()}getCollectionParents(e,n){return ve.resolve(this.Ye.getEntries(n))}addFieldIndex(e,n){return ve.resolve()}deleteFieldIndex(e,n){return ve.resolve()}getDocumentsMatchingTarget(e,n){return ve.resolve(null)}getIndexType(e,n){return ve.resolve(0)}getFieldIndexes(e,n){return ve.resolve([])}getNextCollectionGroupToUpdate(e){return ve.resolve(null)}getMinOffset(e,n){return ve.resolve(ia.min())}getMinOffsetFromCollectionGroup(e,n){return ve.resolve(ia.min())}updateCollectionGroup(e,n,r){return ve.resolve()}updateIndexEntries(e,n){return ve.resolve()}}class cL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Kt(Et.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Kt(Et.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Ks(0)}static vn(){return new Ks(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(){this.changes=new lo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ve.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.getBaseDocument(e,n,r))).next(i=>(r!==null&&il(r.mutation,i,vr.empty(),Gt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,it()).next(()=>r))}getLocalViewOfDocuments(e,n,r=it()){const i=Ia();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let l=jo();return a.forEach((h,_)=>{l=l.insert(h,_.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=Ia();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,it()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,h)=>{n.set(l,h)})})}computeViews(e,n,r,i){let a=gi();const l=al(),h=al();return n.forEach((_,g)=>{const k=r.get(g.key);i.has(g.key)&&(k===void 0||k.mutation instanceof _a)?a=a.insert(g.key,g):k!==void 0&&(l.set(g.key,k.mutation.getFieldMask()),il(k.mutation,g,k.mutation.getFieldMask(),Gt.now()))}),this.recalculateAndSaveOverlays(e,a).next(_=>(_.forEach((g,k)=>l.set(g,k)),n.forEach((g,k)=>{var C;return h.set(g,new dL(k,(C=l.get(g))!==null&&C!==void 0?C:null))}),h))}recalculateAndSaveOverlays(e,n){const r=al();let i=new Yt((l,h)=>l-h),a=it();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const h of l)h.keys().forEach(_=>{const g=n.get(_);if(g===null)return;let k=r.get(_)||vr.empty();k=h.applyToLocalView(g,k),r.set(_,k);const C=(i.get(h.batchId)||it()).add(_);i=i.insert(h.batchId,C)})}).next(()=>{const l=[],h=i.getReverseIterator();for(;h.hasNext();){const _=h.getNext(),g=_.key,k=_.value,C=ZE();k.forEach(T=>{if(!a.has(T)){const O=GE(n.get(T),r.get(T));O!==null&&C.set(T,O),a=a.add(T)}}),l.push(this.documentOverlayCache.saveOverlays(e,g,C))}return ve.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return je.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):RE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):ve.resolve(Ia());let h=-1,_=a;return l.next(g=>ve.forEach(g,(k,C)=>(h<C.largestBatchId&&(h=C.largestBatchId),a.get(k)?ve.resolve():this.getBaseDocument(e,k,C).next(T=>{_=_.insert(k,T)}))).next(()=>this.populateOverlays(e,g,a)).next(()=>this.computeViews(e,_,g,it())).next(k=>({batchId:h,changes:XE(k)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new je(n)).next(r=>{let i=jo();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let a=jo();return this.indexManager.getCollectionParents(e,i).next(l=>ve.forEach(l,h=>{const _=function(g,k){return new wc(k,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,h.child(i));return this.getDocumentsMatchingCollectionQuery(e,_,r).next(g=>{g.forEach((k,C)=>{a=a.insert(k,C)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,n.path,r).next(a=>(i=a,this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId))).next(a=>{a.forEach((h,_)=>{const g=_.getKey();i.get(g)===null&&(i=i.insert(g,cn.newInvalidDocument(g)))});let l=jo();return i.forEach((h,_)=>{const g=a.get(h);g!==void 0&&il(g.mutation,_,vr.empty(),Gt.now()),bg(n,_)&&(l=l.insert(h,_))}),l})}getBaseDocument(e,n,r){return r===null||r.mutation.type===1?this.remoteDocumentCache.getEntry(e,n):ve.resolve(cn.newInvalidDocument(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return ve.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:li(r.createTime)}),ve.resolve()}getNamedQuery(e,n){return ve.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,function(r){return{name:r.name,query:oL(r.bundledQuery),readTime:li(r.readTime)}}(n)),ve.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(){this.overlays=new Yt(je.comparator),this.es=new Map}getOverlay(e,n){return ve.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ia();return ve.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.ue(e,n,a)}),ve.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.es.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.es.delete(r)),ve.resolve()}getOverlaysForCollection(e,n,r){const i=Ia(),a=n.length+1,l=new je(n.child("")),h=this.overlays.getIteratorFrom(l);for(;h.hasNext();){const _=h.getNext().value,g=_.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===a&&_.largestBatchId>r&&i.set(_.getKey(),_)}return ve.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new Yt((g,k)=>g-k);const l=this.overlays.getIterator();for(;l.hasNext();){const g=l.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>r){let k=a.get(g.largestBatchId);k===null&&(k=Ia(),a=a.insert(g.largestBatchId,k)),k.set(g.getKey(),g)}}const h=Ia(),_=a.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((g,k)=>h.set(g,k)),!(h.size()>=i)););return ve.resolve(h)}ue(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new aL(n,r));let a=this.es.get(n);a===void 0&&(a=it(),this.es.set(n,a)),this.es.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(){this.ns=new Kt(Zt.ss),this.rs=new Kt(Zt.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const r=new Zt(e,n);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.cs(new Zt(e,n))}hs(e,n){e.forEach(r=>this.removeReference(r,n))}ls(e){const n=new je(new Et([])),r=new Zt(n,e),i=new Zt(n,e+1),a=[];return this.rs.forEachInRange([r,i],l=>{this.cs(l),a.push(l.key)}),a}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new je(new Et([])),r=new Zt(n,e),i=new Zt(n,e+1);let a=it();return this.rs.forEachInRange([r,i],l=>{a=a.add(l.key)}),a}containsKey(e){const n=new Zt(e,0),r=this.ns.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Zt{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return je.comparator(e.key,n.key)||ft(e._s,n._s)}static os(e,n){return ft(e._s,n._s)||je.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new Kt(Zt.ss)}checkEmpty(e){return ve.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new iL(a,n,r,i);this.mutationQueue.push(l);for(const h of i)this.gs=this.gs.add(new Zt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ve.resolve(l)}lookupMutationBatch(e,n){return ve.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ps(r),a=i<0?0:i;return ve.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ve.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return ve.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Zt(n,0),i=new Zt(n,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],l=>{const h=this.ys(l._s);a.push(h)}),ve.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Kt(ft);return n.forEach(i=>{const a=new Zt(i,0),l=new Zt(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([a,l],h=>{r=r.add(h._s)})}),ve.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;je.isDocumentKey(a)||(a=a.child(""));const l=new Zt(new je(a),0);let h=new Kt(ft);return this.gs.forEachWhile(_=>{const g=_.key.path;return!!r.isPrefixOf(g)&&(g.length===i&&(h=h.add(_._s)),!0)},l),ve.resolve(this.Is(h))}Is(e){const n=[];return e.forEach(r=>{const i=this.ys(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){yt(this.Ts(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.gs;return ve.forEach(n.mutations,i=>{const a=new Zt(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,n){const r=new Zt(n,0),i=this.gs.firstAfterOrEqual(r);return ve.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ve.resolve()}Ts(e,n){return this.ps(e)}ps(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mL{constructor(e){this.Es=e,this.docs=new Yt(je.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,l=this.Es(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ve.resolve(r?r.document.mutableCopy():cn.newInvalidDocument(n))}getEntries(e,n){let r=gi();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():cn.newInvalidDocument(i))}),ve.resolve(r)}getAllFromCollection(e,n,r){let i=gi();const a=new je(n.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:h,value:{document:_}}=l.getNext();if(!n.isPrefixOf(h.path))break;h.path.length>n.length+1||oP(sP(_),r)<=0||(i=i.insert(_.key,_.mutableCopy()))}return ve.resolve(i)}getAllFromCollectionGroup(e,n,r,i){Qe()}As(e,n){return ve.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new gL(this)}getSize(e){return ve.resolve(this.size)}}class gL extends uL{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),ve.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(e){this.persistence=e,this.Rs=new lo(n=>vg(n),yg),this.lastRemoteSnapshotVersion=rt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Eg,this.targetCount=0,this.vs=Ks.Pn()}forEachTarget(e,n){return this.Rs.forEach((r,i)=>n(i)),ve.resolve()}getLastRemoteSnapshotVersion(e){return ve.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ve.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),ve.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.bs&&(this.bs=n),ve.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new Ks(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,ve.resolve()}updateTargetData(e,n){return this.Dn(n),ve.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,ve.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.Rs.forEach((l,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.Rs.delete(l),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)}),ve.waitFor(a).next(()=>i)}getTargetCount(e){return ve.resolve(this.targetCount)}getTargetData(e,n){const r=this.Rs.get(n)||null;return ve.resolve(r)}addMatchingKeys(e,n,r){return this.Ps.us(n,r),ve.resolve()}removeMatchingKeys(e,n,r){this.Ps.hs(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),ve.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),ve.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ps.ds(n);return ve.resolve(r)}containsKey(e,n){return ve.resolve(this.Ps.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new mg(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new vL(this),this.indexManager=new lL,this.remoteDocumentCache=function(r){return new mL(r)}(r=>this.referenceDelegate.xs(r)),this.It=new sL(n),this.Ns=new fL(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new _L,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Vs[e.toKey()];return r||(r=new pL(n,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,r){Ue("MemoryPersistence","Starting transaction:",e);const i=new bL(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(a=>this.referenceDelegate.Ms(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Os(e,n){return ve.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,n)))}}class bL extends cP{constructor(e){super(),this.currentSequenceNumber=e}}class kg{constructor(e){this.persistence=e,this.Fs=new Eg,this.$s=null}static Bs(e){return new kg(e)}get Ls(){if(this.$s)return this.$s;throw Qe()}addReference(e,n,r){return this.Fs.addReference(r,n),this.Ls.delete(r.toString()),ve.resolve()}removeReference(e,n,r){return this.Fs.removeReference(r,n),this.Ls.add(r.toString()),ve.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),ve.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.Ls.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}ks(){this.$s=new Set}Ms(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ve.forEach(this.Ls,r=>{const i=je.fromPath(r);return this.Us(e,i).next(a=>{a||n.removeEntry(i,rt.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.Us(e,n).next(r=>{r?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}Us(e,n){return ve.or([()=>ve.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Os(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Si=r,this.Di=i}static Ci(e,n){let r=it(),i=it();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Sg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.ki(e,n).next(a=>a||this.Mi(e,n,i,r)).next(a=>a||this.Oi(e,n))}ki(e,n){if(y0(n))return ve.resolve(null);let r=mi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=lp(n,null,"F"),r=mi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=it(...a);return this.Ni.getDocuments(e,l).next(h=>this.indexManager.getMinOffset(e,r).next(_=>{const g=this.Fi(n,h);return this.$i(n,g,l,_.readTime)?this.ki(e,lp(n,null,"F")):this.Bi(e,g,n,_)}))})))}Mi(e,n,r,i){return y0(n)||i.isEqual(rt.min())?this.Oi(e,n):this.Ni.getDocuments(e,r).next(a=>{const l=this.Fi(n,a);return this.$i(n,l,r,i)?this.Oi(e,n):(l0()<=ht.DEBUG&&Ue("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),cp(n)),this.Bi(e,l,n,aP(i,-1)))})}Fi(e,n){let r=new Kt(FE(e));return n.forEach((i,a)=>{bg(e,a)&&(r=r.add(a))}),r}$i(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Oi(e,n){return l0()<=ht.DEBUG&&Ue("QueryEngine","Using full collection scan to execute query:",cp(n)),this.Ni.getDocumentsMatchingQuery(e,n,ia.min())}Bi(e,n,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e,n,r,i){this.persistence=e,this.Li=n,this.It=i,this.Ui=new Yt(ft),this.qi=new lo(a=>vg(a),yg),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hL(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ui))}}function EL(t,e,n,r){return new xL(t,e,n,r)}async function lk(t,e){const n=Ze(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.Qi(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],h=[];let _=it();for(const g of i){l.push(g.batchId);for(const k of g.mutations)_=_.add(k.key)}for(const g of a){h.push(g.batchId);for(const k of g.mutations)_=_.add(k.key)}return n.localDocuments.getDocuments(r,_).next(g=>({ji:g,removedBatchIds:l,addedBatchIds:h}))})})}function kL(t,e){const n=Ze(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.Gi.newChangeBuffer({trackRemovals:!0});return function(l,h,_,g){const k=_.batch,C=k.keys();let T=ve.resolve();return C.forEach(O=>{T=T.next(()=>g.getEntry(h,O)).next(L=>{const N=_.docVersions.get(O);yt(N!==null),L.version.compareTo(N)<0&&(k.applyToRemoteDocument(L,_),L.isValidDocument()&&(L.setReadTime(_.commitVersion),g.addEntry(L)))})}),T.next(()=>l.mutationQueue.removeMutationBatch(h,k))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let h=it();for(let _=0;_<l.mutationResults.length;++_)l.mutationResults[_].transformResults.length>0&&(h=h.add(l.batch.mutations[_].key));return h}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function ck(t){const e=Ze(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function SL(t,e){const n=Ze(t),r=e.snapshotVersion;let i=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.Ui;const h=[];e.targetChanges.forEach((k,C)=>{const T=i.get(C);if(!T)return;h.push(n.Cs.removeMatchingKeys(a,k.removedDocuments,C).next(()=>n.Cs.addMatchingKeys(a,k.addedDocuments,C)));let O=T.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.has(C)?O=O.withResumeToken(pn.EMPTY_BYTE_STRING,rt.min()).withLastLimboFreeSnapshotVersion(rt.min()):k.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(k.resumeToken,r)),i=i.insert(C,O),function(L,N,P){return L.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=3e8?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0}(T,O,k)&&h.push(n.Cs.updateTargetData(a,O))});let _=gi(),g=it();if(e.documentUpdates.forEach(k=>{e.resolvedLimboDocuments.has(k)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(a,k))}),h.push(CL(a,l,e.documentUpdates).next(k=>{_=k.Wi,g=k.zi})),!r.isEqual(rt.min())){const k=n.Cs.getLastRemoteSnapshotVersion(a).next(C=>n.Cs.setTargetsMetadata(a,a.currentSequenceNumber,r));h.push(k)}return ve.waitFor(h).next(()=>l.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,_,g)).next(()=>_)}).then(a=>(n.Ui=i,a))}function CL(t,e,n){let r=it(),i=it();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let l=gi();return n.forEach((h,_)=>{const g=a.get(h);_.isFoundDocument()!==g.isFoundDocument()&&(i=i.add(h)),_.isNoDocument()&&_.version.isEqual(rt.min())?(e.removeEntry(h,_.readTime),l=l.insert(h,_)):!g.isValidDocument()||_.version.compareTo(g.version)>0||_.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(_),l=l.insert(h,_)):Ue("LocalStore","Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",_.version)}),{Wi:l,zi:i}})}function TL(t,e){const n=Ze(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function NL(t,e){const n=Ze(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Cs.getTargetData(r,e).next(a=>a?(i=a,ve.resolve(i)):n.Cs.allocateTargetId(r).next(l=>(i=new Pa(e,l,0,r.currentSequenceNumber),n.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ui.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(r.targetId,r),n.qi.set(e,r.targetId)),r})}async function fp(t,e,n){const r=Ze(t),i=r.Ui.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!bc(l))throw l;Ue("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ui=r.Ui.remove(e),r.qi.delete(i.target)}function N0(t,e,n){const r=Ze(t);let i=rt.min(),a=it();return r.persistence.runTransaction("Execute query","readonly",l=>function(h,_,g){const k=Ze(h),C=k.qi.get(g);return C!==void 0?ve.resolve(k.Ui.get(C)):k.Cs.getTargetData(_,g)}(r,l,mi(e)).next(h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(l,h.targetId).next(_=>{a=_})}).next(()=>r.Li.getDocumentsMatchingQuery(l,e,n?i:rt.min(),n?a:it())).next(h=>(DL(r,SP(e),h),{documents:h,Hi:a})))}function DL(t,e,n){let r=rt.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Ki.set(e,r)}class D0{constructor(){this.activeTargetIds=ek()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class IL{constructor(){this.Lr=new D0,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,n,r){this.Ur[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new D0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{qr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Ue("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Ue("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.oo=n+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,n,r,i,a){const l=this.ao(e,n);Ue("RestConnection","Sending: ",l,r);const h={};return this.ho(h,i,a),this.lo(e,l,h,r).then(_=>(Ue("RestConnection","Received: ",_),_),_=>{throw c0("RestConnection",`${e} failed with error: `,_,"url: ",l,"request:",r),_})}fo(e,n,r,i,a,l){return this.co(e,n,r,i,a)}ho(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+oo,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}ao(e,n){const r=OL[e];return`${this.oo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,n,r,i){return new Promise((a,l)=>{const h=new YM;h.listenOnce(WM.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Df.NO_ERROR:const g=h.getResponseJson();Ue("Connection","XHR received:",JSON.stringify(g)),a(g);break;case Df.TIMEOUT:Ue("Connection",'RPC "'+e+'" timed out'),l(new Le(he.DEADLINE_EXCEEDED,"Request time out"));break;case Df.HTTP_ERROR:const k=h.getStatus();if(Ue("Connection",'RPC "'+e+'" failed with status:',k,"response text:",h.getResponseText()),k>0){const C=h.getResponseJson().error;if(C&&C.status&&C.message){const T=function(O){const L=O.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(L)>=0?L:he.UNKNOWN}(C.status);l(new Le(T,C.message))}else l(new Le(he.UNKNOWN,"Server responded with status "+h.getStatus()))}else l(new Le(he.UNAVAILABLE,"Connection failed."));break;default:Qe()}}finally{Ue("Connection",'RPC "'+e+'" completed.')}});const _=JSON.stringify(i);h.send(n,"POST",_,r,15)})}_o(e,n,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=BM(),l=qM(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new KM({})),this.ho(h.initMessageHeaders,n,r),Bx()||Wx()||CD()||Gx()||TD()||qx()||(h.httpHeadersOverwriteParam="$httpHeaders");const _=i.join("");Ue("Connection","Creating WebChannel: "+_,h);const g=a.createWebChannel(_,h);let k=!1,C=!1;const T=new ML({Hr:L=>{C?Ue("Connection","Not sending because WebChannel is closed:",L):(k||(Ue("Connection","Opening WebChannel transport."),g.open(),k=!0),Ue("Connection","WebChannel sending:",L),g.send(L))},Jr:()=>g.close()}),O=(L,N,P)=>{L.listen(N,I=>{try{P(I)}catch(A){setTimeout(()=>{throw A},0)}})};return O(g,iu.EventType.OPEN,()=>{C||Ue("Connection","WebChannel transport opened.")}),O(g,iu.EventType.CLOSE,()=>{C||(C=!0,Ue("Connection","WebChannel transport closed"),T.io())}),O(g,iu.EventType.ERROR,L=>{C||(C=!0,c0("Connection","WebChannel transport errored:",L),T.io(new Le(he.UNAVAILABLE,"The operation could not be completed")))}),O(g,iu.EventType.MESSAGE,L=>{var N;if(!C){const P=L.data[0];yt(!!P);const I=P,A=I.error||((N=I[0])===null||N===void 0?void 0:N.error);if(A){Ue("Connection","WebChannel received error:",A);const R=A.status;let V=function(W){const z=$t[W];if(z!==void 0)return JE(z)}(R),j=A.message;V===void 0&&(V=he.INTERNAL,j="Unknown error status: "+R+" with message "+A.message),C=!0,T.io(new Le(V,j)),g.close()}else Ue("Connection","WebChannel received:",P),T.ro(P)}}),O(l,GM.STAT_EVENT,L=>{L.stat===s0.PROXY?Ue("Connection","Detected buffering proxy"):L.stat===s0.NOPROXY&&Ue("Connection","Detected no buffering proxy")}),setTimeout(()=>{T.so()},0),T}}function Af(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(t){return new HP(t,!0)}class uk{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Hs=e,this.timerId=n,this.wo=r,this.mo=i,this.yo=a,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&Ue("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.po} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){this.Io!==null&&(this.Io.skipDelay(),this.Io=null)}cancel(){this.Io!==null&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e,n,r,i,a,l,h,_){this.Hs=e,this.Po=r,this.vo=i,this.Vo=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=h,this.listener=_,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new uk(e,n)}No(){return this.state===1||this.state===5||this.ko()}ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Mo()}async stop(){this.No()&&await this.close(0)}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&this.Do===null&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(e,n){this.Lo(),this.Uo(),this.xo.cancel(),this.So++,e!==4?this.xo.reset():n&&n.code===he.RESOURCE_EXHAUSTED?(pi(n.toString()),pi("Using maximum backoff delay to prevent overloading the backend."),this.xo.Eo()):n&&n.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.qo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(n)}qo(){}auth(){this.state=1;const e=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===n&&this.Go(r,i)},r=>{e(()=>{const i=new Le(he.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,n){const r=this.Ko(this.So);this.stream=this.jo(e,n),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Mo(){this.state=5,this.xo.Ao(async()=>{this.state=0,this.start()})}Qo(e){return Ue("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return n=>{this.Hs.enqueueAndForget(()=>this.So===e?n():(Ue("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class LL extends dk{constructor(e,n,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.It=a}jo(e,n){return this.Vo._o("Listen",e,n)}onMessage(e){this.xo.reset();const n=WP(this.It,e),r=function(i){if(!("targetChange"in i))return rt.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?rt.min():a.readTime?li(a.readTime):rt.min()}(e);return this.listener.Wo(n,r)}zo(e){const n={};n.database=hp(this.It),n.addTarget=function(i,a){let l;const h=a.target;return l=op(h)?{documents:YP(i,h)}:{query:JP(i,h)},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?l.resumeToken=rk(i,a.resumeToken):a.snapshotVersion.compareTo(rt.min())>0&&(l.readTime=Cd(i,a.snapshotVersion.toTimestamp())),l}(this.It,e);const r=XP(this.It,e);r&&(n.labels=r),this.Bo(n)}Ho(e){const n={};n.database=hp(this.It),n.removeTarget=e,this.Bo(n)}}class RL extends dk{constructor(e,n,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.It=a,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,n){return this.Vo._o("Write",e,n)}onMessage(e){if(yt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const n=KP(e.writeResults,e.commitTime),r=li(e.commitTime);return this.listener.Zo(r,n)}return yt(!e.writeResults||e.writeResults.length===0),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=hp(this.It),this.Bo(e)}Xo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>GP(this.It,r))};this.Bo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.Vo=r,this.It=i,this.nu=!1}su(){if(this.nu)throw new Le(he.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,n,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.Vo.co(e,n,r,i,a)).catch(i=>{throw i.name==="FirebaseError"?(i.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Le(he.UNKNOWN,i.toString())})}fo(e,n,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.Vo.fo(e,n,r,a,l,i)).catch(a=>{throw a.name==="FirebaseError"?(a.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Le(he.UNKNOWN,a.toString())})}terminate(){this.nu=!0}}class FL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){this.iu===0&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){this.state==="Online"?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,e==="Online"&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(pi(n),this.ou=!1):Ue("OnlineStateTracker",n)}lu(){this.ru!==null&&(this.ru.cancel(),this.ru=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.qr(l=>{r.enqueueAndForget(async()=>{ns(this)&&(Ue("RemoteStore","Restarting streams for network reachability change."),await async function(h){const _=Ze(h);_._u.add(4),await kc(_),_.gu.set("Unknown"),_._u.delete(4),await xh(_)}(this))})}),this.gu=new FL(r,i)}}async function xh(t){if(ns(t))for(const e of t.wu)await e(!0)}async function kc(t){for(const e of t.wu)await e(!1)}function hk(t,e){const n=Ze(t);n.du.has(e.targetId)||(n.du.set(e.targetId,e),Ng(n)?Tg(n):co(n).ko()&&Cg(n,e))}function fk(t,e){const n=Ze(t),r=co(n);n.du.delete(e),r.ko()&&_k(n,e),n.du.size===0&&(r.ko()?r.Fo():ns(n)&&n.gu.set("Unknown"))}function Cg(t,e){t.yu.Ot(e.targetId),co(t).zo(e)}function _k(t,e){t.yu.Ot(e),co(t).Ho(e)}function Tg(t){t.yu=new jP({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),se:e=>t.du.get(e)||null}),co(t).start(),t.gu.uu()}function Ng(t){return ns(t)&&!co(t).No()&&t.du.size>0}function ns(t){return Ze(t)._u.size===0}function pk(t){t.yu=void 0}async function jL(t){t.du.forEach((e,n)=>{Cg(t,e)})}async function VL(t,e){pk(t),Ng(t)?(t.gu.hu(e),Tg(t)):t.gu.set("Unknown")}async function zL(t,e,n){if(t.gu.set("Online"),e instanceof nk&&e.state===2&&e.cause)try{await async function(r,i){const a=i.cause;for(const l of i.targetIds)r.du.has(l)&&(await r.remoteSyncer.rejectListen(l,a),r.du.delete(l),r.yu.removeTarget(l))}(t,e)}catch(r){Ue("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Td(t,r)}else if(e instanceof Mu?t.yu.Gt(e):e instanceof tk?t.yu.Yt(e):t.yu.Wt(e),!n.isEqual(rt.min()))try{const r=await ck(t.localStore);n.compareTo(r)>=0&&await function(i,a){const l=i.yu.te(a);return l.targetChanges.forEach((h,_)=>{if(h.resumeToken.approximateByteSize()>0){const g=i.du.get(_);g&&i.du.set(_,g.withResumeToken(h.resumeToken,a))}}),l.targetMismatches.forEach(h=>{const _=i.du.get(h);if(!_)return;i.du.set(h,_.withResumeToken(pn.EMPTY_BYTE_STRING,_.snapshotVersion)),_k(i,h);const g=new Pa(_.target,h,1,_.sequenceNumber);Cg(i,g)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){Ue("RemoteStore","Failed to raise snapshot:",r),await Td(t,r)}}async function Td(t,e,n){if(!bc(e))throw e;t._u.add(1),await kc(t),t.gu.set("Offline"),n||(n=()=>ck(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ue("RemoteStore","Retrying IndexedDB access"),await n(),t._u.delete(1),await xh(t)})}function mk(t,e){return e().catch(n=>Td(t,n,e))}async function Eh(t){const e=Ze(t),n=sa(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;HL(e);)try{const i=await TL(e.localStore,r);if(i===null){e.fu.length===0&&n.Fo();break}r=i.batchId,BL(e,i)}catch(i){await Td(e,i)}gk(e)&&vk(e)}function HL(t){return ns(t)&&t.fu.length<10}function BL(t,e){t.fu.push(e);const n=sa(t);n.ko()&&n.Yo&&n.Xo(e.mutations)}function gk(t){return ns(t)&&!sa(t).No()&&t.fu.length>0}function vk(t){sa(t).start()}async function qL(t){sa(t).eu()}async function WL(t){const e=sa(t);for(const n of t.fu)e.Xo(n.mutations)}async function GL(t,e,n){const r=t.fu.shift(),i=xg.from(r,e,n);await mk(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Eh(t)}async function KL(t,e){e&&sa(t).Yo&&await async function(n,r){if(i=r.code,LP(i)&&i!==he.ABORTED){const a=n.fu.shift();sa(n).Oo(),await mk(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,r)),await Eh(n)}var i}(t,e),gk(t)&&vk(t)}async function A0(t,e){const n=Ze(t);n.asyncQueue.verifyOperationInProgress(),Ue("RemoteStore","RemoteStore received new credentials");const r=ns(n);n._u.add(3),await kc(n),r&&n.gu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n._u.delete(3),await xh(n)}async function YL(t,e){const n=Ze(t);e?(n._u.delete(2),await xh(n)):e||(n._u.add(2),await kc(n),n.gu.set("Unknown"))}function co(t){return t.pu||(t.pu=function(e,n,r){const i=Ze(e);return i.su(),new LL(n,i.Vo,i.authCredentials,i.appCheckCredentials,i.It,r)}(t.datastore,t.asyncQueue,{Yr:jL.bind(null,t),Zr:VL.bind(null,t),Wo:zL.bind(null,t)}),t.wu.push(async e=>{e?(t.pu.Oo(),Ng(t)?Tg(t):t.gu.set("Unknown")):(await t.pu.stop(),pk(t))})),t.pu}function sa(t){return t.Iu||(t.Iu=function(e,n,r){const i=Ze(e);return i.su(),new RL(n,i.Vo,i.authCredentials,i.appCheckCredentials,i.It,r)}(t.datastore,t.asyncQueue,{Yr:qL.bind(null,t),Zr:KL.bind(null,t),tu:WL.bind(null,t),Zo:GL.bind(null,t)}),t.wu.push(async e=>{e?(t.Iu.Oo(),await Eh(t)):(await t.Iu.stop(),t.fu.length>0&&(Ue("RemoteStore",`Stopping write stream with ${t.fu.length} pending writes`),t.fu=[]))})),t.Iu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new oi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,n,r,i,a){const l=Date.now()+r,h=new Dg(e,n,l,i,a);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Le(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ig(t,e){if(pi("AsyncQueue",`${e}: ${t}`),bc(t))return new Le(he.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms{constructor(e){this.comparator=e?(n,r)=>e(n,r)||je.comparator(n.key,r.key):(n,r)=>je.comparator(n.key,r.key),this.keyedMap=jo(),this.sortedSet=new Yt(this.comparator)}static emptySet(e){return new Ms(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ms)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ms;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(){this.Tu=new Yt(je.comparator)}track(e){const n=e.doc.key,r=this.Tu.get(n);r?e.type!==0&&r.type===3?this.Tu=this.Tu.insert(n,e):e.type===3&&r.type!==1?this.Tu=this.Tu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Tu=this.Tu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Tu=this.Tu.remove(n):e.type===1&&r.type===2?this.Tu=this.Tu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):Qe():this.Tu=this.Tu.insert(n,e)}Eu(){const e=[];return this.Tu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ys{constructor(e,n,r,i,a,l,h,_){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=h,this.excludesMetadataChanges=_}static fromInitialDocuments(e,n,r,i){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new Ys(e,n,Ms.emptySet(n),a,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(){this.Au=void 0,this.listeners=[]}}class QL{constructor(){this.queries=new lo(e=>$E(e),gh),this.onlineState="Unknown",this.Ru=new Set}}async function Ag(t,e){const n=Ze(t),r=e.query;let i=!1,a=n.queries.get(r);if(a||(i=!0,a=new JL),i)try{a.Au=await n.onListen(r)}catch(l){const h=Ig(l,`Initialization of query '${cp(e.query)}' failed`);return void e.onError(h)}n.queries.set(r,a),a.listeners.push(e),e.bu(n.onlineState),a.Au&&e.Pu(a.Au)&&Mg(n)}async function Og(t,e){const n=Ze(t),r=e.query;let i=!1;const a=n.queries.get(r);if(a){const l=a.listeners.indexOf(e);l>=0&&(a.listeners.splice(l,1),i=a.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function XL(t,e){const n=Ze(t);let r=!1;for(const i of e){const a=i.query,l=n.queries.get(a);if(l){for(const h of l.listeners)h.Pu(i)&&(r=!0);l.Au=i}}r&&Mg(n)}function ZL(t,e,n){const r=Ze(t),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(n);r.queries.delete(e)}function Mg(t){t.Ru.forEach(e=>{e.next()})}class Pg{constructor(e,n,r){this.query=e,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ys(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),n=!0):this.Cu(e,this.onlineState)&&(this.xu(e),n=!0),this.Su=e,n}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let n=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),n=!0),n}Cu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Nu||!r)&&(!e.docs.isEmpty()||n==="Offline")}Du(e){if(e.docChanges.length>0)return!0;const n=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}xu(e){e=Ys.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(e){this.key=e}}class bk{constructor(e){this.key=e}}class eR{constructor(e,n){this.query=e,this.Lu=n,this.Uu=null,this.current=!1,this.qu=it(),this.mutatedKeys=it(),this.Ku=FE(e),this.Gu=new Ms(this.Ku)}get Qu(){return this.Lu}ju(e,n){const r=n?n.Wu:new O0,i=n?n.Gu:this.Gu;let a=n?n.mutatedKeys:this.mutatedKeys,l=i,h=!1;const _=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,g=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((k,C)=>{const T=i.get(k),O=bg(this.query,C)?C:null,L=!!T&&this.mutatedKeys.has(T.key),N=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let P=!1;T&&O?T.data.isEqual(O.data)?L!==N&&(r.track({type:3,doc:O}),P=!0):this.zu(T,O)||(r.track({type:2,doc:O}),P=!0,(_&&this.Ku(O,_)>0||g&&this.Ku(O,g)<0)&&(h=!0)):!T&&O?(r.track({type:0,doc:O}),P=!0):T&&!O&&(r.track({type:1,doc:T}),P=!0,(_||g)&&(h=!0)),P&&(O?(l=l.add(O),a=N?a.add(k):a.delete(k)):(l=l.delete(k),a=a.delete(k)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const k=this.query.limitType==="F"?l.last():l.first();l=l.delete(k.key),a=a.delete(k.key),r.track({type:1,doc:k})}return{Gu:l,Wu:r,$i:h,mutatedKeys:a}}zu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const a=e.Wu.Eu();a.sort((g,k)=>function(C,T){const O=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Qe()}};return O(C)-O(T)}(g.type,k.type)||this.Ku(g.doc,k.doc)),this.Hu(r);const l=n?this.Ju():[],h=this.qu.size===0&&this.current?1:0,_=h!==this.Uu;return this.Uu=h,a.length!==0||_?{snapshot:new Ys(this.query,e.Gu,i,a,e.mutatedKeys,h===0,_,!1),Yu:l}:{Yu:l}}bu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new O0,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(n=>this.Lu=this.Lu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Lu=this.Lu.delete(n)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=it(),this.Gu.forEach(r=>{this.Xu(r.key)&&(this.qu=this.qu.add(r.key))});const n=[];return e.forEach(r=>{this.qu.has(r)||n.push(new bk(r))}),this.qu.forEach(r=>{e.has(r)||n.push(new yk(r))}),n}Zu(e){this.Lu=e.Hi,this.qu=it();const n=this.ju(e.documents);return this.applyChanges(n,!0)}tc(){return Ys.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,this.Uu===0)}}class tR{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class nR{constructor(e){this.key=e,this.ec=!1}}class rR{constructor(e,n,r,i,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.nc={},this.sc=new lo(h=>$E(h),gh),this.ic=new Map,this.rc=new Set,this.oc=new Yt(je.comparator),this.uc=new Map,this.cc=new Eg,this.ac={},this.hc=new Map,this.lc=Ks.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return this.fc===!0}}async function iR(t,e){const n=_R(t);let r,i;const a=n.sc.get(e);if(a)r=a.targetId,n.sharedClientState.addLocalQueryTarget(r),i=a.view.tc();else{const l=await NL(n.localStore,mi(e));n.isPrimaryClient&&hk(n.remoteStore,l);const h=n.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,i=await aR(n,e,r,h==="current")}return i}async function aR(t,e,n,r){t.dc=(k,C,T)=>async function(O,L,N,P){let I=L.view.ju(N);I.$i&&(I=await N0(O.localStore,L.query,!1).then(({documents:V})=>L.view.ju(V,I)));const A=P&&P.targetChanges.get(L.targetId),R=L.view.applyChanges(I,O.isPrimaryClient,A);return P0(O,L.targetId,R.Yu),R.snapshot}(t,k,C,T);const i=await N0(t.localStore,e,!0),a=new eR(e,i.Hi),l=a.ju(i.documents),h=Ec.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline"),_=a.applyChanges(l,t.isPrimaryClient,h);P0(t,n,_.Yu);const g=new tR(e,n,a);return t.sc.set(e,g),t.ic.has(n)?t.ic.get(n).push(e):t.ic.set(n,[e]),_.snapshot}async function sR(t,e){const n=Ze(t),r=n.sc.get(e),i=n.ic.get(r.targetId);if(i.length>1)return n.ic.set(r.targetId,i.filter(a=>!gh(a,e))),void n.sc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await fp(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),fk(n.remoteStore,r.targetId),_p(n,r.targetId)}).catch(yc)):(_p(n,r.targetId),await fp(n.localStore,r.targetId,!0))}async function oR(t,e,n){const r=pR(t);try{const i=await function(a,l){const h=Ze(a),_=Gt.now(),g=l.reduce((T,O)=>T.add(O.key),it());let k,C;return h.persistence.runTransaction("Locally write mutations","readwrite",T=>{let O=gi(),L=it();return h.Gi.getEntries(T,g).next(N=>{O=N,O.forEach((P,I)=>{I.isValidDocument()||(L=L.add(P))})}).next(()=>h.localDocuments.getOverlayedDocuments(T,O)).next(N=>{k=N;const P=[];for(const I of l){const A=OP(I,k.get(I.key).overlayedDocument);A!=null&&P.push(new _a(I.key,A,OE(A.value.mapValue),Or.exists(!0)))}return h.mutationQueue.addMutationBatch(T,_,P,l)}).next(N=>{C=N;const P=N.applyToLocalDocumentSet(k,L);return h.documentOverlayCache.saveOverlays(T,N.batchId,P)})}).then(()=>({batchId:C.batchId,changes:XE(k)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,l,h){let _=a.ac[a.currentUser.toKey()];_||(_=new Yt(ft)),_=_.insert(l,h),a.ac[a.currentUser.toKey()]=_}(r,i.batchId,n),await Sc(r,i.changes),await Eh(r.remoteStore)}catch(i){const a=Ig(i,"Failed to persist write");n.reject(a)}}async function wk(t,e){const n=Ze(t);try{const r=await SL(n.localStore,e);e.targetChanges.forEach((i,a)=>{const l=n.uc.get(a);l&&(yt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.ec=!0:i.modifiedDocuments.size>0?yt(l.ec):i.removedDocuments.size>0&&(yt(l.ec),l.ec=!1))}),await Sc(n,r,e)}catch(r){await yc(r)}}function M0(t,e,n){const r=Ze(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.sc.forEach((a,l)=>{const h=l.view.bu(e);h.snapshot&&i.push(h.snapshot)}),function(a,l){const h=Ze(a);h.onlineState=l;let _=!1;h.queries.forEach((g,k)=>{for(const C of k.listeners)C.bu(l)&&(_=!0)}),_&&Mg(h)}(r.eventManager,e),i.length&&r.nc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function lR(t,e,n){const r=Ze(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.uc.get(e),a=i&&i.key;if(a){let l=new Yt(je.comparator);l=l.insert(a,cn.newNoDocument(a,rt.min()));const h=it().add(a),_=new bh(rt.min(),new Map,new Kt(ft),l,h);await wk(r,_),r.oc=r.oc.remove(a),r.uc.delete(e),Lg(r)}else await fp(r.localStore,e,!1).then(()=>_p(r,e,n)).catch(yc)}async function cR(t,e){const n=Ze(t),r=e.batch.batchId;try{const i=await kL(n.localStore,e);Ek(n,r,null),xk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Sc(n,i)}catch(i){await yc(i)}}async function uR(t,e,n){const r=Ze(t);try{const i=await function(a,l){const h=Ze(a);return h.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let g;return h.mutationQueue.lookupMutationBatch(_,l).next(k=>(yt(k!==null),g=k.keys(),h.mutationQueue.removeMutationBatch(_,k))).next(()=>h.mutationQueue.performConsistencyCheck(_)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(_,g,l)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,g)).next(()=>h.localDocuments.getDocuments(_,g))})}(r.localStore,e);Ek(r,e,n),xk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Sc(r,i)}catch(i){await yc(i)}}function xk(t,e){(t.hc.get(e)||[]).forEach(n=>{n.resolve()}),t.hc.delete(e)}function Ek(t,e,n){const r=Ze(t);let i=r.ac[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.ac[r.currentUser.toKey()]=i}}function _p(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ic.get(e))t.sc.delete(r),n&&t.nc._c(r,n);t.ic.delete(e),t.isPrimaryClient&&t.cc.ls(e).forEach(r=>{t.cc.containsKey(r)||kk(t,r)})}function kk(t,e){t.rc.delete(e.path.canonicalString());const n=t.oc.get(e);n!==null&&(fk(t.remoteStore,n),t.oc=t.oc.remove(e),t.uc.delete(n),Lg(t))}function P0(t,e,n){for(const r of n)r instanceof yk?(t.cc.addReference(r.key,e),dR(t,r)):r instanceof bk?(Ue("SyncEngine","Document no longer in limbo: "+r.key),t.cc.removeReference(r.key,e),t.cc.containsKey(r.key)||kk(t,r.key)):Qe()}function dR(t,e){const n=e.key,r=n.path.canonicalString();t.oc.get(n)||t.rc.has(r)||(Ue("SyncEngine","New document in limbo: "+n),t.rc.add(r),Lg(t))}function Lg(t){for(;t.rc.size>0&&t.oc.size<t.maxConcurrentLimboResolutions;){const e=t.rc.values().next().value;t.rc.delete(e);const n=new je(Et.fromString(e)),r=t.lc.next();t.uc.set(r,new nR(n)),t.oc=t.oc.insert(n,r),hk(t.remoteStore,new Pa(mi(mh(n.path)),r,2,mg.at))}}async function Sc(t,e,n){const r=Ze(t),i=[],a=[],l=[];r.sc.isEmpty()||(r.sc.forEach((h,_)=>{l.push(r.dc(_,e,n).then(g=>{if(g){r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,g.fromCache?"not-current":"current"),i.push(g);const k=Sg.Ci(_.targetId,g);a.push(k)}}))}),await Promise.all(l),r.nc.Wo(i),await async function(h,_){const g=Ze(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",k=>ve.forEach(_,C=>ve.forEach(C.Si,T=>g.persistence.referenceDelegate.addReference(k,C.targetId,T)).next(()=>ve.forEach(C.Di,T=>g.persistence.referenceDelegate.removeReference(k,C.targetId,T)))))}catch(k){if(!bc(k))throw k;Ue("LocalStore","Failed to update sequence numbers: "+k)}for(const k of _){const C=k.targetId;if(!k.fromCache){const T=g.Ui.get(C),O=T.snapshotVersion,L=T.withLastLimboFreeSnapshotVersion(O);g.Ui=g.Ui.insert(C,L)}}}(r.localStore,a))}async function hR(t,e){const n=Ze(t);if(!n.currentUser.isEqual(e)){Ue("SyncEngine","User change. New user:",e.toKey());const r=await lk(n.localStore,e);n.currentUser=e,function(i,a){i.hc.forEach(l=>{l.forEach(h=>{h.reject(new Le(he.CANCELLED,a))})}),i.hc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Sc(n,r.ji)}}function fR(t,e){const n=Ze(t),r=n.uc.get(e);if(r&&r.ec)return it().add(r.key);{let i=it();const a=n.ic.get(e);if(!a)return i;for(const l of a){const h=n.sc.get(l);i=i.unionWith(h.view.Qu)}return i}}function _R(t){const e=Ze(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=wk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lR.bind(null,e),e.nc.Wo=XL.bind(null,e.eventManager),e.nc._c=ZL.bind(null,e.eventManager),e}function pR(t){const e=Ze(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uR.bind(null,e),e}class mR{constructor(){this.synchronizeTabs=!1}async initialize(e){this.It=wh(e.databaseInfo.databaseId),this.sharedClientState=this.mc(e),this.persistence=this.gc(e),await this.persistence.start(),this.localStore=this.yc(e),this.gcScheduler=this.Ic(e,this.localStore),this.indexBackfillerScheduler=this.Tc(e,this.localStore)}Ic(e,n){return null}Tc(e,n){return null}yc(e){return EL(this.persistence,new wL,e.initialUser,this.It)}gc(e){return new yL(kg.Bs,this.It)}mc(e){return new IL}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class gR{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>M0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=hR.bind(null,this.syncEngine),await YL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new QL}createDatastore(e){const n=wh(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new PL(i));var i;return function(a,l,h,_){return new $L(a,l,h,_)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,a=h=>M0(this.syncEngine,h,0),l=I0.C()?new I0:new AL,new UL(n,r,i,a,l);var n,r,i,a,l}createSyncEngine(e,n){return function(r,i,a,l,h,_,g){const k=new rR(r,i,a,l,h,_);return g&&(k.fc=!0),k}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=Ze(e);Ue("RemoteStore","RemoteStore shutting down."),n._u.add(5),await kc(n),n.mu.shutdown(),n.gu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):pi("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Hn.UNAUTHENTICATED,this.clientId=NE.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async a=>{Ue("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(Ue("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Le(he.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new oi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ig(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function yR(t,e){t.asyncQueue.verifyOperationInProgress(),Ue("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await lk(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function bR(t,e){t.asyncQueue.verifyOperationInProgress();const n=await wR(t);Ue("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>A0(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,a)=>A0(e.remoteStore,a)),t.onlineComponents=e}async function wR(t){return t.offlineComponents||(Ue("FirestoreClient","Using default OfflineComponentProvider"),await yR(t,new mR)),t.offlineComponents}async function Sk(t){return t.onlineComponents||(Ue("FirestoreClient","Using default OnlineComponentProvider"),await bR(t,new gR)),t.onlineComponents}function xR(t){return Sk(t).then(e=>e.syncEngine)}async function Nd(t){const e=await Sk(t),n=e.eventManager;return n.onListen=iR.bind(null,e.syncEngine),n.onUnlisten=sR.bind(null,e.syncEngine),n}function ER(t,e,n={}){const r=new oi;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,l,h,_){const g=new Rg({next:C=>{a.enqueueAndForget(()=>Og(i,k));const T=C.docs.has(l);!T&&C.fromCache?_.reject(new Le(he.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&C.fromCache&&h&&h.source==="server"?_.reject(new Le(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(C)},error:C=>_.reject(C)}),k=new Pg(mh(l.path),g,{includeMetadataChanges:!0,Nu:!0});return Ag(i,k)}(await Nd(t),t.asyncQueue,e,n,r)),r.promise}function kR(t,e,n={}){const r=new oi;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,l,h,_){const g=new Rg({next:C=>{a.enqueueAndForget(()=>Og(i,k)),C.fromCache&&h.source==="server"?_.reject(new Le(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(C)},error:C=>_.reject(C)}),k=new Pg(l,g,{includeMetadataChanges:!0,Nu:!0});return Ag(i,k)}(await Nd(t),t.asyncQueue,e,n,r)),r.promise}const L0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(t,e,n){if(!n)throw new Le(he.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function SR(t,e,n,r){if(e===!0&&r===!0)throw new Le(he.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function R0(t){if(!je.isDocumentKey(t))throw new Le(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function $0(t){if(je.isDocumentKey(t))throw new Le(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function kh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Qe()}function yr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Le(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=kh(t);throw new Le(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new Le(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Le(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,SR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new F0({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Le(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Le(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new F0(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new QM;switch(n.type){case"gapi":const r=n.client;return new eP(r,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Le(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=L0.get(e);n&&(Ue("ComponentProvider","Removing Datastore"),L0.delete(e),n.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Cn(this.firestore,e,this._key)}}class uo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new uo(this.firestore,e,this._query)}}class Xi extends uo{constructor(e,n,r){super(e,n,mh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Cn(this.firestore,null,new je(e))}withConverter(e){return new Xi(this.firestore,e,this._path)}}function xr(t,e,...n){if(t=_n(t),Ck("collection","path",e),t instanceof $g){const r=Et.fromString(e,...n);return $0(r),new Xi(t,null,r)}{if(!(t instanceof Cn||t instanceof Xi))throw new Le(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Et.fromString(e,...n));return $0(r),new Xi(t.firestore,null,r)}}function Pt(t,e,...n){if(t=_n(t),arguments.length===1&&(e=NE.R()),Ck("doc","path",e),t instanceof $g){const r=Et.fromString(e,...n);return R0(r),new Cn(t,null,new je(r))}{if(!(t instanceof Cn||t instanceof Xi))throw new Le(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Et.fromString(e,...n));return R0(r),new Cn(t.firestore,t instanceof Xi?t.converter:null,new je(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new uk(this,"async_queue_retry"),this.jc=()=>{const n=Af();n&&Ue("AsyncQueue","Visibility state changed to "+n.visibilityState),this.xo.bo()};const e=Af();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const n=Af();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const n=new oi;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}async Hc(){if(this.Bc.length!==0){try{await this.Bc[0](),this.Bc.shift(),this.xo.reset()}catch(e){if(!bc(e))throw e;Ue("AsyncQueue","Operation failed with retryable error: "+e)}this.Bc.length>0&&this.xo.Ao(()=>this.Hc())}}zc(e){const n=this.$c.then(()=>(this.Kc=!0,e().catch(r=>{this.qc=r,this.Kc=!1;const i=function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),l}(r);throw pi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Kc=!1,r))));return this.$c=n,n}enqueueAfterDelay(e,n,r){this.Wc(),this.Qc.indexOf(e)>-1&&(n=0);const i=Dg.createAndSchedule(this,e,n,r,a=>this.Jc(a));return this.Uc.push(i),i}Wc(){this.qc&&Qe()}verifyOperationInProgress(){}async Yc(){let e;do e=this.$c,await e;while(e!==this.$c)}Xc(e){for(const n of this.Uc)if(n.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const n=this.Uc.indexOf(e);this.Uc.splice(n,1)}}function U0(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class oa extends $g{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new CR,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Tk(this),this._firestoreClient.terminate()}}function gn(t,e){const n=typeof t=="object"?t:Qx(),r=typeof t=="string"?t:e||"(default)";return Lm(n,"firestore").getImmediate({identifier:r})}function Sh(t){return t._firestoreClient||Tk(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Tk(t){var e;const n=t._freezeSettings(),r=function(i,a,l,h){return new dP(i,a,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new vR(t._authCredentials,t._appCheckCredentials,t._queue,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Le(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Js(pn.fromBase64String(e))}catch(n){throw new Le(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Js(pn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Le(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Le(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ft(this._lat,e._lat)||ft(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR=/^__.*__$/;class NR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new _a(e,this.data,this.fieldMask,n,this.fieldTransforms):new xc(e,this.data,n,this.fieldTransforms)}}class Nk{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new _a(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Dk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Qe()}}class Ug{constructor(e,n,r,i,a,l){this.settings=e,this.databaseId=n,this.It=r,this.ignoreUndefinedProperties=i,a===void 0&&this.ea(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new Ug(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.sa({path:r,ra:!1});return i.oa(e),i}ua(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.sa({path:r,ra:!1});return i.ea(),i}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return Dd(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(e.length===0)throw this.aa("Document fields must not be empty");if(Dk(this.na)&&TR.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class DR{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.It=r||wh(e)}fa(e,n,r,i=!1){return new Ug({na:e,methodName:n,la:r,path:kn.emptyPath(),ra:!1,ha:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Th(t){const e=t._freezeSettings(),n=wh(t._databaseId);return new DR(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Ik(t,e,n,r,i,a={}){const l=t.fa(a.merge||a.mergeFields?2:0,e,n,i);Vg("Data must be an object, but it was:",l,r);const h=Ak(r,l);let _,g;if(a.merge)_=new vr(l.fieldMask),g=l.fieldTransforms;else if(a.mergeFields){const k=[];for(const C of a.mergeFields){const T=pp(e,C,n);if(!l.contains(T))throw new Le(he.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);Mk(k,T)||k.push(T)}_=new vr(k),g=l.fieldTransforms.filter(C=>_.covers(C.field))}else _=null,g=l.fieldTransforms;return new NR(new Wn(h),_,g)}class Nh extends Cc{_toFieldTransform(e){if(e.na!==2)throw e.na===1?e.aa(`${this._methodName}() can only appear at the top level of your update data`):e.aa(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nh}}class jg extends Cc{_toFieldTransform(e){return new WE(e.path,new Vl)}isEqual(e){return e instanceof jg}}class IR extends Cc{constructor(e,n){super(e),this._a=n}_toFieldTransform(e){const n=new Bl(e.It,VE(e.It,this._a));return new WE(e.path,n)}isEqual(e){return this===e}}function AR(t,e,n,r){const i=t.fa(1,e,n);Vg("Data must be an object, but it was:",i,r);const a=[],l=Wn.empty();ts(r,(_,g)=>{const k=zg(e,_,n);g=_n(g);const C=i.ua(k);if(g instanceof Nh)a.push(k);else{const T=Tc(g,C);T!=null&&(a.push(k),l.set(k,T))}});const h=new vr(a);return new Nk(l,h,i.fieldTransforms)}function OR(t,e,n,r,i,a){const l=t.fa(1,e,n),h=[pp(e,r,n)],_=[i];if(a.length%2!=0)throw new Le(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<a.length;T+=2)h.push(pp(e,a[T])),_.push(a[T+1]);const g=[],k=Wn.empty();for(let T=h.length-1;T>=0;--T)if(!Mk(g,h[T])){const O=h[T];let L=_[T];L=_n(L);const N=l.ua(O);if(L instanceof Nh)g.push(O);else{const P=Tc(L,N);P!=null&&(g.push(O),k.set(O,P))}}const C=new vr(g);return new Nk(k,C,l.fieldTransforms)}function MR(t,e,n,r=!1){return Tc(n,t.fa(r?4:3,e))}function Tc(t,e){if(Ok(t=_n(t)))return Vg("Unsupported field value:",e,t),Ak(t,e);if(t instanceof Cc)return function(n,r){if(!Dk(r.na))throw r.aa(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.aa(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ra&&e.na!==4)throw e.aa("Nested arrays are not supported");return function(n,r){const i=[];let a=0;for(const l of n){let h=Tc(l,r.ca(a));h==null&&(h={nullValue:"NULL_VALUE"}),i.push(h),a++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=_n(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return VE(r.It,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Gt.fromDate(n);return{timestampValue:Cd(r.It,i)}}if(n instanceof Gt){const i=new Gt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Cd(r.It,i)}}if(n instanceof Fg)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Js)return{bytesValue:rk(r.It,n._byteString)};if(n instanceof Cn){const i=r.databaseId,a=n.firestore._databaseId;if(!a.isEqual(i))throw r.aa(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:wg(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.aa(`Unsupported field value: ${kh(n)}`)}(t,e)}function Ak(t,e){const n={};return DE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ts(t,(r,i)=>{const a=Tc(i,e.ia(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function Ok(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Gt||t instanceof Fg||t instanceof Js||t instanceof Cn||t instanceof Cc)}function Vg(t,e,n){if(!Ok(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=kh(n);throw r==="an object"?e.aa(t+" a custom object"):e.aa(t+" "+r)}}function pp(t,e,n){if((e=_n(e))instanceof Ch)return e._internalPath;if(typeof e=="string")return zg(t,e);throw Dd("Field path arguments must be of type string or ",t,!1,void 0,n)}const PR=new RegExp("[~\\*/\\[\\]]");function zg(t,e,n){if(e.search(PR)>=0)throw Dd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ch(...e.split("."))._internalPath}catch{throw Dd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Dd(t,e,n,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let _="";return(a||l)&&(_+=" (found",a&&(_+=` in field ${r}`),l&&(_+=` in document ${i}`),_+=")"),new Le(he.INVALID_ARGUMENT,h+t+_)}function Mk(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new LR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Hg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class LR extends Pk{data(){return super.data()}}function Hg(t,e){return typeof e=="string"?zg(t,e):e instanceof Ch?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Lk extends Pk{constructor(e,n,r,i,a,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Pu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Hg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Pu extends Lk{data(e={}){return super.data(e)}}class Rk{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Vo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Pu(this._firestore,this._userDataWriter,r.key,r,new Vo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Le(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new Pu(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Vo(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const h=new Pu(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Vo(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,g=-1;return l.type!==0&&(_=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),g=a.indexOf(l.doc.key)),{type:RR(l.type),doc:h,oldIndex:_,newIndex:g}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function RR(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Qe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $k(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Le(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $R{}function Id(t,...e){for(const n of e)t=n._apply(t);return t}class FR extends $R{constructor(e,n,r){super(),this.wa=e,this.ma=n,this.ga=r,this.type="where"}_apply(e){const n=Th(e.firestore),r=function(i,a,l,h,_,g,k){let C;if(_.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new Le(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){z0(k,g);const O=[];for(const L of k)O.push(V0(h,i,L));C={arrayValue:{values:O}}}else C=V0(h,i,k)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||z0(k,g),C=MR(l,a,k,g==="in"||g==="not-in");const T=Ln.create(_,g,C);return function(O,L){if(L.dt()){const P=LE(O);if(P!==null&&!P.isEqual(L.field))throw new Le(he.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${P.toString()}' and '${L.field.toString()}'`);const I=PE(O);I!==null&&UR(O,L.field,I)}const N=function(P,I){for(const A of P.filters)if(I.indexOf(A.op)>=0)return A.op;return null}(O,function(P){switch(P){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(L.op));if(N!==null)throw N===L.op?new Le(he.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${L.op.toString()}' filter.`):new Le(he.INVALID_ARGUMENT,`Invalid query. You cannot use '${L.op.toString()}' filters with '${N.toString()}' filters.`)}(i,T),T}(e._query,"where",n,e.firestore._databaseId,this.wa,this.ma,this.ga);return new uo(e.firestore,e.converter,function(i,a){const l=i.filters.concat([a]);return new wc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),l,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function j0(t,e,n){const r=e,i=Hg("where",t);return new FR(i,r,n)}function V0(t,e,n){if(typeof(n=_n(n))=="string"){if(n==="")throw new Le(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!RE(e)&&n.indexOf("/")!==-1)throw new Le(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Et.fromString(n));if(!je.isDocumentKey(r))throw new Le(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return f0(t,new je(r))}if(n instanceof Cn)return f0(t,n._key);throw new Le(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${kh(n)}.`)}function z0(t,e){if(!Array.isArray(t)||t.length===0)throw new Le(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new Le(he.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function UR(t,e,n){if(!n.isEqual(e))throw new Le(he.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{convertValue(e,n="none"){switch(Ya(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ws(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Qe()}}convertObject(e,n){const r={};return ts(e.fields,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertGeoPoint(e){return new Fg(jt(e.latitude),jt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=AE(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp($l(e));default:return null}}convertTimestamp(e){const n=aa(e);return new Gt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Et.fromString(e);yt(ok(r));const i=new Fl(r.get(1),r.get(3)),a=new je(r.popFirst(5));return i.isEqual(n)||pi(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fk(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VR(t){t=yr(t,Cn);const e=yr(t.firestore,oa);return ER(Sh(e),t._key).then(n=>Uk(e,t,n))}class Bg extends jR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Js(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Cn(this.firestore,null,n)}}function la(t){t=yr(t,uo);const e=yr(t.firestore,oa),n=Sh(e),r=new Bg(e);return $k(t._query),kR(n,t._query).then(i=>new Rk(e,r,t,i))}function Zi(t,e,n){t=yr(t,Cn);const r=yr(t.firestore,oa),i=Fk(t.converter,e,n);return qg(r,[Ik(Th(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Or.none())])}function zr(t,e,n,...r){t=yr(t,Cn);const i=yr(t.firestore,oa),a=Th(i);let l;return l=typeof(e=_n(e))=="string"||e instanceof Ch?OR(a,"updateDoc",t._key,e,n,r):AR(a,"updateDoc",t._key,e),qg(i,[l.toMutation(t._key,Or.exists(!0))])}function Dh(t,e){const n=yr(t.firestore,oa),r=Pt(t),i=Fk(t.converter,e);return qg(n,[Ik(Th(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Or.exists(!1))]).then(()=>r)}function zR(t,...e){var n,r,i;t=_n(t);let a={includeMetadataChanges:!1},l=0;typeof e[l]!="object"||U0(e[l])||(a=e[l],l++);const h={includeMetadataChanges:a.includeMetadataChanges};if(U0(e[l])){const C=e[l];e[l]=(n=C.next)===null||n===void 0?void 0:n.bind(C),e[l+1]=(r=C.error)===null||r===void 0?void 0:r.bind(C),e[l+2]=(i=C.complete)===null||i===void 0?void 0:i.bind(C)}let _,g,k;if(t instanceof Cn)g=yr(t.firestore,oa),k=mh(t._key.path),_={next:C=>{e[l]&&e[l](Uk(g,t,C))},error:e[l+1],complete:e[l+2]};else{const C=yr(t,uo);g=yr(C.firestore,oa),k=C._query;const T=new Bg(g);_={next:O=>{e[l]&&e[l](new Rk(g,T,C,O))},error:e[l+1],complete:e[l+2]},$k(t._query)}return function(C,T,O,L){const N=new Rg(L),P=new Pg(T,N,O);return C.asyncQueue.enqueueAndForget(async()=>Ag(await Nd(C),P)),()=>{N.Rc(),C.asyncQueue.enqueueAndForget(async()=>Og(await Nd(C),P))}}(Sh(g),k,h,_)}function qg(t,e){return function(n,r){const i=new oi;return n.asyncQueue.enqueueAndForget(async()=>oR(await xR(n),r,i)),i.promise}(Sh(t),e)}function Uk(t,e,n){const r=n.docs.get(e._key),i=new Bg(t);return new Lk(t,i,e._key,r,new Vo(n.hasPendingWrites,n.fromCache),e.converter)}function Ih(){return new jg("serverTimestamp")}function Ps(t){return new IR("increment",t)}(function(t,e=!0){(function(n){oo=n})(rc),Hs(new Va("firestore",(n,{instanceIdentifier:r,options:i})=>{const a=n.getProvider("app").getImmediate(),l=new oa(new XM(n.getProvider("auth-internal")),new nP(n.getProvider("app-check-internal")),function(h,_){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Le(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fl(h.options.projectId,_)}(a,r),a);return i=Object.assign({useFetchStreams:e},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),Qi(o0,"3.4.15",t),Qi(o0,"3.4.15","esm2017")})();var Ah={exports:{}},Oh={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HR=oe.exports,BR=Symbol.for("react.element"),qR=Symbol.for("react.fragment"),WR=Object.prototype.hasOwnProperty,GR=HR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,KR={key:!0,ref:!0,__self:!0,__source:!0};function jk(t,e,n){var r,i={},a=null,l=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(l=e.ref);for(r in e)WR.call(e,r)&&!KR.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:BR,type:t,key:a,ref:l,props:i,_owner:GR.current}}Oh.Fragment=qR;Oh.jsx=jk;Oh.jsxs=jk;(function(t){t.exports=Oh})(Ah);const Vn=Ah.exports.Fragment,$=Ah.exports.jsx,ie=Ah.exports.jsxs,Vk=oe.exports.createContext(),YR=({children:t})=>{gn();const[e,n]=oe.exports.useState({}),r=(l,h)=>TA(eu,l,h),i=(l,h)=>NA(eu,l,h),a=()=>IA(eu);return oe.exports.useEffect(()=>{const l=DA(eu,h=>{n(h)});return()=>{l()}},[]),$(Vk.Provider,{value:{createUser:r,userLogged:e,logOut:a,signIn:i},children:t})},lr=()=>oe.exports.useContext(Vk),zk=oe.exports.createContext(),JR=({children:t})=>{const e=gn(),{userLogged:n}=lr(),[r,i]=oe.exports.useState({});return oe.exports.useEffect(()=>{if(n){const a=zR(Pt(e,`Users/${n.uid}`),l=>{const h=l.data(),_={uid:n.uid,email:n.email,role:h.role,form:h,newNotifications:h.newNotifications,notifications:h.notifications,misClases:{actualClass:h.actualClass,remainingClases:h.remainingClases,completedClases:h.completedClases,absentedClases:h.absentedClases,teacherUid:h.teacherUid,teacher:h.teacher}};i(_)});return()=>{a()}}else i({})},[n]),$(zk.Provider,{value:{user:r},children:t})},Nn=()=>oe.exports.useContext(zk);const QR=[{title:"Mi Perfil",path:"/Account",cName:"dropdown-link"},{title:"Mi Panel",path:"/Panel",cName:"dropdown-link"},{title:"Mis Notificaciones",path:"/MisNotificaciones",cName:"dropdown-link"}];const XR=()=>{const{logOut:t}=lr(),[e,n]=oe.exports.useState(!1);jn();const r=()=>n(!e),i=async()=>{n(!1);try{await t(),swal("BYE!","sesion Finalizada!","success")}catch(a){console.log(a.message)}};return $("div",{children:ie("ul",{onClick:r,className:e?"dropdown-menu clicked":"dropdown-menu",children:[QR.map((a,l)=>$("li",{children:$(Ft,{className:a.cName,to:a.path,onClick:()=>n(!1),children:a.title})},l)),$("li",{children:$(Ft,{className:"dropdown-link",to:"/signIn",onClick:i,children:"Cerrar Sesi\xF3n"})})]})})},Hk="/assets/logo.f1e9716b.svg",ZR="/assets/userButton.41779263.png",e$="/assets/turn-notifications-on-button.500c9c80.png",t$=()=>{const{user:t}=Nn();return $("div",{children:ie("div",{className:"notificaciones",children:[$("img",{src:e$,alt:"notifications.png"}),t&&t.notifications>0?$("p",{children:t.notifications}):""]})})};const n$=()=>{const{userLogged:t,logOut:e}=lr(),n=jn(),[r,i]=oe.exports.useState(!1),[a,l]=oe.exports.useState(!1),h=()=>i(!r),_=()=>i(!1);return $("div",{children:ie("nav",{className:"navbar",children:[$(Ft,{to:"/",className:"navbar-logo",children:$("img",{src:Hk,alt:"NAVIS LOGO"})}),t?ie("div",{children:[ie("div",{className:"mobile-menu",children:[$("div",{className:"menu-icon",onClick:h,children:$("i",{className:r?"fas fa-times":"fas fa-bars"})}),ie("ul",{className:r?"nav-menu active":"nav-menu",children:[$("li",{className:"nav-item",children:$(Ft,{to:"/Account",className:"nav-links",onClick:_,children:"Mi Perfil"})}),$("li",{className:"nav-item",children:$(Ft,{to:"/Panel",className:"nav-links",onClick:_,children:"Mi Panel"})}),$("li",{className:"nav-item",children:$(Ft,{to:"/MisNotificaciones",className:"nav-links",onClick:_,children:"Mis Notificaciones"})}),$("li",{className:"nav-item",children:$(Ft,{to:"/signIn",className:"nav-links",onClick:async()=>{try{await e(),n("/signIn"),swal("BYE!","sesion Finalizada!","success")}catch(T){console.log(T.message)}},children:"Cerrar Sesi\xF3n"})})]})]}),$("div",{className:"desktop-menu",children:ie("ul",{className:"nav-menu",children:[$("li",{className:"nav-item",children:$(Ft,{to:"/MisNotificaciones",className:"nav-links",onClick:_,children:$(t$,{})})}),ie("li",{className:"nav-item",onMouseEnter:()=>{window.innerWidth<960?l(!1):l(!0)},onMouseLeave:()=>{window.innerWidth<960,l(!1)},children:[$("div",{children:ie(Ft,{to:"/Panel",className:"nav-links",onClick:_,children:[$("img",{src:ZR,alt:"userIcon.png"}),$("i",{className:"fas fa-caret-down"})]})}),a?$(XR,{}):""]})]})})]}):ie("div",{children:[ie("div",{className:"mobile-menu",children:[$("div",{className:"menu-icon",onClick:h,children:$("i",{className:r?"fas fa-times":"fas fa-bars"})}),ie("ul",{className:r?"nav-menu active":"nav-menu",children:[$("li",{className:"nav-item",children:$(Ft,{to:"/signIn",className:"nav-links",onClick:_,children:"Iniciar Sesion"})}),$("li",{className:"nav-item",children:$(Ft,{to:"/signUp",className:"nav-links",onClick:_,children:"Registrarse"})}),$("li",{className:"nav-item",children:$(Ft,{to:"/",className:"nav-links",onClick:_,children:"Cerrar"})})]})]}),$("div",{className:"desktop-menu",children:$("div",{children:ie("ul",{className:"nav-menu",children:[$("li",{className:"nav-item",children:$(Ft,{to:"/signIn",className:"nav-links",children:"Iniciar Sesi\xF3n"})}),$("li",{className:"nav-item",children:$(Ft,{to:"/signUp",className:"nav-links",children:"Registrarse"})})]})})})]})]})})};var Xt={exports:{}},r$="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",i$=r$,a$=i$;function Bk(){}function qk(){}qk.resetWarningCache=Bk;var s$=function(){function t(r,i,a,l,h,_){if(_!==a$){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:qk,resetWarningCache:Bk};return n.PropTypes=n,n};Xt.exports=s$();var o$=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,a;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(a=Object.keys(e),r=a.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=r;i--!==0;){var l=a[i];if(!t(e[l],n[l]))return!1}return!0}return e!==e&&n!==n},mp={exports:{}},Wk;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/Wk=function(){var t={},e={};return t.on=function(n,r){var i={name:n,handler:r};return e[n]=e[n]||[],e[n].unshift(i),i},t.off=function(n){var r=e[n.name].indexOf(n);r!==-1&&e[n.name].splice(r,1)},t.trigger=function(n,r){var i=e[n],a;if(i)for(a=i.length;a--;)i[a].handler(r)},t};var l$=Wk,gp={exports:{}},c$=function(e,n,r){var i=document.head||document.getElementsByTagName("head")[0],a=document.createElement("script");typeof n=="function"&&(r=n,n={}),n=n||{},r=r||function(){},a.type=n.type||"text/javascript",a.charset=n.charset||"utf8",a.async="async"in n?!!n.async:!0,a.src=e,n.attrs&&u$(a,n.attrs),n.text&&(a.text=""+n.text);var l="onload"in a?H0:d$;l(a,r),a.onload||H0(a,r),i.appendChild(a)};function u$(t,e){for(var n in e)t.setAttribute(n,e[n])}function H0(t,e){t.onload=function(){this.onerror=this.onload=null,e(null,t)},t.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),t)}}function d$(t,e){t.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,e(null,t))}}(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=c$,r=i(n);function i(a){return a&&a.__esModule?a:{default:a}}e.default=function(a){var l=new Promise(function(h){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){h(window.YT);return}else{var _=window.location.protocol==="http:"?"http:":"https:";(0,r.default)(_+"//www.youtube.com/iframe_api",function(k){k&&a.trigger("error",k)})}var g=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){g&&g(),h(window.YT)}});return l},t.exports=e.default})(gp,gp.exports);var vp={exports:{}},yp={exports:{}},bp={exports:{}},ql=1e3,Wl=ql*60,Gl=Wl*60,Kl=Gl*24,h$=Kl*365.25,f$=function(t,e){e=e||{};var n=typeof t;if(n==="string"&&t.length>0)return _$(t);if(n==="number"&&isNaN(t)===!1)return e.long?m$(t):p$(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function _$(t){if(t=String(t),!(t.length>100)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(!!e){var n=parseFloat(e[1]),r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*h$;case"days":case"day":case"d":return n*Kl;case"hours":case"hour":case"hrs":case"hr":case"h":return n*Gl;case"minutes":case"minute":case"mins":case"min":case"m":return n*Wl;case"seconds":case"second":case"secs":case"sec":case"s":return n*ql;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function p$(t){return t>=Kl?Math.round(t/Kl)+"d":t>=Gl?Math.round(t/Gl)+"h":t>=Wl?Math.round(t/Wl)+"m":t>=ql?Math.round(t/ql)+"s":t+"ms"}function m$(t){return ou(t,Kl,"day")||ou(t,Gl,"hour")||ou(t,Wl,"minute")||ou(t,ql,"second")||t+" ms"}function ou(t,e,n){if(!(t<e))return t<e*1.5?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}(function(t,e){e=t.exports=i.debug=i.default=i,e.coerce=_,e.disable=l,e.enable=a,e.enabled=h,e.humanize=f$,e.names=[],e.skips=[],e.formatters={};var n;function r(g){var k=0,C;for(C in g)k=(k<<5)-k+g.charCodeAt(C),k|=0;return e.colors[Math.abs(k)%e.colors.length]}function i(g){function k(){if(!!k.enabled){var C=k,T=+new Date,O=T-(n||T);C.diff=O,C.prev=n,C.curr=T,n=T;for(var L=new Array(arguments.length),N=0;N<L.length;N++)L[N]=arguments[N];L[0]=e.coerce(L[0]),typeof L[0]!="string"&&L.unshift("%O");var P=0;L[0]=L[0].replace(/%([a-zA-Z%])/g,function(A,R){if(A==="%%")return A;P++;var V=e.formatters[R];if(typeof V=="function"){var j=L[P];A=V.call(C,j),L.splice(P,1),P--}return A}),e.formatArgs.call(C,L);var I=k.log||e.log||console.log.bind(console);I.apply(C,L)}}return k.namespace=g,k.enabled=e.enabled(g),k.useColors=e.useColors(),k.color=r(g),typeof e.init=="function"&&e.init(k),k}function a(g){e.save(g),e.names=[],e.skips=[];for(var k=(typeof g=="string"?g:"").split(/[\s,]+/),C=k.length,T=0;T<C;T++)!k[T]||(g=k[T].replace(/\*/g,".*?"),g[0]==="-"?e.skips.push(new RegExp("^"+g.substr(1)+"$")):e.names.push(new RegExp("^"+g+"$")))}function l(){e.enable("")}function h(g){var k,C;for(k=0,C=e.skips.length;k<C;k++)if(e.skips[k].test(g))return!1;for(k=0,C=e.names.length;k<C;k++)if(e.names[k].test(g))return!0;return!1}function _(g){return g instanceof Error?g.stack||g.message:g}})(bp,bp.exports);(function(t,e){e=t.exports=bp.exports,e.log=i,e.formatArgs=r,e.save=a,e.load=l,e.useColors=n,e.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:h(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function n(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}e.formatters.j=function(_){try{return JSON.stringify(_)}catch(g){return"[UnexpectedJSONParseError]: "+g.message}};function r(_){var g=this.useColors;if(_[0]=(g?"%c":"")+this.namespace+(g?" %c":" ")+_[0]+(g?"%c ":" ")+"+"+e.humanize(this.diff),!!g){var k="color: "+this.color;_.splice(1,0,k,"color: inherit");var C=0,T=0;_[0].replace(/%[a-zA-Z%]/g,function(O){O!=="%%"&&(C++,O==="%c"&&(T=C))}),_.splice(T,0,k)}}function i(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(_){try{_==null?e.storage.removeItem("debug"):e.storage.debug=_}catch{}}function l(){var _;try{_=e.storage.debug}catch{}return!_&&typeof process<"u"&&"env"in process&&(_=process.env.DEBUG),_}e.enable(l());function h(){try{return window.localStorage}catch{}}})(yp,yp.exports);var wp={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],t.exports=e.default})(wp,wp.exports);var xp={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],t.exports=e.default})(xp,xp.exports);var Ep={exports:{}},kp={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},t.exports=e.default})(kp,kp.exports);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=kp.exports,r=i(n);function i(a){return a&&a.__esModule?a:{default:a}}e.default={pauseVideo:{acceptableStates:[r.default.ENDED,r.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[r.default.ENDED,r.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[r.default.ENDED,r.default.PLAYING,r.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},t.exports=e.default})(Ep,Ep.exports);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=yp.exports,r=k(n),i=wp.exports,a=k(i),l=xp.exports,h=k(l),_=Ep.exports,g=k(_);function k(O){return O&&O.__esModule?O:{default:O}}var C=(0,r.default)("youtube-player"),T={};T.proxyEvents=function(O){var L={},N=function(z){var B="on"+z.slice(0,1).toUpperCase()+z.slice(1);L[B]=function(K){C('event "%s"',B,K),O.trigger(z,K)}},P=!0,I=!1,A=void 0;try{for(var R=h.default[Symbol.iterator](),V;!(P=(V=R.next()).done);P=!0){var j=V.value;N(j)}}catch(W){I=!0,A=W}finally{try{!P&&R.return&&R.return()}finally{if(I)throw A}}return L},T.promisifyPlayer=function(O){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,N={},P=function(B){L&&g.default[B]?N[B]=function(){for(var K=arguments.length,Y=Array(K),Z=0;Z<K;Z++)Y[Z]=arguments[Z];return O.then(function(X){var le=g.default[B],xe=X.getPlayerState(),$e=X[B].apply(X,Y);return le.stateChangeRequired||Array.isArray(le.acceptableStates)&&le.acceptableStates.indexOf(xe)===-1?new Promise(function(Ee){var tt=function fe(){var me=X.getPlayerState(),Ce=void 0;typeof le.timeout=="number"&&(Ce=setTimeout(function(){X.removeEventListener("onStateChange",fe),Ee()},le.timeout)),Array.isArray(le.acceptableStates)&&le.acceptableStates.indexOf(me)!==-1&&(X.removeEventListener("onStateChange",fe),clearTimeout(Ce),Ee())};X.addEventListener("onStateChange",tt)}).then(function(){return $e}):$e})}:N[B]=function(){for(var K=arguments.length,Y=Array(K),Z=0;Z<K;Z++)Y[Z]=arguments[Z];return O.then(function(X){return X[B].apply(X,Y)})}},I=!0,A=!1,R=void 0;try{for(var V=a.default[Symbol.iterator](),j;!(I=(j=V.next()).done);I=!0){var W=j.value;P(W)}}catch(z){A=!0,R=z}finally{try{!I&&V.return&&V.return()}finally{if(A)throw R}}return N},e.default=T,t.exports=e.default})(vp,vp.exports);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},r=l$,i=g(r),a=gp.exports,l=g(a),h=vp.exports,_=g(h);function g(C){return C&&C.__esModule?C:{default:C}}var k=void 0;e.default=function(C){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,L=(0,i.default)();if(k||(k=(0,l.default)(L)),T.events)throw new Error("Event handlers cannot be overwritten.");if(typeof C=="string"&&!document.getElementById(C))throw new Error('Element "'+C+'" does not exist.');T.events=_.default.proxyEvents(L);var N=new Promise(function(I){if((typeof C>"u"?"undefined":n(C))==="object"&&C.playVideo instanceof Function){var A=C;I(A)}else k.then(function(R){var V=new R.Player(C,T);return L.on("ready",function(){I(V)}),null})}),P=_.default.promisifyPlayer(N,O);return P.on=L.on,P.off=L.off,P},t.exports=e.default})(mp,mp.exports);const g$=Cb(mp.exports);var v$=Object.defineProperty,y$=Object.defineProperties,b$=Object.getOwnPropertyDescriptors,B0=Object.getOwnPropertySymbols,w$=Object.prototype.hasOwnProperty,x$=Object.prototype.propertyIsEnumerable,q0=(t,e,n)=>e in t?v$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Sp=(t,e)=>{for(var n in e||(e={}))w$.call(e,n)&&q0(t,n,e[n]);if(B0)for(var n of B0(e))x$.call(e,n)&&q0(t,n,e[n]);return t},Cp=(t,e)=>y$(t,b$(e)),E$=(t,e,n)=>new Promise((r,i)=>{var a=_=>{try{h(n.next(_))}catch(g){i(g)}},l=_=>{try{h(n.throw(_))}catch(g){i(g)}},h=_=>_.done?r(_.value):Promise.resolve(_.value).then(a,l);h((n=n.apply(t,e)).next())});function k$(t,e){var n,r;if(t.videoId!==e.videoId)return!0;const i=((n=t.opts)==null?void 0:n.playerVars)||{},a=((r=e.opts)==null?void 0:r.playerVars)||{};return i.start!==a.start||i.end!==a.end}function W0(t={}){return Cp(Sp({},t),{height:0,width:0,playerVars:Cp(Sp({},t.playerVars),{autoplay:0,start:0,end:0})})}function S$(t,e){return t.videoId!==e.videoId||!o$(W0(t.opts),W0(e.opts))}function C$(t,e){var n,r,i,a;return t.id!==e.id||t.className!==e.className||((n=t.opts)==null?void 0:n.width)!==((r=e.opts)==null?void 0:r.width)||((i=t.opts)==null?void 0:i.height)!==((a=e.opts)==null?void 0:a.height)||t.iframeClassName!==e.iframeClassName||t.title!==e.title}var T$={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},N$={videoId:Xt.exports.string,id:Xt.exports.string,className:Xt.exports.string,iframeClassName:Xt.exports.string,style:Xt.exports.object,title:Xt.exports.string,loading:Xt.exports.oneOf(["lazy","eager"]),opts:Xt.exports.objectOf(Xt.exports.any),onReady:Xt.exports.func,onError:Xt.exports.func,onPlay:Xt.exports.func,onPause:Xt.exports.func,onEnd:Xt.exports.func,onStateChange:Xt.exports.func,onPlaybackRateChange:Xt.exports.func,onPlaybackQualityChange:Xt.exports.func},Lu=class extends ta.Component{constructor(t){super(t),this.destroyPlayerPromise=void 0,this.onPlayerReady=e=>{var n,r;return(r=(n=this.props).onReady)==null?void 0:r.call(n,e)},this.onPlayerError=e=>{var n,r;return(r=(n=this.props).onError)==null?void 0:r.call(n,e)},this.onPlayerStateChange=e=>{var n,r,i,a,l,h,_,g;switch((r=(n=this.props).onStateChange)==null||r.call(n,e),e.data){case Lu.PlayerState.ENDED:(a=(i=this.props).onEnd)==null||a.call(i,e);break;case Lu.PlayerState.PLAYING:(h=(l=this.props).onPlay)==null||h.call(l,e);break;case Lu.PlayerState.PAUSED:(g=(_=this.props).onPause)==null||g.call(_,e);break}},this.onPlayerPlaybackRateChange=e=>{var n,r;return(r=(n=this.props).onPlaybackRateChange)==null?void 0:r.call(n,e)},this.onPlayerPlaybackQualityChange=e=>{var n,r;return(r=(n=this.props).onPlaybackQualityChange)==null?void 0:r.call(n,e)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then(()=>this.destroyPlayerPromise=void 0),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if(typeof document>"u")return;if(this.destroyPlayerPromise){this.destroyPlayerPromise.then(this.createPlayer);return}const e=Cp(Sp({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=g$(this.container,e),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then(n=>{this.props.title&&n.setAttribute("title",this.props.title),this.props.loading&&n.setAttribute("loading",this.props.loading)})},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var e;(e=this.internalPlayer)==null||e.getIframe().then(n=>{this.props.id?n.setAttribute("id",this.props.id):n.removeAttribute("id"),this.props.iframeClassName?n.setAttribute("class",this.props.iframeClassName):n.removeAttribute("class"),this.props.opts&&this.props.opts.width?n.setAttribute("width",this.props.opts.width.toString()):n.removeAttribute("width"),this.props.opts&&this.props.opts.height?n.setAttribute("height",this.props.opts.height.toString()):n.removeAttribute("height"),this.props.title?n.setAttribute("title",this.props.title):n.setAttribute("title","YouTube video player"),this.props.loading?n.setAttribute("loading",this.props.loading):n.removeAttribute("loading")})},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var e,n,r,i;if(typeof this.props.videoId>"u"||this.props.videoId===null){(e=this.internalPlayer)==null||e.stopVideo();return}let a=!1;const l={videoId:this.props.videoId};if((n=this.props.opts)!=null&&n.playerVars&&(a=this.props.opts.playerVars.autoplay===1,"start"in this.props.opts.playerVars&&(l.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(l.endSeconds=this.props.opts.playerVars.end)),a){(r=this.internalPlayer)==null||r.loadVideoById(l);return}(i=this.internalPlayer)==null||i.cueVideoById(l)},this.refContainer=e=>{this.container=e},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(t){return E$(this,null,function*(){C$(t,this.props)&&this.updatePlayer(),S$(t,this.props)&&(yield this.resetPlayer()),k$(t,this.props)&&this.updateVideo()})}componentWillUnmount(){this.destroyPlayer()}render(){return $("div",{className:this.props.className,style:this.props.style,children:$("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer})})}},Mh=Lu;Mh.propTypes=N$;Mh.defaultProps=T$;Mh.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var D$=Mh;const I$=()=>$("div",{children:$(D$,{videoId:"UdEuBHCquPI",opts:{height:"390",width:"640",playerVars:{autoplay:1}},onReady:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onError:()=>{},onStateChange:()=>{}})});const A$=()=>ie("section",{className:"about_container",children:[ie("div",{className:"about__1",children:[ie("h2",{className:"about__title",children:["\xA1Se ",$("span",{children:"aprende"})," desde el primer d\xEDa!"]}),$("span",{className:"parrafo__content",children:"\xBFNecesitas aprobar un examen de ingl\xE9s?, \xBFQuieres estudiar en el extranjero?, \xBFEn tu trabajo dominar el ingl\xE9s es un requisito?, Te ayudaremos a conseguirlo. En Navis nos adaptamos tus objetivos a la hora de aprender ingl\xE9s, ya sea desde cero o para un fin en espec\xEDfico, con nosotros lo lograras. Aprende ingl\xE9s de manera f\xE1cil, r\xE1pida y entretenida."})]}),$("div",{className:"about__2",children:$(I$,{})})]}),O$="/assets/Teresa.744c25d6.jpg",M$="/assets/Sandra.ca614ab4.jpg",P$="/assets/Angelo.4ec0990e.jpg",L$="/assets/Jairo.e2c1adfb.jpg",R$="/assets/Valeria.a74a743c.jpg",$$="/assets/Sofia.297bb3ef.jpg",F$="/assets/Jorge.8a7c94b2.jpg",U$=[{text:"Mi hijo comenz\xF3 clases hace un a\xF1o y hoy estudia en un internado de Londres. 100% recomendado.",author:"TERESA R.",avatar:O$},{text:"Quer\xEDa que mi hijo tuviera apoyo acad\xE9mico y pudiera aprobar sus ex\xE1menes y lo logr\xF3 gracias a esta academia. Me gusta que se enfocan en las necesidades del estudiante.",author:"SANDRA M.",avatar:M$},{text:"Gracias a estas clases logr\xE9 aprobar mi examen de la Universidad de Florencia y ahora soy profesor.",author:"ANGELO L.",avatar:P$},{text:"Buscaba un curso corto para poder viajar y no sentir tanta verg\xFCenza al hablar y con Navis en un mes ya estaba lista para mi viaje.",author:"JAIRO M",avatar:L$},{text:"Por a\xF1os fue muy dif\xEDcil que mi hijo pusiera atenci\xF3n al ingl\xE9s, pero ahora le gusta. La profesora juega con \xE9l y se divierten mucho.",author:"VALERIA P.",avatar:R$},{text:"Con estas clases me prepar\xE9 para la prueba oral del TOEFL, y logr\xE9 un 28/30. I did it!.",author:"SOFIA R.",avatar:$$},{text:"Me mud\xE9 a Texas hace 4 a\xF1os, nunca aprend\xED ingl\xE9s y depend\xEDa de mi hija para las llamadas o cosas importantes, luego me cans\xE9 de mi trabajo y decid\xED comenzar a aprender para poder obtener un mejor empleo. Gracias a esta academia lo estoy logrando. Thanks Navis!.",author:"JORGE R.",avatar:F$}];const j$=()=>ie(Vn,{children:[$("div",{className:"homeSection__Title",children:$("h2",{children:"Reviews"})}),$("section",{className:"reviews__Section",children:U$.map((t,e)=>ie("div",{className:"reviews__Card",children:[$("div",{className:"reviews__Avatar",children:$("img",{src:t.avatar,alt:"User Avatar"})}),$("div",{className:"reviews__Text",children:t.text}),$("div",{className:"reviews__Author",children:t.author})]},e))})]});const V$="/assets/contacto.6d59b551.svg",z$=()=>ie(Vn,{children:[$("div",{className:"homeSection__Title",children:$("h2",{children:"Contacto"})}),ie("section",{className:"contact__Section",children:[$("div",{className:"contact__Img",children:$("img",{src:V$,alt:""})}),$("div",{className:"contact__body",children:$("span",{children:"+000 (000) 000-0000"})})]})]}),H$="/assets/puzzle.f843acf2.png",B$="/assets/objetivo.a5aea4cd.png",q$="/assets/tiempo.c53cc2a1.png",W$="/assets/tareas.b353d0fd.png",G$="/assets/interactivo.7d5c4664.png",K$="/assets/recursos.9d994c17.png",Y$="/assets/profesor.c04e4013.png",J$=[{title:"Divide el ingl\xE9s en 4 \xE1reas:",text:"hablar, escuchar, vocabulario y gram\xE1tica.",icon:H$},{title:"Adaptados a tus objetivos",text:"Te preparamos para entrevistas, viajes, ex\xE1menes acad\xE9micos, TOEFL y m\xE1s.",icon:B$},{title:"Flexible con tu tiempo",text:"T\xFA decides cuando estudiar.",icon:q$},{title:"No es una clase normal",text:"No es est\xE1tica: juegos, roles, ejercicios y conversaci\xF3n.",icon:W$},{title:"100% Interactivo",text:"Clases guiadas, con ejercicios que puedes realizar con tu profesor o por tu cuenta.",icon:G$},{title:"Recursos profesionales",text:"Nos basamos en el m\xE9todo de Cambridge, la escala de ingl\xE9s global.",icon:K$},{title:"Profesores altamente cualificados",text:"profesores especializados en la ense\xF1anza del ingl\xE9s a ni\xF1os y adultos.",icon:Y$}];function G0(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function Wg(t={},e={}){Object.keys(e).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:G0(e[n])&&G0(t[n])&&Object.keys(e[n]).length>0&&Wg(t[n],e[n])})}const Gk={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Qn(){const t=typeof document<"u"?document:{};return Wg(t,Gk),t}const Q$={document:Gk,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function sn(){const t=typeof window<"u"?window:{};return Wg(t,Q$),t}function X$(t){const e=t.__proto__;Object.defineProperty(t,"__proto__",{get(){return e},set(n){e.__proto__=n}})}class Ui extends Array{constructor(e){typeof e=="number"?super(e):(super(...e||[]),X$(this))}}function Nc(t=[]){const e=[];return t.forEach(n=>{Array.isArray(n)?e.push(...Nc(n)):e.push(n)}),e}function Kk(t,e){return Array.prototype.filter.call(t,e)}function Z$(t){const e=[];for(let n=0;n<t.length;n+=1)e.indexOf(t[n])===-1&&e.push(t[n]);return e}function e2(t,e){if(typeof t!="string")return[t];const n=[],r=e.querySelectorAll(t);for(let i=0;i<r.length;i+=1)n.push(r[i]);return n}function Ne(t,e){const n=sn(),r=Qn();let i=[];if(!e&&t instanceof Ui)return t;if(!t)return new Ui(i);if(typeof t=="string"){const a=t.trim();if(a.indexOf("<")>=0&&a.indexOf(">")>=0){let l="div";a.indexOf("<li")===0&&(l="ul"),a.indexOf("<tr")===0&&(l="tbody"),(a.indexOf("<td")===0||a.indexOf("<th")===0)&&(l="tr"),a.indexOf("<tbody")===0&&(l="table"),a.indexOf("<option")===0&&(l="select");const h=r.createElement(l);h.innerHTML=a;for(let _=0;_<h.childNodes.length;_+=1)i.push(h.childNodes[_])}else i=e2(t.trim(),e||r)}else if(t.nodeType||t===n||t===r)i.push(t);else if(Array.isArray(t)){if(t instanceof Ui)return t;i=t}return new Ui(Z$(i))}Ne.fn=Ui.prototype;function t2(...t){const e=Nc(t.map(n=>n.split(" ")));return this.forEach(n=>{n.classList.add(...e)}),this}function n2(...t){const e=Nc(t.map(n=>n.split(" ")));return this.forEach(n=>{n.classList.remove(...e)}),this}function r2(...t){const e=Nc(t.map(n=>n.split(" ")));this.forEach(n=>{e.forEach(r=>{n.classList.toggle(r)})})}function i2(...t){const e=Nc(t.map(n=>n.split(" ")));return Kk(this,n=>e.filter(r=>n.classList.contains(r)).length>0).length>0}function a2(t,e){if(arguments.length===1&&typeof t=="string")return this[0]?this[0].getAttribute(t):void 0;for(let n=0;n<this.length;n+=1)if(arguments.length===2)this[n].setAttribute(t,e);else for(const r in t)this[n][r]=t[r],this[n].setAttribute(r,t[r]);return this}function s2(t){for(let e=0;e<this.length;e+=1)this[e].removeAttribute(t);return this}function o2(t){for(let e=0;e<this.length;e+=1)this[e].style.transform=t;return this}function l2(t){for(let e=0;e<this.length;e+=1)this[e].style.transitionDuration=typeof t!="string"?`${t}ms`:t;return this}function c2(...t){let[e,n,r,i]=t;typeof t[1]=="function"&&([e,r,i]=t,n=void 0),i||(i=!1);function a(g){const k=g.target;if(!k)return;const C=g.target.dom7EventData||[];if(C.indexOf(g)<0&&C.unshift(g),Ne(k).is(n))r.apply(k,C);else{const T=Ne(k).parents();for(let O=0;O<T.length;O+=1)Ne(T[O]).is(n)&&r.apply(T[O],C)}}function l(g){const k=g&&g.target?g.target.dom7EventData||[]:[];k.indexOf(g)<0&&k.unshift(g),r.apply(this,k)}const h=e.split(" ");let _;for(let g=0;g<this.length;g+=1){const k=this[g];if(n)for(_=0;_<h.length;_+=1){const C=h[_];k.dom7LiveListeners||(k.dom7LiveListeners={}),k.dom7LiveListeners[C]||(k.dom7LiveListeners[C]=[]),k.dom7LiveListeners[C].push({listener:r,proxyListener:a}),k.addEventListener(C,a,i)}else for(_=0;_<h.length;_+=1){const C=h[_];k.dom7Listeners||(k.dom7Listeners={}),k.dom7Listeners[C]||(k.dom7Listeners[C]=[]),k.dom7Listeners[C].push({listener:r,proxyListener:l}),k.addEventListener(C,l,i)}}return this}function u2(...t){let[e,n,r,i]=t;typeof t[1]=="function"&&([e,r,i]=t,n=void 0),i||(i=!1);const a=e.split(" ");for(let l=0;l<a.length;l+=1){const h=a[l];for(let _=0;_<this.length;_+=1){const g=this[_];let k;if(!n&&g.dom7Listeners?k=g.dom7Listeners[h]:n&&g.dom7LiveListeners&&(k=g.dom7LiveListeners[h]),k&&k.length)for(let C=k.length-1;C>=0;C-=1){const T=k[C];r&&T.listener===r||r&&T.listener&&T.listener.dom7proxy&&T.listener.dom7proxy===r?(g.removeEventListener(h,T.proxyListener,i),k.splice(C,1)):r||(g.removeEventListener(h,T.proxyListener,i),k.splice(C,1))}}}return this}function d2(...t){const e=sn(),n=t[0].split(" "),r=t[1];for(let i=0;i<n.length;i+=1){const a=n[i];for(let l=0;l<this.length;l+=1){const h=this[l];if(e.CustomEvent){const _=new e.CustomEvent(a,{detail:r,bubbles:!0,cancelable:!0});h.dom7EventData=t.filter((g,k)=>k>0),h.dispatchEvent(_),h.dom7EventData=[],delete h.dom7EventData}}}return this}function h2(t){const e=this;function n(r){r.target===this&&(t.call(this,r),e.off("transitionend",n))}return t&&e.on("transitionend",n),this}function f2(t){if(this.length>0){if(t){const e=this.styles();return this[0].offsetWidth+parseFloat(e.getPropertyValue("margin-right"))+parseFloat(e.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null}function _2(t){if(this.length>0){if(t){const e=this.styles();return this[0].offsetHeight+parseFloat(e.getPropertyValue("margin-top"))+parseFloat(e.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null}function p2(){if(this.length>0){const t=sn(),e=Qn(),n=this[0],r=n.getBoundingClientRect(),i=e.body,a=n.clientTop||i.clientTop||0,l=n.clientLeft||i.clientLeft||0,h=n===t?t.scrollY:n.scrollTop,_=n===t?t.scrollX:n.scrollLeft;return{top:r.top+h-a,left:r.left+_-l}}return null}function m2(){const t=sn();return this[0]?t.getComputedStyle(this[0],null):{}}function g2(t,e){const n=sn();let r;if(arguments.length===1)if(typeof t=="string"){if(this[0])return n.getComputedStyle(this[0],null).getPropertyValue(t)}else{for(r=0;r<this.length;r+=1)for(const i in t)this[r].style[i]=t[i];return this}if(arguments.length===2&&typeof t=="string"){for(r=0;r<this.length;r+=1)this[r].style[t]=e;return this}return this}function v2(t){return t?(this.forEach((e,n)=>{t.apply(e,[e,n])}),this):this}function y2(t){const e=Kk(this,t);return Ne(e)}function b2(t){if(typeof t>"u")return this[0]?this[0].innerHTML:null;for(let e=0;e<this.length;e+=1)this[e].innerHTML=t;return this}function w2(t){if(typeof t>"u")return this[0]?this[0].textContent.trim():null;for(let e=0;e<this.length;e+=1)this[e].textContent=t;return this}function x2(t){const e=sn(),n=Qn(),r=this[0];let i,a;if(!r||typeof t>"u")return!1;if(typeof t=="string"){if(r.matches)return r.matches(t);if(r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(r.msMatchesSelector)return r.msMatchesSelector(t);for(i=Ne(t),a=0;a<i.length;a+=1)if(i[a]===r)return!0;return!1}if(t===n)return r===n;if(t===e)return r===e;if(t.nodeType||t instanceof Ui){for(i=t.nodeType?[t]:t,a=0;a<i.length;a+=1)if(i[a]===r)return!0;return!1}return!1}function E2(){let t=this[0],e;if(t){for(e=0;(t=t.previousSibling)!==null;)t.nodeType===1&&(e+=1);return e}}function k2(t){if(typeof t>"u")return this;const e=this.length;if(t>e-1)return Ne([]);if(t<0){const n=e+t;return n<0?Ne([]):Ne([this[n]])}return Ne([this[t]])}function S2(...t){let e;const n=Qn();for(let r=0;r<t.length;r+=1){e=t[r];for(let i=0;i<this.length;i+=1)if(typeof e=="string"){const a=n.createElement("div");for(a.innerHTML=e;a.firstChild;)this[i].appendChild(a.firstChild)}else if(e instanceof Ui)for(let a=0;a<e.length;a+=1)this[i].appendChild(e[a]);else this[i].appendChild(e)}return this}function C2(t){const e=Qn();let n,r;for(n=0;n<this.length;n+=1)if(typeof t=="string"){const i=e.createElement("div");for(i.innerHTML=t,r=i.childNodes.length-1;r>=0;r-=1)this[n].insertBefore(i.childNodes[r],this[n].childNodes[0])}else if(t instanceof Ui)for(r=0;r<t.length;r+=1)this[n].insertBefore(t[r],this[n].childNodes[0]);else this[n].insertBefore(t,this[n].childNodes[0]);return this}function T2(t){return this.length>0?t?this[0].nextElementSibling&&Ne(this[0].nextElementSibling).is(t)?Ne([this[0].nextElementSibling]):Ne([]):this[0].nextElementSibling?Ne([this[0].nextElementSibling]):Ne([]):Ne([])}function N2(t){const e=[];let n=this[0];if(!n)return Ne([]);for(;n.nextElementSibling;){const r=n.nextElementSibling;t?Ne(r).is(t)&&e.push(r):e.push(r),n=r}return Ne(e)}function D2(t){if(this.length>0){const e=this[0];return t?e.previousElementSibling&&Ne(e.previousElementSibling).is(t)?Ne([e.previousElementSibling]):Ne([]):e.previousElementSibling?Ne([e.previousElementSibling]):Ne([])}return Ne([])}function I2(t){const e=[];let n=this[0];if(!n)return Ne([]);for(;n.previousElementSibling;){const r=n.previousElementSibling;t?Ne(r).is(t)&&e.push(r):e.push(r),n=r}return Ne(e)}function A2(t){const e=[];for(let n=0;n<this.length;n+=1)this[n].parentNode!==null&&(t?Ne(this[n].parentNode).is(t)&&e.push(this[n].parentNode):e.push(this[n].parentNode));return Ne(e)}function O2(t){const e=[];for(let n=0;n<this.length;n+=1){let r=this[n].parentNode;for(;r;)t?Ne(r).is(t)&&e.push(r):e.push(r),r=r.parentNode}return Ne(e)}function M2(t){let e=this;return typeof t>"u"?Ne([]):(e.is(t)||(e=e.parents(t).eq(0)),e)}function P2(t){const e=[];for(let n=0;n<this.length;n+=1){const r=this[n].querySelectorAll(t);for(let i=0;i<r.length;i+=1)e.push(r[i])}return Ne(e)}function L2(t){const e=[];for(let n=0;n<this.length;n+=1){const r=this[n].children;for(let i=0;i<r.length;i+=1)(!t||Ne(r[i]).is(t))&&e.push(r[i])}return Ne(e)}function R2(){for(let t=0;t<this.length;t+=1)this[t].parentNode&&this[t].parentNode.removeChild(this[t]);return this}const K0={addClass:t2,removeClass:n2,hasClass:i2,toggleClass:r2,attr:a2,removeAttr:s2,transform:o2,transition:l2,on:c2,off:u2,trigger:d2,transitionEnd:h2,outerWidth:f2,outerHeight:_2,styles:m2,offset:p2,css:g2,each:v2,html:b2,text:w2,is:x2,index:E2,eq:k2,append:S2,prepend:C2,next:T2,nextAll:N2,prev:D2,prevAll:I2,parent:A2,parents:O2,closest:M2,find:P2,children:L2,filter:y2,remove:R2};Object.keys(K0).forEach(t=>{Object.defineProperty(Ne.fn,t,{value:K0[t],writable:!0})});function $2(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function Tp(t,e=0){return setTimeout(t,e)}function Yl(){return Date.now()}function F2(t){const e=sn();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function U2(t,e="x"){const n=sn();let r,i,a;const l=F2(t);return n.WebKitCSSMatrix?(i=l.transform||l.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(h=>h.replace(",",".")).join(", ")),a=new n.WebKitCSSMatrix(i==="none"?"":i)):(a=l.MozTransform||l.OTransform||l.MsTransform||l.msTransform||l.transform||l.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=a.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?i=a.m41:r.length===16?i=parseFloat(r[12]):i=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?i=a.m42:r.length===16?i=parseFloat(r[13]):i=parseFloat(r[5])),i||0}function lu(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function j2(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function er(...t){const e=Object(t[0]),n=["__proto__","constructor","prototype"];for(let r=1;r<t.length;r+=1){const i=t[r];if(i!=null&&!j2(i)){const a=Object.keys(Object(i)).filter(l=>n.indexOf(l)<0);for(let l=0,h=a.length;l<h;l+=1){const _=a[l],g=Object.getOwnPropertyDescriptor(i,_);g!==void 0&&g.enumerable&&(lu(e[_])&&lu(i[_])?i[_].__swiper__?e[_]=i[_]:er(e[_],i[_]):!lu(e[_])&&lu(i[_])?(e[_]={},i[_].__swiper__?e[_]=i[_]:er(e[_],i[_])):e[_]=i[_])}}}return e}function cu(t,e,n){t.style.setProperty(e,n)}function Yk({swiper:t,targetPosition:e,side:n}){const r=sn(),i=-t.translate;let a=null,l;const h=t.params.speed;t.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(t.cssModeFrameID);const _=e>i?"next":"prev",g=(C,T)=>_==="next"&&C>=T||_==="prev"&&C<=T,k=()=>{l=new Date().getTime(),a===null&&(a=l);const C=Math.max(Math.min((l-a)/h,1),0),T=.5-Math.cos(C*Math.PI)/2;let O=i+T*(e-i);if(g(O,e)&&(O=e),t.wrapperEl.scrollTo({[n]:O}),g(O,e)){t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[n]:O})}),r.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=r.requestAnimationFrame(k)};k()}let Of;function V2(){const t=sn(),e=Qn();return{smoothScroll:e.documentElement&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch),passiveListener:function(){let r=!1;try{const i=Object.defineProperty({},"passive",{get(){r=!0}});t.addEventListener("testPassiveListener",null,i)}catch{}return r}(),gestures:function(){return"ongesturestart"in t}()}}function Jk(){return Of||(Of=V2()),Of}let Mf;function z2({userAgent:t}={}){const e=Jk(),n=sn(),r=n.navigator.platform,i=t||n.navigator.userAgent,a={ios:!1,android:!1},l=n.screen.width,h=n.screen.height,_=i.match(/(Android);?[\s\/]+([\d.]+)?/);let g=i.match(/(iPad).*OS\s([\d_]+)/);const k=i.match(/(iPod)(.*OS\s([\d_]+))?/),C=!g&&i.match(/(iPhone\sOS|iOS)\s([\d_]+)/),T=r==="Win32";let O=r==="MacIntel";const L=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!g&&O&&e.touch&&L.indexOf(`${l}x${h}`)>=0&&(g=i.match(/(Version)\/([\d.]+)/),g||(g=[0,1,"13_0_0"]),O=!1),_&&!T&&(a.os="android",a.android=!0),(g||C||k)&&(a.os="ios",a.ios=!0),a}function H2(t={}){return Mf||(Mf=z2(t)),Mf}let Pf;function B2(){const t=sn();function e(){const n=t.navigator.userAgent.toLowerCase();return n.indexOf("safari")>=0&&n.indexOf("chrome")<0&&n.indexOf("android")<0}return{isSafari:e(),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent)}}function q2(){return Pf||(Pf=B2()),Pf}function W2({swiper:t,on:e,emit:n}){const r=sn();let i=null,a=null;const l=()=>{!t||t.destroyed||!t.initialized||(n("beforeResize"),n("resize"))},h=()=>{!t||t.destroyed||!t.initialized||(i=new ResizeObserver(k=>{a=r.requestAnimationFrame(()=>{const{width:C,height:T}=t;let O=C,L=T;k.forEach(({contentBoxSize:N,contentRect:P,target:I})=>{I&&I!==t.el||(O=P?P.width:(N[0]||N).inlineSize,L=P?P.height:(N[0]||N).blockSize)}),(O!==C||L!==T)&&l()})}),i.observe(t.el))},_=()=>{a&&r.cancelAnimationFrame(a),i&&i.unobserve&&t.el&&(i.unobserve(t.el),i=null)},g=()=>{!t||t.destroyed||!t.initialized||n("orientationchange")};e("init",()=>{if(t.params.resizeObserver&&typeof r.ResizeObserver<"u"){h();return}r.addEventListener("resize",l),r.addEventListener("orientationchange",g)}),e("destroy",()=>{_(),r.removeEventListener("resize",l),r.removeEventListener("orientationchange",g)})}function G2({swiper:t,extendParams:e,on:n,emit:r}){const i=[],a=sn(),l=(g,k={})=>{const C=a.MutationObserver||a.WebkitMutationObserver,T=new C(O=>{if(O.length===1){r("observerUpdate",O[0]);return}const L=function(){r("observerUpdate",O[0])};a.requestAnimationFrame?a.requestAnimationFrame(L):a.setTimeout(L,0)});T.observe(g,{attributes:typeof k.attributes>"u"?!0:k.attributes,childList:typeof k.childList>"u"?!0:k.childList,characterData:typeof k.characterData>"u"?!0:k.characterData}),i.push(T)},h=()=>{if(!!t.params.observer){if(t.params.observeParents){const g=t.$el.parents();for(let k=0;k<g.length;k+=1)l(g[k])}l(t.$el[0],{childList:t.params.observeSlideChildren}),l(t.$wrapperEl[0],{attributes:!1})}},_=()=>{i.forEach(g=>{g.disconnect()}),i.splice(0,i.length)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",h),n("destroy",_)}const K2={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const i=n?"unshift":"push";return t.split(" ").forEach(a=>{r.eventsListeners[a]||(r.eventsListeners[a]=[]),r.eventsListeners[a][i](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function i(...a){r.off(t,i),i.__emitterProxy&&delete i.__emitterProxy,e.apply(r,a)}return i.__emitterProxy=e,r.on(t,i,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((i,a)=>{(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&n.eventsListeners[r].splice(a,1)})}),n},emit(...t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let n,r,i;return typeof t[0]=="string"||Array.isArray(t[0])?(n=t[0],r=t.slice(1,t.length),i=e):(n=t[0].events,r=t[0].data,i=t[0].context||e),r.unshift(i),(Array.isArray(n)?n:n.split(" ")).forEach(l=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(h=>{h.apply(i,[l,...r])}),e.eventsListeners&&e.eventsListeners[l]&&e.eventsListeners[l].forEach(h=>{h.apply(i,r)})}),e}};function Y2(){const t=this;let e,n;const r=t.$el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r[0].clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r[0].clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(r.css("padding-left")||0,10)-parseInt(r.css("padding-right")||0,10),n=n-parseInt(r.css("padding-top")||0,10)-parseInt(r.css("padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function J2(){const t=this;function e(Y){return t.isHorizontal()?Y:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[Y]}function n(Y,Z){return parseFloat(Y.getPropertyValue(e(Z))||0)}const r=t.params,{$wrapperEl:i,size:a,rtlTranslate:l,wrongRTL:h}=t,_=t.virtual&&r.virtual.enabled,g=_?t.virtual.slides.length:t.slides.length,k=i.children(`.${t.params.slideClass}`),C=_?t.virtual.slides.length:k.length;let T=[];const O=[],L=[];let N=r.slidesOffsetBefore;typeof N=="function"&&(N=r.slidesOffsetBefore.call(t));let P=r.slidesOffsetAfter;typeof P=="function"&&(P=r.slidesOffsetAfter.call(t));const I=t.snapGrid.length,A=t.slidesGrid.length;let R=r.spaceBetween,V=-N,j=0,W=0;if(typeof a>"u")return;typeof R=="string"&&R.indexOf("%")>=0&&(R=parseFloat(R.replace("%",""))/100*a),t.virtualSize=-R,l?k.css({marginLeft:"",marginBottom:"",marginTop:""}):k.css({marginRight:"",marginBottom:"",marginTop:""}),r.centeredSlides&&r.cssMode&&(cu(t.wrapperEl,"--swiper-centered-offset-before",""),cu(t.wrapperEl,"--swiper-centered-offset-after",""));const z=r.grid&&r.grid.rows>1&&t.grid;z&&t.grid.initSlides(C);let B;const K=r.slidesPerView==="auto"&&r.breakpoints&&Object.keys(r.breakpoints).filter(Y=>typeof r.breakpoints[Y].slidesPerView<"u").length>0;for(let Y=0;Y<C;Y+=1){B=0;const Z=k.eq(Y);if(z&&t.grid.updateSlide(Y,Z,C,e),Z.css("display")!=="none"){if(r.slidesPerView==="auto"){K&&(k[Y].style[e("width")]="");const X=getComputedStyle(Z[0]),le=Z[0].style.transform,xe=Z[0].style.webkitTransform;if(le&&(Z[0].style.transform="none"),xe&&(Z[0].style.webkitTransform="none"),r.roundLengths)B=t.isHorizontal()?Z.outerWidth(!0):Z.outerHeight(!0);else{const $e=n(X,"width"),Ee=n(X,"padding-left"),tt=n(X,"padding-right"),fe=n(X,"margin-left"),me=n(X,"margin-right"),Ce=X.getPropertyValue("box-sizing");if(Ce&&Ce==="border-box")B=$e+fe+me;else{const{clientWidth:ze,offsetWidth:Ye}=Z[0];B=$e+Ee+tt+fe+me+(Ye-ze)}}le&&(Z[0].style.transform=le),xe&&(Z[0].style.webkitTransform=xe),r.roundLengths&&(B=Math.floor(B))}else B=(a-(r.slidesPerView-1)*R)/r.slidesPerView,r.roundLengths&&(B=Math.floor(B)),k[Y]&&(k[Y].style[e("width")]=`${B}px`);k[Y]&&(k[Y].swiperSlideSize=B),L.push(B),r.centeredSlides?(V=V+B/2+j/2+R,j===0&&Y!==0&&(V=V-a/2-R),Y===0&&(V=V-a/2-R),Math.abs(V)<1/1e3&&(V=0),r.roundLengths&&(V=Math.floor(V)),W%r.slidesPerGroup===0&&T.push(V),O.push(V)):(r.roundLengths&&(V=Math.floor(V)),(W-Math.min(t.params.slidesPerGroupSkip,W))%t.params.slidesPerGroup===0&&T.push(V),O.push(V),V=V+B+R),t.virtualSize+=B+R,j=B,W+=1}}if(t.virtualSize=Math.max(t.virtualSize,a)+P,l&&h&&(r.effect==="slide"||r.effect==="coverflow")&&i.css({width:`${t.virtualSize+r.spaceBetween}px`}),r.setWrapperSize&&i.css({[e("width")]:`${t.virtualSize+r.spaceBetween}px`}),z&&t.grid.updateWrapperSize(B,T,e),!r.centeredSlides){const Y=[];for(let Z=0;Z<T.length;Z+=1){let X=T[Z];r.roundLengths&&(X=Math.floor(X)),T[Z]<=t.virtualSize-a&&Y.push(X)}T=Y,Math.floor(t.virtualSize-a)-Math.floor(T[T.length-1])>1&&T.push(t.virtualSize-a)}if(T.length===0&&(T=[0]),r.spaceBetween!==0){const Y=t.isHorizontal()&&l?"marginLeft":e("marginRight");k.filter((Z,X)=>r.cssMode?X!==k.length-1:!0).css({[Y]:`${R}px`})}if(r.centeredSlides&&r.centeredSlidesBounds){let Y=0;L.forEach(X=>{Y+=X+(r.spaceBetween?r.spaceBetween:0)}),Y-=r.spaceBetween;const Z=Y-a;T=T.map(X=>X<0?-N:X>Z?Z+P:X)}if(r.centerInsufficientSlides){let Y=0;if(L.forEach(Z=>{Y+=Z+(r.spaceBetween?r.spaceBetween:0)}),Y-=r.spaceBetween,Y<a){const Z=(a-Y)/2;T.forEach((X,le)=>{T[le]=X-Z}),O.forEach((X,le)=>{O[le]=X+Z})}}if(Object.assign(t,{slides:k,snapGrid:T,slidesGrid:O,slidesSizesGrid:L}),r.centeredSlides&&r.cssMode&&!r.centeredSlidesBounds){cu(t.wrapperEl,"--swiper-centered-offset-before",`${-T[0]}px`),cu(t.wrapperEl,"--swiper-centered-offset-after",`${t.size/2-L[L.length-1]/2}px`);const Y=-t.snapGrid[0],Z=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(X=>X+Y),t.slidesGrid=t.slidesGrid.map(X=>X+Z)}if(C!==g&&t.emit("slidesLengthChange"),T.length!==I&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),O.length!==A&&t.emit("slidesGridLengthChange"),r.watchSlidesProgress&&t.updateSlidesOffset(),!_&&!r.cssMode&&(r.effect==="slide"||r.effect==="fade")){const Y=`${r.containerModifierClass}backface-hidden`,Z=t.$el.hasClass(Y);C<=r.maxBackfaceHiddenSlides?Z||t.$el.addClass(Y):Z&&t.$el.removeClass(Y)}}function Q2(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let i=0,a;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const l=h=>r?e.slides.filter(_=>parseInt(_.getAttribute("data-swiper-slide-index"),10)===h)[0]:e.slides.eq(h)[0];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||Ne([])).each(h=>{n.push(h)});else for(a=0;a<Math.ceil(e.params.slidesPerView);a+=1){const h=e.activeIndex+a;if(h>e.slides.length&&!r)break;n.push(l(h))}else n.push(l(e.activeIndex));for(a=0;a<n.length;a+=1)if(typeof n[a]<"u"){const h=n[a].offsetHeight;i=h>i?h:i}(i||i===0)&&e.$wrapperEl.css("height",`${i}px`)}function X2(){const t=this,e=t.slides;for(let n=0;n<e.length;n+=1)e[n].swiperSlideOffset=t.isHorizontal()?e[n].offsetLeft:e[n].offsetTop}function Z2(t=this&&this.translate||0){const e=this,n=e.params,{slides:r,rtlTranslate:i,snapGrid:a}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let l=-t;i&&(l=t),r.removeClass(n.slideVisibleClass),e.visibleSlidesIndexes=[],e.visibleSlides=[];for(let h=0;h<r.length;h+=1){const _=r[h];let g=_.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(g-=r[0].swiperSlideOffset);const k=(l+(n.centeredSlides?e.minTranslate():0)-g)/(_.swiperSlideSize+n.spaceBetween),C=(l-a[0]+(n.centeredSlides?e.minTranslate():0)-g)/(_.swiperSlideSize+n.spaceBetween),T=-(l-g),O=T+e.slidesSizesGrid[h];(T>=0&&T<e.size-1||O>1&&O<=e.size||T<=0&&O>=e.size)&&(e.visibleSlides.push(_),e.visibleSlidesIndexes.push(h),r.eq(h).addClass(n.slideVisibleClass)),_.progress=i?-k:k,_.originalProgress=i?-C:C}e.visibleSlides=Ne(e.visibleSlides)}function eF(t){const e=this;if(typeof t>"u"){const g=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*g||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:i,isBeginning:a,isEnd:l}=e;const h=a,_=l;r===0?(i=0,a=!0,l=!0):(i=(t-e.minTranslate())/r,a=i<=0,l=i>=1),Object.assign(e,{progress:i,isBeginning:a,isEnd:l}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),a&&!h&&e.emit("reachBeginning toEdge"),l&&!_&&e.emit("reachEnd toEdge"),(h&&!a||_&&!l)&&e.emit("fromEdge"),e.emit("progress",i)}function tF(){const t=this,{slides:e,params:n,$wrapperEl:r,activeIndex:i,realIndex:a}=t,l=t.virtual&&n.virtual.enabled;e.removeClass(`${n.slideActiveClass} ${n.slideNextClass} ${n.slidePrevClass} ${n.slideDuplicateActiveClass} ${n.slideDuplicateNextClass} ${n.slideDuplicatePrevClass}`);let h;l?h=t.$wrapperEl.find(`.${n.slideClass}[data-swiper-slide-index="${i}"]`):h=e.eq(i),h.addClass(n.slideActiveClass),n.loop&&(h.hasClass(n.slideDuplicateClass)?r.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${a}"]`).addClass(n.slideDuplicateActiveClass):r.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${a}"]`).addClass(n.slideDuplicateActiveClass));let _=h.nextAll(`.${n.slideClass}`).eq(0).addClass(n.slideNextClass);n.loop&&_.length===0&&(_=e.eq(0),_.addClass(n.slideNextClass));let g=h.prevAll(`.${n.slideClass}`).eq(0).addClass(n.slidePrevClass);n.loop&&g.length===0&&(g=e.eq(-1),g.addClass(n.slidePrevClass)),n.loop&&(_.hasClass(n.slideDuplicateClass)?r.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${_.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicateNextClass):r.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${_.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicateNextClass),g.hasClass(n.slideDuplicateClass)?r.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${g.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicatePrevClass):r.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${g.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicatePrevClass)),t.emitSlidesClasses()}function nF(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{slidesGrid:r,snapGrid:i,params:a,activeIndex:l,realIndex:h,snapIndex:_}=e;let g=t,k;if(typeof g>"u"){for(let T=0;T<r.length;T+=1)typeof r[T+1]<"u"?n>=r[T]&&n<r[T+1]-(r[T+1]-r[T])/2?g=T:n>=r[T]&&n<r[T+1]&&(g=T+1):n>=r[T]&&(g=T);a.normalizeSlideIndex&&(g<0||typeof g>"u")&&(g=0)}if(i.indexOf(n)>=0)k=i.indexOf(n);else{const T=Math.min(a.slidesPerGroupSkip,g);k=T+Math.floor((g-T)/a.slidesPerGroup)}if(k>=i.length&&(k=i.length-1),g===l){k!==_&&(e.snapIndex=k,e.emit("snapIndexChange"));return}const C=parseInt(e.slides.eq(g).attr("data-swiper-slide-index")||g,10);Object.assign(e,{snapIndex:k,realIndex:C,previousIndex:l,activeIndex:g}),e.emit("activeIndexChange"),e.emit("snapIndexChange"),h!==C&&e.emit("realIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&e.emit("slideChange")}function rF(t){const e=this,n=e.params,r=Ne(t).closest(`.${n.slideClass}`)[0];let i=!1,a;if(r){for(let l=0;l<e.slides.length;l+=1)if(e.slides[l]===r){i=!0,a=l;break}}if(r&&i)e.clickedSlide=r,e.virtual&&e.params.virtual.enabled?e.clickedIndex=parseInt(Ne(r).attr("data-swiper-slide-index"),10):e.clickedIndex=a;else{e.clickedSlide=void 0,e.clickedIndex=void 0;return}n.slideToClickedSlide&&e.clickedIndex!==void 0&&e.clickedIndex!==e.activeIndex&&e.slideToClickedSlide()}const iF={updateSize:Y2,updateSlides:J2,updateAutoHeight:Q2,updateSlidesOffset:X2,updateSlidesProgress:Z2,updateProgress:eF,updateSlidesClasses:tF,updateActiveIndex:nF,updateClickedSlide:rF};function aF(t=this.isHorizontal()?"x":"y"){const e=this,{params:n,rtlTranslate:r,translate:i,$wrapperEl:a}=e;if(n.virtualTranslate)return r?-i:i;if(n.cssMode)return i;let l=U2(a[0],t);return r&&(l=-l),l||0}function sF(t,e){const n=this,{rtlTranslate:r,params:i,$wrapperEl:a,wrapperEl:l,progress:h}=n;let _=0,g=0;const k=0;n.isHorizontal()?_=r?-t:t:g=t,i.roundLengths&&(_=Math.floor(_),g=Math.floor(g)),i.cssMode?l[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-_:-g:i.virtualTranslate||a.transform(`translate3d(${_}px, ${g}px, ${k}px)`),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?_:g;let C;const T=n.maxTranslate()-n.minTranslate();T===0?C=0:C=(t-n.minTranslate())/T,C!==h&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function oF(){return-this.snapGrid[0]}function lF(){return-this.snapGrid[this.snapGrid.length-1]}function cF(t=0,e=this.params.speed,n=!0,r=!0,i){const a=this,{params:l,wrapperEl:h}=a;if(a.animating&&l.preventInteractionOnTransition)return!1;const _=a.minTranslate(),g=a.maxTranslate();let k;if(r&&t>_?k=_:r&&t<g?k=g:k=t,a.updateProgress(k),l.cssMode){const C=a.isHorizontal();if(e===0)h[C?"scrollLeft":"scrollTop"]=-k;else{if(!a.support.smoothScroll)return Yk({swiper:a,targetPosition:-k,side:C?"left":"top"}),!0;h.scrollTo({[C?"left":"top"]:-k,behavior:"smooth"})}return!0}return e===0?(a.setTransition(0),a.setTranslate(k),n&&(a.emit("beforeTransitionStart",e,i),a.emit("transitionEnd"))):(a.setTransition(e),a.setTranslate(k),n&&(a.emit("beforeTransitionStart",e,i),a.emit("transitionStart")),a.animating||(a.animating=!0,a.onTranslateToWrapperTransitionEnd||(a.onTranslateToWrapperTransitionEnd=function(T){!a||a.destroyed||T.target===this&&(a.$wrapperEl[0].removeEventListener("transitionend",a.onTranslateToWrapperTransitionEnd),a.$wrapperEl[0].removeEventListener("webkitTransitionEnd",a.onTranslateToWrapperTransitionEnd),a.onTranslateToWrapperTransitionEnd=null,delete a.onTranslateToWrapperTransitionEnd,n&&a.emit("transitionEnd"))}),a.$wrapperEl[0].addEventListener("transitionend",a.onTranslateToWrapperTransitionEnd),a.$wrapperEl[0].addEventListener("webkitTransitionEnd",a.onTranslateToWrapperTransitionEnd))),!0}const uF={getTranslate:aF,setTranslate:sF,minTranslate:oF,maxTranslate:lF,translateTo:cF};function dF(t,e){const n=this;n.params.cssMode||n.$wrapperEl.transition(t),n.emit("setTransition",t,e)}function Qk({swiper:t,runCallbacks:e,direction:n,step:r}){const{activeIndex:i,previousIndex:a}=t;let l=n;if(l||(i>a?l="next":i<a?l="prev":l="reset"),t.emit(`transition${r}`),e&&i!==a){if(l==="reset"){t.emit(`slideResetTransition${r}`);return}t.emit(`slideChangeTransition${r}`),l==="next"?t.emit(`slideNextTransition${r}`):t.emit(`slidePrevTransition${r}`)}}function hF(t=!0,e){const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),Qk({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function fF(t=!0,e){const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),Qk({swiper:n,runCallbacks:t,direction:e,step:"End"}))}const _F={setTransition:dF,transitionStart:hF,transitionEnd:fF};function pF(t=0,e=this.params.speed,n=!0,r,i){if(typeof t!="number"&&typeof t!="string")throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof t}] given.`);if(typeof t=="string"){const R=parseInt(t,10);if(!isFinite(R))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${t}] given.`);t=R}const a=this;let l=t;l<0&&(l=0);const{params:h,snapGrid:_,slidesGrid:g,previousIndex:k,activeIndex:C,rtlTranslate:T,wrapperEl:O,enabled:L}=a;if(a.animating&&h.preventInteractionOnTransition||!L&&!r&&!i)return!1;const N=Math.min(a.params.slidesPerGroupSkip,l);let P=N+Math.floor((l-N)/a.params.slidesPerGroup);P>=_.length&&(P=_.length-1);const I=-_[P];if(h.normalizeSlideIndex)for(let R=0;R<g.length;R+=1){const V=-Math.floor(I*100),j=Math.floor(g[R]*100),W=Math.floor(g[R+1]*100);typeof g[R+1]<"u"?V>=j&&V<W-(W-j)/2?l=R:V>=j&&V<W&&(l=R+1):V>=j&&(l=R)}if(a.initialized&&l!==C&&(!a.allowSlideNext&&I<a.translate&&I<a.minTranslate()||!a.allowSlidePrev&&I>a.translate&&I>a.maxTranslate()&&(C||0)!==l))return!1;l!==(k||0)&&n&&a.emit("beforeSlideChangeStart"),a.updateProgress(I);let A;if(l>C?A="next":l<C?A="prev":A="reset",T&&-I===a.translate||!T&&I===a.translate)return a.updateActiveIndex(l),h.autoHeight&&a.updateAutoHeight(),a.updateSlidesClasses(),h.effect!=="slide"&&a.setTranslate(I),A!=="reset"&&(a.transitionStart(n,A),a.transitionEnd(n,A)),!1;if(h.cssMode){const R=a.isHorizontal(),V=T?I:-I;if(e===0){const j=a.virtual&&a.params.virtual.enabled;j&&(a.wrapperEl.style.scrollSnapType="none",a._immediateVirtual=!0),O[R?"scrollLeft":"scrollTop"]=V,j&&requestAnimationFrame(()=>{a.wrapperEl.style.scrollSnapType="",a._swiperImmediateVirtual=!1})}else{if(!a.support.smoothScroll)return Yk({swiper:a,targetPosition:V,side:R?"left":"top"}),!0;O.scrollTo({[R?"left":"top"]:V,behavior:"smooth"})}return!0}return a.setTransition(e),a.setTranslate(I),a.updateActiveIndex(l),a.updateSlidesClasses(),a.emit("beforeTransitionStart",e,r),a.transitionStart(n,A),e===0?a.transitionEnd(n,A):a.animating||(a.animating=!0,a.onSlideToWrapperTransitionEnd||(a.onSlideToWrapperTransitionEnd=function(V){!a||a.destroyed||V.target===this&&(a.$wrapperEl[0].removeEventListener("transitionend",a.onSlideToWrapperTransitionEnd),a.$wrapperEl[0].removeEventListener("webkitTransitionEnd",a.onSlideToWrapperTransitionEnd),a.onSlideToWrapperTransitionEnd=null,delete a.onSlideToWrapperTransitionEnd,a.transitionEnd(n,A))}),a.$wrapperEl[0].addEventListener("transitionend",a.onSlideToWrapperTransitionEnd),a.$wrapperEl[0].addEventListener("webkitTransitionEnd",a.onSlideToWrapperTransitionEnd)),!0}function mF(t=0,e=this.params.speed,n=!0,r){if(typeof t=="string"){const l=parseInt(t,10);if(!isFinite(l))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${t}] given.`);t=l}const i=this;let a=t;return i.params.loop&&(a+=i.loopedSlides),i.slideTo(a,e,n,r)}function gF(t=this.params.speed,e=!0,n){const r=this,{animating:i,enabled:a,params:l}=r;if(!a)return r;let h=l.slidesPerGroup;l.slidesPerView==="auto"&&l.slidesPerGroup===1&&l.slidesPerGroupAuto&&(h=Math.max(r.slidesPerViewDynamic("current",!0),1));const _=r.activeIndex<l.slidesPerGroupSkip?1:h;if(l.loop){if(i&&l.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}return l.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+_,t,e,n)}function vF(t=this.params.speed,e=!0,n){const r=this,{params:i,animating:a,snapGrid:l,slidesGrid:h,rtlTranslate:_,enabled:g}=r;if(!g)return r;if(i.loop){if(a&&i.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}const k=_?r.translate:-r.translate;function C(P){return P<0?-Math.floor(Math.abs(P)):Math.floor(P)}const T=C(k),O=l.map(P=>C(P));let L=l[O.indexOf(T)-1];if(typeof L>"u"&&i.cssMode){let P;l.forEach((I,A)=>{T>=I&&(P=A)}),typeof P<"u"&&(L=l[P>0?P-1:P])}let N=0;if(typeof L<"u"&&(N=h.indexOf(L),N<0&&(N=r.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(N=N-r.slidesPerViewDynamic("previous",!0)+1,N=Math.max(N,0))),i.rewind&&r.isBeginning){const P=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(P,t,e,n)}return r.slideTo(N,t,e,n)}function yF(t=this.params.speed,e=!0,n){const r=this;return r.slideTo(r.activeIndex,t,e,n)}function bF(t=this.params.speed,e=!0,n,r=.5){const i=this;let a=i.activeIndex;const l=Math.min(i.params.slidesPerGroupSkip,a),h=l+Math.floor((a-l)/i.params.slidesPerGroup),_=i.rtlTranslate?i.translate:-i.translate;if(_>=i.snapGrid[h]){const g=i.snapGrid[h],k=i.snapGrid[h+1];_-g>(k-g)*r&&(a+=i.params.slidesPerGroup)}else{const g=i.snapGrid[h-1],k=i.snapGrid[h];_-g<=(k-g)*r&&(a-=i.params.slidesPerGroup)}return a=Math.max(a,0),a=Math.min(a,i.slidesGrid.length-1),i.slideTo(a,t,e,n)}function wF(){const t=this,{params:e,$wrapperEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let i=t.clickedIndex,a;if(e.loop){if(t.animating)return;a=parseInt(Ne(t.clickedSlide).attr("data-swiper-slide-index"),10),e.centeredSlides?i<t.loopedSlides-r/2||i>t.slides.length-t.loopedSlides+r/2?(t.loopFix(),i=n.children(`.${e.slideClass}[data-swiper-slide-index="${a}"]:not(.${e.slideDuplicateClass})`).eq(0).index(),Tp(()=>{t.slideTo(i)})):t.slideTo(i):i>t.slides.length-r?(t.loopFix(),i=n.children(`.${e.slideClass}[data-swiper-slide-index="${a}"]:not(.${e.slideDuplicateClass})`).eq(0).index(),Tp(()=>{t.slideTo(i)})):t.slideTo(i)}else t.slideTo(i)}const xF={slideTo:pF,slideToLoop:mF,slideNext:gF,slidePrev:vF,slideReset:yF,slideToClosest:bF,slideToClickedSlide:wF};function EF(){const t=this,e=Qn(),{params:n,$wrapperEl:r}=t,i=r.children().length>0?Ne(r.children()[0].parentNode):r;i.children(`.${n.slideClass}.${n.slideDuplicateClass}`).remove();let a=i.children(`.${n.slideClass}`);if(n.loopFillGroupWithBlank){const _=n.slidesPerGroup-a.length%n.slidesPerGroup;if(_!==n.slidesPerGroup){for(let g=0;g<_;g+=1){const k=Ne(e.createElement("div")).addClass(`${n.slideClass} ${n.slideBlankClass}`);i.append(k)}a=i.children(`.${n.slideClass}`)}}n.slidesPerView==="auto"&&!n.loopedSlides&&(n.loopedSlides=a.length),t.loopedSlides=Math.ceil(parseFloat(n.loopedSlides||n.slidesPerView,10)),t.loopedSlides+=n.loopAdditionalSlides,t.loopedSlides>a.length&&t.params.loopedSlidesLimit&&(t.loopedSlides=a.length);const l=[],h=[];a.each((_,g)=>{Ne(_).attr("data-swiper-slide-index",g)});for(let _=0;_<t.loopedSlides;_+=1){const g=_-Math.floor(_/a.length)*a.length;h.push(a.eq(g)[0]),l.unshift(a.eq(a.length-g-1)[0])}for(let _=0;_<h.length;_+=1)i.append(Ne(h[_].cloneNode(!0)).addClass(n.slideDuplicateClass));for(let _=l.length-1;_>=0;_-=1)i.prepend(Ne(l[_].cloneNode(!0)).addClass(n.slideDuplicateClass))}function kF(){const t=this;t.emit("beforeLoopFix");const{activeIndex:e,slides:n,loopedSlides:r,allowSlidePrev:i,allowSlideNext:a,snapGrid:l,rtlTranslate:h}=t;let _;t.allowSlidePrev=!0,t.allowSlideNext=!0;const k=-l[e]-t.getTranslate();e<r?(_=n.length-r*3+e,_+=r,t.slideTo(_,0,!1,!0)&&k!==0&&t.setTranslate((h?-t.translate:t.translate)-k)):e>=n.length-r&&(_=-n.length+e+r,_+=r,t.slideTo(_,0,!1,!0)&&k!==0&&t.setTranslate((h?-t.translate:t.translate)-k)),t.allowSlidePrev=i,t.allowSlideNext=a,t.emit("loopFix")}function SF(){const t=this,{$wrapperEl:e,params:n,slides:r}=t;e.children(`.${n.slideClass}.${n.slideDuplicateClass},.${n.slideClass}.${n.slideBlankClass}`).remove(),r.removeAttr("data-swiper-slide-index")}const CF={loopCreate:EF,loopFix:kF,loopDestroy:SF};function TF(t){const e=this;if(e.support.touch||!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;n.style.cursor="move",n.style.cursor=t?"grabbing":"grab"}function NF(){const t=this;t.support.touch||t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="")}const DF={setGrabCursor:TF,unsetGrabCursor:NF};function IF(t,e=this){function n(r){if(!r||r===Qn()||r===sn())return null;r.assignedSlot&&(r=r.assignedSlot);const i=r.closest(t);return!i&&!r.getRootNode?null:i||n(r.getRootNode().host)}return n(e)}function AF(t){const e=this,n=Qn(),r=sn(),i=e.touchEventsData,{params:a,touches:l,enabled:h}=e;if(!h||e.animating&&a.preventInteractionOnTransition)return;!e.animating&&a.cssMode&&a.loop&&e.loopFix();let _=t;_.originalEvent&&(_=_.originalEvent);let g=Ne(_.target);if(a.touchEventsTarget==="wrapper"&&!g.closest(e.wrapperEl).length||(i.isTouchEvent=_.type==="touchstart",!i.isTouchEvent&&"which"in _&&_.which===3)||!i.isTouchEvent&&"button"in _&&_.button>0||i.isTouched&&i.isMoved)return;const k=!!a.noSwipingClass&&a.noSwipingClass!=="",C=t.composedPath?t.composedPath():t.path;k&&_.target&&_.target.shadowRoot&&C&&(g=Ne(C[0]));const T=a.noSwipingSelector?a.noSwipingSelector:`.${a.noSwipingClass}`,O=!!(_.target&&_.target.shadowRoot);if(a.noSwiping&&(O?IF(T,g[0]):g.closest(T)[0])){e.allowClick=!0;return}if(a.swipeHandler&&!g.closest(a.swipeHandler)[0])return;l.currentX=_.type==="touchstart"?_.targetTouches[0].pageX:_.pageX,l.currentY=_.type==="touchstart"?_.targetTouches[0].pageY:_.pageY;const L=l.currentX,N=l.currentY,P=a.edgeSwipeDetection||a.iOSEdgeSwipeDetection,I=a.edgeSwipeThreshold||a.iOSEdgeSwipeThreshold;if(P&&(L<=I||L>=r.innerWidth-I))if(P==="prevent")t.preventDefault();else return;if(Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),l.startX=L,l.startY=N,i.touchStartTime=Yl(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,a.threshold>0&&(i.allowThresholdMove=!1),_.type!=="touchstart"){let A=!0;g.is(i.focusableElements)&&(A=!1,g[0].nodeName==="SELECT"&&(i.isTouched=!1)),n.activeElement&&Ne(n.activeElement).is(i.focusableElements)&&n.activeElement!==g[0]&&n.activeElement.blur();const R=A&&e.allowTouchMove&&a.touchStartPreventDefault;(a.touchStartForcePreventDefault||R)&&!g[0].isContentEditable&&_.preventDefault()}e.params.freeMode&&e.params.freeMode.enabled&&e.freeMode&&e.animating&&!a.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",_)}function OF(t){const e=Qn(),n=this,r=n.touchEventsData,{params:i,touches:a,rtlTranslate:l,enabled:h}=n;if(!h)return;let _=t;if(_.originalEvent&&(_=_.originalEvent),!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",_);return}if(r.isTouchEvent&&_.type!=="touchmove")return;const g=_.type==="touchmove"&&_.targetTouches&&(_.targetTouches[0]||_.changedTouches[0]),k=_.type==="touchmove"?g.pageX:_.pageX,C=_.type==="touchmove"?g.pageY:_.pageY;if(_.preventedByNestedSwiper){a.startX=k,a.startY=C;return}if(!n.allowTouchMove){Ne(_.target).is(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(a,{startX:k,startY:C,currentX:k,currentY:C}),r.touchStartTime=Yl());return}if(r.isTouchEvent&&i.touchReleaseOnEdges&&!i.loop){if(n.isVertical()){if(C<a.startY&&n.translate<=n.maxTranslate()||C>a.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else if(k<a.startX&&n.translate<=n.maxTranslate()||k>a.startX&&n.translate>=n.minTranslate())return}if(r.isTouchEvent&&e.activeElement&&_.target===e.activeElement&&Ne(_.target).is(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}if(r.allowTouchCallbacks&&n.emit("touchMove",_),_.targetTouches&&_.targetTouches.length>1)return;a.currentX=k,a.currentY=C;const T=a.currentX-a.startX,O=a.currentY-a.startY;if(n.params.threshold&&Math.sqrt(T**2+O**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let I;n.isHorizontal()&&a.currentY===a.startY||n.isVertical()&&a.currentX===a.startX?r.isScrolling=!1:T*T+O*O>=25&&(I=Math.atan2(Math.abs(O),Math.abs(T))*180/Math.PI,r.isScrolling=n.isHorizontal()?I>i.touchAngle:90-I>i.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",_),typeof r.startMoving>"u"&&(a.currentX!==a.startX||a.currentY!==a.startY)&&(r.startMoving=!0),r.isScrolling){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!i.cssMode&&_.cancelable&&_.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&_.stopPropagation(),r.isMoved||(i.loop&&!i.cssMode&&n.loopFix(),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating&&n.$wrapperEl.trigger("webkitTransitionEnd transitionend"),r.allowMomentumBounce=!1,i.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",_)),n.emit("sliderMove",_),r.isMoved=!0;let L=n.isHorizontal()?T:O;a.diff=L,L*=i.touchRatio,l&&(L=-L),n.swipeDirection=L>0?"prev":"next",r.currentTranslate=L+r.startTranslate;let N=!0,P=i.resistanceRatio;if(i.touchReleaseOnEdges&&(P=0),L>0&&r.currentTranslate>n.minTranslate()?(N=!1,i.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+L)**P)):L<0&&r.currentTranslate<n.maxTranslate()&&(N=!1,i.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-L)**P)),N&&(_.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),i.threshold>0)if(Math.abs(L)>i.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,a.startX=a.currentX,a.startY=a.currentY,r.currentTranslate=r.startTranslate,a.diff=n.isHorizontal()?a.currentX-a.startX:a.currentY-a.startY;return}}else{r.currentTranslate=r.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),n.params.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function MF(t){const e=this,n=e.touchEventsData,{params:r,touches:i,rtlTranslate:a,slidesGrid:l,enabled:h}=e;if(!h)return;let _=t;if(_.originalEvent&&(_=_.originalEvent),n.allowTouchCallbacks&&e.emit("touchEnd",_),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&r.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}r.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const g=Yl(),k=g-n.touchStartTime;if(e.allowClick){const A=_.path||_.composedPath&&_.composedPath();e.updateClickedSlide(A&&A[0]||_.target),e.emit("tap click",_),k<300&&g-n.lastClickTime<300&&e.emit("doubleTap doubleClick",_)}if(n.lastClickTime=Yl(),Tp(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||i.diff===0||n.currentTranslate===n.startTranslate){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let C;if(r.followFinger?C=a?e.translate:-e.translate:C=-n.currentTranslate,r.cssMode)return;if(e.params.freeMode&&r.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:C});return}let T=0,O=e.slidesSizesGrid[0];for(let A=0;A<l.length;A+=A<r.slidesPerGroupSkip?1:r.slidesPerGroup){const R=A<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;typeof l[A+R]<"u"?C>=l[A]&&C<l[A+R]&&(T=A,O=l[A+R]-l[A]):C>=l[A]&&(T=A,O=l[l.length-1]-l[l.length-2])}let L=null,N=null;r.rewind&&(e.isBeginning?N=e.params.virtual&&e.params.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(L=0));const P=(C-l[T])/O,I=T<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;if(k>r.longSwipesMs){if(!r.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(P>=r.longSwipesRatio?e.slideTo(r.rewind&&e.isEnd?L:T+I):e.slideTo(T)),e.swipeDirection==="prev"&&(P>1-r.longSwipesRatio?e.slideTo(T+I):N!==null&&P<0&&Math.abs(P)>r.longSwipesRatio?e.slideTo(N):e.slideTo(T))}else{if(!r.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(_.target===e.navigation.nextEl||_.target===e.navigation.prevEl)?_.target===e.navigation.nextEl?e.slideTo(T+I):e.slideTo(T):(e.swipeDirection==="next"&&e.slideTo(L!==null?L:T+I),e.swipeDirection==="prev"&&e.slideTo(N!==null?N:T))}}function Y0(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:i,snapGrid:a}=t;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses(),(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides?t.slideTo(t.slides.length-1,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.run(),t.allowSlidePrev=i,t.allowSlideNext=r,t.params.watchOverflow&&a!==t.snapGrid&&t.checkOverflow()}function PF(t){const e=this;!e.enabled||e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation()))}function LF(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let i;const a=t.maxTranslate()-t.minTranslate();a===0?i=0:i=(t.translate-t.minTranslate())/a,i!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}let J0=!1;function RF(){}const Xk=(t,e)=>{const n=Qn(),{params:r,touchEvents:i,el:a,wrapperEl:l,device:h,support:_}=t,g=!!r.nested,k=e==="on"?"addEventListener":"removeEventListener",C=e;if(!_.touch)a[k](i.start,t.onTouchStart,!1),n[k](i.move,t.onTouchMove,g),n[k](i.end,t.onTouchEnd,!1);else{const T=i.start==="touchstart"&&_.passiveListener&&r.passiveListeners?{passive:!0,capture:!1}:!1;a[k](i.start,t.onTouchStart,T),a[k](i.move,t.onTouchMove,_.passiveListener?{passive:!1,capture:g}:g),a[k](i.end,t.onTouchEnd,T),i.cancel&&a[k](i.cancel,t.onTouchEnd,T)}(r.preventClicks||r.preventClicksPropagation)&&a[k]("click",t.onClick,!0),r.cssMode&&l[k]("scroll",t.onScroll),r.updateOnWindowResize?t[C](h.ios||h.android?"resize orientationchange observerUpdate":"resize observerUpdate",Y0,!0):t[C]("observerUpdate",Y0,!0)};function $F(){const t=this,e=Qn(),{params:n,support:r}=t;t.onTouchStart=AF.bind(t),t.onTouchMove=OF.bind(t),t.onTouchEnd=MF.bind(t),n.cssMode&&(t.onScroll=LF.bind(t)),t.onClick=PF.bind(t),r.touch&&!J0&&(e.addEventListener("touchstart",RF),J0=!0),Xk(t,"on")}function FF(){Xk(this,"off")}const UF={attachEvents:$F,detachEvents:FF},Q0=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function jF(){const t=this,{activeIndex:e,initialized:n,loopedSlides:r=0,params:i,$el:a}=t,l=i.breakpoints;if(!l||l&&Object.keys(l).length===0)return;const h=t.getBreakpoint(l,t.params.breakpointsBase,t.el);if(!h||t.currentBreakpoint===h)return;const g=(h in l?l[h]:void 0)||t.originalParams,k=Q0(t,i),C=Q0(t,g),T=i.enabled;k&&!C?(a.removeClass(`${i.containerModifierClass}grid ${i.containerModifierClass}grid-column`),t.emitContainerClasses()):!k&&C&&(a.addClass(`${i.containerModifierClass}grid`),(g.grid.fill&&g.grid.fill==="column"||!g.grid.fill&&i.grid.fill==="column")&&a.addClass(`${i.containerModifierClass}grid-column`),t.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(P=>{const I=i[P]&&i[P].enabled,A=g[P]&&g[P].enabled;I&&!A&&t[P].disable(),!I&&A&&t[P].enable()});const O=g.direction&&g.direction!==i.direction,L=i.loop&&(g.slidesPerView!==i.slidesPerView||O);O&&n&&t.changeDirection(),er(t.params,g);const N=t.params.enabled;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),T&&!N?t.disable():!T&&N&&t.enable(),t.currentBreakpoint=h,t.emit("_beforeBreakpoint",g),L&&n&&(t.loopDestroy(),t.loopCreate(),t.updateSlides(),t.slideTo(e-r+t.loopedSlides,0,!1)),t.emit("breakpoint",g)}function VF(t,e="window",n){if(!t||e==="container"&&!n)return;let r=!1;const i=sn(),a=e==="window"?i.innerHeight:n.clientHeight,l=Object.keys(t).map(h=>{if(typeof h=="string"&&h.indexOf("@")===0){const _=parseFloat(h.substr(1));return{value:a*_,point:h}}return{value:h,point:h}});l.sort((h,_)=>parseInt(h.value,10)-parseInt(_.value,10));for(let h=0;h<l.length;h+=1){const{point:_,value:g}=l[h];e==="window"?i.matchMedia(`(min-width: ${g}px)`).matches&&(r=_):g<=n.clientWidth&&(r=_)}return r||"max"}const zF={setBreakpoint:jF,getBreakpoint:VF};function HF(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(i=>{r[i]&&n.push(e+i)}):typeof r=="string"&&n.push(e+r)}),n}function BF(){const t=this,{classNames:e,params:n,rtl:r,$el:i,device:a,support:l}=t,h=HF(["initialized",n.direction,{"pointer-events":!l.touch},{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:a.android},{ios:a.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...h),i.addClass([...e].join(" ")),t.emitContainerClasses()}function qF(){const t=this,{$el:e,classNames:n}=t;e.removeClass(n.join(" ")),t.emitContainerClasses()}const WF={addClasses:BF,removeClasses:qF};function GF(t,e,n,r,i,a){const l=sn();let h;function _(){a&&a()}!Ne(t).parent("picture")[0]&&(!t.complete||!i)&&e?(h=new l.Image,h.onload=_,h.onerror=_,r&&(h.sizes=r),n&&(h.srcset=n),e&&(h.src=e)):_()}function KF(){const t=this;t.imagesToLoad=t.$el.find("img");function e(){typeof t>"u"||t===null||!t||t.destroyed||(t.imagesLoaded!==void 0&&(t.imagesLoaded+=1),t.imagesLoaded===t.imagesToLoad.length&&(t.params.updateOnImagesReady&&t.update(),t.emit("imagesReady")))}for(let n=0;n<t.imagesToLoad.length;n+=1){const r=t.imagesToLoad[n];t.loadImage(r,r.currentSrc||r.getAttribute("src"),r.srcset||r.getAttribute("srcset"),r.sizes||r.getAttribute("sizes"),!0,e)}}const YF={loadImage:GF,preloadImages:KF};function JF(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const i=t.slides.length-1,a=t.slidesGrid[i]+t.slidesSizesGrid[i]+r*2;t.isLocked=t.size>a}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}const QF={checkOverflow:JF},X0={init:!0,direction:"horizontal",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopedSlidesLimit:!0,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function XF(t,e){return function(r={}){const i=Object.keys(r)[0],a=r[i];if(typeof a!="object"||a===null){er(e,r);return}if(["navigation","pagination","scrollbar"].indexOf(i)>=0&&t[i]===!0&&(t[i]={auto:!0}),!(i in t&&"enabled"in a)){er(e,r);return}t[i]===!0&&(t[i]={enabled:!0}),typeof t[i]=="object"&&!("enabled"in t[i])&&(t[i].enabled=!0),t[i]||(t[i]={enabled:!1}),er(e,r)}}const Lf={eventsEmitter:K2,update:iF,translate:uF,transition:_F,slide:xF,loop:CF,grabCursor:DF,events:UF,breakpoints:zF,checkOverflow:QF,classes:WF,images:YF},Rf={};class In{constructor(...e){let n,r;if(e.length===1&&e[0].constructor&&Object.prototype.toString.call(e[0]).slice(8,-1)==="Object"?r=e[0]:[n,r]=e,r||(r={}),r=er({},r),n&&!r.el&&(r.el=n),r.el&&Ne(r.el).length>1){const h=[];return Ne(r.el).each(_=>{const g=er({},r,{el:_});h.push(new In(g))}),h}const i=this;i.__swiper__=!0,i.support=Jk(),i.device=H2({userAgent:r.userAgent}),i.browser=q2(),i.eventsListeners={},i.eventsAnyListeners=[],i.modules=[...i.__modules__],r.modules&&Array.isArray(r.modules)&&i.modules.push(...r.modules);const a={};i.modules.forEach(h=>{h({swiper:i,extendParams:XF(r,a),on:i.on.bind(i),once:i.once.bind(i),off:i.off.bind(i),emit:i.emit.bind(i)})});const l=er({},X0,a);return i.params=er({},l,Rf,r),i.originalParams=er({},i.params),i.passedParams=er({},r),i.params&&i.params.on&&Object.keys(i.params.on).forEach(h=>{i.on(h,i.params.on[h])}),i.params&&i.params.onAny&&i.onAny(i.params.onAny),i.$=Ne,Object.assign(i,{enabled:i.params.enabled,el:n,classNames:[],slides:Ne(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return i.params.direction==="horizontal"},isVertical(){return i.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:i.params.allowSlideNext,allowSlidePrev:i.params.allowSlidePrev,touchEvents:function(){const _=["touchstart","touchmove","touchend","touchcancel"],g=["pointerdown","pointermove","pointerup"];return i.touchEventsTouch={start:_[0],move:_[1],end:_[2],cancel:_[3]},i.touchEventsDesktop={start:g[0],move:g[1],end:g[2]},i.support.touch||!i.params.simulateTouch?i.touchEventsTouch:i.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:i.params.focusableElements,lastClickTime:Yl(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:i.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),i.emit("_swiper"),i.params.init&&i.init(),i}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;!e.enabled||(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const i=r.minTranslate(),l=(r.maxTranslate()-i)*e+i;r.translateTo(l,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.each(r=>{const i=e.getSlideClasses(r);n.push({slideEl:r,classNames:i}),e.emit("_slideClass",r,i)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e="current",n=!1){const r=this,{params:i,slides:a,slidesGrid:l,slidesSizesGrid:h,size:_,activeIndex:g}=r;let k=1;if(i.centeredSlides){let C=a[g].swiperSlideSize,T;for(let O=g+1;O<a.length;O+=1)a[O]&&!T&&(C+=a[O].swiperSlideSize,k+=1,C>_&&(T=!0));for(let O=g-1;O>=0;O-=1)a[O]&&!T&&(C+=a[O].swiperSlideSize,k+=1,C>_&&(T=!0))}else if(e==="current")for(let C=g+1;C<a.length;C+=1)(n?l[C]+h[C]-l[g]<_:l[C]-l[g]<_)&&(k+=1);else for(let C=g-1;C>=0;C-=1)l[g]-l[C]<_&&(k+=1);return k}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function i(){const l=e.rtlTranslate?e.translate*-1:e.translate,h=Math.min(Math.max(l,e.maxTranslate()),e.minTranslate());e.setTranslate(h),e.updateActiveIndex(),e.updateSlidesClasses()}let a;e.params.freeMode&&e.params.freeMode.enabled?(i(),e.params.autoHeight&&e.updateAutoHeight()):((e.params.slidesPerView==="auto"||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?a=e.slideTo(e.slides.length-1,0,!1,!0):a=e.slideTo(e.activeIndex,0,!1,!0),a||i()),r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n=!0){const r=this,i=r.params.direction;return e||(e=i==="horizontal"?"vertical":"horizontal"),e===i||e!=="horizontal"&&e!=="vertical"||(r.$el.removeClass(`${r.params.containerModifierClass}${i}`).addClass(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.each(a=>{e==="vertical"?a.style.width="":a.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.$el.addClass(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.$el.removeClass(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;const r=Ne(e||n.params.el);if(e=r[0],!e)return!1;e.swiper=n;const i=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let l=(()=>{if(e&&e.shadowRoot&&e.shadowRoot.querySelector){const h=Ne(e.shadowRoot.querySelector(i()));return h.children=_=>r.children(_),h}return r.children?r.children(i()):Ne(r).children(i())})();if(l.length===0&&n.params.createElements){const _=Qn().createElement("div");l=Ne(_),_.className=n.params.wrapperClass,r.append(_),r.children(`.${n.params.slideClass}`).each(g=>{l.append(g)})}return Object.assign(n,{$el:r,el:e,$wrapperEl:l,wrapperEl:l[0],mounted:!0,rtl:e.dir.toLowerCase()==="rtl"||r.css("direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(e.dir.toLowerCase()==="rtl"||r.css("direction")==="rtl"),wrongRTL:l.css("display")==="-webkit-box"}),!0}init(e){const n=this;return n.initialized||n.mount(e)===!1||(n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.params.loop&&n.loopCreate(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.preloadImages&&n.preloadImages(),n.params.loop?n.slideTo(n.params.initialSlide+n.loopedSlides,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.attachEvents(),n.initialized=!0,n.emit("init"),n.emit("afterInit")),n}destroy(e=!0,n=!0){const r=this,{params:i,$el:a,$wrapperEl:l,slides:h}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),i.loop&&r.loopDestroy(),n&&(r.removeClasses(),a.removeAttr("style"),l.removeAttr("style"),h&&h.length&&h.removeClass([i.slideVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(_=>{r.off(_)}),e!==!1&&(r.$el[0].swiper=null,$2(r)),r.destroyed=!0),null}static extendDefaults(e){er(Rf,e)}static get extendedDefaults(){return Rf}static get defaults(){return X0}static installModule(e){In.prototype.__modules__||(In.prototype.__modules__=[]);const n=In.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>In.installModule(n)),In):(In.installModule(e),In)}}Object.keys(Lf).forEach(t=>{Object.keys(Lf[t]).forEach(e=>{In.prototype[e]=Lf[t][e]})});In.use([W2,G2]);function Zk(t,e,n,r){const i=Qn();return t.params.createElements&&Object.keys(r).forEach(a=>{if(!n[a]&&n.auto===!0){let l=t.$el.children(`.${r[a]}`)[0];l||(l=i.createElement("div"),l.className=r[a],t.$el.append(l)),n[a]=l,e[a]=l}}),n}function eS({swiper:t,extendParams:e,on:n,emit:r}){e({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,$nextEl:null,prevEl:null,$prevEl:null};function i(O){let L;return O&&(L=Ne(O),t.params.uniqueNavElements&&typeof O=="string"&&L.length>1&&t.$el.find(O).length===1&&(L=t.$el.find(O))),L}function a(O,L){const N=t.params.navigation;O&&O.length>0&&(O[L?"addClass":"removeClass"](N.disabledClass),O[0]&&O[0].tagName==="BUTTON"&&(O[0].disabled=L),t.params.watchOverflow&&t.enabled&&O[t.isLocked?"addClass":"removeClass"](N.lockClass))}function l(){if(t.params.loop)return;const{$nextEl:O,$prevEl:L}=t.navigation;a(L,t.isBeginning&&!t.params.rewind),a(O,t.isEnd&&!t.params.rewind)}function h(O){O.preventDefault(),!(t.isBeginning&&!t.params.loop&&!t.params.rewind)&&(t.slidePrev(),r("navigationPrev"))}function _(O){O.preventDefault(),!(t.isEnd&&!t.params.loop&&!t.params.rewind)&&(t.slideNext(),r("navigationNext"))}function g(){const O=t.params.navigation;if(t.params.navigation=Zk(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(O.nextEl||O.prevEl))return;const L=i(O.nextEl),N=i(O.prevEl);L&&L.length>0&&L.on("click",_),N&&N.length>0&&N.on("click",h),Object.assign(t.navigation,{$nextEl:L,nextEl:L&&L[0],$prevEl:N,prevEl:N&&N[0]}),t.enabled||(L&&L.addClass(O.lockClass),N&&N.addClass(O.lockClass))}function k(){const{$nextEl:O,$prevEl:L}=t.navigation;O&&O.length&&(O.off("click",_),O.removeClass(t.params.navigation.disabledClass)),L&&L.length&&(L.off("click",h),L.removeClass(t.params.navigation.disabledClass))}n("init",()=>{t.params.navigation.enabled===!1?T():(g(),l())}),n("toEdge fromEdge lock unlock",()=>{l()}),n("destroy",()=>{k()}),n("enable disable",()=>{const{$nextEl:O,$prevEl:L}=t.navigation;O&&O[t.enabled?"removeClass":"addClass"](t.params.navigation.lockClass),L&&L[t.enabled?"removeClass":"addClass"](t.params.navigation.lockClass)}),n("click",(O,L)=>{const{$nextEl:N,$prevEl:P}=t.navigation,I=L.target;if(t.params.navigation.hideOnClick&&!Ne(I).is(P)&&!Ne(I).is(N)){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===I||t.pagination.el.contains(I)))return;let A;N?A=N.hasClass(t.params.navigation.hiddenClass):P&&(A=P.hasClass(t.params.navigation.hiddenClass)),r(A===!0?"navigationShow":"navigationHide"),N&&N.toggleClass(t.params.navigation.hiddenClass),P&&P.toggleClass(t.params.navigation.hiddenClass)}});const C=()=>{t.$el.removeClass(t.params.navigation.navigationDisabledClass),g(),l()},T=()=>{t.$el.addClass(t.params.navigation.navigationDisabledClass),k()};Object.assign(t.navigation,{enable:C,disable:T,update:l,init:g,destroy:k})}function os(t=""){return`.${t.trim().replace(/([\.:!\/])/g,"\\$1").replace(/ /g,".")}`}function tS({swiper:t,extendParams:e,on:n,emit:r}){const i="swiper-pagination";e({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:N=>N,formatFractionTotal:N=>N,bulletClass:`${i}-bullet`,bulletActiveClass:`${i}-bullet-active`,modifierClass:`${i}-`,currentClass:`${i}-current`,totalClass:`${i}-total`,hiddenClass:`${i}-hidden`,progressbarFillClass:`${i}-progressbar-fill`,progressbarOppositeClass:`${i}-progressbar-opposite`,clickableClass:`${i}-clickable`,lockClass:`${i}-lock`,horizontalClass:`${i}-horizontal`,verticalClass:`${i}-vertical`,paginationDisabledClass:`${i}-disabled`}}),t.pagination={el:null,$el:null,bullets:[]};let a,l=0;function h(){return!t.params.pagination.el||!t.pagination.el||!t.pagination.$el||t.pagination.$el.length===0}function _(N,P){const{bulletActiveClass:I}=t.params.pagination;N[P]().addClass(`${I}-${P}`)[P]().addClass(`${I}-${P}-${P}`)}function g(){const N=t.rtl,P=t.params.pagination;if(h())return;const I=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,A=t.pagination.$el;let R;const V=t.params.loop?Math.ceil((I-t.loopedSlides*2)/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?(R=Math.ceil((t.activeIndex-t.loopedSlides)/t.params.slidesPerGroup),R>I-1-t.loopedSlides*2&&(R-=I-t.loopedSlides*2),R>V-1&&(R-=V),R<0&&t.params.paginationType!=="bullets"&&(R=V+R)):typeof t.snapIndex<"u"?R=t.snapIndex:R=t.activeIndex||0,P.type==="bullets"&&t.pagination.bullets&&t.pagination.bullets.length>0){const j=t.pagination.bullets;let W,z,B;if(P.dynamicBullets&&(a=j.eq(0)[t.isHorizontal()?"outerWidth":"outerHeight"](!0),A.css(t.isHorizontal()?"width":"height",`${a*(P.dynamicMainBullets+4)}px`),P.dynamicMainBullets>1&&t.previousIndex!==void 0&&(l+=R-(t.previousIndex-t.loopedSlides||0),l>P.dynamicMainBullets-1?l=P.dynamicMainBullets-1:l<0&&(l=0)),W=Math.max(R-l,0),z=W+(Math.min(j.length,P.dynamicMainBullets)-1),B=(z+W)/2),j.removeClass(["","-next","-next-next","-prev","-prev-prev","-main"].map(K=>`${P.bulletActiveClass}${K}`).join(" ")),A.length>1)j.each(K=>{const Y=Ne(K),Z=Y.index();Z===R&&Y.addClass(P.bulletActiveClass),P.dynamicBullets&&(Z>=W&&Z<=z&&Y.addClass(`${P.bulletActiveClass}-main`),Z===W&&_(Y,"prev"),Z===z&&_(Y,"next"))});else{const K=j.eq(R),Y=K.index();if(K.addClass(P.bulletActiveClass),P.dynamicBullets){const Z=j.eq(W),X=j.eq(z);for(let le=W;le<=z;le+=1)j.eq(le).addClass(`${P.bulletActiveClass}-main`);if(t.params.loop)if(Y>=j.length){for(let le=P.dynamicMainBullets;le>=0;le-=1)j.eq(j.length-le).addClass(`${P.bulletActiveClass}-main`);j.eq(j.length-P.dynamicMainBullets-1).addClass(`${P.bulletActiveClass}-prev`)}else _(Z,"prev"),_(X,"next");else _(Z,"prev"),_(X,"next")}}if(P.dynamicBullets){const K=Math.min(j.length,P.dynamicMainBullets+4),Y=(a*K-a)/2-B*a,Z=N?"right":"left";j.css(t.isHorizontal()?Z:"top",`${Y}px`)}}if(P.type==="fraction"&&(A.find(os(P.currentClass)).text(P.formatFractionCurrent(R+1)),A.find(os(P.totalClass)).text(P.formatFractionTotal(V))),P.type==="progressbar"){let j;P.progressbarOpposite?j=t.isHorizontal()?"vertical":"horizontal":j=t.isHorizontal()?"horizontal":"vertical";const W=(R+1)/V;let z=1,B=1;j==="horizontal"?z=W:B=W,A.find(os(P.progressbarFillClass)).transform(`translate3d(0,0,0) scaleX(${z}) scaleY(${B})`).transition(t.params.speed)}P.type==="custom"&&P.renderCustom?(A.html(P.renderCustom(t,R+1,V)),r("paginationRender",A[0])):r("paginationUpdate",A[0]),t.params.watchOverflow&&t.enabled&&A[t.isLocked?"addClass":"removeClass"](P.lockClass)}function k(){const N=t.params.pagination;if(h())return;const P=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,I=t.pagination.$el;let A="";if(N.type==="bullets"){let R=t.params.loop?Math.ceil((P-t.loopedSlides*2)/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&!t.params.loop&&R>P&&(R=P);for(let V=0;V<R;V+=1)N.renderBullet?A+=N.renderBullet.call(t,V,N.bulletClass):A+=`<${N.bulletElement} class="${N.bulletClass}"></${N.bulletElement}>`;I.html(A),t.pagination.bullets=I.find(os(N.bulletClass))}N.type==="fraction"&&(N.renderFraction?A=N.renderFraction.call(t,N.currentClass,N.totalClass):A=`<span class="${N.currentClass}"></span> / <span class="${N.totalClass}"></span>`,I.html(A)),N.type==="progressbar"&&(N.renderProgressbar?A=N.renderProgressbar.call(t,N.progressbarFillClass):A=`<span class="${N.progressbarFillClass}"></span>`,I.html(A)),N.type!=="custom"&&r("paginationRender",t.pagination.$el[0])}function C(){t.params.pagination=Zk(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});const N=t.params.pagination;if(!N.el)return;let P=Ne(N.el);P.length!==0&&(t.params.uniqueNavElements&&typeof N.el=="string"&&P.length>1&&(P=t.$el.find(N.el),P.length>1&&(P=P.filter(I=>Ne(I).parents(".swiper")[0]===t.el))),N.type==="bullets"&&N.clickable&&P.addClass(N.clickableClass),P.addClass(N.modifierClass+N.type),P.addClass(t.isHorizontal()?N.horizontalClass:N.verticalClass),N.type==="bullets"&&N.dynamicBullets&&(P.addClass(`${N.modifierClass}${N.type}-dynamic`),l=0,N.dynamicMainBullets<1&&(N.dynamicMainBullets=1)),N.type==="progressbar"&&N.progressbarOpposite&&P.addClass(N.progressbarOppositeClass),N.clickable&&P.on("click",os(N.bulletClass),function(A){A.preventDefault();let R=Ne(this).index()*t.params.slidesPerGroup;t.params.loop&&(R+=t.loopedSlides),t.slideTo(R)}),Object.assign(t.pagination,{$el:P,el:P[0]}),t.enabled||P.addClass(N.lockClass))}function T(){const N=t.params.pagination;if(h())return;const P=t.pagination.$el;P.removeClass(N.hiddenClass),P.removeClass(N.modifierClass+N.type),P.removeClass(t.isHorizontal()?N.horizontalClass:N.verticalClass),t.pagination.bullets&&t.pagination.bullets.removeClass&&t.pagination.bullets.removeClass(N.bulletActiveClass),N.clickable&&P.off("click",os(N.bulletClass))}n("init",()=>{t.params.pagination.enabled===!1?L():(C(),k(),g())}),n("activeIndexChange",()=>{(t.params.loop||typeof t.snapIndex>"u")&&g()}),n("snapIndexChange",()=>{t.params.loop||g()}),n("slidesLengthChange",()=>{t.params.loop&&(k(),g())}),n("snapGridLengthChange",()=>{t.params.loop||(k(),g())}),n("destroy",()=>{T()}),n("enable disable",()=>{const{$el:N}=t.pagination;N&&N[t.enabled?"removeClass":"addClass"](t.params.pagination.lockClass)}),n("lock unlock",()=>{g()}),n("click",(N,P)=>{const I=P.target,{$el:A}=t.pagination;if(t.params.pagination.el&&t.params.pagination.hideOnClick&&A&&A.length>0&&!Ne(I).hasClass(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&I===t.navigation.nextEl||t.navigation.prevEl&&I===t.navigation.prevEl))return;const R=A.hasClass(t.params.pagination.hiddenClass);r(R===!0?"paginationShow":"paginationHide"),A.toggleClass(t.params.pagination.hiddenClass)}});const O=()=>{t.$el.removeClass(t.params.pagination.paginationDisabledClass),t.pagination.$el&&t.pagination.$el.removeClass(t.params.pagination.paginationDisabledClass),C(),k(),g()},L=()=>{t.$el.addClass(t.params.pagination.paginationDisabledClass),t.pagination.$el&&t.pagination.$el.addClass(t.params.pagination.paginationDisabledClass),T()};Object.assign(t.pagination,{enable:O,disable:L,render:k,update:g,init:C,destroy:T})}function Ja(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function ji(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:Ja(e[r])&&Ja(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:ji(t[r],e[r]):t[r]=e[r]})}function nS(t={}){return t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function rS(t={}){return t.pagination&&typeof t.pagination.el>"u"}function iS(t={}){return t.scrollbar&&typeof t.scrollbar.el>"u"}function aS(t=""){const e=t.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return e.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}const sS=["modules","init","_direction","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_preloadImages","updateOnImagesReady","_loop","_loopAdditionalSlides","_loopedSlides","_loopedSlidesLimit","_loopFillGroupWithBlank","loopPreventsSlide","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideBlankClass","slideActiveClass","slideDuplicateActiveClass","slideVisibleClass","slideDuplicateClass","slideNextClass","slideDuplicateNextClass","slidePrevClass","slideDuplicatePrevClass","wrapperClass","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","lazy","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom"];function ZF(t={},e=!0){const n={on:{}},r={},i={};ji(n,In.defaults),ji(n,In.extendedDefaults),n._emitClasses=!0,n.init=!1;const a={},l=sS.map(_=>_.replace(/_/,"")),h=Object.assign({},t);return Object.keys(h).forEach(_=>{typeof t[_]>"u"||(l.indexOf(_)>=0?Ja(t[_])?(n[_]={},i[_]={},ji(n[_],t[_]),ji(i[_],t[_])):(n[_]=t[_],i[_]=t[_]):_.search(/on[A-Z]/)===0&&typeof t[_]=="function"?e?r[`${_[2].toLowerCase()}${_.substr(3)}`]=t[_]:n.on[`${_[2].toLowerCase()}${_.substr(3)}`]=t[_]:a[_]=t[_])}),["navigation","pagination","scrollbar"].forEach(_=>{n[_]===!0&&(n[_]={}),n[_]===!1&&delete n[_]}),{params:n,passedParams:i,rest:a,events:r}}function eU({el:t,nextEl:e,prevEl:n,paginationEl:r,scrollbarEl:i,swiper:a},l){nS(l)&&e&&n&&(a.params.navigation.nextEl=e,a.originalParams.navigation.nextEl=e,a.params.navigation.prevEl=n,a.originalParams.navigation.prevEl=n),rS(l)&&r&&(a.params.pagination.el=r,a.originalParams.pagination.el=r),iS(l)&&i&&(a.params.scrollbar.el=i,a.originalParams.scrollbar.el=i),a.init(t)}const oS=(t,e)=>{let n=e.slidesPerView;if(e.breakpoints){const i=In.prototype.getBreakpoint(e.breakpoints),a=i in e.breakpoints?e.breakpoints[i]:void 0;a&&a.slidesPerView&&(n=a.slidesPerView)}let r=Math.ceil(parseFloat(e.loopedSlides||n,10));return r+=e.loopAdditionalSlides,r>t.length&&e.loopedSlidesLimit&&(r=t.length),r};function tU(t,e,n){const r=e.map((_,g)=>ta.cloneElement(_,{swiper:t,"data-swiper-slide-index":g}));function i(_,g,k){return ta.cloneElement(_,{key:`${_.key}-duplicate-${g}-${k}`,className:`${_.props.className||""} ${n.slideDuplicateClass}`})}if(n.loopFillGroupWithBlank){const _=n.slidesPerGroup-r.length%n.slidesPerGroup;if(_!==n.slidesPerGroup)for(let g=0;g<_;g+=1){const k=$("div",{className:`${n.slideClass} ${n.slideBlankClass}`});r.push(k)}}n.slidesPerView==="auto"&&!n.loopedSlides&&(n.loopedSlides=r.length);const a=oS(r,n),l=[],h=[];for(let _=0;_<a;_+=1){const g=_-Math.floor(_/r.length)*r.length;h.push(i(r[g],_,"append")),l.unshift(i(r[r.length-g-1],_,"prepend"))}return t&&(t.loopedSlides=a),[...l,...r,...h]}function nU(t,e,n,r,i){const a=[];if(!e)return a;const l=_=>{a.indexOf(_)<0&&a.push(_)};if(n&&r){const _=r.map(i),g=n.map(i);_.join("")!==g.join("")&&l("children"),r.length!==n.length&&l("children")}return sS.filter(_=>_[0]==="_").map(_=>_.replace(/_/,"")).forEach(_=>{if(_ in t&&_ in e)if(Ja(t[_])&&Ja(e[_])){const g=Object.keys(t[_]),k=Object.keys(e[_]);g.length!==k.length?l(_):(g.forEach(C=>{t[_][C]!==e[_][C]&&l(_)}),k.forEach(C=>{t[_][C]!==e[_][C]&&l(_)}))}else t[_]!==e[_]&&l(_)}),a}function lS(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function cS(t){const e=[];return ta.Children.toArray(t).forEach(n=>{lS(n)?e.push(n):n.props&&n.props.children&&cS(n.props.children).forEach(r=>e.push(r))}),e}function rU(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return ta.Children.toArray(t).forEach(r=>{if(lS(r))e.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const i=cS(r.props.children);i.length>0?i.forEach(a=>e.push(a)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:e,slots:n}}function iU({swiper:t,slides:e,passedParams:n,changedParams:r,nextEl:i,prevEl:a,scrollbarEl:l,paginationEl:h}){const _=r.filter(j=>j!=="children"&&j!=="direction"),{params:g,pagination:k,navigation:C,scrollbar:T,virtual:O,thumbs:L}=t;let N,P,I,A,R;r.includes("thumbs")&&n.thumbs&&n.thumbs.swiper&&g.thumbs&&!g.thumbs.swiper&&(N=!0),r.includes("controller")&&n.controller&&n.controller.control&&g.controller&&!g.controller.control&&(P=!0),r.includes("pagination")&&n.pagination&&(n.pagination.el||h)&&(g.pagination||g.pagination===!1)&&k&&!k.el&&(I=!0),r.includes("scrollbar")&&n.scrollbar&&(n.scrollbar.el||l)&&(g.scrollbar||g.scrollbar===!1)&&T&&!T.el&&(A=!0),r.includes("navigation")&&n.navigation&&(n.navigation.prevEl||a)&&(n.navigation.nextEl||i)&&(g.navigation||g.navigation===!1)&&C&&!C.prevEl&&!C.nextEl&&(R=!0);const V=j=>{!t[j]||(t[j].destroy(),j==="navigation"?(g[j].prevEl=void 0,g[j].nextEl=void 0,t[j].prevEl=void 0,t[j].nextEl=void 0):(g[j].el=void 0,t[j].el=void 0))};_.forEach(j=>{if(Ja(g[j])&&Ja(n[j]))ji(g[j],n[j]);else{const W=n[j];(W===!0||W===!1)&&(j==="navigation"||j==="pagination"||j==="scrollbar")?W===!1&&V(j):g[j]=n[j]}}),_.includes("controller")&&!P&&t.controller&&t.controller.control&&g.controller&&g.controller.control&&(t.controller.control=g.controller.control),r.includes("children")&&e&&O&&g.virtual.enabled?(O.slides=e,O.update(!0)):r.includes("children")&&t.lazy&&t.params.lazy.enabled&&t.lazy.load(),N&&L.init()&&L.update(!0),P&&(t.controller.control=g.controller.control),I&&(h&&(g.pagination.el=h),k.init(),k.render(),k.update()),A&&(l&&(g.scrollbar.el=l),T.init(),T.updateSize(),T.setTranslate()),R&&(i&&(g.navigation.nextEl=i),a&&(g.navigation.prevEl=a),C.init(),C.update()),r.includes("allowSlideNext")&&(t.allowSlideNext=n.allowSlideNext),r.includes("allowSlidePrev")&&(t.allowSlidePrev=n.allowSlidePrev),r.includes("direction")&&t.changeDirection(n.direction,!1),t.update()}function aU(t,e,n){if(!n)return null;const r=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`};return e.filter((i,a)=>a>=n.from&&a<=n.to).map(i=>ta.cloneElement(i,{swiper:t,style:r}))}const sU=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.lazy&&t.params.lazy.enabled&&t.lazy.load(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function sl(t,e){return typeof window>"u"?oe.exports.useEffect(t,e):oe.exports.useLayoutEffect(t,e)}const oU=oe.exports.createContext(null),lU=oe.exports.createContext(null),Gg=oe.exports.forwardRef(function(t,e){let{className:n,tag:r="div",wrapperTag:i="div",children:a,onSwiper:l,...h}=t===void 0?{}:t,_=!1;const[g,k]=oe.exports.useState("swiper"),[C,T]=oe.exports.useState(null),[O,L]=oe.exports.useState(!1),N=oe.exports.useRef(!1),P=oe.exports.useRef(null),I=oe.exports.useRef(null),A=oe.exports.useRef(null),R=oe.exports.useRef(null),V=oe.exports.useRef(null),j=oe.exports.useRef(null),W=oe.exports.useRef(null),z=oe.exports.useRef(null),{params:B,passedParams:K,rest:Y,events:Z}=ZF(h),{slides:X,slots:le}=rU(a),xe=()=>{L(!O)};Object.assign(B.on,{_containerClasses(me,Ce){k(Ce)}});const $e=()=>{if(Object.assign(B.on,Z),_=!0,I.current=new In(B),I.current.loopCreate=()=>{},I.current.loopDestroy=()=>{},B.loop&&(I.current.loopedSlides=oS(X,B)),I.current.virtual&&I.current.params.virtual.enabled){I.current.virtual.slides=X;const me={cache:!1,slides:X,renderExternal:T,renderExternalUpdate:!1};ji(I.current.params.virtual,me),ji(I.current.originalParams.virtual,me)}};P.current||$e(),I.current&&I.current.on("_beforeBreakpoint",xe);const Ee=()=>{_||!Z||!I.current||Object.keys(Z).forEach(me=>{I.current.on(me,Z[me])})},tt=()=>{!Z||!I.current||Object.keys(Z).forEach(me=>{I.current.off(me,Z[me])})};oe.exports.useEffect(()=>()=>{I.current&&I.current.off("_beforeBreakpoint",xe)}),oe.exports.useEffect(()=>{!N.current&&I.current&&(I.current.emitSlidesClasses(),N.current=!0)}),sl(()=>{if(e&&(e.current=P.current),!!P.current)return I.current.destroyed&&$e(),eU({el:P.current,nextEl:V.current,prevEl:j.current,paginationEl:W.current,scrollbarEl:z.current,swiper:I.current},B),l&&l(I.current),()=>{I.current&&!I.current.destroyed&&I.current.destroy(!0,!1)}},[]),sl(()=>{Ee();const me=nU(K,A.current,X,R.current,Ce=>Ce.key);return A.current=K,R.current=X,me.length&&I.current&&!I.current.destroyed&&iU({swiper:I.current,slides:X,passedParams:K,changedParams:me,nextEl:V.current,prevEl:j.current,scrollbarEl:z.current,paginationEl:W.current}),()=>{tt()}}),sl(()=>{sU(I.current)},[C]);function fe(){return B.virtual?aU(I.current,X,C):!B.loop||I.current&&I.current.destroyed?X.map(me=>ta.cloneElement(me,{swiper:I.current})):tU(I.current,X,B)}return $(r,{ref:P,className:aS(`${g}${n?` ${n}`:""}`),...Y,children:ie(lU.Provider,{value:I.current,children:[le["container-start"],ie(i,{className:"swiper-wrapper",children:[le["wrapper-start"],fe(),le["wrapper-end"]]}),nS(B)&&ie(Vn,{children:[$("div",{ref:j,className:"swiper-button-prev"}),$("div",{ref:V,className:"swiper-button-next"})]}),iS(B)&&$("div",{ref:z,className:"swiper-scrollbar"}),rS(B)&&$("div",{ref:W,className:"swiper-pagination"}),le["container-end"]]})})});Gg.displayName="Swiper";const Kg=oe.exports.forwardRef(function(t,e){let{tag:n="div",children:r,className:i="",swiper:a,zoom:l,virtualIndex:h,..._}=t===void 0?{}:t;const g=oe.exports.useRef(null),[k,C]=oe.exports.useState("swiper-slide");function T(N,P,I){P===g.current&&C(I)}sl(()=>{if(e&&(e.current=g.current),!(!g.current||!a)){if(a.destroyed){k!=="swiper-slide"&&C("swiper-slide");return}return a.on("_slideClass",T),()=>{!a||a.off("_slideClass",T)}}}),sl(()=>{a&&g.current&&!a.destroyed&&C(a.getSlideClasses(g.current))},[a]);const O={isActive:k.indexOf("swiper-slide-active")>=0||k.indexOf("swiper-slide-duplicate-active")>=0,isVisible:k.indexOf("swiper-slide-visible")>=0,isDuplicate:k.indexOf("swiper-slide-duplicate")>=0,isPrev:k.indexOf("swiper-slide-prev")>=0||k.indexOf("swiper-slide-duplicate-prev")>=0,isNext:k.indexOf("swiper-slide-next")>=0||k.indexOf("swiper-slide-duplicate-next")>=0},L=()=>typeof r=="function"?r(O):r;return $(n,{ref:g,className:aS(`${k}${i?` ${i}`:""}`),"data-swiper-slide-index":h,..._,children:$(oU.Provider,{value:O,children:l?$("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof l=="number"?l:void 0,children:L()}):L()})})});Kg.displayName="SwiperSlide";const cU=()=>ie("div",{children:[$("div",{className:"homeSection__Title",children:$("h2",{children:"Cualidades"})}),$(Vn,{children:$(Gg,{slidesPerView:1,spaceBetween:30,slidesPerGroup:1,loop:!0,loopFillGroupWithBlank:!0,pagination:{clickable:!0},navigation:!0,modules:[tS,eS],className:"mySwiper",breakpoints:{780:{slidesPerView:2},1198:{slidesPerView:3}},children:J$.map((t,e)=>$(Kg,{children:ie("div",{className:"qualityCard-container",children:[$("img",{src:t.icon,alt:"icon",className:"qualityCard_icon"}),ie("div",{className:"qualityCard_description",children:[$("p",{className:"qualityCard_title",children:t.title}),$("p",{className:"qualityCard_text",children:t.text})]})]})},e))})})]}),uU=[{question:"\xBFQu\xE9 es Navis?",answer:"La \xFAnica academia de ingl\xE9s online que se enfoca en tus necesidades."},{question:"\xBFEn qu\xE9 horario puedo estudiar?",answer:"Tu tiempo es tuyo, tu coordinas con tu profesor cuando deseas ver tus clases."},{question:"\xBFPuedo elegir o cambiar el profesor?",answer:"S\xED, siempre podr\xE1s escoger un profesor que se adapte a ti."},{question:"\xBFQu\xE9 se requiere para estudiar?",answer:"Lo \xFAnico que necesitas es un ordenador o tel\xE9fono inteligente con conexi\xF3n a Internet estable, micr\xF3fono y c\xE1mara."},{question:"En caso de no poder asistir a una clase, \xBFqu\xE9 debo hacer?",answer:"4 horas antes tienes la opci\xF3n de reprogramar la clase."},{question:"\xBFCu\xE1nto dura la clase?",answer:"Dependiendo del paquete adquirido las clases pueden durar entre 30 o 50 minutos. "},{question:"\xBFCu\xE1les son los medios de pago?",answer:"Puedes pagar con tarjeta de cr\xE9dito o d\xE9bito a trav\xE9s de PayPal. El pago se realizar\xE1 en la moneda local del pa\xEDs en el que est\xE9s."}];const dU=()=>ie("div",{children:[$("div",{className:"homeSection__Title",children:$("h2",{children:"Cualidades"})}),$(Vn,{children:$(Gg,{slidesPerView:1,spaceBetween:50,slidesPerGroup:1,loop:!0,loopFillGroupWithBlank:!0,pagination:{clickable:!0},navigation:!0,modules:[tS,eS],className:"mySwiper",breakpoints:{780:{slidesPerView:2},1198:{slidesPerView:3}},children:uU.map((t,e)=>$(Kg,{children:$("div",{className:"questionsCard-container",children:ie("div",{className:"questionCard_content",children:[$("p",{className:"questionCard_question",children:t.question}),$("p",{className:"questionCard_answer",children:t.answer})]})})},e))})})]}),hU=[{number:"1",USD:"9.55",EUR:"00.00",amount:"60",duration:"50"},{number:"2",USD:"10.99",EUR:"00.00",amount:"30",duration:"50"},{number:"3",USD:"13.55",EUR:"00.00",amount:"20",duration:"50"},{number:"4",USD:"16.99",EUR:"00.00",amount:"10",duration:"50"},{number:"5",USD:"22.99",EUR:"00.00",amount:"5",duration:"50"}],fU=[{number:"1",USD:"6.55",EUR:"00.00",amount:"60",duration:"30"},{number:"2",USD:"7.99",EUR:"00.00",amount:"30",duration:"30"},{number:"3",USD:"9.55",EUR:"00.00",amount:"20",duration:"30"},{number:"4",USD:"12.55",EUR:"00.00",amount:"10",duration:"30"},{number:"5",USD:"16.99",EUR:"00.00",amount:"5",duration:"30"}];const Np=({title:t,opt01:e,opt02:n,onToggle:r})=>{const[i,a]=oe.exports.useState(!1);return ie("div",{className:"switcher-container",children:[$("span",{className:"title",children:t}),$("span",{className:"options",children:e}),$("div",{className:"switcher",children:ie("label",{className:"switch",children:[$("input",{type:"checkbox",checked:i,onChange:()=>{a(!i),r(i?e:n)}}),$("span",{className:"slider round"})]})}),$("span",{className:"options",children:n})]})},_U={"client-id":{BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0}.PAYPAL_CLIENT_ID,currency:"USD",intent:"capture","data-client-token":"abc123xyz==",components:"buttons"};/*!
 * react-paypal-js v7.8.1 (2022-05-27T22:10:01.444Z)
 * Copyright 2020-present, PayPal, Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bn;(function(t){t.INITIAL="initial",t.PENDING="pending",t.REJECTED="rejected",t.RESOLVED="resolved"})(Bn||(Bn={}));var ea;(function(t){t.LOADING_STATUS="setLoadingStatus",t.RESET_OPTIONS="resetOptions",t.SET_BRAINTREE_INSTANCE="braintreeInstance"})(ea||(ea={}));var Z0;(function(t){t.NUMBER="number",t.CVV="cvv",t.EXPIRATION_DATE="expirationDate",t.EXPIRATION_MONTH="expirationMonth",t.EXPIRATION_YEAR="expirationYear",t.POSTAL_CODE="postalCode"})(Z0||(Z0={}));var ol="data-react-paypal-script-id",Qs={DATA_CLIENT_TOKEN:"data-client-token",DATA_USER_ID_TOKEN:"data-user-id-token",DATA_SDK_INTEGRATION_SOURCE:"data-sdk-integration-source",DATA_SDK_INTEGRATION_SOURCE_VALUE:"react-paypal-js",DATA_NAMESPACE:"data-namespace"},pU="Failed to load the PayPal JS SDK script.",uS="paypal",mU="usePayPalScriptReducer must be used within a PayPalScriptProvider",tn=function(){return tn=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},tn.apply(this,arguments)};function gU(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function eb(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}function vU(t){return t===void 0&&(t=uS),window[t]}function yU(t){for(var e="",n=0;n<t.length;n++){var r=t[n].charCodeAt(0)*n;t[n+1]&&(r+=t[n+1].charCodeAt(0)*(n-1)),e+=String.fromCharCode(97+Math.abs(r)%26)}return e}function bU(t){var e=t.reactComponentName,n=t.sdkComponentKey,r=t.sdkRequestedComponents,i=r===void 0?"":r,a=t.sdkDataNamespace,l=a===void 0?uS:a,h=n.charAt(0).toUpperCase().concat(n.substring(1)),_="Unable to render <".concat(e," /> because window.").concat(l,".").concat(h," is undefined.");if(!i.includes(n)){var g=[i,n].filter(Boolean).join();_+=`
To fix the issue, add '`.concat(n,"' to the list of components passed to the parent PayPalScriptProvider:")+"\n`<PayPalScriptProvider options={{ components: '".concat(g,"'}}>`.")}return _}function dS(t){return"react-paypal-js-".concat(yU(JSON.stringify(t)))}function wU(t){var e=self.document.querySelector("script[".concat(ol,'="').concat(t,'"]'));e!=null&&e.parentNode&&e.parentNode.removeChild(e)}function xU(t,e){var n;switch(e.type){case ea.LOADING_STATUS:return tn(tn({},t),{loadingStatus:e.value});case ea.RESET_OPTIONS:return wU(t.options[ol]),delete e.value[ol],tn(tn({},t),{loadingStatus:Bn.PENDING,options:tn(tn({},e.value),(n={},n[ol]="".concat(dS(e.value)),n[Qs.DATA_SDK_INTEGRATION_SOURCE]=Qs.DATA_SDK_INTEGRATION_SOURCE_VALUE,n))});case ea.SET_BRAINTREE_INSTANCE:return tn(tn({},t),{braintreePayPalCheckoutInstance:e.value});default:return t}}var hS=oe.exports.createContext(null);function EU(t){if(typeof(t==null?void 0:t.dispatch)=="function"&&t.dispatch.length!==0)return t;throw new Error(mU)}function kU(){var t=EU(oe.exports.useContext(hS)),e=tn(tn({},t),{isInitial:t.loadingStatus===Bn.INITIAL,isPending:t.loadingStatus===Bn.PENDING,isResolved:t.loadingStatus===Bn.RESOLVED,isRejected:t.loadingStatus===Bn.REJECTED});return[e,t.dispatch]}oe.exports.createContext({});var Yg=function(t){var e=t.className,n=e===void 0?"":e,r=t.disabled,i=r===void 0?!1:r,a=t.children,l=t.forceReRender,h=l===void 0?[]:l,_=gU(t,["className","disabled","children","forceReRender"]),g=i?{opacity:.38}:{},k="".concat(n," ").concat(i?"paypal-buttons-disabled":"").trim(),C=oe.exports.useRef(null),T=oe.exports.useRef(null),O=kU()[0],L=O.isResolved,N=O.options,P=oe.exports.useState(null),I=P[0],A=P[1],R=oe.exports.useState(!0),V=R[0],j=R[1],W=oe.exports.useState(null),z=W[1];function B(){T.current!==null&&T.current.close().catch(function(){})}return oe.exports.useEffect(function(){if(L===!1)return B;var K=vU(N[Qs.DATA_NAMESPACE]);if(K===void 0||K.Buttons===void 0)return z(function(){throw new Error(bU({reactComponentName:Yg.displayName,sdkComponentKey:"buttons",sdkRequestedComponents:N.components,sdkDataNamespace:N[Qs.DATA_NAMESPACE]}))}),B;var Y=function(Z,X){A(X),typeof _.onInit=="function"&&_.onInit(Z,X)};try{T.current=K.Buttons(tn(tn({},_),{onInit:Y}))}catch(Z){return z(function(){throw new Error("Failed to render <PayPalButtons /> component. Failed to initialize:  ".concat(Z))})}return T.current.isEligible()===!1?(j(!1),B):(C.current&&T.current.render(C.current).catch(function(Z){C.current===null||C.current.children.length===0||z(function(){throw new Error("Failed to render <PayPalButtons /> component. ".concat(Z))})}),B)},eb(eb([L],h,!0),[_.fundingSource],!1)),oe.exports.useEffect(function(){I!==null&&(i===!0?I.disable().catch(function(){}):I.enable().catch(function(){}))},[i,I]),$(Vn,{children:V?$("div",{ref:C,style:g,className:k}):a})};Yg.displayName="PayPalButtons";function SU(t,e){var n=document.querySelector('script[src="'.concat(t,'"]'));if(n===null)return null;var r=fS(t,e),i=n.cloneNode();if(delete i.dataset.uidAuto,Object.keys(i.dataset).length!==Object.keys(r.dataset).length)return null;var a=!0;return Object.keys(i.dataset).forEach(function(l){i.dataset[l]!==r.dataset[l]&&(a=!1)}),a?n:null}function CU(t){var e=t.url,n=t.attributes,r=t.onSuccess,i=t.onError,a=fS(e,n);a.onerror=i,a.onload=r,document.head.insertBefore(a,document.head.firstElementChild)}function TU(t){var e="https://www.paypal.com/sdk/js";t.sdkBaseURL&&(e=t.sdkBaseURL,delete t.sdkBaseURL),IU(t);var n=Object.keys(t).filter(function(a){return typeof t[a]<"u"&&t[a]!==null&&t[a]!==""}).reduce(function(a,l){var h=t[l].toString();return l.substring(0,5)==="data-"?a.dataAttributes[l]=h:a.queryParams[l]=h,a},{queryParams:{},dataAttributes:{}}),r=n.queryParams,i=n.dataAttributes;return{url:"".concat(e,"?").concat(NU(r)),dataAttributes:i}}function NU(t){var e="";return Object.keys(t).forEach(function(n){e.length!==0&&(e+="&"),e+=n+"="+t[n]}),e}function DU(t){var e=t.split("/* Original Error:")[1];return e?e.replace(/\n/g,"").replace("*/","").trim():t}function fS(t,e){e===void 0&&(e={});var n=document.createElement("script");return n.src=t,Object.keys(e).forEach(function(r){n.setAttribute(r,e[r]),r==="data-csp-nonce"&&n.setAttribute("nonce",e["data-csp-nonce"])}),n}function IU(t){var e=t["merchant-id"],n=t["data-merchant-id"],r="",i="";return Array.isArray(e)?e.length>1?(r="*",i=e.toString()):r=e.toString():typeof e=="string"&&e.length>0?r=e:typeof n=="string"&&n.length>0&&(r="*",i=n),t["merchant-id"]=r,t["data-merchant-id"]=i,t}function AU(t,e){if(e===void 0&&(e=_S()),pS(t,e),typeof window>"u")return e.resolve(null);var n=TU(t),r=n.url,i=n.dataAttributes,a=i["data-namespace"]||"paypal",l=tb(a);return SU(r,i)&&l?e.resolve(l):OU({url:r,attributes:i},e).then(function(){var h=tb(a);if(h)return h;throw new Error("The window.".concat(a," global variable is not available."))})}function OU(t,e){e===void 0&&(e=_S()),pS(t,e);var n=t.url,r=t.attributes;if(typeof n!="string"||n.length===0)throw new Error("Invalid url.");if(typeof r<"u"&&typeof r!="object")throw new Error("Expected attributes to be an object.");return new e(function(i,a){if(typeof window>"u")return i();CU({url:n,attributes:r,onSuccess:function(){return i()},onError:function(){var l=new Error('The script "'.concat(n,'" failed to load.'));return window.fetch?fetch(n).then(function(h){return h.status===200&&a(l),h.text()}).then(function(h){var _=DU(h);a(new Error(_))}).catch(function(h){a(h)}):a(l)}})})}function _S(){if(typeof Promise>"u")throw new Error("Promise is undefined. To resolve the issue, use a Promise polyfill.");return Promise}function tb(t){return window[t]}function pS(t,e){if(typeof t!="object"||t===null)throw new Error("Expected an options object.");if(typeof e<"u"&&typeof e!="function")throw new Error("Expected PromisePonyfill to be a function.")}var MU=function(t){var e,n=t.options,r=n===void 0?{"client-id":"test"}:n,i=t.children,a=t.deferLoading,l=a===void 0?!1:a,h=oe.exports.useReducer(xU,{options:tn(tn({},r),(e={},e[ol]="".concat(dS(r)),e[Qs.DATA_SDK_INTEGRATION_SOURCE]=Qs.DATA_SDK_INTEGRATION_SOURCE_VALUE,e)),loadingStatus:l?Bn.INITIAL:Bn.PENDING}),_=h[0],g=h[1];return oe.exports.useEffect(function(){if(l===!1&&_.loadingStatus===Bn.INITIAL)return g({type:ea.LOADING_STATUS,value:Bn.PENDING});if(_.loadingStatus===Bn.PENDING){var k=!0;return AU(_.options).then(function(){k&&g({type:ea.LOADING_STATUS,value:Bn.RESOLVED})}).catch(function(C){console.error("".concat(pU," ").concat(C)),k&&g({type:ea.LOADING_STATUS,value:Bn.REJECTED})}),function(){k=!1}}},[_.options,l,_.loadingStatus]),$(hS.Provider,{value:tn(tn({},_),{dispatch:g}),children:i})};const PU=({totalValue:t,cantidad:e})=>{const{userLogged:n}=lr(),r=Ih(),i={textNotification:"Felicitaciones, adquiriste nuevas clases",notificationType:"Compra",checked:!1},a=async()=>{try{const h=gn(),_=Pt(h,`Users/${n.uid}`);await zr(_,{remainingClases:Ps(e),totalClasses:Ps(e),newNotifications:!0,notifications:Ps(1)});const g=Id(xr(h,`Users/${n.uid}/myNotifications`));Dh(g,{...i,cantidad:e,timeStamp:r}).then(({id:k})=>{const C=Pt(h,`AdminNotifications/${k}`);Zi(C,{notificationType,cantidad:e})})}catch(h){swal("UPS!",`${h.message}`,"error")}},l=t;return $(MU,{options:_U,children:$(Yg,{createOrder:(h,_)=>_.order.create({purchase_units:[{amount:{value:l}}]}),onApprove:async(h,_)=>{const g=await _.order.capture();console.log(g);let k=g;k?(a(),k=!1):console.log("pago not apprub")}})})};function mS({totalValue:t,cantidad:e}){return console.log("checkout enter : ",t,e),ie("div",{className:"payment-container",children:[ie("span",{className:"amount",children:["$",t]}),$(PU,{totalValue:t,cantidad:e,className:"payment"})]})}const Ad=({durationSelection:t,msg:e})=>{const[n,r]=oe.exports.useState(!1),{userLogged:i}=lr(),[a,l]=oe.exports.useState(),[h,_]=oe.exports.useState(),[g,k]=oe.exports.useState(50),[C,T]=oe.exports.useState("USD"),O=jn();let L=[];switch(g){case 30:L=fU;break;case 50:L=hU;break}const N=I=>{T(I)},P=I=>{k(parseInt(I))};return n?$(mS,{totalValue:a,cantidad:h}):ie("div",{className:"buy-container",children:[$("h3",{children:e}),ie("div",{className:"buy-container__header",children:[t&&$(Np,{title:"DURACION DE LA CLASE :",opt01:"50",opt02:"30",onToggle:P}),$(Np,{title:"MONEDA :",opt01:"USD",opt02:"EUR",onToggle:N})]}),$("div",{className:"buy-card-container",children:L.map((I,A)=>{let R=!1;return A===1&&(R=!R),ie("div",{className:"buy-card",children:[R?$("span",{className:"recomended-label",children:"RECOMENDADO"}):"",$("li",{children:ie("ul",{children:[ie("li",{className:"pack-number",children:["Navis ",I.number," "]}),ie("li",{className:"amount",children:[" ",I.amount," ",$("span",{className:"clases-thin",children:"Clases"})," "]}),ie("li",{className:"duration",children:[" ",I.duration," min/Class "]}),$("li",{className:"libros",children:"Libros interactivos "}),ie("li",{className:"price",children:["$ ",I[C]," ",C," por clase "]}),$("div",{children:$("button",{className:"button__Card",onClick:V=>{if(!i)O("./signIn");else{let j=parseFloat(I[C]),W=parseInt(I.amount),B=(W*j).toFixed(2).toString();_(W),l(B),r(!n)}},children:"Comprar"})})]})}),$("div",{className:"cohete"})]},A)})})]})};const LU=()=>{const{userLogged:t}=lr();Nn();const[e,n]=oe.exports.useState(!0);return oe.exports.useEffect(()=>{n(!t)},[t]),ie("div",{children:[$("div",{className:"homeSection__Title",children:$("h2",{children:"Paquetes"})}),$(Ad,{durationSelection:e,msg:""})]})};const RU=()=>ie(Vn,{children:[$(A$,{}),$(cU,{}),$(j$,{}),$(LU,{}),$(dU,{}),$(z$,{})]});const $U="/assets/facebook.83af00d0.svg",FU="/assets/instagram.e0a2630a.svg",UU="/assets/whatsapp.2e82302a.svg",jU=()=>$(Vn,{children:$("section",{className:"footer_Content",children:ie("div",{className:"footer__Container",children:[$(Ft,{className:"logoFooter",to:"/home",children:$("img",{src:Hk,alt:""})}),$("div",{children:ie("div",{className:"redes__Footer",children:[$(Ft,{to:"",children:$("img",{src:$U,alt:""})}),$(Ft,{to:"/#",children:$("img",{src:FU,alt:""})}),$(Ft,{to:"/#",children:$("img",{src:UU,alt:""})})]})})]})})}),gS="/assets/cohete.30df8fe9.svg";const rs=()=>ie("div",{className:"loaderContainer",children:[$("span",{className:"loader"}),$("h5",{children:"LOADING..."})]});const VU=()=>{const t=jn(),{user:e,signIn:n}=lr(),[r,i]=oe.exports.useState(""),[a,l]=oe.exports.useState(""),[h,_]=oe.exports.useState(""),[g,k]=oe.exports.useState(!1),C=async T=>{T.preventDefault(),_(""),k(!0);try{await n(r,a),swal("Bienvenido",`sesion iniciada como ${r}`,"success"),t("/Panel")}catch(O){_(O.message),console.log(O.message),swal("UPS!",`${O.message}`,"error"),k(!1)}};return g?$(rs,{}):$(Vn,{children:$("div",{className:"signIn__main-container",children:ie("div",{className:"signIn__container",children:[ie("div",{children:[ie("div",{className:"signIn__tittleColumn",children:[ie("p",{className:"signIn-logo",children:[$("img",{className:"cohete-navis",src:gS,alt:"cohete.svg"}),$("i",{className:"fa-solid fa-user"})]}),$("p",{className:"signIn-tittle",children:"Login"})]}),ie("p",{className:"subTittle",children:["\xBFTodavia no tenes una cuenta?",$(Ft,{to:"/signUp",children:"Registrate."})]})]}),ie("form",{className:"signIn__form",onSubmit:C,children:[$("label",{htmlFor:"email",children:"Correo electr\xF3nico"}),$("input",{type:"email",id:"email",name:"email",value:r,onChange:T=>i(T.target.value)}),$("label",{htmlFor:"password",children:"Clave"}),$("input",{type:"password",id:"password",name:"password",value:a,onChange:T=>l(T.target.value)}),$("button",{type:"submit",id:"btn__iniciar-sesion",children:"Iniciar Sesi\xF3n"})]})]})})})};class is extends Error{}class zU extends is{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class HU extends is{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class BU extends is{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class zo extends is{}class vS extends is{constructor(e){super(`Invalid unit ${e}`)}}class _r extends is{}class Ci extends is{constructor(){super("Zone is an abstract class")}}const ke="numeric",Rr="short",rr="long",Dp={year:ke,month:ke,day:ke},yS={year:ke,month:Rr,day:ke},qU={year:ke,month:Rr,day:ke,weekday:Rr},bS={year:ke,month:rr,day:ke},wS={year:ke,month:rr,day:ke,weekday:rr},xS={hour:ke,minute:ke},ES={hour:ke,minute:ke,second:ke},kS={hour:ke,minute:ke,second:ke,timeZoneName:Rr},SS={hour:ke,minute:ke,second:ke,timeZoneName:rr},CS={hour:ke,minute:ke,hourCycle:"h23"},TS={hour:ke,minute:ke,second:ke,hourCycle:"h23"},NS={hour:ke,minute:ke,second:ke,hourCycle:"h23",timeZoneName:Rr},DS={hour:ke,minute:ke,second:ke,hourCycle:"h23",timeZoneName:rr},IS={year:ke,month:ke,day:ke,hour:ke,minute:ke},AS={year:ke,month:ke,day:ke,hour:ke,minute:ke,second:ke},OS={year:ke,month:Rr,day:ke,hour:ke,minute:ke},MS={year:ke,month:Rr,day:ke,hour:ke,minute:ke,second:ke},WU={year:ke,month:Rr,day:ke,weekday:Rr,hour:ke,minute:ke},PS={year:ke,month:rr,day:ke,hour:ke,minute:ke,timeZoneName:Rr},LS={year:ke,month:rr,day:ke,hour:ke,minute:ke,second:ke,timeZoneName:Rr},RS={year:ke,month:rr,day:ke,weekday:rr,hour:ke,minute:ke,timeZoneName:rr},$S={year:ke,month:rr,day:ke,weekday:rr,hour:ke,minute:ke,second:ke,timeZoneName:rr};function ot(t){return typeof t>"u"}function La(t){return typeof t=="number"}function Ph(t){return typeof t=="number"&&t%1===0}function GU(t){return typeof t=="string"}function KU(t){return Object.prototype.toString.call(t)==="[object Date]"}function FS(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function YU(t){return Array.isArray(t)?t:[t]}function nb(t,e,n){if(t.length!==0)return t.reduce((r,i)=>{const a=[e(i),i];return r&&n(r[0],a[0])===r[0]?r:a},null)[1]}function JU(t,e){return e.reduce((n,r)=>(n[r]=t[r],n),{})}function Xs(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ai(t,e,n){return Ph(t)&&t>=e&&t<=n}function QU(t,e){return t-e*Math.floor(t/e)}function Ut(t,e=2){const n=t<0;let r;return n?r="-"+(""+-t).padStart(e,"0"):r=(""+t).padStart(e,"0"),r}function Di(t){if(!(ot(t)||t===null||t===""))return parseInt(t,10)}function ga(t){if(!(ot(t)||t===null||t===""))return parseFloat(t)}function Jg(t){if(!(ot(t)||t===null||t==="")){const e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function Qg(t,e,n=!1){const r=10**e;return(n?Math.trunc:Math.round)(t*r)/r}function Dc(t){return t%4===0&&(t%100!==0||t%400===0)}function ll(t){return Dc(t)?366:365}function Od(t,e){const n=QU(e-1,12)+1,r=t+(e-n)/12;return n===2?Dc(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function Xg(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(e.getUTCFullYear()-1900)),+e}function Md(t){const e=(t+Math.floor(t/4)-Math.floor(t/100)+Math.floor(t/400))%7,n=t-1,r=(n+Math.floor(n/4)-Math.floor(n/100)+Math.floor(n/400))%7;return e===4||r===3?53:52}function Ip(t){return t>99?t:t>60?1900+t:2e3+t}function US(t,e,n,r=null){const i=new Date(t),a={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(a.timeZone=r);const l={timeZoneName:e,...a},h=new Intl.DateTimeFormat(n,l).formatToParts(i).find(_=>_.type.toLowerCase()==="timezonename");return h?h.value:null}function Lh(t,e){let n=parseInt(t,10);Number.isNaN(n)&&(n=0);const r=parseInt(e,10)||0,i=n<0||Object.is(n,-0)?-r:r;return n*60+i}function jS(t){const e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new _r(`Invalid unit value ${t}`);return e}function Pd(t,e){const n={};for(const r in t)if(Xs(t,r)){const i=t[r];if(i==null)continue;n[e(r)]=jS(i)}return n}function cl(t,e){const n=Math.trunc(Math.abs(t/60)),r=Math.trunc(Math.abs(t%60)),i=t>=0?"+":"-";switch(e){case"short":return`${i}${Ut(n,2)}:${Ut(r,2)}`;case"narrow":return`${i}${n}${r>0?`:${r}`:""}`;case"techie":return`${i}${Ut(n,2)}${Ut(r,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function Rh(t){return JU(t,["hour","minute","second","millisecond"])}const VS=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/,XU=["January","February","March","April","May","June","July","August","September","October","November","December"],zS=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ZU=["J","F","M","A","M","J","J","A","S","O","N","D"];function HS(t){switch(t){case"narrow":return[...ZU];case"short":return[...zS];case"long":return[...XU];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const BS=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],qS=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],ej=["M","T","W","T","F","S","S"];function WS(t){switch(t){case"narrow":return[...ej];case"short":return[...qS];case"long":return[...BS];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const GS=["AM","PM"],tj=["Before Christ","Anno Domini"],nj=["BC","AD"],rj=["B","A"];function KS(t){switch(t){case"narrow":return[...rj];case"short":return[...nj];case"long":return[...tj];default:return null}}function ij(t){return GS[t.hour<12?0:1]}function aj(t,e){return WS(e)[t.weekday-1]}function sj(t,e){return HS(e)[t.month-1]}function oj(t,e){return KS(e)[t.year<0?0:1]}function lj(t,e,n="always",r=!1){const i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},a=["hours","minutes","seconds"].indexOf(t)===-1;if(n==="auto"&&a){const C=t==="days";switch(e){case 1:return C?"tomorrow":`next ${i[t][0]}`;case-1:return C?"yesterday":`last ${i[t][0]}`;case 0:return C?"today":`this ${i[t][0]}`}}const l=Object.is(e,-0)||e<0,h=Math.abs(e),_=h===1,g=i[t],k=r?_?g[1]:g[2]||g[1]:_?i[t][0]:t;return l?`${h} ${k} ago`:`in ${h} ${k}`}function rb(t,e){let n="";for(const r of t)r.literal?n+=r.val:n+=e(r.val);return n}const cj={D:Dp,DD:yS,DDD:bS,DDDD:wS,t:xS,tt:ES,ttt:kS,tttt:SS,T:CS,TT:TS,TTT:NS,TTTT:DS,f:IS,ff:OS,fff:PS,ffff:RS,F:AS,FF:MS,FFF:LS,FFFF:$S};class Mn{static create(e,n={}){return new Mn(e,n)}static parseFormat(e){let n=null,r="",i=!1;const a=[];for(let l=0;l<e.length;l++){const h=e.charAt(l);h==="'"?(r.length>0&&a.push({literal:i,val:r}),n=null,r="",i=!i):i||h===n?r+=h:(r.length>0&&a.push({literal:!1,val:r}),r=h,n=h)}return r.length>0&&a.push({literal:i,val:r}),a}static macroTokenToFormatOpts(e){return cj[e]}constructor(e,n){this.opts=n,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,n){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...n}).format()}formatDateTime(e,n={}){return this.loc.dtFormatter(e,{...this.opts,...n}).format()}formatDateTimeParts(e,n={}){return this.loc.dtFormatter(e,{...this.opts,...n}).formatToParts()}resolvedOptions(e,n={}){return this.loc.dtFormatter(e,{...this.opts,...n}).resolvedOptions()}num(e,n=0){if(this.opts.forceSimple)return Ut(e,n);const r={...this.opts};return n>0&&(r.padTo=n),this.loc.numberFormatter(r).format(e)}formatDateTimeFromString(e,n){const r=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",a=(O,L)=>this.loc.extract(e,O,L),l=O=>e.isOffsetFixed&&e.offset===0&&O.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,O.format):"",h=()=>r?ij(e):a({hour:"numeric",hourCycle:"h12"},"dayperiod"),_=(O,L)=>r?sj(e,O):a(L?{month:O}:{month:O,day:"numeric"},"month"),g=(O,L)=>r?aj(e,O):a(L?{weekday:O}:{weekday:O,month:"long",day:"numeric"},"weekday"),k=O=>{const L=Mn.macroTokenToFormatOpts(O);return L?this.formatWithSystemDefault(e,L):O},C=O=>r?oj(e,O):a({era:O},"era"),T=O=>{switch(O){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return l({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return l({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return l({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return h();case"d":return i?a({day:"numeric"},"day"):this.num(e.day);case"dd":return i?a({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return g("short",!0);case"cccc":return g("long",!0);case"ccccc":return g("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return g("short",!1);case"EEEE":return g("long",!1);case"EEEEE":return g("narrow",!1);case"L":return i?a({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return i?a({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return _("short",!0);case"LLLL":return _("long",!0);case"LLLLL":return _("narrow",!0);case"M":return i?a({month:"numeric"},"month"):this.num(e.month);case"MM":return i?a({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return _("short",!1);case"MMMM":return _("long",!1);case"MMMMM":return _("narrow",!1);case"y":return i?a({year:"numeric"},"year"):this.num(e.year);case"yy":return i?a({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return i?a({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return i?a({year:"numeric"},"year"):this.num(e.year,6);case"G":return C("short");case"GG":return C("long");case"GGGGG":return C("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return k(O)}};return rb(Mn.parseFormat(n),T)}formatDurationFromString(e,n){const r=_=>{switch(_[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},i=_=>g=>{const k=r(g);return k?this.num(_.get(k),g.length):g},a=Mn.parseFormat(n),l=a.reduce((_,{literal:g,val:k})=>g?_:_.concat(k),[]),h=e.shiftTo(...l.map(r).filter(_=>_));return rb(a,i(h))}}class Dr{constructor(e,n){this.reason=e,this.explanation=n}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}class Ic{get type(){throw new Ci}get name(){throw new Ci}get ianaName(){return this.name}get isUniversal(){throw new Ci}offsetName(e,n){throw new Ci}formatOffset(e,n){throw new Ci}offset(e){throw new Ci}equals(e){throw new Ci}get isValid(){throw new Ci}}let $f=null;class $h extends Ic{static get instance(){return $f===null&&($f=new $h),$f}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:n,locale:r}){return US(e,n,r)}formatOffset(e,n){return cl(this.offset(e),n)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}let Ru={};function uj(t){return Ru[t]||(Ru[t]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),Ru[t]}const dj={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function hj(t,e){const n=t.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(n),[,i,a,l,h,_,g,k]=r;return[l,i,a,h,_,g,k]}function fj(t,e){const n=t.formatToParts(e),r=[];for(let i=0;i<n.length;i++){const{type:a,value:l}=n[i],h=dj[a];a==="era"?r[h]=l:ot(h)||(r[h]=parseInt(l,10))}return r}let uu={};class vi extends Ic{static create(e){return uu[e]||(uu[e]=new vi(e)),uu[e]}static resetCache(){uu={},Ru={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=vi.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:n,locale:r}){return US(e,n,r,this.name)}formatOffset(e,n){return cl(this.offset(e),n)}offset(e){const n=new Date(e);if(isNaN(n))return NaN;const r=uj(this.name);let[i,a,l,h,_,g,k]=r.formatToParts?fj(r,n):hj(r,n);h==="BC"&&(i=-Math.abs(i)+1);const T=Xg({year:i,month:a,day:l,hour:_===24?0:_,minute:g,second:k,millisecond:0});let O=+n;const L=O%1e3;return O-=L>=0?L:1e3+L,(T-O)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let Ff=null;class Rn extends Ic{static get utcInstance(){return Ff===null&&(Ff=new Rn(0)),Ff}static instance(e){return e===0?Rn.utcInstance:new Rn(e)}static parseSpecifier(e){if(e){const n=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(n)return new Rn(Lh(n[1],n[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${cl(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${cl(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,n){return cl(this.fixed,n)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class _j extends Ic{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Ri(t,e){if(ot(t)||t===null)return e;if(t instanceof Ic)return t;if(GU(t)){const n=t.toLowerCase();return n==="default"?e:n==="local"||n==="system"?$h.instance:n==="utc"||n==="gmt"?Rn.utcInstance:Rn.parseSpecifier(n)||vi.create(t)}else return La(t)?Rn.instance(t):typeof t=="object"&&t.offset&&typeof t.offset=="number"?t:new _j(t)}let ib=()=>Date.now(),ab="system",sb=null,ob=null,lb=null,cb;class Bt{static get now(){return ib}static set now(e){ib=e}static set defaultZone(e){ab=e}static get defaultZone(){return Ri(ab,$h.instance)}static get defaultLocale(){return sb}static set defaultLocale(e){sb=e}static get defaultNumberingSystem(){return ob}static set defaultNumberingSystem(e){ob=e}static get defaultOutputCalendar(){return lb}static set defaultOutputCalendar(e){lb=e}static get throwOnInvalid(){return cb}static set throwOnInvalid(e){cb=e}static resetCaches(){xt.resetCache(),vi.resetCache()}}let ub={};function pj(t,e={}){const n=JSON.stringify([t,e]);let r=ub[n];return r||(r=new Intl.ListFormat(t,e),ub[n]=r),r}let Ap={};function Op(t,e={}){const n=JSON.stringify([t,e]);let r=Ap[n];return r||(r=new Intl.DateTimeFormat(t,e),Ap[n]=r),r}let Mp={};function mj(t,e={}){const n=JSON.stringify([t,e]);let r=Mp[n];return r||(r=new Intl.NumberFormat(t,e),Mp[n]=r),r}let Pp={};function gj(t,e={}){const{base:n,...r}=e,i=JSON.stringify([t,r]);let a=Pp[i];return a||(a=new Intl.RelativeTimeFormat(t,e),Pp[i]=a),a}let Ho=null;function vj(){return Ho||(Ho=new Intl.DateTimeFormat().resolvedOptions().locale,Ho)}function yj(t){const e=t.indexOf("-u-");if(e===-1)return[t];{let n;const r=t.substring(0,e);try{n=Op(t).resolvedOptions()}catch{n=Op(r).resolvedOptions()}const{numberingSystem:i,calendar:a}=n;return[r,i,a]}}function bj(t,e,n){return(n||e)&&(t+="-u",n&&(t+=`-ca-${n}`),e&&(t+=`-nu-${e}`)),t}function wj(t){const e=[];for(let n=1;n<=12;n++){const r=Je.utc(2016,n,1);e.push(t(r))}return e}function xj(t){const e=[];for(let n=1;n<=7;n++){const r=Je.utc(2016,11,13+n);e.push(t(r))}return e}function du(t,e,n,r,i){const a=t.listingMode(n);return a==="error"?null:a==="en"?r(e):i(e)}function Ej(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem==="latn"}class kj{constructor(e,n,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;const{padTo:i,floor:a,...l}=r;if(!n||Object.keys(l).length>0){const h={useGrouping:!1,...r};r.padTo>0&&(h.minimumIntegerDigits=r.padTo),this.inf=mj(e,h)}}format(e){if(this.inf){const n=this.floor?Math.floor(e):e;return this.inf.format(n)}else{const n=this.floor?Math.floor(e):Qg(e,3);return Ut(n,this.padTo)}}}class Sj{constructor(e,n,r){this.opts=r;let i;if(e.zone.isUniversal){const l=-1*(e.offset/60),h=l>=0?`Etc/GMT+${l}`:`Etc/GMT${l}`;e.offset!==0&&vi.create(h).valid?(i=h,this.dt=e):(i="UTC",r.timeZoneName?this.dt=e:this.dt=e.offset===0?e:Je.fromMillis(e.ts+e.offset*60*1e3))}else e.zone.type==="system"?this.dt=e:(this.dt=e,i=e.zone.name);const a={...this.opts};i&&(a.timeZone=i),this.dtf=Op(n,a)}format(){return this.dtf.format(this.dt.toJSDate())}formatToParts(){return this.dtf.formatToParts(this.dt.toJSDate())}resolvedOptions(){return this.dtf.resolvedOptions()}}class Cj{constructor(e,n,r){this.opts={style:"long",...r},!n&&FS()&&(this.rtf=gj(e,r))}format(e,n){return this.rtf?this.rtf.format(e,n):lj(n,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,n){return this.rtf?this.rtf.formatToParts(e,n):[]}}class xt{static fromOpts(e){return xt.create(e.locale,e.numberingSystem,e.outputCalendar,e.defaultToEN)}static create(e,n,r,i=!1){const a=e||Bt.defaultLocale,l=a||(i?"en-US":vj()),h=n||Bt.defaultNumberingSystem,_=r||Bt.defaultOutputCalendar;return new xt(l,h,_,a)}static resetCache(){Ho=null,Ap={},Mp={},Pp={}}static fromObject({locale:e,numberingSystem:n,outputCalendar:r}={}){return xt.create(e,n,r)}constructor(e,n,r,i){const[a,l,h]=yj(e);this.locale=a,this.numberingSystem=n||l||null,this.outputCalendar=r||h||null,this.intl=bj(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=i,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=Ej(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),n=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&n?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:xt.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,n=!1,r=!0){return du(this,e,r,HS,()=>{const i=n?{month:e,day:"numeric"}:{month:e},a=n?"format":"standalone";return this.monthsCache[a][e]||(this.monthsCache[a][e]=wj(l=>this.extract(l,i,"month"))),this.monthsCache[a][e]})}weekdays(e,n=!1,r=!0){return du(this,e,r,WS,()=>{const i=n?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},a=n?"format":"standalone";return this.weekdaysCache[a][e]||(this.weekdaysCache[a][e]=xj(l=>this.extract(l,i,"weekday"))),this.weekdaysCache[a][e]})}meridiems(e=!0){return du(this,void 0,e,()=>GS,()=>{if(!this.meridiemCache){const n={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Je.utc(2016,11,13,9),Je.utc(2016,11,13,19)].map(r=>this.extract(r,n,"dayperiod"))}return this.meridiemCache})}eras(e,n=!0){return du(this,e,n,KS,()=>{const r={era:e};return this.eraCache[e]||(this.eraCache[e]=[Je.utc(-40,1,1),Je.utc(2017,1,1)].map(i=>this.extract(i,r,"era"))),this.eraCache[e]})}extract(e,n,r){const i=this.dtFormatter(e,n),a=i.formatToParts(),l=a.find(h=>h.type.toLowerCase()===r);return l?l.value:null}numberFormatter(e={}){return new kj(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,n={}){return new Sj(e,this.intl,n)}relFormatter(e={}){return new Cj(this.intl,this.isEnglish(),e)}listFormatter(e={}){return pj(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}}function ho(...t){const e=t.reduce((n,r)=>n+r.source,"");return RegExp(`^${e}$`)}function fo(...t){return e=>t.reduce(([n,r,i],a)=>{const[l,h,_]=a(e,i);return[{...n,...l},h||r,_]},[{},null,1]).slice(0,2)}function _o(t,...e){if(t==null)return[null,null];for(const[n,r]of e){const i=n.exec(t);if(i)return r(i)}return[null,null]}function YS(...t){return(e,n)=>{const r={};let i;for(i=0;i<t.length;i++)r[t[i]]=Di(e[n+i]);return[r,null,n+i]}}const JS=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Tj=`(?:${JS.source}?(?:\\[(${VS.source})\\])?)?`,Zg=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,QS=RegExp(`${Zg.source}${Tj}`),ev=RegExp(`(?:T${QS.source})?`),Nj=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Dj=/(\d{4})-?W(\d\d)(?:-?(\d))?/,Ij=/(\d{4})-?(\d{3})/,Aj=YS("weekYear","weekNumber","weekDay"),Oj=YS("year","ordinal"),Mj=/(\d{4})-(\d\d)-(\d\d)/,XS=RegExp(`${Zg.source} ?(?:${JS.source}|(${VS.source}))?`),Pj=RegExp(`(?: ${XS.source})?`);function Ls(t,e,n){const r=t[e];return ot(r)?n:Di(r)}function Lj(t,e){return[{year:Ls(t,e),month:Ls(t,e+1,1),day:Ls(t,e+2,1)},null,e+3]}function po(t,e){return[{hours:Ls(t,e,0),minutes:Ls(t,e+1,0),seconds:Ls(t,e+2,0),milliseconds:Jg(t[e+3])},null,e+4]}function Ac(t,e){const n=!t[e]&&!t[e+1],r=Lh(t[e+1],t[e+2]),i=n?null:Rn.instance(r);return[{},i,e+3]}function Oc(t,e){const n=t[e]?vi.create(t[e]):null;return[{},n,e+1]}const Rj=RegExp(`^T?${Zg.source}$`),$j=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Fj(t){const[e,n,r,i,a,l,h,_,g]=t,k=e[0]==="-",C=_&&_[0]==="-",T=(O,L=!1)=>O!==void 0&&(L||O&&k)?-O:O;return[{years:T(ga(n)),months:T(ga(r)),weeks:T(ga(i)),days:T(ga(a)),hours:T(ga(l)),minutes:T(ga(h)),seconds:T(ga(_),_==="-0"),milliseconds:T(Jg(g),C)}]}const Uj={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function tv(t,e,n,r,i,a,l){const h={year:e.length===2?Ip(Di(e)):Di(e),month:zS.indexOf(n)+1,day:Di(r),hour:Di(i),minute:Di(a)};return l&&(h.second=Di(l)),t&&(h.weekday=t.length>3?BS.indexOf(t)+1:qS.indexOf(t)+1),h}const jj=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Vj(t){const[,e,n,r,i,a,l,h,_,g,k,C]=t,T=tv(e,i,r,n,a,l,h);let O;return _?O=Uj[_]:g?O=0:O=Lh(k,C),[T,new Rn(O)]}function zj(t){return t.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const Hj=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Bj=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,qj=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function db(t){const[,e,n,r,i,a,l,h]=t;return[tv(e,i,r,n,a,l,h),Rn.utcInstance]}function Wj(t){const[,e,n,r,i,a,l,h]=t;return[tv(e,h,n,r,i,a,l),Rn.utcInstance]}const Gj=ho(Nj,ev),Kj=ho(Dj,ev),Yj=ho(Ij,ev),Jj=ho(QS),ZS=fo(Lj,po,Ac,Oc),Qj=fo(Aj,po,Ac,Oc),Xj=fo(Oj,po,Ac,Oc),Zj=fo(po,Ac,Oc);function eV(t){return _o(t,[Gj,ZS],[Kj,Qj],[Yj,Xj],[Jj,Zj])}function tV(t){return _o(zj(t),[jj,Vj])}function nV(t){return _o(t,[Hj,db],[Bj,db],[qj,Wj])}function rV(t){return _o(t,[$j,Fj])}const iV=fo(po);function aV(t){return _o(t,[Rj,iV])}const sV=ho(Mj,Pj),oV=ho(XS),lV=fo(po,Ac,Oc);function cV(t){return _o(t,[sV,ZS],[oV,lV])}const uV="Invalid Duration",eC={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},dV={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...eC},dr=146097/400,ls=146097/4800,hV={years:{quarters:4,months:12,weeks:dr/7,days:dr,hours:dr*24,minutes:dr*24*60,seconds:dr*24*60*60,milliseconds:dr*24*60*60*1e3},quarters:{months:3,weeks:dr/28,days:dr/4,hours:dr*24/4,minutes:dr*24*60/4,seconds:dr*24*60*60/4,milliseconds:dr*24*60*60*1e3/4},months:{weeks:ls/7,days:ls,hours:ls*24,minutes:ls*24*60,seconds:ls*24*60*60,milliseconds:ls*24*60*60*1e3},...eC},Ea=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],fV=Ea.slice(0).reverse();function va(t,e,n=!1){const r={values:n?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new lt(r)}function _V(t){return t<0?Math.floor(t):Math.ceil(t)}function tC(t,e,n,r,i){const a=t[i][n],l=e[n]/a,h=Math.sign(l)===Math.sign(r[i]),_=!h&&r[i]!==0&&Math.abs(l)<=1?_V(l):Math.trunc(l);r[i]+=_,e[n]-=_*a}function pV(t,e){fV.reduce((n,r)=>ot(e[r])?n:(n&&tC(t,e,n,e,r),r),null)}class lt{constructor(e){const n=e.conversionAccuracy==="longterm"||!1;let r=n?hV:dV;e.matrix&&(r=e.matrix),this.values=e.values,this.loc=e.loc||xt.create(),this.conversionAccuracy=n?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(e,n){return lt.fromObject({milliseconds:e},n)}static fromObject(e,n={}){if(e==null||typeof e!="object")throw new _r(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new lt({values:Pd(e,lt.normalizeUnit),loc:xt.fromObject(n),conversionAccuracy:n.conversionAccuracy,matrix:n.matrix})}static fromDurationLike(e){if(La(e))return lt.fromMillis(e);if(lt.isDuration(e))return e;if(typeof e=="object")return lt.fromObject(e);throw new _r(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,n){const[r]=rV(e);return r?lt.fromObject(r,n):lt.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,n){const[r]=aV(e);return r?lt.fromObject(r,n):lt.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,n=null){if(!e)throw new _r("need to specify a reason the Duration is invalid");const r=e instanceof Dr?e:new Dr(e,n);if(Bt.throwOnInvalid)throw new BU(r);return new lt({invalid:r})}static normalizeUnit(e){const n={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!n)throw new vS(e);return n}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,n={}){const r={...n,floor:n.round!==!1&&n.floor!==!1};return this.isValid?Mn.create(this.loc,r).formatDurationFromString(this,e):uV}toHuman(e={}){const n=Ea.map(r=>{const i=this.values[r];return ot(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:r.slice(0,-1)}).format(i)}).filter(r=>r);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(n)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=Qg(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const n=this.toMillis();if(n<0||n>=864e5)return null;e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e};const r=this.shiftTo("hours","minutes","seconds","milliseconds");let i=e.format==="basic"?"hhmm":"hh:mm";(!e.suppressSeconds||r.seconds!==0||r.milliseconds!==0)&&(i+=e.format==="basic"?"ss":":ss",(!e.suppressMilliseconds||r.milliseconds!==0)&&(i+=".SSS"));let a=r.toFormat(i);return e.includePrefix&&(a="T"+a),a}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const n=lt.fromDurationLike(e),r={};for(const i of Ea)(Xs(n.values,i)||Xs(this.values,i))&&(r[i]=n.get(i)+this.get(i));return va(this,{values:r},!0)}minus(e){if(!this.isValid)return this;const n=lt.fromDurationLike(e);return this.plus(n.negate())}mapUnits(e){if(!this.isValid)return this;const n={};for(const r of Object.keys(this.values))n[r]=jS(e(this.values[r],r));return va(this,{values:n},!0)}get(e){return this[lt.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const n={...this.values,...Pd(e,lt.normalizeUnit)};return va(this,{values:n})}reconfigure({locale:e,numberingSystem:n,conversionAccuracy:r,matrix:i}={}){const l={loc:this.loc.clone({locale:e,numberingSystem:n}),matrix:i,conversionAccuracy:r};return va(this,l)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return pV(this.matrix,e),va(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(l=>lt.normalizeUnit(l));const n={},r={},i=this.toObject();let a;for(const l of Ea)if(e.indexOf(l)>=0){a=l;let h=0;for(const g in r)h+=this.matrix[g][l]*r[g],r[g]=0;La(i[l])&&(h+=i[l]);const _=Math.trunc(h);n[l]=_,r[l]=(h*1e3-_*1e3)/1e3;for(const g in i)Ea.indexOf(g)>Ea.indexOf(l)&&tC(this.matrix,i,g,n,l)}else La(i[l])&&(r[l]=i[l]);for(const l in r)r[l]!==0&&(n[a]+=l===a?r[l]:r[l]/this.matrix[a][l]);return va(this,{values:n},!0).normalize()}negate(){if(!this.isValid)return this;const e={};for(const n of Object.keys(this.values))e[n]=this.values[n]===0?0:-this.values[n];return va(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function n(r,i){return r===void 0||r===0?i===void 0||i===0:r===i}for(const r of Ea)if(!n(this.values[r],e.values[r]))return!1;return!0}}const No="Invalid Interval";function mV(t,e){return!t||!t.isValid?Ot.invalid("missing or invalid start"):!e||!e.isValid?Ot.invalid("missing or invalid end"):e<t?Ot.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}class Ot{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,n=null){if(!e)throw new _r("need to specify a reason the Interval is invalid");const r=e instanceof Dr?e:new Dr(e,n);if(Bt.throwOnInvalid)throw new HU(r);return new Ot({invalid:r})}static fromDateTimes(e,n){const r=Ao(e),i=Ao(n),a=mV(r,i);return a==null?new Ot({start:r,end:i}):a}static after(e,n){const r=lt.fromDurationLike(n),i=Ao(e);return Ot.fromDateTimes(i,i.plus(r))}static before(e,n){const r=lt.fromDurationLike(n),i=Ao(e);return Ot.fromDateTimes(i.minus(r),i)}static fromISO(e,n){const[r,i]=(e||"").split("/",2);if(r&&i){let a,l;try{a=Je.fromISO(r,n),l=a.isValid}catch{l=!1}let h,_;try{h=Je.fromISO(i,n),_=h.isValid}catch{_=!1}if(l&&_)return Ot.fromDateTimes(a,h);if(l){const g=lt.fromISO(i,n);if(g.isValid)return Ot.after(a,g)}else if(_){const g=lt.fromISO(r,n);if(g.isValid)return Ot.before(h,g)}}return Ot.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds"){if(!this.isValid)return NaN;const n=this.start.startOf(e),r=this.end.startOf(e);return Math.floor(r.diff(n,e).get(e))+1}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:n}={}){return this.isValid?Ot.fromDateTimes(e||this.s,n||this.e):this}splitAt(...e){if(!this.isValid)return[];const n=e.map(Ao).filter(l=>this.contains(l)).sort(),r=[];let{s:i}=this,a=0;for(;i<this.e;){const l=n[a]||this.e,h=+l>+this.e?this.e:l;r.push(Ot.fromDateTimes(i,h)),i=h,a+=1}return r}splitBy(e){const n=lt.fromDurationLike(e);if(!this.isValid||!n.isValid||n.as("milliseconds")===0)return[];let{s:r}=this,i=1,a;const l=[];for(;r<this.e;){const h=this.start.plus(n.mapUnits(_=>_*i));a=+h>+this.e?this.e:h,l.push(Ot.fromDateTimes(r,a)),r=a,i+=1}return l}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const n=this.s>e.s?this.s:e.s,r=this.e<e.e?this.e:e.e;return n>=r?null:Ot.fromDateTimes(n,r)}union(e){if(!this.isValid)return this;const n=this.s<e.s?this.s:e.s,r=this.e>e.e?this.e:e.e;return Ot.fromDateTimes(n,r)}static merge(e){const[n,r]=e.sort((i,a)=>i.s-a.s).reduce(([i,a],l)=>a?a.overlaps(l)||a.abutsStart(l)?[i,a.union(l)]:[i.concat([a]),l]:[i,l],[[],null]);return r&&n.push(r),n}static xor(e){let n=null,r=0;const i=[],a=e.map(_=>[{time:_.s,type:"s"},{time:_.e,type:"e"}]),l=Array.prototype.concat(...a),h=l.sort((_,g)=>_.time-g.time);for(const _ of h)r+=_.type==="s"?1:-1,r===1?n=_.time:(n&&+n!=+_.time&&i.push(Ot.fromDateTimes(n,_.time)),n=null);return Ot.merge(i)}difference(...e){return Ot.xor([this].concat(e)).map(n=>this.intersection(n)).filter(n=>n&&!n.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:No}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:No}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:No}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:No}toFormat(e,{separator:n=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(e)}${n}${this.e.toFormat(e)}`:No}toDuration(e,n){return this.isValid?this.e.diff(this.s,e,n):lt.invalid(this.invalidReason)}mapEndpoints(e){return Ot.fromDateTimes(e(this.s),e(this.e))}}class hu{static hasDST(e=Bt.defaultZone){const n=Je.now().setZone(e).set({month:12});return!e.isUniversal&&n.offset!==n.set({month:6}).offset}static isValidIANAZone(e){return vi.isValidZone(e)}static normalizeZone(e){return Ri(e,Bt.defaultZone)}static months(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null,outputCalendar:a="gregory"}={}){return(i||xt.create(n,r,a)).months(e)}static monthsFormat(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null,outputCalendar:a="gregory"}={}){return(i||xt.create(n,r,a)).months(e,!0)}static weekdays(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null}={}){return(i||xt.create(n,r,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null}={}){return(i||xt.create(n,r,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return xt.create(e).meridiems()}static eras(e="short",{locale:n=null}={}){return xt.create(n,null,"gregory").eras(e)}static features(){return{relative:FS()}}}function hb(t,e){const n=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=n(e)-n(t);return Math.floor(lt.fromMillis(r).as("days"))}function gV(t,e,n){const r=[["years",(h,_)=>_.year-h.year],["quarters",(h,_)=>_.quarter-h.quarter+(_.year-h.year)*4],["months",(h,_)=>_.month-h.month+(_.year-h.year)*12],["weeks",(h,_)=>{const g=hb(h,_);return(g-g%7)/7}],["days",hb]],i={};let a,l;for(const[h,_]of r)if(n.indexOf(h)>=0){a=h;let g=_(t,e);l=t.plus({[h]:g}),l>e?(t=t.plus({[h]:g-1}),g-=1):t=l,i[h]=g}return[t,i,l,a]}function vV(t,e,n,r){let[i,a,l,h]=gV(t,e,n);const _=e-i,g=n.filter(C=>["hours","minutes","seconds","milliseconds"].indexOf(C)>=0);g.length===0&&(l<e&&(l=i.plus({[h]:1})),l!==i&&(a[h]=(a[h]||0)+_/(l-i)));const k=lt.fromObject(a,r);return g.length>0?lt.fromMillis(_,r).shiftTo(...g).plus(k):k}const nv={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},fb={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},yV=nv.hanidec.replace(/[\[|\]]/g,"").split("");function bV(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);if(t[n].search(nv.hanidec)!==-1)e+=yV.indexOf(t[n]);else for(const i in fb){const[a,l]=fb[i];r>=a&&r<=l&&(e+=r-a)}}return parseInt(e,10)}else return e}function kr({numberingSystem:t},e=""){return new RegExp(`${nv[t||"latn"]}${e}`)}const wV="missing Intl.DateTimeFormat.formatToParts support";function dt(t,e=n=>n){return{regex:t,deser:([n])=>e(bV(n))}}const xV=String.fromCharCode(160),nC=`[ ${xV}]`,rC=new RegExp(nC,"g");function EV(t){return t.replace(/\./g,"\\.?").replace(rC,nC)}function _b(t){return t.replace(/\./g,"").replace(rC," ").toLowerCase()}function Sr(t,e){return t===null?null:{regex:RegExp(t.map(EV).join("|")),deser:([n])=>t.findIndex(r=>_b(n)===_b(r))+e}}function pb(t,e){return{regex:t,deser:([,n,r])=>Lh(n,r),groups:e}}function Uf(t){return{regex:t,deser:([e])=>e}}function kV(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function SV(t,e){const n=kr(e),r=kr(e,"{2}"),i=kr(e,"{3}"),a=kr(e,"{4}"),l=kr(e,"{6}"),h=kr(e,"{1,2}"),_=kr(e,"{1,3}"),g=kr(e,"{1,6}"),k=kr(e,"{1,9}"),C=kr(e,"{2,4}"),T=kr(e,"{4,6}"),O=P=>({regex:RegExp(kV(P.val)),deser:([I])=>I,literal:!0}),N=(P=>{if(t.literal)return O(P);switch(P.val){case"G":return Sr(e.eras("short",!1),0);case"GG":return Sr(e.eras("long",!1),0);case"y":return dt(g);case"yy":return dt(C,Ip);case"yyyy":return dt(a);case"yyyyy":return dt(T);case"yyyyyy":return dt(l);case"M":return dt(h);case"MM":return dt(r);case"MMM":return Sr(e.months("short",!0,!1),1);case"MMMM":return Sr(e.months("long",!0,!1),1);case"L":return dt(h);case"LL":return dt(r);case"LLL":return Sr(e.months("short",!1,!1),1);case"LLLL":return Sr(e.months("long",!1,!1),1);case"d":return dt(h);case"dd":return dt(r);case"o":return dt(_);case"ooo":return dt(i);case"HH":return dt(r);case"H":return dt(h);case"hh":return dt(r);case"h":return dt(h);case"mm":return dt(r);case"m":return dt(h);case"q":return dt(h);case"qq":return dt(r);case"s":return dt(h);case"ss":return dt(r);case"S":return dt(_);case"SSS":return dt(i);case"u":return Uf(k);case"uu":return Uf(h);case"uuu":return dt(n);case"a":return Sr(e.meridiems(),0);case"kkkk":return dt(a);case"kk":return dt(C,Ip);case"W":return dt(h);case"WW":return dt(r);case"E":case"c":return dt(n);case"EEE":return Sr(e.weekdays("short",!1,!1),1);case"EEEE":return Sr(e.weekdays("long",!1,!1),1);case"ccc":return Sr(e.weekdays("short",!0,!1),1);case"cccc":return Sr(e.weekdays("long",!0,!1),1);case"Z":case"ZZ":return pb(new RegExp(`([+-]${h.source})(?::(${r.source}))?`),2);case"ZZZ":return pb(new RegExp(`([+-]${h.source})(${r.source})?`),2);case"z":return Uf(/[a-z_+-/]{1,256}?/i);default:return O(P)}})(t)||{invalidReason:wV};return N.token=t,N}const CV={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function TV(t,e,n){const{type:r,value:i}=t;if(r==="literal")return{literal:!0,val:i};const a=n[r];let l=CV[r];if(typeof l=="object"&&(l=l[a]),l)return{literal:!1,val:l}}function NV(t){return[`^${t.map(n=>n.regex).reduce((n,r)=>`${n}(${r.source})`,"")}$`,t]}function DV(t,e,n){const r=t.match(e);if(r){const i={};let a=1;for(const l in n)if(Xs(n,l)){const h=n[l],_=h.groups?h.groups+1:1;!h.literal&&h.token&&(i[h.token.val[0]]=h.deser(r.slice(a,a+_))),a+=_}return[r,i]}else return[r,{}]}function IV(t){const e=a=>{switch(a){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let n=null,r;return ot(t.z)||(n=vi.create(t.z)),ot(t.Z)||(n||(n=new Rn(t.Z)),r=t.Z),ot(t.q)||(t.M=(t.q-1)*3+1),ot(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),ot(t.u)||(t.S=Jg(t.u)),[Object.keys(t).reduce((a,l)=>{const h=e(l);return h&&(a[h]=t[l]),a},{}),n,r]}let jf=null;function AV(){return jf||(jf=Je.fromMillis(1555555555555)),jf}function OV(t,e){if(t.literal)return t;const n=Mn.macroTokenToFormatOpts(t.val),r=sC(n,e);return r==null||r.includes(void 0)?t:r}function iC(t,e){return Array.prototype.concat(...t.map(n=>OV(n,e)))}function aC(t,e,n){const r=iC(Mn.parseFormat(n),t),i=r.map(l=>SV(l,t)),a=i.find(l=>l.invalidReason);if(a)return{input:e,tokens:r,invalidReason:a.invalidReason};{const[l,h]=NV(i),_=RegExp(l,"i"),[g,k]=DV(e,_,h),[C,T,O]=k?IV(k):[null,null,void 0];if(Xs(k,"a")&&Xs(k,"H"))throw new zo("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:r,regex:_,rawMatches:g,matches:k,result:C,zone:T,specificOffset:O}}}function MV(t,e,n){const{result:r,zone:i,specificOffset:a,invalidReason:l}=aC(t,e,n);return[r,i,a,l]}function sC(t,e){return t?Mn.create(e,t).formatDateTimeParts(AV()).map(i=>TV(i,e,t)):null}const oC=[0,31,59,90,120,151,181,212,243,273,304,334],lC=[0,31,60,91,121,152,182,213,244,274,305,335];function mr(t,e){return new Dr("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function cC(t,e,n){const r=new Date(Date.UTC(t,e-1,n));t<100&&t>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const i=r.getUTCDay();return i===0?7:i}function uC(t,e,n){return n+(Dc(t)?lC:oC)[e-1]}function dC(t,e){const n=Dc(t)?lC:oC,r=n.findIndex(a=>a<e),i=e-n[r];return{month:r+1,day:i}}function Lp(t){const{year:e,month:n,day:r}=t,i=uC(e,n,r),a=cC(e,n,r);let l=Math.floor((i-a+10)/7),h;return l<1?(h=e-1,l=Md(h)):l>Md(e)?(h=e+1,l=1):h=e,{weekYear:h,weekNumber:l,weekday:a,...Rh(t)}}function mb(t){const{weekYear:e,weekNumber:n,weekday:r}=t,i=cC(e,1,4),a=ll(e);let l=n*7+r-i-3,h;l<1?(h=e-1,l+=ll(h)):l>a?(h=e+1,l-=ll(e)):h=e;const{month:_,day:g}=dC(h,l);return{year:h,month:_,day:g,...Rh(t)}}function Vf(t){const{year:e,month:n,day:r}=t,i=uC(e,n,r);return{year:e,ordinal:i,...Rh(t)}}function gb(t){const{year:e,ordinal:n}=t,{month:r,day:i}=dC(e,n);return{year:e,month:r,day:i,...Rh(t)}}function PV(t){const e=Ph(t.weekYear),n=ai(t.weekNumber,1,Md(t.weekYear)),r=ai(t.weekday,1,7);return e?n?r?!1:mr("weekday",t.weekday):mr("week",t.week):mr("weekYear",t.weekYear)}function LV(t){const e=Ph(t.year),n=ai(t.ordinal,1,ll(t.year));return e?n?!1:mr("ordinal",t.ordinal):mr("year",t.year)}function hC(t){const e=Ph(t.year),n=ai(t.month,1,12),r=ai(t.day,1,Od(t.year,t.month));return e?n?r?!1:mr("day",t.day):mr("month",t.month):mr("year",t.year)}function fC(t){const{hour:e,minute:n,second:r,millisecond:i}=t,a=ai(e,0,23)||e===24&&n===0&&r===0&&i===0,l=ai(n,0,59),h=ai(r,0,59),_=ai(i,0,999);return a?l?h?_?!1:mr("millisecond",i):mr("second",r):mr("minute",n):mr("hour",e)}const zf="Invalid DateTime",vb=864e13;function fu(t){return new Dr("unsupported zone",`the zone "${t.name}" is not supported`)}function Hf(t){return t.weekData===null&&(t.weekData=Lp(t.c)),t.weekData}function Do(t,e){const n={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new Je({...n,...e,old:n})}function _C(t,e,n){let r=t-e*60*1e3;const i=n.offset(r);if(e===i)return[r,e];r-=(i-e)*60*1e3;const a=n.offset(r);return i===a?[r,i]:[t-Math.min(i,a)*60*1e3,Math.max(i,a)]}function yb(t,e){t+=e*60*1e3;const n=new Date(t);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function $u(t,e,n){return _C(Xg(t),e,n)}function bb(t,e){const n=t.o,r=t.c.year+Math.trunc(e.years),i=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,a={...t.c,year:r,month:i,day:Math.min(t.c.day,Od(r,i))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},l=lt.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),h=Xg(a);let[_,g]=_C(h,n,t.zone);return l!==0&&(_+=l,g=t.zone.offset(_)),{ts:_,o:g}}function Io(t,e,n,r,i,a){const{setZone:l,zone:h}=n;if(t&&Object.keys(t).length!==0){const _=e||h,g=Je.fromObject(t,{...n,zone:_,specificOffset:a});return l?g:g.setZone(h)}else return Je.invalid(new Dr("unparsable",`the input "${i}" can't be parsed as ${r}`))}function _u(t,e,n=!0){return t.isValid?Mn.create(xt.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(t,e):null}function Bf(t,e){const n=t.c.year>9999||t.c.year<0;let r="";return n&&t.c.year>=0&&(r+="+"),r+=Ut(t.c.year,n?6:4),e?(r+="-",r+=Ut(t.c.month),r+="-",r+=Ut(t.c.day)):(r+=Ut(t.c.month),r+=Ut(t.c.day)),r}function wb(t,e,n,r,i,a){let l=Ut(t.c.hour);return e?(l+=":",l+=Ut(t.c.minute),(t.c.second!==0||!n)&&(l+=":")):l+=Ut(t.c.minute),(t.c.second!==0||!n)&&(l+=Ut(t.c.second),(t.c.millisecond!==0||!r)&&(l+=".",l+=Ut(t.c.millisecond,3))),i&&(t.isOffsetFixed&&t.offset===0&&!a?l+="Z":t.o<0?(l+="-",l+=Ut(Math.trunc(-t.o/60)),l+=":",l+=Ut(Math.trunc(-t.o%60))):(l+="+",l+=Ut(Math.trunc(t.o/60)),l+=":",l+=Ut(Math.trunc(t.o%60)))),a&&(l+="["+t.zone.ianaName+"]"),l}const pC={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},RV={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},$V={ordinal:1,hour:0,minute:0,second:0,millisecond:0},mC=["year","month","day","hour","minute","second","millisecond"],FV=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],UV=["year","ordinal","hour","minute","second","millisecond"];function xb(t){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new vS(t);return e}function Eb(t,e){const n=Ri(e.zone,Bt.defaultZone),r=xt.fromObject(e),i=Bt.now();let a,l;if(ot(t.year))a=i;else{for(const g of mC)ot(t[g])&&(t[g]=pC[g]);const h=hC(t)||fC(t);if(h)return Je.invalid(h);const _=n.offset(i);[a,l]=$u(t,_,n)}return new Je({ts:a,zone:n,loc:r,o:l})}function kb(t,e,n){const r=ot(n.round)?!0:n.round,i=(l,h)=>(l=Qg(l,r||n.calendary?0:2,!0),e.loc.clone(n).relFormatter(n).format(l,h)),a=l=>n.calendary?e.hasSame(t,l)?0:e.startOf(l).diff(t.startOf(l),l).get(l):e.diff(t,l).get(l);if(n.unit)return i(a(n.unit),n.unit);for(const l of n.units){const h=a(l);if(Math.abs(h)>=1)return i(h,l)}return i(t>e?-0:0,n.units[n.units.length-1])}function Sb(t){let e={},n;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],n=Array.from(t).slice(0,t.length-1)):n=Array.from(t),[e,n]}class Je{constructor(e){const n=e.zone||Bt.defaultZone;let r=e.invalid||(Number.isNaN(e.ts)?new Dr("invalid input"):null)||(n.isValid?null:fu(n));this.ts=ot(e.ts)?Bt.now():e.ts;let i=null,a=null;if(!r)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(n))[i,a]=[e.old.c,e.old.o];else{const h=n.offset(this.ts);i=yb(this.ts,h),r=Number.isNaN(i.year)?new Dr("invalid input"):null,i=r?null:i,a=r?null:h}this._zone=n,this.loc=e.loc||xt.create(),this.invalid=r,this.weekData=null,this.c=i,this.o=a,this.isLuxonDateTime=!0}static now(){return new Je({})}static local(){const[e,n]=Sb(arguments),[r,i,a,l,h,_,g]=n;return Eb({year:r,month:i,day:a,hour:l,minute:h,second:_,millisecond:g},e)}static utc(){const[e,n]=Sb(arguments),[r,i,a,l,h,_,g]=n;return e.zone=Rn.utcInstance,Eb({year:r,month:i,day:a,hour:l,minute:h,second:_,millisecond:g},e)}static fromJSDate(e,n={}){const r=KU(e)?e.valueOf():NaN;if(Number.isNaN(r))return Je.invalid("invalid input");const i=Ri(n.zone,Bt.defaultZone);return i.isValid?new Je({ts:r,zone:i,loc:xt.fromObject(n)}):Je.invalid(fu(i))}static fromMillis(e,n={}){if(La(e))return e<-vb||e>vb?Je.invalid("Timestamp out of range"):new Je({ts:e,zone:Ri(n.zone,Bt.defaultZone),loc:xt.fromObject(n)});throw new _r(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,n={}){if(La(e))return new Je({ts:e*1e3,zone:Ri(n.zone,Bt.defaultZone),loc:xt.fromObject(n)});throw new _r("fromSeconds requires a numerical input")}static fromObject(e,n={}){e=e||{};const r=Ri(n.zone,Bt.defaultZone);if(!r.isValid)return Je.invalid(fu(r));const i=Bt.now(),a=ot(n.specificOffset)?r.offset(i):n.specificOffset,l=Pd(e,xb),h=!ot(l.ordinal),_=!ot(l.year),g=!ot(l.month)||!ot(l.day),k=_||g,C=l.weekYear||l.weekNumber,T=xt.fromObject(n);if((k||h)&&C)throw new zo("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(g&&h)throw new zo("Can't mix ordinal dates with month/day");const O=C||l.weekday&&!k;let L,N,P=yb(i,a);O?(L=FV,N=RV,P=Lp(P)):h?(L=UV,N=$V,P=Vf(P)):(L=mC,N=pC);let I=!1;for(const B of L){const K=l[B];ot(K)?I?l[B]=N[B]:l[B]=P[B]:I=!0}const A=O?PV(l):h?LV(l):hC(l),R=A||fC(l);if(R)return Je.invalid(R);const V=O?mb(l):h?gb(l):l,[j,W]=$u(V,a,r),z=new Je({ts:j,zone:r,o:W,loc:T});return l.weekday&&k&&e.weekday!==z.weekday?Je.invalid("mismatched weekday",`you can't specify both a weekday of ${l.weekday} and a date of ${z.toISO()}`):z}static fromISO(e,n={}){const[r,i]=eV(e);return Io(r,i,n,"ISO 8601",e)}static fromRFC2822(e,n={}){const[r,i]=tV(e);return Io(r,i,n,"RFC 2822",e)}static fromHTTP(e,n={}){const[r,i]=nV(e);return Io(r,i,n,"HTTP",n)}static fromFormat(e,n,r={}){if(ot(e)||ot(n))throw new _r("fromFormat requires an input string and a format");const{locale:i=null,numberingSystem:a=null}=r,l=xt.fromOpts({locale:i,numberingSystem:a,defaultToEN:!0}),[h,_,g,k]=MV(l,e,n);return k?Je.invalid(k):Io(h,_,r,`format ${n}`,e,g)}static fromString(e,n,r={}){return Je.fromFormat(e,n,r)}static fromSQL(e,n={}){const[r,i]=cV(e);return Io(r,i,n,"SQL",e)}static invalid(e,n=null){if(!e)throw new _r("need to specify a reason the DateTime is invalid");const r=e instanceof Dr?e:new Dr(e,n);if(Bt.throwOnInvalid)throw new zU(r);return new Je({invalid:r})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,n={}){const r=sC(e,xt.fromObject(n));return r?r.map(i=>i?i.val:null).join(""):null}static expandFormat(e,n={}){return iC(Mn.parseFormat(e),xt.fromObject(n)).map(i=>i.val).join("")}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Hf(this).weekYear:NaN}get weekNumber(){return this.isValid?Hf(this).weekNumber:NaN}get weekday(){return this.isValid?Hf(this).weekday:NaN}get ordinal(){return this.isValid?Vf(this.c).ordinal:NaN}get monthShort(){return this.isValid?hu.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?hu.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?hu.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?hu.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}get isInLeapYear(){return Dc(this.year)}get daysInMonth(){return Od(this.year,this.month)}get daysInYear(){return this.isValid?ll(this.year):NaN}get weeksInWeekYear(){return this.isValid?Md(this.weekYear):NaN}resolvedLocaleOptions(e={}){const{locale:n,numberingSystem:r,calendar:i}=Mn.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:n,numberingSystem:r,outputCalendar:i}}toUTC(e=0,n={}){return this.setZone(Rn.instance(e),n)}toLocal(){return this.setZone(Bt.defaultZone)}setZone(e,{keepLocalTime:n=!1,keepCalendarTime:r=!1}={}){if(e=Ri(e,Bt.defaultZone),e.equals(this.zone))return this;if(e.isValid){let i=this.ts;if(n||r){const a=e.offset(this.ts),l=this.toObject();[i]=$u(l,a,e)}return Do(this,{ts:i,zone:e})}else return Je.invalid(fu(e))}reconfigure({locale:e,numberingSystem:n,outputCalendar:r}={}){const i=this.loc.clone({locale:e,numberingSystem:n,outputCalendar:r});return Do(this,{loc:i})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const n=Pd(e,xb),r=!ot(n.weekYear)||!ot(n.weekNumber)||!ot(n.weekday),i=!ot(n.ordinal),a=!ot(n.year),l=!ot(n.month)||!ot(n.day),h=a||l,_=n.weekYear||n.weekNumber;if((h||i)&&_)throw new zo("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&i)throw new zo("Can't mix ordinal dates with month/day");let g;r?g=mb({...Lp(this.c),...n}):ot(n.ordinal)?(g={...this.toObject(),...n},ot(n.day)&&(g.day=Math.min(Od(g.year,g.month),g.day))):g=gb({...Vf(this.c),...n});const[k,C]=$u(g,this.o,this.zone);return Do(this,{ts:k,o:C})}plus(e){if(!this.isValid)return this;const n=lt.fromDurationLike(e);return Do(this,bb(this,n))}minus(e){if(!this.isValid)return this;const n=lt.fromDurationLike(e).negate();return Do(this,bb(this,n))}startOf(e){if(!this.isValid)return this;const n={},r=lt.normalizeUnit(e);switch(r){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0;break}if(r==="weeks"&&(n.weekday=1),r==="quarters"){const i=Math.ceil(this.month/3);n.month=(i-1)*3+1}return this.set(n)}endOf(e){return this.isValid?this.plus({[e]:1}).startOf(e).minus(1):this}toFormat(e,n={}){return this.isValid?Mn.create(this.loc.redefaultToEN(n)).formatDateTimeFromString(this,e):zf}toLocaleString(e=Dp,n={}){return this.isValid?Mn.create(this.loc.clone(n),e).formatDateTime(this):zf}toLocaleParts(e={}){return this.isValid?Mn.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:n=!1,suppressMilliseconds:r=!1,includeOffset:i=!0,extendedZone:a=!1}={}){if(!this.isValid)return null;const l=e==="extended";let h=Bf(this,l);return h+="T",h+=wb(this,l,n,r,i,a),h}toISODate({format:e="extended"}={}){return this.isValid?Bf(this,e==="extended"):null}toISOWeekDate(){return _u(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:n=!1,includeOffset:r=!0,includePrefix:i=!1,extendedZone:a=!1,format:l="extended"}={}){return this.isValid?(i?"T":"")+wb(this,l==="extended",n,e,r,a):null}toRFC2822(){return _u(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return _u(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Bf(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:n=!1,includeOffsetSpace:r=!0}={}){let i="HH:mm:ss.SSS";return(n||e)&&(r&&(i+=" "),n?i+="z":e&&(i+="ZZ")),_u(this,i,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():zf}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const n={...this.c};return e.includeConfig&&(n.outputCalendar=this.outputCalendar,n.numberingSystem=this.loc.numberingSystem,n.locale=this.loc.locale),n}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,n="milliseconds",r={}){if(!this.isValid||!e.isValid)return lt.invalid("created by diffing an invalid DateTime");const i={locale:this.locale,numberingSystem:this.numberingSystem,...r},a=YU(n).map(lt.normalizeUnit),l=e.valueOf()>this.valueOf(),h=l?this:e,_=l?e:this,g=vV(h,_,a,i);return l?g.negate():g}diffNow(e="milliseconds",n={}){return this.diff(Je.now(),e,n)}until(e){return this.isValid?Ot.fromDateTimes(this,e):this}hasSame(e,n){if(!this.isValid)return!1;const r=e.valueOf(),i=this.setZone(e.zone,{keepLocalTime:!0});return i.startOf(n)<=r&&r<=i.endOf(n)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const n=e.base||Je.fromObject({},{zone:this.zone}),r=e.padding?this<n?-e.padding:e.padding:0;let i=["years","months","days","hours","minutes","seconds"],a=e.unit;return Array.isArray(e.unit)&&(i=e.unit,a=void 0),kb(n,this.plus(r),{...e,numeric:"always",units:i,unit:a})}toRelativeCalendar(e={}){return this.isValid?kb(e.base||Je.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(Je.isDateTime))throw new _r("min requires all arguments be DateTimes");return nb(e,n=>n.valueOf(),Math.min)}static max(...e){if(!e.every(Je.isDateTime))throw new _r("max requires all arguments be DateTimes");return nb(e,n=>n.valueOf(),Math.max)}static fromFormatExplain(e,n,r={}){const{locale:i=null,numberingSystem:a=null}=r,l=xt.fromOpts({locale:i,numberingSystem:a,defaultToEN:!0});return aC(l,e,n)}static fromStringExplain(e,n,r={}){return Je.fromFormatExplain(e,n,r)}static get DATE_SHORT(){return Dp}static get DATE_MED(){return yS}static get DATE_MED_WITH_WEEKDAY(){return qU}static get DATE_FULL(){return bS}static get DATE_HUGE(){return wS}static get TIME_SIMPLE(){return xS}static get TIME_WITH_SECONDS(){return ES}static get TIME_WITH_SHORT_OFFSET(){return kS}static get TIME_WITH_LONG_OFFSET(){return SS}static get TIME_24_SIMPLE(){return CS}static get TIME_24_WITH_SECONDS(){return TS}static get TIME_24_WITH_SHORT_OFFSET(){return NS}static get TIME_24_WITH_LONG_OFFSET(){return DS}static get DATETIME_SHORT(){return IS}static get DATETIME_SHORT_WITH_SECONDS(){return AS}static get DATETIME_MED(){return OS}static get DATETIME_MED_WITH_SECONDS(){return MS}static get DATETIME_MED_WITH_WEEKDAY(){return WU}static get DATETIME_FULL(){return PS}static get DATETIME_FULL_WITH_SECONDS(){return LS}static get DATETIME_HUGE(){return RS}static get DATETIME_HUGE_WITH_SECONDS(){return $S}}function Ao(t){if(Je.isDateTime(t))return t;if(t&&t.valueOf&&La(t.valueOf()))return Je.fromJSDate(t);if(t&&typeof t=="object")return Je.fromObject(t);throw new _r(`Unknown datetime argument: ${t}, of type ${typeof t}`)}const jV=[{field:"Nombre",inNameId:"name",inType:"text"},{field:"Apellido",inNameId:"lastName",inType:"text"},{field:"Contrase\xF1a",inNameId:"password",inType:"password"},{field:"Email",inNameId:"email",inType:"email"},{field:"N\xFAmero De Contacto",inNameId:"phoneNumber",inType:"tel"}];const gC=({selected:t})=>{const[e,n]=oe.exports.useState([]),[r,i]=oe.exports.useState("");return oe.exports.useEffect(()=>{async function l(){const _=await(await fetch("https://restcountries.com/v2/all")).json();n(_)}l()},[]),ie("div",{children:[$("label",{htmlFor:"country",children:"Pa\xEDs : "}),$("select",{className:"countryDropdown",value:r,onChange:l=>{i(l.target.value),t(l.target.value),console.log("PAIS SELECCIONADO : ",r)},children:e.map(l=>$("option",{value:l.name,children:l.name},l.alpha2Code))})]})},VV=()=>{const[t,e]=oe.exports.useState({}),[n,r]=oe.exports.useState(!1),[i,a]=oe.exports.useState(""),{createUser:l}=lr(),h=jn();Je.now().toFormat("DDDD - HH:mm:ss");const _=Ih(),[g,k]=oe.exports.useState(),C=P=>{e({...t,[P.target.name]:P.target.value})},T=P=>{k(P)},O={role:"alumn",remainingClases:0,completedClases:0,absentedClases:0,actualClass:0,totalClasses:0,teacher:"unasigned",newNotifications:!0,notifications:1,newbie:!0,durationClass:0,linkToClass:""},L={textNotification:"Bienvenido a Navis!",notificationType:"Welcome",checked:!1},N=async P=>{P.preventDefault(),a(""),r(!0);try{const I=await l(t.email,t.password).then(j=>j);console.log(I);const A=gn(),R=Pt(A,`Users/${I.user.uid}`);Zi(R,{...t,country:g,...O});const V=xr(A,`Users/${I.user.uid}/myNotifications`);Dh(V,{...L,timeStamp:_}),h("/account")}catch(I){a(I.message),swal("UPS!",`${I.message}`,"error"),r(!1)}};return n?$(rs,{}):$(Vn,{children:$("div",{className:"signIn__main-container",children:ie("div",{className:"signIn__container",children:[ie("form",{className:"signUp__form",onSubmit:N,children:[jV.map((P,I)=>ie("div",{children:[ie("label",{htmlFor:P.inNameId,children:[P.field," :"]}),$("input",{type:P.inType,id:P.inNameId,name:P.inNameId,value:t[P.inNameId]||"",onChange:C})]},I)),$(gC,{selected:T}),$("button",{type:"submit",children:"Crear Cuenta"})]}),ie("div",{children:[ie("div",{className:"signIn__tittleColumn",children:[ie("p",{className:"signIn-logo",children:[$("img",{className:"cohete-navis",src:gS,alt:"cohete.svg"}),$("i",{className:"fa-solid fa-user"})]}),$("p",{className:"signIn-tittle",children:"SignUp"})]}),ie("p",{className:"subTittle",children:["\xBFYa tienes una cuenta?",$(Ft,{to:"/signIn",children:"Inicia sesi\xF3n."})]})]})]})})})},zV=({children:t})=>{const{userLogged:e}=lr();return e?t:$(Om,{to:"/signIn"})},HV=({children:t})=>{const{userLogged:e}=lr(),{user:n}=Nn();return e?n.role==="teacher"?$("h1",{children:"NOT A STUDENT ACOUNT"}):t:$(Om,{to:"/signIn"})},BV=({children:t})=>{const{userLogged:e}=lr(),{user:n}=Nn();return e?n.role==="alumn"?$("h1",{children:"NOT A TEACHER ACOUNT"}):t:$(Om,{to:"/signIn"})};const qV=({userInfo:t,role:e,toggle:n})=>ie("div",{className:"asideProfile-container",children:[$("div",{className:"userCard-header_container",children:ie("div",{className:"userCard-header",children:[$("div",{className:"user-avatar",children:$("i",{className:"fa-solid fa-user fa-3x"})}),ie("div",{className:"userMain-info",children:[ie("p",{children:[t.name," ",t.lastName]}),$("span",{children:e==="alumn"?"Estudiante":"Profesor"})]})]})}),$("div",{className:"userCard-body",children:ie("div",{className:"userCard-body-input",children:[$("span",{className:"userCard-body-input_title",children:"Email:"}),$("span",{className:"userCard-body-input_content",children:t.email})]})}),$("div",{className:"userCard-body",children:ie("div",{className:"userCard-body-input",children:[$("span",{className:"userCard-body-input_title",children:"Pa\xEDs:"}),$("span",{className:"userCard-body-input_content",children:t.country})]})}),$("div",{className:"userCard-body",children:ie("div",{className:"userCard-body-input",children:[$("span",{className:"userCard-body-input_title",children:"Ciudad:"}),$("span",{className:"userCard-body-input_content",children:t.city})]})}),$("div",{className:"userCard-body",children:ie("div",{className:"userCard-body-input",children:[$("span",{className:"userCard-body-input_title",children:"N\xFAmero de contacto:"}),$("span",{className:"userCard-body-input_content",children:t.phoneNumber})]})}),$("div",{className:"userCard-footer",children:$("button",{className:"userCard-button",onClick:()=>{n()},children:"Editar Informaci\xF3n"})})]}),WV=[{field:"Nombre",inNameId:"name",inType:"text"},{field:"Apellido",inNameId:"lastName",inType:"text"},{field:"Email",inNameId:"email",inType:"email"},{field:"Ciudad",inNameId:"city",inType:"text"},{field:"N\xFAmero De Contacto",inNameId:"phoneNumber",inType:"tel"}];const GV=()=>{const{userLogged:t}=lr();Nn();const[e,n]=oe.exports.useState({}),[r,i]=oe.exports.useState(!1),a=h=>{n({...e,[h.target.name]:h.target.value}),console.log(e)},l=async h=>{h.preventDefault(),i(!0);try{const _=gn(),g=Pt(_,`Users/${t.uid}`);await zr(g,{...e}),i(!1)}catch(_){swal("UPS!",`${_.message}`,"error"),i(!1)}};return r?$(rs,{}):ie("div",{className:"editarInfo-container",children:[$("h5",{children:"EDITAR MI INFORMACION"}),$("div",{children:$("div",{children:ie("form",{className:"editarInfo__form",onSubmit:l,children:[WV.map((h,_)=>ie("div",{children:[ie("label",{htmlFor:h.inNameId,children:[h.field," :"]}),$("input",{type:h.inType,id:h.inNameId,name:h.inNameId,value:e[h.inNameId]||"",onChange:a})]},_)),$("button",{className:"editarInfo-button",type:"submit",children:"Editar"})]})})})]})};const KV=()=>{const{user:t}=Nn();jn();const[e,n]=oe.exports.useState(!1),r=t.form,i=()=>{n(!e)};return r?ie("div",{className:"mainProfile-container",children:[$(qV,{userInfo:r,role:t.role,toggle:i}),e&&$(GV,{})]}):$(rs,{})},YV=t=>{const n=t.date.toDate().toLocaleDateString();return ie("div",{className:"nextClass__info",children:[ie("p",{className:"nextClass__date",children:["PROXIMA CLASE : ",n]}),ie("p",{className:"nextClass__time",children:[t.time," HS"]}),$("p",{className:"nextClass__teacher",children:t.teacher})]})},JV=t=>{const e=jn(),n=t.date.toDate(),r=new Date;let i=n-r,a=60*1e3,l=60*a,h=24*l,_=Math.floor(i/h),g=Math.floor(i%h/l);return ie("div",{className:"studentPanelActionButtons",children:[$("button",{className:"studentPanelButton",children:"INICIAR CLASE"}),$("a",{href:"https://www.blinklearning.com/v/1666102044/themes/tmpux/launch.php",children:$("button",{className:"studentPanelButton",children:"BLINK LEARNING"})}),$("button",{className:"studentPanelButton",onClick:()=>{_<1&&g<4?swal("Ya es tarde","Solo puedes reprogramar tu clase hasta 4 horas antes","error"):swal("Muy Bien","Aqui podras reprogramar tu clase","success"),e("/Account/ReprogramClass")},children:"REPROGRAMAR CLASE"})]})},QV=t=>{const e=jn(),n=()=>{e("/MiCalendario")};return ie("div",{className:"studentClassInfo__container",children:[$("div",{className:"studentClassInfo__remainingClases",children:ie("p",{children:["CLASES DISPONIBLES: ",t.remainingClases]})}),$("button",{className:"studentPanelButton",onClick:n,children:"Ver Calendario"})]})},XV=t=>{let e=t.completedClases/(t.actualClass+1)*100,n=Math.round(e);return ie("div",{className:"studentClassInfo__asistencia",children:[$("p",{className:"asistencia__title",children:"ASISTENCIA"}),ie("p",{className:"asistencia__percent",children:[n,"%"]}),ie("div",{className:"asistencia",children:[ie("p",{children:[t.completedClases," Presentes"]}),ie("p",{children:[t.absentedClases," Ausente"]})]})]})};const ZV=()=>{const{user:t}=Nn(),e=Ih();oe.exports.useState(!1);const[n,r]=oe.exports.useState([]),i=["lunes","martes","miercoles","jueves","viernes","sabado","domingo"],a={condition:"pending",teacher:"unasigned",remainingClases:t.misClases.remainingClases,studentUid:t.uid,studentEmail:t.email,studentName:t.form.name,studentLastName:t.form.lastName},l={textNotification:"Programaste tus clases, en breve se te asiganara un profesor",notificationType:"Notificacion",checked:!1},h=async()=>{const k=["domingo","lunes","martes","miercoles","jueves","viernes","sabado"];let C=[];k.map((T,O)=>{let L=n.filter(N=>N.day===T);C.push(...L)});try{const T=gn(),O=Id(xr(T,`Users/${t.uid}/myClasses`));Dh(O,{userWeek:C,...a}).then(({id:N})=>{const P=Pt(T,`Classes/${N}`);Zi(P,{userWeek:C,...a});const I=Pt(T,`Users/${t.uid}/myNotifications/${N}`);Zi(I,{...l,timeStamp:e})});const L=Pt(T,`Users/${t.uid}`);await zr(L,{teacher:"pending",notifications:Ps(1),newbie:!1}),swal("Muy Bien","Pronto se te asignara un profesor!","success")}catch(T){swal("UPS!",`${T.message}`,"error")}},_=()=>{let k=!1;n.length===0?swal("CUIDADO!","Debes seleccionar al menos un dia y un horario","error"):n.map((C,T)=>{C.time!=null?k=!0:(swal("CUIDADO!","Debes eleccionar un horario","error"),k=!1)}),k&&(console.log(n),h())},g=k=>{let C=parseInt(k.target.value),T=new Date(Date.UTC(0,0,0,C,0,0));console.log(T.toUTCString()),console.log(k.target.id,k.target.name,":",k.target.value);let O=n.filter(N=>N.day===k.target.id),L=n.filter(N=>N.day!=k.target.id);O={day:k.target.id,time:k.target.value},L.push(O),console.log("dias actualizados :",L),r(L)};return $(Vn,{children:ie("div",{className:"programar-clase-conteiner",children:[$("h5",{children:"Selecciona los dias y el horario en que quieres tomar tus clases"}),$("ul",{className:"day-list",children:i.map((k,C)=>{const[T,O]=oe.exports.useState(!1);return ie("div",{className:"day-time-button",children:[$("li",{className:T?"day-button clicked":"day-button",onClick:()=>{let L=n;T?L=L.filter(N=>N.day!=k):L.push({day:k,time:void 0}),O(!T),r(L),console.log(n)},children:k}),T&&$("input",{type:"time",id:k,name:"time",value:n.time,onChange:g})]},C)})}),$("button",{className:"continue-button",onClick:_,children:"CONTINUAR"})]})})},ez=()=>{const{user:t}=Nn(),e=jn(),n=t.form,r=async i=>{try{const a=gn(),l=Pt(a,`Users/${t.uid}`);await zr(l,{durationClass:i}),e("/Panel")}catch(a){swal("UPS!",`${a.message}`,"error")}console.log(i)};return $("div",{className:"MyFirstClasses__container",children:n.remainingClases>0?$("div",{children:$(ZV,{})}):$("div",{children:n.durationClass===0?ie("div",{children:[ie("div",{className:"MyfirstClasses__welcome",children:[$("h5",{children:"Bienvenido a NAVIS"}),$("p",{children:"Para empezar debes adquirir tu primer paquete de clases"}),$("p",{children:"Pero antes debes elegir entre clases de 30min o 50min"})]}),ie("div",{className:"cards__container",children:[$("div",{className:"buy-card",children:ie("ul",{children:[$("li",{className:"amount",children:"Clases de 30min "}),$("div",{children:$("button",{className:"button__Card",onClick:()=>r(30),children:"SLECCIONAR"})})]})}),$("div",{className:"buy-card",children:ie("ul",{children:[$("li",{className:"amount",children:"Clases de 50min "}),$("div",{children:$("button",{className:"button__Card",onClick:()=>r(50),children:"SLECCIONAR"})})]})})]})]}):ie("div",{children:[ie("div",{className:"MyfirstClasses__welcome",children:[$("h5",{children:"Bienvenido a NAVIS"}),$("p",{children:"Adquiere tu primer paquete de clases"})]}),$(Ad,{duration:n.durationClass})]})})})};const tz=()=>{console.log("muchaaaaaachoooooo")},vC=()=>{const{user:t}=Nn(),[e,n]=oe.exports.useState([]),[r,i]=oe.exports.useState(!0),[a,l]=oe.exports.useState(),h=t.form;oe.exports.useEffect(()=>{const g=gn(),k=xr(g,`Users/${t.uid}/mySchedule`);la(k).then(C=>{const T=C.docs.map(L=>({...L.data()})),O=[];T.forEach(L=>Object.keys(L).forEach(N=>O.push({condition:L[N].condition,date:L[N].date,time:L[N].time,day:L[N].day,month:L[N].month,teacher:L[N].text}))),n(O),l(t.form.actualClass),i(!1)})},[t]);const _=()=>{console.log(t),tz()};return r?$(rs,{}):ie("div",{children:[$("button",{onClick:_,children:"test"}),h.newbie?$(ez,{}):h.teacher==="assigned"?ie("div",{children:[ie("div",{className:"nextClass__container",children:[$(YV,{...e[a]}),$(JV,{...e[a]}),$(XV,{...t.misClases})]}),$(QV,{...t.misClases}),$(Ad,{duration:h.durationClass,msg:"ADQUIERE MAS CLASES"})]}):ie("div",{children:[ie("div",{className:"MyfirstClasses__welcome",children:[$("h5",{children:"FELICITACIONES!"}),$("p",{children:"Pronto se te asignara un profesor"})]}),$(Ad,{duration:h.durationClass,msg:"ADQUIERE MAS CLASES"})]})]})};const nz=({classDate:t,studentId:e})=>{const[n,r]=oe.exports.useState(""),i=t.toDate(),a=new Date;let l=i-a,h=60*1e3,_=60*h,g=24*_,k=Math.floor(l/g),C=Math.floor(l%g/_),T=Math.floor(l%_/h);const O=N=>{r(N.target.value),console.log(n)},L=()=>{console.log(n)};return $("div",{children:k>1?$("div",{children:ie("p",{children:["Faltan ",k," dias"]})}):C>1?$("div",{children:ie("p",{children:["Faltan ",C," horas"]})}):T>15?$("div",{children:ie("p",{children:["Faltan ",T," minutos"]})}):$("div",{children:ie("form",{onSubmit:L,children:[ie("div",{className:"linkToClass-container",children:[$("label",{htmlFor:"url",children:"Ingrese aqui el Link de la clase:"}),$("input",{type:"url",id:"url",name:"url",placeholder:"https://Ingrese_el_link_de_la_clase.com",pattern:"https://.*",size:"40",value:n||"",onChange:O,required:!0})]}),$("button",{type:"submit",children:"ENVIAR"})]})})})},rz=({myClass:t})=>ie("div",{className:"myClasses-container",children:[$("h5",{children:"PROXIMA CLASE"}),t.map((e,n)=>{const i=e.date.toDate().toLocaleDateString();return ie("div",{className:"myClasses-card",children:[$("p",{className:"myClasses-card_date",children:i}),ie("ul",{className:"myClasses-card_info",children:[$("li",{className:"myClasses-card_student",children:e.student}),ie("li",{className:"myClasses-card_time",children:[e.time," HS"]})]}),$(nz,{classDate:e.date,studentId:e.studentUid})]},n)})]});function yC(){const{user:t}=Nn(),[e,n]=oe.exports.useState([]),[r,i]=oe.exports.useState(!0),a=jn();return oe.exports.useEffect(()=>{const g=gn(),k=xr(g,`Users/${t.uid}/mySchedule`);la(k).then(C=>{const T=C.docs.map(L=>({...L.data()})),O=[];T.forEach(L=>Object.keys(L).forEach(N=>O.push({condition:L[N].condition,date:L[N].date,time:L[N].time,student:L[N].text,studentUid:L[N].studentUid}))),O.sort((L,N)=>L.date<N.date?-1:L.date>N.date?1:0),n(O),i(!1)})},[t]),$(Vn,{children:ie("div",{children:[ie("div",{className:"encabezado",children:[$("button",{onClick:()=>{a("/Account")},children:"Mi Perfil"}),$("button",{onClick:()=>{a("/Account/Teacher/MyStudents"),swal("BIENVENIDO","Aqu\xED podras ver una lista de tus alumnos","success")},children:"Mis Alumnos"}),$("button",{onClick:()=>{a("/MiCalendario")},children:"Mi Calendario"}),ie("ul",{className:"infoEncabezado",children:[$("li",{className:"infoTittle",children:"Mis Clases Impartidas"}),ie("li",{children:["Totales: ",t.form.totalClasses]}),ie("li",{children:["Este mes: ",t.form.thisMonthClasses," "]}),ie("li",{children:["Mes Anterior: ",t.form.lastMonthClasses]})]})]}),$("div",{children:$(rz,{myClass:e})})]})})}const iz=()=>{const{user:t}=Nn();return $("div",{children:t.role==="alumn"?$(vC,{}):t.role==="teacher"?$(yC,{}):$(rs,{})})},az=()=>{const t=jn();return $("div",{className:"admin__Options",children:ie("div",{className:"admin__Body",children:[$("h2",{children:"PANEL DE ADMINISTRADOR"}),ie("div",{className:"admin__Button",children:[$("button",{className:"card__Admin__Buttons",onClick:()=>{swal("Bienvenido","Aqui podras crear cuentas de profesores","success"),t("/Admin/CreateTeacherAccount")},children:"CREAR CUENTA DE PROFESOR"}),$("button",{className:"card__Admin__Buttons",onClick:()=>{swal("Bienvenido","Aqui veras las clases programadas y asignaras los profesores","success"),t("/Admin/ProgramingClassesAsAdmin")},children:"PROGRAMAR CLASES"})]})]})})},sz=[{field:"Nombre",inNameId:"name",inType:"text"},{field:"Apellido",inNameId:"lastName",inType:"text"},{field:"Contrase\xF1a",inNameId:"password",inType:"password"},{field:"Email",inNameId:"email",inType:"email"},{field:"Numero De Contacto",inNameId:"phoneNumber",inType:"tel"},{field:"Pais",inNameId:"country",inType:"text"},{field:"Ciudad",inNameId:"city",inType:"text"}];const ya=[{"00:00":!0,"01:00":!0,"02:00":!0,"03:00":!0,"04:00":!0,"05:00":!0,"06:00":!0,"07:00":!0,"08:00":!0,"09:00":!0,"10:00":!0,"11:00":!0,"12:00":!0,"13:00":!0,"14:00":!0,"15:00":!0,"16:00":!0,"17:00":!0,"18:00":!0,"19:00":!0,"20:00":!0,"21:00":!0,"22:00":!0,"23:00":!0}],oz=({teacherForm:t})=>{const{createUser:e}=lr(),n=jn(),r=["lunes","martes","miercoles","jueves","viernes","sabado","domingo"],[i,a]=oe.exports.useState([]),[l,h]=oe.exports.useState(...ya),[_,g]=oe.exports.useState(...ya),[k,C]=oe.exports.useState(...ya),[T,O]=oe.exports.useState(...ya),[L,N]=oe.exports.useState(...ya),[P,I]=oe.exports.useState(...ya),[A,R]=oe.exports.useState(...ya),V=B=>{let K=i.filter(X=>X.day===B.target.id),Y=K[0].timeEnd,Z=i.filter(X=>X.day!=B.target.id);K={day:B.target.id,timeStart:B.target.value,timeEnd:Y},Z.push(K),a(Z)},j=B=>{let K=i.filter(X=>X.day===B.target.id),Y=K[0].timeStart,Z=i.filter(X=>X.day!=B.target.id);K={day:B.target.id,timeStart:Y,timeEnd:B.target.value},Z.push(K),a(Z)},W=async()=>{const K={...t,weekDisponibility:i,disponibility:{lunes:l,martes:_,miercoles:k,jueves:T,viernes:L,sabado:P,domingo:A}};try{const Y=await e(t.email,t.password).then(le=>le),Z=gn(),X=Pt(Z,`Users/${Y.user.uid}`);await Zi(X,{...K}),n("/account")}catch(Y){swal("UPS!",`${Y.message}`,"error")}},z=()=>{let B=!(!t.name||t.name.length<4),K=!(!t.lastName||t.lastName.length<4),Y=!(!t.password||t.password.length<9),Z=!(!t.email||t.email<12);B?B=!0:swal("CUIDADO!","El nombre debe tener al menos 4 caracteres","error"),K?K=!0:swal("CUIDADO!","El apellido debe tener al menos 4 caracteres","error"),Y?Y=!0:swal("CUIDADO!","La contrase\xF1a debe tener al menos 9 caracteres","error"),Z?Z=!0:swal("CUIDADO!","Ingrese una direccion de email valida","error");let X=!1;i.length===0?swal("CUIDADO!","Debes seleccionar al menos un dia y un horario","error"):i.map(xe=>{xe.timeStart!=null&&xe.timeEnd!=null?xe.timeStart>=xe.timeEnd?swal("CUIDADO!","El horario de inicio debe ser menor al de finalizacion","error"):X=!0:swal("CUIDADO!","Debes seleccionar un horario","error")}),B&&K&&Y&&Z&&X&&W()};return $(Vn,{children:ie("div",{className:"teacherDisponibility-conteiner",children:[$("h5",{children:"Selecciona los dias y el horario de disponibilidad del docente"}),$("ul",{className:"teacherDisponibility-day-list",children:r.map((B,K)=>{const[Y,Z]=oe.exports.useState(!1);return ie("div",{className:"teacherDisponibility-day-time-button",children:[$("li",{className:Y?"teacherDisponibility-day-button clicked":"teacherDisponibility-day-button",onClick:()=>{let X=i;Y?X=X.filter(le=>le.day!=B):X.push({day:B,timeStart:void 0,timeEnd:void 0}),Z(!Y),a(X),console.log(i)},children:B}),Y&&ie("div",{className:"time-selector",children:[ie("li",{children:["Horario de inicio :",$("input",{step:900,type:"time",id:B,name:"timeStart",value:i.timeStart,onChange:V})]}),ie("li",{children:["Horario de finalizacion :",$("input",{step:900,type:"time",id:B,name:"timeEnd",value:i.timeEnd,onChange:j})]})]})]},K)})}),$("button",{className:"teacherDisponibility-continue-button",onClick:z,children:"CREAR CUENTA DE PROFESOR"})]})})};const lz=()=>{const[t,e]=oe.exports.useState({role:"teacher",totalClasses:0,remainingClasses:0,thisMonthClasses:0,lastMonthClasses:0}),n=r=>{e({...t,[r.target.name]:r.target.value})};return $(Vn,{children:ie("div",{className:"createTeacher-container",children:[$("div",{children:$("form",{className:"createTeacher__form",children:sz.map((r,i)=>ie("div",{children:[ie("label",{htmlFor:r.inNameId,children:[r.field," :"]}),$("input",{type:r.inType,id:r.inNameId,name:r.inNameId,value:t[r.inNameId]||"",onChange:n})]},i))})}),$(oz,{teacherForm:t})]})})},cz=({date:t,teacher:e})=>{console.log("INFO EN date : ",t),console.log("INFO EN userWeek : ",t.userWeek),console.log("INFO EN teacher : ",e);const n=Ih(),r={teacher:"assigned",condition:"succes",teacherEmail:e.email,teacherUid:e.id,teacherName:e.name,teacherLastName:e.lastName},i={studentEmail:t.studentEmail,studentUid:t.studentUid,studentName:t.studentName,studentLastName:t.studentLastName,remainingClases:t.remainingClases,classWith:t.userWeek},a={textNotification:"Felicitaciones, tu peticion de clases fue aceptada, ya te asignamos un profesor",notificationType:"Notificacion",checked:!1},l=[],h=[],_=[],g=e.disponibility;let k=g,C=!0,T=0;const O=()=>{C=!C};t.userWeek.map(P=>{const I=e.weekDisponibility.filter(A=>A.day===P.day);l.push(...I)}),t.userWeek.length!=l.length?O():t.userWeek.map((P,I)=>{!(P.time>=l[I].timeStart&&P.time<l[I].timeEnd)&&O()}),C&&t.userWeek.map((P,I)=>{P.day==="lunes"&&g.lunes[P.time]&&T++,P.day==="martes"&&g.martes[P.time]&&T++,P.day==="miercoles"&&g.miercoles[P.time]&&T++,P.day==="jueves"&&g.jueves[P.time]&&T++,P.day==="viernes"&&g.viernes[P.time]&&T++,P.day==="sabado"&&g.sabado[P.time]&&T++,P.day==="domingo"&&g.domingo[P.time]&&T++}),C&&T!=t.userWeek.length&&O();const L=()=>{let P=new Date;const I=(le,xe)=>{le.setDate(le.getDate()+xe)};let A=0,R=1,V=2,j=3,W=4,z=5,B=6;switch(P.getDay()){case 0:I(P,7);break;case 1:I(P,6);break;case 2:I(P,5);break;case 3:I(P,4);break;case 4:I(P,3);break;case 5:I(P,2);break;case 6:I(P,1);break}const Y=(le,xe)=>{I(P,xe);let $e=P.getDate(),Ee=P.getMonth(),tt=P.getFullYear(),fe=parseInt(le),me=new Date(tt,Ee,$e,fe),Ce=le,ze=parseInt(le);ze++,ze=ze.toString(),ze=ze+":00";let Ye=`${tt}-${Ee+1}-${$e} ${Ce}`,Ht=`${tt}-${Ee+1}-${$e} ${ze}`;const Rt={condition:"pending",start_date:`${Ye}`,end_date:`${Ht}`,date:me,time:le,day:$e,month:Ee,year:tt,dayNumber:xe},vn={...Rt,text:`Alumno : ${t.studentName} ${t.studentLastName}`,studentUid:t.studentUid},mt={...Rt,text:`Profesor : ${e.name} ${e.lastName}`};h.push(vn),_.push(mt),I(P,-xe)},Z=le=>{le.day==="domingo"&&Y(le.time,A),le.day==="lunes"&&Y(le.time,R),le.day==="martes"&&Y(le.time,V),le.day==="miercoles"&&Y(le.time,j),le.day==="jueves"&&Y(le.time,W),le.day==="viernes"&&Y(le.time,z),le.day==="sabado"&&Y(le.time,B)};let X=0;I(P,7);for(let le=0;le<t.remainingClases;le++)X===t.userWeek.length&&(X=0,I(P,7)),Z(t.userWeek[X]),X++;t.userWeek.map(le=>{let xe=k[le.day];xe[le.time]=!1})},N=async P=>{L(),P.preventDefault();try{const I=gn(),A=Pt(I,`Classes/${t.id}`);await zr(A,{...r});const R=Pt(I,`Users/${e.id}`);await zr(R,{disponibility:k});const V=Pt(I,`Users/${e.id}/myStudents/${t.studentUid}`);await Zi(V,{...i});const j=Pt(I,`Users/${e.id}/mySchedule/${t.studentUid}`);await Zi(j,{...h});const W=Pt(I,`Users/${t.studentUid}`);await zr(W,{teacher:"assigned",teacherName:`${e.name} ${e.lastName}`,teacherUid:e.id,notifications:Ps(1)});const z=Pt(I,`Users/${t.studentUid}/myClasses/${t.id}`);await zr(z,{...r});const B=Pt(I,`Users/${t.studentUid}/mySchedule/${t.id}`);await Zi(B,{..._});const K=xr(I,`Users/${t.studentUid}/myNotifications`);await Dh(K,{...a,timeStamp:n})}catch(I){swal("UPS!",`${I.message}`,"error")}};if(C)return $("div",{children:ie("ul",{children:[ie("li",{children:[" Profesor: ",e.name," ",e.lastName," "]}),ie("li",{children:[" Email: ",e.email," "]}),$("li",{children:" Disponible para cubrir la clase "}),$("button",{onClick:N,children:"ASIGNAR PROFESOR"})]})})},uz=({date:t,teachers:e=[],daysInfo:n})=>e.map(r=>$(cz,{date:t,teacher:r,requiredDays:n},r.id));const dz=({info:t,teachersList:e})=>{const[n,r]=oe.exports.useState(!1),[i,a]=oe.exports.useState([]),l=()=>{console.log(e),swal("OK","Selecciona un profesor de la lista","success"),r(!0)};return ie("div",{className:"panel_Content",children:[$("div",{className:"profile-card",children:ie("ul",{className:"profile-card",children:[ie("li",{children:[" ALUMNO: ",t.studentName," ",t.studentLastName]}),$("button",{className:"profile-card__button",onClick:l,children:"ASIGNAR PROFESOR"})]})}),n?ie("div",{children:[$("h1",{children:"PROFESORES DISPONIBLES"}),$(uz,{date:t,teachers:e,daysInfo:i})]}):""]})},hz=({classDate:t=[],teachers:e=[]})=>t.map(n=>$(dz,{info:n,teachersList:e},n.id)),fz=()=>{const[t,e]=oe.exports.useState([]),[n,r]=oe.exports.useState([]),[i,a]=oe.exports.useState(!0);return oe.exports.useEffect(()=>{const l=gn(),h=xr(l,"Classes"),_=Id(h,j0("teacher","==","unasigned"));la(_).then(C=>e(C.docs.map(T=>({id:T.id,...T.data()}))));const g=xr(l,"Users"),k=Id(g,j0("role","==","teacher"));la(k).then(C=>r(C.docs.map(T=>({id:T.id,...T.data()})))),a(!1)},[]),i?$(rs,{}):ie("div",{children:[$("h4",{children:"CLASES A PROGRAMAR"}),$(hz,{classDate:t,teachers:n})]})};const _z=({info:t})=>ie("div",{className:"asideProfile-container",children:[$("div",{className:"userCard-header_container",children:ie("div",{className:"userCard-header",children:[$("div",{className:"user-avatar",children:$("i",{className:"fa-solid fa-user fa-3x"})}),ie("div",{className:"userMain-info",children:[ie("p",{children:[t.studentName," ",t.studentLastName]}),$("span",{children:" Alumno "})]})]})}),$("div",{className:"userCard-body",children:ie("div",{className:"userCard-body-input",children:[$("span",{className:"userCard-body-input_title",children:"Mail:"}),$("span",{className:"userCard-body-input_content",children:t.studentEmail})]})}),$("div",{className:"userCard-body",children:ie("div",{className:"userCard-body-input",children:[$("span",{className:"userCard-body-input_title",children:"Clases Restantes:"}),$("span",{className:"userCard-body-input_content",children:t.remainingClases})]})}),t.classWith.map((e,n)=>$("div",{className:"userCard-body",children:ie("div",{className:"userCard-body-input",children:[ie("span",{className:"userCard-body-input_title",children:[e.day," :"]}),ie("span",{className:"userCard-body-input_content",children:[e.time," Hs"]})]})},n))]}),pz=({myStudents:t=[]})=>t.map(e=>$(_z,{info:e},e.id));const mz=()=>{const{user:t}=Nn(),[e,n]=oe.exports.useState([]);return oe.exports.useEffect(()=>{const r=gn(),i=xr(r,`Users/${t.uid}/myStudents`);la(i).then(a=>n(a.docs.map(l=>({id:l.id,...l.data()}))))},[t]),$("div",{className:"myStudents-container",children:$(pz,{myStudents:e})})};var gz={exports:{}};/*!
 * @license
 * 
 * dhtmlxScheduler v.6.0.2 Standard
 * 
 * To use dhtmlxScheduler in non-GPL projects (and get Pro version of the product), please obtain Commercial/Enterprise or Ultimate license on our site https://dhtmlx.com/docs/products/dhtmlxScheduler/#licensing or contact us at sales@dhtmlx.com
 * 
 * (c) XB Software Ltd.
 * 
 */(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function i(a){if(r[a])return r[a].exports;var l=r[a]={i:a,l:!1,exports:{}};return n[a].call(l.exports,l,l.exports,i),l.l=!0,l.exports}return i.m=n,i.c=r,i.d=function(a,l,h){i.o(a,l)||Object.defineProperty(a,l,{enumerable:!0,get:h})},i.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},i.t=function(a,l){if(1&l&&(a=i(a)),8&l||4&l&&typeof a=="object"&&a&&a.__esModule)return a;var h=Object.create(null);if(i.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:a}),2&l&&typeof a!="string")for(var _ in a)i.d(h,_,function(g){return a[g]}.bind(null,_));return h},i.n=function(a){var l=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(l,"a",l),l},i.o=function(a,l){return Object.prototype.hasOwnProperty.call(a,l)},i.p="/codebase/",i(i.s=9)}([function(n,r,i){(function(a){var l;l=typeof window<"u"?window:a,r.a=l}).call(this,i(1))},function(n,r){function i(l){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(l)}var a;a=function(){return this}();try{a=a||new Function("return this")()}catch{(typeof window>"u"?"undefined":i(window))==="object"&&(a=window)}n.exports=a},function(n,r){n.exports=function(i){return function(){var a={};for(var l in this._events){var h=this._events[l];h.id.toString().indexOf("#")==-1&&(a[h.id]=h)}return a}.bind(i)}},function(n,r){n.exports=function(i){if(typeof i=="string"||typeof i=="number")return i;var a="";for(var l in i){var h="";i.hasOwnProperty(l)&&(h=l+"="+(h=typeof i[l]=="string"?encodeURIComponent(i[l]):typeof i[l]=="number"?i[l]:encodeURIComponent(JSON.stringify(i[l]))),a.length&&(h="&"+h),a+=h)}return a}},function(n,r,i){i.r(r)},function(n,r){var i,a,l=n.exports={};function h(){throw new Error("setTimeout has not been defined")}function _(){throw new Error("clearTimeout has not been defined")}function g(A){if(i===setTimeout)return setTimeout(A,0);if((i===h||!i)&&setTimeout)return i=setTimeout,setTimeout(A,0);try{return i(A,0)}catch{try{return i.call(null,A,0)}catch{return i.call(this,A,0)}}}(function(){try{i=typeof setTimeout=="function"?setTimeout:h}catch{i=h}try{a=typeof clearTimeout=="function"?clearTimeout:_}catch{a=_}})();var k,C=[],T=!1,O=-1;function L(){T&&k&&(T=!1,k.length?C=k.concat(C):O=-1,C.length&&N())}function N(){if(!T){var A=g(L);T=!0;for(var R=C.length;R;){for(k=C,C=[];++O<R;)k&&k[O].run();O=-1,R=C.length}k=null,T=!1,function(V){if(a===clearTimeout)return clearTimeout(V);if((a===_||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(V);try{a(V)}catch{try{return a.call(null,V)}catch{return a.call(this,V)}}}(A)}}function P(A,R){this.fun=A,this.array=R}function I(){}l.nextTick=function(A){var R=new Array(arguments.length-1);if(arguments.length>1)for(var V=1;V<arguments.length;V++)R[V-1]=arguments[V];C.push(new P(A,R)),C.length!==1||T||g(N)},P.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=I,l.addListener=I,l.once=I,l.off=I,l.removeListener=I,l.removeAllListeners=I,l.emit=I,l.prependListener=I,l.prependOnceListener=I,l.listeners=function(A){return[]},l.binding=function(A){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(A){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},function(n,r,i){(function(a,l,h){var _,g,k;function C(T){return(C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O})(T)}/* @preserve
 * The MIT License (MIT)
 * 
 * Copyright (c) 2013-2018 Petka Antonov
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 * 
 */(function(T){C(r)=="object"&&n!==void 0?n.exports=T():(g=[],(k=typeof(_=T)=="function"?_.apply(r,g):_)===void 0||(n.exports=k))})(function(){return function T(O,L,N){function P(R,V){if(!L[R]){if(!O[R]){var j=typeof _dereq_=="function"&&_dereq_;if(!V&&j)return j(R,!0);if(I)return I(R,!0);var W=new Error("Cannot find module '"+R+"'");throw W.code="MODULE_NOT_FOUND",W}var z=L[R]={exports:{}};O[R][0].call(z.exports,function(B){var K=O[R][1][B];return P(K||B)},z,z.exports,T,O,L,N)}return L[R].exports}for(var I=typeof _dereq_=="function"&&_dereq_,A=0;A<N.length;A++)P(N[A]);return P}({1:[function(T,O,L){var N;try{throw new Error}catch(j){N=j}var P=T("./schedule"),I=T("./queue");function A(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new I(16),this._normalQueue=new I(16),this._haveDrainedQueues=!1;var j=this;this.drainQueues=function(){j._drainQueues()},this._schedule=P}function R(j){for(;j.length()>0;)V(j)}function V(j){var W=j.shift();if(typeof W!="function")W._settlePromises();else{var z=j.shift(),B=j.shift();W.call(z,B)}}A.prototype.setScheduler=function(j){var W=this._schedule;return this._schedule=j,this._customScheduler=!0,W},A.prototype.hasCustomScheduler=function(){return this._customScheduler},A.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},A.prototype.fatalError=function(j,W){W?(a.stderr.write("Fatal "+(j instanceof Error?j.stack:j)+`
`),a.exit(2)):this.throwLater(j)},A.prototype.throwLater=function(j,W){if(arguments.length===1&&(W=j,j=function(){throw W}),typeof setTimeout<"u")setTimeout(function(){j(W)},0);else try{this._schedule(function(){j(W)})}catch{throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}},A.prototype.invokeLater=function(j,W,z){this._lateQueue.push(j,W,z),this._queueTick()},A.prototype.invoke=function(j,W,z){this._normalQueue.push(j,W,z),this._queueTick()},A.prototype.settlePromises=function(j){this._normalQueue._pushOne(j),this._queueTick()},A.prototype._drainQueues=function(){R(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,R(this._lateQueue)},A.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},A.prototype._reset=function(){this._isTickUsed=!1},O.exports=A,O.exports.firstLineError=N},{"./queue":17,"./schedule":18}],2:[function(T,O,L){O.exports=function(N,P,I,A){var R=!1,V=function(B,K){this._reject(K)},j=function(B,K){K.promiseRejectionQueued=!0,K.bindingPromise._then(V,V,null,this,B)},W=function(B,K){(50397184&this._bitField)==0&&this._resolveCallback(K.target)},z=function(B,K){K.promiseRejectionQueued||this._reject(B)};N.prototype.bind=function(B){R||(R=!0,N.prototype._propagateFrom=A.propagateFromFunction(),N.prototype._boundValue=A.boundValueFunction());var K=I(B),Y=new N(P);Y._propagateFrom(this,1);var Z=this._target();if(Y._setBoundTo(K),K instanceof N){var X={promiseRejectionQueued:!1,promise:Y,target:Z,bindingPromise:K};Z._then(P,j,void 0,Y,X),K._then(W,z,void 0,Y,X),Y._setOnCancel(K)}else Y._resolveCallback(Z);return Y},N.prototype._setBoundTo=function(B){B!==void 0?(this._bitField=2097152|this._bitField,this._boundTo=B):this._bitField=-2097153&this._bitField},N.prototype._isBound=function(){return(2097152&this._bitField)==2097152},N.bind=function(B,K){return N.resolve(K).bind(B)}}},{}],3:[function(T,O,L){var N;typeof Promise<"u"&&(N=Promise);var P=T("./promise")();P.noConflict=function(){try{Promise===P&&(Promise=N)}catch{}return P},O.exports=P},{"./promise":15}],4:[function(T,O,L){O.exports=function(N,P,I,A){var R=T("./util"),V=R.tryCatch,j=R.errorObj,W=N._async;N.prototype.break=N.prototype.cancel=function(){if(!A.cancellation())return this._warn("cancellation is disabled");for(var z=this,B=z;z._isCancellable();){if(!z._cancelBy(B)){B._isFollowing()?B._followee().cancel():B._cancelBranched();break}var K=z._cancellationParent;if(K==null||!K._isCancellable()){z._isFollowing()?z._followee().cancel():z._cancelBranched();break}z._isFollowing()&&z._followee().cancel(),z._setWillBeCancelled(),B=z,z=K}},N.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},N.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===void 0||this._branchesRemainingToCancel<=0},N.prototype._cancelBy=function(z){return z===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},N.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},N.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),W.invoke(this._cancelPromises,this,void 0))},N.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},N.prototype._unsetOnCancel=function(){this._onCancelField=void 0},N.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},N.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},N.prototype._doInvokeOnCancel=function(z,B){if(R.isArray(z))for(var K=0;K<z.length;++K)this._doInvokeOnCancel(z[K],B);else if(z!==void 0)if(typeof z=="function"){if(!B){var Y=V(z).call(this._boundValue());Y===j&&(this._attachExtraTrace(Y.e),W.throwLater(Y.e))}}else z._resultCancelled(this)},N.prototype._invokeOnCancel=function(){var z=this._onCancel();this._unsetOnCancel(),W.invoke(this._doInvokeOnCancel,this,z)},N.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},N.prototype._resultCancelled=function(){this.cancel()}}},{"./util":21}],5:[function(T,O,L){O.exports=function(N){var P=T("./util"),I=T("./es5").keys,A=P.tryCatch,R=P.errorObj;return function(V,j,W){return function(z){var B=W._boundValue();e:for(var K=0;K<V.length;++K){var Y=V[K];if(Y===Error||Y!=null&&Y.prototype instanceof Error){if(z instanceof Y)return A(j).call(B,z)}else if(typeof Y=="function"){var Z=A(Y).call(B,z);if(Z===R)return Z;if(Z)return A(j).call(B,z)}else if(P.isObject(z)){for(var X=I(Y),le=0;le<X.length;++le){var xe=X[le];if(Y[xe]!=z[xe])continue e}return A(j).call(B,z)}}return N}}}},{"./es5":10,"./util":21}],6:[function(T,O,L){O.exports=function(N){var P=!1,I=[];function A(){this._trace=new A.CapturedTrace(R())}function R(){var V=I.length-1;if(V>=0)return I[V]}return N.prototype._promiseCreated=function(){},N.prototype._pushContext=function(){},N.prototype._popContext=function(){return null},N._peekContext=N.prototype._peekContext=function(){},A.prototype._pushContext=function(){this._trace!==void 0&&(this._trace._promiseCreated=null,I.push(this._trace))},A.prototype._popContext=function(){if(this._trace!==void 0){var V=I.pop(),j=V._promiseCreated;return V._promiseCreated=null,j}return null},A.CapturedTrace=null,A.create=function(){if(P)return new A},A.deactivateLongStackTraces=function(){},A.activateLongStackTraces=function(){var V=N.prototype._pushContext,j=N.prototype._popContext,W=N._peekContext,z=N.prototype._peekContext,B=N.prototype._promiseCreated;A.deactivateLongStackTraces=function(){N.prototype._pushContext=V,N.prototype._popContext=j,N._peekContext=W,N.prototype._peekContext=z,N.prototype._promiseCreated=B,P=!1},P=!0,N.prototype._pushContext=A.prototype._pushContext,N.prototype._popContext=A.prototype._popContext,N._peekContext=N.prototype._peekContext=R,N.prototype._promiseCreated=function(){var K=this._peekContext();K&&K._promiseCreated==null&&(K._promiseCreated=this)}},A}},{}],7:[function(T,O,L){O.exports=function(N,P,I,A){var R,V,j,W,z=N._async,B=T("./errors").Warning,K=T("./util"),Y=T("./es5"),Z=K.canAttachTrace,X=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,le=/\((?:timers\.js):\d+:\d+\)/,xe=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,$e=null,Ee=null,tt=!1,fe=K.env("BLUEBIRD_DEBUG")!=0,me=!(K.env("BLUEBIRD_WARNINGS")==0||!fe&&!K.env("BLUEBIRD_WARNINGS")),Ce=!(K.env("BLUEBIRD_LONG_STACK_TRACES")==0||!fe&&!K.env("BLUEBIRD_LONG_STACK_TRACES")),ze=K.env("BLUEBIRD_W_FORGOTTEN_RETURN")!=0&&(me||!!K.env("BLUEBIRD_W_FORGOTTEN_RETURN"));(function(){var ae=[];function ue(){for(var ge=0;ge<ae.length;++ge)ae[ge]._notifyUnhandledRejection();_e()}function _e(){ae.length=0}W=function(ge){ae.push(ge),setTimeout(ue,1)},Y.defineProperty(N,"_unhandledRejectionCheck",{value:ue}),Y.defineProperty(N,"_unhandledRejectionClear",{value:_e})})(),N.prototype.suppressUnhandledRejections=function(){var ae=this._target();ae._bitField=-1048577&ae._bitField|524288},N.prototype._ensurePossibleRejectionHandled=function(){(524288&this._bitField)==0&&(this._setRejectionIsUnhandled(),W(this))},N.prototype._notifyUnhandledRejectionIsHandled=function(){cr("rejectionHandled",R,void 0,this)},N.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},N.prototype._returnedNonUndefined=function(){return(268435456&this._bitField)!=0},N.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var ae=this._settledValue();this._setUnhandledRejectionIsNotified(),cr("unhandledRejection",V,ae,this)}},N.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},N.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},N.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},N.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},N.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},N.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},N.prototype._warn=function(ae,ue,_e){return et(ae,ue,_e||this)},N.onPossiblyUnhandledRejection=function(ae){var ue=N._getContext();V=K.contextBind(ue,ae)},N.onUnhandledRejectionHandled=function(ae){var ue=N._getContext();R=K.contextBind(ue,ae)};var Ye=function(){};N.longStackTraces=function(){if(z.haveItemsQueued()&&!bt.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);if(!bt.longStackTraces&&$r()){var ae=N.prototype._captureStackTrace,ue=N.prototype._attachExtraTrace,_e=N.prototype._dereferenceTrace;bt.longStackTraces=!0,Ye=function(){if(z.haveItemsQueued()&&!bt.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);N.prototype._captureStackTrace=ae,N.prototype._attachExtraTrace=ue,N.prototype._dereferenceTrace=_e,P.deactivateLongStackTraces(),bt.longStackTraces=!1},N.prototype._captureStackTrace=se,N.prototype._attachExtraTrace=Me,N.prototype._dereferenceTrace=nt,P.activateLongStackTraces()}},N.hasLongStackTraces=function(){return bt.longStackTraces&&$r()};var Ht={unhandledrejection:{before:function(){var ae=K.global.onunhandledrejection;return K.global.onunhandledrejection=null,ae},after:function(ae){K.global.onunhandledrejection=ae}},rejectionhandled:{before:function(){var ae=K.global.onrejectionhandled;return K.global.onrejectionhandled=null,ae},after:function(ae){K.global.onrejectionhandled=ae}}},Rt=function(){var ae=function(_e,ge){if(!_e)return!K.global.dispatchEvent(ge);var Pe;try{return Pe=_e.before(),!K.global.dispatchEvent(ge)}finally{_e.after(Pe)}};try{if(typeof CustomEvent=="function"){var ue=new CustomEvent("CustomEvent");return K.global.dispatchEvent(ue),function(_e,ge){_e=_e.toLowerCase();var Pe=new CustomEvent(_e,{detail:ge,cancelable:!0});return Y.defineProperty(Pe,"promise",{value:ge.promise}),Y.defineProperty(Pe,"reason",{value:ge.reason}),ae(Ht[_e],Pe)}}return typeof Event=="function"?(ue=new Event("CustomEvent"),K.global.dispatchEvent(ue),function(_e,ge){_e=_e.toLowerCase();var Pe=new Event(_e,{cancelable:!0});return Pe.detail=ge,Y.defineProperty(Pe,"promise",{value:ge.promise}),Y.defineProperty(Pe,"reason",{value:ge.reason}),ae(Ht[_e],Pe)}):((ue=document.createEvent("CustomEvent")).initCustomEvent("testingtheevent",!1,!0,{}),K.global.dispatchEvent(ue),function(_e,ge){_e=_e.toLowerCase();var Pe=document.createEvent("CustomEvent");return Pe.initCustomEvent(_e,!1,!0,ge),ae(Ht[_e],Pe)})}catch{}return function(){return!1}}(),vn=K.isNode?function(){return a.emit.apply(a,arguments)}:K.global?function(ae){var ue="on"+ae.toLowerCase(),_e=K.global[ue];return!!_e&&(_e.apply(K.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function mt(ae,ue){return{promise:ue}}var Jt={promiseCreated:mt,promiseFulfilled:mt,promiseRejected:mt,promiseResolved:mt,promiseCancelled:mt,promiseChained:function(ae,ue,_e){return{promise:ue,child:_e}},warning:function(ae,ue){return{warning:ue}},unhandledRejection:function(ae,ue,_e){return{reason:ue,promise:_e}},rejectionHandled:mt},ce=function(ae){var ue=!1;try{ue=vn.apply(null,arguments)}catch(ge){z.throwLater(ge),ue=!0}var _e=!1;try{_e=Rt(ae,Jt[ae].apply(null,arguments))}catch(ge){z.throwLater(ge),_e=!0}return _e||ue};function Kr(){return!1}function pa(ae,ue,_e){var ge=this;try{ae(ue,_e,function(Pe){if(typeof Pe!="function")throw new TypeError("onCancel must be a function, got: "+K.toString(Pe));ge._attachCancellationCallback(Pe)})}catch(Pe){return Pe}}function yn(ae){if(!this._isCancellable())return this;var ue=this._onCancel();ue!==void 0?K.isArray(ue)?ue.push(ae):this._setOnCancel([ue,ae]):this._setOnCancel(ae)}function ne(){return this._onCancelField}function de(ae){this._onCancelField=ae}function we(){this._cancellationParent=void 0,this._onCancelField=void 0}function De(ae,ue){if((1&ue)!=0){this._cancellationParent=ae;var _e=ae._branchesRemainingToCancel;_e===void 0&&(_e=0),ae._branchesRemainingToCancel=_e+1}(2&ue)!=0&&ae._isBound()&&this._setBoundTo(ae._boundTo)}N.config=function(ae){if("longStackTraces"in(ae=Object(ae))&&(ae.longStackTraces?N.longStackTraces():!ae.longStackTraces&&N.hasLongStackTraces()&&Ye()),"warnings"in ae){var ue=ae.warnings;bt.warnings=!!ue,ze=bt.warnings,K.isObject(ue)&&"wForgottenReturn"in ue&&(ze=!!ue.wForgottenReturn)}if("cancellation"in ae&&ae.cancellation&&!bt.cancellation){if(z.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");N.prototype._clearCancellationData=we,N.prototype._propagateFrom=De,N.prototype._onCancel=ne,N.prototype._setOnCancel=de,N.prototype._attachCancellationCallback=yn,N.prototype._execute=pa,He=De,bt.cancellation=!0}if("monitoring"in ae&&(ae.monitoring&&!bt.monitoring?(bt.monitoring=!0,N.prototype._fireEvent=ce):!ae.monitoring&&bt.monitoring&&(bt.monitoring=!1,N.prototype._fireEvent=Kr)),"asyncHooks"in ae&&K.nodeSupportsAsyncResource){var _e=bt.asyncHooks,ge=!!ae.asyncHooks;_e!==ge&&(bt.asyncHooks=ge,ge?I():A())}return N},N.prototype._fireEvent=Kr,N.prototype._execute=function(ae,ue,_e){try{ae(ue,_e)}catch(ge){return ge}},N.prototype._onCancel=function(){},N.prototype._setOnCancel=function(ae){},N.prototype._attachCancellationCallback=function(ae){},N.prototype._captureStackTrace=function(){},N.prototype._attachExtraTrace=function(){},N.prototype._dereferenceTrace=function(){},N.prototype._clearCancellationData=function(){},N.prototype._propagateFrom=function(ae,ue){};var He=function(ae,ue){(2&ue)!=0&&ae._isBound()&&this._setBoundTo(ae._boundTo)};function Ve(){var ae=this._boundTo;return ae!==void 0&&ae instanceof N?ae.isFulfilled()?ae.value():void 0:ae}function se(){this._trace=new Jr(this._peekContext())}function Me(ae,ue){if(Z(ae)){var _e=this._trace;if(_e!==void 0&&ue&&(_e=_e._parent),_e!==void 0)_e.attachExtraTrace(ae);else if(!ae.__stackCleaned__){var ge=pt(ae);K.notEnumerableProp(ae,"stack",ge.message+`
`+ge.stack.join(`
`)),K.notEnumerableProp(ae,"__stackCleaned__",!0)}}}function nt(){this._trace=void 0}function et(ae,ue,_e){if(bt.warnings){var ge,Pe=new B(ae);if(ue)_e._attachExtraTrace(Pe);else if(bt.longStackTraces&&(ge=N._peekContext()))ge.attachExtraTrace(Pe);else{var Be=pt(Pe);Pe.stack=Be.message+`
`+Be.stack.join(`
`)}ce("warning",Pe)||bn(Pe,"",!0)}}function We(ae){for(var ue=[],_e=0;_e<ae.length;++_e){var ge=ae[_e],Pe=ge==="    (No stack trace)"||$e.test(ge),Be=Pe&&Yr(ge);Pe&&!Be&&(tt&&ge.charAt(0)!==" "&&(ge="    "+ge),ue.push(ge))}return ue}function pt(ae){var ue=ae.stack,_e=ae.toString();return ue=typeof ue=="string"&&ue.length>0?function(ge){for(var Pe=ge.stack.replace(/\s+$/g,"").split(`
`),Be=0;Be<Pe.length;++Be){var Re=Pe[Be];if(Re==="    (No stack trace)"||$e.test(Re))break}return Be>0&&ge.name!="SyntaxError"&&(Pe=Pe.slice(Be)),Pe}(ae):["    (No stack trace)"],{message:_e,stack:ae.name=="SyntaxError"?ue:We(ue)}}function bn(ae,ue,_e){if(typeof console<"u"){var ge;if(K.isObject(ae)){var Pe=ae.stack;ge=ue+Ee(Pe,ae)}else ge=ue+String(ae);typeof j=="function"?j(ge,_e):typeof console.log!="function"&&C(console.log)!=="object"||console.log(ge)}}function cr(ae,ue,_e,ge){var Pe=!1;try{typeof ue=="function"&&(Pe=!0,ae==="rejectionHandled"?ue(ge):ue(_e,ge))}catch(Be){z.throwLater(Be)}ae==="unhandledRejection"?ce(ae,_e,ge)||Pe||bn(_e,"Unhandled rejection "):ce(ae,ge)}function wi(ae){var ue;if(typeof ae=="function")ue="[function "+(ae.name||"anonymous")+"]";else{if(ue=ae&&typeof ae.toString=="function"?ae.toString():K.toString(ae),/\[object [a-zA-Z0-9$_]+\]/.test(ue))try{ue=JSON.stringify(ae)}catch{}ue.length===0&&(ue="(empty array)")}return"(<"+function(_e){return _e.length<41?_e:_e.substr(0,38)+"..."}(ue)+">, no stack trace)"}function $r(){return typeof go=="function"}var Yr=function(){return!1},Mc=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function mo(ae){var ue=ae.match(Mc);if(ue)return{fileName:ue[1],line:parseInt(ue[2],10)}}function Jr(ae){this._parent=ae,this._promisesCreated=0;var ue=this._length=1+(ae===void 0?0:ae._length);go(this,Jr),ue>32&&this.uncycle()}K.inherits(Jr,Error),P.CapturedTrace=Jr,Jr.prototype.uncycle=function(){var ae=this._length;if(!(ae<2)){for(var ue=[],_e={},ge=0,Pe=this;Pe!==void 0;++ge)ue.push(Pe),Pe=Pe._parent;for(ge=(ae=this._length=ge)-1;ge>=0;--ge){var Be=ue[ge].stack;_e[Be]===void 0&&(_e[Be]=ge)}for(ge=0;ge<ae;++ge){var Re=_e[ue[ge].stack];if(Re!==void 0&&Re!==ge){Re>0&&(ue[Re-1]._parent=void 0,ue[Re-1]._length=1),ue[ge]._parent=void 0,ue[ge]._length=1;var ut=ge>0?ue[ge-1]:this;Re<ae-1?(ut._parent=ue[Re+1],ut._parent.uncycle(),ut._length=ut._parent._length+1):(ut._parent=void 0,ut._length=1);for(var At=ut._length+1,gt=ge-2;gt>=0;--gt)ue[gt]._length=At,At++;return}}}},Jr.prototype.attachExtraTrace=function(ae){if(!ae.__stackCleaned__){this.uncycle();for(var ue=pt(ae),_e=ue.message,ge=[ue.stack],Pe=this;Pe!==void 0;)ge.push(We(Pe.stack.split(`
`))),Pe=Pe._parent;(function(Be){for(var Re=Be[0],ut=1;ut<Be.length;++ut){for(var At=Be[ut],gt=Re.length-1,Qr=Re[gt],zn=-1,Xn=At.length-1;Xn>=0;--Xn)if(At[Xn]===Qr){zn=Xn;break}for(Xn=zn;Xn>=0;--Xn){var vo=At[Xn];if(Re[gt]!==vo)break;Re.pop(),gt--}Re=At}})(ge),function(Be){for(var Re=0;Re<Be.length;++Re)(Be[Re].length===0||Re+1<Be.length&&Be[Re][0]===Be[Re+1][0])&&(Be.splice(Re,1),Re--)}(ge),K.notEnumerableProp(ae,"stack",function(Be,Re){for(var ut=0;ut<Re.length-1;++ut)Re[ut].push("From previous event:"),Re[ut]=Re[ut].join(`
`);return ut<Re.length&&(Re[ut]=Re[ut].join(`
`)),Be+`
`+Re.join(`
`)}(_e,ge)),K.notEnumerableProp(ae,"__stackCleaned__",!0)}};var go=function(){var ae=/^\s*at\s*/,ue=function(Be,Re){return typeof Be=="string"?Be:Re.name!==void 0&&Re.message!==void 0?Re.toString():wi(Re)};if(typeof Error.stackTraceLimit=="number"&&typeof Error.captureStackTrace=="function"){Error.stackTraceLimit+=6,$e=ae,Ee=ue;var _e=Error.captureStackTrace;return Yr=function(Be){return X.test(Be)},function(Be,Re){Error.stackTraceLimit+=6,_e(Be,Re),Error.stackTraceLimit-=6}}var ge,Pe=new Error;if(typeof Pe.stack=="string"&&Pe.stack.split(`
`)[0].indexOf("stackDetection@")>=0)return $e=/@/,Ee=ue,tt=!0,function(Be){Be.stack=new Error().stack};try{throw new Error}catch(Be){ge="stack"in Be}return"stack"in Pe||!ge||typeof Error.stackTraceLimit!="number"?(Ee=function(Be,Re){return typeof Be=="string"?Be:C(Re)!=="object"&&typeof Re!="function"||Re.name===void 0||Re.message===void 0?wi(Re):Re.toString()},null):($e=ae,Ee=ue,function(Be){Error.stackTraceLimit+=6;try{throw new Error}catch(Re){Be.stack=Re.stack}Error.stackTraceLimit-=6})}();typeof console<"u"&&console.warn!==void 0&&(j=function(ae){console.warn(ae)},K.isNode&&a.stderr.isTTY?j=function(ae,ue){var _e=ue?"\x1B[33m":"\x1B[31m";console.warn(_e+ae+`\x1B[0m
`)}:K.isNode||typeof new Error().stack!="string"||(j=function(ae,ue){console.warn("%c"+ae,ue?"color: darkorange":"color: red")}));var bt={warnings:me,longStackTraces:!1,cancellation:!1,monitoring:!1,asyncHooks:!1};return Ce&&N.longStackTraces(),{asyncHooks:function(){return bt.asyncHooks},longStackTraces:function(){return bt.longStackTraces},warnings:function(){return bt.warnings},cancellation:function(){return bt.cancellation},monitoring:function(){return bt.monitoring},propagateFromFunction:function(){return He},boundValueFunction:function(){return Ve},checkForgottenReturns:function(ae,ue,_e,ge,Pe){if(ae===void 0&&ue!==null&&ze){if(Pe!==void 0&&Pe._returnedNonUndefined()||(65535&ge._bitField)==0)return;_e&&(_e+=" ");var Be="",Re="";if(ue._trace){for(var ut=ue._trace.stack.split(`
`),At=We(ut),gt=At.length-1;gt>=0;--gt){var Qr=At[gt];if(!le.test(Qr)){var zn=Qr.match(xe);zn&&(Be="at "+zn[1]+":"+zn[2]+":"+zn[3]+" ");break}}if(At.length>0){var Xn=At[0];for(gt=0;gt<ut.length;++gt)if(ut[gt]===Xn){gt>0&&(Re=`
`+ut[gt-1]);break}}}var vo="a promise was created in a "+_e+"handler "+Be+"but was not returned from it, see http://goo.gl/rRqMUw"+Re;ge._warn(vo,!0,ue)}},setBounds:function(ae,ue){if($r()){for(var _e,ge,Pe=(ae.stack||"").split(`
`),Be=(ue.stack||"").split(`
`),Re=-1,ut=-1,At=0;At<Pe.length;++At)if(gt=mo(Pe[At])){_e=gt.fileName,Re=gt.line;break}for(At=0;At<Be.length;++At){var gt;if(gt=mo(Be[At])){ge=gt.fileName,ut=gt.line;break}}Re<0||ut<0||!_e||!ge||_e!==ge||Re>=ut||(Yr=function(Qr){if(X.test(Qr))return!0;var zn=mo(Qr);return!!(zn&&zn.fileName===_e&&Re<=zn.line&&zn.line<=ut)})}},warn:et,deprecated:function(ae,ue){var _e=ae+" is deprecated and will be removed in a future version.";return ue&&(_e+=" Use "+ue+" instead."),et(_e)},CapturedTrace:Jr,fireDomEvent:Rt,fireGlobalEvent:vn}}},{"./errors":9,"./es5":10,"./util":21}],8:[function(T,O,L){O.exports=function(N){function P(){return this.value}function I(){throw this.reason}N.prototype.return=N.prototype.thenReturn=function(A){return A instanceof N&&A.suppressUnhandledRejections(),this._then(P,void 0,void 0,{value:A},void 0)},N.prototype.throw=N.prototype.thenThrow=function(A){return this._then(I,void 0,void 0,{reason:A},void 0)},N.prototype.catchThrow=function(A){if(arguments.length<=1)return this._then(void 0,I,void 0,{reason:A},void 0);var R=arguments[1];return this.caught(A,function(){throw R})},N.prototype.catchReturn=function(A){if(arguments.length<=1)return A instanceof N&&A.suppressUnhandledRejections(),this._then(void 0,P,void 0,{value:A},void 0);var R=arguments[1];return R instanceof N&&R.suppressUnhandledRejections(),this.caught(A,function(){return R})}}},{}],9:[function(T,O,L){var N,P,I=T("./es5"),A=I.freeze,R=T("./util"),V=R.inherits,j=R.notEnumerableProp;function W(Ee,tt){function fe(me){if(!(this instanceof fe))return new fe(me);j(this,"message",typeof me=="string"?me:tt),j(this,"name",Ee),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return V(fe,Error),fe}var z=W("Warning","warning"),B=W("CancellationError","cancellation error"),K=W("TimeoutError","timeout error"),Y=W("AggregateError","aggregate error");try{N=TypeError,P=RangeError}catch{N=W("TypeError","type error"),P=W("RangeError","range error")}for(var Z="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),X=0;X<Z.length;++X)typeof Array.prototype[Z[X]]=="function"&&(Y.prototype[Z[X]]=Array.prototype[Z[X]]);I.defineProperty(Y.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),Y.prototype.isOperational=!0;var le=0;function xe(Ee){if(!(this instanceof xe))return new xe(Ee);j(this,"name","OperationalError"),j(this,"message",Ee),this.cause=Ee,this.isOperational=!0,Ee instanceof Error?(j(this,"message",Ee.message),j(this,"stack",Ee.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}Y.prototype.toString=function(){var Ee=Array(4*le+1).join(" "),tt=`
`+Ee+`AggregateError of:
`;le++,Ee=Array(4*le+1).join(" ");for(var fe=0;fe<this.length;++fe){for(var me=this[fe]===this?"[Circular AggregateError]":this[fe]+"",Ce=me.split(`
`),ze=0;ze<Ce.length;++ze)Ce[ze]=Ee+Ce[ze];tt+=(me=Ce.join(`
`))+`
`}return le--,tt},V(xe,Error);var $e=Error.__BluebirdErrorTypes__;$e||($e=A({CancellationError:B,TimeoutError:K,OperationalError:xe,RejectionError:xe,AggregateError:Y}),I.defineProperty(Error,"__BluebirdErrorTypes__",{value:$e,writable:!1,enumerable:!1,configurable:!1})),O.exports={Error,TypeError:N,RangeError:P,CancellationError:$e.CancellationError,OperationalError:$e.OperationalError,TimeoutError:$e.TimeoutError,AggregateError:$e.AggregateError,Warning:z}},{"./es5":10,"./util":21}],10:[function(T,O,L){var N=function(){return this===void 0}();if(N)O.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:N,propertyIsWritable:function(V,j){var W=Object.getOwnPropertyDescriptor(V,j);return!(W&&!W.writable&&!W.set)}};else{var P={}.hasOwnProperty,I={}.toString,A={}.constructor.prototype,R=function(V){var j=[];for(var W in V)P.call(V,W)&&j.push(W);return j};O.exports={isArray:function(V){try{return I.call(V)==="[object Array]"}catch{return!1}},keys:R,names:R,defineProperty:function(V,j,W){return V[j]=W.value,V},getDescriptor:function(V,j){return{value:V[j]}},freeze:function(V){return V},getPrototypeOf:function(V){try{return Object(V).constructor.prototype}catch{return A}},isES5:N,propertyIsWritable:function(){return!0}}}},{}],11:[function(T,O,L){O.exports=function(N,P,I){var A=T("./util"),R=N.CancellationError,V=A.errorObj,j=T("./catch_filter")(I);function W(X,le,xe){this.promise=X,this.type=le,this.handler=xe,this.called=!1,this.cancelPromise=null}function z(X){this.finallyHandler=X}function B(X,le){return X.cancelPromise!=null&&(arguments.length>1?X.cancelPromise._reject(le):X.cancelPromise._cancel(),X.cancelPromise=null,!0)}function K(){return Z.call(this,this.promise._target()._settledValue())}function Y(X){if(!B(this,X))return V.e=X,V}function Z(X){var le=this.promise,xe=this.handler;if(!this.called){this.called=!0;var $e=this.isFinallyHandler()?xe.call(le._boundValue()):xe.call(le._boundValue(),X);if($e===I)return $e;if($e!==void 0){le._setReturnedNonUndefined();var Ee=P($e,le);if(Ee instanceof N){if(this.cancelPromise!=null){if(Ee._isCancelled()){var tt=new R("late cancellation observer");return le._attachExtraTrace(tt),V.e=tt,V}Ee.isPending()&&Ee._attachCancellationCallback(new z(this))}return Ee._then(K,Y,void 0,this,void 0)}}}return le.isRejected()?(B(this),V.e=X,V):(B(this),X)}return W.prototype.isFinallyHandler=function(){return this.type===0},z.prototype._resultCancelled=function(){B(this.finallyHandler)},N.prototype._passThrough=function(X,le,xe,$e){return typeof X!="function"?this.then():this._then(xe,$e,void 0,new W(this,le,X),void 0)},N.prototype.lastly=N.prototype.finally=function(X){return this._passThrough(X,0,Z,Z)},N.prototype.tap=function(X){return this._passThrough(X,1,Z)},N.prototype.tapCatch=function(X){var le=arguments.length;if(le===1)return this._passThrough(X,1,void 0,Z);var xe,$e=new Array(le-1),Ee=0;for(xe=0;xe<le-1;++xe){var tt=arguments[xe];if(!A.isObject(tt))return N.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+A.classString(tt)));$e[Ee++]=tt}$e.length=Ee;var fe=arguments[xe];return this._passThrough(j($e,fe,this),1,void 0,Z)},W}},{"./catch_filter":5,"./util":21}],12:[function(T,O,L){O.exports=function(N,P,I,A,R){var V=T("./util");V.canEvaluate,V.tryCatch,V.errorObj,N.join=function(){var j,W=arguments.length-1;W>0&&typeof arguments[W]=="function"&&(j=arguments[W]);var z=[].slice.call(arguments);j&&z.pop();var B=new P(z).promise();return j!==void 0?B.spread(j):B}}},{"./util":21}],13:[function(T,O,L){O.exports=function(N,P,I,A,R){var V=T("./util"),j=V.tryCatch;N.method=function(W){if(typeof W!="function")throw new N.TypeError("expecting a function but got "+V.classString(W));return function(){var z=new N(P);z._captureStackTrace(),z._pushContext();var B=j(W).apply(this,arguments),K=z._popContext();return R.checkForgottenReturns(B,K,"Promise.method",z),z._resolveFromSyncValue(B),z}},N.attempt=N.try=function(W){if(typeof W!="function")return A("expecting a function but got "+V.classString(W));var z,B=new N(P);if(B._captureStackTrace(),B._pushContext(),arguments.length>1){R.deprecated("calling Promise.try with more than 1 argument");var K=arguments[1],Y=arguments[2];z=V.isArray(K)?j(W).apply(Y,K):j(W).call(Y,K)}else z=j(W)();var Z=B._popContext();return R.checkForgottenReturns(z,Z,"Promise.try",B),B._resolveFromSyncValue(z),B},N.prototype._resolveFromSyncValue=function(W){W===V.errorObj?this._rejectCallback(W.e,!1):this._resolveCallback(W,!0)}}},{"./util":21}],14:[function(T,O,L){var N=T("./util"),P=N.maybeWrapAsError,I=T("./errors").OperationalError,A=T("./es5"),R=/^(?:name|message|stack|cause)$/;function V(j){var W;if(function(Y){return Y instanceof Error&&A.getPrototypeOf(Y)===Error.prototype}(j)){(W=new I(j)).name=j.name,W.message=j.message,W.stack=j.stack;for(var z=A.keys(j),B=0;B<z.length;++B){var K=z[B];R.test(K)||(W[K]=j[K])}return W}return N.markAsOriginatingFromRejection(j),j}O.exports=function(j,W){return function(z,B){if(j!==null){if(z){var K=V(P(z));j._attachExtraTrace(K),j._reject(K)}else if(W){var Y=[].slice.call(arguments,1);j._fulfill(Y)}else j._fulfill(B);j=null}}}},{"./errors":9,"./es5":10,"./util":21}],15:[function(T,O,L){O.exports=function(){var N=function(){return new xe(`circular promise resolution chain

    See http://goo.gl/MqrFmX
`)},P=function(){return new ce.PromiseInspection(this._target())},I=function(ne){return ce.reject(new xe(ne))};function A(){}var R={},V=T("./util");V.setReflectHandler(P);var j=function(){var ne=a.domain;return ne===void 0?null:ne},W=function(){return{domain:j(),async:null}},z=V.isNode&&V.nodeSupportsAsyncResource?T("async_hooks").AsyncResource:null,B=function(){return{domain:j(),async:new z("Bluebird::Promise")}},K=V.isNode?W:function(){return null};V.notEnumerableProp(ce,"_getContext",K);var Y=T("./es5"),Z=T("./async"),X=new Z;Y.defineProperty(ce,"_async",{value:X});var le=T("./errors"),xe=ce.TypeError=le.TypeError;ce.RangeError=le.RangeError;var $e=ce.CancellationError=le.CancellationError;ce.TimeoutError=le.TimeoutError,ce.OperationalError=le.OperationalError,ce.RejectionError=le.OperationalError,ce.AggregateError=le.AggregateError;var Ee=function(){},tt={},fe={},me=T("./thenables")(ce,Ee),Ce=T("./promise_array")(ce,Ee,me,I,A),ze=T("./context")(ce),Ye=(ze.create,T("./debuggability")(ce,ze,function(){K=B,V.notEnumerableProp(ce,"_getContext",B)},function(){K=W,V.notEnumerableProp(ce,"_getContext",W)})),Ht=(Ye.CapturedTrace,T("./finally")(ce,me,fe)),Rt=T("./catch_filter")(fe),vn=T("./nodeback"),mt=V.errorObj,Jt=V.tryCatch;function ce(ne){ne!==Ee&&function(de,we){if(de==null||de.constructor!==ce)throw new xe(`the promise constructor cannot be invoked directly

    See http://goo.gl/MqrFmX
`);if(typeof we!="function")throw new xe("expecting a function but got "+V.classString(we))}(this,ne),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(ne),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function Kr(ne){this.promise._resolveCallback(ne)}function pa(ne){this.promise._rejectCallback(ne,!1)}function yn(ne){var de=new ce(Ee);de._fulfillmentHandler0=ne,de._rejectionHandler0=ne,de._promise0=ne,de._receiver0=ne}return ce.prototype.toString=function(){return"[object Promise]"},ce.prototype.caught=ce.prototype.catch=function(ne){var de=arguments.length;if(de>1){var we,De=new Array(de-1),He=0;for(we=0;we<de-1;++we){var Ve=arguments[we];if(!V.isObject(Ve))return I("Catch statement predicate: expecting an object but got "+V.classString(Ve));De[He++]=Ve}if(De.length=He,typeof(ne=arguments[we])!="function")throw new xe("The last argument to .catch() must be a function, got "+V.toString(ne));return this.then(void 0,Rt(De,ne,this))}return this.then(void 0,ne)},ce.prototype.reflect=function(){return this._then(P,P,void 0,this,void 0)},ce.prototype.then=function(ne,de){if(Ye.warnings()&&arguments.length>0&&typeof ne!="function"&&typeof de!="function"){var we=".then() only accepts functions but was passed: "+V.classString(ne);arguments.length>1&&(we+=", "+V.classString(de)),this._warn(we)}return this._then(ne,de,void 0,void 0,void 0)},ce.prototype.done=function(ne,de){this._then(ne,de,void 0,void 0,void 0)._setIsFinal()},ce.prototype.spread=function(ne){return typeof ne!="function"?I("expecting a function but got "+V.classString(ne)):this.all()._then(ne,void 0,void 0,tt,void 0)},ce.prototype.toJSON=function(){var ne={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(ne.fulfillmentValue=this.value(),ne.isFulfilled=!0):this.isRejected()&&(ne.rejectionReason=this.reason(),ne.isRejected=!0),ne},ce.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new Ce(this).promise()},ce.prototype.error=function(ne){return this.caught(V.originatesFromRejection,ne)},ce.getNewLibraryCopy=O.exports,ce.is=function(ne){return ne instanceof ce},ce.fromNode=ce.fromCallback=function(ne){var de=new ce(Ee);de._captureStackTrace();var we=arguments.length>1&&!!Object(arguments[1]).multiArgs,De=Jt(ne)(vn(de,we));return De===mt&&de._rejectCallback(De.e,!0),de._isFateSealed()||de._setAsyncGuaranteed(),de},ce.all=function(ne){return new Ce(ne).promise()},ce.cast=function(ne){var de=me(ne);return de instanceof ce||((de=new ce(Ee))._captureStackTrace(),de._setFulfilled(),de._rejectionHandler0=ne),de},ce.resolve=ce.fulfilled=ce.cast,ce.reject=ce.rejected=function(ne){var de=new ce(Ee);return de._captureStackTrace(),de._rejectCallback(ne,!0),de},ce.setScheduler=function(ne){if(typeof ne!="function")throw new xe("expecting a function but got "+V.classString(ne));return X.setScheduler(ne)},ce.prototype._then=function(ne,de,we,De,He){var Ve=He!==void 0,se=Ve?He:new ce(Ee),Me=this._target(),nt=Me._bitField;Ve||(se._propagateFrom(this,3),se._captureStackTrace(),De===void 0&&(2097152&this._bitField)!=0&&(De=(50397184&nt)!=0?this._boundValue():Me===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,se));var et=K();if((50397184&nt)!=0){var We,pt,bn=Me._settlePromiseCtx;(33554432&nt)!=0?(pt=Me._rejectionHandler0,We=ne):(16777216&nt)!=0?(pt=Me._fulfillmentHandler0,We=de,Me._unsetRejectionIsUnhandled()):(bn=Me._settlePromiseLateCancellationObserver,pt=new $e("late cancellation observer"),Me._attachExtraTrace(pt),We=de),X.invoke(bn,Me,{handler:V.contextBind(et,We),promise:se,receiver:De,value:pt})}else Me._addCallbacks(ne,de,se,De,et);return se},ce.prototype._length=function(){return 65535&this._bitField},ce.prototype._isFateSealed=function(){return(117506048&this._bitField)!=0},ce.prototype._isFollowing=function(){return(67108864&this._bitField)==67108864},ce.prototype._setLength=function(ne){this._bitField=-65536&this._bitField|65535&ne},ce.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},ce.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},ce.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},ce.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},ce.prototype._isFinal=function(){return(4194304&this._bitField)>0},ce.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},ce.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},ce.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},ce.prototype._setAsyncGuaranteed=function(){if(!X.hasCustomScheduler()){var ne=this._bitField;this._bitField=ne|(536870912&ne)>>2^134217728}},ce.prototype._setNoAsyncGuarantee=function(){this._bitField=-134217729&(536870912|this._bitField)},ce.prototype._receiverAt=function(ne){var de=ne===0?this._receiver0:this[4*ne-4+3];if(de!==R)return de===void 0&&this._isBound()?this._boundValue():de},ce.prototype._promiseAt=function(ne){return this[4*ne-4+2]},ce.prototype._fulfillmentHandlerAt=function(ne){return this[4*ne-4+0]},ce.prototype._rejectionHandlerAt=function(ne){return this[4*ne-4+1]},ce.prototype._boundValue=function(){},ce.prototype._migrateCallback0=function(ne){ne._bitField;var de=ne._fulfillmentHandler0,we=ne._rejectionHandler0,De=ne._promise0,He=ne._receiverAt(0);He===void 0&&(He=R),this._addCallbacks(de,we,De,He,null)},ce.prototype._migrateCallbackAt=function(ne,de){var we=ne._fulfillmentHandlerAt(de),De=ne._rejectionHandlerAt(de),He=ne._promiseAt(de),Ve=ne._receiverAt(de);Ve===void 0&&(Ve=R),this._addCallbacks(we,De,He,Ve,null)},ce.prototype._addCallbacks=function(ne,de,we,De,He){var Ve=this._length();if(Ve>=65531&&(Ve=0,this._setLength(0)),Ve===0)this._promise0=we,this._receiver0=De,typeof ne=="function"&&(this._fulfillmentHandler0=V.contextBind(He,ne)),typeof de=="function"&&(this._rejectionHandler0=V.contextBind(He,de));else{var se=4*Ve-4;this[se+2]=we,this[se+3]=De,typeof ne=="function"&&(this[se+0]=V.contextBind(He,ne)),typeof de=="function"&&(this[se+1]=V.contextBind(He,de))}return this._setLength(Ve+1),Ve},ce.prototype._proxy=function(ne,de){this._addCallbacks(void 0,void 0,de,ne,null)},ce.prototype._resolveCallback=function(ne,de){if((117506048&this._bitField)==0){if(ne===this)return this._rejectCallback(N(),!1);var we=me(ne,this);if(!(we instanceof ce))return this._fulfill(ne);de&&this._propagateFrom(we,2);var De=we._target();if(De!==this){var He=De._bitField;if((50397184&He)==0){var Ve=this._length();Ve>0&&De._migrateCallback0(this);for(var se=1;se<Ve;++se)De._migrateCallbackAt(this,se);this._setFollowing(),this._setLength(0),this._setFollowee(we)}else if((33554432&He)!=0)this._fulfill(De._value());else if((16777216&He)!=0)this._reject(De._reason());else{var Me=new $e("late cancellation observer");De._attachExtraTrace(Me),this._reject(Me)}}else this._reject(N())}},ce.prototype._rejectCallback=function(ne,de,we){var De=V.ensureErrorObject(ne),He=De===ne;if(!He&&!we&&Ye.warnings()){var Ve="a promise was rejected with a non-error: "+V.classString(ne);this._warn(Ve,!0)}this._attachExtraTrace(De,!!de&&He),this._reject(ne)},ce.prototype._resolveFromExecutor=function(ne){if(ne!==Ee){var de=this;this._captureStackTrace(),this._pushContext();var we=!0,De=this._execute(ne,function(He){de._resolveCallback(He)},function(He){de._rejectCallback(He,we)});we=!1,this._popContext(),De!==void 0&&de._rejectCallback(De,!0)}},ce.prototype._settlePromiseFromHandler=function(ne,de,we,De){var He=De._bitField;if((65536&He)==0){var Ve;De._pushContext(),de===tt?we&&typeof we.length=="number"?Ve=Jt(ne).apply(this._boundValue(),we):(Ve=mt).e=new xe("cannot .spread() a non-array: "+V.classString(we)):Ve=Jt(ne).call(de,we);var se=De._popContext();(65536&(He=De._bitField))==0&&(Ve===fe?De._reject(we):Ve===mt?De._rejectCallback(Ve.e,!1):(Ye.checkForgottenReturns(Ve,se,"",De,this),De._resolveCallback(Ve)))}},ce.prototype._target=function(){for(var ne=this;ne._isFollowing();)ne=ne._followee();return ne},ce.prototype._followee=function(){return this._rejectionHandler0},ce.prototype._setFollowee=function(ne){this._rejectionHandler0=ne},ce.prototype._settlePromise=function(ne,de,we,De){var He=ne instanceof ce,Ve=this._bitField,se=(134217728&Ve)!=0;(65536&Ve)!=0?(He&&ne._invokeInternalOnCancel(),we instanceof Ht&&we.isFinallyHandler()?(we.cancelPromise=ne,Jt(de).call(we,De)===mt&&ne._reject(mt.e)):de===P?ne._fulfill(P.call(we)):we instanceof A?we._promiseCancelled(ne):He||ne instanceof Ce?ne._cancel():we.cancel()):typeof de=="function"?He?(se&&ne._setAsyncGuaranteed(),this._settlePromiseFromHandler(de,we,De,ne)):de.call(we,De,ne):we instanceof A?we._isResolved()||((33554432&Ve)!=0?we._promiseFulfilled(De,ne):we._promiseRejected(De,ne)):He&&(se&&ne._setAsyncGuaranteed(),(33554432&Ve)!=0?ne._fulfill(De):ne._reject(De))},ce.prototype._settlePromiseLateCancellationObserver=function(ne){var de=ne.handler,we=ne.promise,De=ne.receiver,He=ne.value;typeof de=="function"?we instanceof ce?this._settlePromiseFromHandler(de,De,He,we):de.call(De,He,we):we instanceof ce&&we._reject(He)},ce.prototype._settlePromiseCtx=function(ne){this._settlePromise(ne.promise,ne.handler,ne.receiver,ne.value)},ce.prototype._settlePromise0=function(ne,de,we){var De=this._promise0,He=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(De,ne,He,de)},ce.prototype._clearCallbackDataAtIndex=function(ne){var de=4*ne-4;this[de+2]=this[de+3]=this[de+0]=this[de+1]=void 0},ce.prototype._fulfill=function(ne){var de=this._bitField;if(!((117506048&de)>>>16)){if(ne===this){var we=N();return this._attachExtraTrace(we),this._reject(we)}this._setFulfilled(),this._rejectionHandler0=ne,(65535&de)>0&&((134217728&de)!=0?this._settlePromises():X.settlePromises(this),this._dereferenceTrace())}},ce.prototype._reject=function(ne){var de=this._bitField;if(!((117506048&de)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=ne,this._isFinal())return X.fatalError(ne,V.isNode);(65535&de)>0?X.settlePromises(this):this._ensurePossibleRejectionHandled()}},ce.prototype._fulfillPromises=function(ne,de){for(var we=1;we<ne;we++){var De=this._fulfillmentHandlerAt(we),He=this._promiseAt(we),Ve=this._receiverAt(we);this._clearCallbackDataAtIndex(we),this._settlePromise(He,De,Ve,de)}},ce.prototype._rejectPromises=function(ne,de){for(var we=1;we<ne;we++){var De=this._rejectionHandlerAt(we),He=this._promiseAt(we),Ve=this._receiverAt(we);this._clearCallbackDataAtIndex(we),this._settlePromise(He,De,Ve,de)}},ce.prototype._settlePromises=function(){var ne=this._bitField,de=65535&ne;if(de>0){if((16842752&ne)!=0){var we=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,we,ne),this._rejectPromises(de,we)}else{var De=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,De,ne),this._fulfillPromises(de,De)}this._setLength(0)}this._clearCancellationData()},ce.prototype._settledValue=function(){var ne=this._bitField;return(33554432&ne)!=0?this._rejectionHandler0:(16777216&ne)!=0?this._fulfillmentHandler0:void 0},typeof Symbol<"u"&&Symbol.toStringTag&&Y.defineProperty(ce.prototype,Symbol.toStringTag,{get:function(){return"Object"}}),ce.defer=ce.pending=function(){return Ye.deprecated("Promise.defer","new Promise"),{promise:new ce(Ee),resolve:Kr,reject:pa}},V.notEnumerableProp(ce,"_makeSelfResolutionError",N),T("./method")(ce,Ee,me,I,Ye),T("./bind")(ce,Ee,me,Ye),T("./cancel")(ce,Ce,I,Ye),T("./direct_resolve")(ce),T("./synchronous_inspection")(ce),T("./join")(ce,Ce,me,Ee,X),ce.Promise=ce,ce.version="3.7.2",V.toFastProperties(ce),V.toFastProperties(ce.prototype),yn({a:1}),yn({b:2}),yn({c:3}),yn(1),yn(function(){}),yn(void 0),yn(!1),yn(new ce(Ee)),Ye.setBounds(Z.firstLineError,V.lastLineError),ce}},{"./async":1,"./bind":2,"./cancel":4,"./catch_filter":5,"./context":6,"./debuggability":7,"./direct_resolve":8,"./errors":9,"./es5":10,"./finally":11,"./join":12,"./method":13,"./nodeback":14,"./promise_array":16,"./synchronous_inspection":19,"./thenables":20,"./util":21,async_hooks:void 0}],16:[function(T,O,L){O.exports=function(N,P,I,A,R){var V=T("./util");V.isArray;function j(W){var z=this._promise=new N(P);W instanceof N&&(z._propagateFrom(W,3),W.suppressUnhandledRejections()),z._setOnCancel(this),this._values=W,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return V.inherits(j,R),j.prototype.length=function(){return this._length},j.prototype.promise=function(){return this._promise},j.prototype._init=function W(z,B){var K=I(this._values,this._promise);if(K instanceof N){var Y=(K=K._target())._bitField;if(this._values=K,(50397184&Y)==0)return this._promise._setAsyncGuaranteed(),K._then(W,this._reject,void 0,this,B);if((33554432&Y)==0)return(16777216&Y)!=0?this._reject(K._reason()):this._cancel();K=K._value()}if((K=V.asArray(K))!==null)K.length!==0?this._iterate(K):B===-5?this._resolveEmptyArray():this._resolve(function(X){switch(X){case-2:return[];case-3:return{};case-6:return new Map}}(B));else{var Z=A("expecting an array or an iterable object but got "+V.classString(K)).reason();this._promise._rejectCallback(Z,!1)}},j.prototype._iterate=function(W){var z=this.getActualLength(W.length);this._length=z,this._values=this.shouldCopyValues()?new Array(z):this._values;for(var B=this._promise,K=!1,Y=null,Z=0;Z<z;++Z){var X=I(W[Z],B);Y=X instanceof N?(X=X._target())._bitField:null,K?Y!==null&&X.suppressUnhandledRejections():Y!==null?(50397184&Y)==0?(X._proxy(this,Z),this._values[Z]=X):K=(33554432&Y)!=0?this._promiseFulfilled(X._value(),Z):(16777216&Y)!=0?this._promiseRejected(X._reason(),Z):this._promiseCancelled(Z):K=this._promiseFulfilled(X,Z)}K||B._setAsyncGuaranteed()},j.prototype._isResolved=function(){return this._values===null},j.prototype._resolve=function(W){this._values=null,this._promise._fulfill(W)},j.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},j.prototype._reject=function(W){this._values=null,this._promise._rejectCallback(W,!1)},j.prototype._promiseFulfilled=function(W,z){return this._values[z]=W,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},j.prototype._promiseCancelled=function(){return this._cancel(),!0},j.prototype._promiseRejected=function(W){return this._totalResolved++,this._reject(W),!0},j.prototype._resultCancelled=function(){if(!this._isResolved()){var W=this._values;if(this._cancel(),W instanceof N)W.cancel();else for(var z=0;z<W.length;++z)W[z]instanceof N&&W[z].cancel()}},j.prototype.shouldCopyValues=function(){return!0},j.prototype.getActualLength=function(W){return W},j}},{"./util":21}],17:[function(T,O,L){function N(P){this._capacity=P,this._length=0,this._front=0}N.prototype._willBeOverCapacity=function(P){return this._capacity<P},N.prototype._pushOne=function(P){var I=this.length();this._checkCapacity(I+1),this[this._front+I&this._capacity-1]=P,this._length=I+1},N.prototype.push=function(P,I,A){var R=this.length()+3;if(this._willBeOverCapacity(R))return this._pushOne(P),this._pushOne(I),void this._pushOne(A);var V=this._front+R-3;this._checkCapacity(R);var j=this._capacity-1;this[V+0&j]=P,this[V+1&j]=I,this[V+2&j]=A,this._length=R},N.prototype.shift=function(){var P=this._front,I=this[P];return this[P]=void 0,this._front=P+1&this._capacity-1,this._length--,I},N.prototype.length=function(){return this._length},N.prototype._checkCapacity=function(P){this._capacity<P&&this._resizeTo(this._capacity<<1)},N.prototype._resizeTo=function(P){var I=this._capacity;this._capacity=P,function(A,R,V,j,W){for(var z=0;z<W;++z)V[z+j]=A[z+R],A[z+R]=void 0}(this,0,this,I,this._front+this._length&I-1)},O.exports=N},{}],18:[function(T,O,L){var N,P=T("./util"),I=P.getNativePromise();if(P.isNode&&typeof MutationObserver>"u"){var A=l.setImmediate,R=a.nextTick;N=P.isRecentNode?function(j){A.call(l,j)}:function(j){R.call(a,j)}}else if(typeof I=="function"&&typeof I.resolve=="function"){var V=I.resolve();N=function(j){V.then(j)}}else N=typeof MutationObserver<"u"&&(typeof window>"u"||!window.navigator||!window.navigator.standalone&&!window.cordova)&&"classList"in document.documentElement?function(){var j=document.createElement("div"),W={attributes:!0},z=!1,B=document.createElement("div");return new MutationObserver(function(){j.classList.toggle("foo"),z=!1}).observe(B,W),function(K){var Y=new MutationObserver(function(){Y.disconnect(),K()});Y.observe(j,W),z||(z=!0,B.classList.toggle("foo"))}}():h!==void 0?function(j){h(j)}:typeof setTimeout<"u"?function(j){setTimeout(j,0)}:function(){throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)};O.exports=N},{"./util":21}],19:[function(T,O,L){O.exports=function(N){function P(z){z!==void 0?(z=z._target(),this._bitField=z._bitField,this._settledValueField=z._isFateSealed()?z._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}P.prototype._settledValue=function(){return this._settledValueField};var I=P.prototype.value=function(){if(!this.isFulfilled())throw new TypeError(`cannot get fulfillment value of a non-fulfilled promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},A=P.prototype.error=P.prototype.reason=function(){if(!this.isRejected())throw new TypeError(`cannot get rejection reason of a non-rejected promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},R=P.prototype.isFulfilled=function(){return(33554432&this._bitField)!=0},V=P.prototype.isRejected=function(){return(16777216&this._bitField)!=0},j=P.prototype.isPending=function(){return(50397184&this._bitField)==0},W=P.prototype.isResolved=function(){return(50331648&this._bitField)!=0};P.prototype.isCancelled=function(){return(8454144&this._bitField)!=0},N.prototype.__isCancelled=function(){return(65536&this._bitField)==65536},N.prototype._isCancelled=function(){return this._target().__isCancelled()},N.prototype.isCancelled=function(){return(8454144&this._target()._bitField)!=0},N.prototype.isPending=function(){return j.call(this._target())},N.prototype.isRejected=function(){return V.call(this._target())},N.prototype.isFulfilled=function(){return R.call(this._target())},N.prototype.isResolved=function(){return W.call(this._target())},N.prototype.value=function(){return I.call(this._target())},N.prototype.reason=function(){var z=this._target();return z._unsetRejectionIsUnhandled(),A.call(z)},N.prototype._value=function(){return this._settledValue()},N.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},N.PromiseInspection=P}},{}],20:[function(T,O,L){O.exports=function(N,P){var I=T("./util"),A=I.errorObj,R=I.isObject,V={}.hasOwnProperty;return function(j,W){if(R(j)){if(j instanceof N)return j;var z=function(K){try{return function(Y){return Y.then}(K)}catch(Y){return A.e=Y,A}}(j);if(z===A){W&&W._pushContext();var B=N.reject(z.e);return W&&W._popContext(),B}if(typeof z=="function")return function(K){try{return V.call(K,"_promise0")}catch{return!1}}(j)?(B=new N(P),j._then(B._fulfill,B._reject,void 0,B,null),B):function(K,Y,Z){var X=new N(P),le=X;Z&&Z._pushContext(),X._captureStackTrace(),Z&&Z._popContext();var xe=!0,$e=I.tryCatch(Y).call(K,function(Ee){X&&(X._resolveCallback(Ee),X=null)},function(Ee){X&&(X._rejectCallback(Ee,xe,!0),X=null)});return xe=!1,X&&$e===A&&(X._rejectCallback($e.e,!0,!0),X=null),le}(j,z,W)}return j}}},{"./util":21}],21:[function(T,O,L){var N=T("./es5"),P=typeof navigator>"u",I={e:{}},A,R=typeof self<"u"?self:typeof window<"u"?window:l!==void 0?l:this!==void 0?this:null;function V(){try{var se=A;return A=null,se.apply(this,arguments)}catch(Me){return I.e=Me,I}}function j(se){return A=se,V}var W=function(se,Me){var nt={}.hasOwnProperty;function et(){for(var We in this.constructor=se,this.constructor$=Me,Me.prototype)nt.call(Me.prototype,We)&&We.charAt(We.length-1)!=="$"&&(this[We+"$"]=Me.prototype[We])}return et.prototype=Me.prototype,se.prototype=new et,se.prototype};function z(se){return se==null||se===!0||se===!1||typeof se=="string"||typeof se=="number"}function B(se){return typeof se=="function"||C(se)==="object"&&se!==null}function K(se){return z(se)?new Error(ze(se)):se}function Y(se,Me){var nt,et=se.length,We=new Array(et+1);for(nt=0;nt<et;++nt)We[nt]=se[nt];return We[nt]=Me,We}function Z(se,Me,nt){if(!N.isES5)return{}.hasOwnProperty.call(se,Me)?se[Me]:void 0;var et=Object.getOwnPropertyDescriptor(se,Me);return et!=null?et.get==null&&et.set==null?et.value:nt:void 0}function X(se,Me,nt){if(z(se))return se;var et={value:nt,configurable:!0,enumerable:!1,writable:!0};return N.defineProperty(se,Me,et),se}function le(se){throw se}var xe=function(){var se=[Array.prototype,Object.prototype,Function.prototype],Me=function(We){for(var pt=0;pt<se.length;++pt)if(se[pt]===We)return!0;return!1};if(N.isES5){var nt=Object.getOwnPropertyNames;return function(We){for(var pt=[],bn=Object.create(null);We!=null&&!Me(We);){var cr;try{cr=nt(We)}catch{return pt}for(var wi=0;wi<cr.length;++wi){var $r=cr[wi];if(!bn[$r]){bn[$r]=!0;var Yr=Object.getOwnPropertyDescriptor(We,$r);Yr!=null&&Yr.get==null&&Yr.set==null&&pt.push($r)}}We=N.getPrototypeOf(We)}return pt}}var et={}.hasOwnProperty;return function(We){if(Me(We))return[];var pt=[];e:for(var bn in We)if(et.call(We,bn))pt.push(bn);else{for(var cr=0;cr<se.length;++cr)if(et.call(se[cr],bn))continue e;pt.push(bn)}return pt}}(),$e=/this\s*\.\s*\S+\s*=/;function Ee(se){try{if(typeof se=="function"){var Me=N.names(se.prototype),nt=N.isES5&&Me.length>1,et=Me.length>0&&!(Me.length===1&&Me[0]==="constructor"),We=$e.test(se+"")&&N.names(se).length>0;if(nt||et||We)return!0}return!1}catch{return!1}}function tt(se){function Me(){}Me.prototype=se;var nt=new Me;function et(){return C(nt.foo)}return et(),et(),se}var fe=/^[a-z$_][a-z$_0-9]*$/i;function me(se){return fe.test(se)}function Ce(se,Me,nt){for(var et=new Array(se),We=0;We<se;++We)et[We]=Me+We+nt;return et}function ze(se){try{return se+""}catch{return"[no string representation]"}}function Ye(se){return se instanceof Error||se!==null&&C(se)==="object"&&typeof se.message=="string"&&typeof se.name=="string"}function Ht(se){try{X(se,"isOperational",!0)}catch{}}function Rt(se){return se!=null&&(se instanceof Error.__BluebirdErrorTypes__.OperationalError||se.isOperational===!0)}function vn(se){return Ye(se)&&N.propertyIsWritable(se,"stack")}var mt="stack"in new Error?function(se){return vn(se)?se:new Error(ze(se))}:function(se){if(vn(se))return se;try{throw new Error(ze(se))}catch(Me){return Me}};function Jt(se){return{}.toString.call(se)}function ce(se,Me,nt){for(var et=N.names(se),We=0;We<et.length;++We){var pt=et[We];if(nt(pt))try{N.defineProperty(Me,pt,N.getDescriptor(se,pt))}catch{}}}var Kr=function(se){return N.isArray(se)?se:null};if(typeof Symbol<"u"&&Symbol.iterator){var pa=typeof Array.from=="function"?function(se){return Array.from(se)}:function(se){for(var Me,nt=[],et=se[Symbol.iterator]();!(Me=et.next()).done;)nt.push(Me.value);return nt};Kr=function(se){return N.isArray(se)?se:se!=null&&typeof se[Symbol.iterator]=="function"?pa(se):null}}var yn=a!==void 0&&Jt(a).toLowerCase()==="[object process]",ne=a!==void 0&&a.env!==void 0,de;function we(se){return ne?a.env[se]:void 0}function De(){if(typeof Promise=="function")try{if(Jt(new Promise(function(){}))==="[object Promise]")return Promise}catch{}}function He(se,Me){if(se===null||typeof Me!="function"||Me===de)return Me;se.domain!==null&&(Me=se.domain.bind(Me));var nt=se.async;if(nt!==null){var et=Me;Me=function(){var We=new Array(2).concat([].slice.call(arguments));return We[0]=et,We[1]=this,nt.runInAsyncScope.apply(nt,We)}}return Me}var Ve={setReflectHandler:function(se){de=se},isClass:Ee,isIdentifier:me,inheritedDataKeys:xe,getDataPropertyOrDefault:Z,thrower:le,isArray:N.isArray,asArray:Kr,notEnumerableProp:X,isPrimitive:z,isObject:B,isError:Ye,canEvaluate:P,errorObj:I,tryCatch:j,inherits:W,withAppended:Y,maybeWrapAsError:K,toFastProperties:tt,filledRange:Ce,toString:ze,canAttachTrace:vn,ensureErrorObject:mt,originatesFromRejection:Rt,markAsOriginatingFromRejection:Ht,classString:Jt,copyDescriptors:ce,isNode:yn,hasEnvVariables:ne,env:we,global:R,getNativePromise:De,contextBind:He};Ve.isRecentNode=Ve.isNode&&function(){var se;return a.versions&&a.versions.node?se=a.versions.node.split(".").map(Number):a.version&&(se=a.version.split(".").map(Number)),se[0]===0&&se[1]>10||se[0]>0}(),Ve.nodeSupportsAsyncResource=Ve.isNode&&function(){var se=!1;try{se=typeof T("async_hooks").AsyncResource.prototype.runInAsyncScope=="function"}catch{se=!1}return se}(),Ve.isNode&&Ve.toFastProperties(a);try{throw new Error}catch(se){Ve.lastLineError=se}O.exports=Ve},{"./es5":10,async_hooks:void 0}]},{},[3])(3)}),typeof window<"u"&&window!==null?window.P=window.Promise:typeof self<"u"&&self!==null&&(self.P=self.Promise)}).call(this,i(5),i(1),i(7).setImmediate)},function(n,r,i){(function(a){var l=a!==void 0&&a||typeof self<"u"&&self||window,h=Function.prototype.apply;function _(g,k){this._id=g,this._clearFn=k}r.setTimeout=function(){return new _(h.call(setTimeout,l,arguments),clearTimeout)},r.setInterval=function(){return new _(h.call(setInterval,l,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(g){g&&g.close()},_.prototype.unref=_.prototype.ref=function(){},_.prototype.close=function(){this._clearFn.call(l,this._id)},r.enroll=function(g,k){clearTimeout(g._idleTimeoutId),g._idleTimeout=k},r.unenroll=function(g){clearTimeout(g._idleTimeoutId),g._idleTimeout=-1},r._unrefActive=r.active=function(g){clearTimeout(g._idleTimeoutId);var k=g._idleTimeout;k>=0&&(g._idleTimeoutId=setTimeout(function(){g._onTimeout&&g._onTimeout()},k))},i(8),r.setImmediate=typeof self<"u"&&self.setImmediate||a!==void 0&&a.setImmediate||this&&this.setImmediate,r.clearImmediate=typeof self<"u"&&self.clearImmediate||a!==void 0&&a.clearImmediate||this&&this.clearImmediate}).call(this,i(1))},function(n,r,i){(function(a,l){(function(h,_){if(!h.setImmediate){var g,k=1,C={},T=!1,O=h.document,L=Object.getPrototypeOf&&Object.getPrototypeOf(h);L=L&&L.setTimeout?L:h,{}.toString.call(h.process)==="[object process]"?g=function(I){l.nextTick(function(){P(I)})}:function(){if(h.postMessage&&!h.importScripts){var I=!0,A=h.onmessage;return h.onmessage=function(){I=!1},h.postMessage("","*"),h.onmessage=A,I}}()?function(){var I="setImmediate$"+Math.random()+"$",A=function(R){R.source===h&&typeof R.data=="string"&&R.data.indexOf(I)===0&&P(+R.data.slice(I.length))};h.addEventListener?h.addEventListener("message",A,!1):h.attachEvent("onmessage",A),g=function(R){h.postMessage(I+R,"*")}}():h.MessageChannel?function(){var I=new MessageChannel;I.port1.onmessage=function(A){P(A.data)},g=function(A){I.port2.postMessage(A)}}():O&&"onreadystatechange"in O.createElement("script")?function(){var I=O.documentElement;g=function(A){var R=O.createElement("script");R.onreadystatechange=function(){P(A),R.onreadystatechange=null,I.removeChild(R),R=null},I.appendChild(R)}}():g=function(I){setTimeout(P,0,I)},L.setImmediate=function(I){typeof I!="function"&&(I=new Function(""+I));for(var A=new Array(arguments.length-1),R=0;R<A.length;R++)A[R]=arguments[R+1];var V={callback:I,args:A};return C[k]=V,g(k),k++},L.clearImmediate=N}function N(I){delete C[I]}function P(I){if(T)setTimeout(P,0,I);else{var A=C[I];if(A){T=!0;try{(function(R){var V=R.callback,j=R.args;switch(j.length){case 0:V();break;case 1:V(j[0]);break;case 2:V(j[0],j[1]);break;case 3:V(j[0],j[1],j[2]);break;default:V.apply(_,j)}})(A)}finally{N(I),T=!1}}}}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,i(1),i(5))},function(n,r,i){i.r(r),i.d(r,"scheduler",function(){return Lc}),i.d(r,"Scheduler",function(){return ov});var a=i(0);i(4);function l(s){function w(c){var u=document.createElement("div");return(c||"").split(" ").forEach(function(f){u.classList.add(f)}),u}var d={rows_container:function(){return w("dhx_cal_navbar_rows_container")},row:function(){return w("dhx_cal_navbar_row")},view:function(c){var u=w("dhx_cal_tab");return u.setAttribute("name",c.view+"_tab"),u.setAttribute("data-tab",c.view),s.config.fix_tab_position&&(c.$firstTab?u.classList.add("dhx_cal_tab_first"):c.$lastTab?u.classList.add("dhx_cal_tab_last"):c.view!=="week"&&u.classList.add("dhx_cal_tab_standalone")),u},date:function(){return w("dhx_cal_date")},button:function(c){return w("dhx_cal_nav_button dhx_cal_nav_button_custom dhx_cal_tab")},builtInButton:function(c){return w("dhx_cal_"+c.view+"_button dhx_cal_nav_button")},spacer:function(){return w("dhx_cal_line_spacer")},minicalendarButton:function(c){var u=w("dhx_minical_icon");return c.click||u.$_eventAttached||s.event(u,"click",function(){s.isCalendarVisible()?s.destroyCalendar():s.renderCalendar({position:this,date:s.getState().date,navigation:!0,handler:function(f,y){s.setCurrentView(f),s.destroyCalendar()}})}),u},html_element:function(c){return w("dhx_cal_nav_content")}};function m(c){var u=function(x){var v;if(x.view)switch(x.view){case"today":case"next":case"prev":v=d.builtInButton;break;case"date":v=d.date;break;case"spacer":v=d.spacer;break;case"button":v=d.button;break;case"minicalendar":v=d.minicalendarButton;break;default:v=d.view}else x.rows?v=d.rows_container:x.cols&&(v=d.row);return v}(c);if(u){var f=u(c);if(c.css&&f.classList.add(c.css),c.width&&((y=c.width)===1*y&&(y+="px"),f.style.width=y),c.height&&((y=c.height)===1*y&&(y+="px"),f.style.height=y),c.click&&f.addEventListener("click",c.click),c.html&&(f.innerHTML=c.html),c.align){var y="";c.align=="right"?y="flex-end":c.align=="left"&&(y="flex-start"),f.style.justifyContent=y}return f}}function p(c){return typeof c=="string"&&(c={view:c}),c.view||c.rows||c.cols||(c.view="button"),c}s._init_nav_bar=function(c){var u=this.$container.querySelector(".dhx_cal_navline");return u||((u=document.createElement("div")).className="dhx_cal_navline dhx_cal_navline_flex",s._update_nav_bar(c,u),u)};var o=null;s._update_nav_bar=function(c,u){if(c){var f=!1,y=!1,x=c.height||s.xy.nav_height;o!==null&&o===x||(f=!0),y=!0,f&&(s.xy.nav_height=x),y&&(u.innerHTML="",u.appendChild(function v(E){var b,S=document.createDocumentFragment();b=Array.isArray(E)?E:[E];for(var D=0;D<b.length;D++){var M,U=p(b[D]);U.view==="day"&&b[D+1]&&((M=p(b[D+1])).view!=="week"&&M.view!=="month"||(U.$firstTab=!0)),U.view==="month"&&b[D-1]&&((M=p(b[D-1])).view!=="week"&&M.view!=="day"||(U.$lastTab=!0));var F=m(U);S.appendChild(F),(U.cols||U.rows)&&F.appendChild(v(U.cols||U.rows))}return S}(c))),(f||y)&&(s.unset_actions(),s._els=[],s.get_elements(),s.set_actions()),u.style.display=x===0?"none":"",o=x}}}function h(s){function w(o){for(var c=document.body;o&&o!=c;)o=o.parentNode;return c==o}function d(o){return{w:o.innerWidth||document.documentElement.clientWidth,h:o.innerHeight||document.documentElement.clientHeight}}function m(o,c){var u,f=d(c);o.event(c,"resize",function(){clearTimeout(u),u=setTimeout(function(){if(w(o.$container)){var y=d(c);(function(x,v){return x.w==v.w&&x.h==v.h})(f,y)||(f=y,p(o))}},150)})}function p(o){!o.$destroyed&&o.$root&&w(o.$root)&&o.callEvent("onSchedulerResize",[])&&(o.updateView(),o.callEvent("onAfterSchedulerResize",[]))}(function(o){var c=o.$container;window.getComputedStyle(c).getPropertyValue("position")=="static"&&(c.style.position="relative");var u=document.createElement("iframe");u.className="scheduler_container_resize_watcher",u.tabIndex=-1,o.config.wai_aria_attributes&&(u.setAttribute("role","none"),u.setAttribute("aria-hidden",!0)),window.Sfdc||window.$A||window.Aura?function(f){var y=f.$root.offsetHeight,x=f.$root.offsetWidth;(function v(){f.$destroyed||(f.$root&&(f.$root.offsetHeight==y&&f.$root.offsetWidth==x||p(f),y=f.$root.offsetHeight,x=f.$root.offsetWidth),setTimeout(v,200))})()}(o):(c.appendChild(u),u.contentWindow?m(o,u.contentWindow):(c.removeChild(u),m(o,window)))})(s)}function _(s,w){for(var d=0;d<w.length;d++){var m=w[d];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(s,m.key,m)}}var g=function(){function s(){(function(w,d){if(!(w instanceof d))throw new TypeError("Cannot call a class as a function")})(this,s),this._silent_mode=!1,this.listeners={}}return function(w,d,m){d&&_(w.prototype,d),m&&_(w,m)}(s,[{key:"_silentStart",value:function(){this._silent_mode=!0}},{key:"_silentEnd",value:function(){this._silent_mode=!1}}]),s}(),k=function(s){var w={},d=0,m=function(){var p=!0;for(var o in w){var c=w[o].apply(s,arguments);p=p&&c}return p};return m.addEvent=function(p,o){if(typeof p=="function"){var c;if(o&&o.id?c=o.id:(c=d,d++),o&&o.once){var u=p;p=function(){u(),m.removeEvent(c)}}return w[c]=p,c}return!1},m.removeEvent=function(p){delete w[p]},m.clear=function(){w={}},m},C=function(s){var w=new g;s.attachEvent=function(d,m,p){d="ev_"+d.toLowerCase(),w.listeners[d]||(w.listeners[d]=k(this)),p&&p.thisObject&&(m=m.bind(p.thisObject));var o=d+":"+w.listeners[d].addEvent(m,p);return p&&p.id&&(o=p.id),o},s.attachAll=function(d){this.attachEvent("listen_all",d)},s.callEvent=function(d,m){if(w._silent_mode)return!0;var p="ev_"+d.toLowerCase(),o=w.listeners;return o.ev_listen_all&&o.ev_listen_all.apply(this,[d].concat(m)),!o[p]||o[p].apply(this,m)},s.checkEvent=function(d){return!!w.listeners["ev_"+d.toLowerCase()]},s.detachEvent=function(d){if(d){var m=w.listeners;for(var p in m)m[p].removeEvent(d);var o=d.split(":");if(m=w.listeners,o.length===2){var c=o[0],u=o[1];m[c]&&m[c].removeEvent(u)}}},s.detachAllEvents=function(){for(var d in w.listeners)w.listeners[d].clear()}};function T(s){return(T=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}var O={event:function(s,w,d){s.addEventListener?s.addEventListener(w,d,!1):s.attachEvent&&s.attachEvent("on"+w,d)},eventRemove:function(s,w,d){s.removeEventListener?s.removeEventListener(w,d,!1):s.detachEvent&&s.detachEvent("on"+w,d)}},L=function(){return function s(w,d){w=w||O.event,d=d||O.eventRemove;var m=[],p={attach:function(o,c,u,f){m.push({element:o,event:c,callback:u,capture:f}),w(o,c,u,f)},detach:function(o,c,u,f){d(o,c,u,f);for(var y=0;y<m.length;y++){var x=m[y];x.element===o&&x.event===c&&x.callback===u&&x.capture===f&&(m.splice(y,1),y--)}},detachAll:function(){for(var o=m.slice(),c=0;c<o.length;c++){var u=o[c];p.detach(u.element,u.event,u.callback,u.capture),p.detach(u.element,u.event,u.callback,void 0),p.detach(u.element,u.event,u.callback,!1),p.detach(u.element,u.event,u.callback,!0)}m.splice(0,m.length)},extend:function(){return s(this.event,this.eventRemove)}};return p}()};function N(s){return(N=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}function P(s){return(P=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}function I(s){return(I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}var A=Date.now();function R(s){return!(!s||I(s)!=="object")&&!!(s.getFullYear&&s.getMonth&&s.getDate)}var V={uid:function(){return A++},mixin:function(s,w,d){for(var m in w)(s[m]===void 0||d)&&(s[m]=w[m]);return s},copy:function s(w){var d,m;if(w&&I(w)=="object")switch(!0){case R(w):m=new Date(w);break;case function(p){return Array.isArray?Array.isArray(p):p&&p.length!==void 0&&p.pop&&p.push}(w):for(m=new Array(w.length),d=0;d<w.length;d++)m[d]=s(w[d]);break;case function(p){return p&&I(p)==="object"&&Function.prototype.toString.call(p.constructor)==="function String() { [native code] }"}(w):m=new String(w);break;case function(p){return p&&I(p)==="object"&&Function.prototype.toString.call(p.constructor)==="function Number() { [native code] }"}(w):m=new Number(w);break;case function(p){return p&&I(p)==="object"&&Function.prototype.toString.call(p.constructor)==="function Boolean() { [native code] }"}(w):m=new Boolean(w);break;default:for(d in m={},w)Object.prototype.hasOwnProperty.apply(w,[d])&&(m[d]=s(w[d]))}return m||w},defined:function(s){return s!==void 0},isDate:R};function j(s){if(!s)return"";var w=s.className||"";return w.baseVal&&(w=w.baseVal),w.indexOf||(w=""),w||""}function W(s,w,d){d===void 0&&(d=!0);for(var m=s.target||s.srcElement,p="";m;){if(p=j(m)){var o=p.indexOf(w);if(o>=0){if(!d)return m;var c=o===0||!(p.charAt(o-1)||"").trim(),u=o+w.length>=p.length||!p.charAt(o+w.length).trim();if(c&&u)return m}}m=m.parentNode}return null}function z(s){var w=!1,d=!1;if(window.getComputedStyle){var m=window.getComputedStyle(s,null);w=m.display,d=m.visibility}else s.currentStyle&&(w=s.currentStyle.display,d=s.currentStyle.visibility);var p=!1,o=W({target:s},"dhx_form_repeat",!1);return o&&(p=o.style.height=="0px"),p=p||!s.offsetHeight,w!="none"&&d!="hidden"&&!p}function B(s){return!isNaN(s.getAttribute("tabindex"))&&1*s.getAttribute("tabindex")>=0}function K(s){return!{a:!0,area:!0}[s.nodeName.loLowerCase()]||!!s.getAttribute("href")}function Y(s){return!{input:!0,select:!0,textarea:!0,button:!0,object:!0}[s.nodeName.toLowerCase()]||!s.hasAttribute("disabled")}function Z(){return document.head.createShadowRoot||document.head.attachShadow}function X(s){if(!s||!Z())return document.body;for(;s.parentNode&&(s=s.parentNode);)if(s instanceof ShadowRoot)return s.host;return document.body}var le,xe={getAbsoluteLeft:function(s){return this.getOffset(s).left},getAbsoluteTop:function(s){return this.getOffset(s).top},getOffsetSum:function(s){for(var w=0,d=0;s;)w+=parseInt(s.offsetTop),d+=parseInt(s.offsetLeft),s=s.offsetParent;return{top:w,left:d}},getOffsetRect:function(s){var w=s.getBoundingClientRect(),d=0,m=0;if(/Mobi/.test(navigator.userAgent)){var p=document.createElement("div");p.style.position="absolute",p.style.left="0px",p.style.top="0px",p.style.width="1px",p.style.height="1px",document.body.appendChild(p);var o=p.getBoundingClientRect();d=w.top-o.top,m=w.left-o.left,p.parentNode.removeChild(p)}else{var c=document.body,u=document.documentElement,f=window.pageYOffset||u.scrollTop||c.scrollTop,y=window.pageXOffset||u.scrollLeft||c.scrollLeft,x=u.clientTop||c.clientTop||0,v=u.clientLeft||c.clientLeft||0;d=w.top+f-x,m=w.left+y-v}return{top:Math.round(d),left:Math.round(m)}},getOffset:function(s){return s.getBoundingClientRect?this.getOffsetRect(s):this.getOffsetSum(s)},closest:function(s,w){return s&&w?le(s,w):null},insertAfter:function(s,w){w.nextSibling?w.parentNode.insertBefore(s,w.nextSibling):w.parentNode.appendChild(s)},remove:function(s){s&&s.parentNode&&s.parentNode.removeChild(s)},getFocusableNodes:function(s){for(var w=s.querySelectorAll(["a[href]","area[href]","input","select","textarea","button","iframe","object","embed","[tabindex]","[contenteditable]"].join(", ")),d=Array.prototype.slice.call(w,0),m=0;m<d.length;m++)d[m].$position=m;for(d.sort(function(o,c){return o.tabIndex===0&&c.tabIndex!==0?1:o.tabIndex!==0&&c.tabIndex===0?-1:o.tabIndex===c.tabIndex?o.$position-c.$position:o.tabIndex<c.tabIndex?-1:1}),m=0;m<d.length;m++){var p=d[m];(B(p)||Y(p)||K(p))&&z(p)||(d.splice(m,1),m--)}return d},getClassName:j,locateCss:W,getRootNode:X,hasShadowParent:function(s){return!!X(s)},isShadowDomSupported:Z,getActiveElement:function(){var s=document.activeElement;return s.shadowRoot&&(s=s.shadowRoot.activeElement),s===document.body&&document.getSelection&&(s=document.getSelection().focusNode||document.body),s},getRelativeEventPosition:function(s,w){var d=document.documentElement,m=function(p){var o=0,c=0,u=0,f=0;if(p.getBoundingClientRect){var y=p.getBoundingClientRect(),x=document.body,v=document.documentElement||document.body.parentNode||document.body,E=window.pageYOffset||v.scrollTop||x.scrollTop,b=window.pageXOffset||v.scrollLeft||x.scrollLeft,S=v.clientTop||x.clientTop||0,D=v.clientLeft||x.clientLeft||0;o=y.top+E-S,c=y.left+b-D,u=document.body.offsetWidth-y.right,f=document.body.offsetHeight-y.bottom}else{for(;p;)o+=parseInt(p.offsetTop,10),c+=parseInt(p.offsetLeft,10),p=p.offsetParent;u=document.body.offsetWidth-p.offsetWidth-c,f=document.body.offsetHeight-p.offsetHeight-o}return{y:Math.round(o),x:Math.round(c),width:p.offsetWidth,height:p.offsetHeight,right:Math.round(u),bottom:Math.round(f)}}(w);return{x:s.clientX+d.scrollLeft-d.clientLeft-m.x+w.scrollLeft,y:s.clientY+d.scrollTop-d.clientTop-m.y+w.scrollTop}}};if(Element.prototype.closest)le=function(s,w){return s.closest(w)};else{var $e=Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;le=function(s,w){var d=s;do{if($e.call(d,w))return d;d=d.parentElement||d.parentNode}while(d!==null&&d.nodeType===1);return null}}var Ee=typeof window<"u",tt={isIE:Ee&&(navigator.userAgent.indexOf("MSIE")>=0||navigator.userAgent.indexOf("Trident")>=0),isIE6:Ee&&!XMLHttpRequest&&navigator.userAgent.indexOf("MSIE")>=0,isIE7:Ee&&navigator.userAgent.indexOf("MSIE 7.0")>=0&&navigator.userAgent.indexOf("Trident")<0,isIE8:Ee&&navigator.userAgent.indexOf("MSIE 8.0")>=0&&navigator.userAgent.indexOf("Trident")>=0,isOpera:Ee&&navigator.userAgent.indexOf("Opera")>=0,isChrome:Ee&&navigator.userAgent.indexOf("Chrome")>=0,isKHTML:Ee&&(navigator.userAgent.indexOf("Safari")>=0||navigator.userAgent.indexOf("Konqueror")>=0),isFF:Ee&&navigator.userAgent.indexOf("Firefox")>=0,isIPad:Ee&&navigator.userAgent.search(/iPad/gi)>=0,isEdge:Ee&&navigator.userAgent.indexOf("Edge")!=-1,isNode:!Ee||typeof navigator>"u"},fe=i(6).Promise,me=i(3),Ce=i.n(me);function ze(s){return(ze=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}function Ye(s){var w=function(o,c){for(var u="var temp=date.match(/[a-zA-Z]+|[0-9]+/g);",f=o.match(/%[a-zA-Z]/g),y=0;y<f.length;y++)switch(f[y]){case"%j":case"%d":u+="set[2]=temp["+y+"]||1;";break;case"%n":case"%m":u+="set[1]=(temp["+y+"]||1)-1;";break;case"%y":u+="set[0]=temp["+y+"]*1+(temp["+y+"]>50?1900:2000);";break;case"%g":case"%G":case"%h":case"%H":u+="set[3]=temp["+y+"]||0;";break;case"%i":u+="set[4]=temp["+y+"]||0;";break;case"%Y":u+="set[0]=temp["+y+"]||0;";break;case"%a":case"%A":u+="set[3]=set[3]%12+((temp["+y+"]||'').toLowerCase()=='am'?0:12);";break;case"%s":u+="set[5]=temp["+y+"]||0;";break;case"%M":u+="set[1]=this.locale.date.month_short_hash[temp["+y+"]]||0;";break;case"%F":u+="set[1]=this.locale.date.month_full_hash[temp["+y+"]]||0;"}var x="set[0],set[1],set[2],set[3],set[4],set[5]";return c&&(x=" Date.UTC("+x+")"),new Function("date","var set=[0,0,1,0,0,0]; "+u+" return new Date("+x+");")},d=function(o,c){return function(u){for(var f=[0,0,1,0,0,0],y=u.match(/[a-zA-Z]+|[0-9]+/g),x=o.match(/%[a-zA-Z]/g),v=0;v<x.length;v++)switch(x[v]){case"%j":case"%d":f[2]=y[v]||1;break;case"%n":case"%m":f[1]=(y[v]||1)-1;break;case"%y":f[0]=1*y[v]+(y[v]>50?1900:2e3);break;case"%g":case"%G":case"%h":case"%H":f[3]=y[v]||0;break;case"%i":f[4]=y[v]||0;break;case"%Y":f[0]=y[v]||0;break;case"%a":case"%A":f[3]=f[3]%12+((y[v]||"").toLowerCase()=="am"?0:12);break;case"%s":f[5]=y[v]||0;break;case"%M":f[1]=s.locale.date.month_short_hash[y[v]]||0;break;case"%F":f[1]=s.locale.date.month_full_hash[y[v]]||0}return c?new Date(Date.UTC(f[0],f[1],f[2],f[3],f[4],f[5])):new Date(f[0],f[1],f[2],f[3],f[4],f[5])}},m=!1;function p(){return s.config.csp==="auto"?m:s.config.csp}(function(){try{new Function("canUseCsp = false;")}catch{m=!0}})(),s.date={init:function(){for(var o=s.locale.date.month_short,c=s.locale.date.month_short_hash={},u=0;u<o.length;u++)c[o[u]]=u;for(o=s.locale.date.month_full,c=s.locale.date.month_full_hash={},u=0;u<o.length;u++)c[o[u]]=u},_bind_host_object:function(o){return o.bind?o.bind(s):function(){return o.apply(s,arguments)}},date_part:function(o){var c=new Date(o);return o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0),o.getHours()&&(o.getDate()<c.getDate()||o.getMonth()<c.getMonth()||o.getFullYear()<c.getFullYear())&&o.setTime(o.getTime()+36e5*(24-o.getHours())),o},time_part:function(o){return(o.valueOf()/1e3-60*o.getTimezoneOffset())%86400},week_start:function(o){var c=o.getDay();return s.config.start_on_monday&&(c===0?c=6:c--),this.date_part(this.add(o,-1*c,"day"))},month_start:function(o){return o.setDate(1),this.date_part(o)},year_start:function(o){return o.setMonth(0),this.month_start(o)},day_start:function(o){return this.date_part(o)},_add_days:function(o,c){var u=new Date(o.valueOf());if(u.setDate(u.getDate()+c),c==Math.round(c)&&c>0){var f=(+u-+o)%864e5;if(f&&o.getTimezoneOffset()==u.getTimezoneOffset()){var y=f/36e5;u.setTime(u.getTime()+60*(24-y)*60*1e3)}}return c>=0&&!o.getHours()&&u.getHours()&&(u.getDate()<o.getDate()||u.getMonth()<o.getMonth()||u.getFullYear()<o.getFullYear())&&u.setTime(u.getTime()+36e5*(24-u.getHours())),u},add:function(o,c,u){var f=new Date(o.valueOf());switch(u){case"day":f=s.date._add_days(f,c);break;case"week":f=s.date._add_days(f,7*c);break;case"month":f.setMonth(f.getMonth()+c);break;case"year":f.setYear(f.getFullYear()+c);break;case"hour":f.setTime(f.getTime()+60*c*60*1e3);break;case"minute":f.setTime(f.getTime()+60*c*1e3);break;default:return s.date["add_"+u](o,c,u)}return f},to_fixed:function(o){return o<10?"0"+o:o},copy:function(o){return new Date(o.valueOf())},date_to_str:function(o,c){if(p())return function(f,y){return function(x){return f.replace(/%[a-zA-Z]/g,function(v){switch(v){case"%d":return y?s.date.to_fixed(x.getUTCDate()):s.date.to_fixed(x.getDate());case"%m":return y?s.date.to_fixed(x.getUTCMonth()+1):s.date.to_fixed(x.getMonth()+1);case"%j":return y?x.getUTCDate():x.getDate();case"%n":return y?x.getUTCMonth()+1:x.getMonth()+1;case"%y":return y?s.date.to_fixed(x.getUTCFullYear()%100):s.date.to_fixed(x.getFullYear()%100);case"%Y":return y?x.getUTCFullYear():x.getFullYear();case"%D":return y?s.locale.date.day_short[x.getUTCDay()]:s.locale.date.day_short[x.getDay()];case"%l":return y?s.locale.date.day_full[x.getUTCDay()]:s.locale.date.day_full[x.getDay()];case"%M":return y?s.locale.date.month_short[x.getUTCMonth()]:s.locale.date.month_short[x.getMonth()];case"%F":return y?s.locale.date.month_full[x.getUTCMonth()]:s.locale.date.month_full[x.getMonth()];case"%h":return y?s.date.to_fixed((x.getUTCHours()+11)%12+1):s.date.to_fixed((x.getHours()+11)%12+1);case"%g":return y?(x.getUTCHours()+11)%12+1:(x.getHours()+11)%12+1;case"%G":return y?x.getUTCHours():x.getHours();case"%H":return y?s.date.to_fixed(x.getUTCHours()):s.date.to_fixed(x.getHours());case"%i":return y?s.date.to_fixed(x.getUTCMinutes()):s.date.to_fixed(x.getMinutes());case"%a":return y?x.getUTCHours()>11?"pm":"am":x.getHours()>11?"pm":"am";case"%A":return y?x.getUTCHours()>11?"PM":"AM":x.getHours()>11?"PM":"AM";case"%s":return y?s.date.to_fixed(x.getUTCSeconds()):s.date.to_fixed(x.getSeconds());case"%W":return y?s.date.to_fixed(s.date.getUTCISOWeek(x)):s.date.to_fixed(s.date.getISOWeek(x));default:return v}})}}(o,c);o=o.replace(/%[a-zA-Z]/g,function(f){switch(f){case"%d":return'"+this.date.to_fixed(date.getDate())+"';case"%m":return'"+this.date.to_fixed((date.getMonth()+1))+"';case"%j":return'"+date.getDate()+"';case"%n":return'"+(date.getMonth()+1)+"';case"%y":return'"+this.date.to_fixed(date.getFullYear()%100)+"';case"%Y":return'"+date.getFullYear()+"';case"%D":return'"+this.locale.date.day_short[date.getDay()]+"';case"%l":return'"+this.locale.date.day_full[date.getDay()]+"';case"%M":return'"+this.locale.date.month_short[date.getMonth()]+"';case"%F":return'"+this.locale.date.month_full[date.getMonth()]+"';case"%h":return'"+this.date.to_fixed((date.getHours()+11)%12+1)+"';case"%g":return'"+((date.getHours()+11)%12+1)+"';case"%G":return'"+date.getHours()+"';case"%H":return'"+this.date.to_fixed(date.getHours())+"';case"%i":return'"+this.date.to_fixed(date.getMinutes())+"';case"%a":return'"+(date.getHours()>11?"pm":"am")+"';case"%A":return'"+(date.getHours()>11?"PM":"AM")+"';case"%s":return'"+this.date.to_fixed(date.getSeconds())+"';case"%W":return'"+this.date.to_fixed(this.date.getISOWeek(date))+"';default:return f}}),c&&(o=o.replace(/date\.get/g,"date.getUTC"));var u=new Function("date",'return "'+o+'";');return s.date._bind_host_object(u)},str_to_date:function(o,c,u){var f=p()?d:w,y=f(o,c),x=/^[0-9]{4}(\-|\/)[0-9]{2}(\-|\/)[0-9]{2} ?(([0-9]{1,2}:[0-9]{1,2})(:[0-9]{1,2})?)?$/,v=/^[0-9]{2}\/[0-9]{2}\/[0-9]{4} ?(([0-9]{1,2}:[0-9]{2})(:[0-9]{1,2})?)?$/,E=/^[0-9]{2}\-[0-9]{2}\-[0-9]{4} ?(([0-9]{1,2}:[0-9]{1,2})(:[0-9]{1,2})?)?$/,b=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24\:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,S=f("%Y-%m-%d %H:%i:%s",c),D=f("%m/%d/%Y %H:%i:%s",c),M=f("%d-%m-%Y %H:%i:%s",c);return function(U){if(!u&&!s.config.parse_exact_format){if(U&&U.getISOWeek)return new Date(U);if(typeof U=="number")return new Date(U);if(function(F){return x.test(String(F))}(U))return S(U);if(function(F){return v.test(String(F))}(U))return D(U);if(function(F){return E.test(String(F))}(U))return M(U);if(function(F){return b.test(F)}(U))return new Date(U)}return y.call(s,U)}},getISOWeek:function(o){if(!o)return!1;var c=(o=this.date_part(new Date(o))).getDay();c===0&&(c=7);var u=new Date(o.valueOf());u.setDate(o.getDate()+(4-c));var f=u.getFullYear(),y=Math.round((u.getTime()-new Date(f,0,1).getTime())/864e5);return 1+Math.floor(y/7)},getUTCISOWeek:function(o){return this.getISOWeek(this.convert_to_utc(o))},convert_to_utc:function(o){return new Date(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate(),o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds())}}}function Ht(s){return(Ht=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}function Rt(s){return(Rt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}var vn=i(2),mt=i.n(vn);function Jt(s){return(Jt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}function ce(s){s._loaded={},s._load=function(d,m){if(d=d||this._load_url){var p;if(d+=(d.indexOf("?")==-1?"?":"&")+"timeshift="+new Date().getTimezoneOffset(),this.config.prevent_cache&&(d+="&uid="+this.uid()),m=m||this._date,this._load_mode){var o=this.templates.load_format;for(m=this.date[this._load_mode+"_start"](new Date(m.valueOf()));m>this._min_date;)m=this.date.add(m,-1,this._load_mode);p=m;for(var c=!0;p<this._max_date;)p=this.date.add(p,1,this._load_mode),this._loaded[o(m)]&&c?m=this.date.add(m,1,this._load_mode):c=!1;var u=p;do p=u,u=this.date.add(p,-1,this._load_mode);while(u>m&&this._loaded[o(u)]);if(p<=m)return!1;for(s.ajax.get(d+"&from="+o(m)+"&to="+o(p),f);m<p;)this._loaded[o(m)]=!0,m=this.date.add(m,1,this._load_mode)}else s.ajax.get(d,f);return this.callEvent("onXLS",[]),this.callEvent("onLoadStart",[]),!0}function f(y){s.on_load(y),s.callEvent("onLoadEnd",[])}},s._parsers={},function(d){d._parsers.xml={canParse:function(m,p){if(p.responseXML&&p.responseXML.firstChild)return!0;try{var o=d.ajax.parse(p.responseText),c=d.ajax.xmltop("data",o);if(c&&c.tagName==="data")return!0}catch{}return!1},parse:function(m){var p;if(m.xmlDoc.responseXML||(m.xmlDoc.responseXML=d.ajax.parse(m.xmlDoc.responseText)),(p=d.ajax.xmltop("data",m.xmlDoc)).tagName!="data")return null;var o=p.getAttribute("dhx_security");o&&(window.dhtmlx&&(window.dhtmlx.security_key=o),d.security_key=o);for(var c=d.ajax.xpath("//coll_options",m.xmlDoc),u=0;u<c.length;u++){var f=c[u].getAttribute("for"),y=d.serverList[f];y||(d.serverList[f]=y=[]),y.splice(0,y.length);for(var x=d.ajax.xpath(".//item",c[u]),v=0;v<x.length;v++){for(var E=x[v].attributes,b={key:x[v].getAttribute("value"),label:x[v].getAttribute("label")},S=0;S<E.length;S++){var D=E[S];D.nodeName!="value"&&D.nodeName!="label"&&(b[D.nodeName]=D.nodeValue)}y.push(b)}}c.length&&d.callEvent("onOptionsLoad",[]);var M=d.ajax.xpath("//userdata",m.xmlDoc);for(u=0;u<M.length;u++){var U=d._xmlNodeToJSON(M[u]);d._userdata[U.name]=U.text}var F=[];for(p=d.ajax.xpath("//event",m.xmlDoc),u=0;u<p.length;u++){var H=F[u]=d._xmlNodeToJSON(p[u]);d._init_event(H)}return F}}}(s),function(d){d.json=d._parsers.json={canParse:function(m){if(m&&Rt(m)==="object")return!0;if(typeof m=="string")try{var p=JSON.parse(m);return Object.prototype.toString.call(p)==="[object Object]"||Object.prototype.toString.call(p)==="[object Array]"}catch{return!1}return!1},parse:function(m){var p=[];typeof m=="string"&&(m=JSON.parse(m)),Object.prototype.toString.call(m)==="[object Array]"?p=m:m&&(m.events?p=m.events:m.data&&(p=m.data)),p=p||[],m.dhx_security&&(window.dhtmlx&&(window.dhtmlx.security_key=m.dhx_security),d.security_key=m.dhx_security);var o=m&&m.collections?m.collections:{},c=!1;for(var u in o)if(o.hasOwnProperty(u)){c=!0;var f=o[u],y=d.serverList[u];y||(d.serverList[u]=y=[]),y.splice(0,y.length);for(var x=0;x<f.length;x++){var v=f[x],E={key:v.value,label:v.label};for(var b in v)if(v.hasOwnProperty(b)){if(b=="value"||b=="label")continue;E[b]=v[b]}y.push(E)}}c&&d.callEvent("onOptionsLoad",[]);for(var S=[],D=0;D<p.length;D++){var M=p[D];d._init_event(M),S.push(M)}return S}}}(s),function(d){d.ical=d._parsers.ical={canParse:function(m){return typeof m=="string"&&new RegExp("^BEGIN:VCALENDAR").test(m)},parse:function(m){var p=m.match(RegExp(this.c_start+"[^\f]*"+this.c_end,""));if(p.length){p[0]=p[0].replace(/[\r\n]+ /g,""),p[0]=p[0].replace(/[\r\n]+(?=[a-z \t])/g," "),p[0]=p[0].replace(/;[^:\r\n]*:/g,":");for(var o,c=[],u=RegExp("(?:"+this.e_start+")([^\f]*?)(?:"+this.e_end+")","g");(o=u.exec(p))!==null;){for(var f,y={},x=/[^\r\n]+[\r\n]+/g;(f=x.exec(o[1]))!==null;)this.parse_param(f.toString(),y);y.uid&&!y.id&&(y.id=y.uid),c.push(y)}return c}},parse_param:function(m,p){var o=m.indexOf(":");if(o!=-1){var c=m.substr(0,o).toLowerCase(),u=m.substr(o+1).replace(/\\,/g,",").replace(/[\r\n]+$/,"");c=="summary"?c="text":c=="dtstart"?(c="start_date",u=this.parse_date(u,0,0)):c=="dtend"&&(c="end_date",u=this.parse_date(u,0,0)),p[c]=u}},parse_date:function(m,p,o){var c=m.split("T"),u=!1;c[1]&&(p=c[1].substr(0,2),o=c[1].substr(2,2),u=c[1][6]=="Z");var f=c[0].substr(0,4),y=parseInt(c[0].substr(4,2),10)-1,x=c[0].substr(6,2);return d.config.server_utc||u?new Date(Date.UTC(f,y,x,p,o)):new Date(f,y,x,p,o)},c_start:"BEGIN:VCALENDAR",e_start:"BEGIN:VEVENT",e_end:"END:VEVENT",c_end:"END:VCALENDAR"}}(s),s.on_load=function(d){var m;this.callEvent("onBeforeParse",[]);var p=!1,o=!1;for(var c in this._parsers){var u=this._parsers[c];if(u.canParse(d.xmlDoc.responseText,d.xmlDoc)){try{var f=d.xmlDoc.responseText;c==="xml"&&(f=d),(m=u.parse(f))||(p=!0)}catch{p=!0}o=!0;break}}if(!o)if(this._process&&this[this._process])try{m=this[this._process].parse(d.xmlDoc.responseText)}catch{p=!0}else p=!0;(p||d.xmlDoc.status&&d.xmlDoc.status>=400)&&(this.callEvent("onLoadError",[d.xmlDoc]),m=[]),this._process_loading(m),this.callEvent("onXLE",[]),this.callEvent("onParse",[])},s._process_loading=function(d){this._loading=!0,this._not_render=!0;for(var m=0;m<d.length;m++)this.callEvent("onEventLoading",[d[m]])&&this.addEvent(d[m]);this._not_render=!1,this._render_wait&&this.render_view_data(),this._loading=!1,this._after_call&&this._after_call(),this._after_call=null},s._init_event=function(d){d.text=d.text||d._tagvalue||"",d.start_date=s._init_date(d.start_date),d.end_date=s._init_date(d.end_date)},s._init_date=function(d){return d?typeof d=="string"?s._helpers.parseDate(d):new Date(d):null};var w=mt()(s);s.serialize=function(){var d=[],m=w();for(var p in m){var o={},c=m[p];for(var u in c)if(u.charAt(0)!="$"&&u.charAt(0)!="_"){var f=void 0,y=c[u];f=s.utils.isDate(y)?s.defined(s.templates.xml_format)?s.templates.xml_format(y):s.templates.format_date(y):y,o[u]=f}d.push(o)}return d},s.parse=function(d,m){this._process=m,this.on_load({xmlDoc:{responseText:d}})},s.load=function(d,m){typeof m=="string"&&(this._process=m,m=arguments[2]),this._load_url=d,this._after_call=m,this._load(d,this._date)},s.setLoadMode=function(d){d=="all"&&(d=""),this._load_mode=d},s.serverList=function(d,m){return m?(this.serverList[d]=m.slice(0),this.serverList[d]):(this.serverList[d]=this.serverList[d]||[],this.serverList[d])},s._userdata={},s._xmlNodeToJSON=function(d){for(var m={},p=0;p<d.attributes.length;p++)m[d.attributes[p].name]=d.attributes[p].value;for(p=0;p<d.childNodes.length;p++){var o=d.childNodes[p];o.nodeType==1&&(m[o.tagName]=o.firstChild?o.firstChild.nodeValue:"")}return m.text||(m.text=d.firstChild?d.firstChild.nodeValue:""),m},s.attachEvent("onXLS",function(){var d;this.config.show_loading===!0&&((d=this.config.show_loading=document.createElement("div")).className="dhx_loading",d.style.left=Math.round((this._x-128)/2)+"px",d.style.top=Math.round((this._y-15)/2)+"px",this._obj.appendChild(d))}),s.attachEvent("onXLE",function(){var d=this.config.show_loading;d&&Jt(d)=="object"&&(d.parentNode&&d.parentNode.removeChild(d),this.config.show_loading=!0)})}function Kr(s){s._init_touch_events=function(){if((this.config.touch&&(navigator.userAgent.indexOf("Mobile")!=-1||navigator.userAgent.indexOf("iPad")!=-1||navigator.userAgent.indexOf("Android")!=-1||navigator.userAgent.indexOf("Touch")!=-1)&&!window.MSStream||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&(this.xy.scroll_width=0,this._mobile=!0),this.config.touch){var w=!0;try{document.createEvent("TouchEvent")}catch{w=!1}w?this._touch_events(["touchmove","touchstart","touchend"],function(d){return d.touches&&d.touches.length>1?null:d.touches[0]?{target:d.target,pageX:d.touches[0].pageX,pageY:d.touches[0].pageY,clientX:d.touches[0].clientX,clientY:d.touches[0].clientY}:d},function(){return!1}):window.PointerEvent||window.navigator.pointerEnabled?this._touch_events(["pointermove","pointerdown","pointerup"],function(d){return d.pointerType=="mouse"?null:d},function(d){return!d||d.pointerType=="mouse"}):window.navigator.msPointerEnabled&&this._touch_events(["MSPointerMove","MSPointerDown","MSPointerUp"],function(d){return d.pointerType==d.MSPOINTER_TYPE_MOUSE?null:d},function(d){return!d||d.pointerType==d.MSPOINTER_TYPE_MOUSE})}},s._touch_events=function(w,d,m){var p,o,c,u,f,y,x=0;function v(b,S,D){b.addEventListener(S,function(M){return!!s._is_lightbox_open()||(m(M)?void 0:D(M))},{passive:!1})}function E(b){m(b)||(s._hide_global_tip(),u&&(s._on_mouse_up(d(b)),s._temp_touch_block=!1),s._drag_id=null,s._drag_mode=null,s._drag_pos=null,s._pointerDragId=null,clearTimeout(c),u=y=!1,f=!0)}v(document.body,w[0],function(b){if(!m(b)){var S=d(b);if(S){if(u)return function(D){if(!m(D)){var M=s.getState().drag_mode,U=!!s.matrix&&s.matrix[s._mode],F=s.render_view_data;M=="create"&&U&&(s.render_view_data=function(){for(var H=s.getState().drag_id,Q=s.getEvent(H),te=U.y_property,G=s.getEvents(Q.start_date,Q.end_date),re=0;re<G.length;re++)G[re][te]!=Q[te]&&(G.splice(re,1),re--);Q._sorder=G.length-1,Q._count=G.length,this.render_data([Q],s.getState().mode)}),s._on_mouse_move(D),M=="create"&&U&&(s.render_view_data=F),D.preventDefault&&D.preventDefault(),D.cancelBubble=!0}}(S),b.preventDefault&&b.preventDefault(),b.cancelBubble=!0,s._update_global_tip(),!1;o=d(b),y&&(o?(p.target!=o.target||Math.abs(p.pageX-o.pageX)>5||Math.abs(p.pageY-o.pageY)>5)&&(f=!0,clearTimeout(c)):f=!0)}}}),v(this._els.dhx_cal_data[0],"touchcancel",E),v(this._els.dhx_cal_data[0],"contextmenu",function(b){if(!m(b))return y?(b&&b.preventDefault&&b.preventDefault(),b.cancelBubble=!0,!1):void 0}),v(this._obj,w[1],function(b){var S;if(document&&document.body&&document.body.classList.add("dhx_cal_touch_active"),!m(b))if(s._pointerDragId=b.pointerId,u=f=!1,y=!0,S=o=d(b)){var D=new Date;if(!f&&!u&&D-x<250)return s._click.dhx_cal_data(S),window.setTimeout(function(){S.type="dblclick",s._on_dbl_click(S)},50),b.preventDefault&&b.preventDefault(),b.cancelBubble=!0,s._block_next_stop=!0,!1;if(x=D,!f&&!u&&s.config.touch_drag){var M=s._locate_event(document.activeElement),U=s._locate_event(S.target),F=p?s._locate_event(p.target):null;if(M&&U&&M==U&&M!=F)return b.preventDefault&&b.preventDefault(),b.cancelBubble=!0,s._ignore_next_click=!1,s._click.dhx_cal_data(S),p=S,!1;c=setTimeout(function(){u=!0;var H=p.target,Q=s._getClassName(H);H&&Q.indexOf("dhx_body")!=-1&&(H=H.previousSibling),s._on_mouse_down(p,H),s._drag_mode&&s._drag_mode!="create"&&s.for_rendered(s._drag_id,function(te,G){te.style.display="none",s._rendered.splice(G,1)}),s.config.touch_tip&&s._show_global_tip(),s.updateEvent(s._drag_id)},s.config.touch_drag),p=S}}else f=!0}),v(this._els.dhx_cal_data[0],w[2],function(b){if(document&&document.body&&document.body.classList.remove("dhx_cal_touch_active"),!m(b))return s.config.touch_swipe_dates&&!u&&function(S,D,M,U){if(!S||!D)return!1;for(var F=S.target;F&&F!=s._obj;)F=F.parentNode;if(F!=s._obj||s.matrix&&s.matrix[s.getState().mode]&&s.matrix[s.getState().mode].scrollable)return!1;var H=Math.abs(S.pageY-D.pageY),Q=Math.abs(S.pageX-D.pageX);return H<U&&Q>M&&(!H||Q/H>3)&&(S.pageX>D.pageX?s._click.dhx_cal_next_button():s._click.dhx_cal_prev_button(),!0)}(p,o,200,100)&&(s._block_next_stop=!0),u&&(s._ignore_next_click=!0,setTimeout(function(){s._ignore_next_click=!1},100)),E(b),s._block_next_stop?(s._block_next_stop=!1,b.preventDefault&&b.preventDefault(),b.cancelBubble=!0,!1):void 0}),s.event(document.body,w[2],E)},s._show_global_tip=function(){s._hide_global_tip();var w=s._global_tip=document.createElement("div");w.className="dhx_global_tip",s._update_global_tip(1),document.body.appendChild(w)},s._update_global_tip=function(w){var d=s._global_tip;if(d){var m="";if(s._drag_id&&!w){var p=s.getEvent(s._drag_id);p&&(m="<div>"+(p._timed?s.templates.event_header(p.start_date,p.end_date,p):s.templates.day_date(p.start_date,p.end_date,p))+"</div>")}s._drag_mode=="create"||s._drag_mode=="new-size"?d.innerHTML=(s.locale.labels.drag_to_create||"Drag to create")+m:d.innerHTML=(s.locale.labels.drag_to_move||"Drag to move")+m}},s._hide_global_tip=function(){var w=s._global_tip;w&&w.parentNode&&(w.parentNode.removeChild(w),s._global_tip=0)}}function pa(s){var w,d;function m(){if(s._is_material_skin())return!0;if(d!==void 0)return d;var o=document.createElement("div");o.style.position="absolute",o.style.left="-9999px",o.style.top="-9999px",o.innerHTML="<div class='dhx_cal_container'><div class='dhx_cal_data'><div class='dhx_cal_event'><div class='dhx_body'></div></div><div>",document.body.appendChild(o);var c=window.getComputedStyle(o.querySelector(".dhx_body")).getPropertyValue("box-sizing");document.body.removeChild(o),(d=c==="border-box")||setTimeout(function(){d=void 0},1e3)}function p(){if(!s._is_material_skin()&&!s._border_box_events()){var o=d;d=void 0,w=void 0,o!==m()&&s.$container&&s.getState().mode&&s.setCurrentView()}}s._skin_settings={fix_tab_position:[1,0],use_select_menu_space:[1,0],wide_form:[1,0],hour_size_px:[44,42],displayed_event_color:["#ff4a4a","ffc5ab"],displayed_event_text_color:["#ffef80","7e2727"]},s._skin_xy={lightbox_additional_height:[90,50],nav_height:[59,22],bar_height:[24,20]},s._is_material_skin=function(){return s.skin?(s.skin+"").indexOf("material")>-1:function(){if(w===void 0){var o=document.createElement("div");o.style.position="absolute",o.style.left="-9999px",o.style.top="-9999px",o.innerHTML="<div class='dhx_cal_container'><div class='dhx_cal_scale_placeholder'></div><div>",document.body.appendChild(o);var c=window.getComputedStyle(o.querySelector(".dhx_cal_scale_placeholder")),u=c.getPropertyValue("position");w=u==="absolute",setTimeout(function(){w=null},500)}return w}()},window.addEventListener("DOMContentLoaded",p),window.addEventListener("load",p),s._border_box_events=function(){return m()},s._configure=function(o,c,u){for(var f in c)o[f]===void 0&&(o[f]=c[f][u])},s._skin_init=function(){if(!s.skin)for(var o=document.getElementsByTagName("link"),c=0;c<o.length;c++){var u=o[c].href.match("dhtmlxscheduler_([a-z]+).css");if(u){s.skin=u[1];break}}var f=0;if(!s.skin||s.skin!=="classic"&&s.skin!=="glossy"||(f=1),s._is_material_skin()){var y=s.config.buttons_left.$initial,x=s.config.buttons_right.$initial;if(y&&s.config.buttons_left.slice().join()==y&&x&&s.config.buttons_right.slice().join()==x){var v=s.config.buttons_left.slice();s.config.buttons_left=s.config.buttons_right.slice(),s.config.buttons_right=v}s.xy.event_header_height=18,s.xy.week_agenda_scale_height=35,s.xy.map_icon_width=38,s._lightbox_controls.defaults.textarea.height=64,s._lightbox_controls.defaults.time.height="auto"}if(this._configure(s.config,s._skin_settings,f),this._configure(s.xy,s._skin_xy,f),s.skin==="flat"&&(s.xy.scale_height=35,s.templates.hour_scale=function(b){var S=b.getMinutes();return S=S<10?"0"+S:S,"<span class='dhx_scale_h'>"+b.getHours()+"</span><span class='dhx_scale_m'>&nbsp;"+S+"</span>"}),!f){var E=s.config.minicalendar;E&&(E.padding=14),s.templates.event_bar_date=function(b,S,D){return"\u2022 <b>"+s.templates.event_date(b)+"</b> "},s.attachEvent("onTemplatesReady",function(){var b=s.date.date_to_str("%d");s.templates._old_month_day||(s.templates._old_month_day=s.templates.month_day);var S=s.templates._old_month_day;if(s.templates.month_day=function(re){if(this._mode=="month"){var q=b(re);return re.getDate()==1&&(q=s.locale.date.month_full[re.getMonth()]+" "+q),+re==+s.date.date_part(this._currentDate())&&(q=s.locale.labels.dhx_cal_today_button+" "+q),q}return S.call(this,re)},s.config.fix_tab_position){var D=s._els.dhx_cal_navline[0].getElementsByTagName("div"),M=null,U=211,F=[14,75,136],H=14;s._is_material_skin()&&(F=[16,103,192],U=294,H=-1);for(var Q=0;Q<D.length;Q++){var te=D[Q],G=te.getAttribute("data-tab")||te.getAttribute("name");if(G){switch(te.style.right="auto",G){case"day":case"day_tab":te.style.left=F[0]+"px",te.className+=" dhx_cal_tab_first";break;case"week":case"week_tab":te.style.left=F[1]+"px";break;case"month":case"month_tab":te.style.left=F[2]+"px",te.className+=" dhx_cal_tab_last";break;default:te.style.left=U+"px",te.className+=" dhx_cal_tab_standalone",U=U+H+te.offsetWidth}te.className+=" "+G}else(te.className||"").indexOf("dhx_minical_icon")===0&&te.parentNode==s._els.dhx_cal_navline[0]&&(M=te)}M&&(M.style.left=U+"px")}}),s._skin_init=function(){}}}}function yn(s){return(yn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}function ne(s){return this.serverProcessor=s,this.action_param="!nativeeditor_status",this.object=null,this.updatedRows=[],this.autoUpdate=!0,this.updateMode="cell",this._tMode="GET",this._headers=null,this._payload=null,this.post_delim="_",this._waitMode=0,this._in_progress={},this._invalid={},this.messages=[],this.styles={updated:"font-weight:bold;",inserted:"font-weight:bold;",deleted:"text-decoration : line-through;",invalid:"background-color:FFE0E0;",invalid_cell:"border-bottom:2px solid red;",error:"color:red;",clear:"font-weight:normal;text-decoration:none;"},this.enableUTFencoding(!0),C(this),this}function de(s){return(de=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}ne.prototype={setTransactionMode:function(s,w){yn(s)=="object"?(this._tMode=s.mode||this._tMode,s.headers!==void 0&&(this._headers=s.headers),s.payload!==void 0&&(this._payload=s.payload),this._tSend=!!w):(this._tMode=s,this._tSend=w),this._tMode=="REST"&&(this._tSend=!1,this._endnm=!0),this._tMode==="JSON"||this._tMode==="REST-JSON"?(this._tSend=!1,this._endnm=!0,this._serializeAsJson=!0,this._headers=this._headers||{},this._headers["Content-Type"]="application/json"):this._headers&&!this._headers["Content-Type"]&&(this._headers["Content-Type"]="application/x-www-form-urlencoded"),this._tMode==="CUSTOM"&&(this._tSend=!1,this._endnm=!0,this._router=s.router)},escape:function(s){function w(d){return s.apply(this,arguments)}return w.toString=function(){return s.toString()},w}(function(s){return this._utf?encodeURIComponent(s):escape(s)}),enableUTFencoding:function(s){this._utf=!!s},setDataColumns:function(s){this._columns=typeof s=="string"?s.split(","):s},getSyncState:function(){return!this.updatedRows.length},enableDataNames:function(s){this._endnm=!!s},enablePartialDataSend:function(s){this._changed=!!s},setUpdateMode:function(s,w){this.autoUpdate=s=="cell",this.updateMode=s,this.dnd=w},ignore:function(s,w){this._silent_mode=!0,s.call(w||window),this._silent_mode=!1},setUpdated:function(s,w,d){if(!this._silent_mode){var m=this.findRow(s);d=d||"updated";var p=this.$scheduler.getUserData(s,this.action_param);p&&d=="updated"&&(d=p),w?(this.set_invalid(s,!1),this.updatedRows[m]=s,this.$scheduler.setUserData(s,this.action_param,d),this._in_progress[s]&&(this._in_progress[s]="wait")):this.is_invalid(s)||(this.updatedRows.splice(m,1),this.$scheduler.setUserData(s,this.action_param,"")),this.markRow(s,w,d),w&&this.autoUpdate&&this.sendData(s)}},markRow:function(s,w,d){var m="",p=this.is_invalid(s);if(p&&(m=this.styles[p],w=!0),this.callEvent("onRowMark",[s,w,d,p])&&(m=this.styles[w?d:"clear"]+m,this.$scheduler[this._methods[0]](s,m),p&&p.details)){m+=this.styles[p+"_cell"];for(var o=0;o<p.details.length;o++)p.details[o]&&this.$scheduler[this._methods[1]](s,o,m)}},getActionByState:function(s){return s==="inserted"?"create":s==="updated"?"update":s==="deleted"?"delete":"update"},getState:function(s){return this.$scheduler.getUserData(s,this.action_param)},is_invalid:function(s){return this._invalid[s]},set_invalid:function(s,w,d){d&&(w={value:w,details:d,toString:function(){return this.value.toString()}}),this._invalid[s]=w},checkBeforeUpdate:function(s){return!0},sendData:function(s){return this.$scheduler.editStop&&this.$scheduler.editStop(),s===void 0||this._tSend?this.sendAllData():!this._in_progress[s]&&(this.messages=[],!(!this.checkBeforeUpdate(s)&&this.callEvent("onValidationError",[s,this.messages]))&&void this._beforeSendData(this._getRowData(s),s))},_beforeSendData:function(s,w){if(!this.callEvent("onBeforeUpdate",[w,this.getState(w),s]))return!1;this._sendData(s,w)},serialize:function(s,w){if(this._serializeAsJson)return this._serializeAsJSON(s);if(typeof s=="string")return s;if(w!==void 0)return this.serialize_one(s,"");var d=[],m=[];for(var p in s)s.hasOwnProperty(p)&&(d.push(this.serialize_one(s[p],p+this.post_delim)),m.push(p));return d.push("ids="+this.escape(m.join(","))),this.$scheduler.security_key&&d.push("dhx_security="+this.$scheduler.security_key),d.join("&")},serialize_one:function(s,w){if(typeof s=="string")return s;var d=[],m="";for(var p in s)if(s.hasOwnProperty(p)){if((p=="id"||p==this.action_param)&&this._tMode=="REST")continue;m=typeof s[p]=="string"||typeof s[p]=="number"?s[p]:JSON.stringify(s[p]),d.push(this.escape((w||"")+p)+"="+this.escape(m))}return d.join("&")},_applyPayload:function(s){var w=this.$scheduler.ajax;if(this._payload)for(var d in this._payload)s=s+w.urlSeparator(s)+this.escape(d)+"="+this.escape(this._payload[d]);return s},_sendData:function(s,w){if(s){if(!this.callEvent("onBeforeDataSending",w?[w,this.getState(w),s]:[null,null,s]))return!1;w&&(this._in_progress[w]=new Date().valueOf());var d=this,m=this.$scheduler.ajax;if(this._tMode!=="CUSTOM"){var p,o={callback:function(S){var D=[];if(w)D.push(w);else if(s)for(var M in s)D.push(M);return d.afterUpdate(d,S,D)},headers:d._headers},c=this.serverProcessor+(this._user?m.urlSeparator(this.serverProcessor)+["dhx_user="+this._user,"dhx_version="+this.$scheduler.getUserData(0,"version")].join("&"):""),u=this._applyPayload(c);switch(this._tMode){case"GET":p=this._cleanupArgumentsBeforeSend(s),o.url=u+m.urlSeparator(u)+this.serialize(p,w),o.method="GET";break;case"POST":p=this._cleanupArgumentsBeforeSend(s),o.url=u,o.method="POST",o.data=this.serialize(p,w);break;case"JSON":p={};var f=this._cleanupItemBeforeSend(s);for(var y in f)y!==this.action_param&&y!=="id"&&y!=="gr_id"&&(p[y]=f[y]);o.url=u,o.method="POST",o.data=JSON.stringify({id:w,action:s[this.action_param],data:p});break;case"REST":case"REST-JSON":switch(u=c.replace(/(&|\?)editing=true/,""),p="",this.getState(w)){case"inserted":o.method="POST",o.data=this.serialize(s,w);break;case"deleted":o.method="DELETE",u=u+(u.slice(-1)==="/"?"":"/")+w;break;default:o.method="PUT",o.data=this.serialize(s,w),u=u+(u.slice(-1)==="/"?"":"/")+w}o.url=this._applyPayload(u)}return this._waitMode++,m.query(o)}var x,v=this.getState(w),E=this.getActionByState(v),b=function(S){var D=v;if(S&&S.responseText&&S.setRequestHeader){S.status!==200&&(D="error");try{S=JSON.parse(S.responseText)}catch{}}D=D||"updated";var M=w,U=w;S&&(D=S.action||D,M=S.sid||M,U=S.id||S.tid||U),d.afterUpdateCallback(M,U,D,S)};if(this._router instanceof Function)x=this._router("event",E,s,w);else switch(v){case"inserted":x=this._router.event.create(s);break;case"deleted":x=this._router.event.delete(w);break;default:x=this._router.event.update(s,w)}if(x){if(!x.then&&x.id===void 0&&x.tid===void 0&&x.action===void 0)throw new Error("Incorrect router return value. A Promise or a response object is expected");x.then?x.then(b).catch(function(S){S&&S.action?b(S):b({action:"error",value:S})}):b(x)}else b(null)}},sendAllData:function(){if(this.updatedRows.length&&this.updateMode!=="off"){this.messages=[];var s=!0;if(this._forEachUpdatedRow(function(w){s=s&&this.checkBeforeUpdate(w)}),!s&&!this.callEvent("onValidationError",["",this.messages]))return!1;this._tSend?this._sendData(this._getAllData()):this._forEachUpdatedRow(function(w){if(!this._in_progress[w]){if(this.is_invalid(w))return;this._beforeSendData(this._getRowData(w),w)}})}},_getAllData:function(s){var w={},d=!1;return this._forEachUpdatedRow(function(m){if(!this._in_progress[m]&&!this.is_invalid(m)){var p=this._getRowData(m);this.callEvent("onBeforeUpdate",[m,this.getState(m),p])&&(w[m]=p,d=!0,this._in_progress[m]=new Date().valueOf())}}),d?w:null},findRow:function(s){var w=0;for(w=0;w<this.updatedRows.length&&s!=this.updatedRows[w];w++);return w},defineAction:function(s,w){this._uActions||(this._uActions={}),this._uActions[s]=w},afterUpdateCallback:function(s,w,d,m){if(this.$scheduler){var p=s,o=d!=="error"&&d!=="invalid";if(o||this.set_invalid(s,d),this._uActions&&this._uActions[d]&&!this._uActions[d](m))return delete this._in_progress[p];this._in_progress[p]!=="wait"&&this.setUpdated(s,!1);var c=s;switch(d){case"inserted":case"insert":w!=s&&(this.setUpdated(s,!1),this.$scheduler[this._methods[2]](s,w),s=w);break;case"delete":case"deleted":return this.$scheduler.setUserData(s,this.action_param,"true_deleted"),this.$scheduler[this._methods[3]](s,w),delete this._in_progress[p],this.callEvent("onAfterUpdate",[s,d,w,m])}this._in_progress[p]!=="wait"?(o&&this.$scheduler.setUserData(s,this.action_param,""),delete this._in_progress[p]):(delete this._in_progress[p],this.setUpdated(w,!0,this.$scheduler.getUserData(s,this.action_param))),this.callEvent("onAfterUpdate",[c,d,w,m])}},_errorResponse:function(s,w){return this.$scheduler&&this.$scheduler.callEvent&&this.$scheduler.callEvent("onSaveError",[w,s.xmlDoc]),this.cleanUpdate(w)},_setDefaultTransactionMode:function(){this.serverProcessor&&(this.setTransactionMode("POST",!0),this.serverProcessor+=(this.serverProcessor.indexOf("?")!==-1?"&":"?")+"editing=true",this._serverProcessor=this.serverProcessor)},afterUpdate:function(s,w,d){var m=this.$scheduler.ajax;if(w.xmlDoc.status===200){var p;try{p=JSON.parse(w.xmlDoc.responseText)}catch{w.xmlDoc.responseText.length||(p={})}if(p){var o=p.action||this.getState(d)||"updated",c=p.sid||d[0],u=p.tid||d[0];return s.afterUpdateCallback(c,u,o,p),void s.finalizeUpdate()}var f=m.xmltop("data",w.xmlDoc);if(!f)return this._errorResponse(w,d);var y=m.xpath("//data/action",f);if(!y.length)return this._errorResponse(w,d);for(var x=0;x<y.length;x++){var v=y[x];o=v.getAttribute("type"),c=v.getAttribute("sid"),u=v.getAttribute("tid"),s.afterUpdateCallback(c,u,o,v)}s.finalizeUpdate()}else this._errorResponse(w,d)},cleanUpdate:function(s){if(s)for(var w=0;w<s.length;w++)delete this._in_progress[s[w]]},finalizeUpdate:function(){this._waitMode&&this._waitMode--,this.callEvent("onAfterUpdateFinish",[]),this.updatedRows.length||this.callEvent("onFullSync",[])},init:function(s){if(!this._initialized){this.$scheduler=s,this.$scheduler._dp_init&&this.$scheduler._dp_init(this),this._setDefaultTransactionMode(),this._methods=this._methods||["_set_event_text_style","","_dp_change_event_id","_dp_hook_delete"],function(d,m){d._validId=function(p){return!0},d.setUserData=function(p,o,c){if(p){var u=this.getEvent(p);u&&(u[o]=c)}else this._userdata[o]=c},d.getUserData=function(p,o){if(p){var c=this.getEvent(p);return c?c[o]:null}return this._userdata[o]},d._set_event_text_style=function(p,o){if(d.getEvent(p)){this.for_rendered(p,function(u){u.style.cssText+=";"+o});var c=this.getEvent(p);c._text_style=o,this.event_updated(c)}},d._update_callback=function(p,o){var c=d._xmlNodeToJSON(p.firstChild);c.rec_type=="none"&&(c.rec_pattern="none"),c.text=c.text||c._tagvalue,c.start_date=d._helpers.parseDate(c.start_date),c.end_date=d._helpers.parseDate(c.end_date),d.addEvent(c),d._add_rec_marker&&d.setCurrentView()},d._dp_change_event_id=function(p,o){d.getEvent(p)&&d.changeEventId(p,o)},d._dp_hook_delete=function(p,o){if(d.getEvent(p))return o&&p!=o&&(this.getUserData(p,m.action_param)=="true_deleted"&&this.setUserData(p,m.action_param,"updated"),this.changeEventId(p,o)),this.deleteEvent(o,!0)},d.setDp=function(){this._dp=m},d.setDp()}(this.$scheduler,this);var w=new function(d,m){this.$scheduler=d,this.$dp=m,this._dataProcessorHandlers=[],this.attach=function(){var p=this.$dp,o=this.$scheduler;this._dataProcessorHandlers.push(o.attachEvent("onEventAdded",function(c){!this._loading&&this._validId(c)&&p.setUpdated(c,!0,"inserted")})),this._dataProcessorHandlers.push(o.attachEvent("onConfirmedBeforeEventDelete",function(c){if(this._validId(c)){var u=p.getState(c);return u=="inserted"||this._new_event?(p.setUpdated(c,!1),!0):u!="deleted"&&(u=="true_deleted"||(p.setUpdated(c,!0,"deleted"),!1))}})),this._dataProcessorHandlers.push(o.attachEvent("onEventChanged",function(c){!this._loading&&this._validId(c)&&p.setUpdated(c,!0,"updated")})),this._dataProcessorHandlers.push(o.attachEvent("onClearAll",function(){p._in_progress={},p._invalid={},p.updatedRows=[],p._waitMode=0})),p.attachEvent("insertCallback",o._update_callback),p.attachEvent("updateCallback",o._update_callback),p.attachEvent("deleteCallback",function(c,u){o.getEvent(u)?(o.setUserData(u,this.action_param,"true_deleted"),o.deleteEvent(u)):o._add_rec_marker&&o._update_callback(c,u)})},this.detach=function(){for(var p in this._dataProcessorHandlers){var o=this._dataProcessorHandlers[p];this.$scheduler.detachEvent(o)}this._dataProcessorHandlers=[]}}(this.$scheduler,this);w.attach(),this.attachEvent("onDestroy",function(){delete this._getRowData,delete this.$scheduler._dp,delete this.$scheduler._dataprocessor,delete this.$scheduler._set_event_text_style,delete this.$scheduler._dp_change_event_id,delete this.$scheduler._dp_hook_delete,delete this.$scheduler,w.detach()}),this.$scheduler.callEvent("onDataProcessorReady",[this]),this._initialized=!0,s._dataprocessor=this}},setOnAfterUpdate:function(s){this.attachEvent("onAfterUpdate",s)},setOnBeforeUpdateHandler:function(s){this.attachEvent("onBeforeDataSending",s)},setAutoUpdate:function(s,w){s=s||2e3,this._user=w||new Date().valueOf(),this._need_update=!1,this._update_busy=!1,this.attachEvent("onAfterUpdate",function(m,p,o,c){this.afterAutoUpdate(m,p,o,c)}),this.attachEvent("onFullSync",function(){this.fullSync()});var d=this;a.a.setInterval(function(){d.loadUpdate()},s)},afterAutoUpdate:function(s,w,d,m){return w!="collision"||(this._need_update=!0,!1)},fullSync:function(){return this._need_update&&(this._need_update=!1,this.loadUpdate()),!0},getUpdates:function(s,w){var d=this.$scheduler.ajax;if(this._update_busy)return!1;this._update_busy=!0,d.get(s,w)},_getXmlNodeValue:function(s){return s.firstChild?s.firstChild.nodeValue:""},loadUpdate:function(){var s=this,w=this.$scheduler.ajax,d=this.$scheduler.getUserData(0,"version"),m=this.serverProcessor+w.urlSeparator(this.serverProcessor)+["dhx_user="+this._user,"dhx_version="+d].join("&");m=m.replace("editing=true&",""),this.getUpdates(m,function(p){var o=w.xpath("//userdata",p);s.$scheduler.setUserData(0,"version",s._getXmlNodeValue(o[0]));var c=w.xpath("//update",p);if(c.length){s._silent_mode=!0;for(var u=0;u<c.length;u++){var f=c[u].getAttribute("status"),y=c[u].getAttribute("id"),x=c[u].getAttribute("parent");switch(f){case"inserted":this.callEvent("insertCallback",[c[u],y,x]);break;case"updated":this.callEvent("updateCallback",[c[u],y,x]);break;case"deleted":this.callEvent("deleteCallback",[c[u],y,x])}}s._silent_mode=!1}s._update_busy=!1,s=null})},destructor:function(){this.callEvent("onDestroy",[]),this.detachAllEvents(),this.updatedRows=[],this._in_progress={},this._invalid={},this._headers=null,this._payload=null,delete this._initialized},url:function(s){this.serverProcessor=this._serverProcessor=s},_serializeAsJSON:function(s){if(typeof s=="string")return s;var w=this.$scheduler.utils.copy(s);return this._tMode==="REST-JSON"&&(delete w.id,delete w[this.action_param]),JSON.stringify(w)},_cleanupArgumentsBeforeSend:function(s){var w;if(s[this.action_param]===void 0)for(var d in w={},s)w[d]=this._cleanupArgumentsBeforeSend(s[d]);else w=this._cleanupItemBeforeSend(s);return w},_cleanupItemBeforeSend:function(s){var w=null;return s&&(s[this.action_param]==="deleted"?((w={}).id=s.id,w[this.action_param]=s[this.action_param]):w=s),w},_forEachUpdatedRow:function(s){for(var w=this.updatedRows.slice(),d=0;d<w.length;d++){var m=w[d];this.$scheduler.getUserData(m,this.action_param)&&s.call(this,m)}},_prepareDataItem:function(s){var w={},d=this.$scheduler,m=d.utils.copy(s);for(var p in m)p.indexOf("_")!==0&&m[p]&&(m[p].getUTCFullYear?w[p]=d._helpers.formatDate(m[p]):yn(m[p])=="object"?w[p]=this._prepareDataItem(m[p]):m[p]===null?w[p]="":w[p]=m[p]);return w[this.action_param]=d.getUserData(s.id,this.action_param),w},_getRowData:function(s){var w=this.$scheduler.getEvent(s);return w||(w={id:s}),this._prepareDataItem(w)}};var we=function(s){var w="data-dhxbox",d=null;function m(F,H){var Q=F.callback;D.hide(F.box),d=F.box=null,Q&&Q(H)}function p(F){if(d){var H=F.which||F.keyCode,Q=!1;if(M.keyboard){if(H==13||H==32){var te=F.target||F.srcElement;xe.getClassName(te).indexOf("scheduler_popup_button")>-1&&te.click?te.click():(m(d,!0),Q=!0)}H==27&&(m(d,!1),Q=!0)}return Q?(F.preventDefault&&F.preventDefault(),!(F.cancelBubble=!0)):void 0}}function o(F){o.cover||(o.cover=document.createElement("div"),s.event(o.cover,"keydown",p),o.cover.className="dhx_modal_cover",document.body.appendChild(o.cover)),o.cover.style.display=F?"inline-block":"none"}function c(F,H,Q){var te=s._waiAria.messageButtonAttrString(F),G=(H||"").toLowerCase().replace(/ /g,"_"),re="scheduler_".concat(G,"_button dhtmlx_").concat(G,"_button");return"<div ".concat(te," class='scheduler_popup_button dhtmlx_popup_button ").concat(re,"' data-result='").concat(Q,"' result='").concat(Q,"' ><div>").concat(F,"</div></div>")}function u(F){M.area||(M.area=document.createElement("div"),M.area.className="scheduler_message_area dhtmlx_message_area",M.area.style[M.position]="5px",document.body.appendChild(M.area)),M.hide(F.id);var H=document.createElement("div");return H.innerHTML="<div>"+F.text+"</div>",H.className="scheduler-info dhtmlx-info scheduler-"+F.type+" dhtmlx-"+F.type,s.event(H,"click",function(){M.hide(F.id),F=null}),s._waiAria.messageInfoAttr(H),M.position=="bottom"&&M.area.firstChild?M.area.insertBefore(H,M.area.firstChild):M.area.appendChild(H),F.expire>0&&(M.timers[F.id]=window.setTimeout(function(){M&&M.hide(F.id)},F.expire)),M.pull[F.id]=H,H=null,F.id}function f(){for(var F=[].slice.apply(arguments,[0]),H=0;H<F.length;H++)if(F[H])return F[H]}function y(F,H,Q){var te=F.tagName?F:function(q,ee,J){var ye=document.createElement("div"),Se=V.uid();s._waiAria.messageModalAttr(ye,Se),ye.className=" scheduler_modal_box dhtmlx_modal_box scheduler-"+q.type+" dhtmlx-"+q.type,ye.setAttribute(w,1);var be="";if(q.width&&(ye.style.width=q.width),q.height&&(ye.style.height=q.height),q.title&&(be+='<div class="scheduler_popup_title dhtmlx_popup_title">'+q.title+"</div>"),be+='<div class="scheduler_popup_text dhtmlx_popup_text" id="'+Se+'"><span>'+(q.content?"":q.text)+'</span></div><div  class="scheduler_popup_controls dhtmlx_popup_controls">',ee&&(be+=c(f(q.ok,s.locale.labels.message_ok,"OK"),"ok",!0)),J&&(be+=c(f(q.cancel,s.locale.labels.message_cancel,"Cancel"),"cancel",!1)),q.buttons)for(var Ie=0;Ie<q.buttons.length;Ie++){var Te=q.buttons[Ie];de(Te)=="object"?be+=c(Te.label,Te.css||"scheduler_"+Te.label.toLowerCase()+"_button dhtmlx_"+Te.label.toLowerCase()+"_button",Te.value||Ie):be+=c(Te,Te,Ie)}if(be+="</div>",ye.innerHTML=be,q.content){var Fe=q.content;typeof Fe=="string"&&(Fe=document.getElementById(Fe)),Fe.style.display=="none"&&(Fe.style.display=""),ye.childNodes[q.title?1:0].appendChild(Fe)}return s.event(ye,"click",function(qe){var Xe=qe.target||qe.srcElement;if(Xe.className||(Xe=Xe.parentNode),xe.closest(Xe,".scheduler_popup_button")){var Tt=Xe.getAttribute("data-result");m(q,Tt=Tt=="true"||Tt!="false"&&Tt)}}),q.box=ye,(ee||J)&&(d=q),ye}(F,H,Q);F.hidden||o(!0),document.body.appendChild(te);var G=Math.abs(Math.floor(((window.innerWidth||document.documentElement.offsetWidth)-te.offsetWidth)/2)),re=Math.abs(Math.floor(((window.innerHeight||document.documentElement.offsetHeight)-te.offsetHeight)/2));return F.position=="top"?te.style.top="-3px":te.style.top=re+"px",te.style.left=G+"px",s.event(te,"keydown",p),D.focus(te),F.hidden&&D.hide(te),s.callEvent("onMessagePopup",[te]),te}function x(F){return y(F,!0,!1)}function v(F){return y(F,!0,!0)}function E(F){return y(F)}function b(F,H,Q){return de(F)!="object"&&(typeof H=="function"&&(Q=H,H=""),F={text:F,type:H,callback:Q}),F}function S(F,H,Q,te){return de(F)!="object"&&(F={text:F,type:H,expire:Q,id:te}),F.id=F.id||V.uid(),F.expire=F.expire||M.expire,F}s.event(document,"keydown",p,!0);var D=function(){var F=b.apply(this,arguments);return F.type=F.type||"alert",E(F)};D.hide=function(F){for(;F&&F.getAttribute&&!F.getAttribute(w);)F=F.parentNode;F&&(F.parentNode.removeChild(F),o(!1),s.callEvent("onAfterMessagePopup",[F]))},D.focus=function(F){setTimeout(function(){var H=xe.getFocusableNodes(F);H.length&&H[0].focus&&H[0].focus()},1)};var M=function(F,H,Q,te){switch((F=S.apply(this,arguments)).type=F.type||"info",F.type.split("-")[0]){case"alert":return x(F);case"confirm":return v(F);case"modalbox":return E(F);default:return u(F)}};M.seed=new Date().valueOf(),M.uid=V.uid,M.expire=4e3,M.keyboard=!0,M.position="top",M.pull={},M.timers={},M.hideAll=function(){for(var F in M.pull)M.hide(F)},M.hide=function(F){var H=M.pull[F];H&&H.parentNode&&(window.setTimeout(function(){H.parentNode.removeChild(H),H=null},2e3),H.className+=" hidden",M.timers[F]&&window.clearTimeout(M.timers[F]),delete M.pull[F])};var U=[];return s.attachEvent("onMessagePopup",function(F){U.push(F)}),s.attachEvent("onAfterMessagePopup",function(F){for(var H=0;H<U.length;H++)U[H]===F&&(U.splice(H,1),H--)}),s.attachEvent("onDestroy",function(){o.cover&&o.cover.parentNode&&o.cover.parentNode.removeChild(o.cover);for(var F=0;F<U.length;F++)U[F].parentNode&&U[F].parentNode.removeChild(U[F]);U=null,M.area&&M.area.parentNode&&M.area.parentNode.removeChild(M.area),M=null}),{alert:function(){var F=b.apply(this,arguments);return F.type=F.type||"confirm",x(F)},confirm:function(){var F=b.apply(this,arguments);return F.type=F.type||"alert",v(F)},message:M,modalbox:D}},De={date:{month_full:["\u0643\u0627\u0646\u0648\u0646 \u0627\u0644\u062B\u0627\u0646\u064A","\u0634\u0628\u0627\u0637","\u0622\u0630\u0627\u0631","\u0646\u064A\u0633\u0627\u0646","\u0623\u064A\u0627\u0631","\u062D\u0632\u064A\u0631\u0627\u0646","\u062A\u0645\u0648\u0632","\u0622\u0628","\u0623\u064A\u0644\u0648\u0644","\u062A\u0634\u0631\u064A\u0646 \u0627\u0644\u0623\u0648\u0644","\u062A\u0634\u0631\u064A\u0646 \u0627\u0644\u062B\u0627\u0646\u064A","\u0643\u0627\u0646\u0648\u0646 \u0627\u0644\u0623\u0648\u0644"],month_short:["\u064A\u0646\u0627\u064A\u0631","\u0641\u0628\u0631\u0627\u064A\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064A\u0644","\u0645\u0627\u064A\u0648","\u064A\u0648\u0646\u064A\u0648","\u064A\u0648\u0644\u064A\u0648","\u0623\u063A\u0633\u0637\u0633","\u0633\u0628\u062A\u0645\u0628\u0631","\u0623\u0643\u062A\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062F\u064A\u0633\u0645\u0628\u0631"],day_full:["\u0627\u0644\u0623\u062D\u062F","\u0627\u0644\u0623\u062B\u0646\u064A\u0646","\u0623\u0644\u062B\u0644\u0627\u062B\u0627\u0621","\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621","\u0623\u0644\u062D\u0645\u064A\u0633","\u0623\u0644\u062C\u0645\u0639\u0629","\u0627\u0644\u0633\u0628\u062A"],day_short:["\u0627\u062D\u062F","\u0627\u062B\u0646\u064A\u0646","\u062B\u0644\u0627\u062B\u0627\u0621","\u0627\u0631\u0628\u0639\u0627\u0621","\u062E\u0645\u064A\u0633","\u062C\u0645\u0639\u0629","\u0633\u0628\u062A"]},labels:{dhx_cal_today_button:"\u0627\u0644\u064A\u0648\u0645",day_tab:"\u064A\u0648\u0645",week_tab:"\u0623\u0633\u0628\u0648\u0639",month_tab:"\u0634\u0647\u0631",new_event:"\u062D\u062F\u062B \u062C\u062F\u064A\u062F",icon_save:"\u0627\u062E\u0632\u0646",icon_cancel:"\u0627\u0644\u063A\u0627\u0621",icon_details:"\u062A\u0641\u0627\u0635\u064A\u0644",icon_edit:"\u062A\u062D\u0631\u064A\u0631",icon_delete:"\u062D\u0630\u0641",confirm_closing:"\u0627\u0644\u062A\u063A\u064A\u064A\u0631\u0627\u062A \u0633\u0648\u0641 \u062A\u0636\u064A\u0639, \u0647\u0644 \u0627\u0646\u062A \u0645\u062A\u0623\u0643\u062F\u061F",confirm_deleting:"\u0627\u0644\u062D\u062F\u062B \u0633\u064A\u062A\u0645 \u062D\u0630\u0641\u0647\u0627 \u0646\u0647\u0627\u0626\u064A\u0627 \u060C \u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F\u061F",section_description:"\u0627\u0644\u0648\u0635\u0641",section_time:"\u0627\u0644\u0641\u062A\u0631\u0629 \u0627\u0644\u0632\u0645\u0646\u064A\u0629",full_day:"\u0637\u0648\u0627\u0644 \u0627\u0644\u064A\u0648\u0645",confirm_recurring:"\u0647\u0644 \u062A\u0631\u064A\u062F \u062A\u062D\u0631\u064A\u0631 \u0645\u062C\u0645\u0648\u0639\u0629 \u0643\u0627\u0645\u0644\u0629 \u0645\u0646 \u0627\u0644\u0623\u062D\u062F\u0627\u062B \u0627\u0644\u0645\u062A\u0643\u0631\u0631\u0629\u061F",section_recurring:"\u062A\u0643\u0631\u0627\u0631 \u0627\u0644\u062D\u062F\u062B",button_recurring:"\u062A\u0639\u0637\u064A\u0644",button_recurring_open:"\u062A\u0645\u0643\u064A\u0646",button_edit_series:"\u062A\u062D\u0631\u064A\u0631 \u0633\u0644\u0633\u0644\u0629",button_edit_occurrence:"\u062A\u0639\u062F\u064A\u0644 \u0646\u0633\u062E\u0629",grid_tab:"\u062C\u062F\u0648\u0644",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute"}},He={date:{month_full:["\u0421\u0442\u0443\u0434\u0437\u0435\u043D\u044C","\u041B\u044E\u0442\u044B","\u0421\u0430\u043A\u0430\u0432\u0456\u043A","\u041A\u0440\u0430\u0441\u0430\u0432\u0456\u043A","Ma\u0439","\u0427\u044D\u0440\u0432\u0435\u043D\u044C","\u041B\u0456\u043F\u0435\u043D\u044C","\u0416\u043D\u0456\u0432\u0435\u043D\u044C","\u0412\u0435\u0440\u0430\u0441\u0435\u043D\u044C","\u041A\u0430\u0441\u0442\u0440\u044B\u0447\u043D\u0456\u043A","\u041B\u0456\u0441\u0442\u0430\u043F\u0430\u0434","\u0421\u043D\u0435\u0436\u0430\u043D\u044C"],month_short:["\u0421\u0442\u0443\u0434\u0437","\u041B\u044E\u0442","\u0421\u0430\u043A","\u041A\u0440\u0430\u0441","Ma\u0439","\u0427\u044D\u0440","\u041B\u0456\u043F","\u0416\u043D\u0456\u0432","\u0412\u0435\u0440","\u041A\u0430\u0441\u0442","\u041B\u0456\u0441\u0442","\u0421\u043D\u0435\u0436"],day_full:["\u041D\u044F\u0434\u0437\u0435\u043B\u044F","\u041F\u0430\u043D\u044F\u0434\u0437\u0435\u043B\u0430\u043A","\u0410\u045E\u0442\u043E\u0440\u0430\u043A","\u0421\u0435\u0440\u0430\u0434\u0430","\u0427\u0430\u0446\u0432\u0435\u0440","\u041F\u044F\u0442\u043D\u0456\u0446\u0430","\u0421\u0443\u0431\u043E\u0442\u0430"],day_short:["\u041D\u0434","\u041F\u043D","\u0410\u045E\u0442","\u0421\u0440","\u0427\u0446\u0432","\u041F\u0442","\u0421\u0431"]},labels:{dhx_cal_today_button:"\u0421\u0451\u043D\u043D\u044F",day_tab:"\u0414\u0437\u0435\u043D\u044C",week_tab:"\u0422\u044B\u0434\u0437\u0435\u043D\u044C",month_tab:"\u041C\u0435\u0441\u044F\u0446",new_event:"\u041D\u043E\u0432\u0430\u044F \u043F\u0430\u0434\u0437\u0435\u044F",icon_save:"\u0417\u0430\u0445\u0430\u0432\u0430\u0446\u044C",icon_cancel:"\u0410\u0434\u043C\u044F\u043D\u0456\u0446\u044C",icon_details:"\u0414\u044D\u0442\u0430\u043B\u0456",icon_edit:"\u0417\u043C\u044F\u043D\u0456\u0446\u044C",icon_delete:"\u0412\u044B\u0434\u0430\u043B\u0456\u0446\u044C",confirm_closing:"",confirm_deleting:"\u041F\u0430\u0434\u0437\u0435\u044F \u0431\u0443\u0434\u0437\u0435 \u0432\u044B\u0434\u0430\u043B\u0435\u043D\u0430 \u043D\u0435\u0437\u0432\u0430\u0440\u043E\u0442\u043D\u0430, \u043F\u0440\u0430\u0446\u044F\u0433\u043D\u0443\u0446\u044C?",section_description:"\u0410\u043F\u0456\u0441\u0430\u043D\u043D\u0435",section_time:"\u041F\u0435\u0440\u044B\u044F\u0434 \u0447\u0430\u0441\u0443",full_day:"\u0423\u0432\u0435\u0441\u044C \u0434\u0437\u0435\u043D\u044C",confirm_recurring:"\u0412\u044B \u0445\u043E\u0447\u0430\u0446\u0435 \u0437\u043C\u044F\u043D\u0456\u0446\u044C \u0443\u0441\u044E \u0441\u0435\u0440\u044B\u044E \u043F\u0430\u045E\u0442\u0430\u0440\u0430\u043B\u044C\u043D\u044B\u0445 \u043F\u0430\u0434\u0437\u0435\u0439?",section_recurring:"\u041F\u0430\u045E\u0442\u0430\u0440\u044D\u043D\u043D\u0435",button_recurring:"\u0410\u0434\u043A\u043B\u044E\u0447\u0430\u043D\u0430",button_recurring_open:"\u0423\u043A\u043B\u044E\u0447\u0430\u043D\u0430",button_edit_series:"\u0420\u044D\u0434\u0430\u0433\u0430\u0432\u0430\u0446\u044C \u0441\u0435\u0440\u044B\u044E",button_edit_occurrence:"\u0420\u044D\u0434\u0430\u0433\u0430\u0432\u0430\u0446\u044C \u0430\u0441\u043E\u0431\u043D\u0456\u043A",agenda_tab:"\u0421\u043F\u0456\u0441",date:"\u0414\u0430\u0442\u0430",description:"\u0410\u043F\u0456\u0441\u0430\u043D\u043D\u0435",year_tab:"\u0413\u043E\u0434",week_agenda_tab:"\u0421\u043F\u0456\u0441",grid_tab:"\u0421\u043Fic",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"\u0414\u0437\u0435\u043D\u044C",repeat_radio_week:"\u0422\u044B\u0434\u0437\u0435\u043D\u044C",repeat_radio_month:"\u041C\u0435\u0441\u044F\u0446",repeat_radio_year:"\u0413\u043E\u0434",repeat_radio_day_type:"\u041A\u043E\u0436\u043D\u044B",repeat_text_day_count:"\u0434\u0437\u0435\u043D\u044C",repeat_radio_day_type2:"\u041A\u043E\u0436\u043D\u044B \u043F\u0440\u0430\u0446\u043E\u045E\u043D\u044B \u0434\u0437\u0435\u043D\u044C",repeat_week:" \u041F\u0430\u045E\u0442\u0430\u0440\u0430\u0446\u044C \u043A\u043E\u0436\u043D\u044B",repeat_text_week_count:"\u0442\u044B\u0434\u0437\u0435\u043D\u044C",repeat_radio_month_type:"\u041F\u0430\u045E\u0442\u0430\u0440\u0430\u0446\u044C",repeat_radio_month_start:"",repeat_text_month_day:" \u0447\u044B\u0441\u043B\u0430 \u043A\u043E\u0436\u043D\u0430\u0433\u0430",repeat_text_month_count:"\u043C\u0435\u0441\u044F\u0446\u0443",repeat_text_month_count2_before:"\u043A\u043E\u0436\u043D\u044B ",repeat_text_month_count2_after:"\u043C\u0435\u0441\u044F\u0446",repeat_year_label:"",select_year_day2:"",repeat_text_year_day:"\u0434\u0435\u043D\u044C",select_year_month:"",repeat_radio_end:"\u0411\u0435\u0437 \u0434\u0430\u0442\u044B \u0437\u0430\u043A\u0430\u043D\u0447\u044D\u043D\u043D\u044F",repeat_text_occurences_count:"\u043F\u0430\u045E\u0442\u043E\u0440\u0430\u045E",repeat_radio_end2:"",repeat_radio_end3:"\u0414\u0430 ",month_for_recurring:["\u0421\u0442\u0443\u0434\u0437\u0435\u043D\u044F","\u041B\u044E\u0442\u0430\u0433\u0430","\u0421\u0430\u043A\u0430\u0432\u0456\u043A\u0430","\u041A\u0440\u0430\u0441\u0430\u0432\u0456\u043A\u0430","\u041C\u0430\u044F","\u0427\u044D\u0440\u0432\u0435\u043D\u044F","\u041B\u0456\u043Fe\u043D\u044F","\u0416\u043D\u0456\u045E\u043D\u044F","\u0412\u0435\u0440\u0430\u0441\u043D\u044F","\u041A\u0430\u0441\u0442\u0440\u044B\u0447\u043D\u0456\u043A\u0430","\u041B\u0456\u0441\u0442\u0430\u043F\u0430\u0434\u0430","\u0421\u043D\u0435\u0436\u043D\u044F"],day_for_recurring:["\u041D\u044F\u0434\u0437\u0435\u043B\u044E","\u041F\u0430\u043D\u044F\u0434\u0437\u0435\u043B\u0430\u043A","\u0410\u045E\u0442\u043E\u0440\u0430\u043A","\u0421\u0435\u0440\u0430\u0434\u0443","\u0427\u0430\u0446\u0432\u0435\u0440","\u041F\u044F\u0442\u043D\u0456\u0446\u0443","\u0421\u0443\u0431\u043E\u0442\u0443"]}},Ve={date:{month_full:["Gener","Febrer","Mar\xE7","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"],month_short:["Gen","Feb","Mar","Abr","Mai","Jun","Jul","Ago","Set","Oct","Nov","Des"],day_full:["Diumenge","Dilluns","Dimarts","Dimecres","Dijous","Divendres","Dissabte"],day_short:["Dg","Dl","Dm","Dc","Dj","Dv","Ds"]},labels:{dhx_cal_today_button:"Hui",day_tab:"Dia",week_tab:"Setmana",month_tab:"Mes",new_event:"Nou esdeveniment",icon_save:"Guardar",icon_cancel:"Cancel\xB7lar",icon_details:"Detalls",icon_edit:"Editar",icon_delete:"Esborrar",confirm_closing:"",confirm_deleting:"L'esdeveniment s'esborrar\xE0 definitivament, continuar ?",section_description:"Descripci\xF3",section_time:"Periode de temps",full_day:"Tot el dia",confirm_recurring:"\xBFDesitja modificar el conjunt d'esdeveniments repetits?",section_recurring:"Repeteixca l'esdeveniment",button_recurring:"Impedit",button_recurring_open:"Perm\xE9s",button_edit_series:"Edit s\xE8rie",button_edit_occurrence:"Edita Inst\xE0ncia",agenda_tab:"Agenda",date:"Data",description:"Descripci\xF3",year_tab:"Any",week_agenda_tab:"Agenda",grid_tab:"Taula",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute"}},se={date:{month_full:["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"],month_short:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],day_full:["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"],day_short:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"]},labels:{dhx_cal_today_button:"\u4ECA\u5929",day_tab:"\u65E5",week_tab:"\u5468",month_tab:"\u6708",new_event:"\u65B0\u5EFA\u65E5\u7A0B",icon_save:"\u4FDD\u5B58",icon_cancel:"\u5173\u95ED",icon_details:"\u8BE6\u7EC6",icon_edit:"\u7F16\u8F91",icon_delete:"\u5220\u9664",confirm_closing:"\u8BF7\u786E\u8BA4\u662F\u5426\u64A4\u9500\u4FEE\u6539!",confirm_deleting:"\u662F\u5426\u5220\u9664\u65E5\u7A0B?",section_description:"\u63CF\u8FF0",section_time:"\u65F6\u95F4\u8303\u56F4",full_day:"\u6574\u5929",confirm_recurring:"\u8BF7\u786E\u8BA4\u662F\u5426\u5C06\u65E5\u7A0B\u8BBE\u4E3A\u91CD\u590D\u6A21\u5F0F?",section_recurring:"\u91CD\u590D\u5468\u671F",button_recurring:"\u7981\u7528",button_recurring_open:"\u542F\u7528",button_edit_series:"\u7F16\u8F91\u7CFB\u5217",button_edit_occurrence:"\u7F16\u8F91\u5B9E\u4F8B",agenda_tab:"\u8BAE\u7A0B",date:"\u65E5\u671F",description:"\u8BF4\u660E",year_tab:"\u4ECA\u5E74",week_agenda_tab:"\u8BAE\u7A0B",grid_tab:"\u7535\u7F51",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"\u6309\u5929",repeat_radio_week:"\u6309\u5468",repeat_radio_month:"\u6309\u6708",repeat_radio_year:"\u6309\u5E74",repeat_radio_day_type:"\u6BCF",repeat_text_day_count:"\u5929",repeat_radio_day_type2:"\u6BCF\u4E2A\u5DE5\u4F5C\u65E5",repeat_week:" \u91CD\u590D \u6BCF",repeat_text_week_count:"\u661F\u671F\u7684:",repeat_radio_month_type:"\u91CD\u590D",repeat_radio_month_start:"\u5728",repeat_text_month_day:"\u65E5 \u6BCF",repeat_text_month_count:"\u6708",repeat_text_month_count2_before:"\u6BCF",repeat_text_month_count2_after:"\u6708",repeat_year_label:"\u5728",select_year_day2:"\u7684",repeat_text_year_day:"\u65E5",select_year_month:"\u6708",repeat_radio_end:"\u65E0\u7ED3\u675F\u65E5\u671F",repeat_text_occurences_count:"\u6B21\u7ED3\u675F",repeat_radio_end2:"\u91CD\u590D",repeat_radio_end3:"\u7ED3\u675F\u4E8E",month_for_recurring:["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"],day_for_recurring:["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"]}},Me={date:{month_full:["Leden","\xDAnor","B\u0159ezen","Duben","Kv\u011Bten","\u010Cerven","\u010Cervenec","Srpen","Z\xE1\u0159\xED","\u0158\xEDjen","Listopad","Prosinec"],month_short:["Led","\xDAn","B\u0159e","Dub","Kv\u011B","\u010Cer","\u010Cec","Srp","Z\xE1\u0159\xED","\u0158\xEDj","List","Pro"],day_full:["Ned\u011Ble","Pond\u011Bl\xED","\xDAter\xFD","St\u0159eda","\u010Ctvrtek","P\xE1tek","Sobota"],day_short:["Ne","Po","\xDAt","St","\u010Ct","P\xE1","So"]},labels:{dhx_cal_today_button:"Dnes",day_tab:"Den",week_tab:"T\xFDden",month_tab:"M\u011Bs\xEDc",new_event:"Nov\xE1 ud\xE1lost",icon_save:"Ulo\u017Eit",icon_cancel:"Zp\u011Bt",icon_details:"Detail",icon_edit:"Edituj",icon_delete:"Smazat",confirm_closing:"",confirm_deleting:"Ud\xE1lost bude trvale smaz\xE1na, opravdu?",section_description:"Pozn\xE1mky",section_time:"Doba platnosti",confirm_recurring:"P\u0159ejete si upravit celou \u0159adu opakovan\xFDch ud\xE1lost\xED?",section_recurring:"Opakov\xE1n\xED ud\xE1losti",button_recurring:"Vypnuto",button_recurring_open:"Zapnuto",button_edit_series:"Edit series",button_edit_occurrence:"Upravit instance",agenda_tab:"Program",date:"Datum",description:"Pozn\xE1mka",year_tab:"Rok",full_day:"Full day",week_agenda_tab:"Program",grid_tab:"M\u0159\xED\u017Eka",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Denn\u011B",repeat_radio_week:"T\xFDdn\u011B",repeat_radio_month:"M\u011Bs\xED\u010Dn\u011B",repeat_radio_year:"Ro\u010Dn\u011B",repeat_radio_day_type:"ka\u017Ed\xFD",repeat_text_day_count:"Den",repeat_radio_day_type2:"pracovn\xED dny",repeat_week:"Opakuje ka\u017Ed\xFDch",repeat_text_week_count:"T\xFDdn\u016F na:",repeat_radio_month_type:"u ka\u017Ed\xE9ho",repeat_radio_month_start:"na",repeat_text_month_day:"Den ka\u017Ed\xE9ho",repeat_text_month_count:"M\u011Bs\xEDc",repeat_text_month_count2_before:"ka\u017Ed\xFD",repeat_text_month_count2_after:"M\u011Bs\xEDc",repeat_year_label:"na",select_year_day2:"v",repeat_text_year_day:"Den v",select_year_month:"",repeat_radio_end:"bez data ukon\u010Den\xED",repeat_text_occurences_count:"Ud\xE1losti",repeat_radio_end2:"po",repeat_radio_end3:"Konec",month_for_recurring:["Leden","\xDAnor","B\u0159ezen","Duben","Kv\u011Bten","\u010Cerven","\u010Cervenec","Srpen","Z\xE1\u0159\xED","\u0158\xEDjen","Listopad","Prosinec"],day_for_recurring:["Ned\u011Ble ","Pond\u011Bl\xED","\xDAter\xFD","St\u0159eda","\u010Ctvrtek","P\xE1tek","Sobota"]}},nt={date:{month_full:["Januar","Februar","Marts","April","Maj","Juni","Juli","August","September","Oktober","November","December"],month_short:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["S\xF8ndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","L\xF8rdag"],day_short:["S\xF8n","Man","Tir","Ons","Tor","Fre","L\xF8r"]},labels:{dhx_cal_today_button:"Idag",day_tab:"Dag",week_tab:"Uge",month_tab:"M\xE5ned",new_event:"Ny begivenhed",icon_save:"Gem",icon_cancel:"Fortryd",icon_details:"Detaljer",icon_edit:"Tilret",icon_delete:"Slet",confirm_closing:"Dine rettelser vil g\xE5 tabt.. Er dy sikker?",confirm_deleting:"Bigivenheden vil blive slettet permanent. Er du sikker?",section_description:"Beskrivelse",section_time:"Tidsperiode",confirm_recurring:"Vil du tilrette hele serien af gentagne begivenheder?",section_recurring:"Gentag begivenhed",button_recurring:"Frakoblet",button_recurring_open:"Tilkoblet",button_edit_series:"Rediger serien",button_edit_occurrence:"Rediger en kopi",agenda_tab:"Dagsorden",date:"Dato",description:"Beskrivelse",year_tab:"\xC5r",week_agenda_tab:"Dagsorden",grid_tab:"Grid",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Daglig",repeat_radio_week:"Ugenlig",repeat_radio_month:"M\xE5nedlig",repeat_radio_year:"\xC5rlig",repeat_radio_day_type:"Hver",repeat_text_day_count:"dag",repeat_radio_day_type2:"P\xE5 hver arbejdsdag",repeat_week:" Gentager sig hver",repeat_text_week_count:"uge p\xE5 f\xF8lgende dage:",repeat_radio_month_type:"Hver den",repeat_radio_month_start:"Den",repeat_text_month_day:" i hver",repeat_text_month_count:"m\xE5ned",repeat_text_month_count2_before:"hver",repeat_text_month_count2_after:"m\xE5ned",repeat_year_label:"Den",select_year_day2:"i",repeat_text_year_day:"dag i",select_year_month:"",repeat_radio_end:"Ingen slutdato",repeat_text_occurences_count:"gentagelse",repeat_radio_end2:"Efter",repeat_radio_end3:"Slut",month_for_recurring:["Januar","Februar","M\xE4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],day_for_recurring:["S\xF8ndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","L\xF8rdag"]}},et={date:{month_full:[" Januar"," Februar"," M\xE4rz "," April"," Mai"," Juni"," Juli"," August"," September "," Oktober"," November "," Dezember"],month_short:["Jan","Feb","M\xE4r","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],day_full:["Sonntag","Montag","Dienstag"," Mittwoch"," Donnerstag","Freitag","Samstag"],day_short:["So","Mo","Di","Mi","Do","Fr","Sa"]},labels:{dhx_cal_today_button:"Heute",day_tab:"Tag",week_tab:"Woche",month_tab:"Monat",new_event:"neuer Eintrag",icon_save:"Speichern",icon_cancel:"Abbrechen",icon_details:"Details",icon_edit:"\xC4ndern",icon_delete:"L\xF6schen",confirm_closing:"",confirm_deleting:"Der Eintrag wird gel\xF6scht",section_description:"Beschreibung",section_time:"Zeitspanne",full_day:"Ganzer Tag",confirm_recurring:"Wollen Sie alle Eintr\xE4ge bearbeiten oder nur diesen einzelnen Eintrag?",section_recurring:"Wiederholung",button_recurring:"Aus",button_recurring_open:"An",button_edit_series:"Bearbeiten Sie die Serie",button_edit_occurrence:"Bearbeiten Sie eine Kopie",agenda_tab:"Agenda",date:"Datum",description:"Beschreibung",year_tab:"Jahre",week_agenda_tab:"Agenda",grid_tab:"Grid",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"T\xE4glich",repeat_radio_week:"W\xF6chentlich",repeat_radio_month:"Monatlich",repeat_radio_year:"J\xE4hrlich",repeat_radio_day_type:"jeden",repeat_text_day_count:"Tag",repeat_radio_day_type2:"an jedem Arbeitstag",repeat_week:" Wiederholt sich jede",repeat_text_week_count:"Woche am:",repeat_radio_month_type:"an jedem",repeat_radio_month_start:"am",repeat_text_month_day:"Tag eines jeden",repeat_text_month_count:"Monats",repeat_text_month_count2_before:"jeden",repeat_text_month_count2_after:"Monats",repeat_year_label:"am",select_year_day2:"im",repeat_text_year_day:"Tag im",select_year_month:"",repeat_radio_end:"kein Enddatum",repeat_text_occurences_count:"Ereignissen",repeat_radio_end3:"Schlu\xDF",repeat_radio_end2:"nach",month_for_recurring:["Januar","Februar","M\xE4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],day_for_recurring:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"]}},We={date:{month_full:["\u0399\u03B1\u03BD\u03BF\u03C5\u03AC\u03C1\u03B9\u03BF\u03C2","\u03A6\u03B5\u03B2\u03C1\u03BF\u03C5\u03AC\u03C1\u03B9\u03BF\u03C2","\u039C\u03AC\u03C1\u03C4\u03B9\u03BF\u03C2","\u0391\u03C0\u03C1\u03AF\u03BB\u03B9\u03BF\u03C2","\u039C\u03AC\u03CA\u03BF\u03C2","\u0399\u03BF\u03CD\u03BD\u03B9\u03BF\u03C2","\u0399\u03BF\u03CD\u03BB\u03B9\u03BF\u03C2","\u0391\u03CD\u03B3\u03BF\u03C5\u03C3\u03C4\u03BF\u03C2","\u03A3\u03B5\u03C0\u03C4\u03AD\u03BC\u03B2\u03C1\u03B9\u03BF\u03C2","\u039F\u03BA\u03C4\u03CE\u03B2\u03C1\u03B9\u03BF\u03C2","\u039D\u03BF\u03AD\u03BC\u03B2\u03C1\u03B9\u03BF\u03C2","\u0394\u03B5\u03BA\u03AD\u03BC\u03B2\u03C1\u03B9\u03BF\u03C2"],month_short:["\u0399\u0391\u039D","\u03A6\u0395\u0392","\u039C\u0391\u03A1","\u0391\u03A0\u03A1","\u039C\u0391\u0399","\u0399\u039F\u03A5\u039D","\u0399\u039F\u03A5\u039B","\u0391\u03A5\u0393","\u03A3\u0395\u03A0","\u039F\u039A\u03A4","\u039D\u039F\u0395","\u0394\u0395\u039A"],day_full:["\u039A\u03C5\u03C1\u03B9\u03B1\u03BA\u03AE","\u0394\u03B5\u03C5\u03C4\u03AD\u03C1\u03B1","\u03A4\u03C1\u03AF\u03C4\u03B7","\u03A4\u03B5\u03C4\u03AC\u03C1\u03C4\u03B7","\u03A0\u03AD\u03BC\u03C0\u03C4\u03B7","\u03A0\u03B1\u03C1\u03B1\u03C3\u03BA\u03B5\u03C5\u03AE","\u039A\u03C5\u03C1\u03B9\u03B1\u03BA\u03AE"],day_short:["\u039A\u03A5","\u0394\u0395","\u03A4\u03A1","\u03A4\u0395","\u03A0\u0395","\u03A0\u0391","\u03A3\u0391"]},labels:{dhx_cal_today_button:"\u03A3\u03AE\u03BC\u03B5\u03C1\u03B1",day_tab:"\u0397\u03BC\u03AD\u03C1\u03B1",week_tab:"\u0395\u03B2\u03B4\u03BF\u03BC\u03AC\u03B4\u03B1",month_tab:"\u039C\u03AE\u03BD\u03B1\u03C2",new_event:"\u039D\u03AD\u03BF \u03AD\u03C1\u03B3\u03BF",icon_save:"\u0391\u03C0\u03BF\u03B8\u03AE\u03BA\u03B5\u03C5\u03C3\u03B7",icon_cancel:"\u0386\u03BA\u03C5\u03C1\u03BF",icon_details:"\u039B\u03B5\u03C0\u03C4\u03BF\u03BC\u03AD\u03C1\u03B5\u03B9\u03B5\u03C2",icon_edit:"\u0395\u03C0\u03B5\u03BE\u03B5\u03C1\u03B3\u03B1\u03C3\u03AF\u03B1",icon_delete:"\u0394\u03B9\u03B1\u03B3\u03C1\u03B1\u03C6\u03AE",confirm_closing:"",confirm_deleting:"\u03A4\u03BF \u03AD\u03C1\u03B3\u03BF \u03B8\u03B1 \u03B4\u03B9\u03B1\u03B3\u03C1\u03B1\u03C6\u03B5\u03AF \u03BF\u03C1\u03B9\u03C3\u03C4\u03B9\u03BA\u03AC. \u0398\u03AD\u03BB\u03B5\u03C4\u03B5 \u03BD\u03B1 \u03C3\u03C5\u03BD\u03B5\u03C7\u03AF\u03C3\u03B5\u03C4\u03B5;",section_description:"\u03A0\u03B5\u03C1\u03B9\u03B3\u03C1\u03B1\u03C6\u03AE",section_time:"\u03A7\u03C1\u03BF\u03BD\u03B9\u03BA\u03AE \u03C0\u03B5\u03C1\u03AF\u03BF\u03B4\u03BF\u03C2",full_day:"\u03A0\u03BB\u03AE\u03C1\u03B7\u03C2 \u0397\u03BC\u03AD\u03C1\u03B1",confirm_recurring:"\u0398\u03AD\u03BB\u03B5\u03C4\u03B5 \u03BD\u03B1 \u03B5\u03C0\u03B5\u03BE\u03B5\u03C1\u03B3\u03B1\u03C3\u03B8\u03B5\u03AF\u03C4\u03B5 \u03BF\u03BB\u03CC\u03BA\u03BB\u03B7\u03C1\u03B7 \u03C4\u03B7\u03BD \u03BF\u03BC\u03AC\u03B4\u03B1 \u03C4\u03C9\u03BD \u03B5\u03C0\u03B1\u03BD\u03B1\u03BB\u03B1\u03BC\u03B2\u03B1\u03BD\u03CC\u03BC\u03B5\u03BD\u03C9\u03BD \u03AD\u03C1\u03B3\u03C9\u03BD;",section_recurring:"\u0395\u03C0\u03B1\u03BD\u03B1\u03BB\u03B1\u03BC\u03B2\u03B1\u03BD\u03CC\u03BC\u03B5\u03BD\u03BF \u03AD\u03C1\u03B3\u03BF",button_recurring:"\u0391\u03BD\u03B5\u03BD\u03B5\u03C1\u03B3\u03CC",button_recurring_open:"\u0395\u03BD\u03B5\u03C1\u03B3\u03CC",button_edit_series:"\u0395\u03C0\u03B5\u03BE\u03B5\u03C1\u03B3\u03B1\u03C3\u03C4\u03B5\u03AF\u03C4\u03B5 \u03C4\u03B7 \u03C3\u03B5\u03B9\u03C1\u03AC",button_edit_occurrence:"\u0395\u03C0\u03B5\u03BE\u03B5\u03C1\u03B3\u03B1\u03C3\u03AF\u03B1 \u03AD\u03BD\u03B1 \u03B1\u03BD\u03C4\u03AF\u03B3\u03C1\u03B1\u03C6\u03BF",agenda_tab:"\u0397\u03BC\u03B5\u03C1\u03AE\u03C3\u03B9\u03B1 \u0394\u03B9\u03AC\u03C4\u03B1\u03BE\u03B7",date:"\u0397\u03BC\u03B5\u03C1\u03BF\u03BC\u03B7\u03BD\u03AF\u03B1",description:"\u03A0\u03B5\u03C1\u03B9\u03B3\u03C1\u03B1\u03C6\u03AE",year_tab:"\u0388\u03C4\u03BF\u03C2",week_agenda_tab:"\u0397\u03BC\u03B5\u03C1\u03AE\u03C3\u03B9\u03B1 \u0394\u03B9\u03AC\u03C4\u03B1\u03BE\u03B7",grid_tab:"\u03A0\u03BB\u03AD\u03B3\u03BC\u03B1",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"\u0397\u03BC\u03B5\u03C1\u03B7\u03C3\u03AF\u03C9\u03C2",repeat_radio_week:"\u0395\u03B2\u03B4\u03BF\u03BC\u03B1\u03B4\u03B9\u03B1\u03AF\u03C9\u03C2",repeat_radio_month:"\u039C\u03B7\u03BD\u03B9\u03B1\u03AF\u03C9\u03C2",repeat_radio_year:"\u0395\u03C4\u03B7\u03C3\u03AF\u03C9\u03C2",repeat_radio_day_type:"\u039A\u03AC\u03B8\u03B5",repeat_text_day_count:"\u03B7\u03BC\u03AD\u03C1\u03B1",repeat_radio_day_type2:"\u039A\u03AC\u03B8\u03B5 \u03B5\u03C1\u03B3\u03AC\u03C3\u03B9\u03BC\u03B7",repeat_week:" \u0395\u03C0\u03B1\u03BD\u03AC\u03BB\u03B7\u03C8\u03B7 \u03BA\u03AC\u03B8\u03B5",repeat_text_week_count:"\u03B5\u03B2\u03B4\u03BF\u03BC\u03AC\u03B4\u03B1 \u03C4\u03B9\u03C2 \u03B5\u03C0\u03CC\u03BC\u03B5\u03BD\u03B5\u03C2 \u03B7\u03BC\u03AD\u03C1\u03B5\u03C2:",repeat_radio_month_type:"\u0395\u03C0\u03B1\u03BD\u03AC\u03BB\u03B7\u03C8\u03B7",repeat_radio_month_start:"\u03A4\u03B7\u03BD",repeat_text_month_day:"\u03B7\u03BC\u03AD\u03C1\u03B1 \u03BA\u03AC\u03B8\u03B5",repeat_text_month_count:"\u03BC\u03AE\u03BD\u03B1",repeat_text_month_count2_before:"\u03BA\u03AC\u03B8\u03B5",repeat_text_month_count2_after:"\u03BC\u03AE\u03BD\u03B1",repeat_year_label:"\u03A4\u03B7\u03BD",select_year_day2:"\u03C4\u03BF\u03C5",repeat_text_year_day:"\u03B7\u03BC\u03AD\u03C1\u03B1",select_year_month:"\u03BC\u03AE\u03BD\u03B1",repeat_radio_end:"\u03A7\u03C9\u03C1\u03AF\u03C2 \u03B7\u03BC\u03B5\u03C1\u03BF\u03BC\u03B7\u03BD\u03AF\u03B1 \u03BB\u03AE\u03BE\u03B5\u03C9\u03C2",repeat_text_occurences_count:"\u03B5\u03C0\u03B1\u03BD\u03B1\u03BB\u03AE\u03C8\u03B5\u03B9\u03C2",repeat_radio_end3:"\u039B\u03AE\u03B3\u03B5\u03B9 \u03C4\u03B7\u03BD",repeat_radio_end2:"\u039C\u03B5\u03C4\u03AC \u03B1\u03C0\u03CC",month_for_recurring:["\u0399\u03B1\u03BD\u03BF\u03C5\u03AC\u03C1\u03B9\u03BF\u03C2","\u03A6\u03B5\u03B2\u03C1\u03BF\u03C5\u03AC\u03C1\u03B9\u03BF\u03C2","\u039C\u03AC\u03C1\u03C4\u03B9\u03BF\u03C2","\u0391\u03C0\u03C1\u03AF\u03BB\u03B9\u03BF\u03C2","\u039C\u03AC\u03CA\u03BF\u03C2","\u0399\u03BF\u03CD\u03BD\u03B9\u03BF\u03C2","\u0399\u03BF\u03CD\u03BB\u03B9\u03BF\u03C2","\u0391\u03CD\u03B3\u03BF\u03C5\u03C3\u03C4\u03BF\u03C2","\u03A3\u03B5\u03C0\u03C4\u03AD\u03BC\u03B2\u03C1\u03B9\u03BF\u03C2","\u039F\u03BA\u03C4\u03CE\u03B2\u03C1\u03B9\u03BF\u03C2","\u039D\u03BF\u03AD\u03BC\u03B2\u03C1\u03B9\u03BF\u03C2","\u0394\u03B5\u03BA\u03AD\u03BC\u03B2\u03C1\u03B9\u03BF\u03C2"],day_for_recurring:["\u039A\u03C5\u03C1\u03B9\u03B1\u03BA\u03AE","\u0394\u03B5\u03C5\u03C4\u03AD\u03C1\u03B1","\u03A4\u03C1\u03AF\u03C4\u03B7","\u03A4\u03B5\u03C4\u03AC\u03C1\u03C4\u03B7","\u03A0\u03AD\u03BC\u03C0\u03C4\u03B7","\u03A0\u03B1\u03C1\u03B1\u03C3\u03BA\u03B5\u03C5\u03AE","\u03A3\u03AC\u03B2\u03B2\u03B1\u03C4\u03BF"]}},pt={date:{month_full:["January","February","March","April","May","June","July","August","September","October","November","December"],month_short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],day_full:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],day_short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},labels:{dhx_cal_today_button:"Today",day_tab:"Day",week_tab:"Week",month_tab:"Month",new_event:"New event",icon_save:"Save",icon_cancel:"Cancel",icon_details:"Details",icon_edit:"Edit",icon_delete:"Delete",confirm_closing:"",confirm_deleting:"Event will be deleted permanently, are you sure?",section_description:"Description",section_time:"Time period",full_day:"Full day",confirm_recurring:"Do you want to edit the whole set of repeated events?",section_recurring:"Repeat event",button_recurring:"Disabled",button_recurring_open:"Enabled",button_edit_series:"Edit series",button_edit_occurrence:"Edit occurrence",agenda_tab:"Agenda",date:"Date",description:"Description",year_tab:"Year",week_agenda_tab:"Agenda",grid_tab:"Grid",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Daily",repeat_radio_week:"Weekly",repeat_radio_month:"Monthly",repeat_radio_year:"Yearly",repeat_radio_day_type:"Every",repeat_text_day_count:"day",repeat_radio_day_type2:"Every workday",repeat_week:" Repeat every",repeat_text_week_count:"week next days:",repeat_radio_month_type:"Repeat",repeat_radio_month_start:"On",repeat_text_month_day:"day every",repeat_text_month_count:"month",repeat_text_month_count2_before:"every",repeat_text_month_count2_after:"month",repeat_year_label:"On",select_year_day2:"of",repeat_text_year_day:"day",select_year_month:"month",repeat_radio_end:"No end date",repeat_text_occurences_count:"occurrences",repeat_radio_end2:"After",repeat_radio_end3:"End by",month_for_recurring:["January","February","March","April","May","June","July","August","September","October","November","December"],day_for_recurring:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},bn={date:{month_full:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],month_short:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],day_full:["Domingo","Lunes","Martes","Mi\xE9rcoles","Jueves","Viernes","S\xE1bado"],day_short:["Dom","Lun","Mar","Mi\xE9","Jue","Vie","S\xE1b"]},labels:{dhx_cal_today_button:"Hoy",day_tab:"D\xEDa",week_tab:"Semana",month_tab:"Mes",new_event:"Nuevo evento",icon_save:"Guardar",icon_cancel:"Cancelar",icon_details:"Detalles",icon_edit:"Editar",icon_delete:"Eliminar",confirm_closing:"",confirm_deleting:"El evento se borrar\xE1 definitivamente, \xBFcontinuar?",section_description:"Descripci\xF3n",section_time:"Per\xEDodo",full_day:"Todo el d\xEDa",confirm_recurring:"\xBFDesea modificar el conjunto de eventos repetidos?",section_recurring:"Repita el evento",button_recurring:"Impedido",button_recurring_open:"Permitido",button_edit_series:"Editar la serie",button_edit_occurrence:"Editar este evento",agenda_tab:"D\xEDa",date:"Fecha",description:"Descripci\xF3n",year_tab:"A\xF1o",week_agenda_tab:"D\xEDa",grid_tab:"Reja",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Diariamente",repeat_radio_week:"Semanalmente",repeat_radio_month:"Mensualmente",repeat_radio_year:"Anualmente",repeat_radio_day_type:"Cada",repeat_text_day_count:"dia",repeat_radio_day_type2:"Cada jornada de trabajo",repeat_week:" Repetir cada",repeat_text_week_count:"semana:",repeat_radio_month_type:"Repita",repeat_radio_month_start:"El",repeat_text_month_day:"dia cada ",repeat_text_month_count:"mes",repeat_text_month_count2_before:"cada",repeat_text_month_count2_after:"mes",repeat_year_label:"El",select_year_day2:"del",repeat_text_year_day:"dia",select_year_month:"mes",repeat_radio_end:"Sin fecha de finalizaci\xF3n",repeat_text_occurences_count:"ocurrencias",repeat_radio_end3:"Fin",repeat_radio_end2:"Despu\xE9s de",month_for_recurring:["Enero","Febrero","\u041C\u0430rzo","\u0410bril","Mayo","Junio","Julio","\u0410gosto","Setiembre","Octubre","Noviembre","Diciembre"],day_for_recurring:["Domingo","Lunes","Martes","Mi\xE9rcoles","Jeuves","Viernes","Sabado"]}},cr={date:{month_full:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kes&auml;kuu","Hein&auml;kuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],month_short:["Tam","Hel","Maa","Huh","Tou","Kes","Hei","Elo","Syy","Lok","Mar","Jou"],day_full:["Sunnuntai","Maanantai","Tiistai","Keskiviikko","Torstai","Perjantai","Lauantai"],day_short:["Su","Ma","Ti","Ke","To","Pe","La"]},labels:{dhx_cal_today_button:"T\xE4n\xE4\xE4n",day_tab:"P\xE4iv\xE4",week_tab:"Viikko",month_tab:"Kuukausi",new_event:"Uusi tapahtuma",icon_save:"Tallenna",icon_cancel:"Peru",icon_details:"Tiedot",icon_edit:"Muokkaa",icon_delete:"Poista",confirm_closing:"",confirm_deleting:"Haluatko varmasti poistaa tapahtuman?",section_description:"Kuvaus",section_time:"Aikajakso",full_day:"Koko p\xE4iv\xE4",confirm_recurring:"Haluatko varmasti muokata toistuvan tapahtuman kaikkia jaksoja?",section_recurring:"Toista tapahtuma",button_recurring:"Ei k&auml;yt&ouml;ss&auml;",button_recurring_open:"K&auml;yt&ouml;ss&auml;",button_edit_series:"Muokkaa sarja",button_edit_occurrence:"Muokkaa kopio",agenda_tab:"Esityslista",date:"P\xE4iv\xE4m\xE4\xE4r\xE4",description:"Kuvaus",year_tab:"Vuoden",week_agenda_tab:"Esityslista",grid_tab:"Ritil\xE4",drag_to_create:"Luo uusi vet\xE4m\xE4ll\xE4",drag_to_move:"Siirr\xE4 vet\xE4m\xE4ll\xE4",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"P&auml;ivitt&auml;in",repeat_radio_week:"Viikoittain",repeat_radio_month:"Kuukausittain",repeat_radio_year:"Vuosittain",repeat_radio_day_type:"Joka",repeat_text_day_count:"p&auml;iv&auml;",repeat_radio_day_type2:"Joka arkip&auml;iv&auml;",repeat_week:"Toista joka",repeat_text_week_count:"viikko n&auml;in&auml; p&auml;ivin&auml;:",repeat_radio_month_type:"Toista",repeat_radio_month_start:"",repeat_text_month_day:"p&auml;iv&auml;n&auml; joka",repeat_text_month_count:"kuukausi",repeat_text_month_count2_before:"joka",repeat_text_month_count2_after:"kuukausi",repeat_year_label:"",select_year_day2:"",repeat_text_year_day:"p&auml;iv&auml;",select_year_month:"kuukausi",repeat_radio_end:"Ei loppumisaikaa",repeat_text_occurences_count:"Toiston j&auml;lkeen",repeat_radio_end3:"Loppuu",repeat_radio_end2:"",month_for_recurring:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kes&auml;kuu","Hein&auml;kuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],day_for_recurring:["Sunnuntai","Maanantai","Tiistai","Keskiviikko","Torstai","Perjantai","Lauantai"]}},wi={date:{month_full:["Janvier","F\xE9vrier","Mars","Avril","Mai","Juin","Juillet","Ao\xFBt","Septembre","Octobre","Novembre","D\xE9cembre"],month_short:["Jan","F\xE9v","Mar","Avr","Mai","Juin","Juil","Ao\xFB","Sep","Oct","Nov","D\xE9c"],day_full:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],day_short:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"]},labels:{dhx_cal_today_button:"Aujourd'hui",day_tab:"Jour",week_tab:"Semaine",month_tab:"Mois",new_event:"Nouvel \xE9v\xE9nement",icon_save:"Enregistrer",icon_cancel:"Annuler",icon_details:"D\xE9tails",icon_edit:"Modifier",icon_delete:"Effacer",confirm_closing:"",confirm_deleting:"L'\xE9v\xE9nement sera effac\xE9 sans appel, \xEAtes-vous s\xFBr ?",section_description:"Description",section_time:"P\xE9riode",full_day:"Journ\xE9e compl\xE8te",confirm_recurring:"Voulez-vous \xE9diter toute une s\xE9rie d'\xE9v\xE8nements r\xE9p\xE9t\xE9s?",section_recurring:"P\xE9riodicit\xE9",button_recurring:"D\xE9sactiv\xE9",button_recurring_open:"Activ\xE9",button_edit_series:"Modifier la s\xE9rie",button_edit_occurrence:"Modifier une copie",agenda_tab:"Jour",date:"Date",description:"Description",year_tab:"Ann\xE9e",week_agenda_tab:"Jour",grid_tab:"Grille",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Quotidienne",repeat_radio_week:"Hebdomadaire",repeat_radio_month:"Mensuelle",repeat_radio_year:"Annuelle",repeat_radio_day_type:"Chaque",repeat_text_day_count:"jour",repeat_radio_day_type2:"Chaque journ\xE9e de travail",repeat_week:" R\xE9p\xE9ter toutes les",repeat_text_week_count:"semaine:",repeat_radio_month_type:"R\xE9p\xE9ter",repeat_radio_month_start:"Le",repeat_text_month_day:"jour chaque",repeat_text_month_count:"mois",repeat_text_month_count2_before:"chaque",repeat_text_month_count2_after:"mois",repeat_year_label:"Le",select_year_day2:"du",repeat_text_year_day:"jour",select_year_month:"mois",repeat_radio_end:"Pas de date d&quot;ach\xE8vement",repeat_text_occurences_count:"occurrences",repeat_radio_end3:"Fin",repeat_radio_end2:"Apr\xE8s",month_for_recurring:["Janvier","F\xE9vrier","Mars","Avril","Mai","Juin","Juillet","Ao\xFBt","Septembre","Octobre","Novembre","D\xE9cembre"],day_for_recurring:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"]}},$r={date:{month_full:["\u05D9\u05E0\u05D5\u05D0\u05E8","\u05E4\u05D1\u05E8\u05D5\u05D0\u05E8","\u05DE\u05E8\u05E5","\u05D0\u05E4\u05E8\u05D9\u05DC","\u05DE\u05D0\u05D9","\u05D9\u05D5\u05E0\u05D9","\u05D9\u05D5\u05DC\u05D9","\u05D0\u05D5\u05D2\u05D5\u05E1\u05D8","\u05E1\u05E4\u05D8\u05DE\u05D1\u05E8","\u05D0\u05D5\u05E7\u05D8\u05D5\u05D1\u05E8","\u05E0\u05D5\u05D1\u05DE\u05D1\u05E8","\u05D3\u05E6\u05DE\u05D1\u05E8"],month_short:["\u05D9\u05E0\u05D5","\u05E4\u05D1\u05E8","\u05DE\u05E8\u05E5","\u05D0\u05E4\u05E8","\u05DE\u05D0\u05D9","\u05D9\u05D5\u05E0","\u05D9\u05D5\u05DC","\u05D0\u05D5\u05D2","\u05E1\u05E4\u05D8","\u05D0\u05D5\u05E7","\u05E0\u05D5\u05D1","\u05D3\u05E6\u05DE"],day_full:["\u05E8\u05D0\u05E9\u05D5\u05DF","\u05E9\u05E0\u05D9","\u05E9\u05DC\u05D9\u05E9\u05D9","\u05E8\u05D1\u05D9\u05E2\u05D9","\u05D7\u05DE\u05D9\u05E9\u05D9","\u05E9\u05D9\u05E9\u05D9","\u05E9\u05D1\u05EA"],day_short:["\u05D0","\u05D1","\u05D2","\u05D3","\u05D4","\u05D5","\u05E9"]},labels:{dhx_cal_today_button:"\u05D4\u05D9\u05D5\u05DD",day_tab:"\u05D9\u05D5\u05DD",week_tab:"\u05E9\u05D1\u05D5\u05E2",month_tab:"\u05D7\u05D5\u05D3\u05E9",new_event:"\u05D0\u05E8\u05D5\u05E2 \u05D7\u05D3\u05E9",icon_save:"\u05E9\u05DE\u05D5\u05E8",icon_cancel:"\u05D1\u05D8\u05DC",icon_details:"\u05E4\u05E8\u05D8\u05D9\u05DD",icon_edit:"\u05E2\u05E8\u05D5\u05DA",icon_delete:"\u05DE\u05D7\u05E7",confirm_closing:"",confirm_deleting:"\u05D0\u05E8\u05D5\u05E2 \u05D9\u05DE\u05D7\u05E7 \u05E1\u05D5\u05E4\u05D9\u05EA.\u05DC\u05D4\u05DE\u05E9\u05D9\u05DA?",section_description:"\u05EA\u05D9\u05D0\u05D5\u05E8",section_time:"\u05EA\u05E7\u05D5\u05E4\u05D4",confirm_recurring:"\u05D4\u05D0\u05DD \u05D1\u05E8\u05E6\u05D5\u05E0\u05DA \u05DC\u05E9\u05E0\u05D5\u05EA \u05DB\u05DC \u05E1\u05D3\u05E8\u05EA \u05D0\u05E8\u05D5\u05E2\u05D9\u05DD \u05DE\u05EA\u05DE\u05E9\u05DB\u05D9\u05DD?",section_recurring:"\u05DC\u05D4\u05E2\u05EA\u05D9\u05E7 \u05D0\u05E8\u05D5\u05E2",button_recurring:"\u05DC\u05D0 \u05E4\u05E2\u05D9\u05DC",button_recurring_open:"\u05E4\u05E2\u05D9\u05DC",full_day:"\u05D9\u05D5\u05DD \u05E9\u05DC\u05DD",button_edit_series:"\u05E2\u05E8\u05D5\u05DA \u05D0\u05EA \u05D4\u05E1\u05D3\u05E8\u05D4",button_edit_occurrence:"\u05E2\u05E8\u05D9\u05DB\u05EA \u05E2\u05D5\u05EA\u05E7",agenda_tab:"\u05E1\u05D3\u05E8 \u05D9\u05D5\u05DD",date:"\u05EA\u05D0\u05E8\u05D9\u05DA",description:"\u05EA\u05D9\u05D0\u05D5\u05E8",year_tab:"\u05DC\u05E9\u05E0\u05D4",week_agenda_tab:"\u05E1\u05D3\u05E8 \u05D9\u05D5\u05DD",grid_tab:"\u05E1\u05D5\u05E8\u05D2",drag_to_create:"Drag to create",drag_to_move:"\u05D2\u05E8\u05D5\u05E8 \u05DB\u05D3\u05D9 \u05DC\u05D4\u05D6\u05D9\u05D6",message_ok:"OK",message_cancel:"\u05D1\u05D8\u05DC",next:"\u05D4\u05D1\u05D0",prev:"\u05D4\u05E7\u05D5\u05D3\u05DD",year:"\u05E9\u05E0\u05D4",month:"\u05D7\u05D5\u05D3\u05E9",day:"\u05D9\u05D5\u05DD",hour:"\u05E9\u05E2\u05D4",minute:"\u05D3\u05E7\u05D4",repeat_radio_day:"\u05D9\u05D5\u05DE\u05D9",repeat_radio_week:"\u05E9\u05D1\u05D5\u05E2\u05D9",repeat_radio_month:"\u05D7\u05D5\u05D3\u05E9\u05D9",repeat_radio_year:"\u05E9\u05E0\u05EA\u05D9",repeat_radio_day_type:"\u05D7\u05D6\u05D5\u05E8 \u05DB\u05DC",repeat_text_day_count:"\u05D9\u05DE\u05D9\u05DD",repeat_radio_day_type2:"\u05D7\u05D6\u05D5\u05E8 \u05DB\u05DC \u05D9\u05D5\u05DD \u05E2\u05D1\u05D5\u05D3\u05D4",repeat_week:" \u05D7\u05D6\u05D5\u05E8 \u05DB\u05DC",repeat_text_week_count:"\u05E9\u05D1\u05D5\u05E2 \u05DC\u05E4\u05D9 \u05D9\u05DE\u05D9\u05DD:",repeat_radio_month_type:"\u05D7\u05D6\u05D5\u05E8 \u05DB\u05DC",repeat_radio_month_start:"\u05DB\u05DC",repeat_text_month_day:"\u05D9\u05DE\u05D9\u05DD \u05DB\u05DC",repeat_text_month_count:"\u05D7\u05D5\u05D3\u05E9\u05D9\u05DD",repeat_text_month_count2_before:"\u05D7\u05D6\u05D5\u05E8 \u05DB\u05DC",repeat_text_month_count2_after:"\u05D7\u05D5\u05D3\u05E9",repeat_year_label:"\u05DB\u05DC",select_year_day2:"\u05D1\u05D7\u05D5\u05D3\u05E9",repeat_text_year_day:"\u05D9\u05DE\u05D9\u05DD",select_year_month:"\u05D7\u05D5\u05D3\u05E9",repeat_radio_end:"\u05DC\u05E2\u05D5\u05DC\u05DD \u05DC\u05D0 \u05DE\u05E1\u05EA\u05D9\u05D9\u05DD",repeat_text_occurences_count:"\u05D0\u05D9\u05E8\u05D5\u05E2\u05D9\u05DD",repeat_radio_end3:"\u05DE\u05E1\u05EA\u05D9\u05D9\u05DD \u05D1",repeat_radio_end2:"\u05D0\u05D7\u05E8\u05D9",month_for_recurring:["\u05D9\u05E0\u05D5\u05D0\u05E8","\u05E4\u05D1\u05E8\u05D5\u05D0\u05E8","\u05DE\u05E8\u05E5","\u05D0\u05E4\u05E8\u05D9\u05DC","\u05DE\u05D0\u05D9","\u05D9\u05D5\u05E0\u05D9","\u05D9\u05D5\u05DC\u05D9","\u05D0\u05D5\u05D2\u05D5\u05E1\u05D8","\u05E1\u05E4\u05D8\u05DE\u05D1\u05E8","\u05D0\u05D5\u05E7\u05D8\u05D5\u05D1\u05E8","\u05E0\u05D5\u05D1\u05DE\u05D1\u05E8","\u05D3\u05E6\u05DE\u05D1\u05E8"],day_for_recurring:["\u05E8\u05D0\u05E9\u05D5\u05DF","\u05E9\u05E0\u05D9","\u05E9\u05DC\u05D9\u05E9\u05D9","\u05E8\u05D1\u05D9\u05E2\u05D9","\u05D7\u05DE\u05D9\u05E9\u05D9","\u05E9\u05D9\u05E9\u05D9","\u05E9\u05D1\u05EA"]}},Yr={date:{month_full:["Janu\xE1r","Febru\xE1r","M\xE1rcius","\xC1prilis","M\xE1jus","J\xFAnius","J\xFAlius","Augusztus","Szeptember","Okt\xF3ber","November","December"],month_short:["Jan","Feb","M\xE1r","\xC1pr","M\xE1j","J\xFAn","J\xFAl","Aug","Sep","Okt","Nov","Dec"],day_full:["Vas\xE1rnap","H\xE9tf\xF5","Kedd","Szerda","Cs\xFCt\xF6rt\xF6k","P\xE9ntek","szombat"],day_short:["Va","H\xE9","Ke","Sze","Cs\xFC","P\xE9","Szo"]},labels:{dhx_cal_today_button:"Ma",day_tab:"Nap",week_tab:"H\xE9t",month_tab:"H\xF3nap",new_event:"\xDAj esem\xE9ny",icon_save:"Ment\xE9s",icon_cancel:"M\xE9gse",icon_details:"R\xE9szletek",icon_edit:"Szerkeszt\xE9s",icon_delete:"T\xF6rl\xE9s",confirm_closing:"",confirm_deleting:"Az esem\xE9ny t\xF6r\xF6lve lesz, biztosan folytatja?",section_description:"Le\xEDr\xE1s",section_time:"Id\xF5szak",full_day:"Egesz napos",confirm_recurring:"Biztosan szerkeszteni akarod az \xF6sszes ism\xE9tl\xF5d\xF5 esem\xE9ny be\xE1ll\xEDt\xE1s\xE1t?",section_recurring:"Esem\xE9ny ism\xE9tl\xE9se",button_recurring:"Tilt\xE1s",button_recurring_open:"Enged\xE9lyez\xE9s",button_edit_series:"Edit series",button_edit_occurrence:"Szerkeszt\xE9s b\xEDr\xF3s\xE1g",agenda_tab:"Napirend",date:"D\xE1tum",description:"Le\xEDr\xE1s",year_tab:"\xC9v",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute"}},Mc={date:{month_full:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],month_short:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Ags","Sep","Okt","Nov","Des"],day_full:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"],day_short:["Ming","Sen","Sel","Rab","Kam","Jum","Sab"]},labels:{dhx_cal_today_button:"Hari Ini",day_tab:"Hari",week_tab:"Minggu",month_tab:"Bulan",new_event:"Acara Baru",icon_save:"Simpan",icon_cancel:"Batal",icon_details:"Detail",icon_edit:"Edit",icon_delete:"Hapus",confirm_closing:"",confirm_deleting:"Acara akan dihapus",section_description:"Keterangan",section_time:"Periode",full_day:"Hari penuh",confirm_recurring:"Apakah acara ini akan berulang?",section_recurring:"Acara Rutin",button_recurring:"Tidak Difungsikan",button_recurring_open:"Difungsikan",button_edit_series:"Mengedit seri",button_edit_occurrence:"Mengedit salinan",agenda_tab:"Agenda",date:"Tanggal",description:"Keterangan",year_tab:"Tahun",week_agenda_tab:"Agenda",grid_tab:"Tabel",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute"}},mo={date:{month_full:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],month_short:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],day_full:["Domenica","Luned\xEC","Marted\xEC","Mercoled\xEC","Gioved\xEC","Venerd\xEC","Sabato"],day_short:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"]},labels:{dhx_cal_today_button:"Oggi",day_tab:"Giorno",week_tab:"Settimana",month_tab:"Mese",new_event:"Nuovo evento",icon_save:"Salva",icon_cancel:"Chiudi",icon_details:"Dettagli",icon_edit:"Modifica",icon_delete:"Elimina",confirm_closing:"",confirm_deleting:"L'evento sar\xE0 eliminato, siete sicuri?",section_description:"Descrizione",section_time:"Periodo di tempo",full_day:"Intera giornata",confirm_recurring:"Vuoi modificare l'intera serie di eventi?",section_recurring:"Ripetere l'evento",button_recurring:"Disattivato",button_recurring_open:"Attivato",button_edit_series:"Modificare la serie",button_edit_occurrence:"Modificare una copia",agenda_tab:"Agenda",date:"Data",description:"Descrizione",year_tab:"Anno",week_agenda_tab:"Agenda",grid_tab:"Griglia",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Quotidiano",repeat_radio_week:"Settimanale",repeat_radio_month:"Mensile",repeat_radio_year:"Annuale",repeat_radio_day_type:"Ogni",repeat_text_day_count:"giorno",repeat_radio_day_type2:"Ogni giornata lavorativa",repeat_week:" Ripetere ogni",repeat_text_week_count:"settimana:",repeat_radio_month_type:"Ripetere",repeat_radio_month_start:"Il",repeat_text_month_day:"giorno ogni",repeat_text_month_count:"mese",repeat_text_month_count2_before:"ogni",repeat_text_month_count2_after:"mese",repeat_year_label:"Il",select_year_day2:"del",repeat_text_year_day:"giorno",select_year_month:"mese",repeat_radio_end:"Senza data finale",repeat_text_occurences_count:"occorenze",repeat_radio_end3:"Fine",repeat_radio_end2:"Dopo",month_for_recurring:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Jiugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],day_for_recurring:["Domenica","Luned\xEC","Marted\xEC","Mercoled\xEC","Joved\xEC","Venerd\xEC","Sabato"]}},Jr={date:{month_full:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],month_short:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],day_full:["\u65E5\u66DC\u65E5","\u6708\u66DC\u65E5","\u706B\u66DC\u65E5","\u6C34\u66DC\u65E5","\u6728\u66DC\u65E5","\u91D1\u66DC\u65E5","\u571F\u66DC\u65E5"],day_short:["\u65E5","\u6708","\u706B","\u6C34","\u6728","\u91D1","\u571F"]},labels:{dhx_cal_today_button:"\u4ECA\u65E5",day_tab:"\u65E5",week_tab:"\u9031",month_tab:"\u6708",new_event:"\u65B0\u30A4\u30D9\u30F3\u30C8",icon_save:"\u4FDD\u5B58",icon_cancel:"\u30AD\u30E3\u30F3\u30BB\u30EB",icon_details:"\u8A73\u7D30",icon_edit:"\u7DE8\u96C6",icon_delete:"\u524A\u9664",confirm_closing:"",confirm_deleting:"\u30A4\u30D9\u30F3\u30C8\u5B8C\u5168\u306B\u524A\u9664\u3055\u308C\u307E\u3059\u3001\u5B9C\u3057\u3044\u3067\u3059\u304B\uFF1F",section_description:"\u30C7\u30B9\u30AF\u30EA\u30D7\u30B7\u30E7\u30F3",section_time:"\u671F\u9593",confirm_recurring:"\u7E70\u308A\u8FD4\u3055\u308C\u3066\u3044\u308B\u30A4\u30D9\u30F3\u30C8\u3092\u5168\u3066\u7DE8\u96C6\u3057\u307E\u3059\u304B\uFF1F",section_recurring:"\u30A4\u30D9\u30F3\u30C8\u3092\u7E70\u308A\u8FD4\u3059",button_recurring:"\u7121\u52B9",button_recurring_open:"\u6709\u52B9",full_day:"\u7D42\u65E5",button_edit_series:"\u30B7\u30EA\u30FC\u30BA\u3092\u7DE8\u96C6\u3057\u307E\u3059",button_edit_occurrence:"\u30B3\u30D4\u30FC\u3092\u7DE8\u96C6",agenda_tab:"\u8B70\u984C\u306F",date:"\u65E5\u4ED8",description:"\u8AAC\u660E",year_tab:"\u4ECA\u5E74",week_agenda_tab:"\u8B70\u984C\u306F",grid_tab:"\u30B0\u30EA\u30C3\u30C9",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute"}};function go(s,w){for(var d=0;d<w.length;d++){var m=w[d];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(s,m.key,m)}}var bt=function(){function s(w){for(var d in function(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}(this,s),this._locales={},w)this._locales[d]=w[d]}return function(w,d,m){d&&go(w.prototype,d),m&&go(w,m)}(s,[{key:"addLocale",value:function(w,d){this._locales[w]=d}},{key:"getLocale",value:function(w){return this._locales[w]}}]),s}(),ae={date:{month_full:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],month_short:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],day_full:["S\xF8ndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","L\xF8rdag"],day_short:["S\xF8n","Mon","Tir","Ons","Tor","Fre","L\xF8r"]},labels:{dhx_cal_today_button:"I dag",day_tab:"Dag",week_tab:"Uke",month_tab:"M\xE5ned",new_event:"Ny hendelse",icon_save:"Lagre",icon_cancel:"Avbryt",icon_details:"Detaljer",icon_edit:"Rediger",icon_delete:"Slett",confirm_closing:"",confirm_deleting:"Hendelsen vil bli slettet permanent. Er du sikker?",section_description:"Beskrivelse",section_time:"Tidsperiode",confirm_recurring:"Vil du forandre hele dette settet av repeterende hendelser?",section_recurring:"Repeter hendelsen",button_recurring:"Av",button_recurring_open:"P\xE5",button_edit_series:"Rediger serien",button_edit_occurrence:"Redigere en kopi",agenda_tab:"Agenda",date:"Dato",description:"Beskrivelse",year_tab:"\xC5r",week_agenda_tab:"Agenda",grid_tab:"Grid",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Daglig",repeat_radio_week:"Ukentlig",repeat_radio_month:"M\xE5nedlig",repeat_radio_year:"\xC5rlig",repeat_radio_day_type:"Hver",repeat_text_day_count:"dag",repeat_radio_day_type2:"Alle hverdager",repeat_week:" Gjentas hver",repeat_text_week_count:"uke p\xE5:",repeat_radio_month_type:"P\xE5 hver",repeat_radio_month_start:"P\xE5",repeat_text_month_day:"dag hver",repeat_text_month_count:"m\xE5ned",repeat_text_month_count2_before:"hver",repeat_text_month_count2_after:"m\xE5ned",repeat_year_label:"p\xE5",select_year_day2:"i",repeat_text_year_day:"dag i",select_year_month:"",repeat_radio_end:"Ingen sluttdato",repeat_text_occurences_count:"forekomst",repeat_radio_end3:"Stop den",repeat_radio_end2:"Etter",month_for_recurring:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],day_for_recurring:["Sondag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","L\xF8rdag"]}},ue={date:{month_full:["Januari","Februari","Maart","April","Mei","Juni","Juli","Augustus","September","Oktober","November","December"],month_short:["Jan","Feb","mrt","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["Zondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrijdag","Zaterdag"],day_short:["Zo","Ma","Di","Wo","Do","Vr","Za"]},labels:{dhx_cal_today_button:"Vandaag",day_tab:"Dag",week_tab:"Week",month_tab:"Maand",new_event:"Nieuw item",icon_save:"Opslaan",icon_cancel:"Annuleren",icon_details:"Details",icon_edit:"Bewerken",icon_delete:"Verwijderen",confirm_closing:"",confirm_deleting:"Item zal permanent worden verwijderd, doorgaan?",section_description:"Beschrijving",section_time:"Tijd periode",full_day:"Hele dag",confirm_recurring:"Wilt u alle terugkerende items bijwerken?",section_recurring:"Item herhalen",button_recurring:"Uit",button_recurring_open:"Aan",button_edit_series:"Bewerk de serie",button_edit_occurrence:"Bewerk een kopie",agenda_tab:"Agenda",date:"Datum",description:"Omschrijving",year_tab:"Jaar",week_agenda_tab:"Agenda",grid_tab:"Tabel",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Dagelijks",repeat_radio_week:"Wekelijks",repeat_radio_month:"Maandelijks",repeat_radio_year:"Jaarlijks",repeat_radio_day_type:"Elke",repeat_text_day_count:"dag(en)",repeat_radio_day_type2:"Elke werkdag",repeat_week:" Herhaal elke",repeat_text_week_count:"week op de volgende dagen:",repeat_radio_month_type:"Herhaal",repeat_radio_month_start:"Op",repeat_text_month_day:"dag iedere",repeat_text_month_count:"maanden",repeat_text_month_count2_before:"iedere",repeat_text_month_count2_after:"maanden",repeat_year_label:"Op",select_year_day2:"van",repeat_text_year_day:"dag",select_year_month:"maand",repeat_radio_end:"Geen eind datum",repeat_text_occurences_count:"keren",repeat_radio_end3:"Eindigd per",repeat_radio_end2:"Na",month_for_recurring:["Januari","Februari","Maart","April","Mei","Juni","Juli","Augustus","September","Oktober","November","December"],day_for_recurring:["Zondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrijdag","Zaterdag"]}},_e={date:{month_full:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],month_short:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],day_full:["S\xF8ndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","L\xF8rdag"],day_short:["S\xF8n","Man","Tir","Ons","Tor","Fre","L\xF8r"]},labels:{dhx_cal_today_button:"Idag",day_tab:"Dag",week_tab:"Uke",month_tab:"M\xE5ned",new_event:"Ny",icon_save:"Lagre",icon_cancel:"Avbryt",icon_details:"Detaljer",icon_edit:"Endre",icon_delete:"Slett",confirm_closing:"Endringer blir ikke lagret, er du sikker?",confirm_deleting:"Oppf\xF8ringen vil bli slettet, er du sikker?",section_description:"Beskrivelse",section_time:"Tidsperiode",full_day:"Full dag",confirm_recurring:"Vil du endre hele settet med repeterende oppf\xF8ringer?",section_recurring:"Repeterende oppf\xF8ring",button_recurring:"Ikke aktiv",button_recurring_open:"Aktiv",button_edit_series:"Rediger serien",button_edit_occurrence:"Redigere en kopi",agenda_tab:"Agenda",date:"Dato",description:"Beskrivelse",year_tab:"\xC5r",week_agenda_tab:"Agenda",grid_tab:"Grid",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute"}},ge={date:{month_full:["Stycze\u0144","Luty","Marzec","Kwiecie\u0144","Maj","Czerwiec","Lipiec","Sierpie\u0144","Wrzesie\u0144","Pa\u017Adziernik","Listopad","Grudzie\u0144"],month_short:["Sty","Lut","Mar","Kwi","Maj","Cze","Lip","Sie","Wrz","Pa\u017A","Lis","Gru"],day_full:["Niedziela","Poniedzia\u0142ek","Wtorek","\u015Aroda","Czwartek","Pi\u0105tek","Sobota"],day_short:["Nie","Pon","Wto","\u015Aro","Czw","Pi\u0105","Sob"]},labels:{dhx_cal_today_button:"Dzi\u015B",day_tab:"Dzie\u0144",week_tab:"Tydzie\u0144",month_tab:"Miesi\u0105c",new_event:"Nowe zdarzenie",icon_save:"Zapisz",icon_cancel:"Anuluj",icon_details:"Szczeg\xF3\u0142y",icon_edit:"Edytuj",icon_delete:"Usu\u0144",confirm_closing:"",confirm_deleting:"Zdarzenie zostanie usuni\u0119te na zawsze, kontynuowa\u0107?",section_description:"Opis",section_time:"Okres czasu",full_day:"Ca\u0142y dzie\u0144",confirm_recurring:"Czy chcesz edytowa\u0107 ca\u0142y zbi\xF3r powtarzaj\u0105cych si\u0119 zdarze\u0144?",section_recurring:"Powt\xF3rz zdarzenie",button_recurring:"Nieaktywne",button_recurring_open:"Aktywne",button_edit_series:"Edytuj seri\u0119",button_edit_occurrence:"Edytuj kopi\u0119",agenda_tab:"Agenda",date:"Data",description:"Opis",year_tab:"Rok",week_agenda_tab:"Agenda",grid_tab:"Tabela",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Codziennie",repeat_radio_week:"Co tydzie",repeat_radio_month:"Co miesic",repeat_radio_year:"Co rok",repeat_radio_day_type:"Kadego",repeat_text_day_count:"dnia",repeat_radio_day_type2:"Kadego dnia roboczego",repeat_week:" Powtarzaj kadego",repeat_text_week_count:"tygodnia w dni:",repeat_radio_month_type:"Powtrz",repeat_radio_month_start:"W",repeat_text_month_day:"dnia kadego",repeat_text_month_count:"miesica",repeat_text_month_count2_before:"kadego",repeat_text_month_count2_after:"miesica",repeat_year_label:"W",select_year_day2:"miesica",repeat_text_year_day:"dnia miesica",select_year_month:"",repeat_radio_end:"Bez daty kocowej",repeat_text_occurences_count:"wystpieniu/ach",repeat_radio_end3:"Zakocz w",repeat_radio_end2:"Po",month_for_recurring:["Stycznia","Lutego","Marca","Kwietnia","Maja","Czerwca","Lipca","Sierpnia","Wrzenia","Padziernka","Listopada","Grudnia"],day_for_recurring:["Niedziela","Poniedziaek","Wtorek","roda","Czwartek","Pitek","Sobota"]}},Pe={date:{month_full:["Janeiro","Fevereiro","Mar\xE7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],month_short:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],day_full:["Domingo","Segunda","Ter\xE7a","Quarta","Quinta","Sexta","S\xE1bado"],day_short:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"]},labels:{dhx_cal_today_button:"Hoje",day_tab:"Dia",week_tab:"Semana",month_tab:"M\xEAs",new_event:"Novo evento",icon_save:"Salvar",icon_cancel:"Cancelar",icon_details:"Detalhes",icon_edit:"Editar",icon_delete:"Deletar",confirm_closing:"",confirm_deleting:"Tem certeza que deseja excluir?",section_description:"Descri\xE7\xE3o",section_time:"Per\xEDodo de tempo",full_day:"Dia inteiro",confirm_recurring:"Deseja editar todos esses eventos repetidos?",section_recurring:"Repetir evento",button_recurring:"Desabilitar",button_recurring_open:"Habilitar",button_edit_series:"Editar a s\xE9rie",button_edit_occurrence:"Editar uma c\xF3pia",agenda_tab:"Dia",date:"Data",description:"Descri\xE7\xE3o",year_tab:"Ano",week_agenda_tab:"Dia",grid_tab:"Grade",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Di\xE1rio",repeat_radio_week:"Semanal",repeat_radio_month:"Mensal",repeat_radio_year:"Anual",repeat_radio_day_type:"Cada",repeat_text_day_count:"dia(s)",repeat_radio_day_type2:"Cada trabalho di\xE1rio",repeat_week:" Repita cada",repeat_text_week_count:"semana:",repeat_radio_month_type:"Repetir",repeat_radio_month_start:"Em",repeat_text_month_day:"todo dia",repeat_text_month_count:"m\xEAs",repeat_text_month_count2_before:"todo",repeat_text_month_count2_after:"m\xEAs",repeat_year_label:"Em",select_year_day2:"of",repeat_text_year_day:"dia",select_year_month:"m\xEAs",repeat_radio_end:"Sem data final",repeat_text_occurences_count:"ocorr\xEAncias",repeat_radio_end3:"Fim",repeat_radio_end2:"Depois",month_for_recurring:["Janeiro","Fevereiro","Mar\xE7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],day_for_recurring:["Domingo","Segunda","Ter\xE7a","Quarta","Quinta","Sexta","S\xE1bado"]}},Be={date:{month_full:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","November","December"],month_short:["Ian","Feb","Mar","Apr","Mai","Iun","Iul","Aug","Sep","Oct","Nov","Dec"],day_full:["Duminica","Luni","Marti","Miercuri","Joi","Vineri","Sambata"],day_short:["Du","Lu","Ma","Mi","Jo","Vi","Sa"]},labels:{dhx_cal_today_button:"Astazi",day_tab:"Zi",week_tab:"Saptamana",month_tab:"Luna",new_event:"Eveniment nou",icon_save:"Salveaza",icon_cancel:"Anuleaza",icon_details:"Detalii",icon_edit:"Editeaza",icon_delete:"Sterge",confirm_closing:"Schimbarile nu vor fi salvate, esti sigur?",confirm_deleting:"Evenimentul va fi sters permanent, esti sigur?",section_description:"Descriere",section_time:"Interval",full_day:"Toata ziua",confirm_recurring:"Vrei sa editezi toata seria de evenimente repetate?",section_recurring:"Repetare",button_recurring:"Dezactivata",button_recurring_open:"Activata",button_edit_series:"Editeaza serie",button_edit_occurrence:"Editeaza doar intrare",agenda_tab:"Agenda",date:"Data",description:"Descriere",year_tab:"An",week_agenda_tab:"Agenda",grid_tab:"Lista",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Zilnic",repeat_radio_week:"Saptamanal",repeat_radio_month:"Lunar",repeat_radio_year:"Anual",repeat_radio_day_type:"La fiecare",repeat_text_day_count:"zi(le)",repeat_radio_day_type2:"Fiecare zi lucratoare",repeat_week:" Repeta la fiecare",repeat_text_week_count:"saptamana in urmatoarele zile:",repeat_radio_month_type:"Repeta in",repeat_radio_month_start:"In a",repeat_text_month_day:"zi la fiecare",repeat_text_month_count:"luni",repeat_text_month_count2_before:"la fiecare",repeat_text_month_count2_after:"luni",repeat_year_label:"In",select_year_day2:"a lunii",repeat_text_year_day:"zi a lunii",select_year_month:"",repeat_radio_end:"Fara data de sfarsit",repeat_text_occurences_count:"evenimente",repeat_radio_end3:"La data",repeat_radio_end2:"Dupa",month_for_recurring:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","Noiembrie","Decembrie"],day_for_recurring:["Duminica","Luni","Marti","Miercuri","Joi","Vineri","Sambata"]}},Re={date:{month_full:["\u042F\u043D\u0432\u0430\u0440\u044C","\u0424\u0435\u0432\u0440\u0430\u043B\u044C","\u041C\u0430\u0440\u0442","\u0410\u043F\u0440\u0435\u043B\u044C","Ma\u0439","\u0418\u044E\u043D\u044C","\u0418\u044E\u043B\u044C","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043D\u0442\u044F\u0431\u0440\u044C","O\u043A\u0442\u044F\u0431\u0440\u044C","\u041D\u043E\u044F\u0431\u0440\u044C","\u0414\u0435\u043A\u0430\u0431\u0440\u044C"],month_short:["\u042F\u043D\u0432","\u0424\u0435\u0432","Ma\u0440","A\u043F\u0440","Ma\u0439","\u0418\u044E\u043D","\u0418\u044E\u043B","A\u0432\u0433","\u0421\u0435\u043D","\u041E\u043A\u0442","\u041D\u043E\u044F","\u0414\u0435\u043A"],day_full:["\u0412\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u044C\u0435","\u041F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A","\u0412\u0442\u043E\u0440\u043D\u0438\u043A","\u0421\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440\u0433","\u041F\u044F\u0442\u043D\u0438\u0446\u0430","\u0421\u0443\u0431\u0431\u043E\u0442\u0430"],day_short:["\u0412\u0441","\u041F\u043D","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041F\u0442","\u0421\u0431"]},labels:{dhx_cal_today_button:"\u0421\u0435\u0433\u043E\u0434\u043D\u044F",day_tab:"\u0414\u0435\u043D\u044C",week_tab:"\u041D\u0435\u0434\u0435\u043B\u044F",month_tab:"\u041C\u0435\u0441\u044F\u0446",new_event:"\u041D\u043E\u0432\u043E\u0435 \u0441\u043E\u0431\u044B\u0442\u0438\u0435",icon_save:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C",icon_cancel:"\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C",icon_details:"\u0414\u0435\u0442\u0430\u043B\u0438",icon_edit:"\u0418\u0437\u043C\u0435\u043D\u0438\u0442\u044C",icon_delete:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C",confirm_closing:"",confirm_deleting:"\u0421\u043E\u0431\u044B\u0442\u0438\u0435 \u0431\u0443\u0434\u0435\u0442 \u0443\u0434\u0430\u043B\u0435\u043D\u043E \u0431\u0435\u0437\u0432\u043E\u0437\u0432\u0440\u0430\u0442\u043D\u043E, \u043F\u0440\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u044C?",section_description:"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435",section_time:"\u041F\u0435\u0440\u0438\u043E\u0434 \u0432\u0440\u0435\u043C\u0435\u043D\u0438",full_day:"\u0412\u0435\u0441\u044C \u0434\u0435\u043D\u044C",confirm_recurring:"\u0412\u044B \u0445\u043E\u0442\u0438\u0442\u0435 \u0438\u0437\u043C\u0435\u043D\u0438\u0442\u044C \u0432\u0441\u044E \u0441\u0435\u0440\u0438\u044E \u043F\u043E\u0432\u0442\u043E\u0440\u044F\u044E\u0449\u0438\u0445\u0441\u044F \u0441\u043E\u0431\u044B\u0442\u0438\u0439?",section_recurring:"\u041F\u043E\u0432\u0442\u043E\u0440\u0435\u043D\u0438\u0435",button_recurring:"\u041E\u0442\u043A\u043B\u044E\u0447\u0435\u043D\u043E",button_recurring_open:"\u0412\u043A\u043B\u044E\u0447\u0435\u043D\u043E",button_edit_series:"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0441\u0435\u0440\u0438\u044E",button_edit_occurrence:"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u044D\u043A\u0437\u0435\u043C\u043F\u043B\u044F\u0440",agenda_tab:"\u0421\u043F\u0438\u0441\u043E\u043A",date:"\u0414\u0430\u0442\u0430",description:"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435",year_tab:"\u0413\u043E\u0434",week_agenda_tab:"\u0421\u043F\u0438\u0441\u043E\u043A",grid_tab:"\u0422\u0430\u0431\u043B\u0438\u0446\u0430",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"\u0414\u0435\u043D\u044C",repeat_radio_week:"\u041D\u0435\u0434\u0435\u043B\u044F",repeat_radio_month:"\u041C\u0435\u0441\u044F\u0446",repeat_radio_year:"\u0413\u043E\u0434",repeat_radio_day_type:"\u041A\u0430\u0436\u0434\u044B\u0439",repeat_text_day_count:"\u0434\u0435\u043D\u044C",repeat_radio_day_type2:"\u041A\u0430\u0436\u0434\u044B\u0439 \u0440\u0430\u0431\u043E\u0447\u0438\u0439 \u0434\u0435\u043D\u044C",repeat_week:" \u041F\u043E\u0432\u0442\u043E\u0440\u044F\u0442\u044C \u043A\u0430\u0436\u0434\u0443\u044E",repeat_text_week_count:"\u043D\u0435\u0434\u0435\u043B\u044E , \u0432:",repeat_radio_month_type:"\u041F\u043E\u0432\u0442\u043E\u0440\u044F\u0442\u044C",repeat_radio_month_start:"",repeat_text_month_day:" \u0447\u0438\u0441\u043B\u0430 \u043A\u0430\u0436\u0434\u044B\u0439 ",repeat_text_month_count:"\u043C\u0435\u0441\u044F\u0446",repeat_text_month_count2_before:"\u043A\u0430\u0436\u0434\u044B\u0439 ",repeat_text_month_count2_after:"\u043C\u0435\u0441\u044F\u0446",repeat_year_label:"",select_year_day2:"",repeat_text_year_day:"\u0434\u0435\u043D\u044C",select_year_month:"",repeat_radio_end:"\u0411\u0435\u0437 \u0434\u0430\u0442\u044B \u043E\u043A\u043E\u043D\u0447\u0430\u043D\u0438\u044F",repeat_text_occurences_count:"\u043F\u043E\u0432\u0442\u043E\u0440\u0435\u043D\u0438\u0439",repeat_radio_end3:"\u0414\u043E ",repeat_radio_end2:"",month_for_recurring:["\u042F\u043D\u0432\u0430\u0440\u044F","\u0424\u0435\u0432\u0440\u0430\u043B\u044F","\u041C\u0430\u0440\u0442\u0430","\u0410\u043F\u0440\u0435\u043B\u044F","\u041C\u0430\u044F","\u0418\u044E\u043D\u044F","\u0418\u044E\u043B\u044F","\u0410\u0432\u0433\u0443\u0441\u0442\u0430","\u0421\u0435\u043D\u0442\u044F\u0431\u0440\u044F","\u041E\u043A\u0442\u044F\u0431\u0440\u044F","\u041D\u043E\u044F\u0431\u0440\u044F","\u0414\u0435\u043A\u0430\u0431\u0440\u044F"],day_for_recurring:["\u0412\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u044C\u0435","\u041F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A","\u0412\u0442\u043E\u0440\u043D\u0438\u043A","\u0421\u0440\u0435\u0434\u0443","\u0427\u0435\u0442\u0432\u0435\u0440\u0433","\u041F\u044F\u0442\u043D\u0438\u0446\u0443","\u0421\u0443\u0431\u0431\u043E\u0442\u0443"]}},ut={date:{month_full:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],month_short:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["Nedelja","Ponedeljek","Torek","Sreda","\u010Cetrtek","Petek","Sobota"],day_short:["Ned","Pon","Tor","Sre","\u010Cet","Pet","Sob"]},labels:{dhx_cal_today_button:"Danes",day_tab:"Dan",week_tab:"Teden",month_tab:"Mesec",new_event:"Nov dogodek",icon_save:"Shrani",icon_cancel:"Prekli\u010Di",icon_details:"Podrobnosti",icon_edit:"Uredi",icon_delete:"Izbri\u0161i",confirm_closing:"",confirm_deleting:"Dogodek bo izbrisan. \u017Delite nadaljevati?",section_description:"Opis",section_time:"\u010Casovni okvir",full_day:"Ves dan",confirm_recurring:"\u017Delite urediti celoten set ponavljajo\u010Dih dogodkov?",section_recurring:"Ponovi dogodek",button_recurring:"Onemogo\u010Deno",button_recurring_open:"Omogo\u010Deno",button_edit_series:"Edit series",button_edit_occurrence:"Edit occurrence",agenda_tab:"Zadeva",date:"Datum",description:"Opis",year_tab:"Leto",week_agenda_tab:"Zadeva",grid_tab:"Miza",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute"}},At={date:{month_full:["Janu\xE1r","Febru\xE1r","Marec","Apr\xEDl","M\xE1j","J\xFAn","J\xFAl","August","September","Okt\xF3ber","November","December"],month_short:["Jan","Feb","Mar","Apr","M\xE1j","J\xFAn","J\xFAl","Aug","Sept","Okt","Nov","Dec"],day_full:["Nede\u013Ea","Pondelok","Utorok","Streda","\u0160tvrtok","Piatok","Sobota"],day_short:["Ne","Po","Ut","St","\u0160t","Pi","So"]},labels:{dhx_cal_today_button:"Dnes",day_tab:"De\u0148",week_tab:"T\xFD\u017Ede\u0148",month_tab:"Mesiac",new_event:"Nov\xE1 udalos\u0165",icon_save:"Ulo\u017Ei\u0165",icon_cancel:"Sp\xE4\u0165",icon_details:"Detail",icon_edit:"Edituj",icon_delete:"Zmaza\u0165",confirm_closing:"Va\u0161e zmeny nebud\xFA ulo\u017Een\xE9. Skuto\u010Dne?",confirm_deleting:"Udalos\u0165 bude natrvalo vymazan\xE1. Skuto\u010Dne?",section_description:"Pozn\xE1mky",section_time:"Doba platnosti",confirm_recurring:"Prajete si upravi\u0165 cel\xFA radu opakovan\xFDch udalost\xED?",section_recurring:"Opakovanie udalosti",button_recurring:"Vypnut\xE9",button_recurring_open:"Zapnut\xE9",button_edit_series:"Upravi\u0165 opakovania",button_edit_occurrence:"Upravi\u0165 in\u0161tancie",agenda_tab:"Program",date:"D\xE1tum",description:"Pozn\xE1mka",year_tab:"Rok",full_day:"Cel\xFD de\u0148",week_agenda_tab:"Program",grid_tab:"Mrie\u017Eka",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Denne",repeat_radio_week:"T\xFD\u017Edenne",repeat_radio_month:"Mesa\xE8ne",repeat_radio_year:"Ro\xE8ne",repeat_radio_day_type:"Ka\u017Ed\xFD",repeat_text_day_count:"de\xF2",repeat_radio_day_type2:"Ka\u017Ed\xFD prac. de\xF2",repeat_week:"Opakova ka\u017Ed\xFD",repeat_text_week_count:"t\xFD\u017Ede\xF2 v d\xF2och:",repeat_radio_month_type:"Opakova",repeat_radio_month_start:"On",repeat_text_month_day:"de\xF2 ka\u017Ed\xFD",repeat_text_month_count:"mesiac",repeat_text_month_count2_before:"ka\u017Ed\xFD",repeat_text_month_count2_after:"mesiac",repeat_year_label:"On",select_year_day2:"po\xE8as",repeat_text_year_day:"de\xF2",select_year_month:"mesiac",repeat_radio_end:"Bez d\xE1tumu ukon\xE8enia",repeat_text_occurences_count:"udalostiach",repeat_radio_end3:"Ukon\xE8i",repeat_radio_end2:"Po",month_for_recurring:["Janu\xE1r","Febru\xE1r","Marec","Apr\xEDl","M\xE1j","J\xFAn","J\xFAl","August","September","Okt\xF3ber","November","December"],day_for_recurring:["Nede\xBEa","Pondelok","Utorok","Streda","\u0160tvrtok","Piatok","Sobota"]}},gt={date:{month_full:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],month_short:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["S\xF6ndag","M\xE5ndag","Tisdag","Onsdag","Torsdag","Fredag","L\xF6rdag"],day_short:["S\xF6n","M\xE5n","Tis","Ons","Tor","Fre","L\xF6r"]},labels:{dhx_cal_today_button:"Idag",day_tab:"Dag",week_tab:"Vecka",month_tab:"M\xE5nad",new_event:"Ny h\xE4ndelse",icon_save:"Spara",icon_cancel:"\xC5ngra",icon_details:"Detaljer",icon_edit:"\xC4ndra",icon_delete:"Ta bort",confirm_closing:"",confirm_deleting:"\xC4r du s\xE4ker p\xE5 att du vill ta bort h\xE4ndelsen permanent?",section_description:"Beskrivning",section_time:"Tid",full_day:"Hela dagen",confirm_recurring:"Vill du redigera hela serien med repeterande h\xE4ndelser?",section_recurring:"Upprepa h\xE4ndelse",button_recurring:"Inaktiverat",button_recurring_open:"Aktiverat",button_edit_series:"Redigera serien",button_edit_occurrence:"Redigera en kopia",agenda_tab:"Dagordning",date:"Datum",description:"Beskrivning",year_tab:"\xC5r",week_agenda_tab:"Dagordning",grid_tab:"Galler",drag_to_create:"Dra f\xF6r att skapa ny",drag_to_move:"Dra f\xF6r att flytta",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Dagligen",repeat_radio_week:"Veckovis",repeat_radio_month:"M\xE5nadsvis",repeat_radio_year:"\xC5rligen",repeat_radio_day_type:"Var",repeat_text_day_count:"dag",repeat_radio_day_type2:"Varje arbetsdag",repeat_week:" Upprepa var",repeat_text_week_count:"vecka dessa dagar:",repeat_radio_month_type:"Upprepa",repeat_radio_month_start:"Den",repeat_text_month_day:"dagen var",repeat_text_month_count:"m\xE5nad",repeat_text_month_count2_before:"var",repeat_text_month_count2_after:"m\xE5nad",repeat_year_label:"Den",select_year_day2:"i",repeat_text_year_day:"dag i",select_year_month:"m\xE5nad",repeat_radio_end:"Inget slutdatum",repeat_text_occurences_count:"upprepningar",repeat_radio_end3:"Sluta efter",repeat_radio_end2:"Efter",month_for_recurring:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],day_for_recurring:["S\xF6ndag","M\xE5ndag","Tisdag","Onsdag","Torsdag","Fredag","L\xF6rdag"]}},Qr={date:{month_full:["Ocak","\xDEubat","Mart","Nisan","May\xFDs","Haziran","Temmuz","A\xF0ustos","Eyl\xFCl","Ekim","Kas\xFDm","Aral\xFDk"],month_short:["Oca","\xDEub","Mar","Nis","May","Haz","Tem","A\xF0u","Eyl","Eki","Kas","Ara"],day_full:["Pazar","Pazartes,","Sal\xFD","\xC7ar\xFEamba","Per\xFEembe","Cuma","Cumartesi"],day_short:["Paz","Pts","Sal","\xC7ar","Per","Cum","Cts"]},labels:{dhx_cal_today_button:"Bug\xFCn",day_tab:"G\xFCn",week_tab:"Hafta",month_tab:"Ay",new_event:"Uygun",icon_save:"Kaydet",icon_cancel:"\xDDptal",icon_details:"Detaylar",icon_edit:"D\xFCzenle",icon_delete:"Sil",confirm_closing:"",confirm_deleting:"Etkinlik silinecek, devam?",section_description:"A\xE7\xFDklama",section_time:"Zaman aral\xFD\xF0\xFD",full_day:"Tam g\xFCn",confirm_recurring:"T\xFCm tekrar eden etkinlikler silinecek, devam?",section_recurring:"Etkinli\xF0i tekrarla",button_recurring:"Pasif",button_recurring_open:"Aktif",button_edit_series:"Dizi d\xFCzenleme",button_edit_occurrence:"Bir kopyas\u0131n\u0131 d\xFCzenleyin",agenda_tab:"Ajanda",date:"Tarih",description:"A\xE7\xFDklama",year_tab:"Y\xFDl",week_agenda_tab:"Ajanda",grid_tab:"Izgara",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute"}},zn={date:{month_full:["\u0421\u0456\u0447\u0435\u043D\u044C","\u041B\u044E\u0442\u0438\u0439","\u0411\u0435\u0440\u0435\u0437\u0435\u043D\u044C","\u041A\u0432\u0456\u0442\u0435\u043D\u044C","\u0422\u0440\u0430\u0432\u0435\u043D\u044C","\u0427\u0435\u0440\u0432\u0435\u043D\u044C","\u041B\u0438\u043F\u0435\u043D\u044C","\u0421\u0435\u0440\u043F\u0435\u043D\u044C","\u0412\u0435\u0440\u0435\u0441\u0435\u043D\u044C","\u0416\u043E\u0432\u0442\u0435\u043D\u044C","\u041B\u0438\u0441\u0442\u043E\u043F\u0430\u0434","\u0413\u0440\u0443\u0434\u0435\u043D\u044C"],month_short:["\u0421\u0456\u0447","\u041B\u044E\u0442","\u0411\u0435\u0440","\u041A\u0432\u0456","\u0422\u0440\u0430","\u0427\u0435\u0440","\u041B\u0438\u043F","\u0421\u0435\u0440","\u0412\u0435\u0440","\u0416\u043E\u0432","\u041B\u0438\u0441","\u0413\u0440\u0443"],day_full:["\u041D\u0435\u0434\u0456\u043B\u044F","\u041F\u043E\u043D\u0435\u0434\u0456\u043B\u043E\u043A","\u0412\u0456\u0432\u0442\u043E\u0440\u043E\u043A","\u0421\u0435\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440","\u041F'\u044F\u0442\u043D\u0438\u0446\u044F","\u0421\u0443\u0431\u043E\u0442\u0430"],day_short:["\u041D\u0435\u0434","\u041F\u043E\u043D","\u0412\u0456\u0432","\u0421\u0435\u0440","\u0427\u0435\u0442","\u041F\u0442\u043D","\u0421\u0443\u0431"]},labels:{dhx_cal_today_button:"\u0421\u044C\u043E\u0433\u043E\u0434\u043D\u0456",day_tab:"\u0414\u0435\u043D\u044C",week_tab:"\u0422\u0438\u0436\u0434\u0435\u043D\u044C",month_tab:"\u041C\u0456\u0441\u044F\u0446\u044C",new_event:"\u041D\u043E\u0432\u0430 \u043F\u043E\u0434\u0456\u044F",icon_save:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438",icon_cancel:"\u0412\u0456\u0434\u043C\u0456\u043D\u0430",icon_details:"\u0414\u0435\u0442\u0430\u043B\u0456",icon_edit:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438",icon_delete:"\u0412\u0438\u043B\u0443\u0447\u0438\u0442\u0438",confirm_closing:"",confirm_deleting:"\u041F\u043E\u0434\u0456\u044F \u0432\u0438\u043B\u0443\u0447\u0438\u0442\u044C\u0441\u044F \u043D\u0430\u0437\u0430\u0432\u0436\u0434\u0438. \u0412\u0438 \u0432\u043F\u0435\u0432\u043D\u0435\u043D\u0456?",section_description:"\u041E\u043F\u0438\u0441",section_time:"\u0427\u0430\u0441\u043E\u0432\u0438\u0439 \u043F\u0440\u043E\u043C\u0456\u0436\u043E\u043A",full_day:"\u0412\u0435\u0441\u044C \u0434\u0435\u043D\u044C",confirm_recurring:"\u0425\u043E\u0447\u0435\u0442\u0435 \u0440\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0432\u0435\u0441\u044C \u043F\u0435\u0440\u0435\u043B\u0456\u043A \u043F\u043E\u0432\u0442\u043E\u0440\u044E\u0432\u0430\u043D\u0438\u0445 \u043F\u043E\u0434\u0456\u0439?",section_recurring:"\u041F\u043E\u0432\u0442\u043E\u0440\u044E\u0432\u0430\u043D\u0430 \u043F\u043E\u0434\u0456\u044F",button_recurring:"\u0412\u0456\u0434\u043A\u043B\u044E\u0447\u0435\u043D\u043E",button_recurring_open:"\u0412\u043A\u043B\u044E\u0447\u0435\u043D\u043E",button_edit_series:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0441\u0435\u0440\u0456\u044E",button_edit_occurrence:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u043F\u0440\u0438\u043C\u0456\u0440\u043D\u0438\u043A",agenda_tab:"\u041F\u0435\u0440\u0435\u043B\u0456\u043A",date:"\u0414\u0430\u0442\u0430",description:"\u041E\u043F\u0438\u0441",year_tab:"\u0420\u0456\u043A",week_agenda_tab:"\u041F\u0435\u0440\u0435\u043B\u0456\u043A",grid_tab:"\u0422\u0430\u0431\u043B\u0438\u0446\u044F",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"\u0414\u0435\u043D\u044C",repeat_radio_week:"\u0422\u0438\u0436\u0434\u0435\u043D\u044C",repeat_radio_month:"\u041C\u0456\u0441\u044F\u0446\u044C",repeat_radio_year:"\u0420\u0456\u043A",repeat_radio_day_type:"\u041A\u043E\u0436\u043D\u0438\u0439",repeat_text_day_count:"\u0434\u0435\u043D\u044C",repeat_radio_day_type2:"\u041A\u043E\u0436\u043D\u0438\u0439 \u0440\u043E\u0431\u043E\u0447\u0438\u0439 \u0434\u0435\u043D\u044C",repeat_week:" \u041F\u043E\u0432\u0442\u043E\u0440\u044E\u0432\u0430\u0442\u0438 \u043A\u043E\u0436\u0435\u043D",repeat_text_week_count:"\u0442\u0438\u0436\u0434\u0435\u043D\u044C , \u043F\u043E:",repeat_radio_month_type:"\u041F\u043E\u0432\u0442\u043E\u0440\u044E\u0432\u0430\u0442\u0438",repeat_radio_month_start:"",repeat_text_month_day:" \u0447\u0438\u0441\u043B\u0430 \u043A\u043E\u0436\u043D\u0438\u0439 ",repeat_text_month_count:"\u043C\u0456\u0441\u044F\u0446\u044C",repeat_text_month_count2_before:"\u043A\u043E\u0436\u0435\u043D ",repeat_text_month_count2_after:"\u043C\u0456\u0441\u044F\u0446\u044C",repeat_year_label:"",select_year_day2:"",repeat_text_year_day:"\u0434\u0435\u043D\u044C",select_year_month:"",repeat_radio_end:"\u0411\u0435\u0437 \u0434\u0430\u0442\u0438 \u0437\u0430\u043A\u0456\u043D\u0447\u0435\u043D\u043D\u044F",repeat_text_occurences_count:"\u043F\u043E\u0432\u0442\u043E\u0440\u0435\u043D\u044C",repeat_radio_end3:"\u0414\u043E ",repeat_radio_end2:"",month_for_recurring:["\u0441\u0456\u0447\u043D\u044F","\u043B\u044E\u0442\u043E\u0433\u043E","\u0431\u0435\u0440\u0435\u0437\u043D\u044F","\u043A\u0432\u0456\u0442\u043D\u044F","\u0442\u0440\u0430\u0432\u043D\u044F","\u0447\u0435\u0440\u0432\u043D\u044F","\u043B\u0438\u043F\u043D\u044F","\u0441\u0435\u0440\u043F\u043D\u044F","\u0432\u0435\u0440\u0435\u0441\u043D\u044F","\u0436\u043E\u0432\u0442\u043D\u044F","\u043B\u0438\u0441\u0442\u043E\u043F\u0430\u0434\u0430","\u0433\u0440\u0443\u0434\u043D\u044F"],day_for_recurring:["\u041D\u0435\u0434\u0456\u043B\u044F\u043C","\u041F\u043E\u043D\u0435\u0434\u0456\u043B\u043A\u0430\u043C","\u0412\u0456\u0432\u0442\u043E\u0440\u043A\u0430\u043C","\u0421\u0435\u0440\u0435\u0434\u0430\u043C","\u0427\u0435\u0442\u0432\u0435\u0440\u0433\u0430\u043C","\u041F'\u044F\u0442\u043D\u0438\u0446\u044F\u043C","\u0421\u0443\u0431\u043E\u0442\u0430\u043C"]}};function Xn(s){return(Xn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}var vo=function(s){var w={version:"6.0.2"};(function(o){var c={agenda:"https://docs.dhtmlx.com/scheduler/agenda_view.html",grid:"https://docs.dhtmlx.com/scheduler/grid_view.html",map:"https://docs.dhtmlx.com/scheduler/map_view.html",unit:"https://docs.dhtmlx.com/scheduler/units_view.html",timeline:"https://docs.dhtmlx.com/scheduler/timeline_view.html",week_agenda:"https://docs.dhtmlx.com/scheduler/weekagenda_view.html",year:"https://docs.dhtmlx.com/scheduler/year_view.html",anythingElse:"https://docs.dhtmlx.com/scheduler/views.html"},u={agenda:"ext/dhtmlxscheduler_agenda_view.js",grid:"ext/dhtmlxscheduler_grid_view.js",map:"ext/dhtmlxscheduler_map_view.js",unit:"ext/dhtmlxscheduler_units.js",timeline:"ext/dhtmlxscheduler_timeline.js, ext/dhtmlxscheduler_treetimeline.js, ext/dhtmlxscheduler_daytimeline.js",week_agenda:"ext/dhtmlxscheduler_week_agenda.js",year:"ext/dhtmlxscheduler_year_view.js",limit:"ext/dhtmlxscheduler_limit.js"};o._commonErrorMessages={unknownView:function(f){var y=u[f]?"You're probably missing "+u[f]+".":"";return"`"+f+"` view is not defined. \nPlease check parameters you pass to `scheduler.init` or `scheduler.setCurrentView` in your code and ensure you've imported appropriate extensions. \nRelated docs: "+(c[f]||c.anythingElse)+`
`+(y?y+`
`:"")},collapsedContainer:function(f){return`Scheduler container height is set to *100%* but the rendered height is zero and the scheduler is not visible. 
Make sure that the container has some initial height or use different units. For example:
<div id='scheduler_here' class='dhx_cal_container' style='width:100%; height:600px;'> 
`}},o.createTimelineView=function(){throw new Error("scheduler.createTimelineView is not implemented. Be sure to add the required extension: "+u.timeline+`
Related docs: `+c.timeline)},o.createUnitsView=function(){throw new Error("scheduler.createUnitsView is not implemented. Be sure to add the required extension: "+u.unit+`
Related docs: `+c.unit)},o.createGridView=function(){throw new Error("scheduler.createGridView is not implemented. Be sure to add the required extension: "+u.grid+`
Related docs: `+c.grid)},o.addMarkedTimespan=function(){throw new Error(`scheduler.addMarkedTimespan is not implemented. Be sure to add the required extension: ext/dhtmlxscheduler_limit.js
Related docs: https://docs.dhtmlx.com/scheduler/limits.html`)},o.renderCalendar=function(){throw new Error(`scheduler.renderCalendar is not implemented. Be sure to add the required extension: ext/dhtmlxscheduler_minical.js
https://docs.dhtmlx.com/scheduler/minicalendar.html`)},o.exportToPNG=function(){throw new Error(["scheduler.exportToPNG is not implemented.","This feature requires an additional module, be sure to check the related doc here https://docs.dhtmlx.com/scheduler/png.html","Licensing info: https://dhtmlx.com/docs/products/dhtmlxScheduler/export.shtml"].join(`
`))},o.exportToPDF=function(){throw new Error(["scheduler.exportToPDF is not implemented.","This feature requires an additional module, be sure to check the related doc here https://docs.dhtmlx.com/scheduler/pdf.html","Licensing info: https://dhtmlx.com/docs/products/dhtmlxScheduler/export.shtml"].join(`
`))}})(w),function(o){var c=L();o.event=c.attach,o.eventRemove=c.detach,o._eventRemoveAll=c.detachAll,o._createDomEventScope=c.extend,o._trim=function(u){return(String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")}).apply(u)},o._isDate=function(u){return!(!u||N(u)!="object"||!(u.getFullYear&&u.getMonth&&u.getDate))},o._isObject=function(u){return u&&N(u)=="object"}}(w),function(o){C(o),l(o),o._detachDomEvent=function(v,E,b){v.removeEventListener?v.removeEventListener(E,b,!1):v.detachEvent&&v.detachEvent("on"+E,b)},o._init_once=function(){h(o),o._init_once=function(){}};var c={render:function(v){return o._init_nav_bar(v)}},u={render:function(v){var E=document.createElement("div");return E.className="dhx_cal_header",E}},f={render:function(v){var E=document.createElement("div");return E.className="dhx_cal_data",E}};function y(v){return!!(v.querySelector(".dhx_cal_header")&&v.querySelector(".dhx_cal_data")&&v.querySelector(".dhx_cal_navline"))}o.init=function(v,E,b){if(!this.$destroyed){if(E=E||o._currentDate(),b=b||"week",this._obj&&this.unset_actions(),this._obj=typeof v=="string"?document.getElementById(v):v,this.$container=this._obj,this.$root=this._obj,!this.$container.offsetHeight&&this.$container.offsetWidth&&this.$container.style.height==="100%"&&window.console.error(o._commonErrorMessages.collapsedContainer(),this.$container),this.config.wai_aria_attributes&&this.config.wai_aria_application_role&&this.$container.setAttribute("role","application"),this.config.header||y(this.$container)||(this.config.header=function(S){var D=["day","week","month"];if(S.matrix)for(var M in S.matrix)D.push(M);if(S._props)for(var M in S._props)D.push(M);if(S._grid&&S._grid.names)for(var M in S._grid.names)D.push(M);return["map","agenda","week_agenda","year"].forEach(function(U){S[U+"_view"]&&D.push(U)}),D.concat(["date"]).concat(["prev","today","next"])}(this),window.console.log(["Required DOM elements are missing from the scheduler container and **scheduler.config.header** is not specified.","Using a default header configuration: ","scheduler.config.header = "+JSON.stringify(this.config.header,null,2),"Check this article for the details: https://docs.dhtmlx.com/scheduler/initialization.html"].join(`
`))),this.config.header)this.$container.innerHTML="",this.$container.classList.add("dhx_cal_container"),this.config.header.height&&(this.xy.nav_height=this.config.header.height),this.$container.appendChild(c.render(this.config.header)),this.$container.appendChild(u.render()),this.$container.appendChild(f.render());else if(!y(this.$container))throw new Error(["Required DOM elements are missing from the scheduler container.","Be sure to either specify them manually in the markup: https://docs.dhtmlx.com/scheduler/initialization.html#initializingschedulerviamarkup","Or to use **scheduler.config.header** setting so they could be created automatically: https://docs.dhtmlx.com/scheduler/initialization.html#initializingschedulerviaheaderconfig"].join(`
`));this.config.rtl&&(this.$container.className+=" dhx_cal_container_rtl"),this._skin_init&&o._skin_init(),o.date.init(),this._scroll=!0,this._quirks=this.$env.isIE&&document.compatMode=="BackCompat",this._quirks7=this.$env.isIE&&navigator.appVersion.indexOf("MSIE 8")==-1,this._els=[],this.get_elements(),this.init_templates(),this.set_actions(),this._init_once(),this._init_touch_events(),this.set_sizes(),o.callEvent("onSchedulerReady",[]),this.setCurrentView(E,b)}},o.xy={min_event_height:40,scale_width:50,scroll_width:18,scale_height:20,month_scale_height:20,menu_width:25,margin_top:0,margin_left:0,editor_width:140,month_head_height:22,event_header_height:14},o.keys={edit_save:13,edit_cancel:27},o.bind=function(v,E){return v.bind?v.bind(E):function(){return v.apply(E,arguments)}},o.set_sizes=function(){var v=this._x=this._obj.clientWidth-this.xy.margin_left,E=this._y=this._obj.clientHeight-this.xy.margin_top,b=this._table_view?0:this.xy.scale_width+this.xy.scroll_width,S=this._table_view?-1:this.xy.scale_width,D=this.$container.querySelector(".dhx_cal_scale_placeholder");o._is_material_skin()?(D||((D=document.createElement("div")).className="dhx_cal_scale_placeholder",this.$container.insertBefore(D,this._els.dhx_cal_header[0])),D.style.display="block",this.set_xy(D,v,this.xy.scale_height+1,0,this.xy.nav_height+(this._quirks?-1:1))):D&&D.parentNode.removeChild(D),this._lightbox&&(o.$container.offsetWidth<1200||this._setLbPosition(document.querySelector(".dhx_cal_light"))),this.set_xy(this._els.dhx_cal_navline[0],v,this.xy.nav_height,0,0),this.set_xy(this._els.dhx_cal_header[0],v-b,this.xy.scale_height,S,this.xy.nav_height+(this._quirks?-1:1));var M=this._els.dhx_cal_navline[0].offsetHeight;M>0&&(this.xy.nav_height=M);var U=this.xy.scale_height+this.xy.nav_height+(this._quirks?-2:0);this.set_xy(this._els.dhx_cal_data[0],v,E-(U+2),0,U+2)},o.set_xy=function(v,E,b,S,D){var M="left";v.style.width=Math.max(0,E)+"px",v.style.height=Math.max(0,b)+"px",arguments.length>3&&(this.config.rtl&&(M="right"),v.style[M]=S+"px",v.style.top=D+"px")},o.get_elements=function(){for(var v=this._obj.getElementsByTagName("DIV"),E=0;E<v.length;E++){var b=o._getClassName(v[E]),S=v[E].getAttribute("data-tab")||v[E].getAttribute("name")||"";b&&(b=b.split(" ")[0]),this._els[b]||(this._els[b]=[]),this._els[b].push(v[E]);var D=o.locale.labels[S+"_tab"]||o.locale.labels[S||b];typeof D!="string"&&S&&!v[E].innerHTML&&(D=S.split("_")[0]),D&&(this._waiAria.labelAttr(v[E],D),v[E].innerHTML=D)}};var x=o._createDomEventScope();o.unset_actions=function(){x.detachAll()},o.set_actions=function(){for(var v in this._els)if(this._click[v])for(var E=0;E<this._els[v].length;E++){var b=this._els[v][E],S=this._click[v].bind(b);x.attach(b,"click",S)}x.attach(this._obj,"selectstart",function(D){return D.preventDefault(),!1}),x.attach(this._obj,"mousemove",function(D){o._temp_touch_block||o._on_mouse_move(D)}),x.attach(this._obj,"mousedown",function(D){o._ignore_next_click||o._on_mouse_down(D)}),x.attach(this._obj,"mouseup",function(D){o._ignore_next_click||o._on_mouse_up(D)}),x.attach(this._obj,"dblclick",function(D){o._on_dbl_click(D)}),x.attach(this._obj,"contextmenu",function(D){var M=D,U=M.target||M.srcElement;return o.callEvent("onContextMenu",[o._locate_event(U),M])})},o.select=function(v){this._select_id!=v&&(o._close_not_saved(),this.editStop(!1),this._select_id&&this.unselect(),this._select_id=v,this.updateEvent(v),this.callEvent("onEventSelected",[v]))},o.unselect=function(v){if(!v||v==this._select_id){var E=this._select_id;this._select_id=null,E&&this.getEvent(E)&&this.updateEvent(E),this.callEvent("onEventUnselected",[E])}},o.getState=function(){return{mode:this._mode,date:new Date(this._date),min_date:new Date(this._min_date),max_date:new Date(this._max_date),editor_id:this._edit_id,lightbox_id:this._lightbox_id,new_event:this._new_event,select_id:this._select_id,expanded:this.expanded,drag_id:this._drag_id,drag_mode:this._drag_mode}},o._click={dhx_cal_data:function(v){if(o._ignore_next_click)return v.preventDefault&&v.preventDefault(),v.cancelBubble=!0,o._ignore_next_click=!1,!1;var E=v.target,b=o._locate_event(E);if(b){if(!o.callEvent("onClick",[b,v])||o.config.readonly)return}else o.callEvent("onEmptyClick",[o.getActionData(v).date,v]);if(b&&o.config.select){o.select(b);var S=o._getClassName(E);S.indexOf("_icon")!=-1&&o._click.buttons[S.split(" ")[1].replace("icon_","")](b)}else o._close_not_saved(),o.getState().select_id&&new Date().valueOf()-(o._new_event||0)>500&&o.unselect()},dhx_cal_prev_button:function(){o._click.dhx_cal_next_button(0,-1)},dhx_cal_next_button:function(v,E){var b=1;o.config.rtl&&(E=-E,b=-b),o.setCurrentView(o.date.add(o.date[o._mode+"_start"](new Date(o._date)),E||b,o._mode))},dhx_cal_today_button:function(){o.callEvent("onBeforeTodayDisplayed",[])&&o.setCurrentView(o._currentDate())},dhx_cal_tab:function(){var v=this.getAttribute("data-tab"),E=this.getAttribute("name"),b=v||E.substring(0,E.search("_tab"));o.setCurrentView(o._date,b)},buttons:{delete:function(v){var E=o.locale.labels.confirm_deleting;o._dhtmlx_confirm(E,o.locale.labels.title_confirm_deleting,function(){o.deleteEvent(v)})},edit:function(v){o.edit(v)},save:function(v){o.editStop(!0)},details:function(v){o.showLightbox(v)},cancel:function(v){o.editStop(!1)}}},o._dhtmlx_confirm=function(v,E,b){if(!v)return b();var S={text:v};E&&(S.title=E),b&&(S.callback=function(D){D&&b()}),o.confirm(S)},o.addEventNow=function(v,E,b){var S={};o._isObject(v)&&!o._isDate(v)&&(S=v,v=null);var D=6e4*(this.config.event_duration||this.config.time_step);v||(v=S.start_date||Math.round(o._currentDate().valueOf()/D)*D);var M=new Date(v);if(!E){var U=this.config.first_hour;U>M.getHours()&&(M.setHours(U),v=M.valueOf()),E=v.valueOf()+D}var F=new Date(E);M.valueOf()==F.valueOf()&&F.setTime(F.valueOf()+D),S.start_date=S.start_date||M,S.end_date=S.end_date||F,S.text=S.text||this.locale.labels.new_event,S.id=this._drag_id=S.id||this.uid(),this._drag_mode="new-size",this._loading=!0;var H=this.addEvent(S);return this.callEvent("onEventCreated",[this._drag_id,b]),this._loading=!1,this._drag_event={},this._on_mouse_up(b),H},o._on_dbl_click=function(v,E){if(E=E||v.target||v.srcElement,!this.config.readonly){var b=o._getClassName(E).split(" ")[0];switch(b){case"dhx_scale_holder":case"dhx_scale_holder_now":case"dhx_month_body":case"dhx_wa_day_data":if(!o.config.dblclick_create)break;this.addEventNow(this.getActionData(v).date,null,v);break;case"dhx_cal_event":case"dhx_wa_ev_body":case"dhx_agenda_line":case"dhx_grid_event":case"dhx_cal_event_line":case"dhx_cal_event_clear":var S=this._locate_event(E);if(!this.callEvent("onDblClick",[S,v]))return;this.config.details_on_dblclick||this._table_view||!this.getEvent(S)._timed||!this.config.select?this.showLightbox(S):this.edit(S);break;case"dhx_time_block":case"dhx_cal_container":return;default:var D=this["dblclick_"+b];if(D)D.call(this,v);else if(E.parentNode&&E!=this)return o._on_dbl_click(v,E.parentNode)}}},o._get_column_index=function(v){var E=0;if(this._cols){for(var b=0,S=0;b+this._cols[S]<v&&S<this._cols.length;)b+=this._cols[S],S++;if(E=S+(this._cols[S]?(v-b)/this._cols[S]:0),this._ignores&&E>=this._cols.length)for(;E>=1&&this._ignores[Math.floor(E)];)E--}return E},o._week_indexes_from_pos=function(v){if(this._cols){var E=this._get_column_index(v.x);return v.x=Math.min(this._cols.length-1,Math.max(0,Math.ceil(E)-1)),v.y=Math.max(0,Math.ceil(60*v.y/(this.config.time_step*this.config.hour_size_px))-1)+this.config.first_hour*(60/this.config.time_step),v}return v},o._mouse_coords=function(v){var E,b=document.body,S=document.documentElement;E=this.$env.isIE||!v.pageX&&!v.pageY?{x:v.clientX+(b.scrollLeft||S.scrollLeft||0)-b.clientLeft,y:v.clientY+(b.scrollTop||S.scrollTop||0)-b.clientTop}:{x:v.pageX,y:v.pageY},this.config.rtl&&this._colsS?(E.x=this.$container.querySelector(".dhx_cal_data").offsetWidth-E.x,this._mode!=="month"&&(E.x-=this.xy.scale_width)):E.x-=this.$domHelpers.getAbsoluteLeft(this._obj)+(this._table_view?0:this.xy.scale_width);var D=this.$container.querySelector(".dhx_cal_data");E.y-=this.$domHelpers.getAbsoluteTop(D)-this._els.dhx_cal_data[0].scrollTop,E.ev=v;var M=this["mouse_"+this._mode];if(M)E=M.call(this,E);else if(this._table_view){var U=this._get_column_index(E.x);if(!this._cols||!this._colsS)return E;var F=0;for(F=1;F<this._colsS.heights.length&&!(this._colsS.heights[F]>E.y);F++);E.y=Math.ceil(24*(Math.max(0,U)+7*Math.max(0,F-1))*60/this.config.time_step),(o._drag_mode||this._mode=="month")&&(E.y=24*(Math.max(0,Math.ceil(U)-1)+7*Math.max(0,F-1))*60/this.config.time_step),this._drag_mode=="move"&&o._ignores_detected&&o.config.preserve_length&&(E._ignores=!0,this._drag_event._event_length||(this._drag_event._event_length=this._get_real_event_length(this._drag_event.start_date,this._drag_event.end_date,{x_step:1,x_unit:"day"}))),E.x=0}else E=this._week_indexes_from_pos(E);return E.timestamp=+new Date,E},o._close_not_saved=function(){if(new Date().valueOf()-(o._new_event||0)>500&&o._edit_id){var v=o.locale.labels.confirm_closing;o._dhtmlx_confirm(v,o.locale.labels.title_confirm_closing,function(){o.editStop(o.config.positive_closing)}),v&&(this._drag_id=this._drag_pos=this._drag_mode=null)}},o._correct_shift=function(v,E){return v-6e4*(new Date(o._min_date).getTimezoneOffset()-new Date(v).getTimezoneOffset())*(E?-1:1)},o._is_pos_changed=function(v,E){function b(S,D,M){return Math.abs(S-D)>M}return!v||!this._drag_pos||!!(this._drag_pos.has_moved||!this._drag_pos.timestamp||E.timestamp-this._drag_pos.timestamp>100||b(v.ev.clientX,E.ev.clientX,5)||b(v.ev.clientY,E.ev.clientY,5))},o._correct_drag_start_date=function(v){var E;o.matrix&&(E=o.matrix[o._mode]),E=E||{x_step:1,x_unit:"day"},v=new Date(v);var b=1;return(E._start_correction||E._end_correction)&&(b=60*(E.last_hour||0)-(60*v.getHours()+v.getMinutes())||1),1*v+(o._get_fictional_event_length(v,b,E)-b)},o._correct_drag_end_date=function(v,E){var b;o.matrix&&(b=o.matrix[o._mode]),b=b||{x_step:1,x_unit:"day"};var S=1*v+o._get_fictional_event_length(v,E,b);return new Date(1*S-(o._get_fictional_event_length(S,-1,b,-1)+1))},o._on_mouse_move=function(v){if(this._drag_mode){var E=this._mouse_coords(v);if(this._is_pos_changed(this._drag_pos,E)){var b,S;if(this._edit_id!=this._drag_id&&this._close_not_saved(),!this._drag_mode)return;var D=null;if(this._drag_pos&&!this._drag_pos.has_moved&&((D=this._drag_pos).has_moved=!0),this._drag_pos=E,this._drag_pos.has_moved=!0,this._drag_mode=="create"){if(D&&(E=D),this._close_not_saved(),this.unselect(this._select_id),this._loading=!0,b=this._get_date_from_pos(E).valueOf(),!this._drag_start)return this.callEvent("onBeforeEventCreated",[v,this._drag_id])?(this._loading=!1,void(this._drag_start=b)):void(this._loading=!1);S=b,this._drag_start;var M=new Date(this._drag_start),U=new Date(S);this._mode!="day"&&this._mode!="week"||M.getHours()!=U.getHours()||M.getMinutes()!=U.getMinutes()||(U=new Date(this._drag_start+1e3)),this._drag_id=this.uid(),this.addEvent(M,U,this.locale.labels.new_event,this._drag_id,E.fields),this.callEvent("onEventCreated",[this._drag_id,v]),this._loading=!1,this._drag_mode="new-size"}var F,H=this.config.time_step,Q=this.getEvent(this._drag_id);if(o.matrix&&(F=o.matrix[o._mode]),F=F||{x_step:1,x_unit:"day"},this._drag_mode=="move")b=this._min_date.valueOf()+6e4*(E.y*this.config.time_step+24*E.x*60),!E.custom&&this._table_view&&(b+=1e3*this.date.time_part(Q.start_date)),!this._table_view&&this._dragEventBody&&this._drag_event._move_event_shift===void 0&&(this._drag_event._move_event_shift=b-Q.start_date),this._drag_event._move_event_shift&&(b-=this._drag_event._move_event_shift),b=this._correct_shift(b),E._ignores&&this.config.preserve_length&&this._table_view?(b=o._correct_drag_start_date(b),S=o._correct_drag_end_date(b,this._drag_event._event_length)):S=Q.end_date.valueOf()-(Q.start_date.valueOf()-b);else{if(b=Q.start_date.valueOf(),S=Q.end_date.valueOf(),this._table_view){var te=this._min_date.valueOf()+E.y*this.config.time_step*6e4+(E.custom?0:864e5);if(this._mode=="month")if(te=this._correct_shift(te,!1),this._drag_from_start){var G=864e5;te<=o.date.date_part(new Date(S+G-1)).valueOf()&&(b=te-G)}else S=te;else this.config.preserve_length?E.resize_from_start?b=o._correct_drag_start_date(te):S=o._correct_drag_end_date(te,0):E.resize_from_start?b=te:S=te}else{var re=this.date.date_part(new Date(Q.end_date.valueOf()-1)).valueOf(),q=new Date(re),ee=this.config.first_hour,J=60/H*(this.config.last_hour-ee);this.config.time_step=1;var ye=this._mouse_coords(v);this.config.time_step=H;var Se=E.y*H*6e4,be=Math.min(E.y+1,J)*H*6e4,Ie=6e4*ye.y;S=Math.abs(Se-Ie)>Math.abs(be-Ie)?re+be:re+Se,S+=6e4*(new Date(S).getTimezoneOffset()-q.getTimezoneOffset()),this._els.dhx_cal_data[0].style.cursor="s-resize",this._mode!="week"&&this._mode!="day"||(S=this._correct_shift(S))}if(this._drag_mode=="new-size")if(S<=this._drag_start){var Te=E.shift||(this._table_view&&!E.custom?864e5:0);b=S-(E.shift?0:Te),S=this._drag_start+(Te||6e4*H)}else b=this._drag_start;else S<=b&&(S=b+6e4*H)}var Fe=new Date(S-1),qe=new Date(b);if(this._drag_mode=="move"&&o.config.limit_drag_out&&(+qe<+o._min_date||+S>+o._max_date)){if(+Q.start_date<+o._min_date||+Q.end_date>+o._max_date)qe=new Date(Q.start_date),S=new Date(Q.end_date);else{var Xe=S-qe;+qe<+o._min_date?(qe=new Date(o._min_date),E._ignores&&this.config.preserve_length&&this._table_view?(qe=new Date(o._correct_drag_start_date(qe)),F._start_correction&&(qe=new Date(qe.valueOf()+F._start_correction)),S=new Date(1*qe+this._get_fictional_event_length(qe,this._drag_event._event_length,F))):S=new Date(+qe+Xe)):(S=new Date(o._max_date),E._ignores&&this.config.preserve_length&&this._table_view?(F._end_correction&&(S=new Date(S.valueOf()-F._end_correction)),S=new Date(1*S-this._get_fictional_event_length(S,0,F,!0)),qe=new Date(1*S-this._get_fictional_event_length(S,this._drag_event._event_length,F,!0)),this._ignores_detected&&(qe=o.date.add(qe,F.x_step,F.x_unit),S=new Date(1*S-this._get_fictional_event_length(S,0,F,!0)),S=o.date.add(S,F.x_step,F.x_unit))):qe=new Date(+S-Xe))}Fe=new Date(S-1)}if(!this._table_view&&this._dragEventBody&&!o.config.all_timed&&(!o._get_section_view()&&E.x!=this._get_event_sday({start_date:new Date(b),end_date:new Date(b)})||new Date(b).getHours()<this.config.first_hour)&&(Xe=S-qe,this._drag_mode=="move"&&(G=this._min_date.valueOf()+24*E.x*60*6e4,(qe=new Date(G)).setHours(this.config.first_hour),S=new Date(qe.valueOf()+Xe),Fe=new Date(S-1))),this._table_view||o.config.all_timed||!(!o.getView()&&E.x!=this._get_event_sday({start_date:new Date(S),end_date:new Date(S)})||new Date(S).getHours()>=this.config.last_hour)||(Xe=S-qe,G=this._min_date.valueOf()+24*E.x*60*6e4,(S=o.date.date_part(new Date(G))).setHours(this.config.last_hour),Fe=new Date(S-1),this._drag_mode=="move"&&(qe=new Date(+S-Xe))),this._table_view||Fe.getDate()==qe.getDate()&&Fe.getHours()<this.config.last_hour||o._allow_dnd)if(Q.start_date=qe,Q.end_date=new Date(S),this.config.update_render){var Tt=o._els.dhx_cal_data[0].scrollTop;this.update_view(),o._els.dhx_cal_data[0].scrollTop=Tt}else this.updateEvent(this._drag_id);this._table_view&&this.for_rendered(this._drag_id,function(Fr){Fr.className+=" dhx_in_move dhx_cal_event_drag"}),this.callEvent("onEventDrag",[this._drag_id,this._drag_mode,v])}}else if(o.checkEvent("onMouseMove")){var ur=this._locate_event(v.target||v.srcElement);this.callEvent("onMouseMove",[ur,v])}},o._on_mouse_down=function(v,E){if(v.button!=2&&!this.config.readonly&&!this._drag_mode){E=E||v.target||v.srcElement;var b=o._getClassName(E).split(" ")[0];switch(this.config.drag_event_body&&b=="dhx_body"&&E.parentNode&&E.parentNode.className.indexOf("dhx_cal_select_menu")===-1&&(b="dhx_event_move",this._dragEventBody=!0),b){case"dhx_cal_event_line":case"dhx_cal_event_clear":this._table_view&&(this._drag_mode="move");break;case"dhx_event_move":case"dhx_wa_ev_body":this._drag_mode="move";break;case"dhx_event_resize":this._drag_mode="resize",o._getClassName(E).indexOf("dhx_event_resize_end")<0?o._drag_from_start=!0:o._drag_from_start=!1;break;case"dhx_scale_holder":case"dhx_scale_holder_now":case"dhx_month_body":case"dhx_matrix_cell":case"dhx_marked_timespan":this._drag_mode="create";break;case"":if(E.parentNode)return o._on_mouse_down(v,E.parentNode);break;default:if((!o.checkEvent("onMouseDown")||o.callEvent("onMouseDown",[b,v]))&&E.parentNode&&E!=this&&b!="dhx_body")return o._on_mouse_down(v,E.parentNode);this._drag_mode=null,this._drag_id=null}if(this._drag_mode){var S=this._locate_event(E);if(this.config["drag_"+this._drag_mode]&&this.callEvent("onBeforeDrag",[S,this._drag_mode,v])){if(this._drag_id=S,(this._edit_id!=this._drag_id||this._edit_id&&this._drag_mode=="create")&&this._close_not_saved(),!this._drag_mode)return;this._drag_event=o._lame_clone(this.getEvent(this._drag_id)||{}),this._drag_pos=this._mouse_coords(v)}else this._drag_mode=this._drag_id=0}this._drag_start=null}},o._get_private_properties=function(v){var E={};for(var b in v)b.indexOf("_")===0&&(E[b]=!0);return E},o._clear_temporary_properties=function(v,E){var b=this._get_private_properties(v),S=this._get_private_properties(E);for(var D in S)b[D]||delete E[D]},o._on_mouse_up=function(v){if(!v||v.button!=2||!this._mobile){if(this._drag_mode&&this._drag_id){this._els.dhx_cal_data[0].style.cursor="default";var E=this._drag_id,b=this._drag_mode,S=!this._drag_pos||this._drag_pos.has_moved;delete this._drag_event._move_event_shift;var D=this.getEvent(this._drag_id);if(S&&(this._drag_event._dhx_changed||!this._drag_event.start_date||D.start_date.valueOf()!=this._drag_event.start_date.valueOf()||D.end_date.valueOf()!=this._drag_event.end_date.valueOf())){var M=this._drag_mode=="new-size";if(this.callEvent("onBeforeEventChanged",[D,v,M,this._drag_event]))if(this._drag_id=this._drag_mode=null,M&&this.config.edit_on_create){if(this.unselect(),this._new_event=new Date,this._table_view||this.config.details_on_create||!this.config.select||!this.isOneDayEvent(this.getEvent(E)))return o.callEvent("onDragEnd",[E,b,v]),this.showLightbox(E);this._drag_pos=!0,this._select_id=this._edit_id=E}else this._new_event||this.callEvent(M?"onEventAdded":"onEventChanged",[E,this.getEvent(E)]);else M?this.deleteEvent(D.id,!0):(this._drag_event._dhx_changed=!1,this._clear_temporary_properties(D,this._drag_event),o._lame_copy(D,this._drag_event),this.updateEvent(D.id))}this._drag_pos&&(this._drag_pos.has_moved||this._drag_pos===!0)&&(this._drag_id=this._drag_mode=null,this.render_view_data()),o.callEvent("onDragEnd",[E,b,v])}this._drag_id=null,this._drag_mode=null,this._drag_pos=null}},o._trigger_dyn_loading=function(){return!(!this._load_mode||!this._load()||(this._render_wait=!0,0))},o.update_view=function(){this._reset_ignores(),this._update_nav_bar(this.config.header,this.$container.querySelector(".dhx_cal_navline"));var v=this[this._mode+"_view"];if(v?v.call(this,!0):this._reset_scale(),this._trigger_dyn_loading())return!0;this.render_view_data()},o.isViewExists=function(v){return!!(o[v+"_view"]||o.date[v+"_start"]&&o.templates[v+"_date"]&&o.templates[v+"_scale_date"])},o._set_aria_buttons_attrs=function(){for(var v=["dhx_cal_next_button","dhx_cal_prev_button","dhx_cal_tab","dhx_cal_today_button"],E=0;E<v.length;E++)for(var b=this._els[v[E]],S=0;b&&S<b.length;S++){var D=b[S].getAttribute("data-tab")||b[S].getAttribute("name"),M=this.locale.labels[v[E]];D&&(M=this.locale.labels[D+"_tab"]||this.locale.labels[D]||M),v[E]=="dhx_cal_next_button"?M=this.locale.labels.next:v[E]=="dhx_cal_prev_button"&&(M=this.locale.labels.prev),this._waiAria.headerButtonsAttributes(b[S],M||"")}},o.updateView=function(v,E){if(!this.$container)throw new Error(`The scheduler is not initialized. 
 **scheduler.updateView** or **scheduler.setCurrentView** can be called only after **scheduler.init**`);v=v||this._date,E=E||this._mode;var b=this._obj,S="dhx_scheduler_"+this._mode,D="dhx_scheduler_"+E;this._mode&&b.className.indexOf(S)!=-1?b.className=b.className.replace(S,D):b.className+=" "+D;var M,U=!(this._mode!=E||!this.config.preserve_scroll)&&this._els.dhx_cal_data[0].scrollTop;this._els.dhx_multi_day&&this._els.dhx_multi_day[0]&&(M=this._els.dhx_multi_day[0].scrollTop),this[this._mode+"_view"]&&E&&this._mode!=E&&this[this._mode+"_view"](!1),this._close_not_saved(),this._els.dhx_multi_day&&(this._els.dhx_multi_day[0].parentNode.removeChild(this._els.dhx_multi_day[0]),this._els.dhx_multi_day=null),this._mode=E,this._date=v,this._table_view=this._mode=="month",this._dy_shift=0,this.update_view(),this._set_aria_buttons_attrs();var F=this._els.dhx_cal_tab;if(F)for(var H=0;H<F.length;H++){var Q=F[H];Q.getAttribute("data-tab")==this._mode||Q.getAttribute("name")==this._mode+"_tab"?(Q.classList.add("active"),this._waiAria.headerToggleState(Q,!0)):(Q.classList.remove("active"),this._waiAria.headerToggleState(Q,!1))}typeof U=="number"&&(this._els.dhx_cal_data[0].scrollTop=U),typeof M=="number"&&this._els.dhx_multi_day&&this._els.dhx_multi_day[0]&&(this._els.dhx_multi_day[0].scrollTop=M)},o.setCurrentView=function(v,E){this.callEvent("onBeforeViewChange",[this._mode,this._date,E||this._mode,v||this._date])&&(this.updateView(v,E),this.callEvent("onViewChange",[this._mode,this._date]))},o.render=function(v,E){o.setCurrentView(v,E)},o._render_x_header=function(v,E,b,S,D){D=D||0;var M=document.createElement("div");M.className="dhx_scale_bar",this.templates[this._mode+"_scalex_class"]&&(M.className+=" "+this.templates[this._mode+"_scalex_class"](b));var U=this._cols[v]-1;this._mode=="month"&&v===0&&this.config.left_border&&(M.className+=" dhx_scale_bar_border",E+=1),this.set_xy(M,U,this.xy.scale_height-2,E,D);var F=this.templates[this._mode+"_scale_date"](b,this._mode);M.innerHTML=F,this._waiAria.dayHeaderAttr(M,F),S.appendChild(M)},o._get_columns_num=function(v,E){var b=7;if(!o._table_view){var S=o.date["get_"+o._mode+"_end"];S&&(E=S(v)),b=Math.round((E.valueOf()-v.valueOf())/864e5)}return b},o._get_timeunit_start=function(){return this.date[this._mode+"_start"](new Date(this._date.valueOf()))},o._get_view_end=function(){var v=this._get_timeunit_start(),E=o.date.add(v,1,this._mode);if(!o._table_view){var b=o.date["get_"+o._mode+"_end"];b&&(E=b(v))}return E},o._calc_scale_sizes=function(v,E,b){var S=this.config.rtl,D=v,M=this._get_columns_num(E,b);this._process_ignores(E,M,"day",1);for(var U=M-this._ignores_detected,F=0;F<M;F++)this._ignores[F]?(this._cols[F]=0,U++):this._cols[F]=Math.floor(D/(U-F)),D-=this._cols[F],this._colsS[F]=(this._cols[F-1]||0)+(this._colsS[F-1]||(this._table_view?0:(S?this.xy.scroll_width:this.xy.scale_width)+2));this._colsS.col_length=M,this._colsS[M]=this._cols[M-1]+this._colsS[M-1]||0},o._set_scale_col_size=function(v,E,b){var S=this.config;this.set_xy(v,E-1,S.hour_size_px*(S.last_hour-S.first_hour),b+this.xy.scale_width+1,0)},o._render_scales=function(v,E){var b=new Date(o._min_date),S=new Date(o._max_date),D=this.date.date_part(o._currentDate()),M=parseInt(v.style.width,10),U=new Date(this._min_date),F=this._get_columns_num(b,S);this._calc_scale_sizes(M,b,S);var H=0;v.innerHTML="";for(var Q=0;Q<F;Q++){if(this._ignores[Q]||this._render_x_header(Q,H,U,v),!this._table_view){var te=document.createElement("div"),G="dhx_scale_holder";U.valueOf()==D.valueOf()&&(G="dhx_scale_holder_now"),te.setAttribute("data-column-index",Q),this._ignores_detected&&this._ignores[Q]&&(G+=" dhx_scale_ignore"),te.className=G+" "+this.templates.week_date_class(U,D),this._waiAria.dayColumnAttr(te,U),this._set_scale_col_size(te,this._cols[Q],H),E.appendChild(te),this.callEvent("onScaleAdd",[te,U])}H+=this._cols[Q],U=this.date.add(U,1,"day"),U=this.date.day_start(U)}},o._getNavDateElement=function(){return this.$container.querySelector(".dhx_cal_date")},o._reset_scale=function(){if(this.templates[this._mode+"_date"]){var v=this._els.dhx_cal_header[0],E=this._els.dhx_cal_data[0],b=this.config;v.innerHTML="",E.innerHTML="";var S,D,M=(b.readonly||!b.drag_resize?" dhx_resize_denied":"")+(b.readonly||!b.drag_move?" dhx_move_denied":"");E.className="dhx_cal_data"+M,this._scales={},this._cols=[],this._colsS={height:0},this._dy_shift=0,this.set_sizes();var U=this._get_timeunit_start(),F=o._get_view_end();S=D=this._table_view?o.date.week_start(U):U,this._min_date=S;var H=this.templates[this._mode+"_date"](U,F,this._mode),Q=this._getNavDateElement();if(Q&&(Q.innerHTML=H,this._waiAria.navBarDateAttr(Q,H)),this._max_date=F,o._render_scales(v,E),this._table_view)this._reset_month_scale(E,U,D);else if(this._reset_hours_scale(E,U,D),b.multi_day){this._els.dhx_multi_day&&(this._els.dhx_multi_day[0].parentNode.removeChild(this._els.dhx_multi_day[0]),this._els.dhx_multi_day=null);var te=this._els.dhx_cal_navline[0].offsetHeight+this._els.dhx_cal_header[0].offsetHeight+1,G=document.createElement("div");G.className="dhx_multi_day",G.style.visibility="hidden";var re=this._colsS[this._colsS.col_length],q=b.rtl?this.xy.scale_width:this.xy.scroll_width,ee=Math.max(re+q-2,0);this.set_xy(G,ee,0,0,te),E.parentNode.insertBefore(G,E);var J=G.cloneNode(!0);J.className="dhx_multi_day_icon",J.style.visibility="hidden",this.set_xy(J,this.xy.scale_width,0,0,te),G.appendChild(J),this._els.dhx_multi_day=[G,J],o.event(this._els.dhx_multi_day[0],"click",this._click.dhx_cal_data)}}},o._reset_hours_scale=function(v,E,b){var S=document.createElement("div");S.className="dhx_scale_holder";for(var D=new Date(1980,1,1,this.config.first_hour,0,0),M=1*this.config.first_hour;M<this.config.last_hour;M++){var U=document.createElement("div");U.className="dhx_scale_hour",U.style.height=this.config.hour_size_px+"px";var F=this.xy.scale_width;this.config.left_border&&(U.className+=" dhx_scale_hour_border"),U.style.width=F+"px";var H=o.templates.hour_scale(D);U.innerHTML=H,this._waiAria.hourScaleAttr(U,H),S.appendChild(U),D=this.date.add(D,1,"hour")}v.appendChild(S),this.config.scroll_hour&&(v.scrollTop=this.config.hour_size_px*(this.config.scroll_hour-this.config.first_hour))},o._currentDate=function(){return o.config.now_date?new Date(o.config.now_date):new Date},o._reset_ignores=function(){this._ignores={},this._ignores_detected=0},o._process_ignores=function(v,E,b,S,D){this._reset_ignores();var M=o["ignore_"+this._mode];if(M)for(var U=new Date(v),F=0;F<E;F++)M(U)&&(this._ignores_detected+=1,this._ignores[F]=!0,D&&E++),U=o.date.add(U,S,b),o.date[b+"_start"]&&(U=o.date[b+"_start"](U))},o._render_month_scale=function(v,E,b,S){var D=o.date.add(E,1,"month"),M=new Date(b),U=o._currentDate();this.date.date_part(U),this.date.date_part(b),S=S||Math.ceil(Math.round((D.valueOf()-b.valueOf())/864e5)/7);for(var F=[],H=0;H<=7;H++){var Q=(this._cols[H]||0)-1;H===0&&this.config.left_border&&(Q-=1),F[H]=Q+"px"}function te(Ei){var ma=o._colsS.height;return o._colsS.heights[Ei+1]!==void 0&&(ma=o._colsS.heights[Ei+1]-(o._colsS.heights[Ei]||0)),ma}var G=0,re=document.createElement("table");re.setAttribute("cellpadding","0"),re.setAttribute("cellspacing","0");var q=document.createElement("tbody");re.appendChild(q);var ee=[];for(H=0;H<S;H++){var J=document.createElement("tr");q.appendChild(J);for(var ye=Math.max(te(H)-o.xy.month_head_height,0),Se=0;Se<7;Se++){var be=document.createElement("td");J.appendChild(be);var Ie="";b<E?Ie="dhx_before":b>=D?Ie="dhx_after":b.valueOf()==U.valueOf()&&(Ie="dhx_now"),this._ignores_detected&&this._ignores[Se]&&(Ie+=" dhx_scale_ignore"),be.className=Ie+" "+this.templates.month_date_class(b,U),be.setAttribute("data-cell-date",o.templates.format_date(b));var Te="dhx_month_body",Fe="dhx_month_head";if(Se===0&&this.config.left_border&&(Te+=" dhx_month_body_border",Fe+=" dhx_month_head_border"),this._ignores_detected&&this._ignores[Se])be.appendChild(document.createElement("div")),be.appendChild(document.createElement("div"));else{this._waiAria.monthCellAttr(be,b);var qe=document.createElement("div");qe.className=Fe,qe.innerHTML=this.templates.month_day(b),be.appendChild(qe);var Xe=document.createElement("div");Xe.className=Te,Xe.style.height=ye+"px",Xe.style.width=F[Se],be.appendChild(Xe)}ee.push(b);var Tt=b.getDate();(b=this.date.add(b,1,"day")).getDate()-Tt>1&&(b=new Date(b.getFullYear(),b.getMonth(),Tt+1,12,0))}o._colsS.heights[H]=G,G+=te(H)}this._min_date=M,this._max_date=b,v.innerHTML="",v.appendChild(re),this._scales={};var ur=v.getElementsByTagName("div");for(H=0;H<ee.length;H++){v=ur[2*H+1];var Fr=ee[H];this._scales[+Fr]=v}for(H=0;H<ee.length;H++)Fr=ee[H],this.callEvent("onScaleAdd",[this._scales[+Fr],Fr]);return this._max_date},o._reset_month_scale=function(v,E,b,S){var D=o.date.add(E,1,"month"),M=o._currentDate();this.date.date_part(M),this.date.date_part(b),S=S||Math.ceil(Math.round((D.valueOf()-b.valueOf())/864e5)/7);var U=Math.floor(v.clientHeight/S)-this.xy.month_head_height;return this._colsS.height=U+this.xy.month_head_height,this._colsS.heights=[],o._render_month_scale(v,E,b,S)},o.getView=function(v){return v||(v=o.getState().mode),o.matrix&&o.matrix[v]?o.matrix[v]:o._props&&o._props[v]?o._props[v]:null},o.getLabel=function(v,E){for(var b=this.config.lightbox.sections,S=0;S<b.length;S++)if(b[S].map_to==v){for(var D=b[S].options,M=0;M<D.length;M++)if(D[M].key==E)return D[M].label}return""},o.updateCollection=function(v,E){var b=o.serverList(v);return!!b&&(b.splice(0,b.length),b.push.apply(b,E||[]),o.callEvent("onOptionsLoad",[]),o.resetLightbox(),o.hideCover(),!0)},o._lame_clone=function(v,E){var b,S,D;for(E=E||[],b=0;b<E.length;b+=2)if(v===E[b])return E[b+1];if(v&&T(v)=="object"){for(D=Object.create(v),S=[Array,Date,Number,String,Boolean],b=0;b<S.length;b++)v instanceof S[b]&&(D=b?new S[b](v):new S[b]);for(b in E.push(v,D),v)Object.prototype.hasOwnProperty.apply(v,[b])&&(D[b]=o._lame_clone(v[b],E))}return D||v},o._lame_copy=function(v,E){for(var b in E)E.hasOwnProperty(b)&&(v[b]=E[b]);return v},o._get_date_from_pos=function(v){var E=this._min_date.valueOf()+6e4*(v.y*this.config.time_step+24*(this._table_view?0:v.x)*60);return new Date(this._correct_shift(E))},o.getActionData=function(v){var E=this._mouse_coords(v);return{date:this._get_date_from_pos(E),section:E.section}},o._focus=function(v,E){if(v&&v.focus)if(this._mobile)window.setTimeout(function(){v.focus()},10);else try{E&&v.select&&v.offsetWidth&&v.select(),v.focus()}catch{}},o._get_real_event_length=function(v,E,b){var S,D=E-v,M=b._start_correction+b._end_correction||0,U=this["ignore_"+this._mode],F=0;b.render?(F=this._get_date_index(b,v),S=this._get_date_index(b,E)):S=Math.round(D/60/60/1e3/24);for(var H=!0;F<S;){var Q=o.date.add(E,-b.x_step,b.x_unit);U&&U(E)&&(!H||H&&U(Q))?D-=E-Q:(H=!1,D-=M),E=Q,S--}return D},o._get_fictional_event_length=function(v,E,b,S){var D=new Date(v),M=S?-1:1;if(b._start_correction||b._end_correction){var U;U=S?60*D.getHours()+D.getMinutes()-60*(b.first_hour||0):60*(b.last_hour||0)-(60*D.getHours()+D.getMinutes());var F=60*(b.last_hour-b.first_hour),H=Math.ceil((E/6e4-U)/F);H<0&&(H=0),E+=H*(1440-F)*60*1e3}var Q,te=new Date(1*v+E*M),G=this["ignore_"+this._mode],re=0;for(b.render?(re=this._get_date_index(b,D),Q=this._get_date_index(b,te)):Q=Math.round(E/60/60/1e3/24);re*M<=Q*M;){var q=o.date.add(D,b.x_step*M,b.x_unit);G&&G(D)&&(E+=(q-D)*M,Q+=M),D=q,re+=M}return E},o._get_section_view=function(){return this.getView()},o._get_section_property=function(){return this.matrix&&this.matrix[this._mode]?this.matrix[this._mode].y_property:this._props&&this._props[this._mode]?this._props[this._mode].map_to:null},o._is_initialized=function(){var v=this.getState();return this._obj&&v.date&&v.mode},o._is_lightbox_open=function(){var v=this.getState();return v.lightbox_id!==null&&v.lightbox_id!==void 0}}(w),function(o){(function(){var c=new RegExp(`<(?:.|
)*?>`,"gm"),u=new RegExp(" +","gm");function f(E){return(E+"").replace(c," ").replace(u," ")}var y=new RegExp("'","gm");function x(E){return(E+"").replace(y,"&#39;")}for(var v in o._waiAria={getAttributeString:function(E){var b=[" "];for(var S in E)if(typeof E[S]!="function"&&P(E[S])!="object"){var D=x(f(E[S]));b.push(S+"='"+D+"'")}return b.push(" "),b.join(" ")},setAttributes:function(E,b){for(var S in b)E.setAttribute(S,f(b[S]));return E},labelAttr:function(E,b){return this.setAttributes(E,{"aria-label":b})},label:function(E){return o._waiAria.getAttributeString({"aria-label":E})},hourScaleAttr:function(E,b){this.labelAttr(E,b)},monthCellAttr:function(E,b){this.labelAttr(E,o.templates.day_date(b))},navBarDateAttr:function(E,b){this.labelAttr(E,b)},dayHeaderAttr:function(E,b){this.labelAttr(E,b)},dayColumnAttr:function(E,b){this.dayHeaderAttr(E,o.templates.day_date(b))},headerButtonsAttributes:function(E,b){return this.setAttributes(E,{role:"button","aria-label":b})},headerToggleState:function(E,b){return this.setAttributes(E,{"aria-pressed":b?"true":"false"})},getHeaderCellAttr:function(E){return o._waiAria.getAttributeString({"aria-label":E})},eventAttr:function(E,b){this._eventCommonAttr(E,b)},_eventCommonAttr:function(E,b){b.setAttribute("aria-label",f(o.templates.event_text(E.start_date,E.end_date,E))),o.config.readonly&&b.setAttribute("aria-readonly",!0),E.$dataprocessor_class&&b.setAttribute("aria-busy",!0),b.setAttribute("aria-selected",o.getState().select_id==E.id?"true":"false")},setEventBarAttr:function(E,b){this._eventCommonAttr(E,b)},_getAttributes:function(E,b){var S={setAttribute:function(D,M){this[D]=M}};return E.apply(this,[b,S]),S},eventBarAttrString:function(E){return this.getAttributeString(this._getAttributes(this.setEventBarAttr,E))},agendaHeadAttrString:function(){return this.getAttributeString({role:"row"})},agendaHeadDateString:function(E){return this.getAttributeString({role:"columnheader","aria-label":E})},agendaHeadDescriptionString:function(E){return this.agendaHeadDateString(E)},agendaDataAttrString:function(){return this.getAttributeString({role:"grid"})},agendaEventAttrString:function(E){var b=this._getAttributes(this._eventCommonAttr,E);return b.role="row",this.getAttributeString(b)},agendaDetailsBtnString:function(){return this.getAttributeString({role:"button","aria-label":o.locale.labels.icon_details})},gridAttrString:function(){return this.getAttributeString({role:"grid"})},gridRowAttrString:function(E){return this.agendaEventAttrString(E)},gridCellAttrString:function(E,b,S){return this.getAttributeString({role:"gridcell","aria-label":[b.label===void 0?b.id:b.label,": ",S]})},mapAttrString:function(){return this.gridAttrString()},mapRowAttrString:function(E){return this.gridRowAttrString(E)},mapDetailsBtnString:function(){return this.agendaDetailsBtnString()},minicalHeader:function(E,b){this.setAttributes(E,{id:b+"","aria-live":"assertice","aria-atomic":"true"})},minicalGrid:function(E,b){this.setAttributes(E,{"aria-labelledby":b+"",role:"grid"})},minicalRow:function(E){this.setAttributes(E,{role:"row"})},minicalDayCell:function(E,b){var S=b.valueOf()<o._max_date.valueOf()&&b.valueOf()>=o._min_date.valueOf();this.setAttributes(E,{role:"gridcell","aria-label":o.templates.day_date(b),"aria-selected":S?"true":"false"})},minicalHeadCell:function(E){this.setAttributes(E,{role:"columnheader"})},weekAgendaDayCell:function(E,b){var S=E.querySelector(".dhx_wa_scale_bar"),D=E.querySelector(".dhx_wa_day_data"),M=o.uid()+"";this.setAttributes(S,{id:M}),this.setAttributes(D,{"aria-labelledby":M})},weekAgendaEvent:function(E,b){this.eventAttr(b,E)},lightboxHiddenAttr:function(E){E.setAttribute("aria-hidden","true")},lightboxVisibleAttr:function(E){E.setAttribute("aria-hidden","false")},lightboxSectionButtonAttrString:function(E){return this.getAttributeString({role:"button","aria-label":E,tabindex:"0"})},yearHeader:function(E,b){this.setAttributes(E,{id:b+""})},yearGrid:function(E,b){this.minicalGrid(E,b)},yearHeadCell:function(E){return this.minicalHeadCell(E)},yearRow:function(E){return this.minicalRow(E)},yearDayCell:function(E){this.setAttributes(E,{role:"gridcell"})},lightboxAttr:function(E){E.setAttribute("role","dialog"),E.setAttribute("aria-hidden","true"),E.firstChild.setAttribute("role","heading")},lightboxButtonAttrString:function(E){return this.getAttributeString({role:"button","aria-label":o.locale.labels[E],tabindex:"0"})},eventMenuAttrString:function(E){return this.getAttributeString({role:"button","aria-label":o.locale.labels[E]})},lightboxHeader:function(E,b){E.setAttribute("aria-label",b)},lightboxSelectAttrString:function(E){var b="";switch(E){case"%Y":b=o.locale.labels.year;break;case"%m":b=o.locale.labels.month;break;case"%d":b=o.locale.labels.day;break;case"%H:%i":b=o.locale.labels.hour+" "+o.locale.labels.minute}return o._waiAria.getAttributeString({"aria-label":b})},messageButtonAttrString:function(E){return"tabindex='0' role='button' aria-label='"+E+"'"},messageInfoAttr:function(E){E.setAttribute("role","alert")},messageModalAttr:function(E,b){E.setAttribute("role","dialog"),b&&E.setAttribute("aria-labelledby",b)},quickInfoAttr:function(E){E.setAttribute("role","dialog")},quickInfoHeaderAttrString:function(){return" role='heading' "},quickInfoHeader:function(E,b){E.setAttribute("aria-label",b)},quickInfoButtonAttrString:function(E){return o._waiAria.getAttributeString({role:"button","aria-label":E,tabindex:"0"})},tooltipAttr:function(E){E.setAttribute("role","tooltip")},tooltipVisibleAttr:function(E){E.setAttribute("aria-hidden","false")},tooltipHiddenAttr:function(E){E.setAttribute("aria-hidden","true")}},o._waiAria)o._waiAria[v]=function(E){return function(){return o.config.wai_aria_attributes?E.apply(this,arguments):" "}}(o._waiAria[v])})()}(w),w.utils=V,w.$domHelpers=xe,w.utils.dom=xe,w.uid=V.uid,w.mixin=V.mixin,w.defined=V.defined,w.assert=function(o){return function(c,u){c||o.config.show_errors&&o.callEvent("onError",[u])!==!1&&(o.message?o.message({type:"error",text:u,expire:-1}):console.log(u))}}(w),w.copy=V.copy,w._getFocusableNodes=xe.getFocusableNodes,w._getClassName=xe.getClassName,w._locate_css=xe.locateCss;var d=we(w);w.utils.mixin(w,d),w.env=w.$env=tt,w.Promise=fe,function(o){o.destructor=function(){for(var c in o.callEvent("onDestroy",[]),this.clearAll(),this.$container&&(this.$container.innerHTML=""),this._eventRemoveAll&&this._eventRemoveAll(),this.resetLightbox&&this.resetLightbox(),this._dp&&this._dp.destructor&&this._dp.destructor(),this.detachAllEvents(),this)c.indexOf("$")===0&&delete this[c];o.$destroyed=!0}}(w),function(o){function c(u,f){var y={method:u};if(f.length===0)throw new Error("Arguments list of query is wrong.");if(f.length===1)return typeof f[0]=="string"?(y.url=f[0],y.async=!0):(y.url=f[0].url,y.async=f[0].async||!0,y.callback=f[0].callback,y.headers=f[0].headers),f[0].data?typeof f[0].data!="string"?y.data=Ce()(f[0].data):y.data=f[0].data:y.data="",y;switch(y.url=f[0],u){case"GET":case"DELETE":y.callback=f[1],y.headers=f[2];break;case"POST":case"PUT":f[1]?typeof f[1]!="string"?y.data=Ce()(f[1]):y.data=f[1]:y.data="",y.callback=f[2],y.headers=f[3]}return y}o.Promise=fe,o.ajax={cache:!0,method:"get",serializeRequestParams:Ce.a,parse:function(u){return typeof u!="string"?u:(u=u.replace(/^[\s]+/,""),typeof DOMParser>"u"||o.$env.isIE?window.ActiveXObject!==void 0&&((f=new window.ActiveXObject("Microsoft.XMLDOM")).async="false",f.loadXML(u)):f=new DOMParser().parseFromString(u,"text/xml"),f);var f},xmltop:function(u,f,y){if(f.status===void 0||f.status<400){var x=f.responseXML?f.responseXML||f:this.parse(f.responseText||f);if(x&&x.documentElement!==null&&!x.getElementsByTagName("parsererror").length)return x.getElementsByTagName(u)[0]}return y!==-1&&o.callEvent("onLoadXMLError",["Incorrect XML",arguments[1],y]),document.createElement("DIV")},xpath:function(u,f){if(f.nodeName||(f=f.responseXML||f),o.$env.isIE)return f.selectNodes(u)||[];for(var y,x=[],v=(f.ownerDocument||f).evaluate(u,f,null,XPathResult.ANY_TYPE,null);y=v.iterateNext();)x.push(y);return x},query:function(u){return this._call(u.method||"GET",u.url,u.data||"",u.async||!0,u.callback,u.headers)},get:function(u,f,y){var x=c("GET",arguments);return this.query(x)},getSync:function(u,f){var y=c("GET",arguments);return y.async=!1,this.query(y)},put:function(u,f,y,x){var v=c("PUT",arguments);return this.query(v)},del:function(u,f,y){var x=c("DELETE",arguments);return this.query(x)},post:function(u,f,y,x){(arguments.length==1||arguments.length==2&&typeof f=="function")&&(f="");var v=c("POST",arguments);return this.query(v)},postSync:function(u,f,y){f=f===null?"":String(f);var x=c("POST",arguments);return x.async=!1,this.query(x)},_call:function(u,f,y,x,v,E){return new o.Promise(function(b,S){var D=(typeof XMLHttpRequest>"u"?"undefined":ze(XMLHttpRequest))===void 0||o.$env.isIE?new window.ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest,M=navigator.userAgent.match(/AppleWebKit/)!==null&&navigator.userAgent.match(/Qt/)!==null&&navigator.userAgent.match(/Safari/)!==null;if(x&&D.addEventListener("readystatechange",function(){if(D.readyState==4||M&&D.readyState==3){if((D.status!=200||D.responseText==="")&&!o.callEvent("onAjaxError",[D]))return;setTimeout(function(){typeof v=="function"&&v.apply(window,[{xmlDoc:D,filePath:f}]),b(D),typeof v=="function"&&(v=null,D=null)},0)}}),u!="GET"||this.cache||(f+=(f.indexOf("?")>=0?"&":"?")+"dhxr"+new Date().getTime()+"=1"),D.open(u,f,x),E)for(var U in E)D.setRequestHeader(U,E[U]);else u.toUpperCase()=="POST"||u=="PUT"||u=="DELETE"?D.setRequestHeader("Content-Type","application/x-www-form-urlencoded"):u=="GET"&&(y=null);if(D.setRequestHeader("X-Requested-With","XMLHttpRequest"),D.send(y),!x)return{xmlDoc:D,filePath:f}}.bind(this))},urlSeparator:function(u){return u.indexOf("?")!=-1?"&":"?"}},o.$ajax=o.ajax}(w),Ye(w),function(o){o.config={default_date:"%j %M %Y",month_date:"%F %Y",load_date:"%Y-%m-%d",week_date:"%l",day_date:"%D, %F %j",hour_date:"%H:%i",month_day:"%d",date_format:"%Y-%m-%d %H:%i",api_date:"%d-%m-%Y %H:%i",parse_exact_format:!1,preserve_length:!0,time_step:5,start_on_monday:!0,first_hour:0,last_hour:24,readonly:!1,drag_resize:!0,drag_move:!0,drag_create:!0,drag_event_body:!0,dblclick_create:!0,edit_on_create:!0,details_on_create:!1,header:null,resize_month_events:!1,resize_month_timed:!1,responsive_lightbox:!1,rtl:!1,cascade_event_display:!1,cascade_event_count:4,cascade_event_margin:30,multi_day:!0,multi_day_height_limit:0,drag_lightbox:!0,preserve_scroll:!0,select:!0,server_utc:!1,touch:!0,touch_tip:!0,touch_drag:500,touch_swipe_dates:!1,quick_info_detached:!0,positive_closing:!1,drag_highlight:!0,limit_drag_out:!1,icons_edit:["icon_save","icon_cancel"],icons_select:["icon_details","icon_edit","icon_delete"],buttons_left:["dhx_save_btn","dhx_cancel_btn"],buttons_right:["dhx_delete_btn"],lightbox:{sections:[{name:"description",map_to:"text",type:"textarea",focus:!0},{name:"time",height:72,type:"time",map_to:"auto"}]},highlight_displayed_event:!0,left_border:!1,ajax_error:"alert",delay_render:0,timeline_swap_resize:!0,wai_aria_attributes:!0,wai_aria_application_role:!0,csp:"auto",event_attribute:"data-event-id",show_errors:!0},o.config.buttons_left.$initial=o.config.buttons_left.join(),o.config.buttons_right.$initial=o.config.buttons_right.join(),o._helpers={parseDate:function(c){return(o.templates.xml_date||o.templates.parse_date)(c)},formatDate:function(c){return(o.templates.xml_format||o.templates.format_date)(c)}},o.templates={},o.init_templates=function(){var c=o.locale.labels;c.dhx_save_btn=c.icon_save,c.dhx_cancel_btn=c.icon_cancel,c.dhx_delete_btn=c.icon_delete;var u=o.date.date_to_str,f=o.config;(function(y,x){for(var v in x)y[v]||(y[v]=x[v])})(o.templates,{day_date:u(f.default_date),month_date:u(f.month_date),week_date:function(y,x){return f.rtl?o.templates.day_date(o.date.add(x,-1,"day"))+" &ndash; "+o.templates.day_date(y):o.templates.day_date(y)+" &ndash; "+o.templates.day_date(o.date.add(x,-1,"day"))},day_scale_date:u(f.default_date),month_scale_date:u(f.week_date),week_scale_date:u(f.day_date),hour_scale:u(f.hour_date),time_picker:u(f.hour_date),event_date:u(f.hour_date),month_day:u(f.month_day),load_format:u(f.load_date),format_date:u(f.date_format,f.server_utc),parse_date:o.date.str_to_date(f.date_format,f.server_utc),api_date:o.date.str_to_date(f.api_date,!1,!1),event_header:function(y,x,v){return o.templates.event_date(y)+" - "+o.templates.event_date(x)},event_text:function(y,x,v){return v.text},event_class:function(y,x,v){return""},month_date_class:function(y){return""},week_date_class:function(y){return""},event_bar_date:function(y,x,v){return o.templates.event_date(y)+" "},event_bar_text:function(y,x,v){return v.text},month_events_link:function(y,x){return"<a>View more("+x+" events)</a>"},drag_marker_class:function(y,x,v){return""},drag_marker_content:function(y,x,v){return""},tooltip_date_format:o.date.date_to_str("%Y-%m-%d %H:%i"),tooltip_text:function(y,x,v){return"<b>Event:</b> "+v.text+"<br/><b>Start date:</b> "+o.templates.tooltip_date_format(y)+"<br/><b>End date:</b> "+o.templates.tooltip_date_format(x)}}),this.callEvent("onTemplatesReady",[])}}(w),function(o){o._events={},o.clearAll=function(){this._events={},this._loaded={},this._edit_id=null,this._select_id=null,this._drag_id=null,this._drag_mode=null,this._drag_pos=null,this._new_event=null,this.clear_view(),this.callEvent("onClearAll",[])},o.addEvent=function(c,u,f,y,x){if(!arguments.length)return this.addEventNow();var v=c;arguments.length!=1&&((v=x||{}).start_date=c,v.end_date=u,v.text=f,v.id=y),v.id=v.id||o.uid(),v.text=v.text||"",typeof v.start_date=="string"&&(v.start_date=this.templates.api_date(v.start_date)),typeof v.end_date=="string"&&(v.end_date=this.templates.api_date(v.end_date));var E=6e4*(this.config.event_duration||this.config.time_step);v.start_date.valueOf()==v.end_date.valueOf()&&v.end_date.setTime(v.end_date.valueOf()+E),v.start_date.setMilliseconds(0),v.end_date.setMilliseconds(0),v._timed=this.isOneDayEvent(v);var b=!this._events[v.id];return this._events[v.id]=v,this.event_updated(v),this._loading||this.callEvent(b?"onEventAdded":"onEventChanged",[v.id,v]),v.id},o.deleteEvent=function(c,u){var f=this._events[c];(u||this.callEvent("onBeforeEventDelete",[c,f])&&this.callEvent("onConfirmedBeforeEventDelete",[c,f]))&&(f&&(o.getState().select_id==c&&o.unselect(),delete this._events[c],this.event_updated(f),this._drag_id==f.id&&(this._drag_id=null,this._drag_mode=null,this._drag_pos=null)),this.callEvent("onEventDeleted",[c,f]))},o.getEvent=function(c){return this._events[c]},o.setEvent=function(c,u){u.id||(u.id=c),this._events[c]=u},o.for_rendered=function(c,u){for(var f=this._rendered.length-1;f>=0;f--)this._rendered[f].getAttribute(this.config.event_attribute)==c&&u(this._rendered[f],f)},o.changeEventId=function(c,u){if(c!=u){var f=this._events[c];f&&(f.id=u,this._events[u]=f,delete this._events[c]),this.for_rendered(c,function(y){y.setAttribute("event_id",u),y.setAttribute(o.config.event_attribute,u)}),this._select_id==c&&(this._select_id=u),this._edit_id==c&&(this._edit_id=u),this.callEvent("onEventIdChange",[c,u])}},function(){for(var c=["text","Text","start_date","StartDate","end_date","EndDate"],u=function(x){return function(v){return o.getEvent(v)[x]}},f=function(x){return function(v,E){var b=o.getEvent(v);b[x]=E,b._changed=!0,b._timed=this.isOneDayEvent(b),o.event_updated(b,!0)}},y=0;y<c.length;y+=2)o["getEvent"+c[y+1]]=u(c[y]),o["setEvent"+c[y+1]]=f(c[y])}(),o.event_updated=function(c,u){this.is_visible_events(c)?this.render_view_data():this.clear_event(c.id)},o.is_visible_events=function(c){if(!this._min_date||!this._max_date)return!1;if(c.start_date.valueOf()<this._max_date.valueOf()&&this._min_date.valueOf()<c.end_date.valueOf()){var u=c.start_date.getHours(),f=c.end_date.getHours()+c.end_date.getMinutes()/60,y=this.config.last_hour,x=this.config.first_hour;return!(!this._table_view&&(f>y||f<=x)&&(u>=y||u<x)&&!((c.end_date.valueOf()-c.start_date.valueOf())/36e5>24-(this.config.last_hour-this.config.first_hour)||u<y&&f>x))}return!1},o.isOneDayEvent=function(c){var u=new Date(c.end_date.valueOf()-1);return c.start_date.getFullYear()===u.getFullYear()&&c.start_date.getMonth()===u.getMonth()&&c.start_date.getDate()===u.getDate()&&c.end_date.valueOf()-c.start_date.valueOf()<864e5},o.get_visible_events=function(c){var u=[];for(var f in this._events)this.is_visible_events(this._events[f])&&(c&&!this._events[f]._timed||this.filter_event(f,this._events[f])&&u.push(this._events[f]));return u},o.filter_event=function(c,u){var f=this["filter_"+this._mode];return!f||f(c,u)},o._is_main_area_event=function(c){return!!c._timed},o.render_view_data=function(c,u){var f=!1;if(!c){if(f=!0,this._not_render)return void(this._render_wait=!0);this._render_wait=!1,this.clear_view(),c=this.get_visible_events(!(this._table_view||this.config.multi_day))}for(var y=0,x=c.length;y<x;y++)this._recalculate_timed(c[y]);if(this.config.multi_day&&!this._table_view){var v=[],E=[];for(y=0;y<c.length;y++)this._is_main_area_event(c[y])?v.push(c[y]):E.push(c[y]);if(!this._els.dhx_multi_day){var b=o._commonErrorMessages.unknownView(this._mode);throw new Error(b)}this._rendered_location=this._els.dhx_multi_day[0],this._table_view=!0,this.render_data(E,u),this._table_view=!1,this._rendered_location=this._els.dhx_cal_data[0],this._table_view=!1,this.render_data(v,u)}else{var S=document.createDocumentFragment(),D=this._els.dhx_cal_data[0];this._rendered_location=S,this.render_data(c,u),D.appendChild(S),this._rendered_location=D}f&&this.callEvent("onDataRender",[])},o._view_month_day=function(c){var u=o.getActionData(c).date;o.callEvent("onViewMoreClick",[u])&&o.setCurrentView(u,"day")},o._render_month_link=function(c){for(var u=this._rendered_location,f=this._lame_clone(c),y=c._sday;y<c._eday;y++){f._sday=y,f._eday=y+1;var x=o.date,v=o._min_date;v=x.add(v,f._sweek,"week"),v=x.add(v,f._sday,"day");var E=o.getEvents(v,x.add(v,1,"day")).length,b=this._get_event_bar_pos(f),S=b.x2-b.x,D=document.createElement("div");o.event(D,"click",function(M){o._view_month_day(M)}),D.className="dhx_month_link",D.style.top=b.y+"px",D.style.left=b.x+"px",D.style.width=S+"px",D.innerHTML=o.templates.month_events_link(v,E),this._rendered.push(D),u.appendChild(D)}},o._recalculate_timed=function(c){var u;c&&(u=Ht(c)!="object"?this._events[c]:c)&&(u._timed=o.isOneDayEvent(u))},o.attachEvent("onEventChanged",o._recalculate_timed),o.attachEvent("onEventAdded",o._recalculate_timed),o.render_data=function(c,u){c=this._pre_render_events(c,u);for(var f={},y=0;y<c.length;y++)if(this._table_view)if(o._mode!="month")this.render_event_bar(c[y]);else{var x=o.config.max_month_events;x!==1*x||c[y]._sorder<x?this.render_event_bar(c[y]):x!==void 0&&c[y]._sorder==x&&o._render_month_link(c[y])}else{var v=c[y],E=o.locate_holder(v._sday);if(!E)continue;f[v._sday]||(f[v._sday]={real:E,buffer:document.createDocumentFragment(),width:E.clientWidth});var b=f[v._sday];this.render_event(v,b.buffer,b.width)}for(var y in f)(b=f[y]).real&&b.buffer&&b.real.appendChild(b.buffer)},o._get_first_visible_cell=function(c){for(var u=0;u<c.length;u++)if((c[u].className||"").indexOf("dhx_scale_ignore")==-1)return c[u];return c[0]},o._pre_render_events=function(c,u){var f=this.xy.bar_height,y=this._colsS.heights,x=this._colsS.heights=[0,0,0,0,0,0,0],v=this._els.dhx_cal_data[0];if(c=this._table_view?this._pre_render_events_table(c,u):this._pre_render_events_line(c,u),this._table_view)if(u)this._colsS.heights=y;else{var E=v.firstChild;if(E.rows){for(var b=0;b<E.rows.length;b++){x[b]++;var S=E.rows[b].cells,D=this._colsS.height-this.xy.month_head_height;if(x[b]*f>D){var M=D;1*this.config.max_month_events!==this.config.max_month_events||x[b]<=this.config.max_month_events?M=x[b]*f:(this.config.max_month_events+1)*f>D&&(M=(this.config.max_month_events+1)*f);for(var U=0;U<S.length;U++)S[U].childNodes[1].style.height=M+"px"}x[b]=(x[b-1]||0)+o._get_first_visible_cell(S).offsetHeight}if(x.unshift(0),E.parentNode.offsetHeight<E.parentNode.scrollHeight&&!o._colsS.scroll_fix&&o.xy.scroll_width){var F=o._colsS,H=F[F.col_length],Q=F.heights.slice();H-=o.xy.scroll_width||0,this._calc_scale_sizes(H,this._min_date,this._max_date),o._colsS.heights=Q,this.set_xy(this._els.dhx_cal_header[0],H,this.xy.scale_height),o._render_scales(this._els.dhx_cal_header[0]),o._render_month_scale(this._els.dhx_cal_data[0],this._get_timeunit_start(),this._min_date),F.scroll_fix=!0}}else if(c.length||this._els.dhx_multi_day[0].style.visibility!="visible"||(x[0]=-1),c.length||x[0]==-1){var te=(x[0]+1)*f+1,G=te,re=te+"px";this.config.multi_day_height_limit&&(re=(G=Math.min(te,this.config.multi_day_height_limit))+"px"),v.style.top=this._els.dhx_cal_navline[0].offsetHeight+this._els.dhx_cal_header[0].offsetHeight+G+"px",v.style.height=this._obj.offsetHeight-parseInt(v.style.top,10)-(this.xy.margin_top||0)+"px";var q=this._els.dhx_multi_day[0];q.style.height=re,q.style.visibility=x[0]==-1?"hidden":"visible";var ee=this._els.dhx_multi_day[1];ee.style.height=re,ee.style.visibility=x[0]==-1?"hidden":"visible",ee.className=x[0]?"dhx_multi_day_icon":"dhx_multi_day_icon_small",this._dy_shift=(x[0]+1)*f,this.config.multi_day_height_limit&&(this._dy_shift=Math.min(this.config.multi_day_height_limit,this._dy_shift)),x[0]=0,G!=te&&(v.style.top=parseInt(v.style.top)+2+"px",q.style.overflowY="auto",ee.style.position="fixed",ee.style.top="",ee.style.left="")}}return c},o._get_event_sday=function(c){var u=this.date.day_start(new Date(c.start_date));return Math.round((u.valueOf()-this._min_date.valueOf())/864e5)},o._get_event_mapped_end_date=function(c){var u=c.end_date;if(this.config.separate_short_events){var f=(c.end_date-c.start_date)/6e4;f<this._min_mapped_duration&&(u=this.date.add(u,this._min_mapped_duration-f,"minute"))}return u},o._pre_render_events_line=function(c,u){c.sort(function(q,ee){return q.start_date.valueOf()==ee.start_date.valueOf()?q.id>ee.id?1:-1:q.start_date>ee.start_date?1:-1});var f=[],y=[];this._min_mapped_duration=Math.ceil(60*this.xy.min_event_height/this.config.hour_size_px);for(var x=0;x<c.length;x++){var v=c[x],E=v.start_date,b=v.end_date,S=E.getHours(),D=b.getHours();if(v._sday=this._get_event_sday(v),this._ignores[v._sday])c.splice(x,1),x--;else{if(f[v._sday]||(f[v._sday]=[]),!u){v._inner=!1;for(var M=f[v._sday];M.length;){var U=M[M.length-1];if(!(this._get_event_mapped_end_date(U).valueOf()<=v.start_date.valueOf()))break;M.splice(M.length-1,1)}for(var F=M.length,H=!1,Q=0;Q<M.length;Q++)if(U=M[Q],this._get_event_mapped_end_date(U).valueOf()<=v.start_date.valueOf()){H=!0,v._sorder=U._sorder,F=Q,v._inner=!0;break}if(M.length&&(M[M.length-1]._inner=!0),!H)if(M.length)if(M.length<=M[M.length-1]._sorder){if(M[M.length-1]._sorder)for(Q=0;Q<M.length;Q++){for(var te=!1,G=0;G<M.length;G++)if(M[G]._sorder==Q){te=!0;break}if(!te){v._sorder=Q;break}}else v._sorder=0;v._inner=!0}else{var re=M[0]._sorder;for(Q=1;Q<M.length;Q++)M[Q]._sorder>re&&(re=M[Q]._sorder);v._sorder=re+1,v._inner=!1}else v._sorder=0;M.splice(F,F==M.length?0:1,v),M.length>(M.max_count||0)?(M.max_count=M.length,v._count=M.length):v._count=v._count?v._count:1}(S<this.config.first_hour||D>=this.config.last_hour)&&(y.push(v),c[x]=v=this._copy_event(v),S<this.config.first_hour&&(v.start_date.setHours(this.config.first_hour),v.start_date.setMinutes(0)),D>=this.config.last_hour&&(v.end_date.setMinutes(0),v.end_date.setHours(this.config.last_hour)),v.start_date>v.end_date||S==this.config.last_hour)&&(c.splice(x,1),x--)}}if(!u){for(x=0;x<c.length;x++)c[x]._count=f[c[x]._sday].max_count;for(x=0;x<y.length;x++)y[x]._count=f[y[x]._sday].max_count}return c},o._time_order=function(c){c.sort(function(u,f){return u.start_date.valueOf()==f.start_date.valueOf()?u._timed&&!f._timed?1:!u._timed&&f._timed?-1:u.id>f.id?1:-1:u.start_date>f.start_date?1:-1})},o._is_any_multiday_cell_visible=function(c,u,f){var y=this._cols.length,x=!1,v=c,E=!0,b=new Date(u);for(o.date.day_start(new Date(u)).valueOf()!=u.valueOf()&&(b=o.date.day_start(b),b=o.date.add(b,1,"day"));v<b;){E=!1;var S=this.locate_holder_day(v,!1,f)%y;if(!this._ignores[S]){x=!0;break}v=o.date.add(v,1,"day")}return E||x},o._pre_render_events_table=function(c,u){this._time_order(c);for(var f,y=[],x=[[],[],[],[],[],[],[]],v=this._colsS.heights,E=this._cols.length,b={},S=0;S<c.length;S++){var D=c[S],M=D.id;b[M]||(b[M]={first_chunk:!0,last_chunk:!0});var U=b[M],F=f||D.start_date,H=D.end_date;F<this._min_date&&(U.first_chunk=!1,F=this._min_date),H>this._max_date&&(U.last_chunk=!1,H=this._max_date);var Q=this.locate_holder_day(F,!1,D);if(D._sday=Q%E,!this._ignores[D._sday]||!D._timed){var te=this.locate_holder_day(H,!0,D)||E;if(D._eday=te%E||E,D._length=te-Q,D._sweek=Math.floor((this._correct_shift(F.valueOf(),1)-this._min_date.valueOf())/(864e5*E)),o._is_any_multiday_cell_visible(F,H,D)){var G,re=x[D._sweek];for(G=0;G<re.length&&!(re[G]._eday<=D._sday);G++);if(D._sorder&&u||(D._sorder=G),D._sday+D._length<=E)f=null,y.push(D),re[G]=D,v[D._sweek]=re.length-1,D._first_chunk=U.first_chunk,D._last_chunk=U.last_chunk;else{var q=this._copy_event(D);q.id=D.id,q._length=E-D._sday,q._eday=E,q._sday=D._sday,q._sweek=D._sweek,q._sorder=D._sorder,q.end_date=this.date.add(F,q._length,"day"),q._first_chunk=U.first_chunk,U.first_chunk&&(U.first_chunk=!1),y.push(q),re[G]=q,f=q.end_date,v[D._sweek]=re.length-1,S--}}}}return y},o._copy_dummy=function(){var c=new Date(this.start_date),u=new Date(this.end_date);this.start_date=c,this.end_date=u},o._copy_event=function(c){return this._copy_dummy.prototype=c,new this._copy_dummy},o._rendered=[],o.clear_view=function(){for(var c=0;c<this._rendered.length;c++){var u=this._rendered[c];u.parentNode&&u.parentNode.removeChild(u)}this._rendered=[]},o.updateEvent=function(c){var u=this.getEvent(c);this.clear_event(c),u&&this.is_visible_events(u)&&this.filter_event(c,u)&&(this._table_view||this.config.multi_day||u._timed)&&(this.config.update_render?this.render_view_data():this.getState().mode!="month"||this.getState().drag_id||this.isOneDayEvent(u)?this.render_view_data([u],!0):this.render_view_data())},o.clear_event=function(c){this.for_rendered(c,function(u,f){u.parentNode&&u.parentNode.removeChild(u),o._rendered.splice(f,1)})},o._y_from_date=function(c){var u=60*c.getHours()+c.getMinutes();return Math.round((60*u*1e3-60*this.config.first_hour*60*1e3)*this.config.hour_size_px/36e5)%(24*this.config.hour_size_px)},o._calc_event_y=function(c,u){u=u||0;var f=60*c.start_date.getHours()+c.start_date.getMinutes(),y=60*c.end_date.getHours()+c.end_date.getMinutes()||60*o.config.last_hour;return{top:this._y_from_date(c.start_date),height:Math.max(u,(y-f)*this.config.hour_size_px/60)}},o.render_event=function(c,u,f){var y=o.xy.menu_width,x=this.config.use_select_menu_space?0:y;if(!(c._sday<0)){var v=o.locate_holder(c._sday);if(v){u=u||v;var E=this._calc_event_y(c,o.xy.min_event_height),b=E.top,S=E.height,D=c._count||1,M=c._sorder||0;f=f||v.clientWidth;var U=Math.floor((f-x)/D),F=M*U+1;if(c._inner||(U*=D-M),this.config.cascade_event_display){var H=this.config.cascade_event_count,Q=this.config.cascade_event_margin;F=M%H*Q;var te=c._inner?(D-M-1)%H*Q/2:0;U=Math.floor(f-x-F-te)}var G=this._render_v_bar(c,x+F,b,U,S,c._text_style,o.templates.event_header(c.start_date,c.end_date,c),o.templates.event_text(c.start_date,c.end_date,c));if(this._waiAria.eventAttr(c,G),this._rendered.push(G),u.appendChild(G),F=F+parseInt(this.config.rtl?v.style.right:v.style.left,10)+x,this._edit_id==c.id){G.style.zIndex=1,U=Math.max(U-4,o.xy.editor_width),(G=document.createElement("div")).setAttribute("event_id",c.id),G.setAttribute(this.config.event_attribute,c.id),this._waiAria.eventAttr(c,G),G.className="dhx_cal_event dhx_cal_editor",this.config.rtl&&F++,this.set_xy(G,U,S-20,F,b+(o.xy.event_header_height||14)),c.color&&(G.style.backgroundColor=c.color);var re=o.templates.event_class(c.start_date,c.end_date,c);re&&(G.className+=" "+re);var q=document.createElement("div");this.set_xy(q,U-6,S-26),q.style.cssText+=";margin:2px 2px 2px 2px;overflow:hidden;",G.appendChild(q),this._els.dhx_cal_data[0].appendChild(G),this._rendered.push(G),q.innerHTML="<textarea class='dhx_cal_editor'>"+c.text+"</textarea>",this._editor=q.querySelector("textarea"),this._quirks7&&(this._editor.style.height=S-12+"px"),o.event(this._editor,"keydown",function(Fe){if(Fe.shiftKey)return!0;var qe=Fe.keyCode;qe==o.keys.edit_save&&o.editStop(!0),qe==o.keys.edit_cancel&&o.editStop(!1),qe!=o.keys.edit_save&&qe!=o.keys.edit_cancel||Fe.preventDefault&&Fe.preventDefault()}),o.event(this._editor,"selectstart",function(Fe){return Fe.cancelBubble=!0,!0}),o._focus(this._editor,!0),this._els.dhx_cal_data[0].scrollLeft=0}if(this.xy.menu_width!==0&&this._select_id==c.id){this.config.cascade_event_display&&this._drag_mode&&(G.style.zIndex=1);for(var ee,J=this.config["icons_"+(this._edit_id==c.id?"edit":"select")],ye="",Se=c.color?"background-color: "+c.color+";":"",be=c.textColor?"color: "+c.textColor+";":"",Ie=0;Ie<J.length;Ie++)ee=this._waiAria.eventMenuAttrString(J[Ie]),ye+="<div class='dhx_menu_icon "+J[Ie]+"' style='"+Se+be+"' title='"+this.locale.labels[J[Ie]]+"'"+ee+"></div>";var Te=this._render_v_bar(c,F-y+1,b,y,20*J.length+26-2,"","<div style='"+Se+be+"' class='dhx_menu_head'></div>",ye,!0);Te.style.left=F-y+1,this._els.dhx_cal_data[0].appendChild(Te),this._rendered.push(Te)}this.config.drag_highlight&&this._drag_id==c.id&&this.highlightEventPosition(c)}}},o._render_v_bar=function(c,u,f,y,x,v,E,b,S){var D=document.createElement("div"),M=c.id,U=S?"dhx_cal_event dhx_cal_select_menu":"dhx_cal_event",F=o.getState();F.drag_id==c.id&&(U+=" dhx_cal_event_drag"),F.select_id==c.id&&(U+=" dhx_cal_event_selected");var H=o.templates.event_class(c.start_date,c.end_date,c);H&&(U=U+" "+H),this.config.cascade_event_display&&(U+=" dhx_cal_event_cascade");var Q=c.color?"background-color:"+c.color+";":"",te=c.textColor?"color:"+c.textColor+";":"",G=o._border_box_events(),re=y-2,q=G?re:y-4,ee=G?re:y-6,J=G?re:y-(this._quirks?4:14),ye=G?re-2:y-8,Se=G?x-this.xy.event_header_height-1:x-(this._quirks?20:30)+1,be='<div event_id="'+M+'" '+this.config.event_attribute+'="'+M+'" class="'+U+'" style="position:absolute; top:'+f+"px; "+(this.config.rtl?"right:":"left:")+u+"px; width:"+q+"px; height:"+x+"px;"+(v||"")+'"></div>';D.innerHTML=be;var Ie=D.cloneNode(!0).firstChild;if(!S&&o.renderEvent(Ie,c,y,x,E,b))return Ie;Ie=D.firstChild;var Te='<div class="dhx_event_move dhx_header" style=" width:'+ee+"px;"+Q+'" >&nbsp;</div>';Te+='<div class="dhx_event_move dhx_title" style="'+Q+te+'">'+E+"</div>",Te+='<div class="dhx_body" style=" width:'+J+"px; height:"+Se+"px;"+Q+te+'">'+b+"</div>";var Fe="dhx_event_resize dhx_footer";return(S||c._drag_resize===!1)&&(Fe="dhx_resize_denied "+Fe),Te+='<div class="'+Fe+'" style=" width:'+ye+"px;"+(S?" margin-top:-1px;":"")+Q+te+'" ></div>',Ie.innerHTML=Te,Ie},o.renderEvent=function(){return!1},o.locate_holder=function(c){return this._mode=="day"?this._els.dhx_cal_data[0].firstChild:this._els.dhx_cal_data[0].childNodes[c]},o.locate_holder_day=function(c,u){var f=Math.floor((this._correct_shift(c,1)-this._min_date)/864e5);return u&&this.date.time_part(c)&&f++,f},o._get_dnd_order=function(c,u,f){if(!this._drag_event)return c;this._drag_event._orig_sorder?c=this._drag_event._orig_sorder:this._drag_event._orig_sorder=c;for(var y=u*c;y+u>f;)c--,y-=u;return c=Math.max(c,0)},o._get_event_bar_pos=function(c){var u=this.config.rtl,f=this._colsS,y=f[c._sday],x=f[c._eday];u&&(y=f[f.col_length]-f[c._eday]+f[0],x=f[f.col_length]-f[c._sday]+f[0]),x==y&&(x=f[c._eday+1]);var v=this.xy.bar_height,E=c._sorder;if(c.id==this._drag_id){var b=f.heights[c._sweek+1]-f.heights[c._sweek]-this.xy.month_head_height;E=o._get_dnd_order(E,v,b)}var S=E*v;return{x:y,x2:x,y:f.heights[c._sweek]+(f.height?this.xy.month_scale_height+2:2)+S}},o.render_event_bar=function(c){var u=this._rendered_location,f=this._get_event_bar_pos(c),y=f.y,x=f.x,v=f.x2,E="";if(v){var b=o.config.resize_month_events&&this._mode=="month"&&(!c._timed||o.config.resize_month_timed),S=document.createElement("div"),D=c.hasOwnProperty("_first_chunk")&&c._first_chunk,M=c.hasOwnProperty("_last_chunk")&&c._last_chunk,U=b&&(c._timed||D),F=b&&(c._timed||M),H=!0,Q="dhx_cal_event_clear";c._timed&&!b||(H=!1,Q="dhx_cal_event_line"),D&&(Q+=" dhx_cal_event_line_start"),M&&(Q+=" dhx_cal_event_line_end"),U&&(E+="<div class='dhx_event_resize dhx_event_resize_start'></div>"),F&&(E+="<div class='dhx_event_resize dhx_event_resize_end'></div>");var te=o.templates.event_class(c.start_date,c.end_date,c);te&&(Q+=" "+te);var G=c.color?"background:"+c.color+";":"",re=c.textColor?"color:"+c.textColor+";":"",q=["position:absolute","top:"+y+"px","left:"+x+"px","width:"+(v-x-3-(H?1:0))+"px",re,G,c._text_style||""].join(";"),ee="<div event_id='"+c.id+"' "+this.config.event_attribute+"='"+c.id+"' class='"+Q+"' style='"+q+"'"+this._waiAria.eventBarAttrString(c)+">";b&&(ee+=E),o.getState().mode=="month"&&(c=o.getEvent(c.id)),c._timed&&(ee+=o.templates.event_bar_date(c.start_date,c.end_date,c)),ee+=o.templates.event_bar_text(c.start_date,c.end_date,c)+"</div>",ee+="</div>",S.innerHTML=ee,this._rendered.push(S.firstChild),u.appendChild(S.firstChild)}},o._locate_event=function(c){for(var u=null;c&&!u&&c.getAttribute;)u=c.getAttribute(this.config.event_attribute),c=c.parentNode;return u},o.edit=function(c){this._edit_id!=c&&(this.editStop(!1,c),this._edit_id=c,this.updateEvent(c))},o.editStop=function(c,u){if(!u||this._edit_id!=u){var f=this.getEvent(this._edit_id);f&&(c&&(f.text=this._editor.value),this._edit_id=null,this._editor=null,this.updateEvent(f.id),this._edit_stop_event(f,c))}},o._edit_stop_event=function(c,u){this._new_event?(u?this.callEvent("onEventAdded",[c.id,c]):c&&this.deleteEvent(c.id,!0),this._new_event=null):u&&this.callEvent("onEventChanged",[c.id,c])},o.getEvents=function(c,u){var f=[];for(var y in this._events){var x=this._events[y];x&&(!c&&!u||x.start_date<u&&x.end_date>c)&&f.push(x)}return f},o.getRenderedEvent=function(c){if(c){for(var u=o._rendered,f=0;f<u.length;f++){var y=u[f];if(y.getAttribute(o.config.event_attribute)==c)return y}return null}},o.showEvent=function(c,u){c&&Ht(c)==="object"&&(u=c.mode,M=c.section,c=c.section);var f=typeof c=="number"||typeof c=="string"?o.getEvent(c):c;if(u=u||o._mode,f&&(!this.checkEvent("onBeforeEventDisplay")||this.callEvent("onBeforeEventDisplay",[f,u]))){var y=o.config.scroll_hour;o.config.scroll_hour=f.start_date.getHours();var x=o.config.preserve_scroll;o.config.preserve_scroll=!1;var v=f.color,E=f.textColor;if(o.config.highlight_displayed_event&&(f.color=o.config.displayed_event_color,f.textColor=o.config.displayed_event_text_color),o.setCurrentView(new Date(f.start_date),u),o.config.scroll_hour=y,o.config.preserve_scroll=x,o.matrix&&o.matrix[u]){var b=o.getView(),S=b.y_property,D=o.getEvent(f.id);if(D){if(!M){var M=D[S];Array.isArray(M)?M=M[0]:typeof M=="string"&&o.config.section_delimiter&&M.indexOf(o.config.section_delimiter)>-1&&(M=M.split(o.config.section_delimiter)[0])}var U=b.getSectionTop(M),F=b.posFromDate(D.start_date),H=o.$container.querySelector(".dhx_timeline_data_wrapper");if(F-=(H.offsetWidth-b.dx)/2,U=U-H.offsetHeight/2+b.dy/2,b._smartRenderingEnabled())var Q=b.attachEvent("onScroll",function(){te(),b.detachEvent(Q)});b.scrollTo({left:F,top:U}),b._smartRenderingEnabled()||te()}}else te();o.callEvent("onAfterEventDisplay",[f,u])}function te(){f.color=v,f.textColor=E}}}(w),function(o){o._append_drag_marker=function(c){if(!c.parentNode){var u=o._els.dhx_cal_data[0].lastChild,f=o._getClassName(u);f.indexOf("dhx_scale_holder")<0&&u.previousSibling&&(u=u.previousSibling),f=o._getClassName(u),u&&f.indexOf("dhx_scale_holder")===0&&u.appendChild(c)}},o._update_marker_position=function(c,u){var f=o._calc_event_y(u,0);c.style.top=f.top+"px",c.style.height=f.height+"px"},o.highlightEventPosition=function(c){var u=document.createElement("div");u.setAttribute("event_id",c.id),u.setAttribute(this.config.event_attribute,c.id),this._rendered.push(u),this._update_marker_position(u,c);var f=this.templates.drag_marker_class(c.start_date,c.end_date,c),y=this.templates.drag_marker_content(c.start_date,c.end_date,c);u.className="dhx_drag_marker",f&&(u.className+=" "+f),y&&(u.innerHTML=y),this._append_drag_marker(u)}}(w),ce(w),function(o){o._lightbox_controls={},o.formSection=function(c){for(var u=this.config.lightbox.sections,f=0;f<u.length&&u[f].name!=c;f++);if(f===u.length)return null;var y=u[f];o._lightbox||o.getLightbox();var x=document.getElementById(y.id),v=x.nextSibling,E={section:y,header:x,node:v,getValue:function(S){return o.form_blocks[y.type].get_value(v,S||{},y)},setValue:function(S,D){return o.form_blocks[y.type].set_value(v,S,D||{},y)}},b=o._lightbox_controls["get_"+y.type+"_control"];return b?b(E):E},o._lightbox_controls.get_template_control=function(c){return c.control=c.node,c},o._lightbox_controls.get_select_control=function(c){return c.control=c.node.getElementsByTagName("select")[0],c},o._lightbox_controls.get_textarea_control=function(c){return c.control=c.node.getElementsByTagName("textarea")[0],c},o._lightbox_controls.get_time_control=function(c){return c.control=c.node.getElementsByTagName("select"),c},o._lightbox_controls.defaults={template:{height:30},textarea:{height:200},select:{height:23},time:{height:20}},o.form_blocks={template:{render:function(c){var u=o._lightbox_controls.defaults.template,f=u?u.height:30;return"<div class='dhx_cal_ltext dhx_cal_template' style='height:"+(c.height||f||30)+"px;'></div>"},set_value:function(c,u,f,y){c.innerHTML=u||""},get_value:function(c,u,f){return c.innerHTML||""},focus:function(c){}},textarea:{render:function(c){var u=o._lightbox_controls.defaults.textarea,f=u?u.height:200;return"<div class='dhx_cal_ltext' style='height:"+(c.height||f||"130")+"px;'><textarea></textarea></div>"},set_value:function(c,u,f){o.form_blocks.textarea._get_input(c).value=u||""},get_value:function(c,u){return o.form_blocks.textarea._get_input(c).value},focus:function(c){var u=o.form_blocks.textarea._get_input(c);o._focus(u,!0)},_get_input:function(c){return c.getElementsByTagName("textarea")[0]}},select:{render:function(c){for(var u=o._lightbox_controls.defaults.select,f=u?u.height:23,y="<div class='dhx_cal_ltext' style='height:"+(c.height||f||"23")+"px;'><select style='width:100%;'>",x=0;x<c.options.length;x++)y+="<option value='"+c.options[x].key+"'>"+c.options[x].label+"</option>";return y+="</select></div>"},set_value:function(c,u,f,y){var x=c.firstChild;!x._dhx_onchange&&y.onchange&&(o.event(x,"change",y.onchange),x._dhx_onchange=!0),u===void 0&&(u=(x.options[0]||{}).value),x.value=u||""},get_value:function(c,u){return c.firstChild.value},focus:function(c){var u=c.firstChild;o._focus(u,!0)}},time:{render:function(c){c.time_format||(c.time_format=["%H:%i","%d","%m","%Y"]),c._time_format_order={};var u=c.time_format,f=o.config,y=o.date.date_part(o._currentDate()),x=1440,v=0;o.config.limit_time_select&&(x=60*f.last_hour+1,v=60*f.first_hour,y.setHours(f.first_hour));for(var E="",b=0;b<u.length;b++){var S=u[b];b>0&&(E+=" ");var D="",M="";switch(S){case"%Y":var U,F,H;D="dhx_lightbox_year_select",c._time_format_order[3]=b,c.year_range&&(isNaN(c.year_range)?c.year_range.push&&(F=c.year_range[0],H=c.year_range[1]):U=c.year_range),U=U||10;var Q=Q||Math.floor(U/2);F=F||y.getFullYear()-Q,H=H||F+U;for(var te=F;te<H;te++)M+="<option value='"+te+"'>"+te+"</option>";break;case"%m":for(D="dhx_lightbox_month_select",c._time_format_order[2]=b,te=0;te<12;te++)M+="<option value='"+te+"'>"+this.locale.date.month_full[te]+"</option>";break;case"%d":for(D="dhx_lightbox_day_select",c._time_format_order[1]=b,te=1;te<32;te++)M+="<option value='"+te+"'>"+te+"</option>";break;case"%H:%i":D="dhx_lightbox_time_select",c._time_format_order[0]=b,te=v;var G=y.getDate();for(c._time_values=[];te<x;)M+="<option value='"+te+"'>"+this.templates.time_picker(y)+"</option>",c._time_values.push(te),y.setTime(y.valueOf()+60*this.config.time_step*1e3),te=24*(y.getDate()!=G?1:0)*60+60*y.getHours()+y.getMinutes()}if(M){var re=o._waiAria.lightboxSelectAttrString(S);E+="<select class='"+D+"' "+(c.readonly?"disabled='disabled'":"")+re+">"+M+"</select> "}}var q=o._lightbox_controls.defaults.select;return"<div style='height:"+((q?q.height:23)||30)+"px;padding-top:0px;font-size:inherit;' class='dhx_section_time'>"+E+"<span style='font-weight:normal; font-size:10pt;'> &nbsp;&ndash;&nbsp; </span>"+E+"</div>"},set_value:function(c,u,f,y){var x,v,E=o.config,b=c.getElementsByTagName("select"),S=y._time_format_order;if(E.full_day){if(!c._full_day){var D="<label class='dhx_fullday'><input type='checkbox' name='full_day' value='true'> "+o.locale.labels.full_day+"&nbsp;</label></input>";o.config.wide_form||(D=c.previousSibling.innerHTML+D),c.previousSibling.innerHTML=D,c._full_day=!0}var M=c.previousSibling.getElementsByTagName("input")[0];M.checked=o.date.time_part(f.start_date)===0&&o.date.time_part(f.end_date)===0,b[S[0]].disabled=M.checked,b[S[0]+b.length/2].disabled=M.checked,M.$_eventAttached||(M.$_eventAttached=!0,o.event(M,"click",function(){if(M.checked){var Q={};o.form_blocks.time.get_value(c,Q,y),x=o.date.date_part(Q.start_date),(+(v=o.date.date_part(Q.end_date))==+x||+v>=+x&&(f.end_date.getHours()!==0||f.end_date.getMinutes()!==0))&&(v=o.date.add(v,1,"day"))}else x=null,v=null;b[S[0]].disabled=M.checked,b[S[0]+b.length/2].disabled=M.checked,H(b,0,x||f.start_date),H(b,4,v||f.end_date)}))}if(E.auto_end_date&&E.event_duration)for(var U=function(){E.auto_end_date&&E.event_duration&&(x=new Date(b[S[3]].value,b[S[2]].value,b[S[1]].value,0,b[S[0]].value),v=new Date(x.getTime()+60*o.config.event_duration*1e3),H(b,4,v))},F=0;F<4;F++)b[F].$_eventAttached||(b[F].$_eventAttached=!0,o.event(b[F],"change",U));function H(Q,te,G){for(var re=y._time_values,q=60*G.getHours()+G.getMinutes(),ee=q,J=!1,ye=0;ye<re.length;ye++){var Se=re[ye];if(Se===q){J=!0;break}Se<q&&(ee=Se)}Q[te+S[0]].value=J?q:ee,J||ee||(Q[te+S[0]].selectedIndex=-1),Q[te+S[1]].value=G.getDate(),Q[te+S[2]].value=G.getMonth(),Q[te+S[3]].value=G.getFullYear()}H(b,0,f.start_date),H(b,4,f.end_date)},get_value:function(c,u,f){var y=c.getElementsByTagName("select"),x=f._time_format_order;if(u.start_date=new Date(y[x[3]].value,y[x[2]].value,y[x[1]].value,0,y[x[0]].value),u.end_date=new Date(y[x[3]+4].value,y[x[2]+4].value,y[x[1]+4].value,0,y[x[0]+4].value),!y[x[3]].value||!y[x[3]+4].value){var v=o.getEvent(o._lightbox_id);v&&(u.start_date=v.start_date,u.end_date=v.end_date)}return u.end_date<=u.start_date&&(u.end_date=o.date.add(u.start_date,o.config.time_step,"minute")),{start_date:new Date(u.start_date),end_date:new Date(u.end_date)}},focus:function(c){o._focus(c.getElementsByTagName("select")[0])}}},o._setLbPosition=function(c){if(c){var u=window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop,f=window.pageXOffset||document.body.scrollLeft||document.documentElement.scrollLeft,y=window.innerHeight||document.documentElement.clientHeight;c.style.top=u?Math.round(u+Math.max((y-c.offsetHeight)/2,0))+"px":Math.round(Math.max((y-c.offsetHeight)/2,0)+9)+"px",document.documentElement.scrollWidth>document.body.offsetWidth?c.style.left=Math.round(f+(document.body.offsetWidth-c.offsetWidth)/2)+"px":c.style.left=Math.round((document.body.offsetWidth-c.offsetWidth)/2)+"px"}},o.showCover=function(c){c&&(c.style.display="block",this._setLbPosition(c)),o.config.responsive_lightbox&&(document.documentElement.classList.add("dhx_cal_overflow_container"),document.body.classList.add("dhx_cal_overflow_container")),this.show_cover()},o.showLightbox=function(c){if(c)if(this.callEvent("onBeforeLightbox",[c])){var u=this.getLightbox();this.showCover(u),this._fill_lightbox(c,u),this._waiAria.lightboxVisibleAttr(u),this.callEvent("onLightbox",[c])}else this._new_event&&(this._new_event=null)},o._fill_lightbox=function(c,u){var f=this.getEvent(c),y=u.getElementsByTagName("span"),x=[];if(o.templates.lightbox_header){x.push("");var v=o.templates.lightbox_header(f.start_date,f.end_date,f);x.push(v),y[1].innerHTML="",y[2].innerHTML=v}else{var E=this.templates.event_header(f.start_date,f.end_date,f),b=(this.templates.event_bar_text(f.start_date,f.end_date,f)||"").substr(0,70);x.push(E),x.push(b),y[1].innerHTML=E,y[2].innerHTML=b}this._waiAria.lightboxHeader(u,x.join(" "));for(var S=this.config.lightbox.sections,D=0;D<S.length;D++){var M=S[D],U=o._get_lightbox_section_node(M),F=this.form_blocks[M.type],H=f[M.map_to]!==void 0?f[M.map_to]:M.default_value;F.set_value.call(this,U,H,f,M),S[D].focus&&F.focus.call(this,U)}o._lightbox_id=c},o._get_lightbox_section_node=function(c){return document.getElementById(c.id).nextSibling},o._lightbox_out=function(c){for(var u=this.config.lightbox.sections,f=0;f<u.length;f++){var y=document.getElementById(u[f].id);y=y&&y.nextSibling;var x=this.form_blocks[u[f].type].get_value.call(this,y,c,u[f]);u[f].map_to!="auto"&&(c[u[f].map_to]=x)}return c},o._empty_lightbox=function(c){var u=o._lightbox_id,f=this.getEvent(u);this._lame_copy(f,c),this.setEvent(f.id,f),this._edit_stop_event(f,!0),this.render_view_data()},o.hide_lightbox=function(c){o.endLightbox(!1,this.getLightbox())},o.hideCover=function(c){c&&(c.style.display="none"),this.hide_cover(),o.config.responsive_lightbox&&(document.documentElement.classList.remove("dhx_cal_overflow_container"),document.body.classList.remove("dhx_cal_overflow_container"))},o.hide_cover=function(){this._cover&&this._cover.parentNode.removeChild(this._cover),this._cover=null},o.show_cover=function(){this._cover||(this._cover=document.createElement("div"),this._cover.className="dhx_cal_cover",document.body.appendChild(this._cover))},o.save_lightbox=function(){var c=this._lightbox_out({},this._lame_copy(this.getEvent(this._lightbox_id)));this.checkEvent("onEventSave")&&!this.callEvent("onEventSave",[this._lightbox_id,c,this._new_event])||(this._empty_lightbox(c),this.hide_lightbox())},o.startLightbox=function(c,u){this._lightbox_id=c,this._custom_lightbox=!0,this._temp_lightbox=this._lightbox,this._lightbox=u,this.showCover(u)},o.endLightbox=function(c,u){u=u||o.getLightbox();var f=o.getEvent(this._lightbox_id);f&&this._edit_stop_event(f,c),c&&o.render_view_data(),this.hideCover(u),this._custom_lightbox&&(this._lightbox=this._temp_lightbox,this._custom_lightbox=!1),this._temp_lightbox=this._lightbox_id=null,this._waiAria.lightboxHiddenAttr(u),this.callEvent("onAfterLightbox",[])},o.resetLightbox=function(){o._lightbox&&!o._custom_lightbox&&o._lightbox.parentNode.removeChild(o._lightbox),o._lightbox=null},o.cancel_lightbox=function(){this._lightbox_id&&this.callEvent("onEventCancel",[this._lightbox_id,this._new_event]),this.hide_lightbox()},o.hideLightbox=o.cancel_lightbox,o._init_lightbox_events=function(){if(!this.getLightbox().$_eventAttached){var c=this.getLightbox();c.$_eventAttached=!0,o.event(c,"click",function(u){var f=o.$domHelpers.closest(u.target,".dhx_btn_set");if(f){var y=f?f.getAttribute("data-action"):null;switch(y){case"dhx_save_btn":case"save":if(o.config.readonly_active)return;o.save_lightbox();break;case"dhx_delete_btn":case"delete":if(o.config.readonly_active)return;var x=o.locale.labels.confirm_deleting;o._dhtmlx_confirm(x,o.locale.labels.title_confirm_deleting,function(){o.deleteEvent(o._lightbox_id),o._new_event=null,o.hide_lightbox()});break;case"dhx_cancel_btn":case"cancel":o.cancel_lightbox();break;default:o.callEvent("onLightboxButton",[y,f,u])}}else{var v=o.$domHelpers.closest(u.target,".dhx_custom_button[data-section-index]");if(v){var E=Number(v.getAttribute("data-section-index"));o.form_blocks[o.config.lightbox.sections[E].type].button_click(o.$domHelpers.closest(v,".dhx_cal_lsection"),v,u)}}}),o.event(c,"keydown",function(u){var f=u||window.event,y=u.target||u.srcElement,x=y.querySelector("[dhx_button]");switch(x||(x=y.parentNode.querySelector(".dhx_custom_button, .dhx_readonly")),(u||f).keyCode){case 32:if((u||f).shiftKey)return;x&&x.click&&x.click();break;case o.keys.edit_save:if((u||f).shiftKey)return;if(x&&x.click)x.click();else{if(o.config.readonly_active)return;o.save_lightbox()}break;case o.keys.edit_cancel:o.cancel_lightbox()}})}},o.setLightboxSize=function(){var c=this._lightbox;if(c){var u=c.childNodes[1];u.style.height="0px",u.style.height=u.scrollHeight+"px",c.style.height=u.scrollHeight+o.xy.lightbox_additional_height+"px",u.style.height=u.scrollHeight+"px"}},o._init_dnd_events=function(){o.event(document.body,"mousemove",o._move_while_dnd),o.event(document.body,"mouseup",o._finish_dnd),o._init_dnd_events=function(){}},o._move_while_dnd=function(c){if(o._dnd_start_lb){document.dhx_unselectable||(document.body.className+=" dhx_unselectable",document.dhx_unselectable=!0);var u=o.getLightbox(),f=[c.pageX,c.pageY];u.style.top=o._lb_start[1]+f[1]-o._dnd_start_lb[1]+"px",u.style.left=o._lb_start[0]+f[0]-o._dnd_start_lb[0]+"px"}},o._ready_to_dnd=function(c){var u=o.getLightbox();o._lb_start=[parseInt(u.style.left,10),parseInt(u.style.top,10)],o._dnd_start_lb=[c.pageX,c.pageY]},o._finish_dnd=function(){o._lb_start&&(o._lb_start=o._dnd_start_lb=!1,document.body.className=document.body.className.replace(" dhx_unselectable",""),document.dhx_unselectable=!1)},o.getLightbox=function(){if(!this._lightbox){var c=document.createElement("div");c.className="dhx_cal_light",o.config.wide_form&&(c.className+=" dhx_cal_light_wide"),o.form_blocks.recurring&&(c.className+=" dhx_cal_light_rec"),o.config.rtl&&(c.className+=" dhx_cal_light_rtl"),o.config.responsive_lightbox&&(c.className+=" dhx_cal_light_responsive"),c.style.visibility="hidden";for(var u=this._lightbox_template,f=this.config.buttons_left,y=0;y<f.length;y++)u+="<div "+this._waiAria.lightboxButtonAttrString(f[y])+" data-action='"+f[y]+"' class='dhx_btn_set dhx_"+(o.config.rtl?"right":"left")+"_btn_set "+f[y]+"_set'><div class='"+f[y]+"'></div><div>"+o.locale.labels[f[y]]+"</div></div>";f=this.config.buttons_right;var x=o.config.rtl;for(y=0;y<f.length;y++)u+="<div "+this._waiAria.lightboxButtonAttrString(f[y])+" data-action='"+f[y]+"' class='dhx_btn_set dhx_"+(x?"left":"right")+"_btn_set "+f[y]+"_set' style='float:"+(x?"left":"right")+";'><div class='"+f[y]+"'></div><div>"+o.locale.labels[f[y]]+"</div></div>";u+="</div>",c.innerHTML=u,o.config.drag_lightbox&&(o.event(c.firstChild,"mousedown",o._ready_to_dnd),o.event(c.firstChild,"selectstart",function(U){return U.preventDefault(),!1}),c.firstChild.style.cursor="move",o._init_dnd_events()),this._waiAria.lightboxAttr(c),document.body.insertBefore(c,document.body.firstChild),this._lightbox=c;var v=this.config.lightbox.sections;for(u="",y=0;y<v.length;y++){var E=this.form_blocks[v[y].type];if(E){v[y].id="area_"+this.uid();var b="";v[y].button&&(b="<div "+o._waiAria.lightboxSectionButtonAttrString(this.locale.labels["button_"+v[y].button])+" class='dhx_custom_button' data-section-index='"+y+"' index='"+y+"'><div class='dhx_custom_button_"+v[y].button+"'></div><div>"+this.locale.labels["button_"+v[y].button]+"</div></div>"),this.config.wide_form&&(u+="<div class='dhx_wrap_section'>");var S=this.locale.labels["section_"+v[y].name];typeof S!="string"&&(S=v[y].name),u+="<div id='"+v[y].id+"' class='dhx_cal_lsection'>"+b+"<label>"+S+"</label></div>"+E.render.call(this,v[y]),u+="</div>"}}var D=c.getElementsByTagName("div");for(y=0;y<D.length;y++){var M=D[y];if(o._getClassName(M)=="dhx_cal_larea"){M.innerHTML=u;break}}o._bindLightboxLabels(v),this.setLightboxSize(),this._init_lightbox_events(this),c.style.display="none",c.style.visibility="visible"}return this._lightbox},o._bindLightboxLabels=function(c){for(var u=0;u<c.length;u++){var f=c[u];if(f.id&&document.getElementById(f.id)){for(var y=document.getElementById(f.id).querySelector("label"),x=o._get_lightbox_section_node(f);x&&!x.querySelector;)x=x.nextSibling;var v=!0;if(x){var E=x.querySelector("input, select, textarea");E&&(f.inputId=E.id||"input_"+o.uid(),E.id||(E.id=f.inputId),y.setAttribute("for",f.inputId),v=!1)}v&&o.form_blocks[f.type].focus&&o.event(y,"click",function(b){return function(){var S=o.form_blocks[b.type],D=o._get_lightbox_section_node(b);S&&S.focus&&S.focus.call(o,D)}}(f))}}},o.attachEvent("onEventIdChange",function(c,u){this._lightbox_id==c&&(this._lightbox_id=u)}),o._lightbox_template="<div class='dhx_cal_ltitle'><span class='dhx_mark'>&nbsp;</span><span class='dhx_time'></span><span class='dhx_title'></span></div><div class='dhx_cal_larea'></div>"}(w),Kr(w),function(o){o.getRootView=function(){return{view:{render:function(){return{tag:"div",type:1,attrs:{style:"width:100%;height:100%;"},hooks:{didInsert:function(){o.setCurrentView()}},body:[{el:this.el,type:1}]}},init:function(){var c=document.createElement("DIV");c.id="scheduler_"+o.uid(),c.style.width="100%",c.style.height="100%",c.classList.add("dhx_cal_container"),c.cmp="grid",c.innerHTML='<div class="dhx_cal_navline"><div class="dhx_cal_prev_button">&nbsp;</div><div class="dhx_cal_next_button">&nbsp;</div><div class="dhx_cal_today_button"></div><div class="dhx_cal_date"></div><div class="dhx_cal_tab" data-tab="day"></div><div class="dhx_cal_tab" data-tab="week"></div><div class="dhx_cal_tab" data-tab="month"></div></div><div class="dhx_cal_header"></div><div class="dhx_cal_data"></div>',o.init(c),this.el=c}},type:4}}}(w),pa(w),window.jQuery&&function(o){var c=0,u=[];o.fn.dhx_scheduler=function(f){if(typeof f!="string"){var y=[];return this.each(function(){if(this&&this.getAttribute)if(this.getAttribute("dhxscheduler"))y.push(window[this.getAttribute("dhxscheduler")]);else{var x="scheduler";c&&(x="scheduler"+(c+1),window[x]=Scheduler.getSchedulerInstance());var v=window[x];for(var E in this.setAttribute("dhxscheduler",x),f)E!="data"&&(v.config[E]=f[E]);this.getElementsByTagName("div").length||(this.innerHTML='<div class="dhx_cal_navline"><div class="dhx_cal_prev_button">&nbsp;</div><div class="dhx_cal_next_button">&nbsp;</div><div class="dhx_cal_today_button"></div><div class="dhx_cal_date"></div><div class="dhx_cal_tab" name="day_tab" data-tab="day" style="right:204px;"></div><div class="dhx_cal_tab" name="week_tab" data-tab="week" style="right:140px;"></div><div class="dhx_cal_tab" name="month_tab" data-tab="month" style="right:76px;"></div></div><div class="dhx_cal_header"></div><div class="dhx_cal_data"></div>',this.className+=" dhx_cal_container"),v.init(this,v.config.date,v.config.mode),f.data&&v.parse(f.data),y.push(v),c++}}),y.length===1?y[0]:y}if(u[f])return u[f].apply(this,[]);o.error("Method "+f+" does not exist on jQuery.dhx_scheduler")}}(window.jQuery),function(o){(function(){var c=o.setCurrentView,u=o.updateView,f=null,y=null,x=function(b,S){var D=this;a.a.clearTimeout(y),a.a.clearTimeout(f);var M=D._date,U=D._mode;E(this,b,S),y=setTimeout(function(){D.callEvent("onBeforeViewChange",[U,M,S||D._mode,b||D._date])?(u.call(D,b,S),D.callEvent("onViewChange",[D._mode,D._date]),a.a.clearTimeout(f),y=0):E(D,M,U)},o.config.delay_render)},v=function(b,S){var D=this,M=arguments;E(this,b,S),a.a.clearTimeout(f),f=setTimeout(function(){y||u.apply(D,M)},o.config.delay_render)};function E(b,S,D){S&&(b._date=S),D&&(b._mode=D)}o.attachEvent("onSchedulerReady",function(){o.config.delay_render?(o.setCurrentView=x,o.updateView=v):(o.setCurrentView=c,o.updateView=u)})})()}(w),function(o){o.createDataProcessor=function(c){var u,f;c instanceof Function?u=c:c.hasOwnProperty("router")?u=c.router:c.hasOwnProperty("event")&&(u=c),f=u?"CUSTOM":c.mode||"REST-JSON";var y=new ne(c.url);return y.init(o),y.setTransactionMode({mode:f,router:u},c.batchUpdate),y},o.DataProcessor=ne}(w),function(o){o.attachEvent("onSchedulerReady",function(){typeof dhtmlxError<"u"&&window.dhtmlxError.catchError("LoadXML",function(c,u,f){var y=f[0].responseText;switch(o.config.ajax_error){case"alert":a.a.alert(y);break;case"console":a.a.console.log(y)}})})}(w);var m=new bt({en:pt,ar:De,be:He,ca:Ve,cn:se,cs:Me,da:nt,de:et,el:We,es:bn,fi:cr,fr:wi,he:$r,hu:Yr,id:Mc,it:mo,jp:Jr,nb:ae,nl:ue,no:_e,pl:ge,pt:Pe,ro:Be,ru:Re,si:ut,sk:At,sv:gt,tr:Qr,ua:zn});w.i18n={addLocale:m.addLocale,setLocale:function(o){if(typeof o=="string"){var c=m.getLocale(o);c||(c=m.getLocale("en")),w.locale=c}else if(o)if(w.locale)for(var u in o)o[u]&&Xn(o[u])==="object"?(w.locale[u]||(w.locale[u]={}),w.mixin(w.locale[u],o[u],!0)):w.locale[u]=o[u];else w.locale=o},getLocale:m.getLocale},w.i18n.setLocale("en"),w.ext={};var p={};return w.plugins=function(o){(function(c,u,f){var y=[];for(var x in c)if(c[x]){var v=x.toLowerCase();u[v]&&u[v].forEach(function(E){var b=E.toLowerCase();c[b]||y.push(b)}),y.push(v)}return y.sort(function(E,b){var S=f[E]||0,D=f[b]||0;return S>D?1:S<D?-1:0}),y})(o,{treetimeline:["timeline"],daytimeline:["timeline"],outerdrag:["legacy"]},{legacy:1,limit:1,timeline:2,daytimeline:3,treetimeline:3,outerdrag:6}).forEach(function(c){if(!p[c]){var u=s.getExtension(c);if(!u)throw new Error("unknown plugin "+c);u(w),p[c]=!0}})},w};function rv(s,w){for(var d=0;d<w.length;d++){var m=w[d];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(s,m.key,m)}}var bC=function(){function s(w){for(var d in function(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}(this,s),this._extensions={},w)this._extensions[d]=w[d]}return function(w,d,m){d&&rv(w.prototype,d),m&&rv(w,m)}(s,[{key:"addExtension",value:function(w,d){this._extensions[w]=d}},{key:"getExtension",value:function(w){return this._extensions[w]}}]),s}();function iv(s,w){for(var d=0;d<w.length;d++){var m=w[d];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(s,m.key,m)}}typeof dhtmlx<"u"&&dhtmlx.attaches&&(dhtmlx.attaches.attachScheduler=function(s,w,d,m){d=d||'<div class="dhx_cal_tab" name="day_tab" data-tab="day" style="right:204px;"></div><div class="dhx_cal_tab" name="week_tab" data-tab="week" style="right:140px;"></div><div class="dhx_cal_tab" name="month_tab" data-tab="month" style="right:76px;"></div>';var p=document.createElement("DIV");return p.id="dhxSchedObj_"+this._genStr(12),p.innerHTML='<div id="'+p.id+'" class="dhx_cal_container" style="width:100%; height:100%;"><div class="dhx_cal_navline"><div class="dhx_cal_prev_button">&nbsp;</div><div class="dhx_cal_next_button">&nbsp;</div><div class="dhx_cal_today_button"></div><div class="dhx_cal_date"></div>'+d+'</div><div class="dhx_cal_header"></div><div class="dhx_cal_data"></div></div>',document.body.appendChild(p.firstChild),this.attachObject(p.id,!1,!0),this.vs[this.av].sched=m,this.vs[this.av].schedId=p.id,m.setSizes=m.updateView,m.destructor=function(){},m.init(p.id,s,w),this.vs[this._viewRestore()].sched});var xi=function(s,w){w(!1,"The ".concat(s,` extension is not included in this version of dhtmlxScheduler.<br>
		You may need a <a href="https://docs.dhtmlx.com/scheduler/editions_comparison.html" target="_blank">Professional version of the component</a>.<br>
		Contact us at <a href="https://dhtmlx.com/docs/contact.shtml" target="_blank">https://dhtmlx.com/docs/contact.shtml</a> if you have any questions.`))},wC=function(s){(function(){var w=[];function d(){return!!w.length}function m(f){setTimeout(function(){d()||function(y,x){for(;y&&y!=x;)y=y.parentNode;return y==x}(document.activeElement,s.$container)||s.focus()},1)}function p(f){var y=(f=f||window.event).currentTarget;(function(x){return x==w[w.length-1]})(y)&&s.$keyboardNavigation.trapFocus(y,f)}if(s.attachEvent("onLightbox",function(){(function(f){s.eventRemove(f,"keydown",p),s.event(f,"keydown",p),w.push(f)})(s.getLightbox())}),s.attachEvent("onAfterLightbox",function(){var f=w.pop();f&&s.eventRemove(f,"keydown",p),m()}),s.attachEvent("onAfterQuickInfo",function(){m()}),!s._keyNavMessagePopup){s._keyNavMessagePopup=!0;var o=null,c=null,u=[];s.attachEvent("onMessagePopup",function(f){for(o=document.activeElement,c=o;c&&s._getClassName(c).indexOf("dhx_cal_data")<0;)c=c.parentNode;c&&(c=c.parentNode),s.eventRemove(f,"keydown",p),s.event(f,"keydown",p),u.push(f)}),s.attachEvent("onAfterMessagePopup",function(){var f=u.pop();f&&s.eventRemove(f,"keydown",p),setTimeout(function(){for(var y=document.activeElement;y&&s._getClassName(y).indexOf("dhx_cal_light")<0;)y=y.parentNode;y||(o&&o.parentNode?o.focus():c&&c.parentNode&&c.focus(),o=null,c=null)},1)})}s.$keyboardNavigation.isModal=d})()},xC=function(s){s._temp_key_scope=function(){s.config.key_nav=!0,s.$keyboardNavigation._pasteDate=null,s.$keyboardNavigation._pasteSection=null;var w=null,d={};function m(c){c=c||window.event,d.x=c.clientX,d.y=c.clientY}function p(){for(var c,u,f=document.elementFromPoint(d.x,d.y);f&&f!=s._obj;)f=f.parentNode;return c=f==s._obj,u=s.$keyboardNavigation.dispatcher.isEnabled(),c||u}function o(c){return s._lame_copy({},c)}document.body?s.event(document.body,"mousemove",m):s.event(window,"load",function(){s.event(document.body,"mousemove",m)}),s.attachEvent("onMouseMove",function(c,u){var f=s.getState();if(f.mode&&f.min_date){var y=s.getActionData(u);s.$keyboardNavigation._pasteDate=y.date,s.$keyboardNavigation._pasteSection=y.section}}),s._make_pasted_event=function(c){var u=s.$keyboardNavigation._pasteDate,f=s.$keyboardNavigation._pasteSection,y=c.end_date-c.start_date,x=o(c);if(function(E){delete E.rec_type,delete E.rec_pattern,delete E.event_pid,delete E.event_length}(x),x.start_date=new Date(u),x.end_date=new Date(x.start_date.valueOf()+y),f){var v=s._get_section_property();s.config.multisection?x[v]=c[v]:x[v]=f}return x},s._do_paste=function(c,u,f){s.callEvent("onBeforeEventPasted",[c,u,f])!==!1&&(s.addEvent(u),s.callEvent("onEventPasted",[c,u,f]))},s._is_key_nav_active=function(){return!(!this._is_initialized()||this._is_lightbox_open()||!this.config.key_nav)},s.event(document,"keydown",function(c){(c.ctrlKey||c.metaKey)&&c.keyCode==86&&s._buffer_event&&!s.$keyboardNavigation.dispatcher.isEnabled()&&(s.$keyboardNavigation.dispatcher.isActive=p())}),s._key_nav_copy_paste=function(c){if(!s._is_key_nav_active())return!0;if(c.keyCode==37||c.keyCode==39){c.cancelBubble=!0;var u=s.date.add(s._date,c.keyCode==37?-1:1,s._mode);return s.setCurrentView(u),!0}var f=function(){var v=s.$keyboardNavigation.dispatcher.getActiveNode();return v&&v.eventId?v.eventId:s._select_id}();if((c.ctrlKey||c.metaKey)&&c.keyCode==67)return f&&(s._buffer_event=o(s.getEvent(f)),w=!0,s.callEvent("onEventCopied",[s.getEvent(f)])),!0;if((c.ctrlKey||c.metaKey)&&c.keyCode==88&&f){w=!1;var y=s._buffer_event=o(s.getEvent(f));s.updateEvent(y.id),s.callEvent("onEventCut",[y])}if((c.ctrlKey||c.metaKey)&&c.keyCode==86&&p()){if(y=(y=s._buffer_event?s.getEvent(s._buffer_event.id):s._buffer_event)||s._buffer_event){var x=s._make_pasted_event(y);w?(x.id=s.uid(),s._do_paste(w,x,y)):s.callEvent("onBeforeEventChanged",[x,c,!1,y])&&(s._do_paste(w,x,y),w=!0)}return!0}}},s._temp_key_scope()},EC=function(s){s.$keyboardNavigation.attachSchedulerHandlers=function(){var w,d=s.$keyboardNavigation.dispatcher,m=function(f){if(s.config.key_nav)return d.keyDownHandler(f)},p=function(){d.keepScrollPosition(function(){d.focusGlobalNode()})};s.attachEvent("onDataRender",function(){s.config.key_nav&&d.isEnabled()&&!s.getState().editor_id&&(clearTimeout(w),w=setTimeout(function(){d.isEnabled()||d.enable(),o()}))});var o=function(){if(d.isEnabled()){var f=d.getActiveNode();f&&(f.isValid()||(f=f.fallback()),!f||f instanceof s.$keyboardNavigation.MinicalButton||f instanceof s.$keyboardNavigation.MinicalCell||d.keepScrollPosition(function(){f.focus(!0)}))}};function c(f){if(!s.config.key_nav)return!0;var y,x=s.$keyboardNavigation.isChildOf(f.target||f.srcElement,s.$container.querySelector(".dhx_cal_data")),v=s.getActionData(f);s._locate_event(f.target||f.srcElement)?y=new s.$keyboardNavigation.Event(s._locate_event(f.target||f.srcElement)):x&&(y=new s.$keyboardNavigation.TimeSlot,v.date&&x&&(y=y.nextSlot(new s.$keyboardNavigation.TimeSlot(v.date,null,v.section)))),y&&(d.isEnabled()?v.date&&x&&d.delay(function(){d.setActiveNode(y)}):d.activeNode=y)}s.attachEvent("onSchedulerReady",function(){var f=s.$container;s.eventRemove(document,"keydown",m),s.eventRemove(f,"mousedown",c),s.eventRemove(f,"focus",p),s.config.key_nav?(s.event(document,"keydown",m),s.event(f,"mousedown",c),s.event(f,"focus",p),f.setAttribute("tabindex","0")):f.removeAttribute("tabindex")});var u=s.updateEvent;s.updateEvent=function(f){var y=u.apply(this,arguments);if(s.config.key_nav&&d.isEnabled()&&s.getState().select_id==f){var x=new s.$keyboardNavigation.Event(f);s.getState().lightbox_id||function(v){if(s.config.key_nav&&d.isEnabled()){var E=v,b=new s.$keyboardNavigation.Event(E.eventId);if(!b.isValid()){var S=b.start||E.start,D=b.end||E.end,M=b.section||E.section;(b=new s.$keyboardNavigation.TimeSlot(S,D,M)).isValid()||(b=new s.$keyboardNavigation.TimeSlot)}d.setActiveNode(b);var U=d.getActiveNode();U&&U.getNode&&document.activeElement!=U.getNode()&&d.focusNode(d.getActiveNode())}}(x)}return y},s.attachEvent("onEventDeleted",function(f){return s.config.key_nav&&d.isEnabled()&&d.getActiveNode().eventId==f&&d.setActiveNode(new s.$keyboardNavigation.TimeSlot),!0}),s.attachEvent("onClearAll",function(){if(!s.config.key_nav)return!0;d.isEnabled()&&d.getActiveNode()instanceof s.$keyboardNavigation.Event&&d.setActiveNode(new s.$keyboardNavigation.TimeSlot)})}};function Pc(s){return(Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}function Fh(s){return(Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}function av(s){return(av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}function sv(s){return(sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}function Uh(s){return(Uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}var jh=new(function(){function s(w){(function(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")})(this,s),this._seed=0,this._schedulerPlugins=[],this._bundledExtensions=w,this._extensionsManager=new bC(w)}return function(w,d,m){d&&iv(w.prototype,d),m&&iv(w,m)}(s,[{key:"plugin",value:function(w){this._schedulerPlugins.push(w),a.a.scheduler&&w(a.a.scheduler)}},{key:"getSchedulerInstance",value:function(w){for(var d=vo(this._extensionsManager),m=0;m<this._schedulerPlugins.length;m++)this._schedulerPlugins[m](d);return d._internal_id=this._seed++,this.$syncFactory&&this.$syncFactory(d),w&&this._initFromConfig(d,w),d}},{key:"_initFromConfig",value:function(w,d){if(d.plugins&&w.plugins(d.plugins),d.config&&w.mixin(w.config,d.config,!0),d.templates&&w.attachEvent("onTemplatesReady",function(){w.mixin(w.templates,d.templates,!0)},{once:!0}),d.events)for(var m in d.events)w.attachEvent(m,d.events[m]);d.locale&&w.i18n.setLocale(d.locale),Array.isArray(d.calendars)&&d.calendars.forEach(function(p){w.addCalendar(p)}),d.container?w.init(d.container):w.init(),d.data&&(typeof d.data=="string"?w.load(d.data):w.parse(d.data))}}]),s}())({active_links:function(s){s.config.active_link_view="day",s._active_link_click=function(w){var d=w.target.getAttribute("data-link-date"),m=s.date.str_to_date(s.config.api_date,!1,!0);if(d)return s.setCurrentView(m(d),s.config.active_link_view),w&&w.preventDefault&&w.preventDefault(),!1},s.attachEvent("onTemplatesReady",function(){var w=function(m,p){p=p||m+"_scale_date",s.templates["_active_links_old_"+p]||(s.templates["_active_links_old_"+p]=s.templates[p]);var o=s.templates["_active_links_old_"+p],c=s.date.date_to_str(s.config.api_date);s.templates[p]=function(u){return"<a data-link-date='"+c(u)+"' href='#'>"+o(u)+"</a>"}};if(w("week"),w("","month_day"),this.matrix)for(var d in this.matrix)w(d);this._detachDomEvent(this._obj,"click",s._active_link_click),s.event(this._obj,"click",s._active_link_click)})},agenda_view:function(s){s.date.add_agenda=function(w){return s.date.add(w,1,"year")},s.templates.agenda_time=function(w,d,m){return m._timed?this.day_date(m.start_date,m.end_date,m)+" "+this.event_date(w):s.templates.day_date(w)+" &ndash; "+s.templates.day_date(d)},s.templates.agenda_text=function(w,d,m){return m.text},s.templates.agenda_date=function(){return""},s.date.agenda_start=function(){return s.date.date_part(s._currentDate())},s.attachEvent("onTemplatesReady",function(){var w=s.dblclick_dhx_cal_data;s.dblclick_dhx_cal_data=function(){if(this._mode=="agenda")!this.config.readonly&&this.config.dblclick_create&&this.addEventNow();else if(w)return w.apply(this,arguments)};var d=s.render_data;s.render_data=function(o){if(this._mode!="agenda")return d.apply(this,arguments);p()};var m=s.render_view_data;function p(){var o=s.get_visible_events();o.sort(function(U,F){return U.start_date>F.start_date?1:-1});for(var c,u="<div class='dhx_agenda_area' "+s._waiAria.agendaDataAttrString()+">",f=0;f<o.length;f++){var y=o[f],x=y.color?"background:"+y.color+";":"",v=y.textColor?"color:"+y.textColor+";":"",E=s.templates.event_class(y.start_date,y.end_date,y);c=s._waiAria.agendaEventAttrString(y);var b=s._waiAria.agendaDetailsBtnString();u+="<div "+c+" class='dhx_agenda_line"+(E?" "+E:"")+"' event_id='"+y.id+"' "+s.config.event_attribute+"='"+y.id+"' style='"+v+x+(y._text_style||"")+"'><div class='dhx_agenda_event_time'>"+(s.config.rtl?s.templates.agenda_time(y.end_date,y.start_date,y):s.templates.agenda_time(y.start_date,y.end_date,y))+"</div>",u+="<div "+b+" class='dhx_event_icon icon_details'>&nbsp;</div>",u+="<span>"+s.templates.agenda_text(y.start_date,y.end_date,y)+"</span></div>"}u+="<div class='dhx_v_border'></div></div>",s._els.dhx_cal_data[0].innerHTML=u,s._els.dhx_cal_data[0].childNodes[0].scrollTop=s._agendaScrollTop||0;var S=s._els.dhx_cal_data[0].childNodes[0];S.childNodes[S.childNodes.length-1].style.height=S.offsetHeight<s._els.dhx_cal_data[0].offsetHeight?"100%":S.offsetHeight+"px";var D=s._els.dhx_cal_data[0].firstChild.childNodes,M=s._getNavDateElement();for(M&&(M.innerHTML=s.templates.agenda_date(s._min_date,s._max_date,s._mode)),s._rendered=[],f=0;f<D.length-1;f++)s._rendered[f]=D[f]}s.render_view_data=function(){return this._mode=="agenda"&&(s._agendaScrollTop=s._els.dhx_cal_data[0].childNodes[0].scrollTop,s._els.dhx_cal_data[0].childNodes[0].scrollTop=0),m.apply(this,arguments)},s.agenda_view=function(o){s._min_date=s.config.agenda_start||s.date.agenda_start(s._date),s._max_date=s.config.agenda_end||s.date.add_agenda(s._min_date,1),function(c){if(c){var u=s.locale.labels,f=s._waiAria.agendaHeadAttrString(),y=s._waiAria.agendaHeadDateString(u.date),x=s._waiAria.agendaHeadDescriptionString(u.description);s._els.dhx_cal_header[0].innerHTML="<div "+f+" class='dhx_agenda_line'><div "+y+">"+u.date+"</div><span class = 'description_header' style='padding-left:25px' "+x+">"+u.description+"</span></div>",s._table_view=!0,s.set_sizes()}}(o),o?(s._cols=null,s._colsS=null,s._table_view=!0,p()):s._table_view=!1}})},all_timed:function(s){s.config.all_timed="short",s.config.all_timed_month=!1;var w=function(u){return!((u.end_date-u.start_date)/36e5>=24)||s._drag_mode=="resize"&&s._drag_id==u.id};s._safe_copy=function(u){var f=null,y=s._copy_event(u);return u.event_pid&&(f=s.getEvent(u.event_pid)),f&&f.isPrototypeOf(u)&&(delete y.event_length,delete y.event_pid,delete y.rec_pattern,delete y.rec_type),y};var d=s._pre_render_events_line,m=s._pre_render_events_table,p=function(u,f){return this._table_view?m.call(this,u,f):d.call(this,u,f)};s._pre_render_events_line=s._pre_render_events_table=function(u,f){if(!this.config.all_timed||this._table_view&&this._mode!="month"||this._mode=="month"&&!this.config.all_timed_month)return p.call(this,u,f);for(var y=0;y<u.length;y++){var x=u[y];if(!x._timed)if(this.config.all_timed!="short"||w(x)){var v=this._safe_copy(x);x._virtual?v._first_chunk=!1:v._first_chunk=!0,v._drag_resize=!1,v._virtual=!0,v.start_date=new Date(v.start_date),D(x)?(v.end_date=M(v.start_date),this.config.last_hour!=24&&(v.end_date=U(v.start_date,this.config.last_hour))):v.end_date=new Date(x.end_date);var E=!1;v.start_date<this._max_date&&v.end_date>this._min_date&&v.start_date<v.end_date&&(u[y]=v,E=!0);var b=this._safe_copy(x);if(b._virtual=!0,b.end_date=new Date(b.end_date),b.start_date<this._min_date?b.start_date=U(this._min_date,this.config.first_hour):b.start_date=U(M(x.start_date),this.config.first_hour),b.start_date<this._max_date&&b.start_date<b.end_date){if(!E){u[y--]=b;continue}u.splice(y+1,0,b),b._last_chunk=!1}else v._last_chunk=!0,v._drag_resize=!0}else this._mode!="month"&&u.splice(y--,1)}var S=this._drag_mode!="move"&&f;return p.call(this,u,S);function D(F){var H=M(F.start_date);return+F.end_date>+H}function M(F){var H=s.date.add(F,1,"day");return H=s.date.date_part(H)}function U(F,H){var Q=s.date.date_part(new Date(F));return Q.setHours(H),Q}};var o=s.get_visible_events;s.get_visible_events=function(u){return this.config.all_timed&&this.config.multi_day?o.call(this,!1):o.call(this,u)},s.attachEvent("onBeforeViewChange",function(u,f,y,x){return s._allow_dnd=y=="day"||y=="week",!0}),s._is_main_area_event=function(u){return!!(u._timed||this.config.all_timed===!0||this.config.all_timed=="short"&&w(u))};var c=s.updateEvent;s.updateEvent=function(u){var f,y,x=s.getEvent(u);x&&(f=s.config.all_timed&&!(s.isOneDayEvent(s._events[u])||s.getState().drag_id))&&(y=s.config.update_render,s.config.update_render=!0),c.apply(s,arguments),x&&f&&(s.config.update_render=y)}},collision:function(s){var w,d;function m(p){s._get_section_view()&&p&&(w=s.getEvent(p)[s._get_section_property()])}s.config.collision_limit=1,s.attachEvent("onBeforeDrag",function(p){return m(p),!0}),s.attachEvent("onBeforeLightbox",function(p){var o=s.getEvent(p);return d=[o.start_date,o.end_date],m(p),!0}),s.attachEvent("onEventChanged",function(p){if(!p||!s.getEvent(p))return!0;var o=s.getEvent(p);if(!s.checkCollision(o)){if(!d)return!1;o.start_date=d[0],o.end_date=d[1],o._timed=this.isOneDayEvent(o)}return!0}),s.attachEvent("onBeforeEventChanged",function(p,o,c){return s.checkCollision(p)}),s.attachEvent("onEventAdded",function(p,o){s.checkCollision(o)||s.deleteEvent(p)}),s.attachEvent("onEventSave",function(p,o,c){if((o=s._lame_clone(o)).id=p,!o.start_date||!o.end_date){var u=s.getEvent(p);o.start_date=new Date(u.start_date),o.end_date=new Date(u.end_date)}return o.rec_type&&s._roll_back_dates(o),s.checkCollision(o)}),s._check_sections_collision=function(p,o){var c=s._get_section_property();return p[c]==o[c]&&p.id!=o.id},s.checkCollision=function(p){var o=[],c=s.config.collision_limit;if(p.rec_type)for(var u=s.getRecDates(p),f=0;f<u.length;f++)for(var y=s.getEvents(u[f].start_date,u[f].end_date),x=0;x<y.length;x++)(y[x].event_pid||y[x].id)!=p.id&&o.push(y[x]);else{o=s.getEvents(p.start_date,p.end_date);for(var v=0;v<o.length;v++){var E=o[v];if(E.id==p.id||E.event_length&&[E.event_pid,E.event_length].join("#")==p.id){o.splice(v,1);break}}}var b=s._get_section_view(),S=s._get_section_property(),D=!0;if(b){var M=0;for(v=0;v<o.length;v++)o[v].id!=p.id&&this._check_sections_collision(o[v],p)&&M++;M>=c&&(D=!1)}else o.length>=c&&(D=!1);if(!D){var U=!s.callEvent("onEventCollision",[p,o]);return U||(p[S]=w||p[S]),U}return D}},container_autoresize:function(s){s.config.container_autoresize=!0,s.config.month_day_min_height=90,s.config.min_grid_size=25,s.config.min_map_size=400;var w=s._pre_render_events,d=!0,m=0,p=0;s._pre_render_events=function(x,v){if(!s.config.container_autoresize||!d)return w.apply(this,arguments);var E=this.xy.bar_height,b=this._colsS.heights,S=this._colsS.heights=[0,0,0,0,0,0,0],D=this._els.dhx_cal_data[0];if(x=this._table_view?this._pre_render_events_table(x,v):this._pre_render_events_line(x,v),this._table_view)if(v)this._colsS.heights=b;else{var M=D.firstChild;if(M.rows){for(var U=0;U<M.rows.length;U++){if(S[U]++,S[U]*E>this._colsS.height-this.xy.month_head_height){var F=M.rows[U].cells,H=this._colsS.height-this.xy.month_head_height;1*this.config.max_month_events!==this.config.max_month_events||S[U]<=this.config.max_month_events?H=S[U]*E:(this.config.max_month_events+1)*E>this._colsS.height-this.xy.month_head_height&&(H=(this.config.max_month_events+1)*E);for(var Q=0;Q<F.length;Q++)F[Q].childNodes[1].style.height=H+"px";S[U]=(S[U-1]||0)+F[0].offsetHeight}S[U]=(S[U-1]||0)+M.rows[U].cells[0].offsetHeight}S.unshift(0),M.parentNode.offsetHeight<M.parentNode.scrollHeight&&M._h_fix}else if(x.length||this._els.dhx_multi_day[0].style.visibility!="visible"||(S[0]=-1),x.length||S[0]==-1){var te=(S[0]+1)*E+1;p!=te+1&&(this._obj.style.height=m-p+te-1+"px"),te+="px",D.style.top=this._els.dhx_cal_navline[0].offsetHeight+this._els.dhx_cal_header[0].offsetHeight+parseInt(te,10)+"px",D.style.height=this._obj.offsetHeight-parseInt(D.style.top,10)-(this.xy.margin_top||0)+"px";var G=this._els.dhx_multi_day[0];G.style.height=te,G.style.visibility=S[0]==-1?"hidden":"visible",(G=this._els.dhx_multi_day[1]).style.height=te,G.style.visibility=S[0]==-1?"hidden":"visible",G.className=S[0]?"dhx_multi_day_icon":"dhx_multi_day_icon_small",this._dy_shift=(S[0]+1)*E,S[0]=0}}return x};var o=["dhx_cal_navline","dhx_cal_header","dhx_multi_day","dhx_cal_data"],c=function(x){m=0;for(var v=0;v<o.length;v++){var E=o[v],b=s._els[E]?s._els[E][0]:null,S=0;switch(E){case"dhx_cal_navline":case"dhx_cal_header":S=parseInt(b.style.height,10);break;case"dhx_multi_day":S=b?b.offsetHeight-1:0,p=S;break;case"dhx_cal_data":var D=s.getState().mode;if(S=b.childNodes[1]&&D!="month"?b.childNodes[1].offsetHeight:Math.max(b.offsetHeight-1,b.scrollHeight),D=="month")s.config.month_day_min_height&&!x&&(S=b.getElementsByTagName("tr").length*s.config.month_day_min_height),x&&(b.style.height=S+"px");else if(D=="year")S=190*s.config.year_y;else if(D=="agenda"){if(S=0,b.childNodes&&b.childNodes.length)for(var M=0;M<b.childNodes.length;M++)S+=b.childNodes[M].offsetHeight;S+2<s.config.min_grid_size?S=s.config.min_grid_size:S+=2}else if(D=="week_agenda"){for(var U,F,H=s.xy.week_agenda_scale_height+s.config.min_grid_size,Q=0;Q<b.childNodes.length;Q++)for(F=b.childNodes[Q],M=0;M<F.childNodes.length;M++){for(var te=0,G=F.childNodes[M].childNodes[1],re=0;re<G.childNodes.length;re++)te+=G.childNodes[re].offsetHeight;U=te+s.xy.week_agenda_scale_height,(U=Q!=1||M!=2&&M!=3?U:2*U)>H&&(H=U)}S=3*H}else if(D=="map"){S=0;var q=b.querySelectorAll(".dhx_map_line");for(M=0;M<q.length;M++)S+=q[M].offsetHeight;S+2<s.config.min_map_size?S=s.config.min_map_size:S+=2}else if(s._gridView)if(S=0,b.childNodes[1].childNodes[0].childNodes&&b.childNodes[1].childNodes[0].childNodes.length){for(q=b.childNodes[1].childNodes[0].childNodes[0].childNodes,M=0;M<q.length;M++)S+=q[M].offsetHeight;(S+=2)<s.config.min_grid_size&&(S=s.config.min_grid_size)}else S=s.config.min_grid_size;if(s.matrix&&s.matrix[D]){if(x)S+=0,b.style.height=S+"px";else{S=0;for(var ee=s.matrix[D],J=ee.y_unit,ye=0;ye<J.length;ye++)S+=ee.getSectionHeight(J[ye].key);s.$container.clientWidth!=s.$container.scrollWidth&&(S+=y())}S-=1}(D=="day"||D=="week"||s._props&&s._props[D])&&(S+=2)}m+=S+=1}s._obj.style.height=m+"px",x||s.updateView()};function u(){d=!1,s.callEvent("onAfterSchedulerResize",[]),d=!0}var f=function(){if(!s.config.container_autoresize||!d)return!0;var x=s.getState().mode;if(!x)return!0;var v=window.requestAnimationFrame||window.setTimeout,E=document.documentElement.scrollTop;v(function(){c()}),s.matrix&&s.matrix[x]||x=="month"?v(function(){c(!0),document.documentElement.scrollTop=E,u()},1):u()};function y(){var x=document.createElement("div");x.style.cssText="visibility:hidden;position:absolute;left:-1000px;width:100px;padding:0px;margin:0px;height:110px;min-height:100px;overflow-y:scroll;",document.body.appendChild(x);var v=x.offsetWidth-x.clientWidth;return document.body.removeChild(x),v}s.attachEvent("onBeforeViewChange",function(){var x=s.config.container_autoresize;if(s.xy.$original_scroll_width||(s.xy.$original_scroll_width=s.xy.scroll_width),s.xy.scroll_width=x?0:s.xy.$original_scroll_width,s.matrix)for(var v in s.matrix){var E=s.matrix[v];E.$original_section_autoheight||(E.$original_section_autoheight=E.section_autoheight),E.section_autoheight=!x&&E.$original_section_autoheight}return!0}),s.attachEvent("onViewChange",f),s.attachEvent("onXLE",f),s.attachEvent("onEventChanged",f),s.attachEvent("onEventCreated",f),s.attachEvent("onEventAdded",f),s.attachEvent("onEventDeleted",f),s.attachEvent("onAfterSchedulerResize",f),s.attachEvent("onClearAll",f),s.attachEvent("onBeforeExpand",function(){return d=!1,!0}),s.attachEvent("onBeforeCollapse",function(){return d=!0,!0})},cookie:function(s){function w(p){return(p._obj.id||"scheduler")+"_settings"}var d=!0;s.attachEvent("onBeforeViewChange",function(p,o,c,u){if(d&&s._get_url_nav){var f=s._get_url_nav();(f.date||f.mode||f.event)&&(d=!1)}var y=w(s);if(d){d=!1;var x=function(E){var b=E+"=";if(document.cookie.length>0){var S=document.cookie.indexOf(b);if(S!=-1){S+=b.length;var D=document.cookie.indexOf(";",S);return D==-1&&(D=document.cookie.length),document.cookie.substring(S,D)}}return""}(y);if(x){s._min_date||(s._min_date=u),(x=unescape(x).split("@"))[0]=this._helpers.parseDate(x[0]);var v=this.isViewExists(x[1])?x[1]:c;return u=isNaN(+x[0])?u:x[0],window.setTimeout(function(){s.setCurrentView(u,v)},1),!1}}return!0}),s.attachEvent("onViewChange",function(p,o){(function(c,u,f){var y=c+"="+f+(u?"; "+u:"");document.cookie=y})(w(s),"expires=Sun, 31 Jan 9999 22:00:00 GMT",escape(this._helpers.formatDate(o)+"@"+p))});var m=s._load;s._load=function(){var p=arguments;if(s._date)m.apply(this,p);else{var o=this;window.setTimeout(function(){m.apply(o,p)},1)}}},daytimeline:function(s){xi("Day Timeline",s.assert)},drag_between:function(s){xi("Drag Between",s.assert)},editors:function(s){s.form_blocks.combo={render:function(w){w.cached_options||(w.cached_options={});var d="";return d+="<div class='"+w.type+"' style='height:"+(w.height||20)+"px;' ></div>"},set_value:function(w,d,m,p){(function(){b();var E=s.attachEvent("onAfterLightbox",function(){b(),s.detachEvent(E)});function b(){if(w._combo&&w._combo.DOMParent){var S=w._combo;S.unload?S.unload():S.destructor&&S.destructor(),S.DOMParent=S.DOMelem=null}}})(),window.dhx_globalImgPath=p.image_path||"/",w._combo=new dhtmlXCombo(w,p.name,w.offsetWidth-8),p.onchange&&w._combo.attachEvent("onChange",p.onchange),p.options_height&&w._combo.setOptionHeight(p.options_height);var o=w._combo;if(o.enableFilteringMode(p.filtering,p.script_path||null,!!p.cache),p.script_path){var c=m[p.map_to];c?p.cached_options[c]?(o.addOption(c,p.cached_options[c]),o.disable(1),o.selectOption(0),o.disable(0)):s.ajax.get(p.script_path+"?id="+c+"&uid="+s.uid(),function(E){var b,S=E.xmlDoc.responseText;try{b=JSON.parse(S).options[0].text}catch{b=s.ajax.xpath("//option",E.xmlDoc)[0].childNodes[0].nodeValue}p.cached_options[c]=b,o.addOption(c,b),o.disable(1),o.selectOption(0),o.disable(0)}):o.setComboValue("")}else{for(var u=[],f=0;f<p.options.length;f++){var y=p.options[f],x=[y.key,y.label,y.css];u.push(x)}if(o.addOption(u),m[p.map_to]){var v=o.getIndexByValue(m[p.map_to]);o.selectOption(v)}}},get_value:function(w,d,m){var p=w._combo.getSelectedValue();return m.script_path&&(m.cached_options[p]=w._combo.getSelectedText()),p},focus:function(w){}},s.form_blocks.radio={render:function(w){var d="";d+="<div class='dhx_cal_ltext dhx_cal_radio' style='height:"+w.height+"px;' >";for(var m=0;m<w.options.length;m++){var p=s.uid();d+="<input id='"+p+"' type='radio' name='"+w.name+"' value='"+w.options[m].key+"'><label for='"+p+"'> "+w.options[m].label+"</label>",w.vertical&&(d+="<br/>")}return d+="</div>"},set_value:function(w,d,m,p){for(var o=w.getElementsByTagName("input"),c=0;c<o.length;c++){o[c].checked=!1;var u=m[p.map_to]||d;o[c].value==u&&(o[c].checked=!0)}},get_value:function(w,d,m){for(var p=w.getElementsByTagName("input"),o=0;o<p.length;o++)if(p[o].checked)return p[o].value},focus:function(w){}},s.form_blocks.checkbox={render:function(w){return s.config.wide_form?'<div class="dhx_cal_wide_checkbox" '+(w.height?"style='height:"+w.height+"px;'":"")+"></div>":""},set_value:function(w,d,m,p){w=document.getElementById(p.id);var o=s.uid(),c=p.checked_value!==void 0?d==p.checked_value:!!d;w.className+=" dhx_cal_checkbox";var u="<input id='"+o+"' type='checkbox' value='true' name='"+p.name+"'"+(c?"checked='true'":"")+"'>",f="<label for='"+o+"'>"+(s.locale.labels["section_"+p.name]||p.name)+"</label>";if(s.config.wide_form?(w.innerHTML=f,w.nextSibling.innerHTML=u):w.innerHTML=u+f,p.handler){var y=w.getElementsByTagName("input")[0];if(y.$_eventAttached)return;y.$_eventAttached=!0,s.event(y,"click",p.handler)}},get_value:function(w,d,m){var p=(w=document.getElementById(m.id)).getElementsByTagName("input")[0];return p||(p=w.nextSibling.getElementsByTagName("input")[0]),p.checked?m.checked_value||!0:m.unchecked_value||!1},focus:function(w){}}},expand:function(s){s.ext.fullscreen={toggleIcon:null},s.expand=function(){if(s.callEvent("onBeforeExpand",[])){var w=s._obj;do w._position=w.style.position||"",w.style.position="static";while((w=w.parentNode)&&w.style);(w=s._obj).style.position="absolute",w._width=w.style.width,w._height=w.style.height,w.style.width=w.style.height="100%",w.style.top=w.style.left="0px";var d=document.body;d.scrollTop=0,(d=d.parentNode)&&(d.scrollTop=0),document.body._overflow=document.body.style.overflow||"",document.body.style.overflow="hidden",s._maximize(),s.callEvent("onExpand",[])}},s.collapse=function(){if(s.callEvent("onBeforeCollapse",[])){var w=s._obj;do w.style.position=w._position;while((w=w.parentNode)&&w.style);(w=s._obj).style.width=w._width,w.style.height=w._height,document.body.style.overflow=document.body._overflow,s._maximize(),s.callEvent("onCollapse",[])}},s.attachEvent("onTemplatesReady",function(){var w=document.createElement("div");w.className="dhx_expand_icon",s.ext.fullscreen.toggleIcon=w,s._obj.appendChild(w),s.event(w,"click",function(){s.expanded?s.collapse():s.expand()})}),s._maximize=function(){this.expanded=!this.expanded,s.ext.fullscreen.toggleIcon.style.backgroundPosition="0 "+(this.expanded?"0":"18")+"px";for(var w=["left","top"],d=0;d<w.length;d++){var m=s["_prev_margin_"+w[d]];s.xy["margin_"+w[d]]?(s["_prev_margin_"+w[d]]=s.xy["margin_"+w[d]],s.xy["margin_"+w[d]]=0):m&&(s.xy["margin_"+w[d]]=s["_prev_margin_"+w[d]],delete s["_prev_margin_"+w[d]])}s.setCurrentView()}},grid_view:function(s){xi("Grid",s.assert)},html_templates:function(s){s.attachEvent("onTemplatesReady",function(){for(var w=document.body.getElementsByTagName("DIV"),d=0;d<w.length;d++){var m=w[d].className||"";if((m=m.split(":")).length==2&&m[0]=="template"){var p='return "'+(w[d].innerHTML||"").replace(/"/g,'\\"').replace(/[\n\r]+/g,"")+'";';p=unescape(p).replace(/\{event\.([a-z]+)\}/g,function(o,c){return'"+ev.'+c+'+"'}),s.templates[m[1]]=Function("start","end","ev",p),w[d].style.display="none"}}})},key_nav:function(s){function w(d){var m={minicalButton:s.$keyboardNavigation.MinicalButton,minicalDate:s.$keyboardNavigation.MinicalCell,scheduler:s.$keyboardNavigation.SchedulerNode,dataArea:s.$keyboardNavigation.DataArea,timeSlot:s.$keyboardNavigation.TimeSlot,event:s.$keyboardNavigation.Event},p={};for(var o in m)p[o.toLowerCase()]=m[o];return p[d=(d+"").toLowerCase()]||m.scheduler}s.config.key_nav=!0,s.config.key_nav_step=30,s.addShortcut=function(d,m,p){var o=w(p);o&&o.prototype.bind(d,m)},s.getShortcutHandler=function(d,m){var p=w(m);if(p){var o=s.$keyboardNavigation.shortcuts.parse(d);if(o.length)return p.prototype.findHandler(o[0])}},s.removeShortcut=function(d,m){var p=w(m);p&&p.prototype.unbind(d)},s.focus=function(){if(s.config.key_nav){var d=s.$keyboardNavigation.dispatcher;d.enable();var m=d.getActiveNode();!m||m instanceof s.$keyboardNavigation.MinicalButton||m instanceof s.$keyboardNavigation.MinicalCell?d.setDefaultNode():d.focusNode(d.getActiveNode())}},s.$keyboardNavigation={},s._compose=function(){for(var d=Array.prototype.slice.call(arguments,0),m={},p=0;p<d.length;p++){var o=d[p];for(var c in typeof o=="function"&&(o=new o),o)m[c]=o[c]}return m},function(d){d.$keyboardNavigation.shortcuts={createCommand:function(){return{modifiers:{shift:!1,alt:!1,ctrl:!1,meta:!1},keyCode:null}},parse:function(m){for(var p=[],o=this.getExpressions(this.trim(m)),c=0;c<o.length;c++){for(var u=this.getWords(o[c]),f=this.createCommand(),y=0;y<u.length;y++)this.commandKeys[u[y]]?f.modifiers[u[y]]=!0:this.specialKeys[u[y]]?f.keyCode=this.specialKeys[u[y]]:f.keyCode=u[y].charCodeAt(0);p.push(f)}return p},getCommandFromEvent:function(m){var p=this.createCommand();p.modifiers.shift=!!m.shiftKey,p.modifiers.alt=!!m.altKey,p.modifiers.ctrl=!!m.ctrlKey,p.modifiers.meta=!!m.metaKey,p.keyCode=m.which||m.keyCode,p.keyCode>=96&&p.keyCode<=105&&(p.keyCode-=48);var o=String.fromCharCode(p.keyCode);return o&&(p.keyCode=o.toLowerCase().charCodeAt(0)),p},getHashFromEvent:function(m){return this.getHash(this.getCommandFromEvent(m))},getHash:function(m){var p=[];for(var o in m.modifiers)m.modifiers[o]&&p.push(o);return p.push(m.keyCode),p.join(this.junctionChar)},getExpressions:function(m){return m.split(this.junctionChar)},getWords:function(m){return m.split(this.combinationChar)},trim:function(m){return m.replace(/\s/g,"")},junctionChar:",",combinationChar:"+",commandKeys:{shift:16,alt:18,ctrl:17,meta:!0},specialKeys:{backspace:8,tab:9,enter:13,esc:27,space:32,up:38,down:40,left:37,right:39,home:36,end:35,pageup:33,pagedown:34,delete:46,insert:45,plus:107,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123}}}(s),function(d){d.$keyboardNavigation.EventHandler={_handlers:null,findHandler:function(m){this._handlers||(this._handlers={});var p=d.$keyboardNavigation.shortcuts.getHash(m);return this._handlers[p]},doAction:function(m,p){var o=this.findHandler(m);o&&(o.call(this,p),p.preventDefault?p.preventDefault():p.returnValue=!1)},bind:function(m,p){this._handlers||(this._handlers={});for(var o=d.$keyboardNavigation.shortcuts,c=o.parse(m),u=0;u<c.length;u++)this._handlers[o.getHash(c[u])]=p},unbind:function(m){for(var p=d.$keyboardNavigation.shortcuts,o=p.parse(m),c=0;c<o.length;c++)this._handlers[p.getHash(o[c])]&&delete this._handlers[p.getHash(o[c])]},bindAll:function(m){for(var p in m)this.bind(p,m[p])},initKeys:function(){this._handlers||(this._handlers={}),this.keys&&this.bindAll(this.keys)}}}(s),function(d){d.$keyboardNavigation.getFocusableNodes=d._getFocusableNodes,d.$keyboardNavigation.trapFocus=function(m,p){if(p.keyCode!=9)return!1;for(var o,c=d.$keyboardNavigation.getFocusableNodes(m),u=document.activeElement,f=-1,y=0;y<c.length;y++)if(c[y]==u){f=y;break}if(p.shiftKey){if(o=c[f<=0?c.length-1:f-1])return o.focus(),p.preventDefault(),!0}else if(o=c[f>=c.length-1?0:f+1])return o.focus(),p.preventDefault(),!0;return!1}}(s),function(d){d.$keyboardNavigation.marker={clear:function(){for(var m=d.$container.querySelectorAll(".dhx_focus_slot"),p=0;p<m.length;p++)m[p].parentNode.removeChild(m[p])},createElement:function(){var m=document.createElement("div");return m.setAttribute("tabindex",-1),m.className="dhx_focus_slot",m},renderMultiple:function(m,p,o){for(var c=[],u=new Date(m),f=new Date(Math.min(p.valueOf(),d.date.add(d.date.day_start(new Date(m)),1,"day").valueOf()));u.valueOf()<p.valueOf();)c=c.concat(o.call(this,u,new Date(Math.min(f.valueOf(),p.valueOf())))),u=d.date.day_start(d.date.add(u,1,"day")),f=d.date.day_start(d.date.add(u,1,"day")),f=new Date(Math.min(f.valueOf(),p.valueOf()));return c},render:function(m,p,o){this.clear();var c=[],u=d.$keyboardNavigation.TimeSlot.prototype._modes;switch(d.$keyboardNavigation.TimeSlot.prototype._getMode()){case u.units:c=this.renderVerticalMarker(m,p,o);break;case u.timeline:c=this.renderTimelineMarker(m,p,o);break;case u.year:c=c.concat(this.renderMultiple(m,p,this.renderYearMarker));break;case u.month:c=this.renderMonthMarker(m,p);break;case u.weekAgenda:c=c.concat(this.renderMultiple(m,p,this.renderWeekAgendaMarker));break;case u.list:c=this.renderAgendaMarker(m,p);break;case u.dayColumns:c=c.concat(this.renderMultiple(m,p,this.renderVerticalMarker))}this.addWaiAriaLabel(c,m,p,o),this.addDataAttributes(c,m,p,o);for(var f=c.length-1;f>=0;f--)if(c[f].offsetWidth)return c[f];return null},addDataAttributes:function(m,p,o,c){for(var u=d.date.date_to_str(d.config.api_date),f=u(p),y=u(o),x=0;x<m.length;x++)m[x].setAttribute("data-start-date",f),m[x].setAttribute("data-end-date",y),c&&m[x].setAttribute("data-section",c)},addWaiAriaLabel:function(m,p,o,c){var u="",f=d.getState().mode,y=!1;u+=d.templates.day_date(p),d.date.day_start(new Date(p)).valueOf()!=p.valueOf()&&(u+=" "+d.templates.hour_scale(p),y=!0),d.date.day_start(new Date(p)).valueOf()!=d.date.day_start(new Date(o)).valueOf()&&(u+=" - "+d.templates.day_date(o),(y||d.date.day_start(new Date(o)).valueOf()!=o.valueOf())&&(u+=" "+d.templates.hour_scale(o))),c&&(d.matrix&&d.matrix[f]?u+=", "+d.templates[f+"_scale_label"](c.key,c.label,c):d._props&&d._props[f]&&(u+=", "+d.templates[f+"_scale_text"](c.key,c.label,c)));for(var x=0;x<m.length;x++)d._waiAria.setAttributes(m[x],{"aria-label":u,"aria-live":"polite"})},renderWeekAgendaMarker:function(m,p){for(var o=d.$container.querySelectorAll(".dhx_wa_day_cont .dhx_wa_scale_bar"),c=d.date.week_start(new Date(d.getState().min_date)),u=-1,f=d.date.day_start(new Date(m)),y=0;y<o.length&&(u++,d.date.day_start(new Date(c)).valueOf()!=f.valueOf());y++)c=d.date.add(c,1,"day");return u!=-1?this._wrapDiv(o[u]):[]},_wrapDiv:function(m){var p=this.createElement();return p.style.top=m.offsetTop+"px",p.style.left=m.offsetLeft+"px",p.style.width=m.offsetWidth+"px",p.style.height=m.offsetHeight+"px",m.appendChild(p),[p]},renderYearMarker:function(m,p){var o=d._get_year_cell(m);o.style.position="relative";var c=this.createElement();return c.style.top="0px",c.style.left="0px",c.style.width="100%",c.style.height="100%",o.appendChild(c),[c]},renderAgendaMarker:function(m,p){var o=this.createElement();return o.style.height="1px",o.style.width="100%",o.style.opacity=1,o.style.top="0px",o.style.left="0px",d.$container.querySelector(".dhx_cal_data").appendChild(o),[o]},renderTimelineMarker:function(m,p,o){var c=d._lame_copy({},d.matrix[d._mode]),u=c._scales;c.round_position=!1;var f=[],y=m?new Date(m):d._min_date,x=p?new Date(p):d._max_date;if(y.valueOf()<d._min_date.valueOf()&&(y=new Date(d._min_date)),x.valueOf()>d._max_date.valueOf()&&(x=new Date(d._max_date)),!c._trace_x)return f;for(var v=0;v<c._trace_x.length&&!d._is_column_visible(c._trace_x[v]);v++);if(v==c._trace_x.length)return f;var E=u[o];if(!(y<p&&x>m))return f;var b=this.createElement(),S=d._timeline_getX({start_date:m},!1,c)-1,D=d._timeline_getX({start_date:p},!1,c)-1,M=c._section_height[o]-1||c.dy-1,U=0;d._isRender("cell")&&(U=E.offsetTop,S+=c.dx,D+=c.dx,E=d.$container.querySelector(".dhx_cal_data"));var F=Math.max(1,D-S-1);return b.style.cssText="height: "+M+"px; left: "+S+"px; width: "+F+"px; top: "+U+"px;",E.appendChild(b),f.push(b),f},renderMonthCell:function(m){for(var p=d.$container.querySelectorAll(".dhx_month_head"),o=[],c=0;c<p.length;c++)o.push(p[c].parentNode);var u=-1,f=0,y=-1,x=d.date.week_start(new Date(d.getState().min_date)),v=d.date.day_start(new Date(m));for(c=0;c<o.length&&(u++,y==6?(f++,y=0):y++,d.date.day_start(new Date(x)).valueOf()!=v.valueOf());c++)x=d.date.add(x,1,"day");if(u==-1)return[];var E=d._colsS[y],b=d._colsS.heights[f],S=this.createElement();S.style.top=b+"px",S.style.left=E+"px",S.style.width=d._cols[y]+"px",S.style.height=(d._colsS.heights[f+1]-b||d._colsS.height)+"px";var D=d.$container.querySelector(".dhx_cal_data"),M=D.querySelector("table");return M.nextSibling?D.insertBefore(S,M.nextSibling):D.appendChild(S),S},renderMonthMarker:function(m,p){for(var o=[],c=m;c.valueOf()<p.valueOf();)o.push(this.renderMonthCell(c)),c=d.date.add(c,1,"day");return o},renderVerticalMarker:function(m,p,o){var c=d.locate_holder_day(m),u=[],f=null,y=d.config;if(d._ignores[c])return u;if(d._props&&d._props[d._mode]&&o){var x=d._props[d._mode];c=x.order[o];var v=x.order[o];x.days>1?c=d.locate_holder_day(m)+v:(c=v,x.size&&c>x.position+x.size&&(c=0))}if(!(f=d.locate_holder(c))||f.querySelector(".dhx_scale_hour"))return document.createElement("div");var E=Math.max(60*m.getHours()+m.getMinutes(),60*y.first_hour),b=Math.min(60*p.getHours()+p.getMinutes(),60*y.last_hour);if(!b&&d.date.day_start(new Date(p)).valueOf()>d.date.day_start(new Date(m)).valueOf()&&(b=60*y.last_hour),b<=E)return[];var S=this.createElement(),D=d.config.hour_size_px*y.last_hour+1;return S.style.top=Math.round((60*E*1e3-36e5*d.config.first_hour)*d.config.hour_size_px/36e5)%D+"px",S.style.lineHeight=S.style.height=Math.max(Math.round(60*(b-E)*1e3*d.config.hour_size_px/36e5)%D,1)+"px",S.style.width="100%",f.appendChild(S),u.push(S),u[0]}}}(s),function(d){d.$keyboardNavigation.SchedulerNode=function(){},d.$keyboardNavigation.SchedulerNode.prototype=d._compose(d.$keyboardNavigation.EventHandler,{getDefaultNode:function(){var m=new d.$keyboardNavigation.TimeSlot;return m.isValid()||(m=m.fallback()),m},_modes:{month:"month",year:"year",dayColumns:"dayColumns",timeline:"timeline",units:"units",weekAgenda:"weekAgenda",list:"list"},getMode:function(){var m=d.getState().mode;return d.matrix&&d.matrix[m]?this._modes.timeline:d._props&&d._props[m]?this._modes.units:m=="month"?this._modes.month:m=="year"?this._modes.year:m=="week_agenda"?this._modes.weekAgenda:m=="map"||m=="agenda"||d._grid&&d["grid_"+m]?this._modes.list:this._modes.dayColumns},focus:function(){d.focus()},blur:function(){},disable:function(){d.$container.setAttribute("tabindex","0")},enable:function(){d.$container&&d.$container.removeAttribute("tabindex")},isEnabled:function(){return d.$container.hasAttribute("tabindex")},_compareEvents:function(m,p){return m.start_date.valueOf()==p.start_date.valueOf()?m.id>p.id?1:-1:m.start_date.valueOf()>p.start_date.valueOf()?1:-1},_pickEvent:function(m,p,o,c){var u=d.getState();m=new Date(Math.max(u.min_date.valueOf(),m.valueOf())),p=new Date(Math.min(u.max_date.valueOf(),p.valueOf()));var f=d.getEvents(m,p);f.sort(this._compareEvents),c&&(f=f.reverse());for(var y=!!o,x=0;x<f.length&&y;x++)f[x].id==o&&(y=!1),f.splice(x,1),x--;for(x=0;x<f.length;x++)if(new d.$keyboardNavigation.Event(f[x].id).getNode())return f[x];return null},nextEventHandler:function(m){var p=d.$keyboardNavigation.dispatcher.activeNode,o=m||p&&p.eventId,c=null;if(o&&d.getEvent(o)){var u=d.getEvent(o);c=d.$keyboardNavigation.SchedulerNode.prototype._pickEvent(u.start_date,d.date.add(u.start_date,1,"year"),u.id,!1)}if(!c&&!m){var f=d.getState();c=d.$keyboardNavigation.SchedulerNode.prototype._pickEvent(f.min_date,d.date.add(f.min_date,1,"year"),null,!1)}if(c){var y=new d.$keyboardNavigation.Event(c.id);y.isValid()?(p&&p.blur(),d.$keyboardNavigation.dispatcher.setActiveNode(y)):this.nextEventHandler(c.id)}},prevEventHandler:function(m){var p=d.$keyboardNavigation.dispatcher.activeNode,o=m||p&&p.eventId,c=null;if(o&&d.getEvent(o)){var u=d.getEvent(o);c=d.$keyboardNavigation.SchedulerNode.prototype._pickEvent(d.date.add(u.end_date,-1,"year"),u.end_date,u.id,!0)}if(!c&&!m){var f=d.getState();c=d.$keyboardNavigation.SchedulerNode.prototype._pickEvent(d.date.add(f.max_date,-1,"year"),f.max_date,null,!0)}if(c){var y=new d.$keyboardNavigation.Event(c.id);y.isValid()?(p&&p.blur(),d.$keyboardNavigation.dispatcher.setActiveNode(y)):this.prevEventHandler(c.id)}},keys:{"alt+1, alt+2, alt+3, alt+4, alt+5, alt+6, alt+7, alt+8, alt+9":function(m){var p=d.$keyboardNavigation.HeaderCell.prototype.getNodes(".dhx_cal_navline .dhx_cal_tab"),o=m.key;o===void 0&&(o=m.keyCode-48),p[1*o-1]&&p[1*o-1].click()},"ctrl+left,meta+left":function(m){d._click.dhx_cal_prev_button()},"ctrl+right,meta+right":function(m){d._click.dhx_cal_next_button()},"ctrl+up,meta+up":function(m){d.$container.querySelector(".dhx_cal_data").scrollTop-=20},"ctrl+down,meta+down":function(m){d.$container.querySelector(".dhx_cal_data").scrollTop+=20},e:function(){this.nextEventHandler()},home:function(){d.setCurrentView(new Date)},"shift+e":function(){this.prevEventHandler()},"ctrl+enter,meta+enter":function(){d.addEventNow({start_date:new Date(d.getState().date)})},"ctrl+c,meta+c":function(m){d._key_nav_copy_paste(m)},"ctrl+v,meta+v":function(m){d._key_nav_copy_paste(m)},"ctrl+x,meta+x":function(m){d._key_nav_copy_paste(m)}}}),d.$keyboardNavigation.SchedulerNode.prototype.bindAll(d.$keyboardNavigation.SchedulerNode.prototype.keys)}(s),function(d){d.$keyboardNavigation.KeyNavNode=function(){},d.$keyboardNavigation.KeyNavNode.prototype=d._compose(d.$keyboardNavigation.EventHandler,{isValid:function(){return!0},fallback:function(){return null},moveTo:function(m){d.$keyboardNavigation.dispatcher.setActiveNode(m)},compareTo:function(m){if(!m)return!1;for(var p in this){if(!!this[p]!=!!m[p])return!1;var o=!(!this[p]||!this[p].toString),c=!(!m[p]||!m[p].toString);if(c!=o)return!1;if(c&&o){if(m[p].toString()!=this[p].toString())return!1}else if(m[p]!=this[p])return!1}return!0},getNode:function(){},focus:function(){var m=this.getNode();m&&(m.setAttribute("tabindex","-1"),m.focus&&m.focus())},blur:function(){var m=this.getNode();m&&m.setAttribute("tabindex","-1")}})}(s),function(d){d.$keyboardNavigation.HeaderCell=function(m){this.index=m||0},d.$keyboardNavigation.HeaderCell.prototype=d._compose(d.$keyboardNavigation.KeyNavNode,{getNode:function(m){m=m||this.index||0;var p=this.getNodes();if(p[m])return p[m]},getNodes:function(m){m=m||[".dhx_cal_navline .dhx_cal_prev_button",".dhx_cal_navline .dhx_cal_next_button",".dhx_cal_navline .dhx_cal_today_button",".dhx_cal_navline .dhx_cal_tab"].join(", ");var p=Array.prototype.slice.call(d.$container.querySelectorAll(m));return p.sort(function(o,c){return o.offsetLeft-c.offsetLeft}),p},_handlers:null,isValid:function(){return!!this.getNode(this.index)},fallback:function(){var m=this.getNode(0);return m||(m=new d.$keyboardNavigation.TimeSlot),m},keys:{left:function(){var m=this.index-1;m<0&&(m=this.getNodes().length-1),this.moveTo(new d.$keyboardNavigation.HeaderCell(m))},right:function(){var m=this.index+1;m>=this.getNodes().length&&(m=0),this.moveTo(new d.$keyboardNavigation.HeaderCell(m))},down:function(){this.moveTo(new d.$keyboardNavigation.TimeSlot)},enter:function(){var m=this.getNode();m&&m.click()}}}),d.$keyboardNavigation.HeaderCell.prototype.bindAll(d.$keyboardNavigation.HeaderCell.prototype.keys)}(s),function(d){d.$keyboardNavigation.Event=function(m){if(this.eventId=null,d.getEvent(m)){var p=d.getEvent(m);this.start=new Date(p.start_date),this.end=new Date(p.end_date),this.section=this._getSection(p),this.eventId=m}},d.$keyboardNavigation.Event.prototype=d._compose(d.$keyboardNavigation.KeyNavNode,{_getNodes:function(){return Array.prototype.slice.call(d.$container.querySelectorAll("["+d.config.event_attribute+"]"))},_modes:d.$keyboardNavigation.SchedulerNode.prototype._modes,getMode:d.$keyboardNavigation.SchedulerNode.prototype.getMode,_handlers:null,isValid:function(){return!(!d.getEvent(this.eventId)||!this.getNode())},fallback:function(){var m=this._getNodes()[0],p=null;if(m&&d._locate_event(m)){var o=d._locate_event(m);p=new d.$keyboardNavigation.Event(o)}else p=new d.$keyboardNavigation.TimeSlot;return p},isScrolledIntoView:function(m){var p=m.getBoundingClientRect(),o=d.$container.querySelector(".dhx_cal_data").getBoundingClientRect();return!(p.bottom<o.top||p.top>o.bottom)},getNode:function(){var m="["+d.config.event_attribute+"='"+this.eventId+"']",p=d.$keyboardNavigation.dispatcher.getInlineEditor(this.eventId);if(p)return p;if(d.isMultisectionEvent&&d.isMultisectionEvent(d.getEvent(this.eventId))){for(var o=d.$container.querySelectorAll(m),c=0;c<o.length;c++)if(this.isScrolledIntoView(o[c]))return o[c];return o[0]}return d.$container.querySelector(m)},focus:function(){var m=d.getEvent(this.eventId),p=d.getState();(m.start_date.valueOf()>p.max_date.valueOf()||m.end_date.valueOf()<=p.min_date.valueOf())&&d.setCurrentView(m.start_date);var o=this.getNode();this.isScrolledIntoView(o)?d.$keyboardNavigation.dispatcher.keepScrollPosition(function(){d.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this)}.bind(this)):d.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this)},blur:function(){d.$keyboardNavigation.KeyNavNode.prototype.blur.apply(this)},_getSection:function(m){var p=null,o=d.getState().mode;return d.matrix&&d.matrix[o]?p=m[d.matrix[d.getState().mode].y_property]:d._props&&d._props[o]&&(p=m[d._props[o].map_to]),p},_moveToSlot:function(m){var p=d.getEvent(this.eventId);if(p){var o=this._getSection(p),c=new d.$keyboardNavigation.TimeSlot(p.start_date,null,o);this.moveTo(c.nextSlot(c,m))}else this.moveTo(new d.$keyboardNavigation.TimeSlot)},keys:{left:function(){this._moveToSlot("left")},right:function(){this._moveToSlot("right")},down:function(){this.getMode()==this._modes.list?d.$keyboardNavigation.SchedulerNode.prototype.nextEventHandler():this._moveToSlot("down")},space:function(){var m=this.getNode();m&&m.click?m.click():this.moveTo(new d.$keyboardNavigation.TimeSlot)},up:function(){this.getMode()==this._modes.list?d.$keyboardNavigation.SchedulerNode.prototype.prevEventHandler():this._moveToSlot("up")},delete:function(){d.getEvent(this.eventId)?d._click.buttons.delete(this.eventId):this.moveTo(new d.$keyboardNavigation.TimeSlot)},enter:function(){d.getEvent(this.eventId)?d.showLightbox(this.eventId):this.moveTo(new d.$keyboardNavigation.TimeSlot)}}}),d.$keyboardNavigation.Event.prototype.bindAll(d.$keyboardNavigation.Event.prototype.keys)}(s),function(d){d.$keyboardNavigation.TimeSlot=function(m,p,o,c){var u=d.getState(),f=d.matrix&&d.matrix[u.mode];m||(m=this.getDefaultDate()),p||(p=f?d.date.add(m,f.x_step,f.x_unit):d.date.add(m,d.config.key_nav_step,"minute")),this.section=o||this._getDefaultSection(),this.start_date=new Date(m),this.end_date=new Date(p),this.movingDate=c||null},d.$keyboardNavigation.TimeSlot.prototype=d._compose(d.$keyboardNavigation.KeyNavNode,{_handlers:null,getDefaultDate:function(){var m,p=d.getState(),o=new Date(p.date);o.setSeconds(0),o.setMilliseconds(0);var c=new Date;c.setSeconds(0),c.setMilliseconds(0);var u=d.matrix&&d.matrix[p.mode],f=!1;if(o.valueOf()===c.valueOf()&&(f=!0),u)f?(u.x_unit==="day"?(c.setHours(0),c.setMinutes(0)):u.x_unit==="hour"&&c.setMinutes(0),m=c):m=d.date[u.name+"_start"](new Date(p.date)),m=this.findVisibleColumn(m);else if(m=new Date(d.getState().min_date),f&&(m=c),m=this.findVisibleColumn(m),f||m.setHours(d.config.first_hour),!d._table_view){var y=d.$container.querySelector(".dhx_cal_data");y.scrollTop&&m.setHours(d.config.first_hour+Math.ceil(y.scrollTop/d.config.hour_size_px))}return m},clone:function(m){return new d.$keyboardNavigation.TimeSlot(m.start_date,m.end_date,m.section,m.movingDate)},_getMultisectionView:function(){var m,p=d.getState();return d._props&&d._props[p.mode]?m=d._props[p.mode]:d.matrix&&d.matrix[p.mode]&&(m=d.matrix[p.mode]),m},_getDefaultSection:function(){var m=null;return this._getMultisectionView()&&!m&&(m=this._getNextSection()),m},_getNextSection:function(m,p){var o=this._getMultisectionView(),c=o.order[m],u=c;u=(u=c!==void 0?c+p:o.size&&o.position?o.position:0)<0?u=(o.options||o.y_unit).length-1:u;var f=o.options||o.y_unit;return f[u]?f[u].key:null},isValid:function(){var m=d.getState();if(this.start_date.valueOf()<m.min_date.valueOf()||this.start_date.valueOf()>=m.max_date.valueOf()||!this.isVisible(this.start_date,this.end_date))return!1;var p=this._getMultisectionView();return!p||p.order[this.section]!==void 0},fallback:function(){var m=new d.$keyboardNavigation.TimeSlot;return m.isValid()?m:new d.$keyboardNavigation.DataArea},getNodes:function(){return Array.prototype.slice.call(d.$container.querySelectorAll(".dhx_focus_slot"))},getNode:function(){return this.getNodes()[0]},focus:function(){d.$keyboardNavigation.marker.render(this.start_date,this.end_date,this.section),d.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this),d.$keyboardNavigation._pasteDate=this.start_date,d.$keyboardNavigation._pasteSection=this.section},blur:function(){d.$keyboardNavigation.KeyNavNode.prototype.blur.apply(this),d.$keyboardNavigation.marker.clear()},_modes:d.$keyboardNavigation.SchedulerNode.prototype._modes,_getMode:d.$keyboardNavigation.SchedulerNode.prototype.getMode,addMonthDate:function(m,p,o){var c;switch(p){case"up":c=d.date.add(m,-1,"week");break;case"down":c=d.date.add(m,1,"week");break;case"left":c=d.date.day_start(d.date.add(m,-1,"day")),c=this.findVisibleColumn(c,-1);break;case"right":c=d.date.day_start(d.date.add(m,1,"day")),c=this.findVisibleColumn(c,1);break;default:c=d.date.day_start(new Date(m))}var u=d.getState();return(m.valueOf()<u.min_date.valueOf()||!o&&m.valueOf()>=u.max_date.valueOf())&&(c=new Date(u.min_date)),c},nextMonthSlot:function(m,p,o){var c,u;return(c=this.addMonthDate(m.start_date,p,o)).setHours(d.config.first_hour),(u=new Date(c)).setHours(d.config.last_hour),{start_date:c,end_date:u}},_alignTimeSlot:function(m,p,o,c){for(var u=new Date(p);u.valueOf()<m.valueOf();)u=d.date.add(u,c,o);return u.valueOf()>m.valueOf()&&(u=d.date.add(u,-c,o)),u},nextTimelineSlot:function(m,p,o){var c=d.getState(),u=d.matrix[c.mode],f=this._alignTimeSlot(m.start_date,d.date[u.name+"_start"](new Date(m.start_date)),u.x_unit,u.x_step),y=this._alignTimeSlot(m.end_date,d.date[u.name+"_start"](new Date(m.end_date)),u.x_unit,u.x_step);y.valueOf()<=f.valueOf()&&(y=d.date.add(f,u.x_step,u.x_unit));var x=this.clone(m);switch(x.start_date=f,x.end_date=y,x.section=m.section||this._getNextSection(),p){case"up":x.section=this._getNextSection(m.section,-1);break;case"down":x.section=this._getNextSection(m.section,1);break;case"left":x.start_date=this.findVisibleColumn(d.date.add(x.start_date,-u.x_step,u.x_unit),-1),x.end_date=d.date.add(x.start_date,u.x_step,u.x_unit);break;case"right":x.start_date=this.findVisibleColumn(d.date.add(x.start_date,u.x_step,u.x_unit),1),x.end_date=d.date.add(x.start_date,u.x_step,u.x_unit)}return(x.start_date.valueOf()<c.min_date.valueOf()||x.start_date.valueOf()>=c.max_date.valueOf())&&(o&&x.start_date.valueOf()>=c.max_date.valueOf()?x.start_date=new Date(c.max_date):(x.start_date=d.date[c.mode+"_start"](d.date.add(c.date,p=="left"?-1:1,c.mode)),x.end_date=d.date.add(x.start_date,u.x_step,u.x_unit))),x},nextUnitsSlot:function(m,p,o){var c=this.clone(m);c.section=m.section||this._getNextSection();var u=m.section||this._getNextSection(),f=d.getState(),y=d._props[f.mode];switch(p){case"left":u=this._getNextSection(m.section,-1);var x=y.size?y.size-1:y.options.length;y.days>1&&y.order[u]==x-1&&d.date.add(m.start_date,-1,"day").valueOf()>=f.min_date.valueOf()&&(c=this.nextDaySlot(m,p,o));break;case"right":u=this._getNextSection(m.section,1),y.days>1&&!y.order[u]&&d.date.add(m.start_date,1,"day").valueOf()<f.max_date.valueOf()&&(c=this.nextDaySlot(m,p,o));break;default:c=this.nextDaySlot(m,p,o),u=m.section}return c.section=u,c},_moveDate:function(m,p){var o=this.findVisibleColumn(d.date.add(m,p,"day"),p);return o.setHours(m.getHours()),o.setMinutes(m.getMinutes()),o},isBeforeLastHour:function(m,p){var o=m.getMinutes(),c=m.getHours(),u=d.config.last_hour;return c<u||!p&&(u==24||c==u)&&!o},isAfterFirstHour:function(m,p){var o=m.getMinutes(),c=m.getHours(),u=d.config.first_hour,f=d.config.last_hour;return c>=u||!p&&!o&&(!c&&f==24||c==f)},isInVisibleDayTime:function(m,p){return this.isBeforeLastHour(m,p)&&this.isAfterFirstHour(m,p)},nextDaySlot:function(m,p,o){var c,u,f=d.config.key_nav_step,y=this._alignTimeSlot(m.start_date,d.date.day_start(new Date(m.start_date)),"minute",f),x=m.start_date;switch(p){case"up":if(c=d.date.add(y,-f,"minute"),!this.isInVisibleDayTime(c,!0)&&(!o||this.isInVisibleDayTime(x,!0))){var v=!0;o&&d.date.date_part(new Date(c)).valueOf()!=d.date.date_part(new Date(x)).valueOf()&&(v=!1),v&&(c=this.findVisibleColumn(d.date.add(m.start_date,-1,"day"),-1)),c.setHours(d.config.last_hour),c.setMinutes(0),c=d.date.add(c,-f,"minute")}u=d.date.add(c,f,"minute");break;case"down":c=d.date.add(y,f,"minute");var E=o?c:d.date.add(c,f,"minute");this.isInVisibleDayTime(E,!1)||o&&!this.isInVisibleDayTime(x,!1)||(o?(v=!0,d.date.date_part(new Date(x)).valueOf()==x.valueOf()&&(v=!1),v&&(c=this.findVisibleColumn(d.date.add(m.start_date,1,"day"),1)),c.setHours(d.config.first_hour),c.setMinutes(0),c=d.date.add(c,f,"minute")):((c=this.findVisibleColumn(d.date.add(m.start_date,1,"day"),1)).setHours(d.config.first_hour),c.setMinutes(0))),u=d.date.add(c,f,"minute");break;case"left":c=this._moveDate(m.start_date,-1),u=this._moveDate(m.end_date,-1);break;case"right":c=this._moveDate(m.start_date,1),u=this._moveDate(m.end_date,1);break;default:c=y,u=d.date.add(c,f,"minute")}return{start_date:c,end_date:u}},nextWeekAgendaSlot:function(m,p){var o,c,u=d.getState();switch(p){case"down":case"left":o=d.date.day_start(d.date.add(m.start_date,-1,"day")),o=this.findVisibleColumn(o,-1);break;case"up":case"right":o=d.date.day_start(d.date.add(m.start_date,1,"day")),o=this.findVisibleColumn(o,1);break;default:o=d.date.day_start(m.start_date)}return(m.start_date.valueOf()<u.min_date.valueOf()||m.start_date.valueOf()>=u.max_date.valueOf())&&(o=new Date(u.min_date)),(c=new Date(o)).setHours(d.config.last_hour),{start_date:o,end_date:c}},nextAgendaSlot:function(m,p){return{start_date:m.start_date,end_date:m.end_date}},isDateVisible:function(m){if(!d._ignores_detected)return!0;var p,o=d.matrix&&d.matrix[d.getState().mode];return p=o?d._get_date_index(o,m):d.locate_holder_day(m),!d._ignores[p]},findVisibleColumn:function(m,p){var o=m;p=p||1;for(var c=d.getState();!this.isDateVisible(o)&&(p>0&&o.valueOf()<=c.max_date.valueOf()||p<0&&o.valueOf()>=c.min_date.valueOf());)o=this.nextDateColumn(o,p);return o},nextDateColumn:function(m,p){p=p||1;var o=d.matrix&&d.matrix[d.getState().mode];return o?d.date.add(m,p*o.x_step,o.x_unit):d.date.day_start(d.date.add(m,p,"day"))},isVisible:function(m,p){if(!d._ignores_detected)return!0;for(var o=new Date(m);o.valueOf()<p.valueOf();){if(this.isDateVisible(o))return!0;o=this.nextDateColumn(o)}return!1},nextSlot:function(m,p,o,c){var u;o=o||this._getMode();var f=d.$keyboardNavigation.TimeSlot.prototype.clone(m);switch(o){case this._modes.units:u=this.nextUnitsSlot(f,p,c);break;case this._modes.timeline:u=this.nextTimelineSlot(f,p,c);break;case this._modes.year:case this._modes.month:u=this.nextMonthSlot(f,p,c);break;case this._modes.weekAgenda:u=this.nextWeekAgendaSlot(f,p,c);break;case this._modes.list:u=this.nextAgendaSlot(f,p,c);break;case this._modes.dayColumns:u=this.nextDaySlot(f,p,c)}return u.start_date.valueOf()>=u.end_date.valueOf()&&(u=this.nextSlot(u,p,o)),d.$keyboardNavigation.TimeSlot.prototype.clone(u)},extendSlot:function(m,p){var o;switch(this._getMode()){case this._modes.units:o=p=="left"||p=="right"?this.nextUnitsSlot(m,p):this.extendUnitsSlot(m,p);break;case this._modes.timeline:o=p=="down"||p=="up"?this.nextTimelineSlot(m,p):this.extendTimelineSlot(m,p);break;case this._modes.year:case this._modes.month:o=this.extendMonthSlot(m,p);break;case this._modes.dayColumns:o=this.extendDaySlot(m,p);break;case this._modes.weekAgenda:o=this.extendWeekAgendaSlot(m,p);break;default:o=m}var c=d.getState();return o.start_date.valueOf()<c.min_date.valueOf()&&(o.start_date=this.findVisibleColumn(c.min_date),o.start_date.setHours(d.config.first_hour)),o.end_date.valueOf()>c.max_date.valueOf()&&(o.end_date=this.findVisibleColumn(c.max_date,-1)),d.$keyboardNavigation.TimeSlot.prototype.clone(o)},extendTimelineSlot:function(m,p){return this.extendGenericSlot({left:"start_date",right:"end_date"},m,p,"timeline")},extendWeekAgendaSlot:function(m,p){return this.extendGenericSlot({left:"start_date",right:"end_date"},m,p,"weekAgenda")},extendGenericSlot:function(m,p,o,c){var u,f=p.movingDate;if(f||(f=m[o]),!f||!m[o])return p;if(!o)return d.$keyboardNavigation.TimeSlot.prototype.clone(p);(u=this.nextSlot({start_date:p[f],section:p.section},o,c,!0)).start_date.valueOf()==p.start_date.valueOf()&&(u=this.nextSlot({start_date:u.start_date,section:u.section},o,c,!0)),u.movingDate=f;var y=this.extendSlotDates(p,u,u.movingDate);return y.end_date.valueOf()<=y.start_date.valueOf()&&(u.movingDate=u.movingDate=="end_date"?"start_date":"end_date"),y=this.extendSlotDates(p,u,u.movingDate),u.start_date=y.start_date,u.end_date=y.end_date,u},extendSlotDates:function(m,p,o){var c={start_date:null,end_date:null};return o=="start_date"?(c.start_date=p.start_date,c.end_date=m.end_date):(c.start_date=m.start_date,c.end_date=p.start_date),c},extendMonthSlot:function(m,p){return(m=this.extendGenericSlot({up:"start_date",down:"end_date",left:"start_date",right:"end_date"},m,p,"month")).start_date.setHours(d.config.first_hour),m.end_date=d.date.add(m.end_date,-1,"day"),m.end_date.setHours(d.config.last_hour),m},extendUnitsSlot:function(m,p){var o;switch(p){case"down":case"up":o=this.extendDaySlot(m,p);break;default:o=m}return o.section=m.section,o},extendDaySlot:function(m,p){return this.extendGenericSlot({up:"start_date",down:"end_date",left:"start_date",right:"end_date"},m,p,"dayColumns")},scrollSlot:function(m){var p=d.getState(),o=this.nextSlot(this,m);(o.start_date.valueOf()<p.min_date.valueOf()||o.start_date.valueOf()>=p.max_date.valueOf())&&d.setCurrentView(new Date(o.start_date)),this.moveTo(o)},keys:{left:function(){this.scrollSlot("left")},right:function(){this.scrollSlot("right")},down:function(){this._getMode()==this._modes.list?d.$keyboardNavigation.SchedulerNode.prototype.nextEventHandler():this.scrollSlot("down")},up:function(){this._getMode()==this._modes.list?d.$keyboardNavigation.SchedulerNode.prototype.prevEventHandler():this.scrollSlot("up")},"shift+down":function(){this.moveTo(this.extendSlot(this,"down"))},"shift+up":function(){this.moveTo(this.extendSlot(this,"up"))},"shift+right":function(){this.moveTo(this.extendSlot(this,"right"))},"shift+left":function(){this.moveTo(this.extendSlot(this,"left"))},enter:function(){var m={start_date:new Date(this.start_date),end_date:new Date(this.end_date)},p=d.getState().mode;d.matrix&&d.matrix[p]?m[d.matrix[d.getState().mode].y_property]=this.section:d._props&&d._props[p]&&(m[d._props[p].map_to]=this.section),d.addEventNow(m)}}}),d.$keyboardNavigation.TimeSlot.prototype.bindAll(d.$keyboardNavigation.TimeSlot.prototype.keys)}(s),function(d){d.$keyboardNavigation.MinicalButton=function(m,p){this.container=m,this.index=p||0},d.$keyboardNavigation.MinicalButton.prototype=d._compose(d.$keyboardNavigation.KeyNavNode,{isValid:function(){return!!this.container.offsetWidth},fallback:function(){var m=new d.$keyboardNavigation.TimeSlot;return m.isValid()?m:new d.$keyboardNavigation.DataArea},focus:function(){d.$keyboardNavigation.dispatcher.globalNode.disable(),this.container.removeAttribute("tabindex"),d.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this)},blur:function(){this.container.setAttribute("tabindex","0"),d.$keyboardNavigation.KeyNavNode.prototype.blur.apply(this)},getNode:function(){return this.index?this.container.querySelector(".dhx_cal_next_button"):this.container.querySelector(".dhx_cal_prev_button")},keys:{right:function(m){this.moveTo(new d.$keyboardNavigation.MinicalButton(this.container,this.index?0:1))},left:function(m){this.moveTo(new d.$keyboardNavigation.MinicalButton(this.container,this.index?0:1))},down:function(){var m=new d.$keyboardNavigation.MinicalCell(this.container,0,0);m&&!m.isValid()&&(m=m.fallback()),this.moveTo(m)},enter:function(m){this.getNode().click()}}}),d.$keyboardNavigation.MinicalButton.prototype.bindAll(d.$keyboardNavigation.MinicalButton.prototype.keys)}(s),function(d){d.$keyboardNavigation.MinicalCell=function(m,p,o){this.container=m,this.row=p||0,this.col=o||0},d.$keyboardNavigation.MinicalCell.prototype=d._compose(d.$keyboardNavigation.KeyNavNode,{isValid:function(){var m=this._getGrid();return!(!m[this.row]||!m[this.row][this.col])},fallback:function(){var m=this.row,p=this.col,o=this._getGrid();o[m]||(m=0);var c=!0;if(m>o.length/2&&(c=!1),!o[m]){var u=new d.$keyboardNavigation.TimeSlot;return u.isValid()?u:new d.$keyboardNavigation.DataArea}if(c){for(var f=p;o[m]&&f<o[m].length;f++)if(o[m][f]||f!=o[m].length-1||(m++,p=0),o[m][f])return new d.$keyboardNavigation.MinicalCell(this.container,m,f)}else for(f=p;o[m]&&f<o[m].length;f--)if(o[m][f]||f||(p=o[--m].length-1),o[m][f])return new d.$keyboardNavigation.MinicalCell(this.container,m,f);return new d.$keyboardNavigation.MinicalButton(this.container,0)},focus:function(){d.$keyboardNavigation.dispatcher.globalNode.disable(),this.container.removeAttribute("tabindex"),d.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this)},blur:function(){this.container.setAttribute("tabindex","0"),d.$keyboardNavigation.KeyNavNode.prototype.blur.apply(this)},_getNode:function(m,p){return this.container.querySelector(".dhx_year_body tr:nth-child("+(m+1)+") td:nth-child("+(p+1)+")")},getNode:function(){return this._getNode(this.row,this.col)},_getGrid:function(){for(var m=this.container.querySelectorAll(".dhx_year_body tr"),p=[],o=0;o<m.length;o++){p[o]=[];for(var c=m[o].querySelectorAll("td"),u=0;u<c.length;u++){var f=c[u],y=!0,x=d._getClassName(f);(x.indexOf("dhx_after")>-1||x.indexOf("dhx_before")>-1||x.indexOf("dhx_scale_ignore")>-1)&&(y=!1),p[o][u]=y}}return p},keys:{right:function(m){var p=this._getGrid(),o=this.row,c=this.col+1;p[o]&&p[o][c]||(p[o+1]?(o+=1,c=0):c=this.col);var u=new d.$keyboardNavigation.MinicalCell(this.container,o,c);u.isValid()||(u=u.fallback()),this.moveTo(u)},left:function(m){var p=this._getGrid(),o=this.row,c=this.col-1;p[o]&&p[o][c]||(c=p[o-1]?p[o-=1].length-1:this.col);var u=new d.$keyboardNavigation.MinicalCell(this.container,o,c);u.isValid()||(u=u.fallback()),this.moveTo(u)},down:function(){var m=this._getGrid(),p=this.row+1,o=this.col;m[p]&&m[p][o]||(p=this.row);var c=new d.$keyboardNavigation.MinicalCell(this.container,p,o);c.isValid()||(c=c.fallback()),this.moveTo(c)},up:function(){var m=this._getGrid(),p=this.row-1,o=this.col;if(m[p]&&m[p][o]){var c=new d.$keyboardNavigation.MinicalCell(this.container,p,o);c.isValid()||(c=c.fallback()),this.moveTo(c)}else{var u=0;this.col>m[this.row].length/2&&(u=1),this.moveTo(new d.$keyboardNavigation.MinicalButton(this.container,u))}},enter:function(m){this.getNode().querySelector(".dhx_month_head").click()}}}),d.$keyboardNavigation.MinicalCell.prototype.bindAll(d.$keyboardNavigation.MinicalCell.prototype.keys)}(s),function(d){d.$keyboardNavigation.DataArea=function(m){this.index=m||0},d.$keyboardNavigation.DataArea.prototype=d._compose(d.$keyboardNavigation.KeyNavNode,{getNode:function(m){return d.$container.querySelector(".dhx_cal_data")},_handlers:null,isValid:function(){return!0},fallback:function(){return this},keys:{"up,down,right,left":function(){this.moveTo(new d.$keyboardNavigation.TimeSlot)}}}),d.$keyboardNavigation.DataArea.prototype.bindAll(d.$keyboardNavigation.DataArea.prototype.keys)}(s),wC(s),function(d){d.$keyboardNavigation.dispatcher={isActive:!1,activeNode:null,globalNode:new d.$keyboardNavigation.SchedulerNode,keepScrollPosition:function(m){var p,o,c=d.$container.querySelector(".dhx_timeline_scrollable_data");c||(c=d.$container.querySelector(".dhx_cal_data")),c&&(p=c.scrollTop,o=c.scrollLeft),m(),c&&(c.scrollTop=p,c.scrollLeft=o)},enable:function(){if(d.$container){this.isActive=!0;var m=this;this.keepScrollPosition(function(){m.globalNode.enable(),m.setActiveNode(m.getActiveNode())})}},disable:function(){this.isActive=!1,this.globalNode.disable()},isEnabled:function(){return!!this.isActive},getDefaultNode:function(){return this.globalNode.getDefaultNode()},setDefaultNode:function(){this.setActiveNode(this.getDefaultNode())},getActiveNode:function(){var m=this.activeNode;return m&&!m.isValid()&&(m=m.fallback()),m},focusGlobalNode:function(){this.blurNode(this.globalNode),this.focusNode(this.globalNode)},setActiveNode:function(m){m&&m.isValid()&&(this.activeNode&&this.activeNode.compareTo(m)||this.isEnabled()&&(this.blurNode(this.activeNode),this.activeNode=m,this.focusNode(this.activeNode)))},focusNode:function(m){m&&m.focus&&(m.focus(),m.getNode&&document.activeElement!=m.getNode()&&this.setActiveNode(new d.$keyboardNavigation.DataArea))},blurNode:function(m){m&&m.blur&&m.blur()},getInlineEditor:function(m){var p=d.$container.querySelector(".dhx_cal_editor["+d.config.event_attribute+"='"+m+"'] textarea");return p&&p.offsetWidth?p:null},keyDownHandler:function(m){if(!m.defaultPrevented){var p=this.getActiveNode();if((!d.$keyboardNavigation.isModal()||p&&p.container&&d.utils.dom.locateCss({target:p.container},"dhx_minical_popup",!1))&&(!d.getState().editor_id||!this.getInlineEditor(d.getState().editor_id))&&this.isEnabled()){m=m||window.event;var o=this.globalNode,c=d.$keyboardNavigation.shortcuts.getCommandFromEvent(m);p?p.findHandler(c)?p.doAction(c,m):o.findHandler(c)&&o.doAction(c,m):this.setDefaultNode()}}},_timeout:null,delay:function(m,p){clearTimeout(this._timeout),this._timeout=setTimeout(m,p||1)}}}(s),xC(s),function(){EC(s),function(c){c.$keyboardNavigation._minicalendars=[],c.$keyboardNavigation.isMinical=function(u){for(var f=c.$keyboardNavigation._minicalendars,y=0;y<f.length;y++)if(this.isChildOf(u,f[y]))return!0;return!1},c.$keyboardNavigation.isChildOf=function(u,f){for(;u&&u!==f;)u=u.parentNode;return u===f},c.$keyboardNavigation.patchMinicalendar=function(){var u=c.$keyboardNavigation.dispatcher;function f(E){var b=E.target;u.enable(),u.setActiveNode(new c.$keyboardNavigation.MinicalButton(b,0))}function y(E){var b=E.target||E.srcElement,S=c.utils.dom.locateCss(E,"dhx_cal_prev_button",!1),D=c.utils.dom.locateCss(E,"dhx_cal_next_button",!1),M=c.utils.dom.locateCss(E,"dhx_year_body",!1),U=0,F=0;if(M){for(var H,Q,te=b;te&&te.tagName.toLowerCase()!="td";)te=te.parentNode;if(te&&(H=(Q=te).parentNode),H&&Q){for(var G=H.parentNode.querySelectorAll("tr"),re=0;re<G.length;re++)if(G[re]==H){U=re;break}var q=H.querySelectorAll("td");for(re=0;re<q.length;re++)if(q[re]==Q){F=re;break}}}var ee=E.currentTarget;u.delay(function(){var J;(S||D||M)&&(S?(J=new c.$keyboardNavigation.MinicalButton(ee,0),u.setActiveNode(new c.$keyboardNavigation.MinicalButton(ee,0))):D?J=new c.$keyboardNavigation.MinicalButton(ee,1):M&&(J=new c.$keyboardNavigation.MinicalCell(ee,U,F)),J&&(u.enable(),J.isValid()&&(u.activeNode=null,u.setActiveNode(J))))})}if(c.renderCalendar){var x=c.renderCalendar;c.renderCalendar=function(){var E=x.apply(this,arguments),b=c.$keyboardNavigation._minicalendars;c.eventRemove(E,"click",y),c.event(E,"click",y),c.eventRemove(E,"focus",f),c.event(E,"focus",f);for(var S=!1,D=0;D<b.length;D++)if(b[D]==E){S=!0;break}if(S||b.push(E),u.isEnabled()){var M=u.getActiveNode();M&&M.container==E?u.focusNode(M):E.setAttribute("tabindex","0")}else E.setAttribute("tabindex","0");return E}}if(c.destroyCalendar){var v=c.destroyCalendar;c.destroyCalendar=function(E,b){E=E||(c._def_count?c._def_count.firstChild:null);var S=v.apply(this,arguments);if(!E||!E.parentNode)for(var D=c.$keyboardNavigation._minicalendars,M=0;M<D.length;M++)D[M]==E&&(c.eventRemove(D[M],"focus",f),D.splice(M,1),M--);return S}}}}(s);var d=s.$keyboardNavigation.dispatcher;if(s.$keyboardNavigation.attachSchedulerHandlers(),s.renderCalendar)s.$keyboardNavigation.patchMinicalendar();else var m=s.attachEvent("onSchedulerReady",function(){s.detachEvent(m),s.$keyboardNavigation.patchMinicalendar()});function p(){if(s.config.key_nav){var c=document.activeElement;return!(!c||s.utils.dom.locateCss(c,"dhx_cal_quick_info",!1))&&(s.$keyboardNavigation.isChildOf(c,s.$container)||s.$keyboardNavigation.isMinical(c))}}function o(c){c&&!d.isEnabled()?d.enable():!c&&d.isEnabled()&&d.disable()}setInterval(function(){if(s.$container&&s.$keyboardNavigation.isChildOf(s.$container,document.body)){var c=p();c?o(c):!c&&d.isEnabled()&&setTimeout(function(){s.config.key_nav?o(p()):s.$container.removeAttribute("tabindex")},100)}},500)}()},layer:function(s){s.attachEvent("onTemplatesReady",function(){this.layers.sort(function(d,m){return d.zIndex-m.zIndex}),s._dp_init=function(d){d._methods=["_set_event_text_style","","changeEventId","deleteEvent"],this.attachEvent("onEventAdded",function(m){!this._loading&&this.validId(m)&&this.getEvent(m)&&this.getEvent(m).layer==d.layer&&d.setUpdated(m,!0,"inserted")}),this.attachEvent("onBeforeEventDelete",function(m){if(this.getEvent(m)&&this.getEvent(m).layer==d.layer){if(!this.validId(m))return;var p=d.getState(m);return p=="inserted"||this._new_event?(d.setUpdated(m,!1),!0):p!="deleted"&&(p=="true_deleted"||(d.setUpdated(m,!0,"deleted"),!1))}return!0}),this.attachEvent("onEventChanged",function(m){!this._loading&&this.validId(m)&&this.getEvent(m)&&this.getEvent(m).layer==d.layer&&d.setUpdated(m,!0,"updated")}),d._getRowData=function(m,p){var o=this.obj.getEvent(m),c={};for(var u in o)u.indexOf("_")!==0&&(o[u]&&o[u].getUTCFullYear?c[u]=this.obj._helpers.formatDate(o[u]):c[u]=o[u]);return c},d._clearUpdateFlag=function(){},d.attachEvent("insertCallback",s._update_callback),d.attachEvent("updateCallback",s._update_callback),d.attachEvent("deleteCallback",function(m,p){this.obj.setUserData(p,this.action_param,"true_deleted"),this.obj.deleteEvent(p)})},function(){var d=function o(c){if(c===null||Pc(c)!="object")return c;var u=new c.constructor;for(var f in c)u[f]=o(c[f]);return u};s._dataprocessors=[],s._layers_zindex={};for(var m=0;m<s.layers.length;m++){if(s.config["lightbox_"+s.layers[m].name]={},s.config["lightbox_"+s.layers[m].name].sections=d(s.config.lightbox.sections),s._layers_zindex[s.layers[m].name]=s.config.initial_layer_zindex||5+3*m,s.layers[m].url){var p=s.createDataProcessor({url:s.layers[m].url});p.layer=s.layers[m].name,s._dataprocessors.push(p),s._dataprocessors[m].init(s)}s.layers[m].isDefault&&(s.defaultLayer=s.layers[m].name)}}(),s.showLayer=function(d){this.toggleLayer(d,!0)},s.hideLayer=function(d){this.toggleLayer(d,!1)},s.toggleLayer=function(d,m){var p=this.getLayer(d);p.visible=m!==void 0?!!m:!p.visible,this.setCurrentView(this._date,this._mode)},s.getLayer=function(d){var m,p;typeof d=="string"&&(p=d),Pc(d)=="object"&&(p=d.layer);for(var o=0;o<s.layers.length;o++)s.layers[o].name==p&&(m=s.layers[o]);return m},s.attachEvent("onBeforeLightbox",function(d){var m=this.getEvent(d);return this.config.lightbox.sections=this.config["lightbox_"+m.layer].sections,s.resetLightbox(),!0}),s.attachEvent("onClick",function(d,m){var p=s.getEvent(d);return!s.getLayer(p.layer).noMenu}),s.attachEvent("onEventCollision",function(d,m){var p=this.getLayer(d);if(!p.checkCollision)return!1;for(var o=0,c=0;c<m.length;c++)m[c].layer==p.name&&m[c].id!=d.id&&o++;return o>=s.config.collision_limit}),s.addEvent=function(d,m,p,o,c){var u=d;arguments.length!=1&&((u=c||{}).start_date=d,u.end_date=m,u.text=p,u.id=o,u.layer=this.defaultLayer),u.id=u.id||s.uid(),u.text=u.text||"",typeof u.start_date=="string"&&(u.start_date=this.templates.api_date(u.start_date)),typeof u.end_date=="string"&&(u.end_date=this.templates.api_date(u.end_date)),u._timed=this.isOneDayEvent(u);var f=!this._events[u.id];this._events[u.id]=u,this.event_updated(u),this._loading||this.callEvent(f?"onEventAdded":"onEventChanged",[u.id,u])},this._evs_layer={};for(var w=0;w<this.layers.length;w++)this._evs_layer[this.layers[w].name]=[];s.addEventNow=function(d,m,p){var o={};Pc(d)=="object"&&(o=d,d=null);var c=6e4*(this.config.event_duration||this.config.time_step);d||(d=Math.round(s._currentDate().valueOf()/c)*c);var u=new Date(d);if(!m){var f=this.config.first_hour;f>u.getHours()&&(u.setHours(f),d=u.valueOf()),m=d+c}o.start_date=o.start_date||u,o.end_date=o.end_date||new Date(m),o.text=o.text||this.locale.labels.new_event,o.id=this._drag_id=this.uid(),o.layer=this.defaultLayer,this._drag_mode="new-size",this._loading=!0,this.addEvent(o),this.callEvent("onEventCreated",[this._drag_id,p]),this._loading=!1,this._drag_event={},this._on_mouse_up(p)},s._t_render_view_data=function(d){if(this.config.multi_day&&!this._table_view){for(var m=[],p=[],o=0;o<d.length;o++)d[o]._timed?m.push(d[o]):p.push(d[o]);this._table_view=!0,this.render_data(p),this._table_view=!1,this.render_data(m)}else this.render_data(d)},s.render_view_data=function(){if(this._not_render)this._render_wait=!0;else{this._render_wait=!1,this.clear_view(),this._evs_layer={};for(var d=0;d<this.layers.length;d++)this._evs_layer[this.layers[d].name]=[];var m=this.get_visible_events();for(d=0;d<m.length;d++)this._evs_layer[m[d].layer]&&this._evs_layer[m[d].layer].push(m[d]);if(this._mode=="month"){var p=[];for(d=0;d<this.layers.length;d++)this.layers[d].visible&&(p=p.concat(this._evs_layer[this.layers[d].name]));this._t_render_view_data(p)}else for(d=0;d<this.layers.length;d++)if(this.layers[d].visible){var o=this._evs_layer[this.layers[d].name];this._t_render_view_data(o)}}},s._render_v_bar=function(d,m,p,o,c,u,f,y,x){var v=d.id;f.indexOf("<div class=")==-1&&(f=s.templates["event_header_"+d.layer]?s.templates["event_header_"+d.layer](d.start_date,d.end_date,d):f),y.indexOf("<div class=")==-1&&(y=s.templates["event_text_"+d.layer]?s.templates["event_text_"+d.layer](d.start_date,d.end_date,d):y);var E=document.createElement("div"),b="dhx_cal_event",S=s.templates["event_class_"+d.layer]?s.templates["event_class_"+d.layer](d.start_date,d.end_date,d):s.templates.event_class(d.start_date,d.end_date,d);S&&(b=b+" "+S);var D=s._border_box_events(),M=o-2,U=D?M:o-4,F=D?M:o-6,H=D?M:o-(this._quirks?4:14),Q=D?M-2:o-8,te=D?c-this.xy.event_header_height:c-(this._quirks?20:30)+1,G='<div event_id="'+v+'" '+s.config.event_attribute+'="'+v+'" class="'+b+'" style="position:absolute; top:'+p+"px; left:"+m+"px; width:"+U+"px; height:"+c+"px;"+(u||"")+'">';return G+='<div class="dhx_header" style=" width:'+F+'px;" >&nbsp;</div>',G+='<div class="dhx_title">'+f+"</div>",G+='<div class="dhx_body" style=" width:'+H+"px; height:"+te+'px;">'+y+"</div>",G+='<div class="dhx_footer" style=" width:'+Q+"px;"+(x?" margin-top:-1px;":"")+'" ></div></div>',E.innerHTML=G,E.style.zIndex=100,E.firstChild},s.render_event_bar=function(d){var m=this._els.dhx_cal_data[0],p=this._colsS[d._sday],o=this._colsS[d._eday];o==p&&(o=this._colsS[d._eday+1]);var c=this.xy.bar_height,u=this._colsS.heights[d._sweek]+(this._colsS.height?this.xy.month_scale_height+2:2)+d._sorder*c,f=document.createElement("div"),y=d._timed?"dhx_cal_event_clear":"dhx_cal_event_line",x=s.templates["event_class_"+d.layer]?s.templates["event_class_"+d.layer](d.start_date,d.end_date,d):s.templates.event_class(d.start_date,d.end_date,d);x&&(y=y+" "+x);var v='<div event_id="'+d.id+'" '+this.config.event_attribute+'="'+d.id+'" class="'+y+'" style="position:absolute; top:'+u+"px; left:"+p+"px; width:"+(o-p-15)+"px;"+(d._text_style||"")+'">';d._timed&&(v+=s.templates["event_bar_date_"+d.layer]?s.templates["event_bar_date_"+d.layer](d.start_date,d.end_date,d):s.templates.event_bar_date(d.start_date,d.end_date,d)),v+=s.templates["event_bar_text_"+d.layer]?s.templates["event_bar_text_"+d.layer](d.start_date,d.end_date,d):s.templates.event_bar_text(d.start_date,d.end_date,d)+"</div>)",v+="</div>",f.innerHTML=v,this._rendered.push(f.firstChild),m.appendChild(f.firstChild)},s.render_event=function(d){var m=s.xy.menu_width;if(s.getLayer(d.layer).noMenu&&(m=0),!(d._sday<0)){var p=s.locate_holder(d._sday);if(p){var o=60*d.start_date.getHours()+d.start_date.getMinutes(),c=60*d.end_date.getHours()+d.end_date.getMinutes()||60*s.config.last_hour,u=Math.round((60*o*1e3-60*this.config.first_hour*60*1e3)*this.config.hour_size_px/36e5)%(24*this.config.hour_size_px)+1,f=Math.max(s.xy.min_event_height,(c-o)*this.config.hour_size_px/60)+1,y=Math.floor((p.clientWidth-m)/d._count),x=d._sorder*y+1;d._inner||(y*=d._count-d._sorder);var v=this._render_v_bar(d.id,m+x,u,y,f,d._text_style,s.templates.event_header(d.start_date,d.end_date,d),s.templates.event_text(d.start_date,d.end_date,d));if(this._rendered.push(v),p.appendChild(v),x=x+parseInt(p.style.left,10)+m,u+=this._dy_shift,v.style.zIndex=this._layers_zindex[d.layer],this._edit_id==d.id){v.style.zIndex=parseInt(v.style.zIndex)+1;var E=v.style.zIndex;y=Math.max(y-4,s.xy.editor_width),(v=document.createElement("div")).setAttribute("event_id",d.id),v.setAttribute(this.config.event_attribute,d.id),this.set_xy(v,y,f-20,x,u+14),v.className="dhx_cal_editor",v.style.zIndex=E;var b=document.createElement("div");this.set_xy(b,y-6,f-26),b.style.cssText+=";margin:2px 2px 2px 2px;overflow:hidden;",b.style.zIndex=E,v.appendChild(b),this._els.dhx_cal_data[0].appendChild(v),this._rendered.push(v),b.innerHTML="<textarea class='dhx_cal_editor'>"+d.text+"</textarea>",this._quirks7&&(b.firstChild.style.height=f-12+"px"),this._editor=b.firstChild,this._editor.addEventListener("keypress",function(F){if(F.shiftKey)return!0;var H=F.keyCode;H==s.keys.edit_save&&s.editStop(!0),H==s.keys.edit_cancel&&s.editStop(!1)}),this._editor.addEventListener("selectstart",function(F){return F.cancelBubble=!0,!0}),b.firstChild.focus(),this._els.dhx_cal_data[0].scrollLeft=0,b.firstChild.select()}if(this._select_id==d.id){v.style.zIndex=parseInt(v.style.zIndex)+1;for(var S=this.config["icons_"+(this._edit_id==d.id?"edit":"select")],D="",M=0;M<S.length;M++)D+="<div class='dhx_menu_icon "+S[M]+"' title='"+this.locale.labels[S[M]]+"'></div>";var U=this._render_v_bar(d.id,x-m+1,u,m,20*S.length+26,"","<div class='dhx_menu_head'></div>",D,!0);U.style.left=x-m+1,U.style.zIndex=v.style.zIndex,this._els.dhx_cal_data[0].appendChild(U),this._rendered.push(U)}}}},s.filter_agenda=function(d,m){var p=s.getLayer(m.layer);return p&&p.visible}})},limit:function(s){s.config.limit_start=null,s.config.limit_end=null,s.config.limit_view=!1,s.config.check_limits=!0,s.config.mark_now=!0,s.config.display_marked_timespans=!0,s.config.overwrite_marked_timespans=!0,s._temp_limit_scope=function(){var w=null,d=function(o,c,u){var f=Fh(o)=="object"?o:{days:o};return f.type="dhx_time_block",f.css="",c&&(u&&(f.sections=u),f=function(y,x,v){return x instanceof Date&&v instanceof Date?(y.start_date=x,y.end_date=v):(y.days=x,y.zones=v),y}(f,o,c)),f};s.blockTime=function(o,c,u){var f=d(o,c,u);return s.addMarkedTimespan(f)},s.unblockTime=function(o,c,u){var f=d(o,c=c||"fullday",u);return s.deleteMarkedTimespan(f)},s.attachEvent("onBeforeViewChange",function(o,c,u,f){function y(x,v){var E=s.config.limit_start,b=s.config.limit_end,S=s.date.add(x,1,v);return x.valueOf()>b.valueOf()||S<=E.valueOf()}return!s.config.limit_view||!y(f=f||c,u=u||o)||c.valueOf()==f.valueOf()||(setTimeout(function(){var x=y(c,u)?s.config.limit_start:c;s.setCurrentView(y(x,u)?null:x,u)},1),!1)}),s.checkInMarkedTimespan=function(o,c,u){c=c||"default";for(var f=!0,y=new Date(o.start_date.valueOf()),x=s.date.add(y,1,"day"),v=s._marked_timespans;y<o.end_date;y=s.date.date_part(x),x=s.date.add(y,1,"day")){var E=+s.date.date_part(new Date(y)),b=p(o,v,y.getDay(),E,c);if(b)for(var S=0;S<b.length;S+=2){var D=s._get_zone_minutes(y),M=o.end_date>x||o.end_date.getDate()!=y.getDate()?1440:s._get_zone_minutes(o.end_date),U=b[S],F=b[S+1];if(U<M&&F>D&&!(f=typeof u=="function"&&u(o,D,M,U,F)))break}}return!f};var m=s.checkLimitViolation=function(o){if(!o||!s.config.check_limits)return!0;var c=s,u=c.config,f=[];if(o.rec_type)for(var y=s.getRecDates(o),x=0;x<y.length;x++){var v=s._copy_event(o);s._lame_copy(v,y[x]),f.push(v)}else f=[o];for(var E=!0,b=0;b<f.length;b++){var S=!0;(v=f[b])._timed=s.isOneDayEvent(v),(S=!u.limit_start||!u.limit_end||v.start_date.valueOf()>=u.limit_start.valueOf()&&v.end_date.valueOf()<=u.limit_end.valueOf())&&(S=!s.checkInMarkedTimespan(v,"dhx_time_block",function(D,M,U,F,H){var Q=!0;return M<=H&&M>=F&&((H==1440||U<=H)&&(Q=!1),D._timed&&c._drag_id&&c._drag_mode=="new-size"?(D.start_date.setHours(0),D.start_date.setMinutes(H)):Q=!1),(U>=F&&U<=H||M<F&&U>H)&&(D._timed&&c._drag_id&&c._drag_mode=="new-size"?(D.end_date.setHours(0),D.end_date.setMinutes(F)):Q=!1),Q})),S||(S=c.checkEvent("onLimitViolation")?c.callEvent("onLimitViolation",[v.id,v]):S),E=E&&S}return E||(c._drag_id=null,c._drag_mode=null),E};function p(o,c,u,f,y){var x=s,v=[],E={_props:"map_to",matrix:"y_property"};for(var b in E){var S=E[b];if(x[b])for(var D in x[b]){var M=x[b][D][S];o[M]&&(v=x._add_timespan_zones(v,s._get_blocked_zones(c[D],o[M],u,f,y)))}}return v=x._add_timespan_zones(v,s._get_blocked_zones(c,"global",u,f,y))}s._get_blocked_zones=function(o,c,u,f,y){var x=[];if(o&&o[c])for(var v=o[c],E=this._get_relevant_blocked_zones(u,f,v,y),b=0;b<E.length;b++)x=this._add_timespan_zones(x,E[b].zones);return x},s._get_relevant_blocked_zones=function(o,c,u,f){var y;return s.config.overwrite_marked_timespans?y=u[c]&&u[c][f]?u[c][f]:u[o]&&u[o][f]?u[o][f]:[]:(y=[],u[c]&&u[c][f]&&(y=y.concat(u[c][f])),u[o]&&u[o][f]&&(y=y.concat(u[o][f]))),y},s.attachEvent("onMouseDown",function(o){return o!="dhx_time_block"}),s.attachEvent("onBeforeDrag",function(o){return!o||m(s.getEvent(o))}),s.attachEvent("onClick",function(o,c){return m(s.getEvent(o))}),s.attachEvent("onBeforeLightbox",function(o){var c=s.getEvent(o);return w=[c.start_date,c.end_date],m(c)}),s.attachEvent("onEventSave",function(o,c,u){if(!c.start_date||!c.end_date){var f=s.getEvent(o);c.start_date=new Date(f.start_date),c.end_date=new Date(f.end_date)}if(c.rec_type){var y=s._lame_clone(c);return s._roll_back_dates(y),m(y)}return m(c)}),s.attachEvent("onEventAdded",function(o){if(!o)return!0;var c=s.getEvent(o);return!m(c)&&s.config.limit_start&&s.config.limit_end&&(c.start_date<s.config.limit_start&&(c.start_date=new Date(s.config.limit_start)),c.start_date.valueOf()>=s.config.limit_end.valueOf()&&(c.start_date=this.date.add(s.config.limit_end,-1,"day")),c.end_date<s.config.limit_start&&(c.end_date=new Date(s.config.limit_start)),c.end_date.valueOf()>=s.config.limit_end.valueOf()&&(c.end_date=this.date.add(s.config.limit_end,-1,"day")),c.start_date.valueOf()>=c.end_date.valueOf()&&(c.end_date=this.date.add(c.start_date,this.config.event_duration||this.config.time_step,"minute")),c._timed=this.isOneDayEvent(c)),!0}),s.attachEvent("onEventChanged",function(o){if(!o)return!0;var c=s.getEvent(o);if(!m(c)){if(!w)return!1;c.start_date=w[0],c.end_date=w[1],c._timed=this.isOneDayEvent(c)}return!0}),s.attachEvent("onBeforeEventChanged",function(o,c,u){return m(o)}),s.attachEvent("onBeforeEventCreated",function(o){var c=s.getActionData(o).date,u={_timed:!0,start_date:c,end_date:s.date.add(c,s.config.time_step,"minute")};return m(u)}),s.attachEvent("onViewChange",function(){s._mark_now()}),s.attachEvent("onAfterSchedulerResize",function(){return window.setTimeout(function(){s._mark_now()},1),!0}),s.attachEvent("onTemplatesReady",function(){s._mark_now_timer=window.setInterval(function(){s._is_initialized()&&s._mark_now()},6e4)}),s._mark_now=function(o){this._els.dhx_now_time||(this._els.dhx_now_time=[]);var c=s._currentDate(),u=this.config;if(s._remove_mark_now(),!o&&u.mark_now&&c<this._max_date&&c>this._min_date&&c.getHours()>=u.first_hour&&c.getHours()<u.last_hour){var f=this.locate_holder_day(c);this._els.dhx_now_time=s._append_mark_now(f,c)}},s._append_mark_now=function(o,c){var u=s._get_zone_minutes(c),f={zones:[u,u+1],css:"dhx_now_time",type:"dhx_now_time"};if(!this._table_view){if(this._props&&this._props[this._mode]){var y,x,v=this._props[this._mode],E=v.size||v.options.length;v.days>1?(v.size&&v.options.length&&(o=(v.position+o)/v.options.length*v.size),y=o,x=o+E):x=(y=0)+E;for(var b=[],S=y;S<x;S++){var D=S;f.days=D;var M=s._render_marked_timespan(f,null,D)[0];b.push(M)}return b}return f.days=o,s._render_marked_timespan(f,null,o)}if(this._mode=="month")return f.days=+s.date.date_part(c),s._render_marked_timespan(f,null,null)},s._remove_mark_now=function(){for(var o=this._els.dhx_now_time,c=0;c<o.length;c++){var u=o[c],f=u.parentNode;f&&f.removeChild(u)}this._els.dhx_now_time=[]},s._marked_timespans={global:{}},s._get_zone_minutes=function(o){return 60*o.getHours()+o.getMinutes()},s._prepare_timespan_options=function(o){var c=[],u=[];if(o.days=="fullweek"&&(o.days=[0,1,2,3,4,5,6]),o.days instanceof Array){for(var f=o.days.slice(),y=0;y<f.length;y++){var x=s._lame_clone(o);x.days=f[y],c.push.apply(c,s._prepare_timespan_options(x))}return c}if(!o||!(o.start_date&&o.end_date&&o.end_date>o.start_date||o.days!==void 0&&o.zones)&&!o.type)return c;o.zones=="fullday"&&(o.zones=[0,1440]),o.zones&&o.invert_zones&&(o.zones=s.invertZones(o.zones)),o.id=s.uid(),o.css=o.css||"",o.type=o.type||"default";var v=o.sections;if(v){for(var E in v)if(v.hasOwnProperty(E)){var b=v[E];for(b instanceof Array||(b=[b]),y=0;y<b.length;y++)(Q=s._lame_copy({},o)).sections={},Q.sections[E]=b[y],u.push(Q)}}else u.push(o);for(var S=0;S<u.length;S++){var D=u[S],M=D.start_date,U=D.end_date;if(M&&U)for(var F=s.date.date_part(new Date(M)),H=s.date.add(F,1,"day");F<U;){var Q;delete(Q=s._lame_copy({},D)).start_date,delete Q.end_date,Q.days=F.valueOf();var te=M>F?s._get_zone_minutes(M):0,G=U>H||U.getDate()!=F.getDate()?1440:s._get_zone_minutes(U);Q.zones=[te,G],c.push(Q),F=H,H=s.date.add(H,1,"day")}else D.days instanceof Date&&(D.days=s.date.date_part(D.days).valueOf()),D.zones=o.zones.slice(),c.push(D)}return c},s._get_dates_by_index=function(o,c,u){var f=[];c=s.date.date_part(new Date(c||s._min_date)),u=new Date(u||s._max_date);for(var y=c.getDay(),x=o-y>=0?o-y:7-c.getDay()+o,v=s.date.add(c,x,"day");v<u;v=s.date.add(v,1,"week"))f.push(v);return f},s._get_css_classes_by_config=function(o){var c=[];return o.type=="dhx_time_block"&&(c.push("dhx_time_block"),o.css&&c.push("dhx_time_block_reset")),c.push("dhx_marked_timespan",o.css),c.join(" ")},s._get_block_by_config=function(o){var c=document.createElement("div");return o.html&&(typeof o.html=="string"?c.innerHTML=o.html:c.appendChild(o.html)),c},s._render_marked_timespan=function(o,c,u){var f=[],y=s.config,x=this._min_date,v=this._max_date,E=!1;if(!y.display_marked_timespans)return f;if(!u&&u!==0){if(o.days<7)u=o.days;else{var b=new Date(o.days);if(E=+b,!(+v>+b&&+x<=+b))return f;u=b.getDay()}var S=x.getDay();S>u?u=7-(S-u):u-=S}var D=o.zones,M=s._get_css_classes_by_config(o);if(s._table_view&&s._mode=="month"){var U=[],F=[];if(c)U.push(c),F.push(u);else{F=E?[E]:s._get_dates_by_index(u);for(var H=0;H<F.length;H++)U.push(this._scales[F[H]])}for(H=0;H<U.length;H++){c=U[H],u=F[H];var Q=Math.floor((this._correct_shift(u,1)-x.valueOf())/(864e5*this._cols.length)),te=this.locate_holder_day(u,!1)%this._cols.length;if(!this._ignores[te]){var G=this.config.rtl?this._colsS.col_length-1-te:te,re=s._get_block_by_config(o),q=Math.max(c.offsetHeight-1,0),ee=Math.max(c.offsetWidth-1,0),J=this._colsS[G],ye=this._colsS.heights[Q]+(this._colsS.height?this.xy.month_scale_height+2:2)-1;re.className=M,re.style.top=ye+"px",re.style.lineHeight=re.style.height=q+"px";for(var Se=0;Se<D.length;Se+=2){var be=D[H];if((qe=D[H+1])<=be)return[];(Xe=re.cloneNode(!0)).style.left=J+Math.round(be/1440*ee)+"px",Xe.style.width=Math.round((qe-be)/1440*ee)+"px",c.appendChild(Xe),f.push(Xe)}}}}else{var Ie=u;if(this._ignores[this.locate_holder_day(u,!1)])return f;if(this._props&&this._props[this._mode]&&o.sections&&o.sections[this._mode]){var Te=this._props[this._mode];Ie=Te.order[o.sections[this._mode]];var Fe=Te.order[o.sections[this._mode]];Te.days>1?Ie=Ie*(Te.size||Te.options.length)+Fe:(Ie=Fe,Te.size&&Ie>Te.position+Te.size&&(Ie=0))}for(c=c||s.locate_holder(Ie),H=0;H<D.length;H+=2){var qe,Xe;if(be=Math.max(D[H],60*y.first_hour),(qe=Math.min(D[H+1],60*y.last_hour))<=be){if(H+2<D.length)continue;return[]}(Xe=s._get_block_by_config(o)).className=M;var Tt=24*this.config.hour_size_px+1;Xe.style.top=Math.round((60*be*1e3-36e5*this.config.first_hour)*this.config.hour_size_px/36e5)%Tt+"px",Xe.style.lineHeight=Xe.style.height=Math.max(Math.round(60*(qe-be)*1e3*this.config.hour_size_px/36e5)%Tt,1)+"px",c.appendChild(Xe),f.push(Xe)}}return f},s._mark_timespans=function(){var o=this._els.dhx_cal_data[0],c=[];if(s._table_view&&s._mode=="month")for(var u in this._scales){var f=new Date(+u);c.push.apply(c,s._on_scale_add_marker(this._scales[u],f))}else{f=new Date(s._min_date);for(var y=0,x=o.childNodes.length;y<x;y++){var v=o.childNodes[y];v.firstChild&&s._getClassName(v.firstChild).indexOf("dhx_scale_hour")>-1||(c.push.apply(c,s._on_scale_add_marker(v,f)),f=s.date.add(f,1,"day"))}}return c},s.markTimespan=function(o){var c=!1;this._els.dhx_cal_data||(s.get_elements(),c=!0);var u=s._marked_timespans_ids,f=s._marked_timespans_types,y=s._marked_timespans;s.deleteMarkedTimespan(),s.addMarkedTimespan(o);var x=s._mark_timespans();return c&&(s._els=[]),s._marked_timespans_ids=u,s._marked_timespans_types=f,s._marked_timespans=y,x},s.unmarkTimespan=function(o){if(o)for(var c=0;c<o.length;c++){var u=o[c];u.parentNode&&u.parentNode.removeChild(u)}},s._addMarkerTimespanConfig=function(o){var c=s._marked_timespans,u=o.id,f=s._marked_timespans_ids;f[u]||(f[u]=[]);var y=o.days,x=o.sections,v=o.type;if(o.id=u,x){for(var E in x)if(x.hasOwnProperty(E)){c[E]||(c[E]={});var b=x[E],S=c[E];S[b]||(S[b]={}),S[b][y]||(S[b][y]={}),S[b][y][v]||(S[b][y][v]=[],s._marked_timespans_types||(s._marked_timespans_types={}),s._marked_timespans_types[v]||(s._marked_timespans_types[v]=!0));var D=S[b][y][v];o._array=D,D.push(o),f[u].push(o)}}else c.global[y]||(c.global[y]={}),c.global[y][v]||(c.global[y][v]=[]),s._marked_timespans_types||(s._marked_timespans_types={}),s._marked_timespans_types[v]||(s._marked_timespans_types[v]=!0),D=c.global[y][v],o._array=D,D.push(o),f[u].push(o)},s._marked_timespans_ids={},s.addMarkedTimespan=function(o){var c=s._prepare_timespan_options(o);if(c.length){for(var u=c[0].id,f=0;f<c.length;f++)s._addMarkerTimespanConfig(c[f]);return u}},s._add_timespan_zones=function(o,c){var u=o.slice();if(c=c.slice(),!u.length)return c;for(var f=0;f<u.length;f+=2)for(var y=u[f],x=u[f+1],v=f+2==u.length,E=0;E<c.length;E+=2){var b=c[E],S=c[E+1];if(S>x&&b<=x||b<y&&S>=y)u[f]=Math.min(y,b),u[f+1]=Math.max(x,S),f-=2;else{if(!v)continue;var D=y>b?0:2;u.splice(f+D,0,b,S)}c.splice(E--,2);break}return u},s._subtract_timespan_zones=function(o,c){for(var u=o.slice(),f=0;f<u.length;f+=2)for(var y=u[f],x=u[f+1],v=0;v<c.length;v+=2){var E=c[v],b=c[v+1];if(b>y&&E<x){var S=!1;y>=E&&x<=b&&u.splice(f,2),y<E&&(u.splice(f,2,y,E),S=!0),x>b&&u.splice(S?f+2:f,S?0:2,b,x),f-=2;break}}return u},s.invertZones=function(o){return s._subtract_timespan_zones([0,1440],o.slice())},s._delete_marked_timespan_by_id=function(o){var c=s._marked_timespans_ids[o];if(c){for(var u=0;u<c.length;u++)for(var f=c[u],y=f._array,x=0;x<y.length;x++)if(y[x]==f){y.splice(x,1);break}}},s._delete_marked_timespan_by_config=function(o){var c,u=s._marked_timespans,f=o.sections,y=o.days,x=o.type||"default";if(f){for(var v in f)if(f.hasOwnProperty(v)&&u[v]){var E=f[v];u[v][E]&&(c=u[v][E])}}else c=u.global;if(c){if(y!==void 0)c[y]&&c[y][x]&&(s._addMarkerTimespanConfig(o),s._delete_marked_timespans_list(c[y][x],o));else for(var b in c)if(c[b][x]){var S=s._lame_clone(o);o.days=b,s._addMarkerTimespanConfig(S),s._delete_marked_timespans_list(c[b][x],o)}}},s._delete_marked_timespans_list=function(o,c){for(var u=0;u<o.length;u++){var f=o[u],y=s._subtract_timespan_zones(f.zones,c.zones);if(y.length)f.zones=y;else{o.splice(u,1),u--;for(var x=s._marked_timespans_ids[f.id],v=0;v<x.length;v++)if(x[v]==f){x.splice(v,1);break}}}},s.deleteMarkedTimespan=function(o){if(arguments.length||(s._marked_timespans={global:{}},s._marked_timespans_ids={},s._marked_timespans_types={}),Fh(o)!="object")s._delete_marked_timespan_by_id(o);else{o.start_date&&o.end_date||(o.days!==void 0||o.type||(o.days="fullweek"),o.zones||(o.zones="fullday"));var c=[];if(o.type)c.push(o.type);else for(var u in s._marked_timespans_types)c.push(u);for(var f=s._prepare_timespan_options(o),y=0;y<f.length;y++)for(var x=f[y],v=0;v<c.length;v++){var E=s._lame_clone(x);E.type=c[v],s._delete_marked_timespan_by_config(E)}}},s._get_types_to_render=function(o,c){var u=o?s._lame_copy({},o):{};for(var f in c||{})c.hasOwnProperty(f)&&(u[f]=c[f]);return u},s._get_configs_to_render=function(o){var c=[];for(var u in o)o.hasOwnProperty(u)&&c.push.apply(c,o[u]);return c},s._on_scale_add_marker=function(o,c){if(!s._table_view||s._mode=="month"){var u=c.getDay(),f=c.valueOf(),y=this._mode,x=s._marked_timespans,v=[],E=[];if(this._props&&this._props[y]){var b=this._props[y],S=b.options,D=S[s._get_unit_index(b,c)];if(b.days>1){var M=Math.round((c-s._min_date)/864e5),U=b.size||S.length;c=s.date.add(s._min_date,Math.floor(M/U),"day"),c=s.date.date_part(c)}else c=s.date.date_part(new Date(this._date));if(u=c.getDay(),f=c.valueOf(),x[y]&&x[y][D.key]){var F=x[y][D.key],H=s._get_types_to_render(F[u],F[f]);v.push.apply(v,s._get_configs_to_render(H))}}var Q=x.global;if(s.config.overwrite_marked_timespans){var te=Q[f]||Q[u];v.push.apply(v,s._get_configs_to_render(te))}else Q[f]&&v.push.apply(v,s._get_configs_to_render(Q[f])),Q[u]&&v.push.apply(v,s._get_configs_to_render(Q[u]));for(var G=0;G<v.length;G++)E.push.apply(E,s._render_marked_timespan(v[G],o,c));return E}},s.attachEvent("onScaleAdd",function(){s._on_scale_add_marker.apply(s,arguments)}),s.dblclick_dhx_marked_timespan=function(o,c){s.callEvent("onScaleDblClick",[s.getActionData(o).date,c,o]),s.config.dblclick_create&&s.addEventNow(s.getActionData(o).date,null,o)}},s._temp_limit_scope()},map_view:function(s){var w;s.xy.map_date_width=188,s.xy.map_icon_width=25,s.xy.map_description_width=400,s.config.map_resolve_event_location=!0,s.config.map_resolve_user_location=!0,s.config.map_initial_position=new google.maps.LatLng(48.724,8.215),s.config.map_error_position=new google.maps.LatLng(15,15),s.config.map_infowindow_max_width=300,s.config.map_type=google.maps.MapTypeId.ROADMAP,s.config.map_zoom_after_resolve=15,s.locale.labels.marker_geo_success="It seems you are here.",s.locale.labels.marker_geo_fail="Sorry, could not get your current position using geolocation.",s.templates.marker_date=s.date.date_to_str("%Y-%m-%d %H:%i"),s.templates.marker_text=function(d,m,p){return"<div><b>"+p.text+"</b><br/><br/>"+(p.event_location||"")+"<br/><br/>"+s.templates.marker_date(d)+" - "+s.templates.marker_date(m)+"</div>"},s.dblclick_dhx_map_area=function(){!this.config.readonly&&this.config.dblclick_create&&this.addEventNow({start_date:s._date,end_date:s.date.add(s._date,s.config.time_step,"minute")})},s.templates.map_time=function(d,m,p){return s.config.rtl&&!p._timed?s.templates.day_date(m)+" &ndash; "+s.templates.day_date(d):p._timed?this.day_date(p.start_date,p.end_date,p)+" "+this.event_date(d):s.templates.day_date(d)+" &ndash; "+s.templates.day_date(m)},s.templates.map_text=function(d,m,p){return p.text},s.date.map_start=function(d){return d},s.date.add_map=function(d,m,p){return new Date(d.valueOf())},s.templates.map_date=function(d,m,p){return""},s._latLngUpdate=!1,s.attachEvent("onSchedulerReady",function(){s._isMapPositionSet=!1;var d=document.createElement("div");d.className="dhx_map",d.id="dhx_gmap",d.style.display="none",s._obj.appendChild(d),s._els.dhx_gmap=[],s._els.dhx_gmap.push(d),f("dhx_gmap");var m={zoom:s.config.map_initial_zoom||10,center:s.config.map_initial_position,mapTypeId:s.config.map_type||google.maps.MapTypeId.ROADMAP},p=new google.maps.Map(document.getElementById("dhx_gmap"),m);p.disableDefaultUI=!1,p.disableDoubleClickZoom=!s.config.readonly,google.maps.event.addListener(p,"dblclick",function(b){if(!s.config.readonly&&s.config.dblclick_create){var S=b.latLng;w.geocode({latLng:S},function(D,M){M==google.maps.GeocoderStatus.OK&&(S=D[0].geometry.location,s.addEventNow({lat:S.lat(),lng:S.lng(),event_location:D[0].formatted_address,start_date:s._date,end_date:s.date.add(s._date,s.config.time_step,"minute")}))})}});var o={content:""};s.config.map_infowindow_max_width&&(o.maxWidth=s.config.map_infowindow_max_width),s.map={_points:[],_markers:[],_infowindow:new google.maps.InfoWindow(o),_infowindows_content:[],_initialization_count:-1,_obj:p},w=new google.maps.Geocoder,s.config.map_resolve_user_location&&navigator.geolocation&&(s._isMapPositionSet||navigator.geolocation.getCurrentPosition(function(b){var S=new google.maps.LatLng(b.coords.latitude,b.coords.longitude);p.setCenter(S),p.setZoom(s.config.map_zoom_after_resolve||10),s.map._infowindow.setContent(s.locale.labels.marker_geo_success),s.map._infowindow.position=p.getCenter(),s.map._infowindow.open(p),s._isMapPositionSet=!0},function(){s.map._infowindow.setContent(s.locale.labels.marker_geo_fail),s.map._infowindow.setPosition(p.getCenter()),s.map._infowindow.open(p),s._isMapPositionSet=!0})),google.maps.event.addListener(p,"resize",function(b){d.style.zIndex="5",p.setZoom(p.getZoom())}),google.maps.event.addListener(p,"tilesloaded",function(b){d.style.zIndex="5"}),d.style.display="none";var c=s.render_data;function u(){var b=s.get_visible_events();b.sort(function(q,ee){return q.start_date.valueOf()==ee.start_date.valueOf()?q.id>ee.id?1:-1:q.start_date>ee.start_date?1:-1});for(var S="<div "+(Q=s._waiAria.mapAttrString())+" class='dhx_map_area'>",D=0;D<b.length;D++){var M=b[D],U=M.id==s._selected_event_id?"dhx_map_line highlight":"dhx_map_line",F=M.color?"background:"+M.color+";":"",H=M.textColor?"color:"+M.textColor+";":"",Q=s._waiAria.mapRowAttrString(M),te=s._waiAria.mapDetailsBtnString();S+="<div "+Q+" class='"+U+"' event_id='"+M.id+"' "+s.config.event_attribute+"='"+M.id+"' style='"+F+H+(M._text_style||"")+" width: "+(s.xy.map_date_width+s.xy.map_description_width+2)+"px;'><div class='dhx_map_event_time' style='width: "+s.xy.map_date_width+"px;' >"+s.templates.map_time(M.start_date,M.end_date,M)+"</div>",S+="<div "+te+" class='dhx_event_icon icon_details'>&nbsp;</div>",S+="<div class='line_description' style='width:"+(s.xy.map_description_width-s.xy.map_icon_width)+"px;'>"+s.templates.map_text(M.start_date,M.end_date,M)+"</div></div>"}S+="<div class='dhx_v_border' style="+(s.config.rtl?"'right: ":"'left: ")+(s.xy.map_date_width-2)+"px;'></div><div class='dhx_v_border_description'></div></div>",s._els.dhx_cal_data[0].scrollTop=0,s._els.dhx_cal_data[0].innerHTML=S,s._els.dhx_cal_data[0].style.width=s.xy.map_date_width+s.xy.map_description_width+1+"px";var G=s._els.dhx_cal_data[0].firstChild.childNodes,re=s._getNavDateElement();for(re&&(re.innerHTML=s.templates[s._mode+"_date"](s._min_date,s._max_date,s._mode)),s._rendered=[],D=0;D<G.length-2;D++)s._rendered[D]=G[D]}function f(b){var S=document.getElementById(b),D=s._y-s.xy.nav_height;D<0&&(D=0);var M=s._x-s.xy.map_date_width-s.xy.map_description_width-1;M<0&&(M=0),S.style.height=D+"px",S.style.width=M+"px",s.config.rtl?S.style.marginRight=s.xy.map_date_width+s.xy.map_description_width+1+"px":S.style.marginLeft=s.xy.map_date_width+s.xy.map_description_width+1+"px",S.style.marginTop=s.xy.nav_height+2+"px"}s.render_data=function(b,S){if(this._mode!="map")return c.apply(this,arguments);u();for(var D=s.get_visible_events(),M=0;M<D.length;M++)s.map._markers[D[M].id]||x(D[M],!1,!1)},s.map_view=function(b){s.map._initialization_count++;var S,D=s._els.dhx_gmap[0];if(s._els.dhx_cal_data[0].style.width=s.xy.map_date_width+s.xy.map_description_width+1+"px",s._min_date=s.config.map_start||s._currentDate(),s._max_date=s.config.map_end||s.date.add(s._currentDate(),1,"year"),s._table_view=!0,function(F){if(F){var H=s.locale.labels;s._els.dhx_cal_header[0].innerHTML="<div class='dhx_map_line' style='width: "+(s.xy.map_date_width+s.xy.map_description_width+2)+"px;' ><div class='headline_date' style='width: "+s.xy.map_date_width+"px;'>"+H.date+"</div><div class='headline_description' style='width: "+s.xy.map_description_width+"px;'>"+H.description+"</div></div>",s._table_view=!0,s.set_sizes()}}(b),b){(function(){s._selected_event_id=null,s.map._infowindow.close();var F=s.map._markers;for(var H in F)F.hasOwnProperty(H)&&(F[H].setMap(null),delete s.map._markers[H],s.map._infowindows_content[H]&&delete s.map._infowindows_content[H])})(),u(),D.style.display="block",f("dhx_gmap"),S=s.map._obj.getCenter();for(var M=s.get_visible_events(),U=0;U<M.length;U++)s.map._markers[M[U].id]||x(M[U])}else D.style.display="none";google.maps.event.trigger(s.map._obj,"resize"),s.map._initialization_count===0&&S&&s.map._obj.setCenter(S),s._selected_event_id&&y(s._selected_event_id)};var y=function(b){s.map._obj.setCenter(s.map._points[b]),s.callEvent("onClick",[b])},x=function(b,S,D){var M=s.config.map_error_position;b.lat&&b.lng&&(M=new google.maps.LatLng(b.lat,b.lng));var U=s.templates.marker_text(b.start_date,b.end_date,b);s._new_event||(s.map._infowindows_content[b.id]=U,s.map._markers[b.id]&&s.map._markers[b.id].setMap(null),s.map._markers[b.id]=new google.maps.Marker({position:M,map:s.map._obj}),google.maps.event.addListener(s.map._markers[b.id],"click",function(){s.map._infowindow.setContent(s.map._infowindows_content[b.id]),s.map._infowindow.open(s.map._obj,s.map._markers[b.id]),s._selected_event_id=b.id,s.render_data()}),s.map._points[b.id]=M,S&&s.map._obj.setCenter(s.map._points[b.id]),D&&s.callEvent("onClick",[b.id]))};s.attachEvent("onClick",function(b,S){if(this._mode=="map"){s._selected_event_id=b;for(var D=0;D<s._rendered.length;D++)s._rendered[D].className="dhx_map_line",s._rendered[D].getAttribute(s.config.event_attribute)==b&&(s._rendered[D].className+=" highlight");s.map._points[b]&&s.map._markers[b]&&(s.map._obj.setCenter(s.map._points[b]),google.maps.event.trigger(s.map._markers[b],"click"))}return!0});var v=function(b){b.event_location&&w?w.geocode({address:b.event_location,language:s.uid().toString()},function(S,D){var M={};D!=google.maps.GeocoderStatus.OK?(M=s.callEvent("onLocationError",[b.id]))&&M!==!0||(M=s.config.map_error_position):M=S[0].geometry.location,b.lat=M.lat(),b.lng=M.lng(),s._selected_event_id=b.id,s._latLngUpdate=!0,s.callEvent("onEventChanged",[b.id,b]),x(b,!0,!0)}):x(b,!0,!0)},E=function(b){b.event_location&&w&&w.geocode({address:b.event_location,language:s.uid().toString()},function(S,D){var M={};D!=google.maps.GeocoderStatus.OK?(M=s.callEvent("onLocationError",[b.id]))&&M!==!0||(M=s.config.map_error_position):M=S[0].geometry.location,b.lat=M.lat(),b.lng=M.lng(),s._latLngUpdate=!0,s.callEvent("onEventChanged",[b.id,b])})};s.attachEvent("onEventChanged",function(b,S){if(this._latLngUpdate)this._latLngUpdate=!1;else{var D=s.getEvent(b);D.start_date<s._min_date&&D.end_date>s._min_date||D.start_date<s._max_date&&D.end_date>s._max_date||D.start_date.valueOf()>=s._min_date&&D.end_date.valueOf()<=s._max_date?(s.map._markers[b]&&s.map._markers[b].setMap(null),v(D)):(s._selected_event_id=null,s.map._infowindow.close(),s.map._markers[b]&&s.map._markers[b].setMap(null))}return!0}),s.attachEvent("onEventIdChange",function(b,S){var D=s.getEvent(S);return(D.start_date<s._min_date&&D.end_date>s._min_date||D.start_date<s._max_date&&D.end_date>s._max_date||D.start_date.valueOf()>=s._min_date&&D.end_date.valueOf()<=s._max_date)&&(s.map._markers[b]&&(s.map._markers[b].setMap(null),delete s.map._markers[b]),s.map._infowindows_content[b]&&delete s.map._infowindows_content[b],v(D)),!0}),s.attachEvent("onEventAdded",function(b,S){return s._dataprocessor||(S.start_date<s._min_date&&S.end_date>s._min_date||S.start_date<s._max_date&&S.end_date>s._max_date||S.start_date.valueOf()>=s._min_date&&S.end_date.valueOf()<=s._max_date)&&(s.map._markers[b]&&s.map._markers[b].setMap(null),v(S)),!0}),s.attachEvent("onBeforeEventDelete",function(b,S){return s.map._markers[b]&&s.map._markers[b].setMap(null),s._selected_event_id=null,s.map._infowindow.close(),!0}),s._event_resolve_delay=1500,s.attachEvent("onEventLoading",function(b){return s.config.map_resolve_event_location&&b.event_location&&!b.lat&&!b.lng&&(s._event_resolve_delay+=1500,function(S,D,M,U){setTimeout(function(){var F=S.apply(D,M);return S=D=M=null,F},U||1)}(E,this,[b],s._event_resolve_delay)),!0}),s.attachEvent("onEventCancel",function(b,S){return S&&(s.map._markers[b]&&s.map._markers[b].setMap(null),s.map._infowindow.close()),!0})})},minical:function(s){var w=s._createDomEventScope();s.templates.calendar_month=s.date.date_to_str("%F %Y"),s.templates.calendar_scale_date=s.date.date_to_str("%D"),s.templates.calendar_date=s.date.date_to_str("%d"),s.config.minicalendar={mark_events:!0},s._synced_minicalendars=[],s.renderCalendar=function(d,m,p){var o=null,c=d.date||s._currentDate();if(typeof c=="string"&&(c=this.templates.api_date(c)),m)o=this._render_calendar(m.parentNode,c,d,m),s.unmarkCalendar(o);else{var u=d.container,f=d.position;if(typeof u=="string"&&(u=document.getElementById(u)),typeof f=="string"&&(f=document.getElementById(f)),f&&f.left===void 0&&f.right===void 0){var y=s.$domHelpers.getOffset(f);f={top:y.top+f.offsetHeight,left:y.left}}u||(u=s._get_def_cont(f)),(o=this._render_calendar(u,c,d)).$_eventAttached||(o.$_eventAttached=!0,w.attach(o,"click",function(F){var H=F.target||F.srcElement,Q=s.$domHelpers;if(Q.closest(H,".dhx_month_head")&&!Q.closest(H,".dhx_after")&&!Q.closest(H,".dhx_before")){var te=Q.closest(H,"[data-cell-date]").getAttribute("data-cell-date"),G=s.templates.parse_date(te);s.unmarkCalendar(this),s.markCalendar(this,G,"dhx_calendar_click"),this._last_date=G,this.conf.handler&&this.conf.handler.call(s,G,this)}}.bind(o)))}if(s.config.minicalendar.mark_events)for(var x=s.date.month_start(c),v=s.date.add(x,1,"month"),E=this.getEvents(x,v),b=this["filter_"+this._mode],S={},D=0;D<E.length;D++){var M=E[D];if(!b||b(M.id,M)){var U=M.start_date;for(U.valueOf()<x.valueOf()&&(U=x),U=s.date.date_part(new Date(U.valueOf()));U<M.end_date&&(S[+U]||(S[+U]=!0,this.markCalendar(o,U,"dhx_year_event")),!((U=this.date.add(U,1,"day")).valueOf()>=v.valueOf())););}}return this._markCalendarCurrentDate(o),o.conf=d,d.sync&&!p&&this._synced_minicalendars.push(o),o.conf._on_xle_handler||(o.conf._on_xle_handler=s.attachEvent("onXLE",function(){s.updateCalendar(o,o.conf.date)})),this.config.wai_aria_attributes&&this.config.wai_aria_application_role&&o.setAttribute("role","application"),o},s._get_def_cont=function(d){return this._def_count||(this._def_count=document.createElement("div"),this._def_count.className="dhx_minical_popup",s.event(this._def_count,"click",function(m){m.cancelBubble=!0}),document.body.appendChild(this._def_count)),d.left&&(this._def_count.style.left=d.left+"px"),d.right&&(this._def_count.style.right=d.right+"px"),d.top&&(this._def_count.style.top=d.top+"px"),d.bottom&&(this._def_count.style.bottom=d.bottom+"px"),this._def_count._created=new Date,this._def_count},s._locateCalendar=function(d,m){if(typeof m=="string"&&(m=s.templates.api_date(m)),+m>+d._max_date||+m<+d._min_date)return null;for(var p=d.querySelector(".dhx_year_body").childNodes[0],o=0,c=new Date(d._min_date);+this.date.add(c,1,"week")<=+m;)c=this.date.add(c,1,"week"),o++;var u=s.config.start_on_monday,f=(m.getDay()||(u?7:0))-(u?1:0);return p.rows[o].cells[f].firstChild},s.markCalendar=function(d,m,p){var o=this._locateCalendar(d,m);o&&(o.className+=" "+p)},s.unmarkCalendar=function(d,m,p){if(m=m||d._last_date,p=p||"dhx_calendar_click",m){var o=this._locateCalendar(d,m);o&&(o.className=(o.className||"").replace(RegExp(p,"g")))}},s._week_template=function(d){for(var m=d||250,p=0,o=document.createElement("div"),c=this.date.week_start(s._currentDate()),u=0;u<7;u++)this._cols[u]=Math.floor(m/(7-u)),this._render_x_header(u,p,c,o),c=this.date.add(c,1,"day"),m-=this._cols[u],p+=this._cols[u];return o.lastChild.className+=" dhx_scale_bar_last",o},s.updateCalendar=function(d,m){d.conf.date=m,this.renderCalendar(d.conf,d,!0)},s._mini_cal_arrows=["&nbsp;","&nbsp;"],s._render_calendar=function(d,m,p,o){var c=s.templates,u=this._cols;this._cols=[];var f=this._mode;this._mode="calendar";var y=this._colsS;this._colsS={height:0};var x=new Date(this._min_date),v=new Date(this._max_date),E=new Date(s._date),b=c.month_day,S=this._ignores_detected;this._ignores_detected=0,c.month_day=c.calendar_date,m=this.date.month_start(m);var D,M=this._week_template(d.offsetWidth-1-this.config.minicalendar.padding);o?D=o:(D=document.createElement("div")).className="dhx_cal_container dhx_mini_calendar",D.setAttribute("date",this._helpers.formatDate(m)),D.innerHTML="<div class='dhx_year_month'></div><div class='dhx_year_grid"+(s.config.rtl?" dhx_grid_rtl'>":"'>")+"<div class='dhx_year_week'>"+(M?M.innerHTML:"")+"</div><div class='dhx_year_body'></div></div>";var U=D.querySelector(".dhx_year_month"),F=D.querySelector(".dhx_year_week"),H=D.querySelector(".dhx_year_body");if(U.innerHTML=this.templates.calendar_month(m),p.navigation)for(var Q=function(Xe,Tt){var ur=s.date.add(Xe._date,Tt,"month");s.updateCalendar(Xe,ur),s._date.getMonth()==Xe._date.getMonth()&&s._date.getFullYear()==Xe._date.getFullYear()&&s._markCalendarCurrentDate(Xe)},te=["dhx_cal_prev_button","dhx_cal_next_button"],G=["left:1px;top:2px;position:absolute;","left:auto; right:1px;top:2px;position:absolute;"],re=[-1,1],q=function(Xe){return function(){if(p.sync)for(var Tt=s._synced_minicalendars,ur=0;ur<Tt.length;ur++)Q(Tt[ur],Xe);else s.config.rtl&&(Xe=-Xe),Q(D,Xe)}},ee=[s.locale.labels.prev,s.locale.labels.next],J=0;J<2;J++){var ye=document.createElement("div");ye.className=te[J],s._waiAria.headerButtonsAttributes(ye,ee[J]),ye.style.cssText=G[J],ye.innerHTML=this._mini_cal_arrows[J],U.appendChild(ye),w.attach(ye,"click",q(re[J]))}D._date=new Date(m),D.week_start=(m.getDay()-(this.config.start_on_monday?1:0)+7)%7;var Se=D._min_date=this.date.week_start(m);D._max_date=this.date.add(D._min_date,6,"week"),this._reset_month_scale(H,m,Se,6),o||d.appendChild(D),F.style.height=F.childNodes[0].offsetHeight-1+"px";var be=s.uid();s._waiAria.minicalHeader(U,be),s._waiAria.minicalGrid(D.querySelector(".dhx_year_grid"),be),s._waiAria.minicalRow(F);for(var Ie=F.querySelectorAll(".dhx_scale_bar"),Te=0;Te<Ie.length;Te++)s._waiAria.minicalHeadCell(Ie[Te]);var Fe=H.querySelectorAll("td"),qe=new Date(Se);for(Te=0;Te<Fe.length;Te++)s._waiAria.minicalDayCell(Fe[Te],new Date(qe)),qe=s.date.add(qe,1,"day");return s._waiAria.minicalHeader(U,be),this._cols=u,this._mode=f,this._colsS=y,this._min_date=x,this._max_date=v,s._date=E,c.month_day=b,this._ignores_detected=S,D},s.destroyCalendar=function(d,m){!d&&this._def_count&&this._def_count.firstChild&&(m||new Date().valueOf()-this._def_count._created.valueOf()>500)&&(d=this._def_count.firstChild),d&&(w.detachAll(),d.innerHTML="",d.parentNode&&d.parentNode.removeChild(d),this._def_count&&(this._def_count.style.top="-1000px"),d.conf&&d.conf._on_xle_handler&&s.detachEvent(d.conf._on_xle_handler))},s.isCalendarVisible=function(){return!!(this._def_count&&parseInt(this._def_count.style.top,10)>0)&&this._def_count},s.attachEvent("onTemplatesReady",function(){s.event(document.body,"click",function(){s.destroyCalendar()})},{once:!0}),s.templates.calendar_time=s.date.date_to_str("%d-%m-%Y"),s.form_blocks.calendar_time={render:function(d){var m="<input class='dhx_readonly' type='text' readonly='true'>",p=s.config,o=this.date.date_part(s._currentDate()),c=1440,u=0;p.limit_time_select&&(u=60*p.first_hour,c=60*p.last_hour+1),o.setHours(u/60),d._time_values=[],m+=" <select class='dhx_lightbox_time_select'>";for(var f=u;f<c;f+=1*this.config.time_step)m+="<option value='"+f+"'>"+this.templates.time_picker(o)+"</option>",d._time_values.push(f),o=this.date.add(o,this.config.time_step,"minute");return"<div style='height:30px;padding-top:0; font-size:inherit;' class='dhx_section_time dhx_lightbox_minical'>"+(m+="</select>")+"<span style='font-weight:normal; font-size:10pt;'> &nbsp;&ndash;&nbsp; </span>"+m+"</div>"},set_value:function(d,m,p,o){var c,u,f=d.getElementsByTagName("input"),y=d.getElementsByTagName("select"),x=function(U,F,H){s.event(U,"click",function(){s.destroyCalendar(null,!0),s.renderCalendar({position:U,date:new Date(this._date),navigation:!0,handler:function(Q){U.value=s.templates.calendar_time(Q),U._date=new Date(Q),s.destroyCalendar(),s.config.event_duration&&s.config.auto_end_date&&H===0&&S()}})})};if(s.config.full_day){if(!d._full_day){var v="<label class='dhx_fullday'><input type='checkbox' name='full_day' value='true'> "+s.locale.labels.full_day+"&nbsp;</label></input>";s.config.wide_form||(v=d.previousSibling.innerHTML+v),d.previousSibling.innerHTML=v,d._full_day=!0}var E=d.previousSibling.getElementsByTagName("input")[0],b=s.date.time_part(p.start_date)===0&&s.date.time_part(p.end_date)===0;E.checked=b,y[0].disabled=E.checked,y[1].disabled=E.checked,E.$_eventAttached||(E.$_eventAttached=!0,s.event(E,"click",function(){if(E.checked===!0){var U={};s.form_blocks.calendar_time.get_value(d,U),c=s.date.date_part(U.start_date),(+(u=s.date.date_part(U.end_date))==+c||+u>=+c&&(p.end_date.getHours()!==0||p.end_date.getMinutes()!==0))&&(u=s.date.add(u,1,"day"))}var F=c||p.start_date,H=u||p.end_date;D(f[0],F),D(f[1],H),y[0].value=60*F.getHours()+F.getMinutes(),y[1].value=60*H.getHours()+H.getMinutes(),y[0].disabled=E.checked,y[1].disabled=E.checked}))}if(s.config.event_duration&&s.config.auto_end_date){var S=function(){s.config.auto_end_date&&s.config.event_duration&&(c=s.date.add(f[0]._date,y[0].value,"minute"),u=new Date(c.getTime()+60*s.config.event_duration*1e3),f[1].value=s.templates.calendar_time(u),f[1]._date=s.date.date_part(new Date(u)),y[1].value=60*u.getHours()+u.getMinutes())};y[0].$_eventAttached||y[0].addEventListener("change",S)}function D(U,F,H){x(U,F,H),U.value=s.templates.calendar_time(F),U._date=s.date.date_part(new Date(F))}function M(U){for(var F=o._time_values,H=60*U.getHours()+U.getMinutes(),Q=H,te=!1,G=0;G<F.length;G++){var re=F[G];if(re===H){te=!0;break}re<H&&(Q=re)}return te||Q?te?H:Q:-1}D(f[0],p.start_date,0),D(f[1],p.end_date,1),x=function(){},y[0].value=M(p.start_date),y[1].value=M(p.end_date)},get_value:function(d,m){var p=d.getElementsByTagName("input"),o=d.getElementsByTagName("select");return m.start_date=s.date.add(p[0]._date,o[0].value,"minute"),m.end_date=s.date.add(p[1]._date,o[1].value,"minute"),m.end_date<=m.start_date&&(m.end_date=s.date.add(m.start_date,s.config.time_step,"minute")),{start_date:new Date(m.start_date),end_date:new Date(m.end_date)}},focus:function(d){}},s.linkCalendar=function(d,m){var p=function(){var o=s._date,c=new Date(o.valueOf());return m&&(c=m(c)),c.setDate(1),s.updateCalendar(d,c),!0};s.attachEvent("onViewChange",p),s.attachEvent("onXLE",p),s.attachEvent("onEventAdded",p),s.attachEvent("onEventChanged",p),s.attachEvent("onEventDeleted",p),p()},s._markCalendarCurrentDate=function(d){var m=s.getState(),p=m.min_date,o=m.max_date,c=m.mode,u=s.date.month_start(new Date(d._date)),f=s.date.add(u,1,"month");if(!({month:!0,year:!0,agenda:!0,grid:!0}[c]||p.valueOf()<=u.valueOf()&&o.valueOf()>=f.valueOf()))for(var y=p;y.valueOf()<o.valueOf();)u.valueOf()<=y.valueOf()&&f>y&&s.markCalendar(d,y,"dhx_calendar_click"),y=s.date.add(y,1,"day")},s.attachEvent("onEventCancel",function(){s.destroyCalendar(null,!0)}),s.attachEvent("onDestroy",function(){s.destroyCalendar()})},monthheight:function(s){s.attachEvent("onTemplatesReady",function(){s.xy.scroll_width=0;var w=s.render_view_data;s.render_view_data=function(){var m=this._els.dhx_cal_data[0];m.firstChild._h_fix=!0,w.apply(s,arguments);var p=parseInt(m.style.height);m.style.height="1px",m.style.height=m.scrollHeight+"px",this._obj.style.height=this._obj.clientHeight+m.scrollHeight-p+"px"};var d=s._reset_month_scale;s._reset_month_scale=function(m,p,o,c){var u={clientHeight:100};d.apply(s,[u,p,o,c]),m.innerHTML=u.innerHTML}})},multisection:function(s){xi("Multisection",s.assert)},multisource:function(s){var w=s._load;s._load=function(d,m){if(av(d=d||this._load_url)=="object")for(var p=function(c){var u=function(){};return u.prototype=c,u}(this._loaded),o=0;o<d.length;o++)this._loaded=new p,w.call(this,d[o],m);else w.apply(this,arguments)}},mvc:function(s){var w,d={use_id:!1};function m(c){var u={};for(var f in c)f.indexOf("_")!==0&&(u[f]=c[f]);return d.use_id||delete u.id,u}function p(c){c._not_render=!1,c._render_wait&&c.render_view_data(),c._loading=!1,c.callEvent("onXLE",[])}function o(c){return d.use_id?c.id:c.cid}s.backbone=function(c,u){u&&(d=u),c.bind("change",function(x,v){var E=o(x),b=s._events[E]=x.toJSON();b.id=E,s._init_event(b),clearTimeout(w),w=setTimeout(function(){s.updateView()},1)}),c.bind("remove",function(x,v){var E=o(x);s._events[E]&&s.deleteEvent(E)});var f=[];function y(){f.length&&(s.parse(f,"json"),f=[])}c.bind("add",function(x,v){var E=o(x);if(!s._events[E]){var b=x.toJSON();b.id=E,s._init_event(b),f.push(b),f.length==1&&setTimeout(y,1)}}),c.bind("request",function(x){x instanceof Backbone.Collection&&function(v){v._loading=!0,v._not_render=!0,v.callEvent("onXLS",[])}(s)}),c.bind("sync",function(x){x instanceof Backbone.Collection&&p(s)}),c.bind("error",function(x){x instanceof Backbone.Collection&&p(s)}),s.attachEvent("onEventCreated",function(x){var v=new c.model(s.getEvent(x));return s._events[x]=v.toJSON(),s._events[x].id=x,!0}),s.attachEvent("onEventAdded",function(x){if(!c.get(x)){var v=m(s.getEvent(x)),E=new c.model(v),b=o(E);b!=x&&this.changeEventId(x,b),c.add(E),c.trigger("scheduler:add",E)}return!0}),s.attachEvent("onEventChanged",function(x){var v=c.get(x),E=m(s.getEvent(x));return v.set(E),c.trigger("scheduler:change",v),!0}),s.attachEvent("onEventDeleted",function(x){var v=c.get(x);return v&&(c.trigger("scheduler:remove",v),c.remove(x)),!0})}},outerdrag:function(s){s.attachEvent("onTemplatesReady",function(){var w,d=new dhtmlDragAndDropObject,m=d.stopDrag;function p(o,c,u,f){if(!s.checkEvent("onBeforeExternalDragIn")||s.callEvent("onBeforeExternalDragIn",[o,c,u,f,w])){var y=s.attachEvent("onEventCreated",function(S){s.callEvent("onExternalDragIn",[S,o,w])||(this._drag_mode=this._drag_id=null,this.deleteEvent(S))}),x=s.getActionData(w),v={start_date:new Date(x.date)};if(s.matrix&&s.matrix[s._mode]){var E=s.matrix[s._mode];v[E.y_property]=x.section;var b=s._locate_cell_timeline(w);v.start_date=E._trace_x[b.x],v.end_date=s.date.add(v.start_date,E.x_step,E.x_unit)}s._props&&s._props[s._mode]&&(v[s._props[s._mode].map_to]=x.section),s.addEventNow(v),s.detachEvent(y)}}d.stopDrag=function(o){return w=o,m.apply(this,arguments)},d.addDragLanding(s._els.dhx_cal_data[0],{_drag:function(o,c,u,f){p(o,c,u,f)},_dragIn:function(o,c){return o},_dragOut:function(o){return this}}),dhtmlx.DragControl&&dhtmlx.DragControl.addDrop(s._els.dhx_cal_data[0],{onDrop:function(o,c,u,f){var y=dhtmlx.DragControl.getMaster(o);w=f,p(o,y,c,f.target||f.srcElement)},onDragIn:function(o,c,u){return c}},!0)})},pdf:function(s){var w,d,m=new RegExp("<[^>]*>","g"),p=new RegExp("<br[^>]*>","g");function o(G){return G.replace(p,`
`).replace(m,"")}function c(G,re){G=parseFloat(G),re=parseFloat(re),isNaN(re)||(G-=re);var q=f(G);return G=G-q.width+q.cols*w,isNaN(G)?"auto":100*G/w}function u(G,re,q){G=parseFloat(G),re=parseFloat(re),!isNaN(re)&&q&&(G-=re);var ee=f(G);return G=G-ee.width+ee.cols*w,isNaN(G)?"auto":100*G/(w-(isNaN(re)?0:re))}function f(G){for(var re=0,q=s._els.dhx_cal_header[0].childNodes,ee=q[1]?q[1].childNodes:q[0].childNodes,J=0;J<ee.length;J++){var ye=ee[J].style?ee[J]:ee[J].parentNode,Se=parseFloat(ye.style.width);if(!(G>Se))break;G-=Se+1,re+=Se+1}return{width:re,cols:J}}function y(G){return G=parseFloat(G),isNaN(G)?"auto":100*G/d}function x(G,re){return(window.getComputedStyle?window.getComputedStyle(G,null)[re]:G.currentStyle?G.currentStyle[re]:null)||""}function v(G,re){for(var q=parseInt(G.style.left,10),ee=0;ee<s._cols.length;ee++)if((q-=s._cols[ee])<0)return ee;return re}function E(G,re){for(var q=parseInt(G.style.top,10),ee=0;ee<s._colsS.heights.length;ee++)if(s._colsS.heights[ee]>q)return ee;return re}function b(G){return G?"<"+G+">":""}function S(G){return G?"</"+G+">":""}function D(G,re,q,ee){var J="<"+G+" profile='"+re+"'";return q&&(J+=" header='"+q+"'"),ee&&(J+=" footer='"+ee+"'"),J+=">"}function M(){var G="",re=s._mode;if(s.matrix&&s.matrix[s._mode]&&(re=s.matrix[s._mode].render=="cell"?"matrix":"timeline"),G+="<scale mode='"+re+"' today='"+s._els.dhx_cal_date[0].innerHTML+"'>",s._mode=="week_agenda")for(var q=s._els.dhx_cal_data[0].getElementsByTagName("DIV"),ee=0;ee<q.length;ee++)q[ee].className=="dhx_wa_scale_bar"&&(G+="<column>"+o(q[ee].innerHTML)+"</column>");else if(s._mode=="agenda"||s._mode=="map")G+="<column>"+o((q=s._els.dhx_cal_header[0].childNodes[0].childNodes)[0].innerHTML)+"</column><column>"+o(q[1].innerHTML)+"</column>";else if(s._mode=="year")for(q=s._els.dhx_cal_data[0].childNodes,ee=0;ee<q.length;ee++)G+="<month label='"+o(q[ee].querySelector(".dhx_year_month").innerHTML)+"'>",G+=F(q[ee].querySelector(".dhx_year_week").childNodes),G+=U(q[ee].querySelector(".dhx_year_body")),G+="</month>";else{G+="<x>",G+=F(q=s._els.dhx_cal_header[0].childNodes),G+="</x>";var J=s._els.dhx_cal_data[0];if(s.matrix&&s.matrix[s._mode]){for(G+="<y>",ee=0;ee<J.firstChild.rows.length;ee++)G+="<row><![CDATA["+o(J.firstChild.rows[ee].cells[0].innerHTML)+"]]></row>";G+="</y>",d=J.firstChild.rows[0].cells[0].offsetHeight}else if(J.firstChild.tagName=="TABLE")G+=U(J);else{for(J=J.childNodes[J.childNodes.length-1];J.className.indexOf("dhx_scale_holder")==-1;)J=J.previousSibling;for(J=J.childNodes,G+="<y>",ee=0;ee<J.length;ee++)G+=`
<row><![CDATA[`+o(J[ee].innerHTML)+"]]></row>";G+="</y>",d=J[0].offsetHeight}}return G+="</scale>"}function U(G){for(var re="",q=G.querySelectorAll("tr"),ee=0;ee<q.length;ee++){for(var J=[],ye=q[ee].querySelectorAll("td"),Se=0;Se<ye.length;Se++)J.push(ye[Se].querySelector(".dhx_month_head").innerHTML);re+=`
<row height='`+ye[0].offsetHeight+"'><![CDATA["+o(J.join("|"))+"]]></row>",d=ye[0].offsetHeight}return re}function F(G){var re,q="";s.matrix&&s.matrix[s._mode]&&(s.matrix[s._mode].second_scale&&(re=G[1].childNodes),G=G[0].childNodes);for(var ee=0;ee<G.length;ee++)q+=`
<column><![CDATA[`+o(G[ee].innerHTML)+"]]></column>";if(w=G[0].offsetWidth,re){var J=0,ye=G[0].offsetWidth,Se=1;for(ee=0;ee<re.length;ee++)q+=`
<column second_scale='`+Se+"'><![CDATA["+o(re[ee].innerHTML)+"]]></column>",(J+=re[ee].offsetWidth)>=ye&&(ye+=G[Se]?G[Se].offsetWidth:0,Se++),w=re[0].offsetWidth}return q}function H(G){var re="",q=s._rendered,ee=s.matrix&&s.matrix[s._mode];if(s._mode=="agenda"||s._mode=="map")for(var J=0;J<q.length;J++)re+="<event><head><![CDATA["+o(q[J].childNodes[0].innerHTML)+"]]></head><body><![CDATA["+o(q[J].childNodes[2].innerHTML)+"]]></body></event>";else if(s._mode=="week_agenda")for(J=0;J<q.length;J++)re+="<event day='"+q[J].parentNode.getAttribute("day")+"'><body>"+o(q[J].innerHTML)+"</body></event>";else if(s._mode=="year")for(q=s.get_visible_events(),J=0;J<q.length;J++){var ye=q[J].start_date;for(ye.valueOf()<s._min_date.valueOf()&&(ye=s._min_date);ye<q[J].end_date;){var Se=ye.getMonth()+12*(ye.getFullYear()-s._min_date.getFullYear())-s.week_starts._month,be=s.week_starts[Se]+ye.getDate()-1,Ie=G?x(s._get_year_cell(ye),"color"):"",Te=G?x(s._get_year_cell(ye),"backgroundColor"):"";if(re+="<event day='"+be%7+"' week='"+Math.floor(be/7)+"' month='"+Se+"' backgroundColor='"+Te+"' color='"+Ie+"'></event>",(ye=s.date.add(ye,1,"day")).valueOf()>=s._max_date.valueOf())break}}else if(ee&&ee.render=="cell")for(q=s._els.dhx_cal_data[0].getElementsByTagName("TD"),J=0;J<q.length;J++)Ie=G?x(q[J],"color"):"",re+=`
<event><body backgroundColor='`+(Te=G?x(q[J],"backgroundColor"):"")+"' color='"+Ie+"'><![CDATA["+o(q[J].innerHTML)+"]]></body></event>";else for(J=0;J<q.length;J++){var Fe,qe;if(s.matrix&&s.matrix[s._mode])Fe=c(q[J].style.left),qe=c(q[J].offsetWidth)-1;else{var Xe=s.config.use_select_menu_space?0:26;Fe=u(q[J].style.left,Xe,!0),qe=u(q[J].style.width,Xe)-1}if(!isNaN(1*qe)){var Tt=y(q[J].style.top),ur=y(q[J].style.height),Fr=q[J].className.split(" ")[0].replace("dhx_cal_","");if(Fr!=="dhx_tooltip_line"){var Ei=s.getEvent(q[J].getAttribute(s.config.event_attribute));if(Ei){be=Ei._sday;var ma=Ei._sweek,kC=Ei._length||0;if(s._mode=="month")ur=parseInt(q[J].offsetHeight,10),Tt=parseInt(q[J].style.top,10)-s.xy.month_head_height,be=v(q[J],be),ma=E(q[J],ma);else if(s.matrix&&s.matrix[s._mode]){be=0,ma=q[J].parentNode.parentNode.parentNode.rowIndex;var SC=d;d=q[J].parentNode.offsetHeight,Tt=y(q[J].style.top),Tt-=.2*Tt,d=SC}else{if(q[J].parentNode==s._els.dhx_cal_data[0])continue;var lv=s._els.dhx_cal_data[0].childNodes[0],CC=parseFloat(lv.className.indexOf("dhx_scale_holder")!=-1?lv.style.left:0);Fe+=c(q[J].parentNode.style.left,CC)}re+=`
<event week='`+ma+"' day='"+be+"' type='"+Fr+"' x='"+Fe+"' y='"+Tt+"' width='"+qe+"' height='"+ur+"' len='"+kC+"'>",Fr=="event"?(re+="<header><![CDATA["+o(q[J].childNodes[1].innerHTML)+"]]></header>",Ie=G?x(q[J].childNodes[2],"color"):"",re+="<body backgroundColor='"+(Te=G?x(q[J].childNodes[2],"backgroundColor"):"")+"' color='"+Ie+"'><![CDATA["+o(q[J].childNodes[2].innerHTML)+"]]></body>"):(Ie=G?x(q[J],"color"):"",re+="<body backgroundColor='"+(Te=G?x(q[J],"backgroundColor"):"")+"' color='"+Ie+"'><![CDATA["+o(q[J].innerHTML)+"]]></body>"),re+="</event>"}}}}return re}function Q(G,re,q,ee,J,ye){var Se=!1;ee=="fullcolor"&&(Se=!0,ee="color"),ee=ee||"color";var be="";if(G){var Ie=s._date,Te=s._mode;re=s.date[q+"_start"](re),re=s.date["get_"+q+"_end"]?s.date["get_"+q+"_end"](re):s.date.add(re,1,q),be=D("pages",ee,J,ye);for(var Fe=new Date(G);+Fe<+re;Fe=this.date.add(Fe,1,q))this.setCurrentView(Fe,q),be+=b("page")+M().replace("\u2013","-")+H(Se)+S("page");be+=S("pages"),this.setCurrentView(Ie,Te)}else be=D("data",ee,J,ye)+M().replace("\u2013","-")+H(Se)+S("data");return be}function te(G,re,q,ee,J,ye,Se){(function(be,Ie){var Te=s.uid(),Fe=document.createElement("div");Fe.style.display="none",document.body.appendChild(Fe),Fe.innerHTML='<form id="'+Te+'" method="post" target="_blank" action="'+Ie+'" accept-charset="utf-8" enctype="application/x-www-form-urlencoded"><input type="hidden" name="mycoolxmlbody"/> </form>',document.getElementById(Te).firstChild.value=encodeURIComponent(be),document.getElementById(Te).submit(),Fe.parentNode.removeChild(Fe)})(sv(J)=="object"?function(be){for(var Ie="<data>",Te=0;Te<be.length;Te++)Ie+=be[Te].source.getPDFData(be[Te].start,be[Te].end,be[Te].view,be[Te].mode,be[Te].header,be[Te].footer);return Ie+="</data>"}(J):Q.apply(this,[G,re,q,J,ye,Se]),ee)}s.getPDFData=Q,s.toPDF=function(G,re,q,ee){return te.apply(this,[null,null,null,G,re,q,ee])},s.toPDFRange=function(G,re,q,ee,J,ye,Se){return typeof G=="string"&&(G=s.templates.api_date(G),re=s.templates.api_date(re)),te.apply(this,arguments)}},quick_info:function(s){s.config.icons_select=["icon_details","icon_delete"],s.config.details_on_create=!0,s.config.show_quick_info=!0,s.xy.menu_width=0,s.attachEvent("onClick",function(w){if(s.config.show_quick_info)return s.showQuickInfo(w),!0}),function(){for(var w=["onEmptyClick","onViewChange","onLightbox","onBeforeEventDelete","onBeforeDrag"],d=function(){return s.hideQuickInfo(!0),!0},m=0;m<w.length;m++)s.attachEvent(w[m],d)}(),s.templates.quick_info_title=function(w,d,m){return m.text.substr(0,50)},s.templates.quick_info_content=function(w,d,m){return m.details||m.text},s.templates.quick_info_date=function(w,d,m){return s.isOneDayEvent(m)&&s.config.rtl?s.templates.day_date(w,d,m)+" "+s.templates.event_header(d,w,m):s.isOneDayEvent(m)?s.templates.day_date(w,d,m)+" "+s.templates.event_header(w,d,m):s.config.rtl?s.templates.week_date(d,w,m):s.templates.week_date(w,d,m)},s.showQuickInfo=function(w){if(w!=this._quick_info_box_id&&(this.hideQuickInfo(!0),this.callEvent("onBeforeQuickInfo",[w])!==!1)){var d=this._get_event_counter_part(w);d&&(this._quick_info_box=this._init_quick_info(d),this._fill_quick_data(w),this._show_quick_info(d),this.callEvent("onQuickInfo",[w]))}},function(){function w(d){d=d||"";var m,p=parseFloat(d),o=d.match(/m?s/);switch(o&&(o=o[0]),o){case"s":m=1e3*p;break;case"ms":m=p;break;default:m=0}return m}s.hideQuickInfo=function(d){var m=this._quick_info_box,p=this._quick_info_box_id;if(this._quick_info_box_id=0,m&&m.parentNode){var o=m.offsetWidth;if(s.config.quick_info_detached)return this.callEvent("onAfterQuickInfo",[p]),m.parentNode.removeChild(m);if(m.style.right=="auto"?m.style.left=-o+"px":m.style.right=-o+"px",d)m.parentNode.removeChild(m);else{var c;window.getComputedStyle?c=window.getComputedStyle(m,null):m.currentStyle&&(c=m.currentStyle);var u=w(c["transition-delay"])+w(c["transition-duration"]);setTimeout(function(){m.parentNode&&m.parentNode.removeChild(m)},u)}this.callEvent("onAfterQuickInfo",[p])}}}(),s.event(window,"keydown",function(w){w.keyCode==27&&s.hideQuickInfo()}),s._show_quick_info=function(w){var d=s._quick_info_box;s._obj.appendChild(d);var m=d.offsetWidth,p=d.offsetHeight;if(s.config.quick_info_detached){var o=w.left-w.dx*(m-w.width);o+m>window.innerWidth&&(o=window.innerWidth-m),o=Math.max(0,o),d.style.left=o+"px",d.style.top=w.top-(w.dy?p:-w.height)+"px"}else d.style.top=this.xy.scale_height+this.xy.nav_height+20+"px",w.dx==1?(d.style.right="auto",d.style.left=-m+"px",setTimeout(function(){d.style.left="-10px"},1)):(d.style.left="auto",d.style.right=-m+"px",setTimeout(function(){d.style.right="-10px"},1)),d.className=d.className.replace(" dhx_qi_left","").replace(" dhx_qi_right","")+" dhx_qi_"+(w.dx==1?"left":"right")},s.attachEvent("onTemplatesReady",function(){if(s.hideQuickInfo(),this._quick_info_box){var w=this._quick_info_box;w.parentNode&&w.parentNode.removeChild(w),this._quick_info_box=null}}),s._quick_info_onscroll_handler=function(w){s.hideQuickInfo()},s._init_quick_info=function(){if(!this._quick_info_box){var w=s.xy,d=this._quick_info_box=document.createElement("div");this._waiAria.quickInfoAttr(d),d.className="dhx_cal_quick_info",s.$testmode&&(d.className+=" dhx_no_animate"),s.config.rtl&&(d.className+=" dhx_quick_info_rtl");var m=this._waiAria.quickInfoHeaderAttrString(),p='<div class="dhx_cal_qi_title" style="height:'+w.quick_info_title+'px" '+m+'><div class="dhx_cal_qi_tcontent"></div><div  class="dhx_cal_qi_tdate"></div></div><div class="dhx_cal_qi_content"></div>';p+='<div class="dhx_cal_qi_controls" style="height:'+w.quick_info_buttons+'px">';for(var o=s.config.icons_select,c=0;c<o.length;c++)p+="<div "+(m=this._waiAria.quickInfoButtonAttrString(this.locale.labels[o[c]]))+' class="dhx_qi_big_icon '+o[c]+'" title="'+s.locale.labels[o[c]]+`"><div class='dhx_menu_icon `+o[c]+"'></div><div>"+s.locale.labels[o[c]]+"</div></div>";p+="</div>",d.innerHTML=p,s.event(d,"click",function(u){s._qi_button_click(u.target||u.srcElement)}),s.config.quick_info_detached&&(s._detachDomEvent(s._els.dhx_cal_data[0],"scroll",s._quick_info_onscroll_handler),s.event(s._els.dhx_cal_data[0],"scroll",s._quick_info_onscroll_handler))}return this._quick_info_box},s._qi_button_click=function(w){var d=s._quick_info_box;if(w&&w!=d){var m=s._getClassName(w);if(m.indexOf("_icon")!=-1){var p=s._quick_info_box_id;s._click.buttons[m.split(" ")[1].replace("icon_","")](p)}else s._qi_button_click(w.parentNode)}},s._get_event_counter_part=function(w){for(var d=s.getRenderedEvent(w),m=0,p=0,o=d;o&&o!=s._obj;)m+=o.offsetLeft,p+=o.offsetTop-o.scrollTop,o=o.offsetParent;return o?{left:m,top:p,dx:m+d.offsetWidth/2>s._x/2?1:0,dy:p+d.offsetHeight/2>s._y/2?1:0,width:d.offsetWidth,height:d.offsetHeight}:0},s._fill_quick_data=function(w){var d=s.getEvent(w),m=s._quick_info_box;s._quick_info_box_id=w;var p={content:s.templates.quick_info_title(d.start_date,d.end_date,d),date:s.templates.quick_info_date(d.start_date,d.end_date,d)},o=m.firstChild.firstChild;o.innerHTML=p.content,o.nextSibling.innerHTML=p.date,s._waiAria.quickInfoHeader(m,[p.content,p.date].join(" ")),m.firstChild.nextSibling.innerHTML=s.templates.quick_info_content(d.start_date,d.end_date,d)}},readonly:function(s){s.attachEvent("onTemplatesReady",function(){var w;s.form_blocks.recurring&&(w=s.form_blocks.recurring.set_value);var d=s.config.buttons_left.slice(),m=s.config.buttons_right.slice();function p(f,y,x,v){for(var E=y.getElementsByTagName(f),b=x.getElementsByTagName(f),S=b.length-1;S>=0;S--)if(x=b[S],v){var D=document.createElement("span");D.className="dhx_text_disabled",D.innerHTML=v(E[S]),x.parentNode.insertBefore(D,x),x.parentNode.removeChild(x)}else x.disabled=!0,y.checked&&(x.checked=!0)}s.attachEvent("onBeforeLightbox",function(f){this.config.readonly_form||this.getEvent(f).readonly?this.config.readonly_active=!0:(this.config.readonly_active=!1,s.config.buttons_left=d.slice(),s.config.buttons_right=m.slice(),s.form_blocks.recurring&&(s.form_blocks.recurring.set_value=w));var y=this.config.lightbox.sections;if(this.config.readonly_active){for(var x=0;x<y.length;x++)y[x].type=="recurring"&&this.config.readonly_active&&s.form_blocks.recurring&&(s.form_blocks.recurring.set_value=function(F,H,Q){var te=s.$domHelpers.closest(F,".dhx_wrap_section");te.querySelector(".dhx_cal_lsection").display="none",te.querySelector(".dhx_form_repeat").display="none",te.style.display="none",s.setLightboxSize()});var v=["dhx_delete_btn","dhx_save_btn"],E=[s.config.buttons_left,s.config.buttons_right];for(x=0;x<v.length;x++)for(var b=v[x],S=0;S<E.length;S++){for(var D=E[S],M=-1,U=0;U<D.length;U++)if(D[U]==b){M=U;break}M!=-1&&D.splice(M,1)}}return this.resetLightbox(),!0});var o=s._fill_lightbox;s._fill_lightbox=function(){var f=this.getLightbox();this.config.readonly_active&&(f.style.visibility="hidden",f.style.display="block");var y=o.apply(this,arguments);if(this.config.readonly_active&&(f.style.visibility="",f.style.display="none"),this.config.readonly_active){var x=this.getLightbox(),v=this._lightbox_r=x.cloneNode(!0);v.id=s.uid(),v.className+=" dhx_cal_light_readonly",p("textarea",x,v,function(E){return E.value}),p("input",x,v,!1),p("select",x,v,function(E){return E.options.length?E.options[Math.max(E.selectedIndex||0,0)].text:""}),x.parentNode.insertBefore(v,x),c.call(this,v),s._lightbox&&s._lightbox.parentNode.removeChild(s._lightbox),this._lightbox=v,s.config.drag_lightbox&&s.event(v.firstChild,"mousedown",s._ready_to_dnd),s._init_lightbox_events(),this.setLightboxSize()}return y};var c=s.showCover;s.showCover=function(){this.config.readonly_active||c.apply(this,arguments)};var u=s.hide_lightbox;s.hide_lightbox=function(){return this._lightbox_r&&(this._lightbox_r.parentNode.removeChild(this._lightbox_r),this._lightbox_r=this._lightbox=null),u.apply(this,arguments)}})},recurring:function(s){function w(){var p=s.formSection("recurring");if(p||(p=d("recurring")),!p)throw new Error(["Can't locate the Recurring form section.","Make sure that you have the recurring control on the lightbox configuration https://docs.dhtmlx.com/scheduler/recurring_events.html#recurringlightbox ",'and that the recurring control has name "recurring":',"","scheduler.config.lightbox.sections = [",'	{name:"recurring", ... }',"];"].join(`
`));return p}function d(p){for(var o=0;o<s.config.lightbox.sections.length;o++){var c=s.config.lightbox.sections[o];if(c.type===p)return s.formSection(c.name)}return null}function m(p){return new Date(p.getFullYear(),p.getMonth(),p.getDate(),p.getHours(),p.getMinutes(),p.getSeconds(),0)}s.config.occurrence_timestamp_in_utc=!1,s.config.recurring_workdays=[1,2,3,4,5],s.form_blocks.recurring={_get_node:function(p){return typeof p=="string"&&(p=document.getElementById(p)),p.style.display=="none"&&(p.style.display=""),p},_outer_html:function(p){return p.outerHTML||function(o){var c,u=document.createElement("div");return u.appendChild(o.cloneNode(!0)),c=u.innerHTML,u=null,c}(p)},render:function(p){if(p.form){var o=s.form_blocks.recurring,c=o._get_node(p.form),u=o._outer_html(c);return c.style.display="none",u}var f=s.locale.labels;return'<div class="dhx_form_repeat"> <form> <div class="dhx_repeat_left"> <label><input class="dhx_repeat_radio" type="radio" name="repeat" value="day" />'+f.repeat_radio_day+'</label><br /> <label><input class="dhx_repeat_radio" type="radio" name="repeat" value="week"/>'+f.repeat_radio_week+'</label><br /> <label><input class="dhx_repeat_radio" type="radio" name="repeat" value="month" checked />'+f.repeat_radio_month+'</label><br /> <label><input class="dhx_repeat_radio" type="radio" name="repeat" value="year" />'+f.repeat_radio_year+'</label> </div> <div class="dhx_repeat_divider"></div> <div class="dhx_repeat_center"> <div style="display:none;" id="dhx_repeat_day"> <label><input class="dhx_repeat_radio" type="radio" name="day_type" value="d"/>'+f.repeat_radio_day_type+'</label><label><input class="dhx_repeat_text" type="text" name="day_count" value="1" />'+f.repeat_text_day_count+'</label><br /> <label><input class="dhx_repeat_radio" type="radio" name="day_type" checked value="w"/>'+f.repeat_radio_day_type2+'</label> </div> <div style="display:none;" id="dhx_repeat_week"><label>'+f.repeat_week+'<input class="dhx_repeat_text" type="text" name="week_count" value="1" /></label><span>'+f.repeat_text_week_count+'</span><br /> <table class="dhx_repeat_days"> <tr> <td> <label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="1" />'+f.day_for_recurring[1]+'</label><br /> <label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="4" />'+f.day_for_recurring[4]+'</label> </td> <td> <label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="2" />'+f.day_for_recurring[2]+'</label><br /> <label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="5" />'+f.day_for_recurring[5]+'</label> </td> <td> <label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="3" />'+f.day_for_recurring[3]+'</label><br /> <label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="6" />'+f.day_for_recurring[6]+'</label> </td> <td> <label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="0" />'+f.day_for_recurring[0]+'</label><br /><br /> </td> </tr> </table> </div> <div id="dhx_repeat_month"> <label class = "dhx_repeat_month_label"><input class="dhx_repeat_radio" type="radio" name="month_type" value="d"/>'+f.repeat_radio_month_type+'</label><label><input class="dhx_repeat_text" type="text" name="month_day" value="1" />'+f.repeat_text_month_day+'</label><label><input class="dhx_repeat_text" type="text" name="month_count" value="1" />'+f.repeat_text_month_count+'</label><br /> <label class = "dhx_repeat_month_label"><input class="dhx_repeat_radio" type="radio" name="month_type" checked value="w"/>'+f.repeat_radio_month_start+'</label><input class="dhx_repeat_text" type="text" name="month_week2" value="1" /><label><select name="month_day2">	<option value="1" selected >'+s.locale.date.day_full[1]+'<option value="2">'+s.locale.date.day_full[2]+'<option value="3">'+s.locale.date.day_full[3]+'<option value="4">'+s.locale.date.day_full[4]+'<option value="5">'+s.locale.date.day_full[5]+'<option value="6">'+s.locale.date.day_full[6]+'<option value="0">'+s.locale.date.day_full[0]+"</select>"+f.repeat_text_month_count2_before+'</label><label><input class="dhx_repeat_text" type="text" name="month_count2" value="1" />'+f.repeat_text_month_count2_after+'</label><br /> </div> <div style="display:none;" id="dhx_repeat_year"> <label class = "dhx_repeat_year_label"><input class="dhx_repeat_radio" type="radio" name="year_type" value="d"/>'+f.repeat_radio_day_type+'</label><label><input class="dhx_repeat_text" type="text" name="year_day" value="1" />'+f.repeat_text_year_day+'</label><label><select name="year_month"><option value="0" selected >'+f.month_for_recurring[0]+'<option value="1">'+f.month_for_recurring[1]+'<option value="2">'+f.month_for_recurring[2]+'<option value="3">'+f.month_for_recurring[3]+'<option value="4">'+f.month_for_recurring[4]+'<option value="5">'+f.month_for_recurring[5]+'<option value="6">'+f.month_for_recurring[6]+'<option value="7">'+f.month_for_recurring[7]+'<option value="8">'+f.month_for_recurring[8]+'<option value="9">'+f.month_for_recurring[9]+'<option value="10">'+f.month_for_recurring[10]+'<option value="11">'+f.month_for_recurring[11]+"</select>"+f.select_year_month+'</label><br /> <label class = "dhx_repeat_year_label"><input class="dhx_repeat_radio" type="radio" name="year_type" checked value="w"/>'+f.repeat_year_label+'</label><input class="dhx_repeat_text" type="text" name="year_week2" value="1" /><select name="year_day2"><option value="1" selected >'+s.locale.date.day_full[1]+'<option value="2">'+s.locale.date.day_full[2]+'<option value="3">'+s.locale.date.day_full[3]+'<option value="4">'+s.locale.date.day_full[4]+'<option value="5">'+s.locale.date.day_full[5]+'<option value="6">'+s.locale.date.day_full[6]+'<option value="7">'+s.locale.date.day_full[0]+"</select>"+f.select_year_day2+'<select name="year_month2"><option value="0" selected >'+f.month_for_recurring[0]+'<option value="1">'+f.month_for_recurring[1]+'<option value="2">'+f.month_for_recurring[2]+'<option value="3">'+f.month_for_recurring[3]+'<option value="4">'+f.month_for_recurring[4]+'<option value="5">'+f.month_for_recurring[5]+'<option value="6">'+f.month_for_recurring[6]+'<option value="7">'+f.month_for_recurring[7]+'<option value="8">'+f.month_for_recurring[8]+'<option value="9">'+f.month_for_recurring[9]+'<option value="10">'+f.month_for_recurring[10]+'<option value="11">'+f.month_for_recurring[11]+'</select><br /> </div> </div> <div class="dhx_repeat_divider"></div> <div class="dhx_repeat_right"> <label><input class="dhx_repeat_radio" type="radio" name="end" checked/>'+f.repeat_radio_end+'</label><br /> <label><input class="dhx_repeat_radio" type="radio" name="end" />'+f.repeat_radio_end2+'</label><input class="dhx_repeat_text" type="text" name="occurences_count" value="1" />'+f.repeat_text_occurences_count+'<br /> <label><input class="dhx_repeat_radio" type="radio" name="end" />'+f.repeat_radio_end3+'</label><input class="dhx_repeat_date" type="text" name="date_of_end" value="'+s.config.repeat_date_of_end+'" /><br /> </div> </form> </div> <div style="clear:both"> </div>'},_ds:{},_get_form_node:function(p,o,c){var u=p[o];if(!u)return null;if(u.nodeName)return u;if(u.length){for(var f=0;f<u.length;f++)if(u[f].value==c)return u[f]}},_get_node_value:function(p,o,c){var u=p[o];if(!u)return"";if(u.length){if(c){for(var f=[],y=0;y<u.length;y++)u[y].checked&&f.push(u[y].value);return f}for(y=0;y<u.length;y++)if(u[y].checked)return u[y].value}return u.value?c?[u.value]:u.value:void 0},_get_node_numeric_value:function(p,o){return 1*s.form_blocks.recurring._get_node_value(p,o)||0},_set_node_value:function(p,o,c){var u=p[o];if(u){if(u.name==o)u.value=c;else if(u.length)for(var f=Uh(c)=="object",y=0;y<u.length;y++)(f||u[y].value==c)&&(u[y].checked=f?!!c[u[y].value]:!!c)}},_init_set_value:function(p,o,c){var u=s.form_blocks.recurring,f=u._get_node_value,y=u._set_node_value;s.form_blocks.recurring._ds={start:c.start_date,end:c._end_date};var x=s.date.str_to_date(s.config.repeat_date,!1,!0),v=function(q){var ee=x(q);return s.config.include_end_by&&(ee=s.date.add(ee,1,"day")),ee},E=s.date.date_to_str(s.config.repeat_date),b=p.getElementsByTagName("FORM")[0],S={};function D(q){for(var ee=0;ee<q.length;ee++){var J=q[ee];if(J.name)if(S[J.name])if(S[J.name].nodeType){var ye=S[J.name];S[J.name]=[ye,J]}else S[J.name].push(J);else S[J.name]=J}}if(D(b.getElementsByTagName("INPUT")),D(b.getElementsByTagName("SELECT")),!s.config.repeat_date_of_end){var M=s.date.date_to_str(s.config.repeat_date);s.config.repeat_date_of_end=M(s.date.add(s._currentDate(),30,"day"))}y(S,"date_of_end",s.config.repeat_date_of_end);var U=function(q){return document.getElementById(q)||{style:{}}};function F(){U("dhx_repeat_day").style.display="none",U("dhx_repeat_week").style.display="none",U("dhx_repeat_month").style.display="none",U("dhx_repeat_year").style.display="none",U("dhx_repeat_"+this.value).style.display="block",s.setLightboxSize()}function H(q,ee){var J=q.end;if(J.length)if(J[0].value&&J[0].value!="on")for(var ye=0;ye<J.length;ye++)J[ye].value==ee&&(J[ye].checked=!0);else{var Se=0;switch(ee){case"no":Se=0;break;case"date_of_end":Se=2;break;default:Se=1}J[Se].checked=!0}else J.value=ee}s.form_blocks.recurring._get_repeat_code=function(q){var ee=[f(S,"repeat")];for(Q[ee[0]](ee,q);ee.length<5;)ee.push("");var J="",ye=function(Se){var be=Se.end;if(be.length){for(var Ie=0;Ie<be.length;Ie++)if(be[Ie].checked)return be[Ie].value&&be[Ie].value!="on"?be[Ie].value:Ie?Ie==2?"date_of_end":"occurences_count":"no"}else if(be.value)return be.value;return"no"}(S);return ye=="no"?(q.end=new Date(9999,1,1),J="no"):ye=="date_of_end"?q.end=v(f(S,"date_of_end")):(s.transpose_type(ee.join("_")),J=Math.max(1,f(S,"occurences_count")),q.end=s.date["add_"+ee.join("_")](new Date(q.start),J+0,{start_date:q.start})||q.start),ee.join("_")+"#"+J};var Q={month:function(q,ee){var J=s.form_blocks.recurring._get_node_value,ye=s.form_blocks.recurring._get_node_numeric_value;J(S,"month_type")=="d"?(q.push(Math.max(1,ye(S,"month_count"))),ee.start.setDate(J(S,"month_day"))):(q.push(Math.max(1,ye(S,"month_count2"))),q.push(J(S,"month_day2")),q.push(Math.max(1,ye(S,"month_week2"))),s.config.repeat_precise||ee.start.setDate(1)),ee._start=!0},week:function(q,ee){var J=s.form_blocks.recurring._get_node_value,ye=s.form_blocks.recurring._get_node_numeric_value;q.push(Math.max(1,ye(S,"week_count"))),q.push(""),q.push("");for(var Se=[],be=J(S,"week_day",!0),Ie=ee.start.getDay(),Te=!1,Fe=0;Fe<be.length;Fe++)Se.push(be[Fe]),Te=Te||be[Fe]==Ie;Se.length||(Se.push(Ie),Te=!0),Se.sort(),s.config.repeat_precise?Te||(s.transpose_day_week(ee.start,Se,1,7),ee._start=!0):(ee.start=s.date.week_start(ee.start),ee._start=!0),q.push(Se.join(","))},day:function(q){var ee=s.form_blocks.recurring._get_node_value,J=s.form_blocks.recurring._get_node_numeric_value;ee(S,"day_type")=="d"?q.push(Math.max(1,J(S,"day_count"))):(q.push("week"),q.push(1),q.push(""),q.push(""),q.push(s.config.recurring_workdays.join(",")),q.splice(0,1))},year:function(q,ee){var J=s.form_blocks.recurring._get_node_value;J(S,"year_type")=="d"?(q.push("1"),ee.start.setMonth(0),ee.start.setDate(J(S,"year_day")),ee.start.setMonth(J(S,"year_month"))):(q.push("1"),q.push(J(S,"year_day2")),q.push(J(S,"year_week2")),ee.start.setDate(1),ee.start.setMonth(J(S,"year_month2"))),ee._start=!0}},te={week:function(q,ee){var J=s.form_blocks.recurring._set_node_value;J(S,"week_count",q[1]);for(var ye=q[4].split(","),Se={},be=0;be<ye.length;be++)Se[ye[be]]=!0;J(S,"week_day",Se)},month:function(q,ee){var J=s.form_blocks.recurring._set_node_value;q[2]===""?(J(S,"month_type","d"),J(S,"month_count",q[1]),J(S,"month_day",ee.start.getDate())):(J(S,"month_type","w"),J(S,"month_count2",q[1]),J(S,"month_week2",q[3]),J(S,"month_day2",q[2]))},day:function(q,ee){var J=s.form_blocks.recurring._set_node_value;J(S,"day_type","d"),J(S,"day_count",q[1])},year:function(q,ee){var J=s.form_blocks.recurring._set_node_value;q[2]===""?(J(S,"year_type","d"),J(S,"year_day",ee.start.getDate()),J(S,"year_month",ee.start.getMonth())):(J(S,"year_type","w"),J(S,"year_week2",q[3]),J(S,"year_day2",q[2]),J(S,"year_month2",ee.start.getMonth()))}};s.form_blocks.recurring._set_repeat_code=function(q,ee){var J=s.form_blocks.recurring._set_node_value,ye=q.split("#");switch(q=ye[0].split("_"),te[q[0]](q,ee),ye[1]){case"no":H(S,"no");break;case"":H(S,"date_of_end");var Se=ee.end;s.config.include_end_by&&(Se=s.date.add(Se,-1,"day")),J(S,"date_of_end",E(Se));break;default:H(S,"occurences_count"),J(S,"occurences_count",ye[1])}J(S,"repeat",q[0]);var be=s.form_blocks.recurring._get_form_node(S,"repeat",q[0]);be.nodeName=="SELECT"?(be.dispatchEvent(new Event("change")),be.dispatchEvent(new MouseEvent("click"))):be.dispatchEvent(new MouseEvent("click"))};for(var G=0;G<b.elements.length;G++){var re=b.elements[G];switch(re.name){case"repeat":re.nodeName!="SELECT"||re.$_eventAttached?re.$_eventAttached||(re.$_eventAttached=!0,re.addEventListener("click",F)):(re.$_eventAttached=!0,re.addEventListener("change",F))}}s._lightbox._rec_init_done=!0},set_value:function(p,o,c){var u=s.form_blocks.recurring;s._lightbox._rec_init_done||u._init_set_value(p,o,c),p.open=!c.rec_type,p.blocked=this._is_modified_occurence(c);var f=u._ds;f.start=c.start_date,f.end=c._end_date,u._toggle_block(),o&&u._set_repeat_code(o,f)},get_value:function(p,o){if(p.open){var c=s.form_blocks.recurring._ds,u={};(function(){var f=s.formSection("time");if(f||(f=d("time")),f||(f=d("calendar_time")),!f)throw new Error(["Can't calculate the recurring rule, the Recurring form block can't find the Time control. Make sure you have the time control in 'scheduler.config.lightbox.sections' config.","You can use either the default time control https://docs.dhtmlx.com/scheduler/time.html, or the datepicker https://docs.dhtmlx.com/scheduler/minicalendar.html, or a custom control. ",'In the latter case, make sure the control is named "time":',"","scheduler.config.lightbox.sections = [",'{name:"time", height:72, type:"YOU CONTROL", map_to:"auto" }];'].join(`
`));return f})().getValue(u),c.start=u.start_date,o.rec_type=s.form_blocks.recurring._get_repeat_code(c),c._start?(o.start_date=new Date(c.start),o._start_date=new Date(c.start),c._start=!1):o._start_date=null,o._end_date=c.end,o.rec_pattern=o.rec_type.split("#")[0]}else o.rec_type=o.rec_pattern="",o._end_date=o.end_date;return o.rec_type},_get_button:function(){return w().header.firstChild.firstChild},_get_form:function(){return w().node},open:function(){var p=s.form_blocks.recurring;p._get_form().open||p._toggle_block()},close:function(){var p=s.form_blocks.recurring;p._get_form().open&&p._toggle_block()},_toggle_block:function(){var p=s.form_blocks.recurring,o=p._get_form(),c=p._get_button();o.open||o.blocked?(o.style.height="0px",c&&(c.style.backgroundPosition="-5px 20px",c.nextSibling.innerHTML=s.locale.labels.button_recurring)):(o.style.height="auto",c&&(c.style.backgroundPosition="-5px 0px",c.nextSibling.innerHTML=s.locale.labels.button_recurring_open)),o.open=!o.open,s.setLightboxSize()},focus:function(p){},button_click:function(p,o,c){s.form_blocks.recurring._get_form().blocked||s.form_blocks.recurring._toggle_block()}},s._rec_markers={},s._rec_markers_pull={},s._add_rec_marker=function(p,o){p._pid_time=o,this._rec_markers[p.id]=p,this._rec_markers_pull[p.event_pid]||(this._rec_markers_pull[p.event_pid]={}),this._rec_markers_pull[p.event_pid][o]=p},s._get_rec_marker=function(p,o){var c=this._rec_markers_pull[o];return c?c[p]:null},s._get_rec_markers=function(p){return this._rec_markers_pull[p]||[]},s._rec_temp=[],function(){var p=s.addEvent;s.addEvent=function(o,c,u,f,y){var x=p.apply(this,arguments);if(x&&s.getEvent(x)){var v=s.getEvent(x);v.start_date&&(v.start_date=m(v.start_date)),v.end_date&&(v.end_date=m(v.end_date)),this._is_modified_occurence(v)&&s._add_rec_marker(v,1e3*v.event_length),v.rec_type&&(v.rec_pattern=v.rec_type.split("#")[0])}return x}}(),s.attachEvent("onEventIdChange",function(p,o){if(!this._ignore_call){this._ignore_call=!0,s._rec_markers[p]&&(s._rec_markers[o]=s._rec_markers[p],delete s._rec_markers[p]),s._rec_markers_pull[p]&&(s._rec_markers_pull[o]=s._rec_markers_pull[p],delete s._rec_markers_pull[p]);for(var c=0;c<this._rec_temp.length;c++)(u=this._rec_temp[c]).event_pid==p&&(u.event_pid=o,this.changeEventId(u.id,o+"#"+u.id.split("#")[1]));for(var c in this._rec_markers){var u;(u=this._rec_markers[c]).event_pid==p&&(u.event_pid=o,u._pid_changed=!0)}var f=s._rec_markers[o];f&&f._pid_changed&&(delete f._pid_changed,setTimeout(function(){s.callEvent("onEventChanged",[o,s.getEvent(o)])},1)),delete this._ignore_call}}),s.attachEvent("onConfirmedBeforeEventDelete",function(p){var o=this.getEvent(p);if(this._is_virtual_event(p)||this._is_modified_occurence(o)&&o.rec_type&&o.rec_type!="none"){p=p.split("#");var c=this.uid(),u=p[1]?p[1]:Math.round(o._pid_time/1e3),f=this._copy_event(o);f.id=c,f.event_pid=o.event_pid||p[0];var y=u;f.event_length=y,f.rec_type=f.rec_pattern="none",this.addEvent(f),this._add_rec_marker(f,1e3*y)}else{o.rec_type&&this._lightbox_id&&this._roll_back_dates(o);var x=this._get_rec_markers(p);for(var v in x)x.hasOwnProperty(v)&&(p=x[v].id,this.getEvent(p)&&this.deleteEvent(p,!0))}return!0}),s.attachEvent("onEventDeleted",function(p,o){!this._is_virtual_event(p)&&this._is_modified_occurence(o)&&(s._events[p]||(o.rec_type=o.rec_pattern="none",this.setEvent(p,o)))}),s.attachEvent("onEventChanged",function(p,o){if(this._loading)return!0;var c=this.getEvent(p);if(this._is_virtual_event(p)){p=p.split("#");var u=this.uid();this._not_render=!0;var f=this._copy_event(o);f.id=u,f.event_pid=p[0];var y=p[1];f.event_length=y,f.rec_type=f.rec_pattern="",this._add_rec_marker(f,1e3*y),this.addEvent(f),this._not_render=!1}else{c.start_date&&(c.start_date=m(c.start_date)),c.end_date&&(c.end_date=m(c.end_date)),c.rec_type&&this._lightbox_id&&this._roll_back_dates(c);var x=this._get_rec_markers(p);for(var v in x)x.hasOwnProperty(v)&&(delete this._rec_markers[x[v].id],this.deleteEvent(x[v].id,!0));delete this._rec_markers_pull[p];for(var E=!1,b=0;b<this._rendered.length;b++)this._rendered[b].getAttribute(this.config.event_attribute)==p&&(E=!0);E||(this._select_id=null)}return!0}),s.attachEvent("onEventAdded",function(p){if(!this._loading){var o=this.getEvent(p);o.rec_type&&!o.event_length&&this._roll_back_dates(o)}return!0}),s.attachEvent("onEventSave",function(p,o,c){return this.getEvent(p).rec_type||!o.rec_type||this._is_virtual_event(p)||(this._select_id=null),!0}),s.attachEvent("onEventCreated",function(p){var o=this.getEvent(p);return o.rec_type||(o.rec_type=o.rec_pattern=o.event_length=o.event_pid=""),!0}),s.attachEvent("onEventCancel",function(p){var o=this.getEvent(p);o.rec_type&&(this._roll_back_dates(o),this.render_view_data())}),s._roll_back_dates=function(p){p.start_date&&(p.start_date=m(p.start_date)),p.end_date&&(p.end_date=m(p.end_date)),p.event_length=Math.round((p.end_date.valueOf()-p.start_date.valueOf())/1e3),p.end_date=p._end_date,p._start_date&&(p.start_date.setMonth(0),p.start_date.setDate(p._start_date.getDate()),p.start_date.setMonth(p._start_date.getMonth()),p.start_date.setFullYear(p._start_date.getFullYear()))},s._is_virtual_event=function(p){return p.toString().indexOf("#")!=-1},s._is_modified_occurence=function(p){return p.event_pid&&p.event_pid!="0"},s._validId=function(p){return!this._is_virtual_event(p)},s.showLightbox_rec=s.showLightbox,s.showLightbox=function(p){var o=this.locale,c=s.config.lightbox_recurring,u=this.getEvent(p),f=u.event_pid,y=this._is_virtual_event(p);y&&(f=p.split("#")[0]);var x=function(E){var b=s.getEvent(E);return b._end_date=b.end_date,b.end_date=new Date(b.start_date.valueOf()+1e3*b.event_length),s.showLightbox_rec(E)};if((f||1*f==0)&&u.rec_type)return x(p);if(!f||f==="0"||!o.labels.confirm_recurring||c=="instance"||c=="series"&&!y)return this.showLightbox_rec(p);if(c=="ask"){var v=this;s.modalbox({text:o.labels.confirm_recurring,title:o.labels.title_confirm_recurring,width:"500px",position:"middle",buttons:[o.labels.button_edit_series,o.labels.button_edit_occurrence,o.labels.icon_cancel],callback:function(E){switch(+E){case 0:return x(f);case 1:return v.showLightbox_rec(p);case 2:return}}})}else x(f)},s.get_visible_events_rec=s.get_visible_events,s.get_visible_events=function(p){for(var o=0;o<this._rec_temp.length;o++)delete this._events[this._rec_temp[o].id];this._rec_temp=[];var c=this.get_visible_events_rec(p),u=[];for(o=0;o<c.length;o++)c[o].rec_type?c[o].rec_pattern!="none"&&this.repeat_date(c[o],u):u.push(c[o]);return u},function(){var p=s.isOneDayEvent;s.isOneDayEvent=function(c){return!!c.rec_type||p.call(this,c)};var o=s.updateEvent;s.updateEvent=function(c){var u=s.getEvent(c);u&&u.rec_type&&(u.rec_pattern=(u.rec_type||"").split("#")[0]),u&&u.rec_type&&!this._is_virtual_event(c)?s.update_view():o.call(this,c)}}(),s.transponse_size={day:1,week:7,month:1,year:12},s.date.day_week=function(p,o,c){p.setDate(1);var u=s.date.month_start(new Date(p)),f=1*o+(c=7*(c-1))-p.getDay()+1;p.setDate(f<=c?f+7:f);var y=s.date.month_start(new Date(p));return u.valueOf()===y.valueOf()},s.transpose_day_week=function(p,o,c,u,f){for(var y=(p.getDay()||(s.config.start_on_monday?7:0))-c,x=0;x<o.length;x++)if(o[x]>y)return p.setDate(p.getDate()+1*o[x]-y-(u?c:f));this.transpose_day_week(p,o,c+u,null,c)},s.transpose_type=function(p){var o="transpose_"+p;if(!this.date[o]){var c=p.split("_"),u="add_"+p,f=this.transponse_size[c[0]]*c[1];if(c[0]=="day"||c[0]=="week"){var y=null;if(c[4]&&(y=c[4].split(","),s.config.start_on_monday)){for(var x=0;x<y.length;x++)y[x]=1*y[x]||7;y.sort()}this.date[o]=function(v,E){var b=Math.floor((E.valueOf()-v.valueOf())/(864e5*f));return b>0&&v.setDate(v.getDate()+b*f),y&&s.transpose_day_week(v,y,1,f),v},this.date[u]=function(v,E){var b=new Date(v.valueOf());if(y)for(var S=0;S<E;S++)s.transpose_day_week(b,y,0,f);else b.setDate(b.getDate()+E*f);return b}}else c[0]!="month"&&c[0]!="year"||(this.date[o]=function(v,E,b){var S=Math.ceil((12*E.getFullYear()+1*E.getMonth()+1-(12*v.getFullYear()+1*v.getMonth()+1))/f-1);return S>=0&&(v.setDate(1),v.setMonth(v.getMonth()+S*f)),s.date[u](v,0,b)},this.date[u]=function(v,E,b,S){if(S?S++:S=1,S>12)return null;var D=new Date(v.valueOf());D.setDate(1),D.setMonth(D.getMonth()+E*f);var M=D.getMonth(),U=D.getFullYear();D.setDate(b.start_date.getDate()),c[3]&&s.date.day_week(D,c[2],c[3]);var F=s.config.recurring_overflow_instances;return D.getMonth()!=M&&F!="none"&&(D=F==="lastDay"?new Date(U,M+1,0,D.getHours(),D.getMinutes(),D.getSeconds(),D.getMilliseconds()):s.date[u](new Date(U,M+1,0),E||1,b,S)),D})}},s.repeat_date=function(p,o,c,u,f,y){u=u||this._min_date,f=f||this._max_date;var x=y||-1,v=new Date(p.start_date.valueOf()),E=v.getHours(),b=0;for(!p.rec_pattern&&p.rec_type&&(p.rec_pattern=p.rec_type.split("#")[0]),this.transpose_type(p.rec_pattern),v=s.date["transpose_"+p.rec_pattern](v,u,p);v&&(v<p.start_date||s._fix_daylight_saving_date(v,u,p,v,new Date(v.valueOf()+1e3*p.event_length)).valueOf()<=u.valueOf()||v.valueOf()+1e3*p.event_length<=u.valueOf());)v=this.date["add_"+p.rec_pattern](v,1,p);for(;v&&v<f&&v<p.end_date&&(x<0||b<x);){v.setHours(E);var S=s.config.occurrence_timestamp_in_utc?Date.UTC(v.getFullYear(),v.getMonth(),v.getDate(),v.getHours(),v.getMinutes(),v.getSeconds()):v.valueOf(),D=this._get_rec_marker(S,p.id);if(D)c&&(D.rec_type!="none"&&b++,o.push(D));else{var M=new Date(v.valueOf()+1e3*p.event_length),U=this._copy_event(p);if(U.text=p.text,U.start_date=v,U.event_pid=p.id,U.id=p.id+"#"+Math.round(S/1e3),U.end_date=M,U.end_date=s._fix_daylight_saving_date(U.start_date,U.end_date,p,v,U.end_date),U._timed=this.isOneDayEvent(U),!U._timed&&!this._table_view&&!this.config.multi_day)return;o.push(U),c||(this._events[U.id]=U,this._rec_temp.push(U)),b++}v=this.date["add_"+p.rec_pattern](v,1,p)}},s._fix_daylight_saving_date=function(p,o,c,u,f){var y=p.getTimezoneOffset()-o.getTimezoneOffset();return y?y>0?new Date(u.valueOf()+1e3*c.event_length-60*y*1e3):new Date(o.valueOf()-60*y*1e3):new Date(f.valueOf())},s.getRecDates=function(p,o){var c=Uh(p)=="object"?p:s.getEvent(p),u=[];if(o=o||100,!c.rec_type)return[{start_date:c.start_date,end_date:c.end_date}];if(c.rec_type=="none")return[];s.repeat_date(c,u,!0,c.start_date,c.end_date,o);for(var f=[],y=0;y<u.length;y++)u[y].rec_type!="none"&&f.push({start_date:u[y].start_date,end_date:u[y].end_date});return f},s.getEvents=function(p,o){var c=[];for(var u in this._events){var f=this._events[u];if(f&&f.start_date<o&&f.end_date>p)if(f.rec_pattern){if(f.rec_pattern=="none")continue;var y=[];this.repeat_date(f,y,!0,p,o);for(var x=0;x<y.length;x++)!y[x].rec_pattern&&y[x].start_date<o&&y[x].end_date>p&&!this._rec_markers[y[x].id]&&c.push(y[x])}else this._is_virtual_event(f.id)||c.push(f)}return c},s.config.repeat_date="%m.%d.%Y",s.config.lightbox.sections=[{name:"description",map_to:"text",type:"textarea",focus:!0},{name:"recurring",type:"recurring",map_to:"rec_type",button:"recurring"},{name:"time",height:72,type:"time",map_to:"auto"}],s._copy_dummy=function(p){var o=new Date(this.start_date),c=new Date(this.end_date);this.start_date=o,this.end_date=c,this.event_length=this.event_pid=this.rec_pattern=this.rec_type=null},s.config.include_end_by=!1,s.config.lightbox_recurring="ask",s.attachEvent("onClearAll",function(){s._rec_markers={},s._rec_markers_pull={},s._rec_temp=[]})},serialize:function(s){var w=mt()(s);s.data_attributes=function(){var d=[],m=s._helpers.formatDate,p=w();for(var o in p){var c=p[o];for(var u in c)u.substr(0,1)!="_"&&d.push([u,u=="start_date"||u=="end_date"?m:null]);break}return d},s.toXML=function(d){var m=[],p=this.data_attributes(),o=w();for(var c in o){var u=o[c];m.push("<event>");for(var f=0;f<p.length;f++)m.push("<"+p[f][0]+"><![CDATA["+(p[f][1]?p[f][1](u[p[f][0]]):u[p[f][0]])+"]]></"+p[f][0]+">");m.push("</event>")}return(d||"")+"<data>"+m.join(`
`)+"</data>"},s._serialize_json_value=function(d){return d===null||typeof d=="boolean"?d=""+d:(d||d===0||(d=""),d='"'+d.toString().replace(/\n/g,"").replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'),d},s.toJSON=function(){return JSON.stringify(this.serialize())},s.toICal=function(d){var m=s.date.date_to_str("%Y%m%dT%H%i%s"),p=s.date.date_to_str("%Y%m%d"),o=[],c=w();for(var u in c){var f=c[u];o.push("BEGIN:VEVENT"),f._timed&&(f.start_date.getHours()||f.start_date.getMinutes())?o.push("DTSTART:"+m(f.start_date)):o.push("DTSTART:"+p(f.start_date)),f._timed&&(f.end_date.getHours()||f.end_date.getMinutes())?o.push("DTEND:"+m(f.end_date)):o.push("DTEND:"+p(f.end_date)),o.push("SUMMARY:"+f.text),o.push("END:VEVENT")}return`BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//dhtmlXScheduler//NONSGML v2.2//EN
DESCRIPTION:`+(d||"")+`
`+o.join(`
`)+`
END:VCALENDAR`}},timeline:function(s){xi("Timeline",s.assert)},tooltip:function(s){var w=s._createDomEventScope(),d={};s.ext.tooltip=s.dhtmlXTooltip=s.tooltip=d,d.config={className:"dhtmlXTooltip scheduler_tooltip tooltip",timeout_to_display:50,timeout_to_hide:50,delta_x:15,delta_y:-20},d.tooltip=document.createElement("div"),d.tooltip.className=d.config.className,s._waiAria.tooltipAttr(d.tooltip),d.show=function(m,p){if(!this._mobile||s.config.touch_tooltip){var o=d,c=this.tooltip,u=c.style;o.tooltip.className=o.config.className;var f=this.position(m),y=m.target||m.srcElement;if(!this.isTooltip(y)){var x=f.x+(o.config.delta_x||0),v=f.y-(o.config.delta_y||0);u.visibility="hidden",u.right="",u.bottom="",u.left="0",u.top="0",s.config.rtl&&(c.className+=" dhtmlXTooltip_rtl"),this.tooltip.innerHTML=p,document.body.appendChild(this.tooltip);var E=this.tooltip.offsetWidth,b=this.tooltip.offsetHeight;if(document.documentElement.clientWidth-x-E<0?(u.left="",u.right=document.documentElement.clientWidth-x+2*(o.config.delta_x||0)+"px"):u.left=x<0?f.x+Math.abs(o.config.delta_x||0)+"px":x+"px",document.documentElement.clientHeight-v-b<0){var S=document.documentElement.clientHeight-v-2*(o.config.delta_y||0);S+b>document.documentElement.clientHeight?(v-=Math.abs(document.documentElement.clientHeight-v-b),v=Math.max(v,0),u.top=v+"px"):(u.bottom=S+"px",u.top="")}else u.top=v<0?f.y+Math.abs(o.config.delta_y||0)+"px":v+"px";s._waiAria.tooltipVisibleAttr(this.tooltip),u.visibility="visible",w.attach(this.tooltip,"mouseleave",function(D){for(var M=s.dhtmlXTooltip,U=D.relatedTarget;U!=s._obj&&U;)U=U.parentNode;U!=s._obj&&M.delay(M.hide,M,[],M.config.timeout_to_hide)}),s.callEvent("onTooltipDisplayed",[this.tooltip,this.tooltip.event_id])}}},d._clearTimeout=function(){this.tooltip._timeout_id&&clearTimeout(this.tooltip._timeout_id)},d.hide=function(){if(this.tooltip.parentNode){s._waiAria.tooltipHiddenAttr(this.tooltip);var m=this.tooltip.event_id;this.tooltip.event_id=null,w.detachAll(),this.tooltip.parentNode.removeChild(this.tooltip),s.callEvent("onAfterTooltip",[m])}this._clearTimeout()},d.delay=function(m,p,o,c){this._clearTimeout(),this.tooltip._timeout_id=setTimeout(function(){var u=m.apply(p,o);return m=p=o=null,u},c||this.config.timeout_to_display)},d.isTooltip=function(m){for(var p=!1;m&&!p;)p=m.className==this.tooltip.className,m=m.parentNode;return p},d.position=function(m){return{x:m.clientX,y:m.clientY}},s.attachEvent("onMouseMove",function(m,p){var o=p.target||p.srcElement,c=d,u=c.isTooltip(o),f=c.isTooltipTarget&&c.isTooltipTarget(o);if(m&&s.getState().editor_id!=m||u||f){var y,x;if(m||c.tooltip.event_id){var v=s.getEvent(m)||s.getEvent(c.tooltip.event_id);if(!v)return;if(c.tooltip.event_id=v.id,!(y=s.templates.tooltip_text(v.start_date,v.end_date,v)))return c.hide()}if(f&&(y=""),s.$env.isIE)for(var E in x={pageX:void 0,pageY:void 0,clientX:void 0,clientY:void 0,target:void 0,srcElement:void 0})x[E]=p[E];if(!s.callEvent("onBeforeTooltip",[m])||!y)return;c.delay(c.show,c,[x||p,y])}else c.delay(c.hide,c,[],c.config.timeout_to_hide)}),s.attachEvent("onBeforeDrag",function(){return d.hide(),!0}),s.attachEvent("onEventDeleted",function(){return d.hide(),!0}),s.attachEvent("onDestroy",function(){d.hide()})},treetimeline:function(s){xi("Tree Timeline",s.assert)},units:function(s){xi("Units",s.assert)},url:function(s){s._get_url_nav=function(){for(var w={},d=(document.location.hash||"").replace("#","").split(","),m=0;m<d.length;m++){var p=d[m].split("=");p.length==2&&(w[p[0]]=p[1])}return w},s.attachEvent("onTemplatesReady",function(){var w=!0,d=s.date.str_to_date("%Y-%m-%d"),m=s.date.date_to_str("%Y-%m-%d"),p=s._get_url_nav().event||null;function o(c){p=c,s.getEvent(c)&&s.showEvent(c)}s.attachEvent("onAfterEventDisplay",function(c){return p=null,!0}),s.attachEvent("onBeforeViewChange",function(c,u,f,y){if(w){w=!1;var x=s._get_url_nav();if(x.event)try{if(s.getEvent(x.event))return setTimeout(function(){o(x.event)}),!1;var v=s.attachEvent("onXLE",function(){setTimeout(function(){o(x.event)}),s.detachEvent(v)})}catch{}if(x.date||x.mode){try{this.setCurrentView(x.date?d(x.date):null,x.mode||null)}catch{this.setCurrentView(x.date?d(x.date):null,f)}return!1}}var E=["date="+m(y||u),"mode="+(f||c)];p&&E.push("event="+p);var b="#"+E.join(",");return document.location.hash=b,!0})})},week_agenda:function(s){xi("Week Agenda",s.assert)},wp:function(s){s.attachEvent("onLightBox",function(){if(this._cover)try{this._cover.style.height=this.expanded?"100%":(document.body.parentNode||document.body).scrollHeight+"px"}catch{}}),s.form_blocks.select.set_value=function(w,d,m){d!==void 0&&d!==""||(d=(w.firstChild.options[0]||{}).value),w.firstChild.value=d||""}},year_view:function(s){s.config.year_x=4,s.config.year_y=3,s.xy.year_top=0,s.templates.year_date=function(u){return s.date.date_to_str(s.locale.labels.year_tab+" %Y")(u)},s.templates.year_month=s.date.date_to_str("%F"),s.templates.year_scale_date=s.date.date_to_str("%D"),s.templates.year_tooltip=function(u,f,y){return y.text};var w=function(){return s._mode=="year"};s.dblclick_dhx_month_head=function(u){if(w()){var f=u.target||u.srcElement,y=s._getClassName(f.parentNode);if(y.indexOf("dhx_before")!=-1||y.indexOf("dhx_after")!=-1)return!1;for(var x=f;x&&(!x.hasAttribute||!x.hasAttribute("date"));)x=x.parentNode;if(x){var v=this._helpers.parseDate(x.getAttribute("date"));v.setDate(parseInt(f.innerHTML,10));var E=this.date.add(v,1,"day");!this.config.readonly&&this.config.dblclick_create&&this.addEventNow(v.valueOf(),E.valueOf(),u)}}};var d=s.changeEventId;s.changeEventId=function(){d.apply(this,arguments),w()&&this.year_view(!0)};var m=s.render_data;s.render_data=function(u){if(!w())return m.apply(this,arguments);for(var f=0;f<u.length;f++)this._year_render_event(u[f])};var p=s.clear_view;s.clear_view=function(){if(!w())return p.apply(this,arguments);var u=s._year_marked_cells,f=null;for(var y in u)u.hasOwnProperty(y)&&((f=u[y]).className="dhx_month_head",f.removeAttribute("date"));s._year_marked_cells={}},s._hideToolTip=function(){this._tooltip&&(this._tooltip.style.display="none",this._tooltip.date=new Date(9999,1,1))},s._showToolTip=function(u,f,y,x){if(this._tooltip){if(this._tooltip.date.valueOf()==u.valueOf())return;this._tooltip.innerHTML=""}else{var v=this._tooltip=document.createElement("div");v.className="dhx_year_tooltip",this.config.rtl&&(v.className+=" dhx_tooltip_rtl"),document.body.appendChild(v),v.addEventListener("click",s._click.dhx_cal_data)}for(var E=this.getEvents(u,this.date.add(u,1,"day")),b="",S=0;S<E.length;S++){var D=E[S];if(this.filter_event(D.id,D)){var M=D.color?"background:"+D.color+";":"",U=D.textColor?"color:"+D.textColor+";":"";b+="<div class='dhx_tooltip_line' style='"+M+U+"' event_id='"+E[S].id+"' "+this.config.event_attribute+"='"+E[S].id+"'>",b+="<div class='dhx_tooltip_date' style='"+M+U+"'>"+(E[S]._timed?this.templates.event_date(E[S].start_date):"")+"</div>",b+="<div class='dhx_event_icon icon_details'>&nbsp;</div>",b+=this.templates.year_tooltip(E[S].start_date,E[S].end_date,E[S])+"</div>"}}this._tooltip.style.display="",this._tooltip.style.top="0px",document.body.offsetWidth-f.left-this._tooltip.offsetWidth<0?this._tooltip.style.left=f.left-this._tooltip.offsetWidth+"px":this._tooltip.style.left=f.left+x.offsetWidth+"px",this._tooltip.date=u,this._tooltip.innerHTML=b,document.body.offsetHeight-f.top-this._tooltip.offsetHeight<0?this._tooltip.style.top=f.top-this._tooltip.offsetHeight+x.offsetHeight+"px":this._tooltip.style.top=f.top+"px"},s._year_view_tooltip_handler=function(u){if(w()){var f=u.target||u.srcElement;f.tagName.toLowerCase()=="a"&&(f=f.parentNode),s._getClassName(f).indexOf("dhx_year_event")!=-1?s._showToolTip(s.templates.parse_date(f.getAttribute("data-year-date")),s.$domHelpers.getOffset(f),u,f):s._hideToolTip()}},s._init_year_tooltip=function(){s._detachDomEvent(s._els.dhx_cal_data[0],"mouseover",s._year_view_tooltip_handler),s.event(s._els.dhx_cal_data[0],"mouseover",s._year_view_tooltip_handler)},s._get_year_cell=function(u){var f=u.getMonth()+12*(u.getFullYear()-this._min_date.getFullYear())-this.week_starts._month,y=this._els.dhx_cal_data[0].childNodes[f],x=this.week_starts[f]+u.getDate()-1;return y.querySelectorAll(".dhx_year_body tr")[Math.floor(x/7)].querySelectorAll("td")[x%7].querySelector(".dhx_month_head")},s._year_marked_cells={},s._mark_year_date=function(u,f){var y=s.templates.format_date(u),x=this._get_year_cell(u);if(x){var v=this.templates.event_class(f.start_date,f.end_date,f);s._year_marked_cells[y]||(x.className="dhx_month_head dhx_year_event",x.setAttribute("data-year-date",y),x.setAttribute("date",y),s._year_marked_cells[y]=x),x.className+=v?" "+v:""}},s._unmark_year_date=function(u){var f=this._get_year_cell(u);f&&(f.className="dhx_month_head")},s._year_render_event=function(u){var f=u.start_date;for(f=f.valueOf()<this._min_date.valueOf()?this._min_date:this.date.date_part(new Date(f));f<u.end_date;)if(this._mark_year_date(f,u),(f=this.date.add(f,1,"day")).valueOf()>=this._max_date.valueOf())return},s.year_view=function(u){var f;if(u&&(f=s.xy.scale_height,s.xy.scale_height=-1),s._els.dhx_cal_header[0].style.display=u?"none":"",s.set_sizes(),u&&(s.xy.scale_height=f),s._table_view=u,!this._load_mode||!this._load())if(u){if(s._init_year_tooltip(),s._reset_year_scale(),s._load_mode&&s._load())return void(s._render_wait=!0);s.render_view_data()}else s._hideToolTip()},s._reset_year_scale=function(){this._cols=[],this._colsS={};var u=[],f=this._els.dhx_cal_data[0],y=this.config;f.scrollTop=0,f.innerHTML="";var x=Math.floor(parseInt(f.style.width)/y.year_x),v=Math.floor((parseInt(f.style.height)-s.xy.year_top)/y.year_y);v<190&&(v=190,x=Math.floor((parseInt(f.style.width)-s.xy.scroll_width)/y.year_x));var E=x-11,b=0,S=document.createElement("div"),D=this.date.week_start(s._currentDate());this._process_ignores(D,7,"day",1);for(var M=7-(this._ignores_detected||0),U=0,F=0;F<7;F++)this._ignores&&this._ignores[F]||(this._cols[F]=Math.floor(E/(M-U)),this._render_x_header(F,b,D,S),E-=this._cols[F],b+=this._cols[F],U++),D=this.date.add(D,1,"day");for(S.lastChild.className+=" dhx_scale_bar_last",F=0;F<S.childNodes.length;F++)this._waiAria.yearHeadCell(S.childNodes[F]);var H=this.date[this._mode+"_start"](this.date.copy(this._date)),Q=H,te=null;for(F=0;F<y.year_y;F++)for(var G=0;G<y.year_x;G++){(te=document.createElement("div")).className="dhx_year_box",te.style.cssText="position:absolute;",te.setAttribute("date",this._helpers.formatDate(H)),te.innerHTML="<div class='dhx_year_month'></div><div class='dhx_year_grid'><div class='dhx_year_week'>"+S.innerHTML+"</div><div class='dhx_year_body'></div></div>";var re=te.querySelector(".dhx_year_month"),q=te.querySelector(".dhx_year_grid"),ee=te.querySelector(".dhx_year_week"),J=te.querySelector(".dhx_year_body"),ye=s.uid();this._waiAria.yearHeader(re,ye),this._waiAria.yearGrid(q,ye),re.innerHTML=this.templates.year_month(H);var Se=this.date.week_start(H);this._reset_month_scale(J,H,Se,6);for(var be=J.querySelectorAll("td"),Ie=0;Ie<be.length;Ie++)this._waiAria.yearDayCell(be[Ie]);f.appendChild(te),ee.style.height=ee.childNodes[0].offsetHeight+"px";var Te=Math.round((v-190)/2);te.style.marginTop=Te+"px",this.set_xy(te,x-10,v-Te-10,x*G+5,v*F+5+s.xy.year_top),u[F*y.year_x+G]=(H.getDay()-(this.config.start_on_monday?1:0)+7)%7,H=this.date.add(H,1,"month")}var Fe=this._getNavDateElement();Fe&&(Fe.innerHTML=this.templates[this._mode+"_date"](Q,H,this._mode)),this.week_starts=u,u._month=Q.getMonth(),this._min_date=Q,this._max_date=H};var o=s.getActionData;s.getActionData=function(u){if(!w())return o.apply(s,arguments);var f=u.target,y=s._get_year_month_date(f),x=s._get_year_month_cell(f),v=s._get_year_day_indexes(x);return v&&y?(y=s.date.add(y,v.week,"week"),y=s.date.add(y,v.day,"day")):y=null,{date:y,section:null}},s._get_year_day_indexes=function(u){var f=s._get_year_el_node(u,this._locate_year_month_table);if(!f)return null;for(var y=0,x=0,v=(y=0,f.rows.length);y<v;y++){for(var E=f.rows[y].getElementsByTagName("td"),b=(x=0,E.length);x<b&&E[x]!=u;x++);if(x<b)break}return y<v?{day:x,week:y}:null},s._get_year_month_date=function(u){if(!(u=s._get_year_el_node(u,s._locate_year_month_root)))return null;var f=u.getAttribute("data-year-date");return f?s.date.week_start(s.date.month_start(s.templates.parse_date(f))):null},s._locate_year_month_day=function(u){return s._getClassName(u).indexOf("dhx_year_event")!=-1&&u.hasAttribute&&u.hasAttribute("data-year-date")};var c=s._locate_event;s._locate_event=function(u){var f=c.apply(s,arguments);if(!f){var y=s._get_year_el_node(u,s._locate_year_month_day);if(!y||!y.hasAttribute("data-year-date"))return null;var x=s.templates.parse_date(y.getAttribute("data-year-date")),v=s.getEvents(x,s.date.add(x,1,"day"));if(!v.length)return null;f=v[0].id}return f},s._locate_year_month_cell=function(u){return u.nodeName.toLowerCase()=="td"},s._locate_year_month_table=function(u){return u.nodeName.toLowerCase()=="table"},s._locate_year_month_root=function(u){return u.hasAttribute&&u.hasAttribute("data-year-date")},s._get_year_month_cell=function(u){return this._get_year_el_node(u,this._locate_year_month_cell)},s._get_year_month_table=function(u){return this._get_year_el_node(u,this._locate_year_month_table)},s._get_year_month_root=function(u){return this._get_year_el_node(this._get_year_month_table(u),this._locate_year_month_root)},s._get_year_el_node=function(u,f){for(;u&&!f(u);)u=u.parentNode;return u},s.attachEvent("onDestroy",function(){s._hideToolTip()})}}),Lc=jh.getSchedulerInstance(),ov={plugin:Lc.bind(jh.plugin,jh)};window.scheduler=Lc,window.Scheduler=ov,r.default=Lc}])})})(gz);const Oo=window.scheduler,vz=Je.now().toFormat("y, L, d");class yz extends oe.exports.Component{componentDidMount(){Oo.skin="material",Oo.config.header=["day","week","month","date","prev","today","next"];const{events:e}=this.props;Oo.init(this.schedulerContainer,vz),Oo.clearAll(),Oo.parse(e)}render(){return $("div",{ref:e=>{this.schedulerContainer=e},style:{width:"100%",height:"800px"}})}}const bz=()=>{const{user:t}=Nn(),[e,n]=oe.exports.useState([]),[r,i]=oe.exports.useState(!0);return oe.exports.useEffect(()=>{const a=gn(),l=xr(a,`Users/${t.uid}/mySchedule`);la(l).then(h=>{const _=h.docs.map(k=>({...k.data()})),g=[];_.forEach(k=>Object.keys(k).forEach(C=>g.push({start_date:k[C].start_date,end_date:k[C].end_date,text:k[C].text}))),n(g),i(!1)})},[t]),r?$("h5",{children:"loading..."}):$("div",{children:$("div",{className:"scheduler-container",children:$(yz,{events:e})})})};const wz=({info:t})=>{const{user:e}=Nn(),[n,r]=oe.exports.useState(t.checked),i=t.timeStamp.toDate().toString(),a=async()=>{try{const l=gn(),h=Pt(l,`Users/${e.uid}`);await zr(h,{notifications:Ps(-1)});const _=Pt(l,`Users/${e.uid}/myNotifications/${t.id}`);await zr(_,{checked:!0})}catch(l){swal("UPS!",`${l.message}`,"error")}r(!n)};return $("div",{className:"notification_container",children:ie("div",{className:"notification_card",children:[ie("p",{className:"notification_type",children:[" ",t.notificationType," "]}),ie("p",{className:"notification_info",children:[" ",t.textNotification," "]}),ie("p",{className:"notification_date",children:[" ",i," "]}),!n&&$("button",{className:"notification_button",onClick:a,children:"Visto"})]})})},xz=({notificaciones:t=[]})=>(t.sort((e,n)=>e.timeStamp>n.timeStamp?-1:e.timeStamp<n.timeStamp?1:0),t.map(e=>$(wz,{info:e},e.id)));const Ez=()=>{const{user:t}=Nn(),[e,n]=oe.exports.useState([]);return oe.exports.useEffect(()=>{const r=gn(),i=xr(r,`Users/${t.uid}/myNotifications`);la(i).then(a=>n(a.docs.map(l=>({id:l.id,...l.data()}))))},[t]),$("div",{className:"notification_body",children:$(xz,{notificaciones:e})})};const kz=({teacher:t,newDate:e})=>{const n=[],r=t.disponibility;return t.teacherWeek.map((i,a)=>{let l=r[i.day],h=parseInt(i.timeStart),_=parseInt(i.timeEnd);for(let g=h;g<_;g++){let k=g.toString();if(k=k+":00",l[k]){const C={day:i.day,time:k};n.push(C)}}}),$("div",{children:n.map((i,a)=>$("div",{className:"listaHorarios_container",children:ie("div",{className:"listaHorarios_card",children:[ie("div",{className:"listaHorarios_data",children:[ie("p",{className:"listaHorarios_dia",children:[i.day,":"]}),ie("p",{className:"listaHorarios_hora",children:[i.time," HS"]})]}),$("button",{className:"listaHorarios_button",onClick:()=>{e(i.day,i.time)},children:"Seleccionar"})]})},a))})};const Sz=()=>{const{user:t}=Nn(),[e,n]=oe.exports.useState(),[r,i]=oe.exports.useState(),a=t.misClases.actualClass,l=t.misClases.teacherUid;let h=[];jn();async function _(k){const C=gn(),T=Pt(C,`Users/${k}`),L=(await VR(T)).data(),N=xr(C,`Users/${t.uid}/mySchedule`);return la(N).then(P=>{i(P.docs.map(I=>({id:I.id,...I.data()})))}),L}oe.exports.useEffect(()=>{_(l).then(k=>{const C={disponibility:k.disponibility,teacherWeek:k.weekDisponibility};n(C)})},[]);const g=(k,C)=>{const T=r[0],O=T[a];let L=new Date(O.year,O.month,O.day);const N=(Z,X)=>{Z.setDate(Z.getDate()+X)};let P=0,I=1,A=2,R=3,V=4,j=5,W=6;switch(L.getDay()){case 0:N(L,0);break;case 1:N(L,-1);break;case 2:N(L,-2);break;case 3:N(L,-3);break;case 4:N(L,-4);break;case 5:N(L,-5);break;case 6:N(L,-6);break}const B=(Z,X)=>{N(L,X);let le=L.getDate(),xe=L.getMonth(),$e=L.getFullYear(),Ee=parseInt(Z),tt=new Date($e,xe,le,Ee),fe=Z,me=parseInt(Z);me++,me=me.toString(),me=me+":00";let Ce=`${$e}-${xe+1}-${le} ${fe}`,ze=`${$e}-${xe+1}-${le} ${me}`;const Ye={condition:"pending",start_date:`${Ce}`,end_date:`${ze}`,date:tt,time:Z,day:le,month:xe,year:$e,dayNumber:X};({...Ye,text:`${t.form.name}${t.form.lastName}`},h={...Ye,text:`Profesor : ${t.form.teacherName}`}),N(L,-X)},K=(Z,X)=>{Z==="domingo"&&B(X,P),Z==="lunes"&&B(X,I),Z==="martes"&&B(X,A),Z==="miercoles"&&B(X,R),Z==="jueves"&&B(X,V),Z==="viernes"&&B(X,j),Z==="sabado"&&B(X,W)};N(L,7),K(k,C),T[a]=h;const Y=[];r.forEach(Z=>Object.keys(Z).forEach(X=>Y.push(Z[X]))),Y.pop(),Y.sort((Z,X)=>Z.start_date<X.start_date?-1:Z.start_date>X.start_date?1:0),Y.map(Z=>{({...Z,text:`${t.form.name}${t.form.lastName}`})})};if(e)return ie("div",{children:[ie("div",{className:"reprogramar_title",children:[$("h5",{children:"REPROGRAMAR CLASE"}),$("p",{children:"Aqui veras una lista de los horarios disponibles para reprogramar tu clase, recuerda que solo puedes hacer esto 2 veces por mes"})]}),$("div",{children:$(kz,{teacher:e,newDate:g})})]})},Cz=[{time:"00"},{time:"01"},{time:"02"},{time:"03"},{time:"04"},{time:"05"},{time:"06"},{time:"07"},{time:"08"},{time:"09"},{time:"10"},{time:"11"},{time:"12"},{time:"13"},{time:"14"},{time:"15"},{time:"16"},{time:"17"},{time:"18"},{time:"19"},{time:"20"},{time:"21"},{time:"22"},{time:"23"}];const Tz=()=>{function t(e){console.log(e)}return ie("div",{children:[ie("div",{className:"time-picker",children:[$("select",{className:"time-picker__select",onChange:e=>console.log(e.target.value),children:Cz.map((e,n)=>$("option",{value:e.time,children:e.time},n))}),":",$("select",{className:"time-picker__select",children:$("option",{value:"00",children:"00"})})]}),$(Np,{opt01:"opt01",opt02:"opt02",onToggle:t}),$(gC,{})]})};function Nz(){return $(Vn,{children:$(yD,{children:$(YR,{children:ie(JR,{children:[$(n$,{}),ie(mD,{children:[$(Qt,{path:"/dev",element:$(Tz,{})}),$(Qt,{path:"/",element:$(RU,{})}),$(Qt,{path:"/signIn",element:$(VU,{})}),$(Qt,{path:"/signUp",element:$(VV,{})}),$(Qt,{path:"/Admin",element:$(az,{})}),$(Qt,{path:"/Admin/CreateTeacherAccount",element:$(lz,{})}),$(Qt,{path:"/Admin/ProgramingClassesAsAdmin",element:$(fz,{})}),$(Qt,{path:"/Panel",element:$(iz,{})}),$(Qt,{path:"/Account/ReprogramClass",element:$(Sz,{})}),$(Qt,{path:"/Account/Teacher/MyStudents",element:$(mz,{})}),$(Qt,{path:"/MiCalendario",element:$(bz,{})}),$(Qt,{path:"/Checkout",element:$(mS,{})}),$(Qt,{path:"/MisNotificaciones",element:$(Ez,{})}),$(Qt,{path:"/account",element:$(zV,{children:$(KV,{})})}),$(Qt,{path:"/Alumn",element:$(HV,{children:$(vC,{})})}),$(Qt,{path:"/Teacher",element:$(BV,{children:$(yC,{})})}),$(Qt,{path:"*",element:$("h1",{children:"404"})})]}),$(jU,{})]})})})})}qf.createRoot(document.getElementById("root")).render($(ta.StrictMode,{children:$(Nz,{})}));
