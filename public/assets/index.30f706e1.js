(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerpolicy&&(a.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?a.credentials="include":i.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Mb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ae={exports:{}},lt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ec=Symbol.for("react.element"),$C=Symbol.for("react.portal"),FC=Symbol.for("react.fragment"),UC=Symbol.for("react.strict_mode"),jC=Symbol.for("react.profiler"),VC=Symbol.for("react.provider"),zC=Symbol.for("react.context"),HC=Symbol.for("react.forward_ref"),BC=Symbol.for("react.suspense"),qC=Symbol.for("react.memo"),WC=Symbol.for("react.lazy"),fv=Symbol.iterator;function GC(t){return t===null||typeof t!="object"?null:(t=fv&&t[fv]||t["@@iterator"],typeof t=="function"?t:null)}var Pb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Lb=Object.assign,Rb={};function to(t,e,n){this.props=t,this.context=e,this.refs=Rb,this.updater=n||Pb}to.prototype.isReactComponent={};to.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};to.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function $b(){}$b.prototype=to.prototype;function Up(t,e,n){this.props=t,this.context=e,this.refs=Rb,this.updater=n||Pb}var jp=Up.prototype=new $b;jp.constructor=Up;Lb(jp,to.prototype);jp.isPureReactComponent=!0;var _v=Array.isArray,Fb=Object.prototype.hasOwnProperty,Vp={current:null},Ub={key:!0,ref:!0,__self:!0,__source:!0};function jb(t,e,n){var r,i={},a=null,l=null;if(e!=null)for(r in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(a=""+e.key),e)Fb.call(e,r)&&!Ub.hasOwnProperty(r)&&(i[r]=e[r]);var h=arguments.length-2;if(h===1)i.children=n;else if(1<h){for(var f=Array(h),g=0;g<h;g++)f[g]=arguments[g+2];i.children=f}if(t&&t.defaultProps)for(r in h=t.defaultProps,h)i[r]===void 0&&(i[r]=h[r]);return{$$typeof:ec,type:t,key:a,ref:l,props:i,_owner:Vp.current}}function KC(t,e){return{$$typeof:ec,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function zp(t){return typeof t=="object"&&t!==null&&t.$$typeof===ec}function YC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var pv=/\/+/g;function Bh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?YC(""+t.key):e.toString(36)}function bu(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case ec:case $C:l=!0}}if(l)return l=t,i=i(l),t=r===""?"."+Bh(l,0):r,_v(i)?(n="",t!=null&&(n=t.replace(pv,"$&/")+"/"),bu(i,e,n,"",function(g){return g})):i!=null&&(zp(i)&&(i=KC(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(pv,"$&/")+"/")+t)),e.push(i)),1;if(l=0,r=r===""?".":r+":",_v(t))for(var h=0;h<t.length;h++){a=t[h];var f=r+Bh(a,h);l+=bu(a,e,n,f,i)}else if(f=GC(t),typeof f=="function")for(t=f.call(t),h=0;!(a=t.next()).done;)a=a.value,f=r+Bh(a,h++),l+=bu(a,e,n,f,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function zc(t,e,n){if(t==null)return t;var r=[],i=0;return bu(t,r,"","",function(a){return e.call(n,a,i++)}),r}function JC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Wn={current:null},wu={transition:null},QC={ReactCurrentDispatcher:Wn,ReactCurrentBatchConfig:wu,ReactCurrentOwner:Vp};lt.Children={map:zc,forEach:function(t,e,n){zc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return zc(t,function(){e++}),e},toArray:function(t){return zc(t,function(e){return e})||[]},only:function(t){if(!zp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};lt.Component=to;lt.Fragment=FC;lt.Profiler=jC;lt.PureComponent=Up;lt.StrictMode=UC;lt.Suspense=BC;lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QC;lt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Lb({},t.props),i=t.key,a=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,l=Vp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var h=t.type.defaultProps;for(f in e)Fb.call(e,f)&&!Ub.hasOwnProperty(f)&&(r[f]=e[f]===void 0&&h!==void 0?h[f]:e[f])}var f=arguments.length-2;if(f===1)r.children=n;else if(1<f){h=Array(f);for(var g=0;g<f;g++)h[g]=arguments[g+2];r.children=h}return{$$typeof:ec,type:t.type,key:i,ref:a,props:r,_owner:l}};lt.createContext=function(t){return t={$$typeof:zC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:VC,_context:t},t.Consumer=t};lt.createElement=jb;lt.createFactory=function(t){var e=jb.bind(null,t);return e.type=t,e};lt.createRef=function(){return{current:null}};lt.forwardRef=function(t){return{$$typeof:HC,render:t}};lt.isValidElement=zp;lt.lazy=function(t){return{$$typeof:WC,_payload:{_status:-1,_result:t},_init:JC}};lt.memo=function(t,e){return{$$typeof:qC,type:t,compare:e===void 0?null:e}};lt.startTransition=function(t){var e=wu.transition;wu.transition={};try{t()}finally{wu.transition=e}};lt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};lt.useCallback=function(t,e){return Wn.current.useCallback(t,e)};lt.useContext=function(t){return Wn.current.useContext(t)};lt.useDebugValue=function(){};lt.useDeferredValue=function(t){return Wn.current.useDeferredValue(t)};lt.useEffect=function(t,e){return Wn.current.useEffect(t,e)};lt.useId=function(){return Wn.current.useId()};lt.useImperativeHandle=function(t,e,n){return Wn.current.useImperativeHandle(t,e,n)};lt.useInsertionEffect=function(t,e){return Wn.current.useInsertionEffect(t,e)};lt.useLayoutEffect=function(t,e){return Wn.current.useLayoutEffect(t,e)};lt.useMemo=function(t,e){return Wn.current.useMemo(t,e)};lt.useReducer=function(t,e,n){return Wn.current.useReducer(t,e,n)};lt.useRef=function(t){return Wn.current.useRef(t)};lt.useState=function(t){return Wn.current.useState(t)};lt.useSyncExternalStore=function(t,e,n){return Wn.current.useSyncExternalStore(t,e,n)};lt.useTransition=function(){return Wn.current.useTransition()};lt.version="18.2.0";(function(t){t.exports=lt})(ae);const oa=Mb(ae.exports);var Kf={},Vb={exports:{}},_r={},zb={exports:{}},Hb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(fe,ge){var pe=fe.length;fe.push(ge);e:for(;0<pe;){var Fe=pe-1>>>1,Oe=fe[Fe];if(0<i(Oe,ge))fe[Fe]=ge,fe[pe]=Oe,pe=Fe;else break e}}function n(fe){return fe.length===0?null:fe[0]}function r(fe){if(fe.length===0)return null;var ge=fe[0],pe=fe.pop();if(pe!==ge){fe[0]=pe;e:for(var Fe=0,Oe=fe.length,rt=Oe>>>1;Fe<rt;){var xt=2*(Fe+1)-1,Ht=fe[xt],dt=xt+1,wt=fe[dt];if(0>i(Ht,pe))dt<Oe&&0>i(wt,Ht)?(fe[Fe]=wt,fe[dt]=pe,Fe=dt):(fe[Fe]=Ht,fe[xt]=pe,Fe=xt);else if(dt<Oe&&0>i(wt,pe))fe[Fe]=wt,fe[dt]=pe,Fe=dt;else break e}}return ge}function i(fe,ge){var pe=fe.sortIndex-ge.sortIndex;return pe!==0?pe:fe.id-ge.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,h=l.now();t.unstable_now=function(){return l.now()-h}}var f=[],g=[],E=1,T=null,C=3,A=!1,L=!1,N=!1,R=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $(fe){for(var ge=n(g);ge!==null;){if(ge.callback===null)r(g);else if(ge.startTime<=fe)r(g),ge.sortIndex=ge.expirationTime,e(f,ge);else break;ge=n(g)}}function F(fe){if(N=!1,$(fe),!L)if(n(f)!==null)L=!0,xe(j);else{var ge=n(g);ge!==null&&Ge(F,ge.startTime-fe)}}function j(fe,ge){L=!1,N&&(N=!1,O(H),H=-1),A=!0;var pe=C;try{for($(ge),T=n(f);T!==null&&(!(T.expirationTime>ge)||fe&&!te());){var Fe=T.callback;if(typeof Fe=="function"){T.callback=null,C=T.priorityLevel;var Oe=Fe(T.expirationTime<=ge);ge=t.unstable_now(),typeof Oe=="function"?T.callback=Oe:T===n(f)&&r(f),$(ge)}else r(f);T=n(f)}if(T!==null)var rt=!0;else{var xt=n(g);xt!==null&&Ge(F,xt.startTime-ge),rt=!1}return rt}finally{T=null,C=pe,A=!1}}var B=!1,z=null,H=-1,W=5,Y=-1;function te(){return!(t.unstable_now()-Y<W)}function Z(){if(z!==null){var fe=t.unstable_now();Y=fe;var ge=!0;try{ge=z(!0,fe)}finally{ge?le():(B=!1,z=null)}}else B=!1}var le;if(typeof I=="function")le=function(){I(Z)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,ke=he.port2;he.port1.onmessage=Z,le=function(){ke.postMessage(null)}}else le=function(){R(Z,0)};function xe(fe){z=fe,B||(B=!0,le())}function Ge(fe,ge){H=R(function(){fe(t.unstable_now())},ge)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(fe){fe.callback=null},t.unstable_continueExecution=function(){L||A||(L=!0,xe(j))},t.unstable_forceFrameRate=function(fe){0>fe||125<fe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<fe?Math.floor(1e3/fe):5},t.unstable_getCurrentPriorityLevel=function(){return C},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(fe){switch(C){case 1:case 2:case 3:var ge=3;break;default:ge=C}var pe=C;C=ge;try{return fe()}finally{C=pe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(fe,ge){switch(fe){case 1:case 2:case 3:case 4:case 5:break;default:fe=3}var pe=C;C=fe;try{return ge()}finally{C=pe}},t.unstable_scheduleCallback=function(fe,ge,pe){var Fe=t.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Fe+pe:Fe):pe=Fe,fe){case 1:var Oe=-1;break;case 2:Oe=250;break;case 5:Oe=1073741823;break;case 4:Oe=1e4;break;default:Oe=5e3}return Oe=pe+Oe,fe={id:E++,callback:ge,priorityLevel:fe,startTime:pe,expirationTime:Oe,sortIndex:-1},pe>Fe?(fe.sortIndex=pe,e(g,fe),n(f)===null&&fe===n(g)&&(N?(O(H),H=-1):N=!0,Ge(F,pe-Fe))):(fe.sortIndex=Oe,e(f,fe),L||A||(L=!0,xe(j))),fe},t.unstable_shouldYield=te,t.unstable_wrapCallback=function(fe){var ge=C;return function(){var pe=C;C=ge;try{return fe.apply(this,arguments)}finally{C=pe}}}})(Hb);(function(t){t.exports=Hb})(zb);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bb=ae.exports,hr=zb.exports;function ve(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qb=new Set,fl={};function ns(t,e){Fs(t,e),Fs(t+"Capture",e)}function Fs(t,e){for(fl[t]=e,t=0;t<e.length;t++)qb.add(e[t])}var pi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yf=Object.prototype.hasOwnProperty,XC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mv={},gv={};function ZC(t){return Yf.call(gv,t)?!0:Yf.call(mv,t)?!1:XC.test(t)?gv[t]=!0:(mv[t]=!0,!1)}function eT(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function tT(t,e,n,r){if(e===null||typeof e>"u"||eT(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Gn(t,e,n,r,i,a,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=l}var bn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){bn[t]=new Gn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];bn[e]=new Gn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){bn[t]=new Gn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){bn[t]=new Gn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){bn[t]=new Gn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){bn[t]=new Gn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){bn[t]=new Gn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){bn[t]=new Gn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){bn[t]=new Gn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Hp=/[\-:]([a-z])/g;function Bp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Hp,Bp);bn[e]=new Gn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Hp,Bp);bn[e]=new Gn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Hp,Bp);bn[e]=new Gn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){bn[t]=new Gn(t,1,!1,t.toLowerCase(),null,!1,!1)});bn.xlinkHref=new Gn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){bn[t]=new Gn(t,1,!1,t.toLowerCase(),null,!0,!0)});function qp(t,e,n,r){var i=bn.hasOwnProperty(e)?bn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(tT(e,n,i,r)&&(n=null),r||i===null?ZC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ti=Bb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Hc=Symbol.for("react.element"),fs=Symbol.for("react.portal"),_s=Symbol.for("react.fragment"),Wp=Symbol.for("react.strict_mode"),Jf=Symbol.for("react.profiler"),Wb=Symbol.for("react.provider"),Gb=Symbol.for("react.context"),Gp=Symbol.for("react.forward_ref"),Qf=Symbol.for("react.suspense"),Xf=Symbol.for("react.suspense_list"),Kp=Symbol.for("react.memo"),Li=Symbol.for("react.lazy"),Kb=Symbol.for("react.offscreen"),vv=Symbol.iterator;function wo(t){return t===null||typeof t!="object"?null:(t=vv&&t[vv]||t["@@iterator"],typeof t=="function"?t:null)}var $t=Object.assign,qh;function Ro(t){if(qh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);qh=e&&e[1]||""}return`
`+qh+t}var Wh=!1;function Gh(t,e){if(!t||Wh)return"";Wh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(g){var r=g}Reflect.construct(t,[],e)}else{try{e.call()}catch(g){r=g}t.call(e.prototype)}else{try{throw Error()}catch(g){r=g}t()}}catch(g){if(g&&r&&typeof g.stack=="string"){for(var i=g.stack.split(`
`),a=r.stack.split(`
`),l=i.length-1,h=a.length-1;1<=l&&0<=h&&i[l]!==a[h];)h--;for(;1<=l&&0<=h;l--,h--)if(i[l]!==a[h]){if(l!==1||h!==1)do if(l--,h--,0>h||i[l]!==a[h]){var f=`
`+i[l].replace(" at new "," at ");return t.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",t.displayName)),f}while(1<=l&&0<=h);break}}}finally{Wh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ro(t):""}function nT(t){switch(t.tag){case 5:return Ro(t.type);case 16:return Ro("Lazy");case 13:return Ro("Suspense");case 19:return Ro("SuspenseList");case 0:case 2:case 15:return t=Gh(t.type,!1),t;case 11:return t=Gh(t.type.render,!1),t;case 1:return t=Gh(t.type,!0),t;default:return""}}function Zf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _s:return"Fragment";case fs:return"Portal";case Jf:return"Profiler";case Wp:return"StrictMode";case Qf:return"Suspense";case Xf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Gb:return(t.displayName||"Context")+".Consumer";case Wb:return(t._context.displayName||"Context")+".Provider";case Gp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Kp:return e=t.displayName||null,e!==null?e:Zf(t.type)||"Memo";case Li:e=t._payload,t=t._init;try{return Zf(t(e))}catch{}}return null}function rT(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zf(e);case 8:return e===Wp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function la(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Yb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function iT(t){var e=Yb(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(l){r=""+l,a.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Bc(t){t._valueTracker||(t._valueTracker=iT(t))}function Jb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Yb(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Hu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function e_(t,e){var n=e.checked;return $t({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function yv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=la(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Qb(t,e){e=e.checked,e!=null&&qp(t,"checked",e,!1)}function t_(t,e){Qb(t,e);var n=la(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?n_(t,e.type,n):e.hasOwnProperty("defaultValue")&&n_(t,e.type,la(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function bv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function n_(t,e,n){(e!=="number"||Hu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var $o=Array.isArray;function Ts(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+la(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function r_(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ve(91));return $t({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function wv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ve(92));if($o(n)){if(1<n.length)throw Error(ve(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:la(n)}}function Xb(t,e){var n=la(e.value),r=la(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function xv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Zb(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function i_(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Zb(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var qc,ew=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(qc=qc||document.createElement("div"),qc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=qc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function _l(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Go={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},aT=["Webkit","ms","Moz","O"];Object.keys(Go).forEach(function(t){aT.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Go[e]=Go[t]})});function tw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Go.hasOwnProperty(t)&&Go[t]?(""+e).trim():e+"px"}function nw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=tw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var sT=$t({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function a_(t,e){if(e){if(sT[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ve(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ve(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ve(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ve(62))}}function s_(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var o_=null;function Yp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var l_=null,Ns=null,Ds=null;function Ev(t){if(t=rc(t)){if(typeof l_!="function")throw Error(ve(280));var e=t.stateNode;e&&(e=Bd(e),l_(t.stateNode,t.type,e))}}function rw(t){Ns?Ds?Ds.push(t):Ds=[t]:Ns=t}function iw(){if(Ns){var t=Ns,e=Ds;if(Ds=Ns=null,Ev(t),e)for(t=0;t<e.length;t++)Ev(e[t])}}function aw(t,e){return t(e)}function sw(){}var Kh=!1;function ow(t,e,n){if(Kh)return t(e,n);Kh=!0;try{return aw(t,e,n)}finally{Kh=!1,(Ns!==null||Ds!==null)&&(sw(),iw())}}function pl(t,e){var n=t.stateNode;if(n===null)return null;var r=Bd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ve(231,e,typeof n));return n}var c_=!1;if(pi)try{var xo={};Object.defineProperty(xo,"passive",{get:function(){c_=!0}}),window.addEventListener("test",xo,xo),window.removeEventListener("test",xo,xo)}catch{c_=!1}function oT(t,e,n,r,i,a,l,h,f){var g=Array.prototype.slice.call(arguments,3);try{e.apply(n,g)}catch(E){this.onError(E)}}var Ko=!1,Bu=null,qu=!1,u_=null,lT={onError:function(t){Ko=!0,Bu=t}};function cT(t,e,n,r,i,a,l,h,f){Ko=!1,Bu=null,oT.apply(lT,arguments)}function uT(t,e,n,r,i,a,l,h,f){if(cT.apply(this,arguments),Ko){if(Ko){var g=Bu;Ko=!1,Bu=null}else throw Error(ve(198));qu||(qu=!0,u_=g)}}function rs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function lw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Sv(t){if(rs(t)!==t)throw Error(ve(188))}function dT(t){var e=t.alternate;if(!e){if(e=rs(t),e===null)throw Error(ve(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Sv(i),t;if(a===r)return Sv(i),e;a=a.sibling}throw Error(ve(188))}if(n.return!==r.return)n=i,r=a;else{for(var l=!1,h=i.child;h;){if(h===n){l=!0,n=i,r=a;break}if(h===r){l=!0,r=i,n=a;break}h=h.sibling}if(!l){for(h=a.child;h;){if(h===n){l=!0,n=a,r=i;break}if(h===r){l=!0,r=a,n=i;break}h=h.sibling}if(!l)throw Error(ve(189))}}if(n.alternate!==r)throw Error(ve(190))}if(n.tag!==3)throw Error(ve(188));return n.stateNode.current===n?t:e}function cw(t){return t=dT(t),t!==null?uw(t):null}function uw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=uw(t);if(e!==null)return e;t=t.sibling}return null}var dw=hr.unstable_scheduleCallback,kv=hr.unstable_cancelCallback,hT=hr.unstable_shouldYield,fT=hr.unstable_requestPaint,zt=hr.unstable_now,_T=hr.unstable_getCurrentPriorityLevel,Jp=hr.unstable_ImmediatePriority,hw=hr.unstable_UserBlockingPriority,Wu=hr.unstable_NormalPriority,pT=hr.unstable_LowPriority,fw=hr.unstable_IdlePriority,jd=null,Gr=null;function mT(t){if(Gr&&typeof Gr.onCommitFiberRoot=="function")try{Gr.onCommitFiberRoot(jd,t,void 0,(t.current.flags&128)===128)}catch{}}var $r=Math.clz32?Math.clz32:yT,gT=Math.log,vT=Math.LN2;function yT(t){return t>>>=0,t===0?32:31-(gT(t)/vT|0)|0}var Wc=64,Gc=4194304;function Fo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Gu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,l=n&268435455;if(l!==0){var h=l&~i;h!==0?r=Fo(h):(a&=l,a!==0&&(r=Fo(a)))}else l=n&~i,l!==0?r=Fo(l):a!==0&&(r=Fo(a));if(r===0)return 0;if(e!==0&&e!==r&&(e&i)===0&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if((r&4)!==0&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-$r(e),i=1<<n,r|=t[n],e&=~i;return r}function bT(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wT(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var l=31-$r(a),h=1<<l,f=i[l];f===-1?((h&n)===0||(h&r)!==0)&&(i[l]=bT(h,e)):f<=e&&(t.expiredLanes|=h),a&=~h}}function d_(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function _w(){var t=Wc;return Wc<<=1,(Wc&4194240)===0&&(Wc=64),t}function Yh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function tc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-$r(e),t[e]=n}function xT(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-$r(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function Qp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-$r(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var yt=0;function pw(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var mw,Xp,gw,vw,yw,h_=!1,Kc=[],Ki=null,Yi=null,Ji=null,ml=new Map,gl=new Map,Fi=[],ET="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cv(t,e){switch(t){case"focusin":case"focusout":Ki=null;break;case"dragenter":case"dragleave":Yi=null;break;case"mouseover":case"mouseout":Ji=null;break;case"pointerover":case"pointerout":ml.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":gl.delete(e.pointerId)}}function Eo(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=rc(e),e!==null&&Xp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function ST(t,e,n,r,i){switch(e){case"focusin":return Ki=Eo(Ki,t,e,n,r,i),!0;case"dragenter":return Yi=Eo(Yi,t,e,n,r,i),!0;case"mouseover":return Ji=Eo(Ji,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return ml.set(a,Eo(ml.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,gl.set(a,Eo(gl.get(a)||null,t,e,n,r,i)),!0}return!1}function bw(t){var e=Ta(t.target);if(e!==null){var n=rs(e);if(n!==null){if(e=n.tag,e===13){if(e=lw(n),e!==null){t.blockedOn=e,yw(t.priority,function(){gw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=f_(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);o_=r,n.target.dispatchEvent(r),o_=null}else return e=rc(n),e!==null&&Xp(e),t.blockedOn=n,!1;e.shift()}return!0}function Tv(t,e,n){xu(t)&&n.delete(e)}function kT(){h_=!1,Ki!==null&&xu(Ki)&&(Ki=null),Yi!==null&&xu(Yi)&&(Yi=null),Ji!==null&&xu(Ji)&&(Ji=null),ml.forEach(Tv),gl.forEach(Tv)}function So(t,e){t.blockedOn===e&&(t.blockedOn=null,h_||(h_=!0,hr.unstable_scheduleCallback(hr.unstable_NormalPriority,kT)))}function vl(t){function e(i){return So(i,t)}if(0<Kc.length){So(Kc[0],t);for(var n=1;n<Kc.length;n++){var r=Kc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ki!==null&&So(Ki,t),Yi!==null&&So(Yi,t),Ji!==null&&So(Ji,t),ml.forEach(e),gl.forEach(e),n=0;n<Fi.length;n++)r=Fi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Fi.length&&(n=Fi[0],n.blockedOn===null);)bw(n),n.blockedOn===null&&Fi.shift()}var As=Ti.ReactCurrentBatchConfig,Ku=!0;function CT(t,e,n,r){var i=yt,a=As.transition;As.transition=null;try{yt=1,Zp(t,e,n,r)}finally{yt=i,As.transition=a}}function TT(t,e,n,r){var i=yt,a=As.transition;As.transition=null;try{yt=4,Zp(t,e,n,r)}finally{yt=i,As.transition=a}}function Zp(t,e,n,r){if(Ku){var i=f_(t,e,n,r);if(i===null)sf(t,e,r,Yu,n),Cv(t,r);else if(ST(i,t,e,n,r))r.stopPropagation();else if(Cv(t,r),e&4&&-1<ET.indexOf(t)){for(;i!==null;){var a=rc(i);if(a!==null&&mw(a),a=f_(t,e,n,r),a===null&&sf(t,e,r,Yu,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else sf(t,e,r,null,n)}}var Yu=null;function f_(t,e,n,r){if(Yu=null,t=Yp(r),t=Ta(t),t!==null)if(e=rs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=lw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Yu=t,null}function ww(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_T()){case Jp:return 1;case hw:return 4;case Wu:case pT:return 16;case fw:return 536870912;default:return 16}default:return 16}}var Bi=null,em=null,Eu=null;function xw(){if(Eu)return Eu;var t,e=em,n=e.length,r,i="value"in Bi?Bi.value:Bi.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var l=n-t;for(r=1;r<=l&&e[n-r]===i[a-r];r++);return Eu=i.slice(t,1<r?1-r:void 0)}function Su(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Yc(){return!0}function Nv(){return!1}function pr(t){function e(n,r,i,a,l){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=l,this.currentTarget=null;for(var h in t)t.hasOwnProperty(h)&&(n=t[h],this[h]=n?n(a):a[h]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Yc:Nv,this.isPropagationStopped=Nv,this}return $t(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Yc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Yc)},persist:function(){},isPersistent:Yc}),e}var no={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tm=pr(no),nc=$t({},no,{view:0,detail:0}),NT=pr(nc),Jh,Qh,ko,Vd=$t({},nc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ko&&(ko&&t.type==="mousemove"?(Jh=t.screenX-ko.screenX,Qh=t.screenY-ko.screenY):Qh=Jh=0,ko=t),Jh)},movementY:function(t){return"movementY"in t?t.movementY:Qh}}),Dv=pr(Vd),DT=$t({},Vd,{dataTransfer:0}),AT=pr(DT),IT=$t({},nc,{relatedTarget:0}),Xh=pr(IT),OT=$t({},no,{animationName:0,elapsedTime:0,pseudoElement:0}),MT=pr(OT),PT=$t({},no,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),LT=pr(PT),RT=$t({},no,{data:0}),Av=pr(RT),$T={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},UT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jT(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=UT[t])?!!e[t]:!1}function nm(){return jT}var VT=$t({},nc,{key:function(t){if(t.key){var e=$T[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Su(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?FT[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nm,charCode:function(t){return t.type==="keypress"?Su(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Su(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zT=pr(VT),HT=$t({},Vd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Iv=pr(HT),BT=$t({},nc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nm}),qT=pr(BT),WT=$t({},no,{propertyName:0,elapsedTime:0,pseudoElement:0}),GT=pr(WT),KT=$t({},Vd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),YT=pr(KT),JT=[9,13,27,32],rm=pi&&"CompositionEvent"in window,Yo=null;pi&&"documentMode"in document&&(Yo=document.documentMode);var QT=pi&&"TextEvent"in window&&!Yo,Ew=pi&&(!rm||Yo&&8<Yo&&11>=Yo),Ov=String.fromCharCode(32),Mv=!1;function Sw(t,e){switch(t){case"keyup":return JT.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ps=!1;function XT(t,e){switch(t){case"compositionend":return kw(e);case"keypress":return e.which!==32?null:(Mv=!0,Ov);case"textInput":return t=e.data,t===Ov&&Mv?null:t;default:return null}}function ZT(t,e){if(ps)return t==="compositionend"||!rm&&Sw(t,e)?(t=xw(),Eu=em=Bi=null,ps=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ew&&e.locale!=="ko"?null:e.data;default:return null}}var eN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!eN[t.type]:e==="textarea"}function Cw(t,e,n,r){rw(r),e=Ju(e,"onChange"),0<e.length&&(n=new tm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Jo=null,yl=null;function tN(t){$w(t,0)}function zd(t){var e=vs(t);if(Jb(e))return t}function nN(t,e){if(t==="change")return e}var Tw=!1;if(pi){var Zh;if(pi){var ef="oninput"in document;if(!ef){var Lv=document.createElement("div");Lv.setAttribute("oninput","return;"),ef=typeof Lv.oninput=="function"}Zh=ef}else Zh=!1;Tw=Zh&&(!document.documentMode||9<document.documentMode)}function Rv(){Jo&&(Jo.detachEvent("onpropertychange",Nw),yl=Jo=null)}function Nw(t){if(t.propertyName==="value"&&zd(yl)){var e=[];Cw(e,yl,t,Yp(t)),ow(tN,e)}}function rN(t,e,n){t==="focusin"?(Rv(),Jo=e,yl=n,Jo.attachEvent("onpropertychange",Nw)):t==="focusout"&&Rv()}function iN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zd(yl)}function aN(t,e){if(t==="click")return zd(e)}function sN(t,e){if(t==="input"||t==="change")return zd(e)}function oN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ur=typeof Object.is=="function"?Object.is:oN;function bl(t,e){if(Ur(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Yf.call(e,i)||!Ur(t[i],e[i]))return!1}return!0}function $v(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Fv(t,e){var n=$v(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=$v(n)}}function Dw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Dw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Aw(){for(var t=window,e=Hu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Hu(t.document)}return e}function im(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function lN(t){var e=Aw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Dw(n.ownerDocument.documentElement,n)){if(r!==null&&im(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=Fv(n,a);var l=Fv(n,r);i&&l&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var cN=pi&&"documentMode"in document&&11>=document.documentMode,ms=null,__=null,Qo=null,p_=!1;function Uv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;p_||ms==null||ms!==Hu(r)||(r=ms,"selectionStart"in r&&im(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Qo&&bl(Qo,r)||(Qo=r,r=Ju(__,"onSelect"),0<r.length&&(e=new tm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ms)))}function Jc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var gs={animationend:Jc("Animation","AnimationEnd"),animationiteration:Jc("Animation","AnimationIteration"),animationstart:Jc("Animation","AnimationStart"),transitionend:Jc("Transition","TransitionEnd")},tf={},Iw={};pi&&(Iw=document.createElement("div").style,"AnimationEvent"in window||(delete gs.animationend.animation,delete gs.animationiteration.animation,delete gs.animationstart.animation),"TransitionEvent"in window||delete gs.transitionend.transition);function Hd(t){if(tf[t])return tf[t];if(!gs[t])return t;var e=gs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Iw)return tf[t]=e[n];return t}var Ow=Hd("animationend"),Mw=Hd("animationiteration"),Pw=Hd("animationstart"),Lw=Hd("transitionend"),Rw=new Map,jv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fa(t,e){Rw.set(t,e),ns(e,[t])}for(var nf=0;nf<jv.length;nf++){var rf=jv[nf],uN=rf.toLowerCase(),dN=rf[0].toUpperCase()+rf.slice(1);fa(uN,"on"+dN)}fa(Ow,"onAnimationEnd");fa(Mw,"onAnimationIteration");fa(Pw,"onAnimationStart");fa("dblclick","onDoubleClick");fa("focusin","onFocus");fa("focusout","onBlur");fa(Lw,"onTransitionEnd");Fs("onMouseEnter",["mouseout","mouseover"]);Fs("onMouseLeave",["mouseout","mouseover"]);Fs("onPointerEnter",["pointerout","pointerover"]);Fs("onPointerLeave",["pointerout","pointerover"]);ns("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ns("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ns("onBeforeInput",["compositionend","keypress","textInput","paste"]);ns("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ns("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ns("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hN=new Set("cancel close invalid load scroll toggle".split(" ").concat(Uo));function Vv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,uT(r,e,void 0,t),t.currentTarget=null}function $w(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var l=r.length-1;0<=l;l--){var h=r[l],f=h.instance,g=h.currentTarget;if(h=h.listener,f!==a&&i.isPropagationStopped())break e;Vv(i,h,g),a=f}else for(l=0;l<r.length;l++){if(h=r[l],f=h.instance,g=h.currentTarget,h=h.listener,f!==a&&i.isPropagationStopped())break e;Vv(i,h,g),a=f}}}if(qu)throw t=u_,qu=!1,u_=null,t}function Tt(t,e){var n=e[b_];n===void 0&&(n=e[b_]=new Set);var r=t+"__bubble";n.has(r)||(Fw(e,t,2,!1),n.add(r))}function af(t,e,n){var r=0;e&&(r|=4),Fw(n,t,r,e)}var Qc="_reactListening"+Math.random().toString(36).slice(2);function wl(t){if(!t[Qc]){t[Qc]=!0,qb.forEach(function(n){n!=="selectionchange"&&(hN.has(n)||af(n,!1,t),af(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Qc]||(e[Qc]=!0,af("selectionchange",!1,e))}}function Fw(t,e,n,r){switch(ww(e)){case 1:var i=CT;break;case 4:i=TT;break;default:i=Zp}n=i.bind(null,e,n,t),i=void 0,!c_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function sf(t,e,n,r,i){var a=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var h=r.stateNode.containerInfo;if(h===i||h.nodeType===8&&h.parentNode===i)break;if(l===4)for(l=r.return;l!==null;){var f=l.tag;if((f===3||f===4)&&(f=l.stateNode.containerInfo,f===i||f.nodeType===8&&f.parentNode===i))return;l=l.return}for(;h!==null;){if(l=Ta(h),l===null)return;if(f=l.tag,f===5||f===6){r=a=l;continue e}h=h.parentNode}}r=r.return}ow(function(){var g=a,E=Yp(n),T=[];e:{var C=Rw.get(t);if(C!==void 0){var A=tm,L=t;switch(t){case"keypress":if(Su(n)===0)break e;case"keydown":case"keyup":A=zT;break;case"focusin":L="focus",A=Xh;break;case"focusout":L="blur",A=Xh;break;case"beforeblur":case"afterblur":A=Xh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":A=Dv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":A=AT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":A=qT;break;case Ow:case Mw:case Pw:A=MT;break;case Lw:A=GT;break;case"scroll":A=NT;break;case"wheel":A=YT;break;case"copy":case"cut":case"paste":A=LT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":A=Iv}var N=(e&4)!==0,R=!N&&t==="scroll",O=N?C!==null?C+"Capture":null:C;N=[];for(var I=g,$;I!==null;){$=I;var F=$.stateNode;if($.tag===5&&F!==null&&($=F,O!==null&&(F=pl(I,O),F!=null&&N.push(xl(I,F,$)))),R)break;I=I.return}0<N.length&&(C=new A(C,L,null,n,E),T.push({event:C,listeners:N}))}}if((e&7)===0){e:{if(C=t==="mouseover"||t==="pointerover",A=t==="mouseout"||t==="pointerout",C&&n!==o_&&(L=n.relatedTarget||n.fromElement)&&(Ta(L)||L[mi]))break e;if((A||C)&&(C=E.window===E?E:(C=E.ownerDocument)?C.defaultView||C.parentWindow:window,A?(L=n.relatedTarget||n.toElement,A=g,L=L?Ta(L):null,L!==null&&(R=rs(L),L!==R||L.tag!==5&&L.tag!==6)&&(L=null)):(A=null,L=g),A!==L)){if(N=Dv,F="onMouseLeave",O="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(N=Iv,F="onPointerLeave",O="onPointerEnter",I="pointer"),R=A==null?C:vs(A),$=L==null?C:vs(L),C=new N(F,I+"leave",A,n,E),C.target=R,C.relatedTarget=$,F=null,Ta(E)===g&&(N=new N(O,I+"enter",L,n,E),N.target=$,N.relatedTarget=R,F=N),R=F,A&&L)t:{for(N=A,O=L,I=0,$=N;$;$=cs($))I++;for($=0,F=O;F;F=cs(F))$++;for(;0<I-$;)N=cs(N),I--;for(;0<$-I;)O=cs(O),$--;for(;I--;){if(N===O||O!==null&&N===O.alternate)break t;N=cs(N),O=cs(O)}N=null}else N=null;A!==null&&zv(T,C,A,N,!1),L!==null&&R!==null&&zv(T,R,L,N,!0)}}e:{if(C=g?vs(g):window,A=C.nodeName&&C.nodeName.toLowerCase(),A==="select"||A==="input"&&C.type==="file")var j=nN;else if(Pv(C))if(Tw)j=sN;else{j=iN;var B=rN}else(A=C.nodeName)&&A.toLowerCase()==="input"&&(C.type==="checkbox"||C.type==="radio")&&(j=aN);if(j&&(j=j(t,g))){Cw(T,j,n,E);break e}B&&B(t,C,g),t==="focusout"&&(B=C._wrapperState)&&B.controlled&&C.type==="number"&&n_(C,"number",C.value)}switch(B=g?vs(g):window,t){case"focusin":(Pv(B)||B.contentEditable==="true")&&(ms=B,__=g,Qo=null);break;case"focusout":Qo=__=ms=null;break;case"mousedown":p_=!0;break;case"contextmenu":case"mouseup":case"dragend":p_=!1,Uv(T,n,E);break;case"selectionchange":if(cN)break;case"keydown":case"keyup":Uv(T,n,E)}var z;if(rm)e:{switch(t){case"compositionstart":var H="onCompositionStart";break e;case"compositionend":H="onCompositionEnd";break e;case"compositionupdate":H="onCompositionUpdate";break e}H=void 0}else ps?Sw(t,n)&&(H="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(H="onCompositionStart");H&&(Ew&&n.locale!=="ko"&&(ps||H!=="onCompositionStart"?H==="onCompositionEnd"&&ps&&(z=xw()):(Bi=E,em="value"in Bi?Bi.value:Bi.textContent,ps=!0)),B=Ju(g,H),0<B.length&&(H=new Av(H,t,null,n,E),T.push({event:H,listeners:B}),z?H.data=z:(z=kw(n),z!==null&&(H.data=z)))),(z=QT?XT(t,n):ZT(t,n))&&(g=Ju(g,"onBeforeInput"),0<g.length&&(E=new Av("onBeforeInput","beforeinput",null,n,E),T.push({event:E,listeners:g}),E.data=z))}$w(T,e)})}function xl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ju(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=pl(t,n),a!=null&&r.unshift(xl(t,a,i)),a=pl(t,e),a!=null&&r.push(xl(t,a,i))),t=t.return}return r}function cs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function zv(t,e,n,r,i){for(var a=e._reactName,l=[];n!==null&&n!==r;){var h=n,f=h.alternate,g=h.stateNode;if(f!==null&&f===r)break;h.tag===5&&g!==null&&(h=g,i?(f=pl(n,a),f!=null&&l.unshift(xl(n,f,h))):i||(f=pl(n,a),f!=null&&l.push(xl(n,f,h)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var fN=/\r\n?/g,_N=/\u0000|\uFFFD/g;function Hv(t){return(typeof t=="string"?t:""+t).replace(fN,`
`).replace(_N,"")}function Xc(t,e,n){if(e=Hv(e),Hv(t)!==e&&n)throw Error(ve(425))}function Qu(){}var m_=null,g_=null;function v_(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var y_=typeof setTimeout=="function"?setTimeout:void 0,pN=typeof clearTimeout=="function"?clearTimeout:void 0,Bv=typeof Promise=="function"?Promise:void 0,mN=typeof queueMicrotask=="function"?queueMicrotask:typeof Bv<"u"?function(t){return Bv.resolve(null).then(t).catch(gN)}:y_;function gN(t){setTimeout(function(){throw t})}function of(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),vl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);vl(e)}function Qi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function qv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ro=Math.random().toString(36).slice(2),Wr="__reactFiber$"+ro,El="__reactProps$"+ro,mi="__reactContainer$"+ro,b_="__reactEvents$"+ro,vN="__reactListeners$"+ro,yN="__reactHandles$"+ro;function Ta(t){var e=t[Wr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[mi]||n[Wr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=qv(t);t!==null;){if(n=t[Wr])return n;t=qv(t)}return e}t=n,n=t.parentNode}return null}function rc(t){return t=t[Wr]||t[mi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function vs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ve(33))}function Bd(t){return t[El]||null}var w_=[],ys=-1;function _a(t){return{current:t}}function At(t){0>ys||(t.current=w_[ys],w_[ys]=null,ys--)}function St(t,e){ys++,w_[ys]=t.current,t.current=e}var ca={},On=_a(ca),tr=_a(!1),ja=ca;function Us(t,e){var n=t.type.contextTypes;if(!n)return ca;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function nr(t){return t=t.childContextTypes,t!=null}function Xu(){At(tr),At(On)}function Wv(t,e,n){if(On.current!==ca)throw Error(ve(168));St(On,e),St(tr,n)}function Uw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ve(108,rT(t)||"Unknown",i));return $t({},n,r)}function Zu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ca,ja=On.current,St(On,t),St(tr,tr.current),!0}function Gv(t,e,n){var r=t.stateNode;if(!r)throw Error(ve(169));n?(t=Uw(t,e,ja),r.__reactInternalMemoizedMergedChildContext=t,At(tr),At(On),St(On,t)):At(tr),St(tr,n)}var ri=null,qd=!1,lf=!1;function jw(t){ri===null?ri=[t]:ri.push(t)}function bN(t){qd=!0,jw(t)}function pa(){if(!lf&&ri!==null){lf=!0;var t=0,e=yt;try{var n=ri;for(yt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ri=null,qd=!1}catch(i){throw ri!==null&&(ri=ri.slice(t+1)),dw(Jp,pa),i}finally{yt=e,lf=!1}}return null}var bs=[],ws=0,ed=null,td=0,yr=[],br=0,Va=null,ai=1,si="";function Ea(t,e){bs[ws++]=td,bs[ws++]=ed,ed=t,td=e}function Vw(t,e,n){yr[br++]=ai,yr[br++]=si,yr[br++]=Va,Va=t;var r=ai;t=si;var i=32-$r(r)-1;r&=~(1<<i),n+=1;var a=32-$r(e)+i;if(30<a){var l=i-i%5;a=(r&(1<<l)-1).toString(32),r>>=l,i-=l,ai=1<<32-$r(e)+i|n<<i|r,si=a+t}else ai=1<<a|n<<i|r,si=t}function am(t){t.return!==null&&(Ea(t,1),Vw(t,1,0))}function sm(t){for(;t===ed;)ed=bs[--ws],bs[ws]=null,td=bs[--ws],bs[ws]=null;for(;t===Va;)Va=yr[--br],yr[br]=null,si=yr[--br],yr[br]=null,ai=yr[--br],yr[br]=null}var cr=null,lr=null,It=!1,Lr=null;function zw(t,e){var n=xr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Kv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,cr=t,lr=Qi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,cr=t,lr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Va!==null?{id:ai,overflow:si}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=xr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,cr=t,lr=null,!0):!1;default:return!1}}function x_(t){return(t.mode&1)!==0&&(t.flags&128)===0}function E_(t){if(It){var e=lr;if(e){var n=e;if(!Kv(t,e)){if(x_(t))throw Error(ve(418));e=Qi(n.nextSibling);var r=cr;e&&Kv(t,e)?zw(r,n):(t.flags=t.flags&-4097|2,It=!1,cr=t)}}else{if(x_(t))throw Error(ve(418));t.flags=t.flags&-4097|2,It=!1,cr=t}}}function Yv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;cr=t}function Zc(t){if(t!==cr)return!1;if(!It)return Yv(t),It=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!v_(t.type,t.memoizedProps)),e&&(e=lr)){if(x_(t))throw Hw(),Error(ve(418));for(;e;)zw(t,e),e=Qi(e.nextSibling)}if(Yv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ve(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){lr=Qi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}lr=null}}else lr=cr?Qi(t.stateNode.nextSibling):null;return!0}function Hw(){for(var t=lr;t;)t=Qi(t.nextSibling)}function js(){lr=cr=null,It=!1}function om(t){Lr===null?Lr=[t]:Lr.push(t)}var wN=Ti.ReactCurrentBatchConfig;function Mr(t,e){if(t&&t.defaultProps){e=$t({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var nd=_a(null),rd=null,xs=null,lm=null;function cm(){lm=xs=rd=null}function um(t){var e=nd.current;At(nd),t._currentValue=e}function S_(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Is(t,e){rd=t,lm=xs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(er=!0),t.firstContext=null)}function Tr(t){var e=t._currentValue;if(lm!==t)if(t={context:t,memoizedValue:e,next:null},xs===null){if(rd===null)throw Error(ve(308));xs=t,rd.dependencies={lanes:0,firstContext:t}}else xs=xs.next=t;return e}var Na=null;function dm(t){Na===null?Na=[t]:Na.push(t)}function Bw(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,dm(e)):(n.next=i.next,i.next=n),e.interleaved=n,gi(t,r)}function gi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ri=!1;function hm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function di(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Xi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(ft&2)!==0){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,gi(t,n)}return i=r.interleaved,i===null?(e.next=e,dm(r)):(e.next=i.next,i.next=e),r.interleaved=e,gi(t,n)}function ku(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Qp(t,n)}}function Jv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=l:a=a.next=l,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function id(t,e,n,r){var i=t.updateQueue;Ri=!1;var a=i.firstBaseUpdate,l=i.lastBaseUpdate,h=i.shared.pending;if(h!==null){i.shared.pending=null;var f=h,g=f.next;f.next=null,l===null?a=g:l.next=g,l=f;var E=t.alternate;E!==null&&(E=E.updateQueue,h=E.lastBaseUpdate,h!==l&&(h===null?E.firstBaseUpdate=g:h.next=g,E.lastBaseUpdate=f))}if(a!==null){var T=i.baseState;l=0,E=g=f=null,h=a;do{var C=h.lane,A=h.eventTime;if((r&C)===C){E!==null&&(E=E.next={eventTime:A,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});e:{var L=t,N=h;switch(C=e,A=n,N.tag){case 1:if(L=N.payload,typeof L=="function"){T=L.call(A,T,C);break e}T=L;break e;case 3:L.flags=L.flags&-65537|128;case 0:if(L=N.payload,C=typeof L=="function"?L.call(A,T,C):L,C==null)break e;T=$t({},T,C);break e;case 2:Ri=!0}}h.callback!==null&&h.lane!==0&&(t.flags|=64,C=i.effects,C===null?i.effects=[h]:C.push(h))}else A={eventTime:A,lane:C,tag:h.tag,payload:h.payload,callback:h.callback,next:null},E===null?(g=E=A,f=T):E=E.next=A,l|=C;if(h=h.next,h===null){if(h=i.shared.pending,h===null)break;C=h,h=C.next,C.next=null,i.lastBaseUpdate=C,i.shared.pending=null}}while(1);if(E===null&&(f=T),i.baseState=f,i.firstBaseUpdate=g,i.lastBaseUpdate=E,e=i.shared.interleaved,e!==null){i=e;do l|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Ha|=l,t.lanes=l,t.memoizedState=T}}function Qv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ve(191,i));i.call(r)}}}var Ww=new Bb.Component().refs;function k_(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:$t({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Wd={isMounted:function(t){return(t=t._reactInternals)?rs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Hn(),i=ea(t),a=di(r,i);a.payload=e,n!=null&&(a.callback=n),e=Xi(t,a,i),e!==null&&(Fr(e,t,i,r),ku(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Hn(),i=ea(t),a=di(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=Xi(t,a,i),e!==null&&(Fr(e,t,i,r),ku(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Hn(),r=ea(t),i=di(n,r);i.tag=2,e!=null&&(i.callback=e),e=Xi(t,i,r),e!==null&&(Fr(e,t,r,n),ku(e,t,r))}};function Xv(t,e,n,r,i,a,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,l):e.prototype&&e.prototype.isPureReactComponent?!bl(n,r)||!bl(i,a):!0}function Gw(t,e,n){var r=!1,i=ca,a=e.contextType;return typeof a=="object"&&a!==null?a=Tr(a):(i=nr(e)?ja:On.current,r=e.contextTypes,a=(r=r!=null)?Us(t,i):ca),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Wd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function Zv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Wd.enqueueReplaceState(e,e.state,null)}function C_(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Ww,hm(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Tr(a):(a=nr(e)?ja:On.current,i.context=Us(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(k_(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Wd.enqueueReplaceState(i,i.state,null),id(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Co(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ve(309));var r=n.stateNode}if(!r)throw Error(ve(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(l){var h=i.refs;h===Ww&&(h=i.refs={}),l===null?delete h[a]:h[a]=l},e._stringRef=a,e)}if(typeof t!="string")throw Error(ve(284));if(!n._owner)throw Error(ve(290,t))}return t}function eu(t,e){throw t=Object.prototype.toString.call(e),Error(ve(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ey(t){var e=t._init;return e(t._payload)}function Kw(t){function e(O,I){if(t){var $=O.deletions;$===null?(O.deletions=[I],O.flags|=16):$.push(I)}}function n(O,I){if(!t)return null;for(;I!==null;)e(O,I),I=I.sibling;return null}function r(O,I){for(O=new Map;I!==null;)I.key!==null?O.set(I.key,I):O.set(I.index,I),I=I.sibling;return O}function i(O,I){return O=ta(O,I),O.index=0,O.sibling=null,O}function a(O,I,$){return O.index=$,t?($=O.alternate,$!==null?($=$.index,$<I?(O.flags|=2,I):$):(O.flags|=2,I)):(O.flags|=1048576,I)}function l(O){return t&&O.alternate===null&&(O.flags|=2),O}function h(O,I,$,F){return I===null||I.tag!==6?(I=pf($,O.mode,F),I.return=O,I):(I=i(I,$),I.return=O,I)}function f(O,I,$,F){var j=$.type;return j===_s?E(O,I,$.props.children,F,$.key):I!==null&&(I.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Li&&ey(j)===I.type)?(F=i(I,$.props),F.ref=Co(O,I,$),F.return=O,F):(F=Iu($.type,$.key,$.props,null,O.mode,F),F.ref=Co(O,I,$),F.return=O,F)}function g(O,I,$,F){return I===null||I.tag!==4||I.stateNode.containerInfo!==$.containerInfo||I.stateNode.implementation!==$.implementation?(I=mf($,O.mode,F),I.return=O,I):(I=i(I,$.children||[]),I.return=O,I)}function E(O,I,$,F,j){return I===null||I.tag!==7?(I=Ra($,O.mode,F,j),I.return=O,I):(I=i(I,$),I.return=O,I)}function T(O,I,$){if(typeof I=="string"&&I!==""||typeof I=="number")return I=pf(""+I,O.mode,$),I.return=O,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Hc:return $=Iu(I.type,I.key,I.props,null,O.mode,$),$.ref=Co(O,null,I),$.return=O,$;case fs:return I=mf(I,O.mode,$),I.return=O,I;case Li:var F=I._init;return T(O,F(I._payload),$)}if($o(I)||wo(I))return I=Ra(I,O.mode,$,null),I.return=O,I;eu(O,I)}return null}function C(O,I,$,F){var j=I!==null?I.key:null;if(typeof $=="string"&&$!==""||typeof $=="number")return j!==null?null:h(O,I,""+$,F);if(typeof $=="object"&&$!==null){switch($.$$typeof){case Hc:return $.key===j?f(O,I,$,F):null;case fs:return $.key===j?g(O,I,$,F):null;case Li:return j=$._init,C(O,I,j($._payload),F)}if($o($)||wo($))return j!==null?null:E(O,I,$,F,null);eu(O,$)}return null}function A(O,I,$,F,j){if(typeof F=="string"&&F!==""||typeof F=="number")return O=O.get($)||null,h(I,O,""+F,j);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Hc:return O=O.get(F.key===null?$:F.key)||null,f(I,O,F,j);case fs:return O=O.get(F.key===null?$:F.key)||null,g(I,O,F,j);case Li:var B=F._init;return A(O,I,$,B(F._payload),j)}if($o(F)||wo(F))return O=O.get($)||null,E(I,O,F,j,null);eu(I,F)}return null}function L(O,I,$,F){for(var j=null,B=null,z=I,H=I=0,W=null;z!==null&&H<$.length;H++){z.index>H?(W=z,z=null):W=z.sibling;var Y=C(O,z,$[H],F);if(Y===null){z===null&&(z=W);break}t&&z&&Y.alternate===null&&e(O,z),I=a(Y,I,H),B===null?j=Y:B.sibling=Y,B=Y,z=W}if(H===$.length)return n(O,z),It&&Ea(O,H),j;if(z===null){for(;H<$.length;H++)z=T(O,$[H],F),z!==null&&(I=a(z,I,H),B===null?j=z:B.sibling=z,B=z);return It&&Ea(O,H),j}for(z=r(O,z);H<$.length;H++)W=A(z,O,H,$[H],F),W!==null&&(t&&W.alternate!==null&&z.delete(W.key===null?H:W.key),I=a(W,I,H),B===null?j=W:B.sibling=W,B=W);return t&&z.forEach(function(te){return e(O,te)}),It&&Ea(O,H),j}function N(O,I,$,F){var j=wo($);if(typeof j!="function")throw Error(ve(150));if($=j.call($),$==null)throw Error(ve(151));for(var B=j=null,z=I,H=I=0,W=null,Y=$.next();z!==null&&!Y.done;H++,Y=$.next()){z.index>H?(W=z,z=null):W=z.sibling;var te=C(O,z,Y.value,F);if(te===null){z===null&&(z=W);break}t&&z&&te.alternate===null&&e(O,z),I=a(te,I,H),B===null?j=te:B.sibling=te,B=te,z=W}if(Y.done)return n(O,z),It&&Ea(O,H),j;if(z===null){for(;!Y.done;H++,Y=$.next())Y=T(O,Y.value,F),Y!==null&&(I=a(Y,I,H),B===null?j=Y:B.sibling=Y,B=Y);return It&&Ea(O,H),j}for(z=r(O,z);!Y.done;H++,Y=$.next())Y=A(z,O,H,Y.value,F),Y!==null&&(t&&Y.alternate!==null&&z.delete(Y.key===null?H:Y.key),I=a(Y,I,H),B===null?j=Y:B.sibling=Y,B=Y);return t&&z.forEach(function(Z){return e(O,Z)}),It&&Ea(O,H),j}function R(O,I,$,F){if(typeof $=="object"&&$!==null&&$.type===_s&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case Hc:e:{for(var j=$.key,B=I;B!==null;){if(B.key===j){if(j=$.type,j===_s){if(B.tag===7){n(O,B.sibling),I=i(B,$.props.children),I.return=O,O=I;break e}}else if(B.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Li&&ey(j)===B.type){n(O,B.sibling),I=i(B,$.props),I.ref=Co(O,B,$),I.return=O,O=I;break e}n(O,B);break}else e(O,B);B=B.sibling}$.type===_s?(I=Ra($.props.children,O.mode,F,$.key),I.return=O,O=I):(F=Iu($.type,$.key,$.props,null,O.mode,F),F.ref=Co(O,I,$),F.return=O,O=F)}return l(O);case fs:e:{for(B=$.key;I!==null;){if(I.key===B)if(I.tag===4&&I.stateNode.containerInfo===$.containerInfo&&I.stateNode.implementation===$.implementation){n(O,I.sibling),I=i(I,$.children||[]),I.return=O,O=I;break e}else{n(O,I);break}else e(O,I);I=I.sibling}I=mf($,O.mode,F),I.return=O,O=I}return l(O);case Li:return B=$._init,R(O,I,B($._payload),F)}if($o($))return L(O,I,$,F);if(wo($))return N(O,I,$,F);eu(O,$)}return typeof $=="string"&&$!==""||typeof $=="number"?($=""+$,I!==null&&I.tag===6?(n(O,I.sibling),I=i(I,$),I.return=O,O=I):(n(O,I),I=pf($,O.mode,F),I.return=O,O=I),l(O)):n(O,I)}return R}var Vs=Kw(!0),Yw=Kw(!1),ic={},Kr=_a(ic),Sl=_a(ic),kl=_a(ic);function Da(t){if(t===ic)throw Error(ve(174));return t}function fm(t,e){switch(St(kl,e),St(Sl,t),St(Kr,ic),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:i_(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=i_(e,t)}At(Kr),St(Kr,e)}function zs(){At(Kr),At(Sl),At(kl)}function Jw(t){Da(kl.current);var e=Da(Kr.current),n=i_(e,t.type);e!==n&&(St(Sl,t),St(Kr,n))}function _m(t){Sl.current===t&&(At(Kr),At(Sl))}var Lt=_a(0);function ad(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var cf=[];function pm(){for(var t=0;t<cf.length;t++)cf[t]._workInProgressVersionPrimary=null;cf.length=0}var Cu=Ti.ReactCurrentDispatcher,uf=Ti.ReactCurrentBatchConfig,za=0,Rt=null,Xt=null,sn=null,sd=!1,Xo=!1,Cl=0,xN=0;function Cn(){throw Error(ve(321))}function mm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ur(t[n],e[n]))return!1;return!0}function gm(t,e,n,r,i,a){if(za=a,Rt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Cu.current=t===null||t.memoizedState===null?CN:TN,t=n(r,i),Xo){a=0;do{if(Xo=!1,Cl=0,25<=a)throw Error(ve(301));a+=1,sn=Xt=null,e.updateQueue=null,Cu.current=NN,t=n(r,i)}while(Xo)}if(Cu.current=od,e=Xt!==null&&Xt.next!==null,za=0,sn=Xt=Rt=null,sd=!1,e)throw Error(ve(300));return t}function vm(){var t=Cl!==0;return Cl=0,t}function qr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sn===null?Rt.memoizedState=sn=t:sn=sn.next=t,sn}function Nr(){if(Xt===null){var t=Rt.alternate;t=t!==null?t.memoizedState:null}else t=Xt.next;var e=sn===null?Rt.memoizedState:sn.next;if(e!==null)sn=e,Xt=t;else{if(t===null)throw Error(ve(310));Xt=t,t={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},sn===null?Rt.memoizedState=sn=t:sn=sn.next=t}return sn}function Tl(t,e){return typeof e=="function"?e(t):e}function df(t){var e=Nr(),n=e.queue;if(n===null)throw Error(ve(311));n.lastRenderedReducer=t;var r=Xt,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var l=i.next;i.next=a.next,a.next=l}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var h=l=null,f=null,g=a;do{var E=g.lane;if((za&E)===E)f!==null&&(f=f.next={lane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),r=g.hasEagerState?g.eagerState:t(r,g.action);else{var T={lane:E,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};f===null?(h=f=T,l=r):f=f.next=T,Rt.lanes|=E,Ha|=E}g=g.next}while(g!==null&&g!==a);f===null?l=r:f.next=h,Ur(r,e.memoizedState)||(er=!0),e.memoizedState=r,e.baseState=l,e.baseQueue=f,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,Rt.lanes|=a,Ha|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function hf(t){var e=Nr(),n=e.queue;if(n===null)throw Error(ve(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var l=i=i.next;do a=t(a,l.action),l=l.next;while(l!==i);Ur(a,e.memoizedState)||(er=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function Qw(){}function Xw(t,e){var n=Rt,r=Nr(),i=e(),a=!Ur(r.memoizedState,i);if(a&&(r.memoizedState=i,er=!0),r=r.queue,ym(tx.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||sn!==null&&sn.memoizedState.tag&1){if(n.flags|=2048,Nl(9,ex.bind(null,n,r,i,e),void 0,null),ln===null)throw Error(ve(349));(za&30)!==0||Zw(n,e,i)}return i}function Zw(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Rt.updateQueue,e===null?(e={lastEffect:null,stores:null},Rt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ex(t,e,n,r){e.value=n,e.getSnapshot=r,nx(e)&&rx(t)}function tx(t,e,n){return n(function(){nx(e)&&rx(t)})}function nx(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ur(t,n)}catch{return!0}}function rx(t){var e=gi(t,1);e!==null&&Fr(e,t,1,-1)}function ty(t){var e=qr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tl,lastRenderedState:t},e.queue=t,t=t.dispatch=kN.bind(null,Rt,t),[e.memoizedState,t]}function Nl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Rt.updateQueue,e===null?(e={lastEffect:null,stores:null},Rt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function ix(){return Nr().memoizedState}function Tu(t,e,n,r){var i=qr();Rt.flags|=t,i.memoizedState=Nl(1|e,n,void 0,r===void 0?null:r)}function Gd(t,e,n,r){var i=Nr();r=r===void 0?null:r;var a=void 0;if(Xt!==null){var l=Xt.memoizedState;if(a=l.destroy,r!==null&&mm(r,l.deps)){i.memoizedState=Nl(e,n,a,r);return}}Rt.flags|=t,i.memoizedState=Nl(1|e,n,a,r)}function ny(t,e){return Tu(8390656,8,t,e)}function ym(t,e){return Gd(2048,8,t,e)}function ax(t,e){return Gd(4,2,t,e)}function sx(t,e){return Gd(4,4,t,e)}function ox(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function lx(t,e,n){return n=n!=null?n.concat([t]):null,Gd(4,4,ox.bind(null,e,t),n)}function bm(){}function cx(t,e){var n=Nr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&mm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ux(t,e){var n=Nr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&mm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function dx(t,e,n){return(za&21)===0?(t.baseState&&(t.baseState=!1,er=!0),t.memoizedState=n):(Ur(n,e)||(n=_w(),Rt.lanes|=n,Ha|=n,t.baseState=!0),e)}function EN(t,e){var n=yt;yt=n!==0&&4>n?n:4,t(!0);var r=uf.transition;uf.transition={};try{t(!1),e()}finally{yt=n,uf.transition=r}}function hx(){return Nr().memoizedState}function SN(t,e,n){var r=ea(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},fx(t))_x(e,n);else if(n=Bw(t,e,n,r),n!==null){var i=Hn();Fr(n,t,r,i),px(n,e,r)}}function kN(t,e,n){var r=ea(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(fx(t))_x(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var l=e.lastRenderedState,h=a(l,n);if(i.hasEagerState=!0,i.eagerState=h,Ur(h,l)){var f=e.interleaved;f===null?(i.next=i,dm(e)):(i.next=f.next,f.next=i),e.interleaved=i;return}}catch{}finally{}n=Bw(t,e,i,r),n!==null&&(i=Hn(),Fr(n,t,r,i),px(n,e,r))}}function fx(t){var e=t.alternate;return t===Rt||e!==null&&e===Rt}function _x(t,e){Xo=sd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function px(t,e,n){if((n&4194240)!==0){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Qp(t,n)}}var od={readContext:Tr,useCallback:Cn,useContext:Cn,useEffect:Cn,useImperativeHandle:Cn,useInsertionEffect:Cn,useLayoutEffect:Cn,useMemo:Cn,useReducer:Cn,useRef:Cn,useState:Cn,useDebugValue:Cn,useDeferredValue:Cn,useTransition:Cn,useMutableSource:Cn,useSyncExternalStore:Cn,useId:Cn,unstable_isNewReconciler:!1},CN={readContext:Tr,useCallback:function(t,e){return qr().memoizedState=[t,e===void 0?null:e],t},useContext:Tr,useEffect:ny,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Tu(4194308,4,ox.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Tu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Tu(4,2,t,e)},useMemo:function(t,e){var n=qr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=qr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=SN.bind(null,Rt,t),[r.memoizedState,t]},useRef:function(t){var e=qr();return t={current:t},e.memoizedState=t},useState:ty,useDebugValue:bm,useDeferredValue:function(t){return qr().memoizedState=t},useTransition:function(){var t=ty(!1),e=t[0];return t=EN.bind(null,t[1]),qr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Rt,i=qr();if(It){if(n===void 0)throw Error(ve(407));n=n()}else{if(n=e(),ln===null)throw Error(ve(349));(za&30)!==0||Zw(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,ny(tx.bind(null,r,a,t),[t]),r.flags|=2048,Nl(9,ex.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=qr(),e=ln.identifierPrefix;if(It){var n=si,r=ai;n=(r&~(1<<32-$r(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Cl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=xN++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},TN={readContext:Tr,useCallback:cx,useContext:Tr,useEffect:ym,useImperativeHandle:lx,useInsertionEffect:ax,useLayoutEffect:sx,useMemo:ux,useReducer:df,useRef:ix,useState:function(){return df(Tl)},useDebugValue:bm,useDeferredValue:function(t){var e=Nr();return dx(e,Xt.memoizedState,t)},useTransition:function(){var t=df(Tl)[0],e=Nr().memoizedState;return[t,e]},useMutableSource:Qw,useSyncExternalStore:Xw,useId:hx,unstable_isNewReconciler:!1},NN={readContext:Tr,useCallback:cx,useContext:Tr,useEffect:ym,useImperativeHandle:lx,useInsertionEffect:ax,useLayoutEffect:sx,useMemo:ux,useReducer:hf,useRef:ix,useState:function(){return hf(Tl)},useDebugValue:bm,useDeferredValue:function(t){var e=Nr();return Xt===null?e.memoizedState=t:dx(e,Xt.memoizedState,t)},useTransition:function(){var t=hf(Tl)[0],e=Nr().memoizedState;return[t,e]},useMutableSource:Qw,useSyncExternalStore:Xw,useId:hx,unstable_isNewReconciler:!1};function Hs(t,e){try{var n="",r=e;do n+=nT(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function ff(t,e,n){return{value:t,source:null,stack:n!=null?n:null,digest:e!=null?e:null}}function T_(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var DN=typeof WeakMap=="function"?WeakMap:Map;function mx(t,e,n){n=di(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){cd||(cd=!0,$_=r),T_(t,e)},n}function gx(t,e,n){n=di(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){T_(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){T_(t,e),typeof r!="function"&&(Zi===null?Zi=new Set([this]):Zi.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function ry(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new DN;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=HN.bind(null,t,e,n),e.then(t,t))}function iy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ay(t,e,n,r,i){return(t.mode&1)===0?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=di(-1,1),e.tag=2,Xi(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=i,t)}var AN=Ti.ReactCurrentOwner,er=!1;function Ln(t,e,n,r){e.child=t===null?Yw(e,null,n,r):Vs(e,t.child,n,r)}function sy(t,e,n,r,i){n=n.render;var a=e.ref;return Is(e,i),r=gm(t,e,n,r,a,i),n=vm(),t!==null&&!er?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,vi(t,e,i)):(It&&n&&am(e),e.flags|=1,Ln(t,e,r,i),e.child)}function oy(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!Nm(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,vx(t,e,a,r,i)):(t=Iu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,(t.lanes&i)===0){var l=a.memoizedProps;if(n=n.compare,n=n!==null?n:bl,n(l,r)&&t.ref===e.ref)return vi(t,e,i)}return e.flags|=1,t=ta(a,r),t.ref=e.ref,t.return=e,e.child=t}function vx(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(bl(a,r)&&t.ref===e.ref)if(er=!1,e.pendingProps=r=a,(t.lanes&i)!==0)(t.flags&131072)!==0&&(er=!0);else return e.lanes=t.lanes,vi(t,e,i)}return N_(t,e,n,r,i)}function yx(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},St(Ss,sr),sr|=n;else{if((n&1073741824)===0)return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,St(Ss,sr),sr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,St(Ss,sr),sr|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,St(Ss,sr),sr|=r;return Ln(t,e,i,n),e.child}function bx(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function N_(t,e,n,r,i){var a=nr(n)?ja:On.current;return a=Us(e,a),Is(e,i),n=gm(t,e,n,r,a,i),r=vm(),t!==null&&!er?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,vi(t,e,i)):(It&&r&&am(e),e.flags|=1,Ln(t,e,n,i),e.child)}function ly(t,e,n,r,i){if(nr(n)){var a=!0;Zu(e)}else a=!1;if(Is(e,i),e.stateNode===null)Nu(t,e),Gw(e,n,r),C_(e,n,r,i),r=!0;else if(t===null){var l=e.stateNode,h=e.memoizedProps;l.props=h;var f=l.context,g=n.contextType;typeof g=="object"&&g!==null?g=Tr(g):(g=nr(n)?ja:On.current,g=Us(e,g));var E=n.getDerivedStateFromProps,T=typeof E=="function"||typeof l.getSnapshotBeforeUpdate=="function";T||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(h!==r||f!==g)&&Zv(e,l,r,g),Ri=!1;var C=e.memoizedState;l.state=C,id(e,r,l,i),f=e.memoizedState,h!==r||C!==f||tr.current||Ri?(typeof E=="function"&&(k_(e,n,E,r),f=e.memoizedState),(h=Ri||Xv(e,n,h,r,C,f,g))?(T||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=f),l.props=r,l.state=f,l.context=g,r=h):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{l=e.stateNode,qw(t,e),h=e.memoizedProps,g=e.type===e.elementType?h:Mr(e.type,h),l.props=g,T=e.pendingProps,C=l.context,f=n.contextType,typeof f=="object"&&f!==null?f=Tr(f):(f=nr(n)?ja:On.current,f=Us(e,f));var A=n.getDerivedStateFromProps;(E=typeof A=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(h!==T||C!==f)&&Zv(e,l,r,f),Ri=!1,C=e.memoizedState,l.state=C,id(e,r,l,i);var L=e.memoizedState;h!==T||C!==L||tr.current||Ri?(typeof A=="function"&&(k_(e,n,A,r),L=e.memoizedState),(g=Ri||Xv(e,n,g,r,C,L,f)||!1)?(E||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,L,f),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,L,f)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||h===t.memoizedProps&&C===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||h===t.memoizedProps&&C===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=L),l.props=r,l.state=L,l.context=f,r=g):(typeof l.componentDidUpdate!="function"||h===t.memoizedProps&&C===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||h===t.memoizedProps&&C===t.memoizedState||(e.flags|=1024),r=!1)}return D_(t,e,n,r,a,i)}function D_(t,e,n,r,i,a){bx(t,e);var l=(e.flags&128)!==0;if(!r&&!l)return i&&Gv(e,n,!1),vi(t,e,a);r=e.stateNode,AN.current=e;var h=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&l?(e.child=Vs(e,t.child,null,a),e.child=Vs(e,null,h,a)):Ln(t,e,h,a),e.memoizedState=r.state,i&&Gv(e,n,!0),e.child}function wx(t){var e=t.stateNode;e.pendingContext?Wv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Wv(t,e.context,!1),fm(t,e.containerInfo)}function cy(t,e,n,r,i){return js(),om(i),e.flags|=256,Ln(t,e,n,r),e.child}var A_={dehydrated:null,treeContext:null,retryLane:0};function I_(t){return{baseLanes:t,cachePool:null,transitions:null}}function xx(t,e,n){var r=e.pendingProps,i=Lt.current,a=!1,l=(e.flags&128)!==0,h;if((h=l)||(h=t!==null&&t.memoizedState===null?!1:(i&2)!==0),h?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),St(Lt,i&1),t===null)return E_(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((e.mode&1)===0?e.lanes=1:t.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(l=r.children,t=r.fallback,a?(r=e.mode,a=e.child,l={mode:"hidden",children:l},(r&1)===0&&a!==null?(a.childLanes=0,a.pendingProps=l):a=Jd(l,r,0,null),t=Ra(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=I_(n),e.memoizedState=A_,t):wm(e,l));if(i=t.memoizedState,i!==null&&(h=i.dehydrated,h!==null))return IN(t,e,l,r,h,i,n);if(a){a=r.fallback,l=e.mode,i=t.child,h=i.sibling;var f={mode:"hidden",children:r.children};return(l&1)===0&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=f,e.deletions=null):(r=ta(i,f),r.subtreeFlags=i.subtreeFlags&14680064),h!==null?a=ta(h,a):(a=Ra(a,l,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,l=t.child.memoizedState,l=l===null?I_(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=t.childLanes&~n,e.memoizedState=A_,r}return a=t.child,t=a.sibling,r=ta(a,{mode:"visible",children:r.children}),(e.mode&1)===0&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function wm(t,e){return e=Jd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function tu(t,e,n,r){return r!==null&&om(r),Vs(e,t.child,null,n),t=wm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function IN(t,e,n,r,i,a,l){if(n)return e.flags&256?(e.flags&=-257,r=ff(Error(ve(422))),tu(t,e,l,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=Jd({mode:"visible",children:r.children},i,0,null),a=Ra(a,i,l,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,(e.mode&1)!==0&&Vs(e,t.child,null,l),e.child.memoizedState=I_(l),e.memoizedState=A_,a);if((e.mode&1)===0)return tu(t,e,l,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var h=r.dgst;return r=h,a=Error(ve(419)),r=ff(a,r,void 0),tu(t,e,l,r)}if(h=(l&t.childLanes)!==0,er||h){if(r=ln,r!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=(i&(r.suspendedLanes|l))!==0?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,gi(t,i),Fr(r,t,i,-1))}return Tm(),r=ff(Error(ve(421))),tu(t,e,l,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=BN.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,lr=Qi(i.nextSibling),cr=e,It=!0,Lr=null,t!==null&&(yr[br++]=ai,yr[br++]=si,yr[br++]=Va,ai=t.id,si=t.overflow,Va=e),e=wm(e,r.children),e.flags|=4096,e)}function uy(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),S_(t.return,e,n)}function _f(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Ex(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(Ln(t,e,r.children,n),r=Lt.current,(r&2)!==0)r=r&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&uy(t,n,e);else if(t.tag===19)uy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(St(Lt,r),(e.mode&1)===0)e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ad(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),_f(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ad(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}_f(e,!0,n,null,a);break;case"together":_f(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Nu(t,e){(e.mode&1)===0&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function vi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ha|=e.lanes,(n&e.childLanes)===0)return null;if(t!==null&&e.child!==t.child)throw Error(ve(153));if(e.child!==null){for(t=e.child,n=ta(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ta(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ON(t,e,n){switch(e.tag){case 3:wx(e),js();break;case 5:Jw(e);break;case 1:nr(e.type)&&Zu(e);break;case 4:fm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;St(nd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(St(Lt,Lt.current&1),e.flags|=128,null):(n&e.child.childLanes)!==0?xx(t,e,n):(St(Lt,Lt.current&1),t=vi(t,e,n),t!==null?t.sibling:null);St(Lt,Lt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,(t.flags&128)!==0){if(r)return Ex(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),St(Lt,Lt.current),r)break;return null;case 22:case 23:return e.lanes=0,yx(t,e,n)}return vi(t,e,n)}var Sx,O_,kx,Cx;Sx=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};O_=function(){};kx=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Da(Kr.current);var a=null;switch(n){case"input":i=e_(t,i),r=e_(t,r),a=[];break;case"select":i=$t({},i,{value:void 0}),r=$t({},r,{value:void 0}),a=[];break;case"textarea":i=r_(t,i),r=r_(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Qu)}a_(n,r);var l;n=null;for(g in i)if(!r.hasOwnProperty(g)&&i.hasOwnProperty(g)&&i[g]!=null)if(g==="style"){var h=i[g];for(l in h)h.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(fl.hasOwnProperty(g)?a||(a=[]):(a=a||[]).push(g,null));for(g in r){var f=r[g];if(h=i!=null?i[g]:void 0,r.hasOwnProperty(g)&&f!==h&&(f!=null||h!=null))if(g==="style")if(h){for(l in h)!h.hasOwnProperty(l)||f&&f.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in f)f.hasOwnProperty(l)&&h[l]!==f[l]&&(n||(n={}),n[l]=f[l])}else n||(a||(a=[]),a.push(g,n)),n=f;else g==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,h=h?h.__html:void 0,f!=null&&h!==f&&(a=a||[]).push(g,f)):g==="children"?typeof f!="string"&&typeof f!="number"||(a=a||[]).push(g,""+f):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(fl.hasOwnProperty(g)?(f!=null&&g==="onScroll"&&Tt("scroll",t),a||h===f||(a=[])):(a=a||[]).push(g,f))}n&&(a=a||[]).push("style",n);var g=a;(e.updateQueue=g)&&(e.flags|=4)}};Cx=function(t,e,n,r){n!==r&&(e.flags|=4)};function To(t,e){if(!It)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Tn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function MN(t,e,n){var r=e.pendingProps;switch(sm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Tn(e),null;case 1:return nr(e.type)&&Xu(),Tn(e),null;case 3:return r=e.stateNode,zs(),At(tr),At(On),pm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Zc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,Lr!==null&&(j_(Lr),Lr=null))),O_(t,e),Tn(e),null;case 5:_m(e);var i=Da(kl.current);if(n=e.type,t!==null&&e.stateNode!=null)kx(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ve(166));return Tn(e),null}if(t=Da(Kr.current),Zc(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[Wr]=e,r[El]=a,t=(e.mode&1)!==0,n){case"dialog":Tt("cancel",r),Tt("close",r);break;case"iframe":case"object":case"embed":Tt("load",r);break;case"video":case"audio":for(i=0;i<Uo.length;i++)Tt(Uo[i],r);break;case"source":Tt("error",r);break;case"img":case"image":case"link":Tt("error",r),Tt("load",r);break;case"details":Tt("toggle",r);break;case"input":yv(r,a),Tt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Tt("invalid",r);break;case"textarea":wv(r,a),Tt("invalid",r)}a_(n,a),i=null;for(var l in a)if(a.hasOwnProperty(l)){var h=a[l];l==="children"?typeof h=="string"?r.textContent!==h&&(a.suppressHydrationWarning!==!0&&Xc(r.textContent,h,t),i=["children",h]):typeof h=="number"&&r.textContent!==""+h&&(a.suppressHydrationWarning!==!0&&Xc(r.textContent,h,t),i=["children",""+h]):fl.hasOwnProperty(l)&&h!=null&&l==="onScroll"&&Tt("scroll",r)}switch(n){case"input":Bc(r),bv(r,a,!0);break;case"textarea":Bc(r),xv(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Qu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Zb(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=l.createElement(n,{is:r.is}):(t=l.createElement(n),n==="select"&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,n),t[Wr]=e,t[El]=r,Sx(t,e,!1,!1),e.stateNode=t;e:{switch(l=s_(n,r),n){case"dialog":Tt("cancel",t),Tt("close",t),i=r;break;case"iframe":case"object":case"embed":Tt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Uo.length;i++)Tt(Uo[i],t);i=r;break;case"source":Tt("error",t),i=r;break;case"img":case"image":case"link":Tt("error",t),Tt("load",t),i=r;break;case"details":Tt("toggle",t),i=r;break;case"input":yv(t,r),i=e_(t,r),Tt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=$t({},r,{value:void 0}),Tt("invalid",t);break;case"textarea":wv(t,r),i=r_(t,r),Tt("invalid",t);break;default:i=r}a_(n,i),h=i;for(a in h)if(h.hasOwnProperty(a)){var f=h[a];a==="style"?nw(t,f):a==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&ew(t,f)):a==="children"?typeof f=="string"?(n!=="textarea"||f!=="")&&_l(t,f):typeof f=="number"&&_l(t,""+f):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(fl.hasOwnProperty(a)?f!=null&&a==="onScroll"&&Tt("scroll",t):f!=null&&qp(t,a,f,l))}switch(n){case"input":Bc(t),bv(t,r,!1);break;case"textarea":Bc(t),xv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+la(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?Ts(t,!!r.multiple,a,!1):r.defaultValue!=null&&Ts(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Qu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Tn(e),null;case 6:if(t&&e.stateNode!=null)Cx(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ve(166));if(n=Da(kl.current),Da(Kr.current),Zc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Wr]=e,(a=r.nodeValue!==n)&&(t=cr,t!==null))switch(t.tag){case 3:Xc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Xc(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Wr]=e,e.stateNode=r}return Tn(e),null;case 13:if(At(Lt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(It&&lr!==null&&(e.mode&1)!==0&&(e.flags&128)===0)Hw(),js(),e.flags|=98560,a=!1;else if(a=Zc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(ve(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ve(317));a[Wr]=e}else js(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;Tn(e),a=!1}else Lr!==null&&(j_(Lr),Lr=null),a=!0;if(!a)return e.flags&65536?e:null}return(e.flags&128)!==0?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,(e.mode&1)!==0&&(t===null||(Lt.current&1)!==0?Zt===0&&(Zt=3):Tm())),e.updateQueue!==null&&(e.flags|=4),Tn(e),null);case 4:return zs(),O_(t,e),t===null&&wl(e.stateNode.containerInfo),Tn(e),null;case 10:return um(e.type._context),Tn(e),null;case 17:return nr(e.type)&&Xu(),Tn(e),null;case 19:if(At(Lt),a=e.memoizedState,a===null)return Tn(e),null;if(r=(e.flags&128)!==0,l=a.rendering,l===null)if(r)To(a,!1);else{if(Zt!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(l=ad(t),l!==null){for(e.flags|=128,To(a,!1),r=l.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,l=a.alternate,l===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,t=l.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return St(Lt,Lt.current&1|2),e.child}t=t.sibling}a.tail!==null&&zt()>Bs&&(e.flags|=128,r=!0,To(a,!1),e.lanes=4194304)}else{if(!r)if(t=ad(l),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),To(a,!0),a.tail===null&&a.tailMode==="hidden"&&!l.alternate&&!It)return Tn(e),null}else 2*zt()-a.renderingStartTime>Bs&&n!==1073741824&&(e.flags|=128,r=!0,To(a,!1),e.lanes=4194304);a.isBackwards?(l.sibling=e.child,e.child=l):(n=a.last,n!==null?n.sibling=l:e.child=l,a.last=l)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=zt(),e.sibling=null,n=Lt.current,St(Lt,r?n&1|2:n&1),e):(Tn(e),null);case 22:case 23:return Cm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&(e.mode&1)!==0?(sr&1073741824)!==0&&(Tn(e),e.subtreeFlags&6&&(e.flags|=8192)):Tn(e),null;case 24:return null;case 25:return null}throw Error(ve(156,e.tag))}function PN(t,e){switch(sm(e),e.tag){case 1:return nr(e.type)&&Xu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return zs(),At(tr),At(On),pm(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 5:return _m(e),null;case 13:if(At(Lt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ve(340));js()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return At(Lt),null;case 4:return zs(),null;case 10:return um(e.type._context),null;case 22:case 23:return Cm(),null;case 24:return null;default:return null}}var nu=!1,Nn=!1,LN=typeof WeakSet=="function"?WeakSet:Set,Me=null;function Es(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){jt(t,e,r)}else n.current=null}function M_(t,e,n){try{n()}catch(r){jt(t,e,r)}}var dy=!1;function RN(t,e){if(m_=Ku,t=Aw(),im(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var l=0,h=-1,f=-1,g=0,E=0,T=t,C=null;t:for(;;){for(var A;T!==n||i!==0&&T.nodeType!==3||(h=l+i),T!==a||r!==0&&T.nodeType!==3||(f=l+r),T.nodeType===3&&(l+=T.nodeValue.length),(A=T.firstChild)!==null;)C=T,T=A;for(;;){if(T===t)break t;if(C===n&&++g===i&&(h=l),C===a&&++E===r&&(f=l),(A=T.nextSibling)!==null)break;T=C,C=T.parentNode}T=A}n=h===-1||f===-1?null:{start:h,end:f}}else n=null}n=n||{start:0,end:0}}else n=null;for(g_={focusedElem:t,selectionRange:n},Ku=!1,Me=e;Me!==null;)if(e=Me,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Me=t;else for(;Me!==null;){e=Me;try{var L=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(L!==null){var N=L.memoizedProps,R=L.memoizedState,O=e.stateNode,I=O.getSnapshotBeforeUpdate(e.elementType===e.type?N:Mr(e.type,N),R);O.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var $=e.stateNode.containerInfo;$.nodeType===1?$.textContent="":$.nodeType===9&&$.documentElement&&$.removeChild($.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ve(163))}}catch(F){jt(e,e.return,F)}if(t=e.sibling,t!==null){t.return=e.return,Me=t;break}Me=e.return}return L=dy,dy=!1,L}function Zo(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&M_(e,n,a)}i=i.next}while(i!==r)}}function Kd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function P_(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Tx(t){var e=t.alternate;e!==null&&(t.alternate=null,Tx(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Wr],delete e[El],delete e[b_],delete e[vN],delete e[yN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Nx(t){return t.tag===5||t.tag===3||t.tag===4}function hy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Nx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function L_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Qu));else if(r!==4&&(t=t.child,t!==null))for(L_(t,e,n),t=t.sibling;t!==null;)L_(t,e,n),t=t.sibling}function R_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(R_(t,e,n),t=t.sibling;t!==null;)R_(t,e,n),t=t.sibling}var hn=null,Pr=!1;function Oi(t,e,n){for(n=n.child;n!==null;)Dx(t,e,n),n=n.sibling}function Dx(t,e,n){if(Gr&&typeof Gr.onCommitFiberUnmount=="function")try{Gr.onCommitFiberUnmount(jd,n)}catch{}switch(n.tag){case 5:Nn||Es(n,e);case 6:var r=hn,i=Pr;hn=null,Oi(t,e,n),hn=r,Pr=i,hn!==null&&(Pr?(t=hn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):hn.removeChild(n.stateNode));break;case 18:hn!==null&&(Pr?(t=hn,n=n.stateNode,t.nodeType===8?of(t.parentNode,n):t.nodeType===1&&of(t,n),vl(t)):of(hn,n.stateNode));break;case 4:r=hn,i=Pr,hn=n.stateNode.containerInfo,Pr=!0,Oi(t,e,n),hn=r,Pr=i;break;case 0:case 11:case 14:case 15:if(!Nn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,l=a.destroy;a=a.tag,l!==void 0&&((a&2)!==0||(a&4)!==0)&&M_(n,e,l),i=i.next}while(i!==r)}Oi(t,e,n);break;case 1:if(!Nn&&(Es(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(h){jt(n,e,h)}Oi(t,e,n);break;case 21:Oi(t,e,n);break;case 22:n.mode&1?(Nn=(r=Nn)||n.memoizedState!==null,Oi(t,e,n),Nn=r):Oi(t,e,n);break;default:Oi(t,e,n)}}function fy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new LN),e.forEach(function(r){var i=qN.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ar(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,l=e,h=l;e:for(;h!==null;){switch(h.tag){case 5:hn=h.stateNode,Pr=!1;break e;case 3:hn=h.stateNode.containerInfo,Pr=!0;break e;case 4:hn=h.stateNode.containerInfo,Pr=!0;break e}h=h.return}if(hn===null)throw Error(ve(160));Dx(a,l,i),hn=null,Pr=!1;var f=i.alternate;f!==null&&(f.return=null),i.return=null}catch(g){jt(i,e,g)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Ax(e,t),e=e.sibling}function Ax(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ar(e,t),Br(t),r&4){try{Zo(3,t,t.return),Kd(3,t)}catch(N){jt(t,t.return,N)}try{Zo(5,t,t.return)}catch(N){jt(t,t.return,N)}}break;case 1:Ar(e,t),Br(t),r&512&&n!==null&&Es(n,n.return);break;case 5:if(Ar(e,t),Br(t),r&512&&n!==null&&Es(n,n.return),t.flags&32){var i=t.stateNode;try{_l(i,"")}catch(N){jt(t,t.return,N)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,l=n!==null?n.memoizedProps:a,h=t.type,f=t.updateQueue;if(t.updateQueue=null,f!==null)try{h==="input"&&a.type==="radio"&&a.name!=null&&Qb(i,a),s_(h,l);var g=s_(h,a);for(l=0;l<f.length;l+=2){var E=f[l],T=f[l+1];E==="style"?nw(i,T):E==="dangerouslySetInnerHTML"?ew(i,T):E==="children"?_l(i,T):qp(i,E,T,g)}switch(h){case"input":t_(i,a);break;case"textarea":Xb(i,a);break;case"select":var C=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var A=a.value;A!=null?Ts(i,!!a.multiple,A,!1):C!==!!a.multiple&&(a.defaultValue!=null?Ts(i,!!a.multiple,a.defaultValue,!0):Ts(i,!!a.multiple,a.multiple?[]:"",!1))}i[El]=a}catch(N){jt(t,t.return,N)}}break;case 6:if(Ar(e,t),Br(t),r&4){if(t.stateNode===null)throw Error(ve(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(N){jt(t,t.return,N)}}break;case 3:if(Ar(e,t),Br(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{vl(e.containerInfo)}catch(N){jt(t,t.return,N)}break;case 4:Ar(e,t),Br(t);break;case 13:Ar(e,t),Br(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Sm=zt())),r&4&&fy(t);break;case 22:if(E=n!==null&&n.memoizedState!==null,t.mode&1?(Nn=(g=Nn)||E,Ar(e,t),Nn=g):Ar(e,t),Br(t),r&8192){if(g=t.memoizedState!==null,(t.stateNode.isHidden=g)&&!E&&(t.mode&1)!==0)for(Me=t,E=t.child;E!==null;){for(T=Me=E;Me!==null;){switch(C=Me,A=C.child,C.tag){case 0:case 11:case 14:case 15:Zo(4,C,C.return);break;case 1:Es(C,C.return);var L=C.stateNode;if(typeof L.componentWillUnmount=="function"){r=C,n=C.return;try{e=r,L.props=e.memoizedProps,L.state=e.memoizedState,L.componentWillUnmount()}catch(N){jt(r,n,N)}}break;case 5:Es(C,C.return);break;case 22:if(C.memoizedState!==null){py(T);continue}}A!==null?(A.return=C,Me=A):py(T)}E=E.sibling}e:for(E=null,T=t;;){if(T.tag===5){if(E===null){E=T;try{i=T.stateNode,g?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(h=T.stateNode,f=T.memoizedProps.style,l=f!=null&&f.hasOwnProperty("display")?f.display:null,h.style.display=tw("display",l))}catch(N){jt(t,t.return,N)}}}else if(T.tag===6){if(E===null)try{T.stateNode.nodeValue=g?"":T.memoizedProps}catch(N){jt(t,t.return,N)}}else if((T.tag!==22&&T.tag!==23||T.memoizedState===null||T===t)&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===t)break e;for(;T.sibling===null;){if(T.return===null||T.return===t)break e;E===T&&(E=null),T=T.return}E===T&&(E=null),T.sibling.return=T.return,T=T.sibling}}break;case 19:Ar(e,t),Br(t),r&4&&fy(t);break;case 21:break;default:Ar(e,t),Br(t)}}function Br(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Nx(n)){var r=n;break e}n=n.return}throw Error(ve(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(_l(i,""),r.flags&=-33);var a=hy(t);R_(t,a,i);break;case 3:case 4:var l=r.stateNode.containerInfo,h=hy(t);L_(t,h,l);break;default:throw Error(ve(161))}}catch(f){jt(t,t.return,f)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function $N(t,e,n){Me=t,Ix(t)}function Ix(t,e,n){for(var r=(t.mode&1)!==0;Me!==null;){var i=Me,a=i.child;if(i.tag===22&&r){var l=i.memoizedState!==null||nu;if(!l){var h=i.alternate,f=h!==null&&h.memoizedState!==null||Nn;h=nu;var g=Nn;if(nu=l,(Nn=f)&&!g)for(Me=i;Me!==null;)l=Me,f=l.child,l.tag===22&&l.memoizedState!==null?my(i):f!==null?(f.return=l,Me=f):my(i);for(;a!==null;)Me=a,Ix(a),a=a.sibling;Me=i,nu=h,Nn=g}_y(t)}else(i.subtreeFlags&8772)!==0&&a!==null?(a.return=i,Me=a):_y(t)}}function _y(t){for(;Me!==null;){var e=Me;if((e.flags&8772)!==0){var n=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:Nn||Kd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Nn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Mr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&Qv(e,a,r);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Qv(e,l,n)}break;case 5:var h=e.stateNode;if(n===null&&e.flags&4){n=h;var f=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":f.autoFocus&&n.focus();break;case"img":f.src&&(n.src=f.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var g=e.alternate;if(g!==null){var E=g.memoizedState;if(E!==null){var T=E.dehydrated;T!==null&&vl(T)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ve(163))}Nn||e.flags&512&&P_(e)}catch(C){jt(e,e.return,C)}}if(e===t){Me=null;break}if(n=e.sibling,n!==null){n.return=e.return,Me=n;break}Me=e.return}}function py(t){for(;Me!==null;){var e=Me;if(e===t){Me=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Me=n;break}Me=e.return}}function my(t){for(;Me!==null;){var e=Me;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Kd(4,e)}catch(f){jt(e,n,f)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(f){jt(e,i,f)}}var a=e.return;try{P_(e)}catch(f){jt(e,a,f)}break;case 5:var l=e.return;try{P_(e)}catch(f){jt(e,l,f)}}}catch(f){jt(e,e.return,f)}if(e===t){Me=null;break}var h=e.sibling;if(h!==null){h.return=e.return,Me=h;break}Me=e.return}}var FN=Math.ceil,ld=Ti.ReactCurrentDispatcher,xm=Ti.ReactCurrentOwner,Sr=Ti.ReactCurrentBatchConfig,ft=0,ln=null,Gt=null,mn=0,sr=0,Ss=_a(0),Zt=0,Dl=null,Ha=0,Yd=0,Em=0,el=null,Xn=null,Sm=0,Bs=1/0,ni=null,cd=!1,$_=null,Zi=null,ru=!1,qi=null,ud=0,tl=0,F_=null,Du=-1,Au=0;function Hn(){return(ft&6)!==0?zt():Du!==-1?Du:Du=zt()}function ea(t){return(t.mode&1)===0?1:(ft&2)!==0&&mn!==0?mn&-mn:wN.transition!==null?(Au===0&&(Au=_w()),Au):(t=yt,t!==0||(t=window.event,t=t===void 0?16:ww(t.type)),t)}function Fr(t,e,n,r){if(50<tl)throw tl=0,F_=null,Error(ve(185));tc(t,n,r),((ft&2)===0||t!==ln)&&(t===ln&&((ft&2)===0&&(Yd|=n),Zt===4&&Ui(t,mn)),rr(t,r),n===1&&ft===0&&(e.mode&1)===0&&(Bs=zt()+500,qd&&pa()))}function rr(t,e){var n=t.callbackNode;wT(t,e);var r=Gu(t,t===ln?mn:0);if(r===0)n!==null&&kv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&kv(n),e===1)t.tag===0?bN(gy.bind(null,t)):jw(gy.bind(null,t)),mN(function(){(ft&6)===0&&pa()}),n=null;else{switch(pw(r)){case 1:n=Jp;break;case 4:n=hw;break;case 16:n=Wu;break;case 536870912:n=fw;break;default:n=Wu}n=Ux(n,Ox.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Ox(t,e){if(Du=-1,Au=0,(ft&6)!==0)throw Error(ve(327));var n=t.callbackNode;if(Os()&&t.callbackNode!==n)return null;var r=Gu(t,t===ln?mn:0);if(r===0)return null;if((r&30)!==0||(r&t.expiredLanes)!==0||e)e=dd(t,r);else{e=r;var i=ft;ft|=2;var a=Px();(ln!==t||mn!==e)&&(ni=null,Bs=zt()+500,La(t,e));do try{VN();break}catch(h){Mx(t,h)}while(1);cm(),ld.current=a,ft=i,Gt!==null?e=0:(ln=null,mn=0,e=Zt)}if(e!==0){if(e===2&&(i=d_(t),i!==0&&(r=i,e=U_(t,i))),e===1)throw n=Dl,La(t,0),Ui(t,r),rr(t,zt()),n;if(e===6)Ui(t,r);else{if(i=t.current.alternate,(r&30)===0&&!UN(i)&&(e=dd(t,r),e===2&&(a=d_(t),a!==0&&(r=a,e=U_(t,a))),e===1))throw n=Dl,La(t,0),Ui(t,r),rr(t,zt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ve(345));case 2:Sa(t,Xn,ni);break;case 3:if(Ui(t,r),(r&130023424)===r&&(e=Sm+500-zt(),10<e)){if(Gu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Hn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=y_(Sa.bind(null,t,Xn,ni),e);break}Sa(t,Xn,ni);break;case 4:if(Ui(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var l=31-$r(r);a=1<<l,l=e[l],l>i&&(i=l),r&=~a}if(r=i,r=zt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*FN(r/1960))-r,10<r){t.timeoutHandle=y_(Sa.bind(null,t,Xn,ni),r);break}Sa(t,Xn,ni);break;case 5:Sa(t,Xn,ni);break;default:throw Error(ve(329))}}}return rr(t,zt()),t.callbackNode===n?Ox.bind(null,t):null}function U_(t,e){var n=el;return t.current.memoizedState.isDehydrated&&(La(t,e).flags|=256),t=dd(t,e),t!==2&&(e=Xn,Xn=n,e!==null&&j_(e)),t}function j_(t){Xn===null?Xn=t:Xn.push.apply(Xn,t)}function UN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Ur(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ui(t,e){for(e&=~Em,e&=~Yd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-$r(e),r=1<<n;t[n]=-1,e&=~r}}function gy(t){if((ft&6)!==0)throw Error(ve(327));Os();var e=Gu(t,0);if((e&1)===0)return rr(t,zt()),null;var n=dd(t,e);if(t.tag!==0&&n===2){var r=d_(t);r!==0&&(e=r,n=U_(t,r))}if(n===1)throw n=Dl,La(t,0),Ui(t,e),rr(t,zt()),n;if(n===6)throw Error(ve(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Sa(t,Xn,ni),rr(t,zt()),null}function km(t,e){var n=ft;ft|=1;try{return t(e)}finally{ft=n,ft===0&&(Bs=zt()+500,qd&&pa())}}function Ba(t){qi!==null&&qi.tag===0&&(ft&6)===0&&Os();var e=ft;ft|=1;var n=Sr.transition,r=yt;try{if(Sr.transition=null,yt=1,t)return t()}finally{yt=r,Sr.transition=n,ft=e,(ft&6)===0&&pa()}}function Cm(){sr=Ss.current,At(Ss)}function La(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,pN(n)),Gt!==null)for(n=Gt.return;n!==null;){var r=n;switch(sm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Xu();break;case 3:zs(),At(tr),At(On),pm();break;case 5:_m(r);break;case 4:zs();break;case 13:At(Lt);break;case 19:At(Lt);break;case 10:um(r.type._context);break;case 22:case 23:Cm()}n=n.return}if(ln=t,Gt=t=ta(t.current,null),mn=sr=e,Zt=0,Dl=null,Em=Yd=Ha=0,Xn=el=null,Na!==null){for(e=0;e<Na.length;e++)if(n=Na[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var l=a.next;a.next=i,r.next=l}n.pending=r}Na=null}return t}function Mx(t,e){do{var n=Gt;try{if(cm(),Cu.current=od,sd){for(var r=Rt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}sd=!1}if(za=0,sn=Xt=Rt=null,Xo=!1,Cl=0,xm.current=null,n===null||n.return===null){Zt=1,Dl=e,Gt=null;break}e:{var a=t,l=n.return,h=n,f=e;if(e=mn,h.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){var g=f,E=h,T=E.tag;if((E.mode&1)===0&&(T===0||T===11||T===15)){var C=E.alternate;C?(E.updateQueue=C.updateQueue,E.memoizedState=C.memoizedState,E.lanes=C.lanes):(E.updateQueue=null,E.memoizedState=null)}var A=iy(l);if(A!==null){A.flags&=-257,ay(A,l,h,a,e),A.mode&1&&ry(a,g,e),e=A,f=g;var L=e.updateQueue;if(L===null){var N=new Set;N.add(f),e.updateQueue=N}else L.add(f);break e}else{if((e&1)===0){ry(a,g,e),Tm();break e}f=Error(ve(426))}}else if(It&&h.mode&1){var R=iy(l);if(R!==null){(R.flags&65536)===0&&(R.flags|=256),ay(R,l,h,a,e),om(Hs(f,h));break e}}a=f=Hs(f,h),Zt!==4&&(Zt=2),el===null?el=[a]:el.push(a),a=l;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var O=mx(a,f,e);Jv(a,O);break e;case 1:h=f;var I=a.type,$=a.stateNode;if((a.flags&128)===0&&(typeof I.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(Zi===null||!Zi.has($)))){a.flags|=65536,e&=-e,a.lanes|=e;var F=gx(a,h,e);Jv(a,F);break e}}a=a.return}while(a!==null)}Rx(n)}catch(j){e=j,Gt===n&&n!==null&&(Gt=n=n.return);continue}break}while(1)}function Px(){var t=ld.current;return ld.current=od,t===null?od:t}function Tm(){(Zt===0||Zt===3||Zt===2)&&(Zt=4),ln===null||(Ha&268435455)===0&&(Yd&268435455)===0||Ui(ln,mn)}function dd(t,e){var n=ft;ft|=2;var r=Px();(ln!==t||mn!==e)&&(ni=null,La(t,e));do try{jN();break}catch(i){Mx(t,i)}while(1);if(cm(),ft=n,ld.current=r,Gt!==null)throw Error(ve(261));return ln=null,mn=0,Zt}function jN(){for(;Gt!==null;)Lx(Gt)}function VN(){for(;Gt!==null&&!hT();)Lx(Gt)}function Lx(t){var e=Fx(t.alternate,t,sr);t.memoizedProps=t.pendingProps,e===null?Rx(t):Gt=e,xm.current=null}function Rx(t){var e=t;do{var n=e.alternate;if(t=e.return,(e.flags&32768)===0){if(n=MN(n,e,sr),n!==null){Gt=n;return}}else{if(n=PN(n,e),n!==null){n.flags&=32767,Gt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Zt=6,Gt=null;return}}if(e=e.sibling,e!==null){Gt=e;return}Gt=e=t}while(e!==null);Zt===0&&(Zt=5)}function Sa(t,e,n){var r=yt,i=Sr.transition;try{Sr.transition=null,yt=1,zN(t,e,n,r)}finally{Sr.transition=i,yt=r}return null}function zN(t,e,n,r){do Os();while(qi!==null);if((ft&6)!==0)throw Error(ve(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ve(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(xT(t,a),t===ln&&(Gt=ln=null,mn=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||ru||(ru=!0,Ux(Wu,function(){return Os(),null})),a=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||a){a=Sr.transition,Sr.transition=null;var l=yt;yt=1;var h=ft;ft|=4,xm.current=null,RN(t,n),Ax(n,t),lN(g_),Ku=!!m_,g_=m_=null,t.current=n,$N(n),fT(),ft=h,yt=l,Sr.transition=a}else t.current=n;if(ru&&(ru=!1,qi=t,ud=i),a=t.pendingLanes,a===0&&(Zi=null),mT(n.stateNode),rr(t,zt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(cd)throw cd=!1,t=$_,$_=null,t;return(ud&1)!==0&&t.tag!==0&&Os(),a=t.pendingLanes,(a&1)!==0?t===F_?tl++:(tl=0,F_=t):tl=0,pa(),null}function Os(){if(qi!==null){var t=pw(ud),e=Sr.transition,n=yt;try{if(Sr.transition=null,yt=16>t?16:t,qi===null)var r=!1;else{if(t=qi,qi=null,ud=0,(ft&6)!==0)throw Error(ve(331));var i=ft;for(ft|=4,Me=t.current;Me!==null;){var a=Me,l=a.child;if((Me.flags&16)!==0){var h=a.deletions;if(h!==null){for(var f=0;f<h.length;f++){var g=h[f];for(Me=g;Me!==null;){var E=Me;switch(E.tag){case 0:case 11:case 15:Zo(8,E,a)}var T=E.child;if(T!==null)T.return=E,Me=T;else for(;Me!==null;){E=Me;var C=E.sibling,A=E.return;if(Tx(E),E===g){Me=null;break}if(C!==null){C.return=A,Me=C;break}Me=A}}}var L=a.alternate;if(L!==null){var N=L.child;if(N!==null){L.child=null;do{var R=N.sibling;N.sibling=null,N=R}while(N!==null)}}Me=a}}if((a.subtreeFlags&2064)!==0&&l!==null)l.return=a,Me=l;else e:for(;Me!==null;){if(a=Me,(a.flags&2048)!==0)switch(a.tag){case 0:case 11:case 15:Zo(9,a,a.return)}var O=a.sibling;if(O!==null){O.return=a.return,Me=O;break e}Me=a.return}}var I=t.current;for(Me=I;Me!==null;){l=Me;var $=l.child;if((l.subtreeFlags&2064)!==0&&$!==null)$.return=l,Me=$;else e:for(l=I;Me!==null;){if(h=Me,(h.flags&2048)!==0)try{switch(h.tag){case 0:case 11:case 15:Kd(9,h)}}catch(j){jt(h,h.return,j)}if(h===l){Me=null;break e}var F=h.sibling;if(F!==null){F.return=h.return,Me=F;break e}Me=h.return}}if(ft=i,pa(),Gr&&typeof Gr.onPostCommitFiberRoot=="function")try{Gr.onPostCommitFiberRoot(jd,t)}catch{}r=!0}return r}finally{yt=n,Sr.transition=e}}return!1}function vy(t,e,n){e=Hs(n,e),e=mx(t,e,1),t=Xi(t,e,1),e=Hn(),t!==null&&(tc(t,1,e),rr(t,e))}function jt(t,e,n){if(t.tag===3)vy(t,t,n);else for(;e!==null;){if(e.tag===3){vy(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Zi===null||!Zi.has(r))){t=Hs(n,t),t=gx(e,t,1),e=Xi(e,t,1),t=Hn(),e!==null&&(tc(e,1,t),rr(e,t));break}}e=e.return}}function HN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Hn(),t.pingedLanes|=t.suspendedLanes&n,ln===t&&(mn&n)===n&&(Zt===4||Zt===3&&(mn&130023424)===mn&&500>zt()-Sm?La(t,0):Em|=n),rr(t,e)}function $x(t,e){e===0&&((t.mode&1)===0?e=1:(e=Gc,Gc<<=1,(Gc&130023424)===0&&(Gc=4194304)));var n=Hn();t=gi(t,e),t!==null&&(tc(t,e,n),rr(t,n))}function BN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),$x(t,n)}function qN(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ve(314))}r!==null&&r.delete(e),$x(t,n)}var Fx;Fx=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||tr.current)er=!0;else{if((t.lanes&n)===0&&(e.flags&128)===0)return er=!1,ON(t,e,n);er=(t.flags&131072)!==0}else er=!1,It&&(e.flags&1048576)!==0&&Vw(e,td,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Nu(t,e),t=e.pendingProps;var i=Us(e,On.current);Is(e,n),i=gm(null,e,r,t,i,n);var a=vm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,nr(r)?(a=!0,Zu(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,hm(e),i.updater=Wd,e.stateNode=i,i._reactInternals=e,C_(e,r,t,n),e=D_(null,e,r,!0,a,n)):(e.tag=0,It&&a&&am(e),Ln(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Nu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=GN(r),t=Mr(r,t),i){case 0:e=N_(null,e,r,t,n);break e;case 1:e=ly(null,e,r,t,n);break e;case 11:e=sy(null,e,r,t,n);break e;case 14:e=oy(null,e,r,Mr(r.type,t),n);break e}throw Error(ve(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mr(r,i),N_(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mr(r,i),ly(t,e,r,i,n);case 3:e:{if(wx(e),t===null)throw Error(ve(387));r=e.pendingProps,a=e.memoizedState,i=a.element,qw(t,e),id(e,r,null,n);var l=e.memoizedState;if(r=l.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Hs(Error(ve(423)),e),e=cy(t,e,r,n,i);break e}else if(r!==i){i=Hs(Error(ve(424)),e),e=cy(t,e,r,n,i);break e}else for(lr=Qi(e.stateNode.containerInfo.firstChild),cr=e,It=!0,Lr=null,n=Yw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(js(),r===i){e=vi(t,e,n);break e}Ln(t,e,r,n)}e=e.child}return e;case 5:return Jw(e),t===null&&E_(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,l=i.children,v_(r,i)?l=null:a!==null&&v_(r,a)&&(e.flags|=32),bx(t,e),Ln(t,e,l,n),e.child;case 6:return t===null&&E_(e),null;case 13:return xx(t,e,n);case 4:return fm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Vs(e,null,r,n):Ln(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mr(r,i),sy(t,e,r,i,n);case 7:return Ln(t,e,e.pendingProps,n),e.child;case 8:return Ln(t,e,e.pendingProps.children,n),e.child;case 12:return Ln(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,l=i.value,St(nd,r._currentValue),r._currentValue=l,a!==null)if(Ur(a.value,l)){if(a.children===i.children&&!tr.current){e=vi(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var h=a.dependencies;if(h!==null){l=a.child;for(var f=h.firstContext;f!==null;){if(f.context===r){if(a.tag===1){f=di(-1,n&-n),f.tag=2;var g=a.updateQueue;if(g!==null){g=g.shared;var E=g.pending;E===null?f.next=f:(f.next=E.next,E.next=f),g.pending=f}}a.lanes|=n,f=a.alternate,f!==null&&(f.lanes|=n),S_(a.return,n,e),h.lanes|=n;break}f=f.next}}else if(a.tag===10)l=a.type===e.type?null:a.child;else if(a.tag===18){if(l=a.return,l===null)throw Error(ve(341));l.lanes|=n,h=l.alternate,h!==null&&(h.lanes|=n),S_(l,n,e),l=a.sibling}else l=a.child;if(l!==null)l.return=a;else for(l=a;l!==null;){if(l===e){l=null;break}if(a=l.sibling,a!==null){a.return=l.return,l=a;break}l=l.return}a=l}Ln(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Is(e,n),i=Tr(i),r=r(i),e.flags|=1,Ln(t,e,r,n),e.child;case 14:return r=e.type,i=Mr(r,e.pendingProps),i=Mr(r.type,i),oy(t,e,r,i,n);case 15:return vx(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mr(r,i),Nu(t,e),e.tag=1,nr(r)?(t=!0,Zu(e)):t=!1,Is(e,n),Gw(e,r,i),C_(e,r,i,n),D_(null,e,r,!0,t,n);case 19:return Ex(t,e,n);case 22:return yx(t,e,n)}throw Error(ve(156,e.tag))};function Ux(t,e){return dw(t,e)}function WN(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xr(t,e,n,r){return new WN(t,e,n,r)}function Nm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function GN(t){if(typeof t=="function")return Nm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Gp)return 11;if(t===Kp)return 14}return 2}function ta(t,e){var n=t.alternate;return n===null?(n=xr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Iu(t,e,n,r,i,a){var l=2;if(r=t,typeof t=="function")Nm(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case _s:return Ra(n.children,i,a,e);case Wp:l=8,i|=8;break;case Jf:return t=xr(12,n,e,i|2),t.elementType=Jf,t.lanes=a,t;case Qf:return t=xr(13,n,e,i),t.elementType=Qf,t.lanes=a,t;case Xf:return t=xr(19,n,e,i),t.elementType=Xf,t.lanes=a,t;case Kb:return Jd(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Wb:l=10;break e;case Gb:l=9;break e;case Gp:l=11;break e;case Kp:l=14;break e;case Li:l=16,r=null;break e}throw Error(ve(130,t==null?t:typeof t,""))}return e=xr(l,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function Ra(t,e,n,r){return t=xr(7,t,r,e),t.lanes=n,t}function Jd(t,e,n,r){return t=xr(22,t,r,e),t.elementType=Kb,t.lanes=n,t.stateNode={isHidden:!1},t}function pf(t,e,n){return t=xr(6,t,null,e),t.lanes=n,t}function mf(t,e,n){return e=xr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function KN(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yh(0),this.expirationTimes=Yh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Dm(t,e,n,r,i,a,l,h,f){return t=new KN(t,e,n,h,f),e===1?(e=1,a===!0&&(e|=8)):e=0,a=xr(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},hm(a),t}function YN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function jx(t){if(!t)return ca;t=t._reactInternals;e:{if(rs(t)!==t||t.tag!==1)throw Error(ve(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(nr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ve(171))}if(t.tag===1){var n=t.type;if(nr(n))return Uw(t,n,e)}return e}function Vx(t,e,n,r,i,a,l,h,f){return t=Dm(n,r,!0,t,i,a,l,h,f),t.context=jx(null),n=t.current,r=Hn(),i=ea(n),a=di(r,i),a.callback=e!=null?e:null,Xi(n,a,i),t.current.lanes=i,tc(t,i,r),rr(t,r),t}function Qd(t,e,n,r){var i=e.current,a=Hn(),l=ea(i);return n=jx(n),e.context===null?e.context=n:e.pendingContext=n,e=di(a,l),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Xi(i,e,l),t!==null&&(Fr(t,i,l,a),ku(t,i,l)),l}function hd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function yy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Am(t,e){yy(t,e),(t=t.alternate)&&yy(t,e)}function JN(){return null}var zx=typeof reportError=="function"?reportError:function(t){console.error(t)};function Im(t){this._internalRoot=t}Xd.prototype.render=Im.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ve(409));Qd(t,e,null,null)};Xd.prototype.unmount=Im.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ba(function(){Qd(null,t,null,null)}),e[mi]=null}};function Xd(t){this._internalRoot=t}Xd.prototype.unstable_scheduleHydration=function(t){if(t){var e=vw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Fi.length&&e!==0&&e<Fi[n].priority;n++);Fi.splice(n,0,t),n===0&&bw(t)}};function Om(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Zd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function by(){}function QN(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var g=hd(l);a.call(g)}}var l=Vx(e,r,t,0,null,!1,!1,"",by);return t._reactRootContainer=l,t[mi]=l.current,wl(t.nodeType===8?t.parentNode:t),Ba(),l}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var h=r;r=function(){var g=hd(f);h.call(g)}}var f=Dm(t,0,!1,null,null,!1,!1,"",by);return t._reactRootContainer=f,t[mi]=f.current,wl(t.nodeType===8?t.parentNode:t),Ba(function(){Qd(e,f,n,r)}),f}function eh(t,e,n,r,i){var a=n._reactRootContainer;if(a){var l=a;if(typeof i=="function"){var h=i;i=function(){var f=hd(l);h.call(f)}}Qd(e,l,t,i)}else l=QN(n,e,t,i,r);return hd(l)}mw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Fo(e.pendingLanes);n!==0&&(Qp(e,n|1),rr(e,zt()),(ft&6)===0&&(Bs=zt()+500,pa()))}break;case 13:Ba(function(){var r=gi(t,1);if(r!==null){var i=Hn();Fr(r,t,1,i)}}),Am(t,1)}};Xp=function(t){if(t.tag===13){var e=gi(t,134217728);if(e!==null){var n=Hn();Fr(e,t,134217728,n)}Am(t,134217728)}};gw=function(t){if(t.tag===13){var e=ea(t),n=gi(t,e);if(n!==null){var r=Hn();Fr(n,t,e,r)}Am(t,e)}};vw=function(){return yt};yw=function(t,e){var n=yt;try{return yt=t,e()}finally{yt=n}};l_=function(t,e,n){switch(e){case"input":if(t_(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Bd(r);if(!i)throw Error(ve(90));Jb(r),t_(r,i)}}}break;case"textarea":Xb(t,n);break;case"select":e=n.value,e!=null&&Ts(t,!!n.multiple,e,!1)}};aw=km;sw=Ba;var XN={usingClientEntryPoint:!1,Events:[rc,vs,Bd,rw,iw,km]},No={findFiberByHostInstance:Ta,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ZN={bundleType:No.bundleType,version:No.version,rendererPackageName:No.rendererPackageName,rendererConfig:No.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ti.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=cw(t),t===null?null:t.stateNode},findFiberByHostInstance:No.findFiberByHostInstance||JN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{jd=iu.inject(ZN),Gr=iu}catch{}}_r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XN;_r.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Om(e))throw Error(ve(200));return YN(t,e,null,n)};_r.createRoot=function(t,e){if(!Om(t))throw Error(ve(299));var n=!1,r="",i=zx;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Dm(t,1,!1,null,null,n,!1,r,i),t[mi]=e.current,wl(t.nodeType===8?t.parentNode:t),new Im(e)};_r.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ve(188)):(t=Object.keys(t).join(","),Error(ve(268,t)));return t=cw(e),t=t===null?null:t.stateNode,t};_r.flushSync=function(t){return Ba(t)};_r.hydrate=function(t,e,n){if(!Zd(e))throw Error(ve(200));return eh(null,t,e,!0,n)};_r.hydrateRoot=function(t,e,n){if(!Om(t))throw Error(ve(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",l=zx;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=Vx(e,null,t,1,n!=null?n:null,i,!1,a,l),t[mi]=e.current,wl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Xd(e)};_r.render=function(t,e,n){if(!Zd(e))throw Error(ve(200));return eh(null,t,e,!1,n)};_r.unmountComponentAtNode=function(t){if(!Zd(t))throw Error(ve(40));return t._reactRootContainer?(Ba(function(){eh(null,null,t,!1,function(){t._reactRootContainer=null,t[mi]=null})}),!0):!1};_r.unstable_batchedUpdates=km;_r.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Zd(n))throw Error(ve(200));if(t==null||t._reactInternals===void 0)throw Error(ve(38));return eh(t,e,n,!1,r)};_r.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=_r})(Vb);var wy=Vb.exports;Kf.createRoot=wy.createRoot,Kf.hydrateRoot=wy.hydrateRoot;function fd(){return fd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fd.apply(this,arguments)}var Aa;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Aa||(Aa={}));var xy=function(t){return t},Ey="beforeunload",eD="popstate";function tD(t){t===void 0&&(t={});var e=t,n=e.window,r=n===void 0?document.defaultView:n,i=r.history;function a(){var z=r.location,H=z.pathname,W=z.search,Y=z.hash,te=i.state||{};return[te.idx,xy({pathname:H,search:W,hash:Y,state:te.usr||null,key:te.key||"default"})]}var l=null;function h(){if(l)A.call(l),l=null;else{var z=Aa.Pop,H=a(),W=H[0],Y=H[1];if(A.length){if(W!=null){var te=E-W;te&&(l={action:z,location:Y,retry:function(){j(te*-1)}},j(te))}}else I(z)}}r.addEventListener(eD,h);var f=Aa.Pop,g=a(),E=g[0],T=g[1],C=ky(),A=ky();E==null&&(E=0,i.replaceState(fd({},i.state,{idx:E}),""));function L(z){return typeof z=="string"?z:V_(z)}function N(z,H){return H===void 0&&(H=null),xy(fd({pathname:T.pathname,hash:"",search:""},typeof z=="string"?is(z):z,{state:H,key:nD()}))}function R(z,H){return[{usr:z.state,key:z.key,idx:H},L(z)]}function O(z,H,W){return!A.length||(A.call({action:z,location:H,retry:W}),!1)}function I(z){f=z;var H=a();E=H[0],T=H[1],C.call({action:f,location:T})}function $(z,H){var W=Aa.Push,Y=N(z,H);function te(){$(z,H)}if(O(W,Y,te)){var Z=R(Y,E+1),le=Z[0],he=Z[1];try{i.pushState(le,"",he)}catch{r.location.assign(he)}I(W)}}function F(z,H){var W=Aa.Replace,Y=N(z,H);function te(){F(z,H)}if(O(W,Y,te)){var Z=R(Y,E),le=Z[0],he=Z[1];i.replaceState(le,"",he),I(W)}}function j(z){i.go(z)}var B={get action(){return f},get location(){return T},createHref:L,push:$,replace:F,go:j,back:function(){j(-1)},forward:function(){j(1)},listen:function(H){return C.push(H)},block:function(H){var W=A.push(H);return A.length===1&&r.addEventListener(Ey,Sy),function(){W(),A.length||r.removeEventListener(Ey,Sy)}}};return B}function Sy(t){t.preventDefault(),t.returnValue=""}function ky(){var t=[];return{get length(){return t.length},push:function(n){return t.push(n),function(){t=t.filter(function(r){return r!==n})}},call:function(n){t.forEach(function(r){return r&&r(n)})}}}function nD(){return Math.random().toString(36).substr(2,8)}function V_(t){var e=t.pathname,n=e===void 0?"/":e,r=t.search,i=r===void 0?"":r,a=t.hash,l=a===void 0?"":a;return i&&i!=="?"&&(n+=i.charAt(0)==="?"?i:"?"+i),l&&l!=="#"&&(n+=l.charAt(0)==="#"?l:"#"+l),n}function is(t){var e={};if(t){var n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));var r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}/**
 * React Router v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Mm=ae.exports.createContext(null),Pm=ae.exports.createContext(null),th=ae.exports.createContext({outlet:null,matches:[]});function jr(t,e){if(!t)throw new Error(e)}function rD(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?is(e):e,i=qx(r.pathname||"/",n);if(i==null)return null;let a=Hx(t);iD(a);let l=null;for(let h=0;l==null&&h<a.length;++h)l=fD(a[h],i);return l}function Hx(t,e,n,r){return e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r=""),t.forEach((i,a)=>{let l={relativePath:i.path||"",caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};l.relativePath.startsWith("/")&&(l.relativePath.startsWith(r)||jr(!1),l.relativePath=l.relativePath.slice(r.length));let h=na([r,l.relativePath]),f=n.concat(l);i.children&&i.children.length>0&&(i.index===!0&&jr(!1),Hx(i.children,e,f,h)),!(i.path==null&&!i.index)&&e.push({path:h,score:dD(h,i.index),routesMeta:f})}),e}function iD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:hD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const aD=/^:\w+$/,sD=3,oD=2,lD=1,cD=10,uD=-2,Cy=t=>t==="*";function dD(t,e){let n=t.split("/"),r=n.length;return n.some(Cy)&&(r+=uD),e&&(r+=oD),n.filter(i=>!Cy(i)).reduce((i,a)=>i+(aD.test(a)?sD:a===""?lD:cD),r)}function hD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function fD(t,e){let{routesMeta:n}=t,r={},i="/",a=[];for(let l=0;l<n.length;++l){let h=n[l],f=l===n.length-1,g=i==="/"?e:e.slice(i.length)||"/",E=_D({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},g);if(!E)return null;Object.assign(r,E.params);let T=h.route;a.push({params:r,pathname:na([i,E.pathname]),pathnameBase:Wx(na([i,E.pathnameBase])),route:T}),E.pathnameBase!=="/"&&(i=na([i,E.pathnameBase]))}return a}function _D(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=pD(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),h=i.slice(1);return{params:r.reduce((g,E,T)=>{if(E==="*"){let C=h[T]||"";l=a.slice(0,a.length-C.length).replace(/(.)\/+$/,"$1")}return g[E]=mD(h[T]||""),g},{}),pathname:a,pathnameBase:l,pattern:t}}function pD(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(l,h)=>(r.push(h),"([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)",[new RegExp(i,e?void 0:"i"),r]}function mD(t,e){try{return decodeURIComponent(t)}catch{return t}}function gD(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?is(t):t;return{pathname:n?n.startsWith("/")?n:vD(n,e):e,search:bD(r),hash:wD(i)}}function vD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Bx(t,e,n){let r=typeof t=="string"?is(t):t,i=t===""||r.pathname===""?"/":r.pathname,a;if(i==null)a=n;else{let h=e.length-1;if(i.startsWith("..")){let f=i.split("/");for(;f[0]==="..";)f.shift(),h-=1;r.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=gD(r,a);return i&&i!=="/"&&i.endsWith("/")&&!l.pathname.endsWith("/")&&(l.pathname+="/"),l}function yD(t){return t===""||t.pathname===""?"/":typeof t=="string"?is(t).pathname:t.pathname}function qx(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=t.charAt(e.length);return n&&n!=="/"?null:t.slice(e.length)||"/"}const na=t=>t.join("/").replace(/\/\/+/g,"/"),Wx=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),bD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,wD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function xD(t){io()||jr(!1);let{basename:e,navigator:n}=ae.exports.useContext(Mm),{hash:r,pathname:i,search:a}=Gx(t),l=i;if(e!=="/"){let h=yD(t),f=h!=null&&h.endsWith("/");l=i==="/"?e+(f?"/":""):na([e,i])}return n.createHref({pathname:l,search:a,hash:r})}function io(){return ae.exports.useContext(Pm)!=null}function nh(){return io()||jr(!1),ae.exports.useContext(Pm).location}function Kn(){io()||jr(!1);let{basename:t,navigator:e}=ae.exports.useContext(Mm),{matches:n}=ae.exports.useContext(th),{pathname:r}=nh(),i=JSON.stringify(n.map(h=>h.pathnameBase)),a=ae.exports.useRef(!1);return ae.exports.useEffect(()=>{a.current=!0}),ae.exports.useCallback(function(h,f){if(f===void 0&&(f={}),!a.current)return;if(typeof h=="number"){e.go(h);return}let g=Bx(h,JSON.parse(i),r);t!=="/"&&(g.pathname=na([t,g.pathname])),(f.replace?e.replace:e.push)(g,f.state)},[t,e,i,r])}function Gx(t){let{matches:e}=ae.exports.useContext(th),{pathname:n}=nh(),r=JSON.stringify(e.map(i=>i.pathnameBase));return ae.exports.useMemo(()=>Bx(t,JSON.parse(r),n),[t,r,n])}function ED(t,e){io()||jr(!1);let{matches:n}=ae.exports.useContext(th),r=n[n.length-1],i=r?r.params:{};r&&r.pathname;let a=r?r.pathnameBase:"/";r&&r.route;let l=nh(),h;if(e){var f;let C=typeof e=="string"?is(e):e;a==="/"||((f=C.pathname)==null?void 0:f.startsWith(a))||jr(!1),h=C}else h=l;let g=h.pathname||"/",E=a==="/"?g:g.slice(a.length)||"/",T=rD(t,{pathname:E});return SD(T&&T.map(C=>Object.assign({},C,{params:Object.assign({},i,C.params),pathname:na([a,C.pathname]),pathnameBase:C.pathnameBase==="/"?a:na([a,C.pathnameBase])})),n)}function SD(t,e){return e===void 0&&(e=[]),t==null?null:t.reduceRight((n,r,i)=>ae.exports.createElement(th.Provider,{children:r.route.element!==void 0?r.route.element:n,value:{outlet:n,matches:e.concat(t.slice(0,i+1))}}),null)}function qa(t){let{to:e,replace:n,state:r}=t;io()||jr(!1);let i=Kn();return ae.exports.useEffect(()=>{i(e,{replace:n,state:r})}),null}function Pn(t){jr(!1)}function kD(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Aa.Pop,navigator:a,static:l=!1}=t;io()&&jr(!1);let h=Wx(e),f=ae.exports.useMemo(()=>({basename:h,navigator:a,static:l}),[h,a,l]);typeof r=="string"&&(r=is(r));let{pathname:g="/",search:E="",hash:T="",state:C=null,key:A="default"}=r,L=ae.exports.useMemo(()=>{let N=qx(g,h);return N==null?null:{pathname:N,search:E,hash:T,state:C,key:A}},[h,g,E,T,C,A]);return L==null?null:ae.exports.createElement(Mm.Provider,{value:f},ae.exports.createElement(Pm.Provider,{children:n,value:{location:L,navigationType:i}}))}function CD(t){let{children:e,location:n}=t;return ED(z_(e),n)}function z_(t){let e=[];return ae.exports.Children.forEach(t,n=>{if(!ae.exports.isValidElement(n))return;if(n.type===ae.exports.Fragment){e.push.apply(e,z_(n.props.children));return}n.type!==Pn&&jr(!1);let r={caseSensitive:n.props.caseSensitive,element:n.props.element,index:n.props.index,path:n.props.path};n.props.children&&(r.children=z_(n.props.children)),e.push(r)}),e}/**
 * React Router DOM v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function H_(){return H_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},H_.apply(this,arguments)}function TD(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const ND=["onClick","reloadDocument","replace","state","target","to"];function DD(t){let{basename:e,children:n,window:r}=t,i=ae.exports.useRef();i.current==null&&(i.current=tD({window:r}));let a=i.current,[l,h]=ae.exports.useState({action:a.action,location:a.location});return ae.exports.useLayoutEffect(()=>a.listen(h),[a]),ae.exports.createElement(kD,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:a})}function AD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}const fn=ae.exports.forwardRef(function(e,n){let{onClick:r,reloadDocument:i,replace:a=!1,state:l,target:h,to:f}=e,g=TD(e,ND),E=xD(f),T=ID(f,{replace:a,state:l,target:h});function C(A){r&&r(A),!A.defaultPrevented&&!i&&T(A)}return ae.exports.createElement("a",H_({},g,{href:E,onClick:C,ref:n,target:h}))});function ID(t,e){let{target:n,replace:r,state:i}=e===void 0?{}:e,a=Kn(),l=nh(),h=Gx(t);return ae.exports.useCallback(f=>{if(f.button===0&&(!n||n==="_self")&&!AD(f)){f.preventDefault();let g=!!r||V_(l)===V_(h);a(t,{replace:g,state:i})}},[l,a,h,r,i,n,t])}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},OD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],l=t[n++],h=t[n++],f=((i&7)<<18|(a&63)<<12|(l&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},Yx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],l=i+1<t.length,h=l?t[i+1]:0,f=i+2<t.length,g=f?t[i+2]:0,E=a>>2,T=(a&3)<<4|h>>4;let C=(h&15)<<2|g>>6,A=g&63;f||(A=64,l||(C=64)),r.push(n[E],n[T],n[C],n[A])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Kx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):OD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],h=i<t.length?n[t.charAt(i)]:0;++i;const g=i<t.length?n[t.charAt(i)]:64;++i;const T=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||h==null||g==null||T==null)throw Error();const C=a<<2|h>>4;if(r.push(C),g!==64){const A=h<<4&240|g>>2;if(r.push(A),T!==64){const L=g<<6&192|T;r.push(L)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},MD=function(t){const e=Kx(t);return Yx.encodeByteArray(e,!0)},Jx=function(t){return MD(t).replace(/\./g,"")},PD=function(t){try{return Yx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Qx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function Xx(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Zx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RD(){return cn().indexOf("Electron/")>=0}function e1(){const t=cn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function $D(){return cn().indexOf("MSAppHost/")>=0}function FD(){return typeof indexedDB=="object"}function UD(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD="FirebaseError";class Ni extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=jD,Object.setPrototypeOf(this,Ni.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ac.prototype.create)}}class ac{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?VD(a,r):"Error",h=`${this.serviceName}: ${l} (${i}).`;return new Ni(i,h,r)}}function VD(t,e){return t.replace(zD,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const zD=/\{\$([^}]+)}/g;function HD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function _d(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],l=e[i];if(Ty(a)&&Ty(l)){if(!_d(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Ty(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function jo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Vo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function BD(t,e){const n=new qD(t,e);return n.subscribe.bind(n)}class qD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");WD(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=gf),i.error===void 0&&(i.error=gf),i.complete===void 0&&(i.complete=gf);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function WD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function gf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(t){return t&&t._delegate?t._delegate:t}class Wa{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new LD;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(YD(e))try{this.getOrInitializeService({instanceIdentifier:ka})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=ka){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ka){return this.instances.has(e)}getOptions(e=ka){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&l.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(!!r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:KD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ka){return this.component?this.component.multipleInstances?e:ka:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function KD(t){return t===ka?void 0:t}function YD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new GD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(mt||(mt={}));const QD={debug:mt.DEBUG,verbose:mt.VERBOSE,info:mt.INFO,warn:mt.WARN,error:mt.ERROR,silent:mt.SILENT},XD=mt.INFO,ZD={[mt.DEBUG]:"log",[mt.VERBOSE]:"log",[mt.INFO]:"info",[mt.WARN]:"warn",[mt.ERROR]:"error"},eA=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=ZD[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Lm{constructor(e){this.name=e,this._logLevel=XD,this._logHandler=eA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in mt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?QD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,mt.DEBUG,...e),this._logHandler(this,mt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,mt.VERBOSE,...e),this._logHandler(this,mt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,mt.INFO,...e),this._logHandler(this,mt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,mt.WARN,...e),this._logHandler(this,mt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,mt.ERROR,...e),this._logHandler(this,mt.ERROR,...e)}}const tA=(t,e)=>e.some(n=>t instanceof n);let Ny,Dy;function nA(){return Ny||(Ny=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function rA(){return Dy||(Dy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const t1=new WeakMap,B_=new WeakMap,n1=new WeakMap,vf=new WeakMap,Rm=new WeakMap;function iA(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(ra(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&t1.set(n,t)}).catch(()=>{}),Rm.set(e,t),e}function aA(t){if(B_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});B_.set(t,e)}let q_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return B_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||n1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ra(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function sA(t){q_=t(q_)}function oA(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(yf(this),e,...n);return n1.set(r,e.sort?e.sort():[e]),ra(r)}:rA().includes(t)?function(...e){return t.apply(yf(this),e),ra(t1.get(this))}:function(...e){return ra(t.apply(yf(this),e))}}function lA(t){return typeof t=="function"?oA(t):(t instanceof IDBTransaction&&aA(t),tA(t,nA())?new Proxy(t,q_):t)}function ra(t){if(t instanceof IDBRequest)return iA(t);if(vf.has(t))return vf.get(t);const e=lA(t);return e!==t&&(vf.set(t,e),Rm.set(e,t)),e}const yf=t=>Rm.get(t);function cA(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(t,e),h=ra(l);return r&&l.addEventListener("upgradeneeded",f=>{r(ra(l.result),f.oldVersion,f.newVersion,ra(l.transaction))}),n&&l.addEventListener("blocked",()=>n()),h.then(f=>{a&&f.addEventListener("close",()=>a()),i&&f.addEventListener("versionchange",()=>i())}).catch(()=>{}),h}const uA=["get","getKey","getAll","getAllKeys","count"],dA=["put","add","delete","clear"],bf=new Map;function Ay(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(bf.get(e))return bf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=dA.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||uA.includes(n)))return;const a=async function(l,...h){const f=this.transaction(l,i?"readwrite":"readonly");let g=f.store;return r&&(g=g.index(h.shift())),(await Promise.all([g[n](...h),i&&f.done]))[0]};return bf.set(e,a),a}sA(t=>({...t,get:(e,n,r)=>Ay(e,n)||t.get(e,n,r),has:(e,n)=>!!Ay(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(fA(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function fA(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const W_="@firebase/app",Iy="0.7.32";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga=new Lm("@firebase/app"),_A="@firebase/app-compat",pA="@firebase/analytics-compat",mA="@firebase/analytics",gA="@firebase/app-check-compat",vA="@firebase/app-check",yA="@firebase/auth",bA="@firebase/auth-compat",wA="@firebase/database",xA="@firebase/database-compat",EA="@firebase/functions",SA="@firebase/functions-compat",kA="@firebase/installations",CA="@firebase/installations-compat",TA="@firebase/messaging",NA="@firebase/messaging-compat",DA="@firebase/performance",AA="@firebase/performance-compat",IA="@firebase/remote-config",OA="@firebase/remote-config-compat",MA="@firebase/storage",PA="@firebase/storage-compat",LA="@firebase/firestore",RA="@firebase/firestore-compat",$A="firebase",FA="9.9.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1="[DEFAULT]",UA={[W_]:"fire-core",[_A]:"fire-core-compat",[mA]:"fire-analytics",[pA]:"fire-analytics-compat",[vA]:"fire-app-check",[gA]:"fire-app-check-compat",[yA]:"fire-auth",[bA]:"fire-auth-compat",[wA]:"fire-rtdb",[xA]:"fire-rtdb-compat",[EA]:"fire-fn",[SA]:"fire-fn-compat",[kA]:"fire-iid",[CA]:"fire-iid-compat",[TA]:"fire-fcm",[NA]:"fire-fcm-compat",[DA]:"fire-perf",[AA]:"fire-perf-compat",[IA]:"fire-rc",[OA]:"fire-rc-compat",[MA]:"fire-gcs",[PA]:"fire-gcs-compat",[LA]:"fire-fst",[RA]:"fire-fst-compat","fire-js":"fire-js",[$A]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd=new Map,G_=new Map;function jA(t,e){try{t.container.addComponent(e)}catch(n){Ga.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function qs(t){const e=t.name;if(G_.has(e))return Ga.debug(`There were multiple attempts to register component ${e}.`),!1;G_.set(e,t);for(const n of pd.values())jA(n,t);return!0}function $m(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ka=new ac("app","Firebase",VA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Wa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ka.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc=FA;function HA(t,e={}){typeof e!="object"&&(e={name:e});const n=Object.assign({name:r1,automaticDataCollectionEnabled:!1},e),r=n.name;if(typeof r!="string"||!r)throw Ka.create("bad-app-name",{appName:String(r)});const i=pd.get(r);if(i){if(_d(t,i.options)&&_d(n,i.config))return i;throw Ka.create("duplicate-app",{appName:r})}const a=new JD(r);for(const h of G_.values())a.addComponent(h);const l=new zA(t,n,a);return pd.set(r,l),l}function i1(t=r1){const e=pd.get(t);if(!e)throw Ka.create("no-app",{appName:t});return e}function ia(t,e,n){var r;let i=(r=UA[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const h=[`Unable to register library "${i}" with version "${e}":`];a&&h.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&h.push("and"),l&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ga.warn(h.join(" "));return}qs(new Wa(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BA="firebase-heartbeat-database",qA=1,Al="firebase-heartbeat-store";let wf=null;function a1(){return wf||(wf=cA(BA,qA,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Al)}}}).catch(t=>{throw Ka.create("idb-open",{originalErrorMessage:t.message})})),wf}async function WA(t){var e;try{return(await a1()).transaction(Al).objectStore(Al).get(s1(t))}catch(n){if(n instanceof Ni)Ga.warn(n.message);else{const r=Ka.create("idb-get",{originalErrorMessage:(e=n)===null||e===void 0?void 0:e.message});Ga.warn(r.message)}}}async function Oy(t,e){var n;try{const i=(await a1()).transaction(Al,"readwrite");return await i.objectStore(Al).put(e,s1(t)),i.done}catch(r){if(r instanceof Ni)Ga.warn(r.message);else{const i=Ka.create("idb-set",{originalErrorMessage:(n=r)===null||n===void 0?void 0:n.message});Ga.warn(i.message)}}}function s1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA=1024,KA=30*24*60*60*1e3;class YA{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new QA(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=My();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const a=new Date(i.date).valueOf();return Date.now()-a<=KA}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=My(),{heartbeatsToSend:n,unsentEntries:r}=JA(this._heartbeatsCache.heartbeats),i=Jx(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function My(){return new Date().toISOString().substring(0,10)}function JA(t,e=GA){const n=[];let r=t.slice();for(const i of t){const a=n.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),Py(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Py(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class QA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return FD()?UD().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await WA(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Oy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Oy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Py(t){return Jx(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XA(t){qs(new Wa("platform-logger",e=>new hA(e),"PRIVATE")),qs(new Wa("heartbeat",e=>new YA(e),"PRIVATE")),ia(W_,Iy,t),ia(W_,Iy,"esm2017"),ia("fire-js","")}XA("");var ZA="firebase",eI="9.9.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ia(ZA,eI,"app");function Fm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function o1(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const tI=o1,l1=new ac("auth","Firebase",o1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly=new Lm("@firebase/auth");function Ou(t,...e){Ly.logLevel<=mt.ERROR&&Ly.error(`Auth (${oc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(t,...e){throw Um(t,...e)}function Yr(t,...e){return Um(t,...e)}function c1(t,e,n){const r=Object.assign(Object.assign({},tI()),{[e]:n});return new ac("auth","Firebase",r).create(e,{appName:t.name})}function nI(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Dr(t,"argument-error"),c1(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Um(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return l1.create(t,...e)}function Je(t,e,...n){if(!t)throw Um(e,...n)}function oi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ou(e),new Error(e)}function yi(t,e){t||oi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ry=new Map;function li(t){yi(t instanceof Function,"Expected a class definition");let e=Ry.get(t);return e?(yi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ry.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rI(t,e){const n=$m(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(_d(a,e!=null?e:{}))return i;Dr(i,"already-initialized")}return n.initialize({options:e})}function iI(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(li);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function aI(){return $y()==="http:"||$y()==="https:"}function $y(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aI()||Xx()||"connection"in navigator)?navigator.onLine:!0}function oI(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,n){this.shortDelay=e,this.longDelay=n,yi(n>e,"Short delay should be less than long delay!"),this.isMobile=Qx()||Zx()}get(){return sI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jm(t,e){yi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI=new lc(3e4,6e4);function cc(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function uc(t,e,n,r,i={}){return d1(t,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const h=sc(Object.assign({key:t.config.apiKey},l)).slice(1),f=await t._getAdditionalHeaders();return f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode),u1.fetch()(h1(t,t.config.apiHost,n,h),Object.assign({method:e,headers:f,referrerPolicy:"no-referrer"},a))})}async function d1(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},lI),e);try{const i=new uI(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw au(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const h=a.ok?l.errorMessage:l.error.message,[f,g]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw au(t,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw au(t,"email-already-in-use",l);if(f==="USER_DISABLED")throw au(t,"user-disabled",l);const E=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw c1(t,E,g);Dr(t,E)}}catch(i){if(i instanceof Ni)throw i;Dr(t,"network-request-failed")}}async function dc(t,e,n,r,i={}){const a=await uc(t,e,n,r,i);return"mfaPendingCredential"in a&&Dr(t,"multi-factor-auth-required",{_serverResponse:a}),a}function h1(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?jm(t.config,i):`${t.config.apiScheme}://${i}`}class uI{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Yr(this.auth,"network-request-failed")),cI.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function au(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Yr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dI(t,e){return uc(t,"POST","/v1/accounts:delete",e)}async function hI(t,e){return uc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nl(t){if(!!t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function fI(t,e=!1){const n=wn(t),r=await n.getIdToken(e),i=Vm(r);Je(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:nl(xf(i.auth_time)),issuedAtTime:nl(xf(i.iat)),expirationTime:nl(xf(i.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function xf(t){return Number(t)*1e3}function Vm(t){var e;const[n,r,i]=t.split(".");if(n===void 0||r===void 0||i===void 0)return Ou("JWT malformed, contained fewer than 3 sections"),null;try{const a=PD(r);return a?JSON.parse(a):(Ou("Failed to decode base64 JWT payload"),null)}catch(a){return Ou("Caught error parsing JWT payload as JSON",(e=a)===null||e===void 0?void 0:e.toString()),null}}function _I(t){const e=Vm(t);return Je(e,"internal-error"),Je(typeof e.exp<"u","internal-error"),Je(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Il(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ni&&pI(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function pI({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){var e;try{await this.user.getIdToken(!0)}catch(n){((e=n)===null||e===void 0?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=nl(this.lastLoginAt),this.creationTime=nl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function md(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Il(t,hI(n,{idToken:r}));Je(i==null?void 0:i.users.length,n,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?yI(a.providerUserInfo):[],h=vI(t.providerData,l),f=t.isAnonymous,g=!(t.email&&a.passwordHash)&&!(h!=null&&h.length),E=f?g:!1,T={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new f1(a.createdAt,a.lastLoginAt),isAnonymous:E};Object.assign(t,T)}async function gI(t){const e=wn(t);await md(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function vI(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function yI(t){return t.map(e=>{var{providerId:n}=e,r=Fm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bI(t,e){const n=await d1(t,{},async()=>{const r=sc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,l=h1(t,i,"/v1/token",`key=${a}`),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",u1.fetch()(l,{method:"POST",headers:h,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Je(e.idToken,"internal-error"),Je(typeof e.idToken<"u","internal-error"),Je(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_I(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return Je(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await bI(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,l=new Ol;return r&&(Je(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Je(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(Je(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ol,this.toJSON())}_performRefresh(){return oi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mi(t,e){Je(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class $a{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,a=Fm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new f1(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Il(this,this.stsTokenManager.getToken(this.auth,e));return Je(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return fI(this,e)}reload(){return gI(this)}_assign(e){this!==e&&(Je(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new $a(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){Je(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await md(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Il(this,dI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,a,l,h,f,g,E;const T=(r=n.displayName)!==null&&r!==void 0?r:void 0,C=(i=n.email)!==null&&i!==void 0?i:void 0,A=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,L=(l=n.photoURL)!==null&&l!==void 0?l:void 0,N=(h=n.tenantId)!==null&&h!==void 0?h:void 0,R=(f=n._redirectEventId)!==null&&f!==void 0?f:void 0,O=(g=n.createdAt)!==null&&g!==void 0?g:void 0,I=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:$,emailVerified:F,isAnonymous:j,providerData:B,stsTokenManager:z}=n;Je($&&z,e,"internal-error");const H=Ol.fromJSON(this.name,z);Je(typeof $=="string",e,"internal-error"),Mi(T,e.name),Mi(C,e.name),Je(typeof F=="boolean",e,"internal-error"),Je(typeof j=="boolean",e,"internal-error"),Mi(A,e.name),Mi(L,e.name),Mi(N,e.name),Mi(R,e.name),Mi(O,e.name),Mi(I,e.name);const W=new $a({uid:$,auth:e,email:C,emailVerified:F,displayName:T,isAnonymous:j,photoURL:L,phoneNumber:A,tenantId:N,stsTokenManager:H,createdAt:O,lastLoginAt:I});return B&&Array.isArray(B)&&(W.providerData=B.map(Y=>Object.assign({},Y))),R&&(W._redirectEventId=R),W}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ol;i.updateFromServerResponse(n);const a=new $a({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await md(a),a}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}_1.type="NONE";const Fy=_1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mu(t,e,n){return`firebase:${t}:${e}:${n}`}class Ms{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Mu(this.userKey,i.apiKey,a),this.fullPersistenceKey=Mu("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?$a._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ms(li(Fy),e,r);const i=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let a=i[0]||li(Fy);const l=Mu(r,e.config.apiKey,e.name);let h=null;for(const g of n)try{const E=await g._get(l);if(E){const T=$a._fromJSON(e,E);g!==a&&(h=T),a=g;break}}catch{}const f=i.filter(g=>g._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Ms(a,e,r):(a=f[0],h&&await a._set(l,h.toJSON()),await Promise.all(n.map(async g=>{if(g!==a)try{await g._remove(l)}catch{}})),new Ms(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uy(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(g1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(p1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(y1(e))return"Blackberry";if(b1(e))return"Webos";if(zm(e))return"Safari";if((e.includes("chrome/")||m1(e))&&!e.includes("edge/"))return"Chrome";if(v1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function p1(t=cn()){return/firefox\//i.test(t)}function zm(t=cn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function m1(t=cn()){return/crios\//i.test(t)}function g1(t=cn()){return/iemobile/i.test(t)}function v1(t=cn()){return/android/i.test(t)}function y1(t=cn()){return/blackberry/i.test(t)}function b1(t=cn()){return/webos/i.test(t)}function rh(t=cn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function wI(t=cn()){var e;return rh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function xI(){return e1()&&document.documentMode===10}function w1(t=cn()){return rh(t)||v1(t)||b1(t)||y1(t)||/windows phone/i.test(t)||g1(t)}function EI(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(t,e=[]){let n;switch(t){case"Browser":n=Uy(cn());break;case"Worker":n=`${Uy(cn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${oc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,h)=>{try{const f=e(a);l(f)}catch(f){h(f)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){var n;if(this.auth.currentUser===e)return;const r=[];try{for(const i of this.queue)await i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const a of r)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:(n=i)===null||n===void 0?void 0:n.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jy(this),this.idTokenSubscription=new jy(this),this.beforeStateQueue=new SI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=l1,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=li(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ms.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,h=i==null?void 0:i._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===h)&&(f==null?void 0:f.user)&&(i=f.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Je(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){var n;try{await md(e)}catch(r){if(((n=r)===null||n===void 0?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=oI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?wn(e):null;return n&&Je(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Je(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(li(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ac("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&li(e)||this._popupRedirectResolver;Je(n,this,"argument-error"),this.redirectPersistenceManager=await Ms.create(this,[li(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n),l=this._isInitialized?Promise.resolve():this._initializationPromise;return Je(l,this,"internal-error"),l.then(()=>a(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Je(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=x1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function hc(t){return wn(t)}class jy{constructor(e){this.auth=e,this.observer=null,this.addObserver=BD(n=>this.observer=n)}get next(){return Je(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return oi("not implemented")}_getIdTokenResponse(e){return oi("not implemented")}_linkToIdToken(e,n){return oi("not implemented")}_getReauthenticationResolver(e){return oi("not implemented")}}async function CI(t,e){return uc(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TI(t,e){return dc(t,"POST","/v1/accounts:signInWithPassword",cc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NI(t,e){return dc(t,"POST","/v1/accounts:signInWithEmailLink",cc(t,e))}async function DI(t,e){return dc(t,"POST","/v1/accounts:signInWithEmailLink",cc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml extends Hm{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ml(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ml(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if((n==null?void 0:n.email)&&(n==null?void 0:n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return TI(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return NI(e,{email:this._email,oobCode:this._password});default:Dr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return CI(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return DI(e,{idToken:n,email:this._email,oobCode:this._password});default:Dr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ps(t,e){return dc(t,"POST","/v1/accounts:signInWithIdp",cc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI="http://localhost";class Ya extends Hm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ya(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Dr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,a=Fm(n,["providerId","signInMethod"]);if(!r||!i)return null;const l=new Ya(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Ps(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ps(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ps(e,n)}buildRequest(){const e={requestUri:AI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=sc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function II(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function OI(t){const e=jo(Vo(t)).link,n=e?jo(Vo(e)).deep_link_id:null,r=jo(Vo(t)).deep_link_id;return(r?jo(Vo(r)).link:null)||r||n||e||t}class Bm{constructor(e){var n,r,i,a,l,h;const f=jo(Vo(e)),g=(n=f.apiKey)!==null&&n!==void 0?n:null,E=(r=f.oobCode)!==null&&r!==void 0?r:null,T=II((i=f.mode)!==null&&i!==void 0?i:null);Je(g&&E&&T,"argument-error"),this.apiKey=g,this.operation=T,this.code=E,this.continueUrl=(a=f.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=f.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(h=f.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const n=OI(e);try{return new Bm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(){this.providerId=ao.PROVIDER_ID}static credential(e,n){return Ml._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Bm.parseLink(n);return Je(r,"argument-error"),Ml._fromEmailAndCode(e,r.code,r.tenantId)}}ao.PROVIDER_ID="password";ao.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ao.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc extends qm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends fc{constructor(){super("facebook.com")}static credential(e){return Ya._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ji.credential(e.oauthAccessToken)}catch{return null}}}ji.FACEBOOK_SIGN_IN_METHOD="facebook.com";ji.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii extends fc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ya._fromParams({providerId:ii.PROVIDER_ID,signInMethod:ii.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ii.credentialFromTaggedObject(e)}static credentialFromError(e){return ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ii.credential(n,r)}catch{return null}}}ii.GOOGLE_SIGN_IN_METHOD="google.com";ii.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends fc{constructor(){super("github.com")}static credential(e){return Ya._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vi.credentialFromTaggedObject(e)}static credentialFromError(e){return Vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vi.credential(e.oauthAccessToken)}catch{return null}}}Vi.GITHUB_SIGN_IN_METHOD="github.com";Vi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi extends fc{constructor(){super("twitter.com")}static credential(e,n){return Ya._fromParams({providerId:zi.PROVIDER_ID,signInMethod:zi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return zi.credentialFromTaggedObject(e)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return zi.credential(n,r)}catch{return null}}}zi.TWITTER_SIGN_IN_METHOD="twitter.com";zi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MI(t,e){return dc(t,"POST","/v1/accounts:signUp",cc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await $a._fromIdTokenResponse(e,r,i),l=Vy(r);return new Ja({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Vy(r);return new Ja({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Vy(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd extends Ni{constructor(e,n,r,i){var a;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,gd.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new gd(e,n,r,i)}}function E1(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?gd._fromErrorAndOperation(t,a,e,r):a})}async function PI(t,e,n=!1){const r=await Il(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ja._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LI(t,e,n=!1){var r;const{auth:i}=t,a="reauthenticate";try{const l=await Il(t,E1(i,a,e,t),n);Je(l.idToken,i,"internal-error");const h=Vm(l.idToken);Je(h,i,"internal-error");const{sub:f}=h;return Je(t.uid===f,i,"user-mismatch"),Ja._forOperation(t,a,l)}catch(l){throw((r=l)===null||r===void 0?void 0:r.code)==="auth/user-not-found"&&Dr(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S1(t,e,n=!1){const r="signIn",i=await E1(t,r,e),a=await Ja._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function RI(t,e){return S1(hc(t),e)}async function $I(t,e,n){const r=hc(t),i=await MI(r,{returnSecureToken:!0,email:e,password:n}),a=await Ja._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(a.user),a}function FI(t,e,n){return RI(wn(t),ao.credential(e,n))}function UI(t,e,n,r){return wn(t).onAuthStateChanged(e,n,r)}function jI(t){return wn(t).signOut()}const vd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(vd,"1"),this.storage.removeItem(vd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(){const t=cn();return zm(t)||rh(t)}const zI=1e3,HI=10;class C1 extends k1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=VI()&&EI(),this.fallbackToPolling=w1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,h,f)=>{this.notifyListeners(l,f)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const l=this.storage.getItem(r);if(e.newValue!==l)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);xI()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,HI):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},zI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}C1.type="LOCAL";const BI=C1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1 extends k1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}T1.type="SESSION";const N1=T1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qI(t){return Promise.all(t.map(async e=>{try{const n=await e;return{fulfilled:!0,value:n}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new ih(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const h=Array.from(l).map(async g=>g(n.origin,a)),f=await qI(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ih.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((h,f)=>{const g=Wm("",20);i.port1.start();const E=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(T){const C=T;if(C.data.eventId===g)switch(C.data.status){case"ack":clearTimeout(E),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(C.data.response);break;default:clearTimeout(E),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(){return window}function GI(t){Jr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(){return typeof Jr().WorkerGlobalScope<"u"&&typeof Jr().importScripts=="function"}async function KI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function YI(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function JI(){return D1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1="firebaseLocalStorageDb",QI=1,yd="firebaseLocalStorage",I1="fbase_key";class _c{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ah(t,e){return t.transaction([yd],e?"readwrite":"readonly").objectStore(yd)}function XI(){const t=indexedDB.deleteDatabase(A1);return new _c(t).toPromise()}function Y_(){const t=indexedDB.open(A1,QI);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(yd,{keyPath:I1})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(yd)?e(r):(r.close(),await XI(),e(await Y_()))})})}async function zy(t,e,n){const r=ah(t,!0).put({[I1]:e,value:n});return new _c(r).toPromise()}async function ZI(t,e){const n=ah(t,!1).get(e),r=await new _c(n).toPromise();return r===void 0?null:r.value}function Hy(t,e){const n=ah(t,!0).delete(e);return new _c(n).toPromise()}const eO=800,tO=3;class O1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Y_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>tO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return D1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ih._getInstance(JI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await KI(),!this.activeServiceWorker)return;this.sender=new WI(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);!r||((e=r[0])===null||e===void 0?void 0:e.fulfilled)&&((n=r[0])===null||n===void 0?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||YI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Y_();return await zy(e,vd,"1"),await Hy(e,vd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>zy(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>ZI(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Hy(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=ah(i,!1).getAll();return new _c(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),eO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}O1.type="LOCAL";const nO=O1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function iO(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Yr("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",rO().appendChild(r)})}function aO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new lc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(t,e){return e?li(e):(Je(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm extends Hm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ps(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ps(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ps(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function sO(t){return S1(t.auth,new Gm(t),t.bypassAuthState)}function oO(t){const{auth:e,user:n}=t;return Je(n,e,"internal-error"),LI(n,new Gm(t),t.bypassAuthState)}async function lO(t){const{auth:e,user:n}=t;return Je(n,e,"internal-error"),PI(n,new Gm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:l,type:h}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return sO;case"linkViaPopup":case"linkViaRedirect":return lO;case"reauthViaPopup":case"reauthViaRedirect":return oO;default:Dr(this.auth,"internal-error")}}resolve(e){yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cO=new lc(2e3,1e4);async function uO(t,e,n){const r=hc(t);nI(t,e,qm);const i=M1(r,n);return new Ia(r,"signInViaPopup",e,i).executeNotNull()}class Ia extends P1{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Ia.currentPopupAction&&Ia.currentPopupAction.cancel(),Ia.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Je(e,this.auth,"internal-error"),e}async onExecution(){yi(this.filter.length===1,"Popup operations only handle one event");const e=Wm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Yr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Yr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ia.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Yr(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,cO.get())};e()}}Ia.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO="pendingRedirect",Pu=new Map;class hO extends P1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Pu.get(this.auth._key());if(!e){try{const r=await fO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Pu.set(this.auth._key(),e)}return this.bypassAuthState||Pu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fO(t,e){const n=mO(e),r=pO(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function _O(t,e){Pu.set(t._key(),e)}function pO(t){return li(t._redirectPersistence)}function mO(t){return Mu(dO,t.config.apiKey,t.name)}async function gO(t,e,n=!1){const r=hc(t),i=M1(r,e),l=await new hO(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO=10*60*1e3;class yO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!bO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!L1(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Yr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=vO&&this.cachedEventUids.clear(),this.cachedEventUids.has(By(e))}saveEventToCache(e){this.cachedEventUids.add(By(e)),this.lastProcessedEventTime=Date.now()}}function By(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function L1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function bO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return L1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wO(t,e={}){return uc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,EO=/^https?/;async function SO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await wO(t);for(const n of e)try{if(kO(n))return}catch{}Dr(t,"unauthorized-domain")}function kO(t){const e=K_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!EO.test(n))return!1;if(xO.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO=new lc(3e4,6e4);function qy(){const t=Jr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function TO(t){return new Promise((e,n)=>{var r,i,a;function l(){qy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{qy(),n(Yr(t,"network-request-failed"))},timeout:CO.get()})}if(!((i=(r=Jr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Jr().gapi)===null||a===void 0)&&a.load)l();else{const h=aO("iframefcb");return Jr()[h]=()=>{gapi.load?l():n(Yr(t,"network-request-failed"))},iO(`https://apis.google.com/js/api.js?onload=${h}`).catch(f=>n(f))}}).catch(e=>{throw Lu=null,e})}let Lu=null;function NO(t){return Lu=Lu||TO(t),Lu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO=new lc(5e3,15e3),AO="__/auth/iframe",IO="emulator/auth/iframe",OO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},MO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function PO(t){const e=t.config;Je(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?jm(e,IO):`https://${t.config.authDomain}/${AO}`,r={apiKey:e.apiKey,appName:t.name,v:oc},i=MO.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${sc(r).slice(1)}`}async function LO(t){const e=await NO(t),n=Jr().gapi;return Je(n,t,"internal-error"),e.open({where:document.body,url:PO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:OO,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=Yr(t,"network-request-failed"),h=Jr().setTimeout(()=>{a(l)},DO.get());function f(){Jr().clearTimeout(h),i(r)}r.ping(f).then(f,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$O=500,FO=600,UO="_blank",jO="http://localhost";class Wy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function VO(t,e,n,r=$O,i=FO){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f=Object.assign(Object.assign({},RO),{width:r.toString(),height:i.toString(),top:a,left:l}),g=cn().toLowerCase();n&&(h=m1(g)?UO:n),p1(g)&&(e=e||jO,f.scrollbars="yes");const E=Object.entries(f).reduce((C,[A,L])=>`${C}${A}=${L},`,"");if(wI(g)&&h!=="_self")return zO(e||"",h),new Wy(null);const T=window.open(e||"",h,E);Je(T,t,"popup-blocked");try{T.focus()}catch{}return new Wy(T)}function zO(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO="__/auth/handler",BO="emulator/auth/handler";function Gy(t,e,n,r,i,a){Je(t.config.authDomain,t,"auth-domain-config-required"),Je(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:oc,eventId:i};if(e instanceof qm){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",HD(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,g]of Object.entries(a||{}))l[f]=g}if(e instanceof fc){const f=e.getScopes().filter(g=>g!=="");f.length>0&&(l.scopes=f.join(","))}t.tenantId&&(l.tid=t.tenantId);const h=l;for(const f of Object.keys(h))h[f]===void 0&&delete h[f];return`${qO(t)}?${sc(h).slice(1)}`}function qO({config:t}){return t.emulator?jm(t,BO):`https://${t.authDomain}/${HO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ef="webStorageSupport";class WO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=N1,this._completeRedirectFn=gO,this._overrideRedirectResult=_O}async _openPopup(e,n,r,i){var a;yi((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=Gy(e,n,r,K_(),i);return VO(e,l,Wm())}async _openRedirect(e,n,r,i){return await this._originValidation(e),GI(Gy(e,n,r,K_(),i)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(yi(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await LO(e),r=new yO(e);return n.register("authEvent",i=>(Je(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ef,{type:Ef},i=>{var a;const l=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[Ef];l!==void 0&&n(!!l),Dr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=SO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return w1()||zm()||rh()}}const GO=WO;var Ky="@firebase/auth",Yy="0.20.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{var i;e(((i=r)===null||i===void 0?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Je(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function JO(t){qs(new Wa("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:a,authDomain:l}=r.options;return((h,f)=>{Je(a&&!a.includes(":"),"invalid-api-key",{appName:h.name}),Je(!(l!=null&&l.includes(":")),"argument-error",{appName:h.name});const g={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:x1(t)},E=new kI(h,f,g);return iI(E,n),E})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),qs(new Wa("auth-internal",e=>{const n=hc(e.getProvider("auth").getImmediate());return(r=>new KO(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ia(Ky,Yy,YO(t)),ia(Ky,Yy,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QO(t=i1()){const e=$m(t,"auth");return e.isInitialized()?e.getImmediate():rI(t,{popupRedirectResolver:GO,persistence:[nO,BI,N1]})}JO("Browser");const XO={apiKey:"AIzaSyCRLN_2xzTrvHfN4EDRtETLysu2QWCd9Fk",authDomain:"navisacademy-1c1d2.firebaseapp.com",projectId:"navisacademy-1c1d2",storageBucket:"navisacademy-1c1d2.appspot.com",messagingSenderId:"138551732835",appId:"1:138551732835:web:ce9005d6cde0708230e656",measurementId:"G-VC1HXL8EM6"},ZO=HA(XO),Do=QO(ZO);var sh={exports:{}},oh={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eM=ae.exports,tM=Symbol.for("react.element"),nM=Symbol.for("react.fragment"),rM=Object.prototype.hasOwnProperty,iM=eM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,aM={key:!0,ref:!0,__self:!0,__source:!0};function R1(t,e,n){var r,i={},a=null,l=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(l=e.ref);for(r in e)rM.call(e,r)&&!aM.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:tM,type:t,key:a,ref:l,props:i,_owner:iM.current}}oh.Fragment=nM;oh.jsx=R1;oh.jsxs=R1;(function(t){t.exports=oh})(sh);const Yt=sh.exports.Fragment,P=sh.exports.jsx,X=sh.exports.jsxs,$1=ae.exports.createContext(),sM=({children:t})=>{const[e,n]=ae.exports.useState({}),r=()=>{const h=new ii;uO(Do,h)},i=(h,f)=>$I(Do,h,f),a=(h,f)=>FI(Do,h,f),l=()=>jI(Do);return ae.exports.useEffect(()=>{const h=UI(Do,f=>{n(f)});return()=>{h()}},[]),P($1.Provider,{value:{createUser:i,userLogged:e,logOut:l,signIn:a,googleSignIn:r},children:t})},ir=()=>ae.exports.useContext($1);var oM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Pe,Km=Km||{},Qe=oM||self;function bd(){}function J_(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function pc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function lM(t){return Object.prototype.hasOwnProperty.call(t,Sf)&&t[Sf]||(t[Sf]=++cM)}var Sf="closure_uid_"+(1e9*Math.random()>>>0),cM=0;function uM(t,e,n){return t.call.apply(t.bind,arguments)}function dM(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function gn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?gn=uM:gn=dM,gn.apply(null,arguments)}function su(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function En(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,i,a){for(var l=Array(arguments.length-2),h=2;h<arguments.length;h++)l[h-2]=arguments[h];return e.prototype[i].apply(r,l)}}function ma(){this.s=this.s,this.o=this.o}var hM=0;ma.prototype.s=!1;ma.prototype.na=function(){!this.s&&(this.s=!0,this.M(),hM!=0)&&lM(this)};ma.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const F1=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},U1=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const r=t.length,i=typeof t=="string"?t.split(""):t;for(let a=0;a<r;a++)a in i&&e.call(n,i[a],a,t)};function fM(t){e:{var e=iP;const n=t.length,r=typeof t=="string"?t.split(""):t;for(let i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break e}e=-1}return 0>e?null:typeof t=="string"?t.charAt(e):t[e]}function Jy(t){return Array.prototype.concat.apply([],arguments)}function Ym(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function wd(t){return/^[\s\xa0]*$/.test(t)}var Qy=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function $n(t,e){return t.indexOf(e)!=-1}function kf(t,e){return t<e?-1:t>e?1:0}var Fn;e:{var Xy=Qe.navigator;if(Xy){var Zy=Xy.userAgent;if(Zy){Fn=Zy;break e}}Fn=""}function Jm(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function j1(t){const e={};for(const n in t)e[n]=t[n];return e}var e0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V1(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let a=0;a<e0.length;a++)n=e0[a],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Qm(t){return Qm[" "](t),t}Qm[" "]=bd;function _M(t){var e=gM;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var pM=$n(Fn,"Opera"),Ws=$n(Fn,"Trident")||$n(Fn,"MSIE"),z1=$n(Fn,"Edge"),Q_=z1||Ws,H1=$n(Fn,"Gecko")&&!($n(Fn.toLowerCase(),"webkit")&&!$n(Fn,"Edge"))&&!($n(Fn,"Trident")||$n(Fn,"MSIE"))&&!$n(Fn,"Edge"),mM=$n(Fn.toLowerCase(),"webkit")&&!$n(Fn,"Edge");function B1(){var t=Qe.document;return t?t.documentMode:void 0}var xd;e:{var Cf="",Tf=function(){var t=Fn;if(H1)return/rv:([^\);]+)(\)|;)/.exec(t);if(z1)return/Edge\/([\d\.]+)/.exec(t);if(Ws)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(mM)return/WebKit\/(\S+)/.exec(t);if(pM)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Tf&&(Cf=Tf?Tf[1]:""),Ws){var Nf=B1();if(Nf!=null&&Nf>parseFloat(Cf)){xd=String(Nf);break e}}xd=Cf}var gM={};function vM(){return _M(function(){let t=0;const e=Qy(String(xd)).split("."),n=Qy("9").split("."),r=Math.max(e.length,n.length);for(let l=0;t==0&&l<r;l++){var i=e[l]||"",a=n[l]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],i[0].length==0&&a[0].length==0)break;t=kf(i[1].length==0?0:parseInt(i[1],10),a[1].length==0?0:parseInt(a[1],10))||kf(i[2].length==0,a[2].length==0)||kf(i[2],a[2]),i=i[3],a=a[3]}while(t==0)}return 0<=t})}var X_;if(Qe.document&&Ws){var t0=B1();X_=t0||parseInt(xd,10)||void 0}else X_=void 0;var yM=X_,bM=function(){if(!Qe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Qe.addEventListener("test",bd,e),Qe.removeEventListener("test",bd,e)}catch{}return t}();function An(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}An.prototype.h=function(){this.defaultPrevented=!0};function Pl(t,e){if(An.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(H1){e:{try{Qm(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:wM[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Pl.Z.h.call(this)}}En(Pl,An);var wM={2:"touch",3:"pen",4:"mouse"};Pl.prototype.h=function(){Pl.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var mc="closure_listenable_"+(1e6*Math.random()|0),xM=0;function EM(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++xM,this.ca=this.fa=!1}function lh(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function ch(t){this.src=t,this.g={},this.h=0}ch.prototype.add=function(t,e,n,r,i){var a=t.toString();t=this.g[a],t||(t=this.g[a]=[],this.h++);var l=ep(t,e,r,i);return-1<l?(e=t[l],n||(e.fa=!1)):(e=new EM(e,this.src,a,!!r,i),e.fa=n,t.push(e)),e};function Z_(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=F1(r,e),a;(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(lh(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function ep(t,e,n,r){for(var i=0;i<t.length;++i){var a=t[i];if(!a.ca&&a.listener==e&&a.capture==!!n&&a.ia==r)return i}return-1}var Xm="closure_lm_"+(1e6*Math.random()|0),Df={};function q1(t,e,n,r,i){if(r&&r.once)return G1(t,e,n,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)q1(t,e[a],n,r,i);return null}return n=tg(n),t&&t[mc]?t.N(e,n,pc(r)?!!r.capture:!!r,i):W1(t,e,n,!1,r,i)}function W1(t,e,n,r,i,a){if(!e)throw Error("Invalid event type");var l=pc(i)?!!i.capture:!!i,h=eg(t);if(h||(t[Xm]=h=new ch(t)),n=h.add(e,n,r,l,a),n.proxy)return n;if(r=SM(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)bM||(i=l),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Y1(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function SM(){function t(n){return e.call(t.src,t.listener,n)}var e=kM;return t}function G1(t,e,n,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)G1(t,e[a],n,r,i);return null}return n=tg(n),t&&t[mc]?t.O(e,n,pc(r)?!!r.capture:!!r,i):W1(t,e,n,!0,r,i)}function K1(t,e,n,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)K1(t,e[a],n,r,i);else r=pc(r)?!!r.capture:!!r,n=tg(n),t&&t[mc]?(t=t.i,e=String(e).toString(),e in t.g&&(a=t.g[e],n=ep(a,n,r,i),-1<n&&(lh(a[n]),Array.prototype.splice.call(a,n,1),a.length==0&&(delete t.g[e],t.h--)))):t&&(t=eg(t))&&(e=t.g[e.toString()],t=-1,e&&(t=ep(e,n,r,i)),(n=-1<t?e[t]:null)&&Zm(n))}function Zm(t){if(typeof t!="number"&&t&&!t.ca){var e=t.src;if(e&&e[mc])Z_(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Y1(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=eg(e))?(Z_(n,t),n.h==0&&(n.src=null,e[Xm]=null)):lh(t)}}}function Y1(t){return t in Df?Df[t]:Df[t]="on"+t}function kM(t,e){if(t.ca)t=!0;else{e=new Pl(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&Zm(t),t=n.call(r,e)}return t}function eg(t){return t=t[Xm],t instanceof ch?t:null}var Af="__closure_events_fn_"+(1e9*Math.random()>>>0);function tg(t){return typeof t=="function"?t:(t[Af]||(t[Af]=function(e){return t.handleEvent(e)}),t[Af])}function un(){ma.call(this),this.i=new ch(this),this.P=this,this.I=null}En(un,ma);un.prototype[mc]=!0;un.prototype.removeEventListener=function(t,e,n,r){K1(this,t,e,n,r)};function vn(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new An(e,t);else if(e instanceof An)e.target=e.target||t;else{var i=e;e=new An(r,t),V1(e,i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var l=e.g=n[a];i=ou(l,r,!0,e)&&i}if(l=e.g=t,i=ou(l,r,!0,e)&&i,i=ou(l,r,!1,e)&&i,n)for(a=0;a<n.length;a++)l=e.g=n[a],i=ou(l,r,!1,e)&&i}un.prototype.M=function(){if(un.Z.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)lh(n[r]);delete t.g[e],t.h--}}this.I=null};un.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};un.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function ou(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var l=e[a];if(l&&!l.ca&&l.capture==n){var h=l.listener,f=l.ia||l.src;l.fa&&Z_(t.i,l),i=h.call(f,r)!==!1&&i}}return i&&!r.defaultPrevented}var ng=Qe.JSON.stringify;function CM(){var t=Q1;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class TM{constructor(){this.h=this.g=null}add(e,n){const r=J1.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var J1=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new NM,t=>t.reset());class NM{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function DM(t){Qe.setTimeout(()=>{throw t},0)}function rg(t,e){tp||AM(),np||(tp(),np=!0),Q1.add(t,e)}var tp;function AM(){var t=Qe.Promise.resolve(void 0);tp=function(){t.then(IM)}}var np=!1,Q1=new TM;function IM(){for(var t;t=CM();){try{t.h.call(t.g)}catch(n){DM(n)}var e=J1;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}np=!1}function uh(t,e){un.call(this),this.h=t||1,this.g=e||Qe,this.j=gn(this.kb,this),this.l=Date.now()}En(uh,un);Pe=uh.prototype;Pe.da=!1;Pe.S=null;Pe.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),vn(this,"tick"),this.da&&(ig(this),this.start()))}};Pe.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function ig(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}Pe.M=function(){uh.Z.M.call(this),ig(this),delete this.g};function ag(t,e,n){if(typeof t=="function")n&&(t=gn(t,n));else if(t&&typeof t.handleEvent=="function")t=gn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Qe.setTimeout(t,e||0)}function X1(t){t.g=ag(()=>{t.g=null,t.i&&(t.i=!1,X1(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class OM extends ma{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:X1(this)}M(){super.M(),this.g&&(Qe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ll(t){ma.call(this),this.h=t,this.g={}}En(Ll,ma);var n0=[];function Z1(t,e,n,r){Array.isArray(n)||(n&&(n0[0]=n.toString()),n=n0);for(var i=0;i<n.length;i++){var a=q1(e,n[i],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}}function eE(t){Jm(t.g,function(e,n){this.g.hasOwnProperty(n)&&Zm(e)},t),t.g={}}Ll.prototype.M=function(){Ll.Z.M.call(this),eE(this)};Ll.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function dh(){this.g=!0}dh.prototype.Aa=function(){this.g=!1};function MM(t,e,n,r,i,a){t.info(function(){if(t.g)if(a)for(var l="",h=a.split("&"),f=0;f<h.length;f++){var g=h[f].split("=");if(1<g.length){var E=g[0];g=g[1];var T=E.split("_");l=2<=T.length&&T[1]=="type"?l+(E+"="+g+"&"):l+(E+"=redacted&")}}else l=null;else l=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+l})}function PM(t,e,n,r,i,a,l){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+a+" "+l})}function ks(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+RM(t,n)+(r?" "+r:"")})}function LM(t,e){t.info(function(){return"TIMEOUT: "+e})}dh.prototype.info=function(){};function RM(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if(a!="noop"&&a!="stop"&&a!="close")for(var l=1;l<i.length;l++)i[l]=""}}}}return ng(n)}catch{return e}}var as={},r0=null;function hh(){return r0=r0||new un}as.Ma="serverreachability";function tE(t){An.call(this,as.Ma,t)}En(tE,An);function Rl(t){const e=hh();vn(e,new tE(e))}as.STAT_EVENT="statevent";function nE(t,e){An.call(this,as.STAT_EVENT,t),this.stat=e}En(nE,An);function jn(t){const e=hh();vn(e,new nE(e,t))}as.Na="timingevent";function rE(t,e){An.call(this,as.Na,t),this.size=e}En(rE,An);function gc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Qe.setTimeout(function(){t()},e)}var fh={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},iE={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function sg(){}sg.prototype.h=null;function i0(t){return t.h||(t.h=t.i())}function aE(){}var vc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function og(){An.call(this,"d")}En(og,An);function lg(){An.call(this,"c")}En(lg,An);var rp;function _h(){}En(_h,sg);_h.prototype.g=function(){return new XMLHttpRequest};_h.prototype.i=function(){return{}};rp=new _h;function yc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new Ll(this),this.P=$M,t=Q_?125:void 0,this.W=new uh(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new sE}function sE(){this.i=null,this.g="",this.h=!1}var $M=45e3,ip={},Ed={};Pe=yc.prototype;Pe.setTimeout=function(t){this.P=t};function ap(t,e,n){t.K=1,t.v=mh(bi(e)),t.s=n,t.U=!0,oE(t,null)}function oE(t,e){t.F=Date.now(),bc(t),t.A=bi(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),_E(n.h,"t",r),t.C=0,n=t.l.H,t.h=new sE,t.g=PE(t.l,n?e:null,!t.s),0<t.O&&(t.L=new OM(gn(t.Ia,t,t.g),t.O)),Z1(t.V,t.g,"readystatechange",t.gb),e=t.H?j1(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Rl(),MM(t.j,t.u,t.A,t.m,t.X,t.s)}Pe.gb=function(t){t=t.target;const e=this.L;e&&ci(t)==3?e.l():this.Ia(t)};Pe.Ia=function(t){try{if(t==this.g)e:{const E=ci(this.g);var e=this.g.Da();const T=this.g.ba();if(!(3>E)&&(E!=3||Q_||this.g&&(this.h.h||this.g.ga()||l0(this.g)))){this.I||E!=4||e==7||(e==8||0>=T?Rl(3):Rl(2)),ph(this);var n=this.g.ba();this.N=n;t:if(lE(this)){var r=l0(this.g);t="";var i=r.length,a=ci(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Oa(this),rl(this);var l="";break t}this.h.i=new Qe.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,l=this.h.g}else l=this.g.ga();if(this.i=n==200,PM(this.j,this.u,this.A,this.m,this.X,E,n),this.i){if(this.$&&!this.J){t:{if(this.g){var h,f=this.g;if((h=f.g?f.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!wd(h)){var g=h;break t}}g=null}if(n=g)ks(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,sp(this,n);else{this.i=!1,this.o=3,jn(12),Oa(this),rl(this);break e}}this.U?(cE(this,E,l),Q_&&this.i&&E==3&&(Z1(this.V,this.W,"tick",this.fb),this.W.start())):(ks(this.j,this.m,l,null),sp(this,l)),E==4&&Oa(this),this.i&&!this.I&&(E==4?AE(this.l,this):(this.i=!1,bc(this)))}else n==400&&0<l.indexOf("Unknown SID")?(this.o=3,jn(12)):(this.o=0,jn(13)),Oa(this),rl(this)}}}catch{}finally{}};function lE(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Ba:!1}function cE(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=FM(t,n),i==Ed){e==4&&(t.o=4,jn(14),r=!1),ks(t.j,t.m,null,"[Incomplete Response]");break}else if(i==ip){t.o=4,jn(15),ks(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ks(t.j,t.m,i,null),sp(t,i);lE(t)&&i!=Ed&&i!=ip&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,jn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,e=t.l,e.g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),gg(e),e.L=!0,jn(11))):(ks(t.j,t.m,n,"[Invalid Chunked Response]"),Oa(t),rl(t))}Pe.fb=function(){if(this.g){var t=ci(this.g),e=this.g.ga();this.C<e.length&&(ph(this),cE(this,t,e),this.i&&t!=4&&bc(this))}};function FM(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Ed:(n=Number(e.substring(n,r)),isNaN(n)?ip:(r+=1,r+n>e.length?Ed:(e=e.substr(r,n),t.C=r+n,e)))}Pe.cancel=function(){this.I=!0,Oa(this)};function bc(t){t.Y=Date.now()+t.P,uE(t,t.P)}function uE(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=gc(gn(t.eb,t),e)}function ph(t){t.B&&(Qe.clearTimeout(t.B),t.B=null)}Pe.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(LM(this.j,this.A),this.K!=2&&(Rl(),jn(17)),Oa(this),this.o=2,rl(this)):uE(this,this.Y-t)};function rl(t){t.l.G==0||t.I||AE(t.l,t)}function Oa(t){ph(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,ig(t.W),eE(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function sp(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||op(n.i,t))){if(n.I=t.N,!t.J&&op(n.i,t)&&n.G==3){try{var r=n.Ca.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)Td(n),yh(n);else break e;mg(n),jn(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&n.A==0&&!n.v&&(n.v=gc(gn(n.ab,n),6e3));if(1>=gE(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else Ma(n,11)}else if((t.J||n.g==t)&&Td(n),!wd(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){let g=i[e];if(n.U=g[0],g=g[1],n.G==2)if(g[0]=="c"){n.J=g[1],n.la=g[2];const E=g[3];E!=null&&(n.ma=E,n.h.info("VER="+n.ma));const T=g[4];T!=null&&(n.za=T,n.h.info("SVER="+n.za));const C=g[5];C!=null&&typeof C=="number"&&0<C&&(r=1.5*C,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const A=t.g;if(A){const L=A.g?A.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(L){var a=r.i;!a.g&&($n(L,"spdy")||$n(L,"quic")||$n(L,"h2"))&&(a.j=a.l,a.g=new Set,a.h&&(dg(a,a.h),a.h=null))}if(r.D){const N=A.g?A.g.getResponseHeader("X-HTTP-Session-Id"):null;N&&(r.sa=N,Ot(r.F,r.D,N))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var l=t;if(r.oa=ME(r,r.H?r.la:null,r.W),l.J){vE(r.i,l);var h=l,f=r.K;f&&h.setTimeout(f),h.B&&(ph(h),bc(h)),r.g=l}else NE(r);0<n.l.length&&bh(n)}else g[0]!="stop"&&g[0]!="close"||Ma(n,7);else n.G==3&&(g[0]=="stop"||g[0]=="close"?g[0]=="stop"?Ma(n,7):pg(n):g[0]!="noop"&&n.j&&n.j.wa(g),n.A=0)}}Rl(4)}catch{}}function UM(t){if(t.R&&typeof t.R=="function")return t.R();if(typeof t=="string")return t.split("");if(J_(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function cg(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(J_(t)||typeof t=="string")U1(t,e,void 0);else{if(t.T&&typeof t.T=="function")var n=t.T();else if(t.R&&typeof t.R=="function")n=void 0;else if(J_(t)||typeof t=="string"){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=UM(t),i=r.length;for(var a=0;a<i;a++)e.call(void 0,r[a],n&&n[a],t)}}function so(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof so)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}Pe=so.prototype;Pe.R=function(){ug(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t};Pe.T=function(){return ug(this),this.g.concat()};function ug(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Qa(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)r=t.g[e],Qa(i,r)||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}Pe.get=function(t,e){return Qa(this.h,t)?this.h[t]:e};Pe.set=function(t,e){Qa(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e};Pe.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);t.call(e,a,i,this)}};function Qa(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var dE=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function jM(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var a=t[n].substring(0,r);i=t[n].substring(r+1)}else a=t[n];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Xa(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Xa){this.g=e!==void 0?e:t.g,Sd(this,t.j),this.s=t.s,kd(this,t.i),Cd(this,t.m),this.l=t.l,e=t.h;var n=new $l;n.i=e.i,e.g&&(n.g=new so(e.g),n.h=e.h),a0(this,n),this.o=t.o}else t&&(n=String(t).match(dE))?(this.g=!!e,Sd(this,n[1]||"",!0),this.s=il(n[2]||""),kd(this,n[3]||"",!0),Cd(this,n[4]),this.l=il(n[5]||"",!0),a0(this,n[6]||"",!0),this.o=il(n[7]||"")):(this.g=!!e,this.h=new $l(null,this.g))}Xa.prototype.toString=function(){var t=[],e=this.j;e&&t.push(zo(e,s0,!0),":");var n=this.i;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(zo(e,s0,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&t.push("/"),t.push(zo(n,n.charAt(0)=="/"?qM:BM,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",zo(n,GM)),t.join("")};function bi(t){return new Xa(t)}function Sd(t,e,n){t.j=n?il(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function kd(t,e,n){t.i=n?il(e,!0):e}function Cd(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function a0(t,e,n){e instanceof $l?(t.h=e,KM(t.h,t.g)):(n||(e=zo(e,WM)),t.h=new $l(e,t.g))}function Ot(t,e,n){t.h.set(e,n)}function mh(t){return Ot(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function VM(t){return t instanceof Xa?bi(t):new Xa(t,void 0)}function zM(t,e,n,r){var i=new Xa(null,void 0);return t&&Sd(i,t),e&&kd(i,e),n&&Cd(i,n),r&&(i.l=r),i}function il(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function zo(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,HM),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function HM(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var s0=/[#\/\?@]/g,BM=/[#\?:]/g,qM=/[#\?]/g,WM=/[#\?@]/g,GM=/#/g;function $l(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ga(t){t.g||(t.g=new so,t.h=0,t.i&&jM(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Pe=$l.prototype;Pe.add=function(t,e){ga(this),this.i=null,t=oo(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function hE(t,e){ga(t),e=oo(t,e),Qa(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,t=t.g,Qa(t.h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&ug(t)))}function fE(t,e){return ga(t),e=oo(t,e),Qa(t.g.h,e)}Pe.forEach=function(t,e){ga(this),this.g.forEach(function(n,r){U1(n,function(i){t.call(e,i,r,this)},this)},this)};Pe.T=function(){ga(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],a=0;a<i.length;a++)n.push(e[r]);return n};Pe.R=function(t){ga(this);var e=[];if(typeof t=="string")fE(this,t)&&(e=Jy(e,this.g.get(oo(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=Jy(e,t[n])}return e};Pe.set=function(t,e){return ga(this),this.i=null,t=oo(this,t),fE(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Pe.get=function(t,e){return t?(t=this.R(t),0<t.length?String(t[0]):e):e};function _E(t,e,n){hE(t,e),0<n.length&&(t.i=null,t.g.set(oo(t,e),Ym(n)),t.h+=n.length)}Pe.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var l=i;r[a]!==""&&(l+="="+encodeURIComponent(String(r[a]))),t.push(l)}}return this.i=t.join("&")};function oo(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function KM(t,e){e&&!t.j&&(ga(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(hE(this,r),_E(this,i,n))},t)),t.j=e}var YM=class{constructor(t,e){this.h=t,this.g=e}};function pE(t){this.l=t||JM,Qe.PerformanceNavigationTiming?(t=Qe.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Qe.g&&Qe.g.Ea&&Qe.g.Ea()&&Qe.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var JM=10;function mE(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function gE(t){return t.h?1:t.g?t.g.size:0}function op(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function dg(t,e){t.g?t.g.add(e):t.h=e}function vE(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}pE.prototype.cancel=function(){if(this.i=yE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function yE(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return Ym(t.i)}function hg(){}hg.prototype.stringify=function(t){return Qe.JSON.stringify(t,void 0)};hg.prototype.parse=function(t){return Qe.JSON.parse(t,void 0)};function QM(){this.g=new hg}function XM(t,e,n){const r=n||"";try{cg(t,function(i,a){let l=i;pc(i)&&(l=ng(i)),e.push(r+a+"="+encodeURIComponent(l))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function ZM(t,e){const n=new dh;if(Qe.Image){const r=new Image;r.onload=su(lu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=su(lu,n,r,"TestLoadImage: error",!1,e),r.onabort=su(lu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=su(lu,n,r,"TestLoadImage: timeout",!1,e),Qe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function lu(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function wc(t){this.l=t.$b||null,this.j=t.ib||!1}En(wc,sg);wc.prototype.g=function(){return new gh(this.l,this.j)};wc.prototype.i=function(t){return function(){return t}}({});function gh(t,e){un.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=fg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}En(gh,un);var fg=0;Pe=gh.prototype;Pe.open=function(t,e){if(this.readyState!=fg)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Fl(this)};Pe.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Qe).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))};Pe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xc(this)),this.readyState=fg};Pe.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Fl(this)),this.g&&(this.readyState=3,Fl(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Qe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;bE(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))};function bE(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}Pe.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?xc(this):Fl(this),this.readyState==3&&bE(this)}};Pe.Ua=function(t){this.g&&(this.response=this.responseText=t,xc(this))};Pe.Ta=function(t){this.g&&(this.response=t,xc(this))};Pe.ha=function(){this.g&&xc(this)};function xc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Fl(t)}Pe.setRequestHeader=function(t,e){this.v.append(t,e)};Pe.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Pe.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Fl(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(gh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var eP=Qe.JSON.parse;function Kt(t){un.call(this),this.headers=new so,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=wE,this.K=this.L=!1}En(Kt,un);var wE="",tP=/^https?$/i,nP=["POST","PUT"];Pe=Kt.prototype;Pe.ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():rp.g(),this.C=this.u?i0(this.u):i0(rp),this.g.onreadystatechange=gn(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(a){o0(this,a);return}t=n||"";const i=new so(this.headers);r&&cg(r,function(a,l){i.set(l,a)}),r=fM(i.T()),n=Qe.FormData&&t instanceof Qe.FormData,!(0<=F1(nP,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(a,l){this.g.setRequestHeader(l,a)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{SE(this),0<this.B&&((this.K=rP(this.g))?(this.g.timeout=this.B,this.g.ontimeout=gn(this.pa,this)):this.A=ag(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(a){o0(this,a)}};function rP(t){return Ws&&vM()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}function iP(t){return t.toLowerCase()=="content-type"}Pe.pa=function(){typeof Km<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,vn(this,"timeout"),this.abort(8))};function o0(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,xE(t),vh(t)}function xE(t){t.D||(t.D=!0,vn(t,"complete"),vn(t,"error"))}Pe.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,vn(this,"complete"),vn(this,"abort"),vh(this))};Pe.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),vh(this,!0)),Kt.Z.M.call(this)};Pe.Fa=function(){this.s||(this.F||this.v||this.l?EE(this):this.cb())};Pe.cb=function(){EE(this)};function EE(t){if(t.h&&typeof Km<"u"&&(!t.C[1]||ci(t)!=4||t.ba()!=2)){if(t.v&&ci(t)==4)ag(t.Fa,0,t);else if(vn(t,"readystatechange"),ci(t)==4){t.h=!1;try{const h=t.ba();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=h===0){var i=String(t.H).match(dE)[1]||null;if(!i&&Qe.self&&Qe.self.location){var a=Qe.self.location.protocol;i=a.substr(0,a.length-1)}r=!tP.test(i?i.toLowerCase():"")}n=r}if(n)vn(t,"complete"),vn(t,"success");else{t.m=6;try{var l=2<ci(t)?t.g.statusText:""}catch{l=""}t.j=l+" ["+t.ba()+"]",xE(t)}}finally{vh(t)}}}}function vh(t,e){if(t.g){SE(t);const n=t.g,r=t.C[0]?bd:null;t.g=null,t.C=null,e||vn(t,"ready");try{n.onreadystatechange=r}catch{}}}function SE(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Qe.clearTimeout(t.A),t.A=null)}function ci(t){return t.g?t.g.readyState:0}Pe.ba=function(){try{return 2<ci(this)?this.g.status:-1}catch{return-1}};Pe.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};Pe.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),eP(e)}};function l0(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case wE:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}Pe.Da=function(){return this.m};Pe.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function aP(t){let e="";return Jm(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function _g(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=aP(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ot(t,e,n))}function Ao(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function kE(t){this.za=0,this.l=[],this.h=new dh,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ao("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ao("baseRetryDelayMs",5e3,t),this.$a=Ao("retryDelaySeedMs",1e4,t),this.Ya=Ao("forwardChannelMaxRetries",2,t),this.ra=Ao("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new pE(t&&t.concurrentRequestLimit),this.Ca=new QM,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||t.Xb!==!1}Pe=kE.prototype;Pe.ma=8;Pe.G=1;function pg(t){if(CE(t),t.G==3){var e=t.V++,n=bi(t.F);Ot(n,"SID",t.J),Ot(n,"RID",e),Ot(n,"TYPE","terminate"),Ec(t,n),e=new yc(t,t.h,e,void 0),e.K=2,e.v=mh(bi(n)),n=!1,Qe.navigator&&Qe.navigator.sendBeacon&&(n=Qe.navigator.sendBeacon(e.v.toString(),"")),!n&&Qe.Image&&(new Image().src=e.v,n=!0),n||(e.g=PE(e.l,null),e.g.ea(e.v)),e.F=Date.now(),bc(e)}OE(t)}Pe.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch{}};function yh(t){t.g&&(gg(t),t.g.cancel(),t.g=null)}function CE(t){yh(t),t.u&&(Qe.clearTimeout(t.u),t.u=null),Td(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Qe.clearTimeout(t.m),t.m=null)}function If(t,e){t.l.push(new YM(t.Za++,e)),t.G==3&&bh(t)}function bh(t){mE(t.i)||t.m||(t.m=!0,rg(t.Ha,t),t.C=0)}function sP(t,e){return gE(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.l=e.D.concat(t.l),!0):t.G==1||t.G==2||t.C>=(t.Xa?0:t.Ya)?!1:(t.m=gc(gn(t.Ha,t,e),IE(t,t.C)),t.C++,!0)}Pe.Ha=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const i=new yc(this,this.h,t,void 0);let a=this.s;if(this.P&&(a?(a=j1(a),V1(a,this.P)):a=this.P),this.o===null&&(i.H=a),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){t:{var r=this.l[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=TE(this,i,e),n=bi(this.F),Ot(n,"RID",t),Ot(n,"CVER",22),this.D&&Ot(n,"X-HTTP-Session-Id",this.D),Ec(this,n),this.o&&a&&_g(n,this.o,a),dg(this.i,i),this.Ra&&Ot(n,"TYPE","init"),this.ja?(Ot(n,"$req",e),Ot(n,"SID","null"),i.$=!0,ap(i,n,null)):ap(i,n,e),this.G=2}}else this.G==3&&(t?c0(this,t):this.l.length==0||mE(this.i)||c0(this))};function c0(t,e){var n;e?n=e.m:n=t.V++;const r=bi(t.F);Ot(r,"SID",t.J),Ot(r,"RID",n),Ot(r,"AID",t.U),Ec(t,r),t.o&&t.s&&_g(r,t.o,t.s),n=new yc(t,t.h,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=TE(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),dg(t.i,n),ap(n,r,e)}function Ec(t,e){t.j&&cg({},function(n,r){Ot(e,r,n)})}function TE(t,e,n){n=Math.min(t.l.length,n);var r=t.j?gn(t.j.Oa,t.j,t):null;e:{var i=t.l;let a=-1;for(;;){const l=["count="+n];a==-1?0<n?(a=i[0].h,l.push("ofs="+a)):a=0:l.push("ofs="+a);let h=!0;for(let f=0;f<n;f++){let g=i[f].h;const E=i[f].g;if(g-=a,0>g)a=Math.max(0,i[f].h-100),h=!1;else try{XM(E,l,"req"+g+"_")}catch{r&&r(E)}}if(h){r=l.join("&");break e}}}return t=t.l.splice(0,n),e.D=t,r}function NE(t){t.g||t.u||(t.Y=1,rg(t.Ga,t),t.A=0)}function mg(t){return t.g||t.u||3<=t.A?!1:(t.Y++,t.u=gc(gn(t.Ga,t),IE(t,t.A)),t.A++,!0)}Pe.Ga=function(){if(this.u=null,DE(this),this.$&&!(this.L||this.g==null||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=gc(gn(this.bb,this),t)}};Pe.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,jn(10),yh(this),DE(this))};function gg(t){t.B!=null&&(Qe.clearTimeout(t.B),t.B=null)}function DE(t){t.g=new yc(t,t.h,"rpc",t.Y),t.o===null&&(t.g.H=t.s),t.g.O=0;var e=bi(t.oa);Ot(e,"RID","rpc"),Ot(e,"SID",t.J),Ot(e,"CI",t.N?"0":"1"),Ot(e,"AID",t.U),Ec(t,e),Ot(e,"TYPE","xmlhttp"),t.o&&t.s&&_g(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=mh(bi(e)),n.s=null,n.U=!0,oE(n,t)}Pe.ab=function(){this.v!=null&&(this.v=null,yh(this),mg(this),jn(19))};function Td(t){t.v!=null&&(Qe.clearTimeout(t.v),t.v=null)}function AE(t,e){var n=null;if(t.g==e){Td(t),gg(t),t.g=null;var r=2}else if(op(t.i,e))n=e.D,vE(t.i,e),r=1;else return;if(t.I=e.N,t.G!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=hh(),vn(r,new rE(r,n)),bh(t)}else NE(t);else if(i=e.o,i==3||i==0&&0<t.I||!(r==1&&sP(t,e)||r==2&&mg(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ma(t,5);break;case 4:Ma(t,10);break;case 3:Ma(t,6);break;default:Ma(t,2)}}}function IE(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function Ma(t,e){if(t.h.info("Error code "+e),e==2){var n=null;t.j&&(n=null);var r=gn(t.jb,t);n||(n=new Xa("//www.google.com/images/cleardot.gif"),Qe.location&&Qe.location.protocol=="http"||Sd(n,"https"),mh(n)),ZM(n.toString(),r)}else jn(2);t.G=0,t.j&&t.j.va(e),OE(t),CE(t)}Pe.jb=function(t){t?(this.h.info("Successfully pinged google.com"),jn(2)):(this.h.info("Failed to ping google.com"),jn(1))};function OE(t){t.G=0,t.I=-1,t.j&&((yE(t.i).length!=0||t.l.length!=0)&&(t.i.i.length=0,Ym(t.l),t.l.length=0),t.j.ua())}function ME(t,e,n){let r=VM(n);if(r.i!="")e&&kd(r,e+"."+r.i),Cd(r,r.m);else{const i=Qe.location;r=zM(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&Jm(t.aa,function(i,a){Ot(r,a,i)}),e=t.D,n=t.sa,e&&n&&Ot(r,e,n),Ot(r,"VER",t.ma),Ec(t,r),r}function PE(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ba&&!t.qa?new Kt(new wc({ib:!0})):new Kt(t.qa),e.L=t.H,e}function LE(){}Pe=LE.prototype;Pe.xa=function(){};Pe.wa=function(){};Pe.va=function(){};Pe.ua=function(){};Pe.Oa=function(){};function Nd(){if(Ws&&!(10<=Number(yM)))throw Error("Environmental error: no available transport.")}Nd.prototype.g=function(t,e){return new fr(t,e)};function fr(t,e){un.call(this),this.g=new kE(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!wd(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!wd(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new lo(this)}En(fr,un);fr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),rg(gn(t.hb,t,e))),jn(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=ME(t,null,t.W),bh(t)};fr.prototype.close=function(){pg(this.g)};fr.prototype.u=function(t){if(typeof t=="string"){var e={};e.__data__=t,If(this.g,e)}else this.v?(e={},e.__data__=ng(t),If(this.g,e)):If(this.g,t)};fr.prototype.M=function(){this.g.j=null,delete this.j,pg(this.g),delete this.g,fr.Z.M.call(this)};function RE(t){og.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}En(RE,og);function $E(){lg.call(this),this.status=1}En($E,lg);function lo(t){this.g=t}En(lo,LE);lo.prototype.xa=function(){vn(this.g,"a")};lo.prototype.wa=function(t){vn(this.g,new RE(t))};lo.prototype.va=function(t){vn(this.g,new $E)};lo.prototype.ua=function(){vn(this.g,"b")};Nd.prototype.createWebChannel=Nd.prototype.g;fr.prototype.send=fr.prototype.u;fr.prototype.open=fr.prototype.m;fr.prototype.close=fr.prototype.close;fh.NO_ERROR=0;fh.TIMEOUT=8;fh.HTTP_ERROR=6;iE.COMPLETE="complete";aE.EventType=vc;vc.OPEN="a";vc.CLOSE="b";vc.ERROR="c";vc.MESSAGE="d";un.prototype.listen=un.prototype.N;Kt.prototype.listenOnce=Kt.prototype.O;Kt.prototype.getLastError=Kt.prototype.La;Kt.prototype.getLastErrorCode=Kt.prototype.Da;Kt.prototype.getStatus=Kt.prototype.ba;Kt.prototype.getResponseJson=Kt.prototype.Qa;Kt.prototype.getResponseText=Kt.prototype.ga;Kt.prototype.send=Kt.prototype.ea;var oP=function(){return new Nd},lP=function(){return hh()},Of=fh,cP=iE,uP=as,u0={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},dP=wc,cu=aE,hP=Kt;const d0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jn.UNAUTHENTICATED=new Jn(null),Jn.GOOGLE_CREDENTIALS=new Jn("google-credentials-uid"),Jn.FIRST_PARTY=new Jn("first-party-uid"),Jn.MOCK_USER=new Jn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let co="9.9.4";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za=new Lm("@firebase/firestore");function h0(){return Za.logLevel}function ze(t,...e){if(Za.logLevel<=mt.DEBUG){const n=e.map(vg);Za.debug(`Firestore (${co}): ${t}`,...n)}}function wi(t,...e){if(Za.logLevel<=mt.ERROR){const n=e.map(vg);Za.error(`Firestore (${co}): ${t}`,...n)}}function f0(t,...e){if(Za.logLevel<=mt.WARN){const n=e.map(vg);Za.warn(`Firestore (${co}): ${t}`,...n)}}function vg(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(t="Unexpected state"){const e=`FIRESTORE (${co}) INTERNAL ASSERTION FAILED: `+t;throw wi(e),new Error(e)}function kt(t,e){t||Ze()}function nt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _e={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $e extends Ni{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _P{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Jn.UNAUTHENTICATED))}shutdown(){}}class pP{constructor(e){this.t=e,this.currentUser=Jn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let a=new hi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new hi,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await i(this.currentUser)})},h=f=>{ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.auth.addAuthTokenListener(this.o),l()};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new hi)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(kt(typeof r.accessToken=="string"),new fP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return kt(e===null||typeof e=="string"),new Jn(e)}}class mP{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=Jn.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(kt(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class gP{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i}getToken(){return Promise.resolve(new mP(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(Jn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yP{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const r=a=>{a.error!=null&&ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.A;return this.A=a.token,ze("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.T.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.T.getImmediate({optional:!0});a?i(a):ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(kt(typeof n.token=="string"),this.A=n.token,new vP(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=bP(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%e.length))}return r}}function vt(t,e){return t<e?-1:t>e?1:0}function Gs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new $e(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new $e(_e.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new $e(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $e(_e.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return en.fromMillis(Date.now())}static fromDate(e){return en.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new en(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?vt(this.nanoseconds,e.nanoseconds):vt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e){this.timestamp=e}static fromTimestamp(e){return new st(e)}static min(){return new st(new en(0,0))}static max(){return new st(new en(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ze(),r===void 0?r=e.length-n:r>e.length-n&&Ze(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ul.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ul?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=e.get(i),l=n.get(i);if(a<l)return-1;if(a>l)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Dt extends Ul{construct(e,n,r){return new Dt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new $e(_e.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Dt(n)}static emptyPath(){return new Dt([])}}const wP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dn extends Ul{construct(e,n,r){return new Dn(e,n,r)}static isValidIdentifier(e){return wP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Dn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new $e(_e.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const h=e[i];if(h==="\\"){if(i+1===e.length)throw new $e(_e.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new $e(_e.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else h==="`"?(l=!l,i++):h!=="."||l?(r+=h,i++):(a(),i++)}if(a(),l)throw new $e(_e.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dn(n)}static emptyPath(){return new Dn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e){this.path=e}static fromPath(e){return new He(Dt.fromString(e))}static fromName(e){return new He(Dt.fromString(e).popFirst(5))}static empty(){return new He(Dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Dt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new He(new Dt(e.slice()))}}function xP(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=st.fromTimestamp(r===1e9?new en(n+1,0):new en(n,r));return new ua(i,He.empty(),e)}function EP(t){return new ua(t.readTime,t.key,-1)}class ua{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ua(st.min(),He.empty(),-1)}static max(){return new ua(st.max(),He.empty(),-1)}}function SP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=He.comparator(t.documentKey,e.documentKey),n!==0?n:vt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sc(t){if(t.code!==_e.FAILED_PRECONDITION||t.message!==kP)throw t;ze("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ze(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new be((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof be?n:be.resolve(n)}catch(n){return be.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):be.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):be.reject(n)}static resolve(e){return new be((n,r)=>{n(e)})}static reject(e){return new be((n,r)=>{r(e)})}static waitFor(e){return new be((n,r)=>{let i=0,a=0,l=!1;e.forEach(h=>{++i,h.next(()=>{++a,l&&a===i&&n()},f=>r(f))}),l=!0,a===i&&n()})}static or(e){let n=be.resolve(!1);for(const r of e)n=n.next(i=>i?be.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new be((r,i)=>{const a=e.length,l=new Array(a);let h=0;for(let f=0;f<a;f++){const g=f;n(e[g]).next(E=>{l[g]=E,++h,h===a&&r(l)},E=>i(E))}})}static doWhile(e,n){return new be((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function kc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>n.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ss(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function UE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */yg.at=-1;class nn{constructor(e,n){this.comparator=e,this.root=n||_n.EMPTY}insert(e,n){return new nn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_n.BLACK,null,null))}remove(e){return new nn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_n.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new uu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new uu(this.root,e,this.comparator,!1)}getReverseIterator(){return new uu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new uu(this.root,e,this.comparator,!0)}}class uu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _n{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r!=null?r:_n.RED,this.left=i!=null?i:_n.EMPTY,this.right=a!=null?a:_n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new _n(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,a!=null?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return _n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return _n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ze();const e=this.left.check();if(e!==this.right.check())throw Ze();return e+(this.isRed()?0:1)}}_n.EMPTY=null,_n.RED=!0,_n.BLACK=!1;_n.EMPTY=new class{constructor(){this.size=0}get key(){throw Ze()}get value(){throw Ze()}get color(){throw Ze()}get left(){throw Ze()}get right(){throw Ze()}copy(t,e,n,r,i){return this}insert(t,e,n){return new _n(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.comparator=e,this.data=new nn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new p0(this.data.getIterator())}getIteratorFrom(e){return new p0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof tn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new tn(this.comparator);return n.data=e,n}}class p0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this.fields=e,e.sort(Dn.comparator)}static empty(){return new kr([])}unionWith(e){let n=new tn(Dn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new kr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Gs(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new xn(n)}static fromUint8Array(e){const n=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new xn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return vt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}xn.EMPTY_BYTE_STRING=new xn("");const TP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function da(t){if(kt(!!t),typeof t=="string"){let e=0;const n=TP.exec(t);if(kt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Wt(t.seconds),nanos:Wt(t.nanos)}}function Wt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ks(t){return typeof t=="string"?xn.fromBase64String(t):xn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function VE(t){const e=t.mapValue.fields.__previous_value__;return jE(e)?VE(e):e}function jl(t){const e=da(t.mapValue.fields.__local_write_time__.timestampValue);return new en(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(e,n,r,i,a,l,h,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=h,this.useFetchStreams=f}}class Vl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Vl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Vl&&e.projectId===this.projectId&&e.database===this.database}}function wh(t){return t==null}function Dd(t){return t===0&&1/t==-1/0}function DP(t){return typeof t=="number"&&Number.isInteger(t)&&!Dd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function es(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?jE(t)?4:AP(t)?9007199254740991:10:Ze()}function Qr(t,e){if(t===e)return!0;const n=es(t);if(n!==es(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return jl(t).isEqual(jl(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=da(r.timestampValue),l=da(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Ks(r.bytesValue).isEqual(Ks(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Wt(r.geoPointValue.latitude)===Wt(i.geoPointValue.latitude)&&Wt(r.geoPointValue.longitude)===Wt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Wt(r.integerValue)===Wt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=Wt(r.doubleValue),l=Wt(i.doubleValue);return a===l?Dd(a)===Dd(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return Gs(t.arrayValue.values||[],e.arrayValue.values||[],Qr);case 10:return function(r,i){const a=r.mapValue.fields||{},l=i.mapValue.fields||{};if(_0(a)!==_0(l))return!1;for(const h in a)if(a.hasOwnProperty(h)&&(l[h]===void 0||!Qr(a[h],l[h])))return!1;return!0}(t,e);default:return Ze()}}function zl(t,e){return(t.values||[]).find(n=>Qr(n,e))!==void 0}function Ys(t,e){if(t===e)return 0;const n=es(t),r=es(e);if(n!==r)return vt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return vt(t.booleanValue,e.booleanValue);case 2:return function(i,a){const l=Wt(i.integerValue||i.doubleValue),h=Wt(a.integerValue||a.doubleValue);return l<h?-1:l>h?1:l===h?0:isNaN(l)?isNaN(h)?0:-1:1}(t,e);case 3:return m0(t.timestampValue,e.timestampValue);case 4:return m0(jl(t),jl(e));case 5:return vt(t.stringValue,e.stringValue);case 6:return function(i,a){const l=Ks(i),h=Ks(a);return l.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(i,a){const l=i.split("/"),h=a.split("/");for(let f=0;f<l.length&&f<h.length;f++){const g=vt(l[f],h[f]);if(g!==0)return g}return vt(l.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,a){const l=vt(Wt(i.latitude),Wt(a.latitude));return l!==0?l:vt(Wt(i.longitude),Wt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,a){const l=i.values||[],h=a.values||[];for(let f=0;f<l.length&&f<h.length;++f){const g=Ys(l[f],h[f]);if(g)return g}return vt(l.length,h.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===du.mapValue&&a===du.mapValue)return 0;if(i===du.mapValue)return 1;if(a===du.mapValue)return-1;const l=i.fields||{},h=Object.keys(l),f=a.fields||{},g=Object.keys(f);h.sort(),g.sort();for(let E=0;E<h.length&&E<g.length;++E){const T=vt(h[E],g[E]);if(T!==0)return T;const C=Ys(l[h[E]],f[g[E]]);if(C!==0)return C}return vt(h.length,g.length)}(t.mapValue,e.mapValue);default:throw Ze()}}function m0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return vt(t,e);const n=da(t),r=da(e),i=vt(n.seconds,r.seconds);return i!==0?i:vt(n.nanos,r.nanos)}function Ls(t){return lp(t)}function lp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=da(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ks(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,He.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",a=!0;for(const l of r.values||[])a?a=!1:i+=",",i+=lp(l);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",l=!0;for(const h of i)l?l=!1:a+=",",a+=`${h}:${lp(r.fields[h])}`;return a+"}"}(t.mapValue):Ze();var e,n}function g0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function cp(t){return!!t&&"integerValue"in t}function bg(t){return!!t&&"arrayValue"in t}function v0(t){return!!t&&"nullValue"in t}function y0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ru(t){return!!t&&"mapValue"in t}function al(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ss(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=al(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=al(t.arrayValue.values[n]);return e}return Object.assign({},t)}function AP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e){this.value=e}static empty(){return new Zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ru(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=al(n)}setAll(e){let n=Dn.emptyPath(),r={},i=[];e.forEach((l,h)=>{if(!n.isImmediateParentOf(h)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=h.popLast()}l?r[h.lastSegment()]=al(l):i.push(h.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());Ru(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Qr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ru(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ss(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Zn(al(this.value))}}function zE(t){const e=[];return ss(t.fields,(n,r)=>{const i=new Dn([n]);if(Ru(r)){const a=zE(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new kr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e,n,r,i,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=l}static newInvalidDocument(e){return new pn(e,0,st.min(),st.min(),Zn.empty(),0)}static newFoundDocument(e,n,r){return new pn(e,1,n,st.min(),r,0)}static newNoDocument(e,n){return new pn(e,2,n,st.min(),Zn.empty(),0)}static newUnknownDocument(e,n){return new pn(e,3,n,st.min(),Zn.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=st.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e,n=null,r=[],i=[],a=null,l=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=h,this.ht=null}}function b0(t,e=null,n=[],r=[],i=null,a=null,l=null){return new IP(t,e,n,r,i,a,l)}function wg(t){const e=nt(t);if(e.ht===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Ls(i.value);var i}).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),wh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ls(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ls(r)).join(",")),e.ht=n}return e.ht}function OP(t){let e=t.path.canonicalString();return t.collectionGroup!==null&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${Ls(r.value)}`;var r}).join(", ")}]`),wh(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(n)).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>Ls(n)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>Ls(n)).join(",")),`Target(${e})`}function xg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!jP(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if(n=t.filters[i],r=e.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!Qr(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!x0(t.startAt,e.startAt)&&x0(t.endAt,e.endAt)}function up(t){return He.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Vn extends class{}{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.lt(e,n,r):new MP(e,n,r):n==="array-contains"?new RP(e,r):n==="in"?new $P(e,r):n==="not-in"?new FP(e,r):n==="array-contains-any"?new UP(e,r):new Vn(e,n,r)}static lt(e,n,r){return n==="in"?new PP(e,r):new LP(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.ft(Ys(n,this.value)):n!==null&&es(this.value)===es(n)&&this.ft(Ys(n,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ze()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class MP extends Vn{constructor(e,n,r){super(e,n,r),this.key=He.fromName(r.referenceValue)}matches(e){const n=He.comparator(e.key,this.key);return this.ft(n)}}class PP extends Vn{constructor(e,n){super(e,"in",n),this.keys=HE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class LP extends Vn{constructor(e,n){super(e,"not-in",n),this.keys=HE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function HE(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>He.fromName(r.referenceValue))}class RP extends Vn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return bg(n)&&zl(n.arrayValue,this.value)}}class $P extends Vn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&zl(this.value.arrayValue,n)}}class FP extends Vn{constructor(e,n){super(e,"not-in",n)}matches(e){if(zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!zl(this.value.arrayValue,n)}}class UP extends Vn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!bg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>zl(this.value.arrayValue,r))}}class Ad{constructor(e,n){this.position=e,this.inclusive=n}}class sl{constructor(e,n="asc"){this.field=e,this.dir=n}}function jP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function w0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],l=t.position[i];if(a.field.isKeyField()?r=He.comparator(He.fromName(l.referenceValue),n.key):r=Ys(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function x0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Qr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,n=null,r=[],i=[],a=null,l="F",h=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=h,this.endAt=f,this._t=null,this.wt=null,this.startAt,this.endAt}}function VP(t,e,n,r,i,a,l,h){return new Cc(t,e,n,r,i,a,l,h)}function xh(t){return new Cc(t)}function E0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function BE(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function qE(t){for(const e of t.filters)if(e.dt())return e.field;return null}function WE(t){return t.collectionGroup!==null}function Hl(t){const e=nt(t);if(e._t===null){e._t=[];const n=qE(e),r=BE(e);if(n!==null&&r===null)n.isKeyField()||e._t.push(new sl(n)),e._t.push(new sl(Dn.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e._t.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new sl(Dn.keyField(),a))}}}return e._t}function xi(t){const e=nt(t);if(!e.wt)if(e.limitType==="F")e.wt=b0(e.path,e.collectionGroup,Hl(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const a of Hl(e)){const l=a.dir==="desc"?"asc":"desc";n.push(new sl(a.field,l))}const r=e.endAt?new Ad(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Ad(e.startAt.position,e.startAt.inclusive):null;e.wt=b0(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.wt}function dp(t,e,n){return new Cc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Eh(t,e){return xg(xi(t),xi(e))&&t.limitType===e.limitType}function GE(t){return`${wg(xi(t))}|lt:${t.limitType}`}function hp(t){return`Query(target=${OP(xi(t))}; limitType=${t.limitType})`}function Eg(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):He.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of n.explicitOrderBy)if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,a,l){const h=w0(i,a,l);return i.inclusive?h<=0:h<0}(n.startAt,Hl(n),r)||n.endAt&&!function(i,a,l){const h=w0(i,a,l);return i.inclusive?h>=0:h>0}(n.endAt,Hl(n),r))}(t,e)}function zP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function KE(t){return(e,n)=>{let r=!1;for(const i of Hl(t)){const a=HP(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function HP(t,e,n){const r=t.field.isKeyField()?He.comparator(e.key,n.key):function(i,a,l){const h=a.data.field(i),f=l.data.field(i);return h!==null&&f!==null?Ys(h,f):Ze()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ze()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(t,e){if(t.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dd(e)?"-0":e}}function JE(t){return{integerValue:""+t}}function QE(t,e){return DP(e)?JE(e):YE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(){this._=void 0}}function BP(t,e,n){return t instanceof Bl?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(a.fields.__previous_value__=i),{mapValue:a}}(n,e):t instanceof ql?ZE(t,e):t instanceof Wl?eS(t,e):function(r,i){const a=XE(r,i),l=S0(a)+S0(r.yt);return cp(a)&&cp(r.yt)?JE(l):YE(r.It,l)}(t,e)}function qP(t,e,n){return t instanceof ql?ZE(t,e):t instanceof Wl?eS(t,e):n}function XE(t,e){return t instanceof Gl?cp(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Bl extends Sh{}class ql extends Sh{constructor(e){super(),this.elements=e}}function ZE(t,e){const n=tS(e);for(const r of t.elements)n.some(i=>Qr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Wl extends Sh{constructor(e){super(),this.elements=e}}function eS(t,e){let n=tS(e);for(const r of t.elements)n=n.filter(i=>!Qr(i,r));return{arrayValue:{values:n}}}class Gl extends Sh{constructor(e,n){super(),this.It=e,this.yt=n}}function S0(t){return Wt(t.integerValue||t.doubleValue)}function tS(t){return bg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e,n){this.field=e,this.transform=n}}function WP(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof ql&&r instanceof ql||n instanceof Wl&&r instanceof Wl?Gs(n.elements,r.elements,Qr):n instanceof Gl&&r instanceof Gl?Qr(n.yt,r.yt):n instanceof Bl&&r instanceof Bl}(t.transform,e.transform)}class GP{constructor(e,n){this.version=e,this.transformResults=n}}class Cr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Cr}static exists(e){return new Cr(void 0,e)}static updateTime(e){return new Cr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $u(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class kh{}function rS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Sg(t.key,Cr.none()):new Tc(t.key,t.data,Cr.none());{const n=t.data,r=Zn.empty();let i=new tn(Dn.comparator);for(let a of e.fields)if(!i.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new va(t.key,r,new kr(i.toArray()),Cr.none())}}function KP(t,e,n){t instanceof Tc?function(r,i,a){const l=r.value.clone(),h=C0(r.fieldTransforms,i,a.transformResults);l.setAll(h),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof va?function(r,i,a){if(!$u(r.precondition,i))return void i.convertToUnknownDocument(a.version);const l=C0(r.fieldTransforms,i,a.transformResults),h=i.data;h.setAll(iS(r)),h.setAll(l),i.convertToFoundDocument(a.version,h).setHasCommittedMutations()}(t,e,n):function(r,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function ol(t,e,n,r){return t instanceof Tc?function(i,a,l,h){if(!$u(i.precondition,a))return l;const f=i.value.clone(),g=T0(i.fieldTransforms,h,a);return f.setAll(g),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),null}(t,e,n,r):t instanceof va?function(i,a,l,h){if(!$u(i.precondition,a))return l;const f=T0(i.fieldTransforms,h,a),g=a.data;return g.setAll(iS(i)),g.setAll(f),a.convertToFoundDocument(a.version,g).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(E=>E.field))}(t,e,n,r):function(i,a,l){return $u(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function YP(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=XE(r.transform,i||null);a!=null&&(n===null&&(n=Zn.empty()),n.set(r.field,a))}return n||null}function k0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Gs(n,r,(i,a)=>WP(i,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Tc extends kh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class va extends kh{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function iS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function C0(t,e,n){const r=new Map;kt(t.length===n.length);for(let i=0;i<n.length;i++){const a=t[i],l=a.transform,h=e.data.field(a.field);r.set(a.field,qP(l,h,n[i]))}return r}function T0(t,e,n){const r=new Map;for(const i of t){const a=i.transform,l=n.data.field(i.field);r.set(i.field,BP(a,l,e))}return r}class Sg extends kh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class JP extends kh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt,ct;function XP(t){switch(t){default:return Ze();case _e.CANCELLED:case _e.UNKNOWN:case _e.DEADLINE_EXCEEDED:case _e.RESOURCE_EXHAUSTED:case _e.INTERNAL:case _e.UNAVAILABLE:case _e.UNAUTHENTICATED:return!1;case _e.INVALID_ARGUMENT:case _e.NOT_FOUND:case _e.ALREADY_EXISTS:case _e.PERMISSION_DENIED:case _e.FAILED_PRECONDITION:case _e.ABORTED:case _e.OUT_OF_RANGE:case _e.UNIMPLEMENTED:case _e.DATA_LOSS:return!0}}function aS(t){if(t===void 0)return wi("GRPC error has no .code"),_e.UNKNOWN;switch(t){case Bt.OK:return _e.OK;case Bt.CANCELLED:return _e.CANCELLED;case Bt.UNKNOWN:return _e.UNKNOWN;case Bt.DEADLINE_EXCEEDED:return _e.DEADLINE_EXCEEDED;case Bt.RESOURCE_EXHAUSTED:return _e.RESOURCE_EXHAUSTED;case Bt.INTERNAL:return _e.INTERNAL;case Bt.UNAVAILABLE:return _e.UNAVAILABLE;case Bt.UNAUTHENTICATED:return _e.UNAUTHENTICATED;case Bt.INVALID_ARGUMENT:return _e.INVALID_ARGUMENT;case Bt.NOT_FOUND:return _e.NOT_FOUND;case Bt.ALREADY_EXISTS:return _e.ALREADY_EXISTS;case Bt.PERMISSION_DENIED:return _e.PERMISSION_DENIED;case Bt.FAILED_PRECONDITION:return _e.FAILED_PRECONDITION;case Bt.ABORTED:return _e.ABORTED;case Bt.OUT_OF_RANGE:return _e.OUT_OF_RANGE;case Bt.UNIMPLEMENTED:return _e.UNIMPLEMENTED;case Bt.DATA_LOSS:return _e.DATA_LOSS;default:return Ze()}}(ct=Bt||(Bt={}))[ct.OK=0]="OK",ct[ct.CANCELLED=1]="CANCELLED",ct[ct.UNKNOWN=2]="UNKNOWN",ct[ct.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ct[ct.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ct[ct.NOT_FOUND=5]="NOT_FOUND",ct[ct.ALREADY_EXISTS=6]="ALREADY_EXISTS",ct[ct.PERMISSION_DENIED=7]="PERMISSION_DENIED",ct[ct.UNAUTHENTICATED=16]="UNAUTHENTICATED",ct[ct.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ct[ct.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ct[ct.ABORTED=10]="ABORTED",ct[ct.OUT_OF_RANGE=11]="OUT_OF_RANGE",ct[ct.UNIMPLEMENTED=12]="UNIMPLEMENTED",ct[ct.INTERNAL=13]="INTERNAL",ct[ct.UNAVAILABLE=14]="UNAVAILABLE",ct[ct.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ss(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return UE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP=new nn(He.comparator);function Ei(){return ZP}const sS=new nn(He.comparator);function Ho(...t){let e=sS;for(const n of t)e=e.insert(n.key,n);return e}function oS(t){let e=sS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Pa(){return ll()}function lS(){return ll()}function ll(){return new uo(t=>t.toString(),(t,e)=>t.isEqual(e))}const eL=new nn(He.comparator),tL=new tn(He.comparator);function ot(...t){let e=tL;for(const n of t)e=e.add(n);return e}const nL=new tn(vt);function cS(){return nL}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n){const r=new Map;return r.set(e,Nc.createSynthesizedTargetChangeForCurrentChange(e,n)),new Ch(st.min(),r,cS(),Ei(),ot())}}class Nc{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n){return new Nc(xn.EMPTY_BYTE_STRING,n,ot(),ot(),ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,n,r,i){this.Tt=e,this.removedTargetIds=n,this.key=r,this.Et=i}}class uS{constructor(e,n){this.targetId=e,this.At=n}}class dS{constructor(e,n,r=xn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class N0{constructor(){this.Rt=0,this.bt=A0(),this.Pt=xn.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return this.Rt!==0}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=ot(),n=ot(),r=ot();return this.bt.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ze()}}),new Nc(this.Pt,this.vt,e,n,r)}Nt(){this.Vt=!1,this.bt=A0()}kt(e,n){this.Vt=!0,this.bt=this.bt.insert(e,n)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class rL{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=Ei(),this.qt=D0(),this.Kt=new tn(vt)}Gt(e){for(const n of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(n,e.Et):this.jt(n,e.key,e.Et);for(const n of e.removedTargetIds)this.jt(n,e.key,e.Et)}Wt(e){this.forEachTarget(e,n=>{const r=this.zt(n);switch(e.state){case 0:this.Ht(n)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(n);break;case 3:this.Ht(n)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(n)&&(this.Jt(n),r.Ct(e.resumeToken));break;default:Ze()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Lt.forEach((r,i)=>{this.Ht(i)&&n(i)})}Yt(e){const n=e.targetId,r=e.At.count,i=this.Xt(n);if(i){const a=i.target;if(up(a))if(r===0){const l=new He(a.path);this.jt(n,l,pn.newNoDocument(l,st.min()))}else kt(r===1);else this.Zt(n)!==r&&(this.Jt(n),this.Kt=this.Kt.add(n))}}te(e){const n=new Map;this.Lt.forEach((a,l)=>{const h=this.Xt(l);if(h){if(a.current&&up(h.target)){const f=new He(h.target.path);this.Ut.get(f)!==null||this.ee(l,f)||this.jt(l,f,pn.newNoDocument(f,e))}a.Dt&&(n.set(l,a.xt()),a.Nt())}});let r=ot();this.qt.forEach((a,l)=>{let h=!0;l.forEachWhile(f=>{const g=this.Xt(f);return!g||g.purpose===2||(h=!1,!1)}),h&&(r=r.add(a))}),this.Ut.forEach((a,l)=>l.setReadTime(e));const i=new Ch(e,n,this.Kt,this.Ut,r);return this.Ut=Ei(),this.qt=D0(),this.Kt=new tn(vt),i}Qt(e,n){if(!this.Ht(e))return;const r=this.ee(e,n.key)?2:0;this.zt(e).kt(n.key,r),this.Ut=this.Ut.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ne(n.key).add(e))}jt(e,n,r){if(!this.Ht(e))return;const i=this.zt(e);this.ee(e,n)?i.kt(n,1):i.Mt(n),this.qt=this.qt.insert(n,this.ne(n).delete(e)),r&&(this.Ut=this.Ut.insert(n,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const n=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let n=this.Lt.get(e);return n||(n=new N0,this.Lt.set(e,n)),n}ne(e){let n=this.qt.get(e);return n||(n=new tn(vt),this.qt=this.qt.insert(e,n)),n}Ht(e){const n=this.Xt(e)!==null;return n||ze("WatchChangeAggregator","Detected inactive target",e),n}Xt(e){const n=this.Lt.get(e);return n&&n.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new N0),this.Bt.getRemoteKeysForTarget(e).forEach(n=>{this.jt(e,n,null)})}ee(e,n){return this.Bt.getRemoteKeysForTarget(e).has(n)}}function D0(){return new nn(He.comparator)}function A0(){return new nn(He.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iL=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),aL=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))();class sL{constructor(e,n){this.databaseId=e,this.gt=n}}function Id(t,e){return t.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function hS(t,e){return t.gt?e.toBase64():e.toUint8Array()}function oL(t,e){return Id(t,e.toTimestamp())}function fi(t){return kt(!!t),st.fromTimestamp(function(e){const n=da(e);return new en(n.seconds,n.nanos)}(t))}function kg(t,e){return function(n){return new Dt(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function fS(t){const e=Dt.fromString(t);return kt(mS(e)),e}function fp(t,e){return kg(t.databaseId,e.path)}function Mf(t,e){const n=fS(e);if(n.get(1)!==t.databaseId.projectId)throw new $e(_e.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new $e(_e.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new He(_S(n))}function _p(t,e){return kg(t.databaseId,e)}function lL(t){const e=fS(t);return e.length===4?Dt.emptyPath():_S(e)}function pp(t){return new Dt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function _S(t){return kt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function I0(t,e,n){return{name:fp(t,e),fields:n.value.mapValue.fields}}function cL(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Ze()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(f,g){return f.gt?(kt(g===void 0||typeof g=="string"),xn.fromBase64String(g||"")):(kt(g===void 0||g instanceof Uint8Array),xn.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,h=l&&function(f){const g=f.code===void 0?_e.UNKNOWN:aS(f.code);return new $e(g,f.message||"")}(l);n=new dS(r,i,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Mf(t,r.document.name),a=fi(r.document.updateTime),l=new Zn({mapValue:{fields:r.document.fields}}),h=pn.newFoundDocument(i,a,l),f=r.targetIds||[],g=r.removedTargetIds||[];n=new Fu(f,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Mf(t,r.document),a=r.readTime?fi(r.readTime):st.min(),l=pn.newNoDocument(i,a),h=r.removedTargetIds||[];n=new Fu([],h,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Mf(t,r.document),a=r.removedTargetIds||[];n=new Fu([],a,i,null)}else{if(!("filter"in e))return Ze();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,a=new QP(i),l=r.targetId;n=new uS(l,a)}}return n}function uL(t,e){let n;if(e instanceof Tc)n={update:I0(t,e.key,e.value)};else if(e instanceof Sg)n={delete:fp(t,e.key)};else if(e instanceof va)n={update:I0(t,e.key,e.data),updateMask:bL(e.fieldMask)};else{if(!(e instanceof JP))return Ze();n={verify:fp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const l=a.transform;if(l instanceof Bl)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof ql)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Wl)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Gl)return{fieldPath:a.field.canonicalString(),increment:l.yt};throw Ze()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:oL(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Ze()}(t,e.precondition)),n}function dL(t,e){return t&&t.length>0?(kt(e!==void 0),t.map(n=>function(r,i){let a=r.updateTime?fi(r.updateTime):fi(i);return a.isEqual(st.min())&&(a=fi(i)),new GP(a,r.transformResults||[])}(n,e))):[]}function hL(t,e){return{documents:[_p(t,e.path)]}}function fL(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=_p(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=_p(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(f){if(f.length===0)return;const g=f.map(E=>function(T){if(T.op==="=="){if(y0(T.value))return{unaryFilter:{field:us(T.field),op:"IS_NAN"}};if(v0(T.value))return{unaryFilter:{field:us(T.field),op:"IS_NULL"}}}else if(T.op==="!="){if(y0(T.value))return{unaryFilter:{field:us(T.field),op:"IS_NOT_NAN"}};if(v0(T.value))return{unaryFilter:{field:us(T.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:us(T.field),op:gL(T.op),value:T.value}}}(E));return g.length===1?g[0]:{compositeFilter:{op:"AND",filters:g}}}(e.filters);i&&(n.structuredQuery.where=i);const a=function(f){if(f.length!==0)return f.map(g=>function(E){return{field:us(E.field),direction:mL(E.dir)}}(g))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=function(f,g){return f.gt||wh(g)?g:{value:g}}(t,e.limit);var h;return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),n}function _L(t){let e=lL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){kt(r===1);const E=n.from[0];E.allDescendants?i=E.collectionId:e=e.child(E.collectionId)}let a=[];n.where&&(a=pS(n.where));let l=[];n.orderBy&&(l=n.orderBy.map(E=>function(T){return new sl(Cs(T.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(E)));let h=null;n.limit&&(h=function(E){let T;return T=typeof E=="object"?E.value:E,wh(T)?null:T}(n.limit));let f=null;n.startAt&&(f=function(E){const T=!!E.before,C=E.values||[];return new Ad(C,T)}(n.startAt));let g=null;return n.endAt&&(g=function(E){const T=!E.before,C=E.values||[];return new Ad(C,T)}(n.endAt)),VP(e,i,l,a,h,"F",f,g)}function pL(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ze()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function pS(t){return t?t.unaryFilter!==void 0?[yL(t)]:t.fieldFilter!==void 0?[vL(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(e=>pS(e)).reduce((e,n)=>e.concat(n)):Ze():[]}function mL(t){return iL[t]}function gL(t){return aL[t]}function us(t){return{fieldPath:t.canonicalString()}}function Cs(t){return Dn.fromServerFormat(t.fieldPath)}function vL(t){return Vn.create(Cs(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ze()}}(t.fieldFilter.op),t.fieldFilter.value)}function yL(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Cs(t.unaryFilter.field);return Vn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Cs(t.unaryFilter.field);return Vn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Cs(t.unaryFilter.field);return Vn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Cs(t.unaryFilter.field);return Vn.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Ze()}}function bL(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function mS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&KP(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=ol(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=ol(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=lS();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let h=this.applyToLocalView(l,a.mutatedFields);h=n.has(i.key)?null:h;const f=rS(l,h);f!==null&&r.set(i.key,f),l.isValidDocument()||l.convertToNoDocument(st.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ot())}isEqual(e){return this.batchId===e.batchId&&Gs(this.mutations,e.mutations,(n,r)=>k0(n,r))&&Gs(this.baseMutations,e.baseMutations,(n,r)=>k0(n,r))}}class Cg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){kt(e.mutations.length===r.length);let i=eL;const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new Cg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e,n,r,i,a=st.min(),l=st.min(),h=xn.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=h}withSequenceNumber(e){return new Fa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Fa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Fa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(e){this.re=e}}function SL(t){const e=_L({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?dp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(){this.Ye=new CL}addToCollectionParentIndex(e,n){return this.Ye.add(n),be.resolve()}getCollectionParents(e,n){return be.resolve(this.Ye.getEntries(n))}addFieldIndex(e,n){return be.resolve()}deleteFieldIndex(e,n){return be.resolve()}getDocumentsMatchingTarget(e,n){return be.resolve(null)}getIndexType(e,n){return be.resolve(0)}getFieldIndexes(e,n){return be.resolve([])}getNextCollectionGroupToUpdate(e){return be.resolve(null)}getMinOffset(e,n){return be.resolve(ua.min())}getMinOffsetFromCollectionGroup(e,n){return be.resolve(ua.min())}updateCollectionGroup(e,n,r){return be.resolve()}updateIndexEntries(e,n){return be.resolve()}}class CL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new tn(Dt.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new tn(Dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Js(0)}static vn(){return new Js(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(){this.changes=new uo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?be.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.getBaseDocument(e,n,r))).next(i=>(r!==null&&ol(r.mutation,i,kr.empty(),en.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ot()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ot()){const i=Pa();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let l=Ho();return a.forEach((h,f)=>{l=l.insert(h,f.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=Pa();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ot()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,h)=>{n.set(l,h)})})}computeViews(e,n,r,i){let a=Ei();const l=ll(),h=ll();return n.forEach((f,g)=>{const E=r.get(g.key);i.has(g.key)&&(E===void 0||E.mutation instanceof va)?a=a.insert(g.key,g):E!==void 0&&(l.set(g.key,E.mutation.getFieldMask()),ol(E.mutation,g,E.mutation.getFieldMask(),en.now()))}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((g,E)=>l.set(g,E)),n.forEach((g,E)=>{var T;return h.set(g,new NL(E,(T=l.get(g))!==null&&T!==void 0?T:null))}),h))}recalculateAndSaveOverlays(e,n){const r=ll();let i=new nn((l,h)=>l-h),a=ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const h of l)h.keys().forEach(f=>{const g=n.get(f);if(g===null)return;let E=r.get(f)||kr.empty();E=h.applyToLocalView(g,E),r.set(f,E);const T=(i.get(h.batchId)||ot()).add(f);i=i.insert(h.batchId,T)})}).next(()=>{const l=[],h=i.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),g=f.key,E=f.value,T=lS();E.forEach(C=>{if(!a.has(C)){const A=rS(n.get(C),r.get(C));A!==null&&T.set(C,A),a=a.add(C)}}),l.push(this.documentOverlayCache.saveOverlays(e,g,T))}return be.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return He.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):WE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):be.resolve(Pa());let h=-1,f=a;return l.next(g=>be.forEach(g,(E,T)=>(h<T.largestBatchId&&(h=T.largestBatchId),a.get(E)?be.resolve():this.getBaseDocument(e,E,T).next(C=>{f=f.insert(E,C)}))).next(()=>this.populateOverlays(e,g,a)).next(()=>this.computeViews(e,f,g,ot())).next(E=>({batchId:h,changes:oS(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new He(n)).next(r=>{let i=Ho();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let a=Ho();return this.indexManager.getCollectionParents(e,i).next(l=>be.forEach(l,h=>{const f=function(g,E){return new Cc(E,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,h.child(i));return this.getDocumentsMatchingCollectionQuery(e,f,r).next(g=>{g.forEach((E,T)=>{a=a.insert(E,T)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,n.path,r).next(a=>(i=a,this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId))).next(a=>{a.forEach((h,f)=>{const g=f.getKey();i.get(g)===null&&(i=i.insert(g,pn.newInvalidDocument(g)))});let l=Ho();return i.forEach((h,f)=>{const g=a.get(h);g!==void 0&&ol(g.mutation,f,kr.empty(),en.now()),Eg(n,f)&&(l=l.insert(h,f))}),l})}getBaseDocument(e,n,r){return r===null||r.mutation.type===1?this.remoteDocumentCache.getEntry(e,n):be.resolve(pn.newInvalidDocument(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return be.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:fi(r.createTime)}),be.resolve()}getNamedQuery(e,n){return be.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,function(r){return{name:r.name,query:SL(r.bundledQuery),readTime:fi(r.readTime)}}(n)),be.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(){this.overlays=new nn(He.comparator),this.es=new Map}getOverlay(e,n){return be.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Pa();return be.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.ue(e,n,a)}),be.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.es.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.es.delete(r)),be.resolve()}getOverlaysForCollection(e,n,r){const i=Pa(),a=n.length+1,l=new He(n.child("")),h=this.overlays.getIteratorFrom(l);for(;h.hasNext();){const f=h.getNext().value,g=f.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===a&&f.largestBatchId>r&&i.set(f.getKey(),f)}return be.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new nn((g,E)=>g-E);const l=this.overlays.getIterator();for(;l.hasNext();){const g=l.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>r){let E=a.get(g.largestBatchId);E===null&&(E=Pa(),a=a.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const h=Pa(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((g,E)=>h.set(g,E)),!(h.size()>=i)););return be.resolve(h)}ue(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new xL(n,r));let a=this.es.get(n);a===void 0&&(a=ot(),this.es.set(n,a)),this.es.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(){this.ns=new tn(an.ss),this.rs=new tn(an.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const r=new an(e,n);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.cs(new an(e,n))}hs(e,n){e.forEach(r=>this.removeReference(r,n))}ls(e){const n=new He(new Dt([])),r=new an(n,e),i=new an(n,e+1),a=[];return this.rs.forEachInRange([r,i],l=>{this.cs(l),a.push(l.key)}),a}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new He(new Dt([])),r=new an(n,e),i=new an(n,e+1);let a=ot();return this.rs.forEachInRange([r,i],l=>{a=a.add(l.key)}),a}containsKey(e){const n=new an(e,0),r=this.ns.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class an{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return He.comparator(e.key,n.key)||vt(e._s,n._s)}static os(e,n){return vt(e._s,n._s)||He.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new tn(an.ss)}checkEmpty(e){return be.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new wL(a,n,r,i);this.mutationQueue.push(l);for(const h of i)this.gs=this.gs.add(new an(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return be.resolve(l)}lookupMutationBatch(e,n){return be.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ps(r),a=i<0?0:i;return be.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return be.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return be.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new an(n,0),i=new an(n,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],l=>{const h=this.ys(l._s);a.push(h)}),be.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new tn(vt);return n.forEach(i=>{const a=new an(i,0),l=new an(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([a,l],h=>{r=r.add(h._s)})}),be.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;He.isDocumentKey(a)||(a=a.child(""));const l=new an(new He(a),0);let h=new tn(vt);return this.gs.forEachWhile(f=>{const g=f.key.path;return!!r.isPrefixOf(g)&&(g.length===i&&(h=h.add(f._s)),!0)},l),be.resolve(this.Is(h))}Is(e){const n=[];return e.forEach(r=>{const i=this.ys(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){kt(this.Ts(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.gs;return be.forEach(n.mutations,i=>{const a=new an(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,n){const r=new an(n,0),i=this.gs.firstAfterOrEqual(r);return be.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,be.resolve()}Ts(e,n){return this.ps(e)}ps(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(e){this.Es=e,this.docs=new nn(He.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,l=this.Es(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return be.resolve(r?r.document.mutableCopy():pn.newInvalidDocument(n))}getEntries(e,n){let r=Ei();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():pn.newInvalidDocument(i))}),be.resolve(r)}getAllFromCollection(e,n,r){let i=Ei();const a=new He(n.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:h,value:{document:f}}=l.getNext();if(!n.isPrefixOf(h.path))break;h.path.length>n.length+1||SP(EP(f),r)<=0||(i=i.insert(f.key,f.mutableCopy()))}return be.resolve(i)}getAllFromCollectionGroup(e,n,r,i){Ze()}As(e,n){return be.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new PL(this)}getSize(e){return be.resolve(this.size)}}class PL extends TL{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),be.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LL{constructor(e){this.persistence=e,this.Rs=new uo(n=>wg(n),xg),this.lastRemoteSnapshotVersion=st.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Tg,this.targetCount=0,this.vs=Js.Pn()}forEachTarget(e,n){return this.Rs.forEach((r,i)=>n(i)),be.resolve()}getLastRemoteSnapshotVersion(e){return be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return be.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),be.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.bs&&(this.bs=n),be.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new Js(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,be.resolve()}updateTargetData(e,n){return this.Dn(n),be.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,be.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.Rs.forEach((l,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.Rs.delete(l),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)}),be.waitFor(a).next(()=>i)}getTargetCount(e){return be.resolve(this.targetCount)}getTargetData(e,n){const r=this.Rs.get(n)||null;return be.resolve(r)}addMatchingKeys(e,n,r){return this.Ps.us(n,r),be.resolve()}removeMatchingKeys(e,n,r){this.Ps.hs(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),be.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),be.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ps.ds(n);return be.resolve(r)}containsKey(e,n){return be.resolve(this.Ps.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RL{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new yg(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new LL(this),this.indexManager=new kL,this.remoteDocumentCache=function(r){return new ML(r)}(r=>this.referenceDelegate.xs(r)),this.It=new EL(n),this.Ns=new AL(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new IL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Vs[e.toKey()];return r||(r=new OL(n,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,r){ze("MemoryPersistence","Starting transaction:",e);const i=new $L(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(a=>this.referenceDelegate.Ms(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Os(e,n){return be.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,n)))}}class $L extends CP{constructor(e){super(),this.currentSequenceNumber=e}}class Ng{constructor(e){this.persistence=e,this.Fs=new Tg,this.$s=null}static Bs(e){return new Ng(e)}get Ls(){if(this.$s)return this.$s;throw Ze()}addReference(e,n,r){return this.Fs.addReference(r,n),this.Ls.delete(r.toString()),be.resolve()}removeReference(e,n,r){return this.Fs.removeReference(r,n),this.Ls.add(r.toString()),be.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),be.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.Ls.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}ks(){this.$s=new Set}Ms(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return be.forEach(this.Ls,r=>{const i=He.fromPath(r);return this.Us(e,i).next(a=>{a||n.removeEntry(i,st.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.Us(e,n).next(r=>{r?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}Us(e,n){return be.or([()=>be.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Os(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Si=r,this.Di=i}static Ci(e,n){let r=ot(),i=ot();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Dg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.ki(e,n).next(a=>a||this.Mi(e,n,i,r)).next(a=>a||this.Oi(e,n))}ki(e,n){if(E0(n))return be.resolve(null);let r=xi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=dp(n,null,"F"),r=xi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=ot(...a);return this.Ni.getDocuments(e,l).next(h=>this.indexManager.getMinOffset(e,r).next(f=>{const g=this.Fi(n,h);return this.$i(n,g,l,f.readTime)?this.ki(e,dp(n,null,"F")):this.Bi(e,g,n,f)}))})))}Mi(e,n,r,i){return E0(n)||i.isEqual(st.min())?this.Oi(e,n):this.Ni.getDocuments(e,r).next(a=>{const l=this.Fi(n,a);return this.$i(n,l,r,i)?this.Oi(e,n):(h0()<=mt.DEBUG&&ze("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),hp(n)),this.Bi(e,l,n,xP(i,-1)))})}Fi(e,n){let r=new tn(KE(e));return n.forEach((i,a)=>{Eg(e,a)&&(r=r.add(a))}),r}$i(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Oi(e,n){return h0()<=mt.DEBUG&&ze("QueryEngine","Using full collection scan to execute query:",hp(n)),this.Ni.getDocumentsMatchingQuery(e,n,ua.min())}Bi(e,n,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(e,n,r,i){this.persistence=e,this.Li=n,this.It=i,this.Ui=new nn(vt),this.qi=new uo(a=>wg(a),xg),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DL(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ui))}}function jL(t,e,n,r){return new UL(t,e,n,r)}async function gS(t,e){const n=nt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.Qi(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],h=[];let f=ot();for(const g of i){l.push(g.batchId);for(const E of g.mutations)f=f.add(E.key)}for(const g of a){h.push(g.batchId);for(const E of g.mutations)f=f.add(E.key)}return n.localDocuments.getDocuments(r,f).next(g=>({ji:g,removedBatchIds:l,addedBatchIds:h}))})})}function VL(t,e){const n=nt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.Gi.newChangeBuffer({trackRemovals:!0});return function(l,h,f,g){const E=f.batch,T=E.keys();let C=be.resolve();return T.forEach(A=>{C=C.next(()=>g.getEntry(h,A)).next(L=>{const N=f.docVersions.get(A);kt(N!==null),L.version.compareTo(N)<0&&(E.applyToRemoteDocument(L,f),L.isValidDocument()&&(L.setReadTime(f.commitVersion),g.addEntry(L)))})}),C.next(()=>l.mutationQueue.removeMutationBatch(h,E))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let h=ot();for(let f=0;f<l.mutationResults.length;++f)l.mutationResults[f].transformResults.length>0&&(h=h.add(l.batch.mutations[f].key));return h}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function vS(t){const e=nt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function zL(t,e){const n=nt(t),r=e.snapshotVersion;let i=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.Ui;const h=[];e.targetChanges.forEach((E,T)=>{const C=i.get(T);if(!C)return;h.push(n.Cs.removeMatchingKeys(a,E.removedDocuments,T).next(()=>n.Cs.addMatchingKeys(a,E.addedDocuments,T)));let A=C.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.has(T)?A=A.withResumeToken(xn.EMPTY_BYTE_STRING,st.min()).withLastLimboFreeSnapshotVersion(st.min()):E.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(E.resumeToken,r)),i=i.insert(T,A),function(L,N,R){return L.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=3e8?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0}(C,A,E)&&h.push(n.Cs.updateTargetData(a,A))});let f=Ei(),g=ot();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(a,E))}),h.push(HL(a,l,e.documentUpdates).next(E=>{f=E.Wi,g=E.zi})),!r.isEqual(st.min())){const E=n.Cs.getLastRemoteSnapshotVersion(a).next(T=>n.Cs.setTargetsMetadata(a,a.currentSequenceNumber,r));h.push(E)}return be.waitFor(h).next(()=>l.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,f,g)).next(()=>f)}).then(a=>(n.Ui=i,a))}function HL(t,e,n){let r=ot(),i=ot();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let l=Ei();return n.forEach((h,f)=>{const g=a.get(h);f.isFoundDocument()!==g.isFoundDocument()&&(i=i.add(h)),f.isNoDocument()&&f.version.isEqual(st.min())?(e.removeEntry(h,f.readTime),l=l.insert(h,f)):!g.isValidDocument()||f.version.compareTo(g.version)>0||f.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(f),l=l.insert(h,f)):ze("LocalStore","Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",f.version)}),{Wi:l,zi:i}})}function BL(t,e){const n=nt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function qL(t,e){const n=nt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Cs.getTargetData(r,e).next(a=>a?(i=a,be.resolve(i)):n.Cs.allocateTargetId(r).next(l=>(i=new Fa(e,l,0,r.currentSequenceNumber),n.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ui.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(r.targetId,r),n.qi.set(e,r.targetId)),r})}async function mp(t,e,n){const r=nt(t),i=r.Ui.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!kc(l))throw l;ze("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ui=r.Ui.remove(e),r.qi.delete(i.target)}function O0(t,e,n){const r=nt(t);let i=st.min(),a=ot();return r.persistence.runTransaction("Execute query","readonly",l=>function(h,f,g){const E=nt(h),T=E.qi.get(g);return T!==void 0?be.resolve(E.Ui.get(T)):E.Cs.getTargetData(f,g)}(r,l,xi(e)).next(h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(l,h.targetId).next(f=>{a=f})}).next(()=>r.Li.getDocumentsMatchingQuery(l,e,n?i:st.min(),n?a:ot())).next(h=>(WL(r,zP(e),h),{documents:h,Hi:a})))}function WL(t,e,n){let r=st.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Ki.set(e,r)}class M0{constructor(){this.activeTargetIds=cS()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class GL{constructor(){this.Lr=new M0,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,n,r){this.Ur[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new M0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{qr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P0{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){ze("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){ze("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JL{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.oo=n+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,n,r,i,a){const l=this.ao(e,n);ze("RestConnection","Sending: ",l,r);const h={};return this.ho(h,i,a),this.lo(e,l,h,r).then(f=>(ze("RestConnection","Received: ",f),f),f=>{throw f0("RestConnection",`${e} failed with error: `,f,"url: ",l,"request:",r),f})}fo(e,n,r,i,a,l){return this.co(e,n,r,i,a)}ho(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+co,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}ao(e,n){const r=YL[e];return`${this.oo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,n,r,i){return new Promise((a,l)=>{const h=new hP;h.listenOnce(cP.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Of.NO_ERROR:const g=h.getResponseJson();ze("Connection","XHR received:",JSON.stringify(g)),a(g);break;case Of.TIMEOUT:ze("Connection",'RPC "'+e+'" timed out'),l(new $e(_e.DEADLINE_EXCEEDED,"Request time out"));break;case Of.HTTP_ERROR:const E=h.getStatus();if(ze("Connection",'RPC "'+e+'" failed with status:',E,"response text:",h.getResponseText()),E>0){const T=h.getResponseJson().error;if(T&&T.status&&T.message){const C=function(A){const L=A.toLowerCase().replace(/_/g,"-");return Object.values(_e).indexOf(L)>=0?L:_e.UNKNOWN}(T.status);l(new $e(C,T.message))}else l(new $e(_e.UNKNOWN,"Server responded with status "+h.getStatus()))}else l(new $e(_e.UNAVAILABLE,"Connection failed."));break;default:Ze()}}finally{ze("Connection",'RPC "'+e+'" completed.')}});const f=JSON.stringify(i);h.send(n,"POST",f,r,15)})}_o(e,n,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=oP(),l=lP(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new dP({})),this.ho(h.initMessageHeaders,n,r),Qx()||Zx()||RD()||e1()||$D()||Xx()||(h.httpHeadersOverwriteParam="$httpHeaders");const f=i.join("");ze("Connection","Creating WebChannel: "+f,h);const g=a.createWebChannel(f,h);let E=!1,T=!1;const C=new JL({Hr:L=>{T?ze("Connection","Not sending because WebChannel is closed:",L):(E||(ze("Connection","Opening WebChannel transport."),g.open(),E=!0),ze("Connection","WebChannel sending:",L),g.send(L))},Jr:()=>g.close()}),A=(L,N,R)=>{L.listen(N,O=>{try{R(O)}catch(I){setTimeout(()=>{throw I},0)}})};return A(g,cu.EventType.OPEN,()=>{T||ze("Connection","WebChannel transport opened.")}),A(g,cu.EventType.CLOSE,()=>{T||(T=!0,ze("Connection","WebChannel transport closed"),C.io())}),A(g,cu.EventType.ERROR,L=>{T||(T=!0,f0("Connection","WebChannel transport errored:",L),C.io(new $e(_e.UNAVAILABLE,"The operation could not be completed")))}),A(g,cu.EventType.MESSAGE,L=>{var N;if(!T){const R=L.data[0];kt(!!R);const O=R,I=O.error||((N=O[0])===null||N===void 0?void 0:N.error);if(I){ze("Connection","WebChannel received error:",I);const $=I.status;let F=function(B){const z=Bt[B];if(z!==void 0)return aS(z)}($),j=I.message;F===void 0&&(F=_e.INTERNAL,j="Unknown error status: "+$+" with message "+I.message),T=!0,C.io(new $e(F,j)),g.close()}else ze("Connection","WebChannel received:",R),C.ro(R)}}),A(l,uP.STAT_EVENT,L=>{L.stat===u0.PROXY?ze("Connection","Detected buffering proxy"):L.stat===u0.NOPROXY&&ze("Connection","Detected no buffering proxy")}),setTimeout(()=>{C.so()},0),C}}function Pf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Th(t){return new sL(t,!0)}class yS{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Hs=e,this.timerId=n,this.wo=r,this.mo=i,this.yo=a,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&ze("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.po} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){this.Io!==null&&(this.Io.skipDelay(),this.Io=null)}cancel(){this.Io!==null&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,n,r,i,a,l,h,f){this.Hs=e,this.Po=r,this.vo=i,this.Vo=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new yS(e,n)}No(){return this.state===1||this.state===5||this.ko()}ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Mo()}async stop(){this.No()&&await this.close(0)}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&this.Do===null&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(e,n){this.Lo(),this.Uo(),this.xo.cancel(),this.So++,e!==4?this.xo.reset():n&&n.code===_e.RESOURCE_EXHAUSTED?(wi(n.toString()),wi("Using maximum backoff delay to prevent overloading the backend."),this.xo.Eo()):n&&n.code===_e.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.qo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(n)}qo(){}auth(){this.state=1;const e=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===n&&this.Go(r,i)},r=>{e(()=>{const i=new $e(_e.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,n){const r=this.Ko(this.So);this.stream=this.jo(e,n),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Mo(){this.state=5,this.xo.Ao(async()=>{this.state=0,this.start()})}Qo(e){return ze("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return n=>{this.Hs.enqueueAndForget(()=>this.So===e?n():(ze("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class XL extends bS{constructor(e,n,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.It=a}jo(e,n){return this.Vo._o("Listen",e,n)}onMessage(e){this.xo.reset();const n=cL(this.It,e),r=function(i){if(!("targetChange"in i))return st.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?st.min():a.readTime?fi(a.readTime):st.min()}(e);return this.listener.Wo(n,r)}zo(e){const n={};n.database=pp(this.It),n.addTarget=function(i,a){let l;const h=a.target;return l=up(h)?{documents:hL(i,h)}:{query:fL(i,h)},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?l.resumeToken=hS(i,a.resumeToken):a.snapshotVersion.compareTo(st.min())>0&&(l.readTime=Id(i,a.snapshotVersion.toTimestamp())),l}(this.It,e);const r=pL(this.It,e);r&&(n.labels=r),this.Bo(n)}Ho(e){const n={};n.database=pp(this.It),n.removeTarget=e,this.Bo(n)}}class ZL extends bS{constructor(e,n,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.It=a,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,n){return this.Vo._o("Write",e,n)}onMessage(e){if(kt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const n=dL(e.writeResults,e.commitTime),r=fi(e.commitTime);return this.listener.Zo(r,n)}return kt(!e.writeResults||e.writeResults.length===0),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=pp(this.It),this.Bo(e)}Xo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>uL(this.It,r))};this.Bo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.Vo=r,this.It=i,this.nu=!1}su(){if(this.nu)throw new $e(_e.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,n,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.Vo.co(e,n,r,i,a)).catch(i=>{throw i.name==="FirebaseError"?(i.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new $e(_e.UNKNOWN,i.toString())})}fo(e,n,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.Vo.fo(e,n,r,a,l,i)).catch(a=>{throw a.name==="FirebaseError"?(a.code===_e.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new $e(_e.UNKNOWN,a.toString())})}terminate(){this.nu=!0}}class tR{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){this.iu===0&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){this.state==="Online"?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,e==="Online"&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(wi(n),this.ou=!1):ze("OnlineStateTracker",n)}lu(){this.ru!==null&&(this.ru.cancel(),this.ru=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.qr(l=>{r.enqueueAndForget(async()=>{os(this)&&(ze("RemoteStore","Restarting streams for network reachability change."),await async function(h){const f=nt(h);f._u.add(4),await Dc(f),f.gu.set("Unknown"),f._u.delete(4),await Nh(f)}(this))})}),this.gu=new tR(r,i)}}async function Nh(t){if(os(t))for(const e of t.wu)await e(!0)}async function Dc(t){for(const e of t.wu)await e(!1)}function wS(t,e){const n=nt(t);n.du.has(e.targetId)||(n.du.set(e.targetId,e),Og(n)?Ig(n):ho(n).ko()&&Ag(n,e))}function xS(t,e){const n=nt(t),r=ho(n);n.du.delete(e),r.ko()&&ES(n,e),n.du.size===0&&(r.ko()?r.Fo():os(n)&&n.gu.set("Unknown"))}function Ag(t,e){t.yu.Ot(e.targetId),ho(t).zo(e)}function ES(t,e){t.yu.Ot(e),ho(t).Ho(e)}function Ig(t){t.yu=new rL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),se:e=>t.du.get(e)||null}),ho(t).start(),t.gu.uu()}function Og(t){return os(t)&&!ho(t).No()&&t.du.size>0}function os(t){return nt(t)._u.size===0}function SS(t){t.yu=void 0}async function rR(t){t.du.forEach((e,n)=>{Ag(t,e)})}async function iR(t,e){SS(t),Og(t)?(t.gu.hu(e),Ig(t)):t.gu.set("Unknown")}async function aR(t,e,n){if(t.gu.set("Online"),e instanceof dS&&e.state===2&&e.cause)try{await async function(r,i){const a=i.cause;for(const l of i.targetIds)r.du.has(l)&&(await r.remoteSyncer.rejectListen(l,a),r.du.delete(l),r.yu.removeTarget(l))}(t,e)}catch(r){ze("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Od(t,r)}else if(e instanceof Fu?t.yu.Gt(e):e instanceof uS?t.yu.Yt(e):t.yu.Wt(e),!n.isEqual(st.min()))try{const r=await vS(t.localStore);n.compareTo(r)>=0&&await function(i,a){const l=i.yu.te(a);return l.targetChanges.forEach((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const g=i.du.get(f);g&&i.du.set(f,g.withResumeToken(h.resumeToken,a))}}),l.targetMismatches.forEach(h=>{const f=i.du.get(h);if(!f)return;i.du.set(h,f.withResumeToken(xn.EMPTY_BYTE_STRING,f.snapshotVersion)),ES(i,h);const g=new Fa(f.target,h,1,f.sequenceNumber);Ag(i,g)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){ze("RemoteStore","Failed to raise snapshot:",r),await Od(t,r)}}async function Od(t,e,n){if(!kc(e))throw e;t._u.add(1),await Dc(t),t.gu.set("Offline"),n||(n=()=>vS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ze("RemoteStore","Retrying IndexedDB access"),await n(),t._u.delete(1),await Nh(t)})}function kS(t,e){return e().catch(n=>Od(t,n,e))}async function Dh(t){const e=nt(t),n=ha(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;sR(e);)try{const i=await BL(e.localStore,r);if(i===null){e.fu.length===0&&n.Fo();break}r=i.batchId,oR(e,i)}catch(i){await Od(e,i)}CS(e)&&TS(e)}function sR(t){return os(t)&&t.fu.length<10}function oR(t,e){t.fu.push(e);const n=ha(t);n.ko()&&n.Yo&&n.Xo(e.mutations)}function CS(t){return os(t)&&!ha(t).No()&&t.fu.length>0}function TS(t){ha(t).start()}async function lR(t){ha(t).eu()}async function cR(t){const e=ha(t);for(const n of t.fu)e.Xo(n.mutations)}async function uR(t,e,n){const r=t.fu.shift(),i=Cg.from(r,e,n);await kS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Dh(t)}async function dR(t,e){e&&ha(t).Yo&&await async function(n,r){if(i=r.code,XP(i)&&i!==_e.ABORTED){const a=n.fu.shift();ha(n).Oo(),await kS(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,r)),await Dh(n)}var i}(t,e),CS(t)&&TS(t)}async function L0(t,e){const n=nt(t);n.asyncQueue.verifyOperationInProgress(),ze("RemoteStore","RemoteStore received new credentials");const r=os(n);n._u.add(3),await Dc(n),r&&n.gu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n._u.delete(3),await Nh(n)}async function hR(t,e){const n=nt(t);e?(n._u.delete(2),await Nh(n)):e||(n._u.add(2),await Dc(n),n.gu.set("Unknown"))}function ho(t){return t.pu||(t.pu=function(e,n,r){const i=nt(e);return i.su(),new XL(n,i.Vo,i.authCredentials,i.appCheckCredentials,i.It,r)}(t.datastore,t.asyncQueue,{Yr:rR.bind(null,t),Zr:iR.bind(null,t),Wo:aR.bind(null,t)}),t.wu.push(async e=>{e?(t.pu.Oo(),Og(t)?Ig(t):t.gu.set("Unknown")):(await t.pu.stop(),SS(t))})),t.pu}function ha(t){return t.Iu||(t.Iu=function(e,n,r){const i=nt(e);return i.su(),new ZL(n,i.Vo,i.authCredentials,i.appCheckCredentials,i.It,r)}(t.datastore,t.asyncQueue,{Yr:lR.bind(null,t),Zr:dR.bind(null,t),tu:cR.bind(null,t),Zo:uR.bind(null,t)}),t.wu.push(async e=>{e?(t.Iu.Oo(),await Dh(t)):(await t.Iu.stop(),t.fu.length>0&&(ze("RemoteStore",`Stopping write stream with ${t.fu.length} pending writes`),t.fu=[]))})),t.Iu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new hi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,n,r,i,a){const l=Date.now()+r,h=new Mg(e,n,l,i,a);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $e(_e.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pg(t,e){if(wi("AsyncQueue",`${e}: ${t}`),kc(t))return new $e(_e.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e){this.comparator=e?(n,r)=>e(n,r)||He.comparator(n.key,r.key):(n,r)=>He.comparator(n.key,r.key),this.keyedMap=Ho(),this.sortedSet=new nn(this.comparator)}static emptySet(e){return new Rs(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Rs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Rs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(){this.Tu=new nn(He.comparator)}track(e){const n=e.doc.key,r=this.Tu.get(n);r?e.type!==0&&r.type===3?this.Tu=this.Tu.insert(n,e):e.type===3&&r.type!==1?this.Tu=this.Tu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Tu=this.Tu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Tu=this.Tu.remove(n):e.type===1&&r.type===2?this.Tu=this.Tu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):Ze():this.Tu=this.Tu.insert(n,e)}Eu(){const e=[];return this.Tu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Qs{constructor(e,n,r,i,a,l,h,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=h,this.excludesMetadataChanges=f}static fromInitialDocuments(e,n,r,i){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new Qs(e,n,Rs.emptySet(n),a,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Eh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(){this.Au=void 0,this.listeners=[]}}class _R{constructor(){this.queries=new uo(e=>GE(e),Eh),this.onlineState="Unknown",this.Ru=new Set}}async function Lg(t,e){const n=nt(t),r=e.query;let i=!1,a=n.queries.get(r);if(a||(i=!0,a=new fR),i)try{a.Au=await n.onListen(r)}catch(l){const h=Pg(l,`Initialization of query '${hp(e.query)}' failed`);return void e.onError(h)}n.queries.set(r,a),a.listeners.push(e),e.bu(n.onlineState),a.Au&&e.Pu(a.Au)&&$g(n)}async function Rg(t,e){const n=nt(t),r=e.query;let i=!1;const a=n.queries.get(r);if(a){const l=a.listeners.indexOf(e);l>=0&&(a.listeners.splice(l,1),i=a.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function pR(t,e){const n=nt(t);let r=!1;for(const i of e){const a=i.query,l=n.queries.get(a);if(l){for(const h of l.listeners)h.Pu(i)&&(r=!0);l.Au=i}}r&&$g(n)}function mR(t,e,n){const r=nt(t),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(n);r.queries.delete(e)}function $g(t){t.Ru.forEach(e=>{e.next()})}class Fg{constructor(e,n,r){this.query=e,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Qs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),n=!0):this.Cu(e,this.onlineState)&&(this.xu(e),n=!0),this.Su=e,n}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let n=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),n=!0),n}Cu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Nu||!r)&&(!e.docs.isEmpty()||n==="Offline")}Du(e){if(e.docChanges.length>0)return!0;const n=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}xu(e){e=Qs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e){this.key=e}}class DS{constructor(e){this.key=e}}class gR{constructor(e,n){this.query=e,this.Lu=n,this.Uu=null,this.current=!1,this.qu=ot(),this.mutatedKeys=ot(),this.Ku=KE(e),this.Gu=new Rs(this.Ku)}get Qu(){return this.Lu}ju(e,n){const r=n?n.Wu:new R0,i=n?n.Gu:this.Gu;let a=n?n.mutatedKeys:this.mutatedKeys,l=i,h=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,g=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((E,T)=>{const C=i.get(E),A=Eg(this.query,T)?T:null,L=!!C&&this.mutatedKeys.has(C.key),N=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let R=!1;C&&A?C.data.isEqual(A.data)?L!==N&&(r.track({type:3,doc:A}),R=!0):this.zu(C,A)||(r.track({type:2,doc:A}),R=!0,(f&&this.Ku(A,f)>0||g&&this.Ku(A,g)<0)&&(h=!0)):!C&&A?(r.track({type:0,doc:A}),R=!0):C&&!A&&(r.track({type:1,doc:C}),R=!0,(f||g)&&(h=!0)),R&&(A?(l=l.add(A),a=N?a.add(E):a.delete(E)):(l=l.delete(E),a=a.delete(E)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const E=this.query.limitType==="F"?l.last():l.first();l=l.delete(E.key),a=a.delete(E.key),r.track({type:1,doc:E})}return{Gu:l,Wu:r,$i:h,mutatedKeys:a}}zu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const a=e.Wu.Eu();a.sort((g,E)=>function(T,C){const A=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ze()}};return A(T)-A(C)}(g.type,E.type)||this.Ku(g.doc,E.doc)),this.Hu(r);const l=n?this.Ju():[],h=this.qu.size===0&&this.current?1:0,f=h!==this.Uu;return this.Uu=h,a.length!==0||f?{snapshot:new Qs(this.query,e.Gu,i,a,e.mutatedKeys,h===0,f,!1),Yu:l}:{Yu:l}}bu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new R0,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(n=>this.Lu=this.Lu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Lu=this.Lu.delete(n)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=ot(),this.Gu.forEach(r=>{this.Xu(r.key)&&(this.qu=this.qu.add(r.key))});const n=[];return e.forEach(r=>{this.qu.has(r)||n.push(new DS(r))}),this.qu.forEach(r=>{e.has(r)||n.push(new NS(r))}),n}Zu(e){this.Lu=e.Hi,this.qu=ot();const n=this.ju(e.documents);return this.applyChanges(n,!0)}tc(){return Qs.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,this.Uu===0)}}class vR{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class yR{constructor(e){this.key=e,this.ec=!1}}class bR{constructor(e,n,r,i,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.nc={},this.sc=new uo(h=>GE(h),Eh),this.ic=new Map,this.rc=new Set,this.oc=new nn(He.comparator),this.uc=new Map,this.cc=new Tg,this.ac={},this.hc=new Map,this.lc=Js.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return this.fc===!0}}async function wR(t,e){const n=IR(t);let r,i;const a=n.sc.get(e);if(a)r=a.targetId,n.sharedClientState.addLocalQueryTarget(r),i=a.view.tc();else{const l=await qL(n.localStore,xi(e));n.isPrimaryClient&&wS(n.remoteStore,l);const h=n.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,i=await xR(n,e,r,h==="current")}return i}async function xR(t,e,n,r){t.dc=(E,T,C)=>async function(A,L,N,R){let O=L.view.ju(N);O.$i&&(O=await O0(A.localStore,L.query,!1).then(({documents:F})=>L.view.ju(F,O)));const I=R&&R.targetChanges.get(L.targetId),$=L.view.applyChanges(O,A.isPrimaryClient,I);return F0(A,L.targetId,$.Yu),$.snapshot}(t,E,T,C);const i=await O0(t.localStore,e,!0),a=new gR(e,i.Hi),l=a.ju(i.documents),h=Nc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline"),f=a.applyChanges(l,t.isPrimaryClient,h);F0(t,n,f.Yu);const g=new vR(e,n,a);return t.sc.set(e,g),t.ic.has(n)?t.ic.get(n).push(e):t.ic.set(n,[e]),f.snapshot}async function ER(t,e){const n=nt(t),r=n.sc.get(e),i=n.ic.get(r.targetId);if(i.length>1)return n.ic.set(r.targetId,i.filter(a=>!Eh(a,e))),void n.sc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await mp(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),xS(n.remoteStore,r.targetId),gp(n,r.targetId)}).catch(Sc)):(gp(n,r.targetId),await mp(n.localStore,r.targetId,!0))}async function SR(t,e,n){const r=OR(t);try{const i=await function(a,l){const h=nt(a),f=en.now(),g=l.reduce((C,A)=>C.add(A.key),ot());let E,T;return h.persistence.runTransaction("Locally write mutations","readwrite",C=>{let A=Ei(),L=ot();return h.Gi.getEntries(C,g).next(N=>{A=N,A.forEach((R,O)=>{O.isValidDocument()||(L=L.add(R))})}).next(()=>h.localDocuments.getOverlayedDocuments(C,A)).next(N=>{E=N;const R=[];for(const O of l){const I=YP(O,E.get(O.key).overlayedDocument);I!=null&&R.push(new va(O.key,I,zE(I.value.mapValue),Cr.exists(!0)))}return h.mutationQueue.addMutationBatch(C,f,R,l)}).next(N=>{T=N;const R=N.applyToLocalDocumentSet(E,L);return h.documentOverlayCache.saveOverlays(C,N.batchId,R)})}).then(()=>({batchId:T.batchId,changes:oS(E)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,l,h){let f=a.ac[a.currentUser.toKey()];f||(f=new nn(vt)),f=f.insert(l,h),a.ac[a.currentUser.toKey()]=f}(r,i.batchId,n),await Ac(r,i.changes),await Dh(r.remoteStore)}catch(i){const a=Pg(i,"Failed to persist write");n.reject(a)}}async function AS(t,e){const n=nt(t);try{const r=await zL(n.localStore,e);e.targetChanges.forEach((i,a)=>{const l=n.uc.get(a);l&&(kt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.ec=!0:i.modifiedDocuments.size>0?kt(l.ec):i.removedDocuments.size>0&&(kt(l.ec),l.ec=!1))}),await Ac(n,r,e)}catch(r){await Sc(r)}}function $0(t,e,n){const r=nt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.sc.forEach((a,l)=>{const h=l.view.bu(e);h.snapshot&&i.push(h.snapshot)}),function(a,l){const h=nt(a);h.onlineState=l;let f=!1;h.queries.forEach((g,E)=>{for(const T of E.listeners)T.bu(l)&&(f=!0)}),f&&$g(h)}(r.eventManager,e),i.length&&r.nc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function kR(t,e,n){const r=nt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.uc.get(e),a=i&&i.key;if(a){let l=new nn(He.comparator);l=l.insert(a,pn.newNoDocument(a,st.min()));const h=ot().add(a),f=new Ch(st.min(),new Map,new tn(vt),l,h);await AS(r,f),r.oc=r.oc.remove(a),r.uc.delete(e),Ug(r)}else await mp(r.localStore,e,!1).then(()=>gp(r,e,n)).catch(Sc)}async function CR(t,e){const n=nt(t),r=e.batch.batchId;try{const i=await VL(n.localStore,e);OS(n,r,null),IS(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ac(n,i)}catch(i){await Sc(i)}}async function TR(t,e,n){const r=nt(t);try{const i=await function(a,l){const h=nt(a);return h.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let g;return h.mutationQueue.lookupMutationBatch(f,l).next(E=>(kt(E!==null),g=E.keys(),h.mutationQueue.removeMutationBatch(f,E))).next(()=>h.mutationQueue.performConsistencyCheck(f)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(f,g,l)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,g)).next(()=>h.localDocuments.getDocuments(f,g))})}(r.localStore,e);OS(r,e,n),IS(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ac(r,i)}catch(i){await Sc(i)}}function IS(t,e){(t.hc.get(e)||[]).forEach(n=>{n.resolve()}),t.hc.delete(e)}function OS(t,e,n){const r=nt(t);let i=r.ac[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.ac[r.currentUser.toKey()]=i}}function gp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ic.get(e))t.sc.delete(r),n&&t.nc._c(r,n);t.ic.delete(e),t.isPrimaryClient&&t.cc.ls(e).forEach(r=>{t.cc.containsKey(r)||MS(t,r)})}function MS(t,e){t.rc.delete(e.path.canonicalString());const n=t.oc.get(e);n!==null&&(xS(t.remoteStore,n),t.oc=t.oc.remove(e),t.uc.delete(n),Ug(t))}function F0(t,e,n){for(const r of n)r instanceof NS?(t.cc.addReference(r.key,e),NR(t,r)):r instanceof DS?(ze("SyncEngine","Document no longer in limbo: "+r.key),t.cc.removeReference(r.key,e),t.cc.containsKey(r.key)||MS(t,r.key)):Ze()}function NR(t,e){const n=e.key,r=n.path.canonicalString();t.oc.get(n)||t.rc.has(r)||(ze("SyncEngine","New document in limbo: "+n),t.rc.add(r),Ug(t))}function Ug(t){for(;t.rc.size>0&&t.oc.size<t.maxConcurrentLimboResolutions;){const e=t.rc.values().next().value;t.rc.delete(e);const n=new He(Dt.fromString(e)),r=t.lc.next();t.uc.set(r,new yR(n)),t.oc=t.oc.insert(n,r),wS(t.remoteStore,new Fa(xi(xh(n.path)),r,2,yg.at))}}async function Ac(t,e,n){const r=nt(t),i=[],a=[],l=[];r.sc.isEmpty()||(r.sc.forEach((h,f)=>{l.push(r.dc(f,e,n).then(g=>{if(g){r.isPrimaryClient&&r.sharedClientState.updateQueryState(f.targetId,g.fromCache?"not-current":"current"),i.push(g);const E=Dg.Ci(f.targetId,g);a.push(E)}}))}),await Promise.all(l),r.nc.Wo(i),await async function(h,f){const g=nt(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>be.forEach(f,T=>be.forEach(T.Si,C=>g.persistence.referenceDelegate.addReference(E,T.targetId,C)).next(()=>be.forEach(T.Di,C=>g.persistence.referenceDelegate.removeReference(E,T.targetId,C)))))}catch(E){if(!kc(E))throw E;ze("LocalStore","Failed to update sequence numbers: "+E)}for(const E of f){const T=E.targetId;if(!E.fromCache){const C=g.Ui.get(T),A=C.snapshotVersion,L=C.withLastLimboFreeSnapshotVersion(A);g.Ui=g.Ui.insert(T,L)}}}(r.localStore,a))}async function DR(t,e){const n=nt(t);if(!n.currentUser.isEqual(e)){ze("SyncEngine","User change. New user:",e.toKey());const r=await gS(n.localStore,e);n.currentUser=e,function(i,a){i.hc.forEach(l=>{l.forEach(h=>{h.reject(new $e(_e.CANCELLED,a))})}),i.hc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ac(n,r.ji)}}function AR(t,e){const n=nt(t),r=n.uc.get(e);if(r&&r.ec)return ot().add(r.key);{let i=ot();const a=n.ic.get(e);if(!a)return i;for(const l of a){const h=n.sc.get(l);i=i.unionWith(h.view.Qu)}return i}}function IR(t){const e=nt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=AS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=AR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kR.bind(null,e),e.nc.Wo=pR.bind(null,e.eventManager),e.nc._c=mR.bind(null,e.eventManager),e}function OR(t){const e=nt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=CR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=TR.bind(null,e),e}class MR{constructor(){this.synchronizeTabs=!1}async initialize(e){this.It=Th(e.databaseInfo.databaseId),this.sharedClientState=this.mc(e),this.persistence=this.gc(e),await this.persistence.start(),this.localStore=this.yc(e),this.gcScheduler=this.Ic(e,this.localStore),this.indexBackfillerScheduler=this.Tc(e,this.localStore)}Ic(e,n){return null}Tc(e,n){return null}yc(e){return jL(this.persistence,new FL,e.initialUser,this.It)}gc(e){return new RL(Ng.Bs,this.It)}mc(e){return new GL}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class PR{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>$0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=DR.bind(null,this.syncEngine),await hR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new _R}createDatastore(e){const n=Th(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new QL(i));var i;return function(a,l,h,f){return new eR(a,l,h,f)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,a=h=>$0(this.syncEngine,h,0),l=P0.C()?new P0:new KL,new nR(n,r,i,a,l);var n,r,i,a,l}createSyncEngine(e,n){return function(r,i,a,l,h,f,g){const E=new bR(r,i,a,l,h,f);return g&&(E.fc=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=nt(e);ze("RemoteStore","RemoteStore shutting down."),n._u.add(5),await Dc(n),n.mu.shutdown(),n.gu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):wi("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Jn.UNAUTHENTICATED,this.clientId=FE.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async a=>{ze("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(ze("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new $e(_e.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Pg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function RR(t,e){t.asyncQueue.verifyOperationInProgress(),ze("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await gS(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function $R(t,e){t.asyncQueue.verifyOperationInProgress();const n=await FR(t);ze("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>L0(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,a)=>L0(e.remoteStore,a)),t.onlineComponents=e}async function FR(t){return t.offlineComponents||(ze("FirestoreClient","Using default OfflineComponentProvider"),await RR(t,new MR)),t.offlineComponents}async function PS(t){return t.onlineComponents||(ze("FirestoreClient","Using default OnlineComponentProvider"),await $R(t,new PR)),t.onlineComponents}function UR(t){return PS(t).then(e=>e.syncEngine)}async function Md(t){const e=await PS(t),n=e.eventManager;return n.onListen=wR.bind(null,e.syncEngine),n.onUnlisten=ER.bind(null,e.syncEngine),n}function jR(t,e,n={}){const r=new hi;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,l,h,f){const g=new jg({next:T=>{a.enqueueAndForget(()=>Rg(i,E));const C=T.docs.has(l);!C&&T.fromCache?f.reject(new $e(_e.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&T.fromCache&&h&&h.source==="server"?f.reject(new $e(_e.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(T)},error:T=>f.reject(T)}),E=new Fg(xh(l.path),g,{includeMetadataChanges:!0,Nu:!0});return Lg(i,E)}(await Md(t),t.asyncQueue,e,n,r)),r.promise}function VR(t,e,n={}){const r=new hi;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,l,h,f){const g=new jg({next:T=>{a.enqueueAndForget(()=>Rg(i,E)),T.fromCache&&h.source==="server"?f.reject(new $e(_e.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(T)},error:T=>f.reject(T)}),E=new Fg(l,g,{includeMetadataChanges:!0,Nu:!0});return Lg(i,E)}(await Md(t),t.asyncQueue,e,n,r)),r.promise}const U0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(t,e,n){if(!n)throw new $e(_e.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function zR(t,e,n,r){if(e===!0&&r===!0)throw new $e(_e.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function j0(t){if(!He.isDocumentKey(t))throw new $e(_e.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function V0(t){if(He.isDocumentKey(t))throw new $e(_e.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ah(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ze()}function ur(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new $e(_e.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ah(t);throw new $e(_e.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new $e(_e.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new $e(_e.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,zR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new z0({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new $e(_e.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new $e(_e.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new z0(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new _P;switch(n.type){case"gapi":const r=n.client;return new gP(r,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new $e(_e.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=U0.get(e);n&&(ze("ComponentProvider","Removing Datastore"),U0.delete(e),n.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new aa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new In(this.firestore,e,this._key)}}class fo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fo(this.firestore,e,this._query)}}class aa extends fo{constructor(e,n,r){super(e,n,xh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new In(this.firestore,null,new He(e))}withConverter(e){return new aa(this.firestore,e,this._path)}}function Bn(t,e,...n){if(t=wn(t),LS("collection","path",e),t instanceof Vg){const r=Dt.fromString(e,...n);return V0(r),new aa(t,null,r)}{if(!(t instanceof In||t instanceof aa))throw new $e(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Dt.fromString(e,...n));return V0(r),new aa(t.firestore,null,r)}}function je(t,e,...n){if(t=wn(t),arguments.length===1&&(e=FE.R()),LS("doc","path",e),t instanceof Vg){const r=Dt.fromString(e,...n);return j0(r),new In(t,null,new He(r))}{if(!(t instanceof In||t instanceof aa))throw new $e(_e.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Dt.fromString(e,...n));return j0(r),new In(t.firestore,t instanceof aa?t.converter:null,new He(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new yS(this,"async_queue_retry"),this.jc=()=>{const n=Pf();n&&ze("AsyncQueue","Visibility state changed to "+n.visibilityState),this.xo.bo()};const e=Pf();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const n=Pf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const n=new hi;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}async Hc(){if(this.Bc.length!==0){try{await this.Bc[0](),this.Bc.shift(),this.xo.reset()}catch(e){if(!kc(e))throw e;ze("AsyncQueue","Operation failed with retryable error: "+e)}this.Bc.length>0&&this.xo.Ao(()=>this.Hc())}}zc(e){const n=this.$c.then(()=>(this.Kc=!0,e().catch(r=>{this.qc=r,this.Kc=!1;const i=function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),l}(r);throw wi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Kc=!1,r))));return this.$c=n,n}enqueueAfterDelay(e,n,r){this.Wc(),this.Qc.indexOf(e)>-1&&(n=0);const i=Mg.createAndSchedule(this,e,n,r,a=>this.Jc(a));return this.Uc.push(i),i}Wc(){this.qc&&Ze()}verifyOperationInProgress(){}async Yc(){let e;do e=this.$c,await e;while(e!==this.$c)}Xc(e){for(const n of this.Uc)if(n.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const n=this.Uc.indexOf(e);this.Uc.splice(n,1)}}function H0(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Si extends Vg{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new HR,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||RS(this),this._firestoreClient.terminate()}}function Mt(t,e){const n=typeof t=="object"?t:i1(),r=typeof t=="string"?t:e||"(default)";return $m(n,"firestore").getImmediate({identifier:r})}function Ih(t){return t._firestoreClient||RS(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function RS(t){var e;const n=t._freezeSettings(),r=function(i,a,l,h){return new NP(i,a,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new LR(t._authCredentials,t._appCheckCredentials,t._queue,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new $e(_e.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Xs(xn.fromBase64String(e))}catch(n){throw new $e(_e.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Xs(xn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new $e(_e.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new $e(_e.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return vt(this._lat,e._lat)||vt(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR=/^__.*__$/;class qR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new va(e,this.data,this.fieldMask,n,this.fieldTransforms):new Tc(e,this.data,n,this.fieldTransforms)}}class $S{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new va(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function FS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ze()}}class Hg{constructor(e,n,r,i,a,l){this.settings=e,this.databaseId=n,this.It=r,this.ignoreUndefinedProperties=i,a===void 0&&this.ea(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new Hg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.sa({path:r,ra:!1});return i.oa(e),i}ua(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.sa({path:r,ra:!1});return i.ea(),i}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return Pd(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(e.length===0)throw this.aa("Document fields must not be empty");if(FS(this.na)&&BR.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class WR{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.It=r||Th(e)}fa(e,n,r,i=!1){return new Hg({na:e,methodName:n,la:r,path:Dn.emptyPath(),ra:!1,ha:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Mh(t){const e=t._freezeSettings(),n=Th(t._databaseId);return new WR(t._databaseId,!!e.ignoreUndefinedProperties,n)}function US(t,e,n,r,i,a={}){const l=t.fa(a.merge||a.mergeFields?2:0,e,n,i);qg("Data must be an object, but it was:",l,r);const h=jS(r,l);let f,g;if(a.merge)f=new kr(l.fieldMask),g=l.fieldTransforms;else if(a.mergeFields){const E=[];for(const T of a.mergeFields){const C=vp(e,T,n);if(!l.contains(C))throw new $e(_e.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);zS(E,C)||E.push(C)}f=new kr(E),g=l.fieldTransforms.filter(T=>f.covers(T.field))}else f=null,g=l.fieldTransforms;return new qR(new Zn(h),f,g)}class Ph extends Ic{_toFieldTransform(e){if(e.na!==2)throw e.na===1?e.aa(`${this._methodName}() can only appear at the top level of your update data`):e.aa(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ph}}class Bg extends Ic{_toFieldTransform(e){return new nS(e.path,new Bl)}isEqual(e){return e instanceof Bg}}class GR extends Ic{constructor(e,n){super(e),this._a=n}_toFieldTransform(e){const n=new Gl(e.It,QE(e.It,this._a));return new nS(e.path,n)}isEqual(e){return this===e}}function KR(t,e,n,r){const i=t.fa(1,e,n);qg("Data must be an object, but it was:",i,r);const a=[],l=Zn.empty();ss(r,(f,g)=>{const E=Wg(e,f,n);g=wn(g);const T=i.ua(E);if(g instanceof Ph)a.push(E);else{const C=Oc(g,T);C!=null&&(a.push(E),l.set(E,C))}});const h=new kr(a);return new $S(l,h,i.fieldTransforms)}function YR(t,e,n,r,i,a){const l=t.fa(1,e,n),h=[vp(e,r,n)],f=[i];if(a.length%2!=0)throw new $e(_e.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<a.length;C+=2)h.push(vp(e,a[C])),f.push(a[C+1]);const g=[],E=Zn.empty();for(let C=h.length-1;C>=0;--C)if(!zS(g,h[C])){const A=h[C];let L=f[C];L=wn(L);const N=l.ua(A);if(L instanceof Ph)g.push(A);else{const R=Oc(L,N);R!=null&&(g.push(A),E.set(A,R))}}const T=new kr(g);return new $S(E,T,l.fieldTransforms)}function JR(t,e,n,r=!1){return Oc(n,t.fa(r?4:3,e))}function Oc(t,e){if(VS(t=wn(t)))return qg("Unsupported field value:",e,t),jS(t,e);if(t instanceof Ic)return function(n,r){if(!FS(r.na))throw r.aa(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.aa(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ra&&e.na!==4)throw e.aa("Nested arrays are not supported");return function(n,r){const i=[];let a=0;for(const l of n){let h=Oc(l,r.ca(a));h==null&&(h={nullValue:"NULL_VALUE"}),i.push(h),a++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=wn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return QE(r.It,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=en.fromDate(n);return{timestampValue:Id(r.It,i)}}if(n instanceof en){const i=new en(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Id(r.It,i)}}if(n instanceof zg)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Xs)return{bytesValue:hS(r.It,n._byteString)};if(n instanceof In){const i=r.databaseId,a=n.firestore._databaseId;if(!a.isEqual(i))throw r.aa(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:kg(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.aa(`Unsupported field value: ${Ah(n)}`)}(t,e)}function jS(t,e){const n={};return UE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ss(t,(r,i)=>{const a=Oc(i,e.ia(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function VS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof en||t instanceof zg||t instanceof Xs||t instanceof In||t instanceof Ic)}function qg(t,e,n){if(!VS(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Ah(n);throw r==="an object"?e.aa(t+" a custom object"):e.aa(t+" "+r)}}function vp(t,e,n){if((e=wn(e))instanceof Oh)return e._internalPath;if(typeof e=="string")return Wg(t,e);throw Pd("Field path arguments must be of type string or ",t,!1,void 0,n)}const QR=new RegExp("[~\\*/\\[\\]]");function Wg(t,e,n){if(e.search(QR)>=0)throw Pd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Oh(...e.split("."))._internalPath}catch{throw Pd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Pd(t,e,n,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||l)&&(f+=" (found",a&&(f+=` in field ${r}`),l&&(f+=` in document ${i}`),f+=")"),new $e(_e.INVALID_ARGUMENT,h+t+f)}function zS(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new In(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new XR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Gg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class XR extends HS{data(){return super.data()}}function Gg(t,e){return typeof e=="string"?Wg(t,e):e instanceof Oh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class BS extends HS{constructor(e,n,r,i,a,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Uu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Gg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Uu extends BS{data(e={}){return super.data(e)}}class qS{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Bo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Uu(this._firestore,this._userDataWriter,r.key,r,new Bo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new $e(_e.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new Uu(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Bo(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const h=new Uu(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Bo(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let f=-1,g=-1;return l.type!==0&&(f=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),g=a.indexOf(l.doc.key)),{type:ZR(l.type),doc:h,oldIndex:f,newIndex:g}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function ZR(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ze()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new $e(_e.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class e${}function Ld(t,...e){for(const n of e)t=n._apply(t);return t}class t$ extends e${constructor(e,n,r){super(),this.wa=e,this.ma=n,this.ga=r,this.type="where"}_apply(e){const n=Mh(e.firestore),r=function(i,a,l,h,f,g,E){let T;if(f.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new $e(_e.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){q0(E,g);const A=[];for(const L of E)A.push(B0(h,i,L));T={arrayValue:{values:A}}}else T=B0(h,i,E)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||q0(E,g),T=JR(l,a,E,g==="in"||g==="not-in");const C=Vn.create(f,g,T);return function(A,L){if(L.dt()){const R=qE(A);if(R!==null&&!R.isEqual(L.field))throw new $e(_e.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${R.toString()}' and '${L.field.toString()}'`);const O=BE(A);O!==null&&n$(A,L.field,O)}const N=function(R,O){for(const I of R.filters)if(O.indexOf(I.op)>=0)return I.op;return null}(A,function(R){switch(R){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(L.op));if(N!==null)throw N===L.op?new $e(_e.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${L.op.toString()}' filter.`):new $e(_e.INVALID_ARGUMENT,`Invalid query. You cannot use '${L.op.toString()}' filters with '${N.toString()}' filters.`)}(i,C),C}(e._query,"where",n,e.firestore._databaseId,this.wa,this.ma,this.ga);return new fo(e.firestore,e.converter,function(i,a){const l=i.filters.concat([a]);return new Cc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),l,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function yp(t,e,n){const r=e,i=Gg("where",t);return new t$(i,r,n)}function B0(t,e,n){if(typeof(n=wn(n))=="string"){if(n==="")throw new $e(_e.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!WE(e)&&n.indexOf("/")!==-1)throw new $e(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Dt.fromString(n));if(!He.isDocumentKey(r))throw new $e(_e.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return g0(t,new He(r))}if(n instanceof In)return g0(t,n._key);throw new $e(_e.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ah(n)}.`)}function q0(t,e){if(!Array.isArray(t)||t.length===0)throw new $e(_e.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new $e(_e.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function n$(t,e,n){if(!n.isEqual(e))throw new $e(_e.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r${convertValue(e,n="none"){switch(es(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Wt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ks(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Ze()}}convertObject(e,n){const r={};return ss(e.fields,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertGeoPoint(e){return new zg(Wt(e.latitude),Wt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=VE(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(jl(e));default:return null}}convertTimestamp(e){const n=da(e);return new en(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Dt.fromString(e);kt(mS(r));const i=new Vl(r.get(1),r.get(3)),a=new He(r.popFirst(5));return i.isEqual(n)||wi(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(t){t=ur(t,In);const e=ur(t.firestore,Si);return jR(Ih(e),t._key).then(n=>KS(e,t,n))}class Kg extends r${constructor(e){super(),this.firestore=e}convertBytes(e){return new Xs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new In(this.firestore,null,n)}}function Xr(t){t=ur(t,fo);const e=ur(t.firestore,Si),n=Ih(e),r=new Kg(e);return WS(t._query),VR(n,t._query).then(i=>new qS(e,r,t,i))}function _i(t,e,n){t=ur(t,In);const r=ur(t.firestore,Si),i=GS(t.converter,e,n);return Lh(r,[US(Mh(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Cr.none())])}function tt(t,e,n,...r){t=ur(t,In);const i=ur(t.firestore,Si),a=Mh(i);let l;return l=typeof(e=wn(e))=="string"||e instanceof Oh?YR(a,"updateDoc",t._key,e,n,r):KR(a,"updateDoc",t._key,e),Lh(i,[l.toMutation(t._key,Cr.exists(!0))])}function W0(t){return Lh(ur(t.firestore,Si),[new Sg(t._key,Cr.none())])}function Kl(t,e){const n=ur(t.firestore,Si),r=je(t),i=GS(t.converter,e);return Lh(n,[US(Mh(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Cr.exists(!1))]).then(()=>r)}function i$(t,...e){var n,r,i;t=wn(t);let a={includeMetadataChanges:!1},l=0;typeof e[l]!="object"||H0(e[l])||(a=e[l],l++);const h={includeMetadataChanges:a.includeMetadataChanges};if(H0(e[l])){const T=e[l];e[l]=(n=T.next)===null||n===void 0?void 0:n.bind(T),e[l+1]=(r=T.error)===null||r===void 0?void 0:r.bind(T),e[l+2]=(i=T.complete)===null||i===void 0?void 0:i.bind(T)}let f,g,E;if(t instanceof In)g=ur(t.firestore,Si),E=xh(t._key.path),f={next:T=>{e[l]&&e[l](KS(g,t,T))},error:e[l+1],complete:e[l+2]};else{const T=ur(t,fo);g=ur(T.firestore,Si),E=T._query;const C=new Kg(g);f={next:A=>{e[l]&&e[l](new qS(g,C,T,A))},error:e[l+1],complete:e[l+2]},WS(t._query)}return function(T,C,A,L){const N=new jg(L),R=new Fg(C,N,A);return T.asyncQueue.enqueueAndForget(async()=>Lg(await Md(T),R)),()=>{N.Rc(),T.asyncQueue.enqueueAndForget(async()=>Rg(await Md(T),R))}}(Ih(g),E,h,f)}function Lh(t,e){return function(n,r){const i=new hi;return n.asyncQueue.enqueueAndForget(async()=>SR(await UR(n),r,i)),i.promise}(Ih(t),e)}function KS(t,e,n){const r=n.docs.get(e._key),i=new Kg(t);return new BS(t,i,e._key,r,new Bo(n.hasPendingWrites,n.fromCache),e.converter)}function Mc(){return new Bg("serverTimestamp")}function Vt(t){return new GR("increment",t)}(function(t,e=!0){(function(n){co=n})(oc),qs(new Wa("firestore",(n,{instanceIdentifier:r,options:i})=>{const a=n.getProvider("app").getImmediate(),l=new Si(new pP(n.getProvider("auth-internal")),new yP(n.getProvider("app-check-internal")),function(h,f){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new $e(_e.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vl(h.options.projectId,f)}(a,r),a);return i=Object.assign({useFetchStreams:e},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),ia(d0,"3.4.15",t),ia(d0,"3.4.15","esm2017")})();const YS=ae.exports.createContext(),a$=({children:t})=>{const e=Mt(),{userLogged:n}=ir(),[r,i]=ae.exports.useState({});return ae.exports.useEffect(()=>{if(n){const a=i$(je(e,`Users/${n.uid}`),l=>{const h=l.data(),f={uid:n.uid,email:n.email,role:h.role,form:h,newNotifications:h.newNotifications,notifications:h.notifications,misClases:{actualClass:h.actualClass,durationClass:h.durationClass,remainingClases:h.remainingClases,completedClases:h.completedClases,absentedClases:h.absentedClases,teacherUid:h.teacherUid,teacher:h.teacher,reprogramedThisMonth:h.reprogramedThisMonth}};i(f)});return()=>{a()}}else i({})},[n]),P(YS.Provider,{value:{user:r},children:t})},Sn=()=>ae.exports.useContext(YS);const s$=[{title:"Mi Perfil",path:"/Account",cName:"dropdown-link"},{title:"Mi Panel",path:"/Panel",cName:"dropdown-link"},{title:"Mis Notificaciones",path:"/MisNotificaciones",cName:"dropdown-link"}];const o$=()=>{const{logOut:t}=ir(),[e,n]=ae.exports.useState(!1);Kn();const r=()=>n(!e),i=async()=>{n(!1);try{await t(),swal("BYE!","sesion Finalizada!","success")}catch(a){console.log(a.message)}};return P("div",{children:X("ul",{onClick:r,className:e?"dropdown-menu clicked":"dropdown-menu",children:[s$.map((a,l)=>P("li",{children:P(fn,{className:a.cName,to:a.path,onClick:()=>n(!1),children:a.title})},l)),P("li",{children:P(fn,{className:"dropdown-link",to:"/signIn",onClick:i,children:"Cerrar Sesi\xF3n"})})]})})},JS="/assets/logo.f1e9716b.svg",l$="/assets/userButton.41779263.png",c$="/assets/turn-notifications-on-button.500c9c80.png",u$=()=>{const{user:t}=Sn();return P("div",{children:X("div",{className:"notificaciones",children:[P("img",{src:c$,alt:"notifications.png"}),t&&t.notifications>0?P("p",{children:t.notifications}):""]})})};const d$=()=>{const{userLogged:t,logOut:e}=ir(),n=Kn(),[r,i]=ae.exports.useState(!1),[a,l]=ae.exports.useState(!1),h=()=>i(!r),f=()=>i(!1);return P("div",{children:X("nav",{className:"navbar",children:[P(fn,{to:"/",className:"navbar-logo",children:P("img",{src:JS,alt:"NAVIS LOGO"})}),t?X("div",{children:[X("div",{className:"mobile-menu",children:[P("div",{className:"menu-icon",onClick:h,children:P("i",{className:r?"fas fa-times":"fas fa-bars"})}),X("ul",{className:r?"nav-menu active":"nav-menu",children:[P("li",{className:"nav-item",children:P(fn,{to:"/Account",className:"nav-links",onClick:f,children:"Mi Perfil"})}),P("li",{className:"nav-item",children:P(fn,{to:"/Panel",className:"nav-links",onClick:f,children:"Mi Panel"})}),P("li",{className:"nav-item",children:P(fn,{to:"/MisNotificaciones",className:"nav-links",onClick:f,children:"Mis Notificaciones"})}),P("li",{className:"nav-item",children:P(fn,{to:"/signIn",className:"nav-links",onClick:async()=>{try{await e(),n("/signIn"),swal("BYE!","sesion Finalizada!","success")}catch(C){console.log(C.message)}},children:"Cerrar Sesi\xF3n"})})]})]}),P("div",{className:"desktop-menu",children:X("ul",{className:"nav-menu",children:[P("li",{className:"nav-item",children:P(fn,{to:"/MisNotificaciones",className:"nav-links",onClick:f,children:P(u$,{})})}),X("li",{className:"nav-item",onMouseEnter:()=>{window.innerWidth<960?l(!1):l(!0)},onMouseLeave:()=>{window.innerWidth<960,l(!1)},children:[P("div",{children:X(fn,{to:"/Panel",className:"nav-links",onClick:f,children:[P("img",{src:l$,alt:"userIcon.png"}),P("i",{className:"fas fa-caret-down"})]})}),a?P(o$,{}):""]})]})})]}):X("div",{children:[X("div",{className:"mobile-menu",children:[P("div",{className:"menu-icon",onClick:h,children:P("i",{className:r?"fas fa-times":"fas fa-bars"})}),X("ul",{className:r?"nav-menu active":"nav-menu",children:[P("li",{className:"nav-item",children:P(fn,{to:"/signIn",className:"nav-links",onClick:f,children:"Iniciar Sesion"})}),P("li",{className:"nav-item",children:P(fn,{to:"/signUp",className:"nav-links",onClick:f,children:"Registrarse"})}),P("li",{className:"nav-item",children:P(fn,{to:"/",className:"nav-links",onClick:f,children:"Cerrar"})})]})]}),P("div",{className:"desktop-menu",children:P("div",{children:X("ul",{className:"nav-menu",children:[P("li",{className:"nav-item",children:P(fn,{to:"/signIn",className:"nav-links",children:"Iniciar Sesi\xF3n"})}),P("li",{className:"nav-item",children:P(fn,{to:"/signUp",className:"nav-links",children:"Registrarse"})})]})})})]})]})})};var rn={exports:{}},h$="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",f$=h$,_$=f$;function QS(){}function XS(){}XS.resetWarningCache=QS;var p$=function(){function t(r,i,a,l,h,f){if(f!==_$){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:XS,resetWarningCache:QS};return n.PropTypes=n,n};rn.exports=p$();var m$=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,a;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(a=Object.keys(e),r=a.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=r;i--!==0;){var l=a[i];if(!t(e[l],n[l]))return!1}return!0}return e!==e&&n!==n},bp={exports:{}},ZS;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/ZS=function(){var t={},e={};return t.on=function(n,r){var i={name:n,handler:r};return e[n]=e[n]||[],e[n].unshift(i),i},t.off=function(n){var r=e[n.name].indexOf(n);r!==-1&&e[n.name].splice(r,1)},t.trigger=function(n,r){var i=e[n],a;if(i)for(a=i.length;a--;)i[a].handler(r)},t};var g$=ZS,wp={exports:{}},v$=function(e,n,r){var i=document.head||document.getElementsByTagName("head")[0],a=document.createElement("script");typeof n=="function"&&(r=n,n={}),n=n||{},r=r||function(){},a.type=n.type||"text/javascript",a.charset=n.charset||"utf8",a.async="async"in n?!!n.async:!0,a.src=e,n.attrs&&y$(a,n.attrs),n.text&&(a.text=""+n.text);var l="onload"in a?G0:b$;l(a,r),a.onload||G0(a,r),i.appendChild(a)};function y$(t,e){for(var n in e)t.setAttribute(n,e[n])}function G0(t,e){t.onload=function(){this.onerror=this.onload=null,e(null,t)},t.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),t)}}function b$(t,e){t.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,e(null,t))}}(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=v$,r=i(n);function i(a){return a&&a.__esModule?a:{default:a}}e.default=function(a){var l=new Promise(function(h){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){h(window.YT);return}else{var f=window.location.protocol==="http:"?"http:":"https:";(0,r.default)(f+"//www.youtube.com/iframe_api",function(E){E&&a.trigger("error",E)})}var g=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){g&&g(),h(window.YT)}});return l},t.exports=e.default})(wp,wp.exports);var xp={exports:{}},Ep={exports:{}},Sp={exports:{}},Yl=1e3,Jl=Yl*60,Ql=Jl*60,Xl=Ql*24,w$=Xl*365.25,x$=function(t,e){e=e||{};var n=typeof t;if(n==="string"&&t.length>0)return E$(t);if(n==="number"&&isNaN(t)===!1)return e.long?k$(t):S$(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function E$(t){if(t=String(t),!(t.length>100)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(!!e){var n=parseFloat(e[1]),r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*w$;case"days":case"day":case"d":return n*Xl;case"hours":case"hour":case"hrs":case"hr":case"h":return n*Ql;case"minutes":case"minute":case"mins":case"min":case"m":return n*Jl;case"seconds":case"second":case"secs":case"sec":case"s":return n*Yl;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function S$(t){return t>=Xl?Math.round(t/Xl)+"d":t>=Ql?Math.round(t/Ql)+"h":t>=Jl?Math.round(t/Jl)+"m":t>=Yl?Math.round(t/Yl)+"s":t+"ms"}function k$(t){return hu(t,Xl,"day")||hu(t,Ql,"hour")||hu(t,Jl,"minute")||hu(t,Yl,"second")||t+" ms"}function hu(t,e,n){if(!(t<e))return t<e*1.5?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}(function(t,e){e=t.exports=i.debug=i.default=i,e.coerce=f,e.disable=l,e.enable=a,e.enabled=h,e.humanize=x$,e.names=[],e.skips=[],e.formatters={};var n;function r(g){var E=0,T;for(T in g)E=(E<<5)-E+g.charCodeAt(T),E|=0;return e.colors[Math.abs(E)%e.colors.length]}function i(g){function E(){if(!!E.enabled){var T=E,C=+new Date,A=C-(n||C);T.diff=A,T.prev=n,T.curr=C,n=C;for(var L=new Array(arguments.length),N=0;N<L.length;N++)L[N]=arguments[N];L[0]=e.coerce(L[0]),typeof L[0]!="string"&&L.unshift("%O");var R=0;L[0]=L[0].replace(/%([a-zA-Z%])/g,function(I,$){if(I==="%%")return I;R++;var F=e.formatters[$];if(typeof F=="function"){var j=L[R];I=F.call(T,j),L.splice(R,1),R--}return I}),e.formatArgs.call(T,L);var O=E.log||e.log||console.log.bind(console);O.apply(T,L)}}return E.namespace=g,E.enabled=e.enabled(g),E.useColors=e.useColors(),E.color=r(g),typeof e.init=="function"&&e.init(E),E}function a(g){e.save(g),e.names=[],e.skips=[];for(var E=(typeof g=="string"?g:"").split(/[\s,]+/),T=E.length,C=0;C<T;C++)!E[C]||(g=E[C].replace(/\*/g,".*?"),g[0]==="-"?e.skips.push(new RegExp("^"+g.substr(1)+"$")):e.names.push(new RegExp("^"+g+"$")))}function l(){e.enable("")}function h(g){var E,T;for(E=0,T=e.skips.length;E<T;E++)if(e.skips[E].test(g))return!1;for(E=0,T=e.names.length;E<T;E++)if(e.names[E].test(g))return!0;return!1}function f(g){return g instanceof Error?g.stack||g.message:g}})(Sp,Sp.exports);(function(t,e){e=t.exports=Sp.exports,e.log=i,e.formatArgs=r,e.save=a,e.load=l,e.useColors=n,e.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:h(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function n(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}e.formatters.j=function(f){try{return JSON.stringify(f)}catch(g){return"[UnexpectedJSONParseError]: "+g.message}};function r(f){var g=this.useColors;if(f[0]=(g?"%c":"")+this.namespace+(g?" %c":" ")+f[0]+(g?"%c ":" ")+"+"+e.humanize(this.diff),!!g){var E="color: "+this.color;f.splice(1,0,E,"color: inherit");var T=0,C=0;f[0].replace(/%[a-zA-Z%]/g,function(A){A!=="%%"&&(T++,A==="%c"&&(C=T))}),f.splice(C,0,E)}}function i(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(f){try{f==null?e.storage.removeItem("debug"):e.storage.debug=f}catch{}}function l(){var f;try{f=e.storage.debug}catch{}return!f&&typeof process<"u"&&"env"in process&&(f=process.env.DEBUG),f}e.enable(l());function h(){try{return window.localStorage}catch{}}})(Ep,Ep.exports);var kp={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],t.exports=e.default})(kp,kp.exports);var Cp={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],t.exports=e.default})(Cp,Cp.exports);var Tp={exports:{}},Np={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},t.exports=e.default})(Np,Np.exports);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Np.exports,r=i(n);function i(a){return a&&a.__esModule?a:{default:a}}e.default={pauseVideo:{acceptableStates:[r.default.ENDED,r.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[r.default.ENDED,r.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[r.default.ENDED,r.default.PLAYING,r.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},t.exports=e.default})(Tp,Tp.exports);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Ep.exports,r=E(n),i=kp.exports,a=E(i),l=Cp.exports,h=E(l),f=Tp.exports,g=E(f);function E(A){return A&&A.__esModule?A:{default:A}}var T=(0,r.default)("youtube-player"),C={};C.proxyEvents=function(A){var L={},N=function(z){var H="on"+z.slice(0,1).toUpperCase()+z.slice(1);L[H]=function(W){T('event "%s"',H,W),A.trigger(z,W)}},R=!0,O=!1,I=void 0;try{for(var $=h.default[Symbol.iterator](),F;!(R=(F=$.next()).done);R=!0){var j=F.value;N(j)}}catch(B){O=!0,I=B}finally{try{!R&&$.return&&$.return()}finally{if(O)throw I}}return L},C.promisifyPlayer=function(A){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,N={},R=function(H){L&&g.default[H]?N[H]=function(){for(var W=arguments.length,Y=Array(W),te=0;te<W;te++)Y[te]=arguments[te];return A.then(function(Z){var le=g.default[H],he=Z.getPlayerState(),ke=Z[H].apply(Z,Y);return le.stateChangeRequired||Array.isArray(le.acceptableStates)&&le.acceptableStates.indexOf(he)===-1?new Promise(function(xe){var Ge=function fe(){var ge=Z.getPlayerState(),pe=void 0;typeof le.timeout=="number"&&(pe=setTimeout(function(){Z.removeEventListener("onStateChange",fe),xe()},le.timeout)),Array.isArray(le.acceptableStates)&&le.acceptableStates.indexOf(ge)!==-1&&(Z.removeEventListener("onStateChange",fe),clearTimeout(pe),xe())};Z.addEventListener("onStateChange",Ge)}).then(function(){return ke}):ke})}:N[H]=function(){for(var W=arguments.length,Y=Array(W),te=0;te<W;te++)Y[te]=arguments[te];return A.then(function(Z){return Z[H].apply(Z,Y)})}},O=!0,I=!1,$=void 0;try{for(var F=a.default[Symbol.iterator](),j;!(O=(j=F.next()).done);O=!0){var B=j.value;R(B)}}catch(z){I=!0,$=z}finally{try{!O&&F.return&&F.return()}finally{if(I)throw $}}return N},e.default=C,t.exports=e.default})(xp,xp.exports);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},r=g$,i=g(r),a=wp.exports,l=g(a),h=xp.exports,f=g(h);function g(T){return T&&T.__esModule?T:{default:T}}var E=void 0;e.default=function(T){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,L=(0,i.default)();if(E||(E=(0,l.default)(L)),C.events)throw new Error("Event handlers cannot be overwritten.");if(typeof T=="string"&&!document.getElementById(T))throw new Error('Element "'+T+'" does not exist.');C.events=f.default.proxyEvents(L);var N=new Promise(function(O){if((typeof T>"u"?"undefined":n(T))==="object"&&T.playVideo instanceof Function){var I=T;O(I)}else E.then(function($){var F=new $.Player(T,C);return L.on("ready",function(){O(F)}),null})}),R=f.default.promisifyPlayer(N,A);return R.on=L.on,R.off=L.off,R},t.exports=e.default})(bp,bp.exports);const C$=Mb(bp.exports);var T$=Object.defineProperty,N$=Object.defineProperties,D$=Object.getOwnPropertyDescriptors,K0=Object.getOwnPropertySymbols,A$=Object.prototype.hasOwnProperty,I$=Object.prototype.propertyIsEnumerable,Y0=(t,e,n)=>e in t?T$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Dp=(t,e)=>{for(var n in e||(e={}))A$.call(e,n)&&Y0(t,n,e[n]);if(K0)for(var n of K0(e))I$.call(e,n)&&Y0(t,n,e[n]);return t},Ap=(t,e)=>N$(t,D$(e)),O$=(t,e,n)=>new Promise((r,i)=>{var a=f=>{try{h(n.next(f))}catch(g){i(g)}},l=f=>{try{h(n.throw(f))}catch(g){i(g)}},h=f=>f.done?r(f.value):Promise.resolve(f.value).then(a,l);h((n=n.apply(t,e)).next())});function M$(t,e){var n,r;if(t.videoId!==e.videoId)return!0;const i=((n=t.opts)==null?void 0:n.playerVars)||{},a=((r=e.opts)==null?void 0:r.playerVars)||{};return i.start!==a.start||i.end!==a.end}function J0(t={}){return Ap(Dp({},t),{height:0,width:0,playerVars:Ap(Dp({},t.playerVars),{autoplay:0,start:0,end:0})})}function P$(t,e){return t.videoId!==e.videoId||!m$(J0(t.opts),J0(e.opts))}function L$(t,e){var n,r,i,a;return t.id!==e.id||t.className!==e.className||((n=t.opts)==null?void 0:n.width)!==((r=e.opts)==null?void 0:r.width)||((i=t.opts)==null?void 0:i.height)!==((a=e.opts)==null?void 0:a.height)||t.iframeClassName!==e.iframeClassName||t.title!==e.title}var R$={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},$$={videoId:rn.exports.string,id:rn.exports.string,className:rn.exports.string,iframeClassName:rn.exports.string,style:rn.exports.object,title:rn.exports.string,loading:rn.exports.oneOf(["lazy","eager"]),opts:rn.exports.objectOf(rn.exports.any),onReady:rn.exports.func,onError:rn.exports.func,onPlay:rn.exports.func,onPause:rn.exports.func,onEnd:rn.exports.func,onStateChange:rn.exports.func,onPlaybackRateChange:rn.exports.func,onPlaybackQualityChange:rn.exports.func},ju=class extends oa.Component{constructor(t){super(t),this.destroyPlayerPromise=void 0,this.onPlayerReady=e=>{var n,r;return(r=(n=this.props).onReady)==null?void 0:r.call(n,e)},this.onPlayerError=e=>{var n,r;return(r=(n=this.props).onError)==null?void 0:r.call(n,e)},this.onPlayerStateChange=e=>{var n,r,i,a,l,h,f,g;switch((r=(n=this.props).onStateChange)==null||r.call(n,e),e.data){case ju.PlayerState.ENDED:(a=(i=this.props).onEnd)==null||a.call(i,e);break;case ju.PlayerState.PLAYING:(h=(l=this.props).onPlay)==null||h.call(l,e);break;case ju.PlayerState.PAUSED:(g=(f=this.props).onPause)==null||g.call(f,e);break}},this.onPlayerPlaybackRateChange=e=>{var n,r;return(r=(n=this.props).onPlaybackRateChange)==null?void 0:r.call(n,e)},this.onPlayerPlaybackQualityChange=e=>{var n,r;return(r=(n=this.props).onPlaybackQualityChange)==null?void 0:r.call(n,e)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then(()=>this.destroyPlayerPromise=void 0),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if(typeof document>"u")return;if(this.destroyPlayerPromise){this.destroyPlayerPromise.then(this.createPlayer);return}const e=Ap(Dp({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=C$(this.container,e),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then(n=>{this.props.title&&n.setAttribute("title",this.props.title),this.props.loading&&n.setAttribute("loading",this.props.loading)})},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var e;(e=this.internalPlayer)==null||e.getIframe().then(n=>{this.props.id?n.setAttribute("id",this.props.id):n.removeAttribute("id"),this.props.iframeClassName?n.setAttribute("class",this.props.iframeClassName):n.removeAttribute("class"),this.props.opts&&this.props.opts.width?n.setAttribute("width",this.props.opts.width.toString()):n.removeAttribute("width"),this.props.opts&&this.props.opts.height?n.setAttribute("height",this.props.opts.height.toString()):n.removeAttribute("height"),this.props.title?n.setAttribute("title",this.props.title):n.setAttribute("title","YouTube video player"),this.props.loading?n.setAttribute("loading",this.props.loading):n.removeAttribute("loading")})},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var e,n,r,i;if(typeof this.props.videoId>"u"||this.props.videoId===null){(e=this.internalPlayer)==null||e.stopVideo();return}let a=!1;const l={videoId:this.props.videoId};if((n=this.props.opts)!=null&&n.playerVars&&(a=this.props.opts.playerVars.autoplay===1,"start"in this.props.opts.playerVars&&(l.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(l.endSeconds=this.props.opts.playerVars.end)),a){(r=this.internalPlayer)==null||r.loadVideoById(l);return}(i=this.internalPlayer)==null||i.cueVideoById(l)},this.refContainer=e=>{this.container=e},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(t){return O$(this,null,function*(){L$(t,this.props)&&this.updatePlayer(),P$(t,this.props)&&(yield this.resetPlayer()),M$(t,this.props)&&this.updateVideo()})}componentWillUnmount(){this.destroyPlayer()}render(){return P("div",{className:this.props.className,style:this.props.style,children:P("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer})})}},Rh=ju;Rh.propTypes=$$;Rh.defaultProps=R$;Rh.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var ek=Rh;const F$=()=>{let t="640";return window.innerWidth<600?t="360":t="580",P("div",{children:P(ek,{videoId:"UdEuBHCquPI",opts:{height:"390",width:t,playerVars:{autoplay:0,rel:0}},onReady:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onError:()=>{},onStateChange:()=>{}})})},U$=()=>{let t="640";return window.innerWidth<600?t="360":t="580",P("div",{children:P(ek,{videoId:"UdEuBHCquPI",opts:{height:"390",width:t,playerVars:{autoplay:1,rel:0}},onReady:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onError:()=>{},onStateChange:()=>{}})})},j$=()=>{const[t,e]=ae.exports.useState(!1);return setTimeout(()=>{e(!0)},1e4),X("section",{className:"about_container",children:[X("div",{className:"about",children:[X("h2",{className:"about__title",children:["\xA1Se ",P("span",{children:"aprende"})," desde el primer d\xEDa!"]}),P("span",{className:"parrafo__content",children:"\xBFNecesitas aprobar un examen de ingl\xE9s?, \xBFQuieres estudiar en el extranjero?, \xBFEn tu trabajo dominar el ingl\xE9s es un requisito?, Te ayudaremos a conseguirlo. En Navis nos adaptamos tus objetivos a la hora de aprender ingl\xE9s, ya sea desde cero o para un fin en espec\xEDfico, con nosotros lo lograras. Aprende ingl\xE9s de manera f\xE1cil, r\xE1pida y entretenida."})]}),t===!0?P("div",{className:"about",children:P(U$,{})}):P("div",{className:"about",children:P(F$,{})})]})},V$="/assets/Teresa.eb585597.jpg",z$="/assets/Sandra.cd2cfae4.jpg",H$="/assets/Angelo.5cc3e931.jpg",B$="/assets/Jairo.a06ab2bd.jpg",q$="/assets/Valeria.cd359fcf.jpg",W$="/assets/Sofia.9ea8ff82.jpg",G$="/assets/Jorge.c64a7d52.jpg",K$=[{text:"Mi hijo comenz\xF3 clases hace un a\xF1o y hoy estudia en un internado de Londres. 100% recomendado.",author:"TERESA R.",avatar:V$},{text:"Quer\xEDa que mi hijo tuviera apoyo acad\xE9mico y pudiera aprobar sus ex\xE1menes y lo logr\xF3 gracias a esta academia. Me gusta que se enfocan en las necesidades del estudiante.",author:"SANDRA M.",avatar:z$},{text:"Gracias a estas clases logr\xE9 aprobar mi examen de la Universidad de Florencia y ahora soy profesor.",author:"ANGELO L.",avatar:H$},{text:"Buscaba un curso corto para poder viajar y no sentir tanta verg\xFCenza al hablar y con Navis en un mes ya estaba lista para mi viaje.",author:"JAIRO M",avatar:B$},{text:"Por a\xF1os fue muy dif\xEDcil que mi hijo pusiera atenci\xF3n al ingl\xE9s, pero ahora le gusta. La profesora juega con \xE9l y se divierten mucho.",author:"VALERIA P.",avatar:q$},{text:"Con estas clases me prepar\xE9 para la prueba oral del TOEFL, y logr\xE9 un 28/30. I did it!.",author:"SOFIA R.",avatar:W$},{text:"Me mud\xE9 a Texas hace 4 a\xF1os, nunca aprend\xED ingl\xE9s y depend\xEDa de mi hija para las llamadas o cosas importantes, luego me cans\xE9 de mi trabajo y decid\xED comenzar a aprender para poder obtener un mejor empleo. Gracias a esta academia lo estoy logrando. Thanks Navis!.",author:"JORGE R.",avatar:G$}];const Y$=()=>X(Yt,{children:[P("div",{className:"homeSection__Title",children:P("h2",{children:"Reviews"})}),P("section",{className:"reviews__Section",children:K$.map((t,e)=>X("div",{className:"reviews__Card",children:[P("div",{className:"reviews__Avatar",children:P("img",{src:t.avatar,alt:"User Avatar"})}),P("div",{className:"reviews__Text",children:t.text}),P("div",{className:"reviews__Author",children:t.author})]},e))})]});const J$="/assets/contacto.6d59b551.svg",Q$=()=>X(Yt,{children:[P("div",{className:"homeSection__Title",children:P("h2",{children:"Contacto"})}),X("section",{className:"contact__Section",children:[P("div",{className:"contact__Img",children:P("img",{src:J$,alt:""})}),P("div",{className:"contact__body",children:P("span",{children:P("a",{href:"mailto:contacto@navisacademia.com",children:"contacto@navisacademia.com"})})})]})]}),X$="/assets/puzzle.f843acf2.png",Z$="/assets/objetivo.a5aea4cd.png",e2="/assets/tiempo.c53cc2a1.png",t2="/assets/tareas.b353d0fd.png",n2="/assets/interactivo.7d5c4664.png",r2="/assets/recursos.9d994c17.png",i2="/assets/profesor.c04e4013.png",a2=[{title:"Divide el ingl\xE9s en 4 \xE1reas:",text:"hablar, escuchar, vocabulario y gram\xE1tica.",icon:X$},{title:"Adaptados a tus objetivos",text:"Te preparamos para entrevistas, viajes, ex\xE1menes acad\xE9micos, TOEFL y m\xE1s.",icon:Z$},{title:"Flexible con tu tiempo",text:"T\xFA decides cuando estudiar.",icon:e2},{title:"No es una clase normal",text:"No es est\xE1tica: juegos, roles, ejercicios y conversaci\xF3n.",icon:t2},{title:"100% Interactivo",text:"Clases guiadas, con ejercicios que puedes realizar con tu profesor o por tu cuenta.",icon:n2},{title:"Recursos profesionales",text:"Nos basamos en el m\xE9todo de Cambridge, la escala de ingl\xE9s global.",icon:r2},{title:"Profesores altamente cualificados",text:"profesores especializados en la ense\xF1anza del ingl\xE9s a ni\xF1os y adultos.",icon:i2}];function Q0(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function Yg(t={},e={}){Object.keys(e).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:Q0(e[n])&&Q0(t[n])&&Object.keys(e[n]).length>0&&Yg(t[n],e[n])})}const tk={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function yn(){const t=typeof document<"u"?document:{};return Yg(t,tk),t}const s2={document:tk,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function dn(){const t=typeof window<"u"?window:{};return Yg(t,s2),t}function o2(t){const e=t.__proto__;Object.defineProperty(t,"__proto__",{get(){return e},set(n){e.__proto__=n}})}class Wi extends Array{constructor(e){typeof e=="number"?super(e):(super(...e||[]),o2(this))}}function Pc(t=[]){const e=[];return t.forEach(n=>{Array.isArray(n)?e.push(...Pc(n)):e.push(n)}),e}function nk(t,e){return Array.prototype.filter.call(t,e)}function l2(t){const e=[];for(let n=0;n<t.length;n+=1)e.indexOf(t[n])===-1&&e.push(t[n]);return e}function c2(t,e){if(typeof t!="string")return[t];const n=[],r=e.querySelectorAll(t);for(let i=0;i<r.length;i+=1)n.push(r[i]);return n}function Ae(t,e){const n=dn(),r=yn();let i=[];if(!e&&t instanceof Wi)return t;if(!t)return new Wi(i);if(typeof t=="string"){const a=t.trim();if(a.indexOf("<")>=0&&a.indexOf(">")>=0){let l="div";a.indexOf("<li")===0&&(l="ul"),a.indexOf("<tr")===0&&(l="tbody"),(a.indexOf("<td")===0||a.indexOf("<th")===0)&&(l="tr"),a.indexOf("<tbody")===0&&(l="table"),a.indexOf("<option")===0&&(l="select");const h=r.createElement(l);h.innerHTML=a;for(let f=0;f<h.childNodes.length;f+=1)i.push(h.childNodes[f])}else i=c2(t.trim(),e||r)}else if(t.nodeType||t===n||t===r)i.push(t);else if(Array.isArray(t)){if(t instanceof Wi)return t;i=t}return new Wi(l2(i))}Ae.fn=Wi.prototype;function u2(...t){const e=Pc(t.map(n=>n.split(" ")));return this.forEach(n=>{n.classList.add(...e)}),this}function d2(...t){const e=Pc(t.map(n=>n.split(" ")));return this.forEach(n=>{n.classList.remove(...e)}),this}function h2(...t){const e=Pc(t.map(n=>n.split(" ")));this.forEach(n=>{e.forEach(r=>{n.classList.toggle(r)})})}function f2(...t){const e=Pc(t.map(n=>n.split(" ")));return nk(this,n=>e.filter(r=>n.classList.contains(r)).length>0).length>0}function _2(t,e){if(arguments.length===1&&typeof t=="string")return this[0]?this[0].getAttribute(t):void 0;for(let n=0;n<this.length;n+=1)if(arguments.length===2)this[n].setAttribute(t,e);else for(const r in t)this[n][r]=t[r],this[n].setAttribute(r,t[r]);return this}function p2(t){for(let e=0;e<this.length;e+=1)this[e].removeAttribute(t);return this}function m2(t){for(let e=0;e<this.length;e+=1)this[e].style.transform=t;return this}function g2(t){for(let e=0;e<this.length;e+=1)this[e].style.transitionDuration=typeof t!="string"?`${t}ms`:t;return this}function v2(...t){let[e,n,r,i]=t;typeof t[1]=="function"&&([e,r,i]=t,n=void 0),i||(i=!1);function a(g){const E=g.target;if(!E)return;const T=g.target.dom7EventData||[];if(T.indexOf(g)<0&&T.unshift(g),Ae(E).is(n))r.apply(E,T);else{const C=Ae(E).parents();for(let A=0;A<C.length;A+=1)Ae(C[A]).is(n)&&r.apply(C[A],T)}}function l(g){const E=g&&g.target?g.target.dom7EventData||[]:[];E.indexOf(g)<0&&E.unshift(g),r.apply(this,E)}const h=e.split(" ");let f;for(let g=0;g<this.length;g+=1){const E=this[g];if(n)for(f=0;f<h.length;f+=1){const T=h[f];E.dom7LiveListeners||(E.dom7LiveListeners={}),E.dom7LiveListeners[T]||(E.dom7LiveListeners[T]=[]),E.dom7LiveListeners[T].push({listener:r,proxyListener:a}),E.addEventListener(T,a,i)}else for(f=0;f<h.length;f+=1){const T=h[f];E.dom7Listeners||(E.dom7Listeners={}),E.dom7Listeners[T]||(E.dom7Listeners[T]=[]),E.dom7Listeners[T].push({listener:r,proxyListener:l}),E.addEventListener(T,l,i)}}return this}function y2(...t){let[e,n,r,i]=t;typeof t[1]=="function"&&([e,r,i]=t,n=void 0),i||(i=!1);const a=e.split(" ");for(let l=0;l<a.length;l+=1){const h=a[l];for(let f=0;f<this.length;f+=1){const g=this[f];let E;if(!n&&g.dom7Listeners?E=g.dom7Listeners[h]:n&&g.dom7LiveListeners&&(E=g.dom7LiveListeners[h]),E&&E.length)for(let T=E.length-1;T>=0;T-=1){const C=E[T];r&&C.listener===r||r&&C.listener&&C.listener.dom7proxy&&C.listener.dom7proxy===r?(g.removeEventListener(h,C.proxyListener,i),E.splice(T,1)):r||(g.removeEventListener(h,C.proxyListener,i),E.splice(T,1))}}}return this}function b2(...t){const e=dn(),n=t[0].split(" "),r=t[1];for(let i=0;i<n.length;i+=1){const a=n[i];for(let l=0;l<this.length;l+=1){const h=this[l];if(e.CustomEvent){const f=new e.CustomEvent(a,{detail:r,bubbles:!0,cancelable:!0});h.dom7EventData=t.filter((g,E)=>E>0),h.dispatchEvent(f),h.dom7EventData=[],delete h.dom7EventData}}}return this}function w2(t){const e=this;function n(r){r.target===this&&(t.call(this,r),e.off("transitionend",n))}return t&&e.on("transitionend",n),this}function x2(t){if(this.length>0){if(t){const e=this.styles();return this[0].offsetWidth+parseFloat(e.getPropertyValue("margin-right"))+parseFloat(e.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null}function E2(t){if(this.length>0){if(t){const e=this.styles();return this[0].offsetHeight+parseFloat(e.getPropertyValue("margin-top"))+parseFloat(e.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null}function S2(){if(this.length>0){const t=dn(),e=yn(),n=this[0],r=n.getBoundingClientRect(),i=e.body,a=n.clientTop||i.clientTop||0,l=n.clientLeft||i.clientLeft||0,h=n===t?t.scrollY:n.scrollTop,f=n===t?t.scrollX:n.scrollLeft;return{top:r.top+h-a,left:r.left+f-l}}return null}function k2(){const t=dn();return this[0]?t.getComputedStyle(this[0],null):{}}function C2(t,e){const n=dn();let r;if(arguments.length===1)if(typeof t=="string"){if(this[0])return n.getComputedStyle(this[0],null).getPropertyValue(t)}else{for(r=0;r<this.length;r+=1)for(const i in t)this[r].style[i]=t[i];return this}if(arguments.length===2&&typeof t=="string"){for(r=0;r<this.length;r+=1)this[r].style[t]=e;return this}return this}function T2(t){return t?(this.forEach((e,n)=>{t.apply(e,[e,n])}),this):this}function N2(t){const e=nk(this,t);return Ae(e)}function D2(t){if(typeof t>"u")return this[0]?this[0].innerHTML:null;for(let e=0;e<this.length;e+=1)this[e].innerHTML=t;return this}function A2(t){if(typeof t>"u")return this[0]?this[0].textContent.trim():null;for(let e=0;e<this.length;e+=1)this[e].textContent=t;return this}function I2(t){const e=dn(),n=yn(),r=this[0];let i,a;if(!r||typeof t>"u")return!1;if(typeof t=="string"){if(r.matches)return r.matches(t);if(r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(r.msMatchesSelector)return r.msMatchesSelector(t);for(i=Ae(t),a=0;a<i.length;a+=1)if(i[a]===r)return!0;return!1}if(t===n)return r===n;if(t===e)return r===e;if(t.nodeType||t instanceof Wi){for(i=t.nodeType?[t]:t,a=0;a<i.length;a+=1)if(i[a]===r)return!0;return!1}return!1}function O2(){let t=this[0],e;if(t){for(e=0;(t=t.previousSibling)!==null;)t.nodeType===1&&(e+=1);return e}}function M2(t){if(typeof t>"u")return this;const e=this.length;if(t>e-1)return Ae([]);if(t<0){const n=e+t;return n<0?Ae([]):Ae([this[n]])}return Ae([this[t]])}function P2(...t){let e;const n=yn();for(let r=0;r<t.length;r+=1){e=t[r];for(let i=0;i<this.length;i+=1)if(typeof e=="string"){const a=n.createElement("div");for(a.innerHTML=e;a.firstChild;)this[i].appendChild(a.firstChild)}else if(e instanceof Wi)for(let a=0;a<e.length;a+=1)this[i].appendChild(e[a]);else this[i].appendChild(e)}return this}function L2(t){const e=yn();let n,r;for(n=0;n<this.length;n+=1)if(typeof t=="string"){const i=e.createElement("div");for(i.innerHTML=t,r=i.childNodes.length-1;r>=0;r-=1)this[n].insertBefore(i.childNodes[r],this[n].childNodes[0])}else if(t instanceof Wi)for(r=0;r<t.length;r+=1)this[n].insertBefore(t[r],this[n].childNodes[0]);else this[n].insertBefore(t,this[n].childNodes[0]);return this}function R2(t){return this.length>0?t?this[0].nextElementSibling&&Ae(this[0].nextElementSibling).is(t)?Ae([this[0].nextElementSibling]):Ae([]):this[0].nextElementSibling?Ae([this[0].nextElementSibling]):Ae([]):Ae([])}function $2(t){const e=[];let n=this[0];if(!n)return Ae([]);for(;n.nextElementSibling;){const r=n.nextElementSibling;t?Ae(r).is(t)&&e.push(r):e.push(r),n=r}return Ae(e)}function F2(t){if(this.length>0){const e=this[0];return t?e.previousElementSibling&&Ae(e.previousElementSibling).is(t)?Ae([e.previousElementSibling]):Ae([]):e.previousElementSibling?Ae([e.previousElementSibling]):Ae([])}return Ae([])}function U2(t){const e=[];let n=this[0];if(!n)return Ae([]);for(;n.previousElementSibling;){const r=n.previousElementSibling;t?Ae(r).is(t)&&e.push(r):e.push(r),n=r}return Ae(e)}function j2(t){const e=[];for(let n=0;n<this.length;n+=1)this[n].parentNode!==null&&(t?Ae(this[n].parentNode).is(t)&&e.push(this[n].parentNode):e.push(this[n].parentNode));return Ae(e)}function V2(t){const e=[];for(let n=0;n<this.length;n+=1){let r=this[n].parentNode;for(;r;)t?Ae(r).is(t)&&e.push(r):e.push(r),r=r.parentNode}return Ae(e)}function z2(t){let e=this;return typeof t>"u"?Ae([]):(e.is(t)||(e=e.parents(t).eq(0)),e)}function H2(t){const e=[];for(let n=0;n<this.length;n+=1){const r=this[n].querySelectorAll(t);for(let i=0;i<r.length;i+=1)e.push(r[i])}return Ae(e)}function B2(t){const e=[];for(let n=0;n<this.length;n+=1){const r=this[n].children;for(let i=0;i<r.length;i+=1)(!t||Ae(r[i]).is(t))&&e.push(r[i])}return Ae(e)}function q2(){for(let t=0;t<this.length;t+=1)this[t].parentNode&&this[t].parentNode.removeChild(this[t]);return this}const X0={addClass:u2,removeClass:d2,hasClass:f2,toggleClass:h2,attr:_2,removeAttr:p2,transform:m2,transition:g2,on:v2,off:y2,trigger:b2,transitionEnd:w2,outerWidth:x2,outerHeight:E2,styles:k2,offset:S2,css:C2,each:T2,html:D2,text:A2,is:I2,index:O2,eq:M2,append:P2,prepend:L2,next:R2,nextAll:$2,prev:F2,prevAll:U2,parent:j2,parents:V2,closest:z2,find:H2,children:B2,filter:N2,remove:q2};Object.keys(X0).forEach(t=>{Object.defineProperty(Ae.fn,t,{value:X0[t],writable:!0})});function W2(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function Rd(t,e=0){return setTimeout(t,e)}function Zl(){return Date.now()}function G2(t){const e=dn();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function K2(t,e="x"){const n=dn();let r,i,a;const l=G2(t);return n.WebKitCSSMatrix?(i=l.transform||l.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(h=>h.replace(",",".")).join(", ")),a=new n.WebKitCSSMatrix(i==="none"?"":i)):(a=l.MozTransform||l.OTransform||l.MsTransform||l.msTransform||l.transform||l.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=a.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?i=a.m41:r.length===16?i=parseFloat(r[12]):i=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?i=a.m42:r.length===16?i=parseFloat(r[13]):i=parseFloat(r[5])),i||0}function fu(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function Y2(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function or(...t){const e=Object(t[0]),n=["__proto__","constructor","prototype"];for(let r=1;r<t.length;r+=1){const i=t[r];if(i!=null&&!Y2(i)){const a=Object.keys(Object(i)).filter(l=>n.indexOf(l)<0);for(let l=0,h=a.length;l<h;l+=1){const f=a[l],g=Object.getOwnPropertyDescriptor(i,f);g!==void 0&&g.enumerable&&(fu(e[f])&&fu(i[f])?i[f].__swiper__?e[f]=i[f]:or(e[f],i[f]):!fu(e[f])&&fu(i[f])?(e[f]={},i[f].__swiper__?e[f]=i[f]:or(e[f],i[f])):e[f]=i[f])}}}return e}function _u(t,e,n){t.style.setProperty(e,n)}function rk({swiper:t,targetPosition:e,side:n}){const r=dn(),i=-t.translate;let a=null,l;const h=t.params.speed;t.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(t.cssModeFrameID);const f=e>i?"next":"prev",g=(T,C)=>f==="next"&&T>=C||f==="prev"&&T<=C,E=()=>{l=new Date().getTime(),a===null&&(a=l);const T=Math.max(Math.min((l-a)/h,1),0),C=.5-Math.cos(T*Math.PI)/2;let A=i+C*(e-i);if(g(A,e)&&(A=e),t.wrapperEl.scrollTo({[n]:A}),g(A,e)){t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[n]:A})}),r.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=r.requestAnimationFrame(E)};E()}let Lf;function J2(){const t=dn(),e=yn();return{smoothScroll:e.documentElement&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch),passiveListener:function(){let r=!1;try{const i=Object.defineProperty({},"passive",{get(){r=!0}});t.addEventListener("testPassiveListener",null,i)}catch{}return r}(),gestures:function(){return"ongesturestart"in t}()}}function ik(){return Lf||(Lf=J2()),Lf}let Rf;function Q2({userAgent:t}={}){const e=ik(),n=dn(),r=n.navigator.platform,i=t||n.navigator.userAgent,a={ios:!1,android:!1},l=n.screen.width,h=n.screen.height,f=i.match(/(Android);?[\s\/]+([\d.]+)?/);let g=i.match(/(iPad).*OS\s([\d_]+)/);const E=i.match(/(iPod)(.*OS\s([\d_]+))?/),T=!g&&i.match(/(iPhone\sOS|iOS)\s([\d_]+)/),C=r==="Win32";let A=r==="MacIntel";const L=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!g&&A&&e.touch&&L.indexOf(`${l}x${h}`)>=0&&(g=i.match(/(Version)\/([\d.]+)/),g||(g=[0,1,"13_0_0"]),A=!1),f&&!C&&(a.os="android",a.android=!0),(g||T||E)&&(a.os="ios",a.ios=!0),a}function X2(t={}){return Rf||(Rf=Q2(t)),Rf}let $f;function Z2(){const t=dn();function e(){const n=t.navigator.userAgent.toLowerCase();return n.indexOf("safari")>=0&&n.indexOf("chrome")<0&&n.indexOf("android")<0}return{isSafari:e(),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent)}}function eF(){return $f||($f=Z2()),$f}function tF({swiper:t,on:e,emit:n}){const r=dn();let i=null,a=null;const l=()=>{!t||t.destroyed||!t.initialized||(n("beforeResize"),n("resize"))},h=()=>{!t||t.destroyed||!t.initialized||(i=new ResizeObserver(E=>{a=r.requestAnimationFrame(()=>{const{width:T,height:C}=t;let A=T,L=C;E.forEach(({contentBoxSize:N,contentRect:R,target:O})=>{O&&O!==t.el||(A=R?R.width:(N[0]||N).inlineSize,L=R?R.height:(N[0]||N).blockSize)}),(A!==T||L!==C)&&l()})}),i.observe(t.el))},f=()=>{a&&r.cancelAnimationFrame(a),i&&i.unobserve&&t.el&&(i.unobserve(t.el),i=null)},g=()=>{!t||t.destroyed||!t.initialized||n("orientationchange")};e("init",()=>{if(t.params.resizeObserver&&typeof r.ResizeObserver<"u"){h();return}r.addEventListener("resize",l),r.addEventListener("orientationchange",g)}),e("destroy",()=>{f(),r.removeEventListener("resize",l),r.removeEventListener("orientationchange",g)})}function nF({swiper:t,extendParams:e,on:n,emit:r}){const i=[],a=dn(),l=(g,E={})=>{const T=a.MutationObserver||a.WebkitMutationObserver,C=new T(A=>{if(A.length===1){r("observerUpdate",A[0]);return}const L=function(){r("observerUpdate",A[0])};a.requestAnimationFrame?a.requestAnimationFrame(L):a.setTimeout(L,0)});C.observe(g,{attributes:typeof E.attributes>"u"?!0:E.attributes,childList:typeof E.childList>"u"?!0:E.childList,characterData:typeof E.characterData>"u"?!0:E.characterData}),i.push(C)},h=()=>{if(!!t.params.observer){if(t.params.observeParents){const g=t.$el.parents();for(let E=0;E<g.length;E+=1)l(g[E])}l(t.$el[0],{childList:t.params.observeSlideChildren}),l(t.$wrapperEl[0],{attributes:!1})}},f=()=>{i.forEach(g=>{g.disconnect()}),i.splice(0,i.length)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",h),n("destroy",f)}const rF={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const i=n?"unshift":"push";return t.split(" ").forEach(a=>{r.eventsListeners[a]||(r.eventsListeners[a]=[]),r.eventsListeners[a][i](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function i(...a){r.off(t,i),i.__emitterProxy&&delete i.__emitterProxy,e.apply(r,a)}return i.__emitterProxy=e,r.on(t,i,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((i,a)=>{(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&n.eventsListeners[r].splice(a,1)})}),n},emit(...t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let n,r,i;return typeof t[0]=="string"||Array.isArray(t[0])?(n=t[0],r=t.slice(1,t.length),i=e):(n=t[0].events,r=t[0].data,i=t[0].context||e),r.unshift(i),(Array.isArray(n)?n:n.split(" ")).forEach(l=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(h=>{h.apply(i,[l,...r])}),e.eventsListeners&&e.eventsListeners[l]&&e.eventsListeners[l].forEach(h=>{h.apply(i,r)})}),e}};function iF(){const t=this;let e,n;const r=t.$el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r[0].clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r[0].clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(r.css("padding-left")||0,10)-parseInt(r.css("padding-right")||0,10),n=n-parseInt(r.css("padding-top")||0,10)-parseInt(r.css("padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function aF(){const t=this;function e(Y){return t.isHorizontal()?Y:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[Y]}function n(Y,te){return parseFloat(Y.getPropertyValue(e(te))||0)}const r=t.params,{$wrapperEl:i,size:a,rtlTranslate:l,wrongRTL:h}=t,f=t.virtual&&r.virtual.enabled,g=f?t.virtual.slides.length:t.slides.length,E=i.children(`.${t.params.slideClass}`),T=f?t.virtual.slides.length:E.length;let C=[];const A=[],L=[];let N=r.slidesOffsetBefore;typeof N=="function"&&(N=r.slidesOffsetBefore.call(t));let R=r.slidesOffsetAfter;typeof R=="function"&&(R=r.slidesOffsetAfter.call(t));const O=t.snapGrid.length,I=t.slidesGrid.length;let $=r.spaceBetween,F=-N,j=0,B=0;if(typeof a>"u")return;typeof $=="string"&&$.indexOf("%")>=0&&($=parseFloat($.replace("%",""))/100*a),t.virtualSize=-$,l?E.css({marginLeft:"",marginBottom:"",marginTop:""}):E.css({marginRight:"",marginBottom:"",marginTop:""}),r.centeredSlides&&r.cssMode&&(_u(t.wrapperEl,"--swiper-centered-offset-before",""),_u(t.wrapperEl,"--swiper-centered-offset-after",""));const z=r.grid&&r.grid.rows>1&&t.grid;z&&t.grid.initSlides(T);let H;const W=r.slidesPerView==="auto"&&r.breakpoints&&Object.keys(r.breakpoints).filter(Y=>typeof r.breakpoints[Y].slidesPerView<"u").length>0;for(let Y=0;Y<T;Y+=1){H=0;const te=E.eq(Y);if(z&&t.grid.updateSlide(Y,te,T,e),te.css("display")!=="none"){if(r.slidesPerView==="auto"){W&&(E[Y].style[e("width")]="");const Z=getComputedStyle(te[0]),le=te[0].style.transform,he=te[0].style.webkitTransform;if(le&&(te[0].style.transform="none"),he&&(te[0].style.webkitTransform="none"),r.roundLengths)H=t.isHorizontal()?te.outerWidth(!0):te.outerHeight(!0);else{const ke=n(Z,"width"),xe=n(Z,"padding-left"),Ge=n(Z,"padding-right"),fe=n(Z,"margin-left"),ge=n(Z,"margin-right"),pe=Z.getPropertyValue("box-sizing");if(pe&&pe==="border-box")H=ke+fe+ge;else{const{clientWidth:Fe,offsetWidth:Oe}=te[0];H=ke+xe+Ge+fe+ge+(Oe-Fe)}}le&&(te[0].style.transform=le),he&&(te[0].style.webkitTransform=he),r.roundLengths&&(H=Math.floor(H))}else H=(a-(r.slidesPerView-1)*$)/r.slidesPerView,r.roundLengths&&(H=Math.floor(H)),E[Y]&&(E[Y].style[e("width")]=`${H}px`);E[Y]&&(E[Y].swiperSlideSize=H),L.push(H),r.centeredSlides?(F=F+H/2+j/2+$,j===0&&Y!==0&&(F=F-a/2-$),Y===0&&(F=F-a/2-$),Math.abs(F)<1/1e3&&(F=0),r.roundLengths&&(F=Math.floor(F)),B%r.slidesPerGroup===0&&C.push(F),A.push(F)):(r.roundLengths&&(F=Math.floor(F)),(B-Math.min(t.params.slidesPerGroupSkip,B))%t.params.slidesPerGroup===0&&C.push(F),A.push(F),F=F+H+$),t.virtualSize+=H+$,j=H,B+=1}}if(t.virtualSize=Math.max(t.virtualSize,a)+R,l&&h&&(r.effect==="slide"||r.effect==="coverflow")&&i.css({width:`${t.virtualSize+r.spaceBetween}px`}),r.setWrapperSize&&i.css({[e("width")]:`${t.virtualSize+r.spaceBetween}px`}),z&&t.grid.updateWrapperSize(H,C,e),!r.centeredSlides){const Y=[];for(let te=0;te<C.length;te+=1){let Z=C[te];r.roundLengths&&(Z=Math.floor(Z)),C[te]<=t.virtualSize-a&&Y.push(Z)}C=Y,Math.floor(t.virtualSize-a)-Math.floor(C[C.length-1])>1&&C.push(t.virtualSize-a)}if(C.length===0&&(C=[0]),r.spaceBetween!==0){const Y=t.isHorizontal()&&l?"marginLeft":e("marginRight");E.filter((te,Z)=>r.cssMode?Z!==E.length-1:!0).css({[Y]:`${$}px`})}if(r.centeredSlides&&r.centeredSlidesBounds){let Y=0;L.forEach(Z=>{Y+=Z+(r.spaceBetween?r.spaceBetween:0)}),Y-=r.spaceBetween;const te=Y-a;C=C.map(Z=>Z<0?-N:Z>te?te+R:Z)}if(r.centerInsufficientSlides){let Y=0;if(L.forEach(te=>{Y+=te+(r.spaceBetween?r.spaceBetween:0)}),Y-=r.spaceBetween,Y<a){const te=(a-Y)/2;C.forEach((Z,le)=>{C[le]=Z-te}),A.forEach((Z,le)=>{A[le]=Z+te})}}if(Object.assign(t,{slides:E,snapGrid:C,slidesGrid:A,slidesSizesGrid:L}),r.centeredSlides&&r.cssMode&&!r.centeredSlidesBounds){_u(t.wrapperEl,"--swiper-centered-offset-before",`${-C[0]}px`),_u(t.wrapperEl,"--swiper-centered-offset-after",`${t.size/2-L[L.length-1]/2}px`);const Y=-t.snapGrid[0],te=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(Z=>Z+Y),t.slidesGrid=t.slidesGrid.map(Z=>Z+te)}if(T!==g&&t.emit("slidesLengthChange"),C.length!==O&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),A.length!==I&&t.emit("slidesGridLengthChange"),r.watchSlidesProgress&&t.updateSlidesOffset(),!f&&!r.cssMode&&(r.effect==="slide"||r.effect==="fade")){const Y=`${r.containerModifierClass}backface-hidden`,te=t.$el.hasClass(Y);T<=r.maxBackfaceHiddenSlides?te||t.$el.addClass(Y):te&&t.$el.removeClass(Y)}}function sF(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let i=0,a;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const l=h=>r?e.slides.filter(f=>parseInt(f.getAttribute("data-swiper-slide-index"),10)===h)[0]:e.slides.eq(h)[0];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||Ae([])).each(h=>{n.push(h)});else for(a=0;a<Math.ceil(e.params.slidesPerView);a+=1){const h=e.activeIndex+a;if(h>e.slides.length&&!r)break;n.push(l(h))}else n.push(l(e.activeIndex));for(a=0;a<n.length;a+=1)if(typeof n[a]<"u"){const h=n[a].offsetHeight;i=h>i?h:i}(i||i===0)&&e.$wrapperEl.css("height",`${i}px`)}function oF(){const t=this,e=t.slides;for(let n=0;n<e.length;n+=1)e[n].swiperSlideOffset=t.isHorizontal()?e[n].offsetLeft:e[n].offsetTop}function lF(t=this&&this.translate||0){const e=this,n=e.params,{slides:r,rtlTranslate:i,snapGrid:a}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let l=-t;i&&(l=t),r.removeClass(n.slideVisibleClass),e.visibleSlidesIndexes=[],e.visibleSlides=[];for(let h=0;h<r.length;h+=1){const f=r[h];let g=f.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(g-=r[0].swiperSlideOffset);const E=(l+(n.centeredSlides?e.minTranslate():0)-g)/(f.swiperSlideSize+n.spaceBetween),T=(l-a[0]+(n.centeredSlides?e.minTranslate():0)-g)/(f.swiperSlideSize+n.spaceBetween),C=-(l-g),A=C+e.slidesSizesGrid[h];(C>=0&&C<e.size-1||A>1&&A<=e.size||C<=0&&A>=e.size)&&(e.visibleSlides.push(f),e.visibleSlidesIndexes.push(h),r.eq(h).addClass(n.slideVisibleClass)),f.progress=i?-E:E,f.originalProgress=i?-T:T}e.visibleSlides=Ae(e.visibleSlides)}function cF(t){const e=this;if(typeof t>"u"){const g=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*g||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:i,isBeginning:a,isEnd:l}=e;const h=a,f=l;r===0?(i=0,a=!0,l=!0):(i=(t-e.minTranslate())/r,a=i<=0,l=i>=1),Object.assign(e,{progress:i,isBeginning:a,isEnd:l}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),a&&!h&&e.emit("reachBeginning toEdge"),l&&!f&&e.emit("reachEnd toEdge"),(h&&!a||f&&!l)&&e.emit("fromEdge"),e.emit("progress",i)}function uF(){const t=this,{slides:e,params:n,$wrapperEl:r,activeIndex:i,realIndex:a}=t,l=t.virtual&&n.virtual.enabled;e.removeClass(`${n.slideActiveClass} ${n.slideNextClass} ${n.slidePrevClass} ${n.slideDuplicateActiveClass} ${n.slideDuplicateNextClass} ${n.slideDuplicatePrevClass}`);let h;l?h=t.$wrapperEl.find(`.${n.slideClass}[data-swiper-slide-index="${i}"]`):h=e.eq(i),h.addClass(n.slideActiveClass),n.loop&&(h.hasClass(n.slideDuplicateClass)?r.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${a}"]`).addClass(n.slideDuplicateActiveClass):r.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${a}"]`).addClass(n.slideDuplicateActiveClass));let f=h.nextAll(`.${n.slideClass}`).eq(0).addClass(n.slideNextClass);n.loop&&f.length===0&&(f=e.eq(0),f.addClass(n.slideNextClass));let g=h.prevAll(`.${n.slideClass}`).eq(0).addClass(n.slidePrevClass);n.loop&&g.length===0&&(g=e.eq(-1),g.addClass(n.slidePrevClass)),n.loop&&(f.hasClass(n.slideDuplicateClass)?r.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${f.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicateNextClass):r.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${f.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicateNextClass),g.hasClass(n.slideDuplicateClass)?r.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${g.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicatePrevClass):r.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${g.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicatePrevClass)),t.emitSlidesClasses()}function dF(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{slidesGrid:r,snapGrid:i,params:a,activeIndex:l,realIndex:h,snapIndex:f}=e;let g=t,E;if(typeof g>"u"){for(let C=0;C<r.length;C+=1)typeof r[C+1]<"u"?n>=r[C]&&n<r[C+1]-(r[C+1]-r[C])/2?g=C:n>=r[C]&&n<r[C+1]&&(g=C+1):n>=r[C]&&(g=C);a.normalizeSlideIndex&&(g<0||typeof g>"u")&&(g=0)}if(i.indexOf(n)>=0)E=i.indexOf(n);else{const C=Math.min(a.slidesPerGroupSkip,g);E=C+Math.floor((g-C)/a.slidesPerGroup)}if(E>=i.length&&(E=i.length-1),g===l){E!==f&&(e.snapIndex=E,e.emit("snapIndexChange"));return}const T=parseInt(e.slides.eq(g).attr("data-swiper-slide-index")||g,10);Object.assign(e,{snapIndex:E,realIndex:T,previousIndex:l,activeIndex:g}),e.emit("activeIndexChange"),e.emit("snapIndexChange"),h!==T&&e.emit("realIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&e.emit("slideChange")}function hF(t){const e=this,n=e.params,r=Ae(t).closest(`.${n.slideClass}`)[0];let i=!1,a;if(r){for(let l=0;l<e.slides.length;l+=1)if(e.slides[l]===r){i=!0,a=l;break}}if(r&&i)e.clickedSlide=r,e.virtual&&e.params.virtual.enabled?e.clickedIndex=parseInt(Ae(r).attr("data-swiper-slide-index"),10):e.clickedIndex=a;else{e.clickedSlide=void 0,e.clickedIndex=void 0;return}n.slideToClickedSlide&&e.clickedIndex!==void 0&&e.clickedIndex!==e.activeIndex&&e.slideToClickedSlide()}const fF={updateSize:iF,updateSlides:aF,updateAutoHeight:sF,updateSlidesOffset:oF,updateSlidesProgress:lF,updateProgress:cF,updateSlidesClasses:uF,updateActiveIndex:dF,updateClickedSlide:hF};function _F(t=this.isHorizontal()?"x":"y"){const e=this,{params:n,rtlTranslate:r,translate:i,$wrapperEl:a}=e;if(n.virtualTranslate)return r?-i:i;if(n.cssMode)return i;let l=K2(a[0],t);return r&&(l=-l),l||0}function pF(t,e){const n=this,{rtlTranslate:r,params:i,$wrapperEl:a,wrapperEl:l,progress:h}=n;let f=0,g=0;const E=0;n.isHorizontal()?f=r?-t:t:g=t,i.roundLengths&&(f=Math.floor(f),g=Math.floor(g)),i.cssMode?l[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-f:-g:i.virtualTranslate||a.transform(`translate3d(${f}px, ${g}px, ${E}px)`),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?f:g;let T;const C=n.maxTranslate()-n.minTranslate();C===0?T=0:T=(t-n.minTranslate())/C,T!==h&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function mF(){return-this.snapGrid[0]}function gF(){return-this.snapGrid[this.snapGrid.length-1]}function vF(t=0,e=this.params.speed,n=!0,r=!0,i){const a=this,{params:l,wrapperEl:h}=a;if(a.animating&&l.preventInteractionOnTransition)return!1;const f=a.minTranslate(),g=a.maxTranslate();let E;if(r&&t>f?E=f:r&&t<g?E=g:E=t,a.updateProgress(E),l.cssMode){const T=a.isHorizontal();if(e===0)h[T?"scrollLeft":"scrollTop"]=-E;else{if(!a.support.smoothScroll)return rk({swiper:a,targetPosition:-E,side:T?"left":"top"}),!0;h.scrollTo({[T?"left":"top"]:-E,behavior:"smooth"})}return!0}return e===0?(a.setTransition(0),a.setTranslate(E),n&&(a.emit("beforeTransitionStart",e,i),a.emit("transitionEnd"))):(a.setTransition(e),a.setTranslate(E),n&&(a.emit("beforeTransitionStart",e,i),a.emit("transitionStart")),a.animating||(a.animating=!0,a.onTranslateToWrapperTransitionEnd||(a.onTranslateToWrapperTransitionEnd=function(C){!a||a.destroyed||C.target===this&&(a.$wrapperEl[0].removeEventListener("transitionend",a.onTranslateToWrapperTransitionEnd),a.$wrapperEl[0].removeEventListener("webkitTransitionEnd",a.onTranslateToWrapperTransitionEnd),a.onTranslateToWrapperTransitionEnd=null,delete a.onTranslateToWrapperTransitionEnd,n&&a.emit("transitionEnd"))}),a.$wrapperEl[0].addEventListener("transitionend",a.onTranslateToWrapperTransitionEnd),a.$wrapperEl[0].addEventListener("webkitTransitionEnd",a.onTranslateToWrapperTransitionEnd))),!0}const yF={getTranslate:_F,setTranslate:pF,minTranslate:mF,maxTranslate:gF,translateTo:vF};function bF(t,e){const n=this;n.params.cssMode||n.$wrapperEl.transition(t),n.emit("setTransition",t,e)}function ak({swiper:t,runCallbacks:e,direction:n,step:r}){const{activeIndex:i,previousIndex:a}=t;let l=n;if(l||(i>a?l="next":i<a?l="prev":l="reset"),t.emit(`transition${r}`),e&&i!==a){if(l==="reset"){t.emit(`slideResetTransition${r}`);return}t.emit(`slideChangeTransition${r}`),l==="next"?t.emit(`slideNextTransition${r}`):t.emit(`slidePrevTransition${r}`)}}function wF(t=!0,e){const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),ak({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function xF(t=!0,e){const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),ak({swiper:n,runCallbacks:t,direction:e,step:"End"}))}const EF={setTransition:bF,transitionStart:wF,transitionEnd:xF};function SF(t=0,e=this.params.speed,n=!0,r,i){if(typeof t!="number"&&typeof t!="string")throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof t}] given.`);if(typeof t=="string"){const $=parseInt(t,10);if(!isFinite($))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${t}] given.`);t=$}const a=this;let l=t;l<0&&(l=0);const{params:h,snapGrid:f,slidesGrid:g,previousIndex:E,activeIndex:T,rtlTranslate:C,wrapperEl:A,enabled:L}=a;if(a.animating&&h.preventInteractionOnTransition||!L&&!r&&!i)return!1;const N=Math.min(a.params.slidesPerGroupSkip,l);let R=N+Math.floor((l-N)/a.params.slidesPerGroup);R>=f.length&&(R=f.length-1);const O=-f[R];if(h.normalizeSlideIndex)for(let $=0;$<g.length;$+=1){const F=-Math.floor(O*100),j=Math.floor(g[$]*100),B=Math.floor(g[$+1]*100);typeof g[$+1]<"u"?F>=j&&F<B-(B-j)/2?l=$:F>=j&&F<B&&(l=$+1):F>=j&&(l=$)}if(a.initialized&&l!==T&&(!a.allowSlideNext&&O<a.translate&&O<a.minTranslate()||!a.allowSlidePrev&&O>a.translate&&O>a.maxTranslate()&&(T||0)!==l))return!1;l!==(E||0)&&n&&a.emit("beforeSlideChangeStart"),a.updateProgress(O);let I;if(l>T?I="next":l<T?I="prev":I="reset",C&&-O===a.translate||!C&&O===a.translate)return a.updateActiveIndex(l),h.autoHeight&&a.updateAutoHeight(),a.updateSlidesClasses(),h.effect!=="slide"&&a.setTranslate(O),I!=="reset"&&(a.transitionStart(n,I),a.transitionEnd(n,I)),!1;if(h.cssMode){const $=a.isHorizontal(),F=C?O:-O;if(e===0){const j=a.virtual&&a.params.virtual.enabled;j&&(a.wrapperEl.style.scrollSnapType="none",a._immediateVirtual=!0),A[$?"scrollLeft":"scrollTop"]=F,j&&requestAnimationFrame(()=>{a.wrapperEl.style.scrollSnapType="",a._swiperImmediateVirtual=!1})}else{if(!a.support.smoothScroll)return rk({swiper:a,targetPosition:F,side:$?"left":"top"}),!0;A.scrollTo({[$?"left":"top"]:F,behavior:"smooth"})}return!0}return a.setTransition(e),a.setTranslate(O),a.updateActiveIndex(l),a.updateSlidesClasses(),a.emit("beforeTransitionStart",e,r),a.transitionStart(n,I),e===0?a.transitionEnd(n,I):a.animating||(a.animating=!0,a.onSlideToWrapperTransitionEnd||(a.onSlideToWrapperTransitionEnd=function(F){!a||a.destroyed||F.target===this&&(a.$wrapperEl[0].removeEventListener("transitionend",a.onSlideToWrapperTransitionEnd),a.$wrapperEl[0].removeEventListener("webkitTransitionEnd",a.onSlideToWrapperTransitionEnd),a.onSlideToWrapperTransitionEnd=null,delete a.onSlideToWrapperTransitionEnd,a.transitionEnd(n,I))}),a.$wrapperEl[0].addEventListener("transitionend",a.onSlideToWrapperTransitionEnd),a.$wrapperEl[0].addEventListener("webkitTransitionEnd",a.onSlideToWrapperTransitionEnd)),!0}function kF(t=0,e=this.params.speed,n=!0,r){if(typeof t=="string"){const l=parseInt(t,10);if(!isFinite(l))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${t}] given.`);t=l}const i=this;let a=t;return i.params.loop&&(a+=i.loopedSlides),i.slideTo(a,e,n,r)}function CF(t=this.params.speed,e=!0,n){const r=this,{animating:i,enabled:a,params:l}=r;if(!a)return r;let h=l.slidesPerGroup;l.slidesPerView==="auto"&&l.slidesPerGroup===1&&l.slidesPerGroupAuto&&(h=Math.max(r.slidesPerViewDynamic("current",!0),1));const f=r.activeIndex<l.slidesPerGroupSkip?1:h;if(l.loop){if(i&&l.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}return l.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+f,t,e,n)}function TF(t=this.params.speed,e=!0,n){const r=this,{params:i,animating:a,snapGrid:l,slidesGrid:h,rtlTranslate:f,enabled:g}=r;if(!g)return r;if(i.loop){if(a&&i.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}const E=f?r.translate:-r.translate;function T(R){return R<0?-Math.floor(Math.abs(R)):Math.floor(R)}const C=T(E),A=l.map(R=>T(R));let L=l[A.indexOf(C)-1];if(typeof L>"u"&&i.cssMode){let R;l.forEach((O,I)=>{C>=O&&(R=I)}),typeof R<"u"&&(L=l[R>0?R-1:R])}let N=0;if(typeof L<"u"&&(N=h.indexOf(L),N<0&&(N=r.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(N=N-r.slidesPerViewDynamic("previous",!0)+1,N=Math.max(N,0))),i.rewind&&r.isBeginning){const R=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(R,t,e,n)}return r.slideTo(N,t,e,n)}function NF(t=this.params.speed,e=!0,n){const r=this;return r.slideTo(r.activeIndex,t,e,n)}function DF(t=this.params.speed,e=!0,n,r=.5){const i=this;let a=i.activeIndex;const l=Math.min(i.params.slidesPerGroupSkip,a),h=l+Math.floor((a-l)/i.params.slidesPerGroup),f=i.rtlTranslate?i.translate:-i.translate;if(f>=i.snapGrid[h]){const g=i.snapGrid[h],E=i.snapGrid[h+1];f-g>(E-g)*r&&(a+=i.params.slidesPerGroup)}else{const g=i.snapGrid[h-1],E=i.snapGrid[h];f-g<=(E-g)*r&&(a-=i.params.slidesPerGroup)}return a=Math.max(a,0),a=Math.min(a,i.slidesGrid.length-1),i.slideTo(a,t,e,n)}function AF(){const t=this,{params:e,$wrapperEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let i=t.clickedIndex,a;if(e.loop){if(t.animating)return;a=parseInt(Ae(t.clickedSlide).attr("data-swiper-slide-index"),10),e.centeredSlides?i<t.loopedSlides-r/2||i>t.slides.length-t.loopedSlides+r/2?(t.loopFix(),i=n.children(`.${e.slideClass}[data-swiper-slide-index="${a}"]:not(.${e.slideDuplicateClass})`).eq(0).index(),Rd(()=>{t.slideTo(i)})):t.slideTo(i):i>t.slides.length-r?(t.loopFix(),i=n.children(`.${e.slideClass}[data-swiper-slide-index="${a}"]:not(.${e.slideDuplicateClass})`).eq(0).index(),Rd(()=>{t.slideTo(i)})):t.slideTo(i)}else t.slideTo(i)}const IF={slideTo:SF,slideToLoop:kF,slideNext:CF,slidePrev:TF,slideReset:NF,slideToClosest:DF,slideToClickedSlide:AF};function OF(){const t=this,e=yn(),{params:n,$wrapperEl:r}=t,i=r.children().length>0?Ae(r.children()[0].parentNode):r;i.children(`.${n.slideClass}.${n.slideDuplicateClass}`).remove();let a=i.children(`.${n.slideClass}`);if(n.loopFillGroupWithBlank){const f=n.slidesPerGroup-a.length%n.slidesPerGroup;if(f!==n.slidesPerGroup){for(let g=0;g<f;g+=1){const E=Ae(e.createElement("div")).addClass(`${n.slideClass} ${n.slideBlankClass}`);i.append(E)}a=i.children(`.${n.slideClass}`)}}n.slidesPerView==="auto"&&!n.loopedSlides&&(n.loopedSlides=a.length),t.loopedSlides=Math.ceil(parseFloat(n.loopedSlides||n.slidesPerView,10)),t.loopedSlides+=n.loopAdditionalSlides,t.loopedSlides>a.length&&t.params.loopedSlidesLimit&&(t.loopedSlides=a.length);const l=[],h=[];a.each((f,g)=>{Ae(f).attr("data-swiper-slide-index",g)});for(let f=0;f<t.loopedSlides;f+=1){const g=f-Math.floor(f/a.length)*a.length;h.push(a.eq(g)[0]),l.unshift(a.eq(a.length-g-1)[0])}for(let f=0;f<h.length;f+=1)i.append(Ae(h[f].cloneNode(!0)).addClass(n.slideDuplicateClass));for(let f=l.length-1;f>=0;f-=1)i.prepend(Ae(l[f].cloneNode(!0)).addClass(n.slideDuplicateClass))}function MF(){const t=this;t.emit("beforeLoopFix");const{activeIndex:e,slides:n,loopedSlides:r,allowSlidePrev:i,allowSlideNext:a,snapGrid:l,rtlTranslate:h}=t;let f;t.allowSlidePrev=!0,t.allowSlideNext=!0;const E=-l[e]-t.getTranslate();e<r?(f=n.length-r*3+e,f+=r,t.slideTo(f,0,!1,!0)&&E!==0&&t.setTranslate((h?-t.translate:t.translate)-E)):e>=n.length-r&&(f=-n.length+e+r,f+=r,t.slideTo(f,0,!1,!0)&&E!==0&&t.setTranslate((h?-t.translate:t.translate)-E)),t.allowSlidePrev=i,t.allowSlideNext=a,t.emit("loopFix")}function PF(){const t=this,{$wrapperEl:e,params:n,slides:r}=t;e.children(`.${n.slideClass}.${n.slideDuplicateClass},.${n.slideClass}.${n.slideBlankClass}`).remove(),r.removeAttr("data-swiper-slide-index")}const LF={loopCreate:OF,loopFix:MF,loopDestroy:PF};function RF(t){const e=this;if(e.support.touch||!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;n.style.cursor="move",n.style.cursor=t?"grabbing":"grab"}function $F(){const t=this;t.support.touch||t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="")}const FF={setGrabCursor:RF,unsetGrabCursor:$F};function UF(t,e=this){function n(r){if(!r||r===yn()||r===dn())return null;r.assignedSlot&&(r=r.assignedSlot);const i=r.closest(t);return!i&&!r.getRootNode?null:i||n(r.getRootNode().host)}return n(e)}function jF(t){const e=this,n=yn(),r=dn(),i=e.touchEventsData,{params:a,touches:l,enabled:h}=e;if(!h||e.animating&&a.preventInteractionOnTransition)return;!e.animating&&a.cssMode&&a.loop&&e.loopFix();let f=t;f.originalEvent&&(f=f.originalEvent);let g=Ae(f.target);if(a.touchEventsTarget==="wrapper"&&!g.closest(e.wrapperEl).length||(i.isTouchEvent=f.type==="touchstart",!i.isTouchEvent&&"which"in f&&f.which===3)||!i.isTouchEvent&&"button"in f&&f.button>0||i.isTouched&&i.isMoved)return;const E=!!a.noSwipingClass&&a.noSwipingClass!=="",T=t.composedPath?t.composedPath():t.path;E&&f.target&&f.target.shadowRoot&&T&&(g=Ae(T[0]));const C=a.noSwipingSelector?a.noSwipingSelector:`.${a.noSwipingClass}`,A=!!(f.target&&f.target.shadowRoot);if(a.noSwiping&&(A?UF(C,g[0]):g.closest(C)[0])){e.allowClick=!0;return}if(a.swipeHandler&&!g.closest(a.swipeHandler)[0])return;l.currentX=f.type==="touchstart"?f.targetTouches[0].pageX:f.pageX,l.currentY=f.type==="touchstart"?f.targetTouches[0].pageY:f.pageY;const L=l.currentX,N=l.currentY,R=a.edgeSwipeDetection||a.iOSEdgeSwipeDetection,O=a.edgeSwipeThreshold||a.iOSEdgeSwipeThreshold;if(R&&(L<=O||L>=r.innerWidth-O))if(R==="prevent")t.preventDefault();else return;if(Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),l.startX=L,l.startY=N,i.touchStartTime=Zl(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,a.threshold>0&&(i.allowThresholdMove=!1),f.type!=="touchstart"){let I=!0;g.is(i.focusableElements)&&(I=!1,g[0].nodeName==="SELECT"&&(i.isTouched=!1)),n.activeElement&&Ae(n.activeElement).is(i.focusableElements)&&n.activeElement!==g[0]&&n.activeElement.blur();const $=I&&e.allowTouchMove&&a.touchStartPreventDefault;(a.touchStartForcePreventDefault||$)&&!g[0].isContentEditable&&f.preventDefault()}e.params.freeMode&&e.params.freeMode.enabled&&e.freeMode&&e.animating&&!a.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",f)}function VF(t){const e=yn(),n=this,r=n.touchEventsData,{params:i,touches:a,rtlTranslate:l,enabled:h}=n;if(!h)return;let f=t;if(f.originalEvent&&(f=f.originalEvent),!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",f);return}if(r.isTouchEvent&&f.type!=="touchmove")return;const g=f.type==="touchmove"&&f.targetTouches&&(f.targetTouches[0]||f.changedTouches[0]),E=f.type==="touchmove"?g.pageX:f.pageX,T=f.type==="touchmove"?g.pageY:f.pageY;if(f.preventedByNestedSwiper){a.startX=E,a.startY=T;return}if(!n.allowTouchMove){Ae(f.target).is(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(a,{startX:E,startY:T,currentX:E,currentY:T}),r.touchStartTime=Zl());return}if(r.isTouchEvent&&i.touchReleaseOnEdges&&!i.loop){if(n.isVertical()){if(T<a.startY&&n.translate<=n.maxTranslate()||T>a.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else if(E<a.startX&&n.translate<=n.maxTranslate()||E>a.startX&&n.translate>=n.minTranslate())return}if(r.isTouchEvent&&e.activeElement&&f.target===e.activeElement&&Ae(f.target).is(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}if(r.allowTouchCallbacks&&n.emit("touchMove",f),f.targetTouches&&f.targetTouches.length>1)return;a.currentX=E,a.currentY=T;const C=a.currentX-a.startX,A=a.currentY-a.startY;if(n.params.threshold&&Math.sqrt(C**2+A**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let O;n.isHorizontal()&&a.currentY===a.startY||n.isVertical()&&a.currentX===a.startX?r.isScrolling=!1:C*C+A*A>=25&&(O=Math.atan2(Math.abs(A),Math.abs(C))*180/Math.PI,r.isScrolling=n.isHorizontal()?O>i.touchAngle:90-O>i.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",f),typeof r.startMoving>"u"&&(a.currentX!==a.startX||a.currentY!==a.startY)&&(r.startMoving=!0),r.isScrolling){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!i.cssMode&&f.cancelable&&f.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&f.stopPropagation(),r.isMoved||(i.loop&&!i.cssMode&&n.loopFix(),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating&&n.$wrapperEl.trigger("webkitTransitionEnd transitionend"),r.allowMomentumBounce=!1,i.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",f)),n.emit("sliderMove",f),r.isMoved=!0;let L=n.isHorizontal()?C:A;a.diff=L,L*=i.touchRatio,l&&(L=-L),n.swipeDirection=L>0?"prev":"next",r.currentTranslate=L+r.startTranslate;let N=!0,R=i.resistanceRatio;if(i.touchReleaseOnEdges&&(R=0),L>0&&r.currentTranslate>n.minTranslate()?(N=!1,i.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+L)**R)):L<0&&r.currentTranslate<n.maxTranslate()&&(N=!1,i.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-L)**R)),N&&(f.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),i.threshold>0)if(Math.abs(L)>i.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,a.startX=a.currentX,a.startY=a.currentY,r.currentTranslate=r.startTranslate,a.diff=n.isHorizontal()?a.currentX-a.startX:a.currentY-a.startY;return}}else{r.currentTranslate=r.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),n.params.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function zF(t){const e=this,n=e.touchEventsData,{params:r,touches:i,rtlTranslate:a,slidesGrid:l,enabled:h}=e;if(!h)return;let f=t;if(f.originalEvent&&(f=f.originalEvent),n.allowTouchCallbacks&&e.emit("touchEnd",f),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&r.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}r.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const g=Zl(),E=g-n.touchStartTime;if(e.allowClick){const I=f.path||f.composedPath&&f.composedPath();e.updateClickedSlide(I&&I[0]||f.target),e.emit("tap click",f),E<300&&g-n.lastClickTime<300&&e.emit("doubleTap doubleClick",f)}if(n.lastClickTime=Zl(),Rd(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||i.diff===0||n.currentTranslate===n.startTranslate){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let T;if(r.followFinger?T=a?e.translate:-e.translate:T=-n.currentTranslate,r.cssMode)return;if(e.params.freeMode&&r.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:T});return}let C=0,A=e.slidesSizesGrid[0];for(let I=0;I<l.length;I+=I<r.slidesPerGroupSkip?1:r.slidesPerGroup){const $=I<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;typeof l[I+$]<"u"?T>=l[I]&&T<l[I+$]&&(C=I,A=l[I+$]-l[I]):T>=l[I]&&(C=I,A=l[l.length-1]-l[l.length-2])}let L=null,N=null;r.rewind&&(e.isBeginning?N=e.params.virtual&&e.params.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(L=0));const R=(T-l[C])/A,O=C<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;if(E>r.longSwipesMs){if(!r.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(R>=r.longSwipesRatio?e.slideTo(r.rewind&&e.isEnd?L:C+O):e.slideTo(C)),e.swipeDirection==="prev"&&(R>1-r.longSwipesRatio?e.slideTo(C+O):N!==null&&R<0&&Math.abs(R)>r.longSwipesRatio?e.slideTo(N):e.slideTo(C))}else{if(!r.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(f.target===e.navigation.nextEl||f.target===e.navigation.prevEl)?f.target===e.navigation.nextEl?e.slideTo(C+O):e.slideTo(C):(e.swipeDirection==="next"&&e.slideTo(L!==null?L:C+O),e.swipeDirection==="prev"&&e.slideTo(N!==null?N:C))}}function Z0(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:i,snapGrid:a}=t;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses(),(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides?t.slideTo(t.slides.length-1,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.run(),t.allowSlidePrev=i,t.allowSlideNext=r,t.params.watchOverflow&&a!==t.snapGrid&&t.checkOverflow()}function HF(t){const e=this;!e.enabled||e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation()))}function BF(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let i;const a=t.maxTranslate()-t.minTranslate();a===0?i=0:i=(t.translate-t.minTranslate())/a,i!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}let eb=!1;function qF(){}const sk=(t,e)=>{const n=yn(),{params:r,touchEvents:i,el:a,wrapperEl:l,device:h,support:f}=t,g=!!r.nested,E=e==="on"?"addEventListener":"removeEventListener",T=e;if(!f.touch)a[E](i.start,t.onTouchStart,!1),n[E](i.move,t.onTouchMove,g),n[E](i.end,t.onTouchEnd,!1);else{const C=i.start==="touchstart"&&f.passiveListener&&r.passiveListeners?{passive:!0,capture:!1}:!1;a[E](i.start,t.onTouchStart,C),a[E](i.move,t.onTouchMove,f.passiveListener?{passive:!1,capture:g}:g),a[E](i.end,t.onTouchEnd,C),i.cancel&&a[E](i.cancel,t.onTouchEnd,C)}(r.preventClicks||r.preventClicksPropagation)&&a[E]("click",t.onClick,!0),r.cssMode&&l[E]("scroll",t.onScroll),r.updateOnWindowResize?t[T](h.ios||h.android?"resize orientationchange observerUpdate":"resize observerUpdate",Z0,!0):t[T]("observerUpdate",Z0,!0)};function WF(){const t=this,e=yn(),{params:n,support:r}=t;t.onTouchStart=jF.bind(t),t.onTouchMove=VF.bind(t),t.onTouchEnd=zF.bind(t),n.cssMode&&(t.onScroll=BF.bind(t)),t.onClick=HF.bind(t),r.touch&&!eb&&(e.addEventListener("touchstart",qF),eb=!0),sk(t,"on")}function GF(){sk(this,"off")}const KF={attachEvents:WF,detachEvents:GF},tb=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function YF(){const t=this,{activeIndex:e,initialized:n,loopedSlides:r=0,params:i,$el:a}=t,l=i.breakpoints;if(!l||l&&Object.keys(l).length===0)return;const h=t.getBreakpoint(l,t.params.breakpointsBase,t.el);if(!h||t.currentBreakpoint===h)return;const g=(h in l?l[h]:void 0)||t.originalParams,E=tb(t,i),T=tb(t,g),C=i.enabled;E&&!T?(a.removeClass(`${i.containerModifierClass}grid ${i.containerModifierClass}grid-column`),t.emitContainerClasses()):!E&&T&&(a.addClass(`${i.containerModifierClass}grid`),(g.grid.fill&&g.grid.fill==="column"||!g.grid.fill&&i.grid.fill==="column")&&a.addClass(`${i.containerModifierClass}grid-column`),t.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(R=>{const O=i[R]&&i[R].enabled,I=g[R]&&g[R].enabled;O&&!I&&t[R].disable(),!O&&I&&t[R].enable()});const A=g.direction&&g.direction!==i.direction,L=i.loop&&(g.slidesPerView!==i.slidesPerView||A);A&&n&&t.changeDirection(),or(t.params,g);const N=t.params.enabled;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),C&&!N?t.disable():!C&&N&&t.enable(),t.currentBreakpoint=h,t.emit("_beforeBreakpoint",g),L&&n&&(t.loopDestroy(),t.loopCreate(),t.updateSlides(),t.slideTo(e-r+t.loopedSlides,0,!1)),t.emit("breakpoint",g)}function JF(t,e="window",n){if(!t||e==="container"&&!n)return;let r=!1;const i=dn(),a=e==="window"?i.innerHeight:n.clientHeight,l=Object.keys(t).map(h=>{if(typeof h=="string"&&h.indexOf("@")===0){const f=parseFloat(h.substr(1));return{value:a*f,point:h}}return{value:h,point:h}});l.sort((h,f)=>parseInt(h.value,10)-parseInt(f.value,10));for(let h=0;h<l.length;h+=1){const{point:f,value:g}=l[h];e==="window"?i.matchMedia(`(min-width: ${g}px)`).matches&&(r=f):g<=n.clientWidth&&(r=f)}return r||"max"}const QF={setBreakpoint:YF,getBreakpoint:JF};function XF(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(i=>{r[i]&&n.push(e+i)}):typeof r=="string"&&n.push(e+r)}),n}function ZF(){const t=this,{classNames:e,params:n,rtl:r,$el:i,device:a,support:l}=t,h=XF(["initialized",n.direction,{"pointer-events":!l.touch},{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:a.android},{ios:a.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...h),i.addClass([...e].join(" ")),t.emitContainerClasses()}function eU(){const t=this,{$el:e,classNames:n}=t;e.removeClass(n.join(" ")),t.emitContainerClasses()}const tU={addClasses:ZF,removeClasses:eU};function nU(t,e,n,r,i,a){const l=dn();let h;function f(){a&&a()}!Ae(t).parent("picture")[0]&&(!t.complete||!i)&&e?(h=new l.Image,h.onload=f,h.onerror=f,r&&(h.sizes=r),n&&(h.srcset=n),e&&(h.src=e)):f()}function rU(){const t=this;t.imagesToLoad=t.$el.find("img");function e(){typeof t>"u"||t===null||!t||t.destroyed||(t.imagesLoaded!==void 0&&(t.imagesLoaded+=1),t.imagesLoaded===t.imagesToLoad.length&&(t.params.updateOnImagesReady&&t.update(),t.emit("imagesReady")))}for(let n=0;n<t.imagesToLoad.length;n+=1){const r=t.imagesToLoad[n];t.loadImage(r,r.currentSrc||r.getAttribute("src"),r.srcset||r.getAttribute("srcset"),r.sizes||r.getAttribute("sizes"),!0,e)}}const iU={loadImage:nU,preloadImages:rU};function aU(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const i=t.slides.length-1,a=t.slidesGrid[i]+t.slidesSizesGrid[i]+r*2;t.isLocked=t.size>a}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}const sU={checkOverflow:aU},nb={init:!0,direction:"horizontal",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopedSlidesLimit:!0,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function oU(t,e){return function(r={}){const i=Object.keys(r)[0],a=r[i];if(typeof a!="object"||a===null){or(e,r);return}if(["navigation","pagination","scrollbar"].indexOf(i)>=0&&t[i]===!0&&(t[i]={auto:!0}),!(i in t&&"enabled"in a)){or(e,r);return}t[i]===!0&&(t[i]={enabled:!0}),typeof t[i]=="object"&&!("enabled"in t[i])&&(t[i].enabled=!0),t[i]||(t[i]={enabled:!1}),or(e,r)}}const Ff={eventsEmitter:rF,update:fF,translate:yF,transition:EF,slide:IF,loop:LF,grabCursor:FF,events:KF,breakpoints:QF,checkOverflow:sU,classes:tU,images:iU},Uf={};class Rn{constructor(...e){let n,r;if(e.length===1&&e[0].constructor&&Object.prototype.toString.call(e[0]).slice(8,-1)==="Object"?r=e[0]:[n,r]=e,r||(r={}),r=or({},r),n&&!r.el&&(r.el=n),r.el&&Ae(r.el).length>1){const h=[];return Ae(r.el).each(f=>{const g=or({},r,{el:f});h.push(new Rn(g))}),h}const i=this;i.__swiper__=!0,i.support=ik(),i.device=X2({userAgent:r.userAgent}),i.browser=eF(),i.eventsListeners={},i.eventsAnyListeners=[],i.modules=[...i.__modules__],r.modules&&Array.isArray(r.modules)&&i.modules.push(...r.modules);const a={};i.modules.forEach(h=>{h({swiper:i,extendParams:oU(r,a),on:i.on.bind(i),once:i.once.bind(i),off:i.off.bind(i),emit:i.emit.bind(i)})});const l=or({},nb,a);return i.params=or({},l,Uf,r),i.originalParams=or({},i.params),i.passedParams=or({},r),i.params&&i.params.on&&Object.keys(i.params.on).forEach(h=>{i.on(h,i.params.on[h])}),i.params&&i.params.onAny&&i.onAny(i.params.onAny),i.$=Ae,Object.assign(i,{enabled:i.params.enabled,el:n,classNames:[],slides:Ae(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return i.params.direction==="horizontal"},isVertical(){return i.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:i.params.allowSlideNext,allowSlidePrev:i.params.allowSlidePrev,touchEvents:function(){const f=["touchstart","touchmove","touchend","touchcancel"],g=["pointerdown","pointermove","pointerup"];return i.touchEventsTouch={start:f[0],move:f[1],end:f[2],cancel:f[3]},i.touchEventsDesktop={start:g[0],move:g[1],end:g[2]},i.support.touch||!i.params.simulateTouch?i.touchEventsTouch:i.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:i.params.focusableElements,lastClickTime:Zl(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:i.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),i.emit("_swiper"),i.params.init&&i.init(),i}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;!e.enabled||(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const i=r.minTranslate(),l=(r.maxTranslate()-i)*e+i;r.translateTo(l,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.each(r=>{const i=e.getSlideClasses(r);n.push({slideEl:r,classNames:i}),e.emit("_slideClass",r,i)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e="current",n=!1){const r=this,{params:i,slides:a,slidesGrid:l,slidesSizesGrid:h,size:f,activeIndex:g}=r;let E=1;if(i.centeredSlides){let T=a[g].swiperSlideSize,C;for(let A=g+1;A<a.length;A+=1)a[A]&&!C&&(T+=a[A].swiperSlideSize,E+=1,T>f&&(C=!0));for(let A=g-1;A>=0;A-=1)a[A]&&!C&&(T+=a[A].swiperSlideSize,E+=1,T>f&&(C=!0))}else if(e==="current")for(let T=g+1;T<a.length;T+=1)(n?l[T]+h[T]-l[g]<f:l[T]-l[g]<f)&&(E+=1);else for(let T=g-1;T>=0;T-=1)l[g]-l[T]<f&&(E+=1);return E}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function i(){const l=e.rtlTranslate?e.translate*-1:e.translate,h=Math.min(Math.max(l,e.maxTranslate()),e.minTranslate());e.setTranslate(h),e.updateActiveIndex(),e.updateSlidesClasses()}let a;e.params.freeMode&&e.params.freeMode.enabled?(i(),e.params.autoHeight&&e.updateAutoHeight()):((e.params.slidesPerView==="auto"||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?a=e.slideTo(e.slides.length-1,0,!1,!0):a=e.slideTo(e.activeIndex,0,!1,!0),a||i()),r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n=!0){const r=this,i=r.params.direction;return e||(e=i==="horizontal"?"vertical":"horizontal"),e===i||e!=="horizontal"&&e!=="vertical"||(r.$el.removeClass(`${r.params.containerModifierClass}${i}`).addClass(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.each(a=>{e==="vertical"?a.style.width="":a.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.$el.addClass(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.$el.removeClass(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;const r=Ae(e||n.params.el);if(e=r[0],!e)return!1;e.swiper=n;const i=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let l=(()=>{if(e&&e.shadowRoot&&e.shadowRoot.querySelector){const h=Ae(e.shadowRoot.querySelector(i()));return h.children=f=>r.children(f),h}return r.children?r.children(i()):Ae(r).children(i())})();if(l.length===0&&n.params.createElements){const f=yn().createElement("div");l=Ae(f),f.className=n.params.wrapperClass,r.append(f),r.children(`.${n.params.slideClass}`).each(g=>{l.append(g)})}return Object.assign(n,{$el:r,el:e,$wrapperEl:l,wrapperEl:l[0],mounted:!0,rtl:e.dir.toLowerCase()==="rtl"||r.css("direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(e.dir.toLowerCase()==="rtl"||r.css("direction")==="rtl"),wrongRTL:l.css("display")==="-webkit-box"}),!0}init(e){const n=this;return n.initialized||n.mount(e)===!1||(n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.params.loop&&n.loopCreate(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.preloadImages&&n.preloadImages(),n.params.loop?n.slideTo(n.params.initialSlide+n.loopedSlides,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.attachEvents(),n.initialized=!0,n.emit("init"),n.emit("afterInit")),n}destroy(e=!0,n=!0){const r=this,{params:i,$el:a,$wrapperEl:l,slides:h}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),i.loop&&r.loopDestroy(),n&&(r.removeClasses(),a.removeAttr("style"),l.removeAttr("style"),h&&h.length&&h.removeClass([i.slideVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(f=>{r.off(f)}),e!==!1&&(r.$el[0].swiper=null,W2(r)),r.destroyed=!0),null}static extendDefaults(e){or(Uf,e)}static get extendedDefaults(){return Uf}static get defaults(){return nb}static installModule(e){Rn.prototype.__modules__||(Rn.prototype.__modules__=[]);const n=Rn.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>Rn.installModule(n)),Rn):(Rn.installModule(e),Rn)}}Object.keys(Ff).forEach(t=>{Object.keys(Ff[t]).forEach(e=>{Rn.prototype[e]=Ff[t][e]})});Rn.use([tF,nF]);function ok(t,e,n,r){const i=yn();return t.params.createElements&&Object.keys(r).forEach(a=>{if(!n[a]&&n.auto===!0){let l=t.$el.children(`.${r[a]}`)[0];l||(l=i.createElement("div"),l.className=r[a],t.$el.append(l)),n[a]=l,e[a]=l}}),n}function lk({swiper:t,extendParams:e,on:n,emit:r}){e({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,$nextEl:null,prevEl:null,$prevEl:null};function i(A){let L;return A&&(L=Ae(A),t.params.uniqueNavElements&&typeof A=="string"&&L.length>1&&t.$el.find(A).length===1&&(L=t.$el.find(A))),L}function a(A,L){const N=t.params.navigation;A&&A.length>0&&(A[L?"addClass":"removeClass"](N.disabledClass),A[0]&&A[0].tagName==="BUTTON"&&(A[0].disabled=L),t.params.watchOverflow&&t.enabled&&A[t.isLocked?"addClass":"removeClass"](N.lockClass))}function l(){if(t.params.loop)return;const{$nextEl:A,$prevEl:L}=t.navigation;a(L,t.isBeginning&&!t.params.rewind),a(A,t.isEnd&&!t.params.rewind)}function h(A){A.preventDefault(),!(t.isBeginning&&!t.params.loop&&!t.params.rewind)&&(t.slidePrev(),r("navigationPrev"))}function f(A){A.preventDefault(),!(t.isEnd&&!t.params.loop&&!t.params.rewind)&&(t.slideNext(),r("navigationNext"))}function g(){const A=t.params.navigation;if(t.params.navigation=ok(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(A.nextEl||A.prevEl))return;const L=i(A.nextEl),N=i(A.prevEl);L&&L.length>0&&L.on("click",f),N&&N.length>0&&N.on("click",h),Object.assign(t.navigation,{$nextEl:L,nextEl:L&&L[0],$prevEl:N,prevEl:N&&N[0]}),t.enabled||(L&&L.addClass(A.lockClass),N&&N.addClass(A.lockClass))}function E(){const{$nextEl:A,$prevEl:L}=t.navigation;A&&A.length&&(A.off("click",f),A.removeClass(t.params.navigation.disabledClass)),L&&L.length&&(L.off("click",h),L.removeClass(t.params.navigation.disabledClass))}n("init",()=>{t.params.navigation.enabled===!1?C():(g(),l())}),n("toEdge fromEdge lock unlock",()=>{l()}),n("destroy",()=>{E()}),n("enable disable",()=>{const{$nextEl:A,$prevEl:L}=t.navigation;A&&A[t.enabled?"removeClass":"addClass"](t.params.navigation.lockClass),L&&L[t.enabled?"removeClass":"addClass"](t.params.navigation.lockClass)}),n("click",(A,L)=>{const{$nextEl:N,$prevEl:R}=t.navigation,O=L.target;if(t.params.navigation.hideOnClick&&!Ae(O).is(R)&&!Ae(O).is(N)){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===O||t.pagination.el.contains(O)))return;let I;N?I=N.hasClass(t.params.navigation.hiddenClass):R&&(I=R.hasClass(t.params.navigation.hiddenClass)),r(I===!0?"navigationShow":"navigationHide"),N&&N.toggleClass(t.params.navigation.hiddenClass),R&&R.toggleClass(t.params.navigation.hiddenClass)}});const T=()=>{t.$el.removeClass(t.params.navigation.navigationDisabledClass),g(),l()},C=()=>{t.$el.addClass(t.params.navigation.navigationDisabledClass),E()};Object.assign(t.navigation,{enable:T,disable:C,update:l,init:g,destroy:E})}function ds(t=""){return`.${t.trim().replace(/([\.:!\/])/g,"\\$1").replace(/ /g,".")}`}function ck({swiper:t,extendParams:e,on:n,emit:r}){const i="swiper-pagination";e({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:N=>N,formatFractionTotal:N=>N,bulletClass:`${i}-bullet`,bulletActiveClass:`${i}-bullet-active`,modifierClass:`${i}-`,currentClass:`${i}-current`,totalClass:`${i}-total`,hiddenClass:`${i}-hidden`,progressbarFillClass:`${i}-progressbar-fill`,progressbarOppositeClass:`${i}-progressbar-opposite`,clickableClass:`${i}-clickable`,lockClass:`${i}-lock`,horizontalClass:`${i}-horizontal`,verticalClass:`${i}-vertical`,paginationDisabledClass:`${i}-disabled`}}),t.pagination={el:null,$el:null,bullets:[]};let a,l=0;function h(){return!t.params.pagination.el||!t.pagination.el||!t.pagination.$el||t.pagination.$el.length===0}function f(N,R){const{bulletActiveClass:O}=t.params.pagination;N[R]().addClass(`${O}-${R}`)[R]().addClass(`${O}-${R}-${R}`)}function g(){const N=t.rtl,R=t.params.pagination;if(h())return;const O=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,I=t.pagination.$el;let $;const F=t.params.loop?Math.ceil((O-t.loopedSlides*2)/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?($=Math.ceil((t.activeIndex-t.loopedSlides)/t.params.slidesPerGroup),$>O-1-t.loopedSlides*2&&($-=O-t.loopedSlides*2),$>F-1&&($-=F),$<0&&t.params.paginationType!=="bullets"&&($=F+$)):typeof t.snapIndex<"u"?$=t.snapIndex:$=t.activeIndex||0,R.type==="bullets"&&t.pagination.bullets&&t.pagination.bullets.length>0){const j=t.pagination.bullets;let B,z,H;if(R.dynamicBullets&&(a=j.eq(0)[t.isHorizontal()?"outerWidth":"outerHeight"](!0),I.css(t.isHorizontal()?"width":"height",`${a*(R.dynamicMainBullets+4)}px`),R.dynamicMainBullets>1&&t.previousIndex!==void 0&&(l+=$-(t.previousIndex-t.loopedSlides||0),l>R.dynamicMainBullets-1?l=R.dynamicMainBullets-1:l<0&&(l=0)),B=Math.max($-l,0),z=B+(Math.min(j.length,R.dynamicMainBullets)-1),H=(z+B)/2),j.removeClass(["","-next","-next-next","-prev","-prev-prev","-main"].map(W=>`${R.bulletActiveClass}${W}`).join(" ")),I.length>1)j.each(W=>{const Y=Ae(W),te=Y.index();te===$&&Y.addClass(R.bulletActiveClass),R.dynamicBullets&&(te>=B&&te<=z&&Y.addClass(`${R.bulletActiveClass}-main`),te===B&&f(Y,"prev"),te===z&&f(Y,"next"))});else{const W=j.eq($),Y=W.index();if(W.addClass(R.bulletActiveClass),R.dynamicBullets){const te=j.eq(B),Z=j.eq(z);for(let le=B;le<=z;le+=1)j.eq(le).addClass(`${R.bulletActiveClass}-main`);if(t.params.loop)if(Y>=j.length){for(let le=R.dynamicMainBullets;le>=0;le-=1)j.eq(j.length-le).addClass(`${R.bulletActiveClass}-main`);j.eq(j.length-R.dynamicMainBullets-1).addClass(`${R.bulletActiveClass}-prev`)}else f(te,"prev"),f(Z,"next");else f(te,"prev"),f(Z,"next")}}if(R.dynamicBullets){const W=Math.min(j.length,R.dynamicMainBullets+4),Y=(a*W-a)/2-H*a,te=N?"right":"left";j.css(t.isHorizontal()?te:"top",`${Y}px`)}}if(R.type==="fraction"&&(I.find(ds(R.currentClass)).text(R.formatFractionCurrent($+1)),I.find(ds(R.totalClass)).text(R.formatFractionTotal(F))),R.type==="progressbar"){let j;R.progressbarOpposite?j=t.isHorizontal()?"vertical":"horizontal":j=t.isHorizontal()?"horizontal":"vertical";const B=($+1)/F;let z=1,H=1;j==="horizontal"?z=B:H=B,I.find(ds(R.progressbarFillClass)).transform(`translate3d(0,0,0) scaleX(${z}) scaleY(${H})`).transition(t.params.speed)}R.type==="custom"&&R.renderCustom?(I.html(R.renderCustom(t,$+1,F)),r("paginationRender",I[0])):r("paginationUpdate",I[0]),t.params.watchOverflow&&t.enabled&&I[t.isLocked?"addClass":"removeClass"](R.lockClass)}function E(){const N=t.params.pagination;if(h())return;const R=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,O=t.pagination.$el;let I="";if(N.type==="bullets"){let $=t.params.loop?Math.ceil((R-t.loopedSlides*2)/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&!t.params.loop&&$>R&&($=R);for(let F=0;F<$;F+=1)N.renderBullet?I+=N.renderBullet.call(t,F,N.bulletClass):I+=`<${N.bulletElement} class="${N.bulletClass}"></${N.bulletElement}>`;O.html(I),t.pagination.bullets=O.find(ds(N.bulletClass))}N.type==="fraction"&&(N.renderFraction?I=N.renderFraction.call(t,N.currentClass,N.totalClass):I=`<span class="${N.currentClass}"></span> / <span class="${N.totalClass}"></span>`,O.html(I)),N.type==="progressbar"&&(N.renderProgressbar?I=N.renderProgressbar.call(t,N.progressbarFillClass):I=`<span class="${N.progressbarFillClass}"></span>`,O.html(I)),N.type!=="custom"&&r("paginationRender",t.pagination.$el[0])}function T(){t.params.pagination=ok(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});const N=t.params.pagination;if(!N.el)return;let R=Ae(N.el);R.length!==0&&(t.params.uniqueNavElements&&typeof N.el=="string"&&R.length>1&&(R=t.$el.find(N.el),R.length>1&&(R=R.filter(O=>Ae(O).parents(".swiper")[0]===t.el))),N.type==="bullets"&&N.clickable&&R.addClass(N.clickableClass),R.addClass(N.modifierClass+N.type),R.addClass(t.isHorizontal()?N.horizontalClass:N.verticalClass),N.type==="bullets"&&N.dynamicBullets&&(R.addClass(`${N.modifierClass}${N.type}-dynamic`),l=0,N.dynamicMainBullets<1&&(N.dynamicMainBullets=1)),N.type==="progressbar"&&N.progressbarOpposite&&R.addClass(N.progressbarOppositeClass),N.clickable&&R.on("click",ds(N.bulletClass),function(I){I.preventDefault();let $=Ae(this).index()*t.params.slidesPerGroup;t.params.loop&&($+=t.loopedSlides),t.slideTo($)}),Object.assign(t.pagination,{$el:R,el:R[0]}),t.enabled||R.addClass(N.lockClass))}function C(){const N=t.params.pagination;if(h())return;const R=t.pagination.$el;R.removeClass(N.hiddenClass),R.removeClass(N.modifierClass+N.type),R.removeClass(t.isHorizontal()?N.horizontalClass:N.verticalClass),t.pagination.bullets&&t.pagination.bullets.removeClass&&t.pagination.bullets.removeClass(N.bulletActiveClass),N.clickable&&R.off("click",ds(N.bulletClass))}n("init",()=>{t.params.pagination.enabled===!1?L():(T(),E(),g())}),n("activeIndexChange",()=>{(t.params.loop||typeof t.snapIndex>"u")&&g()}),n("snapIndexChange",()=>{t.params.loop||g()}),n("slidesLengthChange",()=>{t.params.loop&&(E(),g())}),n("snapGridLengthChange",()=>{t.params.loop||(E(),g())}),n("destroy",()=>{C()}),n("enable disable",()=>{const{$el:N}=t.pagination;N&&N[t.enabled?"removeClass":"addClass"](t.params.pagination.lockClass)}),n("lock unlock",()=>{g()}),n("click",(N,R)=>{const O=R.target,{$el:I}=t.pagination;if(t.params.pagination.el&&t.params.pagination.hideOnClick&&I&&I.length>0&&!Ae(O).hasClass(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&O===t.navigation.nextEl||t.navigation.prevEl&&O===t.navigation.prevEl))return;const $=I.hasClass(t.params.pagination.hiddenClass);r($===!0?"paginationShow":"paginationHide"),I.toggleClass(t.params.pagination.hiddenClass)}});const A=()=>{t.$el.removeClass(t.params.pagination.paginationDisabledClass),t.pagination.$el&&t.pagination.$el.removeClass(t.params.pagination.paginationDisabledClass),T(),E(),g()},L=()=>{t.$el.addClass(t.params.pagination.paginationDisabledClass),t.pagination.$el&&t.pagination.$el.addClass(t.params.pagination.paginationDisabledClass),C()};Object.assign(t.pagination,{enable:A,disable:L,render:E,update:g,init:T,destroy:C})}function uk({swiper:t,extendParams:e,on:n,emit:r}){let i;t.autoplay={running:!1,paused:!1},e({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});function a(){if(!t.size){t.autoplay.running=!1,t.autoplay.paused=!1;return}const N=t.slides.eq(t.activeIndex);let R=t.params.autoplay.delay;N.attr("data-swiper-autoplay")&&(R=N.attr("data-swiper-autoplay")||t.params.autoplay.delay),clearTimeout(i),i=Rd(()=>{let O;t.params.autoplay.reverseDirection?t.params.loop?(t.loopFix(),O=t.slidePrev(t.params.speed,!0,!0),r("autoplay")):t.isBeginning?t.params.autoplay.stopOnLastSlide?h():(O=t.slideTo(t.slides.length-1,t.params.speed,!0,!0),r("autoplay")):(O=t.slidePrev(t.params.speed,!0,!0),r("autoplay")):t.params.loop?(t.loopFix(),O=t.slideNext(t.params.speed,!0,!0),r("autoplay")):t.isEnd?t.params.autoplay.stopOnLastSlide?h():(O=t.slideTo(0,t.params.speed,!0,!0),r("autoplay")):(O=t.slideNext(t.params.speed,!0,!0),r("autoplay")),(t.params.cssMode&&t.autoplay.running||O===!1)&&a()},R)}function l(){return typeof i<"u"||t.autoplay.running?!1:(t.autoplay.running=!0,r("autoplayStart"),a(),!0)}function h(){return!t.autoplay.running||typeof i>"u"?!1:(i&&(clearTimeout(i),i=void 0),t.autoplay.running=!1,r("autoplayStop"),!0)}function f(N){!t.autoplay.running||t.autoplay.paused||(i&&clearTimeout(i),t.autoplay.paused=!0,N===0||!t.params.autoplay.waitForTransition?(t.autoplay.paused=!1,a()):["transitionend","webkitTransitionEnd"].forEach(R=>{t.$wrapperEl[0].addEventListener(R,E)}))}function g(){const N=yn();N.visibilityState==="hidden"&&t.autoplay.running&&f(),N.visibilityState==="visible"&&t.autoplay.paused&&(a(),t.autoplay.paused=!1)}function E(N){!t||t.destroyed||!t.$wrapperEl||N.target===t.$wrapperEl[0]&&(["transitionend","webkitTransitionEnd"].forEach(R=>{t.$wrapperEl[0].removeEventListener(R,E)}),t.autoplay.paused=!1,t.autoplay.running?a():h())}function T(){t.params.autoplay.disableOnInteraction?h():(r("autoplayPause"),f()),["transitionend","webkitTransitionEnd"].forEach(N=>{t.$wrapperEl[0].removeEventListener(N,E)})}function C(){t.params.autoplay.disableOnInteraction||(t.autoplay.paused=!1,r("autoplayResume"),a())}function A(){t.params.autoplay.pauseOnMouseEnter&&(t.$el.on("mouseenter",T),t.$el.on("mouseleave",C))}function L(){t.$el.off("mouseenter",T),t.$el.off("mouseleave",C)}n("init",()=>{t.params.autoplay.enabled&&(l(),yn().addEventListener("visibilitychange",g),A())}),n("beforeTransitionStart",(N,R,O)=>{t.autoplay.running&&(O||!t.params.autoplay.disableOnInteraction?t.autoplay.pause(R):h())}),n("sliderFirstMove",()=>{t.autoplay.running&&(t.params.autoplay.disableOnInteraction?h():f())}),n("touchEnd",()=>{t.params.cssMode&&t.autoplay.paused&&!t.params.autoplay.disableOnInteraction&&a()}),n("destroy",()=>{L(),t.autoplay.running&&h(),yn().removeEventListener("visibilitychange",g)}),Object.assign(t.autoplay,{pause:f,run:a,start:l,stop:h})}function ts(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function Gi(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:ts(e[r])&&ts(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:Gi(t[r],e[r]):t[r]=e[r]})}function dk(t={}){return t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function hk(t={}){return t.pagination&&typeof t.pagination.el>"u"}function fk(t={}){return t.scrollbar&&typeof t.scrollbar.el>"u"}function _k(t=""){const e=t.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return e.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}const pk=["modules","init","_direction","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_preloadImages","updateOnImagesReady","_loop","_loopAdditionalSlides","_loopedSlides","_loopedSlidesLimit","_loopFillGroupWithBlank","loopPreventsSlide","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideBlankClass","slideActiveClass","slideDuplicateActiveClass","slideVisibleClass","slideDuplicateClass","slideNextClass","slideDuplicateNextClass","slidePrevClass","slideDuplicatePrevClass","wrapperClass","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","lazy","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom"];function lU(t={},e=!0){const n={on:{}},r={},i={};Gi(n,Rn.defaults),Gi(n,Rn.extendedDefaults),n._emitClasses=!0,n.init=!1;const a={},l=pk.map(f=>f.replace(/_/,"")),h=Object.assign({},t);return Object.keys(h).forEach(f=>{typeof t[f]>"u"||(l.indexOf(f)>=0?ts(t[f])?(n[f]={},i[f]={},Gi(n[f],t[f]),Gi(i[f],t[f])):(n[f]=t[f],i[f]=t[f]):f.search(/on[A-Z]/)===0&&typeof t[f]=="function"?e?r[`${f[2].toLowerCase()}${f.substr(3)}`]=t[f]:n.on[`${f[2].toLowerCase()}${f.substr(3)}`]=t[f]:a[f]=t[f])}),["navigation","pagination","scrollbar"].forEach(f=>{n[f]===!0&&(n[f]={}),n[f]===!1&&delete n[f]}),{params:n,passedParams:i,rest:a,events:r}}function cU({el:t,nextEl:e,prevEl:n,paginationEl:r,scrollbarEl:i,swiper:a},l){dk(l)&&e&&n&&(a.params.navigation.nextEl=e,a.originalParams.navigation.nextEl=e,a.params.navigation.prevEl=n,a.originalParams.navigation.prevEl=n),hk(l)&&r&&(a.params.pagination.el=r,a.originalParams.pagination.el=r),fk(l)&&i&&(a.params.scrollbar.el=i,a.originalParams.scrollbar.el=i),a.init(t)}const mk=(t,e)=>{let n=e.slidesPerView;if(e.breakpoints){const i=Rn.prototype.getBreakpoint(e.breakpoints),a=i in e.breakpoints?e.breakpoints[i]:void 0;a&&a.slidesPerView&&(n=a.slidesPerView)}let r=Math.ceil(parseFloat(e.loopedSlides||n,10));return r+=e.loopAdditionalSlides,r>t.length&&e.loopedSlidesLimit&&(r=t.length),r};function uU(t,e,n){const r=e.map((f,g)=>oa.cloneElement(f,{swiper:t,"data-swiper-slide-index":g}));function i(f,g,E){return oa.cloneElement(f,{key:`${f.key}-duplicate-${g}-${E}`,className:`${f.props.className||""} ${n.slideDuplicateClass}`})}if(n.loopFillGroupWithBlank){const f=n.slidesPerGroup-r.length%n.slidesPerGroup;if(f!==n.slidesPerGroup)for(let g=0;g<f;g+=1){const E=P("div",{className:`${n.slideClass} ${n.slideBlankClass}`});r.push(E)}}n.slidesPerView==="auto"&&!n.loopedSlides&&(n.loopedSlides=r.length);const a=mk(r,n),l=[],h=[];for(let f=0;f<a;f+=1){const g=f-Math.floor(f/r.length)*r.length;h.push(i(r[g],f,"append")),l.unshift(i(r[r.length-g-1],f,"prepend"))}return t&&(t.loopedSlides=a),[...l,...r,...h]}function dU(t,e,n,r,i){const a=[];if(!e)return a;const l=f=>{a.indexOf(f)<0&&a.push(f)};if(n&&r){const f=r.map(i),g=n.map(i);f.join("")!==g.join("")&&l("children"),r.length!==n.length&&l("children")}return pk.filter(f=>f[0]==="_").map(f=>f.replace(/_/,"")).forEach(f=>{if(f in t&&f in e)if(ts(t[f])&&ts(e[f])){const g=Object.keys(t[f]),E=Object.keys(e[f]);g.length!==E.length?l(f):(g.forEach(T=>{t[f][T]!==e[f][T]&&l(f)}),E.forEach(T=>{t[f][T]!==e[f][T]&&l(f)}))}else t[f]!==e[f]&&l(f)}),a}function gk(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function vk(t){const e=[];return oa.Children.toArray(t).forEach(n=>{gk(n)?e.push(n):n.props&&n.props.children&&vk(n.props.children).forEach(r=>e.push(r))}),e}function hU(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return oa.Children.toArray(t).forEach(r=>{if(gk(r))e.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const i=vk(r.props.children);i.length>0?i.forEach(a=>e.push(a)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:e,slots:n}}function fU({swiper:t,slides:e,passedParams:n,changedParams:r,nextEl:i,prevEl:a,scrollbarEl:l,paginationEl:h}){const f=r.filter(j=>j!=="children"&&j!=="direction"),{params:g,pagination:E,navigation:T,scrollbar:C,virtual:A,thumbs:L}=t;let N,R,O,I,$;r.includes("thumbs")&&n.thumbs&&n.thumbs.swiper&&g.thumbs&&!g.thumbs.swiper&&(N=!0),r.includes("controller")&&n.controller&&n.controller.control&&g.controller&&!g.controller.control&&(R=!0),r.includes("pagination")&&n.pagination&&(n.pagination.el||h)&&(g.pagination||g.pagination===!1)&&E&&!E.el&&(O=!0),r.includes("scrollbar")&&n.scrollbar&&(n.scrollbar.el||l)&&(g.scrollbar||g.scrollbar===!1)&&C&&!C.el&&(I=!0),r.includes("navigation")&&n.navigation&&(n.navigation.prevEl||a)&&(n.navigation.nextEl||i)&&(g.navigation||g.navigation===!1)&&T&&!T.prevEl&&!T.nextEl&&($=!0);const F=j=>{!t[j]||(t[j].destroy(),j==="navigation"?(g[j].prevEl=void 0,g[j].nextEl=void 0,t[j].prevEl=void 0,t[j].nextEl=void 0):(g[j].el=void 0,t[j].el=void 0))};f.forEach(j=>{if(ts(g[j])&&ts(n[j]))Gi(g[j],n[j]);else{const B=n[j];(B===!0||B===!1)&&(j==="navigation"||j==="pagination"||j==="scrollbar")?B===!1&&F(j):g[j]=n[j]}}),f.includes("controller")&&!R&&t.controller&&t.controller.control&&g.controller&&g.controller.control&&(t.controller.control=g.controller.control),r.includes("children")&&e&&A&&g.virtual.enabled?(A.slides=e,A.update(!0)):r.includes("children")&&t.lazy&&t.params.lazy.enabled&&t.lazy.load(),N&&L.init()&&L.update(!0),R&&(t.controller.control=g.controller.control),O&&(h&&(g.pagination.el=h),E.init(),E.render(),E.update()),I&&(l&&(g.scrollbar.el=l),C.init(),C.updateSize(),C.setTranslate()),$&&(i&&(g.navigation.nextEl=i),a&&(g.navigation.prevEl=a),T.init(),T.update()),r.includes("allowSlideNext")&&(t.allowSlideNext=n.allowSlideNext),r.includes("allowSlidePrev")&&(t.allowSlidePrev=n.allowSlidePrev),r.includes("direction")&&t.changeDirection(n.direction,!1),t.update()}function _U(t,e,n){if(!n)return null;const r=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`};return e.filter((i,a)=>a>=n.from&&a<=n.to).map(i=>oa.cloneElement(i,{swiper:t,style:r}))}const pU=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.lazy&&t.params.lazy.enabled&&t.lazy.load(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function cl(t,e){return typeof window>"u"?ae.exports.useEffect(t,e):ae.exports.useLayoutEffect(t,e)}const mU=ae.exports.createContext(null),gU=ae.exports.createContext(null),Jg=ae.exports.forwardRef(function(t,e){let{className:n,tag:r="div",wrapperTag:i="div",children:a,onSwiper:l,...h}=t===void 0?{}:t,f=!1;const[g,E]=ae.exports.useState("swiper"),[T,C]=ae.exports.useState(null),[A,L]=ae.exports.useState(!1),N=ae.exports.useRef(!1),R=ae.exports.useRef(null),O=ae.exports.useRef(null),I=ae.exports.useRef(null),$=ae.exports.useRef(null),F=ae.exports.useRef(null),j=ae.exports.useRef(null),B=ae.exports.useRef(null),z=ae.exports.useRef(null),{params:H,passedParams:W,rest:Y,events:te}=lU(h),{slides:Z,slots:le}=hU(a),he=()=>{L(!A)};Object.assign(H.on,{_containerClasses(ge,pe){E(pe)}});const ke=()=>{if(Object.assign(H.on,te),f=!0,O.current=new Rn(H),O.current.loopCreate=()=>{},O.current.loopDestroy=()=>{},H.loop&&(O.current.loopedSlides=mk(Z,H)),O.current.virtual&&O.current.params.virtual.enabled){O.current.virtual.slides=Z;const ge={cache:!1,slides:Z,renderExternal:C,renderExternalUpdate:!1};Gi(O.current.params.virtual,ge),Gi(O.current.originalParams.virtual,ge)}};R.current||ke(),O.current&&O.current.on("_beforeBreakpoint",he);const xe=()=>{f||!te||!O.current||Object.keys(te).forEach(ge=>{O.current.on(ge,te[ge])})},Ge=()=>{!te||!O.current||Object.keys(te).forEach(ge=>{O.current.off(ge,te[ge])})};ae.exports.useEffect(()=>()=>{O.current&&O.current.off("_beforeBreakpoint",he)}),ae.exports.useEffect(()=>{!N.current&&O.current&&(O.current.emitSlidesClasses(),N.current=!0)}),cl(()=>{if(e&&(e.current=R.current),!!R.current)return O.current.destroyed&&ke(),cU({el:R.current,nextEl:F.current,prevEl:j.current,paginationEl:B.current,scrollbarEl:z.current,swiper:O.current},H),l&&l(O.current),()=>{O.current&&!O.current.destroyed&&O.current.destroy(!0,!1)}},[]),cl(()=>{xe();const ge=dU(W,I.current,Z,$.current,pe=>pe.key);return I.current=W,$.current=Z,ge.length&&O.current&&!O.current.destroyed&&fU({swiper:O.current,slides:Z,passedParams:W,changedParams:ge,nextEl:F.current,prevEl:j.current,scrollbarEl:z.current,paginationEl:B.current}),()=>{Ge()}}),cl(()=>{pU(O.current)},[T]);function fe(){return H.virtual?_U(O.current,Z,T):!H.loop||O.current&&O.current.destroyed?Z.map(ge=>oa.cloneElement(ge,{swiper:O.current})):uU(O.current,Z,H)}return P(r,{ref:R,className:_k(`${g}${n?` ${n}`:""}`),...Y,children:X(gU.Provider,{value:O.current,children:[le["container-start"],X(i,{className:"swiper-wrapper",children:[le["wrapper-start"],fe(),le["wrapper-end"]]}),dk(H)&&X(Yt,{children:[P("div",{ref:j,className:"swiper-button-prev"}),P("div",{ref:F,className:"swiper-button-next"})]}),fk(H)&&P("div",{ref:z,className:"swiper-scrollbar"}),hk(H)&&P("div",{ref:B,className:"swiper-pagination"}),le["container-end"]]})})});Jg.displayName="Swiper";const Qg=ae.exports.forwardRef(function(t,e){let{tag:n="div",children:r,className:i="",swiper:a,zoom:l,virtualIndex:h,...f}=t===void 0?{}:t;const g=ae.exports.useRef(null),[E,T]=ae.exports.useState("swiper-slide");function C(N,R,O){R===g.current&&T(O)}cl(()=>{if(e&&(e.current=g.current),!(!g.current||!a)){if(a.destroyed){E!=="swiper-slide"&&T("swiper-slide");return}return a.on("_slideClass",C),()=>{!a||a.off("_slideClass",C)}}}),cl(()=>{a&&g.current&&!a.destroyed&&T(a.getSlideClasses(g.current))},[a]);const A={isActive:E.indexOf("swiper-slide-active")>=0||E.indexOf("swiper-slide-duplicate-active")>=0,isVisible:E.indexOf("swiper-slide-visible")>=0,isDuplicate:E.indexOf("swiper-slide-duplicate")>=0,isPrev:E.indexOf("swiper-slide-prev")>=0||E.indexOf("swiper-slide-duplicate-prev")>=0,isNext:E.indexOf("swiper-slide-next")>=0||E.indexOf("swiper-slide-duplicate-next")>=0},L=()=>typeof r=="function"?r(A):r;return P(n,{ref:g,className:_k(`${E}${i?` ${i}`:""}`),"data-swiper-slide-index":h,...f,children:P(mU.Provider,{value:A,children:l?P("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof l=="number"?l:void 0,children:L()}):L()})})});Qg.displayName="SwiperSlide";const vU=()=>X("div",{children:[P("div",{className:"homeSection__Title",children:P("h2",{children:"Cualidades"})}),P(Yt,{children:P(Jg,{slidesPerView:1,spaceBetween:30,slidesPerGroup:1,loop:!0,loopFillGroupWithBlank:!0,pagination:{clickable:!0},navigation:!0,modules:[ck,lk,uk],className:"mySwiper",autoplay:{delay:5e3,disableOnInteraction:!1},breakpoints:{780:{slidesPerView:2},1198:{slidesPerView:3}},children:a2.map((t,e)=>P(Qg,{children:X("div",{className:"qualityCard-container",children:[P("img",{src:t.icon,alt:"icon",className:"qualityCard_icon"}),X("div",{className:"qualityCard_description",children:[P("p",{className:"qualityCard_title",children:t.title}),P("p",{className:"qualityCard_text",children:t.text})]})]})},e))})})]}),yU=[{question:"\xBFQu\xE9 es Navis?",answer:"La \xFAnica academia de ingl\xE9s online que se enfoca en tus necesidades."},{question:"\xBFEn qu\xE9 horario puedo estudiar?",answer:"Tu tiempo es tuyo, tu coordinas con tu profesor cuando deseas ver tus clases."},{question:"\xBFPuedo elegir o cambiar el profesor?",answer:"S\xED, siempre podr\xE1s escoger un profesor que se adapte a ti."},{question:"\xBFQu\xE9 se requiere para estudiar?",answer:"Lo \xFAnico que necesitas es un ordenador o tel\xE9fono inteligente con conexi\xF3n a Internet estable, micr\xF3fono y c\xE1mara."},{question:"En caso de no poder asistir a una clase, \xBFqu\xE9 debo hacer?",answer:"4 horas antes tienes la opci\xF3n de reprogramar la clase."},{question:"\xBFCu\xE1nto dura la clase?",answer:"Dependiendo del paquete adquirido las clases pueden durar entre 30 o 50 minutos. "},{question:"\xBFCu\xE1les son los medios de pago?",answer:"Puedes pagar con tarjeta de cr\xE9dito o d\xE9bito a trav\xE9s de PayPal. El pago se realizar\xE1 en la moneda local del pa\xEDs en el que est\xE9s."}];const bU=()=>X("div",{children:[P("div",{className:"homeSection__Title",children:P("h2",{children:"Cualidades"})}),P(Yt,{children:P(Jg,{slidesPerView:1,spaceBetween:50,slidesPerGroup:1,loop:!0,loopFillGroupWithBlank:!0,pagination:{clickable:!0},navigation:!0,modules:[ck,lk,uk],className:"mySwiper",autoplay:{delay:5e3,disableOnInteraction:!1},breakpoints:{780:{slidesPerView:2},1198:{slidesPerView:3}},children:yU.map((t,e)=>P(Qg,{children:P("div",{className:"questionsCard-container",children:X("div",{className:"questionCard_content",children:[P("p",{className:"questionCard_question",children:t.question}),P("p",{className:"questionCard_answer",children:t.answer})]})})},e))})})]}),wU=[{number:"1",USD:"9.55",EUR:"9.55",amount:"60",duration:"50"},{number:"2",USD:"10.99",EUR:"10.99",amount:"30",duration:"50"},{number:"3",USD:"13.55",EUR:"13.55",amount:"20",duration:"50"},{number:"4",USD:"16.99",EUR:"16.99",amount:"10",duration:"50"},{number:"5",USD:"22.99",EUR:"22.99",amount:"5",duration:"50"}],xU=[{number:"1",USD:"6.55",EUR:"6.55",amount:"60",duration:"30"},{number:"2",USD:"7.99",EUR:"7.99",amount:"30",duration:"30"},{number:"3",USD:"9.55",EUR:"9.55",amount:"20",duration:"30"},{number:"4",USD:"12.55",EUR:"12.55",amount:"10",duration:"30"},{number:"5",USD:"16.99",EUR:"16.99",amount:"5",duration:"30"}];const rb=({title:t,opt01:e,opt02:n,onToggle:r})=>{const[i,a]=ae.exports.useState(!1);return X("div",{className:"switcher-container",children:[P("span",{className:"title",children:t}),P("span",{className:"options",children:e}),P("div",{className:"switcher",children:X("label",{className:"switch",children:[P("input",{type:"checkbox",checked:i,onChange:()=>{a(!i),r(i?e:n)}}),P("span",{className:"slider round"})]})}),P("span",{className:"options",children:n})]})};/*!
 * react-paypal-js v7.8.1 (2022-05-27T22:10:01.444Z)
 * Copyright 2020-present, PayPal, Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qn;(function(t){t.INITIAL="initial",t.PENDING="pending",t.REJECTED="rejected",t.RESOLVED="resolved"})(Qn||(Qn={}));var sa;(function(t){t.LOADING_STATUS="setLoadingStatus",t.RESET_OPTIONS="resetOptions",t.SET_BRAINTREE_INSTANCE="braintreeInstance"})(sa||(sa={}));var ib;(function(t){t.NUMBER="number",t.CVV="cvv",t.EXPIRATION_DATE="expirationDate",t.EXPIRATION_MONTH="expirationMonth",t.EXPIRATION_YEAR="expirationYear",t.POSTAL_CODE="postalCode"})(ib||(ib={}));var ul="data-react-paypal-script-id",Zs={DATA_CLIENT_TOKEN:"data-client-token",DATA_USER_ID_TOKEN:"data-user-id-token",DATA_SDK_INTEGRATION_SOURCE:"data-sdk-integration-source",DATA_SDK_INTEGRATION_SOURCE_VALUE:"react-paypal-js",DATA_NAMESPACE:"data-namespace"},EU="Failed to load the PayPal JS SDK script.",yk="paypal",SU="usePayPalScriptReducer must be used within a PayPalScriptProvider",on=function(){return on=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},on.apply(this,arguments)};function kU(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function ab(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}function CU(t){return t===void 0&&(t=yk),window[t]}function TU(t){for(var e="",n=0;n<t.length;n++){var r=t[n].charCodeAt(0)*n;t[n+1]&&(r+=t[n+1].charCodeAt(0)*(n-1)),e+=String.fromCharCode(97+Math.abs(r)%26)}return e}function NU(t){var e=t.reactComponentName,n=t.sdkComponentKey,r=t.sdkRequestedComponents,i=r===void 0?"":r,a=t.sdkDataNamespace,l=a===void 0?yk:a,h=n.charAt(0).toUpperCase().concat(n.substring(1)),f="Unable to render <".concat(e," /> because window.").concat(l,".").concat(h," is undefined.");if(!i.includes(n)){var g=[i,n].filter(Boolean).join();f+=`
To fix the issue, add '`.concat(n,"' to the list of components passed to the parent PayPalScriptProvider:")+"\n`<PayPalScriptProvider options={{ components: '".concat(g,"'}}>`.")}return f}function bk(t){return"react-paypal-js-".concat(TU(JSON.stringify(t)))}function DU(t){var e=self.document.querySelector("script[".concat(ul,'="').concat(t,'"]'));e!=null&&e.parentNode&&e.parentNode.removeChild(e)}function AU(t,e){var n;switch(e.type){case sa.LOADING_STATUS:return on(on({},t),{loadingStatus:e.value});case sa.RESET_OPTIONS:return DU(t.options[ul]),delete e.value[ul],on(on({},t),{loadingStatus:Qn.PENDING,options:on(on({},e.value),(n={},n[ul]="".concat(bk(e.value)),n[Zs.DATA_SDK_INTEGRATION_SOURCE]=Zs.DATA_SDK_INTEGRATION_SOURCE_VALUE,n))});case sa.SET_BRAINTREE_INSTANCE:return on(on({},t),{braintreePayPalCheckoutInstance:e.value});default:return t}}var wk=ae.exports.createContext(null);function IU(t){if(typeof(t==null?void 0:t.dispatch)=="function"&&t.dispatch.length!==0)return t;throw new Error(SU)}function OU(){var t=IU(ae.exports.useContext(wk)),e=on(on({},t),{isInitial:t.loadingStatus===Qn.INITIAL,isPending:t.loadingStatus===Qn.PENDING,isResolved:t.loadingStatus===Qn.RESOLVED,isRejected:t.loadingStatus===Qn.REJECTED});return[e,t.dispatch]}ae.exports.createContext({});var Xg=function(t){var e=t.className,n=e===void 0?"":e,r=t.disabled,i=r===void 0?!1:r,a=t.children,l=t.forceReRender,h=l===void 0?[]:l,f=kU(t,["className","disabled","children","forceReRender"]),g=i?{opacity:.38}:{},E="".concat(n," ").concat(i?"paypal-buttons-disabled":"").trim(),T=ae.exports.useRef(null),C=ae.exports.useRef(null),A=OU()[0],L=A.isResolved,N=A.options,R=ae.exports.useState(null),O=R[0],I=R[1],$=ae.exports.useState(!0),F=$[0],j=$[1],B=ae.exports.useState(null),z=B[1];function H(){C.current!==null&&C.current.close().catch(function(){})}return ae.exports.useEffect(function(){if(L===!1)return H;var W=CU(N[Zs.DATA_NAMESPACE]);if(W===void 0||W.Buttons===void 0)return z(function(){throw new Error(NU({reactComponentName:Xg.displayName,sdkComponentKey:"buttons",sdkRequestedComponents:N.components,sdkDataNamespace:N[Zs.DATA_NAMESPACE]}))}),H;var Y=function(te,Z){I(Z),typeof f.onInit=="function"&&f.onInit(te,Z)};try{C.current=W.Buttons(on(on({},f),{onInit:Y}))}catch(te){return z(function(){throw new Error("Failed to render <PayPalButtons /> component. Failed to initialize:  ".concat(te))})}return C.current.isEligible()===!1?(j(!1),H):(T.current&&C.current.render(T.current).catch(function(te){T.current===null||T.current.children.length===0||z(function(){throw new Error("Failed to render <PayPalButtons /> component. ".concat(te))})}),H)},ab(ab([L],h,!0),[f.fundingSource],!1)),ae.exports.useEffect(function(){O!==null&&(i===!0?O.disable().catch(function(){}):O.enable().catch(function(){}))},[i,O]),P(Yt,{children:F?P("div",{ref:T,style:g,className:E}):a})};Xg.displayName="PayPalButtons";function MU(t,e){var n=document.querySelector('script[src="'.concat(t,'"]'));if(n===null)return null;var r=xk(t,e),i=n.cloneNode();if(delete i.dataset.uidAuto,Object.keys(i.dataset).length!==Object.keys(r.dataset).length)return null;var a=!0;return Object.keys(i.dataset).forEach(function(l){i.dataset[l]!==r.dataset[l]&&(a=!1)}),a?n:null}function PU(t){var e=t.url,n=t.attributes,r=t.onSuccess,i=t.onError,a=xk(e,n);a.onerror=i,a.onload=r,document.head.insertBefore(a,document.head.firstElementChild)}function LU(t){var e="https://www.paypal.com/sdk/js";t.sdkBaseURL&&(e=t.sdkBaseURL,delete t.sdkBaseURL),FU(t);var n=Object.keys(t).filter(function(a){return typeof t[a]<"u"&&t[a]!==null&&t[a]!==""}).reduce(function(a,l){var h=t[l].toString();return l.substring(0,5)==="data-"?a.dataAttributes[l]=h:a.queryParams[l]=h,a},{queryParams:{},dataAttributes:{}}),r=n.queryParams,i=n.dataAttributes;return{url:"".concat(e,"?").concat(RU(r)),dataAttributes:i}}function RU(t){var e="";return Object.keys(t).forEach(function(n){e.length!==0&&(e+="&"),e+=n+"="+t[n]}),e}function $U(t){var e=t.split("/* Original Error:")[1];return e?e.replace(/\n/g,"").replace("*/","").trim():t}function xk(t,e){e===void 0&&(e={});var n=document.createElement("script");return n.src=t,Object.keys(e).forEach(function(r){n.setAttribute(r,e[r]),r==="data-csp-nonce"&&n.setAttribute("nonce",e["data-csp-nonce"])}),n}function FU(t){var e=t["merchant-id"],n=t["data-merchant-id"],r="",i="";return Array.isArray(e)?e.length>1?(r="*",i=e.toString()):r=e.toString():typeof e=="string"&&e.length>0?r=e:typeof n=="string"&&n.length>0&&(r="*",i=n),t["merchant-id"]=r,t["data-merchant-id"]=i,t}function UU(t,e){if(e===void 0&&(e=Ek()),Sk(t,e),typeof window>"u")return e.resolve(null);var n=LU(t),r=n.url,i=n.dataAttributes,a=i["data-namespace"]||"paypal",l=sb(a);return MU(r,i)&&l?e.resolve(l):jU({url:r,attributes:i},e).then(function(){var h=sb(a);if(h)return h;throw new Error("The window.".concat(a," global variable is not available."))})}function jU(t,e){e===void 0&&(e=Ek()),Sk(t,e);var n=t.url,r=t.attributes;if(typeof n!="string"||n.length===0)throw new Error("Invalid url.");if(typeof r<"u"&&typeof r!="object")throw new Error("Expected attributes to be an object.");return new e(function(i,a){if(typeof window>"u")return i();PU({url:n,attributes:r,onSuccess:function(){return i()},onError:function(){var l=new Error('The script "'.concat(n,'" failed to load.'));return window.fetch?fetch(n).then(function(h){return h.status===200&&a(l),h.text()}).then(function(h){var f=$U(h);a(new Error(f))}).catch(function(h){a(h)}):a(l)}})})}function Ek(){if(typeof Promise>"u")throw new Error("Promise is undefined. To resolve the issue, use a Promise polyfill.");return Promise}function sb(t){return window[t]}function Sk(t,e){if(typeof t!="object"||t===null)throw new Error("Expected an options object.");if(typeof e<"u"&&typeof e!="function")throw new Error("Expected PromisePonyfill to be a function.")}var VU=function(t){var e,n=t.options,r=n===void 0?{"client-id":"test"}:n,i=t.children,a=t.deferLoading,l=a===void 0?!1:a,h=ae.exports.useReducer(AU,{options:on(on({},r),(e={},e[ul]="".concat(bk(r)),e[Zs.DATA_SDK_INTEGRATION_SOURCE]=Zs.DATA_SDK_INTEGRATION_SOURCE_VALUE,e)),loadingStatus:l?Qn.INITIAL:Qn.PENDING}),f=h[0],g=h[1];return ae.exports.useEffect(function(){if(l===!1&&f.loadingStatus===Qn.INITIAL)return g({type:sa.LOADING_STATUS,value:Qn.PENDING});if(f.loadingStatus===Qn.PENDING){var E=!0;return UU(f.options).then(function(){E&&g({type:sa.LOADING_STATUS,value:Qn.RESOLVED})}).catch(function(T){console.error("".concat(EU," ").concat(T)),E&&g({type:sa.LOADING_STATUS,value:Qn.REJECTED})}),function(){E=!1}}},[f.options,l,f.loadingStatus]),P(wk.Provider,{value:on(on({},f),{dispatch:g}),children:i})};const zU=({totalValue:t,cantidad:e})=>{const{userLogged:n}=ir(),r=Mc(),i={textNotification:"Felicitaciones, adquiriste nuevas clases",notificationType:"Compra",checked:!1},a={textNotification:"Un usuario adquirio nuevas clases",notificationType:"Compra",checked:!1},l=async()=>{try{const f=Mt(),g=je(f,`Users/${n.uid}`);await tt(g,{remainingClases:Vt(e),newPurchasedClasses:Vt(e),totalClasses:Vt(e),newNotifications:!0,notifications:Vt(1)});const E=Ld(Bn(f,`Users/${n.uid}/myNotifications`));Kl(E,{...i,cantidad:e,timeStamp:r}).then(({id:T})=>{const C=je(f,`AdminNotifications/${T}`);_i(C,{...a,cantidad:e,timeStamp:r})})}catch(f){swal("UPS!",`${f.message}`,"error")}},h=t;return P(VU,{children:P(Xg,{createOrder:(f,g)=>g.order.create({purchase_units:[{amount:{value:h}}]}),onApprove:async(f,g)=>{let T=await g.order.capture();T?(l(),T=!1):console.log("pago not apprub")}})})};function kk({totalValue:t,cantidad:e}){return X("div",{className:"payment-container",children:[X("span",{className:"amount",children:["$",t]}),P(zU,{totalValue:t,cantidad:e,className:"payment"})]})}const Zg=({durationSelection:t,msg:e,userDuration:n})=>{const[r,i]=ae.exports.useState(!1),{userLogged:a}=ir(),[l,h]=ae.exports.useState(),[f,g]=ae.exports.useState(),[E,T]=ae.exports.useState(n),[C,A]=ae.exports.useState("EUR"),L=Kn();let N=[];switch(!E&&T(50),E){case 30:N=xU;break;case 50:N=wU;break}const R=I=>{A(I)},O=I=>{T(parseInt(I))};return r?P(kk,{totalValue:l,cantidad:f}):X("div",{className:"buy-container",children:[P("h3",{children:e}),X("div",{className:"buy-container__header",children:[t&&P(rb,{title:"DURACION DE LA CLASE :",opt01:"50",opt02:"30",onToggle:O}),P(rb,{title:"MONEDA :",opt01:"EUR",opt02:"USD",onToggle:R})]}),P("div",{className:"buy-card-container",children:N.map((I,$)=>{let F=!1;return $===1&&(F=!F),X("div",{className:"buy-card",children:[F?P("span",{className:"recomended-label",children:"RECOMENDADO"}):"",P("li",{children:X("ul",{children:[X("li",{className:"pack-number",children:["Navis ",I.number," "]}),X("li",{className:"amount",children:[" ",I.amount," ",P("span",{className:"clases-thin",children:"Clases"})," "]}),X("li",{className:"duration",children:[" ",I.duration," min/Class "]}),P("li",{className:"libros",children:"Libros interactivos "}),X("li",{className:"price",children:[I[C]," ",C," por clase"," "]}),P("div",{children:P("button",{className:"button__Card",onClick:j=>{if(!a)L("./signUp");else{let B=parseFloat(I[C]),z=parseInt(I.amount),W=(z*B).toFixed(2).toString();g(z),h(W),i(!r)}},children:"Comprar"})})]})}),P("div",{className:"cohete"})]},$)})})]})};const qn=()=>X("div",{className:"loaderContainer",children:[P("span",{className:"loader"}),P("h5",{children:"LOADING..."})]}),HU=()=>{const[t,e]=ae.exports.useState(!0),{userLogged:n}=ir(),{user:r}=Sn(),[i,a]=ae.exports.useState(!0),[l,h]=ae.exports.useState(void 0),f=r.form;return ae.exports.useEffect(()=>{e(!0),!!n&&!!f?(a(!1),h(f.durationClass)):(a(!0),h(void 0)),e(!1)},[n,f]),t?P(qn,{}):X("div",{children:[P("div",{className:"homeSection__Title",children:P("h2",{children:"Paquetes"})}),P(Zg,{durationSelection:i,msg:"",userDuration:l})]})};const BU=({fromCheckout:t})=>{const e=Kn();return t&&e(""),X(Yt,{children:[P(j$,{}),P(vU,{}),P(Y$,{}),P(HU,{}),P(bU,{}),P(Q$,{})]})};const qU="/assets/facebook.83af00d0.svg",WU="/assets/instagram.e0a2630a.svg",GU="/assets/whatsapp.2e82302a.svg",KU=()=>P(Yt,{children:P("section",{className:"footer_Content",children:X("div",{className:"footer__Container",children:[P(fn,{className:"logoFooter",to:"/home",children:P("img",{src:JS,alt:"link a navis"})}),P("div",{children:X("div",{className:"redes__Footer",children:[P("a",{href:"https://www.facebook.com/profile.php?id=100089423539931",target:"_blank",children:P("img",{src:qU,alt:"link a facebook"})}),P("a",{href:"https://www.instagram.com/navisacademia/",target:"_blank",children:P("img",{src:WU,alt:"link a instagram"})}),P("a",{href:"https://api.whatsapp.com/message/TFO62IOMTONMO1?autoload=1&app_absent=0",target:"_blank",children:P("img",{src:GU,alt:"link a whatsapp"})})]})})]})})}),Ck="/assets/cohete.30df8fe9.svg";const YU=()=>{const t=Kn(),{user:e,signIn:n}=ir(),[r,i]=ae.exports.useState(""),[a,l]=ae.exports.useState(""),[h,f]=ae.exports.useState(""),[g,E]=ae.exports.useState(!1),T=async C=>{C.preventDefault(),f(""),E(!0);try{await n(r,a),swal("Bienvenido",`sesion iniciada como ${r}`,"success"),t("/Panel")}catch(A){f(A.message),console.log(A.message),swal("UPS!",`${A.message}`,"error"),E(!1)}};return g?P(qn,{}):P(Yt,{children:P("div",{className:"signIn__main-container",children:X("div",{className:"signIn__container",children:[X("div",{children:[X("div",{className:"signIn__tittleColumn",children:[X("p",{className:"signIn-logo",children:[P("img",{className:"cohete-navis",src:Ck,alt:"cohete.svg"}),P("i",{className:"fa-solid fa-user"})]}),P("p",{className:"signIn-tittle",children:"Login"})]}),X("p",{className:"subTittle",children:["\xBFTodavia no tenes una cuenta?",P(fn,{to:"/signUp",children:"Registrate."})]})]}),X("form",{className:"signIn__form",onSubmit:T,children:[P("label",{htmlFor:"email",children:"Correo electr\xF3nico"}),P("input",{type:"email",id:"email",name:"email",value:r,onChange:C=>i(C.target.value)}),P("label",{htmlFor:"password",children:"Clave"}),P("input",{type:"password",id:"password",name:"password",value:a,onChange:C=>l(C.target.value)}),P("button",{type:"submit",id:"btn__iniciar-sesion",children:"Iniciar Sesi\xF3n"})]})]})})})};class ls extends Error{}class JU extends ls{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class QU extends ls{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class XU extends ls{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class qo extends ls{}class Tk extends ls{constructor(e){super(`Invalid unit ${e}`)}}class wr extends ls{}class Pi extends ls{constructor(){super("Zone is an abstract class")}}const Ce="numeric",Vr="short",dr="long",Ip={year:Ce,month:Ce,day:Ce},Nk={year:Ce,month:Vr,day:Ce},ZU={year:Ce,month:Vr,day:Ce,weekday:Vr},Dk={year:Ce,month:dr,day:Ce},Ak={year:Ce,month:dr,day:Ce,weekday:dr},Ik={hour:Ce,minute:Ce},Ok={hour:Ce,minute:Ce,second:Ce},Mk={hour:Ce,minute:Ce,second:Ce,timeZoneName:Vr},Pk={hour:Ce,minute:Ce,second:Ce,timeZoneName:dr},Lk={hour:Ce,minute:Ce,hourCycle:"h23"},Rk={hour:Ce,minute:Ce,second:Ce,hourCycle:"h23"},$k={hour:Ce,minute:Ce,second:Ce,hourCycle:"h23",timeZoneName:Vr},Fk={hour:Ce,minute:Ce,second:Ce,hourCycle:"h23",timeZoneName:dr},Uk={year:Ce,month:Ce,day:Ce,hour:Ce,minute:Ce},jk={year:Ce,month:Ce,day:Ce,hour:Ce,minute:Ce,second:Ce},Vk={year:Ce,month:Vr,day:Ce,hour:Ce,minute:Ce},zk={year:Ce,month:Vr,day:Ce,hour:Ce,minute:Ce,second:Ce},ej={year:Ce,month:Vr,day:Ce,weekday:Vr,hour:Ce,minute:Ce},Hk={year:Ce,month:dr,day:Ce,hour:Ce,minute:Ce,timeZoneName:Vr},Bk={year:Ce,month:dr,day:Ce,hour:Ce,minute:Ce,second:Ce,timeZoneName:Vr},qk={year:Ce,month:dr,day:Ce,weekday:dr,hour:Ce,minute:Ce,timeZoneName:dr},Wk={year:Ce,month:dr,day:Ce,weekday:dr,hour:Ce,minute:Ce,second:Ce,timeZoneName:dr};function ut(t){return typeof t>"u"}function Ua(t){return typeof t=="number"}function $h(t){return typeof t=="number"&&t%1===0}function tj(t){return typeof t=="string"}function nj(t){return Object.prototype.toString.call(t)==="[object Date]"}function Gk(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function rj(t){return Array.isArray(t)?t:[t]}function ob(t,e,n){if(t.length!==0)return t.reduce((r,i)=>{const a=[e(i),i];return r&&n(r[0],a[0])===r[0]?r:a},null)[1]}function ij(t,e){return e.reduce((n,r)=>(n[r]=t[r],n),{})}function eo(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ui(t,e,n){return $h(t)&&t>=e&&t<=n}function aj(t,e){return t-e*Math.floor(t/e)}function qt(t,e=2){const n=t<0;let r;return n?r="-"+(""+-t).padStart(e,"0"):r=(""+t).padStart(e,"0"),r}function $i(t){if(!(ut(t)||t===null||t===""))return parseInt(t,10)}function ba(t){if(!(ut(t)||t===null||t===""))return parseFloat(t)}function ev(t){if(!(ut(t)||t===null||t==="")){const e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function tv(t,e,n=!1){const r=10**e;return(n?Math.trunc:Math.round)(t*r)/r}function Lc(t){return t%4===0&&(t%100!==0||t%400===0)}function dl(t){return Lc(t)?366:365}function $d(t,e){const n=aj(e-1,12)+1,r=t+(e-n)/12;return n===2?Lc(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function nv(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(e.getUTCFullYear()-1900)),+e}function Fd(t){const e=(t+Math.floor(t/4)-Math.floor(t/100)+Math.floor(t/400))%7,n=t-1,r=(n+Math.floor(n/4)-Math.floor(n/100)+Math.floor(n/400))%7;return e===4||r===3?53:52}function Op(t){return t>99?t:t>60?1900+t:2e3+t}function Kk(t,e,n,r=null){const i=new Date(t),a={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(a.timeZone=r);const l={timeZoneName:e,...a},h=new Intl.DateTimeFormat(n,l).formatToParts(i).find(f=>f.type.toLowerCase()==="timezonename");return h?h.value:null}function Fh(t,e){let n=parseInt(t,10);Number.isNaN(n)&&(n=0);const r=parseInt(e,10)||0,i=n<0||Object.is(n,-0)?-r:r;return n*60+i}function Yk(t){const e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new wr(`Invalid unit value ${t}`);return e}function Ud(t,e){const n={};for(const r in t)if(eo(t,r)){const i=t[r];if(i==null)continue;n[e(r)]=Yk(i)}return n}function hl(t,e){const n=Math.trunc(Math.abs(t/60)),r=Math.trunc(Math.abs(t%60)),i=t>=0?"+":"-";switch(e){case"short":return`${i}${qt(n,2)}:${qt(r,2)}`;case"narrow":return`${i}${n}${r>0?`:${r}`:""}`;case"techie":return`${i}${qt(n,2)}${qt(r,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function Uh(t){return ij(t,["hour","minute","second","millisecond"])}const Jk=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/,sj=["January","February","March","April","May","June","July","August","September","October","November","December"],Qk=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],oj=["J","F","M","A","M","J","J","A","S","O","N","D"];function Xk(t){switch(t){case"narrow":return[...oj];case"short":return[...Qk];case"long":return[...sj];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const Zk=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],eC=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],lj=["M","T","W","T","F","S","S"];function tC(t){switch(t){case"narrow":return[...lj];case"short":return[...eC];case"long":return[...Zk];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const nC=["AM","PM"],cj=["Before Christ","Anno Domini"],uj=["BC","AD"],dj=["B","A"];function rC(t){switch(t){case"narrow":return[...dj];case"short":return[...uj];case"long":return[...cj];default:return null}}function hj(t){return nC[t.hour<12?0:1]}function fj(t,e){return tC(e)[t.weekday-1]}function _j(t,e){return Xk(e)[t.month-1]}function pj(t,e){return rC(e)[t.year<0?0:1]}function mj(t,e,n="always",r=!1){const i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},a=["hours","minutes","seconds"].indexOf(t)===-1;if(n==="auto"&&a){const T=t==="days";switch(e){case 1:return T?"tomorrow":`next ${i[t][0]}`;case-1:return T?"yesterday":`last ${i[t][0]}`;case 0:return T?"today":`this ${i[t][0]}`}}const l=Object.is(e,-0)||e<0,h=Math.abs(e),f=h===1,g=i[t],E=r?f?g[1]:g[2]||g[1]:f?i[t][0]:t;return l?`${h} ${E} ago`:`in ${h} ${E}`}function lb(t,e){let n="";for(const r of t)r.literal?n+=r.val:n+=e(r.val);return n}const gj={D:Ip,DD:Nk,DDD:Dk,DDDD:Ak,t:Ik,tt:Ok,ttt:Mk,tttt:Pk,T:Lk,TT:Rk,TTT:$k,TTTT:Fk,f:Uk,ff:Vk,fff:Hk,ffff:qk,F:jk,FF:zk,FFF:Bk,FFFF:Wk};class Un{static create(e,n={}){return new Un(e,n)}static parseFormat(e){let n=null,r="",i=!1;const a=[];for(let l=0;l<e.length;l++){const h=e.charAt(l);h==="'"?(r.length>0&&a.push({literal:i,val:r}),n=null,r="",i=!i):i||h===n?r+=h:(r.length>0&&a.push({literal:!1,val:r}),r=h,n=h)}return r.length>0&&a.push({literal:i,val:r}),a}static macroTokenToFormatOpts(e){return gj[e]}constructor(e,n){this.opts=n,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,n){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...n}).format()}formatDateTime(e,n={}){return this.loc.dtFormatter(e,{...this.opts,...n}).format()}formatDateTimeParts(e,n={}){return this.loc.dtFormatter(e,{...this.opts,...n}).formatToParts()}resolvedOptions(e,n={}){return this.loc.dtFormatter(e,{...this.opts,...n}).resolvedOptions()}num(e,n=0){if(this.opts.forceSimple)return qt(e,n);const r={...this.opts};return n>0&&(r.padTo=n),this.loc.numberFormatter(r).format(e)}formatDateTimeFromString(e,n){const r=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",a=(A,L)=>this.loc.extract(e,A,L),l=A=>e.isOffsetFixed&&e.offset===0&&A.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,A.format):"",h=()=>r?hj(e):a({hour:"numeric",hourCycle:"h12"},"dayperiod"),f=(A,L)=>r?_j(e,A):a(L?{month:A}:{month:A,day:"numeric"},"month"),g=(A,L)=>r?fj(e,A):a(L?{weekday:A}:{weekday:A,month:"long",day:"numeric"},"weekday"),E=A=>{const L=Un.macroTokenToFormatOpts(A);return L?this.formatWithSystemDefault(e,L):A},T=A=>r?pj(e,A):a({era:A},"era"),C=A=>{switch(A){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return l({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return l({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return l({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return h();case"d":return i?a({day:"numeric"},"day"):this.num(e.day);case"dd":return i?a({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return g("short",!0);case"cccc":return g("long",!0);case"ccccc":return g("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return g("short",!1);case"EEEE":return g("long",!1);case"EEEEE":return g("narrow",!1);case"L":return i?a({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return i?a({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return f("short",!0);case"LLLL":return f("long",!0);case"LLLLL":return f("narrow",!0);case"M":return i?a({month:"numeric"},"month"):this.num(e.month);case"MM":return i?a({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return f("short",!1);case"MMMM":return f("long",!1);case"MMMMM":return f("narrow",!1);case"y":return i?a({year:"numeric"},"year"):this.num(e.year);case"yy":return i?a({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return i?a({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return i?a({year:"numeric"},"year"):this.num(e.year,6);case"G":return T("short");case"GG":return T("long");case"GGGGG":return T("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return E(A)}};return lb(Un.parseFormat(n),C)}formatDurationFromString(e,n){const r=f=>{switch(f[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},i=f=>g=>{const E=r(g);return E?this.num(f.get(E),g.length):g},a=Un.parseFormat(n),l=a.reduce((f,{literal:g,val:E})=>g?f:f.concat(E),[]),h=e.shiftTo(...l.map(r).filter(f=>f));return lb(a,i(h))}}class Rr{constructor(e,n){this.reason=e,this.explanation=n}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}class Rc{get type(){throw new Pi}get name(){throw new Pi}get ianaName(){return this.name}get isUniversal(){throw new Pi}offsetName(e,n){throw new Pi}formatOffset(e,n){throw new Pi}offset(e){throw new Pi}equals(e){throw new Pi}get isValid(){throw new Pi}}let jf=null;class jh extends Rc{static get instance(){return jf===null&&(jf=new jh),jf}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:n,locale:r}){return Kk(e,n,r)}formatOffset(e,n){return hl(this.offset(e),n)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}let Vu={};function vj(t){return Vu[t]||(Vu[t]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),Vu[t]}const yj={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function bj(t,e){const n=t.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(n),[,i,a,l,h,f,g,E]=r;return[l,i,a,h,f,g,E]}function wj(t,e){const n=t.formatToParts(e),r=[];for(let i=0;i<n.length;i++){const{type:a,value:l}=n[i],h=yj[a];a==="era"?r[h]=l:ut(h)||(r[h]=parseInt(l,10))}return r}let pu={};class Ci extends Rc{static create(e){return pu[e]||(pu[e]=new Ci(e)),pu[e]}static resetCache(){pu={},Vu={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=Ci.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:n,locale:r}){return Kk(e,n,r,this.name)}formatOffset(e,n){return hl(this.offset(e),n)}offset(e){const n=new Date(e);if(isNaN(n))return NaN;const r=vj(this.name);let[i,a,l,h,f,g,E]=r.formatToParts?wj(r,n):bj(r,n);h==="BC"&&(i=-Math.abs(i)+1);const C=nv({year:i,month:a,day:l,hour:f===24?0:f,minute:g,second:E,millisecond:0});let A=+n;const L=A%1e3;return A-=L>=0?L:1e3+L,(C-A)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let Vf=null;class zn extends Rc{static get utcInstance(){return Vf===null&&(Vf=new zn(0)),Vf}static instance(e){return e===0?zn.utcInstance:new zn(e)}static parseSpecifier(e){if(e){const n=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(n)return new zn(Fh(n[1],n[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${hl(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${hl(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,n){return hl(this.fixed,n)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class xj extends Rc{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Hi(t,e){if(ut(t)||t===null)return e;if(t instanceof Rc)return t;if(tj(t)){const n=t.toLowerCase();return n==="default"?e:n==="local"||n==="system"?jh.instance:n==="utc"||n==="gmt"?zn.utcInstance:zn.parseSpecifier(n)||Ci.create(t)}else return Ua(t)?zn.instance(t):typeof t=="object"&&t.offset&&typeof t.offset=="number"?t:new xj(t)}let cb=()=>Date.now(),ub="system",db=null,hb=null,fb=null,_b;class Qt{static get now(){return cb}static set now(e){cb=e}static set defaultZone(e){ub=e}static get defaultZone(){return Hi(ub,jh.instance)}static get defaultLocale(){return db}static set defaultLocale(e){db=e}static get defaultNumberingSystem(){return hb}static set defaultNumberingSystem(e){hb=e}static get defaultOutputCalendar(){return fb}static set defaultOutputCalendar(e){fb=e}static get throwOnInvalid(){return _b}static set throwOnInvalid(e){_b=e}static resetCaches(){Nt.resetCache(),Ci.resetCache()}}let pb={};function Ej(t,e={}){const n=JSON.stringify([t,e]);let r=pb[n];return r||(r=new Intl.ListFormat(t,e),pb[n]=r),r}let Mp={};function Pp(t,e={}){const n=JSON.stringify([t,e]);let r=Mp[n];return r||(r=new Intl.DateTimeFormat(t,e),Mp[n]=r),r}let Lp={};function Sj(t,e={}){const n=JSON.stringify([t,e]);let r=Lp[n];return r||(r=new Intl.NumberFormat(t,e),Lp[n]=r),r}let Rp={};function kj(t,e={}){const{base:n,...r}=e,i=JSON.stringify([t,r]);let a=Rp[i];return a||(a=new Intl.RelativeTimeFormat(t,e),Rp[i]=a),a}let Wo=null;function Cj(){return Wo||(Wo=new Intl.DateTimeFormat().resolvedOptions().locale,Wo)}function Tj(t){const e=t.indexOf("-u-");if(e===-1)return[t];{let n;const r=t.substring(0,e);try{n=Pp(t).resolvedOptions()}catch{n=Pp(r).resolvedOptions()}const{numberingSystem:i,calendar:a}=n;return[r,i,a]}}function Nj(t,e,n){return(n||e)&&(t+="-u",n&&(t+=`-ca-${n}`),e&&(t+=`-nu-${e}`)),t}function Dj(t){const e=[];for(let n=1;n<=12;n++){const r=Xe.utc(2016,n,1);e.push(t(r))}return e}function Aj(t){const e=[];for(let n=1;n<=7;n++){const r=Xe.utc(2016,11,13+n);e.push(t(r))}return e}function mu(t,e,n,r,i){const a=t.listingMode(n);return a==="error"?null:a==="en"?r(e):i(e)}function Ij(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem==="latn"}class Oj{constructor(e,n,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;const{padTo:i,floor:a,...l}=r;if(!n||Object.keys(l).length>0){const h={useGrouping:!1,...r};r.padTo>0&&(h.minimumIntegerDigits=r.padTo),this.inf=Sj(e,h)}}format(e){if(this.inf){const n=this.floor?Math.floor(e):e;return this.inf.format(n)}else{const n=this.floor?Math.floor(e):tv(e,3);return qt(n,this.padTo)}}}class Mj{constructor(e,n,r){this.opts=r;let i;if(e.zone.isUniversal){const l=-1*(e.offset/60),h=l>=0?`Etc/GMT+${l}`:`Etc/GMT${l}`;e.offset!==0&&Ci.create(h).valid?(i=h,this.dt=e):(i="UTC",r.timeZoneName?this.dt=e:this.dt=e.offset===0?e:Xe.fromMillis(e.ts+e.offset*60*1e3))}else e.zone.type==="system"?this.dt=e:(this.dt=e,i=e.zone.name);const a={...this.opts};i&&(a.timeZone=i),this.dtf=Pp(n,a)}format(){return this.dtf.format(this.dt.toJSDate())}formatToParts(){return this.dtf.formatToParts(this.dt.toJSDate())}resolvedOptions(){return this.dtf.resolvedOptions()}}class Pj{constructor(e,n,r){this.opts={style:"long",...r},!n&&Gk()&&(this.rtf=kj(e,r))}format(e,n){return this.rtf?this.rtf.format(e,n):mj(n,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,n){return this.rtf?this.rtf.formatToParts(e,n):[]}}class Nt{static fromOpts(e){return Nt.create(e.locale,e.numberingSystem,e.outputCalendar,e.defaultToEN)}static create(e,n,r,i=!1){const a=e||Qt.defaultLocale,l=a||(i?"en-US":Cj()),h=n||Qt.defaultNumberingSystem,f=r||Qt.defaultOutputCalendar;return new Nt(l,h,f,a)}static resetCache(){Wo=null,Mp={},Lp={},Rp={}}static fromObject({locale:e,numberingSystem:n,outputCalendar:r}={}){return Nt.create(e,n,r)}constructor(e,n,r,i){const[a,l,h]=Tj(e);this.locale=a,this.numberingSystem=n||l||null,this.outputCalendar=r||h||null,this.intl=Nj(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=i,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=Ij(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),n=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&n?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:Nt.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,n=!1,r=!0){return mu(this,e,r,Xk,()=>{const i=n?{month:e,day:"numeric"}:{month:e},a=n?"format":"standalone";return this.monthsCache[a][e]||(this.monthsCache[a][e]=Dj(l=>this.extract(l,i,"month"))),this.monthsCache[a][e]})}weekdays(e,n=!1,r=!0){return mu(this,e,r,tC,()=>{const i=n?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},a=n?"format":"standalone";return this.weekdaysCache[a][e]||(this.weekdaysCache[a][e]=Aj(l=>this.extract(l,i,"weekday"))),this.weekdaysCache[a][e]})}meridiems(e=!0){return mu(this,void 0,e,()=>nC,()=>{if(!this.meridiemCache){const n={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Xe.utc(2016,11,13,9),Xe.utc(2016,11,13,19)].map(r=>this.extract(r,n,"dayperiod"))}return this.meridiemCache})}eras(e,n=!0){return mu(this,e,n,rC,()=>{const r={era:e};return this.eraCache[e]||(this.eraCache[e]=[Xe.utc(-40,1,1),Xe.utc(2017,1,1)].map(i=>this.extract(i,r,"era"))),this.eraCache[e]})}extract(e,n,r){const i=this.dtFormatter(e,n),a=i.formatToParts(),l=a.find(h=>h.type.toLowerCase()===r);return l?l.value:null}numberFormatter(e={}){return new Oj(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,n={}){return new Mj(e,this.intl,n)}relFormatter(e={}){return new Pj(this.intl,this.isEnglish(),e)}listFormatter(e={}){return Ej(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}}function _o(...t){const e=t.reduce((n,r)=>n+r.source,"");return RegExp(`^${e}$`)}function po(...t){return e=>t.reduce(([n,r,i],a)=>{const[l,h,f]=a(e,i);return[{...n,...l},h||r,f]},[{},null,1]).slice(0,2)}function mo(t,...e){if(t==null)return[null,null];for(const[n,r]of e){const i=n.exec(t);if(i)return r(i)}return[null,null]}function iC(...t){return(e,n)=>{const r={};let i;for(i=0;i<t.length;i++)r[t[i]]=$i(e[n+i]);return[r,null,n+i]}}const aC=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Lj=`(?:${aC.source}?(?:\\[(${Jk.source})\\])?)?`,rv=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,sC=RegExp(`${rv.source}${Lj}`),iv=RegExp(`(?:T${sC.source})?`),Rj=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,$j=/(\d{4})-?W(\d\d)(?:-?(\d))?/,Fj=/(\d{4})-?(\d{3})/,Uj=iC("weekYear","weekNumber","weekDay"),jj=iC("year","ordinal"),Vj=/(\d{4})-(\d\d)-(\d\d)/,oC=RegExp(`${rv.source} ?(?:${aC.source}|(${Jk.source}))?`),zj=RegExp(`(?: ${oC.source})?`);function $s(t,e,n){const r=t[e];return ut(r)?n:$i(r)}function Hj(t,e){return[{year:$s(t,e),month:$s(t,e+1,1),day:$s(t,e+2,1)},null,e+3]}function go(t,e){return[{hours:$s(t,e,0),minutes:$s(t,e+1,0),seconds:$s(t,e+2,0),milliseconds:ev(t[e+3])},null,e+4]}function $c(t,e){const n=!t[e]&&!t[e+1],r=Fh(t[e+1],t[e+2]),i=n?null:zn.instance(r);return[{},i,e+3]}function Fc(t,e){const n=t[e]?Ci.create(t[e]):null;return[{},n,e+1]}const Bj=RegExp(`^T?${rv.source}$`),qj=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Wj(t){const[e,n,r,i,a,l,h,f,g]=t,E=e[0]==="-",T=f&&f[0]==="-",C=(A,L=!1)=>A!==void 0&&(L||A&&E)?-A:A;return[{years:C(ba(n)),months:C(ba(r)),weeks:C(ba(i)),days:C(ba(a)),hours:C(ba(l)),minutes:C(ba(h)),seconds:C(ba(f),f==="-0"),milliseconds:C(ev(g),T)}]}const Gj={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function av(t,e,n,r,i,a,l){const h={year:e.length===2?Op($i(e)):$i(e),month:Qk.indexOf(n)+1,day:$i(r),hour:$i(i),minute:$i(a)};return l&&(h.second=$i(l)),t&&(h.weekday=t.length>3?Zk.indexOf(t)+1:eC.indexOf(t)+1),h}const Kj=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Yj(t){const[,e,n,r,i,a,l,h,f,g,E,T]=t,C=av(e,i,r,n,a,l,h);let A;return f?A=Gj[f]:g?A=0:A=Fh(E,T),[C,new zn(A)]}function Jj(t){return t.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const Qj=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Xj=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Zj=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function mb(t){const[,e,n,r,i,a,l,h]=t;return[av(e,i,r,n,a,l,h),zn.utcInstance]}function eV(t){const[,e,n,r,i,a,l,h]=t;return[av(e,h,n,r,i,a,l),zn.utcInstance]}const tV=_o(Rj,iv),nV=_o($j,iv),rV=_o(Fj,iv),iV=_o(sC),lC=po(Hj,go,$c,Fc),aV=po(Uj,go,$c,Fc),sV=po(jj,go,$c,Fc),oV=po(go,$c,Fc);function lV(t){return mo(t,[tV,lC],[nV,aV],[rV,sV],[iV,oV])}function cV(t){return mo(Jj(t),[Kj,Yj])}function uV(t){return mo(t,[Qj,mb],[Xj,mb],[Zj,eV])}function dV(t){return mo(t,[qj,Wj])}const hV=po(go);function fV(t){return mo(t,[Bj,hV])}const _V=_o(Vj,zj),pV=_o(oC),mV=po(go,$c,Fc);function gV(t){return mo(t,[_V,lC],[pV,mV])}const vV="Invalid Duration",cC={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},yV={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...cC},vr=146097/400,hs=146097/4800,bV={years:{quarters:4,months:12,weeks:vr/7,days:vr,hours:vr*24,minutes:vr*24*60,seconds:vr*24*60*60,milliseconds:vr*24*60*60*1e3},quarters:{months:3,weeks:vr/28,days:vr/4,hours:vr*24/4,minutes:vr*24*60/4,seconds:vr*24*60*60/4,milliseconds:vr*24*60*60*1e3/4},months:{weeks:hs/7,days:hs,hours:hs*24,minutes:hs*24*60,seconds:hs*24*60*60,milliseconds:hs*24*60*60*1e3},...cC},Ca=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],wV=Ca.slice(0).reverse();function wa(t,e,n=!1){const r={values:n?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new ht(r)}function xV(t){return t<0?Math.floor(t):Math.ceil(t)}function uC(t,e,n,r,i){const a=t[i][n],l=e[n]/a,h=Math.sign(l)===Math.sign(r[i]),f=!h&&r[i]!==0&&Math.abs(l)<=1?xV(l):Math.trunc(l);r[i]+=f,e[n]-=f*a}function EV(t,e){wV.reduce((n,r)=>ut(e[r])?n:(n&&uC(t,e,n,e,r),r),null)}class ht{constructor(e){const n=e.conversionAccuracy==="longterm"||!1;let r=n?bV:yV;e.matrix&&(r=e.matrix),this.values=e.values,this.loc=e.loc||Nt.create(),this.conversionAccuracy=n?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(e,n){return ht.fromObject({milliseconds:e},n)}static fromObject(e,n={}){if(e==null||typeof e!="object")throw new wr(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new ht({values:Ud(e,ht.normalizeUnit),loc:Nt.fromObject(n),conversionAccuracy:n.conversionAccuracy,matrix:n.matrix})}static fromDurationLike(e){if(Ua(e))return ht.fromMillis(e);if(ht.isDuration(e))return e;if(typeof e=="object")return ht.fromObject(e);throw new wr(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,n){const[r]=dV(e);return r?ht.fromObject(r,n):ht.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,n){const[r]=fV(e);return r?ht.fromObject(r,n):ht.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,n=null){if(!e)throw new wr("need to specify a reason the Duration is invalid");const r=e instanceof Rr?e:new Rr(e,n);if(Qt.throwOnInvalid)throw new XU(r);return new ht({invalid:r})}static normalizeUnit(e){const n={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!n)throw new Tk(e);return n}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,n={}){const r={...n,floor:n.round!==!1&&n.floor!==!1};return this.isValid?Un.create(this.loc,r).formatDurationFromString(this,e):vV}toHuman(e={}){const n=Ca.map(r=>{const i=this.values[r];return ut(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:r.slice(0,-1)}).format(i)}).filter(r=>r);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(n)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=tv(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const n=this.toMillis();if(n<0||n>=864e5)return null;e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e};const r=this.shiftTo("hours","minutes","seconds","milliseconds");let i=e.format==="basic"?"hhmm":"hh:mm";(!e.suppressSeconds||r.seconds!==0||r.milliseconds!==0)&&(i+=e.format==="basic"?"ss":":ss",(!e.suppressMilliseconds||r.milliseconds!==0)&&(i+=".SSS"));let a=r.toFormat(i);return e.includePrefix&&(a="T"+a),a}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const n=ht.fromDurationLike(e),r={};for(const i of Ca)(eo(n.values,i)||eo(this.values,i))&&(r[i]=n.get(i)+this.get(i));return wa(this,{values:r},!0)}minus(e){if(!this.isValid)return this;const n=ht.fromDurationLike(e);return this.plus(n.negate())}mapUnits(e){if(!this.isValid)return this;const n={};for(const r of Object.keys(this.values))n[r]=Yk(e(this.values[r],r));return wa(this,{values:n},!0)}get(e){return this[ht.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const n={...this.values,...Ud(e,ht.normalizeUnit)};return wa(this,{values:n})}reconfigure({locale:e,numberingSystem:n,conversionAccuracy:r,matrix:i}={}){const l={loc:this.loc.clone({locale:e,numberingSystem:n}),matrix:i,conversionAccuracy:r};return wa(this,l)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return EV(this.matrix,e),wa(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(l=>ht.normalizeUnit(l));const n={},r={},i=this.toObject();let a;for(const l of Ca)if(e.indexOf(l)>=0){a=l;let h=0;for(const g in r)h+=this.matrix[g][l]*r[g],r[g]=0;Ua(i[l])&&(h+=i[l]);const f=Math.trunc(h);n[l]=f,r[l]=(h*1e3-f*1e3)/1e3;for(const g in i)Ca.indexOf(g)>Ca.indexOf(l)&&uC(this.matrix,i,g,n,l)}else Ua(i[l])&&(r[l]=i[l]);for(const l in r)r[l]!==0&&(n[a]+=l===a?r[l]:r[l]/this.matrix[a][l]);return wa(this,{values:n},!0).normalize()}negate(){if(!this.isValid)return this;const e={};for(const n of Object.keys(this.values))e[n]=this.values[n]===0?0:-this.values[n];return wa(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function n(r,i){return r===void 0||r===0?i===void 0||i===0:r===i}for(const r of Ca)if(!n(this.values[r],e.values[r]))return!1;return!0}}const Io="Invalid Interval";function SV(t,e){return!t||!t.isValid?Ut.invalid("missing or invalid start"):!e||!e.isValid?Ut.invalid("missing or invalid end"):e<t?Ut.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}class Ut{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,n=null){if(!e)throw new wr("need to specify a reason the Interval is invalid");const r=e instanceof Rr?e:new Rr(e,n);if(Qt.throwOnInvalid)throw new QU(r);return new Ut({invalid:r})}static fromDateTimes(e,n){const r=Po(e),i=Po(n),a=SV(r,i);return a==null?new Ut({start:r,end:i}):a}static after(e,n){const r=ht.fromDurationLike(n),i=Po(e);return Ut.fromDateTimes(i,i.plus(r))}static before(e,n){const r=ht.fromDurationLike(n),i=Po(e);return Ut.fromDateTimes(i.minus(r),i)}static fromISO(e,n){const[r,i]=(e||"").split("/",2);if(r&&i){let a,l;try{a=Xe.fromISO(r,n),l=a.isValid}catch{l=!1}let h,f;try{h=Xe.fromISO(i,n),f=h.isValid}catch{f=!1}if(l&&f)return Ut.fromDateTimes(a,h);if(l){const g=ht.fromISO(i,n);if(g.isValid)return Ut.after(a,g)}else if(f){const g=ht.fromISO(r,n);if(g.isValid)return Ut.before(h,g)}}return Ut.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds"){if(!this.isValid)return NaN;const n=this.start.startOf(e),r=this.end.startOf(e);return Math.floor(r.diff(n,e).get(e))+1}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:n}={}){return this.isValid?Ut.fromDateTimes(e||this.s,n||this.e):this}splitAt(...e){if(!this.isValid)return[];const n=e.map(Po).filter(l=>this.contains(l)).sort(),r=[];let{s:i}=this,a=0;for(;i<this.e;){const l=n[a]||this.e,h=+l>+this.e?this.e:l;r.push(Ut.fromDateTimes(i,h)),i=h,a+=1}return r}splitBy(e){const n=ht.fromDurationLike(e);if(!this.isValid||!n.isValid||n.as("milliseconds")===0)return[];let{s:r}=this,i=1,a;const l=[];for(;r<this.e;){const h=this.start.plus(n.mapUnits(f=>f*i));a=+h>+this.e?this.e:h,l.push(Ut.fromDateTimes(r,a)),r=a,i+=1}return l}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const n=this.s>e.s?this.s:e.s,r=this.e<e.e?this.e:e.e;return n>=r?null:Ut.fromDateTimes(n,r)}union(e){if(!this.isValid)return this;const n=this.s<e.s?this.s:e.s,r=this.e>e.e?this.e:e.e;return Ut.fromDateTimes(n,r)}static merge(e){const[n,r]=e.sort((i,a)=>i.s-a.s).reduce(([i,a],l)=>a?a.overlaps(l)||a.abutsStart(l)?[i,a.union(l)]:[i.concat([a]),l]:[i,l],[[],null]);return r&&n.push(r),n}static xor(e){let n=null,r=0;const i=[],a=e.map(f=>[{time:f.s,type:"s"},{time:f.e,type:"e"}]),l=Array.prototype.concat(...a),h=l.sort((f,g)=>f.time-g.time);for(const f of h)r+=f.type==="s"?1:-1,r===1?n=f.time:(n&&+n!=+f.time&&i.push(Ut.fromDateTimes(n,f.time)),n=null);return Ut.merge(i)}difference(...e){return Ut.xor([this].concat(e)).map(n=>this.intersection(n)).filter(n=>n&&!n.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:Io}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:Io}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Io}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:Io}toFormat(e,{separator:n=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(e)}${n}${this.e.toFormat(e)}`:Io}toDuration(e,n){return this.isValid?this.e.diff(this.s,e,n):ht.invalid(this.invalidReason)}mapEndpoints(e){return Ut.fromDateTimes(e(this.s),e(this.e))}}class gu{static hasDST(e=Qt.defaultZone){const n=Xe.now().setZone(e).set({month:12});return!e.isUniversal&&n.offset!==n.set({month:6}).offset}static isValidIANAZone(e){return Ci.isValidZone(e)}static normalizeZone(e){return Hi(e,Qt.defaultZone)}static months(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null,outputCalendar:a="gregory"}={}){return(i||Nt.create(n,r,a)).months(e)}static monthsFormat(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null,outputCalendar:a="gregory"}={}){return(i||Nt.create(n,r,a)).months(e,!0)}static weekdays(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null}={}){return(i||Nt.create(n,r,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null}={}){return(i||Nt.create(n,r,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return Nt.create(e).meridiems()}static eras(e="short",{locale:n=null}={}){return Nt.create(n,null,"gregory").eras(e)}static features(){return{relative:Gk()}}}function gb(t,e){const n=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=n(e)-n(t);return Math.floor(ht.fromMillis(r).as("days"))}function kV(t,e,n){const r=[["years",(h,f)=>f.year-h.year],["quarters",(h,f)=>f.quarter-h.quarter+(f.year-h.year)*4],["months",(h,f)=>f.month-h.month+(f.year-h.year)*12],["weeks",(h,f)=>{const g=gb(h,f);return(g-g%7)/7}],["days",gb]],i={};let a,l;for(const[h,f]of r)if(n.indexOf(h)>=0){a=h;let g=f(t,e);l=t.plus({[h]:g}),l>e?(t=t.plus({[h]:g-1}),g-=1):t=l,i[h]=g}return[t,i,l,a]}function CV(t,e,n,r){let[i,a,l,h]=kV(t,e,n);const f=e-i,g=n.filter(T=>["hours","minutes","seconds","milliseconds"].indexOf(T)>=0);g.length===0&&(l<e&&(l=i.plus({[h]:1})),l!==i&&(a[h]=(a[h]||0)+f/(l-i)));const E=ht.fromObject(a,r);return g.length>0?ht.fromMillis(f,r).shiftTo(...g).plus(E):E}const sv={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},vb={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},TV=sv.hanidec.replace(/[\[|\]]/g,"").split("");function NV(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);if(t[n].search(sv.hanidec)!==-1)e+=TV.indexOf(t[n]);else for(const i in vb){const[a,l]=vb[i];r>=a&&r<=l&&(e+=r-a)}}return parseInt(e,10)}else return e}function Ir({numberingSystem:t},e=""){return new RegExp(`${sv[t||"latn"]}${e}`)}const DV="missing Intl.DateTimeFormat.formatToParts support";function pt(t,e=n=>n){return{regex:t,deser:([n])=>e(NV(n))}}const AV=String.fromCharCode(160),dC=`[ ${AV}]`,hC=new RegExp(dC,"g");function IV(t){return t.replace(/\./g,"\\.?").replace(hC,dC)}function yb(t){return t.replace(/\./g,"").replace(hC," ").toLowerCase()}function Or(t,e){return t===null?null:{regex:RegExp(t.map(IV).join("|")),deser:([n])=>t.findIndex(r=>yb(n)===yb(r))+e}}function bb(t,e){return{regex:t,deser:([,n,r])=>Fh(n,r),groups:e}}function zf(t){return{regex:t,deser:([e])=>e}}function OV(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function MV(t,e){const n=Ir(e),r=Ir(e,"{2}"),i=Ir(e,"{3}"),a=Ir(e,"{4}"),l=Ir(e,"{6}"),h=Ir(e,"{1,2}"),f=Ir(e,"{1,3}"),g=Ir(e,"{1,6}"),E=Ir(e,"{1,9}"),T=Ir(e,"{2,4}"),C=Ir(e,"{4,6}"),A=R=>({regex:RegExp(OV(R.val)),deser:([O])=>O,literal:!0}),N=(R=>{if(t.literal)return A(R);switch(R.val){case"G":return Or(e.eras("short",!1),0);case"GG":return Or(e.eras("long",!1),0);case"y":return pt(g);case"yy":return pt(T,Op);case"yyyy":return pt(a);case"yyyyy":return pt(C);case"yyyyyy":return pt(l);case"M":return pt(h);case"MM":return pt(r);case"MMM":return Or(e.months("short",!0,!1),1);case"MMMM":return Or(e.months("long",!0,!1),1);case"L":return pt(h);case"LL":return pt(r);case"LLL":return Or(e.months("short",!1,!1),1);case"LLLL":return Or(e.months("long",!1,!1),1);case"d":return pt(h);case"dd":return pt(r);case"o":return pt(f);case"ooo":return pt(i);case"HH":return pt(r);case"H":return pt(h);case"hh":return pt(r);case"h":return pt(h);case"mm":return pt(r);case"m":return pt(h);case"q":return pt(h);case"qq":return pt(r);case"s":return pt(h);case"ss":return pt(r);case"S":return pt(f);case"SSS":return pt(i);case"u":return zf(E);case"uu":return zf(h);case"uuu":return pt(n);case"a":return Or(e.meridiems(),0);case"kkkk":return pt(a);case"kk":return pt(T,Op);case"W":return pt(h);case"WW":return pt(r);case"E":case"c":return pt(n);case"EEE":return Or(e.weekdays("short",!1,!1),1);case"EEEE":return Or(e.weekdays("long",!1,!1),1);case"ccc":return Or(e.weekdays("short",!0,!1),1);case"cccc":return Or(e.weekdays("long",!0,!1),1);case"Z":case"ZZ":return bb(new RegExp(`([+-]${h.source})(?::(${r.source}))?`),2);case"ZZZ":return bb(new RegExp(`([+-]${h.source})(${r.source})?`),2);case"z":return zf(/[a-z_+-/]{1,256}?/i);default:return A(R)}})(t)||{invalidReason:DV};return N.token=t,N}const PV={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function LV(t,e,n){const{type:r,value:i}=t;if(r==="literal")return{literal:!0,val:i};const a=n[r];let l=PV[r];if(typeof l=="object"&&(l=l[a]),l)return{literal:!1,val:l}}function RV(t){return[`^${t.map(n=>n.regex).reduce((n,r)=>`${n}(${r.source})`,"")}$`,t]}function $V(t,e,n){const r=t.match(e);if(r){const i={};let a=1;for(const l in n)if(eo(n,l)){const h=n[l],f=h.groups?h.groups+1:1;!h.literal&&h.token&&(i[h.token.val[0]]=h.deser(r.slice(a,a+f))),a+=f}return[r,i]}else return[r,{}]}function FV(t){const e=a=>{switch(a){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let n=null,r;return ut(t.z)||(n=Ci.create(t.z)),ut(t.Z)||(n||(n=new zn(t.Z)),r=t.Z),ut(t.q)||(t.M=(t.q-1)*3+1),ut(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),ut(t.u)||(t.S=ev(t.u)),[Object.keys(t).reduce((a,l)=>{const h=e(l);return h&&(a[h]=t[l]),a},{}),n,r]}let Hf=null;function UV(){return Hf||(Hf=Xe.fromMillis(1555555555555)),Hf}function jV(t,e){if(t.literal)return t;const n=Un.macroTokenToFormatOpts(t.val),r=pC(n,e);return r==null||r.includes(void 0)?t:r}function fC(t,e){return Array.prototype.concat(...t.map(n=>jV(n,e)))}function _C(t,e,n){const r=fC(Un.parseFormat(n),t),i=r.map(l=>MV(l,t)),a=i.find(l=>l.invalidReason);if(a)return{input:e,tokens:r,invalidReason:a.invalidReason};{const[l,h]=RV(i),f=RegExp(l,"i"),[g,E]=$V(e,f,h),[T,C,A]=E?FV(E):[null,null,void 0];if(eo(E,"a")&&eo(E,"H"))throw new qo("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:r,regex:f,rawMatches:g,matches:E,result:T,zone:C,specificOffset:A}}}function VV(t,e,n){const{result:r,zone:i,specificOffset:a,invalidReason:l}=_C(t,e,n);return[r,i,a,l]}function pC(t,e){return t?Un.create(e,t).formatDateTimeParts(UV()).map(i=>LV(i,e,t)):null}const mC=[0,31,59,90,120,151,181,212,243,273,304,334],gC=[0,31,60,91,121,152,182,213,244,274,305,335];function Er(t,e){return new Rr("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function vC(t,e,n){const r=new Date(Date.UTC(t,e-1,n));t<100&&t>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const i=r.getUTCDay();return i===0?7:i}function yC(t,e,n){return n+(Lc(t)?gC:mC)[e-1]}function bC(t,e){const n=Lc(t)?gC:mC,r=n.findIndex(a=>a<e),i=e-n[r];return{month:r+1,day:i}}function $p(t){const{year:e,month:n,day:r}=t,i=yC(e,n,r),a=vC(e,n,r);let l=Math.floor((i-a+10)/7),h;return l<1?(h=e-1,l=Fd(h)):l>Fd(e)?(h=e+1,l=1):h=e,{weekYear:h,weekNumber:l,weekday:a,...Uh(t)}}function wb(t){const{weekYear:e,weekNumber:n,weekday:r}=t,i=vC(e,1,4),a=dl(e);let l=n*7+r-i-3,h;l<1?(h=e-1,l+=dl(h)):l>a?(h=e+1,l-=dl(e)):h=e;const{month:f,day:g}=bC(h,l);return{year:h,month:f,day:g,...Uh(t)}}function Bf(t){const{year:e,month:n,day:r}=t,i=yC(e,n,r);return{year:e,ordinal:i,...Uh(t)}}function xb(t){const{year:e,ordinal:n}=t,{month:r,day:i}=bC(e,n);return{year:e,month:r,day:i,...Uh(t)}}function zV(t){const e=$h(t.weekYear),n=ui(t.weekNumber,1,Fd(t.weekYear)),r=ui(t.weekday,1,7);return e?n?r?!1:Er("weekday",t.weekday):Er("week",t.week):Er("weekYear",t.weekYear)}function HV(t){const e=$h(t.year),n=ui(t.ordinal,1,dl(t.year));return e?n?!1:Er("ordinal",t.ordinal):Er("year",t.year)}function wC(t){const e=$h(t.year),n=ui(t.month,1,12),r=ui(t.day,1,$d(t.year,t.month));return e?n?r?!1:Er("day",t.day):Er("month",t.month):Er("year",t.year)}function xC(t){const{hour:e,minute:n,second:r,millisecond:i}=t,a=ui(e,0,23)||e===24&&n===0&&r===0&&i===0,l=ui(n,0,59),h=ui(r,0,59),f=ui(i,0,999);return a?l?h?f?!1:Er("millisecond",i):Er("second",r):Er("minute",n):Er("hour",e)}const qf="Invalid DateTime",Eb=864e13;function vu(t){return new Rr("unsupported zone",`the zone "${t.name}" is not supported`)}function Wf(t){return t.weekData===null&&(t.weekData=$p(t.c)),t.weekData}function Oo(t,e){const n={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new Xe({...n,...e,old:n})}function EC(t,e,n){let r=t-e*60*1e3;const i=n.offset(r);if(e===i)return[r,e];r-=(i-e)*60*1e3;const a=n.offset(r);return i===a?[r,i]:[t-Math.min(i,a)*60*1e3,Math.max(i,a)]}function Sb(t,e){t+=e*60*1e3;const n=new Date(t);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function zu(t,e,n){return EC(nv(t),e,n)}function kb(t,e){const n=t.o,r=t.c.year+Math.trunc(e.years),i=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,a={...t.c,year:r,month:i,day:Math.min(t.c.day,$d(r,i))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},l=ht.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),h=nv(a);let[f,g]=EC(h,n,t.zone);return l!==0&&(f+=l,g=t.zone.offset(f)),{ts:f,o:g}}function Mo(t,e,n,r,i,a){const{setZone:l,zone:h}=n;if(t&&Object.keys(t).length!==0){const f=e||h,g=Xe.fromObject(t,{...n,zone:f,specificOffset:a});return l?g:g.setZone(h)}else return Xe.invalid(new Rr("unparsable",`the input "${i}" can't be parsed as ${r}`))}function yu(t,e,n=!0){return t.isValid?Un.create(Nt.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(t,e):null}function Gf(t,e){const n=t.c.year>9999||t.c.year<0;let r="";return n&&t.c.year>=0&&(r+="+"),r+=qt(t.c.year,n?6:4),e?(r+="-",r+=qt(t.c.month),r+="-",r+=qt(t.c.day)):(r+=qt(t.c.month),r+=qt(t.c.day)),r}function Cb(t,e,n,r,i,a){let l=qt(t.c.hour);return e?(l+=":",l+=qt(t.c.minute),(t.c.second!==0||!n)&&(l+=":")):l+=qt(t.c.minute),(t.c.second!==0||!n)&&(l+=qt(t.c.second),(t.c.millisecond!==0||!r)&&(l+=".",l+=qt(t.c.millisecond,3))),i&&(t.isOffsetFixed&&t.offset===0&&!a?l+="Z":t.o<0?(l+="-",l+=qt(Math.trunc(-t.o/60)),l+=":",l+=qt(Math.trunc(-t.o%60))):(l+="+",l+=qt(Math.trunc(t.o/60)),l+=":",l+=qt(Math.trunc(t.o%60)))),a&&(l+="["+t.zone.ianaName+"]"),l}const SC={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},BV={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},qV={ordinal:1,hour:0,minute:0,second:0,millisecond:0},kC=["year","month","day","hour","minute","second","millisecond"],WV=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],GV=["year","ordinal","hour","minute","second","millisecond"];function Tb(t){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new Tk(t);return e}function Nb(t,e){const n=Hi(e.zone,Qt.defaultZone),r=Nt.fromObject(e),i=Qt.now();let a,l;if(ut(t.year))a=i;else{for(const g of kC)ut(t[g])&&(t[g]=SC[g]);const h=wC(t)||xC(t);if(h)return Xe.invalid(h);const f=n.offset(i);[a,l]=zu(t,f,n)}return new Xe({ts:a,zone:n,loc:r,o:l})}function Db(t,e,n){const r=ut(n.round)?!0:n.round,i=(l,h)=>(l=tv(l,r||n.calendary?0:2,!0),e.loc.clone(n).relFormatter(n).format(l,h)),a=l=>n.calendary?e.hasSame(t,l)?0:e.startOf(l).diff(t.startOf(l),l).get(l):e.diff(t,l).get(l);if(n.unit)return i(a(n.unit),n.unit);for(const l of n.units){const h=a(l);if(Math.abs(h)>=1)return i(h,l)}return i(t>e?-0:0,n.units[n.units.length-1])}function Ab(t){let e={},n;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],n=Array.from(t).slice(0,t.length-1)):n=Array.from(t),[e,n]}class Xe{constructor(e){const n=e.zone||Qt.defaultZone;let r=e.invalid||(Number.isNaN(e.ts)?new Rr("invalid input"):null)||(n.isValid?null:vu(n));this.ts=ut(e.ts)?Qt.now():e.ts;let i=null,a=null;if(!r)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(n))[i,a]=[e.old.c,e.old.o];else{const h=n.offset(this.ts);i=Sb(this.ts,h),r=Number.isNaN(i.year)?new Rr("invalid input"):null,i=r?null:i,a=r?null:h}this._zone=n,this.loc=e.loc||Nt.create(),this.invalid=r,this.weekData=null,this.c=i,this.o=a,this.isLuxonDateTime=!0}static now(){return new Xe({})}static local(){const[e,n]=Ab(arguments),[r,i,a,l,h,f,g]=n;return Nb({year:r,month:i,day:a,hour:l,minute:h,second:f,millisecond:g},e)}static utc(){const[e,n]=Ab(arguments),[r,i,a,l,h,f,g]=n;return e.zone=zn.utcInstance,Nb({year:r,month:i,day:a,hour:l,minute:h,second:f,millisecond:g},e)}static fromJSDate(e,n={}){const r=nj(e)?e.valueOf():NaN;if(Number.isNaN(r))return Xe.invalid("invalid input");const i=Hi(n.zone,Qt.defaultZone);return i.isValid?new Xe({ts:r,zone:i,loc:Nt.fromObject(n)}):Xe.invalid(vu(i))}static fromMillis(e,n={}){if(Ua(e))return e<-Eb||e>Eb?Xe.invalid("Timestamp out of range"):new Xe({ts:e,zone:Hi(n.zone,Qt.defaultZone),loc:Nt.fromObject(n)});throw new wr(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,n={}){if(Ua(e))return new Xe({ts:e*1e3,zone:Hi(n.zone,Qt.defaultZone),loc:Nt.fromObject(n)});throw new wr("fromSeconds requires a numerical input")}static fromObject(e,n={}){e=e||{};const r=Hi(n.zone,Qt.defaultZone);if(!r.isValid)return Xe.invalid(vu(r));const i=Qt.now(),a=ut(n.specificOffset)?r.offset(i):n.specificOffset,l=Ud(e,Tb),h=!ut(l.ordinal),f=!ut(l.year),g=!ut(l.month)||!ut(l.day),E=f||g,T=l.weekYear||l.weekNumber,C=Nt.fromObject(n);if((E||h)&&T)throw new qo("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(g&&h)throw new qo("Can't mix ordinal dates with month/day");const A=T||l.weekday&&!E;let L,N,R=Sb(i,a);A?(L=WV,N=BV,R=$p(R)):h?(L=GV,N=qV,R=Bf(R)):(L=kC,N=SC);let O=!1;for(const H of L){const W=l[H];ut(W)?O?l[H]=N[H]:l[H]=R[H]:O=!0}const I=A?zV(l):h?HV(l):wC(l),$=I||xC(l);if($)return Xe.invalid($);const F=A?wb(l):h?xb(l):l,[j,B]=zu(F,a,r),z=new Xe({ts:j,zone:r,o:B,loc:C});return l.weekday&&E&&e.weekday!==z.weekday?Xe.invalid("mismatched weekday",`you can't specify both a weekday of ${l.weekday} and a date of ${z.toISO()}`):z}static fromISO(e,n={}){const[r,i]=lV(e);return Mo(r,i,n,"ISO 8601",e)}static fromRFC2822(e,n={}){const[r,i]=cV(e);return Mo(r,i,n,"RFC 2822",e)}static fromHTTP(e,n={}){const[r,i]=uV(e);return Mo(r,i,n,"HTTP",n)}static fromFormat(e,n,r={}){if(ut(e)||ut(n))throw new wr("fromFormat requires an input string and a format");const{locale:i=null,numberingSystem:a=null}=r,l=Nt.fromOpts({locale:i,numberingSystem:a,defaultToEN:!0}),[h,f,g,E]=VV(l,e,n);return E?Xe.invalid(E):Mo(h,f,r,`format ${n}`,e,g)}static fromString(e,n,r={}){return Xe.fromFormat(e,n,r)}static fromSQL(e,n={}){const[r,i]=gV(e);return Mo(r,i,n,"SQL",e)}static invalid(e,n=null){if(!e)throw new wr("need to specify a reason the DateTime is invalid");const r=e instanceof Rr?e:new Rr(e,n);if(Qt.throwOnInvalid)throw new JU(r);return new Xe({invalid:r})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,n={}){const r=pC(e,Nt.fromObject(n));return r?r.map(i=>i?i.val:null).join(""):null}static expandFormat(e,n={}){return fC(Un.parseFormat(e),Nt.fromObject(n)).map(i=>i.val).join("")}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Wf(this).weekYear:NaN}get weekNumber(){return this.isValid?Wf(this).weekNumber:NaN}get weekday(){return this.isValid?Wf(this).weekday:NaN}get ordinal(){return this.isValid?Bf(this.c).ordinal:NaN}get monthShort(){return this.isValid?gu.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?gu.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?gu.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?gu.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}get isInLeapYear(){return Lc(this.year)}get daysInMonth(){return $d(this.year,this.month)}get daysInYear(){return this.isValid?dl(this.year):NaN}get weeksInWeekYear(){return this.isValid?Fd(this.weekYear):NaN}resolvedLocaleOptions(e={}){const{locale:n,numberingSystem:r,calendar:i}=Un.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:n,numberingSystem:r,outputCalendar:i}}toUTC(e=0,n={}){return this.setZone(zn.instance(e),n)}toLocal(){return this.setZone(Qt.defaultZone)}setZone(e,{keepLocalTime:n=!1,keepCalendarTime:r=!1}={}){if(e=Hi(e,Qt.defaultZone),e.equals(this.zone))return this;if(e.isValid){let i=this.ts;if(n||r){const a=e.offset(this.ts),l=this.toObject();[i]=zu(l,a,e)}return Oo(this,{ts:i,zone:e})}else return Xe.invalid(vu(e))}reconfigure({locale:e,numberingSystem:n,outputCalendar:r}={}){const i=this.loc.clone({locale:e,numberingSystem:n,outputCalendar:r});return Oo(this,{loc:i})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const n=Ud(e,Tb),r=!ut(n.weekYear)||!ut(n.weekNumber)||!ut(n.weekday),i=!ut(n.ordinal),a=!ut(n.year),l=!ut(n.month)||!ut(n.day),h=a||l,f=n.weekYear||n.weekNumber;if((h||i)&&f)throw new qo("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&i)throw new qo("Can't mix ordinal dates with month/day");let g;r?g=wb({...$p(this.c),...n}):ut(n.ordinal)?(g={...this.toObject(),...n},ut(n.day)&&(g.day=Math.min($d(g.year,g.month),g.day))):g=xb({...Bf(this.c),...n});const[E,T]=zu(g,this.o,this.zone);return Oo(this,{ts:E,o:T})}plus(e){if(!this.isValid)return this;const n=ht.fromDurationLike(e);return Oo(this,kb(this,n))}minus(e){if(!this.isValid)return this;const n=ht.fromDurationLike(e).negate();return Oo(this,kb(this,n))}startOf(e){if(!this.isValid)return this;const n={},r=ht.normalizeUnit(e);switch(r){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0;break}if(r==="weeks"&&(n.weekday=1),r==="quarters"){const i=Math.ceil(this.month/3);n.month=(i-1)*3+1}return this.set(n)}endOf(e){return this.isValid?this.plus({[e]:1}).startOf(e).minus(1):this}toFormat(e,n={}){return this.isValid?Un.create(this.loc.redefaultToEN(n)).formatDateTimeFromString(this,e):qf}toLocaleString(e=Ip,n={}){return this.isValid?Un.create(this.loc.clone(n),e).formatDateTime(this):qf}toLocaleParts(e={}){return this.isValid?Un.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:n=!1,suppressMilliseconds:r=!1,includeOffset:i=!0,extendedZone:a=!1}={}){if(!this.isValid)return null;const l=e==="extended";let h=Gf(this,l);return h+="T",h+=Cb(this,l,n,r,i,a),h}toISODate({format:e="extended"}={}){return this.isValid?Gf(this,e==="extended"):null}toISOWeekDate(){return yu(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:n=!1,includeOffset:r=!0,includePrefix:i=!1,extendedZone:a=!1,format:l="extended"}={}){return this.isValid?(i?"T":"")+Cb(this,l==="extended",n,e,r,a):null}toRFC2822(){return yu(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return yu(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Gf(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:n=!1,includeOffsetSpace:r=!0}={}){let i="HH:mm:ss.SSS";return(n||e)&&(r&&(i+=" "),n?i+="z":e&&(i+="ZZ")),yu(this,i,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():qf}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const n={...this.c};return e.includeConfig&&(n.outputCalendar=this.outputCalendar,n.numberingSystem=this.loc.numberingSystem,n.locale=this.loc.locale),n}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,n="milliseconds",r={}){if(!this.isValid||!e.isValid)return ht.invalid("created by diffing an invalid DateTime");const i={locale:this.locale,numberingSystem:this.numberingSystem,...r},a=rj(n).map(ht.normalizeUnit),l=e.valueOf()>this.valueOf(),h=l?this:e,f=l?e:this,g=CV(h,f,a,i);return l?g.negate():g}diffNow(e="milliseconds",n={}){return this.diff(Xe.now(),e,n)}until(e){return this.isValid?Ut.fromDateTimes(this,e):this}hasSame(e,n){if(!this.isValid)return!1;const r=e.valueOf(),i=this.setZone(e.zone,{keepLocalTime:!0});return i.startOf(n)<=r&&r<=i.endOf(n)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const n=e.base||Xe.fromObject({},{zone:this.zone}),r=e.padding?this<n?-e.padding:e.padding:0;let i=["years","months","days","hours","minutes","seconds"],a=e.unit;return Array.isArray(e.unit)&&(i=e.unit,a=void 0),Db(n,this.plus(r),{...e,numeric:"always",units:i,unit:a})}toRelativeCalendar(e={}){return this.isValid?Db(e.base||Xe.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(Xe.isDateTime))throw new wr("min requires all arguments be DateTimes");return ob(e,n=>n.valueOf(),Math.min)}static max(...e){if(!e.every(Xe.isDateTime))throw new wr("max requires all arguments be DateTimes");return ob(e,n=>n.valueOf(),Math.max)}static fromFormatExplain(e,n,r={}){const{locale:i=null,numberingSystem:a=null}=r,l=Nt.fromOpts({locale:i,numberingSystem:a,defaultToEN:!0});return _C(l,e,n)}static fromStringExplain(e,n,r={}){return Xe.fromFormatExplain(e,n,r)}static get DATE_SHORT(){return Ip}static get DATE_MED(){return Nk}static get DATE_MED_WITH_WEEKDAY(){return ZU}static get DATE_FULL(){return Dk}static get DATE_HUGE(){return Ak}static get TIME_SIMPLE(){return Ik}static get TIME_WITH_SECONDS(){return Ok}static get TIME_WITH_SHORT_OFFSET(){return Mk}static get TIME_WITH_LONG_OFFSET(){return Pk}static get TIME_24_SIMPLE(){return Lk}static get TIME_24_WITH_SECONDS(){return Rk}static get TIME_24_WITH_SHORT_OFFSET(){return $k}static get TIME_24_WITH_LONG_OFFSET(){return Fk}static get DATETIME_SHORT(){return Uk}static get DATETIME_SHORT_WITH_SECONDS(){return jk}static get DATETIME_MED(){return Vk}static get DATETIME_MED_WITH_SECONDS(){return zk}static get DATETIME_MED_WITH_WEEKDAY(){return ej}static get DATETIME_FULL(){return Hk}static get DATETIME_FULL_WITH_SECONDS(){return Bk}static get DATETIME_HUGE(){return qk}static get DATETIME_HUGE_WITH_SECONDS(){return Wk}}function Po(t){if(Xe.isDateTime(t))return t;if(t&&t.valueOf&&Ua(t.valueOf()))return Xe.fromJSDate(t);if(t&&typeof t=="object")return Xe.fromObject(t);throw new wr(`Unknown datetime argument: ${t}, of type ${typeof t}`)}const KV=[{field:"Nombre",inNameId:"name",inType:"text"},{field:"Apellido",inNameId:"lastName",inType:"text"},{field:"Contrase\xF1a",inNameId:"password",inType:"password"},{field:"Email",inNameId:"email",inType:"email"},{field:"N\xFAmero De Contacto",inNameId:"phoneNumber",inType:"tel"}];const CC=({selected:t})=>{const[e,n]=ae.exports.useState([]),[r,i]=ae.exports.useState("");return ae.exports.useEffect(()=>{async function l(){const f=await(await fetch("https://restcountries.com/v2/all")).json();n(f)}l()},[]),X("div",{children:[P("label",{htmlFor:"country",children:"Pa\xEDs : "}),P("select",{className:"countryDropdown",value:r,onChange:l=>{i(l.target.value),t(l.target.value)},children:e.map(l=>P("option",{value:l.name,children:l.name},l.alpha2Code))})]})},YV=()=>{const[t,e]=ae.exports.useState({}),[n,r]=ae.exports.useState(!1),[i,a]=ae.exports.useState(""),{createUser:l}=ir(),h=Kn();Xe.now().toFormat("DDDD - HH:mm:ss");const f=Mc(),[g,E]=ae.exports.useState(),T=R=>{e({...t,[R.target.name]:R.target.value})},C=R=>{E(R)},A={role:"alumn",remainingClases:0,completedClases:0,absentedClases:0,actualClass:0,newPurchasedClasses:0,totalClasses:0,teacher:"unasigned",newNotifications:!0,notifications:1,newbie:!0,durationClass:0,linkToClass:"",reprogramedThisMonth:0},L={textNotification:"Bienvenido a Navis!",notificationType:"Welcome",checked:!1},N=async R=>{R.preventDefault(),a(""),r(!0);try{const O=await l(t.email,t.password).then(j=>j),I=Mt(),$=je(I,`Users/${O.user.uid}`);_i($,{...t,country:g,...A,uid:O.user.uid});const F=Bn(I,`Users/${O.user.uid}/myNotifications`);Kl(F,{...L,timeStamp:f}),h("/panel")}catch(O){a(O.message),swal("UPS!",`${O.message}`,"error"),r(!1)}};return n?P(qn,{}):P(Yt,{children:P("div",{className:"signIn__main-container",children:X("div",{className:"signIn__container",children:[X("form",{className:"signUp__form",onSubmit:N,children:[KV.map((R,O)=>X("div",{children:[X("label",{htmlFor:R.inNameId,children:[R.field," :"]}),P("input",{type:R.inType,id:R.inNameId,name:R.inNameId,value:t[R.inNameId]||"",onChange:T})]},O)),P(CC,{selected:C}),P("button",{type:"submit",children:"Crear Cuenta"})]}),X("div",{children:[X("div",{className:"signIn__tittleColumn",children:[X("p",{className:"signIn-logo",children:[P("img",{className:"cohete-navis",src:Ck,alt:"cohete.svg"}),P("i",{className:"fa-solid fa-user"})]}),P("p",{className:"signIn-tittle",children:"SignUp"})]}),X("p",{className:"subTittle",children:["\xBFYa tienes una cuenta?",P(fn,{to:"/signIn",children:"Inicia sesi\xF3n."})]})]})]})})})},JV=({children:t})=>{const{userLogged:e}=ir();return e?t:P(qa,{to:"/signIn"})},QV=({children:t})=>{const{userLogged:e}=ir(),{user:n}=Sn();return e?n.role==="teacher"?P(qa,{to:"/"}):t:P(qa,{to:"/signIn"})},XV=({children:t})=>{const{userLogged:e}=ir(),{user:n}=Sn();return e?n.role==="alumn"?P(qa,{to:"/"}):t:P(qa,{to:"/signIn"})};const ZV=({userInfo:t,role:e,toggle:n})=>X("div",{className:"asideProfile-container",children:[P("div",{className:"userCard-header_container",children:X("div",{className:"userCard-header",children:[P("div",{className:"user-avatar",children:P("i",{className:"fa-solid fa-user fa-3x"})}),X("div",{className:"userMain-info",children:[X("p",{children:[t.name," ",t.lastName]}),P("span",{children:e==="admin"?"Administrador":e==="alumn"?"Estudiante":"Profesor"})]})]})}),P("div",{className:"userCard-body",children:X("div",{className:"userCard-body-input",children:[P("span",{className:"userCard-body-input_title",children:"Email:"}),P("span",{className:"userCard-body-input_content",children:t.email})]})}),P("div",{className:"userCard-body",children:X("div",{className:"userCard-body-input",children:[P("span",{className:"userCard-body-input_title",children:"Pa\xEDs:"}),P("span",{className:"userCard-body-input_content",children:t.country})]})}),P("div",{className:"userCard-body",children:X("div",{className:"userCard-body-input",children:[P("span",{className:"userCard-body-input_title",children:"Ciudad:"}),P("span",{className:"userCard-body-input_content",children:t.city})]})}),P("div",{className:"userCard-body",children:X("div",{className:"userCard-body-input",children:[P("span",{className:"userCard-body-input_title",children:"N\xFAmero de contacto:"}),P("span",{className:"userCard-body-input_content",children:t.phoneNumber})]})}),P("div",{className:"userCard-footer",children:P("button",{className:"userCard-button",onClick:()=>{n()},children:"Editar Informaci\xF3n"})})]}),ez=[{field:"Nombre",inNameId:"name",inType:"text"},{field:"Apellido",inNameId:"lastName",inType:"text"},{field:"Ciudad",inNameId:"city",inType:"text"},{field:"N\xFAmero De Contacto",inNameId:"phoneNumber",inType:"tel"}];const tz=()=>{const{userLogged:t}=ir(),{user:e}=Sn(),[n,r]=ae.exports.useState({}),[i,a]=ae.exports.useState(!1),l=e.form;let h={},f={};const g=C=>{r({...n,[C.target.name]:C.target.value})},E=()=>{for(let C in n)if(n[C]!=="")switch(C){case"name":h={...h,name:n[C]},l.role==="alumn"&&(f={...f,studentName:n[C]}),l.role==="teacher"&&(f={...f,teacherName:n[C]});break;case"lastName":h={...h,lastName:n[C]},l.role==="alumn"&&(f={...f,studentLastName:n[C]}),l.role==="teacher"&&(f={...f,teacherLastName:n[C]});break;case"city":h={...h,city:n[C]},l.role==="alumn"&&(f={...f,studentCity:n[C]}),l.role==="teacher"&&(f={...f,teacherCity:n[C]});break;case"phoneNumber":h={...h,phoneNumber:n[C]},l.role==="alumn"&&(f={...f,studentPhoneNumber:n[C]}),l.role==="teacher"&&(f={...f,teacherPhoneNumber:n[C]});break}},T=async C=>{C.preventDefault(),a(!0),E();try{const A=Mt(),L=je(A,`Users/${t.uid}`);await tt(L,{...h});const N=async R=>{const O=je(A,`Classes/${R}`);await tt(O,{...f,modification:!0})};if(l.role==="teacher"){const R=Bn(A,`Users/${t.uid}/myStudents`);(await Xr(R)).forEach(I=>{N(I.id)})}if(l.role==="alumn"&&l.teacher==="assigned"){const R=je(A,`Users/${t.uid}/myClasses/${l.myClassesId}`);await tt(R,{...f});const O=je(A,`Classes/${l.myClassesId}`);await tt(O,{...f});const I=je(A,`Users/${l.teacherUid}/myStudents/${t.uid}`);await tt(I,{...f});const $=je(A,`Users/${t.uid}/mySchedule/${t.uid}`),F=je(A,`Users/${l.teacherUid}/mySchedule/${t.uid}`),B=(await ki(F)).data();for(let z in f)if(f[z]!=="")switch(z){case"studentName":for(const H in B)B[H].studentName=f[z],console.log(`${H}: ${B[H].studentName}`);break;case"studentLastName":for(const H in B)B[H].studentLastName=f[z],console.log(`${H}: ${B[H].studentLastName}`);break;default:break}await tt($,{...B}),await tt(F,{...B})}a(!1),swal("Muy Bien!","Actualizaci\xF3n exitosa","success")}catch(A){swal("UPS!",`${A.message}`,"error"),a(!1)}};return i?P(qn,{}):X("div",{className:"editarInfo-container",children:[P("h5",{children:"EDITAR MI INFORMACION"}),P("div",{children:P("div",{children:X("form",{className:"editarInfo__form",onSubmit:T,children:[ez.map((C,A)=>X("div",{children:[X("label",{htmlFor:C.inNameId,children:[C.field," :"]}),P("input",{type:C.inType,id:C.inNameId,name:C.inNameId,value:n[C.inNameId]||"",onChange:g})]},A)),P("button",{className:"editarInfo-button",type:"submit",children:"Editar"})]})})})]})};const nz=()=>{const{user:t}=Sn();Kn();const[e,n]=ae.exports.useState(!1),r=t.form,i=()=>{n(!e)};return r?X("div",{className:"mainProfile-container",children:[P(ZV,{userInfo:r,role:t.role,toggle:i}),e&&P(tz,{})]}):P(qn,{})};const rz=({info:t})=>X("div",{className:"moreInfo-container",children:[X("ul",{children:[X("li",{children:["Numero de contacto: ",t.phoneNumber]}),X("li",{children:["Pais: ",t.country]}),X("li",{children:["Ciudad: ",t.city]})]}),t.role==="teacher"?X("ul",{children:[X("li",{children:["Total de clases impartidas: ",t.totalClasses]}),X("li",{children:["Clases impartidas este mes: ",t.thisMonthClasses]}),X("li",{children:["Clases impartidas el mes pasado: ",t.lastMonthClasses]}),X("li",{children:["Clases ausente: ",t.absentedClasses]})]}):X("ul",{children:[X("li",{children:["Clases disponibles: ",t.remainingClases]}),X("li",{children:["Clases completadas: ",t.completedClases]}),X("li",{children:["Clases ausente: ",t.absentedClases]}),X("li",{children:["Total de clases compradas: ",t.totalClasses]}),X("li",{children:["Duracion de la clase: ",t.durationClass,"min"]}),X("li",{children:["Profesor: ",t.teacherName]})]})]}),iz=async(t,e)=>{const n=Mt(),r=je(n,`Users/${t.uid}/myClasses/${t.myClassesId}`),a=(await ki(r)).data(),l=je(n,`Users/${t.teacherUid}`);let E=(await ki(l)).data().disponibility;const T=a.durationClass;let C=0;const A={teacher:"unasigned",teacherName:"",teacherUid:"",teacherPhoneNumber:""},L={teacherEmail:"",teacherLastName:""};switch(T){case 30:C=2;break;case 50:C=3;break}a.userWeek.map(O=>{const $=O.timeDate.toDate(),j=$.getUTCHours().toString().padStart(2,"0"),z=$.getUTCMinutes().toString().padStart(2,"0"),H=`${j}:${z}`;let W=E[O.day];W[H]=!0;let Y=H;for(let te=0;te<C;te++){let[Z,le]=Y.split(":");le=Number(le)+15,le>=60&&(le=le-60,Z=Number(Z)+1,Z<10&&(Z="0"+Z),le<10&&(le="0"+le)),Y=`${Z}:${le}`,W[Y]=!0}});const N=je(n,`Users/${t.uid}`);await tt(N,{...A}),await tt(r,{...L,...A}),await tt(l,{disponibility:E});const R=je(n,`Classes/${t.myClassesId}`);return await tt(R,{...L,...A}),await W0(je(n,`Users/${t.teacherUid}/myStudents/${t.uid}`)),await W0(je(n,`Users/${t.teacherUid}/mySchedule/${t.uid}`)),swal("OK","El alumno quedo sin profesor, asignale uno en ASIGNAR PROFESOR","success"),e(!1)},az=({userData:t})=>{const[e,n]=ae.exports.useState(!1),[r,i]=ae.exports.useState(!1),[a,l]=ae.exports.useState(!1),h=()=>{n(!e)},f=E=>{i(E)},g=()=>{l(!a),f(!0),iz(t,f)};return P(Yt,{children:r?P(qn,{}):P("div",{className:"userCardProfile-container",children:X("div",{className:"userCardProfile-header_container",children:[X("div",{className:"userCardProfile-header",children:[P("div",{className:"userCardProfile-avatar",children:P("i",{className:"fa-solid fa-user fa-2x"})}),X("div",{className:"userCardProfile-info",children:[X("p",{children:[t.name," ",t.lastName]}),P("span",{children:t.role==="teacher"?"Profesor":"Alumno"}),P("span",{children:t.email})]}),P("button",{className:e?"userCardProfile-button active":"userCardProfile-button",onClick:h,children:"MAS INFORMACION"}),!a&&t.role==="alumn"&&t.teacher==="assigned"&&P("button",{className:"userCardProfile-button",onClick:g,children:"CAMBIAR PROFESOR"})]}),e&&P(rz,{info:t})]})})})},sz=({users:t=[]})=>t.map(e=>P(az,{userData:e},e.id)),Ib=({roleNeeded:t})=>{const e=Mt(),[n,r]=ae.exports.useState(!0),[i,a]=ae.exports.useState([]);return ae.exports.useEffect(()=>{const l=Bn(e,"Users"),h=Ld(l,yp("role","==",`${t}`));Xr(h).then(f=>a(f.docs.map(g=>({...g.data()})))),r(!1)},[]),P(Yt,{children:n?P(qn,{}):P("div",{children:P(sz,{users:i})})})},oz=({date:t,teacher:e,selected:n})=>{const[r,i]=ae.exports.useState(!1),a=Mc(),l={teacher:"assigned",condition:"succes",teacherEmail:e.email,teacherUid:e.id,teacherName:e.name,teacherLastName:e.lastName,teacherPhoneNumber:e.phoneNumber},h={studentEmail:t.studentEmail,studentUid:t.studentUid,studentName:t.studentName,studentLastName:t.studentLastName,studentPhoneNumber:t.studentPhoneNumber,remainingClases:t.remainingClases,classWeek:t.userWeek},f={textNotification:"Felicitaciones, tu peticion de clases fue aceptada, ya te asignamos un profesor",notificationType:"Notificacion",checked:!1},g={textNotification:`Se te asigno un nuevo alumno, su nombre es ${t.studentName} ${t.studentLastName}`,notificationType:"Notificacion",checked:!1},E=[],T=[],C=[],A=e.disponibility,L=t.durationClass;let N=A,R=!0,O=0,I=0;switch(L){case 30:O=2;break;case 50:O=3;break}const $=()=>{R=!R};t.userWeek.map(z=>{const H=e.weekDisponibility.filter(W=>W.day===z.day);E.push(...H)}),t.userWeek.length!=E.length?$():t.userWeek.map((z,H)=>{!(z.timeDate>=E[H].timeStartDate&&z.timeDate<E[H].timeEndDate)&&$()});function F(z,H,W){let Y=!0;for(let te=0;te<H;te++){let[Z,le]=z.split(":");if(le=Number(le)+15,le>=60&&(le=le-60,Z=Number(Z)+1,Z<10&&(Z="0"+Z),le<10&&(le="0"+le),Z===24&&(Z="00")),z=`${Z}:${le}`,Y=W[z],!Y)break}return Y}R&&t.userWeek.map((z,H)=>{const Y=z.timeDate.toDate(),Z=Y.getUTCHours().toString().padStart(2,"0"),he=Y.getUTCMinutes().toString().padStart(2,"0"),ke=`${Z}:${he}`;z.day==="lunes"&&A.lunes[ke]&&F(ke,O,A.lunes)&&I++,z.day==="martes"&&A.martes[ke]&&F(ke,O,A.martes)&&I++,z.day==="miercoles"&&A.miercoles[ke]&&F(ke,O,A.miercoles)&&I++,z.day==="jueves"&&A.jueves[ke]&&F(ke,O,A.jueves)&&I++,z.day==="viernes"&&A.viernes[ke]&&F(ke,O,A.viernes)&&I++,z.day==="sabado"&&A.sabado[ke]&&F(ke,O,A.sabado)&&I++,z.day==="domingo"&&A.domingo[ke]&&F(ke,O,A.domingo)&&I++}),R&&I!=t.userWeek.length&&$();const j=()=>{let z=new Date;const H=(pe,Fe)=>{pe.setDate(pe.getDate()+Fe)};let W=0,Y=1,te=2,Z=3,le=4,he=5,ke=6;switch(z.getDay()){case 0:H(z,0);break;case 1:H(z,-1);break;case 2:H(z,-2);break;case 3:H(z,-3);break;case 4:H(z,-4);break;case 5:H(z,-5);break;case 6:H(z,-6);break}const Ge=(pe,Fe,Oe,rt)=>{H(z,Fe);const xt=pe.toDate(),Ht=z.getDate(),dt=z.getMonth(),wt=z.getFullYear(),ce=xt.getHours(),Jt=xt.getMinutes();let Mn=new Date(wt,dt,Ht,ce,Jt),gt=new Date(wt,dt,Ht,ce,Jt);gt.setMinutes(gt.getMinutes()+rt);const ee={date:Mn,dateEnd:gt,time:pe,condition:"pending",linkToClass:"",teacherCalification:"",studentCalification:"",studentAssist:!1,reprogramed:!1,durationClass:t.durationClass,classNumber:Oe,calificationOfClass:"",studentName:t.studentName,studentLastName:t.studentLastName,studentUid:t.studentUid,studentEmail:t.studentEmail,teacherName:e.name,teacherLastName:e.lastName,teacherUid:e.id};T.push(ee),C.push(ee),H(z,-Fe)},fe=(pe,Fe)=>{pe.day==="domingo"&&Ge(pe.timeDate,W,Fe,t.durationClass),pe.day==="lunes"&&Ge(pe.timeDate,Y,Fe,t.durationClass),pe.day==="martes"&&Ge(pe.timeDate,te,Fe,t.durationClass),pe.day==="miercoles"&&Ge(pe.timeDate,Z,Fe,t.durationClass),pe.day==="jueves"&&Ge(pe.timeDate,le,Fe,t.durationClass),pe.day==="viernes"&&Ge(pe.timeDate,he,Fe,t.durationClass),pe.day==="sabado"&&Ge(pe.timeDate,ke,Fe,t.durationClass)};let ge=0;H(z,7);for(let pe=0;pe<t.remainingClases;pe++)ge===t.userWeek.length&&(ge=0,H(z,7)),fe(t.userWeek[ge],pe),ge++;t.userWeek.map(pe=>{const Oe=pe.timeDate.toDate(),xt=Oe.getUTCHours().toString().padStart(2,"0"),dt=Oe.getUTCMinutes().toString().padStart(2,"0"),wt=`${xt}:${dt}`;let ce=N[pe.day];ce[wt]=!1;let Jt=wt;for(let Mn=0;Mn<O;Mn++){let[gt,ee]=Jt.split(":");ee=Number(ee)+15,ee>=60&&(ee=ee-60,gt=Number(gt)+1,gt<10&&(gt="0"+gt),ee<10&&(ee="0"+ee)),Jt=`${gt}:${ee}`,ce[Jt]=!1}})},B=async z=>{i(!0),n(!0),j(),z.preventDefault();try{const H=Mt(),W=je(H,`Classes/${t.id}`);await tt(W,{...l});const Y=je(H,`Users/${e.id}`);await tt(Y,{disponibility:N,notifications:Vt(1)});const te=je(H,`Users/${e.id}/myStudents/${t.studentUid}`);await _i(te,{...h});const Z=je(H,`Users/${e.id}/mySchedule/${t.studentUid}`);await _i(Z,{...T});const le=je(H,`Users/${t.studentUid}`);await tt(le,{teacher:"assigned",teacherName:`${e.name} ${e.lastName}`,teacherPhoneNumber:e.phoneNumber,teacherUid:e.id,notifications:Vt(1),newPurchasedClasses:0});const he=je(H,`Users/${t.studentUid}/myClasses/${t.id}`);await tt(he,{...l});const ke=je(H,`Users/${t.studentUid}/mySchedule/${t.id}`);await _i(ke,{...C});const xe=Bn(H,`Users/${t.studentUid}/myNotifications`);await Kl(xe,{...f,timeStamp:a});const Ge=Bn(H,`Users/${e.id}/myNotifications`);await Kl(Ge,{...g,timeStamp:a}),i(!1),swal("OK","Se asigno el profesor al alumno","success")}catch(H){swal("UPS!",`${H.message}`,"error"),i(!1)}};if(r)return P(qn,{});if(R)return P("div",{className:"userCardProfile-container",children:P("div",{className:"userCardProfile-header_container",children:X("div",{className:"userCardProfile-header",children:[P("div",{className:"userCardProfile-avatar",children:P("i",{className:"fa-solid fa-user fa-2x"})}),X("div",{className:"userCardProfile-info",children:[X("p",{children:["Profesor: ",e.name," ",e.lastName]}),X("span",{children:["Email: ",e.email]})]}),r?P(qn,{}):P("button",{className:"userCardProfile-button",onClick:B,children:"ASIGNAR PROFESOR"})]})})})},lz=({date:t,teachers:e=[],onChange:n})=>e.map(r=>P(oz,{date:t,teacher:r,selected:n},r.id)),cz=({info:t,teachersList:e})=>{const[n,r]=ae.exports.useState(!1),[i,a]=ae.exports.useState(!1),l=()=>{!n&&swal("OK","Selecciona un profesor de la lista","success"),r(!n)},h=f=>{a(f)};return P("div",{className:"",children:X("div",{className:"userCardProfile-container",children:[P("div",{className:"userCardProfile-header_container",children:X("div",{className:"userCardProfile-header",children:[P("div",{className:"userCardProfile-avatar",children:P("i",{className:"fa-solid fa-user fa-2x"})}),X("div",{className:"userCardProfile-info",children:[X("p",{children:[t.studentName," ",t.studentLastName]}),P("span",{children:"Alumno"})]}),P("button",{className:n?"userCardProfile-button active":"userCardProfile-button",onClick:l,children:"LISTAR PROFESORES DISPONIBLES"})]})}),P("div",{className:"teacherListed-container",children:!i&&n&&P(lz,{date:t,teachers:e,onChange:h})})]})})},uz=({classDate:t=[],teachers:e=[]})=>t.map(n=>P(cz,{info:n,teachersList:e},n.id)),dz=()=>{const[t,e]=ae.exports.useState([]),[n,r]=ae.exports.useState([]),[i,a]=ae.exports.useState(!0);return ae.exports.useEffect(()=>{const l=Mt(),h=Bn(l,"Classes"),f=Ld(h,yp("teacher","==","unasigned"));Xr(f).then(T=>e(T.docs.map(C=>({id:C.id,...C.data()}))));const g=Bn(l,"Users"),E=Ld(g,yp("role","==","teacher"));Xr(E).then(T=>r(T.docs.map(C=>({id:C.id,...C.data()})))),a(!1)},[]),P(Yt,{children:i?P(qn,{}):P("div",{children:P(uz,{classDate:t,teachers:n})})})},hz=[{field:"Nombre",inNameId:"name",inType:"text"},{field:"Apellido",inNameId:"lastName",inType:"text"},{field:"Contrase\xF1a",inNameId:"password",inType:"password"},{field:"Email",inNameId:"email",inType:"email"},{field:"Numero De Contacto",inNameId:"phoneNumber",inType:"tel"},{field:"Ciudad",inNameId:"city",inType:"text"}];const xa=[{"00:00":!0,"00:15":!0,"00:30":!0,"00:45":!0,"01:00":!0,"01:15":!0,"01:30":!0,"01:45":!0,"02:00":!0,"02:15":!0,"02:30":!0,"02:45":!0,"03:00":!0,"03:15":!0,"03:30":!0,"03:45":!0,"04:00":!0,"04:15":!0,"04:30":!0,"04:45":!0,"05:00":!0,"05:15":!0,"05:30":!0,"05:45":!0,"06:00":!0,"06:15":!0,"06:30":!0,"06:45":!0,"07:00":!0,"07:15":!0,"07:30":!0,"07:45":!0,"08:00":!0,"08:15":!0,"08:30":!0,"08:45":!0,"09:00":!0,"09:15":!0,"09:30":!0,"09:45":!0,"10:00":!0,"10:15":!0,"10:30":!0,"10:45":!0,"11:00":!0,"11:15":!0,"11:30":!0,"11:45":!0,"12:00":!0,"12:15":!0,"12:30":!0,"12:45":!0,"13:00":!0,"13:15":!0,"13:30":!0,"13:45":!0,"14:00":!0,"14:15":!0,"14:30":!0,"14:45":!0,"15:00":!0,"15:15":!0,"15:30":!0,"15:45":!0,"16:00":!0,"16:15":!0,"16:30":!0,"16:45":!0,"17:00":!0,"17:15":!0,"17:30":!0,"17:45":!0,"18:00":!0,"18:15":!0,"18:30":!0,"18:45":!0,"19:00":!0,"19:15":!0,"19:30":!0,"19:45":!0,"20:00":!0,"20:15":!0,"20:30":!0,"20:45":!0,"21:00":!0,"21:15":!0,"21:30":!0,"21:45":!0,"22:00":!0,"22:15":!0,"22:30":!0,"22:45":!0,"23:00":!0,"23:15":!0,"23:30":!0,"23:45":!0}],fz=[{hs:"--"},{hs:"00"},{hs:"01"},{hs:"02"},{hs:"03"},{hs:"04"},{hs:"05"},{hs:"06"},{hs:"07"},{hs:"08"},{hs:"09"},{hs:"10"},{hs:"11"},{hs:"12"},{hs:"13"},{hs:"14"},{hs:"15"},{hs:"16"},{hs:"17"},{hs:"18"},{hs:"19"},{hs:"20"},{hs:"21"},{hs:"22"},{hs:"23"}],_z=[{min:"--"},{min:"00"},{min:"15"},{min:"30"},{min:"45"}];const Fp=({id:t,name:e,onChange:n})=>{const[r,i]=ae.exports.useState(),[a,l]=ae.exports.useState();function h(g){let E=parseInt(g),T=parseInt(a),C=new Date(2022,1,1,E,T);i(g);const A={id:t,name:e,hour:g,min:a,timeString:`${g}:${a}`,timeDate:C};n(A)}const f=g=>{let E=parseInt(r),T=parseInt(g),C=new Date(2022,1,1,E,T);l(g);const A={id:t,name:e,hour:r,min:g,timeString:`${r}:${g}`,timeDate:C};n(A)};return X("div",{className:"time-picker",children:[P("select",{id:"time-picker__hours",className:"time-picker__select",onChange:g=>h(g.target.value),children:fz.map((g,E)=>P("option",{value:g.hs,children:g.hs},E))}),":",P("select",{id:"time-picker__minutes",className:"time-picker__select",onChange:g=>f(g.target.value),children:_z.map((g,E)=>P("option",{value:g.min,children:g.min},E))})]})},pz=({teacherForm:t,country:e})=>{const{createUser:n}=ir();ae.exports.useState(!1);const r=Kn(),i=["lunes","martes","miercoles","jueves","viernes","sabado","domingo"],[a,l]=ae.exports.useState([]),[h,f]=ae.exports.useState(...xa),[g,E]=ae.exports.useState(...xa),[T,C]=ae.exports.useState(...xa),[A,L]=ae.exports.useState(...xa),[N,R]=ae.exports.useState(...xa),[O,I]=ae.exports.useState(...xa),[$,F]=ae.exports.useState(...xa),j=W=>{let Y=a.filter(he=>he.day===W.id),te=Y[0].timeEnd,Z=Y[0].timeEndDate,le=a.filter(he=>he.day!=W.id);Y={day:W.id,timeStart:W.timeString,timeEnd:te,timeStartDate:W.timeDate,timeEndDate:Z},le.push(Y),l(le)},B=W=>{let Y=a.filter(he=>he.day===W.id),te=Y[0].timeStart,Z=Y[0].timeStartDate,le=a.filter(he=>he.day!=W.id);Y={day:W.id,timeStart:te,timeEnd:W.timeString,timeEndDate:W.timeDate,timeStartDate:Z},le.push(Y),l(le)},z=async()=>{const Y={...t,weekDisponibility:a,disponibility:{lunes:h,martes:g,miercoles:T,jueves:A,viernes:N,sabado:O,domingo:$},country:e};try{const te=await n(t.email,t.password).then(he=>he),Z=Mt(),le=je(Z,`Users/${te.user.uid}`);await _i(le,{...Y}),swal("OK","Nuevo Profesor Creado","success"),r("/account")}catch(te){swal("UPS!",`${te.message}`,"error")}},H=()=>{let W=!(!t.name||t.name.length<4),Y=!(!t.lastName||t.lastName.length<4),te=!(!t.password||t.password.length<9),Z=!(!t.email||t.email<12);W?W=!0:swal("CUIDADO!","El nombre debe tener al menos 4 caracteres","error"),Y?Y=!0:swal("CUIDADO!","El apellido debe tener al menos 4 caracteres","error"),te?te=!0:swal("CUIDADO!","La contrase\xF1a debe tener al menos 9 caracteres","error"),Z?Z=!0:swal("CUIDADO!","Ingrese una direccion de email valida","error");let le=!1,he=0;a.length===0?swal("CUIDADO!","Debes seleccionar al menos un dia y un horario","error"):a.map(xe=>{let Ge=!1;if(xe.timeStartDate&&xe.timeEndDate){let fe=xe.timeStartDate,ge=!isNaN(fe.getTime()),pe=xe.timeEndDate,Fe=!isNaN(pe.getTime());(!ge||!Fe)&&swal("CUIDADO!","Debes seleccionar un horario","error"),Ge=ge&&Fe,Ge&&fe>=pe&&swal("CUIDADO!","El horario de inicio debe ser menor al de finalizacion","error")&&(Ge=!Ge)}else swal("CUIDADO!","Debes seleccionar un horario","error");Ge&&he++}),le=(he===a.length)>0,!le&&swal("CUIDADO!","Debes seleccionar un horario","error"),W&&Y&&te&&Z&&le&&z()};return P(Yt,{children:X("div",{className:"teacherDisponibility-conteiner",children:[P("h5",{children:"Selecciona los dias y el horario de disponibilidad del docente"}),P("ul",{className:"teacherDisponibility-day-list",children:i.map((W,Y)=>{const[te,Z]=ae.exports.useState(!1);return X("div",{className:"teacherDisponibility-day-time-button",children:[P("li",{className:te?"teacherDisponibility-day-button clicked":"teacherDisponibility-day-button",onClick:()=>{let le=a;te?le=le.filter(he=>he.day!=W):le.push({day:W,timeStart:void 0,timeEnd:void 0,timeStartDate:void 0,timeEndDate:void 0}),Z(!te),l(le)},children:W}),te&&X("div",{className:"time-selector",children:[X("li",{children:["Horario de inicio :",P(Fp,{id:W,name:"timeStart",onChange:j})]}),X("li",{children:["Horario de finalizacion :",P(Fp,{id:W,name:"timeEnd",onChange:B})]})]})]},Y)})}),P("button",{className:"teacherDisponibility-continue-button",onClick:H,children:"CREAR CUENTA DE PROFESOR"})]})})};const mz=()=>{const[t,e]=ae.exports.useState(),[n,r]=ae.exports.useState({role:"teacher",totalClasses:0,thisMonthClasses:0,lastMonthClasses:0,absentedClases:0}),i=l=>{r({...n,[l.target.name]:l.target.value})},a=l=>{e(l)};return P(Yt,{children:X("div",{className:"createTeacher-container",children:[P("div",{children:X("form",{className:"createTeacher__form",children:[hz.map((l,h)=>X("div",{children:[X("label",{htmlFor:l.inNameId,children:[l.field," :"]}),P("input",{type:l.inType,id:l.inNameId,name:l.inNameId,value:n[l.inNameId]||"",onChange:i})]},h)),P(CC,{selected:a})]})}),P(pz,{teacherForm:n,country:t})]})})},TC=()=>{const[t,e]=ae.exports.useState(!1),[n,r]=ae.exports.useState(!1),[i,a]=ae.exports.useState(!1),[l,h]=ae.exports.useState(!1);return P("div",{className:"",children:X("div",{className:"",children:[P("h5",{children:"PANEL DE ADMINISTRADOR"}),X("div",{className:"panelButtonContainer",children:[P("button",{className:t?"panelButton active":"panelButton",onClick:()=>{n&&r(!1),i&&a(!1),l&&h(!1),!t&&swal("Bienvenido","Aqui podras crear cuentas de profesores","success"),e(!t)},children:"CREAR CUENTA DE PROFESOR"}),P("button",{className:n?"panelButton active":"panelButton",onClick:()=>{t&&e(!1),i&&a(!1),l&&h(!1),!n&&swal("Bienvenido","Aqui veras una lista de profesores registrados","success"),r(!n)},children:"LISTAR PROFESORES"}),P("button",{className:i?"panelButton active":"panelButton",onClick:()=>{t&&e(!1),n&&r(!1),l&&h(!1),!i&&swal("Bienvenido","Aqui veras una lista de alumnos registrados","success"),a(!i)},children:"LISTAR ALUMNOS"}),P("button",{className:l?"panelButton active":"panelButton",onClick:()=>{t&&e(!1),n&&r(!1),i&&a(!1),!l&&swal("Bienvenido","Aqui veras los alumnos que no tienen un profesor asignado y podras asignarles uno","success"),h(!l)},children:"ASIGNAR PROFESOR"})]}),X("div",{children:[t&&P(mz,{}),n&&P(Ib,{roleNeeded:"teacher"}),i&&P(Ib,{roleNeeded:"alumn"}),l&&P(dz,{})]})]})})},gz=({date:t})=>{const e=t.date.toDate(),n=e.getHours(),r=e.getMinutes(),i=e.toLocaleDateString(),a=n.toString().padStart(2,"0"),l=r.toString().padStart(2,"0");return X("div",{className:"nextClass__info",children:[X("p",{className:"nextClass__date",children:["PROXIMA CLASE : ",i]}),X("p",{className:"nextClass__time",children:[a,":",l," HS"]}),X("p",{className:"nextClass__teacher",children:["Profesor: ",t.teacherName," ",t.teacherLastName," "]})]})},vz=({myClass:t,linkToClass:e,userInfo:n})=>{const r=Kn(),i=t.date.toDate(),a=new Date;let l=i-a,h=60*1e3,f=60*h,g=24*f,E=Math.floor(l/g),T=Math.floor(l%g/f);const C=n.reprogramedThisMonth;let A=E<1&&T<4||C===2;return X("div",{className:"studentPanelActionButtons",children:[e?P("a",{href:e,target:"_blank",children:P("button",{className:"studentPanelButton active",children:"INICIAR CLASE"})}):P("button",{className:"studentPanelButton",onClick:()=>{swal("Ups!","Todavia no hay link para esta clase","error")},children:"INICIAR CLASE"}),P("a",{href:"https://www.blinklearning.com/v/1666102044/themes/tmpux/launch.php",target:"_blank",children:P("button",{className:"studentPanelButton active",children:"BLINK LEARNING"})}),P("button",{className:A?"studentPanelButton":"studentPanelButton active",onClick:()=>{C===2?swal("CUIDADO","Solo puedes reprogramar 2 clases por mes y ya las reprogramaste","error"):A?swal("Ya es tarde","Solo puedes reprogramar tu clase hasta 4 horas antes","error"):r("/Account/ReprogramClass")},children:"REPROGRAMAR CLASE"})]})},yz=t=>{const e=Kn(),n=()=>{e("/MiCalendario")};return X("div",{className:"studentClassInfo__container",children:[P("div",{className:"studentClassInfo__remainingClases",children:X("p",{children:["CLASES DISPONIBLES: ",t.remainingClases]})}),P("button",{className:"studentPanelButton active",onClick:n,children:"Ver Calendario"})]})},bz=t=>{let e=0;t.actualClass!==0&&(e=t.completedClases/t.actualClass*100);let n=Math.round(e);return X("div",{className:"studentClassInfo__asistencia",children:[P("p",{className:"asistencia__title",children:"ASISTENCIA"}),X("p",{className:"asistencia__percent",children:[n,"%"]}),X("div",{className:"asistencia",children:[X("p",{children:[t.completedClases," Presentes"]}),X("p",{children:[t.absentedClases," Ausente"]})]})]})};const wz=()=>{const{user:t}=Sn(),e=Mc();ae.exports.useState(!1);const[n,r]=ae.exports.useState([]),i=["lunes","martes","miercoles","jueves","viernes","sabado","domingo"],a={modification:!1,condition:"pending",teacher:"unasigned",remainingClases:t.misClases.remainingClases,studentUid:t.uid,studentEmail:t.email,studentName:t.form.name,studentLastName:t.form.lastName,studentPhoneNumber:t.form.phoneNumber,durationClass:t.form.durationClass},l={textNotification:"Programaste tus clases, en breve se te asiganara un profesor",notificationType:"Notificacion",checked:!1},h=async()=>{const E=["domingo","lunes","martes","miercoles","jueves","viernes","sabado"];let T=[];E.map((C,A)=>{let L=n.filter(N=>N.day===C);T.push(...L)});try{const C=Mt(),A=je(C,`Users/${t.uid}/myClasses/${t.uid}`);await _i(A,{userWeek:T,...a});const L=je(C,`Classes/${t.uid}`);await _i(L,{userWeek:T,...a});const N=je(C,`Users/${t.uid}/myNotifications/${t.uid}`);await _i(N,{...l,timeStamp:e});const R=je(C,`Users/${t.uid}`);await tt(R,{teacher:"pending",notifications:Vt(1),newbie:!1,myClassesId:t.uid}),swal("Muy Bien","Pronto se te asignara un profesor!","success")}catch(C){swal("UPS!",`${C.message}`,"error")}},f=()=>{let E=!1,T=0;n.length===0?swal("CUIDADO!","Debes seleccionar al menos un dia y un horario","error"):n.map(C=>{let A=C.time!==void 0,L=!1;if(C.timeDate){let N=C.timeDate;L=!isNaN(N.getTime())}(!A||!L)&&(swal("CUIDADO!","Debes eleccionar un horario","error"),T++)}),T===0&&n.length!=0&&(E=!0),E&&h()},g=E=>{let T=n.filter(A=>A.day===E.id),C=n.filter(A=>A.day!=E.id);T={day:E.id,time:E.timeString,timeDate:E.timeDate},C.push(T),r(C)};return P(Yt,{children:X("div",{className:"programar-clase-conteiner",children:[P("h5",{children:"Selecciona los dias y el horario en que quieres tomar tus clases"}),P("ul",{className:"day-list",children:i.map((E,T)=>{const[C,A]=ae.exports.useState(!1);return X("div",{className:"day-time-button",children:[P("li",{className:C?"day-button clicked":"day-button",onClick:()=>{let L=n;C?L=L.filter(N=>N.day!=E):L.push({day:E,time:void 0}),A(!C),r(L)},children:E}),C&&P(Fp,{id:E,name:"time",onChange:g})]},T)})}),P("button",{className:"continue-button",onClick:f,children:"CONTINUAR"})]})})},xz=()=>{const{user:t}=Sn(),e=Kn(),n=t.form,r=async i=>{try{const a=Mt(),l=je(a,`Users/${t.uid}`);await tt(l,{durationClass:i}),e("/Panel")}catch(a){swal("UPS!",`${a.message}`,"error")}};return P("div",{className:"MyFirstClasses__container",children:n.remainingClases>0?P("div",{children:P(wz,{})}):P("div",{children:n.durationClass===0?X("div",{children:[X("div",{className:"MyfirstClasses__welcome",children:[P("h5",{children:"Bienvenido a NAVIS"}),P("p",{children:"Para empezar debes adquirir tu primer paquete de clases"}),P("p",{children:"Pero antes debes elegir entre clases de 30min o 50min"})]}),X("div",{className:"cards__container",children:[P("div",{className:"buy-card",children:X("ul",{children:[P("li",{className:"amount",children:"Clases de 30min "}),P("div",{children:P("button",{className:"button__Card",onClick:()=>r(30),children:"SELECCIONAR"})})]})}),P("div",{className:"buy-card",children:X("ul",{children:[P("li",{className:"amount",children:"Clases de 50min "}),P("div",{children:P("button",{className:"button__Card",onClick:()=>r(50),children:"SELECCIONAR"})})]})})]})]}):X("div",{children:[X("div",{className:"MyfirstClasses__welcome",children:[P("h5",{children:"Bienvenido a NAVIS"}),P("p",{children:"Adquiere tu primer paquete de clases"}),P("button",{className:"button__Card",onClick:()=>r(0),children:"ATRAS"})]}),P(Zg,{userDuration:n.durationClass})]})})})};const Ez=async(t,e,n,r)=>{const i=[];let a=[];const l=Mt(),h=je(l,`Users/${t}/myClasses/${e}`),g=(await ki(h)).data();let E=n.length;const T=g.userWeek.length;let C=E-T;const A=(B,z)=>{B.setDate(B.getDate()+z)};let L=0,N=1,R=E;for(let B=0;B<r;B++){L<T?L++:(L=1,N++);const z=n[C];let H=z.date.toDate(),W=z.dateEnd.toDate();A(H,7*N),A(W,7*N);const Z={date:H,dateEnd:W,time:z.time,condition:"pending",linkToClass:"",teacherCalification:"",studentCalification:"",studentAssist:!1,reprogramed:!1,durationClass:g.durationClass,classNumber:R,calificationOfClass:"",studentName:g.studentName,studentLastName:g.studentLastName,studentUid:g.studentUid,studentEmail:g.studentEmail,teacherName:g.teacherName,teacherLastName:g.teacherLastName,teacherUid:g.teacherUid,teacherEmail:g.teacherEmail};i.push(Z),C<E-1?C++:C=E-T,R++}a=[...n,...i];const O=je(l,`Users/${t}/mySchedule/${e}`);await tt(O,{...a});const I=je(l,`Users/${t}`);await tt(I,{newPurchasedClasses:0});const $=je(l,`Classes/${e}`);await tt($,{remainingClases:Vt(r)});const F=je(l,`Users/${g.teacherUid}/mySchedule/${t}`);await tt(F,{...a});const j=je(l,`Users/${g.teacherUid}/myStudents/${t}`);await tt(j,{remainingClases:Vt(r)})},Sz=async(t,e,n)=>{const r=Mt(),i=je(r,`Classes/${n}`),l=(await ki(i)).data();if(l.modification===!0){const O=je(r,`Users/${n}/myClasses/${n}`);await tt(O,{...l,modification:!1}),await tt(i,{modification:!1});const I=je(r,`Users/${n}`);await tt(I,{teacherName:`${l.teacherName} ${l.teacherLastName}`,teacherPhoneNumber:`${l.teacherPhoneNumber}`});const $=je(r,`Users/${n}/mySchedule/${n}`),j=(await ki($)).data();for(let B in j)for(let z in j[B])switch(z){case"teacherName":j[B].teacherName=l[z];break;case"teacherLastName":j[B].teacherLastName=l[z];break}await tt($,{...j})}const h=(O,I)=>{O.setDate(O.getDate()+I)},f=new Date;let g=t,E,T;const C=new Date;h(C,-1);const A=f.getMonth(),L=C.getMonth(),N=async()=>{const O=je(r,`Users/${n}`);await tt(O,{reprogramedThisMonth:0})},R=async()=>{const O=je(r,`Users/${n}`);await tt(O,{actualClass:g,linkToClass:""})};if(A!==L&&N(),e&&(T=e[g],T&&(E=T.dateEnd,E=E.toDate()),E)){for(;E<f;)g++,T=e[g],E=T.dateEnd,E=E.toDate();g!==t&&R()}},NC=()=>{const{user:t}=Sn(),[e,n]=ae.exports.useState([]),[r,i]=ae.exports.useState(!0),[a,l]=ae.exports.useState(),h=t.form;return ae.exports.useEffect(()=>{const f=Mt(),g=Bn(f,`Users/${t.uid}/mySchedule`);Xr(g).then(E=>{const T=E.docs.map(A=>({...A.data()})),C=[];T.forEach(A=>Object.keys(A).forEach(L=>C.push({classNumber:A[L].classNumber,condition:A[L].condition,date:A[L].date,dateEnd:A[L].dateEnd,durationClass:A[L].durationClass,linkToClass:A[L].linkToClass,reprogramed:A[L].reprogramed,studentAssist:A[L].studentAssist,studentCalification:A[L].studentCalification,studentEmail:A[L].studentEmail,studentLastName:A[L].studentLastName,studentName:A[L].studentName,studentUid:A[L].studentUid,teacherCalification:A[L].teacherCalification,teacherLastName:A[L].teacherLastName,teacherName:A[L].teacherName,teacherUid:A[L].teacherUid,time:A[L].time}))),n(C),l(t.form.actualClass),i(!1)}),h.newPurchasedClasses>0&&h.teacher==="assigned"&&Ez(t.uid,h.myClassesId,e,h.newPurchasedClasses),Sz(t.form.actualClass,e,t.uid)},[t]),r?P(qn,{}):P("div",{children:h.newbie?P(xz,{}):h.teacher==="assigned"?X("div",{children:[X("div",{className:"nextClass__container",children:[P(gz,{date:e[a]}),P(vz,{myClass:e[a],linkToClass:h.linkToClass,userInfo:h}),P(bz,{...t.misClases})]}),P(yz,{...t.misClases}),P(Zg,{userDuration:h.durationClass,msg:"ADQUIERE MAS CLASES"})]}):P("div",{children:X("div",{className:"MyfirstClasses__welcome",children:[P("h5",{children:"FELICITACIONES!"}),P("p",{children:"Pronto se te asignara un profesor"})]})})})};const kz=({studentId:t,teacherId:e,classNumber:n})=>{const[r,i]=ae.exports.useState("1"),[a,l]=ae.exports.useState(!1),[h,f]=ae.exports.useState(!1),g=[{id:1,label:"Clase Exitosa",value:1},{id:2,label:"Estudiante Ausente",value:2},{id:3,label:"Profesor Ausente",value:3}];let E=0,T=0,C=0,A="",L=0,N=0,R=0;const O=F=>{i(F.target.value)},I=async()=>{l(!0);const F=Mt(),j=je(F,`Users/${t}`);await tt(j,{completedClases:Vt(E),absentedClases:Vt(T),remainingClases:Vt(C)});const B=je(F,`Users/${e}`);await tt(B,{totalClasses:Vt(L),thisMonthClasses:Vt(N),absentedClasses:Vt(R)});const z=je(F,`Users/${e}/myStudents/${t}`);await tt(z,{remainingClases:Vt(C)});const H=je(F,`Classes/${t}`);await tt(H,{remainingClases:Vt(C)});const W=je(F,`Users/${e}/mySchedule/${t}`),te=(await ki(W)).data();te[n].condition="success",te[n].teacherCalification=A,await tt(W,{...te});const Z=je(F,`Users/${t}/mySchedule/${t}`),he=(await ki(Z)).data();he[n].condition="success",he[n].teacherCalification=A,await tt(Z,{...he}),l(!1),swal("OK","Se calific\xF3 la clase con \xE9xito","success")},$=()=>{if(f(!0),r==="")swal("CUIDADO!","Debe seleccionar una opci\xF3n","error");else{switch(r){case"1":E=1,T=0,C=-1,L=1,N=1,R=0,A="success";break;case"2":E=0,T=1,C=-1,L=1,N=1,R=0,A="absentedStudent";break;case"3":E=0,T=0,L=0,N=0,R=1,A="absentedTeacher";break}I()}};return a?P(qn,{}):P(Yt,{children:h===!0?P("div",{children:P("span",{className:"calificationPending",children:"Calificaci\xF3n Enviada"})}):X("div",{className:"calification-container",children:[X("label",{htmlFor:"calificationClass",children:["Califica La Clase:",P("select",{name:"calificationClass",id:"calificationClass",value:r,onChange:O,children:g.map(F=>P("option",{value:F.value,defaultValue:F.value[1],children:F.label},F.id))})]}),P("button",{onClick:$,children:"ENVIAR"})]})})},Ob=({classDate:t,studentId:e})=>{const[n,r]=ae.exports.useState(""),i=t.condition,a=t.teacherCalification,l=t.date.toDate(),h=t.dateEnd.toDate(),f=new Date;let g="",E=l-f,T=h-f,C=60*1e3,A=60*C,L=24*A,N=Math.floor(E/L),R=Math.floor(E%L/A),O=Math.floor(E%A/C),I=Math.floor(T%A/C),$=0;switch(a){case"success":g="Clase Exitosa";break;case"absentedStudent":g="Estudiante Ausente";break;case"absentedTeacher":g="Profesor Ausente";break;default:g="No hay calificaci\xF3n";break}N<$&&($=Math.abs(N));const F=H=>{r(H.target.value)},j=Mc(),B={textNotification:`Tu profesor ah enviado el link de tu clase ${n}`,notificationType:"Notificacion",checked:!1},z=async H=>{H.preventDefault();try{const W=Mt(),Y=je(W,`Users/${e}`);await tt(Y,{linkToClass:n,notifications:Vt(1)});const te=Bn(W,`Users/${e}/myNotifications`);await Kl(te,{...B,timeStamp:j}),swal("OK","Se envio el link de la clase","success")}catch(W){swal("UPS!",`${W.message}`,"error")}};return P("div",{children:i==="pending"?$>1?P("div",{children:P("span",{children:"LA CLASE YA EXPIRO"})}):N>0?X("div",{children:[X("p",{children:["Faltan ",N," d\xEDas"]}),X("p",{children:["y ",R," horas"]})]}):R>0?X("div",{children:[X("p",{children:["Faltan ",R," horas"]}),X("p",{children:["y ",O," minutos"]})]}):O>30?P("div",{children:X("p",{children:["Faltan ",O," minutos"]})}):I>0?X("form",{onSubmit:z,children:[X("div",{className:"linkToClass-container",children:[P("label",{htmlFor:"url",children:"Ingrese aqui el Link de la clase:"}),P("input",{type:"url",id:"url",name:"url",placeholder:"https://Ingrese_el_link_de_la_clase.com",pattern:"https://.*",size:"40",value:n||"",onChange:F,required:!0})]}),P("button",{type:"submit",children:"ENVIAR"})]}):P("div",{children:P(kz,{studentId:e,teacherId:t.teacherUid,classNumber:t.classNumber})}):P("div",{children:P("span",{className:a==="success"?"calificationGreen":"calificationRed",children:g})})})},Cz=({myClass:t})=>{const[e,n]=ae.exports.useState("all"),r=i=>{n(i)};return X("div",{className:"myClasses-container",children:[X("div",{className:"control_buttons",children:[P("button",{onClick:()=>r("success"),children:"CLASES ANTERIORES"}),P("button",{onClick:()=>r("all"),children:"TODAS LAS CLASES"}),P("button",{onClick:()=>r("pending"),children:"PROXIMAS CLASES"})]}),t.map((i,a)=>{if(i.reprogramed===!1){if(e==="all"){const l=i.date.toDate(),f=l.getHours().toString().padStart(2,"0"),E=l.getMinutes().toString().padStart(2,"0"),T=l.toLocaleDateString();return X("div",{className:"myClasses-card",children:[P("p",{className:"myClasses-card_date",children:T}),X("ul",{className:"myClasses-card_info",children:[X("li",{className:"myClasses-card_student",children:["Alumno: ",i.studentName," ",i.studentLastName]}),X("li",{className:"myClasses-card_time",children:[f,":",E," HS"]})]}),X("ul",{className:"myClasses-card_info",children:[X("li",{children:["Clase N\xBA: ",i.classNumber+1]}),X("li",{children:["Duraci\xF3n: ",i.durationClass,"min"]})]}),P(Ob,{classDate:i,studentId:i.studentUid})]},a)}else if(i.condition===e){const l=i.date.toDate(),f=l.getHours().toString().padStart(2,"0"),E=l.getMinutes().toString().padStart(2,"0"),T=l.toLocaleDateString();return X("div",{className:"myClasses-card",children:[P("p",{className:"myClasses-card_date",children:T}),X("ul",{className:"myClasses-card_info",children:[X("li",{className:"myClasses-card_student",children:["Alumno: ",i.studentName," ",i.studentLastName]}),X("li",{className:"myClasses-card_time",children:[f,":",E," HS"]})]}),X("ul",{className:"myClasses-card_info",children:[X("li",{children:["Clase N\xBA: ",i.classNumber+1]}),X("li",{children:["Duraci\xF3n: ",i.durationClass,"min"]})]}),P(Ob,{classDate:i,studentId:i.studentUid})]},a)}}})]})};const Tz=async(t,e)=>{const n=(f,g)=>{f.setDate(f.getDate()+g)},r=async()=>{const f=Mt(),g=je(f,`Users/${t}`);await tt(g,{lastMonthClasses:e,thisMonthClasses:0})},i=new Date,a=new Date;n(a,-1);const l=i.getMonth(),h=a.getMonth();l!==h&&r()};function DC(){const{user:t}=Sn(),[e,n]=ae.exports.useState([]),[r,i]=ae.exports.useState(!0),a=Kn();ae.exports.useEffect(()=>{const g=Mt(),E=Bn(g,`Users/${t.uid}/mySchedule`);Xr(E).then(T=>{const C=T.docs.map(L=>({...L.data()})),A=[];C.forEach(L=>Object.keys(L).forEach(N=>A.push({classNumber:L[N].classNumber,condition:L[N].condition,date:L[N].date,dateEnd:L[N].dateEnd,durationClass:L[N].durationClass,linkToClass:L[N].linkToClass,reprogramed:L[N].reprogramed,studentAssist:L[N].studentAssist,studentCalification:L[N].studentCalification,studentEmail:L[N].studentEmail,studentLastName:L[N].studentLastName,studentName:L[N].studentName,studentUid:L[N].studentUid,teacherCalification:L[N].teacherCalification,teacherLastName:L[N].teacherLastName,teacherName:L[N].teacherName,teacherUid:L[N].teacherUid,time:L[N].time}))),A.sort((L,N)=>L.date<N.date?-1:L.date>N.date?1:0),n(A),i(!1)}),Tz(t.uid,t.form.thisMonthClasses)},[t]);const l=()=>{a("/Account/Teacher/MyStudents"),swal("BIENVENIDO","Aqu\xED podras ver una lista de tus alumnos","success")},h=()=>{a("/Account")},f=()=>{a("/MiCalendario")};return r?P(qn,{}):P(Yt,{children:X("div",{children:[X("div",{className:"encabezado",children:[P("button",{onClick:h,children:"Mi Perfil"}),P("button",{onClick:l,children:"Mis Alumnos"}),P("button",{onClick:f,children:"Mi Calendario"}),X("ul",{className:"infoEncabezado",children:[P("li",{className:"infoTittle",children:"Mis Clases Impartidas"}),X("li",{children:["Totales: ",t.form.totalClasses]}),X("li",{children:["Este mes: ",t.form.thisMonthClasses," "]}),X("li",{children:["Mes Anterior: ",t.form.lastMonthClasses]})]})]}),P("div",{children:P(Cz,{myClass:e})})]})})}const Nz=()=>{const{user:t}=Sn();return P("div",{children:t.role==="admin"?P(TC,{}):t.role==="alumn"?P(NC,{}):t.role==="teacher"?P(DC,{}):P(qn,{})})};const Dz=({info:t})=>X("div",{className:"asideProfile-container",children:[P("div",{className:"userCard-header_container",children:X("div",{className:"userCard-header",children:[P("div",{className:"user-avatar",children:P("i",{className:"fa-solid fa-user fa-3x"})}),X("div",{className:"userMain-info",children:[X("p",{children:[t.studentName," ",t.studentLastName]}),P("span",{children:" Alumno "}),P("span",{className:"userCard-body-input_content",children:t.studentEmail})]})]})}),P("div",{className:"userCard-body",children:X("div",{className:"userCard-body-input",children:[P("span",{className:"userCard-body-input_title",children:"Numero de contacto:"}),P("span",{className:"userCard-body-input_content",children:t.studentPhoneNumber})]})}),P("div",{className:"userCard-body",children:X("div",{className:"userCard-body-input",children:[P("span",{className:"userCard-body-input_title",children:"Clases Restantes:"}),P("span",{className:"userCard-body-input_content",children:t.remainingClases})]})}),t.classWeek.map((e,n)=>{const i=e.timeDate.toDate(),a=i.getHours(),l=i.getMinutes(),h=a.toString().padStart(2,"0"),f=l.toString().padStart(2,"0");return P("div",{className:"userCard-body",children:X("div",{className:"userCard-body-input",children:[X("span",{className:"userCard-body-input_title",children:[e.day," :"]}),X("span",{className:"userCard-body-input_content",children:[h,":",f," Hs"]})]})},n)})]}),Az=({myStudents:t=[]})=>t.map(e=>P(Dz,{info:e},e.id));const Iz=()=>{const{user:t}=Sn(),[e,n]=ae.exports.useState([]);return ae.exports.useEffect(()=>{const r=Mt(),i=Bn(r,`Users/${t.uid}/myStudents`);Xr(i).then(a=>n(a.docs.map(l=>({id:l.id,...l.data()}))))},[t]),P("div",{className:"myStudents-container",children:P(Az,{myStudents:e})})};var Oz={exports:{}};/*!
 * @license
 * 
 * dhtmlxScheduler v.6.0.2 Standard
 * 
 * To use dhtmlxScheduler in non-GPL projects (and get Pro version of the product), please obtain Commercial/Enterprise or Ultimate license on our site https://dhtmlx.com/docs/products/dhtmlxScheduler/#licensing or contact us at sales@dhtmlx.com
 * 
 * (c) XB Software Ltd.
 * 
 */(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function i(a){if(r[a])return r[a].exports;var l=r[a]={i:a,l:!1,exports:{}};return n[a].call(l.exports,l,l.exports,i),l.l=!0,l.exports}return i.m=n,i.c=r,i.d=function(a,l,h){i.o(a,l)||Object.defineProperty(a,l,{enumerable:!0,get:h})},i.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},i.t=function(a,l){if(1&l&&(a=i(a)),8&l||4&l&&typeof a=="object"&&a&&a.__esModule)return a;var h=Object.create(null);if(i.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:a}),2&l&&typeof a!="string")for(var f in a)i.d(h,f,function(g){return a[g]}.bind(null,f));return h},i.n=function(a){var l=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(l,"a",l),l},i.o=function(a,l){return Object.prototype.hasOwnProperty.call(a,l)},i.p="/codebase/",i(i.s=9)}([function(n,r,i){(function(a){var l;l=typeof window<"u"?window:a,r.a=l}).call(this,i(1))},function(n,r){function i(l){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(l)}var a;a=function(){return this}();try{a=a||new Function("return this")()}catch{(typeof window>"u"?"undefined":i(window))==="object"&&(a=window)}n.exports=a},function(n,r){n.exports=function(i){return function(){var a={};for(var l in this._events){var h=this._events[l];h.id.toString().indexOf("#")==-1&&(a[h.id]=h)}return a}.bind(i)}},function(n,r){n.exports=function(i){if(typeof i=="string"||typeof i=="number")return i;var a="";for(var l in i){var h="";i.hasOwnProperty(l)&&(h=l+"="+(h=typeof i[l]=="string"?encodeURIComponent(i[l]):typeof i[l]=="number"?i[l]:encodeURIComponent(JSON.stringify(i[l]))),a.length&&(h="&"+h),a+=h)}return a}},function(n,r,i){i.r(r)},function(n,r){var i,a,l=n.exports={};function h(){throw new Error("setTimeout has not been defined")}function f(){throw new Error("clearTimeout has not been defined")}function g(I){if(i===setTimeout)return setTimeout(I,0);if((i===h||!i)&&setTimeout)return i=setTimeout,setTimeout(I,0);try{return i(I,0)}catch{try{return i.call(null,I,0)}catch{return i.call(this,I,0)}}}(function(){try{i=typeof setTimeout=="function"?setTimeout:h}catch{i=h}try{a=typeof clearTimeout=="function"?clearTimeout:f}catch{a=f}})();var E,T=[],C=!1,A=-1;function L(){C&&E&&(C=!1,E.length?T=E.concat(T):A=-1,T.length&&N())}function N(){if(!C){var I=g(L);C=!0;for(var $=T.length;$;){for(E=T,T=[];++A<$;)E&&E[A].run();A=-1,$=T.length}E=null,C=!1,function(F){if(a===clearTimeout)return clearTimeout(F);if((a===f||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(F);try{a(F)}catch{try{return a.call(null,F)}catch{return a.call(this,F)}}}(I)}}function R(I,$){this.fun=I,this.array=$}function O(){}l.nextTick=function(I){var $=new Array(arguments.length-1);if(arguments.length>1)for(var F=1;F<arguments.length;F++)$[F-1]=arguments[F];T.push(new R(I,$)),T.length!==1||C||g(N)},R.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=O,l.addListener=O,l.once=O,l.off=O,l.removeListener=O,l.removeAllListeners=O,l.emit=O,l.prependListener=O,l.prependOnceListener=O,l.listeners=function(I){return[]},l.binding=function(I){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(I){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},function(n,r,i){(function(a,l,h){var f,g,E;function T(C){return(T=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(C)}/* @preserve
 * The MIT License (MIT)
 * 
 * Copyright (c) 2013-2018 Petka Antonov
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 * 
 */(function(C){T(r)=="object"&&n!==void 0?n.exports=C():(g=[],(E=typeof(f=C)=="function"?f.apply(r,g):f)===void 0||(n.exports=E))})(function(){return function C(A,L,N){function R($,F){if(!L[$]){if(!A[$]){var j=typeof _dereq_=="function"&&_dereq_;if(!F&&j)return j($,!0);if(O)return O($,!0);var B=new Error("Cannot find module '"+$+"'");throw B.code="MODULE_NOT_FOUND",B}var z=L[$]={exports:{}};A[$][0].call(z.exports,function(H){var W=A[$][1][H];return R(W||H)},z,z.exports,C,A,L,N)}return L[$].exports}for(var O=typeof _dereq_=="function"&&_dereq_,I=0;I<N.length;I++)R(N[I]);return R}({1:[function(C,A,L){var N;try{throw new Error}catch(j){N=j}var R=C("./schedule"),O=C("./queue");function I(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new O(16),this._normalQueue=new O(16),this._haveDrainedQueues=!1;var j=this;this.drainQueues=function(){j._drainQueues()},this._schedule=R}function $(j){for(;j.length()>0;)F(j)}function F(j){var B=j.shift();if(typeof B!="function")B._settlePromises();else{var z=j.shift(),H=j.shift();B.call(z,H)}}I.prototype.setScheduler=function(j){var B=this._schedule;return this._schedule=j,this._customScheduler=!0,B},I.prototype.hasCustomScheduler=function(){return this._customScheduler},I.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},I.prototype.fatalError=function(j,B){B?(a.stderr.write("Fatal "+(j instanceof Error?j.stack:j)+`
`),a.exit(2)):this.throwLater(j)},I.prototype.throwLater=function(j,B){if(arguments.length===1&&(B=j,j=function(){throw B}),typeof setTimeout<"u")setTimeout(function(){j(B)},0);else try{this._schedule(function(){j(B)})}catch{throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}},I.prototype.invokeLater=function(j,B,z){this._lateQueue.push(j,B,z),this._queueTick()},I.prototype.invoke=function(j,B,z){this._normalQueue.push(j,B,z),this._queueTick()},I.prototype.settlePromises=function(j){this._normalQueue._pushOne(j),this._queueTick()},I.prototype._drainQueues=function(){$(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,$(this._lateQueue)},I.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},I.prototype._reset=function(){this._isTickUsed=!1},A.exports=I,A.exports.firstLineError=N},{"./queue":17,"./schedule":18}],2:[function(C,A,L){A.exports=function(N,R,O,I){var $=!1,F=function(H,W){this._reject(W)},j=function(H,W){W.promiseRejectionQueued=!0,W.bindingPromise._then(F,F,null,this,H)},B=function(H,W){(50397184&this._bitField)==0&&this._resolveCallback(W.target)},z=function(H,W){W.promiseRejectionQueued||this._reject(H)};N.prototype.bind=function(H){$||($=!0,N.prototype._propagateFrom=I.propagateFromFunction(),N.prototype._boundValue=I.boundValueFunction());var W=O(H),Y=new N(R);Y._propagateFrom(this,1);var te=this._target();if(Y._setBoundTo(W),W instanceof N){var Z={promiseRejectionQueued:!1,promise:Y,target:te,bindingPromise:W};te._then(R,j,void 0,Y,Z),W._then(B,z,void 0,Y,Z),Y._setOnCancel(W)}else Y._resolveCallback(te);return Y},N.prototype._setBoundTo=function(H){H!==void 0?(this._bitField=2097152|this._bitField,this._boundTo=H):this._bitField=-2097153&this._bitField},N.prototype._isBound=function(){return(2097152&this._bitField)==2097152},N.bind=function(H,W){return N.resolve(W).bind(H)}}},{}],3:[function(C,A,L){var N;typeof Promise<"u"&&(N=Promise);var R=C("./promise")();R.noConflict=function(){try{Promise===R&&(Promise=N)}catch{}return R},A.exports=R},{"./promise":15}],4:[function(C,A,L){A.exports=function(N,R,O,I){var $=C("./util"),F=$.tryCatch,j=$.errorObj,B=N._async;N.prototype.break=N.prototype.cancel=function(){if(!I.cancellation())return this._warn("cancellation is disabled");for(var z=this,H=z;z._isCancellable();){if(!z._cancelBy(H)){H._isFollowing()?H._followee().cancel():H._cancelBranched();break}var W=z._cancellationParent;if(W==null||!W._isCancellable()){z._isFollowing()?z._followee().cancel():z._cancelBranched();break}z._isFollowing()&&z._followee().cancel(),z._setWillBeCancelled(),H=z,z=W}},N.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},N.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===void 0||this._branchesRemainingToCancel<=0},N.prototype._cancelBy=function(z){return z===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},N.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},N.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),B.invoke(this._cancelPromises,this,void 0))},N.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},N.prototype._unsetOnCancel=function(){this._onCancelField=void 0},N.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},N.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},N.prototype._doInvokeOnCancel=function(z,H){if($.isArray(z))for(var W=0;W<z.length;++W)this._doInvokeOnCancel(z[W],H);else if(z!==void 0)if(typeof z=="function"){if(!H){var Y=F(z).call(this._boundValue());Y===j&&(this._attachExtraTrace(Y.e),B.throwLater(Y.e))}}else z._resultCancelled(this)},N.prototype._invokeOnCancel=function(){var z=this._onCancel();this._unsetOnCancel(),B.invoke(this._doInvokeOnCancel,this,z)},N.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},N.prototype._resultCancelled=function(){this.cancel()}}},{"./util":21}],5:[function(C,A,L){A.exports=function(N){var R=C("./util"),O=C("./es5").keys,I=R.tryCatch,$=R.errorObj;return function(F,j,B){return function(z){var H=B._boundValue();e:for(var W=0;W<F.length;++W){var Y=F[W];if(Y===Error||Y!=null&&Y.prototype instanceof Error){if(z instanceof Y)return I(j).call(H,z)}else if(typeof Y=="function"){var te=I(Y).call(H,z);if(te===$)return te;if(te)return I(j).call(H,z)}else if(R.isObject(z)){for(var Z=O(Y),le=0;le<Z.length;++le){var he=Z[le];if(Y[he]!=z[he])continue e}return I(j).call(H,z)}}return N}}}},{"./es5":10,"./util":21}],6:[function(C,A,L){A.exports=function(N){var R=!1,O=[];function I(){this._trace=new I.CapturedTrace($())}function $(){var F=O.length-1;if(F>=0)return O[F]}return N.prototype._promiseCreated=function(){},N.prototype._pushContext=function(){},N.prototype._popContext=function(){return null},N._peekContext=N.prototype._peekContext=function(){},I.prototype._pushContext=function(){this._trace!==void 0&&(this._trace._promiseCreated=null,O.push(this._trace))},I.prototype._popContext=function(){if(this._trace!==void 0){var F=O.pop(),j=F._promiseCreated;return F._promiseCreated=null,j}return null},I.CapturedTrace=null,I.create=function(){if(R)return new I},I.deactivateLongStackTraces=function(){},I.activateLongStackTraces=function(){var F=N.prototype._pushContext,j=N.prototype._popContext,B=N._peekContext,z=N.prototype._peekContext,H=N.prototype._promiseCreated;I.deactivateLongStackTraces=function(){N.prototype._pushContext=F,N.prototype._popContext=j,N._peekContext=B,N.prototype._peekContext=z,N.prototype._promiseCreated=H,R=!1},R=!0,N.prototype._pushContext=I.prototype._pushContext,N.prototype._popContext=I.prototype._popContext,N._peekContext=N.prototype._peekContext=$,N.prototype._promiseCreated=function(){var W=this._peekContext();W&&W._promiseCreated==null&&(W._promiseCreated=this)}},I}},{}],7:[function(C,A,L){A.exports=function(N,R,O,I){var $,F,j,B,z=N._async,H=C("./errors").Warning,W=C("./util"),Y=C("./es5"),te=W.canAttachTrace,Z=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,le=/\((?:timers\.js):\d+:\d+\)/,he=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,ke=null,xe=null,Ge=!1,fe=W.env("BLUEBIRD_DEBUG")!=0,ge=!(W.env("BLUEBIRD_WARNINGS")==0||!fe&&!W.env("BLUEBIRD_WARNINGS")),pe=!(W.env("BLUEBIRD_LONG_STACK_TRACES")==0||!fe&&!W.env("BLUEBIRD_LONG_STACK_TRACES")),Fe=W.env("BLUEBIRD_W_FORGOTTEN_RETURN")!=0&&(ge||!!W.env("BLUEBIRD_W_FORGOTTEN_RETURN"));(function(){var se=[];function ue(){for(var ye=0;ye<se.length;++ye)se[ye]._notifyUnhandledRejection();me()}function me(){se.length=0}B=function(ye){se.push(ye),setTimeout(ue,1)},Y.defineProperty(N,"_unhandledRejectionCheck",{value:ue}),Y.defineProperty(N,"_unhandledRejectionClear",{value:me})})(),N.prototype.suppressUnhandledRejections=function(){var se=this._target();se._bitField=-1048577&se._bitField|524288},N.prototype._ensurePossibleRejectionHandled=function(){(524288&this._bitField)==0&&(this._setRejectionIsUnhandled(),B(this))},N.prototype._notifyUnhandledRejectionIsHandled=function(){mr("rejectionHandled",$,void 0,this)},N.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},N.prototype._returnedNonUndefined=function(){return(268435456&this._bitField)!=0},N.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var se=this._settledValue();this._setUnhandledRejectionIsNotified(),mr("unhandledRejection",F,se,this)}},N.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},N.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},N.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},N.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},N.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},N.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},N.prototype._warn=function(se,ue,me){return it(se,ue,me||this)},N.onPossiblyUnhandledRejection=function(se){var ue=N._getContext();F=W.contextBind(ue,se)},N.onUnhandledRejectionHandled=function(se){var ue=N._getContext();$=W.contextBind(ue,se)};var Oe=function(){};N.longStackTraces=function(){if(z.haveItemsQueued()&&!Ct.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);if(!Ct.longStackTraces&&zr()){var se=N.prototype._captureStackTrace,ue=N.prototype._attachExtraTrace,me=N.prototype._dereferenceTrace;Ct.longStackTraces=!0,Oe=function(){if(z.haveItemsQueued()&&!Ct.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);N.prototype._captureStackTrace=se,N.prototype._attachExtraTrace=ue,N.prototype._dereferenceTrace=me,R.deactivateLongStackTraces(),Ct.longStackTraces=!1},N.prototype._captureStackTrace=oe,N.prototype._attachExtraTrace=Le,N.prototype._dereferenceTrace=at,R.activateLongStackTraces()}},N.hasLongStackTraces=function(){return Ct.longStackTraces&&zr()};var rt={unhandledrejection:{before:function(){var se=W.global.onunhandledrejection;return W.global.onunhandledrejection=null,se},after:function(se){W.global.onunhandledrejection=se}},rejectionhandled:{before:function(){var se=W.global.onrejectionhandled;return W.global.onrejectionhandled=null,se},after:function(se){W.global.onrejectionhandled=se}}},xt=function(){var se=function(me,ye){if(!me)return!W.global.dispatchEvent(ye);var Re;try{return Re=me.before(),!W.global.dispatchEvent(ye)}finally{me.after(Re)}};try{if(typeof CustomEvent=="function"){var ue=new CustomEvent("CustomEvent");return W.global.dispatchEvent(ue),function(me,ye){me=me.toLowerCase();var Re=new CustomEvent(me,{detail:ye,cancelable:!0});return Y.defineProperty(Re,"promise",{value:ye.promise}),Y.defineProperty(Re,"reason",{value:ye.reason}),se(rt[me],Re)}}return typeof Event=="function"?(ue=new Event("CustomEvent"),W.global.dispatchEvent(ue),function(me,ye){me=me.toLowerCase();var Re=new Event(me,{cancelable:!0});return Re.detail=ye,Y.defineProperty(Re,"promise",{value:ye.promise}),Y.defineProperty(Re,"reason",{value:ye.reason}),se(rt[me],Re)}):((ue=document.createEvent("CustomEvent")).initCustomEvent("testingtheevent",!1,!0,{}),W.global.dispatchEvent(ue),function(me,ye){me=me.toLowerCase();var Re=document.createEvent("CustomEvent");return Re.initCustomEvent(me,!1,!0,ye),se(rt[me],Re)})}catch{}return function(){return!1}}(),Ht=W.isNode?function(){return a.emit.apply(a,arguments)}:W.global?function(se){var ue="on"+se.toLowerCase(),me=W.global[ue];return!!me&&(me.apply(W.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function dt(se,ue){return{promise:ue}}var wt={promiseCreated:dt,promiseFulfilled:dt,promiseRejected:dt,promiseResolved:dt,promiseCancelled:dt,promiseChained:function(se,ue,me){return{promise:ue,child:me}},warning:function(se,ue){return{warning:ue}},unhandledRejection:function(se,ue,me){return{reason:ue,promise:me}},rejectionHandled:dt},ce=function(se){var ue=!1;try{ue=Ht.apply(null,arguments)}catch(ye){z.throwLater(ye),ue=!0}var me=!1;try{me=xt(se,wt[se].apply(null,arguments))}catch(ye){z.throwLater(ye),me=!0}return me||ue};function Jt(){return!1}function Mn(se,ue,me){var ye=this;try{se(ue,me,function(Re){if(typeof Re!="function")throw new TypeError("onCancel must be a function, got: "+W.toString(Re));ye._attachCancellationCallback(Re)})}catch(Re){return Re}}function gt(se){if(!this._isCancellable())return this;var ue=this._onCancel();ue!==void 0?W.isArray(ue)?ue.push(se):this._setOnCancel([ue,se]):this._setOnCancel(se)}function ee(){return this._onCancelField}function de(se){this._onCancelField=se}function Ee(){this._cancellationParent=void 0,this._onCancelField=void 0}function Ne(se,ue){if((1&ue)!=0){this._cancellationParent=se;var me=se._branchesRemainingToCancel;me===void 0&&(me=0),se._branchesRemainingToCancel=me+1}(2&ue)!=0&&se._isBound()&&this._setBoundTo(se._boundTo)}N.config=function(se){if("longStackTraces"in(se=Object(se))&&(se.longStackTraces?N.longStackTraces():!se.longStackTraces&&N.hasLongStackTraces()&&Oe()),"warnings"in se){var ue=se.warnings;Ct.warnings=!!ue,Fe=Ct.warnings,W.isObject(ue)&&"wForgottenReturn"in ue&&(Fe=!!ue.wForgottenReturn)}if("cancellation"in se&&se.cancellation&&!Ct.cancellation){if(z.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");N.prototype._clearCancellationData=Ee,N.prototype._propagateFrom=Ne,N.prototype._onCancel=ee,N.prototype._setOnCancel=de,N.prototype._attachCancellationCallback=gt,N.prototype._execute=Mn,qe=Ne,Ct.cancellation=!0}if("monitoring"in se&&(se.monitoring&&!Ct.monitoring?(Ct.monitoring=!0,N.prototype._fireEvent=ce):!se.monitoring&&Ct.monitoring&&(Ct.monitoring=!1,N.prototype._fireEvent=Jt)),"asyncHooks"in se&&W.nodeSupportsAsyncResource){var me=Ct.asyncHooks,ye=!!se.asyncHooks;me!==ye&&(Ct.asyncHooks=ye,ye?O():I())}return N},N.prototype._fireEvent=Jt,N.prototype._execute=function(se,ue,me){try{se(ue,me)}catch(ye){return ye}},N.prototype._onCancel=function(){},N.prototype._setOnCancel=function(se){},N.prototype._attachCancellationCallback=function(se){},N.prototype._captureStackTrace=function(){},N.prototype._attachExtraTrace=function(){},N.prototype._dereferenceTrace=function(){},N.prototype._clearCancellationData=function(){},N.prototype._propagateFrom=function(se,ue){};var qe=function(se,ue){(2&ue)!=0&&se._isBound()&&this._setBoundTo(se._boundTo)};function Be(){var se=this._boundTo;return se!==void 0&&se instanceof N?se.isFulfilled()?se.value():void 0:se}function oe(){this._trace=new ei(this._peekContext())}function Le(se,ue){if(te(se)){var me=this._trace;if(me!==void 0&&ue&&(me=me._parent),me!==void 0)me.attachExtraTrace(se);else if(!se.__stackCleaned__){var ye=bt(se);W.notEnumerableProp(se,"stack",ye.message+`
`+ye.stack.join(`
`)),W.notEnumerableProp(se,"__stackCleaned__",!0)}}}function at(){this._trace=void 0}function it(se,ue,me){if(Ct.warnings){var ye,Re=new H(se);if(ue)me._attachExtraTrace(Re);else if(Ct.longStackTraces&&(ye=N._peekContext()))ye.attachExtraTrace(Re);else{var We=bt(Re);Re.stack=We.message+`
`+We.stack.join(`
`)}ce("warning",Re)||kn(Re,"",!0)}}function Ye(se){for(var ue=[],me=0;me<se.length;++me){var ye=se[me],Re=ye==="    (No stack trace)"||ke.test(ye),We=Re&&Zr(ye);Re&&!We&&(Ge&&ye.charAt(0)!==" "&&(ye="    "+ye),ue.push(ye))}return ue}function bt(se){var ue=se.stack,me=se.toString();return ue=typeof ue=="string"&&ue.length>0?function(ye){for(var Re=ye.stack.replace(/\s+$/g,"").split(`
`),We=0;We<Re.length;++We){var Ue=Re[We];if(Ue==="    (No stack trace)"||ke.test(Ue))break}return We>0&&ye.name!="SyntaxError"&&(Re=Re.slice(We)),Re}(se):["    (No stack trace)"],{message:me,stack:se.name=="SyntaxError"?ue:Ye(ue)}}function kn(se,ue,me){if(typeof console<"u"){var ye;if(W.isObject(se)){var Re=se.stack;ye=ue+xe(Re,se)}else ye=ue+String(se);typeof j=="function"?j(ye,me):typeof console.log!="function"&&T(console.log)!=="object"||console.log(ye)}}function mr(se,ue,me,ye){var Re=!1;try{typeof ue=="function"&&(Re=!0,se==="rejectionHandled"?ue(ye):ue(me,ye))}catch(We){z.throwLater(We)}se==="unhandledRejection"?ce(se,me,ye)||Re||kn(me,"Unhandled rejection "):ce(se,ye)}function Di(se){var ue;if(typeof se=="function")ue="[function "+(se.name||"anonymous")+"]";else{if(ue=se&&typeof se.toString=="function"?se.toString():W.toString(se),/\[object [a-zA-Z0-9$_]+\]/.test(ue))try{ue=JSON.stringify(se)}catch{}ue.length===0&&(ue="(empty array)")}return"(<"+function(me){return me.length<41?me:me.substr(0,38)+"..."}(ue)+">, no stack trace)"}function zr(){return typeof yo=="function"}var Zr=function(){return!1},Uc=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function vo(se){var ue=se.match(Uc);if(ue)return{fileName:ue[1],line:parseInt(ue[2],10)}}function ei(se){this._parent=se,this._promisesCreated=0;var ue=this._length=1+(se===void 0?0:se._length);yo(this,ei),ue>32&&this.uncycle()}W.inherits(ei,Error),R.CapturedTrace=ei,ei.prototype.uncycle=function(){var se=this._length;if(!(se<2)){for(var ue=[],me={},ye=0,Re=this;Re!==void 0;++ye)ue.push(Re),Re=Re._parent;for(ye=(se=this._length=ye)-1;ye>=0;--ye){var We=ue[ye].stack;me[We]===void 0&&(me[We]=ye)}for(ye=0;ye<se;++ye){var Ue=me[ue[ye].stack];if(Ue!==void 0&&Ue!==ye){Ue>0&&(ue[Ue-1]._parent=void 0,ue[Ue-1]._length=1),ue[ye]._parent=void 0,ue[ye]._length=1;var _t=ye>0?ue[ye-1]:this;Ue<se-1?(_t._parent=ue[Ue+1],_t._parent.uncycle(),_t._length=_t._parent._length+1):(_t._parent=void 0,_t._length=1);for(var Ft=_t._length+1,Et=ye-2;Et>=0;--Et)ue[Et]._length=Ft,Ft++;return}}}},ei.prototype.attachExtraTrace=function(se){if(!se.__stackCleaned__){this.uncycle();for(var ue=bt(se),me=ue.message,ye=[ue.stack],Re=this;Re!==void 0;)ye.push(Ye(Re.stack.split(`
`))),Re=Re._parent;(function(We){for(var Ue=We[0],_t=1;_t<We.length;++_t){for(var Ft=We[_t],Et=Ue.length-1,ti=Ue[Et],Yn=-1,ar=Ft.length-1;ar>=0;--ar)if(Ft[ar]===ti){Yn=ar;break}for(ar=Yn;ar>=0;--ar){var bo=Ft[ar];if(Ue[Et]!==bo)break;Ue.pop(),Et--}Ue=Ft}})(ye),function(We){for(var Ue=0;Ue<We.length;++Ue)(We[Ue].length===0||Ue+1<We.length&&We[Ue][0]===We[Ue+1][0])&&(We.splice(Ue,1),Ue--)}(ye),W.notEnumerableProp(se,"stack",function(We,Ue){for(var _t=0;_t<Ue.length-1;++_t)Ue[_t].push("From previous event:"),Ue[_t]=Ue[_t].join(`
`);return _t<Ue.length&&(Ue[_t]=Ue[_t].join(`
`)),We+`
`+Ue.join(`
`)}(me,ye)),W.notEnumerableProp(se,"__stackCleaned__",!0)}};var yo=function(){var se=/^\s*at\s*/,ue=function(We,Ue){return typeof We=="string"?We:Ue.name!==void 0&&Ue.message!==void 0?Ue.toString():Di(Ue)};if(typeof Error.stackTraceLimit=="number"&&typeof Error.captureStackTrace=="function"){Error.stackTraceLimit+=6,ke=se,xe=ue;var me=Error.captureStackTrace;return Zr=function(We){return Z.test(We)},function(We,Ue){Error.stackTraceLimit+=6,me(We,Ue),Error.stackTraceLimit-=6}}var ye,Re=new Error;if(typeof Re.stack=="string"&&Re.stack.split(`
`)[0].indexOf("stackDetection@")>=0)return ke=/@/,xe=ue,Ge=!0,function(We){We.stack=new Error().stack};try{throw new Error}catch(We){ye="stack"in We}return"stack"in Re||!ye||typeof Error.stackTraceLimit!="number"?(xe=function(We,Ue){return typeof We=="string"?We:T(Ue)!=="object"&&typeof Ue!="function"||Ue.name===void 0||Ue.message===void 0?Di(Ue):Ue.toString()},null):(ke=se,xe=ue,function(We){Error.stackTraceLimit+=6;try{throw new Error}catch(Ue){We.stack=Ue.stack}Error.stackTraceLimit-=6})}();typeof console<"u"&&console.warn!==void 0&&(j=function(se){console.warn(se)},W.isNode&&a.stderr.isTTY?j=function(se,ue){var me=ue?"\x1B[33m":"\x1B[31m";console.warn(me+se+`\x1B[0m
`)}:W.isNode||typeof new Error().stack!="string"||(j=function(se,ue){console.warn("%c"+se,ue?"color: darkorange":"color: red")}));var Ct={warnings:ge,longStackTraces:!1,cancellation:!1,monitoring:!1,asyncHooks:!1};return pe&&N.longStackTraces(),{asyncHooks:function(){return Ct.asyncHooks},longStackTraces:function(){return Ct.longStackTraces},warnings:function(){return Ct.warnings},cancellation:function(){return Ct.cancellation},monitoring:function(){return Ct.monitoring},propagateFromFunction:function(){return qe},boundValueFunction:function(){return Be},checkForgottenReturns:function(se,ue,me,ye,Re){if(se===void 0&&ue!==null&&Fe){if(Re!==void 0&&Re._returnedNonUndefined()||(65535&ye._bitField)==0)return;me&&(me+=" ");var We="",Ue="";if(ue._trace){for(var _t=ue._trace.stack.split(`
`),Ft=Ye(_t),Et=Ft.length-1;Et>=0;--Et){var ti=Ft[Et];if(!le.test(ti)){var Yn=ti.match(he);Yn&&(We="at "+Yn[1]+":"+Yn[2]+":"+Yn[3]+" ");break}}if(Ft.length>0){var ar=Ft[0];for(Et=0;Et<_t.length;++Et)if(_t[Et]===ar){Et>0&&(Ue=`
`+_t[Et-1]);break}}}var bo="a promise was created in a "+me+"handler "+We+"but was not returned from it, see http://goo.gl/rRqMUw"+Ue;ye._warn(bo,!0,ue)}},setBounds:function(se,ue){if(zr()){for(var me,ye,Re=(se.stack||"").split(`
`),We=(ue.stack||"").split(`
`),Ue=-1,_t=-1,Ft=0;Ft<Re.length;++Ft)if(Et=vo(Re[Ft])){me=Et.fileName,Ue=Et.line;break}for(Ft=0;Ft<We.length;++Ft){var Et;if(Et=vo(We[Ft])){ye=Et.fileName,_t=Et.line;break}}Ue<0||_t<0||!me||!ye||me!==ye||Ue>=_t||(Zr=function(ti){if(Z.test(ti))return!0;var Yn=vo(ti);return!!(Yn&&Yn.fileName===me&&Ue<=Yn.line&&Yn.line<=_t)})}},warn:it,deprecated:function(se,ue){var me=se+" is deprecated and will be removed in a future version.";return ue&&(me+=" Use "+ue+" instead."),it(me)},CapturedTrace:ei,fireDomEvent:xt,fireGlobalEvent:Ht}}},{"./errors":9,"./es5":10,"./util":21}],8:[function(C,A,L){A.exports=function(N){function R(){return this.value}function O(){throw this.reason}N.prototype.return=N.prototype.thenReturn=function(I){return I instanceof N&&I.suppressUnhandledRejections(),this._then(R,void 0,void 0,{value:I},void 0)},N.prototype.throw=N.prototype.thenThrow=function(I){return this._then(O,void 0,void 0,{reason:I},void 0)},N.prototype.catchThrow=function(I){if(arguments.length<=1)return this._then(void 0,O,void 0,{reason:I},void 0);var $=arguments[1];return this.caught(I,function(){throw $})},N.prototype.catchReturn=function(I){if(arguments.length<=1)return I instanceof N&&I.suppressUnhandledRejections(),this._then(void 0,R,void 0,{value:I},void 0);var $=arguments[1];return $ instanceof N&&$.suppressUnhandledRejections(),this.caught(I,function(){return $})}}},{}],9:[function(C,A,L){var N,R,O=C("./es5"),I=O.freeze,$=C("./util"),F=$.inherits,j=$.notEnumerableProp;function B(xe,Ge){function fe(ge){if(!(this instanceof fe))return new fe(ge);j(this,"message",typeof ge=="string"?ge:Ge),j(this,"name",xe),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return F(fe,Error),fe}var z=B("Warning","warning"),H=B("CancellationError","cancellation error"),W=B("TimeoutError","timeout error"),Y=B("AggregateError","aggregate error");try{N=TypeError,R=RangeError}catch{N=B("TypeError","type error"),R=B("RangeError","range error")}for(var te="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),Z=0;Z<te.length;++Z)typeof Array.prototype[te[Z]]=="function"&&(Y.prototype[te[Z]]=Array.prototype[te[Z]]);O.defineProperty(Y.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),Y.prototype.isOperational=!0;var le=0;function he(xe){if(!(this instanceof he))return new he(xe);j(this,"name","OperationalError"),j(this,"message",xe),this.cause=xe,this.isOperational=!0,xe instanceof Error?(j(this,"message",xe.message),j(this,"stack",xe.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}Y.prototype.toString=function(){var xe=Array(4*le+1).join(" "),Ge=`
`+xe+`AggregateError of:
`;le++,xe=Array(4*le+1).join(" ");for(var fe=0;fe<this.length;++fe){for(var ge=this[fe]===this?"[Circular AggregateError]":this[fe]+"",pe=ge.split(`
`),Fe=0;Fe<pe.length;++Fe)pe[Fe]=xe+pe[Fe];Ge+=(ge=pe.join(`
`))+`
`}return le--,Ge},F(he,Error);var ke=Error.__BluebirdErrorTypes__;ke||(ke=I({CancellationError:H,TimeoutError:W,OperationalError:he,RejectionError:he,AggregateError:Y}),O.defineProperty(Error,"__BluebirdErrorTypes__",{value:ke,writable:!1,enumerable:!1,configurable:!1})),A.exports={Error,TypeError:N,RangeError:R,CancellationError:ke.CancellationError,OperationalError:ke.OperationalError,TimeoutError:ke.TimeoutError,AggregateError:ke.AggregateError,Warning:z}},{"./es5":10,"./util":21}],10:[function(C,A,L){var N=function(){return this===void 0}();if(N)A.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:N,propertyIsWritable:function(F,j){var B=Object.getOwnPropertyDescriptor(F,j);return!(B&&!B.writable&&!B.set)}};else{var R={}.hasOwnProperty,O={}.toString,I={}.constructor.prototype,$=function(F){var j=[];for(var B in F)R.call(F,B)&&j.push(B);return j};A.exports={isArray:function(F){try{return O.call(F)==="[object Array]"}catch{return!1}},keys:$,names:$,defineProperty:function(F,j,B){return F[j]=B.value,F},getDescriptor:function(F,j){return{value:F[j]}},freeze:function(F){return F},getPrototypeOf:function(F){try{return Object(F).constructor.prototype}catch{return I}},isES5:N,propertyIsWritable:function(){return!0}}}},{}],11:[function(C,A,L){A.exports=function(N,R,O){var I=C("./util"),$=N.CancellationError,F=I.errorObj,j=C("./catch_filter")(O);function B(Z,le,he){this.promise=Z,this.type=le,this.handler=he,this.called=!1,this.cancelPromise=null}function z(Z){this.finallyHandler=Z}function H(Z,le){return Z.cancelPromise!=null&&(arguments.length>1?Z.cancelPromise._reject(le):Z.cancelPromise._cancel(),Z.cancelPromise=null,!0)}function W(){return te.call(this,this.promise._target()._settledValue())}function Y(Z){if(!H(this,Z))return F.e=Z,F}function te(Z){var le=this.promise,he=this.handler;if(!this.called){this.called=!0;var ke=this.isFinallyHandler()?he.call(le._boundValue()):he.call(le._boundValue(),Z);if(ke===O)return ke;if(ke!==void 0){le._setReturnedNonUndefined();var xe=R(ke,le);if(xe instanceof N){if(this.cancelPromise!=null){if(xe._isCancelled()){var Ge=new $("late cancellation observer");return le._attachExtraTrace(Ge),F.e=Ge,F}xe.isPending()&&xe._attachCancellationCallback(new z(this))}return xe._then(W,Y,void 0,this,void 0)}}}return le.isRejected()?(H(this),F.e=Z,F):(H(this),Z)}return B.prototype.isFinallyHandler=function(){return this.type===0},z.prototype._resultCancelled=function(){H(this.finallyHandler)},N.prototype._passThrough=function(Z,le,he,ke){return typeof Z!="function"?this.then():this._then(he,ke,void 0,new B(this,le,Z),void 0)},N.prototype.lastly=N.prototype.finally=function(Z){return this._passThrough(Z,0,te,te)},N.prototype.tap=function(Z){return this._passThrough(Z,1,te)},N.prototype.tapCatch=function(Z){var le=arguments.length;if(le===1)return this._passThrough(Z,1,void 0,te);var he,ke=new Array(le-1),xe=0;for(he=0;he<le-1;++he){var Ge=arguments[he];if(!I.isObject(Ge))return N.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+I.classString(Ge)));ke[xe++]=Ge}ke.length=xe;var fe=arguments[he];return this._passThrough(j(ke,fe,this),1,void 0,te)},B}},{"./catch_filter":5,"./util":21}],12:[function(C,A,L){A.exports=function(N,R,O,I,$){var F=C("./util");F.canEvaluate,F.tryCatch,F.errorObj,N.join=function(){var j,B=arguments.length-1;B>0&&typeof arguments[B]=="function"&&(j=arguments[B]);var z=[].slice.call(arguments);j&&z.pop();var H=new R(z).promise();return j!==void 0?H.spread(j):H}}},{"./util":21}],13:[function(C,A,L){A.exports=function(N,R,O,I,$){var F=C("./util"),j=F.tryCatch;N.method=function(B){if(typeof B!="function")throw new N.TypeError("expecting a function but got "+F.classString(B));return function(){var z=new N(R);z._captureStackTrace(),z._pushContext();var H=j(B).apply(this,arguments),W=z._popContext();return $.checkForgottenReturns(H,W,"Promise.method",z),z._resolveFromSyncValue(H),z}},N.attempt=N.try=function(B){if(typeof B!="function")return I("expecting a function but got "+F.classString(B));var z,H=new N(R);if(H._captureStackTrace(),H._pushContext(),arguments.length>1){$.deprecated("calling Promise.try with more than 1 argument");var W=arguments[1],Y=arguments[2];z=F.isArray(W)?j(B).apply(Y,W):j(B).call(Y,W)}else z=j(B)();var te=H._popContext();return $.checkForgottenReturns(z,te,"Promise.try",H),H._resolveFromSyncValue(z),H},N.prototype._resolveFromSyncValue=function(B){B===F.errorObj?this._rejectCallback(B.e,!1):this._resolveCallback(B,!0)}}},{"./util":21}],14:[function(C,A,L){var N=C("./util"),R=N.maybeWrapAsError,O=C("./errors").OperationalError,I=C("./es5"),$=/^(?:name|message|stack|cause)$/;function F(j){var B;if(function(Y){return Y instanceof Error&&I.getPrototypeOf(Y)===Error.prototype}(j)){(B=new O(j)).name=j.name,B.message=j.message,B.stack=j.stack;for(var z=I.keys(j),H=0;H<z.length;++H){var W=z[H];$.test(W)||(B[W]=j[W])}return B}return N.markAsOriginatingFromRejection(j),j}A.exports=function(j,B){return function(z,H){if(j!==null){if(z){var W=F(R(z));j._attachExtraTrace(W),j._reject(W)}else if(B){var Y=[].slice.call(arguments,1);j._fulfill(Y)}else j._fulfill(H);j=null}}}},{"./errors":9,"./es5":10,"./util":21}],15:[function(C,A,L){A.exports=function(){var N=function(){return new he(`circular promise resolution chain

    See http://goo.gl/MqrFmX
`)},R=function(){return new ce.PromiseInspection(this._target())},O=function(ee){return ce.reject(new he(ee))};function I(){}var $={},F=C("./util");F.setReflectHandler(R);var j=function(){var ee=a.domain;return ee===void 0?null:ee},B=function(){return{domain:j(),async:null}},z=F.isNode&&F.nodeSupportsAsyncResource?C("async_hooks").AsyncResource:null,H=function(){return{domain:j(),async:new z("Bluebird::Promise")}},W=F.isNode?B:function(){return null};F.notEnumerableProp(ce,"_getContext",W);var Y=C("./es5"),te=C("./async"),Z=new te;Y.defineProperty(ce,"_async",{value:Z});var le=C("./errors"),he=ce.TypeError=le.TypeError;ce.RangeError=le.RangeError;var ke=ce.CancellationError=le.CancellationError;ce.TimeoutError=le.TimeoutError,ce.OperationalError=le.OperationalError,ce.RejectionError=le.OperationalError,ce.AggregateError=le.AggregateError;var xe=function(){},Ge={},fe={},ge=C("./thenables")(ce,xe),pe=C("./promise_array")(ce,xe,ge,O,I),Fe=C("./context")(ce),Oe=(Fe.create,C("./debuggability")(ce,Fe,function(){W=H,F.notEnumerableProp(ce,"_getContext",H)},function(){W=B,F.notEnumerableProp(ce,"_getContext",B)})),rt=(Oe.CapturedTrace,C("./finally")(ce,ge,fe)),xt=C("./catch_filter")(fe),Ht=C("./nodeback"),dt=F.errorObj,wt=F.tryCatch;function ce(ee){ee!==xe&&function(de,Ee){if(de==null||de.constructor!==ce)throw new he(`the promise constructor cannot be invoked directly

    See http://goo.gl/MqrFmX
`);if(typeof Ee!="function")throw new he("expecting a function but got "+F.classString(Ee))}(this,ee),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(ee),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function Jt(ee){this.promise._resolveCallback(ee)}function Mn(ee){this.promise._rejectCallback(ee,!1)}function gt(ee){var de=new ce(xe);de._fulfillmentHandler0=ee,de._rejectionHandler0=ee,de._promise0=ee,de._receiver0=ee}return ce.prototype.toString=function(){return"[object Promise]"},ce.prototype.caught=ce.prototype.catch=function(ee){var de=arguments.length;if(de>1){var Ee,Ne=new Array(de-1),qe=0;for(Ee=0;Ee<de-1;++Ee){var Be=arguments[Ee];if(!F.isObject(Be))return O("Catch statement predicate: expecting an object but got "+F.classString(Be));Ne[qe++]=Be}if(Ne.length=qe,typeof(ee=arguments[Ee])!="function")throw new he("The last argument to .catch() must be a function, got "+F.toString(ee));return this.then(void 0,xt(Ne,ee,this))}return this.then(void 0,ee)},ce.prototype.reflect=function(){return this._then(R,R,void 0,this,void 0)},ce.prototype.then=function(ee,de){if(Oe.warnings()&&arguments.length>0&&typeof ee!="function"&&typeof de!="function"){var Ee=".then() only accepts functions but was passed: "+F.classString(ee);arguments.length>1&&(Ee+=", "+F.classString(de)),this._warn(Ee)}return this._then(ee,de,void 0,void 0,void 0)},ce.prototype.done=function(ee,de){this._then(ee,de,void 0,void 0,void 0)._setIsFinal()},ce.prototype.spread=function(ee){return typeof ee!="function"?O("expecting a function but got "+F.classString(ee)):this.all()._then(ee,void 0,void 0,Ge,void 0)},ce.prototype.toJSON=function(){var ee={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(ee.fulfillmentValue=this.value(),ee.isFulfilled=!0):this.isRejected()&&(ee.rejectionReason=this.reason(),ee.isRejected=!0),ee},ce.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new pe(this).promise()},ce.prototype.error=function(ee){return this.caught(F.originatesFromRejection,ee)},ce.getNewLibraryCopy=A.exports,ce.is=function(ee){return ee instanceof ce},ce.fromNode=ce.fromCallback=function(ee){var de=new ce(xe);de._captureStackTrace();var Ee=arguments.length>1&&!!Object(arguments[1]).multiArgs,Ne=wt(ee)(Ht(de,Ee));return Ne===dt&&de._rejectCallback(Ne.e,!0),de._isFateSealed()||de._setAsyncGuaranteed(),de},ce.all=function(ee){return new pe(ee).promise()},ce.cast=function(ee){var de=ge(ee);return de instanceof ce||((de=new ce(xe))._captureStackTrace(),de._setFulfilled(),de._rejectionHandler0=ee),de},ce.resolve=ce.fulfilled=ce.cast,ce.reject=ce.rejected=function(ee){var de=new ce(xe);return de._captureStackTrace(),de._rejectCallback(ee,!0),de},ce.setScheduler=function(ee){if(typeof ee!="function")throw new he("expecting a function but got "+F.classString(ee));return Z.setScheduler(ee)},ce.prototype._then=function(ee,de,Ee,Ne,qe){var Be=qe!==void 0,oe=Be?qe:new ce(xe),Le=this._target(),at=Le._bitField;Be||(oe._propagateFrom(this,3),oe._captureStackTrace(),Ne===void 0&&(2097152&this._bitField)!=0&&(Ne=(50397184&at)!=0?this._boundValue():Le===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,oe));var it=W();if((50397184&at)!=0){var Ye,bt,kn=Le._settlePromiseCtx;(33554432&at)!=0?(bt=Le._rejectionHandler0,Ye=ee):(16777216&at)!=0?(bt=Le._fulfillmentHandler0,Ye=de,Le._unsetRejectionIsUnhandled()):(kn=Le._settlePromiseLateCancellationObserver,bt=new ke("late cancellation observer"),Le._attachExtraTrace(bt),Ye=de),Z.invoke(kn,Le,{handler:F.contextBind(it,Ye),promise:oe,receiver:Ne,value:bt})}else Le._addCallbacks(ee,de,oe,Ne,it);return oe},ce.prototype._length=function(){return 65535&this._bitField},ce.prototype._isFateSealed=function(){return(117506048&this._bitField)!=0},ce.prototype._isFollowing=function(){return(67108864&this._bitField)==67108864},ce.prototype._setLength=function(ee){this._bitField=-65536&this._bitField|65535&ee},ce.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},ce.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},ce.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},ce.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},ce.prototype._isFinal=function(){return(4194304&this._bitField)>0},ce.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},ce.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},ce.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},ce.prototype._setAsyncGuaranteed=function(){if(!Z.hasCustomScheduler()){var ee=this._bitField;this._bitField=ee|(536870912&ee)>>2^134217728}},ce.prototype._setNoAsyncGuarantee=function(){this._bitField=-134217729&(536870912|this._bitField)},ce.prototype._receiverAt=function(ee){var de=ee===0?this._receiver0:this[4*ee-4+3];if(de!==$)return de===void 0&&this._isBound()?this._boundValue():de},ce.prototype._promiseAt=function(ee){return this[4*ee-4+2]},ce.prototype._fulfillmentHandlerAt=function(ee){return this[4*ee-4+0]},ce.prototype._rejectionHandlerAt=function(ee){return this[4*ee-4+1]},ce.prototype._boundValue=function(){},ce.prototype._migrateCallback0=function(ee){ee._bitField;var de=ee._fulfillmentHandler0,Ee=ee._rejectionHandler0,Ne=ee._promise0,qe=ee._receiverAt(0);qe===void 0&&(qe=$),this._addCallbacks(de,Ee,Ne,qe,null)},ce.prototype._migrateCallbackAt=function(ee,de){var Ee=ee._fulfillmentHandlerAt(de),Ne=ee._rejectionHandlerAt(de),qe=ee._promiseAt(de),Be=ee._receiverAt(de);Be===void 0&&(Be=$),this._addCallbacks(Ee,Ne,qe,Be,null)},ce.prototype._addCallbacks=function(ee,de,Ee,Ne,qe){var Be=this._length();if(Be>=65531&&(Be=0,this._setLength(0)),Be===0)this._promise0=Ee,this._receiver0=Ne,typeof ee=="function"&&(this._fulfillmentHandler0=F.contextBind(qe,ee)),typeof de=="function"&&(this._rejectionHandler0=F.contextBind(qe,de));else{var oe=4*Be-4;this[oe+2]=Ee,this[oe+3]=Ne,typeof ee=="function"&&(this[oe+0]=F.contextBind(qe,ee)),typeof de=="function"&&(this[oe+1]=F.contextBind(qe,de))}return this._setLength(Be+1),Be},ce.prototype._proxy=function(ee,de){this._addCallbacks(void 0,void 0,de,ee,null)},ce.prototype._resolveCallback=function(ee,de){if((117506048&this._bitField)==0){if(ee===this)return this._rejectCallback(N(),!1);var Ee=ge(ee,this);if(!(Ee instanceof ce))return this._fulfill(ee);de&&this._propagateFrom(Ee,2);var Ne=Ee._target();if(Ne!==this){var qe=Ne._bitField;if((50397184&qe)==0){var Be=this._length();Be>0&&Ne._migrateCallback0(this);for(var oe=1;oe<Be;++oe)Ne._migrateCallbackAt(this,oe);this._setFollowing(),this._setLength(0),this._setFollowee(Ee)}else if((33554432&qe)!=0)this._fulfill(Ne._value());else if((16777216&qe)!=0)this._reject(Ne._reason());else{var Le=new ke("late cancellation observer");Ne._attachExtraTrace(Le),this._reject(Le)}}else this._reject(N())}},ce.prototype._rejectCallback=function(ee,de,Ee){var Ne=F.ensureErrorObject(ee),qe=Ne===ee;if(!qe&&!Ee&&Oe.warnings()){var Be="a promise was rejected with a non-error: "+F.classString(ee);this._warn(Be,!0)}this._attachExtraTrace(Ne,!!de&&qe),this._reject(ee)},ce.prototype._resolveFromExecutor=function(ee){if(ee!==xe){var de=this;this._captureStackTrace(),this._pushContext();var Ee=!0,Ne=this._execute(ee,function(qe){de._resolveCallback(qe)},function(qe){de._rejectCallback(qe,Ee)});Ee=!1,this._popContext(),Ne!==void 0&&de._rejectCallback(Ne,!0)}},ce.prototype._settlePromiseFromHandler=function(ee,de,Ee,Ne){var qe=Ne._bitField;if((65536&qe)==0){var Be;Ne._pushContext(),de===Ge?Ee&&typeof Ee.length=="number"?Be=wt(ee).apply(this._boundValue(),Ee):(Be=dt).e=new he("cannot .spread() a non-array: "+F.classString(Ee)):Be=wt(ee).call(de,Ee);var oe=Ne._popContext();(65536&(qe=Ne._bitField))==0&&(Be===fe?Ne._reject(Ee):Be===dt?Ne._rejectCallback(Be.e,!1):(Oe.checkForgottenReturns(Be,oe,"",Ne,this),Ne._resolveCallback(Be)))}},ce.prototype._target=function(){for(var ee=this;ee._isFollowing();)ee=ee._followee();return ee},ce.prototype._followee=function(){return this._rejectionHandler0},ce.prototype._setFollowee=function(ee){this._rejectionHandler0=ee},ce.prototype._settlePromise=function(ee,de,Ee,Ne){var qe=ee instanceof ce,Be=this._bitField,oe=(134217728&Be)!=0;(65536&Be)!=0?(qe&&ee._invokeInternalOnCancel(),Ee instanceof rt&&Ee.isFinallyHandler()?(Ee.cancelPromise=ee,wt(de).call(Ee,Ne)===dt&&ee._reject(dt.e)):de===R?ee._fulfill(R.call(Ee)):Ee instanceof I?Ee._promiseCancelled(ee):qe||ee instanceof pe?ee._cancel():Ee.cancel()):typeof de=="function"?qe?(oe&&ee._setAsyncGuaranteed(),this._settlePromiseFromHandler(de,Ee,Ne,ee)):de.call(Ee,Ne,ee):Ee instanceof I?Ee._isResolved()||((33554432&Be)!=0?Ee._promiseFulfilled(Ne,ee):Ee._promiseRejected(Ne,ee)):qe&&(oe&&ee._setAsyncGuaranteed(),(33554432&Be)!=0?ee._fulfill(Ne):ee._reject(Ne))},ce.prototype._settlePromiseLateCancellationObserver=function(ee){var de=ee.handler,Ee=ee.promise,Ne=ee.receiver,qe=ee.value;typeof de=="function"?Ee instanceof ce?this._settlePromiseFromHandler(de,Ne,qe,Ee):de.call(Ne,qe,Ee):Ee instanceof ce&&Ee._reject(qe)},ce.prototype._settlePromiseCtx=function(ee){this._settlePromise(ee.promise,ee.handler,ee.receiver,ee.value)},ce.prototype._settlePromise0=function(ee,de,Ee){var Ne=this._promise0,qe=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(Ne,ee,qe,de)},ce.prototype._clearCallbackDataAtIndex=function(ee){var de=4*ee-4;this[de+2]=this[de+3]=this[de+0]=this[de+1]=void 0},ce.prototype._fulfill=function(ee){var de=this._bitField;if(!((117506048&de)>>>16)){if(ee===this){var Ee=N();return this._attachExtraTrace(Ee),this._reject(Ee)}this._setFulfilled(),this._rejectionHandler0=ee,(65535&de)>0&&((134217728&de)!=0?this._settlePromises():Z.settlePromises(this),this._dereferenceTrace())}},ce.prototype._reject=function(ee){var de=this._bitField;if(!((117506048&de)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=ee,this._isFinal())return Z.fatalError(ee,F.isNode);(65535&de)>0?Z.settlePromises(this):this._ensurePossibleRejectionHandled()}},ce.prototype._fulfillPromises=function(ee,de){for(var Ee=1;Ee<ee;Ee++){var Ne=this._fulfillmentHandlerAt(Ee),qe=this._promiseAt(Ee),Be=this._receiverAt(Ee);this._clearCallbackDataAtIndex(Ee),this._settlePromise(qe,Ne,Be,de)}},ce.prototype._rejectPromises=function(ee,de){for(var Ee=1;Ee<ee;Ee++){var Ne=this._rejectionHandlerAt(Ee),qe=this._promiseAt(Ee),Be=this._receiverAt(Ee);this._clearCallbackDataAtIndex(Ee),this._settlePromise(qe,Ne,Be,de)}},ce.prototype._settlePromises=function(){var ee=this._bitField,de=65535&ee;if(de>0){if((16842752&ee)!=0){var Ee=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,Ee,ee),this._rejectPromises(de,Ee)}else{var Ne=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,Ne,ee),this._fulfillPromises(de,Ne)}this._setLength(0)}this._clearCancellationData()},ce.prototype._settledValue=function(){var ee=this._bitField;return(33554432&ee)!=0?this._rejectionHandler0:(16777216&ee)!=0?this._fulfillmentHandler0:void 0},typeof Symbol<"u"&&Symbol.toStringTag&&Y.defineProperty(ce.prototype,Symbol.toStringTag,{get:function(){return"Object"}}),ce.defer=ce.pending=function(){return Oe.deprecated("Promise.defer","new Promise"),{promise:new ce(xe),resolve:Jt,reject:Mn}},F.notEnumerableProp(ce,"_makeSelfResolutionError",N),C("./method")(ce,xe,ge,O,Oe),C("./bind")(ce,xe,ge,Oe),C("./cancel")(ce,pe,O,Oe),C("./direct_resolve")(ce),C("./synchronous_inspection")(ce),C("./join")(ce,pe,ge,xe,Z),ce.Promise=ce,ce.version="3.7.2",F.toFastProperties(ce),F.toFastProperties(ce.prototype),gt({a:1}),gt({b:2}),gt({c:3}),gt(1),gt(function(){}),gt(void 0),gt(!1),gt(new ce(xe)),Oe.setBounds(te.firstLineError,F.lastLineError),ce}},{"./async":1,"./bind":2,"./cancel":4,"./catch_filter":5,"./context":6,"./debuggability":7,"./direct_resolve":8,"./errors":9,"./es5":10,"./finally":11,"./join":12,"./method":13,"./nodeback":14,"./promise_array":16,"./synchronous_inspection":19,"./thenables":20,"./util":21,async_hooks:void 0}],16:[function(C,A,L){A.exports=function(N,R,O,I,$){var F=C("./util");F.isArray;function j(B){var z=this._promise=new N(R);B instanceof N&&(z._propagateFrom(B,3),B.suppressUnhandledRejections()),z._setOnCancel(this),this._values=B,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return F.inherits(j,$),j.prototype.length=function(){return this._length},j.prototype.promise=function(){return this._promise},j.prototype._init=function B(z,H){var W=O(this._values,this._promise);if(W instanceof N){var Y=(W=W._target())._bitField;if(this._values=W,(50397184&Y)==0)return this._promise._setAsyncGuaranteed(),W._then(B,this._reject,void 0,this,H);if((33554432&Y)==0)return(16777216&Y)!=0?this._reject(W._reason()):this._cancel();W=W._value()}if((W=F.asArray(W))!==null)W.length!==0?this._iterate(W):H===-5?this._resolveEmptyArray():this._resolve(function(Z){switch(Z){case-2:return[];case-3:return{};case-6:return new Map}}(H));else{var te=I("expecting an array or an iterable object but got "+F.classString(W)).reason();this._promise._rejectCallback(te,!1)}},j.prototype._iterate=function(B){var z=this.getActualLength(B.length);this._length=z,this._values=this.shouldCopyValues()?new Array(z):this._values;for(var H=this._promise,W=!1,Y=null,te=0;te<z;++te){var Z=O(B[te],H);Y=Z instanceof N?(Z=Z._target())._bitField:null,W?Y!==null&&Z.suppressUnhandledRejections():Y!==null?(50397184&Y)==0?(Z._proxy(this,te),this._values[te]=Z):W=(33554432&Y)!=0?this._promiseFulfilled(Z._value(),te):(16777216&Y)!=0?this._promiseRejected(Z._reason(),te):this._promiseCancelled(te):W=this._promiseFulfilled(Z,te)}W||H._setAsyncGuaranteed()},j.prototype._isResolved=function(){return this._values===null},j.prototype._resolve=function(B){this._values=null,this._promise._fulfill(B)},j.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},j.prototype._reject=function(B){this._values=null,this._promise._rejectCallback(B,!1)},j.prototype._promiseFulfilled=function(B,z){return this._values[z]=B,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},j.prototype._promiseCancelled=function(){return this._cancel(),!0},j.prototype._promiseRejected=function(B){return this._totalResolved++,this._reject(B),!0},j.prototype._resultCancelled=function(){if(!this._isResolved()){var B=this._values;if(this._cancel(),B instanceof N)B.cancel();else for(var z=0;z<B.length;++z)B[z]instanceof N&&B[z].cancel()}},j.prototype.shouldCopyValues=function(){return!0},j.prototype.getActualLength=function(B){return B},j}},{"./util":21}],17:[function(C,A,L){function N(R){this._capacity=R,this._length=0,this._front=0}N.prototype._willBeOverCapacity=function(R){return this._capacity<R},N.prototype._pushOne=function(R){var O=this.length();this._checkCapacity(O+1),this[this._front+O&this._capacity-1]=R,this._length=O+1},N.prototype.push=function(R,O,I){var $=this.length()+3;if(this._willBeOverCapacity($))return this._pushOne(R),this._pushOne(O),void this._pushOne(I);var F=this._front+$-3;this._checkCapacity($);var j=this._capacity-1;this[F+0&j]=R,this[F+1&j]=O,this[F+2&j]=I,this._length=$},N.prototype.shift=function(){var R=this._front,O=this[R];return this[R]=void 0,this._front=R+1&this._capacity-1,this._length--,O},N.prototype.length=function(){return this._length},N.prototype._checkCapacity=function(R){this._capacity<R&&this._resizeTo(this._capacity<<1)},N.prototype._resizeTo=function(R){var O=this._capacity;this._capacity=R,function(I,$,F,j,B){for(var z=0;z<B;++z)F[z+j]=I[z+$],I[z+$]=void 0}(this,0,this,O,this._front+this._length&O-1)},A.exports=N},{}],18:[function(C,A,L){var N,R=C("./util"),O=R.getNativePromise();if(R.isNode&&typeof MutationObserver>"u"){var I=l.setImmediate,$=a.nextTick;N=R.isRecentNode?function(j){I.call(l,j)}:function(j){$.call(a,j)}}else if(typeof O=="function"&&typeof O.resolve=="function"){var F=O.resolve();N=function(j){F.then(j)}}else N=typeof MutationObserver<"u"&&(typeof window>"u"||!window.navigator||!window.navigator.standalone&&!window.cordova)&&"classList"in document.documentElement?function(){var j=document.createElement("div"),B={attributes:!0},z=!1,H=document.createElement("div");return new MutationObserver(function(){j.classList.toggle("foo"),z=!1}).observe(H,B),function(W){var Y=new MutationObserver(function(){Y.disconnect(),W()});Y.observe(j,B),z||(z=!0,H.classList.toggle("foo"))}}():h!==void 0?function(j){h(j)}:typeof setTimeout<"u"?function(j){setTimeout(j,0)}:function(){throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)};A.exports=N},{"./util":21}],19:[function(C,A,L){A.exports=function(N){function R(z){z!==void 0?(z=z._target(),this._bitField=z._bitField,this._settledValueField=z._isFateSealed()?z._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}R.prototype._settledValue=function(){return this._settledValueField};var O=R.prototype.value=function(){if(!this.isFulfilled())throw new TypeError(`cannot get fulfillment value of a non-fulfilled promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},I=R.prototype.error=R.prototype.reason=function(){if(!this.isRejected())throw new TypeError(`cannot get rejection reason of a non-rejected promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},$=R.prototype.isFulfilled=function(){return(33554432&this._bitField)!=0},F=R.prototype.isRejected=function(){return(16777216&this._bitField)!=0},j=R.prototype.isPending=function(){return(50397184&this._bitField)==0},B=R.prototype.isResolved=function(){return(50331648&this._bitField)!=0};R.prototype.isCancelled=function(){return(8454144&this._bitField)!=0},N.prototype.__isCancelled=function(){return(65536&this._bitField)==65536},N.prototype._isCancelled=function(){return this._target().__isCancelled()},N.prototype.isCancelled=function(){return(8454144&this._target()._bitField)!=0},N.prototype.isPending=function(){return j.call(this._target())},N.prototype.isRejected=function(){return F.call(this._target())},N.prototype.isFulfilled=function(){return $.call(this._target())},N.prototype.isResolved=function(){return B.call(this._target())},N.prototype.value=function(){return O.call(this._target())},N.prototype.reason=function(){var z=this._target();return z._unsetRejectionIsUnhandled(),I.call(z)},N.prototype._value=function(){return this._settledValue()},N.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},N.PromiseInspection=R}},{}],20:[function(C,A,L){A.exports=function(N,R){var O=C("./util"),I=O.errorObj,$=O.isObject,F={}.hasOwnProperty;return function(j,B){if($(j)){if(j instanceof N)return j;var z=function(W){try{return function(Y){return Y.then}(W)}catch(Y){return I.e=Y,I}}(j);if(z===I){B&&B._pushContext();var H=N.reject(z.e);return B&&B._popContext(),H}if(typeof z=="function")return function(W){try{return F.call(W,"_promise0")}catch{return!1}}(j)?(H=new N(R),j._then(H._fulfill,H._reject,void 0,H,null),H):function(W,Y,te){var Z=new N(R),le=Z;te&&te._pushContext(),Z._captureStackTrace(),te&&te._popContext();var he=!0,ke=O.tryCatch(Y).call(W,function(xe){Z&&(Z._resolveCallback(xe),Z=null)},function(xe){Z&&(Z._rejectCallback(xe,he,!0),Z=null)});return he=!1,Z&&ke===I&&(Z._rejectCallback(ke.e,!0,!0),Z=null),le}(j,z,B)}return j}}},{"./util":21}],21:[function(C,A,L){var N=C("./es5"),R=typeof navigator>"u",O={e:{}},I,$=typeof self<"u"?self:typeof window<"u"?window:l!==void 0?l:this!==void 0?this:null;function F(){try{var oe=I;return I=null,oe.apply(this,arguments)}catch(Le){return O.e=Le,O}}function j(oe){return I=oe,F}var B=function(oe,Le){var at={}.hasOwnProperty;function it(){for(var Ye in this.constructor=oe,this.constructor$=Le,Le.prototype)at.call(Le.prototype,Ye)&&Ye.charAt(Ye.length-1)!=="$"&&(this[Ye+"$"]=Le.prototype[Ye])}return it.prototype=Le.prototype,oe.prototype=new it,oe.prototype};function z(oe){return oe==null||oe===!0||oe===!1||typeof oe=="string"||typeof oe=="number"}function H(oe){return typeof oe=="function"||T(oe)==="object"&&oe!==null}function W(oe){return z(oe)?new Error(Fe(oe)):oe}function Y(oe,Le){var at,it=oe.length,Ye=new Array(it+1);for(at=0;at<it;++at)Ye[at]=oe[at];return Ye[at]=Le,Ye}function te(oe,Le,at){if(!N.isES5)return{}.hasOwnProperty.call(oe,Le)?oe[Le]:void 0;var it=Object.getOwnPropertyDescriptor(oe,Le);return it!=null?it.get==null&&it.set==null?it.value:at:void 0}function Z(oe,Le,at){if(z(oe))return oe;var it={value:at,configurable:!0,enumerable:!1,writable:!0};return N.defineProperty(oe,Le,it),oe}function le(oe){throw oe}var he=function(){var oe=[Array.prototype,Object.prototype,Function.prototype],Le=function(Ye){for(var bt=0;bt<oe.length;++bt)if(oe[bt]===Ye)return!0;return!1};if(N.isES5){var at=Object.getOwnPropertyNames;return function(Ye){for(var bt=[],kn=Object.create(null);Ye!=null&&!Le(Ye);){var mr;try{mr=at(Ye)}catch{return bt}for(var Di=0;Di<mr.length;++Di){var zr=mr[Di];if(!kn[zr]){kn[zr]=!0;var Zr=Object.getOwnPropertyDescriptor(Ye,zr);Zr!=null&&Zr.get==null&&Zr.set==null&&bt.push(zr)}}Ye=N.getPrototypeOf(Ye)}return bt}}var it={}.hasOwnProperty;return function(Ye){if(Le(Ye))return[];var bt=[];e:for(var kn in Ye)if(it.call(Ye,kn))bt.push(kn);else{for(var mr=0;mr<oe.length;++mr)if(it.call(oe[mr],kn))continue e;bt.push(kn)}return bt}}(),ke=/this\s*\.\s*\S+\s*=/;function xe(oe){try{if(typeof oe=="function"){var Le=N.names(oe.prototype),at=N.isES5&&Le.length>1,it=Le.length>0&&!(Le.length===1&&Le[0]==="constructor"),Ye=ke.test(oe+"")&&N.names(oe).length>0;if(at||it||Ye)return!0}return!1}catch{return!1}}function Ge(oe){function Le(){}Le.prototype=oe;var at=new Le;function it(){return T(at.foo)}return it(),it(),oe}var fe=/^[a-z$_][a-z$_0-9]*$/i;function ge(oe){return fe.test(oe)}function pe(oe,Le,at){for(var it=new Array(oe),Ye=0;Ye<oe;++Ye)it[Ye]=Le+Ye+at;return it}function Fe(oe){try{return oe+""}catch{return"[no string representation]"}}function Oe(oe){return oe instanceof Error||oe!==null&&T(oe)==="object"&&typeof oe.message=="string"&&typeof oe.name=="string"}function rt(oe){try{Z(oe,"isOperational",!0)}catch{}}function xt(oe){return oe!=null&&(oe instanceof Error.__BluebirdErrorTypes__.OperationalError||oe.isOperational===!0)}function Ht(oe){return Oe(oe)&&N.propertyIsWritable(oe,"stack")}var dt="stack"in new Error?function(oe){return Ht(oe)?oe:new Error(Fe(oe))}:function(oe){if(Ht(oe))return oe;try{throw new Error(Fe(oe))}catch(Le){return Le}};function wt(oe){return{}.toString.call(oe)}function ce(oe,Le,at){for(var it=N.names(oe),Ye=0;Ye<it.length;++Ye){var bt=it[Ye];if(at(bt))try{N.defineProperty(Le,bt,N.getDescriptor(oe,bt))}catch{}}}var Jt=function(oe){return N.isArray(oe)?oe:null};if(typeof Symbol<"u"&&Symbol.iterator){var Mn=typeof Array.from=="function"?function(oe){return Array.from(oe)}:function(oe){for(var Le,at=[],it=oe[Symbol.iterator]();!(Le=it.next()).done;)at.push(Le.value);return at};Jt=function(oe){return N.isArray(oe)?oe:oe!=null&&typeof oe[Symbol.iterator]=="function"?Mn(oe):null}}var gt=a!==void 0&&wt(a).toLowerCase()==="[object process]",ee=a!==void 0&&a.env!==void 0,de;function Ee(oe){return ee?a.env[oe]:void 0}function Ne(){if(typeof Promise=="function")try{if(wt(new Promise(function(){}))==="[object Promise]")return Promise}catch{}}function qe(oe,Le){if(oe===null||typeof Le!="function"||Le===de)return Le;oe.domain!==null&&(Le=oe.domain.bind(Le));var at=oe.async;if(at!==null){var it=Le;Le=function(){var Ye=new Array(2).concat([].slice.call(arguments));return Ye[0]=it,Ye[1]=this,at.runInAsyncScope.apply(at,Ye)}}return Le}var Be={setReflectHandler:function(oe){de=oe},isClass:xe,isIdentifier:ge,inheritedDataKeys:he,getDataPropertyOrDefault:te,thrower:le,isArray:N.isArray,asArray:Jt,notEnumerableProp:Z,isPrimitive:z,isObject:H,isError:Oe,canEvaluate:R,errorObj:O,tryCatch:j,inherits:B,withAppended:Y,maybeWrapAsError:W,toFastProperties:Ge,filledRange:pe,toString:Fe,canAttachTrace:Ht,ensureErrorObject:dt,originatesFromRejection:xt,markAsOriginatingFromRejection:rt,classString:wt,copyDescriptors:ce,isNode:gt,hasEnvVariables:ee,env:Ee,global:$,getNativePromise:Ne,contextBind:qe};Be.isRecentNode=Be.isNode&&function(){var oe;return a.versions&&a.versions.node?oe=a.versions.node.split(".").map(Number):a.version&&(oe=a.version.split(".").map(Number)),oe[0]===0&&oe[1]>10||oe[0]>0}(),Be.nodeSupportsAsyncResource=Be.isNode&&function(){var oe=!1;try{oe=typeof C("async_hooks").AsyncResource.prototype.runInAsyncScope=="function"}catch{oe=!1}return oe}(),Be.isNode&&Be.toFastProperties(a);try{throw new Error}catch(oe){Be.lastLineError=oe}A.exports=Be},{"./es5":10,async_hooks:void 0}]},{},[3])(3)}),typeof window<"u"&&window!==null?window.P=window.Promise:typeof self<"u"&&self!==null&&(self.P=self.Promise)}).call(this,i(5),i(1),i(7).setImmediate)},function(n,r,i){(function(a){var l=a!==void 0&&a||typeof self<"u"&&self||window,h=Function.prototype.apply;function f(g,E){this._id=g,this._clearFn=E}r.setTimeout=function(){return new f(h.call(setTimeout,l,arguments),clearTimeout)},r.setInterval=function(){return new f(h.call(setInterval,l,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(g){g&&g.close()},f.prototype.unref=f.prototype.ref=function(){},f.prototype.close=function(){this._clearFn.call(l,this._id)},r.enroll=function(g,E){clearTimeout(g._idleTimeoutId),g._idleTimeout=E},r.unenroll=function(g){clearTimeout(g._idleTimeoutId),g._idleTimeout=-1},r._unrefActive=r.active=function(g){clearTimeout(g._idleTimeoutId);var E=g._idleTimeout;E>=0&&(g._idleTimeoutId=setTimeout(function(){g._onTimeout&&g._onTimeout()},E))},i(8),r.setImmediate=typeof self<"u"&&self.setImmediate||a!==void 0&&a.setImmediate||this&&this.setImmediate,r.clearImmediate=typeof self<"u"&&self.clearImmediate||a!==void 0&&a.clearImmediate||this&&this.clearImmediate}).call(this,i(1))},function(n,r,i){(function(a,l){(function(h,f){if(!h.setImmediate){var g,E=1,T={},C=!1,A=h.document,L=Object.getPrototypeOf&&Object.getPrototypeOf(h);L=L&&L.setTimeout?L:h,{}.toString.call(h.process)==="[object process]"?g=function(O){l.nextTick(function(){R(O)})}:function(){if(h.postMessage&&!h.importScripts){var O=!0,I=h.onmessage;return h.onmessage=function(){O=!1},h.postMessage("","*"),h.onmessage=I,O}}()?function(){var O="setImmediate$"+Math.random()+"$",I=function($){$.source===h&&typeof $.data=="string"&&$.data.indexOf(O)===0&&R(+$.data.slice(O.length))};h.addEventListener?h.addEventListener("message",I,!1):h.attachEvent("onmessage",I),g=function($){h.postMessage(O+$,"*")}}():h.MessageChannel?function(){var O=new MessageChannel;O.port1.onmessage=function(I){R(I.data)},g=function(I){O.port2.postMessage(I)}}():A&&"onreadystatechange"in A.createElement("script")?function(){var O=A.documentElement;g=function(I){var $=A.createElement("script");$.onreadystatechange=function(){R(I),$.onreadystatechange=null,O.removeChild($),$=null},O.appendChild($)}}():g=function(O){setTimeout(R,0,O)},L.setImmediate=function(O){typeof O!="function"&&(O=new Function(""+O));for(var I=new Array(arguments.length-1),$=0;$<I.length;$++)I[$]=arguments[$+1];var F={callback:O,args:I};return T[E]=F,g(E),E++},L.clearImmediate=N}function N(O){delete T[O]}function R(O){if(C)setTimeout(R,0,O);else{var I=T[O];if(I){C=!0;try{(function($){var F=$.callback,j=$.args;switch(j.length){case 0:F();break;case 1:F(j[0]);break;case 2:F(j[0],j[1]);break;case 3:F(j[0],j[1],j[2]);break;default:F.apply(f,j)}})(I)}finally{N(O),C=!1}}}}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,i(1),i(5))},function(n,r,i){i.r(r),i.d(r,"scheduler",function(){return Vc}),i.d(r,"Scheduler",function(){return dv});var a=i(0);i(4);function l(s){function w(c){var u=document.createElement("div");return(c||"").split(" ").forEach(function(_){u.classList.add(_)}),u}var d={rows_container:function(){return w("dhx_cal_navbar_rows_container")},row:function(){return w("dhx_cal_navbar_row")},view:function(c){var u=w("dhx_cal_tab");return u.setAttribute("name",c.view+"_tab"),u.setAttribute("data-tab",c.view),s.config.fix_tab_position&&(c.$firstTab?u.classList.add("dhx_cal_tab_first"):c.$lastTab?u.classList.add("dhx_cal_tab_last"):c.view!=="week"&&u.classList.add("dhx_cal_tab_standalone")),u},date:function(){return w("dhx_cal_date")},button:function(c){return w("dhx_cal_nav_button dhx_cal_nav_button_custom dhx_cal_tab")},builtInButton:function(c){return w("dhx_cal_"+c.view+"_button dhx_cal_nav_button")},spacer:function(){return w("dhx_cal_line_spacer")},minicalendarButton:function(c){var u=w("dhx_minical_icon");return c.click||u.$_eventAttached||s.event(u,"click",function(){s.isCalendarVisible()?s.destroyCalendar():s.renderCalendar({position:this,date:s.getState().date,navigation:!0,handler:function(_,y){s.setCurrentView(_),s.destroyCalendar()}})}),u},html_element:function(c){return w("dhx_cal_nav_content")}};function m(c){var u=function(x){var v;if(x.view)switch(x.view){case"today":case"next":case"prev":v=d.builtInButton;break;case"date":v=d.date;break;case"spacer":v=d.spacer;break;case"button":v=d.button;break;case"minicalendar":v=d.minicalendarButton;break;default:v=d.view}else x.rows?v=d.rows_container:x.cols&&(v=d.row);return v}(c);if(u){var _=u(c);if(c.css&&_.classList.add(c.css),c.width&&((y=c.width)===1*y&&(y+="px"),_.style.width=y),c.height&&((y=c.height)===1*y&&(y+="px"),_.style.height=y),c.click&&_.addEventListener("click",c.click),c.html&&(_.innerHTML=c.html),c.align){var y="";c.align=="right"?y="flex-end":c.align=="left"&&(y="flex-start"),_.style.justifyContent=y}return _}}function p(c){return typeof c=="string"&&(c={view:c}),c.view||c.rows||c.cols||(c.view="button"),c}s._init_nav_bar=function(c){var u=this.$container.querySelector(".dhx_cal_navline");return u||((u=document.createElement("div")).className="dhx_cal_navline dhx_cal_navline_flex",s._update_nav_bar(c,u),u)};var o=null;s._update_nav_bar=function(c,u){if(c){var _=!1,y=!1,x=c.height||s.xy.nav_height;o!==null&&o===x||(_=!0),y=!0,_&&(s.xy.nav_height=x),y&&(u.innerHTML="",u.appendChild(function v(S){var b,k=document.createDocumentFragment();b=Array.isArray(S)?S:[S];for(var D=0;D<b.length;D++){var M,V=p(b[D]);V.view==="day"&&b[D+1]&&((M=p(b[D+1])).view!=="week"&&M.view!=="month"||(V.$firstTab=!0)),V.view==="month"&&b[D-1]&&((M=p(b[D-1])).view!=="week"&&M.view!=="day"||(V.$lastTab=!0));var U=m(V);k.appendChild(U),(V.cols||V.rows)&&U.appendChild(v(V.cols||V.rows))}return k}(c))),(_||y)&&(s.unset_actions(),s._els=[],s.get_elements(),s.set_actions()),u.style.display=x===0?"none":"",o=x}}}function h(s){function w(o){for(var c=document.body;o&&o!=c;)o=o.parentNode;return c==o}function d(o){return{w:o.innerWidth||document.documentElement.clientWidth,h:o.innerHeight||document.documentElement.clientHeight}}function m(o,c){var u,_=d(c);o.event(c,"resize",function(){clearTimeout(u),u=setTimeout(function(){if(w(o.$container)){var y=d(c);(function(x,v){return x.w==v.w&&x.h==v.h})(_,y)||(_=y,p(o))}},150)})}function p(o){!o.$destroyed&&o.$root&&w(o.$root)&&o.callEvent("onSchedulerResize",[])&&(o.updateView(),o.callEvent("onAfterSchedulerResize",[]))}(function(o){var c=o.$container;window.getComputedStyle(c).getPropertyValue("position")=="static"&&(c.style.position="relative");var u=document.createElement("iframe");u.className="scheduler_container_resize_watcher",u.tabIndex=-1,o.config.wai_aria_attributes&&(u.setAttribute("role","none"),u.setAttribute("aria-hidden",!0)),window.Sfdc||window.$A||window.Aura?function(_){var y=_.$root.offsetHeight,x=_.$root.offsetWidth;(function v(){_.$destroyed||(_.$root&&(_.$root.offsetHeight==y&&_.$root.offsetWidth==x||p(_),y=_.$root.offsetHeight,x=_.$root.offsetWidth),setTimeout(v,200))})()}(o):(c.appendChild(u),u.contentWindow?m(o,u.contentWindow):(c.removeChild(u),m(o,window)))})(s)}function f(s,w){for(var d=0;d<w.length;d++){var m=w[d];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(s,m.key,m)}}var g=function(){function s(){(function(w,d){if(!(w instanceof d))throw new TypeError("Cannot call a class as a function")})(this,s),this._silent_mode=!1,this.listeners={}}return function(w,d,m){d&&f(w.prototype,d),m&&f(w,m)}(s,[{key:"_silentStart",value:function(){this._silent_mode=!0}},{key:"_silentEnd",value:function(){this._silent_mode=!1}}]),s}(),E=function(s){var w={},d=0,m=function(){var p=!0;for(var o in w){var c=w[o].apply(s,arguments);p=p&&c}return p};return m.addEvent=function(p,o){if(typeof p=="function"){var c;if(o&&o.id?c=o.id:(c=d,d++),o&&o.once){var u=p;p=function(){u(),m.removeEvent(c)}}return w[c]=p,c}return!1},m.removeEvent=function(p){delete w[p]},m.clear=function(){w={}},m},T=function(s){var w=new g;s.attachEvent=function(d,m,p){d="ev_"+d.toLowerCase(),w.listeners[d]||(w.listeners[d]=E(this)),p&&p.thisObject&&(m=m.bind(p.thisObject));var o=d+":"+w.listeners[d].addEvent(m,p);return p&&p.id&&(o=p.id),o},s.attachAll=function(d){this.attachEvent("listen_all",d)},s.callEvent=function(d,m){if(w._silent_mode)return!0;var p="ev_"+d.toLowerCase(),o=w.listeners;return o.ev_listen_all&&o.ev_listen_all.apply(this,[d].concat(m)),!o[p]||o[p].apply(this,m)},s.checkEvent=function(d){return!!w.listeners["ev_"+d.toLowerCase()]},s.detachEvent=function(d){if(d){var m=w.listeners;for(var p in m)m[p].removeEvent(d);var o=d.split(":");if(m=w.listeners,o.length===2){var c=o[0],u=o[1];m[c]&&m[c].removeEvent(u)}}},s.detachAllEvents=function(){for(var d in w.listeners)w.listeners[d].clear()}};function C(s){return(C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}var A={event:function(s,w,d){s.addEventListener?s.addEventListener(w,d,!1):s.attachEvent&&s.attachEvent("on"+w,d)},eventRemove:function(s,w,d){s.removeEventListener?s.removeEventListener(w,d,!1):s.detachEvent&&s.detachEvent("on"+w,d)}},L=function(){return function s(w,d){w=w||A.event,d=d||A.eventRemove;var m=[],p={attach:function(o,c,u,_){m.push({element:o,event:c,callback:u,capture:_}),w(o,c,u,_)},detach:function(o,c,u,_){d(o,c,u,_);for(var y=0;y<m.length;y++){var x=m[y];x.element===o&&x.event===c&&x.callback===u&&x.capture===_&&(m.splice(y,1),y--)}},detachAll:function(){for(var o=m.slice(),c=0;c<o.length;c++){var u=o[c];p.detach(u.element,u.event,u.callback,u.capture),p.detach(u.element,u.event,u.callback,void 0),p.detach(u.element,u.event,u.callback,!1),p.detach(u.element,u.event,u.callback,!0)}m.splice(0,m.length)},extend:function(){return s(this.event,this.eventRemove)}};return p}()};function N(s){return(N=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}function R(s){return(R=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}function O(s){return(O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}var I=Date.now();function $(s){return!(!s||O(s)!=="object")&&!!(s.getFullYear&&s.getMonth&&s.getDate)}var F={uid:function(){return I++},mixin:function(s,w,d){for(var m in w)(s[m]===void 0||d)&&(s[m]=w[m]);return s},copy:function s(w){var d,m;if(w&&O(w)=="object")switch(!0){case $(w):m=new Date(w);break;case function(p){return Array.isArray?Array.isArray(p):p&&p.length!==void 0&&p.pop&&p.push}(w):for(m=new Array(w.length),d=0;d<w.length;d++)m[d]=s(w[d]);break;case function(p){return p&&O(p)==="object"&&Function.prototype.toString.call(p.constructor)==="function String() { [native code] }"}(w):m=new String(w);break;case function(p){return p&&O(p)==="object"&&Function.prototype.toString.call(p.constructor)==="function Number() { [native code] }"}(w):m=new Number(w);break;case function(p){return p&&O(p)==="object"&&Function.prototype.toString.call(p.constructor)==="function Boolean() { [native code] }"}(w):m=new Boolean(w);break;default:for(d in m={},w)Object.prototype.hasOwnProperty.apply(w,[d])&&(m[d]=s(w[d]))}return m||w},defined:function(s){return s!==void 0},isDate:$};function j(s){if(!s)return"";var w=s.className||"";return w.baseVal&&(w=w.baseVal),w.indexOf||(w=""),w||""}function B(s,w,d){d===void 0&&(d=!0);for(var m=s.target||s.srcElement,p="";m;){if(p=j(m)){var o=p.indexOf(w);if(o>=0){if(!d)return m;var c=o===0||!(p.charAt(o-1)||"").trim(),u=o+w.length>=p.length||!p.charAt(o+w.length).trim();if(c&&u)return m}}m=m.parentNode}return null}function z(s){var w=!1,d=!1;if(window.getComputedStyle){var m=window.getComputedStyle(s,null);w=m.display,d=m.visibility}else s.currentStyle&&(w=s.currentStyle.display,d=s.currentStyle.visibility);var p=!1,o=B({target:s},"dhx_form_repeat",!1);return o&&(p=o.style.height=="0px"),p=p||!s.offsetHeight,w!="none"&&d!="hidden"&&!p}function H(s){return!isNaN(s.getAttribute("tabindex"))&&1*s.getAttribute("tabindex")>=0}function W(s){return!{a:!0,area:!0}[s.nodeName.loLowerCase()]||!!s.getAttribute("href")}function Y(s){return!{input:!0,select:!0,textarea:!0,button:!0,object:!0}[s.nodeName.toLowerCase()]||!s.hasAttribute("disabled")}function te(){return document.head.createShadowRoot||document.head.attachShadow}function Z(s){if(!s||!te())return document.body;for(;s.parentNode&&(s=s.parentNode);)if(s instanceof ShadowRoot)return s.host;return document.body}var le,he={getAbsoluteLeft:function(s){return this.getOffset(s).left},getAbsoluteTop:function(s){return this.getOffset(s).top},getOffsetSum:function(s){for(var w=0,d=0;s;)w+=parseInt(s.offsetTop),d+=parseInt(s.offsetLeft),s=s.offsetParent;return{top:w,left:d}},getOffsetRect:function(s){var w=s.getBoundingClientRect(),d=0,m=0;if(/Mobi/.test(navigator.userAgent)){var p=document.createElement("div");p.style.position="absolute",p.style.left="0px",p.style.top="0px",p.style.width="1px",p.style.height="1px",document.body.appendChild(p);var o=p.getBoundingClientRect();d=w.top-o.top,m=w.left-o.left,p.parentNode.removeChild(p)}else{var c=document.body,u=document.documentElement,_=window.pageYOffset||u.scrollTop||c.scrollTop,y=window.pageXOffset||u.scrollLeft||c.scrollLeft,x=u.clientTop||c.clientTop||0,v=u.clientLeft||c.clientLeft||0;d=w.top+_-x,m=w.left+y-v}return{top:Math.round(d),left:Math.round(m)}},getOffset:function(s){return s.getBoundingClientRect?this.getOffsetRect(s):this.getOffsetSum(s)},closest:function(s,w){return s&&w?le(s,w):null},insertAfter:function(s,w){w.nextSibling?w.parentNode.insertBefore(s,w.nextSibling):w.parentNode.appendChild(s)},remove:function(s){s&&s.parentNode&&s.parentNode.removeChild(s)},getFocusableNodes:function(s){for(var w=s.querySelectorAll(["a[href]","area[href]","input","select","textarea","button","iframe","object","embed","[tabindex]","[contenteditable]"].join(", ")),d=Array.prototype.slice.call(w,0),m=0;m<d.length;m++)d[m].$position=m;for(d.sort(function(o,c){return o.tabIndex===0&&c.tabIndex!==0?1:o.tabIndex!==0&&c.tabIndex===0?-1:o.tabIndex===c.tabIndex?o.$position-c.$position:o.tabIndex<c.tabIndex?-1:1}),m=0;m<d.length;m++){var p=d[m];(H(p)||Y(p)||W(p))&&z(p)||(d.splice(m,1),m--)}return d},getClassName:j,locateCss:B,getRootNode:Z,hasShadowParent:function(s){return!!Z(s)},isShadowDomSupported:te,getActiveElement:function(){var s=document.activeElement;return s.shadowRoot&&(s=s.shadowRoot.activeElement),s===document.body&&document.getSelection&&(s=document.getSelection().focusNode||document.body),s},getRelativeEventPosition:function(s,w){var d=document.documentElement,m=function(p){var o=0,c=0,u=0,_=0;if(p.getBoundingClientRect){var y=p.getBoundingClientRect(),x=document.body,v=document.documentElement||document.body.parentNode||document.body,S=window.pageYOffset||v.scrollTop||x.scrollTop,b=window.pageXOffset||v.scrollLeft||x.scrollLeft,k=v.clientTop||x.clientTop||0,D=v.clientLeft||x.clientLeft||0;o=y.top+S-k,c=y.left+b-D,u=document.body.offsetWidth-y.right,_=document.body.offsetHeight-y.bottom}else{for(;p;)o+=parseInt(p.offsetTop,10),c+=parseInt(p.offsetLeft,10),p=p.offsetParent;u=document.body.offsetWidth-p.offsetWidth-c,_=document.body.offsetHeight-p.offsetHeight-o}return{y:Math.round(o),x:Math.round(c),width:p.offsetWidth,height:p.offsetHeight,right:Math.round(u),bottom:Math.round(_)}}(w);return{x:s.clientX+d.scrollLeft-d.clientLeft-m.x+w.scrollLeft,y:s.clientY+d.scrollTop-d.clientTop-m.y+w.scrollTop}}};if(Element.prototype.closest)le=function(s,w){return s.closest(w)};else{var ke=Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;le=function(s,w){var d=s;do{if(ke.call(d,w))return d;d=d.parentElement||d.parentNode}while(d!==null&&d.nodeType===1);return null}}var xe=typeof window<"u",Ge={isIE:xe&&(navigator.userAgent.indexOf("MSIE")>=0||navigator.userAgent.indexOf("Trident")>=0),isIE6:xe&&!XMLHttpRequest&&navigator.userAgent.indexOf("MSIE")>=0,isIE7:xe&&navigator.userAgent.indexOf("MSIE 7.0")>=0&&navigator.userAgent.indexOf("Trident")<0,isIE8:xe&&navigator.userAgent.indexOf("MSIE 8.0")>=0&&navigator.userAgent.indexOf("Trident")>=0,isOpera:xe&&navigator.userAgent.indexOf("Opera")>=0,isChrome:xe&&navigator.userAgent.indexOf("Chrome")>=0,isKHTML:xe&&(navigator.userAgent.indexOf("Safari")>=0||navigator.userAgent.indexOf("Konqueror")>=0),isFF:xe&&navigator.userAgent.indexOf("Firefox")>=0,isIPad:xe&&navigator.userAgent.search(/iPad/gi)>=0,isEdge:xe&&navigator.userAgent.indexOf("Edge")!=-1,isNode:!xe||typeof navigator>"u"},fe=i(6).Promise,ge=i(3),pe=i.n(ge);function Fe(s){return(Fe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}function Oe(s){var w=function(o,c){for(var u="var temp=date.match(/[a-zA-Z]+|[0-9]+/g);",_=o.match(/%[a-zA-Z]/g),y=0;y<_.length;y++)switch(_[y]){case"%j":case"%d":u+="set[2]=temp["+y+"]||1;";break;case"%n":case"%m":u+="set[1]=(temp["+y+"]||1)-1;";break;case"%y":u+="set[0]=temp["+y+"]*1+(temp["+y+"]>50?1900:2000);";break;case"%g":case"%G":case"%h":case"%H":u+="set[3]=temp["+y+"]||0;";break;case"%i":u+="set[4]=temp["+y+"]||0;";break;case"%Y":u+="set[0]=temp["+y+"]||0;";break;case"%a":case"%A":u+="set[3]=set[3]%12+((temp["+y+"]||'').toLowerCase()=='am'?0:12);";break;case"%s":u+="set[5]=temp["+y+"]||0;";break;case"%M":u+="set[1]=this.locale.date.month_short_hash[temp["+y+"]]||0;";break;case"%F":u+="set[1]=this.locale.date.month_full_hash[temp["+y+"]]||0;"}var x="set[0],set[1],set[2],set[3],set[4],set[5]";return c&&(x=" Date.UTC("+x+")"),new Function("date","var set=[0,0,1,0,0,0]; "+u+" return new Date("+x+");")},d=function(o,c){return function(u){for(var _=[0,0,1,0,0,0],y=u.match(/[a-zA-Z]+|[0-9]+/g),x=o.match(/%[a-zA-Z]/g),v=0;v<x.length;v++)switch(x[v]){case"%j":case"%d":_[2]=y[v]||1;break;case"%n":case"%m":_[1]=(y[v]||1)-1;break;case"%y":_[0]=1*y[v]+(y[v]>50?1900:2e3);break;case"%g":case"%G":case"%h":case"%H":_[3]=y[v]||0;break;case"%i":_[4]=y[v]||0;break;case"%Y":_[0]=y[v]||0;break;case"%a":case"%A":_[3]=_[3]%12+((y[v]||"").toLowerCase()=="am"?0:12);break;case"%s":_[5]=y[v]||0;break;case"%M":_[1]=s.locale.date.month_short_hash[y[v]]||0;break;case"%F":_[1]=s.locale.date.month_full_hash[y[v]]||0}return c?new Date(Date.UTC(_[0],_[1],_[2],_[3],_[4],_[5])):new Date(_[0],_[1],_[2],_[3],_[4],_[5])}},m=!1;function p(){return s.config.csp==="auto"?m:s.config.csp}(function(){try{new Function("canUseCsp = false;")}catch{m=!0}})(),s.date={init:function(){for(var o=s.locale.date.month_short,c=s.locale.date.month_short_hash={},u=0;u<o.length;u++)c[o[u]]=u;for(o=s.locale.date.month_full,c=s.locale.date.month_full_hash={},u=0;u<o.length;u++)c[o[u]]=u},_bind_host_object:function(o){return o.bind?o.bind(s):function(){return o.apply(s,arguments)}},date_part:function(o){var c=new Date(o);return o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0),o.getHours()&&(o.getDate()<c.getDate()||o.getMonth()<c.getMonth()||o.getFullYear()<c.getFullYear())&&o.setTime(o.getTime()+36e5*(24-o.getHours())),o},time_part:function(o){return(o.valueOf()/1e3-60*o.getTimezoneOffset())%86400},week_start:function(o){var c=o.getDay();return s.config.start_on_monday&&(c===0?c=6:c--),this.date_part(this.add(o,-1*c,"day"))},month_start:function(o){return o.setDate(1),this.date_part(o)},year_start:function(o){return o.setMonth(0),this.month_start(o)},day_start:function(o){return this.date_part(o)},_add_days:function(o,c){var u=new Date(o.valueOf());if(u.setDate(u.getDate()+c),c==Math.round(c)&&c>0){var _=(+u-+o)%864e5;if(_&&o.getTimezoneOffset()==u.getTimezoneOffset()){var y=_/36e5;u.setTime(u.getTime()+60*(24-y)*60*1e3)}}return c>=0&&!o.getHours()&&u.getHours()&&(u.getDate()<o.getDate()||u.getMonth()<o.getMonth()||u.getFullYear()<o.getFullYear())&&u.setTime(u.getTime()+36e5*(24-u.getHours())),u},add:function(o,c,u){var _=new Date(o.valueOf());switch(u){case"day":_=s.date._add_days(_,c);break;case"week":_=s.date._add_days(_,7*c);break;case"month":_.setMonth(_.getMonth()+c);break;case"year":_.setYear(_.getFullYear()+c);break;case"hour":_.setTime(_.getTime()+60*c*60*1e3);break;case"minute":_.setTime(_.getTime()+60*c*1e3);break;default:return s.date["add_"+u](o,c,u)}return _},to_fixed:function(o){return o<10?"0"+o:o},copy:function(o){return new Date(o.valueOf())},date_to_str:function(o,c){if(p())return function(_,y){return function(x){return _.replace(/%[a-zA-Z]/g,function(v){switch(v){case"%d":return y?s.date.to_fixed(x.getUTCDate()):s.date.to_fixed(x.getDate());case"%m":return y?s.date.to_fixed(x.getUTCMonth()+1):s.date.to_fixed(x.getMonth()+1);case"%j":return y?x.getUTCDate():x.getDate();case"%n":return y?x.getUTCMonth()+1:x.getMonth()+1;case"%y":return y?s.date.to_fixed(x.getUTCFullYear()%100):s.date.to_fixed(x.getFullYear()%100);case"%Y":return y?x.getUTCFullYear():x.getFullYear();case"%D":return y?s.locale.date.day_short[x.getUTCDay()]:s.locale.date.day_short[x.getDay()];case"%l":return y?s.locale.date.day_full[x.getUTCDay()]:s.locale.date.day_full[x.getDay()];case"%M":return y?s.locale.date.month_short[x.getUTCMonth()]:s.locale.date.month_short[x.getMonth()];case"%F":return y?s.locale.date.month_full[x.getUTCMonth()]:s.locale.date.month_full[x.getMonth()];case"%h":return y?s.date.to_fixed((x.getUTCHours()+11)%12+1):s.date.to_fixed((x.getHours()+11)%12+1);case"%g":return y?(x.getUTCHours()+11)%12+1:(x.getHours()+11)%12+1;case"%G":return y?x.getUTCHours():x.getHours();case"%H":return y?s.date.to_fixed(x.getUTCHours()):s.date.to_fixed(x.getHours());case"%i":return y?s.date.to_fixed(x.getUTCMinutes()):s.date.to_fixed(x.getMinutes());case"%a":return y?x.getUTCHours()>11?"pm":"am":x.getHours()>11?"pm":"am";case"%A":return y?x.getUTCHours()>11?"PM":"AM":x.getHours()>11?"PM":"AM";case"%s":return y?s.date.to_fixed(x.getUTCSeconds()):s.date.to_fixed(x.getSeconds());case"%W":return y?s.date.to_fixed(s.date.getUTCISOWeek(x)):s.date.to_fixed(s.date.getISOWeek(x));default:return v}})}}(o,c);o=o.replace(/%[a-zA-Z]/g,function(_){switch(_){case"%d":return'"+this.date.to_fixed(date.getDate())+"';case"%m":return'"+this.date.to_fixed((date.getMonth()+1))+"';case"%j":return'"+date.getDate()+"';case"%n":return'"+(date.getMonth()+1)+"';case"%y":return'"+this.date.to_fixed(date.getFullYear()%100)+"';case"%Y":return'"+date.getFullYear()+"';case"%D":return'"+this.locale.date.day_short[date.getDay()]+"';case"%l":return'"+this.locale.date.day_full[date.getDay()]+"';case"%M":return'"+this.locale.date.month_short[date.getMonth()]+"';case"%F":return'"+this.locale.date.month_full[date.getMonth()]+"';case"%h":return'"+this.date.to_fixed((date.getHours()+11)%12+1)+"';case"%g":return'"+((date.getHours()+11)%12+1)+"';case"%G":return'"+date.getHours()+"';case"%H":return'"+this.date.to_fixed(date.getHours())+"';case"%i":return'"+this.date.to_fixed(date.getMinutes())+"';case"%a":return'"+(date.getHours()>11?"pm":"am")+"';case"%A":return'"+(date.getHours()>11?"PM":"AM")+"';case"%s":return'"+this.date.to_fixed(date.getSeconds())+"';case"%W":return'"+this.date.to_fixed(this.date.getISOWeek(date))+"';default:return _}}),c&&(o=o.replace(/date\.get/g,"date.getUTC"));var u=new Function("date",'return "'+o+'";');return s.date._bind_host_object(u)},str_to_date:function(o,c,u){var _=p()?d:w,y=_(o,c),x=/^[0-9]{4}(\-|\/)[0-9]{2}(\-|\/)[0-9]{2} ?(([0-9]{1,2}:[0-9]{1,2})(:[0-9]{1,2})?)?$/,v=/^[0-9]{2}\/[0-9]{2}\/[0-9]{4} ?(([0-9]{1,2}:[0-9]{2})(:[0-9]{1,2})?)?$/,S=/^[0-9]{2}\-[0-9]{2}\-[0-9]{4} ?(([0-9]{1,2}:[0-9]{1,2})(:[0-9]{1,2})?)?$/,b=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24\:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,k=_("%Y-%m-%d %H:%i:%s",c),D=_("%m/%d/%Y %H:%i:%s",c),M=_("%d-%m-%Y %H:%i:%s",c);return function(V){if(!u&&!s.config.parse_exact_format){if(V&&V.getISOWeek)return new Date(V);if(typeof V=="number")return new Date(V);if(function(U){return x.test(String(U))}(V))return k(V);if(function(U){return v.test(String(U))}(V))return D(V);if(function(U){return S.test(String(U))}(V))return M(V);if(function(U){return b.test(U)}(V))return new Date(V)}return y.call(s,V)}},getISOWeek:function(o){if(!o)return!1;var c=(o=this.date_part(new Date(o))).getDay();c===0&&(c=7);var u=new Date(o.valueOf());u.setDate(o.getDate()+(4-c));var _=u.getFullYear(),y=Math.round((u.getTime()-new Date(_,0,1).getTime())/864e5);return 1+Math.floor(y/7)},getUTCISOWeek:function(o){return this.getISOWeek(this.convert_to_utc(o))},convert_to_utc:function(o){return new Date(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate(),o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds())}}}function rt(s){return(rt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}function xt(s){return(xt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}var Ht=i(2),dt=i.n(Ht);function wt(s){return(wt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}function ce(s){s._loaded={},s._load=function(d,m){if(d=d||this._load_url){var p;if(d+=(d.indexOf("?")==-1?"?":"&")+"timeshift="+new Date().getTimezoneOffset(),this.config.prevent_cache&&(d+="&uid="+this.uid()),m=m||this._date,this._load_mode){var o=this.templates.load_format;for(m=this.date[this._load_mode+"_start"](new Date(m.valueOf()));m>this._min_date;)m=this.date.add(m,-1,this._load_mode);p=m;for(var c=!0;p<this._max_date;)p=this.date.add(p,1,this._load_mode),this._loaded[o(m)]&&c?m=this.date.add(m,1,this._load_mode):c=!1;var u=p;do p=u,u=this.date.add(p,-1,this._load_mode);while(u>m&&this._loaded[o(u)]);if(p<=m)return!1;for(s.ajax.get(d+"&from="+o(m)+"&to="+o(p),_);m<p;)this._loaded[o(m)]=!0,m=this.date.add(m,1,this._load_mode)}else s.ajax.get(d,_);return this.callEvent("onXLS",[]),this.callEvent("onLoadStart",[]),!0}function _(y){s.on_load(y),s.callEvent("onLoadEnd",[])}},s._parsers={},function(d){d._parsers.xml={canParse:function(m,p){if(p.responseXML&&p.responseXML.firstChild)return!0;try{var o=d.ajax.parse(p.responseText),c=d.ajax.xmltop("data",o);if(c&&c.tagName==="data")return!0}catch{}return!1},parse:function(m){var p;if(m.xmlDoc.responseXML||(m.xmlDoc.responseXML=d.ajax.parse(m.xmlDoc.responseText)),(p=d.ajax.xmltop("data",m.xmlDoc)).tagName!="data")return null;var o=p.getAttribute("dhx_security");o&&(window.dhtmlx&&(window.dhtmlx.security_key=o),d.security_key=o);for(var c=d.ajax.xpath("//coll_options",m.xmlDoc),u=0;u<c.length;u++){var _=c[u].getAttribute("for"),y=d.serverList[_];y||(d.serverList[_]=y=[]),y.splice(0,y.length);for(var x=d.ajax.xpath(".//item",c[u]),v=0;v<x.length;v++){for(var S=x[v].attributes,b={key:x[v].getAttribute("value"),label:x[v].getAttribute("label")},k=0;k<S.length;k++){var D=S[k];D.nodeName!="value"&&D.nodeName!="label"&&(b[D.nodeName]=D.nodeValue)}y.push(b)}}c.length&&d.callEvent("onOptionsLoad",[]);var M=d.ajax.xpath("//userdata",m.xmlDoc);for(u=0;u<M.length;u++){var V=d._xmlNodeToJSON(M[u]);d._userdata[V.name]=V.text}var U=[];for(p=d.ajax.xpath("//event",m.xmlDoc),u=0;u<p.length;u++){var q=U[u]=d._xmlNodeToJSON(p[u]);d._init_event(q)}return U}}}(s),function(d){d.json=d._parsers.json={canParse:function(m){if(m&&xt(m)==="object")return!0;if(typeof m=="string")try{var p=JSON.parse(m);return Object.prototype.toString.call(p)==="[object Object]"||Object.prototype.toString.call(p)==="[object Array]"}catch{return!1}return!1},parse:function(m){var p=[];typeof m=="string"&&(m=JSON.parse(m)),Object.prototype.toString.call(m)==="[object Array]"?p=m:m&&(m.events?p=m.events:m.data&&(p=m.data)),p=p||[],m.dhx_security&&(window.dhtmlx&&(window.dhtmlx.security_key=m.dhx_security),d.security_key=m.dhx_security);var o=m&&m.collections?m.collections:{},c=!1;for(var u in o)if(o.hasOwnProperty(u)){c=!0;var _=o[u],y=d.serverList[u];y||(d.serverList[u]=y=[]),y.splice(0,y.length);for(var x=0;x<_.length;x++){var v=_[x],S={key:v.value,label:v.label};for(var b in v)if(v.hasOwnProperty(b)){if(b=="value"||b=="label")continue;S[b]=v[b]}y.push(S)}}c&&d.callEvent("onOptionsLoad",[]);for(var k=[],D=0;D<p.length;D++){var M=p[D];d._init_event(M),k.push(M)}return k}}}(s),function(d){d.ical=d._parsers.ical={canParse:function(m){return typeof m=="string"&&new RegExp("^BEGIN:VCALENDAR").test(m)},parse:function(m){var p=m.match(RegExp(this.c_start+"[^\f]*"+this.c_end,""));if(p.length){p[0]=p[0].replace(/[\r\n]+ /g,""),p[0]=p[0].replace(/[\r\n]+(?=[a-z \t])/g," "),p[0]=p[0].replace(/;[^:\r\n]*:/g,":");for(var o,c=[],u=RegExp("(?:"+this.e_start+")([^\f]*?)(?:"+this.e_end+")","g");(o=u.exec(p))!==null;){for(var _,y={},x=/[^\r\n]+[\r\n]+/g;(_=x.exec(o[1]))!==null;)this.parse_param(_.toString(),y);y.uid&&!y.id&&(y.id=y.uid),c.push(y)}return c}},parse_param:function(m,p){var o=m.indexOf(":");if(o!=-1){var c=m.substr(0,o).toLowerCase(),u=m.substr(o+1).replace(/\\,/g,",").replace(/[\r\n]+$/,"");c=="summary"?c="text":c=="dtstart"?(c="start_date",u=this.parse_date(u,0,0)):c=="dtend"&&(c="end_date",u=this.parse_date(u,0,0)),p[c]=u}},parse_date:function(m,p,o){var c=m.split("T"),u=!1;c[1]&&(p=c[1].substr(0,2),o=c[1].substr(2,2),u=c[1][6]=="Z");var _=c[0].substr(0,4),y=parseInt(c[0].substr(4,2),10)-1,x=c[0].substr(6,2);return d.config.server_utc||u?new Date(Date.UTC(_,y,x,p,o)):new Date(_,y,x,p,o)},c_start:"BEGIN:VCALENDAR",e_start:"BEGIN:VEVENT",e_end:"END:VEVENT",c_end:"END:VCALENDAR"}}(s),s.on_load=function(d){var m;this.callEvent("onBeforeParse",[]);var p=!1,o=!1;for(var c in this._parsers){var u=this._parsers[c];if(u.canParse(d.xmlDoc.responseText,d.xmlDoc)){try{var _=d.xmlDoc.responseText;c==="xml"&&(_=d),(m=u.parse(_))||(p=!0)}catch{p=!0}o=!0;break}}if(!o)if(this._process&&this[this._process])try{m=this[this._process].parse(d.xmlDoc.responseText)}catch{p=!0}else p=!0;(p||d.xmlDoc.status&&d.xmlDoc.status>=400)&&(this.callEvent("onLoadError",[d.xmlDoc]),m=[]),this._process_loading(m),this.callEvent("onXLE",[]),this.callEvent("onParse",[])},s._process_loading=function(d){this._loading=!0,this._not_render=!0;for(var m=0;m<d.length;m++)this.callEvent("onEventLoading",[d[m]])&&this.addEvent(d[m]);this._not_render=!1,this._render_wait&&this.render_view_data(),this._loading=!1,this._after_call&&this._after_call(),this._after_call=null},s._init_event=function(d){d.text=d.text||d._tagvalue||"",d.start_date=s._init_date(d.start_date),d.end_date=s._init_date(d.end_date)},s._init_date=function(d){return d?typeof d=="string"?s._helpers.parseDate(d):new Date(d):null};var w=dt()(s);s.serialize=function(){var d=[],m=w();for(var p in m){var o={},c=m[p];for(var u in c)if(u.charAt(0)!="$"&&u.charAt(0)!="_"){var _=void 0,y=c[u];_=s.utils.isDate(y)?s.defined(s.templates.xml_format)?s.templates.xml_format(y):s.templates.format_date(y):y,o[u]=_}d.push(o)}return d},s.parse=function(d,m){this._process=m,this.on_load({xmlDoc:{responseText:d}})},s.load=function(d,m){typeof m=="string"&&(this._process=m,m=arguments[2]),this._load_url=d,this._after_call=m,this._load(d,this._date)},s.setLoadMode=function(d){d=="all"&&(d=""),this._load_mode=d},s.serverList=function(d,m){return m?(this.serverList[d]=m.slice(0),this.serverList[d]):(this.serverList[d]=this.serverList[d]||[],this.serverList[d])},s._userdata={},s._xmlNodeToJSON=function(d){for(var m={},p=0;p<d.attributes.length;p++)m[d.attributes[p].name]=d.attributes[p].value;for(p=0;p<d.childNodes.length;p++){var o=d.childNodes[p];o.nodeType==1&&(m[o.tagName]=o.firstChild?o.firstChild.nodeValue:"")}return m.text||(m.text=d.firstChild?d.firstChild.nodeValue:""),m},s.attachEvent("onXLS",function(){var d;this.config.show_loading===!0&&((d=this.config.show_loading=document.createElement("div")).className="dhx_loading",d.style.left=Math.round((this._x-128)/2)+"px",d.style.top=Math.round((this._y-15)/2)+"px",this._obj.appendChild(d))}),s.attachEvent("onXLE",function(){var d=this.config.show_loading;d&&wt(d)=="object"&&(d.parentNode&&d.parentNode.removeChild(d),this.config.show_loading=!0)})}function Jt(s){s._init_touch_events=function(){if((this.config.touch&&(navigator.userAgent.indexOf("Mobile")!=-1||navigator.userAgent.indexOf("iPad")!=-1||navigator.userAgent.indexOf("Android")!=-1||navigator.userAgent.indexOf("Touch")!=-1)&&!window.MSStream||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&(this.xy.scroll_width=0,this._mobile=!0),this.config.touch){var w=!0;try{document.createEvent("TouchEvent")}catch{w=!1}w?this._touch_events(["touchmove","touchstart","touchend"],function(d){return d.touches&&d.touches.length>1?null:d.touches[0]?{target:d.target,pageX:d.touches[0].pageX,pageY:d.touches[0].pageY,clientX:d.touches[0].clientX,clientY:d.touches[0].clientY}:d},function(){return!1}):window.PointerEvent||window.navigator.pointerEnabled?this._touch_events(["pointermove","pointerdown","pointerup"],function(d){return d.pointerType=="mouse"?null:d},function(d){return!d||d.pointerType=="mouse"}):window.navigator.msPointerEnabled&&this._touch_events(["MSPointerMove","MSPointerDown","MSPointerUp"],function(d){return d.pointerType==d.MSPOINTER_TYPE_MOUSE?null:d},function(d){return!d||d.pointerType==d.MSPOINTER_TYPE_MOUSE})}},s._touch_events=function(w,d,m){var p,o,c,u,_,y,x=0;function v(b,k,D){b.addEventListener(k,function(M){return!!s._is_lightbox_open()||(m(M)?void 0:D(M))},{passive:!1})}function S(b){m(b)||(s._hide_global_tip(),u&&(s._on_mouse_up(d(b)),s._temp_touch_block=!1),s._drag_id=null,s._drag_mode=null,s._drag_pos=null,s._pointerDragId=null,clearTimeout(c),u=y=!1,_=!0)}v(document.body,w[0],function(b){if(!m(b)){var k=d(b);if(k){if(u)return function(D){if(!m(D)){var M=s.getState().drag_mode,V=!!s.matrix&&s.matrix[s._mode],U=s.render_view_data;M=="create"&&V&&(s.render_view_data=function(){for(var q=s.getState().drag_id,Q=s.getEvent(q),re=V.y_property,K=s.getEvents(Q.start_date,Q.end_date),ie=0;ie<K.length;ie++)K[ie][re]!=Q[re]&&(K.splice(ie,1),ie--);Q._sorder=K.length-1,Q._count=K.length,this.render_data([Q],s.getState().mode)}),s._on_mouse_move(D),M=="create"&&V&&(s.render_view_data=U),D.preventDefault&&D.preventDefault(),D.cancelBubble=!0}}(k),b.preventDefault&&b.preventDefault(),b.cancelBubble=!0,s._update_global_tip(),!1;o=d(b),y&&(o?(p.target!=o.target||Math.abs(p.pageX-o.pageX)>5||Math.abs(p.pageY-o.pageY)>5)&&(_=!0,clearTimeout(c)):_=!0)}}}),v(this._els.dhx_cal_data[0],"touchcancel",S),v(this._els.dhx_cal_data[0],"contextmenu",function(b){if(!m(b))return y?(b&&b.preventDefault&&b.preventDefault(),b.cancelBubble=!0,!1):void 0}),v(this._obj,w[1],function(b){var k;if(document&&document.body&&document.body.classList.add("dhx_cal_touch_active"),!m(b))if(s._pointerDragId=b.pointerId,u=_=!1,y=!0,k=o=d(b)){var D=new Date;if(!_&&!u&&D-x<250)return s._click.dhx_cal_data(k),window.setTimeout(function(){k.type="dblclick",s._on_dbl_click(k)},50),b.preventDefault&&b.preventDefault(),b.cancelBubble=!0,s._block_next_stop=!0,!1;if(x=D,!_&&!u&&s.config.touch_drag){var M=s._locate_event(document.activeElement),V=s._locate_event(k.target),U=p?s._locate_event(p.target):null;if(M&&V&&M==V&&M!=U)return b.preventDefault&&b.preventDefault(),b.cancelBubble=!0,s._ignore_next_click=!1,s._click.dhx_cal_data(k),p=k,!1;c=setTimeout(function(){u=!0;var q=p.target,Q=s._getClassName(q);q&&Q.indexOf("dhx_body")!=-1&&(q=q.previousSibling),s._on_mouse_down(p,q),s._drag_mode&&s._drag_mode!="create"&&s.for_rendered(s._drag_id,function(re,K){re.style.display="none",s._rendered.splice(K,1)}),s.config.touch_tip&&s._show_global_tip(),s.updateEvent(s._drag_id)},s.config.touch_drag),p=k}}else _=!0}),v(this._els.dhx_cal_data[0],w[2],function(b){if(document&&document.body&&document.body.classList.remove("dhx_cal_touch_active"),!m(b))return s.config.touch_swipe_dates&&!u&&function(k,D,M,V){if(!k||!D)return!1;for(var U=k.target;U&&U!=s._obj;)U=U.parentNode;if(U!=s._obj||s.matrix&&s.matrix[s.getState().mode]&&s.matrix[s.getState().mode].scrollable)return!1;var q=Math.abs(k.pageY-D.pageY),Q=Math.abs(k.pageX-D.pageX);return q<V&&Q>M&&(!q||Q/q>3)&&(k.pageX>D.pageX?s._click.dhx_cal_next_button():s._click.dhx_cal_prev_button(),!0)}(p,o,200,100)&&(s._block_next_stop=!0),u&&(s._ignore_next_click=!0,setTimeout(function(){s._ignore_next_click=!1},100)),S(b),s._block_next_stop?(s._block_next_stop=!1,b.preventDefault&&b.preventDefault(),b.cancelBubble=!0,!1):void 0}),s.event(document.body,w[2],S)},s._show_global_tip=function(){s._hide_global_tip();var w=s._global_tip=document.createElement("div");w.className="dhx_global_tip",s._update_global_tip(1),document.body.appendChild(w)},s._update_global_tip=function(w){var d=s._global_tip;if(d){var m="";if(s._drag_id&&!w){var p=s.getEvent(s._drag_id);p&&(m="<div>"+(p._timed?s.templates.event_header(p.start_date,p.end_date,p):s.templates.day_date(p.start_date,p.end_date,p))+"</div>")}s._drag_mode=="create"||s._drag_mode=="new-size"?d.innerHTML=(s.locale.labels.drag_to_create||"Drag to create")+m:d.innerHTML=(s.locale.labels.drag_to_move||"Drag to move")+m}},s._hide_global_tip=function(){var w=s._global_tip;w&&w.parentNode&&(w.parentNode.removeChild(w),s._global_tip=0)}}function Mn(s){var w,d;function m(){if(s._is_material_skin())return!0;if(d!==void 0)return d;var o=document.createElement("div");o.style.position="absolute",o.style.left="-9999px",o.style.top="-9999px",o.innerHTML="<div class='dhx_cal_container'><div class='dhx_cal_data'><div class='dhx_cal_event'><div class='dhx_body'></div></div><div>",document.body.appendChild(o);var c=window.getComputedStyle(o.querySelector(".dhx_body")).getPropertyValue("box-sizing");document.body.removeChild(o),(d=c==="border-box")||setTimeout(function(){d=void 0},1e3)}function p(){if(!s._is_material_skin()&&!s._border_box_events()){var o=d;d=void 0,w=void 0,o!==m()&&s.$container&&s.getState().mode&&s.setCurrentView()}}s._skin_settings={fix_tab_position:[1,0],use_select_menu_space:[1,0],wide_form:[1,0],hour_size_px:[44,42],displayed_event_color:["#ff4a4a","ffc5ab"],displayed_event_text_color:["#ffef80","7e2727"]},s._skin_xy={lightbox_additional_height:[90,50],nav_height:[59,22],bar_height:[24,20]},s._is_material_skin=function(){return s.skin?(s.skin+"").indexOf("material")>-1:function(){if(w===void 0){var o=document.createElement("div");o.style.position="absolute",o.style.left="-9999px",o.style.top="-9999px",o.innerHTML="<div class='dhx_cal_container'><div class='dhx_cal_scale_placeholder'></div><div>",document.body.appendChild(o);var c=window.getComputedStyle(o.querySelector(".dhx_cal_scale_placeholder")),u=c.getPropertyValue("position");w=u==="absolute",setTimeout(function(){w=null},500)}return w}()},window.addEventListener("DOMContentLoaded",p),window.addEventListener("load",p),s._border_box_events=function(){return m()},s._configure=function(o,c,u){for(var _ in c)o[_]===void 0&&(o[_]=c[_][u])},s._skin_init=function(){if(!s.skin)for(var o=document.getElementsByTagName("link"),c=0;c<o.length;c++){var u=o[c].href.match("dhtmlxscheduler_([a-z]+).css");if(u){s.skin=u[1];break}}var _=0;if(!s.skin||s.skin!=="classic"&&s.skin!=="glossy"||(_=1),s._is_material_skin()){var y=s.config.buttons_left.$initial,x=s.config.buttons_right.$initial;if(y&&s.config.buttons_left.slice().join()==y&&x&&s.config.buttons_right.slice().join()==x){var v=s.config.buttons_left.slice();s.config.buttons_left=s.config.buttons_right.slice(),s.config.buttons_right=v}s.xy.event_header_height=18,s.xy.week_agenda_scale_height=35,s.xy.map_icon_width=38,s._lightbox_controls.defaults.textarea.height=64,s._lightbox_controls.defaults.time.height="auto"}if(this._configure(s.config,s._skin_settings,_),this._configure(s.xy,s._skin_xy,_),s.skin==="flat"&&(s.xy.scale_height=35,s.templates.hour_scale=function(b){var k=b.getMinutes();return k=k<10?"0"+k:k,"<span class='dhx_scale_h'>"+b.getHours()+"</span><span class='dhx_scale_m'>&nbsp;"+k+"</span>"}),!_){var S=s.config.minicalendar;S&&(S.padding=14),s.templates.event_bar_date=function(b,k,D){return"\u2022 <b>"+s.templates.event_date(b)+"</b> "},s.attachEvent("onTemplatesReady",function(){var b=s.date.date_to_str("%d");s.templates._old_month_day||(s.templates._old_month_day=s.templates.month_day);var k=s.templates._old_month_day;if(s.templates.month_day=function(ie){if(this._mode=="month"){var G=b(ie);return ie.getDate()==1&&(G=s.locale.date.month_full[ie.getMonth()]+" "+G),+ie==+s.date.date_part(this._currentDate())&&(G=s.locale.labels.dhx_cal_today_button+" "+G),G}return k.call(this,ie)},s.config.fix_tab_position){var D=s._els.dhx_cal_navline[0].getElementsByTagName("div"),M=null,V=211,U=[14,75,136],q=14;s._is_material_skin()&&(U=[16,103,192],V=294,q=-1);for(var Q=0;Q<D.length;Q++){var re=D[Q],K=re.getAttribute("data-tab")||re.getAttribute("name");if(K){switch(re.style.right="auto",K){case"day":case"day_tab":re.style.left=U[0]+"px",re.className+=" dhx_cal_tab_first";break;case"week":case"week_tab":re.style.left=U[1]+"px";break;case"month":case"month_tab":re.style.left=U[2]+"px",re.className+=" dhx_cal_tab_last";break;default:re.style.left=V+"px",re.className+=" dhx_cal_tab_standalone",V=V+q+re.offsetWidth}re.className+=" "+K}else(re.className||"").indexOf("dhx_minical_icon")===0&&re.parentNode==s._els.dhx_cal_navline[0]&&(M=re)}M&&(M.style.left=V+"px")}}),s._skin_init=function(){}}}}function gt(s){return(gt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}function ee(s){return this.serverProcessor=s,this.action_param="!nativeeditor_status",this.object=null,this.updatedRows=[],this.autoUpdate=!0,this.updateMode="cell",this._tMode="GET",this._headers=null,this._payload=null,this.post_delim="_",this._waitMode=0,this._in_progress={},this._invalid={},this.messages=[],this.styles={updated:"font-weight:bold;",inserted:"font-weight:bold;",deleted:"text-decoration : line-through;",invalid:"background-color:FFE0E0;",invalid_cell:"border-bottom:2px solid red;",error:"color:red;",clear:"font-weight:normal;text-decoration:none;"},this.enableUTFencoding(!0),T(this),this}function de(s){return(de=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}ee.prototype={setTransactionMode:function(s,w){gt(s)=="object"?(this._tMode=s.mode||this._tMode,s.headers!==void 0&&(this._headers=s.headers),s.payload!==void 0&&(this._payload=s.payload),this._tSend=!!w):(this._tMode=s,this._tSend=w),this._tMode=="REST"&&(this._tSend=!1,this._endnm=!0),this._tMode==="JSON"||this._tMode==="REST-JSON"?(this._tSend=!1,this._endnm=!0,this._serializeAsJson=!0,this._headers=this._headers||{},this._headers["Content-Type"]="application/json"):this._headers&&!this._headers["Content-Type"]&&(this._headers["Content-Type"]="application/x-www-form-urlencoded"),this._tMode==="CUSTOM"&&(this._tSend=!1,this._endnm=!0,this._router=s.router)},escape:function(s){function w(d){return s.apply(this,arguments)}return w.toString=function(){return s.toString()},w}(function(s){return this._utf?encodeURIComponent(s):escape(s)}),enableUTFencoding:function(s){this._utf=!!s},setDataColumns:function(s){this._columns=typeof s=="string"?s.split(","):s},getSyncState:function(){return!this.updatedRows.length},enableDataNames:function(s){this._endnm=!!s},enablePartialDataSend:function(s){this._changed=!!s},setUpdateMode:function(s,w){this.autoUpdate=s=="cell",this.updateMode=s,this.dnd=w},ignore:function(s,w){this._silent_mode=!0,s.call(w||window),this._silent_mode=!1},setUpdated:function(s,w,d){if(!this._silent_mode){var m=this.findRow(s);d=d||"updated";var p=this.$scheduler.getUserData(s,this.action_param);p&&d=="updated"&&(d=p),w?(this.set_invalid(s,!1),this.updatedRows[m]=s,this.$scheduler.setUserData(s,this.action_param,d),this._in_progress[s]&&(this._in_progress[s]="wait")):this.is_invalid(s)||(this.updatedRows.splice(m,1),this.$scheduler.setUserData(s,this.action_param,"")),this.markRow(s,w,d),w&&this.autoUpdate&&this.sendData(s)}},markRow:function(s,w,d){var m="",p=this.is_invalid(s);if(p&&(m=this.styles[p],w=!0),this.callEvent("onRowMark",[s,w,d,p])&&(m=this.styles[w?d:"clear"]+m,this.$scheduler[this._methods[0]](s,m),p&&p.details)){m+=this.styles[p+"_cell"];for(var o=0;o<p.details.length;o++)p.details[o]&&this.$scheduler[this._methods[1]](s,o,m)}},getActionByState:function(s){return s==="inserted"?"create":s==="updated"?"update":s==="deleted"?"delete":"update"},getState:function(s){return this.$scheduler.getUserData(s,this.action_param)},is_invalid:function(s){return this._invalid[s]},set_invalid:function(s,w,d){d&&(w={value:w,details:d,toString:function(){return this.value.toString()}}),this._invalid[s]=w},checkBeforeUpdate:function(s){return!0},sendData:function(s){return this.$scheduler.editStop&&this.$scheduler.editStop(),s===void 0||this._tSend?this.sendAllData():!this._in_progress[s]&&(this.messages=[],!(!this.checkBeforeUpdate(s)&&this.callEvent("onValidationError",[s,this.messages]))&&void this._beforeSendData(this._getRowData(s),s))},_beforeSendData:function(s,w){if(!this.callEvent("onBeforeUpdate",[w,this.getState(w),s]))return!1;this._sendData(s,w)},serialize:function(s,w){if(this._serializeAsJson)return this._serializeAsJSON(s);if(typeof s=="string")return s;if(w!==void 0)return this.serialize_one(s,"");var d=[],m=[];for(var p in s)s.hasOwnProperty(p)&&(d.push(this.serialize_one(s[p],p+this.post_delim)),m.push(p));return d.push("ids="+this.escape(m.join(","))),this.$scheduler.security_key&&d.push("dhx_security="+this.$scheduler.security_key),d.join("&")},serialize_one:function(s,w){if(typeof s=="string")return s;var d=[],m="";for(var p in s)if(s.hasOwnProperty(p)){if((p=="id"||p==this.action_param)&&this._tMode=="REST")continue;m=typeof s[p]=="string"||typeof s[p]=="number"?s[p]:JSON.stringify(s[p]),d.push(this.escape((w||"")+p)+"="+this.escape(m))}return d.join("&")},_applyPayload:function(s){var w=this.$scheduler.ajax;if(this._payload)for(var d in this._payload)s=s+w.urlSeparator(s)+this.escape(d)+"="+this.escape(this._payload[d]);return s},_sendData:function(s,w){if(s){if(!this.callEvent("onBeforeDataSending",w?[w,this.getState(w),s]:[null,null,s]))return!1;w&&(this._in_progress[w]=new Date().valueOf());var d=this,m=this.$scheduler.ajax;if(this._tMode!=="CUSTOM"){var p,o={callback:function(k){var D=[];if(w)D.push(w);else if(s)for(var M in s)D.push(M);return d.afterUpdate(d,k,D)},headers:d._headers},c=this.serverProcessor+(this._user?m.urlSeparator(this.serverProcessor)+["dhx_user="+this._user,"dhx_version="+this.$scheduler.getUserData(0,"version")].join("&"):""),u=this._applyPayload(c);switch(this._tMode){case"GET":p=this._cleanupArgumentsBeforeSend(s),o.url=u+m.urlSeparator(u)+this.serialize(p,w),o.method="GET";break;case"POST":p=this._cleanupArgumentsBeforeSend(s),o.url=u,o.method="POST",o.data=this.serialize(p,w);break;case"JSON":p={};var _=this._cleanupItemBeforeSend(s);for(var y in _)y!==this.action_param&&y!=="id"&&y!=="gr_id"&&(p[y]=_[y]);o.url=u,o.method="POST",o.data=JSON.stringify({id:w,action:s[this.action_param],data:p});break;case"REST":case"REST-JSON":switch(u=c.replace(/(&|\?)editing=true/,""),p="",this.getState(w)){case"inserted":o.method="POST",o.data=this.serialize(s,w);break;case"deleted":o.method="DELETE",u=u+(u.slice(-1)==="/"?"":"/")+w;break;default:o.method="PUT",o.data=this.serialize(s,w),u=u+(u.slice(-1)==="/"?"":"/")+w}o.url=this._applyPayload(u)}return this._waitMode++,m.query(o)}var x,v=this.getState(w),S=this.getActionByState(v),b=function(k){var D=v;if(k&&k.responseText&&k.setRequestHeader){k.status!==200&&(D="error");try{k=JSON.parse(k.responseText)}catch{}}D=D||"updated";var M=w,V=w;k&&(D=k.action||D,M=k.sid||M,V=k.id||k.tid||V),d.afterUpdateCallback(M,V,D,k)};if(this._router instanceof Function)x=this._router("event",S,s,w);else switch(v){case"inserted":x=this._router.event.create(s);break;case"deleted":x=this._router.event.delete(w);break;default:x=this._router.event.update(s,w)}if(x){if(!x.then&&x.id===void 0&&x.tid===void 0&&x.action===void 0)throw new Error("Incorrect router return value. A Promise or a response object is expected");x.then?x.then(b).catch(function(k){k&&k.action?b(k):b({action:"error",value:k})}):b(x)}else b(null)}},sendAllData:function(){if(this.updatedRows.length&&this.updateMode!=="off"){this.messages=[];var s=!0;if(this._forEachUpdatedRow(function(w){s=s&&this.checkBeforeUpdate(w)}),!s&&!this.callEvent("onValidationError",["",this.messages]))return!1;this._tSend?this._sendData(this._getAllData()):this._forEachUpdatedRow(function(w){if(!this._in_progress[w]){if(this.is_invalid(w))return;this._beforeSendData(this._getRowData(w),w)}})}},_getAllData:function(s){var w={},d=!1;return this._forEachUpdatedRow(function(m){if(!this._in_progress[m]&&!this.is_invalid(m)){var p=this._getRowData(m);this.callEvent("onBeforeUpdate",[m,this.getState(m),p])&&(w[m]=p,d=!0,this._in_progress[m]=new Date().valueOf())}}),d?w:null},findRow:function(s){var w=0;for(w=0;w<this.updatedRows.length&&s!=this.updatedRows[w];w++);return w},defineAction:function(s,w){this._uActions||(this._uActions={}),this._uActions[s]=w},afterUpdateCallback:function(s,w,d,m){if(this.$scheduler){var p=s,o=d!=="error"&&d!=="invalid";if(o||this.set_invalid(s,d),this._uActions&&this._uActions[d]&&!this._uActions[d](m))return delete this._in_progress[p];this._in_progress[p]!=="wait"&&this.setUpdated(s,!1);var c=s;switch(d){case"inserted":case"insert":w!=s&&(this.setUpdated(s,!1),this.$scheduler[this._methods[2]](s,w),s=w);break;case"delete":case"deleted":return this.$scheduler.setUserData(s,this.action_param,"true_deleted"),this.$scheduler[this._methods[3]](s,w),delete this._in_progress[p],this.callEvent("onAfterUpdate",[s,d,w,m])}this._in_progress[p]!=="wait"?(o&&this.$scheduler.setUserData(s,this.action_param,""),delete this._in_progress[p]):(delete this._in_progress[p],this.setUpdated(w,!0,this.$scheduler.getUserData(s,this.action_param))),this.callEvent("onAfterUpdate",[c,d,w,m])}},_errorResponse:function(s,w){return this.$scheduler&&this.$scheduler.callEvent&&this.$scheduler.callEvent("onSaveError",[w,s.xmlDoc]),this.cleanUpdate(w)},_setDefaultTransactionMode:function(){this.serverProcessor&&(this.setTransactionMode("POST",!0),this.serverProcessor+=(this.serverProcessor.indexOf("?")!==-1?"&":"?")+"editing=true",this._serverProcessor=this.serverProcessor)},afterUpdate:function(s,w,d){var m=this.$scheduler.ajax;if(w.xmlDoc.status===200){var p;try{p=JSON.parse(w.xmlDoc.responseText)}catch{w.xmlDoc.responseText.length||(p={})}if(p){var o=p.action||this.getState(d)||"updated",c=p.sid||d[0],u=p.tid||d[0];return s.afterUpdateCallback(c,u,o,p),void s.finalizeUpdate()}var _=m.xmltop("data",w.xmlDoc);if(!_)return this._errorResponse(w,d);var y=m.xpath("//data/action",_);if(!y.length)return this._errorResponse(w,d);for(var x=0;x<y.length;x++){var v=y[x];o=v.getAttribute("type"),c=v.getAttribute("sid"),u=v.getAttribute("tid"),s.afterUpdateCallback(c,u,o,v)}s.finalizeUpdate()}else this._errorResponse(w,d)},cleanUpdate:function(s){if(s)for(var w=0;w<s.length;w++)delete this._in_progress[s[w]]},finalizeUpdate:function(){this._waitMode&&this._waitMode--,this.callEvent("onAfterUpdateFinish",[]),this.updatedRows.length||this.callEvent("onFullSync",[])},init:function(s){if(!this._initialized){this.$scheduler=s,this.$scheduler._dp_init&&this.$scheduler._dp_init(this),this._setDefaultTransactionMode(),this._methods=this._methods||["_set_event_text_style","","_dp_change_event_id","_dp_hook_delete"],function(d,m){d._validId=function(p){return!0},d.setUserData=function(p,o,c){if(p){var u=this.getEvent(p);u&&(u[o]=c)}else this._userdata[o]=c},d.getUserData=function(p,o){if(p){var c=this.getEvent(p);return c?c[o]:null}return this._userdata[o]},d._set_event_text_style=function(p,o){if(d.getEvent(p)){this.for_rendered(p,function(u){u.style.cssText+=";"+o});var c=this.getEvent(p);c._text_style=o,this.event_updated(c)}},d._update_callback=function(p,o){var c=d._xmlNodeToJSON(p.firstChild);c.rec_type=="none"&&(c.rec_pattern="none"),c.text=c.text||c._tagvalue,c.start_date=d._helpers.parseDate(c.start_date),c.end_date=d._helpers.parseDate(c.end_date),d.addEvent(c),d._add_rec_marker&&d.setCurrentView()},d._dp_change_event_id=function(p,o){d.getEvent(p)&&d.changeEventId(p,o)},d._dp_hook_delete=function(p,o){if(d.getEvent(p))return o&&p!=o&&(this.getUserData(p,m.action_param)=="true_deleted"&&this.setUserData(p,m.action_param,"updated"),this.changeEventId(p,o)),this.deleteEvent(o,!0)},d.setDp=function(){this._dp=m},d.setDp()}(this.$scheduler,this);var w=new function(d,m){this.$scheduler=d,this.$dp=m,this._dataProcessorHandlers=[],this.attach=function(){var p=this.$dp,o=this.$scheduler;this._dataProcessorHandlers.push(o.attachEvent("onEventAdded",function(c){!this._loading&&this._validId(c)&&p.setUpdated(c,!0,"inserted")})),this._dataProcessorHandlers.push(o.attachEvent("onConfirmedBeforeEventDelete",function(c){if(this._validId(c)){var u=p.getState(c);return u=="inserted"||this._new_event?(p.setUpdated(c,!1),!0):u!="deleted"&&(u=="true_deleted"||(p.setUpdated(c,!0,"deleted"),!1))}})),this._dataProcessorHandlers.push(o.attachEvent("onEventChanged",function(c){!this._loading&&this._validId(c)&&p.setUpdated(c,!0,"updated")})),this._dataProcessorHandlers.push(o.attachEvent("onClearAll",function(){p._in_progress={},p._invalid={},p.updatedRows=[],p._waitMode=0})),p.attachEvent("insertCallback",o._update_callback),p.attachEvent("updateCallback",o._update_callback),p.attachEvent("deleteCallback",function(c,u){o.getEvent(u)?(o.setUserData(u,this.action_param,"true_deleted"),o.deleteEvent(u)):o._add_rec_marker&&o._update_callback(c,u)})},this.detach=function(){for(var p in this._dataProcessorHandlers){var o=this._dataProcessorHandlers[p];this.$scheduler.detachEvent(o)}this._dataProcessorHandlers=[]}}(this.$scheduler,this);w.attach(),this.attachEvent("onDestroy",function(){delete this._getRowData,delete this.$scheduler._dp,delete this.$scheduler._dataprocessor,delete this.$scheduler._set_event_text_style,delete this.$scheduler._dp_change_event_id,delete this.$scheduler._dp_hook_delete,delete this.$scheduler,w.detach()}),this.$scheduler.callEvent("onDataProcessorReady",[this]),this._initialized=!0,s._dataprocessor=this}},setOnAfterUpdate:function(s){this.attachEvent("onAfterUpdate",s)},setOnBeforeUpdateHandler:function(s){this.attachEvent("onBeforeDataSending",s)},setAutoUpdate:function(s,w){s=s||2e3,this._user=w||new Date().valueOf(),this._need_update=!1,this._update_busy=!1,this.attachEvent("onAfterUpdate",function(m,p,o,c){this.afterAutoUpdate(m,p,o,c)}),this.attachEvent("onFullSync",function(){this.fullSync()});var d=this;a.a.setInterval(function(){d.loadUpdate()},s)},afterAutoUpdate:function(s,w,d,m){return w!="collision"||(this._need_update=!0,!1)},fullSync:function(){return this._need_update&&(this._need_update=!1,this.loadUpdate()),!0},getUpdates:function(s,w){var d=this.$scheduler.ajax;if(this._update_busy)return!1;this._update_busy=!0,d.get(s,w)},_getXmlNodeValue:function(s){return s.firstChild?s.firstChild.nodeValue:""},loadUpdate:function(){var s=this,w=this.$scheduler.ajax,d=this.$scheduler.getUserData(0,"version"),m=this.serverProcessor+w.urlSeparator(this.serverProcessor)+["dhx_user="+this._user,"dhx_version="+d].join("&");m=m.replace("editing=true&",""),this.getUpdates(m,function(p){var o=w.xpath("//userdata",p);s.$scheduler.setUserData(0,"version",s._getXmlNodeValue(o[0]));var c=w.xpath("//update",p);if(c.length){s._silent_mode=!0;for(var u=0;u<c.length;u++){var _=c[u].getAttribute("status"),y=c[u].getAttribute("id"),x=c[u].getAttribute("parent");switch(_){case"inserted":this.callEvent("insertCallback",[c[u],y,x]);break;case"updated":this.callEvent("updateCallback",[c[u],y,x]);break;case"deleted":this.callEvent("deleteCallback",[c[u],y,x])}}s._silent_mode=!1}s._update_busy=!1,s=null})},destructor:function(){this.callEvent("onDestroy",[]),this.detachAllEvents(),this.updatedRows=[],this._in_progress={},this._invalid={},this._headers=null,this._payload=null,delete this._initialized},url:function(s){this.serverProcessor=this._serverProcessor=s},_serializeAsJSON:function(s){if(typeof s=="string")return s;var w=this.$scheduler.utils.copy(s);return this._tMode==="REST-JSON"&&(delete w.id,delete w[this.action_param]),JSON.stringify(w)},_cleanupArgumentsBeforeSend:function(s){var w;if(s[this.action_param]===void 0)for(var d in w={},s)w[d]=this._cleanupArgumentsBeforeSend(s[d]);else w=this._cleanupItemBeforeSend(s);return w},_cleanupItemBeforeSend:function(s){var w=null;return s&&(s[this.action_param]==="deleted"?((w={}).id=s.id,w[this.action_param]=s[this.action_param]):w=s),w},_forEachUpdatedRow:function(s){for(var w=this.updatedRows.slice(),d=0;d<w.length;d++){var m=w[d];this.$scheduler.getUserData(m,this.action_param)&&s.call(this,m)}},_prepareDataItem:function(s){var w={},d=this.$scheduler,m=d.utils.copy(s);for(var p in m)p.indexOf("_")!==0&&m[p]&&(m[p].getUTCFullYear?w[p]=d._helpers.formatDate(m[p]):gt(m[p])=="object"?w[p]=this._prepareDataItem(m[p]):m[p]===null?w[p]="":w[p]=m[p]);return w[this.action_param]=d.getUserData(s.id,this.action_param),w},_getRowData:function(s){var w=this.$scheduler.getEvent(s);return w||(w={id:s}),this._prepareDataItem(w)}};var Ee=function(s){var w="data-dhxbox",d=null;function m(U,q){var Q=U.callback;D.hide(U.box),d=U.box=null,Q&&Q(q)}function p(U){if(d){var q=U.which||U.keyCode,Q=!1;if(M.keyboard){if(q==13||q==32){var re=U.target||U.srcElement;he.getClassName(re).indexOf("scheduler_popup_button")>-1&&re.click?re.click():(m(d,!0),Q=!0)}q==27&&(m(d,!1),Q=!0)}return Q?(U.preventDefault&&U.preventDefault(),!(U.cancelBubble=!0)):void 0}}function o(U){o.cover||(o.cover=document.createElement("div"),s.event(o.cover,"keydown",p),o.cover.className="dhx_modal_cover",document.body.appendChild(o.cover)),o.cover.style.display=U?"inline-block":"none"}function c(U,q,Q){var re=s._waiAria.messageButtonAttrString(U),K=(q||"").toLowerCase().replace(/ /g,"_"),ie="scheduler_".concat(K,"_button dhtmlx_").concat(K,"_button");return"<div ".concat(re," class='scheduler_popup_button dhtmlx_popup_button ").concat(ie,"' data-result='").concat(Q,"' result='").concat(Q,"' ><div>").concat(U,"</div></div>")}function u(U){M.area||(M.area=document.createElement("div"),M.area.className="scheduler_message_area dhtmlx_message_area",M.area.style[M.position]="5px",document.body.appendChild(M.area)),M.hide(U.id);var q=document.createElement("div");return q.innerHTML="<div>"+U.text+"</div>",q.className="scheduler-info dhtmlx-info scheduler-"+U.type+" dhtmlx-"+U.type,s.event(q,"click",function(){M.hide(U.id),U=null}),s._waiAria.messageInfoAttr(q),M.position=="bottom"&&M.area.firstChild?M.area.insertBefore(q,M.area.firstChild):M.area.appendChild(q),U.expire>0&&(M.timers[U.id]=window.setTimeout(function(){M&&M.hide(U.id)},U.expire)),M.pull[U.id]=q,q=null,U.id}function _(){for(var U=[].slice.apply(arguments,[0]),q=0;q<U.length;q++)if(U[q])return U[q]}function y(U,q,Q){var re=U.tagName?U:function(G,ne,J){var we=document.createElement("div"),Te=F.uid();s._waiAria.messageModalAttr(we,Te),we.className=" scheduler_modal_box dhtmlx_modal_box scheduler-"+G.type+" dhtmlx-"+G.type,we.setAttribute(w,1);var Se="";if(G.width&&(we.style.width=G.width),G.height&&(we.style.height=G.height),G.title&&(Se+='<div class="scheduler_popup_title dhtmlx_popup_title">'+G.title+"</div>"),Se+='<div class="scheduler_popup_text dhtmlx_popup_text" id="'+Te+'"><span>'+(G.content?"":G.text)+'</span></div><div  class="scheduler_popup_controls dhtmlx_popup_controls">',ne&&(Se+=c(_(G.ok,s.locale.labels.message_ok,"OK"),"ok",!0)),J&&(Se+=c(_(G.cancel,s.locale.labels.message_cancel,"Cancel"),"cancel",!1)),G.buttons)for(var Ie=0;Ie<G.buttons.length;Ie++){var De=G.buttons[Ie];de(De)=="object"?Se+=c(De.label,De.css||"scheduler_"+De.label.toLowerCase()+"_button dhtmlx_"+De.label.toLowerCase()+"_button",De.value||Ie):Se+=c(De,De,Ie)}if(Se+="</div>",we.innerHTML=Se,G.content){var Ve=G.content;typeof Ve=="string"&&(Ve=document.getElementById(Ve)),Ve.style.display=="none"&&(Ve.style.display=""),we.childNodes[G.title?1:0].appendChild(Ve)}return s.event(we,"click",function(Ke){var et=Ke.target||Ke.srcElement;if(et.className||(et=et.parentNode),he.closest(et,".scheduler_popup_button")){var Pt=et.getAttribute("data-result");m(G,Pt=Pt=="true"||Pt!="false"&&Pt)}}),G.box=we,(ne||J)&&(d=G),we}(U,q,Q);U.hidden||o(!0),document.body.appendChild(re);var K=Math.abs(Math.floor(((window.innerWidth||document.documentElement.offsetWidth)-re.offsetWidth)/2)),ie=Math.abs(Math.floor(((window.innerHeight||document.documentElement.offsetHeight)-re.offsetHeight)/2));return U.position=="top"?re.style.top="-3px":re.style.top=ie+"px",re.style.left=K+"px",s.event(re,"keydown",p),D.focus(re),U.hidden&&D.hide(re),s.callEvent("onMessagePopup",[re]),re}function x(U){return y(U,!0,!1)}function v(U){return y(U,!0,!0)}function S(U){return y(U)}function b(U,q,Q){return de(U)!="object"&&(typeof q=="function"&&(Q=q,q=""),U={text:U,type:q,callback:Q}),U}function k(U,q,Q,re){return de(U)!="object"&&(U={text:U,type:q,expire:Q,id:re}),U.id=U.id||F.uid(),U.expire=U.expire||M.expire,U}s.event(document,"keydown",p,!0);var D=function(){var U=b.apply(this,arguments);return U.type=U.type||"alert",S(U)};D.hide=function(U){for(;U&&U.getAttribute&&!U.getAttribute(w);)U=U.parentNode;U&&(U.parentNode.removeChild(U),o(!1),s.callEvent("onAfterMessagePopup",[U]))},D.focus=function(U){setTimeout(function(){var q=he.getFocusableNodes(U);q.length&&q[0].focus&&q[0].focus()},1)};var M=function(U,q,Q,re){switch((U=k.apply(this,arguments)).type=U.type||"info",U.type.split("-")[0]){case"alert":return x(U);case"confirm":return v(U);case"modalbox":return S(U);default:return u(U)}};M.seed=new Date().valueOf(),M.uid=F.uid,M.expire=4e3,M.keyboard=!0,M.position="top",M.pull={},M.timers={},M.hideAll=function(){for(var U in M.pull)M.hide(U)},M.hide=function(U){var q=M.pull[U];q&&q.parentNode&&(window.setTimeout(function(){q.parentNode.removeChild(q),q=null},2e3),q.className+=" hidden",M.timers[U]&&window.clearTimeout(M.timers[U]),delete M.pull[U])};var V=[];return s.attachEvent("onMessagePopup",function(U){V.push(U)}),s.attachEvent("onAfterMessagePopup",function(U){for(var q=0;q<V.length;q++)V[q]===U&&(V.splice(q,1),q--)}),s.attachEvent("onDestroy",function(){o.cover&&o.cover.parentNode&&o.cover.parentNode.removeChild(o.cover);for(var U=0;U<V.length;U++)V[U].parentNode&&V[U].parentNode.removeChild(V[U]);V=null,M.area&&M.area.parentNode&&M.area.parentNode.removeChild(M.area),M=null}),{alert:function(){var U=b.apply(this,arguments);return U.type=U.type||"confirm",x(U)},confirm:function(){var U=b.apply(this,arguments);return U.type=U.type||"alert",v(U)},message:M,modalbox:D}},Ne={date:{month_full:["\u0643\u0627\u0646\u0648\u0646 \u0627\u0644\u062B\u0627\u0646\u064A","\u0634\u0628\u0627\u0637","\u0622\u0630\u0627\u0631","\u0646\u064A\u0633\u0627\u0646","\u0623\u064A\u0627\u0631","\u062D\u0632\u064A\u0631\u0627\u0646","\u062A\u0645\u0648\u0632","\u0622\u0628","\u0623\u064A\u0644\u0648\u0644","\u062A\u0634\u0631\u064A\u0646 \u0627\u0644\u0623\u0648\u0644","\u062A\u0634\u0631\u064A\u0646 \u0627\u0644\u062B\u0627\u0646\u064A","\u0643\u0627\u0646\u0648\u0646 \u0627\u0644\u0623\u0648\u0644"],month_short:["\u064A\u0646\u0627\u064A\u0631","\u0641\u0628\u0631\u0627\u064A\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064A\u0644","\u0645\u0627\u064A\u0648","\u064A\u0648\u0646\u064A\u0648","\u064A\u0648\u0644\u064A\u0648","\u0623\u063A\u0633\u0637\u0633","\u0633\u0628\u062A\u0645\u0628\u0631","\u0623\u0643\u062A\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062F\u064A\u0633\u0645\u0628\u0631"],day_full:["\u0627\u0644\u0623\u062D\u062F","\u0627\u0644\u0623\u062B\u0646\u064A\u0646","\u0623\u0644\u062B\u0644\u0627\u062B\u0627\u0621","\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621","\u0623\u0644\u062D\u0645\u064A\u0633","\u0623\u0644\u062C\u0645\u0639\u0629","\u0627\u0644\u0633\u0628\u062A"],day_short:["\u0627\u062D\u062F","\u0627\u062B\u0646\u064A\u0646","\u062B\u0644\u0627\u062B\u0627\u0621","\u0627\u0631\u0628\u0639\u0627\u0621","\u062E\u0645\u064A\u0633","\u062C\u0645\u0639\u0629","\u0633\u0628\u062A"]},labels:{dhx_cal_today_button:"\u0627\u0644\u064A\u0648\u0645",day_tab:"\u064A\u0648\u0645",week_tab:"\u0623\u0633\u0628\u0648\u0639",month_tab:"\u0634\u0647\u0631",new_event:"\u062D\u062F\u062B \u062C\u062F\u064A\u062F",icon_save:"\u0627\u062E\u0632\u0646",icon_cancel:"\u0627\u0644\u063A\u0627\u0621",icon_details:"\u062A\u0641\u0627\u0635\u064A\u0644",icon_edit:"\u062A\u062D\u0631\u064A\u0631",icon_delete:"\u062D\u0630\u0641",confirm_closing:"\u0627\u0644\u062A\u063A\u064A\u064A\u0631\u0627\u062A \u0633\u0648\u0641 \u062A\u0636\u064A\u0639, \u0647\u0644 \u0627\u0646\u062A \u0645\u062A\u0623\u0643\u062F\u061F",confirm_deleting:"\u0627\u0644\u062D\u062F\u062B \u0633\u064A\u062A\u0645 \u062D\u0630\u0641\u0647\u0627 \u0646\u0647\u0627\u0626\u064A\u0627 \u060C \u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F\u061F",section_description:"\u0627\u0644\u0648\u0635\u0641",section_time:"\u0627\u0644\u0641\u062A\u0631\u0629 \u0627\u0644\u0632\u0645\u0646\u064A\u0629",full_day:"\u0637\u0648\u0627\u0644 \u0627\u0644\u064A\u0648\u0645",confirm_recurring:"\u0647\u0644 \u062A\u0631\u064A\u062F \u062A\u062D\u0631\u064A\u0631 \u0645\u062C\u0645\u0648\u0639\u0629 \u0643\u0627\u0645\u0644\u0629 \u0645\u0646 \u0627\u0644\u0623\u062D\u062F\u0627\u062B \u0627\u0644\u0645\u062A\u0643\u0631\u0631\u0629\u061F",section_recurring:"\u062A\u0643\u0631\u0627\u0631 \u0627\u0644\u062D\u062F\u062B",button_recurring:"\u062A\u0639\u0637\u064A\u0644",button_recurring_open:"\u062A\u0645\u0643\u064A\u0646",button_edit_series:"\u062A\u062D\u0631\u064A\u0631 \u0633\u0644\u0633\u0644\u0629",button_edit_occurrence:"\u062A\u0639\u062F\u064A\u0644 \u0646\u0633\u062E\u0629",grid_tab:"\u062C\u062F\u0648\u0644",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute"}},qe={date:{month_full:["\u0421\u0442\u0443\u0434\u0437\u0435\u043D\u044C","\u041B\u044E\u0442\u044B","\u0421\u0430\u043A\u0430\u0432\u0456\u043A","\u041A\u0440\u0430\u0441\u0430\u0432\u0456\u043A","Ma\u0439","\u0427\u044D\u0440\u0432\u0435\u043D\u044C","\u041B\u0456\u043F\u0435\u043D\u044C","\u0416\u043D\u0456\u0432\u0435\u043D\u044C","\u0412\u0435\u0440\u0430\u0441\u0435\u043D\u044C","\u041A\u0430\u0441\u0442\u0440\u044B\u0447\u043D\u0456\u043A","\u041B\u0456\u0441\u0442\u0430\u043F\u0430\u0434","\u0421\u043D\u0435\u0436\u0430\u043D\u044C"],month_short:["\u0421\u0442\u0443\u0434\u0437","\u041B\u044E\u0442","\u0421\u0430\u043A","\u041A\u0440\u0430\u0441","Ma\u0439","\u0427\u044D\u0440","\u041B\u0456\u043F","\u0416\u043D\u0456\u0432","\u0412\u0435\u0440","\u041A\u0430\u0441\u0442","\u041B\u0456\u0441\u0442","\u0421\u043D\u0435\u0436"],day_full:["\u041D\u044F\u0434\u0437\u0435\u043B\u044F","\u041F\u0430\u043D\u044F\u0434\u0437\u0435\u043B\u0430\u043A","\u0410\u045E\u0442\u043E\u0440\u0430\u043A","\u0421\u0435\u0440\u0430\u0434\u0430","\u0427\u0430\u0446\u0432\u0435\u0440","\u041F\u044F\u0442\u043D\u0456\u0446\u0430","\u0421\u0443\u0431\u043E\u0442\u0430"],day_short:["\u041D\u0434","\u041F\u043D","\u0410\u045E\u0442","\u0421\u0440","\u0427\u0446\u0432","\u041F\u0442","\u0421\u0431"]},labels:{dhx_cal_today_button:"\u0421\u0451\u043D\u043D\u044F",day_tab:"\u0414\u0437\u0435\u043D\u044C",week_tab:"\u0422\u044B\u0434\u0437\u0435\u043D\u044C",month_tab:"\u041C\u0435\u0441\u044F\u0446",new_event:"\u041D\u043E\u0432\u0430\u044F \u043F\u0430\u0434\u0437\u0435\u044F",icon_save:"\u0417\u0430\u0445\u0430\u0432\u0430\u0446\u044C",icon_cancel:"\u0410\u0434\u043C\u044F\u043D\u0456\u0446\u044C",icon_details:"\u0414\u044D\u0442\u0430\u043B\u0456",icon_edit:"\u0417\u043C\u044F\u043D\u0456\u0446\u044C",icon_delete:"\u0412\u044B\u0434\u0430\u043B\u0456\u0446\u044C",confirm_closing:"",confirm_deleting:"\u041F\u0430\u0434\u0437\u0435\u044F \u0431\u0443\u0434\u0437\u0435 \u0432\u044B\u0434\u0430\u043B\u0435\u043D\u0430 \u043D\u0435\u0437\u0432\u0430\u0440\u043E\u0442\u043D\u0430, \u043F\u0440\u0430\u0446\u044F\u0433\u043D\u0443\u0446\u044C?",section_description:"\u0410\u043F\u0456\u0441\u0430\u043D\u043D\u0435",section_time:"\u041F\u0435\u0440\u044B\u044F\u0434 \u0447\u0430\u0441\u0443",full_day:"\u0423\u0432\u0435\u0441\u044C \u0434\u0437\u0435\u043D\u044C",confirm_recurring:"\u0412\u044B \u0445\u043E\u0447\u0430\u0446\u0435 \u0437\u043C\u044F\u043D\u0456\u0446\u044C \u0443\u0441\u044E \u0441\u0435\u0440\u044B\u044E \u043F\u0430\u045E\u0442\u0430\u0440\u0430\u043B\u044C\u043D\u044B\u0445 \u043F\u0430\u0434\u0437\u0435\u0439?",section_recurring:"\u041F\u0430\u045E\u0442\u0430\u0440\u044D\u043D\u043D\u0435",button_recurring:"\u0410\u0434\u043A\u043B\u044E\u0447\u0430\u043D\u0430",button_recurring_open:"\u0423\u043A\u043B\u044E\u0447\u0430\u043D\u0430",button_edit_series:"\u0420\u044D\u0434\u0430\u0433\u0430\u0432\u0430\u0446\u044C \u0441\u0435\u0440\u044B\u044E",button_edit_occurrence:"\u0420\u044D\u0434\u0430\u0433\u0430\u0432\u0430\u0446\u044C \u0430\u0441\u043E\u0431\u043D\u0456\u043A",agenda_tab:"\u0421\u043F\u0456\u0441",date:"\u0414\u0430\u0442\u0430",description:"\u0410\u043F\u0456\u0441\u0430\u043D\u043D\u0435",year_tab:"\u0413\u043E\u0434",week_agenda_tab:"\u0421\u043F\u0456\u0441",grid_tab:"\u0421\u043Fic",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"\u0414\u0437\u0435\u043D\u044C",repeat_radio_week:"\u0422\u044B\u0434\u0437\u0435\u043D\u044C",repeat_radio_month:"\u041C\u0435\u0441\u044F\u0446",repeat_radio_year:"\u0413\u043E\u0434",repeat_radio_day_type:"\u041A\u043E\u0436\u043D\u044B",repeat_text_day_count:"\u0434\u0437\u0435\u043D\u044C",repeat_radio_day_type2:"\u041A\u043E\u0436\u043D\u044B \u043F\u0440\u0430\u0446\u043E\u045E\u043D\u044B \u0434\u0437\u0435\u043D\u044C",repeat_week:" \u041F\u0430\u045E\u0442\u0430\u0440\u0430\u0446\u044C \u043A\u043E\u0436\u043D\u044B",repeat_text_week_count:"\u0442\u044B\u0434\u0437\u0435\u043D\u044C",repeat_radio_month_type:"\u041F\u0430\u045E\u0442\u0430\u0440\u0430\u0446\u044C",repeat_radio_month_start:"",repeat_text_month_day:" \u0447\u044B\u0441\u043B\u0430 \u043A\u043E\u0436\u043D\u0430\u0433\u0430",repeat_text_month_count:"\u043C\u0435\u0441\u044F\u0446\u0443",repeat_text_month_count2_before:"\u043A\u043E\u0436\u043D\u044B ",repeat_text_month_count2_after:"\u043C\u0435\u0441\u044F\u0446",repeat_year_label:"",select_year_day2:"",repeat_text_year_day:"\u0434\u0435\u043D\u044C",select_year_month:"",repeat_radio_end:"\u0411\u0435\u0437 \u0434\u0430\u0442\u044B \u0437\u0430\u043A\u0430\u043D\u0447\u044D\u043D\u043D\u044F",repeat_text_occurences_count:"\u043F\u0430\u045E\u0442\u043E\u0440\u0430\u045E",repeat_radio_end2:"",repeat_radio_end3:"\u0414\u0430 ",month_for_recurring:["\u0421\u0442\u0443\u0434\u0437\u0435\u043D\u044F","\u041B\u044E\u0442\u0430\u0433\u0430","\u0421\u0430\u043A\u0430\u0432\u0456\u043A\u0430","\u041A\u0440\u0430\u0441\u0430\u0432\u0456\u043A\u0430","\u041C\u0430\u044F","\u0427\u044D\u0440\u0432\u0435\u043D\u044F","\u041B\u0456\u043Fe\u043D\u044F","\u0416\u043D\u0456\u045E\u043D\u044F","\u0412\u0435\u0440\u0430\u0441\u043D\u044F","\u041A\u0430\u0441\u0442\u0440\u044B\u0447\u043D\u0456\u043A\u0430","\u041B\u0456\u0441\u0442\u0430\u043F\u0430\u0434\u0430","\u0421\u043D\u0435\u0436\u043D\u044F"],day_for_recurring:["\u041D\u044F\u0434\u0437\u0435\u043B\u044E","\u041F\u0430\u043D\u044F\u0434\u0437\u0435\u043B\u0430\u043A","\u0410\u045E\u0442\u043E\u0440\u0430\u043A","\u0421\u0435\u0440\u0430\u0434\u0443","\u0427\u0430\u0446\u0432\u0435\u0440","\u041F\u044F\u0442\u043D\u0456\u0446\u0443","\u0421\u0443\u0431\u043E\u0442\u0443"]}},Be={date:{month_full:["Gener","Febrer","Mar\xE7","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"],month_short:["Gen","Feb","Mar","Abr","Mai","Jun","Jul","Ago","Set","Oct","Nov","Des"],day_full:["Diumenge","Dilluns","Dimarts","Dimecres","Dijous","Divendres","Dissabte"],day_short:["Dg","Dl","Dm","Dc","Dj","Dv","Ds"]},labels:{dhx_cal_today_button:"Hui",day_tab:"Dia",week_tab:"Setmana",month_tab:"Mes",new_event:"Nou esdeveniment",icon_save:"Guardar",icon_cancel:"Cancel\xB7lar",icon_details:"Detalls",icon_edit:"Editar",icon_delete:"Esborrar",confirm_closing:"",confirm_deleting:"L'esdeveniment s'esborrar\xE0 definitivament, continuar ?",section_description:"Descripci\xF3",section_time:"Periode de temps",full_day:"Tot el dia",confirm_recurring:"\xBFDesitja modificar el conjunt d'esdeveniments repetits?",section_recurring:"Repeteixca l'esdeveniment",button_recurring:"Impedit",button_recurring_open:"Perm\xE9s",button_edit_series:"Edit s\xE8rie",button_edit_occurrence:"Edita Inst\xE0ncia",agenda_tab:"Agenda",date:"Data",description:"Descripci\xF3",year_tab:"Any",week_agenda_tab:"Agenda",grid_tab:"Taula",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute"}},oe={date:{month_full:["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"],month_short:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],day_full:["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"],day_short:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"]},labels:{dhx_cal_today_button:"\u4ECA\u5929",day_tab:"\u65E5",week_tab:"\u5468",month_tab:"\u6708",new_event:"\u65B0\u5EFA\u65E5\u7A0B",icon_save:"\u4FDD\u5B58",icon_cancel:"\u5173\u95ED",icon_details:"\u8BE6\u7EC6",icon_edit:"\u7F16\u8F91",icon_delete:"\u5220\u9664",confirm_closing:"\u8BF7\u786E\u8BA4\u662F\u5426\u64A4\u9500\u4FEE\u6539!",confirm_deleting:"\u662F\u5426\u5220\u9664\u65E5\u7A0B?",section_description:"\u63CF\u8FF0",section_time:"\u65F6\u95F4\u8303\u56F4",full_day:"\u6574\u5929",confirm_recurring:"\u8BF7\u786E\u8BA4\u662F\u5426\u5C06\u65E5\u7A0B\u8BBE\u4E3A\u91CD\u590D\u6A21\u5F0F?",section_recurring:"\u91CD\u590D\u5468\u671F",button_recurring:"\u7981\u7528",button_recurring_open:"\u542F\u7528",button_edit_series:"\u7F16\u8F91\u7CFB\u5217",button_edit_occurrence:"\u7F16\u8F91\u5B9E\u4F8B",agenda_tab:"\u8BAE\u7A0B",date:"\u65E5\u671F",description:"\u8BF4\u660E",year_tab:"\u4ECA\u5E74",week_agenda_tab:"\u8BAE\u7A0B",grid_tab:"\u7535\u7F51",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"\u6309\u5929",repeat_radio_week:"\u6309\u5468",repeat_radio_month:"\u6309\u6708",repeat_radio_year:"\u6309\u5E74",repeat_radio_day_type:"\u6BCF",repeat_text_day_count:"\u5929",repeat_radio_day_type2:"\u6BCF\u4E2A\u5DE5\u4F5C\u65E5",repeat_week:" \u91CD\u590D \u6BCF",repeat_text_week_count:"\u661F\u671F\u7684:",repeat_radio_month_type:"\u91CD\u590D",repeat_radio_month_start:"\u5728",repeat_text_month_day:"\u65E5 \u6BCF",repeat_text_month_count:"\u6708",repeat_text_month_count2_before:"\u6BCF",repeat_text_month_count2_after:"\u6708",repeat_year_label:"\u5728",select_year_day2:"\u7684",repeat_text_year_day:"\u65E5",select_year_month:"\u6708",repeat_radio_end:"\u65E0\u7ED3\u675F\u65E5\u671F",repeat_text_occurences_count:"\u6B21\u7ED3\u675F",repeat_radio_end2:"\u91CD\u590D",repeat_radio_end3:"\u7ED3\u675F\u4E8E",month_for_recurring:["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"],day_for_recurring:["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"]}},Le={date:{month_full:["Leden","\xDAnor","B\u0159ezen","Duben","Kv\u011Bten","\u010Cerven","\u010Cervenec","Srpen","Z\xE1\u0159\xED","\u0158\xEDjen","Listopad","Prosinec"],month_short:["Led","\xDAn","B\u0159e","Dub","Kv\u011B","\u010Cer","\u010Cec","Srp","Z\xE1\u0159\xED","\u0158\xEDj","List","Pro"],day_full:["Ned\u011Ble","Pond\u011Bl\xED","\xDAter\xFD","St\u0159eda","\u010Ctvrtek","P\xE1tek","Sobota"],day_short:["Ne","Po","\xDAt","St","\u010Ct","P\xE1","So"]},labels:{dhx_cal_today_button:"Dnes",day_tab:"Den",week_tab:"T\xFDden",month_tab:"M\u011Bs\xEDc",new_event:"Nov\xE1 ud\xE1lost",icon_save:"Ulo\u017Eit",icon_cancel:"Zp\u011Bt",icon_details:"Detail",icon_edit:"Edituj",icon_delete:"Smazat",confirm_closing:"",confirm_deleting:"Ud\xE1lost bude trvale smaz\xE1na, opravdu?",section_description:"Pozn\xE1mky",section_time:"Doba platnosti",confirm_recurring:"P\u0159ejete si upravit celou \u0159adu opakovan\xFDch ud\xE1lost\xED?",section_recurring:"Opakov\xE1n\xED ud\xE1losti",button_recurring:"Vypnuto",button_recurring_open:"Zapnuto",button_edit_series:"Edit series",button_edit_occurrence:"Upravit instance",agenda_tab:"Program",date:"Datum",description:"Pozn\xE1mka",year_tab:"Rok",full_day:"Full day",week_agenda_tab:"Program",grid_tab:"M\u0159\xED\u017Eka",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Denn\u011B",repeat_radio_week:"T\xFDdn\u011B",repeat_radio_month:"M\u011Bs\xED\u010Dn\u011B",repeat_radio_year:"Ro\u010Dn\u011B",repeat_radio_day_type:"ka\u017Ed\xFD",repeat_text_day_count:"Den",repeat_radio_day_type2:"pracovn\xED dny",repeat_week:"Opakuje ka\u017Ed\xFDch",repeat_text_week_count:"T\xFDdn\u016F na:",repeat_radio_month_type:"u ka\u017Ed\xE9ho",repeat_radio_month_start:"na",repeat_text_month_day:"Den ka\u017Ed\xE9ho",repeat_text_month_count:"M\u011Bs\xEDc",repeat_text_month_count2_before:"ka\u017Ed\xFD",repeat_text_month_count2_after:"M\u011Bs\xEDc",repeat_year_label:"na",select_year_day2:"v",repeat_text_year_day:"Den v",select_year_month:"",repeat_radio_end:"bez data ukon\u010Den\xED",repeat_text_occurences_count:"Ud\xE1losti",repeat_radio_end2:"po",repeat_radio_end3:"Konec",month_for_recurring:["Leden","\xDAnor","B\u0159ezen","Duben","Kv\u011Bten","\u010Cerven","\u010Cervenec","Srpen","Z\xE1\u0159\xED","\u0158\xEDjen","Listopad","Prosinec"],day_for_recurring:["Ned\u011Ble ","Pond\u011Bl\xED","\xDAter\xFD","St\u0159eda","\u010Ctvrtek","P\xE1tek","Sobota"]}},at={date:{month_full:["Januar","Februar","Marts","April","Maj","Juni","Juli","August","September","Oktober","November","December"],month_short:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["S\xF8ndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","L\xF8rdag"],day_short:["S\xF8n","Man","Tir","Ons","Tor","Fre","L\xF8r"]},labels:{dhx_cal_today_button:"Idag",day_tab:"Dag",week_tab:"Uge",month_tab:"M\xE5ned",new_event:"Ny begivenhed",icon_save:"Gem",icon_cancel:"Fortryd",icon_details:"Detaljer",icon_edit:"Tilret",icon_delete:"Slet",confirm_closing:"Dine rettelser vil g\xE5 tabt.. Er dy sikker?",confirm_deleting:"Bigivenheden vil blive slettet permanent. Er du sikker?",section_description:"Beskrivelse",section_time:"Tidsperiode",confirm_recurring:"Vil du tilrette hele serien af gentagne begivenheder?",section_recurring:"Gentag begivenhed",button_recurring:"Frakoblet",button_recurring_open:"Tilkoblet",button_edit_series:"Rediger serien",button_edit_occurrence:"Rediger en kopi",agenda_tab:"Dagsorden",date:"Dato",description:"Beskrivelse",year_tab:"\xC5r",week_agenda_tab:"Dagsorden",grid_tab:"Grid",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Daglig",repeat_radio_week:"Ugenlig",repeat_radio_month:"M\xE5nedlig",repeat_radio_year:"\xC5rlig",repeat_radio_day_type:"Hver",repeat_text_day_count:"dag",repeat_radio_day_type2:"P\xE5 hver arbejdsdag",repeat_week:" Gentager sig hver",repeat_text_week_count:"uge p\xE5 f\xF8lgende dage:",repeat_radio_month_type:"Hver den",repeat_radio_month_start:"Den",repeat_text_month_day:" i hver",repeat_text_month_count:"m\xE5ned",repeat_text_month_count2_before:"hver",repeat_text_month_count2_after:"m\xE5ned",repeat_year_label:"Den",select_year_day2:"i",repeat_text_year_day:"dag i",select_year_month:"",repeat_radio_end:"Ingen slutdato",repeat_text_occurences_count:"gentagelse",repeat_radio_end2:"Efter",repeat_radio_end3:"Slut",month_for_recurring:["Januar","Februar","M\xE4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],day_for_recurring:["S\xF8ndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","L\xF8rdag"]}},it={date:{month_full:[" Januar"," Februar"," M\xE4rz "," April"," Mai"," Juni"," Juli"," August"," September "," Oktober"," November "," Dezember"],month_short:["Jan","Feb","M\xE4r","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],day_full:["Sonntag","Montag","Dienstag"," Mittwoch"," Donnerstag","Freitag","Samstag"],day_short:["So","Mo","Di","Mi","Do","Fr","Sa"]},labels:{dhx_cal_today_button:"Heute",day_tab:"Tag",week_tab:"Woche",month_tab:"Monat",new_event:"neuer Eintrag",icon_save:"Speichern",icon_cancel:"Abbrechen",icon_details:"Details",icon_edit:"\xC4ndern",icon_delete:"L\xF6schen",confirm_closing:"",confirm_deleting:"Der Eintrag wird gel\xF6scht",section_description:"Beschreibung",section_time:"Zeitspanne",full_day:"Ganzer Tag",confirm_recurring:"Wollen Sie alle Eintr\xE4ge bearbeiten oder nur diesen einzelnen Eintrag?",section_recurring:"Wiederholung",button_recurring:"Aus",button_recurring_open:"An",button_edit_series:"Bearbeiten Sie die Serie",button_edit_occurrence:"Bearbeiten Sie eine Kopie",agenda_tab:"Agenda",date:"Datum",description:"Beschreibung",year_tab:"Jahre",week_agenda_tab:"Agenda",grid_tab:"Grid",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"T\xE4glich",repeat_radio_week:"W\xF6chentlich",repeat_radio_month:"Monatlich",repeat_radio_year:"J\xE4hrlich",repeat_radio_day_type:"jeden",repeat_text_day_count:"Tag",repeat_radio_day_type2:"an jedem Arbeitstag",repeat_week:" Wiederholt sich jede",repeat_text_week_count:"Woche am:",repeat_radio_month_type:"an jedem",repeat_radio_month_start:"am",repeat_text_month_day:"Tag eines jeden",repeat_text_month_count:"Monats",repeat_text_month_count2_before:"jeden",repeat_text_month_count2_after:"Monats",repeat_year_label:"am",select_year_day2:"im",repeat_text_year_day:"Tag im",select_year_month:"",repeat_radio_end:"kein Enddatum",repeat_text_occurences_count:"Ereignissen",repeat_radio_end3:"Schlu\xDF",repeat_radio_end2:"nach",month_for_recurring:["Januar","Februar","M\xE4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],day_for_recurring:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"]}},Ye={date:{month_full:["\u0399\u03B1\u03BD\u03BF\u03C5\u03AC\u03C1\u03B9\u03BF\u03C2","\u03A6\u03B5\u03B2\u03C1\u03BF\u03C5\u03AC\u03C1\u03B9\u03BF\u03C2","\u039C\u03AC\u03C1\u03C4\u03B9\u03BF\u03C2","\u0391\u03C0\u03C1\u03AF\u03BB\u03B9\u03BF\u03C2","\u039C\u03AC\u03CA\u03BF\u03C2","\u0399\u03BF\u03CD\u03BD\u03B9\u03BF\u03C2","\u0399\u03BF\u03CD\u03BB\u03B9\u03BF\u03C2","\u0391\u03CD\u03B3\u03BF\u03C5\u03C3\u03C4\u03BF\u03C2","\u03A3\u03B5\u03C0\u03C4\u03AD\u03BC\u03B2\u03C1\u03B9\u03BF\u03C2","\u039F\u03BA\u03C4\u03CE\u03B2\u03C1\u03B9\u03BF\u03C2","\u039D\u03BF\u03AD\u03BC\u03B2\u03C1\u03B9\u03BF\u03C2","\u0394\u03B5\u03BA\u03AD\u03BC\u03B2\u03C1\u03B9\u03BF\u03C2"],month_short:["\u0399\u0391\u039D","\u03A6\u0395\u0392","\u039C\u0391\u03A1","\u0391\u03A0\u03A1","\u039C\u0391\u0399","\u0399\u039F\u03A5\u039D","\u0399\u039F\u03A5\u039B","\u0391\u03A5\u0393","\u03A3\u0395\u03A0","\u039F\u039A\u03A4","\u039D\u039F\u0395","\u0394\u0395\u039A"],day_full:["\u039A\u03C5\u03C1\u03B9\u03B1\u03BA\u03AE","\u0394\u03B5\u03C5\u03C4\u03AD\u03C1\u03B1","\u03A4\u03C1\u03AF\u03C4\u03B7","\u03A4\u03B5\u03C4\u03AC\u03C1\u03C4\u03B7","\u03A0\u03AD\u03BC\u03C0\u03C4\u03B7","\u03A0\u03B1\u03C1\u03B1\u03C3\u03BA\u03B5\u03C5\u03AE","\u039A\u03C5\u03C1\u03B9\u03B1\u03BA\u03AE"],day_short:["\u039A\u03A5","\u0394\u0395","\u03A4\u03A1","\u03A4\u0395","\u03A0\u0395","\u03A0\u0391","\u03A3\u0391"]},labels:{dhx_cal_today_button:"\u03A3\u03AE\u03BC\u03B5\u03C1\u03B1",day_tab:"\u0397\u03BC\u03AD\u03C1\u03B1",week_tab:"\u0395\u03B2\u03B4\u03BF\u03BC\u03AC\u03B4\u03B1",month_tab:"\u039C\u03AE\u03BD\u03B1\u03C2",new_event:"\u039D\u03AD\u03BF \u03AD\u03C1\u03B3\u03BF",icon_save:"\u0391\u03C0\u03BF\u03B8\u03AE\u03BA\u03B5\u03C5\u03C3\u03B7",icon_cancel:"\u0386\u03BA\u03C5\u03C1\u03BF",icon_details:"\u039B\u03B5\u03C0\u03C4\u03BF\u03BC\u03AD\u03C1\u03B5\u03B9\u03B5\u03C2",icon_edit:"\u0395\u03C0\u03B5\u03BE\u03B5\u03C1\u03B3\u03B1\u03C3\u03AF\u03B1",icon_delete:"\u0394\u03B9\u03B1\u03B3\u03C1\u03B1\u03C6\u03AE",confirm_closing:"",confirm_deleting:"\u03A4\u03BF \u03AD\u03C1\u03B3\u03BF \u03B8\u03B1 \u03B4\u03B9\u03B1\u03B3\u03C1\u03B1\u03C6\u03B5\u03AF \u03BF\u03C1\u03B9\u03C3\u03C4\u03B9\u03BA\u03AC. \u0398\u03AD\u03BB\u03B5\u03C4\u03B5 \u03BD\u03B1 \u03C3\u03C5\u03BD\u03B5\u03C7\u03AF\u03C3\u03B5\u03C4\u03B5;",section_description:"\u03A0\u03B5\u03C1\u03B9\u03B3\u03C1\u03B1\u03C6\u03AE",section_time:"\u03A7\u03C1\u03BF\u03BD\u03B9\u03BA\u03AE \u03C0\u03B5\u03C1\u03AF\u03BF\u03B4\u03BF\u03C2",full_day:"\u03A0\u03BB\u03AE\u03C1\u03B7\u03C2 \u0397\u03BC\u03AD\u03C1\u03B1",confirm_recurring:"\u0398\u03AD\u03BB\u03B5\u03C4\u03B5 \u03BD\u03B1 \u03B5\u03C0\u03B5\u03BE\u03B5\u03C1\u03B3\u03B1\u03C3\u03B8\u03B5\u03AF\u03C4\u03B5 \u03BF\u03BB\u03CC\u03BA\u03BB\u03B7\u03C1\u03B7 \u03C4\u03B7\u03BD \u03BF\u03BC\u03AC\u03B4\u03B1 \u03C4\u03C9\u03BD \u03B5\u03C0\u03B1\u03BD\u03B1\u03BB\u03B1\u03BC\u03B2\u03B1\u03BD\u03CC\u03BC\u03B5\u03BD\u03C9\u03BD \u03AD\u03C1\u03B3\u03C9\u03BD;",section_recurring:"\u0395\u03C0\u03B1\u03BD\u03B1\u03BB\u03B1\u03BC\u03B2\u03B1\u03BD\u03CC\u03BC\u03B5\u03BD\u03BF \u03AD\u03C1\u03B3\u03BF",button_recurring:"\u0391\u03BD\u03B5\u03BD\u03B5\u03C1\u03B3\u03CC",button_recurring_open:"\u0395\u03BD\u03B5\u03C1\u03B3\u03CC",button_edit_series:"\u0395\u03C0\u03B5\u03BE\u03B5\u03C1\u03B3\u03B1\u03C3\u03C4\u03B5\u03AF\u03C4\u03B5 \u03C4\u03B7 \u03C3\u03B5\u03B9\u03C1\u03AC",button_edit_occurrence:"\u0395\u03C0\u03B5\u03BE\u03B5\u03C1\u03B3\u03B1\u03C3\u03AF\u03B1 \u03AD\u03BD\u03B1 \u03B1\u03BD\u03C4\u03AF\u03B3\u03C1\u03B1\u03C6\u03BF",agenda_tab:"\u0397\u03BC\u03B5\u03C1\u03AE\u03C3\u03B9\u03B1 \u0394\u03B9\u03AC\u03C4\u03B1\u03BE\u03B7",date:"\u0397\u03BC\u03B5\u03C1\u03BF\u03BC\u03B7\u03BD\u03AF\u03B1",description:"\u03A0\u03B5\u03C1\u03B9\u03B3\u03C1\u03B1\u03C6\u03AE",year_tab:"\u0388\u03C4\u03BF\u03C2",week_agenda_tab:"\u0397\u03BC\u03B5\u03C1\u03AE\u03C3\u03B9\u03B1 \u0394\u03B9\u03AC\u03C4\u03B1\u03BE\u03B7",grid_tab:"\u03A0\u03BB\u03AD\u03B3\u03BC\u03B1",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"\u0397\u03BC\u03B5\u03C1\u03B7\u03C3\u03AF\u03C9\u03C2",repeat_radio_week:"\u0395\u03B2\u03B4\u03BF\u03BC\u03B1\u03B4\u03B9\u03B1\u03AF\u03C9\u03C2",repeat_radio_month:"\u039C\u03B7\u03BD\u03B9\u03B1\u03AF\u03C9\u03C2",repeat_radio_year:"\u0395\u03C4\u03B7\u03C3\u03AF\u03C9\u03C2",repeat_radio_day_type:"\u039A\u03AC\u03B8\u03B5",repeat_text_day_count:"\u03B7\u03BC\u03AD\u03C1\u03B1",repeat_radio_day_type2:"\u039A\u03AC\u03B8\u03B5 \u03B5\u03C1\u03B3\u03AC\u03C3\u03B9\u03BC\u03B7",repeat_week:" \u0395\u03C0\u03B1\u03BD\u03AC\u03BB\u03B7\u03C8\u03B7 \u03BA\u03AC\u03B8\u03B5",repeat_text_week_count:"\u03B5\u03B2\u03B4\u03BF\u03BC\u03AC\u03B4\u03B1 \u03C4\u03B9\u03C2 \u03B5\u03C0\u03CC\u03BC\u03B5\u03BD\u03B5\u03C2 \u03B7\u03BC\u03AD\u03C1\u03B5\u03C2:",repeat_radio_month_type:"\u0395\u03C0\u03B1\u03BD\u03AC\u03BB\u03B7\u03C8\u03B7",repeat_radio_month_start:"\u03A4\u03B7\u03BD",repeat_text_month_day:"\u03B7\u03BC\u03AD\u03C1\u03B1 \u03BA\u03AC\u03B8\u03B5",repeat_text_month_count:"\u03BC\u03AE\u03BD\u03B1",repeat_text_month_count2_before:"\u03BA\u03AC\u03B8\u03B5",repeat_text_month_count2_after:"\u03BC\u03AE\u03BD\u03B1",repeat_year_label:"\u03A4\u03B7\u03BD",select_year_day2:"\u03C4\u03BF\u03C5",repeat_text_year_day:"\u03B7\u03BC\u03AD\u03C1\u03B1",select_year_month:"\u03BC\u03AE\u03BD\u03B1",repeat_radio_end:"\u03A7\u03C9\u03C1\u03AF\u03C2 \u03B7\u03BC\u03B5\u03C1\u03BF\u03BC\u03B7\u03BD\u03AF\u03B1 \u03BB\u03AE\u03BE\u03B5\u03C9\u03C2",repeat_text_occurences_count:"\u03B5\u03C0\u03B1\u03BD\u03B1\u03BB\u03AE\u03C8\u03B5\u03B9\u03C2",repeat_radio_end3:"\u039B\u03AE\u03B3\u03B5\u03B9 \u03C4\u03B7\u03BD",repeat_radio_end2:"\u039C\u03B5\u03C4\u03AC \u03B1\u03C0\u03CC",month_for_recurring:["\u0399\u03B1\u03BD\u03BF\u03C5\u03AC\u03C1\u03B9\u03BF\u03C2","\u03A6\u03B5\u03B2\u03C1\u03BF\u03C5\u03AC\u03C1\u03B9\u03BF\u03C2","\u039C\u03AC\u03C1\u03C4\u03B9\u03BF\u03C2","\u0391\u03C0\u03C1\u03AF\u03BB\u03B9\u03BF\u03C2","\u039C\u03AC\u03CA\u03BF\u03C2","\u0399\u03BF\u03CD\u03BD\u03B9\u03BF\u03C2","\u0399\u03BF\u03CD\u03BB\u03B9\u03BF\u03C2","\u0391\u03CD\u03B3\u03BF\u03C5\u03C3\u03C4\u03BF\u03C2","\u03A3\u03B5\u03C0\u03C4\u03AD\u03BC\u03B2\u03C1\u03B9\u03BF\u03C2","\u039F\u03BA\u03C4\u03CE\u03B2\u03C1\u03B9\u03BF\u03C2","\u039D\u03BF\u03AD\u03BC\u03B2\u03C1\u03B9\u03BF\u03C2","\u0394\u03B5\u03BA\u03AD\u03BC\u03B2\u03C1\u03B9\u03BF\u03C2"],day_for_recurring:["\u039A\u03C5\u03C1\u03B9\u03B1\u03BA\u03AE","\u0394\u03B5\u03C5\u03C4\u03AD\u03C1\u03B1","\u03A4\u03C1\u03AF\u03C4\u03B7","\u03A4\u03B5\u03C4\u03AC\u03C1\u03C4\u03B7","\u03A0\u03AD\u03BC\u03C0\u03C4\u03B7","\u03A0\u03B1\u03C1\u03B1\u03C3\u03BA\u03B5\u03C5\u03AE","\u03A3\u03AC\u03B2\u03B2\u03B1\u03C4\u03BF"]}},bt={date:{month_full:["January","February","March","April","May","June","July","August","September","October","November","December"],month_short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],day_full:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],day_short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},labels:{dhx_cal_today_button:"Today",day_tab:"Day",week_tab:"Week",month_tab:"Month",new_event:"New event",icon_save:"Save",icon_cancel:"Cancel",icon_details:"Details",icon_edit:"Edit",icon_delete:"Delete",confirm_closing:"",confirm_deleting:"Event will be deleted permanently, are you sure?",section_description:"Description",section_time:"Time period",full_day:"Full day",confirm_recurring:"Do you want to edit the whole set of repeated events?",section_recurring:"Repeat event",button_recurring:"Disabled",button_recurring_open:"Enabled",button_edit_series:"Edit series",button_edit_occurrence:"Edit occurrence",agenda_tab:"Agenda",date:"Date",description:"Description",year_tab:"Year",week_agenda_tab:"Agenda",grid_tab:"Grid",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Daily",repeat_radio_week:"Weekly",repeat_radio_month:"Monthly",repeat_radio_year:"Yearly",repeat_radio_day_type:"Every",repeat_text_day_count:"day",repeat_radio_day_type2:"Every workday",repeat_week:" Repeat every",repeat_text_week_count:"week next days:",repeat_radio_month_type:"Repeat",repeat_radio_month_start:"On",repeat_text_month_day:"day every",repeat_text_month_count:"month",repeat_text_month_count2_before:"every",repeat_text_month_count2_after:"month",repeat_year_label:"On",select_year_day2:"of",repeat_text_year_day:"day",select_year_month:"month",repeat_radio_end:"No end date",repeat_text_occurences_count:"occurrences",repeat_radio_end2:"After",repeat_radio_end3:"End by",month_for_recurring:["January","February","March","April","May","June","July","August","September","October","November","December"],day_for_recurring:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},kn={date:{month_full:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],month_short:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],day_full:["Domingo","Lunes","Martes","Mi\xE9rcoles","Jueves","Viernes","S\xE1bado"],day_short:["Dom","Lun","Mar","Mi\xE9","Jue","Vie","S\xE1b"]},labels:{dhx_cal_today_button:"Hoy",day_tab:"D\xEDa",week_tab:"Semana",month_tab:"Mes",new_event:"Nuevo evento",icon_save:"Guardar",icon_cancel:"Cancelar",icon_details:"Detalles",icon_edit:"Editar",icon_delete:"Eliminar",confirm_closing:"",confirm_deleting:"El evento se borrar\xE1 definitivamente, \xBFcontinuar?",section_description:"Descripci\xF3n",section_time:"Per\xEDodo",full_day:"Todo el d\xEDa",confirm_recurring:"\xBFDesea modificar el conjunto de eventos repetidos?",section_recurring:"Repita el evento",button_recurring:"Impedido",button_recurring_open:"Permitido",button_edit_series:"Editar la serie",button_edit_occurrence:"Editar este evento",agenda_tab:"D\xEDa",date:"Fecha",description:"Descripci\xF3n",year_tab:"A\xF1o",week_agenda_tab:"D\xEDa",grid_tab:"Reja",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Diariamente",repeat_radio_week:"Semanalmente",repeat_radio_month:"Mensualmente",repeat_radio_year:"Anualmente",repeat_radio_day_type:"Cada",repeat_text_day_count:"dia",repeat_radio_day_type2:"Cada jornada de trabajo",repeat_week:" Repetir cada",repeat_text_week_count:"semana:",repeat_radio_month_type:"Repita",repeat_radio_month_start:"El",repeat_text_month_day:"dia cada ",repeat_text_month_count:"mes",repeat_text_month_count2_before:"cada",repeat_text_month_count2_after:"mes",repeat_year_label:"El",select_year_day2:"del",repeat_text_year_day:"dia",select_year_month:"mes",repeat_radio_end:"Sin fecha de finalizaci\xF3n",repeat_text_occurences_count:"ocurrencias",repeat_radio_end3:"Fin",repeat_radio_end2:"Despu\xE9s de",month_for_recurring:["Enero","Febrero","\u041C\u0430rzo","\u0410bril","Mayo","Junio","Julio","\u0410gosto","Setiembre","Octubre","Noviembre","Diciembre"],day_for_recurring:["Domingo","Lunes","Martes","Mi\xE9rcoles","Jeuves","Viernes","Sabado"]}},mr={date:{month_full:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kes&auml;kuu","Hein&auml;kuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],month_short:["Tam","Hel","Maa","Huh","Tou","Kes","Hei","Elo","Syy","Lok","Mar","Jou"],day_full:["Sunnuntai","Maanantai","Tiistai","Keskiviikko","Torstai","Perjantai","Lauantai"],day_short:["Su","Ma","Ti","Ke","To","Pe","La"]},labels:{dhx_cal_today_button:"T\xE4n\xE4\xE4n",day_tab:"P\xE4iv\xE4",week_tab:"Viikko",month_tab:"Kuukausi",new_event:"Uusi tapahtuma",icon_save:"Tallenna",icon_cancel:"Peru",icon_details:"Tiedot",icon_edit:"Muokkaa",icon_delete:"Poista",confirm_closing:"",confirm_deleting:"Haluatko varmasti poistaa tapahtuman?",section_description:"Kuvaus",section_time:"Aikajakso",full_day:"Koko p\xE4iv\xE4",confirm_recurring:"Haluatko varmasti muokata toistuvan tapahtuman kaikkia jaksoja?",section_recurring:"Toista tapahtuma",button_recurring:"Ei k&auml;yt&ouml;ss&auml;",button_recurring_open:"K&auml;yt&ouml;ss&auml;",button_edit_series:"Muokkaa sarja",button_edit_occurrence:"Muokkaa kopio",agenda_tab:"Esityslista",date:"P\xE4iv\xE4m\xE4\xE4r\xE4",description:"Kuvaus",year_tab:"Vuoden",week_agenda_tab:"Esityslista",grid_tab:"Ritil\xE4",drag_to_create:"Luo uusi vet\xE4m\xE4ll\xE4",drag_to_move:"Siirr\xE4 vet\xE4m\xE4ll\xE4",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"P&auml;ivitt&auml;in",repeat_radio_week:"Viikoittain",repeat_radio_month:"Kuukausittain",repeat_radio_year:"Vuosittain",repeat_radio_day_type:"Joka",repeat_text_day_count:"p&auml;iv&auml;",repeat_radio_day_type2:"Joka arkip&auml;iv&auml;",repeat_week:"Toista joka",repeat_text_week_count:"viikko n&auml;in&auml; p&auml;ivin&auml;:",repeat_radio_month_type:"Toista",repeat_radio_month_start:"",repeat_text_month_day:"p&auml;iv&auml;n&auml; joka",repeat_text_month_count:"kuukausi",repeat_text_month_count2_before:"joka",repeat_text_month_count2_after:"kuukausi",repeat_year_label:"",select_year_day2:"",repeat_text_year_day:"p&auml;iv&auml;",select_year_month:"kuukausi",repeat_radio_end:"Ei loppumisaikaa",repeat_text_occurences_count:"Toiston j&auml;lkeen",repeat_radio_end3:"Loppuu",repeat_radio_end2:"",month_for_recurring:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kes&auml;kuu","Hein&auml;kuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],day_for_recurring:["Sunnuntai","Maanantai","Tiistai","Keskiviikko","Torstai","Perjantai","Lauantai"]}},Di={date:{month_full:["Janvier","F\xE9vrier","Mars","Avril","Mai","Juin","Juillet","Ao\xFBt","Septembre","Octobre","Novembre","D\xE9cembre"],month_short:["Jan","F\xE9v","Mar","Avr","Mai","Juin","Juil","Ao\xFB","Sep","Oct","Nov","D\xE9c"],day_full:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],day_short:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"]},labels:{dhx_cal_today_button:"Aujourd'hui",day_tab:"Jour",week_tab:"Semaine",month_tab:"Mois",new_event:"Nouvel \xE9v\xE9nement",icon_save:"Enregistrer",icon_cancel:"Annuler",icon_details:"D\xE9tails",icon_edit:"Modifier",icon_delete:"Effacer",confirm_closing:"",confirm_deleting:"L'\xE9v\xE9nement sera effac\xE9 sans appel, \xEAtes-vous s\xFBr ?",section_description:"Description",section_time:"P\xE9riode",full_day:"Journ\xE9e compl\xE8te",confirm_recurring:"Voulez-vous \xE9diter toute une s\xE9rie d'\xE9v\xE8nements r\xE9p\xE9t\xE9s?",section_recurring:"P\xE9riodicit\xE9",button_recurring:"D\xE9sactiv\xE9",button_recurring_open:"Activ\xE9",button_edit_series:"Modifier la s\xE9rie",button_edit_occurrence:"Modifier une copie",agenda_tab:"Jour",date:"Date",description:"Description",year_tab:"Ann\xE9e",week_agenda_tab:"Jour",grid_tab:"Grille",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Quotidienne",repeat_radio_week:"Hebdomadaire",repeat_radio_month:"Mensuelle",repeat_radio_year:"Annuelle",repeat_radio_day_type:"Chaque",repeat_text_day_count:"jour",repeat_radio_day_type2:"Chaque journ\xE9e de travail",repeat_week:" R\xE9p\xE9ter toutes les",repeat_text_week_count:"semaine:",repeat_radio_month_type:"R\xE9p\xE9ter",repeat_radio_month_start:"Le",repeat_text_month_day:"jour chaque",repeat_text_month_count:"mois",repeat_text_month_count2_before:"chaque",repeat_text_month_count2_after:"mois",repeat_year_label:"Le",select_year_day2:"du",repeat_text_year_day:"jour",select_year_month:"mois",repeat_radio_end:"Pas de date d&quot;ach\xE8vement",repeat_text_occurences_count:"occurrences",repeat_radio_end3:"Fin",repeat_radio_end2:"Apr\xE8s",month_for_recurring:["Janvier","F\xE9vrier","Mars","Avril","Mai","Juin","Juillet","Ao\xFBt","Septembre","Octobre","Novembre","D\xE9cembre"],day_for_recurring:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"]}},zr={date:{month_full:["\u05D9\u05E0\u05D5\u05D0\u05E8","\u05E4\u05D1\u05E8\u05D5\u05D0\u05E8","\u05DE\u05E8\u05E5","\u05D0\u05E4\u05E8\u05D9\u05DC","\u05DE\u05D0\u05D9","\u05D9\u05D5\u05E0\u05D9","\u05D9\u05D5\u05DC\u05D9","\u05D0\u05D5\u05D2\u05D5\u05E1\u05D8","\u05E1\u05E4\u05D8\u05DE\u05D1\u05E8","\u05D0\u05D5\u05E7\u05D8\u05D5\u05D1\u05E8","\u05E0\u05D5\u05D1\u05DE\u05D1\u05E8","\u05D3\u05E6\u05DE\u05D1\u05E8"],month_short:["\u05D9\u05E0\u05D5","\u05E4\u05D1\u05E8","\u05DE\u05E8\u05E5","\u05D0\u05E4\u05E8","\u05DE\u05D0\u05D9","\u05D9\u05D5\u05E0","\u05D9\u05D5\u05DC","\u05D0\u05D5\u05D2","\u05E1\u05E4\u05D8","\u05D0\u05D5\u05E7","\u05E0\u05D5\u05D1","\u05D3\u05E6\u05DE"],day_full:["\u05E8\u05D0\u05E9\u05D5\u05DF","\u05E9\u05E0\u05D9","\u05E9\u05DC\u05D9\u05E9\u05D9","\u05E8\u05D1\u05D9\u05E2\u05D9","\u05D7\u05DE\u05D9\u05E9\u05D9","\u05E9\u05D9\u05E9\u05D9","\u05E9\u05D1\u05EA"],day_short:["\u05D0","\u05D1","\u05D2","\u05D3","\u05D4","\u05D5","\u05E9"]},labels:{dhx_cal_today_button:"\u05D4\u05D9\u05D5\u05DD",day_tab:"\u05D9\u05D5\u05DD",week_tab:"\u05E9\u05D1\u05D5\u05E2",month_tab:"\u05D7\u05D5\u05D3\u05E9",new_event:"\u05D0\u05E8\u05D5\u05E2 \u05D7\u05D3\u05E9",icon_save:"\u05E9\u05DE\u05D5\u05E8",icon_cancel:"\u05D1\u05D8\u05DC",icon_details:"\u05E4\u05E8\u05D8\u05D9\u05DD",icon_edit:"\u05E2\u05E8\u05D5\u05DA",icon_delete:"\u05DE\u05D7\u05E7",confirm_closing:"",confirm_deleting:"\u05D0\u05E8\u05D5\u05E2 \u05D9\u05DE\u05D7\u05E7 \u05E1\u05D5\u05E4\u05D9\u05EA.\u05DC\u05D4\u05DE\u05E9\u05D9\u05DA?",section_description:"\u05EA\u05D9\u05D0\u05D5\u05E8",section_time:"\u05EA\u05E7\u05D5\u05E4\u05D4",confirm_recurring:"\u05D4\u05D0\u05DD \u05D1\u05E8\u05E6\u05D5\u05E0\u05DA \u05DC\u05E9\u05E0\u05D5\u05EA \u05DB\u05DC \u05E1\u05D3\u05E8\u05EA \u05D0\u05E8\u05D5\u05E2\u05D9\u05DD \u05DE\u05EA\u05DE\u05E9\u05DB\u05D9\u05DD?",section_recurring:"\u05DC\u05D4\u05E2\u05EA\u05D9\u05E7 \u05D0\u05E8\u05D5\u05E2",button_recurring:"\u05DC\u05D0 \u05E4\u05E2\u05D9\u05DC",button_recurring_open:"\u05E4\u05E2\u05D9\u05DC",full_day:"\u05D9\u05D5\u05DD \u05E9\u05DC\u05DD",button_edit_series:"\u05E2\u05E8\u05D5\u05DA \u05D0\u05EA \u05D4\u05E1\u05D3\u05E8\u05D4",button_edit_occurrence:"\u05E2\u05E8\u05D9\u05DB\u05EA \u05E2\u05D5\u05EA\u05E7",agenda_tab:"\u05E1\u05D3\u05E8 \u05D9\u05D5\u05DD",date:"\u05EA\u05D0\u05E8\u05D9\u05DA",description:"\u05EA\u05D9\u05D0\u05D5\u05E8",year_tab:"\u05DC\u05E9\u05E0\u05D4",week_agenda_tab:"\u05E1\u05D3\u05E8 \u05D9\u05D5\u05DD",grid_tab:"\u05E1\u05D5\u05E8\u05D2",drag_to_create:"Drag to create",drag_to_move:"\u05D2\u05E8\u05D5\u05E8 \u05DB\u05D3\u05D9 \u05DC\u05D4\u05D6\u05D9\u05D6",message_ok:"OK",message_cancel:"\u05D1\u05D8\u05DC",next:"\u05D4\u05D1\u05D0",prev:"\u05D4\u05E7\u05D5\u05D3\u05DD",year:"\u05E9\u05E0\u05D4",month:"\u05D7\u05D5\u05D3\u05E9",day:"\u05D9\u05D5\u05DD",hour:"\u05E9\u05E2\u05D4",minute:"\u05D3\u05E7\u05D4",repeat_radio_day:"\u05D9\u05D5\u05DE\u05D9",repeat_radio_week:"\u05E9\u05D1\u05D5\u05E2\u05D9",repeat_radio_month:"\u05D7\u05D5\u05D3\u05E9\u05D9",repeat_radio_year:"\u05E9\u05E0\u05EA\u05D9",repeat_radio_day_type:"\u05D7\u05D6\u05D5\u05E8 \u05DB\u05DC",repeat_text_day_count:"\u05D9\u05DE\u05D9\u05DD",repeat_radio_day_type2:"\u05D7\u05D6\u05D5\u05E8 \u05DB\u05DC \u05D9\u05D5\u05DD \u05E2\u05D1\u05D5\u05D3\u05D4",repeat_week:" \u05D7\u05D6\u05D5\u05E8 \u05DB\u05DC",repeat_text_week_count:"\u05E9\u05D1\u05D5\u05E2 \u05DC\u05E4\u05D9 \u05D9\u05DE\u05D9\u05DD:",repeat_radio_month_type:"\u05D7\u05D6\u05D5\u05E8 \u05DB\u05DC",repeat_radio_month_start:"\u05DB\u05DC",repeat_text_month_day:"\u05D9\u05DE\u05D9\u05DD \u05DB\u05DC",repeat_text_month_count:"\u05D7\u05D5\u05D3\u05E9\u05D9\u05DD",repeat_text_month_count2_before:"\u05D7\u05D6\u05D5\u05E8 \u05DB\u05DC",repeat_text_month_count2_after:"\u05D7\u05D5\u05D3\u05E9",repeat_year_label:"\u05DB\u05DC",select_year_day2:"\u05D1\u05D7\u05D5\u05D3\u05E9",repeat_text_year_day:"\u05D9\u05DE\u05D9\u05DD",select_year_month:"\u05D7\u05D5\u05D3\u05E9",repeat_radio_end:"\u05DC\u05E2\u05D5\u05DC\u05DD \u05DC\u05D0 \u05DE\u05E1\u05EA\u05D9\u05D9\u05DD",repeat_text_occurences_count:"\u05D0\u05D9\u05E8\u05D5\u05E2\u05D9\u05DD",repeat_radio_end3:"\u05DE\u05E1\u05EA\u05D9\u05D9\u05DD \u05D1",repeat_radio_end2:"\u05D0\u05D7\u05E8\u05D9",month_for_recurring:["\u05D9\u05E0\u05D5\u05D0\u05E8","\u05E4\u05D1\u05E8\u05D5\u05D0\u05E8","\u05DE\u05E8\u05E5","\u05D0\u05E4\u05E8\u05D9\u05DC","\u05DE\u05D0\u05D9","\u05D9\u05D5\u05E0\u05D9","\u05D9\u05D5\u05DC\u05D9","\u05D0\u05D5\u05D2\u05D5\u05E1\u05D8","\u05E1\u05E4\u05D8\u05DE\u05D1\u05E8","\u05D0\u05D5\u05E7\u05D8\u05D5\u05D1\u05E8","\u05E0\u05D5\u05D1\u05DE\u05D1\u05E8","\u05D3\u05E6\u05DE\u05D1\u05E8"],day_for_recurring:["\u05E8\u05D0\u05E9\u05D5\u05DF","\u05E9\u05E0\u05D9","\u05E9\u05DC\u05D9\u05E9\u05D9","\u05E8\u05D1\u05D9\u05E2\u05D9","\u05D7\u05DE\u05D9\u05E9\u05D9","\u05E9\u05D9\u05E9\u05D9","\u05E9\u05D1\u05EA"]}},Zr={date:{month_full:["Janu\xE1r","Febru\xE1r","M\xE1rcius","\xC1prilis","M\xE1jus","J\xFAnius","J\xFAlius","Augusztus","Szeptember","Okt\xF3ber","November","December"],month_short:["Jan","Feb","M\xE1r","\xC1pr","M\xE1j","J\xFAn","J\xFAl","Aug","Sep","Okt","Nov","Dec"],day_full:["Vas\xE1rnap","H\xE9tf\xF5","Kedd","Szerda","Cs\xFCt\xF6rt\xF6k","P\xE9ntek","szombat"],day_short:["Va","H\xE9","Ke","Sze","Cs\xFC","P\xE9","Szo"]},labels:{dhx_cal_today_button:"Ma",day_tab:"Nap",week_tab:"H\xE9t",month_tab:"H\xF3nap",new_event:"\xDAj esem\xE9ny",icon_save:"Ment\xE9s",icon_cancel:"M\xE9gse",icon_details:"R\xE9szletek",icon_edit:"Szerkeszt\xE9s",icon_delete:"T\xF6rl\xE9s",confirm_closing:"",confirm_deleting:"Az esem\xE9ny t\xF6r\xF6lve lesz, biztosan folytatja?",section_description:"Le\xEDr\xE1s",section_time:"Id\xF5szak",full_day:"Egesz napos",confirm_recurring:"Biztosan szerkeszteni akarod az \xF6sszes ism\xE9tl\xF5d\xF5 esem\xE9ny be\xE1ll\xEDt\xE1s\xE1t?",section_recurring:"Esem\xE9ny ism\xE9tl\xE9se",button_recurring:"Tilt\xE1s",button_recurring_open:"Enged\xE9lyez\xE9s",button_edit_series:"Edit series",button_edit_occurrence:"Szerkeszt\xE9s b\xEDr\xF3s\xE1g",agenda_tab:"Napirend",date:"D\xE1tum",description:"Le\xEDr\xE1s",year_tab:"\xC9v",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute"}},Uc={date:{month_full:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],month_short:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Ags","Sep","Okt","Nov","Des"],day_full:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"],day_short:["Ming","Sen","Sel","Rab","Kam","Jum","Sab"]},labels:{dhx_cal_today_button:"Hari Ini",day_tab:"Hari",week_tab:"Minggu",month_tab:"Bulan",new_event:"Acara Baru",icon_save:"Simpan",icon_cancel:"Batal",icon_details:"Detail",icon_edit:"Edit",icon_delete:"Hapus",confirm_closing:"",confirm_deleting:"Acara akan dihapus",section_description:"Keterangan",section_time:"Periode",full_day:"Hari penuh",confirm_recurring:"Apakah acara ini akan berulang?",section_recurring:"Acara Rutin",button_recurring:"Tidak Difungsikan",button_recurring_open:"Difungsikan",button_edit_series:"Mengedit seri",button_edit_occurrence:"Mengedit salinan",agenda_tab:"Agenda",date:"Tanggal",description:"Keterangan",year_tab:"Tahun",week_agenda_tab:"Agenda",grid_tab:"Tabel",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute"}},vo={date:{month_full:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],month_short:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],day_full:["Domenica","Luned\xEC","Marted\xEC","Mercoled\xEC","Gioved\xEC","Venerd\xEC","Sabato"],day_short:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"]},labels:{dhx_cal_today_button:"Oggi",day_tab:"Giorno",week_tab:"Settimana",month_tab:"Mese",new_event:"Nuovo evento",icon_save:"Salva",icon_cancel:"Chiudi",icon_details:"Dettagli",icon_edit:"Modifica",icon_delete:"Elimina",confirm_closing:"",confirm_deleting:"L'evento sar\xE0 eliminato, siete sicuri?",section_description:"Descrizione",section_time:"Periodo di tempo",full_day:"Intera giornata",confirm_recurring:"Vuoi modificare l'intera serie di eventi?",section_recurring:"Ripetere l'evento",button_recurring:"Disattivato",button_recurring_open:"Attivato",button_edit_series:"Modificare la serie",button_edit_occurrence:"Modificare una copia",agenda_tab:"Agenda",date:"Data",description:"Descrizione",year_tab:"Anno",week_agenda_tab:"Agenda",grid_tab:"Griglia",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Quotidiano",repeat_radio_week:"Settimanale",repeat_radio_month:"Mensile",repeat_radio_year:"Annuale",repeat_radio_day_type:"Ogni",repeat_text_day_count:"giorno",repeat_radio_day_type2:"Ogni giornata lavorativa",repeat_week:" Ripetere ogni",repeat_text_week_count:"settimana:",repeat_radio_month_type:"Ripetere",repeat_radio_month_start:"Il",repeat_text_month_day:"giorno ogni",repeat_text_month_count:"mese",repeat_text_month_count2_before:"ogni",repeat_text_month_count2_after:"mese",repeat_year_label:"Il",select_year_day2:"del",repeat_text_year_day:"giorno",select_year_month:"mese",repeat_radio_end:"Senza data finale",repeat_text_occurences_count:"occorenze",repeat_radio_end3:"Fine",repeat_radio_end2:"Dopo",month_for_recurring:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Jiugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],day_for_recurring:["Domenica","Luned\xEC","Marted\xEC","Mercoled\xEC","Joved\xEC","Venerd\xEC","Sabato"]}},ei={date:{month_full:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],month_short:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],day_full:["\u65E5\u66DC\u65E5","\u6708\u66DC\u65E5","\u706B\u66DC\u65E5","\u6C34\u66DC\u65E5","\u6728\u66DC\u65E5","\u91D1\u66DC\u65E5","\u571F\u66DC\u65E5"],day_short:["\u65E5","\u6708","\u706B","\u6C34","\u6728","\u91D1","\u571F"]},labels:{dhx_cal_today_button:"\u4ECA\u65E5",day_tab:"\u65E5",week_tab:"\u9031",month_tab:"\u6708",new_event:"\u65B0\u30A4\u30D9\u30F3\u30C8",icon_save:"\u4FDD\u5B58",icon_cancel:"\u30AD\u30E3\u30F3\u30BB\u30EB",icon_details:"\u8A73\u7D30",icon_edit:"\u7DE8\u96C6",icon_delete:"\u524A\u9664",confirm_closing:"",confirm_deleting:"\u30A4\u30D9\u30F3\u30C8\u5B8C\u5168\u306B\u524A\u9664\u3055\u308C\u307E\u3059\u3001\u5B9C\u3057\u3044\u3067\u3059\u304B\uFF1F",section_description:"\u30C7\u30B9\u30AF\u30EA\u30D7\u30B7\u30E7\u30F3",section_time:"\u671F\u9593",confirm_recurring:"\u7E70\u308A\u8FD4\u3055\u308C\u3066\u3044\u308B\u30A4\u30D9\u30F3\u30C8\u3092\u5168\u3066\u7DE8\u96C6\u3057\u307E\u3059\u304B\uFF1F",section_recurring:"\u30A4\u30D9\u30F3\u30C8\u3092\u7E70\u308A\u8FD4\u3059",button_recurring:"\u7121\u52B9",button_recurring_open:"\u6709\u52B9",full_day:"\u7D42\u65E5",button_edit_series:"\u30B7\u30EA\u30FC\u30BA\u3092\u7DE8\u96C6\u3057\u307E\u3059",button_edit_occurrence:"\u30B3\u30D4\u30FC\u3092\u7DE8\u96C6",agenda_tab:"\u8B70\u984C\u306F",date:"\u65E5\u4ED8",description:"\u8AAC\u660E",year_tab:"\u4ECA\u5E74",week_agenda_tab:"\u8B70\u984C\u306F",grid_tab:"\u30B0\u30EA\u30C3\u30C9",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute"}};function yo(s,w){for(var d=0;d<w.length;d++){var m=w[d];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(s,m.key,m)}}var Ct=function(){function s(w){for(var d in function(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}(this,s),this._locales={},w)this._locales[d]=w[d]}return function(w,d,m){d&&yo(w.prototype,d),m&&yo(w,m)}(s,[{key:"addLocale",value:function(w,d){this._locales[w]=d}},{key:"getLocale",value:function(w){return this._locales[w]}}]),s}(),se={date:{month_full:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],month_short:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],day_full:["S\xF8ndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","L\xF8rdag"],day_short:["S\xF8n","Mon","Tir","Ons","Tor","Fre","L\xF8r"]},labels:{dhx_cal_today_button:"I dag",day_tab:"Dag",week_tab:"Uke",month_tab:"M\xE5ned",new_event:"Ny hendelse",icon_save:"Lagre",icon_cancel:"Avbryt",icon_details:"Detaljer",icon_edit:"Rediger",icon_delete:"Slett",confirm_closing:"",confirm_deleting:"Hendelsen vil bli slettet permanent. Er du sikker?",section_description:"Beskrivelse",section_time:"Tidsperiode",confirm_recurring:"Vil du forandre hele dette settet av repeterende hendelser?",section_recurring:"Repeter hendelsen",button_recurring:"Av",button_recurring_open:"P\xE5",button_edit_series:"Rediger serien",button_edit_occurrence:"Redigere en kopi",agenda_tab:"Agenda",date:"Dato",description:"Beskrivelse",year_tab:"\xC5r",week_agenda_tab:"Agenda",grid_tab:"Grid",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Daglig",repeat_radio_week:"Ukentlig",repeat_radio_month:"M\xE5nedlig",repeat_radio_year:"\xC5rlig",repeat_radio_day_type:"Hver",repeat_text_day_count:"dag",repeat_radio_day_type2:"Alle hverdager",repeat_week:" Gjentas hver",repeat_text_week_count:"uke p\xE5:",repeat_radio_month_type:"P\xE5 hver",repeat_radio_month_start:"P\xE5",repeat_text_month_day:"dag hver",repeat_text_month_count:"m\xE5ned",repeat_text_month_count2_before:"hver",repeat_text_month_count2_after:"m\xE5ned",repeat_year_label:"p\xE5",select_year_day2:"i",repeat_text_year_day:"dag i",select_year_month:"",repeat_radio_end:"Ingen sluttdato",repeat_text_occurences_count:"forekomst",repeat_radio_end3:"Stop den",repeat_radio_end2:"Etter",month_for_recurring:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],day_for_recurring:["Sondag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","L\xF8rdag"]}},ue={date:{month_full:["Januari","Februari","Maart","April","Mei","Juni","Juli","Augustus","September","Oktober","November","December"],month_short:["Jan","Feb","mrt","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["Zondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrijdag","Zaterdag"],day_short:["Zo","Ma","Di","Wo","Do","Vr","Za"]},labels:{dhx_cal_today_button:"Vandaag",day_tab:"Dag",week_tab:"Week",month_tab:"Maand",new_event:"Nieuw item",icon_save:"Opslaan",icon_cancel:"Annuleren",icon_details:"Details",icon_edit:"Bewerken",icon_delete:"Verwijderen",confirm_closing:"",confirm_deleting:"Item zal permanent worden verwijderd, doorgaan?",section_description:"Beschrijving",section_time:"Tijd periode",full_day:"Hele dag",confirm_recurring:"Wilt u alle terugkerende items bijwerken?",section_recurring:"Item herhalen",button_recurring:"Uit",button_recurring_open:"Aan",button_edit_series:"Bewerk de serie",button_edit_occurrence:"Bewerk een kopie",agenda_tab:"Agenda",date:"Datum",description:"Omschrijving",year_tab:"Jaar",week_agenda_tab:"Agenda",grid_tab:"Tabel",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Dagelijks",repeat_radio_week:"Wekelijks",repeat_radio_month:"Maandelijks",repeat_radio_year:"Jaarlijks",repeat_radio_day_type:"Elke",repeat_text_day_count:"dag(en)",repeat_radio_day_type2:"Elke werkdag",repeat_week:" Herhaal elke",repeat_text_week_count:"week op de volgende dagen:",repeat_radio_month_type:"Herhaal",repeat_radio_month_start:"Op",repeat_text_month_day:"dag iedere",repeat_text_month_count:"maanden",repeat_text_month_count2_before:"iedere",repeat_text_month_count2_after:"maanden",repeat_year_label:"Op",select_year_day2:"van",repeat_text_year_day:"dag",select_year_month:"maand",repeat_radio_end:"Geen eind datum",repeat_text_occurences_count:"keren",repeat_radio_end3:"Eindigd per",repeat_radio_end2:"Na",month_for_recurring:["Januari","Februari","Maart","April","Mei","Juni","Juli","Augustus","September","Oktober","November","December"],day_for_recurring:["Zondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrijdag","Zaterdag"]}},me={date:{month_full:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],month_short:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],day_full:["S\xF8ndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","L\xF8rdag"],day_short:["S\xF8n","Man","Tir","Ons","Tor","Fre","L\xF8r"]},labels:{dhx_cal_today_button:"Idag",day_tab:"Dag",week_tab:"Uke",month_tab:"M\xE5ned",new_event:"Ny",icon_save:"Lagre",icon_cancel:"Avbryt",icon_details:"Detaljer",icon_edit:"Endre",icon_delete:"Slett",confirm_closing:"Endringer blir ikke lagret, er du sikker?",confirm_deleting:"Oppf\xF8ringen vil bli slettet, er du sikker?",section_description:"Beskrivelse",section_time:"Tidsperiode",full_day:"Full dag",confirm_recurring:"Vil du endre hele settet med repeterende oppf\xF8ringer?",section_recurring:"Repeterende oppf\xF8ring",button_recurring:"Ikke aktiv",button_recurring_open:"Aktiv",button_edit_series:"Rediger serien",button_edit_occurrence:"Redigere en kopi",agenda_tab:"Agenda",date:"Dato",description:"Beskrivelse",year_tab:"\xC5r",week_agenda_tab:"Agenda",grid_tab:"Grid",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute"}},ye={date:{month_full:["Stycze\u0144","Luty","Marzec","Kwiecie\u0144","Maj","Czerwiec","Lipiec","Sierpie\u0144","Wrzesie\u0144","Pa\u017Adziernik","Listopad","Grudzie\u0144"],month_short:["Sty","Lut","Mar","Kwi","Maj","Cze","Lip","Sie","Wrz","Pa\u017A","Lis","Gru"],day_full:["Niedziela","Poniedzia\u0142ek","Wtorek","\u015Aroda","Czwartek","Pi\u0105tek","Sobota"],day_short:["Nie","Pon","Wto","\u015Aro","Czw","Pi\u0105","Sob"]},labels:{dhx_cal_today_button:"Dzi\u015B",day_tab:"Dzie\u0144",week_tab:"Tydzie\u0144",month_tab:"Miesi\u0105c",new_event:"Nowe zdarzenie",icon_save:"Zapisz",icon_cancel:"Anuluj",icon_details:"Szczeg\xF3\u0142y",icon_edit:"Edytuj",icon_delete:"Usu\u0144",confirm_closing:"",confirm_deleting:"Zdarzenie zostanie usuni\u0119te na zawsze, kontynuowa\u0107?",section_description:"Opis",section_time:"Okres czasu",full_day:"Ca\u0142y dzie\u0144",confirm_recurring:"Czy chcesz edytowa\u0107 ca\u0142y zbi\xF3r powtarzaj\u0105cych si\u0119 zdarze\u0144?",section_recurring:"Powt\xF3rz zdarzenie",button_recurring:"Nieaktywne",button_recurring_open:"Aktywne",button_edit_series:"Edytuj seri\u0119",button_edit_occurrence:"Edytuj kopi\u0119",agenda_tab:"Agenda",date:"Data",description:"Opis",year_tab:"Rok",week_agenda_tab:"Agenda",grid_tab:"Tabela",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Codziennie",repeat_radio_week:"Co tydzie",repeat_radio_month:"Co miesic",repeat_radio_year:"Co rok",repeat_radio_day_type:"Kadego",repeat_text_day_count:"dnia",repeat_radio_day_type2:"Kadego dnia roboczego",repeat_week:" Powtarzaj kadego",repeat_text_week_count:"tygodnia w dni:",repeat_radio_month_type:"Powtrz",repeat_radio_month_start:"W",repeat_text_month_day:"dnia kadego",repeat_text_month_count:"miesica",repeat_text_month_count2_before:"kadego",repeat_text_month_count2_after:"miesica",repeat_year_label:"W",select_year_day2:"miesica",repeat_text_year_day:"dnia miesica",select_year_month:"",repeat_radio_end:"Bez daty kocowej",repeat_text_occurences_count:"wystpieniu/ach",repeat_radio_end3:"Zakocz w",repeat_radio_end2:"Po",month_for_recurring:["Stycznia","Lutego","Marca","Kwietnia","Maja","Czerwca","Lipca","Sierpnia","Wrzenia","Padziernka","Listopada","Grudnia"],day_for_recurring:["Niedziela","Poniedziaek","Wtorek","roda","Czwartek","Pitek","Sobota"]}},Re={date:{month_full:["Janeiro","Fevereiro","Mar\xE7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],month_short:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],day_full:["Domingo","Segunda","Ter\xE7a","Quarta","Quinta","Sexta","S\xE1bado"],day_short:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"]},labels:{dhx_cal_today_button:"Hoje",day_tab:"Dia",week_tab:"Semana",month_tab:"M\xEAs",new_event:"Novo evento",icon_save:"Salvar",icon_cancel:"Cancelar",icon_details:"Detalhes",icon_edit:"Editar",icon_delete:"Deletar",confirm_closing:"",confirm_deleting:"Tem certeza que deseja excluir?",section_description:"Descri\xE7\xE3o",section_time:"Per\xEDodo de tempo",full_day:"Dia inteiro",confirm_recurring:"Deseja editar todos esses eventos repetidos?",section_recurring:"Repetir evento",button_recurring:"Desabilitar",button_recurring_open:"Habilitar",button_edit_series:"Editar a s\xE9rie",button_edit_occurrence:"Editar uma c\xF3pia",agenda_tab:"Dia",date:"Data",description:"Descri\xE7\xE3o",year_tab:"Ano",week_agenda_tab:"Dia",grid_tab:"Grade",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Di\xE1rio",repeat_radio_week:"Semanal",repeat_radio_month:"Mensal",repeat_radio_year:"Anual",repeat_radio_day_type:"Cada",repeat_text_day_count:"dia(s)",repeat_radio_day_type2:"Cada trabalho di\xE1rio",repeat_week:" Repita cada",repeat_text_week_count:"semana:",repeat_radio_month_type:"Repetir",repeat_radio_month_start:"Em",repeat_text_month_day:"todo dia",repeat_text_month_count:"m\xEAs",repeat_text_month_count2_before:"todo",repeat_text_month_count2_after:"m\xEAs",repeat_year_label:"Em",select_year_day2:"of",repeat_text_year_day:"dia",select_year_month:"m\xEAs",repeat_radio_end:"Sem data final",repeat_text_occurences_count:"ocorr\xEAncias",repeat_radio_end3:"Fim",repeat_radio_end2:"Depois",month_for_recurring:["Janeiro","Fevereiro","Mar\xE7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],day_for_recurring:["Domingo","Segunda","Ter\xE7a","Quarta","Quinta","Sexta","S\xE1bado"]}},We={date:{month_full:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","November","December"],month_short:["Ian","Feb","Mar","Apr","Mai","Iun","Iul","Aug","Sep","Oct","Nov","Dec"],day_full:["Duminica","Luni","Marti","Miercuri","Joi","Vineri","Sambata"],day_short:["Du","Lu","Ma","Mi","Jo","Vi","Sa"]},labels:{dhx_cal_today_button:"Astazi",day_tab:"Zi",week_tab:"Saptamana",month_tab:"Luna",new_event:"Eveniment nou",icon_save:"Salveaza",icon_cancel:"Anuleaza",icon_details:"Detalii",icon_edit:"Editeaza",icon_delete:"Sterge",confirm_closing:"Schimbarile nu vor fi salvate, esti sigur?",confirm_deleting:"Evenimentul va fi sters permanent, esti sigur?",section_description:"Descriere",section_time:"Interval",full_day:"Toata ziua",confirm_recurring:"Vrei sa editezi toata seria de evenimente repetate?",section_recurring:"Repetare",button_recurring:"Dezactivata",button_recurring_open:"Activata",button_edit_series:"Editeaza serie",button_edit_occurrence:"Editeaza doar intrare",agenda_tab:"Agenda",date:"Data",description:"Descriere",year_tab:"An",week_agenda_tab:"Agenda",grid_tab:"Lista",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Zilnic",repeat_radio_week:"Saptamanal",repeat_radio_month:"Lunar",repeat_radio_year:"Anual",repeat_radio_day_type:"La fiecare",repeat_text_day_count:"zi(le)",repeat_radio_day_type2:"Fiecare zi lucratoare",repeat_week:" Repeta la fiecare",repeat_text_week_count:"saptamana in urmatoarele zile:",repeat_radio_month_type:"Repeta in",repeat_radio_month_start:"In a",repeat_text_month_day:"zi la fiecare",repeat_text_month_count:"luni",repeat_text_month_count2_before:"la fiecare",repeat_text_month_count2_after:"luni",repeat_year_label:"In",select_year_day2:"a lunii",repeat_text_year_day:"zi a lunii",select_year_month:"",repeat_radio_end:"Fara data de sfarsit",repeat_text_occurences_count:"evenimente",repeat_radio_end3:"La data",repeat_radio_end2:"Dupa",month_for_recurring:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","Noiembrie","Decembrie"],day_for_recurring:["Duminica","Luni","Marti","Miercuri","Joi","Vineri","Sambata"]}},Ue={date:{month_full:["\u042F\u043D\u0432\u0430\u0440\u044C","\u0424\u0435\u0432\u0440\u0430\u043B\u044C","\u041C\u0430\u0440\u0442","\u0410\u043F\u0440\u0435\u043B\u044C","Ma\u0439","\u0418\u044E\u043D\u044C","\u0418\u044E\u043B\u044C","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043D\u0442\u044F\u0431\u0440\u044C","O\u043A\u0442\u044F\u0431\u0440\u044C","\u041D\u043E\u044F\u0431\u0440\u044C","\u0414\u0435\u043A\u0430\u0431\u0440\u044C"],month_short:["\u042F\u043D\u0432","\u0424\u0435\u0432","Ma\u0440","A\u043F\u0440","Ma\u0439","\u0418\u044E\u043D","\u0418\u044E\u043B","A\u0432\u0433","\u0421\u0435\u043D","\u041E\u043A\u0442","\u041D\u043E\u044F","\u0414\u0435\u043A"],day_full:["\u0412\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u044C\u0435","\u041F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A","\u0412\u0442\u043E\u0440\u043D\u0438\u043A","\u0421\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440\u0433","\u041F\u044F\u0442\u043D\u0438\u0446\u0430","\u0421\u0443\u0431\u0431\u043E\u0442\u0430"],day_short:["\u0412\u0441","\u041F\u043D","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041F\u0442","\u0421\u0431"]},labels:{dhx_cal_today_button:"\u0421\u0435\u0433\u043E\u0434\u043D\u044F",day_tab:"\u0414\u0435\u043D\u044C",week_tab:"\u041D\u0435\u0434\u0435\u043B\u044F",month_tab:"\u041C\u0435\u0441\u044F\u0446",new_event:"\u041D\u043E\u0432\u043E\u0435 \u0441\u043E\u0431\u044B\u0442\u0438\u0435",icon_save:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C",icon_cancel:"\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C",icon_details:"\u0414\u0435\u0442\u0430\u043B\u0438",icon_edit:"\u0418\u0437\u043C\u0435\u043D\u0438\u0442\u044C",icon_delete:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C",confirm_closing:"",confirm_deleting:"\u0421\u043E\u0431\u044B\u0442\u0438\u0435 \u0431\u0443\u0434\u0435\u0442 \u0443\u0434\u0430\u043B\u0435\u043D\u043E \u0431\u0435\u0437\u0432\u043E\u0437\u0432\u0440\u0430\u0442\u043D\u043E, \u043F\u0440\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u044C?",section_description:"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435",section_time:"\u041F\u0435\u0440\u0438\u043E\u0434 \u0432\u0440\u0435\u043C\u0435\u043D\u0438",full_day:"\u0412\u0435\u0441\u044C \u0434\u0435\u043D\u044C",confirm_recurring:"\u0412\u044B \u0445\u043E\u0442\u0438\u0442\u0435 \u0438\u0437\u043C\u0435\u043D\u0438\u0442\u044C \u0432\u0441\u044E \u0441\u0435\u0440\u0438\u044E \u043F\u043E\u0432\u0442\u043E\u0440\u044F\u044E\u0449\u0438\u0445\u0441\u044F \u0441\u043E\u0431\u044B\u0442\u0438\u0439?",section_recurring:"\u041F\u043E\u0432\u0442\u043E\u0440\u0435\u043D\u0438\u0435",button_recurring:"\u041E\u0442\u043A\u043B\u044E\u0447\u0435\u043D\u043E",button_recurring_open:"\u0412\u043A\u043B\u044E\u0447\u0435\u043D\u043E",button_edit_series:"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0441\u0435\u0440\u0438\u044E",button_edit_occurrence:"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u044D\u043A\u0437\u0435\u043C\u043F\u043B\u044F\u0440",agenda_tab:"\u0421\u043F\u0438\u0441\u043E\u043A",date:"\u0414\u0430\u0442\u0430",description:"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435",year_tab:"\u0413\u043E\u0434",week_agenda_tab:"\u0421\u043F\u0438\u0441\u043E\u043A",grid_tab:"\u0422\u0430\u0431\u043B\u0438\u0446\u0430",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"\u0414\u0435\u043D\u044C",repeat_radio_week:"\u041D\u0435\u0434\u0435\u043B\u044F",repeat_radio_month:"\u041C\u0435\u0441\u044F\u0446",repeat_radio_year:"\u0413\u043E\u0434",repeat_radio_day_type:"\u041A\u0430\u0436\u0434\u044B\u0439",repeat_text_day_count:"\u0434\u0435\u043D\u044C",repeat_radio_day_type2:"\u041A\u0430\u0436\u0434\u044B\u0439 \u0440\u0430\u0431\u043E\u0447\u0438\u0439 \u0434\u0435\u043D\u044C",repeat_week:" \u041F\u043E\u0432\u0442\u043E\u0440\u044F\u0442\u044C \u043A\u0430\u0436\u0434\u0443\u044E",repeat_text_week_count:"\u043D\u0435\u0434\u0435\u043B\u044E , \u0432:",repeat_radio_month_type:"\u041F\u043E\u0432\u0442\u043E\u0440\u044F\u0442\u044C",repeat_radio_month_start:"",repeat_text_month_day:" \u0447\u0438\u0441\u043B\u0430 \u043A\u0430\u0436\u0434\u044B\u0439 ",repeat_text_month_count:"\u043C\u0435\u0441\u044F\u0446",repeat_text_month_count2_before:"\u043A\u0430\u0436\u0434\u044B\u0439 ",repeat_text_month_count2_after:"\u043C\u0435\u0441\u044F\u0446",repeat_year_label:"",select_year_day2:"",repeat_text_year_day:"\u0434\u0435\u043D\u044C",select_year_month:"",repeat_radio_end:"\u0411\u0435\u0437 \u0434\u0430\u0442\u044B \u043E\u043A\u043E\u043D\u0447\u0430\u043D\u0438\u044F",repeat_text_occurences_count:"\u043F\u043E\u0432\u0442\u043E\u0440\u0435\u043D\u0438\u0439",repeat_radio_end3:"\u0414\u043E ",repeat_radio_end2:"",month_for_recurring:["\u042F\u043D\u0432\u0430\u0440\u044F","\u0424\u0435\u0432\u0440\u0430\u043B\u044F","\u041C\u0430\u0440\u0442\u0430","\u0410\u043F\u0440\u0435\u043B\u044F","\u041C\u0430\u044F","\u0418\u044E\u043D\u044F","\u0418\u044E\u043B\u044F","\u0410\u0432\u0433\u0443\u0441\u0442\u0430","\u0421\u0435\u043D\u0442\u044F\u0431\u0440\u044F","\u041E\u043A\u0442\u044F\u0431\u0440\u044F","\u041D\u043E\u044F\u0431\u0440\u044F","\u0414\u0435\u043A\u0430\u0431\u0440\u044F"],day_for_recurring:["\u0412\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u044C\u0435","\u041F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A","\u0412\u0442\u043E\u0440\u043D\u0438\u043A","\u0421\u0440\u0435\u0434\u0443","\u0427\u0435\u0442\u0432\u0435\u0440\u0433","\u041F\u044F\u0442\u043D\u0438\u0446\u0443","\u0421\u0443\u0431\u0431\u043E\u0442\u0443"]}},_t={date:{month_full:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],month_short:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["Nedelja","Ponedeljek","Torek","Sreda","\u010Cetrtek","Petek","Sobota"],day_short:["Ned","Pon","Tor","Sre","\u010Cet","Pet","Sob"]},labels:{dhx_cal_today_button:"Danes",day_tab:"Dan",week_tab:"Teden",month_tab:"Mesec",new_event:"Nov dogodek",icon_save:"Shrani",icon_cancel:"Prekli\u010Di",icon_details:"Podrobnosti",icon_edit:"Uredi",icon_delete:"Izbri\u0161i",confirm_closing:"",confirm_deleting:"Dogodek bo izbrisan. \u017Delite nadaljevati?",section_description:"Opis",section_time:"\u010Casovni okvir",full_day:"Ves dan",confirm_recurring:"\u017Delite urediti celoten set ponavljajo\u010Dih dogodkov?",section_recurring:"Ponovi dogodek",button_recurring:"Onemogo\u010Deno",button_recurring_open:"Omogo\u010Deno",button_edit_series:"Edit series",button_edit_occurrence:"Edit occurrence",agenda_tab:"Zadeva",date:"Datum",description:"Opis",year_tab:"Leto",week_agenda_tab:"Zadeva",grid_tab:"Miza",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute"}},Ft={date:{month_full:["Janu\xE1r","Febru\xE1r","Marec","Apr\xEDl","M\xE1j","J\xFAn","J\xFAl","August","September","Okt\xF3ber","November","December"],month_short:["Jan","Feb","Mar","Apr","M\xE1j","J\xFAn","J\xFAl","Aug","Sept","Okt","Nov","Dec"],day_full:["Nede\u013Ea","Pondelok","Utorok","Streda","\u0160tvrtok","Piatok","Sobota"],day_short:["Ne","Po","Ut","St","\u0160t","Pi","So"]},labels:{dhx_cal_today_button:"Dnes",day_tab:"De\u0148",week_tab:"T\xFD\u017Ede\u0148",month_tab:"Mesiac",new_event:"Nov\xE1 udalos\u0165",icon_save:"Ulo\u017Ei\u0165",icon_cancel:"Sp\xE4\u0165",icon_details:"Detail",icon_edit:"Edituj",icon_delete:"Zmaza\u0165",confirm_closing:"Va\u0161e zmeny nebud\xFA ulo\u017Een\xE9. Skuto\u010Dne?",confirm_deleting:"Udalos\u0165 bude natrvalo vymazan\xE1. Skuto\u010Dne?",section_description:"Pozn\xE1mky",section_time:"Doba platnosti",confirm_recurring:"Prajete si upravi\u0165 cel\xFA radu opakovan\xFDch udalost\xED?",section_recurring:"Opakovanie udalosti",button_recurring:"Vypnut\xE9",button_recurring_open:"Zapnut\xE9",button_edit_series:"Upravi\u0165 opakovania",button_edit_occurrence:"Upravi\u0165 in\u0161tancie",agenda_tab:"Program",date:"D\xE1tum",description:"Pozn\xE1mka",year_tab:"Rok",full_day:"Cel\xFD de\u0148",week_agenda_tab:"Program",grid_tab:"Mrie\u017Eka",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Denne",repeat_radio_week:"T\xFD\u017Edenne",repeat_radio_month:"Mesa\xE8ne",repeat_radio_year:"Ro\xE8ne",repeat_radio_day_type:"Ka\u017Ed\xFD",repeat_text_day_count:"de\xF2",repeat_radio_day_type2:"Ka\u017Ed\xFD prac. de\xF2",repeat_week:"Opakova ka\u017Ed\xFD",repeat_text_week_count:"t\xFD\u017Ede\xF2 v d\xF2och:",repeat_radio_month_type:"Opakova",repeat_radio_month_start:"On",repeat_text_month_day:"de\xF2 ka\u017Ed\xFD",repeat_text_month_count:"mesiac",repeat_text_month_count2_before:"ka\u017Ed\xFD",repeat_text_month_count2_after:"mesiac",repeat_year_label:"On",select_year_day2:"po\xE8as",repeat_text_year_day:"de\xF2",select_year_month:"mesiac",repeat_radio_end:"Bez d\xE1tumu ukon\xE8enia",repeat_text_occurences_count:"udalostiach",repeat_radio_end3:"Ukon\xE8i",repeat_radio_end2:"Po",month_for_recurring:["Janu\xE1r","Febru\xE1r","Marec","Apr\xEDl","M\xE1j","J\xFAn","J\xFAl","August","September","Okt\xF3ber","November","December"],day_for_recurring:["Nede\xBEa","Pondelok","Utorok","Streda","\u0160tvrtok","Piatok","Sobota"]}},Et={date:{month_full:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],month_short:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["S\xF6ndag","M\xE5ndag","Tisdag","Onsdag","Torsdag","Fredag","L\xF6rdag"],day_short:["S\xF6n","M\xE5n","Tis","Ons","Tor","Fre","L\xF6r"]},labels:{dhx_cal_today_button:"Idag",day_tab:"Dag",week_tab:"Vecka",month_tab:"M\xE5nad",new_event:"Ny h\xE4ndelse",icon_save:"Spara",icon_cancel:"\xC5ngra",icon_details:"Detaljer",icon_edit:"\xC4ndra",icon_delete:"Ta bort",confirm_closing:"",confirm_deleting:"\xC4r du s\xE4ker p\xE5 att du vill ta bort h\xE4ndelsen permanent?",section_description:"Beskrivning",section_time:"Tid",full_day:"Hela dagen",confirm_recurring:"Vill du redigera hela serien med repeterande h\xE4ndelser?",section_recurring:"Upprepa h\xE4ndelse",button_recurring:"Inaktiverat",button_recurring_open:"Aktiverat",button_edit_series:"Redigera serien",button_edit_occurrence:"Redigera en kopia",agenda_tab:"Dagordning",date:"Datum",description:"Beskrivning",year_tab:"\xC5r",week_agenda_tab:"Dagordning",grid_tab:"Galler",drag_to_create:"Dra f\xF6r att skapa ny",drag_to_move:"Dra f\xF6r att flytta",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Dagligen",repeat_radio_week:"Veckovis",repeat_radio_month:"M\xE5nadsvis",repeat_radio_year:"\xC5rligen",repeat_radio_day_type:"Var",repeat_text_day_count:"dag",repeat_radio_day_type2:"Varje arbetsdag",repeat_week:" Upprepa var",repeat_text_week_count:"vecka dessa dagar:",repeat_radio_month_type:"Upprepa",repeat_radio_month_start:"Den",repeat_text_month_day:"dagen var",repeat_text_month_count:"m\xE5nad",repeat_text_month_count2_before:"var",repeat_text_month_count2_after:"m\xE5nad",repeat_year_label:"Den",select_year_day2:"i",repeat_text_year_day:"dag i",select_year_month:"m\xE5nad",repeat_radio_end:"Inget slutdatum",repeat_text_occurences_count:"upprepningar",repeat_radio_end3:"Sluta efter",repeat_radio_end2:"Efter",month_for_recurring:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],day_for_recurring:["S\xF6ndag","M\xE5ndag","Tisdag","Onsdag","Torsdag","Fredag","L\xF6rdag"]}},ti={date:{month_full:["Ocak","\xDEubat","Mart","Nisan","May\xFDs","Haziran","Temmuz","A\xF0ustos","Eyl\xFCl","Ekim","Kas\xFDm","Aral\xFDk"],month_short:["Oca","\xDEub","Mar","Nis","May","Haz","Tem","A\xF0u","Eyl","Eki","Kas","Ara"],day_full:["Pazar","Pazartes,","Sal\xFD","\xC7ar\xFEamba","Per\xFEembe","Cuma","Cumartesi"],day_short:["Paz","Pts","Sal","\xC7ar","Per","Cum","Cts"]},labels:{dhx_cal_today_button:"Bug\xFCn",day_tab:"G\xFCn",week_tab:"Hafta",month_tab:"Ay",new_event:"Uygun",icon_save:"Kaydet",icon_cancel:"\xDDptal",icon_details:"Detaylar",icon_edit:"D\xFCzenle",icon_delete:"Sil",confirm_closing:"",confirm_deleting:"Etkinlik silinecek, devam?",section_description:"A\xE7\xFDklama",section_time:"Zaman aral\xFD\xF0\xFD",full_day:"Tam g\xFCn",confirm_recurring:"T\xFCm tekrar eden etkinlikler silinecek, devam?",section_recurring:"Etkinli\xF0i tekrarla",button_recurring:"Pasif",button_recurring_open:"Aktif",button_edit_series:"Dizi d\xFCzenleme",button_edit_occurrence:"Bir kopyas\u0131n\u0131 d\xFCzenleyin",agenda_tab:"Ajanda",date:"Tarih",description:"A\xE7\xFDklama",year_tab:"Y\xFDl",week_agenda_tab:"Ajanda",grid_tab:"Izgara",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute"}},Yn={date:{month_full:["\u0421\u0456\u0447\u0435\u043D\u044C","\u041B\u044E\u0442\u0438\u0439","\u0411\u0435\u0440\u0435\u0437\u0435\u043D\u044C","\u041A\u0432\u0456\u0442\u0435\u043D\u044C","\u0422\u0440\u0430\u0432\u0435\u043D\u044C","\u0427\u0435\u0440\u0432\u0435\u043D\u044C","\u041B\u0438\u043F\u0435\u043D\u044C","\u0421\u0435\u0440\u043F\u0435\u043D\u044C","\u0412\u0435\u0440\u0435\u0441\u0435\u043D\u044C","\u0416\u043E\u0432\u0442\u0435\u043D\u044C","\u041B\u0438\u0441\u0442\u043E\u043F\u0430\u0434","\u0413\u0440\u0443\u0434\u0435\u043D\u044C"],month_short:["\u0421\u0456\u0447","\u041B\u044E\u0442","\u0411\u0435\u0440","\u041A\u0432\u0456","\u0422\u0440\u0430","\u0427\u0435\u0440","\u041B\u0438\u043F","\u0421\u0435\u0440","\u0412\u0435\u0440","\u0416\u043E\u0432","\u041B\u0438\u0441","\u0413\u0440\u0443"],day_full:["\u041D\u0435\u0434\u0456\u043B\u044F","\u041F\u043E\u043D\u0435\u0434\u0456\u043B\u043E\u043A","\u0412\u0456\u0432\u0442\u043E\u0440\u043E\u043A","\u0421\u0435\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440","\u041F'\u044F\u0442\u043D\u0438\u0446\u044F","\u0421\u0443\u0431\u043E\u0442\u0430"],day_short:["\u041D\u0435\u0434","\u041F\u043E\u043D","\u0412\u0456\u0432","\u0421\u0435\u0440","\u0427\u0435\u0442","\u041F\u0442\u043D","\u0421\u0443\u0431"]},labels:{dhx_cal_today_button:"\u0421\u044C\u043E\u0433\u043E\u0434\u043D\u0456",day_tab:"\u0414\u0435\u043D\u044C",week_tab:"\u0422\u0438\u0436\u0434\u0435\u043D\u044C",month_tab:"\u041C\u0456\u0441\u044F\u0446\u044C",new_event:"\u041D\u043E\u0432\u0430 \u043F\u043E\u0434\u0456\u044F",icon_save:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438",icon_cancel:"\u0412\u0456\u0434\u043C\u0456\u043D\u0430",icon_details:"\u0414\u0435\u0442\u0430\u043B\u0456",icon_edit:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438",icon_delete:"\u0412\u0438\u043B\u0443\u0447\u0438\u0442\u0438",confirm_closing:"",confirm_deleting:"\u041F\u043E\u0434\u0456\u044F \u0432\u0438\u043B\u0443\u0447\u0438\u0442\u044C\u0441\u044F \u043D\u0430\u0437\u0430\u0432\u0436\u0434\u0438. \u0412\u0438 \u0432\u043F\u0435\u0432\u043D\u0435\u043D\u0456?",section_description:"\u041E\u043F\u0438\u0441",section_time:"\u0427\u0430\u0441\u043E\u0432\u0438\u0439 \u043F\u0440\u043E\u043C\u0456\u0436\u043E\u043A",full_day:"\u0412\u0435\u0441\u044C \u0434\u0435\u043D\u044C",confirm_recurring:"\u0425\u043E\u0447\u0435\u0442\u0435 \u0440\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0432\u0435\u0441\u044C \u043F\u0435\u0440\u0435\u043B\u0456\u043A \u043F\u043E\u0432\u0442\u043E\u0440\u044E\u0432\u0430\u043D\u0438\u0445 \u043F\u043E\u0434\u0456\u0439?",section_recurring:"\u041F\u043E\u0432\u0442\u043E\u0440\u044E\u0432\u0430\u043D\u0430 \u043F\u043E\u0434\u0456\u044F",button_recurring:"\u0412\u0456\u0434\u043A\u043B\u044E\u0447\u0435\u043D\u043E",button_recurring_open:"\u0412\u043A\u043B\u044E\u0447\u0435\u043D\u043E",button_edit_series:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0441\u0435\u0440\u0456\u044E",button_edit_occurrence:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u043F\u0440\u0438\u043C\u0456\u0440\u043D\u0438\u043A",agenda_tab:"\u041F\u0435\u0440\u0435\u043B\u0456\u043A",date:"\u0414\u0430\u0442\u0430",description:"\u041E\u043F\u0438\u0441",year_tab:"\u0420\u0456\u043A",week_agenda_tab:"\u041F\u0435\u0440\u0435\u043B\u0456\u043A",grid_tab:"\u0422\u0430\u0431\u043B\u0438\u0446\u044F",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"\u0414\u0435\u043D\u044C",repeat_radio_week:"\u0422\u0438\u0436\u0434\u0435\u043D\u044C",repeat_radio_month:"\u041C\u0456\u0441\u044F\u0446\u044C",repeat_radio_year:"\u0420\u0456\u043A",repeat_radio_day_type:"\u041A\u043E\u0436\u043D\u0438\u0439",repeat_text_day_count:"\u0434\u0435\u043D\u044C",repeat_radio_day_type2:"\u041A\u043E\u0436\u043D\u0438\u0439 \u0440\u043E\u0431\u043E\u0447\u0438\u0439 \u0434\u0435\u043D\u044C",repeat_week:" \u041F\u043E\u0432\u0442\u043E\u0440\u044E\u0432\u0430\u0442\u0438 \u043A\u043E\u0436\u0435\u043D",repeat_text_week_count:"\u0442\u0438\u0436\u0434\u0435\u043D\u044C , \u043F\u043E:",repeat_radio_month_type:"\u041F\u043E\u0432\u0442\u043E\u0440\u044E\u0432\u0430\u0442\u0438",repeat_radio_month_start:"",repeat_text_month_day:" \u0447\u0438\u0441\u043B\u0430 \u043A\u043E\u0436\u043D\u0438\u0439 ",repeat_text_month_count:"\u043C\u0456\u0441\u044F\u0446\u044C",repeat_text_month_count2_before:"\u043A\u043E\u0436\u0435\u043D ",repeat_text_month_count2_after:"\u043C\u0456\u0441\u044F\u0446\u044C",repeat_year_label:"",select_year_day2:"",repeat_text_year_day:"\u0434\u0435\u043D\u044C",select_year_month:"",repeat_radio_end:"\u0411\u0435\u0437 \u0434\u0430\u0442\u0438 \u0437\u0430\u043A\u0456\u043D\u0447\u0435\u043D\u043D\u044F",repeat_text_occurences_count:"\u043F\u043E\u0432\u0442\u043E\u0440\u0435\u043D\u044C",repeat_radio_end3:"\u0414\u043E ",repeat_radio_end2:"",month_for_recurring:["\u0441\u0456\u0447\u043D\u044F","\u043B\u044E\u0442\u043E\u0433\u043E","\u0431\u0435\u0440\u0435\u0437\u043D\u044F","\u043A\u0432\u0456\u0442\u043D\u044F","\u0442\u0440\u0430\u0432\u043D\u044F","\u0447\u0435\u0440\u0432\u043D\u044F","\u043B\u0438\u043F\u043D\u044F","\u0441\u0435\u0440\u043F\u043D\u044F","\u0432\u0435\u0440\u0435\u0441\u043D\u044F","\u0436\u043E\u0432\u0442\u043D\u044F","\u043B\u0438\u0441\u0442\u043E\u043F\u0430\u0434\u0430","\u0433\u0440\u0443\u0434\u043D\u044F"],day_for_recurring:["\u041D\u0435\u0434\u0456\u043B\u044F\u043C","\u041F\u043E\u043D\u0435\u0434\u0456\u043B\u043A\u0430\u043C","\u0412\u0456\u0432\u0442\u043E\u0440\u043A\u0430\u043C","\u0421\u0435\u0440\u0435\u0434\u0430\u043C","\u0427\u0435\u0442\u0432\u0435\u0440\u0433\u0430\u043C","\u041F'\u044F\u0442\u043D\u0438\u0446\u044F\u043C","\u0421\u0443\u0431\u043E\u0442\u0430\u043C"]}};function ar(s){return(ar=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}var bo=function(s){var w={version:"6.0.2"};(function(o){var c={agenda:"https://docs.dhtmlx.com/scheduler/agenda_view.html",grid:"https://docs.dhtmlx.com/scheduler/grid_view.html",map:"https://docs.dhtmlx.com/scheduler/map_view.html",unit:"https://docs.dhtmlx.com/scheduler/units_view.html",timeline:"https://docs.dhtmlx.com/scheduler/timeline_view.html",week_agenda:"https://docs.dhtmlx.com/scheduler/weekagenda_view.html",year:"https://docs.dhtmlx.com/scheduler/year_view.html",anythingElse:"https://docs.dhtmlx.com/scheduler/views.html"},u={agenda:"ext/dhtmlxscheduler_agenda_view.js",grid:"ext/dhtmlxscheduler_grid_view.js",map:"ext/dhtmlxscheduler_map_view.js",unit:"ext/dhtmlxscheduler_units.js",timeline:"ext/dhtmlxscheduler_timeline.js, ext/dhtmlxscheduler_treetimeline.js, ext/dhtmlxscheduler_daytimeline.js",week_agenda:"ext/dhtmlxscheduler_week_agenda.js",year:"ext/dhtmlxscheduler_year_view.js",limit:"ext/dhtmlxscheduler_limit.js"};o._commonErrorMessages={unknownView:function(_){var y=u[_]?"You're probably missing "+u[_]+".":"";return"`"+_+"` view is not defined. \nPlease check parameters you pass to `scheduler.init` or `scheduler.setCurrentView` in your code and ensure you've imported appropriate extensions. \nRelated docs: "+(c[_]||c.anythingElse)+`
`+(y?y+`
`:"")},collapsedContainer:function(_){return`Scheduler container height is set to *100%* but the rendered height is zero and the scheduler is not visible. 
Make sure that the container has some initial height or use different units. For example:
<div id='scheduler_here' class='dhx_cal_container' style='width:100%; height:600px;'> 
`}},o.createTimelineView=function(){throw new Error("scheduler.createTimelineView is not implemented. Be sure to add the required extension: "+u.timeline+`
Related docs: `+c.timeline)},o.createUnitsView=function(){throw new Error("scheduler.createUnitsView is not implemented. Be sure to add the required extension: "+u.unit+`
Related docs: `+c.unit)},o.createGridView=function(){throw new Error("scheduler.createGridView is not implemented. Be sure to add the required extension: "+u.grid+`
Related docs: `+c.grid)},o.addMarkedTimespan=function(){throw new Error(`scheduler.addMarkedTimespan is not implemented. Be sure to add the required extension: ext/dhtmlxscheduler_limit.js
Related docs: https://docs.dhtmlx.com/scheduler/limits.html`)},o.renderCalendar=function(){throw new Error(`scheduler.renderCalendar is not implemented. Be sure to add the required extension: ext/dhtmlxscheduler_minical.js
https://docs.dhtmlx.com/scheduler/minicalendar.html`)},o.exportToPNG=function(){throw new Error(["scheduler.exportToPNG is not implemented.","This feature requires an additional module, be sure to check the related doc here https://docs.dhtmlx.com/scheduler/png.html","Licensing info: https://dhtmlx.com/docs/products/dhtmlxScheduler/export.shtml"].join(`
`))},o.exportToPDF=function(){throw new Error(["scheduler.exportToPDF is not implemented.","This feature requires an additional module, be sure to check the related doc here https://docs.dhtmlx.com/scheduler/pdf.html","Licensing info: https://dhtmlx.com/docs/products/dhtmlxScheduler/export.shtml"].join(`
`))}})(w),function(o){var c=L();o.event=c.attach,o.eventRemove=c.detach,o._eventRemoveAll=c.detachAll,o._createDomEventScope=c.extend,o._trim=function(u){return(String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")}).apply(u)},o._isDate=function(u){return!(!u||N(u)!="object"||!(u.getFullYear&&u.getMonth&&u.getDate))},o._isObject=function(u){return u&&N(u)=="object"}}(w),function(o){T(o),l(o),o._detachDomEvent=function(v,S,b){v.removeEventListener?v.removeEventListener(S,b,!1):v.detachEvent&&v.detachEvent("on"+S,b)},o._init_once=function(){h(o),o._init_once=function(){}};var c={render:function(v){return o._init_nav_bar(v)}},u={render:function(v){var S=document.createElement("div");return S.className="dhx_cal_header",S}},_={render:function(v){var S=document.createElement("div");return S.className="dhx_cal_data",S}};function y(v){return!!(v.querySelector(".dhx_cal_header")&&v.querySelector(".dhx_cal_data")&&v.querySelector(".dhx_cal_navline"))}o.init=function(v,S,b){if(!this.$destroyed){if(S=S||o._currentDate(),b=b||"week",this._obj&&this.unset_actions(),this._obj=typeof v=="string"?document.getElementById(v):v,this.$container=this._obj,this.$root=this._obj,!this.$container.offsetHeight&&this.$container.offsetWidth&&this.$container.style.height==="100%"&&window.console.error(o._commonErrorMessages.collapsedContainer(),this.$container),this.config.wai_aria_attributes&&this.config.wai_aria_application_role&&this.$container.setAttribute("role","application"),this.config.header||y(this.$container)||(this.config.header=function(k){var D=["day","week","month"];if(k.matrix)for(var M in k.matrix)D.push(M);if(k._props)for(var M in k._props)D.push(M);if(k._grid&&k._grid.names)for(var M in k._grid.names)D.push(M);return["map","agenda","week_agenda","year"].forEach(function(V){k[V+"_view"]&&D.push(V)}),D.concat(["date"]).concat(["prev","today","next"])}(this),window.console.log(["Required DOM elements are missing from the scheduler container and **scheduler.config.header** is not specified.","Using a default header configuration: ","scheduler.config.header = "+JSON.stringify(this.config.header,null,2),"Check this article for the details: https://docs.dhtmlx.com/scheduler/initialization.html"].join(`
`))),this.config.header)this.$container.innerHTML="",this.$container.classList.add("dhx_cal_container"),this.config.header.height&&(this.xy.nav_height=this.config.header.height),this.$container.appendChild(c.render(this.config.header)),this.$container.appendChild(u.render()),this.$container.appendChild(_.render());else if(!y(this.$container))throw new Error(["Required DOM elements are missing from the scheduler container.","Be sure to either specify them manually in the markup: https://docs.dhtmlx.com/scheduler/initialization.html#initializingschedulerviamarkup","Or to use **scheduler.config.header** setting so they could be created automatically: https://docs.dhtmlx.com/scheduler/initialization.html#initializingschedulerviaheaderconfig"].join(`
`));this.config.rtl&&(this.$container.className+=" dhx_cal_container_rtl"),this._skin_init&&o._skin_init(),o.date.init(),this._scroll=!0,this._quirks=this.$env.isIE&&document.compatMode=="BackCompat",this._quirks7=this.$env.isIE&&navigator.appVersion.indexOf("MSIE 8")==-1,this._els=[],this.get_elements(),this.init_templates(),this.set_actions(),this._init_once(),this._init_touch_events(),this.set_sizes(),o.callEvent("onSchedulerReady",[]),this.setCurrentView(S,b)}},o.xy={min_event_height:40,scale_width:50,scroll_width:18,scale_height:20,month_scale_height:20,menu_width:25,margin_top:0,margin_left:0,editor_width:140,month_head_height:22,event_header_height:14},o.keys={edit_save:13,edit_cancel:27},o.bind=function(v,S){return v.bind?v.bind(S):function(){return v.apply(S,arguments)}},o.set_sizes=function(){var v=this._x=this._obj.clientWidth-this.xy.margin_left,S=this._y=this._obj.clientHeight-this.xy.margin_top,b=this._table_view?0:this.xy.scale_width+this.xy.scroll_width,k=this._table_view?-1:this.xy.scale_width,D=this.$container.querySelector(".dhx_cal_scale_placeholder");o._is_material_skin()?(D||((D=document.createElement("div")).className="dhx_cal_scale_placeholder",this.$container.insertBefore(D,this._els.dhx_cal_header[0])),D.style.display="block",this.set_xy(D,v,this.xy.scale_height+1,0,this.xy.nav_height+(this._quirks?-1:1))):D&&D.parentNode.removeChild(D),this._lightbox&&(o.$container.offsetWidth<1200||this._setLbPosition(document.querySelector(".dhx_cal_light"))),this.set_xy(this._els.dhx_cal_navline[0],v,this.xy.nav_height,0,0),this.set_xy(this._els.dhx_cal_header[0],v-b,this.xy.scale_height,k,this.xy.nav_height+(this._quirks?-1:1));var M=this._els.dhx_cal_navline[0].offsetHeight;M>0&&(this.xy.nav_height=M);var V=this.xy.scale_height+this.xy.nav_height+(this._quirks?-2:0);this.set_xy(this._els.dhx_cal_data[0],v,S-(V+2),0,V+2)},o.set_xy=function(v,S,b,k,D){var M="left";v.style.width=Math.max(0,S)+"px",v.style.height=Math.max(0,b)+"px",arguments.length>3&&(this.config.rtl&&(M="right"),v.style[M]=k+"px",v.style.top=D+"px")},o.get_elements=function(){for(var v=this._obj.getElementsByTagName("DIV"),S=0;S<v.length;S++){var b=o._getClassName(v[S]),k=v[S].getAttribute("data-tab")||v[S].getAttribute("name")||"";b&&(b=b.split(" ")[0]),this._els[b]||(this._els[b]=[]),this._els[b].push(v[S]);var D=o.locale.labels[k+"_tab"]||o.locale.labels[k||b];typeof D!="string"&&k&&!v[S].innerHTML&&(D=k.split("_")[0]),D&&(this._waiAria.labelAttr(v[S],D),v[S].innerHTML=D)}};var x=o._createDomEventScope();o.unset_actions=function(){x.detachAll()},o.set_actions=function(){for(var v in this._els)if(this._click[v])for(var S=0;S<this._els[v].length;S++){var b=this._els[v][S],k=this._click[v].bind(b);x.attach(b,"click",k)}x.attach(this._obj,"selectstart",function(D){return D.preventDefault(),!1}),x.attach(this._obj,"mousemove",function(D){o._temp_touch_block||o._on_mouse_move(D)}),x.attach(this._obj,"mousedown",function(D){o._ignore_next_click||o._on_mouse_down(D)}),x.attach(this._obj,"mouseup",function(D){o._ignore_next_click||o._on_mouse_up(D)}),x.attach(this._obj,"dblclick",function(D){o._on_dbl_click(D)}),x.attach(this._obj,"contextmenu",function(D){var M=D,V=M.target||M.srcElement;return o.callEvent("onContextMenu",[o._locate_event(V),M])})},o.select=function(v){this._select_id!=v&&(o._close_not_saved(),this.editStop(!1),this._select_id&&this.unselect(),this._select_id=v,this.updateEvent(v),this.callEvent("onEventSelected",[v]))},o.unselect=function(v){if(!v||v==this._select_id){var S=this._select_id;this._select_id=null,S&&this.getEvent(S)&&this.updateEvent(S),this.callEvent("onEventUnselected",[S])}},o.getState=function(){return{mode:this._mode,date:new Date(this._date),min_date:new Date(this._min_date),max_date:new Date(this._max_date),editor_id:this._edit_id,lightbox_id:this._lightbox_id,new_event:this._new_event,select_id:this._select_id,expanded:this.expanded,drag_id:this._drag_id,drag_mode:this._drag_mode}},o._click={dhx_cal_data:function(v){if(o._ignore_next_click)return v.preventDefault&&v.preventDefault(),v.cancelBubble=!0,o._ignore_next_click=!1,!1;var S=v.target,b=o._locate_event(S);if(b){if(!o.callEvent("onClick",[b,v])||o.config.readonly)return}else o.callEvent("onEmptyClick",[o.getActionData(v).date,v]);if(b&&o.config.select){o.select(b);var k=o._getClassName(S);k.indexOf("_icon")!=-1&&o._click.buttons[k.split(" ")[1].replace("icon_","")](b)}else o._close_not_saved(),o.getState().select_id&&new Date().valueOf()-(o._new_event||0)>500&&o.unselect()},dhx_cal_prev_button:function(){o._click.dhx_cal_next_button(0,-1)},dhx_cal_next_button:function(v,S){var b=1;o.config.rtl&&(S=-S,b=-b),o.setCurrentView(o.date.add(o.date[o._mode+"_start"](new Date(o._date)),S||b,o._mode))},dhx_cal_today_button:function(){o.callEvent("onBeforeTodayDisplayed",[])&&o.setCurrentView(o._currentDate())},dhx_cal_tab:function(){var v=this.getAttribute("data-tab"),S=this.getAttribute("name"),b=v||S.substring(0,S.search("_tab"));o.setCurrentView(o._date,b)},buttons:{delete:function(v){var S=o.locale.labels.confirm_deleting;o._dhtmlx_confirm(S,o.locale.labels.title_confirm_deleting,function(){o.deleteEvent(v)})},edit:function(v){o.edit(v)},save:function(v){o.editStop(!0)},details:function(v){o.showLightbox(v)},cancel:function(v){o.editStop(!1)}}},o._dhtmlx_confirm=function(v,S,b){if(!v)return b();var k={text:v};S&&(k.title=S),b&&(k.callback=function(D){D&&b()}),o.confirm(k)},o.addEventNow=function(v,S,b){var k={};o._isObject(v)&&!o._isDate(v)&&(k=v,v=null);var D=6e4*(this.config.event_duration||this.config.time_step);v||(v=k.start_date||Math.round(o._currentDate().valueOf()/D)*D);var M=new Date(v);if(!S){var V=this.config.first_hour;V>M.getHours()&&(M.setHours(V),v=M.valueOf()),S=v.valueOf()+D}var U=new Date(S);M.valueOf()==U.valueOf()&&U.setTime(U.valueOf()+D),k.start_date=k.start_date||M,k.end_date=k.end_date||U,k.text=k.text||this.locale.labels.new_event,k.id=this._drag_id=k.id||this.uid(),this._drag_mode="new-size",this._loading=!0;var q=this.addEvent(k);return this.callEvent("onEventCreated",[this._drag_id,b]),this._loading=!1,this._drag_event={},this._on_mouse_up(b),q},o._on_dbl_click=function(v,S){if(S=S||v.target||v.srcElement,!this.config.readonly){var b=o._getClassName(S).split(" ")[0];switch(b){case"dhx_scale_holder":case"dhx_scale_holder_now":case"dhx_month_body":case"dhx_wa_day_data":if(!o.config.dblclick_create)break;this.addEventNow(this.getActionData(v).date,null,v);break;case"dhx_cal_event":case"dhx_wa_ev_body":case"dhx_agenda_line":case"dhx_grid_event":case"dhx_cal_event_line":case"dhx_cal_event_clear":var k=this._locate_event(S);if(!this.callEvent("onDblClick",[k,v]))return;this.config.details_on_dblclick||this._table_view||!this.getEvent(k)._timed||!this.config.select?this.showLightbox(k):this.edit(k);break;case"dhx_time_block":case"dhx_cal_container":return;default:var D=this["dblclick_"+b];if(D)D.call(this,v);else if(S.parentNode&&S!=this)return o._on_dbl_click(v,S.parentNode)}}},o._get_column_index=function(v){var S=0;if(this._cols){for(var b=0,k=0;b+this._cols[k]<v&&k<this._cols.length;)b+=this._cols[k],k++;if(S=k+(this._cols[k]?(v-b)/this._cols[k]:0),this._ignores&&S>=this._cols.length)for(;S>=1&&this._ignores[Math.floor(S)];)S--}return S},o._week_indexes_from_pos=function(v){if(this._cols){var S=this._get_column_index(v.x);return v.x=Math.min(this._cols.length-1,Math.max(0,Math.ceil(S)-1)),v.y=Math.max(0,Math.ceil(60*v.y/(this.config.time_step*this.config.hour_size_px))-1)+this.config.first_hour*(60/this.config.time_step),v}return v},o._mouse_coords=function(v){var S,b=document.body,k=document.documentElement;S=this.$env.isIE||!v.pageX&&!v.pageY?{x:v.clientX+(b.scrollLeft||k.scrollLeft||0)-b.clientLeft,y:v.clientY+(b.scrollTop||k.scrollTop||0)-b.clientTop}:{x:v.pageX,y:v.pageY},this.config.rtl&&this._colsS?(S.x=this.$container.querySelector(".dhx_cal_data").offsetWidth-S.x,this._mode!=="month"&&(S.x-=this.xy.scale_width)):S.x-=this.$domHelpers.getAbsoluteLeft(this._obj)+(this._table_view?0:this.xy.scale_width);var D=this.$container.querySelector(".dhx_cal_data");S.y-=this.$domHelpers.getAbsoluteTop(D)-this._els.dhx_cal_data[0].scrollTop,S.ev=v;var M=this["mouse_"+this._mode];if(M)S=M.call(this,S);else if(this._table_view){var V=this._get_column_index(S.x);if(!this._cols||!this._colsS)return S;var U=0;for(U=1;U<this._colsS.heights.length&&!(this._colsS.heights[U]>S.y);U++);S.y=Math.ceil(24*(Math.max(0,V)+7*Math.max(0,U-1))*60/this.config.time_step),(o._drag_mode||this._mode=="month")&&(S.y=24*(Math.max(0,Math.ceil(V)-1)+7*Math.max(0,U-1))*60/this.config.time_step),this._drag_mode=="move"&&o._ignores_detected&&o.config.preserve_length&&(S._ignores=!0,this._drag_event._event_length||(this._drag_event._event_length=this._get_real_event_length(this._drag_event.start_date,this._drag_event.end_date,{x_step:1,x_unit:"day"}))),S.x=0}else S=this._week_indexes_from_pos(S);return S.timestamp=+new Date,S},o._close_not_saved=function(){if(new Date().valueOf()-(o._new_event||0)>500&&o._edit_id){var v=o.locale.labels.confirm_closing;o._dhtmlx_confirm(v,o.locale.labels.title_confirm_closing,function(){o.editStop(o.config.positive_closing)}),v&&(this._drag_id=this._drag_pos=this._drag_mode=null)}},o._correct_shift=function(v,S){return v-6e4*(new Date(o._min_date).getTimezoneOffset()-new Date(v).getTimezoneOffset())*(S?-1:1)},o._is_pos_changed=function(v,S){function b(k,D,M){return Math.abs(k-D)>M}return!v||!this._drag_pos||!!(this._drag_pos.has_moved||!this._drag_pos.timestamp||S.timestamp-this._drag_pos.timestamp>100||b(v.ev.clientX,S.ev.clientX,5)||b(v.ev.clientY,S.ev.clientY,5))},o._correct_drag_start_date=function(v){var S;o.matrix&&(S=o.matrix[o._mode]),S=S||{x_step:1,x_unit:"day"},v=new Date(v);var b=1;return(S._start_correction||S._end_correction)&&(b=60*(S.last_hour||0)-(60*v.getHours()+v.getMinutes())||1),1*v+(o._get_fictional_event_length(v,b,S)-b)},o._correct_drag_end_date=function(v,S){var b;o.matrix&&(b=o.matrix[o._mode]),b=b||{x_step:1,x_unit:"day"};var k=1*v+o._get_fictional_event_length(v,S,b);return new Date(1*k-(o._get_fictional_event_length(k,-1,b,-1)+1))},o._on_mouse_move=function(v){if(this._drag_mode){var S=this._mouse_coords(v);if(this._is_pos_changed(this._drag_pos,S)){var b,k;if(this._edit_id!=this._drag_id&&this._close_not_saved(),!this._drag_mode)return;var D=null;if(this._drag_pos&&!this._drag_pos.has_moved&&((D=this._drag_pos).has_moved=!0),this._drag_pos=S,this._drag_pos.has_moved=!0,this._drag_mode=="create"){if(D&&(S=D),this._close_not_saved(),this.unselect(this._select_id),this._loading=!0,b=this._get_date_from_pos(S).valueOf(),!this._drag_start)return this.callEvent("onBeforeEventCreated",[v,this._drag_id])?(this._loading=!1,void(this._drag_start=b)):void(this._loading=!1);k=b,this._drag_start;var M=new Date(this._drag_start),V=new Date(k);this._mode!="day"&&this._mode!="week"||M.getHours()!=V.getHours()||M.getMinutes()!=V.getMinutes()||(V=new Date(this._drag_start+1e3)),this._drag_id=this.uid(),this.addEvent(M,V,this.locale.labels.new_event,this._drag_id,S.fields),this.callEvent("onEventCreated",[this._drag_id,v]),this._loading=!1,this._drag_mode="new-size"}var U,q=this.config.time_step,Q=this.getEvent(this._drag_id);if(o.matrix&&(U=o.matrix[o._mode]),U=U||{x_step:1,x_unit:"day"},this._drag_mode=="move")b=this._min_date.valueOf()+6e4*(S.y*this.config.time_step+24*S.x*60),!S.custom&&this._table_view&&(b+=1e3*this.date.time_part(Q.start_date)),!this._table_view&&this._dragEventBody&&this._drag_event._move_event_shift===void 0&&(this._drag_event._move_event_shift=b-Q.start_date),this._drag_event._move_event_shift&&(b-=this._drag_event._move_event_shift),b=this._correct_shift(b),S._ignores&&this.config.preserve_length&&this._table_view?(b=o._correct_drag_start_date(b),k=o._correct_drag_end_date(b,this._drag_event._event_length)):k=Q.end_date.valueOf()-(Q.start_date.valueOf()-b);else{if(b=Q.start_date.valueOf(),k=Q.end_date.valueOf(),this._table_view){var re=this._min_date.valueOf()+S.y*this.config.time_step*6e4+(S.custom?0:864e5);if(this._mode=="month")if(re=this._correct_shift(re,!1),this._drag_from_start){var K=864e5;re<=o.date.date_part(new Date(k+K-1)).valueOf()&&(b=re-K)}else k=re;else this.config.preserve_length?S.resize_from_start?b=o._correct_drag_start_date(re):k=o._correct_drag_end_date(re,0):S.resize_from_start?b=re:k=re}else{var ie=this.date.date_part(new Date(Q.end_date.valueOf()-1)).valueOf(),G=new Date(ie),ne=this.config.first_hour,J=60/q*(this.config.last_hour-ne);this.config.time_step=1;var we=this._mouse_coords(v);this.config.time_step=q;var Te=S.y*q*6e4,Se=Math.min(S.y+1,J)*q*6e4,Ie=6e4*we.y;k=Math.abs(Te-Ie)>Math.abs(Se-Ie)?ie+Se:ie+Te,k+=6e4*(new Date(k).getTimezoneOffset()-G.getTimezoneOffset()),this._els.dhx_cal_data[0].style.cursor="s-resize",this._mode!="week"&&this._mode!="day"||(k=this._correct_shift(k))}if(this._drag_mode=="new-size")if(k<=this._drag_start){var De=S.shift||(this._table_view&&!S.custom?864e5:0);b=k-(S.shift?0:De),k=this._drag_start+(De||6e4*q)}else b=this._drag_start;else k<=b&&(k=b+6e4*q)}var Ve=new Date(k-1),Ke=new Date(b);if(this._drag_mode=="move"&&o.config.limit_drag_out&&(+Ke<+o._min_date||+k>+o._max_date)){if(+Q.start_date<+o._min_date||+Q.end_date>+o._max_date)Ke=new Date(Q.start_date),k=new Date(Q.end_date);else{var et=k-Ke;+Ke<+o._min_date?(Ke=new Date(o._min_date),S._ignores&&this.config.preserve_length&&this._table_view?(Ke=new Date(o._correct_drag_start_date(Ke)),U._start_correction&&(Ke=new Date(Ke.valueOf()+U._start_correction)),k=new Date(1*Ke+this._get_fictional_event_length(Ke,this._drag_event._event_length,U))):k=new Date(+Ke+et)):(k=new Date(o._max_date),S._ignores&&this.config.preserve_length&&this._table_view?(U._end_correction&&(k=new Date(k.valueOf()-U._end_correction)),k=new Date(1*k-this._get_fictional_event_length(k,0,U,!0)),Ke=new Date(1*k-this._get_fictional_event_length(k,this._drag_event._event_length,U,!0)),this._ignores_detected&&(Ke=o.date.add(Ke,U.x_step,U.x_unit),k=new Date(1*k-this._get_fictional_event_length(k,0,U,!0)),k=o.date.add(k,U.x_step,U.x_unit))):Ke=new Date(+k-et))}Ve=new Date(k-1)}if(!this._table_view&&this._dragEventBody&&!o.config.all_timed&&(!o._get_section_view()&&S.x!=this._get_event_sday({start_date:new Date(b),end_date:new Date(b)})||new Date(b).getHours()<this.config.first_hour)&&(et=k-Ke,this._drag_mode=="move"&&(K=this._min_date.valueOf()+24*S.x*60*6e4,(Ke=new Date(K)).setHours(this.config.first_hour),k=new Date(Ke.valueOf()+et),Ve=new Date(k-1))),this._table_view||o.config.all_timed||!(!o.getView()&&S.x!=this._get_event_sday({start_date:new Date(k),end_date:new Date(k)})||new Date(k).getHours()>=this.config.last_hour)||(et=k-Ke,K=this._min_date.valueOf()+24*S.x*60*6e4,(k=o.date.date_part(new Date(K))).setHours(this.config.last_hour),Ve=new Date(k-1),this._drag_mode=="move"&&(Ke=new Date(+k-et))),this._table_view||Ve.getDate()==Ke.getDate()&&Ve.getHours()<this.config.last_hour||o._allow_dnd)if(Q.start_date=Ke,Q.end_date=new Date(k),this.config.update_render){var Pt=o._els.dhx_cal_data[0].scrollTop;this.update_view(),o._els.dhx_cal_data[0].scrollTop=Pt}else this.updateEvent(this._drag_id);this._table_view&&this.for_rendered(this._drag_id,function(Hr){Hr.className+=" dhx_in_move dhx_cal_event_drag"}),this.callEvent("onEventDrag",[this._drag_id,this._drag_mode,v])}}else if(o.checkEvent("onMouseMove")){var gr=this._locate_event(v.target||v.srcElement);this.callEvent("onMouseMove",[gr,v])}},o._on_mouse_down=function(v,S){if(v.button!=2&&!this.config.readonly&&!this._drag_mode){S=S||v.target||v.srcElement;var b=o._getClassName(S).split(" ")[0];switch(this.config.drag_event_body&&b=="dhx_body"&&S.parentNode&&S.parentNode.className.indexOf("dhx_cal_select_menu")===-1&&(b="dhx_event_move",this._dragEventBody=!0),b){case"dhx_cal_event_line":case"dhx_cal_event_clear":this._table_view&&(this._drag_mode="move");break;case"dhx_event_move":case"dhx_wa_ev_body":this._drag_mode="move";break;case"dhx_event_resize":this._drag_mode="resize",o._getClassName(S).indexOf("dhx_event_resize_end")<0?o._drag_from_start=!0:o._drag_from_start=!1;break;case"dhx_scale_holder":case"dhx_scale_holder_now":case"dhx_month_body":case"dhx_matrix_cell":case"dhx_marked_timespan":this._drag_mode="create";break;case"":if(S.parentNode)return o._on_mouse_down(v,S.parentNode);break;default:if((!o.checkEvent("onMouseDown")||o.callEvent("onMouseDown",[b,v]))&&S.parentNode&&S!=this&&b!="dhx_body")return o._on_mouse_down(v,S.parentNode);this._drag_mode=null,this._drag_id=null}if(this._drag_mode){var k=this._locate_event(S);if(this.config["drag_"+this._drag_mode]&&this.callEvent("onBeforeDrag",[k,this._drag_mode,v])){if(this._drag_id=k,(this._edit_id!=this._drag_id||this._edit_id&&this._drag_mode=="create")&&this._close_not_saved(),!this._drag_mode)return;this._drag_event=o._lame_clone(this.getEvent(this._drag_id)||{}),this._drag_pos=this._mouse_coords(v)}else this._drag_mode=this._drag_id=0}this._drag_start=null}},o._get_private_properties=function(v){var S={};for(var b in v)b.indexOf("_")===0&&(S[b]=!0);return S},o._clear_temporary_properties=function(v,S){var b=this._get_private_properties(v),k=this._get_private_properties(S);for(var D in k)b[D]||delete S[D]},o._on_mouse_up=function(v){if(!v||v.button!=2||!this._mobile){if(this._drag_mode&&this._drag_id){this._els.dhx_cal_data[0].style.cursor="default";var S=this._drag_id,b=this._drag_mode,k=!this._drag_pos||this._drag_pos.has_moved;delete this._drag_event._move_event_shift;var D=this.getEvent(this._drag_id);if(k&&(this._drag_event._dhx_changed||!this._drag_event.start_date||D.start_date.valueOf()!=this._drag_event.start_date.valueOf()||D.end_date.valueOf()!=this._drag_event.end_date.valueOf())){var M=this._drag_mode=="new-size";if(this.callEvent("onBeforeEventChanged",[D,v,M,this._drag_event]))if(this._drag_id=this._drag_mode=null,M&&this.config.edit_on_create){if(this.unselect(),this._new_event=new Date,this._table_view||this.config.details_on_create||!this.config.select||!this.isOneDayEvent(this.getEvent(S)))return o.callEvent("onDragEnd",[S,b,v]),this.showLightbox(S);this._drag_pos=!0,this._select_id=this._edit_id=S}else this._new_event||this.callEvent(M?"onEventAdded":"onEventChanged",[S,this.getEvent(S)]);else M?this.deleteEvent(D.id,!0):(this._drag_event._dhx_changed=!1,this._clear_temporary_properties(D,this._drag_event),o._lame_copy(D,this._drag_event),this.updateEvent(D.id))}this._drag_pos&&(this._drag_pos.has_moved||this._drag_pos===!0)&&(this._drag_id=this._drag_mode=null,this.render_view_data()),o.callEvent("onDragEnd",[S,b,v])}this._drag_id=null,this._drag_mode=null,this._drag_pos=null}},o._trigger_dyn_loading=function(){return!(!this._load_mode||!this._load()||(this._render_wait=!0,0))},o.update_view=function(){this._reset_ignores(),this._update_nav_bar(this.config.header,this.$container.querySelector(".dhx_cal_navline"));var v=this[this._mode+"_view"];if(v?v.call(this,!0):this._reset_scale(),this._trigger_dyn_loading())return!0;this.render_view_data()},o.isViewExists=function(v){return!!(o[v+"_view"]||o.date[v+"_start"]&&o.templates[v+"_date"]&&o.templates[v+"_scale_date"])},o._set_aria_buttons_attrs=function(){for(var v=["dhx_cal_next_button","dhx_cal_prev_button","dhx_cal_tab","dhx_cal_today_button"],S=0;S<v.length;S++)for(var b=this._els[v[S]],k=0;b&&k<b.length;k++){var D=b[k].getAttribute("data-tab")||b[k].getAttribute("name"),M=this.locale.labels[v[S]];D&&(M=this.locale.labels[D+"_tab"]||this.locale.labels[D]||M),v[S]=="dhx_cal_next_button"?M=this.locale.labels.next:v[S]=="dhx_cal_prev_button"&&(M=this.locale.labels.prev),this._waiAria.headerButtonsAttributes(b[k],M||"")}},o.updateView=function(v,S){if(!this.$container)throw new Error(`The scheduler is not initialized. 
 **scheduler.updateView** or **scheduler.setCurrentView** can be called only after **scheduler.init**`);v=v||this._date,S=S||this._mode;var b=this._obj,k="dhx_scheduler_"+this._mode,D="dhx_scheduler_"+S;this._mode&&b.className.indexOf(k)!=-1?b.className=b.className.replace(k,D):b.className+=" "+D;var M,V=!(this._mode!=S||!this.config.preserve_scroll)&&this._els.dhx_cal_data[0].scrollTop;this._els.dhx_multi_day&&this._els.dhx_multi_day[0]&&(M=this._els.dhx_multi_day[0].scrollTop),this[this._mode+"_view"]&&S&&this._mode!=S&&this[this._mode+"_view"](!1),this._close_not_saved(),this._els.dhx_multi_day&&(this._els.dhx_multi_day[0].parentNode.removeChild(this._els.dhx_multi_day[0]),this._els.dhx_multi_day=null),this._mode=S,this._date=v,this._table_view=this._mode=="month",this._dy_shift=0,this.update_view(),this._set_aria_buttons_attrs();var U=this._els.dhx_cal_tab;if(U)for(var q=0;q<U.length;q++){var Q=U[q];Q.getAttribute("data-tab")==this._mode||Q.getAttribute("name")==this._mode+"_tab"?(Q.classList.add("active"),this._waiAria.headerToggleState(Q,!0)):(Q.classList.remove("active"),this._waiAria.headerToggleState(Q,!1))}typeof V=="number"&&(this._els.dhx_cal_data[0].scrollTop=V),typeof M=="number"&&this._els.dhx_multi_day&&this._els.dhx_multi_day[0]&&(this._els.dhx_multi_day[0].scrollTop=M)},o.setCurrentView=function(v,S){this.callEvent("onBeforeViewChange",[this._mode,this._date,S||this._mode,v||this._date])&&(this.updateView(v,S),this.callEvent("onViewChange",[this._mode,this._date]))},o.render=function(v,S){o.setCurrentView(v,S)},o._render_x_header=function(v,S,b,k,D){D=D||0;var M=document.createElement("div");M.className="dhx_scale_bar",this.templates[this._mode+"_scalex_class"]&&(M.className+=" "+this.templates[this._mode+"_scalex_class"](b));var V=this._cols[v]-1;this._mode=="month"&&v===0&&this.config.left_border&&(M.className+=" dhx_scale_bar_border",S+=1),this.set_xy(M,V,this.xy.scale_height-2,S,D);var U=this.templates[this._mode+"_scale_date"](b,this._mode);M.innerHTML=U,this._waiAria.dayHeaderAttr(M,U),k.appendChild(M)},o._get_columns_num=function(v,S){var b=7;if(!o._table_view){var k=o.date["get_"+o._mode+"_end"];k&&(S=k(v)),b=Math.round((S.valueOf()-v.valueOf())/864e5)}return b},o._get_timeunit_start=function(){return this.date[this._mode+"_start"](new Date(this._date.valueOf()))},o._get_view_end=function(){var v=this._get_timeunit_start(),S=o.date.add(v,1,this._mode);if(!o._table_view){var b=o.date["get_"+o._mode+"_end"];b&&(S=b(v))}return S},o._calc_scale_sizes=function(v,S,b){var k=this.config.rtl,D=v,M=this._get_columns_num(S,b);this._process_ignores(S,M,"day",1);for(var V=M-this._ignores_detected,U=0;U<M;U++)this._ignores[U]?(this._cols[U]=0,V++):this._cols[U]=Math.floor(D/(V-U)),D-=this._cols[U],this._colsS[U]=(this._cols[U-1]||0)+(this._colsS[U-1]||(this._table_view?0:(k?this.xy.scroll_width:this.xy.scale_width)+2));this._colsS.col_length=M,this._colsS[M]=this._cols[M-1]+this._colsS[M-1]||0},o._set_scale_col_size=function(v,S,b){var k=this.config;this.set_xy(v,S-1,k.hour_size_px*(k.last_hour-k.first_hour),b+this.xy.scale_width+1,0)},o._render_scales=function(v,S){var b=new Date(o._min_date),k=new Date(o._max_date),D=this.date.date_part(o._currentDate()),M=parseInt(v.style.width,10),V=new Date(this._min_date),U=this._get_columns_num(b,k);this._calc_scale_sizes(M,b,k);var q=0;v.innerHTML="";for(var Q=0;Q<U;Q++){if(this._ignores[Q]||this._render_x_header(Q,q,V,v),!this._table_view){var re=document.createElement("div"),K="dhx_scale_holder";V.valueOf()==D.valueOf()&&(K="dhx_scale_holder_now"),re.setAttribute("data-column-index",Q),this._ignores_detected&&this._ignores[Q]&&(K+=" dhx_scale_ignore"),re.className=K+" "+this.templates.week_date_class(V,D),this._waiAria.dayColumnAttr(re,V),this._set_scale_col_size(re,this._cols[Q],q),S.appendChild(re),this.callEvent("onScaleAdd",[re,V])}q+=this._cols[Q],V=this.date.add(V,1,"day"),V=this.date.day_start(V)}},o._getNavDateElement=function(){return this.$container.querySelector(".dhx_cal_date")},o._reset_scale=function(){if(this.templates[this._mode+"_date"]){var v=this._els.dhx_cal_header[0],S=this._els.dhx_cal_data[0],b=this.config;v.innerHTML="",S.innerHTML="";var k,D,M=(b.readonly||!b.drag_resize?" dhx_resize_denied":"")+(b.readonly||!b.drag_move?" dhx_move_denied":"");S.className="dhx_cal_data"+M,this._scales={},this._cols=[],this._colsS={height:0},this._dy_shift=0,this.set_sizes();var V=this._get_timeunit_start(),U=o._get_view_end();k=D=this._table_view?o.date.week_start(V):V,this._min_date=k;var q=this.templates[this._mode+"_date"](V,U,this._mode),Q=this._getNavDateElement();if(Q&&(Q.innerHTML=q,this._waiAria.navBarDateAttr(Q,q)),this._max_date=U,o._render_scales(v,S),this._table_view)this._reset_month_scale(S,V,D);else if(this._reset_hours_scale(S,V,D),b.multi_day){this._els.dhx_multi_day&&(this._els.dhx_multi_day[0].parentNode.removeChild(this._els.dhx_multi_day[0]),this._els.dhx_multi_day=null);var re=this._els.dhx_cal_navline[0].offsetHeight+this._els.dhx_cal_header[0].offsetHeight+1,K=document.createElement("div");K.className="dhx_multi_day",K.style.visibility="hidden";var ie=this._colsS[this._colsS.col_length],G=b.rtl?this.xy.scale_width:this.xy.scroll_width,ne=Math.max(ie+G-2,0);this.set_xy(K,ne,0,0,re),S.parentNode.insertBefore(K,S);var J=K.cloneNode(!0);J.className="dhx_multi_day_icon",J.style.visibility="hidden",this.set_xy(J,this.xy.scale_width,0,0,re),K.appendChild(J),this._els.dhx_multi_day=[K,J],o.event(this._els.dhx_multi_day[0],"click",this._click.dhx_cal_data)}}},o._reset_hours_scale=function(v,S,b){var k=document.createElement("div");k.className="dhx_scale_holder";for(var D=new Date(1980,1,1,this.config.first_hour,0,0),M=1*this.config.first_hour;M<this.config.last_hour;M++){var V=document.createElement("div");V.className="dhx_scale_hour",V.style.height=this.config.hour_size_px+"px";var U=this.xy.scale_width;this.config.left_border&&(V.className+=" dhx_scale_hour_border"),V.style.width=U+"px";var q=o.templates.hour_scale(D);V.innerHTML=q,this._waiAria.hourScaleAttr(V,q),k.appendChild(V),D=this.date.add(D,1,"hour")}v.appendChild(k),this.config.scroll_hour&&(v.scrollTop=this.config.hour_size_px*(this.config.scroll_hour-this.config.first_hour))},o._currentDate=function(){return o.config.now_date?new Date(o.config.now_date):new Date},o._reset_ignores=function(){this._ignores={},this._ignores_detected=0},o._process_ignores=function(v,S,b,k,D){this._reset_ignores();var M=o["ignore_"+this._mode];if(M)for(var V=new Date(v),U=0;U<S;U++)M(V)&&(this._ignores_detected+=1,this._ignores[U]=!0,D&&S++),V=o.date.add(V,k,b),o.date[b+"_start"]&&(V=o.date[b+"_start"](V))},o._render_month_scale=function(v,S,b,k){var D=o.date.add(S,1,"month"),M=new Date(b),V=o._currentDate();this.date.date_part(V),this.date.date_part(b),k=k||Math.ceil(Math.round((D.valueOf()-b.valueOf())/864e5)/7);for(var U=[],q=0;q<=7;q++){var Q=(this._cols[q]||0)-1;q===0&&this.config.left_border&&(Q-=1),U[q]=Q+"px"}function re(Ii){var ya=o._colsS.height;return o._colsS.heights[Ii+1]!==void 0&&(ya=o._colsS.heights[Ii+1]-(o._colsS.heights[Ii]||0)),ya}var K=0,ie=document.createElement("table");ie.setAttribute("cellpadding","0"),ie.setAttribute("cellspacing","0");var G=document.createElement("tbody");ie.appendChild(G);var ne=[];for(q=0;q<k;q++){var J=document.createElement("tr");G.appendChild(J);for(var we=Math.max(re(q)-o.xy.month_head_height,0),Te=0;Te<7;Te++){var Se=document.createElement("td");J.appendChild(Se);var Ie="";b<S?Ie="dhx_before":b>=D?Ie="dhx_after":b.valueOf()==V.valueOf()&&(Ie="dhx_now"),this._ignores_detected&&this._ignores[Te]&&(Ie+=" dhx_scale_ignore"),Se.className=Ie+" "+this.templates.month_date_class(b,V),Se.setAttribute("data-cell-date",o.templates.format_date(b));var De="dhx_month_body",Ve="dhx_month_head";if(Te===0&&this.config.left_border&&(De+=" dhx_month_body_border",Ve+=" dhx_month_head_border"),this._ignores_detected&&this._ignores[Te])Se.appendChild(document.createElement("div")),Se.appendChild(document.createElement("div"));else{this._waiAria.monthCellAttr(Se,b);var Ke=document.createElement("div");Ke.className=Ve,Ke.innerHTML=this.templates.month_day(b),Se.appendChild(Ke);var et=document.createElement("div");et.className=De,et.style.height=we+"px",et.style.width=U[Te],Se.appendChild(et)}ne.push(b);var Pt=b.getDate();(b=this.date.add(b,1,"day")).getDate()-Pt>1&&(b=new Date(b.getFullYear(),b.getMonth(),Pt+1,12,0))}o._colsS.heights[q]=K,K+=re(q)}this._min_date=M,this._max_date=b,v.innerHTML="",v.appendChild(ie),this._scales={};var gr=v.getElementsByTagName("div");for(q=0;q<ne.length;q++){v=gr[2*q+1];var Hr=ne[q];this._scales[+Hr]=v}for(q=0;q<ne.length;q++)Hr=ne[q],this.callEvent("onScaleAdd",[this._scales[+Hr],Hr]);return this._max_date},o._reset_month_scale=function(v,S,b,k){var D=o.date.add(S,1,"month"),M=o._currentDate();this.date.date_part(M),this.date.date_part(b),k=k||Math.ceil(Math.round((D.valueOf()-b.valueOf())/864e5)/7);var V=Math.floor(v.clientHeight/k)-this.xy.month_head_height;return this._colsS.height=V+this.xy.month_head_height,this._colsS.heights=[],o._render_month_scale(v,S,b,k)},o.getView=function(v){return v||(v=o.getState().mode),o.matrix&&o.matrix[v]?o.matrix[v]:o._props&&o._props[v]?o._props[v]:null},o.getLabel=function(v,S){for(var b=this.config.lightbox.sections,k=0;k<b.length;k++)if(b[k].map_to==v){for(var D=b[k].options,M=0;M<D.length;M++)if(D[M].key==S)return D[M].label}return""},o.updateCollection=function(v,S){var b=o.serverList(v);return!!b&&(b.splice(0,b.length),b.push.apply(b,S||[]),o.callEvent("onOptionsLoad",[]),o.resetLightbox(),o.hideCover(),!0)},o._lame_clone=function(v,S){var b,k,D;for(S=S||[],b=0;b<S.length;b+=2)if(v===S[b])return S[b+1];if(v&&C(v)=="object"){for(D=Object.create(v),k=[Array,Date,Number,String,Boolean],b=0;b<k.length;b++)v instanceof k[b]&&(D=b?new k[b](v):new k[b]);for(b in S.push(v,D),v)Object.prototype.hasOwnProperty.apply(v,[b])&&(D[b]=o._lame_clone(v[b],S))}return D||v},o._lame_copy=function(v,S){for(var b in S)S.hasOwnProperty(b)&&(v[b]=S[b]);return v},o._get_date_from_pos=function(v){var S=this._min_date.valueOf()+6e4*(v.y*this.config.time_step+24*(this._table_view?0:v.x)*60);return new Date(this._correct_shift(S))},o.getActionData=function(v){var S=this._mouse_coords(v);return{date:this._get_date_from_pos(S),section:S.section}},o._focus=function(v,S){if(v&&v.focus)if(this._mobile)window.setTimeout(function(){v.focus()},10);else try{S&&v.select&&v.offsetWidth&&v.select(),v.focus()}catch{}},o._get_real_event_length=function(v,S,b){var k,D=S-v,M=b._start_correction+b._end_correction||0,V=this["ignore_"+this._mode],U=0;b.render?(U=this._get_date_index(b,v),k=this._get_date_index(b,S)):k=Math.round(D/60/60/1e3/24);for(var q=!0;U<k;){var Q=o.date.add(S,-b.x_step,b.x_unit);V&&V(S)&&(!q||q&&V(Q))?D-=S-Q:(q=!1,D-=M),S=Q,k--}return D},o._get_fictional_event_length=function(v,S,b,k){var D=new Date(v),M=k?-1:1;if(b._start_correction||b._end_correction){var V;V=k?60*D.getHours()+D.getMinutes()-60*(b.first_hour||0):60*(b.last_hour||0)-(60*D.getHours()+D.getMinutes());var U=60*(b.last_hour-b.first_hour),q=Math.ceil((S/6e4-V)/U);q<0&&(q=0),S+=q*(1440-U)*60*1e3}var Q,re=new Date(1*v+S*M),K=this["ignore_"+this._mode],ie=0;for(b.render?(ie=this._get_date_index(b,D),Q=this._get_date_index(b,re)):Q=Math.round(S/60/60/1e3/24);ie*M<=Q*M;){var G=o.date.add(D,b.x_step*M,b.x_unit);K&&K(D)&&(S+=(G-D)*M,Q+=M),D=G,ie+=M}return S},o._get_section_view=function(){return this.getView()},o._get_section_property=function(){return this.matrix&&this.matrix[this._mode]?this.matrix[this._mode].y_property:this._props&&this._props[this._mode]?this._props[this._mode].map_to:null},o._is_initialized=function(){var v=this.getState();return this._obj&&v.date&&v.mode},o._is_lightbox_open=function(){var v=this.getState();return v.lightbox_id!==null&&v.lightbox_id!==void 0}}(w),function(o){(function(){var c=new RegExp(`<(?:.|
)*?>`,"gm"),u=new RegExp(" +","gm");function _(S){return(S+"").replace(c," ").replace(u," ")}var y=new RegExp("'","gm");function x(S){return(S+"").replace(y,"&#39;")}for(var v in o._waiAria={getAttributeString:function(S){var b=[" "];for(var k in S)if(typeof S[k]!="function"&&R(S[k])!="object"){var D=x(_(S[k]));b.push(k+"='"+D+"'")}return b.push(" "),b.join(" ")},setAttributes:function(S,b){for(var k in b)S.setAttribute(k,_(b[k]));return S},labelAttr:function(S,b){return this.setAttributes(S,{"aria-label":b})},label:function(S){return o._waiAria.getAttributeString({"aria-label":S})},hourScaleAttr:function(S,b){this.labelAttr(S,b)},monthCellAttr:function(S,b){this.labelAttr(S,o.templates.day_date(b))},navBarDateAttr:function(S,b){this.labelAttr(S,b)},dayHeaderAttr:function(S,b){this.labelAttr(S,b)},dayColumnAttr:function(S,b){this.dayHeaderAttr(S,o.templates.day_date(b))},headerButtonsAttributes:function(S,b){return this.setAttributes(S,{role:"button","aria-label":b})},headerToggleState:function(S,b){return this.setAttributes(S,{"aria-pressed":b?"true":"false"})},getHeaderCellAttr:function(S){return o._waiAria.getAttributeString({"aria-label":S})},eventAttr:function(S,b){this._eventCommonAttr(S,b)},_eventCommonAttr:function(S,b){b.setAttribute("aria-label",_(o.templates.event_text(S.start_date,S.end_date,S))),o.config.readonly&&b.setAttribute("aria-readonly",!0),S.$dataprocessor_class&&b.setAttribute("aria-busy",!0),b.setAttribute("aria-selected",o.getState().select_id==S.id?"true":"false")},setEventBarAttr:function(S,b){this._eventCommonAttr(S,b)},_getAttributes:function(S,b){var k={setAttribute:function(D,M){this[D]=M}};return S.apply(this,[b,k]),k},eventBarAttrString:function(S){return this.getAttributeString(this._getAttributes(this.setEventBarAttr,S))},agendaHeadAttrString:function(){return this.getAttributeString({role:"row"})},agendaHeadDateString:function(S){return this.getAttributeString({role:"columnheader","aria-label":S})},agendaHeadDescriptionString:function(S){return this.agendaHeadDateString(S)},agendaDataAttrString:function(){return this.getAttributeString({role:"grid"})},agendaEventAttrString:function(S){var b=this._getAttributes(this._eventCommonAttr,S);return b.role="row",this.getAttributeString(b)},agendaDetailsBtnString:function(){return this.getAttributeString({role:"button","aria-label":o.locale.labels.icon_details})},gridAttrString:function(){return this.getAttributeString({role:"grid"})},gridRowAttrString:function(S){return this.agendaEventAttrString(S)},gridCellAttrString:function(S,b,k){return this.getAttributeString({role:"gridcell","aria-label":[b.label===void 0?b.id:b.label,": ",k]})},mapAttrString:function(){return this.gridAttrString()},mapRowAttrString:function(S){return this.gridRowAttrString(S)},mapDetailsBtnString:function(){return this.agendaDetailsBtnString()},minicalHeader:function(S,b){this.setAttributes(S,{id:b+"","aria-live":"assertice","aria-atomic":"true"})},minicalGrid:function(S,b){this.setAttributes(S,{"aria-labelledby":b+"",role:"grid"})},minicalRow:function(S){this.setAttributes(S,{role:"row"})},minicalDayCell:function(S,b){var k=b.valueOf()<o._max_date.valueOf()&&b.valueOf()>=o._min_date.valueOf();this.setAttributes(S,{role:"gridcell","aria-label":o.templates.day_date(b),"aria-selected":k?"true":"false"})},minicalHeadCell:function(S){this.setAttributes(S,{role:"columnheader"})},weekAgendaDayCell:function(S,b){var k=S.querySelector(".dhx_wa_scale_bar"),D=S.querySelector(".dhx_wa_day_data"),M=o.uid()+"";this.setAttributes(k,{id:M}),this.setAttributes(D,{"aria-labelledby":M})},weekAgendaEvent:function(S,b){this.eventAttr(b,S)},lightboxHiddenAttr:function(S){S.setAttribute("aria-hidden","true")},lightboxVisibleAttr:function(S){S.setAttribute("aria-hidden","false")},lightboxSectionButtonAttrString:function(S){return this.getAttributeString({role:"button","aria-label":S,tabindex:"0"})},yearHeader:function(S,b){this.setAttributes(S,{id:b+""})},yearGrid:function(S,b){this.minicalGrid(S,b)},yearHeadCell:function(S){return this.minicalHeadCell(S)},yearRow:function(S){return this.minicalRow(S)},yearDayCell:function(S){this.setAttributes(S,{role:"gridcell"})},lightboxAttr:function(S){S.setAttribute("role","dialog"),S.setAttribute("aria-hidden","true"),S.firstChild.setAttribute("role","heading")},lightboxButtonAttrString:function(S){return this.getAttributeString({role:"button","aria-label":o.locale.labels[S],tabindex:"0"})},eventMenuAttrString:function(S){return this.getAttributeString({role:"button","aria-label":o.locale.labels[S]})},lightboxHeader:function(S,b){S.setAttribute("aria-label",b)},lightboxSelectAttrString:function(S){var b="";switch(S){case"%Y":b=o.locale.labels.year;break;case"%m":b=o.locale.labels.month;break;case"%d":b=o.locale.labels.day;break;case"%H:%i":b=o.locale.labels.hour+" "+o.locale.labels.minute}return o._waiAria.getAttributeString({"aria-label":b})},messageButtonAttrString:function(S){return"tabindex='0' role='button' aria-label='"+S+"'"},messageInfoAttr:function(S){S.setAttribute("role","alert")},messageModalAttr:function(S,b){S.setAttribute("role","dialog"),b&&S.setAttribute("aria-labelledby",b)},quickInfoAttr:function(S){S.setAttribute("role","dialog")},quickInfoHeaderAttrString:function(){return" role='heading' "},quickInfoHeader:function(S,b){S.setAttribute("aria-label",b)},quickInfoButtonAttrString:function(S){return o._waiAria.getAttributeString({role:"button","aria-label":S,tabindex:"0"})},tooltipAttr:function(S){S.setAttribute("role","tooltip")},tooltipVisibleAttr:function(S){S.setAttribute("aria-hidden","false")},tooltipHiddenAttr:function(S){S.setAttribute("aria-hidden","true")}},o._waiAria)o._waiAria[v]=function(S){return function(){return o.config.wai_aria_attributes?S.apply(this,arguments):" "}}(o._waiAria[v])})()}(w),w.utils=F,w.$domHelpers=he,w.utils.dom=he,w.uid=F.uid,w.mixin=F.mixin,w.defined=F.defined,w.assert=function(o){return function(c,u){c||o.config.show_errors&&o.callEvent("onError",[u])!==!1&&(o.message?o.message({type:"error",text:u,expire:-1}):console.log(u))}}(w),w.copy=F.copy,w._getFocusableNodes=he.getFocusableNodes,w._getClassName=he.getClassName,w._locate_css=he.locateCss;var d=Ee(w);w.utils.mixin(w,d),w.env=w.$env=Ge,w.Promise=fe,function(o){o.destructor=function(){for(var c in o.callEvent("onDestroy",[]),this.clearAll(),this.$container&&(this.$container.innerHTML=""),this._eventRemoveAll&&this._eventRemoveAll(),this.resetLightbox&&this.resetLightbox(),this._dp&&this._dp.destructor&&this._dp.destructor(),this.detachAllEvents(),this)c.indexOf("$")===0&&delete this[c];o.$destroyed=!0}}(w),function(o){function c(u,_){var y={method:u};if(_.length===0)throw new Error("Arguments list of query is wrong.");if(_.length===1)return typeof _[0]=="string"?(y.url=_[0],y.async=!0):(y.url=_[0].url,y.async=_[0].async||!0,y.callback=_[0].callback,y.headers=_[0].headers),_[0].data?typeof _[0].data!="string"?y.data=pe()(_[0].data):y.data=_[0].data:y.data="",y;switch(y.url=_[0],u){case"GET":case"DELETE":y.callback=_[1],y.headers=_[2];break;case"POST":case"PUT":_[1]?typeof _[1]!="string"?y.data=pe()(_[1]):y.data=_[1]:y.data="",y.callback=_[2],y.headers=_[3]}return y}o.Promise=fe,o.ajax={cache:!0,method:"get",serializeRequestParams:pe.a,parse:function(u){return typeof u!="string"?u:(u=u.replace(/^[\s]+/,""),typeof DOMParser>"u"||o.$env.isIE?window.ActiveXObject!==void 0&&((_=new window.ActiveXObject("Microsoft.XMLDOM")).async="false",_.loadXML(u)):_=new DOMParser().parseFromString(u,"text/xml"),_);var _},xmltop:function(u,_,y){if(_.status===void 0||_.status<400){var x=_.responseXML?_.responseXML||_:this.parse(_.responseText||_);if(x&&x.documentElement!==null&&!x.getElementsByTagName("parsererror").length)return x.getElementsByTagName(u)[0]}return y!==-1&&o.callEvent("onLoadXMLError",["Incorrect XML",arguments[1],y]),document.createElement("DIV")},xpath:function(u,_){if(_.nodeName||(_=_.responseXML||_),o.$env.isIE)return _.selectNodes(u)||[];for(var y,x=[],v=(_.ownerDocument||_).evaluate(u,_,null,XPathResult.ANY_TYPE,null);y=v.iterateNext();)x.push(y);return x},query:function(u){return this._call(u.method||"GET",u.url,u.data||"",u.async||!0,u.callback,u.headers)},get:function(u,_,y){var x=c("GET",arguments);return this.query(x)},getSync:function(u,_){var y=c("GET",arguments);return y.async=!1,this.query(y)},put:function(u,_,y,x){var v=c("PUT",arguments);return this.query(v)},del:function(u,_,y){var x=c("DELETE",arguments);return this.query(x)},post:function(u,_,y,x){(arguments.length==1||arguments.length==2&&typeof _=="function")&&(_="");var v=c("POST",arguments);return this.query(v)},postSync:function(u,_,y){_=_===null?"":String(_);var x=c("POST",arguments);return x.async=!1,this.query(x)},_call:function(u,_,y,x,v,S){return new o.Promise(function(b,k){var D=(typeof XMLHttpRequest>"u"?"undefined":Fe(XMLHttpRequest))===void 0||o.$env.isIE?new window.ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest,M=navigator.userAgent.match(/AppleWebKit/)!==null&&navigator.userAgent.match(/Qt/)!==null&&navigator.userAgent.match(/Safari/)!==null;if(x&&D.addEventListener("readystatechange",function(){if(D.readyState==4||M&&D.readyState==3){if((D.status!=200||D.responseText==="")&&!o.callEvent("onAjaxError",[D]))return;setTimeout(function(){typeof v=="function"&&v.apply(window,[{xmlDoc:D,filePath:_}]),b(D),typeof v=="function"&&(v=null,D=null)},0)}}),u!="GET"||this.cache||(_+=(_.indexOf("?")>=0?"&":"?")+"dhxr"+new Date().getTime()+"=1"),D.open(u,_,x),S)for(var V in S)D.setRequestHeader(V,S[V]);else u.toUpperCase()=="POST"||u=="PUT"||u=="DELETE"?D.setRequestHeader("Content-Type","application/x-www-form-urlencoded"):u=="GET"&&(y=null);if(D.setRequestHeader("X-Requested-With","XMLHttpRequest"),D.send(y),!x)return{xmlDoc:D,filePath:_}}.bind(this))},urlSeparator:function(u){return u.indexOf("?")!=-1?"&":"?"}},o.$ajax=o.ajax}(w),Oe(w),function(o){o.config={default_date:"%j %M %Y",month_date:"%F %Y",load_date:"%Y-%m-%d",week_date:"%l",day_date:"%D, %F %j",hour_date:"%H:%i",month_day:"%d",date_format:"%Y-%m-%d %H:%i",api_date:"%d-%m-%Y %H:%i",parse_exact_format:!1,preserve_length:!0,time_step:5,start_on_monday:!0,first_hour:0,last_hour:24,readonly:!1,drag_resize:!0,drag_move:!0,drag_create:!0,drag_event_body:!0,dblclick_create:!0,edit_on_create:!0,details_on_create:!1,header:null,resize_month_events:!1,resize_month_timed:!1,responsive_lightbox:!1,rtl:!1,cascade_event_display:!1,cascade_event_count:4,cascade_event_margin:30,multi_day:!0,multi_day_height_limit:0,drag_lightbox:!0,preserve_scroll:!0,select:!0,server_utc:!1,touch:!0,touch_tip:!0,touch_drag:500,touch_swipe_dates:!1,quick_info_detached:!0,positive_closing:!1,drag_highlight:!0,limit_drag_out:!1,icons_edit:["icon_save","icon_cancel"],icons_select:["icon_details","icon_edit","icon_delete"],buttons_left:["dhx_save_btn","dhx_cancel_btn"],buttons_right:["dhx_delete_btn"],lightbox:{sections:[{name:"description",map_to:"text",type:"textarea",focus:!0},{name:"time",height:72,type:"time",map_to:"auto"}]},highlight_displayed_event:!0,left_border:!1,ajax_error:"alert",delay_render:0,timeline_swap_resize:!0,wai_aria_attributes:!0,wai_aria_application_role:!0,csp:"auto",event_attribute:"data-event-id",show_errors:!0},o.config.buttons_left.$initial=o.config.buttons_left.join(),o.config.buttons_right.$initial=o.config.buttons_right.join(),o._helpers={parseDate:function(c){return(o.templates.xml_date||o.templates.parse_date)(c)},formatDate:function(c){return(o.templates.xml_format||o.templates.format_date)(c)}},o.templates={},o.init_templates=function(){var c=o.locale.labels;c.dhx_save_btn=c.icon_save,c.dhx_cancel_btn=c.icon_cancel,c.dhx_delete_btn=c.icon_delete;var u=o.date.date_to_str,_=o.config;(function(y,x){for(var v in x)y[v]||(y[v]=x[v])})(o.templates,{day_date:u(_.default_date),month_date:u(_.month_date),week_date:function(y,x){return _.rtl?o.templates.day_date(o.date.add(x,-1,"day"))+" &ndash; "+o.templates.day_date(y):o.templates.day_date(y)+" &ndash; "+o.templates.day_date(o.date.add(x,-1,"day"))},day_scale_date:u(_.default_date),month_scale_date:u(_.week_date),week_scale_date:u(_.day_date),hour_scale:u(_.hour_date),time_picker:u(_.hour_date),event_date:u(_.hour_date),month_day:u(_.month_day),load_format:u(_.load_date),format_date:u(_.date_format,_.server_utc),parse_date:o.date.str_to_date(_.date_format,_.server_utc),api_date:o.date.str_to_date(_.api_date,!1,!1),event_header:function(y,x,v){return o.templates.event_date(y)+" - "+o.templates.event_date(x)},event_text:function(y,x,v){return v.text},event_class:function(y,x,v){return""},month_date_class:function(y){return""},week_date_class:function(y){return""},event_bar_date:function(y,x,v){return o.templates.event_date(y)+" "},event_bar_text:function(y,x,v){return v.text},month_events_link:function(y,x){return"<a>View more("+x+" events)</a>"},drag_marker_class:function(y,x,v){return""},drag_marker_content:function(y,x,v){return""},tooltip_date_format:o.date.date_to_str("%Y-%m-%d %H:%i"),tooltip_text:function(y,x,v){return"<b>Event:</b> "+v.text+"<br/><b>Start date:</b> "+o.templates.tooltip_date_format(y)+"<br/><b>End date:</b> "+o.templates.tooltip_date_format(x)}}),this.callEvent("onTemplatesReady",[])}}(w),function(o){o._events={},o.clearAll=function(){this._events={},this._loaded={},this._edit_id=null,this._select_id=null,this._drag_id=null,this._drag_mode=null,this._drag_pos=null,this._new_event=null,this.clear_view(),this.callEvent("onClearAll",[])},o.addEvent=function(c,u,_,y,x){if(!arguments.length)return this.addEventNow();var v=c;arguments.length!=1&&((v=x||{}).start_date=c,v.end_date=u,v.text=_,v.id=y),v.id=v.id||o.uid(),v.text=v.text||"",typeof v.start_date=="string"&&(v.start_date=this.templates.api_date(v.start_date)),typeof v.end_date=="string"&&(v.end_date=this.templates.api_date(v.end_date));var S=6e4*(this.config.event_duration||this.config.time_step);v.start_date.valueOf()==v.end_date.valueOf()&&v.end_date.setTime(v.end_date.valueOf()+S),v.start_date.setMilliseconds(0),v.end_date.setMilliseconds(0),v._timed=this.isOneDayEvent(v);var b=!this._events[v.id];return this._events[v.id]=v,this.event_updated(v),this._loading||this.callEvent(b?"onEventAdded":"onEventChanged",[v.id,v]),v.id},o.deleteEvent=function(c,u){var _=this._events[c];(u||this.callEvent("onBeforeEventDelete",[c,_])&&this.callEvent("onConfirmedBeforeEventDelete",[c,_]))&&(_&&(o.getState().select_id==c&&o.unselect(),delete this._events[c],this.event_updated(_),this._drag_id==_.id&&(this._drag_id=null,this._drag_mode=null,this._drag_pos=null)),this.callEvent("onEventDeleted",[c,_]))},o.getEvent=function(c){return this._events[c]},o.setEvent=function(c,u){u.id||(u.id=c),this._events[c]=u},o.for_rendered=function(c,u){for(var _=this._rendered.length-1;_>=0;_--)this._rendered[_].getAttribute(this.config.event_attribute)==c&&u(this._rendered[_],_)},o.changeEventId=function(c,u){if(c!=u){var _=this._events[c];_&&(_.id=u,this._events[u]=_,delete this._events[c]),this.for_rendered(c,function(y){y.setAttribute("event_id",u),y.setAttribute(o.config.event_attribute,u)}),this._select_id==c&&(this._select_id=u),this._edit_id==c&&(this._edit_id=u),this.callEvent("onEventIdChange",[c,u])}},function(){for(var c=["text","Text","start_date","StartDate","end_date","EndDate"],u=function(x){return function(v){return o.getEvent(v)[x]}},_=function(x){return function(v,S){var b=o.getEvent(v);b[x]=S,b._changed=!0,b._timed=this.isOneDayEvent(b),o.event_updated(b,!0)}},y=0;y<c.length;y+=2)o["getEvent"+c[y+1]]=u(c[y]),o["setEvent"+c[y+1]]=_(c[y])}(),o.event_updated=function(c,u){this.is_visible_events(c)?this.render_view_data():this.clear_event(c.id)},o.is_visible_events=function(c){if(!this._min_date||!this._max_date)return!1;if(c.start_date.valueOf()<this._max_date.valueOf()&&this._min_date.valueOf()<c.end_date.valueOf()){var u=c.start_date.getHours(),_=c.end_date.getHours()+c.end_date.getMinutes()/60,y=this.config.last_hour,x=this.config.first_hour;return!(!this._table_view&&(_>y||_<=x)&&(u>=y||u<x)&&!((c.end_date.valueOf()-c.start_date.valueOf())/36e5>24-(this.config.last_hour-this.config.first_hour)||u<y&&_>x))}return!1},o.isOneDayEvent=function(c){var u=new Date(c.end_date.valueOf()-1);return c.start_date.getFullYear()===u.getFullYear()&&c.start_date.getMonth()===u.getMonth()&&c.start_date.getDate()===u.getDate()&&c.end_date.valueOf()-c.start_date.valueOf()<864e5},o.get_visible_events=function(c){var u=[];for(var _ in this._events)this.is_visible_events(this._events[_])&&(c&&!this._events[_]._timed||this.filter_event(_,this._events[_])&&u.push(this._events[_]));return u},o.filter_event=function(c,u){var _=this["filter_"+this._mode];return!_||_(c,u)},o._is_main_area_event=function(c){return!!c._timed},o.render_view_data=function(c,u){var _=!1;if(!c){if(_=!0,this._not_render)return void(this._render_wait=!0);this._render_wait=!1,this.clear_view(),c=this.get_visible_events(!(this._table_view||this.config.multi_day))}for(var y=0,x=c.length;y<x;y++)this._recalculate_timed(c[y]);if(this.config.multi_day&&!this._table_view){var v=[],S=[];for(y=0;y<c.length;y++)this._is_main_area_event(c[y])?v.push(c[y]):S.push(c[y]);if(!this._els.dhx_multi_day){var b=o._commonErrorMessages.unknownView(this._mode);throw new Error(b)}this._rendered_location=this._els.dhx_multi_day[0],this._table_view=!0,this.render_data(S,u),this._table_view=!1,this._rendered_location=this._els.dhx_cal_data[0],this._table_view=!1,this.render_data(v,u)}else{var k=document.createDocumentFragment(),D=this._els.dhx_cal_data[0];this._rendered_location=k,this.render_data(c,u),D.appendChild(k),this._rendered_location=D}_&&this.callEvent("onDataRender",[])},o._view_month_day=function(c){var u=o.getActionData(c).date;o.callEvent("onViewMoreClick",[u])&&o.setCurrentView(u,"day")},o._render_month_link=function(c){for(var u=this._rendered_location,_=this._lame_clone(c),y=c._sday;y<c._eday;y++){_._sday=y,_._eday=y+1;var x=o.date,v=o._min_date;v=x.add(v,_._sweek,"week"),v=x.add(v,_._sday,"day");var S=o.getEvents(v,x.add(v,1,"day")).length,b=this._get_event_bar_pos(_),k=b.x2-b.x,D=document.createElement("div");o.event(D,"click",function(M){o._view_month_day(M)}),D.className="dhx_month_link",D.style.top=b.y+"px",D.style.left=b.x+"px",D.style.width=k+"px",D.innerHTML=o.templates.month_events_link(v,S),this._rendered.push(D),u.appendChild(D)}},o._recalculate_timed=function(c){var u;c&&(u=rt(c)!="object"?this._events[c]:c)&&(u._timed=o.isOneDayEvent(u))},o.attachEvent("onEventChanged",o._recalculate_timed),o.attachEvent("onEventAdded",o._recalculate_timed),o.render_data=function(c,u){c=this._pre_render_events(c,u);for(var _={},y=0;y<c.length;y++)if(this._table_view)if(o._mode!="month")this.render_event_bar(c[y]);else{var x=o.config.max_month_events;x!==1*x||c[y]._sorder<x?this.render_event_bar(c[y]):x!==void 0&&c[y]._sorder==x&&o._render_month_link(c[y])}else{var v=c[y],S=o.locate_holder(v._sday);if(!S)continue;_[v._sday]||(_[v._sday]={real:S,buffer:document.createDocumentFragment(),width:S.clientWidth});var b=_[v._sday];this.render_event(v,b.buffer,b.width)}for(var y in _)(b=_[y]).real&&b.buffer&&b.real.appendChild(b.buffer)},o._get_first_visible_cell=function(c){for(var u=0;u<c.length;u++)if((c[u].className||"").indexOf("dhx_scale_ignore")==-1)return c[u];return c[0]},o._pre_render_events=function(c,u){var _=this.xy.bar_height,y=this._colsS.heights,x=this._colsS.heights=[0,0,0,0,0,0,0],v=this._els.dhx_cal_data[0];if(c=this._table_view?this._pre_render_events_table(c,u):this._pre_render_events_line(c,u),this._table_view)if(u)this._colsS.heights=y;else{var S=v.firstChild;if(S.rows){for(var b=0;b<S.rows.length;b++){x[b]++;var k=S.rows[b].cells,D=this._colsS.height-this.xy.month_head_height;if(x[b]*_>D){var M=D;1*this.config.max_month_events!==this.config.max_month_events||x[b]<=this.config.max_month_events?M=x[b]*_:(this.config.max_month_events+1)*_>D&&(M=(this.config.max_month_events+1)*_);for(var V=0;V<k.length;V++)k[V].childNodes[1].style.height=M+"px"}x[b]=(x[b-1]||0)+o._get_first_visible_cell(k).offsetHeight}if(x.unshift(0),S.parentNode.offsetHeight<S.parentNode.scrollHeight&&!o._colsS.scroll_fix&&o.xy.scroll_width){var U=o._colsS,q=U[U.col_length],Q=U.heights.slice();q-=o.xy.scroll_width||0,this._calc_scale_sizes(q,this._min_date,this._max_date),o._colsS.heights=Q,this.set_xy(this._els.dhx_cal_header[0],q,this.xy.scale_height),o._render_scales(this._els.dhx_cal_header[0]),o._render_month_scale(this._els.dhx_cal_data[0],this._get_timeunit_start(),this._min_date),U.scroll_fix=!0}}else if(c.length||this._els.dhx_multi_day[0].style.visibility!="visible"||(x[0]=-1),c.length||x[0]==-1){var re=(x[0]+1)*_+1,K=re,ie=re+"px";this.config.multi_day_height_limit&&(ie=(K=Math.min(re,this.config.multi_day_height_limit))+"px"),v.style.top=this._els.dhx_cal_navline[0].offsetHeight+this._els.dhx_cal_header[0].offsetHeight+K+"px",v.style.height=this._obj.offsetHeight-parseInt(v.style.top,10)-(this.xy.margin_top||0)+"px";var G=this._els.dhx_multi_day[0];G.style.height=ie,G.style.visibility=x[0]==-1?"hidden":"visible";var ne=this._els.dhx_multi_day[1];ne.style.height=ie,ne.style.visibility=x[0]==-1?"hidden":"visible",ne.className=x[0]?"dhx_multi_day_icon":"dhx_multi_day_icon_small",this._dy_shift=(x[0]+1)*_,this.config.multi_day_height_limit&&(this._dy_shift=Math.min(this.config.multi_day_height_limit,this._dy_shift)),x[0]=0,K!=re&&(v.style.top=parseInt(v.style.top)+2+"px",G.style.overflowY="auto",ne.style.position="fixed",ne.style.top="",ne.style.left="")}}return c},o._get_event_sday=function(c){var u=this.date.day_start(new Date(c.start_date));return Math.round((u.valueOf()-this._min_date.valueOf())/864e5)},o._get_event_mapped_end_date=function(c){var u=c.end_date;if(this.config.separate_short_events){var _=(c.end_date-c.start_date)/6e4;_<this._min_mapped_duration&&(u=this.date.add(u,this._min_mapped_duration-_,"minute"))}return u},o._pre_render_events_line=function(c,u){c.sort(function(G,ne){return G.start_date.valueOf()==ne.start_date.valueOf()?G.id>ne.id?1:-1:G.start_date>ne.start_date?1:-1});var _=[],y=[];this._min_mapped_duration=Math.ceil(60*this.xy.min_event_height/this.config.hour_size_px);for(var x=0;x<c.length;x++){var v=c[x],S=v.start_date,b=v.end_date,k=S.getHours(),D=b.getHours();if(v._sday=this._get_event_sday(v),this._ignores[v._sday])c.splice(x,1),x--;else{if(_[v._sday]||(_[v._sday]=[]),!u){v._inner=!1;for(var M=_[v._sday];M.length;){var V=M[M.length-1];if(!(this._get_event_mapped_end_date(V).valueOf()<=v.start_date.valueOf()))break;M.splice(M.length-1,1)}for(var U=M.length,q=!1,Q=0;Q<M.length;Q++)if(V=M[Q],this._get_event_mapped_end_date(V).valueOf()<=v.start_date.valueOf()){q=!0,v._sorder=V._sorder,U=Q,v._inner=!0;break}if(M.length&&(M[M.length-1]._inner=!0),!q)if(M.length)if(M.length<=M[M.length-1]._sorder){if(M[M.length-1]._sorder)for(Q=0;Q<M.length;Q++){for(var re=!1,K=0;K<M.length;K++)if(M[K]._sorder==Q){re=!0;break}if(!re){v._sorder=Q;break}}else v._sorder=0;v._inner=!0}else{var ie=M[0]._sorder;for(Q=1;Q<M.length;Q++)M[Q]._sorder>ie&&(ie=M[Q]._sorder);v._sorder=ie+1,v._inner=!1}else v._sorder=0;M.splice(U,U==M.length?0:1,v),M.length>(M.max_count||0)?(M.max_count=M.length,v._count=M.length):v._count=v._count?v._count:1}(k<this.config.first_hour||D>=this.config.last_hour)&&(y.push(v),c[x]=v=this._copy_event(v),k<this.config.first_hour&&(v.start_date.setHours(this.config.first_hour),v.start_date.setMinutes(0)),D>=this.config.last_hour&&(v.end_date.setMinutes(0),v.end_date.setHours(this.config.last_hour)),v.start_date>v.end_date||k==this.config.last_hour)&&(c.splice(x,1),x--)}}if(!u){for(x=0;x<c.length;x++)c[x]._count=_[c[x]._sday].max_count;for(x=0;x<y.length;x++)y[x]._count=_[y[x]._sday].max_count}return c},o._time_order=function(c){c.sort(function(u,_){return u.start_date.valueOf()==_.start_date.valueOf()?u._timed&&!_._timed?1:!u._timed&&_._timed?-1:u.id>_.id?1:-1:u.start_date>_.start_date?1:-1})},o._is_any_multiday_cell_visible=function(c,u,_){var y=this._cols.length,x=!1,v=c,S=!0,b=new Date(u);for(o.date.day_start(new Date(u)).valueOf()!=u.valueOf()&&(b=o.date.day_start(b),b=o.date.add(b,1,"day"));v<b;){S=!1;var k=this.locate_holder_day(v,!1,_)%y;if(!this._ignores[k]){x=!0;break}v=o.date.add(v,1,"day")}return S||x},o._pre_render_events_table=function(c,u){this._time_order(c);for(var _,y=[],x=[[],[],[],[],[],[],[]],v=this._colsS.heights,S=this._cols.length,b={},k=0;k<c.length;k++){var D=c[k],M=D.id;b[M]||(b[M]={first_chunk:!0,last_chunk:!0});var V=b[M],U=_||D.start_date,q=D.end_date;U<this._min_date&&(V.first_chunk=!1,U=this._min_date),q>this._max_date&&(V.last_chunk=!1,q=this._max_date);var Q=this.locate_holder_day(U,!1,D);if(D._sday=Q%S,!this._ignores[D._sday]||!D._timed){var re=this.locate_holder_day(q,!0,D)||S;if(D._eday=re%S||S,D._length=re-Q,D._sweek=Math.floor((this._correct_shift(U.valueOf(),1)-this._min_date.valueOf())/(864e5*S)),o._is_any_multiday_cell_visible(U,q,D)){var K,ie=x[D._sweek];for(K=0;K<ie.length&&!(ie[K]._eday<=D._sday);K++);if(D._sorder&&u||(D._sorder=K),D._sday+D._length<=S)_=null,y.push(D),ie[K]=D,v[D._sweek]=ie.length-1,D._first_chunk=V.first_chunk,D._last_chunk=V.last_chunk;else{var G=this._copy_event(D);G.id=D.id,G._length=S-D._sday,G._eday=S,G._sday=D._sday,G._sweek=D._sweek,G._sorder=D._sorder,G.end_date=this.date.add(U,G._length,"day"),G._first_chunk=V.first_chunk,V.first_chunk&&(V.first_chunk=!1),y.push(G),ie[K]=G,_=G.end_date,v[D._sweek]=ie.length-1,k--}}}}return y},o._copy_dummy=function(){var c=new Date(this.start_date),u=new Date(this.end_date);this.start_date=c,this.end_date=u},o._copy_event=function(c){return this._copy_dummy.prototype=c,new this._copy_dummy},o._rendered=[],o.clear_view=function(){for(var c=0;c<this._rendered.length;c++){var u=this._rendered[c];u.parentNode&&u.parentNode.removeChild(u)}this._rendered=[]},o.updateEvent=function(c){var u=this.getEvent(c);this.clear_event(c),u&&this.is_visible_events(u)&&this.filter_event(c,u)&&(this._table_view||this.config.multi_day||u._timed)&&(this.config.update_render?this.render_view_data():this.getState().mode!="month"||this.getState().drag_id||this.isOneDayEvent(u)?this.render_view_data([u],!0):this.render_view_data())},o.clear_event=function(c){this.for_rendered(c,function(u,_){u.parentNode&&u.parentNode.removeChild(u),o._rendered.splice(_,1)})},o._y_from_date=function(c){var u=60*c.getHours()+c.getMinutes();return Math.round((60*u*1e3-60*this.config.first_hour*60*1e3)*this.config.hour_size_px/36e5)%(24*this.config.hour_size_px)},o._calc_event_y=function(c,u){u=u||0;var _=60*c.start_date.getHours()+c.start_date.getMinutes(),y=60*c.end_date.getHours()+c.end_date.getMinutes()||60*o.config.last_hour;return{top:this._y_from_date(c.start_date),height:Math.max(u,(y-_)*this.config.hour_size_px/60)}},o.render_event=function(c,u,_){var y=o.xy.menu_width,x=this.config.use_select_menu_space?0:y;if(!(c._sday<0)){var v=o.locate_holder(c._sday);if(v){u=u||v;var S=this._calc_event_y(c,o.xy.min_event_height),b=S.top,k=S.height,D=c._count||1,M=c._sorder||0;_=_||v.clientWidth;var V=Math.floor((_-x)/D),U=M*V+1;if(c._inner||(V*=D-M),this.config.cascade_event_display){var q=this.config.cascade_event_count,Q=this.config.cascade_event_margin;U=M%q*Q;var re=c._inner?(D-M-1)%q*Q/2:0;V=Math.floor(_-x-U-re)}var K=this._render_v_bar(c,x+U,b,V,k,c._text_style,o.templates.event_header(c.start_date,c.end_date,c),o.templates.event_text(c.start_date,c.end_date,c));if(this._waiAria.eventAttr(c,K),this._rendered.push(K),u.appendChild(K),U=U+parseInt(this.config.rtl?v.style.right:v.style.left,10)+x,this._edit_id==c.id){K.style.zIndex=1,V=Math.max(V-4,o.xy.editor_width),(K=document.createElement("div")).setAttribute("event_id",c.id),K.setAttribute(this.config.event_attribute,c.id),this._waiAria.eventAttr(c,K),K.className="dhx_cal_event dhx_cal_editor",this.config.rtl&&U++,this.set_xy(K,V,k-20,U,b+(o.xy.event_header_height||14)),c.color&&(K.style.backgroundColor=c.color);var ie=o.templates.event_class(c.start_date,c.end_date,c);ie&&(K.className+=" "+ie);var G=document.createElement("div");this.set_xy(G,V-6,k-26),G.style.cssText+=";margin:2px 2px 2px 2px;overflow:hidden;",K.appendChild(G),this._els.dhx_cal_data[0].appendChild(K),this._rendered.push(K),G.innerHTML="<textarea class='dhx_cal_editor'>"+c.text+"</textarea>",this._editor=G.querySelector("textarea"),this._quirks7&&(this._editor.style.height=k-12+"px"),o.event(this._editor,"keydown",function(Ve){if(Ve.shiftKey)return!0;var Ke=Ve.keyCode;Ke==o.keys.edit_save&&o.editStop(!0),Ke==o.keys.edit_cancel&&o.editStop(!1),Ke!=o.keys.edit_save&&Ke!=o.keys.edit_cancel||Ve.preventDefault&&Ve.preventDefault()}),o.event(this._editor,"selectstart",function(Ve){return Ve.cancelBubble=!0,!0}),o._focus(this._editor,!0),this._els.dhx_cal_data[0].scrollLeft=0}if(this.xy.menu_width!==0&&this._select_id==c.id){this.config.cascade_event_display&&this._drag_mode&&(K.style.zIndex=1);for(var ne,J=this.config["icons_"+(this._edit_id==c.id?"edit":"select")],we="",Te=c.color?"background-color: "+c.color+";":"",Se=c.textColor?"color: "+c.textColor+";":"",Ie=0;Ie<J.length;Ie++)ne=this._waiAria.eventMenuAttrString(J[Ie]),we+="<div class='dhx_menu_icon "+J[Ie]+"' style='"+Te+Se+"' title='"+this.locale.labels[J[Ie]]+"'"+ne+"></div>";var De=this._render_v_bar(c,U-y+1,b,y,20*J.length+26-2,"","<div style='"+Te+Se+"' class='dhx_menu_head'></div>",we,!0);De.style.left=U-y+1,this._els.dhx_cal_data[0].appendChild(De),this._rendered.push(De)}this.config.drag_highlight&&this._drag_id==c.id&&this.highlightEventPosition(c)}}},o._render_v_bar=function(c,u,_,y,x,v,S,b,k){var D=document.createElement("div"),M=c.id,V=k?"dhx_cal_event dhx_cal_select_menu":"dhx_cal_event",U=o.getState();U.drag_id==c.id&&(V+=" dhx_cal_event_drag"),U.select_id==c.id&&(V+=" dhx_cal_event_selected");var q=o.templates.event_class(c.start_date,c.end_date,c);q&&(V=V+" "+q),this.config.cascade_event_display&&(V+=" dhx_cal_event_cascade");var Q=c.color?"background-color:"+c.color+";":"",re=c.textColor?"color:"+c.textColor+";":"",K=o._border_box_events(),ie=y-2,G=K?ie:y-4,ne=K?ie:y-6,J=K?ie:y-(this._quirks?4:14),we=K?ie-2:y-8,Te=K?x-this.xy.event_header_height-1:x-(this._quirks?20:30)+1,Se='<div event_id="'+M+'" '+this.config.event_attribute+'="'+M+'" class="'+V+'" style="position:absolute; top:'+_+"px; "+(this.config.rtl?"right:":"left:")+u+"px; width:"+G+"px; height:"+x+"px;"+(v||"")+'"></div>';D.innerHTML=Se;var Ie=D.cloneNode(!0).firstChild;if(!k&&o.renderEvent(Ie,c,y,x,S,b))return Ie;Ie=D.firstChild;var De='<div class="dhx_event_move dhx_header" style=" width:'+ne+"px;"+Q+'" >&nbsp;</div>';De+='<div class="dhx_event_move dhx_title" style="'+Q+re+'">'+S+"</div>",De+='<div class="dhx_body" style=" width:'+J+"px; height:"+Te+"px;"+Q+re+'">'+b+"</div>";var Ve="dhx_event_resize dhx_footer";return(k||c._drag_resize===!1)&&(Ve="dhx_resize_denied "+Ve),De+='<div class="'+Ve+'" style=" width:'+we+"px;"+(k?" margin-top:-1px;":"")+Q+re+'" ></div>',Ie.innerHTML=De,Ie},o.renderEvent=function(){return!1},o.locate_holder=function(c){return this._mode=="day"?this._els.dhx_cal_data[0].firstChild:this._els.dhx_cal_data[0].childNodes[c]},o.locate_holder_day=function(c,u){var _=Math.floor((this._correct_shift(c,1)-this._min_date)/864e5);return u&&this.date.time_part(c)&&_++,_},o._get_dnd_order=function(c,u,_){if(!this._drag_event)return c;this._drag_event._orig_sorder?c=this._drag_event._orig_sorder:this._drag_event._orig_sorder=c;for(var y=u*c;y+u>_;)c--,y-=u;return c=Math.max(c,0)},o._get_event_bar_pos=function(c){var u=this.config.rtl,_=this._colsS,y=_[c._sday],x=_[c._eday];u&&(y=_[_.col_length]-_[c._eday]+_[0],x=_[_.col_length]-_[c._sday]+_[0]),x==y&&(x=_[c._eday+1]);var v=this.xy.bar_height,S=c._sorder;if(c.id==this._drag_id){var b=_.heights[c._sweek+1]-_.heights[c._sweek]-this.xy.month_head_height;S=o._get_dnd_order(S,v,b)}var k=S*v;return{x:y,x2:x,y:_.heights[c._sweek]+(_.height?this.xy.month_scale_height+2:2)+k}},o.render_event_bar=function(c){var u=this._rendered_location,_=this._get_event_bar_pos(c),y=_.y,x=_.x,v=_.x2,S="";if(v){var b=o.config.resize_month_events&&this._mode=="month"&&(!c._timed||o.config.resize_month_timed),k=document.createElement("div"),D=c.hasOwnProperty("_first_chunk")&&c._first_chunk,M=c.hasOwnProperty("_last_chunk")&&c._last_chunk,V=b&&(c._timed||D),U=b&&(c._timed||M),q=!0,Q="dhx_cal_event_clear";c._timed&&!b||(q=!1,Q="dhx_cal_event_line"),D&&(Q+=" dhx_cal_event_line_start"),M&&(Q+=" dhx_cal_event_line_end"),V&&(S+="<div class='dhx_event_resize dhx_event_resize_start'></div>"),U&&(S+="<div class='dhx_event_resize dhx_event_resize_end'></div>");var re=o.templates.event_class(c.start_date,c.end_date,c);re&&(Q+=" "+re);var K=c.color?"background:"+c.color+";":"",ie=c.textColor?"color:"+c.textColor+";":"",G=["position:absolute","top:"+y+"px","left:"+x+"px","width:"+(v-x-3-(q?1:0))+"px",ie,K,c._text_style||""].join(";"),ne="<div event_id='"+c.id+"' "+this.config.event_attribute+"='"+c.id+"' class='"+Q+"' style='"+G+"'"+this._waiAria.eventBarAttrString(c)+">";b&&(ne+=S),o.getState().mode=="month"&&(c=o.getEvent(c.id)),c._timed&&(ne+=o.templates.event_bar_date(c.start_date,c.end_date,c)),ne+=o.templates.event_bar_text(c.start_date,c.end_date,c)+"</div>",ne+="</div>",k.innerHTML=ne,this._rendered.push(k.firstChild),u.appendChild(k.firstChild)}},o._locate_event=function(c){for(var u=null;c&&!u&&c.getAttribute;)u=c.getAttribute(this.config.event_attribute),c=c.parentNode;return u},o.edit=function(c){this._edit_id!=c&&(this.editStop(!1,c),this._edit_id=c,this.updateEvent(c))},o.editStop=function(c,u){if(!u||this._edit_id!=u){var _=this.getEvent(this._edit_id);_&&(c&&(_.text=this._editor.value),this._edit_id=null,this._editor=null,this.updateEvent(_.id),this._edit_stop_event(_,c))}},o._edit_stop_event=function(c,u){this._new_event?(u?this.callEvent("onEventAdded",[c.id,c]):c&&this.deleteEvent(c.id,!0),this._new_event=null):u&&this.callEvent("onEventChanged",[c.id,c])},o.getEvents=function(c,u){var _=[];for(var y in this._events){var x=this._events[y];x&&(!c&&!u||x.start_date<u&&x.end_date>c)&&_.push(x)}return _},o.getRenderedEvent=function(c){if(c){for(var u=o._rendered,_=0;_<u.length;_++){var y=u[_];if(y.getAttribute(o.config.event_attribute)==c)return y}return null}},o.showEvent=function(c,u){c&&rt(c)==="object"&&(u=c.mode,M=c.section,c=c.section);var _=typeof c=="number"||typeof c=="string"?o.getEvent(c):c;if(u=u||o._mode,_&&(!this.checkEvent("onBeforeEventDisplay")||this.callEvent("onBeforeEventDisplay",[_,u]))){var y=o.config.scroll_hour;o.config.scroll_hour=_.start_date.getHours();var x=o.config.preserve_scroll;o.config.preserve_scroll=!1;var v=_.color,S=_.textColor;if(o.config.highlight_displayed_event&&(_.color=o.config.displayed_event_color,_.textColor=o.config.displayed_event_text_color),o.setCurrentView(new Date(_.start_date),u),o.config.scroll_hour=y,o.config.preserve_scroll=x,o.matrix&&o.matrix[u]){var b=o.getView(),k=b.y_property,D=o.getEvent(_.id);if(D){if(!M){var M=D[k];Array.isArray(M)?M=M[0]:typeof M=="string"&&o.config.section_delimiter&&M.indexOf(o.config.section_delimiter)>-1&&(M=M.split(o.config.section_delimiter)[0])}var V=b.getSectionTop(M),U=b.posFromDate(D.start_date),q=o.$container.querySelector(".dhx_timeline_data_wrapper");if(U-=(q.offsetWidth-b.dx)/2,V=V-q.offsetHeight/2+b.dy/2,b._smartRenderingEnabled())var Q=b.attachEvent("onScroll",function(){re(),b.detachEvent(Q)});b.scrollTo({left:U,top:V}),b._smartRenderingEnabled()||re()}}else re();o.callEvent("onAfterEventDisplay",[_,u])}function re(){_.color=v,_.textColor=S}}}(w),function(o){o._append_drag_marker=function(c){if(!c.parentNode){var u=o._els.dhx_cal_data[0].lastChild,_=o._getClassName(u);_.indexOf("dhx_scale_holder")<0&&u.previousSibling&&(u=u.previousSibling),_=o._getClassName(u),u&&_.indexOf("dhx_scale_holder")===0&&u.appendChild(c)}},o._update_marker_position=function(c,u){var _=o._calc_event_y(u,0);c.style.top=_.top+"px",c.style.height=_.height+"px"},o.highlightEventPosition=function(c){var u=document.createElement("div");u.setAttribute("event_id",c.id),u.setAttribute(this.config.event_attribute,c.id),this._rendered.push(u),this._update_marker_position(u,c);var _=this.templates.drag_marker_class(c.start_date,c.end_date,c),y=this.templates.drag_marker_content(c.start_date,c.end_date,c);u.className="dhx_drag_marker",_&&(u.className+=" "+_),y&&(u.innerHTML=y),this._append_drag_marker(u)}}(w),ce(w),function(o){o._lightbox_controls={},o.formSection=function(c){for(var u=this.config.lightbox.sections,_=0;_<u.length&&u[_].name!=c;_++);if(_===u.length)return null;var y=u[_];o._lightbox||o.getLightbox();var x=document.getElementById(y.id),v=x.nextSibling,S={section:y,header:x,node:v,getValue:function(k){return o.form_blocks[y.type].get_value(v,k||{},y)},setValue:function(k,D){return o.form_blocks[y.type].set_value(v,k,D||{},y)}},b=o._lightbox_controls["get_"+y.type+"_control"];return b?b(S):S},o._lightbox_controls.get_template_control=function(c){return c.control=c.node,c},o._lightbox_controls.get_select_control=function(c){return c.control=c.node.getElementsByTagName("select")[0],c},o._lightbox_controls.get_textarea_control=function(c){return c.control=c.node.getElementsByTagName("textarea")[0],c},o._lightbox_controls.get_time_control=function(c){return c.control=c.node.getElementsByTagName("select"),c},o._lightbox_controls.defaults={template:{height:30},textarea:{height:200},select:{height:23},time:{height:20}},o.form_blocks={template:{render:function(c){var u=o._lightbox_controls.defaults.template,_=u?u.height:30;return"<div class='dhx_cal_ltext dhx_cal_template' style='height:"+(c.height||_||30)+"px;'></div>"},set_value:function(c,u,_,y){c.innerHTML=u||""},get_value:function(c,u,_){return c.innerHTML||""},focus:function(c){}},textarea:{render:function(c){var u=o._lightbox_controls.defaults.textarea,_=u?u.height:200;return"<div class='dhx_cal_ltext' style='height:"+(c.height||_||"130")+"px;'><textarea></textarea></div>"},set_value:function(c,u,_){o.form_blocks.textarea._get_input(c).value=u||""},get_value:function(c,u){return o.form_blocks.textarea._get_input(c).value},focus:function(c){var u=o.form_blocks.textarea._get_input(c);o._focus(u,!0)},_get_input:function(c){return c.getElementsByTagName("textarea")[0]}},select:{render:function(c){for(var u=o._lightbox_controls.defaults.select,_=u?u.height:23,y="<div class='dhx_cal_ltext' style='height:"+(c.height||_||"23")+"px;'><select style='width:100%;'>",x=0;x<c.options.length;x++)y+="<option value='"+c.options[x].key+"'>"+c.options[x].label+"</option>";return y+="</select></div>"},set_value:function(c,u,_,y){var x=c.firstChild;!x._dhx_onchange&&y.onchange&&(o.event(x,"change",y.onchange),x._dhx_onchange=!0),u===void 0&&(u=(x.options[0]||{}).value),x.value=u||""},get_value:function(c,u){return c.firstChild.value},focus:function(c){var u=c.firstChild;o._focus(u,!0)}},time:{render:function(c){c.time_format||(c.time_format=["%H:%i","%d","%m","%Y"]),c._time_format_order={};var u=c.time_format,_=o.config,y=o.date.date_part(o._currentDate()),x=1440,v=0;o.config.limit_time_select&&(x=60*_.last_hour+1,v=60*_.first_hour,y.setHours(_.first_hour));for(var S="",b=0;b<u.length;b++){var k=u[b];b>0&&(S+=" ");var D="",M="";switch(k){case"%Y":var V,U,q;D="dhx_lightbox_year_select",c._time_format_order[3]=b,c.year_range&&(isNaN(c.year_range)?c.year_range.push&&(U=c.year_range[0],q=c.year_range[1]):V=c.year_range),V=V||10;var Q=Q||Math.floor(V/2);U=U||y.getFullYear()-Q,q=q||U+V;for(var re=U;re<q;re++)M+="<option value='"+re+"'>"+re+"</option>";break;case"%m":for(D="dhx_lightbox_month_select",c._time_format_order[2]=b,re=0;re<12;re++)M+="<option value='"+re+"'>"+this.locale.date.month_full[re]+"</option>";break;case"%d":for(D="dhx_lightbox_day_select",c._time_format_order[1]=b,re=1;re<32;re++)M+="<option value='"+re+"'>"+re+"</option>";break;case"%H:%i":D="dhx_lightbox_time_select",c._time_format_order[0]=b,re=v;var K=y.getDate();for(c._time_values=[];re<x;)M+="<option value='"+re+"'>"+this.templates.time_picker(y)+"</option>",c._time_values.push(re),y.setTime(y.valueOf()+60*this.config.time_step*1e3),re=24*(y.getDate()!=K?1:0)*60+60*y.getHours()+y.getMinutes()}if(M){var ie=o._waiAria.lightboxSelectAttrString(k);S+="<select class='"+D+"' "+(c.readonly?"disabled='disabled'":"")+ie+">"+M+"</select> "}}var G=o._lightbox_controls.defaults.select;return"<div style='height:"+((G?G.height:23)||30)+"px;padding-top:0px;font-size:inherit;' class='dhx_section_time'>"+S+"<span style='font-weight:normal; font-size:10pt;'> &nbsp;&ndash;&nbsp; </span>"+S+"</div>"},set_value:function(c,u,_,y){var x,v,S=o.config,b=c.getElementsByTagName("select"),k=y._time_format_order;if(S.full_day){if(!c._full_day){var D="<label class='dhx_fullday'><input type='checkbox' name='full_day' value='true'> "+o.locale.labels.full_day+"&nbsp;</label></input>";o.config.wide_form||(D=c.previousSibling.innerHTML+D),c.previousSibling.innerHTML=D,c._full_day=!0}var M=c.previousSibling.getElementsByTagName("input")[0];M.checked=o.date.time_part(_.start_date)===0&&o.date.time_part(_.end_date)===0,b[k[0]].disabled=M.checked,b[k[0]+b.length/2].disabled=M.checked,M.$_eventAttached||(M.$_eventAttached=!0,o.event(M,"click",function(){if(M.checked){var Q={};o.form_blocks.time.get_value(c,Q,y),x=o.date.date_part(Q.start_date),(+(v=o.date.date_part(Q.end_date))==+x||+v>=+x&&(_.end_date.getHours()!==0||_.end_date.getMinutes()!==0))&&(v=o.date.add(v,1,"day"))}else x=null,v=null;b[k[0]].disabled=M.checked,b[k[0]+b.length/2].disabled=M.checked,q(b,0,x||_.start_date),q(b,4,v||_.end_date)}))}if(S.auto_end_date&&S.event_duration)for(var V=function(){S.auto_end_date&&S.event_duration&&(x=new Date(b[k[3]].value,b[k[2]].value,b[k[1]].value,0,b[k[0]].value),v=new Date(x.getTime()+60*o.config.event_duration*1e3),q(b,4,v))},U=0;U<4;U++)b[U].$_eventAttached||(b[U].$_eventAttached=!0,o.event(b[U],"change",V));function q(Q,re,K){for(var ie=y._time_values,G=60*K.getHours()+K.getMinutes(),ne=G,J=!1,we=0;we<ie.length;we++){var Te=ie[we];if(Te===G){J=!0;break}Te<G&&(ne=Te)}Q[re+k[0]].value=J?G:ne,J||ne||(Q[re+k[0]].selectedIndex=-1),Q[re+k[1]].value=K.getDate(),Q[re+k[2]].value=K.getMonth(),Q[re+k[3]].value=K.getFullYear()}q(b,0,_.start_date),q(b,4,_.end_date)},get_value:function(c,u,_){var y=c.getElementsByTagName("select"),x=_._time_format_order;if(u.start_date=new Date(y[x[3]].value,y[x[2]].value,y[x[1]].value,0,y[x[0]].value),u.end_date=new Date(y[x[3]+4].value,y[x[2]+4].value,y[x[1]+4].value,0,y[x[0]+4].value),!y[x[3]].value||!y[x[3]+4].value){var v=o.getEvent(o._lightbox_id);v&&(u.start_date=v.start_date,u.end_date=v.end_date)}return u.end_date<=u.start_date&&(u.end_date=o.date.add(u.start_date,o.config.time_step,"minute")),{start_date:new Date(u.start_date),end_date:new Date(u.end_date)}},focus:function(c){o._focus(c.getElementsByTagName("select")[0])}}},o._setLbPosition=function(c){if(c){var u=window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop,_=window.pageXOffset||document.body.scrollLeft||document.documentElement.scrollLeft,y=window.innerHeight||document.documentElement.clientHeight;c.style.top=u?Math.round(u+Math.max((y-c.offsetHeight)/2,0))+"px":Math.round(Math.max((y-c.offsetHeight)/2,0)+9)+"px",document.documentElement.scrollWidth>document.body.offsetWidth?c.style.left=Math.round(_+(document.body.offsetWidth-c.offsetWidth)/2)+"px":c.style.left=Math.round((document.body.offsetWidth-c.offsetWidth)/2)+"px"}},o.showCover=function(c){c&&(c.style.display="block",this._setLbPosition(c)),o.config.responsive_lightbox&&(document.documentElement.classList.add("dhx_cal_overflow_container"),document.body.classList.add("dhx_cal_overflow_container")),this.show_cover()},o.showLightbox=function(c){if(c)if(this.callEvent("onBeforeLightbox",[c])){var u=this.getLightbox();this.showCover(u),this._fill_lightbox(c,u),this._waiAria.lightboxVisibleAttr(u),this.callEvent("onLightbox",[c])}else this._new_event&&(this._new_event=null)},o._fill_lightbox=function(c,u){var _=this.getEvent(c),y=u.getElementsByTagName("span"),x=[];if(o.templates.lightbox_header){x.push("");var v=o.templates.lightbox_header(_.start_date,_.end_date,_);x.push(v),y[1].innerHTML="",y[2].innerHTML=v}else{var S=this.templates.event_header(_.start_date,_.end_date,_),b=(this.templates.event_bar_text(_.start_date,_.end_date,_)||"").substr(0,70);x.push(S),x.push(b),y[1].innerHTML=S,y[2].innerHTML=b}this._waiAria.lightboxHeader(u,x.join(" "));for(var k=this.config.lightbox.sections,D=0;D<k.length;D++){var M=k[D],V=o._get_lightbox_section_node(M),U=this.form_blocks[M.type],q=_[M.map_to]!==void 0?_[M.map_to]:M.default_value;U.set_value.call(this,V,q,_,M),k[D].focus&&U.focus.call(this,V)}o._lightbox_id=c},o._get_lightbox_section_node=function(c){return document.getElementById(c.id).nextSibling},o._lightbox_out=function(c){for(var u=this.config.lightbox.sections,_=0;_<u.length;_++){var y=document.getElementById(u[_].id);y=y&&y.nextSibling;var x=this.form_blocks[u[_].type].get_value.call(this,y,c,u[_]);u[_].map_to!="auto"&&(c[u[_].map_to]=x)}return c},o._empty_lightbox=function(c){var u=o._lightbox_id,_=this.getEvent(u);this._lame_copy(_,c),this.setEvent(_.id,_),this._edit_stop_event(_,!0),this.render_view_data()},o.hide_lightbox=function(c){o.endLightbox(!1,this.getLightbox())},o.hideCover=function(c){c&&(c.style.display="none"),this.hide_cover(),o.config.responsive_lightbox&&(document.documentElement.classList.remove("dhx_cal_overflow_container"),document.body.classList.remove("dhx_cal_overflow_container"))},o.hide_cover=function(){this._cover&&this._cover.parentNode.removeChild(this._cover),this._cover=null},o.show_cover=function(){this._cover||(this._cover=document.createElement("div"),this._cover.className="dhx_cal_cover",document.body.appendChild(this._cover))},o.save_lightbox=function(){var c=this._lightbox_out({},this._lame_copy(this.getEvent(this._lightbox_id)));this.checkEvent("onEventSave")&&!this.callEvent("onEventSave",[this._lightbox_id,c,this._new_event])||(this._empty_lightbox(c),this.hide_lightbox())},o.startLightbox=function(c,u){this._lightbox_id=c,this._custom_lightbox=!0,this._temp_lightbox=this._lightbox,this._lightbox=u,this.showCover(u)},o.endLightbox=function(c,u){u=u||o.getLightbox();var _=o.getEvent(this._lightbox_id);_&&this._edit_stop_event(_,c),c&&o.render_view_data(),this.hideCover(u),this._custom_lightbox&&(this._lightbox=this._temp_lightbox,this._custom_lightbox=!1),this._temp_lightbox=this._lightbox_id=null,this._waiAria.lightboxHiddenAttr(u),this.callEvent("onAfterLightbox",[])},o.resetLightbox=function(){o._lightbox&&!o._custom_lightbox&&o._lightbox.parentNode.removeChild(o._lightbox),o._lightbox=null},o.cancel_lightbox=function(){this._lightbox_id&&this.callEvent("onEventCancel",[this._lightbox_id,this._new_event]),this.hide_lightbox()},o.hideLightbox=o.cancel_lightbox,o._init_lightbox_events=function(){if(!this.getLightbox().$_eventAttached){var c=this.getLightbox();c.$_eventAttached=!0,o.event(c,"click",function(u){var _=o.$domHelpers.closest(u.target,".dhx_btn_set");if(_){var y=_?_.getAttribute("data-action"):null;switch(y){case"dhx_save_btn":case"save":if(o.config.readonly_active)return;o.save_lightbox();break;case"dhx_delete_btn":case"delete":if(o.config.readonly_active)return;var x=o.locale.labels.confirm_deleting;o._dhtmlx_confirm(x,o.locale.labels.title_confirm_deleting,function(){o.deleteEvent(o._lightbox_id),o._new_event=null,o.hide_lightbox()});break;case"dhx_cancel_btn":case"cancel":o.cancel_lightbox();break;default:o.callEvent("onLightboxButton",[y,_,u])}}else{var v=o.$domHelpers.closest(u.target,".dhx_custom_button[data-section-index]");if(v){var S=Number(v.getAttribute("data-section-index"));o.form_blocks[o.config.lightbox.sections[S].type].button_click(o.$domHelpers.closest(v,".dhx_cal_lsection"),v,u)}}}),o.event(c,"keydown",function(u){var _=u||window.event,y=u.target||u.srcElement,x=y.querySelector("[dhx_button]");switch(x||(x=y.parentNode.querySelector(".dhx_custom_button, .dhx_readonly")),(u||_).keyCode){case 32:if((u||_).shiftKey)return;x&&x.click&&x.click();break;case o.keys.edit_save:if((u||_).shiftKey)return;if(x&&x.click)x.click();else{if(o.config.readonly_active)return;o.save_lightbox()}break;case o.keys.edit_cancel:o.cancel_lightbox()}})}},o.setLightboxSize=function(){var c=this._lightbox;if(c){var u=c.childNodes[1];u.style.height="0px",u.style.height=u.scrollHeight+"px",c.style.height=u.scrollHeight+o.xy.lightbox_additional_height+"px",u.style.height=u.scrollHeight+"px"}},o._init_dnd_events=function(){o.event(document.body,"mousemove",o._move_while_dnd),o.event(document.body,"mouseup",o._finish_dnd),o._init_dnd_events=function(){}},o._move_while_dnd=function(c){if(o._dnd_start_lb){document.dhx_unselectable||(document.body.className+=" dhx_unselectable",document.dhx_unselectable=!0);var u=o.getLightbox(),_=[c.pageX,c.pageY];u.style.top=o._lb_start[1]+_[1]-o._dnd_start_lb[1]+"px",u.style.left=o._lb_start[0]+_[0]-o._dnd_start_lb[0]+"px"}},o._ready_to_dnd=function(c){var u=o.getLightbox();o._lb_start=[parseInt(u.style.left,10),parseInt(u.style.top,10)],o._dnd_start_lb=[c.pageX,c.pageY]},o._finish_dnd=function(){o._lb_start&&(o._lb_start=o._dnd_start_lb=!1,document.body.className=document.body.className.replace(" dhx_unselectable",""),document.dhx_unselectable=!1)},o.getLightbox=function(){if(!this._lightbox){var c=document.createElement("div");c.className="dhx_cal_light",o.config.wide_form&&(c.className+=" dhx_cal_light_wide"),o.form_blocks.recurring&&(c.className+=" dhx_cal_light_rec"),o.config.rtl&&(c.className+=" dhx_cal_light_rtl"),o.config.responsive_lightbox&&(c.className+=" dhx_cal_light_responsive"),c.style.visibility="hidden";for(var u=this._lightbox_template,_=this.config.buttons_left,y=0;y<_.length;y++)u+="<div "+this._waiAria.lightboxButtonAttrString(_[y])+" data-action='"+_[y]+"' class='dhx_btn_set dhx_"+(o.config.rtl?"right":"left")+"_btn_set "+_[y]+"_set'><div class='"+_[y]+"'></div><div>"+o.locale.labels[_[y]]+"</div></div>";_=this.config.buttons_right;var x=o.config.rtl;for(y=0;y<_.length;y++)u+="<div "+this._waiAria.lightboxButtonAttrString(_[y])+" data-action='"+_[y]+"' class='dhx_btn_set dhx_"+(x?"left":"right")+"_btn_set "+_[y]+"_set' style='float:"+(x?"left":"right")+";'><div class='"+_[y]+"'></div><div>"+o.locale.labels[_[y]]+"</div></div>";u+="</div>",c.innerHTML=u,o.config.drag_lightbox&&(o.event(c.firstChild,"mousedown",o._ready_to_dnd),o.event(c.firstChild,"selectstart",function(V){return V.preventDefault(),!1}),c.firstChild.style.cursor="move",o._init_dnd_events()),this._waiAria.lightboxAttr(c),document.body.insertBefore(c,document.body.firstChild),this._lightbox=c;var v=this.config.lightbox.sections;for(u="",y=0;y<v.length;y++){var S=this.form_blocks[v[y].type];if(S){v[y].id="area_"+this.uid();var b="";v[y].button&&(b="<div "+o._waiAria.lightboxSectionButtonAttrString(this.locale.labels["button_"+v[y].button])+" class='dhx_custom_button' data-section-index='"+y+"' index='"+y+"'><div class='dhx_custom_button_"+v[y].button+"'></div><div>"+this.locale.labels["button_"+v[y].button]+"</div></div>"),this.config.wide_form&&(u+="<div class='dhx_wrap_section'>");var k=this.locale.labels["section_"+v[y].name];typeof k!="string"&&(k=v[y].name),u+="<div id='"+v[y].id+"' class='dhx_cal_lsection'>"+b+"<label>"+k+"</label></div>"+S.render.call(this,v[y]),u+="</div>"}}var D=c.getElementsByTagName("div");for(y=0;y<D.length;y++){var M=D[y];if(o._getClassName(M)=="dhx_cal_larea"){M.innerHTML=u;break}}o._bindLightboxLabels(v),this.setLightboxSize(),this._init_lightbox_events(this),c.style.display="none",c.style.visibility="visible"}return this._lightbox},o._bindLightboxLabels=function(c){for(var u=0;u<c.length;u++){var _=c[u];if(_.id&&document.getElementById(_.id)){for(var y=document.getElementById(_.id).querySelector("label"),x=o._get_lightbox_section_node(_);x&&!x.querySelector;)x=x.nextSibling;var v=!0;if(x){var S=x.querySelector("input, select, textarea");S&&(_.inputId=S.id||"input_"+o.uid(),S.id||(S.id=_.inputId),y.setAttribute("for",_.inputId),v=!1)}v&&o.form_blocks[_.type].focus&&o.event(y,"click",function(b){return function(){var k=o.form_blocks[b.type],D=o._get_lightbox_section_node(b);k&&k.focus&&k.focus.call(o,D)}}(_))}}},o.attachEvent("onEventIdChange",function(c,u){this._lightbox_id==c&&(this._lightbox_id=u)}),o._lightbox_template="<div class='dhx_cal_ltitle'><span class='dhx_mark'>&nbsp;</span><span class='dhx_time'></span><span class='dhx_title'></span></div><div class='dhx_cal_larea'></div>"}(w),Jt(w),function(o){o.getRootView=function(){return{view:{render:function(){return{tag:"div",type:1,attrs:{style:"width:100%;height:100%;"},hooks:{didInsert:function(){o.setCurrentView()}},body:[{el:this.el,type:1}]}},init:function(){var c=document.createElement("DIV");c.id="scheduler_"+o.uid(),c.style.width="100%",c.style.height="100%",c.classList.add("dhx_cal_container"),c.cmp="grid",c.innerHTML='<div class="dhx_cal_navline"><div class="dhx_cal_prev_button">&nbsp;</div><div class="dhx_cal_next_button">&nbsp;</div><div class="dhx_cal_today_button"></div><div class="dhx_cal_date"></div><div class="dhx_cal_tab" data-tab="day"></div><div class="dhx_cal_tab" data-tab="week"></div><div class="dhx_cal_tab" data-tab="month"></div></div><div class="dhx_cal_header"></div><div class="dhx_cal_data"></div>',o.init(c),this.el=c}},type:4}}}(w),Mn(w),window.jQuery&&function(o){var c=0,u=[];o.fn.dhx_scheduler=function(_){if(typeof _!="string"){var y=[];return this.each(function(){if(this&&this.getAttribute)if(this.getAttribute("dhxscheduler"))y.push(window[this.getAttribute("dhxscheduler")]);else{var x="scheduler";c&&(x="scheduler"+(c+1),window[x]=Scheduler.getSchedulerInstance());var v=window[x];for(var S in this.setAttribute("dhxscheduler",x),_)S!="data"&&(v.config[S]=_[S]);this.getElementsByTagName("div").length||(this.innerHTML='<div class="dhx_cal_navline"><div class="dhx_cal_prev_button">&nbsp;</div><div class="dhx_cal_next_button">&nbsp;</div><div class="dhx_cal_today_button"></div><div class="dhx_cal_date"></div><div class="dhx_cal_tab" name="day_tab" data-tab="day" style="right:204px;"></div><div class="dhx_cal_tab" name="week_tab" data-tab="week" style="right:140px;"></div><div class="dhx_cal_tab" name="month_tab" data-tab="month" style="right:76px;"></div></div><div class="dhx_cal_header"></div><div class="dhx_cal_data"></div>',this.className+=" dhx_cal_container"),v.init(this,v.config.date,v.config.mode),_.data&&v.parse(_.data),y.push(v),c++}}),y.length===1?y[0]:y}if(u[_])return u[_].apply(this,[]);o.error("Method "+_+" does not exist on jQuery.dhx_scheduler")}}(window.jQuery),function(o){(function(){var c=o.setCurrentView,u=o.updateView,_=null,y=null,x=function(b,k){var D=this;a.a.clearTimeout(y),a.a.clearTimeout(_);var M=D._date,V=D._mode;S(this,b,k),y=setTimeout(function(){D.callEvent("onBeforeViewChange",[V,M,k||D._mode,b||D._date])?(u.call(D,b,k),D.callEvent("onViewChange",[D._mode,D._date]),a.a.clearTimeout(_),y=0):S(D,M,V)},o.config.delay_render)},v=function(b,k){var D=this,M=arguments;S(this,b,k),a.a.clearTimeout(_),_=setTimeout(function(){y||u.apply(D,M)},o.config.delay_render)};function S(b,k,D){k&&(b._date=k),D&&(b._mode=D)}o.attachEvent("onSchedulerReady",function(){o.config.delay_render?(o.setCurrentView=x,o.updateView=v):(o.setCurrentView=c,o.updateView=u)})})()}(w),function(o){o.createDataProcessor=function(c){var u,_;c instanceof Function?u=c:c.hasOwnProperty("router")?u=c.router:c.hasOwnProperty("event")&&(u=c),_=u?"CUSTOM":c.mode||"REST-JSON";var y=new ee(c.url);return y.init(o),y.setTransactionMode({mode:_,router:u},c.batchUpdate),y},o.DataProcessor=ee}(w),function(o){o.attachEvent("onSchedulerReady",function(){typeof dhtmlxError<"u"&&window.dhtmlxError.catchError("LoadXML",function(c,u,_){var y=_[0].responseText;switch(o.config.ajax_error){case"alert":a.a.alert(y);break;case"console":a.a.console.log(y)}})})}(w);var m=new Ct({en:bt,ar:Ne,be:qe,ca:Be,cn:oe,cs:Le,da:at,de:it,el:Ye,es:kn,fi:mr,fr:Di,he:zr,hu:Zr,id:Uc,it:vo,jp:ei,nb:se,nl:ue,no:me,pl:ye,pt:Re,ro:We,ru:Ue,si:_t,sk:Ft,sv:Et,tr:ti,ua:Yn});w.i18n={addLocale:m.addLocale,setLocale:function(o){if(typeof o=="string"){var c=m.getLocale(o);c||(c=m.getLocale("en")),w.locale=c}else if(o)if(w.locale)for(var u in o)o[u]&&ar(o[u])==="object"?(w.locale[u]||(w.locale[u]={}),w.mixin(w.locale[u],o[u],!0)):w.locale[u]=o[u];else w.locale=o},getLocale:m.getLocale},w.i18n.setLocale("en"),w.ext={};var p={};return w.plugins=function(o){(function(c,u,_){var y=[];for(var x in c)if(c[x]){var v=x.toLowerCase();u[v]&&u[v].forEach(function(S){var b=S.toLowerCase();c[b]||y.push(b)}),y.push(v)}return y.sort(function(S,b){var k=_[S]||0,D=_[b]||0;return k>D?1:k<D?-1:0}),y})(o,{treetimeline:["timeline"],daytimeline:["timeline"],outerdrag:["legacy"]},{legacy:1,limit:1,timeline:2,daytimeline:3,treetimeline:3,outerdrag:6}).forEach(function(c){if(!p[c]){var u=s.getExtension(c);if(!u)throw new Error("unknown plugin "+c);u(w),p[c]=!0}})},w};function ov(s,w){for(var d=0;d<w.length;d++){var m=w[d];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(s,m.key,m)}}var AC=function(){function s(w){for(var d in function(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}(this,s),this._extensions={},w)this._extensions[d]=w[d]}return function(w,d,m){d&&ov(w.prototype,d),m&&ov(w,m)}(s,[{key:"addExtension",value:function(w,d){this._extensions[w]=d}},{key:"getExtension",value:function(w){return this._extensions[w]}}]),s}();function lv(s,w){for(var d=0;d<w.length;d++){var m=w[d];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(s,m.key,m)}}typeof dhtmlx<"u"&&dhtmlx.attaches&&(dhtmlx.attaches.attachScheduler=function(s,w,d,m){d=d||'<div class="dhx_cal_tab" name="day_tab" data-tab="day" style="right:204px;"></div><div class="dhx_cal_tab" name="week_tab" data-tab="week" style="right:140px;"></div><div class="dhx_cal_tab" name="month_tab" data-tab="month" style="right:76px;"></div>';var p=document.createElement("DIV");return p.id="dhxSchedObj_"+this._genStr(12),p.innerHTML='<div id="'+p.id+'" class="dhx_cal_container" style="width:100%; height:100%;"><div class="dhx_cal_navline"><div class="dhx_cal_prev_button">&nbsp;</div><div class="dhx_cal_next_button">&nbsp;</div><div class="dhx_cal_today_button"></div><div class="dhx_cal_date"></div>'+d+'</div><div class="dhx_cal_header"></div><div class="dhx_cal_data"></div></div>',document.body.appendChild(p.firstChild),this.attachObject(p.id,!1,!0),this.vs[this.av].sched=m,this.vs[this.av].schedId=p.id,m.setSizes=m.updateView,m.destructor=function(){},m.init(p.id,s,w),this.vs[this._viewRestore()].sched});var Ai=function(s,w){w(!1,"The ".concat(s,` extension is not included in this version of dhtmlxScheduler.<br>
		You may need a <a href="https://docs.dhtmlx.com/scheduler/editions_comparison.html" target="_blank">Professional version of the component</a>.<br>
		Contact us at <a href="https://dhtmlx.com/docs/contact.shtml" target="_blank">https://dhtmlx.com/docs/contact.shtml</a> if you have any questions.`))},IC=function(s){(function(){var w=[];function d(){return!!w.length}function m(_){setTimeout(function(){d()||function(y,x){for(;y&&y!=x;)y=y.parentNode;return y==x}(document.activeElement,s.$container)||s.focus()},1)}function p(_){var y=(_=_||window.event).currentTarget;(function(x){return x==w[w.length-1]})(y)&&s.$keyboardNavigation.trapFocus(y,_)}if(s.attachEvent("onLightbox",function(){(function(_){s.eventRemove(_,"keydown",p),s.event(_,"keydown",p),w.push(_)})(s.getLightbox())}),s.attachEvent("onAfterLightbox",function(){var _=w.pop();_&&s.eventRemove(_,"keydown",p),m()}),s.attachEvent("onAfterQuickInfo",function(){m()}),!s._keyNavMessagePopup){s._keyNavMessagePopup=!0;var o=null,c=null,u=[];s.attachEvent("onMessagePopup",function(_){for(o=document.activeElement,c=o;c&&s._getClassName(c).indexOf("dhx_cal_data")<0;)c=c.parentNode;c&&(c=c.parentNode),s.eventRemove(_,"keydown",p),s.event(_,"keydown",p),u.push(_)}),s.attachEvent("onAfterMessagePopup",function(){var _=u.pop();_&&s.eventRemove(_,"keydown",p),setTimeout(function(){for(var y=document.activeElement;y&&s._getClassName(y).indexOf("dhx_cal_light")<0;)y=y.parentNode;y||(o&&o.parentNode?o.focus():c&&c.parentNode&&c.focus(),o=null,c=null)},1)})}s.$keyboardNavigation.isModal=d})()},OC=function(s){s._temp_key_scope=function(){s.config.key_nav=!0,s.$keyboardNavigation._pasteDate=null,s.$keyboardNavigation._pasteSection=null;var w=null,d={};function m(c){c=c||window.event,d.x=c.clientX,d.y=c.clientY}function p(){for(var c,u,_=document.elementFromPoint(d.x,d.y);_&&_!=s._obj;)_=_.parentNode;return c=_==s._obj,u=s.$keyboardNavigation.dispatcher.isEnabled(),c||u}function o(c){return s._lame_copy({},c)}document.body?s.event(document.body,"mousemove",m):s.event(window,"load",function(){s.event(document.body,"mousemove",m)}),s.attachEvent("onMouseMove",function(c,u){var _=s.getState();if(_.mode&&_.min_date){var y=s.getActionData(u);s.$keyboardNavigation._pasteDate=y.date,s.$keyboardNavigation._pasteSection=y.section}}),s._make_pasted_event=function(c){var u=s.$keyboardNavigation._pasteDate,_=s.$keyboardNavigation._pasteSection,y=c.end_date-c.start_date,x=o(c);if(function(S){delete S.rec_type,delete S.rec_pattern,delete S.event_pid,delete S.event_length}(x),x.start_date=new Date(u),x.end_date=new Date(x.start_date.valueOf()+y),_){var v=s._get_section_property();s.config.multisection?x[v]=c[v]:x[v]=_}return x},s._do_paste=function(c,u,_){s.callEvent("onBeforeEventPasted",[c,u,_])!==!1&&(s.addEvent(u),s.callEvent("onEventPasted",[c,u,_]))},s._is_key_nav_active=function(){return!(!this._is_initialized()||this._is_lightbox_open()||!this.config.key_nav)},s.event(document,"keydown",function(c){(c.ctrlKey||c.metaKey)&&c.keyCode==86&&s._buffer_event&&!s.$keyboardNavigation.dispatcher.isEnabled()&&(s.$keyboardNavigation.dispatcher.isActive=p())}),s._key_nav_copy_paste=function(c){if(!s._is_key_nav_active())return!0;if(c.keyCode==37||c.keyCode==39){c.cancelBubble=!0;var u=s.date.add(s._date,c.keyCode==37?-1:1,s._mode);return s.setCurrentView(u),!0}var _=function(){var v=s.$keyboardNavigation.dispatcher.getActiveNode();return v&&v.eventId?v.eventId:s._select_id}();if((c.ctrlKey||c.metaKey)&&c.keyCode==67)return _&&(s._buffer_event=o(s.getEvent(_)),w=!0,s.callEvent("onEventCopied",[s.getEvent(_)])),!0;if((c.ctrlKey||c.metaKey)&&c.keyCode==88&&_){w=!1;var y=s._buffer_event=o(s.getEvent(_));s.updateEvent(y.id),s.callEvent("onEventCut",[y])}if((c.ctrlKey||c.metaKey)&&c.keyCode==86&&p()){if(y=(y=s._buffer_event?s.getEvent(s._buffer_event.id):s._buffer_event)||s._buffer_event){var x=s._make_pasted_event(y);w?(x.id=s.uid(),s._do_paste(w,x,y)):s.callEvent("onBeforeEventChanged",[x,c,!1,y])&&(s._do_paste(w,x,y),w=!0)}return!0}}},s._temp_key_scope()},MC=function(s){s.$keyboardNavigation.attachSchedulerHandlers=function(){var w,d=s.$keyboardNavigation.dispatcher,m=function(_){if(s.config.key_nav)return d.keyDownHandler(_)},p=function(){d.keepScrollPosition(function(){d.focusGlobalNode()})};s.attachEvent("onDataRender",function(){s.config.key_nav&&d.isEnabled()&&!s.getState().editor_id&&(clearTimeout(w),w=setTimeout(function(){d.isEnabled()||d.enable(),o()}))});var o=function(){if(d.isEnabled()){var _=d.getActiveNode();_&&(_.isValid()||(_=_.fallback()),!_||_ instanceof s.$keyboardNavigation.MinicalButton||_ instanceof s.$keyboardNavigation.MinicalCell||d.keepScrollPosition(function(){_.focus(!0)}))}};function c(_){if(!s.config.key_nav)return!0;var y,x=s.$keyboardNavigation.isChildOf(_.target||_.srcElement,s.$container.querySelector(".dhx_cal_data")),v=s.getActionData(_);s._locate_event(_.target||_.srcElement)?y=new s.$keyboardNavigation.Event(s._locate_event(_.target||_.srcElement)):x&&(y=new s.$keyboardNavigation.TimeSlot,v.date&&x&&(y=y.nextSlot(new s.$keyboardNavigation.TimeSlot(v.date,null,v.section)))),y&&(d.isEnabled()?v.date&&x&&d.delay(function(){d.setActiveNode(y)}):d.activeNode=y)}s.attachEvent("onSchedulerReady",function(){var _=s.$container;s.eventRemove(document,"keydown",m),s.eventRemove(_,"mousedown",c),s.eventRemove(_,"focus",p),s.config.key_nav?(s.event(document,"keydown",m),s.event(_,"mousedown",c),s.event(_,"focus",p),_.setAttribute("tabindex","0")):_.removeAttribute("tabindex")});var u=s.updateEvent;s.updateEvent=function(_){var y=u.apply(this,arguments);if(s.config.key_nav&&d.isEnabled()&&s.getState().select_id==_){var x=new s.$keyboardNavigation.Event(_);s.getState().lightbox_id||function(v){if(s.config.key_nav&&d.isEnabled()){var S=v,b=new s.$keyboardNavigation.Event(S.eventId);if(!b.isValid()){var k=b.start||S.start,D=b.end||S.end,M=b.section||S.section;(b=new s.$keyboardNavigation.TimeSlot(k,D,M)).isValid()||(b=new s.$keyboardNavigation.TimeSlot)}d.setActiveNode(b);var V=d.getActiveNode();V&&V.getNode&&document.activeElement!=V.getNode()&&d.focusNode(d.getActiveNode())}}(x)}return y},s.attachEvent("onEventDeleted",function(_){return s.config.key_nav&&d.isEnabled()&&d.getActiveNode().eventId==_&&d.setActiveNode(new s.$keyboardNavigation.TimeSlot),!0}),s.attachEvent("onClearAll",function(){if(!s.config.key_nav)return!0;d.isEnabled()&&d.getActiveNode()instanceof s.$keyboardNavigation.Event&&d.setActiveNode(new s.$keyboardNavigation.TimeSlot)})}};function jc(s){return(jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}function Vh(s){return(Vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}function cv(s){return(cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}function uv(s){return(uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}function zh(s){return(zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}var Hh=new(function(){function s(w){(function(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")})(this,s),this._seed=0,this._schedulerPlugins=[],this._bundledExtensions=w,this._extensionsManager=new AC(w)}return function(w,d,m){d&&lv(w.prototype,d),m&&lv(w,m)}(s,[{key:"plugin",value:function(w){this._schedulerPlugins.push(w),a.a.scheduler&&w(a.a.scheduler)}},{key:"getSchedulerInstance",value:function(w){for(var d=bo(this._extensionsManager),m=0;m<this._schedulerPlugins.length;m++)this._schedulerPlugins[m](d);return d._internal_id=this._seed++,this.$syncFactory&&this.$syncFactory(d),w&&this._initFromConfig(d,w),d}},{key:"_initFromConfig",value:function(w,d){if(d.plugins&&w.plugins(d.plugins),d.config&&w.mixin(w.config,d.config,!0),d.templates&&w.attachEvent("onTemplatesReady",function(){w.mixin(w.templates,d.templates,!0)},{once:!0}),d.events)for(var m in d.events)w.attachEvent(m,d.events[m]);d.locale&&w.i18n.setLocale(d.locale),Array.isArray(d.calendars)&&d.calendars.forEach(function(p){w.addCalendar(p)}),d.container?w.init(d.container):w.init(),d.data&&(typeof d.data=="string"?w.load(d.data):w.parse(d.data))}}]),s}())({active_links:function(s){s.config.active_link_view="day",s._active_link_click=function(w){var d=w.target.getAttribute("data-link-date"),m=s.date.str_to_date(s.config.api_date,!1,!0);if(d)return s.setCurrentView(m(d),s.config.active_link_view),w&&w.preventDefault&&w.preventDefault(),!1},s.attachEvent("onTemplatesReady",function(){var w=function(m,p){p=p||m+"_scale_date",s.templates["_active_links_old_"+p]||(s.templates["_active_links_old_"+p]=s.templates[p]);var o=s.templates["_active_links_old_"+p],c=s.date.date_to_str(s.config.api_date);s.templates[p]=function(u){return"<a data-link-date='"+c(u)+"' href='#'>"+o(u)+"</a>"}};if(w("week"),w("","month_day"),this.matrix)for(var d in this.matrix)w(d);this._detachDomEvent(this._obj,"click",s._active_link_click),s.event(this._obj,"click",s._active_link_click)})},agenda_view:function(s){s.date.add_agenda=function(w){return s.date.add(w,1,"year")},s.templates.agenda_time=function(w,d,m){return m._timed?this.day_date(m.start_date,m.end_date,m)+" "+this.event_date(w):s.templates.day_date(w)+" &ndash; "+s.templates.day_date(d)},s.templates.agenda_text=function(w,d,m){return m.text},s.templates.agenda_date=function(){return""},s.date.agenda_start=function(){return s.date.date_part(s._currentDate())},s.attachEvent("onTemplatesReady",function(){var w=s.dblclick_dhx_cal_data;s.dblclick_dhx_cal_data=function(){if(this._mode=="agenda")!this.config.readonly&&this.config.dblclick_create&&this.addEventNow();else if(w)return w.apply(this,arguments)};var d=s.render_data;s.render_data=function(o){if(this._mode!="agenda")return d.apply(this,arguments);p()};var m=s.render_view_data;function p(){var o=s.get_visible_events();o.sort(function(V,U){return V.start_date>U.start_date?1:-1});for(var c,u="<div class='dhx_agenda_area' "+s._waiAria.agendaDataAttrString()+">",_=0;_<o.length;_++){var y=o[_],x=y.color?"background:"+y.color+";":"",v=y.textColor?"color:"+y.textColor+";":"",S=s.templates.event_class(y.start_date,y.end_date,y);c=s._waiAria.agendaEventAttrString(y);var b=s._waiAria.agendaDetailsBtnString();u+="<div "+c+" class='dhx_agenda_line"+(S?" "+S:"")+"' event_id='"+y.id+"' "+s.config.event_attribute+"='"+y.id+"' style='"+v+x+(y._text_style||"")+"'><div class='dhx_agenda_event_time'>"+(s.config.rtl?s.templates.agenda_time(y.end_date,y.start_date,y):s.templates.agenda_time(y.start_date,y.end_date,y))+"</div>",u+="<div "+b+" class='dhx_event_icon icon_details'>&nbsp;</div>",u+="<span>"+s.templates.agenda_text(y.start_date,y.end_date,y)+"</span></div>"}u+="<div class='dhx_v_border'></div></div>",s._els.dhx_cal_data[0].innerHTML=u,s._els.dhx_cal_data[0].childNodes[0].scrollTop=s._agendaScrollTop||0;var k=s._els.dhx_cal_data[0].childNodes[0];k.childNodes[k.childNodes.length-1].style.height=k.offsetHeight<s._els.dhx_cal_data[0].offsetHeight?"100%":k.offsetHeight+"px";var D=s._els.dhx_cal_data[0].firstChild.childNodes,M=s._getNavDateElement();for(M&&(M.innerHTML=s.templates.agenda_date(s._min_date,s._max_date,s._mode)),s._rendered=[],_=0;_<D.length-1;_++)s._rendered[_]=D[_]}s.render_view_data=function(){return this._mode=="agenda"&&(s._agendaScrollTop=s._els.dhx_cal_data[0].childNodes[0].scrollTop,s._els.dhx_cal_data[0].childNodes[0].scrollTop=0),m.apply(this,arguments)},s.agenda_view=function(o){s._min_date=s.config.agenda_start||s.date.agenda_start(s._date),s._max_date=s.config.agenda_end||s.date.add_agenda(s._min_date,1),function(c){if(c){var u=s.locale.labels,_=s._waiAria.agendaHeadAttrString(),y=s._waiAria.agendaHeadDateString(u.date),x=s._waiAria.agendaHeadDescriptionString(u.description);s._els.dhx_cal_header[0].innerHTML="<div "+_+" class='dhx_agenda_line'><div "+y+">"+u.date+"</div><span class = 'description_header' style='padding-left:25px' "+x+">"+u.description+"</span></div>",s._table_view=!0,s.set_sizes()}}(o),o?(s._cols=null,s._colsS=null,s._table_view=!0,p()):s._table_view=!1}})},all_timed:function(s){s.config.all_timed="short",s.config.all_timed_month=!1;var w=function(u){return!((u.end_date-u.start_date)/36e5>=24)||s._drag_mode=="resize"&&s._drag_id==u.id};s._safe_copy=function(u){var _=null,y=s._copy_event(u);return u.event_pid&&(_=s.getEvent(u.event_pid)),_&&_.isPrototypeOf(u)&&(delete y.event_length,delete y.event_pid,delete y.rec_pattern,delete y.rec_type),y};var d=s._pre_render_events_line,m=s._pre_render_events_table,p=function(u,_){return this._table_view?m.call(this,u,_):d.call(this,u,_)};s._pre_render_events_line=s._pre_render_events_table=function(u,_){if(!this.config.all_timed||this._table_view&&this._mode!="month"||this._mode=="month"&&!this.config.all_timed_month)return p.call(this,u,_);for(var y=0;y<u.length;y++){var x=u[y];if(!x._timed)if(this.config.all_timed!="short"||w(x)){var v=this._safe_copy(x);x._virtual?v._first_chunk=!1:v._first_chunk=!0,v._drag_resize=!1,v._virtual=!0,v.start_date=new Date(v.start_date),D(x)?(v.end_date=M(v.start_date),this.config.last_hour!=24&&(v.end_date=V(v.start_date,this.config.last_hour))):v.end_date=new Date(x.end_date);var S=!1;v.start_date<this._max_date&&v.end_date>this._min_date&&v.start_date<v.end_date&&(u[y]=v,S=!0);var b=this._safe_copy(x);if(b._virtual=!0,b.end_date=new Date(b.end_date),b.start_date<this._min_date?b.start_date=V(this._min_date,this.config.first_hour):b.start_date=V(M(x.start_date),this.config.first_hour),b.start_date<this._max_date&&b.start_date<b.end_date){if(!S){u[y--]=b;continue}u.splice(y+1,0,b),b._last_chunk=!1}else v._last_chunk=!0,v._drag_resize=!0}else this._mode!="month"&&u.splice(y--,1)}var k=this._drag_mode!="move"&&_;return p.call(this,u,k);function D(U){var q=M(U.start_date);return+U.end_date>+q}function M(U){var q=s.date.add(U,1,"day");return q=s.date.date_part(q)}function V(U,q){var Q=s.date.date_part(new Date(U));return Q.setHours(q),Q}};var o=s.get_visible_events;s.get_visible_events=function(u){return this.config.all_timed&&this.config.multi_day?o.call(this,!1):o.call(this,u)},s.attachEvent("onBeforeViewChange",function(u,_,y,x){return s._allow_dnd=y=="day"||y=="week",!0}),s._is_main_area_event=function(u){return!!(u._timed||this.config.all_timed===!0||this.config.all_timed=="short"&&w(u))};var c=s.updateEvent;s.updateEvent=function(u){var _,y,x=s.getEvent(u);x&&(_=s.config.all_timed&&!(s.isOneDayEvent(s._events[u])||s.getState().drag_id))&&(y=s.config.update_render,s.config.update_render=!0),c.apply(s,arguments),x&&_&&(s.config.update_render=y)}},collision:function(s){var w,d;function m(p){s._get_section_view()&&p&&(w=s.getEvent(p)[s._get_section_property()])}s.config.collision_limit=1,s.attachEvent("onBeforeDrag",function(p){return m(p),!0}),s.attachEvent("onBeforeLightbox",function(p){var o=s.getEvent(p);return d=[o.start_date,o.end_date],m(p),!0}),s.attachEvent("onEventChanged",function(p){if(!p||!s.getEvent(p))return!0;var o=s.getEvent(p);if(!s.checkCollision(o)){if(!d)return!1;o.start_date=d[0],o.end_date=d[1],o._timed=this.isOneDayEvent(o)}return!0}),s.attachEvent("onBeforeEventChanged",function(p,o,c){return s.checkCollision(p)}),s.attachEvent("onEventAdded",function(p,o){s.checkCollision(o)||s.deleteEvent(p)}),s.attachEvent("onEventSave",function(p,o,c){if((o=s._lame_clone(o)).id=p,!o.start_date||!o.end_date){var u=s.getEvent(p);o.start_date=new Date(u.start_date),o.end_date=new Date(u.end_date)}return o.rec_type&&s._roll_back_dates(o),s.checkCollision(o)}),s._check_sections_collision=function(p,o){var c=s._get_section_property();return p[c]==o[c]&&p.id!=o.id},s.checkCollision=function(p){var o=[],c=s.config.collision_limit;if(p.rec_type)for(var u=s.getRecDates(p),_=0;_<u.length;_++)for(var y=s.getEvents(u[_].start_date,u[_].end_date),x=0;x<y.length;x++)(y[x].event_pid||y[x].id)!=p.id&&o.push(y[x]);else{o=s.getEvents(p.start_date,p.end_date);for(var v=0;v<o.length;v++){var S=o[v];if(S.id==p.id||S.event_length&&[S.event_pid,S.event_length].join("#")==p.id){o.splice(v,1);break}}}var b=s._get_section_view(),k=s._get_section_property(),D=!0;if(b){var M=0;for(v=0;v<o.length;v++)o[v].id!=p.id&&this._check_sections_collision(o[v],p)&&M++;M>=c&&(D=!1)}else o.length>=c&&(D=!1);if(!D){var V=!s.callEvent("onEventCollision",[p,o]);return V||(p[k]=w||p[k]),V}return D}},container_autoresize:function(s){s.config.container_autoresize=!0,s.config.month_day_min_height=90,s.config.min_grid_size=25,s.config.min_map_size=400;var w=s._pre_render_events,d=!0,m=0,p=0;s._pre_render_events=function(x,v){if(!s.config.container_autoresize||!d)return w.apply(this,arguments);var S=this.xy.bar_height,b=this._colsS.heights,k=this._colsS.heights=[0,0,0,0,0,0,0],D=this._els.dhx_cal_data[0];if(x=this._table_view?this._pre_render_events_table(x,v):this._pre_render_events_line(x,v),this._table_view)if(v)this._colsS.heights=b;else{var M=D.firstChild;if(M.rows){for(var V=0;V<M.rows.length;V++){if(k[V]++,k[V]*S>this._colsS.height-this.xy.month_head_height){var U=M.rows[V].cells,q=this._colsS.height-this.xy.month_head_height;1*this.config.max_month_events!==this.config.max_month_events||k[V]<=this.config.max_month_events?q=k[V]*S:(this.config.max_month_events+1)*S>this._colsS.height-this.xy.month_head_height&&(q=(this.config.max_month_events+1)*S);for(var Q=0;Q<U.length;Q++)U[Q].childNodes[1].style.height=q+"px";k[V]=(k[V-1]||0)+U[0].offsetHeight}k[V]=(k[V-1]||0)+M.rows[V].cells[0].offsetHeight}k.unshift(0),M.parentNode.offsetHeight<M.parentNode.scrollHeight&&M._h_fix}else if(x.length||this._els.dhx_multi_day[0].style.visibility!="visible"||(k[0]=-1),x.length||k[0]==-1){var re=(k[0]+1)*S+1;p!=re+1&&(this._obj.style.height=m-p+re-1+"px"),re+="px",D.style.top=this._els.dhx_cal_navline[0].offsetHeight+this._els.dhx_cal_header[0].offsetHeight+parseInt(re,10)+"px",D.style.height=this._obj.offsetHeight-parseInt(D.style.top,10)-(this.xy.margin_top||0)+"px";var K=this._els.dhx_multi_day[0];K.style.height=re,K.style.visibility=k[0]==-1?"hidden":"visible",(K=this._els.dhx_multi_day[1]).style.height=re,K.style.visibility=k[0]==-1?"hidden":"visible",K.className=k[0]?"dhx_multi_day_icon":"dhx_multi_day_icon_small",this._dy_shift=(k[0]+1)*S,k[0]=0}}return x};var o=["dhx_cal_navline","dhx_cal_header","dhx_multi_day","dhx_cal_data"],c=function(x){m=0;for(var v=0;v<o.length;v++){var S=o[v],b=s._els[S]?s._els[S][0]:null,k=0;switch(S){case"dhx_cal_navline":case"dhx_cal_header":k=parseInt(b.style.height,10);break;case"dhx_multi_day":k=b?b.offsetHeight-1:0,p=k;break;case"dhx_cal_data":var D=s.getState().mode;if(k=b.childNodes[1]&&D!="month"?b.childNodes[1].offsetHeight:Math.max(b.offsetHeight-1,b.scrollHeight),D=="month")s.config.month_day_min_height&&!x&&(k=b.getElementsByTagName("tr").length*s.config.month_day_min_height),x&&(b.style.height=k+"px");else if(D=="year")k=190*s.config.year_y;else if(D=="agenda"){if(k=0,b.childNodes&&b.childNodes.length)for(var M=0;M<b.childNodes.length;M++)k+=b.childNodes[M].offsetHeight;k+2<s.config.min_grid_size?k=s.config.min_grid_size:k+=2}else if(D=="week_agenda"){for(var V,U,q=s.xy.week_agenda_scale_height+s.config.min_grid_size,Q=0;Q<b.childNodes.length;Q++)for(U=b.childNodes[Q],M=0;M<U.childNodes.length;M++){for(var re=0,K=U.childNodes[M].childNodes[1],ie=0;ie<K.childNodes.length;ie++)re+=K.childNodes[ie].offsetHeight;V=re+s.xy.week_agenda_scale_height,(V=Q!=1||M!=2&&M!=3?V:2*V)>q&&(q=V)}k=3*q}else if(D=="map"){k=0;var G=b.querySelectorAll(".dhx_map_line");for(M=0;M<G.length;M++)k+=G[M].offsetHeight;k+2<s.config.min_map_size?k=s.config.min_map_size:k+=2}else if(s._gridView)if(k=0,b.childNodes[1].childNodes[0].childNodes&&b.childNodes[1].childNodes[0].childNodes.length){for(G=b.childNodes[1].childNodes[0].childNodes[0].childNodes,M=0;M<G.length;M++)k+=G[M].offsetHeight;(k+=2)<s.config.min_grid_size&&(k=s.config.min_grid_size)}else k=s.config.min_grid_size;if(s.matrix&&s.matrix[D]){if(x)k+=0,b.style.height=k+"px";else{k=0;for(var ne=s.matrix[D],J=ne.y_unit,we=0;we<J.length;we++)k+=ne.getSectionHeight(J[we].key);s.$container.clientWidth!=s.$container.scrollWidth&&(k+=y())}k-=1}(D=="day"||D=="week"||s._props&&s._props[D])&&(k+=2)}m+=k+=1}s._obj.style.height=m+"px",x||s.updateView()};function u(){d=!1,s.callEvent("onAfterSchedulerResize",[]),d=!0}var _=function(){if(!s.config.container_autoresize||!d)return!0;var x=s.getState().mode;if(!x)return!0;var v=window.requestAnimationFrame||window.setTimeout,S=document.documentElement.scrollTop;v(function(){c()}),s.matrix&&s.matrix[x]||x=="month"?v(function(){c(!0),document.documentElement.scrollTop=S,u()},1):u()};function y(){var x=document.createElement("div");x.style.cssText="visibility:hidden;position:absolute;left:-1000px;width:100px;padding:0px;margin:0px;height:110px;min-height:100px;overflow-y:scroll;",document.body.appendChild(x);var v=x.offsetWidth-x.clientWidth;return document.body.removeChild(x),v}s.attachEvent("onBeforeViewChange",function(){var x=s.config.container_autoresize;if(s.xy.$original_scroll_width||(s.xy.$original_scroll_width=s.xy.scroll_width),s.xy.scroll_width=x?0:s.xy.$original_scroll_width,s.matrix)for(var v in s.matrix){var S=s.matrix[v];S.$original_section_autoheight||(S.$original_section_autoheight=S.section_autoheight),S.section_autoheight=!x&&S.$original_section_autoheight}return!0}),s.attachEvent("onViewChange",_),s.attachEvent("onXLE",_),s.attachEvent("onEventChanged",_),s.attachEvent("onEventCreated",_),s.attachEvent("onEventAdded",_),s.attachEvent("onEventDeleted",_),s.attachEvent("onAfterSchedulerResize",_),s.attachEvent("onClearAll",_),s.attachEvent("onBeforeExpand",function(){return d=!1,!0}),s.attachEvent("onBeforeCollapse",function(){return d=!0,!0})},cookie:function(s){function w(p){return(p._obj.id||"scheduler")+"_settings"}var d=!0;s.attachEvent("onBeforeViewChange",function(p,o,c,u){if(d&&s._get_url_nav){var _=s._get_url_nav();(_.date||_.mode||_.event)&&(d=!1)}var y=w(s);if(d){d=!1;var x=function(S){var b=S+"=";if(document.cookie.length>0){var k=document.cookie.indexOf(b);if(k!=-1){k+=b.length;var D=document.cookie.indexOf(";",k);return D==-1&&(D=document.cookie.length),document.cookie.substring(k,D)}}return""}(y);if(x){s._min_date||(s._min_date=u),(x=unescape(x).split("@"))[0]=this._helpers.parseDate(x[0]);var v=this.isViewExists(x[1])?x[1]:c;return u=isNaN(+x[0])?u:x[0],window.setTimeout(function(){s.setCurrentView(u,v)},1),!1}}return!0}),s.attachEvent("onViewChange",function(p,o){(function(c,u,_){var y=c+"="+_+(u?"; "+u:"");document.cookie=y})(w(s),"expires=Sun, 31 Jan 9999 22:00:00 GMT",escape(this._helpers.formatDate(o)+"@"+p))});var m=s._load;s._load=function(){var p=arguments;if(s._date)m.apply(this,p);else{var o=this;window.setTimeout(function(){m.apply(o,p)},1)}}},daytimeline:function(s){Ai("Day Timeline",s.assert)},drag_between:function(s){Ai("Drag Between",s.assert)},editors:function(s){s.form_blocks.combo={render:function(w){w.cached_options||(w.cached_options={});var d="";return d+="<div class='"+w.type+"' style='height:"+(w.height||20)+"px;' ></div>"},set_value:function(w,d,m,p){(function(){b();var S=s.attachEvent("onAfterLightbox",function(){b(),s.detachEvent(S)});function b(){if(w._combo&&w._combo.DOMParent){var k=w._combo;k.unload?k.unload():k.destructor&&k.destructor(),k.DOMParent=k.DOMelem=null}}})(),window.dhx_globalImgPath=p.image_path||"/",w._combo=new dhtmlXCombo(w,p.name,w.offsetWidth-8),p.onchange&&w._combo.attachEvent("onChange",p.onchange),p.options_height&&w._combo.setOptionHeight(p.options_height);var o=w._combo;if(o.enableFilteringMode(p.filtering,p.script_path||null,!!p.cache),p.script_path){var c=m[p.map_to];c?p.cached_options[c]?(o.addOption(c,p.cached_options[c]),o.disable(1),o.selectOption(0),o.disable(0)):s.ajax.get(p.script_path+"?id="+c+"&uid="+s.uid(),function(S){var b,k=S.xmlDoc.responseText;try{b=JSON.parse(k).options[0].text}catch{b=s.ajax.xpath("//option",S.xmlDoc)[0].childNodes[0].nodeValue}p.cached_options[c]=b,o.addOption(c,b),o.disable(1),o.selectOption(0),o.disable(0)}):o.setComboValue("")}else{for(var u=[],_=0;_<p.options.length;_++){var y=p.options[_],x=[y.key,y.label,y.css];u.push(x)}if(o.addOption(u),m[p.map_to]){var v=o.getIndexByValue(m[p.map_to]);o.selectOption(v)}}},get_value:function(w,d,m){var p=w._combo.getSelectedValue();return m.script_path&&(m.cached_options[p]=w._combo.getSelectedText()),p},focus:function(w){}},s.form_blocks.radio={render:function(w){var d="";d+="<div class='dhx_cal_ltext dhx_cal_radio' style='height:"+w.height+"px;' >";for(var m=0;m<w.options.length;m++){var p=s.uid();d+="<input id='"+p+"' type='radio' name='"+w.name+"' value='"+w.options[m].key+"'><label for='"+p+"'> "+w.options[m].label+"</label>",w.vertical&&(d+="<br/>")}return d+="</div>"},set_value:function(w,d,m,p){for(var o=w.getElementsByTagName("input"),c=0;c<o.length;c++){o[c].checked=!1;var u=m[p.map_to]||d;o[c].value==u&&(o[c].checked=!0)}},get_value:function(w,d,m){for(var p=w.getElementsByTagName("input"),o=0;o<p.length;o++)if(p[o].checked)return p[o].value},focus:function(w){}},s.form_blocks.checkbox={render:function(w){return s.config.wide_form?'<div class="dhx_cal_wide_checkbox" '+(w.height?"style='height:"+w.height+"px;'":"")+"></div>":""},set_value:function(w,d,m,p){w=document.getElementById(p.id);var o=s.uid(),c=p.checked_value!==void 0?d==p.checked_value:!!d;w.className+=" dhx_cal_checkbox";var u="<input id='"+o+"' type='checkbox' value='true' name='"+p.name+"'"+(c?"checked='true'":"")+"'>",_="<label for='"+o+"'>"+(s.locale.labels["section_"+p.name]||p.name)+"</label>";if(s.config.wide_form?(w.innerHTML=_,w.nextSibling.innerHTML=u):w.innerHTML=u+_,p.handler){var y=w.getElementsByTagName("input")[0];if(y.$_eventAttached)return;y.$_eventAttached=!0,s.event(y,"click",p.handler)}},get_value:function(w,d,m){var p=(w=document.getElementById(m.id)).getElementsByTagName("input")[0];return p||(p=w.nextSibling.getElementsByTagName("input")[0]),p.checked?m.checked_value||!0:m.unchecked_value||!1},focus:function(w){}}},expand:function(s){s.ext.fullscreen={toggleIcon:null},s.expand=function(){if(s.callEvent("onBeforeExpand",[])){var w=s._obj;do w._position=w.style.position||"",w.style.position="static";while((w=w.parentNode)&&w.style);(w=s._obj).style.position="absolute",w._width=w.style.width,w._height=w.style.height,w.style.width=w.style.height="100%",w.style.top=w.style.left="0px";var d=document.body;d.scrollTop=0,(d=d.parentNode)&&(d.scrollTop=0),document.body._overflow=document.body.style.overflow||"",document.body.style.overflow="hidden",s._maximize(),s.callEvent("onExpand",[])}},s.collapse=function(){if(s.callEvent("onBeforeCollapse",[])){var w=s._obj;do w.style.position=w._position;while((w=w.parentNode)&&w.style);(w=s._obj).style.width=w._width,w.style.height=w._height,document.body.style.overflow=document.body._overflow,s._maximize(),s.callEvent("onCollapse",[])}},s.attachEvent("onTemplatesReady",function(){var w=document.createElement("div");w.className="dhx_expand_icon",s.ext.fullscreen.toggleIcon=w,s._obj.appendChild(w),s.event(w,"click",function(){s.expanded?s.collapse():s.expand()})}),s._maximize=function(){this.expanded=!this.expanded,s.ext.fullscreen.toggleIcon.style.backgroundPosition="0 "+(this.expanded?"0":"18")+"px";for(var w=["left","top"],d=0;d<w.length;d++){var m=s["_prev_margin_"+w[d]];s.xy["margin_"+w[d]]?(s["_prev_margin_"+w[d]]=s.xy["margin_"+w[d]],s.xy["margin_"+w[d]]=0):m&&(s.xy["margin_"+w[d]]=s["_prev_margin_"+w[d]],delete s["_prev_margin_"+w[d]])}s.setCurrentView()}},grid_view:function(s){Ai("Grid",s.assert)},html_templates:function(s){s.attachEvent("onTemplatesReady",function(){for(var w=document.body.getElementsByTagName("DIV"),d=0;d<w.length;d++){var m=w[d].className||"";if((m=m.split(":")).length==2&&m[0]=="template"){var p='return "'+(w[d].innerHTML||"").replace(/"/g,'\\"').replace(/[\n\r]+/g,"")+'";';p=unescape(p).replace(/\{event\.([a-z]+)\}/g,function(o,c){return'"+ev.'+c+'+"'}),s.templates[m[1]]=Function("start","end","ev",p),w[d].style.display="none"}}})},key_nav:function(s){function w(d){var m={minicalButton:s.$keyboardNavigation.MinicalButton,minicalDate:s.$keyboardNavigation.MinicalCell,scheduler:s.$keyboardNavigation.SchedulerNode,dataArea:s.$keyboardNavigation.DataArea,timeSlot:s.$keyboardNavigation.TimeSlot,event:s.$keyboardNavigation.Event},p={};for(var o in m)p[o.toLowerCase()]=m[o];return p[d=(d+"").toLowerCase()]||m.scheduler}s.config.key_nav=!0,s.config.key_nav_step=30,s.addShortcut=function(d,m,p){var o=w(p);o&&o.prototype.bind(d,m)},s.getShortcutHandler=function(d,m){var p=w(m);if(p){var o=s.$keyboardNavigation.shortcuts.parse(d);if(o.length)return p.prototype.findHandler(o[0])}},s.removeShortcut=function(d,m){var p=w(m);p&&p.prototype.unbind(d)},s.focus=function(){if(s.config.key_nav){var d=s.$keyboardNavigation.dispatcher;d.enable();var m=d.getActiveNode();!m||m instanceof s.$keyboardNavigation.MinicalButton||m instanceof s.$keyboardNavigation.MinicalCell?d.setDefaultNode():d.focusNode(d.getActiveNode())}},s.$keyboardNavigation={},s._compose=function(){for(var d=Array.prototype.slice.call(arguments,0),m={},p=0;p<d.length;p++){var o=d[p];for(var c in typeof o=="function"&&(o=new o),o)m[c]=o[c]}return m},function(d){d.$keyboardNavigation.shortcuts={createCommand:function(){return{modifiers:{shift:!1,alt:!1,ctrl:!1,meta:!1},keyCode:null}},parse:function(m){for(var p=[],o=this.getExpressions(this.trim(m)),c=0;c<o.length;c++){for(var u=this.getWords(o[c]),_=this.createCommand(),y=0;y<u.length;y++)this.commandKeys[u[y]]?_.modifiers[u[y]]=!0:this.specialKeys[u[y]]?_.keyCode=this.specialKeys[u[y]]:_.keyCode=u[y].charCodeAt(0);p.push(_)}return p},getCommandFromEvent:function(m){var p=this.createCommand();p.modifiers.shift=!!m.shiftKey,p.modifiers.alt=!!m.altKey,p.modifiers.ctrl=!!m.ctrlKey,p.modifiers.meta=!!m.metaKey,p.keyCode=m.which||m.keyCode,p.keyCode>=96&&p.keyCode<=105&&(p.keyCode-=48);var o=String.fromCharCode(p.keyCode);return o&&(p.keyCode=o.toLowerCase().charCodeAt(0)),p},getHashFromEvent:function(m){return this.getHash(this.getCommandFromEvent(m))},getHash:function(m){var p=[];for(var o in m.modifiers)m.modifiers[o]&&p.push(o);return p.push(m.keyCode),p.join(this.junctionChar)},getExpressions:function(m){return m.split(this.junctionChar)},getWords:function(m){return m.split(this.combinationChar)},trim:function(m){return m.replace(/\s/g,"")},junctionChar:",",combinationChar:"+",commandKeys:{shift:16,alt:18,ctrl:17,meta:!0},specialKeys:{backspace:8,tab:9,enter:13,esc:27,space:32,up:38,down:40,left:37,right:39,home:36,end:35,pageup:33,pagedown:34,delete:46,insert:45,plus:107,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123}}}(s),function(d){d.$keyboardNavigation.EventHandler={_handlers:null,findHandler:function(m){this._handlers||(this._handlers={});var p=d.$keyboardNavigation.shortcuts.getHash(m);return this._handlers[p]},doAction:function(m,p){var o=this.findHandler(m);o&&(o.call(this,p),p.preventDefault?p.preventDefault():p.returnValue=!1)},bind:function(m,p){this._handlers||(this._handlers={});for(var o=d.$keyboardNavigation.shortcuts,c=o.parse(m),u=0;u<c.length;u++)this._handlers[o.getHash(c[u])]=p},unbind:function(m){for(var p=d.$keyboardNavigation.shortcuts,o=p.parse(m),c=0;c<o.length;c++)this._handlers[p.getHash(o[c])]&&delete this._handlers[p.getHash(o[c])]},bindAll:function(m){for(var p in m)this.bind(p,m[p])},initKeys:function(){this._handlers||(this._handlers={}),this.keys&&this.bindAll(this.keys)}}}(s),function(d){d.$keyboardNavigation.getFocusableNodes=d._getFocusableNodes,d.$keyboardNavigation.trapFocus=function(m,p){if(p.keyCode!=9)return!1;for(var o,c=d.$keyboardNavigation.getFocusableNodes(m),u=document.activeElement,_=-1,y=0;y<c.length;y++)if(c[y]==u){_=y;break}if(p.shiftKey){if(o=c[_<=0?c.length-1:_-1])return o.focus(),p.preventDefault(),!0}else if(o=c[_>=c.length-1?0:_+1])return o.focus(),p.preventDefault(),!0;return!1}}(s),function(d){d.$keyboardNavigation.marker={clear:function(){for(var m=d.$container.querySelectorAll(".dhx_focus_slot"),p=0;p<m.length;p++)m[p].parentNode.removeChild(m[p])},createElement:function(){var m=document.createElement("div");return m.setAttribute("tabindex",-1),m.className="dhx_focus_slot",m},renderMultiple:function(m,p,o){for(var c=[],u=new Date(m),_=new Date(Math.min(p.valueOf(),d.date.add(d.date.day_start(new Date(m)),1,"day").valueOf()));u.valueOf()<p.valueOf();)c=c.concat(o.call(this,u,new Date(Math.min(_.valueOf(),p.valueOf())))),u=d.date.day_start(d.date.add(u,1,"day")),_=d.date.day_start(d.date.add(u,1,"day")),_=new Date(Math.min(_.valueOf(),p.valueOf()));return c},render:function(m,p,o){this.clear();var c=[],u=d.$keyboardNavigation.TimeSlot.prototype._modes;switch(d.$keyboardNavigation.TimeSlot.prototype._getMode()){case u.units:c=this.renderVerticalMarker(m,p,o);break;case u.timeline:c=this.renderTimelineMarker(m,p,o);break;case u.year:c=c.concat(this.renderMultiple(m,p,this.renderYearMarker));break;case u.month:c=this.renderMonthMarker(m,p);break;case u.weekAgenda:c=c.concat(this.renderMultiple(m,p,this.renderWeekAgendaMarker));break;case u.list:c=this.renderAgendaMarker(m,p);break;case u.dayColumns:c=c.concat(this.renderMultiple(m,p,this.renderVerticalMarker))}this.addWaiAriaLabel(c,m,p,o),this.addDataAttributes(c,m,p,o);for(var _=c.length-1;_>=0;_--)if(c[_].offsetWidth)return c[_];return null},addDataAttributes:function(m,p,o,c){for(var u=d.date.date_to_str(d.config.api_date),_=u(p),y=u(o),x=0;x<m.length;x++)m[x].setAttribute("data-start-date",_),m[x].setAttribute("data-end-date",y),c&&m[x].setAttribute("data-section",c)},addWaiAriaLabel:function(m,p,o,c){var u="",_=d.getState().mode,y=!1;u+=d.templates.day_date(p),d.date.day_start(new Date(p)).valueOf()!=p.valueOf()&&(u+=" "+d.templates.hour_scale(p),y=!0),d.date.day_start(new Date(p)).valueOf()!=d.date.day_start(new Date(o)).valueOf()&&(u+=" - "+d.templates.day_date(o),(y||d.date.day_start(new Date(o)).valueOf()!=o.valueOf())&&(u+=" "+d.templates.hour_scale(o))),c&&(d.matrix&&d.matrix[_]?u+=", "+d.templates[_+"_scale_label"](c.key,c.label,c):d._props&&d._props[_]&&(u+=", "+d.templates[_+"_scale_text"](c.key,c.label,c)));for(var x=0;x<m.length;x++)d._waiAria.setAttributes(m[x],{"aria-label":u,"aria-live":"polite"})},renderWeekAgendaMarker:function(m,p){for(var o=d.$container.querySelectorAll(".dhx_wa_day_cont .dhx_wa_scale_bar"),c=d.date.week_start(new Date(d.getState().min_date)),u=-1,_=d.date.day_start(new Date(m)),y=0;y<o.length&&(u++,d.date.day_start(new Date(c)).valueOf()!=_.valueOf());y++)c=d.date.add(c,1,"day");return u!=-1?this._wrapDiv(o[u]):[]},_wrapDiv:function(m){var p=this.createElement();return p.style.top=m.offsetTop+"px",p.style.left=m.offsetLeft+"px",p.style.width=m.offsetWidth+"px",p.style.height=m.offsetHeight+"px",m.appendChild(p),[p]},renderYearMarker:function(m,p){var o=d._get_year_cell(m);o.style.position="relative";var c=this.createElement();return c.style.top="0px",c.style.left="0px",c.style.width="100%",c.style.height="100%",o.appendChild(c),[c]},renderAgendaMarker:function(m,p){var o=this.createElement();return o.style.height="1px",o.style.width="100%",o.style.opacity=1,o.style.top="0px",o.style.left="0px",d.$container.querySelector(".dhx_cal_data").appendChild(o),[o]},renderTimelineMarker:function(m,p,o){var c=d._lame_copy({},d.matrix[d._mode]),u=c._scales;c.round_position=!1;var _=[],y=m?new Date(m):d._min_date,x=p?new Date(p):d._max_date;if(y.valueOf()<d._min_date.valueOf()&&(y=new Date(d._min_date)),x.valueOf()>d._max_date.valueOf()&&(x=new Date(d._max_date)),!c._trace_x)return _;for(var v=0;v<c._trace_x.length&&!d._is_column_visible(c._trace_x[v]);v++);if(v==c._trace_x.length)return _;var S=u[o];if(!(y<p&&x>m))return _;var b=this.createElement(),k=d._timeline_getX({start_date:m},!1,c)-1,D=d._timeline_getX({start_date:p},!1,c)-1,M=c._section_height[o]-1||c.dy-1,V=0;d._isRender("cell")&&(V=S.offsetTop,k+=c.dx,D+=c.dx,S=d.$container.querySelector(".dhx_cal_data"));var U=Math.max(1,D-k-1);return b.style.cssText="height: "+M+"px; left: "+k+"px; width: "+U+"px; top: "+V+"px;",S.appendChild(b),_.push(b),_},renderMonthCell:function(m){for(var p=d.$container.querySelectorAll(".dhx_month_head"),o=[],c=0;c<p.length;c++)o.push(p[c].parentNode);var u=-1,_=0,y=-1,x=d.date.week_start(new Date(d.getState().min_date)),v=d.date.day_start(new Date(m));for(c=0;c<o.length&&(u++,y==6?(_++,y=0):y++,d.date.day_start(new Date(x)).valueOf()!=v.valueOf());c++)x=d.date.add(x,1,"day");if(u==-1)return[];var S=d._colsS[y],b=d._colsS.heights[_],k=this.createElement();k.style.top=b+"px",k.style.left=S+"px",k.style.width=d._cols[y]+"px",k.style.height=(d._colsS.heights[_+1]-b||d._colsS.height)+"px";var D=d.$container.querySelector(".dhx_cal_data"),M=D.querySelector("table");return M.nextSibling?D.insertBefore(k,M.nextSibling):D.appendChild(k),k},renderMonthMarker:function(m,p){for(var o=[],c=m;c.valueOf()<p.valueOf();)o.push(this.renderMonthCell(c)),c=d.date.add(c,1,"day");return o},renderVerticalMarker:function(m,p,o){var c=d.locate_holder_day(m),u=[],_=null,y=d.config;if(d._ignores[c])return u;if(d._props&&d._props[d._mode]&&o){var x=d._props[d._mode];c=x.order[o];var v=x.order[o];x.days>1?c=d.locate_holder_day(m)+v:(c=v,x.size&&c>x.position+x.size&&(c=0))}if(!(_=d.locate_holder(c))||_.querySelector(".dhx_scale_hour"))return document.createElement("div");var S=Math.max(60*m.getHours()+m.getMinutes(),60*y.first_hour),b=Math.min(60*p.getHours()+p.getMinutes(),60*y.last_hour);if(!b&&d.date.day_start(new Date(p)).valueOf()>d.date.day_start(new Date(m)).valueOf()&&(b=60*y.last_hour),b<=S)return[];var k=this.createElement(),D=d.config.hour_size_px*y.last_hour+1;return k.style.top=Math.round((60*S*1e3-36e5*d.config.first_hour)*d.config.hour_size_px/36e5)%D+"px",k.style.lineHeight=k.style.height=Math.max(Math.round(60*(b-S)*1e3*d.config.hour_size_px/36e5)%D,1)+"px",k.style.width="100%",_.appendChild(k),u.push(k),u[0]}}}(s),function(d){d.$keyboardNavigation.SchedulerNode=function(){},d.$keyboardNavigation.SchedulerNode.prototype=d._compose(d.$keyboardNavigation.EventHandler,{getDefaultNode:function(){var m=new d.$keyboardNavigation.TimeSlot;return m.isValid()||(m=m.fallback()),m},_modes:{month:"month",year:"year",dayColumns:"dayColumns",timeline:"timeline",units:"units",weekAgenda:"weekAgenda",list:"list"},getMode:function(){var m=d.getState().mode;return d.matrix&&d.matrix[m]?this._modes.timeline:d._props&&d._props[m]?this._modes.units:m=="month"?this._modes.month:m=="year"?this._modes.year:m=="week_agenda"?this._modes.weekAgenda:m=="map"||m=="agenda"||d._grid&&d["grid_"+m]?this._modes.list:this._modes.dayColumns},focus:function(){d.focus()},blur:function(){},disable:function(){d.$container.setAttribute("tabindex","0")},enable:function(){d.$container&&d.$container.removeAttribute("tabindex")},isEnabled:function(){return d.$container.hasAttribute("tabindex")},_compareEvents:function(m,p){return m.start_date.valueOf()==p.start_date.valueOf()?m.id>p.id?1:-1:m.start_date.valueOf()>p.start_date.valueOf()?1:-1},_pickEvent:function(m,p,o,c){var u=d.getState();m=new Date(Math.max(u.min_date.valueOf(),m.valueOf())),p=new Date(Math.min(u.max_date.valueOf(),p.valueOf()));var _=d.getEvents(m,p);_.sort(this._compareEvents),c&&(_=_.reverse());for(var y=!!o,x=0;x<_.length&&y;x++)_[x].id==o&&(y=!1),_.splice(x,1),x--;for(x=0;x<_.length;x++)if(new d.$keyboardNavigation.Event(_[x].id).getNode())return _[x];return null},nextEventHandler:function(m){var p=d.$keyboardNavigation.dispatcher.activeNode,o=m||p&&p.eventId,c=null;if(o&&d.getEvent(o)){var u=d.getEvent(o);c=d.$keyboardNavigation.SchedulerNode.prototype._pickEvent(u.start_date,d.date.add(u.start_date,1,"year"),u.id,!1)}if(!c&&!m){var _=d.getState();c=d.$keyboardNavigation.SchedulerNode.prototype._pickEvent(_.min_date,d.date.add(_.min_date,1,"year"),null,!1)}if(c){var y=new d.$keyboardNavigation.Event(c.id);y.isValid()?(p&&p.blur(),d.$keyboardNavigation.dispatcher.setActiveNode(y)):this.nextEventHandler(c.id)}},prevEventHandler:function(m){var p=d.$keyboardNavigation.dispatcher.activeNode,o=m||p&&p.eventId,c=null;if(o&&d.getEvent(o)){var u=d.getEvent(o);c=d.$keyboardNavigation.SchedulerNode.prototype._pickEvent(d.date.add(u.end_date,-1,"year"),u.end_date,u.id,!0)}if(!c&&!m){var _=d.getState();c=d.$keyboardNavigation.SchedulerNode.prototype._pickEvent(d.date.add(_.max_date,-1,"year"),_.max_date,null,!0)}if(c){var y=new d.$keyboardNavigation.Event(c.id);y.isValid()?(p&&p.blur(),d.$keyboardNavigation.dispatcher.setActiveNode(y)):this.prevEventHandler(c.id)}},keys:{"alt+1, alt+2, alt+3, alt+4, alt+5, alt+6, alt+7, alt+8, alt+9":function(m){var p=d.$keyboardNavigation.HeaderCell.prototype.getNodes(".dhx_cal_navline .dhx_cal_tab"),o=m.key;o===void 0&&(o=m.keyCode-48),p[1*o-1]&&p[1*o-1].click()},"ctrl+left,meta+left":function(m){d._click.dhx_cal_prev_button()},"ctrl+right,meta+right":function(m){d._click.dhx_cal_next_button()},"ctrl+up,meta+up":function(m){d.$container.querySelector(".dhx_cal_data").scrollTop-=20},"ctrl+down,meta+down":function(m){d.$container.querySelector(".dhx_cal_data").scrollTop+=20},e:function(){this.nextEventHandler()},home:function(){d.setCurrentView(new Date)},"shift+e":function(){this.prevEventHandler()},"ctrl+enter,meta+enter":function(){d.addEventNow({start_date:new Date(d.getState().date)})},"ctrl+c,meta+c":function(m){d._key_nav_copy_paste(m)},"ctrl+v,meta+v":function(m){d._key_nav_copy_paste(m)},"ctrl+x,meta+x":function(m){d._key_nav_copy_paste(m)}}}),d.$keyboardNavigation.SchedulerNode.prototype.bindAll(d.$keyboardNavigation.SchedulerNode.prototype.keys)}(s),function(d){d.$keyboardNavigation.KeyNavNode=function(){},d.$keyboardNavigation.KeyNavNode.prototype=d._compose(d.$keyboardNavigation.EventHandler,{isValid:function(){return!0},fallback:function(){return null},moveTo:function(m){d.$keyboardNavigation.dispatcher.setActiveNode(m)},compareTo:function(m){if(!m)return!1;for(var p in this){if(!!this[p]!=!!m[p])return!1;var o=!(!this[p]||!this[p].toString),c=!(!m[p]||!m[p].toString);if(c!=o)return!1;if(c&&o){if(m[p].toString()!=this[p].toString())return!1}else if(m[p]!=this[p])return!1}return!0},getNode:function(){},focus:function(){var m=this.getNode();m&&(m.setAttribute("tabindex","-1"),m.focus&&m.focus())},blur:function(){var m=this.getNode();m&&m.setAttribute("tabindex","-1")}})}(s),function(d){d.$keyboardNavigation.HeaderCell=function(m){this.index=m||0},d.$keyboardNavigation.HeaderCell.prototype=d._compose(d.$keyboardNavigation.KeyNavNode,{getNode:function(m){m=m||this.index||0;var p=this.getNodes();if(p[m])return p[m]},getNodes:function(m){m=m||[".dhx_cal_navline .dhx_cal_prev_button",".dhx_cal_navline .dhx_cal_next_button",".dhx_cal_navline .dhx_cal_today_button",".dhx_cal_navline .dhx_cal_tab"].join(", ");var p=Array.prototype.slice.call(d.$container.querySelectorAll(m));return p.sort(function(o,c){return o.offsetLeft-c.offsetLeft}),p},_handlers:null,isValid:function(){return!!this.getNode(this.index)},fallback:function(){var m=this.getNode(0);return m||(m=new d.$keyboardNavigation.TimeSlot),m},keys:{left:function(){var m=this.index-1;m<0&&(m=this.getNodes().length-1),this.moveTo(new d.$keyboardNavigation.HeaderCell(m))},right:function(){var m=this.index+1;m>=this.getNodes().length&&(m=0),this.moveTo(new d.$keyboardNavigation.HeaderCell(m))},down:function(){this.moveTo(new d.$keyboardNavigation.TimeSlot)},enter:function(){var m=this.getNode();m&&m.click()}}}),d.$keyboardNavigation.HeaderCell.prototype.bindAll(d.$keyboardNavigation.HeaderCell.prototype.keys)}(s),function(d){d.$keyboardNavigation.Event=function(m){if(this.eventId=null,d.getEvent(m)){var p=d.getEvent(m);this.start=new Date(p.start_date),this.end=new Date(p.end_date),this.section=this._getSection(p),this.eventId=m}},d.$keyboardNavigation.Event.prototype=d._compose(d.$keyboardNavigation.KeyNavNode,{_getNodes:function(){return Array.prototype.slice.call(d.$container.querySelectorAll("["+d.config.event_attribute+"]"))},_modes:d.$keyboardNavigation.SchedulerNode.prototype._modes,getMode:d.$keyboardNavigation.SchedulerNode.prototype.getMode,_handlers:null,isValid:function(){return!(!d.getEvent(this.eventId)||!this.getNode())},fallback:function(){var m=this._getNodes()[0],p=null;if(m&&d._locate_event(m)){var o=d._locate_event(m);p=new d.$keyboardNavigation.Event(o)}else p=new d.$keyboardNavigation.TimeSlot;return p},isScrolledIntoView:function(m){var p=m.getBoundingClientRect(),o=d.$container.querySelector(".dhx_cal_data").getBoundingClientRect();return!(p.bottom<o.top||p.top>o.bottom)},getNode:function(){var m="["+d.config.event_attribute+"='"+this.eventId+"']",p=d.$keyboardNavigation.dispatcher.getInlineEditor(this.eventId);if(p)return p;if(d.isMultisectionEvent&&d.isMultisectionEvent(d.getEvent(this.eventId))){for(var o=d.$container.querySelectorAll(m),c=0;c<o.length;c++)if(this.isScrolledIntoView(o[c]))return o[c];return o[0]}return d.$container.querySelector(m)},focus:function(){var m=d.getEvent(this.eventId),p=d.getState();(m.start_date.valueOf()>p.max_date.valueOf()||m.end_date.valueOf()<=p.min_date.valueOf())&&d.setCurrentView(m.start_date);var o=this.getNode();this.isScrolledIntoView(o)?d.$keyboardNavigation.dispatcher.keepScrollPosition(function(){d.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this)}.bind(this)):d.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this)},blur:function(){d.$keyboardNavigation.KeyNavNode.prototype.blur.apply(this)},_getSection:function(m){var p=null,o=d.getState().mode;return d.matrix&&d.matrix[o]?p=m[d.matrix[d.getState().mode].y_property]:d._props&&d._props[o]&&(p=m[d._props[o].map_to]),p},_moveToSlot:function(m){var p=d.getEvent(this.eventId);if(p){var o=this._getSection(p),c=new d.$keyboardNavigation.TimeSlot(p.start_date,null,o);this.moveTo(c.nextSlot(c,m))}else this.moveTo(new d.$keyboardNavigation.TimeSlot)},keys:{left:function(){this._moveToSlot("left")},right:function(){this._moveToSlot("right")},down:function(){this.getMode()==this._modes.list?d.$keyboardNavigation.SchedulerNode.prototype.nextEventHandler():this._moveToSlot("down")},space:function(){var m=this.getNode();m&&m.click?m.click():this.moveTo(new d.$keyboardNavigation.TimeSlot)},up:function(){this.getMode()==this._modes.list?d.$keyboardNavigation.SchedulerNode.prototype.prevEventHandler():this._moveToSlot("up")},delete:function(){d.getEvent(this.eventId)?d._click.buttons.delete(this.eventId):this.moveTo(new d.$keyboardNavigation.TimeSlot)},enter:function(){d.getEvent(this.eventId)?d.showLightbox(this.eventId):this.moveTo(new d.$keyboardNavigation.TimeSlot)}}}),d.$keyboardNavigation.Event.prototype.bindAll(d.$keyboardNavigation.Event.prototype.keys)}(s),function(d){d.$keyboardNavigation.TimeSlot=function(m,p,o,c){var u=d.getState(),_=d.matrix&&d.matrix[u.mode];m||(m=this.getDefaultDate()),p||(p=_?d.date.add(m,_.x_step,_.x_unit):d.date.add(m,d.config.key_nav_step,"minute")),this.section=o||this._getDefaultSection(),this.start_date=new Date(m),this.end_date=new Date(p),this.movingDate=c||null},d.$keyboardNavigation.TimeSlot.prototype=d._compose(d.$keyboardNavigation.KeyNavNode,{_handlers:null,getDefaultDate:function(){var m,p=d.getState(),o=new Date(p.date);o.setSeconds(0),o.setMilliseconds(0);var c=new Date;c.setSeconds(0),c.setMilliseconds(0);var u=d.matrix&&d.matrix[p.mode],_=!1;if(o.valueOf()===c.valueOf()&&(_=!0),u)_?(u.x_unit==="day"?(c.setHours(0),c.setMinutes(0)):u.x_unit==="hour"&&c.setMinutes(0),m=c):m=d.date[u.name+"_start"](new Date(p.date)),m=this.findVisibleColumn(m);else if(m=new Date(d.getState().min_date),_&&(m=c),m=this.findVisibleColumn(m),_||m.setHours(d.config.first_hour),!d._table_view){var y=d.$container.querySelector(".dhx_cal_data");y.scrollTop&&m.setHours(d.config.first_hour+Math.ceil(y.scrollTop/d.config.hour_size_px))}return m},clone:function(m){return new d.$keyboardNavigation.TimeSlot(m.start_date,m.end_date,m.section,m.movingDate)},_getMultisectionView:function(){var m,p=d.getState();return d._props&&d._props[p.mode]?m=d._props[p.mode]:d.matrix&&d.matrix[p.mode]&&(m=d.matrix[p.mode]),m},_getDefaultSection:function(){var m=null;return this._getMultisectionView()&&!m&&(m=this._getNextSection()),m},_getNextSection:function(m,p){var o=this._getMultisectionView(),c=o.order[m],u=c;u=(u=c!==void 0?c+p:o.size&&o.position?o.position:0)<0?u=(o.options||o.y_unit).length-1:u;var _=o.options||o.y_unit;return _[u]?_[u].key:null},isValid:function(){var m=d.getState();if(this.start_date.valueOf()<m.min_date.valueOf()||this.start_date.valueOf()>=m.max_date.valueOf()||!this.isVisible(this.start_date,this.end_date))return!1;var p=this._getMultisectionView();return!p||p.order[this.section]!==void 0},fallback:function(){var m=new d.$keyboardNavigation.TimeSlot;return m.isValid()?m:new d.$keyboardNavigation.DataArea},getNodes:function(){return Array.prototype.slice.call(d.$container.querySelectorAll(".dhx_focus_slot"))},getNode:function(){return this.getNodes()[0]},focus:function(){d.$keyboardNavigation.marker.render(this.start_date,this.end_date,this.section),d.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this),d.$keyboardNavigation._pasteDate=this.start_date,d.$keyboardNavigation._pasteSection=this.section},blur:function(){d.$keyboardNavigation.KeyNavNode.prototype.blur.apply(this),d.$keyboardNavigation.marker.clear()},_modes:d.$keyboardNavigation.SchedulerNode.prototype._modes,_getMode:d.$keyboardNavigation.SchedulerNode.prototype.getMode,addMonthDate:function(m,p,o){var c;switch(p){case"up":c=d.date.add(m,-1,"week");break;case"down":c=d.date.add(m,1,"week");break;case"left":c=d.date.day_start(d.date.add(m,-1,"day")),c=this.findVisibleColumn(c,-1);break;case"right":c=d.date.day_start(d.date.add(m,1,"day")),c=this.findVisibleColumn(c,1);break;default:c=d.date.day_start(new Date(m))}var u=d.getState();return(m.valueOf()<u.min_date.valueOf()||!o&&m.valueOf()>=u.max_date.valueOf())&&(c=new Date(u.min_date)),c},nextMonthSlot:function(m,p,o){var c,u;return(c=this.addMonthDate(m.start_date,p,o)).setHours(d.config.first_hour),(u=new Date(c)).setHours(d.config.last_hour),{start_date:c,end_date:u}},_alignTimeSlot:function(m,p,o,c){for(var u=new Date(p);u.valueOf()<m.valueOf();)u=d.date.add(u,c,o);return u.valueOf()>m.valueOf()&&(u=d.date.add(u,-c,o)),u},nextTimelineSlot:function(m,p,o){var c=d.getState(),u=d.matrix[c.mode],_=this._alignTimeSlot(m.start_date,d.date[u.name+"_start"](new Date(m.start_date)),u.x_unit,u.x_step),y=this._alignTimeSlot(m.end_date,d.date[u.name+"_start"](new Date(m.end_date)),u.x_unit,u.x_step);y.valueOf()<=_.valueOf()&&(y=d.date.add(_,u.x_step,u.x_unit));var x=this.clone(m);switch(x.start_date=_,x.end_date=y,x.section=m.section||this._getNextSection(),p){case"up":x.section=this._getNextSection(m.section,-1);break;case"down":x.section=this._getNextSection(m.section,1);break;case"left":x.start_date=this.findVisibleColumn(d.date.add(x.start_date,-u.x_step,u.x_unit),-1),x.end_date=d.date.add(x.start_date,u.x_step,u.x_unit);break;case"right":x.start_date=this.findVisibleColumn(d.date.add(x.start_date,u.x_step,u.x_unit),1),x.end_date=d.date.add(x.start_date,u.x_step,u.x_unit)}return(x.start_date.valueOf()<c.min_date.valueOf()||x.start_date.valueOf()>=c.max_date.valueOf())&&(o&&x.start_date.valueOf()>=c.max_date.valueOf()?x.start_date=new Date(c.max_date):(x.start_date=d.date[c.mode+"_start"](d.date.add(c.date,p=="left"?-1:1,c.mode)),x.end_date=d.date.add(x.start_date,u.x_step,u.x_unit))),x},nextUnitsSlot:function(m,p,o){var c=this.clone(m);c.section=m.section||this._getNextSection();var u=m.section||this._getNextSection(),_=d.getState(),y=d._props[_.mode];switch(p){case"left":u=this._getNextSection(m.section,-1);var x=y.size?y.size-1:y.options.length;y.days>1&&y.order[u]==x-1&&d.date.add(m.start_date,-1,"day").valueOf()>=_.min_date.valueOf()&&(c=this.nextDaySlot(m,p,o));break;case"right":u=this._getNextSection(m.section,1),y.days>1&&!y.order[u]&&d.date.add(m.start_date,1,"day").valueOf()<_.max_date.valueOf()&&(c=this.nextDaySlot(m,p,o));break;default:c=this.nextDaySlot(m,p,o),u=m.section}return c.section=u,c},_moveDate:function(m,p){var o=this.findVisibleColumn(d.date.add(m,p,"day"),p);return o.setHours(m.getHours()),o.setMinutes(m.getMinutes()),o},isBeforeLastHour:function(m,p){var o=m.getMinutes(),c=m.getHours(),u=d.config.last_hour;return c<u||!p&&(u==24||c==u)&&!o},isAfterFirstHour:function(m,p){var o=m.getMinutes(),c=m.getHours(),u=d.config.first_hour,_=d.config.last_hour;return c>=u||!p&&!o&&(!c&&_==24||c==_)},isInVisibleDayTime:function(m,p){return this.isBeforeLastHour(m,p)&&this.isAfterFirstHour(m,p)},nextDaySlot:function(m,p,o){var c,u,_=d.config.key_nav_step,y=this._alignTimeSlot(m.start_date,d.date.day_start(new Date(m.start_date)),"minute",_),x=m.start_date;switch(p){case"up":if(c=d.date.add(y,-_,"minute"),!this.isInVisibleDayTime(c,!0)&&(!o||this.isInVisibleDayTime(x,!0))){var v=!0;o&&d.date.date_part(new Date(c)).valueOf()!=d.date.date_part(new Date(x)).valueOf()&&(v=!1),v&&(c=this.findVisibleColumn(d.date.add(m.start_date,-1,"day"),-1)),c.setHours(d.config.last_hour),c.setMinutes(0),c=d.date.add(c,-_,"minute")}u=d.date.add(c,_,"minute");break;case"down":c=d.date.add(y,_,"minute");var S=o?c:d.date.add(c,_,"minute");this.isInVisibleDayTime(S,!1)||o&&!this.isInVisibleDayTime(x,!1)||(o?(v=!0,d.date.date_part(new Date(x)).valueOf()==x.valueOf()&&(v=!1),v&&(c=this.findVisibleColumn(d.date.add(m.start_date,1,"day"),1)),c.setHours(d.config.first_hour),c.setMinutes(0),c=d.date.add(c,_,"minute")):((c=this.findVisibleColumn(d.date.add(m.start_date,1,"day"),1)).setHours(d.config.first_hour),c.setMinutes(0))),u=d.date.add(c,_,"minute");break;case"left":c=this._moveDate(m.start_date,-1),u=this._moveDate(m.end_date,-1);break;case"right":c=this._moveDate(m.start_date,1),u=this._moveDate(m.end_date,1);break;default:c=y,u=d.date.add(c,_,"minute")}return{start_date:c,end_date:u}},nextWeekAgendaSlot:function(m,p){var o,c,u=d.getState();switch(p){case"down":case"left":o=d.date.day_start(d.date.add(m.start_date,-1,"day")),o=this.findVisibleColumn(o,-1);break;case"up":case"right":o=d.date.day_start(d.date.add(m.start_date,1,"day")),o=this.findVisibleColumn(o,1);break;default:o=d.date.day_start(m.start_date)}return(m.start_date.valueOf()<u.min_date.valueOf()||m.start_date.valueOf()>=u.max_date.valueOf())&&(o=new Date(u.min_date)),(c=new Date(o)).setHours(d.config.last_hour),{start_date:o,end_date:c}},nextAgendaSlot:function(m,p){return{start_date:m.start_date,end_date:m.end_date}},isDateVisible:function(m){if(!d._ignores_detected)return!0;var p,o=d.matrix&&d.matrix[d.getState().mode];return p=o?d._get_date_index(o,m):d.locate_holder_day(m),!d._ignores[p]},findVisibleColumn:function(m,p){var o=m;p=p||1;for(var c=d.getState();!this.isDateVisible(o)&&(p>0&&o.valueOf()<=c.max_date.valueOf()||p<0&&o.valueOf()>=c.min_date.valueOf());)o=this.nextDateColumn(o,p);return o},nextDateColumn:function(m,p){p=p||1;var o=d.matrix&&d.matrix[d.getState().mode];return o?d.date.add(m,p*o.x_step,o.x_unit):d.date.day_start(d.date.add(m,p,"day"))},isVisible:function(m,p){if(!d._ignores_detected)return!0;for(var o=new Date(m);o.valueOf()<p.valueOf();){if(this.isDateVisible(o))return!0;o=this.nextDateColumn(o)}return!1},nextSlot:function(m,p,o,c){var u;o=o||this._getMode();var _=d.$keyboardNavigation.TimeSlot.prototype.clone(m);switch(o){case this._modes.units:u=this.nextUnitsSlot(_,p,c);break;case this._modes.timeline:u=this.nextTimelineSlot(_,p,c);break;case this._modes.year:case this._modes.month:u=this.nextMonthSlot(_,p,c);break;case this._modes.weekAgenda:u=this.nextWeekAgendaSlot(_,p,c);break;case this._modes.list:u=this.nextAgendaSlot(_,p,c);break;case this._modes.dayColumns:u=this.nextDaySlot(_,p,c)}return u.start_date.valueOf()>=u.end_date.valueOf()&&(u=this.nextSlot(u,p,o)),d.$keyboardNavigation.TimeSlot.prototype.clone(u)},extendSlot:function(m,p){var o;switch(this._getMode()){case this._modes.units:o=p=="left"||p=="right"?this.nextUnitsSlot(m,p):this.extendUnitsSlot(m,p);break;case this._modes.timeline:o=p=="down"||p=="up"?this.nextTimelineSlot(m,p):this.extendTimelineSlot(m,p);break;case this._modes.year:case this._modes.month:o=this.extendMonthSlot(m,p);break;case this._modes.dayColumns:o=this.extendDaySlot(m,p);break;case this._modes.weekAgenda:o=this.extendWeekAgendaSlot(m,p);break;default:o=m}var c=d.getState();return o.start_date.valueOf()<c.min_date.valueOf()&&(o.start_date=this.findVisibleColumn(c.min_date),o.start_date.setHours(d.config.first_hour)),o.end_date.valueOf()>c.max_date.valueOf()&&(o.end_date=this.findVisibleColumn(c.max_date,-1)),d.$keyboardNavigation.TimeSlot.prototype.clone(o)},extendTimelineSlot:function(m,p){return this.extendGenericSlot({left:"start_date",right:"end_date"},m,p,"timeline")},extendWeekAgendaSlot:function(m,p){return this.extendGenericSlot({left:"start_date",right:"end_date"},m,p,"weekAgenda")},extendGenericSlot:function(m,p,o,c){var u,_=p.movingDate;if(_||(_=m[o]),!_||!m[o])return p;if(!o)return d.$keyboardNavigation.TimeSlot.prototype.clone(p);(u=this.nextSlot({start_date:p[_],section:p.section},o,c,!0)).start_date.valueOf()==p.start_date.valueOf()&&(u=this.nextSlot({start_date:u.start_date,section:u.section},o,c,!0)),u.movingDate=_;var y=this.extendSlotDates(p,u,u.movingDate);return y.end_date.valueOf()<=y.start_date.valueOf()&&(u.movingDate=u.movingDate=="end_date"?"start_date":"end_date"),y=this.extendSlotDates(p,u,u.movingDate),u.start_date=y.start_date,u.end_date=y.end_date,u},extendSlotDates:function(m,p,o){var c={start_date:null,end_date:null};return o=="start_date"?(c.start_date=p.start_date,c.end_date=m.end_date):(c.start_date=m.start_date,c.end_date=p.start_date),c},extendMonthSlot:function(m,p){return(m=this.extendGenericSlot({up:"start_date",down:"end_date",left:"start_date",right:"end_date"},m,p,"month")).start_date.setHours(d.config.first_hour),m.end_date=d.date.add(m.end_date,-1,"day"),m.end_date.setHours(d.config.last_hour),m},extendUnitsSlot:function(m,p){var o;switch(p){case"down":case"up":o=this.extendDaySlot(m,p);break;default:o=m}return o.section=m.section,o},extendDaySlot:function(m,p){return this.extendGenericSlot({up:"start_date",down:"end_date",left:"start_date",right:"end_date"},m,p,"dayColumns")},scrollSlot:function(m){var p=d.getState(),o=this.nextSlot(this,m);(o.start_date.valueOf()<p.min_date.valueOf()||o.start_date.valueOf()>=p.max_date.valueOf())&&d.setCurrentView(new Date(o.start_date)),this.moveTo(o)},keys:{left:function(){this.scrollSlot("left")},right:function(){this.scrollSlot("right")},down:function(){this._getMode()==this._modes.list?d.$keyboardNavigation.SchedulerNode.prototype.nextEventHandler():this.scrollSlot("down")},up:function(){this._getMode()==this._modes.list?d.$keyboardNavigation.SchedulerNode.prototype.prevEventHandler():this.scrollSlot("up")},"shift+down":function(){this.moveTo(this.extendSlot(this,"down"))},"shift+up":function(){this.moveTo(this.extendSlot(this,"up"))},"shift+right":function(){this.moveTo(this.extendSlot(this,"right"))},"shift+left":function(){this.moveTo(this.extendSlot(this,"left"))},enter:function(){var m={start_date:new Date(this.start_date),end_date:new Date(this.end_date)},p=d.getState().mode;d.matrix&&d.matrix[p]?m[d.matrix[d.getState().mode].y_property]=this.section:d._props&&d._props[p]&&(m[d._props[p].map_to]=this.section),d.addEventNow(m)}}}),d.$keyboardNavigation.TimeSlot.prototype.bindAll(d.$keyboardNavigation.TimeSlot.prototype.keys)}(s),function(d){d.$keyboardNavigation.MinicalButton=function(m,p){this.container=m,this.index=p||0},d.$keyboardNavigation.MinicalButton.prototype=d._compose(d.$keyboardNavigation.KeyNavNode,{isValid:function(){return!!this.container.offsetWidth},fallback:function(){var m=new d.$keyboardNavigation.TimeSlot;return m.isValid()?m:new d.$keyboardNavigation.DataArea},focus:function(){d.$keyboardNavigation.dispatcher.globalNode.disable(),this.container.removeAttribute("tabindex"),d.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this)},blur:function(){this.container.setAttribute("tabindex","0"),d.$keyboardNavigation.KeyNavNode.prototype.blur.apply(this)},getNode:function(){return this.index?this.container.querySelector(".dhx_cal_next_button"):this.container.querySelector(".dhx_cal_prev_button")},keys:{right:function(m){this.moveTo(new d.$keyboardNavigation.MinicalButton(this.container,this.index?0:1))},left:function(m){this.moveTo(new d.$keyboardNavigation.MinicalButton(this.container,this.index?0:1))},down:function(){var m=new d.$keyboardNavigation.MinicalCell(this.container,0,0);m&&!m.isValid()&&(m=m.fallback()),this.moveTo(m)},enter:function(m){this.getNode().click()}}}),d.$keyboardNavigation.MinicalButton.prototype.bindAll(d.$keyboardNavigation.MinicalButton.prototype.keys)}(s),function(d){d.$keyboardNavigation.MinicalCell=function(m,p,o){this.container=m,this.row=p||0,this.col=o||0},d.$keyboardNavigation.MinicalCell.prototype=d._compose(d.$keyboardNavigation.KeyNavNode,{isValid:function(){var m=this._getGrid();return!(!m[this.row]||!m[this.row][this.col])},fallback:function(){var m=this.row,p=this.col,o=this._getGrid();o[m]||(m=0);var c=!0;if(m>o.length/2&&(c=!1),!o[m]){var u=new d.$keyboardNavigation.TimeSlot;return u.isValid()?u:new d.$keyboardNavigation.DataArea}if(c){for(var _=p;o[m]&&_<o[m].length;_++)if(o[m][_]||_!=o[m].length-1||(m++,p=0),o[m][_])return new d.$keyboardNavigation.MinicalCell(this.container,m,_)}else for(_=p;o[m]&&_<o[m].length;_--)if(o[m][_]||_||(p=o[--m].length-1),o[m][_])return new d.$keyboardNavigation.MinicalCell(this.container,m,_);return new d.$keyboardNavigation.MinicalButton(this.container,0)},focus:function(){d.$keyboardNavigation.dispatcher.globalNode.disable(),this.container.removeAttribute("tabindex"),d.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this)},blur:function(){this.container.setAttribute("tabindex","0"),d.$keyboardNavigation.KeyNavNode.prototype.blur.apply(this)},_getNode:function(m,p){return this.container.querySelector(".dhx_year_body tr:nth-child("+(m+1)+") td:nth-child("+(p+1)+")")},getNode:function(){return this._getNode(this.row,this.col)},_getGrid:function(){for(var m=this.container.querySelectorAll(".dhx_year_body tr"),p=[],o=0;o<m.length;o++){p[o]=[];for(var c=m[o].querySelectorAll("td"),u=0;u<c.length;u++){var _=c[u],y=!0,x=d._getClassName(_);(x.indexOf("dhx_after")>-1||x.indexOf("dhx_before")>-1||x.indexOf("dhx_scale_ignore")>-1)&&(y=!1),p[o][u]=y}}return p},keys:{right:function(m){var p=this._getGrid(),o=this.row,c=this.col+1;p[o]&&p[o][c]||(p[o+1]?(o+=1,c=0):c=this.col);var u=new d.$keyboardNavigation.MinicalCell(this.container,o,c);u.isValid()||(u=u.fallback()),this.moveTo(u)},left:function(m){var p=this._getGrid(),o=this.row,c=this.col-1;p[o]&&p[o][c]||(c=p[o-1]?p[o-=1].length-1:this.col);var u=new d.$keyboardNavigation.MinicalCell(this.container,o,c);u.isValid()||(u=u.fallback()),this.moveTo(u)},down:function(){var m=this._getGrid(),p=this.row+1,o=this.col;m[p]&&m[p][o]||(p=this.row);var c=new d.$keyboardNavigation.MinicalCell(this.container,p,o);c.isValid()||(c=c.fallback()),this.moveTo(c)},up:function(){var m=this._getGrid(),p=this.row-1,o=this.col;if(m[p]&&m[p][o]){var c=new d.$keyboardNavigation.MinicalCell(this.container,p,o);c.isValid()||(c=c.fallback()),this.moveTo(c)}else{var u=0;this.col>m[this.row].length/2&&(u=1),this.moveTo(new d.$keyboardNavigation.MinicalButton(this.container,u))}},enter:function(m){this.getNode().querySelector(".dhx_month_head").click()}}}),d.$keyboardNavigation.MinicalCell.prototype.bindAll(d.$keyboardNavigation.MinicalCell.prototype.keys)}(s),function(d){d.$keyboardNavigation.DataArea=function(m){this.index=m||0},d.$keyboardNavigation.DataArea.prototype=d._compose(d.$keyboardNavigation.KeyNavNode,{getNode:function(m){return d.$container.querySelector(".dhx_cal_data")},_handlers:null,isValid:function(){return!0},fallback:function(){return this},keys:{"up,down,right,left":function(){this.moveTo(new d.$keyboardNavigation.TimeSlot)}}}),d.$keyboardNavigation.DataArea.prototype.bindAll(d.$keyboardNavigation.DataArea.prototype.keys)}(s),IC(s),function(d){d.$keyboardNavigation.dispatcher={isActive:!1,activeNode:null,globalNode:new d.$keyboardNavigation.SchedulerNode,keepScrollPosition:function(m){var p,o,c=d.$container.querySelector(".dhx_timeline_scrollable_data");c||(c=d.$container.querySelector(".dhx_cal_data")),c&&(p=c.scrollTop,o=c.scrollLeft),m(),c&&(c.scrollTop=p,c.scrollLeft=o)},enable:function(){if(d.$container){this.isActive=!0;var m=this;this.keepScrollPosition(function(){m.globalNode.enable(),m.setActiveNode(m.getActiveNode())})}},disable:function(){this.isActive=!1,this.globalNode.disable()},isEnabled:function(){return!!this.isActive},getDefaultNode:function(){return this.globalNode.getDefaultNode()},setDefaultNode:function(){this.setActiveNode(this.getDefaultNode())},getActiveNode:function(){var m=this.activeNode;return m&&!m.isValid()&&(m=m.fallback()),m},focusGlobalNode:function(){this.blurNode(this.globalNode),this.focusNode(this.globalNode)},setActiveNode:function(m){m&&m.isValid()&&(this.activeNode&&this.activeNode.compareTo(m)||this.isEnabled()&&(this.blurNode(this.activeNode),this.activeNode=m,this.focusNode(this.activeNode)))},focusNode:function(m){m&&m.focus&&(m.focus(),m.getNode&&document.activeElement!=m.getNode()&&this.setActiveNode(new d.$keyboardNavigation.DataArea))},blurNode:function(m){m&&m.blur&&m.blur()},getInlineEditor:function(m){var p=d.$container.querySelector(".dhx_cal_editor["+d.config.event_attribute+"='"+m+"'] textarea");return p&&p.offsetWidth?p:null},keyDownHandler:function(m){if(!m.defaultPrevented){var p=this.getActiveNode();if((!d.$keyboardNavigation.isModal()||p&&p.container&&d.utils.dom.locateCss({target:p.container},"dhx_minical_popup",!1))&&(!d.getState().editor_id||!this.getInlineEditor(d.getState().editor_id))&&this.isEnabled()){m=m||window.event;var o=this.globalNode,c=d.$keyboardNavigation.shortcuts.getCommandFromEvent(m);p?p.findHandler(c)?p.doAction(c,m):o.findHandler(c)&&o.doAction(c,m):this.setDefaultNode()}}},_timeout:null,delay:function(m,p){clearTimeout(this._timeout),this._timeout=setTimeout(m,p||1)}}}(s),OC(s),function(){MC(s),function(c){c.$keyboardNavigation._minicalendars=[],c.$keyboardNavigation.isMinical=function(u){for(var _=c.$keyboardNavigation._minicalendars,y=0;y<_.length;y++)if(this.isChildOf(u,_[y]))return!0;return!1},c.$keyboardNavigation.isChildOf=function(u,_){for(;u&&u!==_;)u=u.parentNode;return u===_},c.$keyboardNavigation.patchMinicalendar=function(){var u=c.$keyboardNavigation.dispatcher;function _(S){var b=S.target;u.enable(),u.setActiveNode(new c.$keyboardNavigation.MinicalButton(b,0))}function y(S){var b=S.target||S.srcElement,k=c.utils.dom.locateCss(S,"dhx_cal_prev_button",!1),D=c.utils.dom.locateCss(S,"dhx_cal_next_button",!1),M=c.utils.dom.locateCss(S,"dhx_year_body",!1),V=0,U=0;if(M){for(var q,Q,re=b;re&&re.tagName.toLowerCase()!="td";)re=re.parentNode;if(re&&(q=(Q=re).parentNode),q&&Q){for(var K=q.parentNode.querySelectorAll("tr"),ie=0;ie<K.length;ie++)if(K[ie]==q){V=ie;break}var G=q.querySelectorAll("td");for(ie=0;ie<G.length;ie++)if(G[ie]==Q){U=ie;break}}}var ne=S.currentTarget;u.delay(function(){var J;(k||D||M)&&(k?(J=new c.$keyboardNavigation.MinicalButton(ne,0),u.setActiveNode(new c.$keyboardNavigation.MinicalButton(ne,0))):D?J=new c.$keyboardNavigation.MinicalButton(ne,1):M&&(J=new c.$keyboardNavigation.MinicalCell(ne,V,U)),J&&(u.enable(),J.isValid()&&(u.activeNode=null,u.setActiveNode(J))))})}if(c.renderCalendar){var x=c.renderCalendar;c.renderCalendar=function(){var S=x.apply(this,arguments),b=c.$keyboardNavigation._minicalendars;c.eventRemove(S,"click",y),c.event(S,"click",y),c.eventRemove(S,"focus",_),c.event(S,"focus",_);for(var k=!1,D=0;D<b.length;D++)if(b[D]==S){k=!0;break}if(k||b.push(S),u.isEnabled()){var M=u.getActiveNode();M&&M.container==S?u.focusNode(M):S.setAttribute("tabindex","0")}else S.setAttribute("tabindex","0");return S}}if(c.destroyCalendar){var v=c.destroyCalendar;c.destroyCalendar=function(S,b){S=S||(c._def_count?c._def_count.firstChild:null);var k=v.apply(this,arguments);if(!S||!S.parentNode)for(var D=c.$keyboardNavigation._minicalendars,M=0;M<D.length;M++)D[M]==S&&(c.eventRemove(D[M],"focus",_),D.splice(M,1),M--);return k}}}}(s);var d=s.$keyboardNavigation.dispatcher;if(s.$keyboardNavigation.attachSchedulerHandlers(),s.renderCalendar)s.$keyboardNavigation.patchMinicalendar();else var m=s.attachEvent("onSchedulerReady",function(){s.detachEvent(m),s.$keyboardNavigation.patchMinicalendar()});function p(){if(s.config.key_nav){var c=document.activeElement;return!(!c||s.utils.dom.locateCss(c,"dhx_cal_quick_info",!1))&&(s.$keyboardNavigation.isChildOf(c,s.$container)||s.$keyboardNavigation.isMinical(c))}}function o(c){c&&!d.isEnabled()?d.enable():!c&&d.isEnabled()&&d.disable()}setInterval(function(){if(s.$container&&s.$keyboardNavigation.isChildOf(s.$container,document.body)){var c=p();c?o(c):!c&&d.isEnabled()&&setTimeout(function(){s.config.key_nav?o(p()):s.$container.removeAttribute("tabindex")},100)}},500)}()},layer:function(s){s.attachEvent("onTemplatesReady",function(){this.layers.sort(function(d,m){return d.zIndex-m.zIndex}),s._dp_init=function(d){d._methods=["_set_event_text_style","","changeEventId","deleteEvent"],this.attachEvent("onEventAdded",function(m){!this._loading&&this.validId(m)&&this.getEvent(m)&&this.getEvent(m).layer==d.layer&&d.setUpdated(m,!0,"inserted")}),this.attachEvent("onBeforeEventDelete",function(m){if(this.getEvent(m)&&this.getEvent(m).layer==d.layer){if(!this.validId(m))return;var p=d.getState(m);return p=="inserted"||this._new_event?(d.setUpdated(m,!1),!0):p!="deleted"&&(p=="true_deleted"||(d.setUpdated(m,!0,"deleted"),!1))}return!0}),this.attachEvent("onEventChanged",function(m){!this._loading&&this.validId(m)&&this.getEvent(m)&&this.getEvent(m).layer==d.layer&&d.setUpdated(m,!0,"updated")}),d._getRowData=function(m,p){var o=this.obj.getEvent(m),c={};for(var u in o)u.indexOf("_")!==0&&(o[u]&&o[u].getUTCFullYear?c[u]=this.obj._helpers.formatDate(o[u]):c[u]=o[u]);return c},d._clearUpdateFlag=function(){},d.attachEvent("insertCallback",s._update_callback),d.attachEvent("updateCallback",s._update_callback),d.attachEvent("deleteCallback",function(m,p){this.obj.setUserData(p,this.action_param,"true_deleted"),this.obj.deleteEvent(p)})},function(){var d=function o(c){if(c===null||jc(c)!="object")return c;var u=new c.constructor;for(var _ in c)u[_]=o(c[_]);return u};s._dataprocessors=[],s._layers_zindex={};for(var m=0;m<s.layers.length;m++){if(s.config["lightbox_"+s.layers[m].name]={},s.config["lightbox_"+s.layers[m].name].sections=d(s.config.lightbox.sections),s._layers_zindex[s.layers[m].name]=s.config.initial_layer_zindex||5+3*m,s.layers[m].url){var p=s.createDataProcessor({url:s.layers[m].url});p.layer=s.layers[m].name,s._dataprocessors.push(p),s._dataprocessors[m].init(s)}s.layers[m].isDefault&&(s.defaultLayer=s.layers[m].name)}}(),s.showLayer=function(d){this.toggleLayer(d,!0)},s.hideLayer=function(d){this.toggleLayer(d,!1)},s.toggleLayer=function(d,m){var p=this.getLayer(d);p.visible=m!==void 0?!!m:!p.visible,this.setCurrentView(this._date,this._mode)},s.getLayer=function(d){var m,p;typeof d=="string"&&(p=d),jc(d)=="object"&&(p=d.layer);for(var o=0;o<s.layers.length;o++)s.layers[o].name==p&&(m=s.layers[o]);return m},s.attachEvent("onBeforeLightbox",function(d){var m=this.getEvent(d);return this.config.lightbox.sections=this.config["lightbox_"+m.layer].sections,s.resetLightbox(),!0}),s.attachEvent("onClick",function(d,m){var p=s.getEvent(d);return!s.getLayer(p.layer).noMenu}),s.attachEvent("onEventCollision",function(d,m){var p=this.getLayer(d);if(!p.checkCollision)return!1;for(var o=0,c=0;c<m.length;c++)m[c].layer==p.name&&m[c].id!=d.id&&o++;return o>=s.config.collision_limit}),s.addEvent=function(d,m,p,o,c){var u=d;arguments.length!=1&&((u=c||{}).start_date=d,u.end_date=m,u.text=p,u.id=o,u.layer=this.defaultLayer),u.id=u.id||s.uid(),u.text=u.text||"",typeof u.start_date=="string"&&(u.start_date=this.templates.api_date(u.start_date)),typeof u.end_date=="string"&&(u.end_date=this.templates.api_date(u.end_date)),u._timed=this.isOneDayEvent(u);var _=!this._events[u.id];this._events[u.id]=u,this.event_updated(u),this._loading||this.callEvent(_?"onEventAdded":"onEventChanged",[u.id,u])},this._evs_layer={};for(var w=0;w<this.layers.length;w++)this._evs_layer[this.layers[w].name]=[];s.addEventNow=function(d,m,p){var o={};jc(d)=="object"&&(o=d,d=null);var c=6e4*(this.config.event_duration||this.config.time_step);d||(d=Math.round(s._currentDate().valueOf()/c)*c);var u=new Date(d);if(!m){var _=this.config.first_hour;_>u.getHours()&&(u.setHours(_),d=u.valueOf()),m=d+c}o.start_date=o.start_date||u,o.end_date=o.end_date||new Date(m),o.text=o.text||this.locale.labels.new_event,o.id=this._drag_id=this.uid(),o.layer=this.defaultLayer,this._drag_mode="new-size",this._loading=!0,this.addEvent(o),this.callEvent("onEventCreated",[this._drag_id,p]),this._loading=!1,this._drag_event={},this._on_mouse_up(p)},s._t_render_view_data=function(d){if(this.config.multi_day&&!this._table_view){for(var m=[],p=[],o=0;o<d.length;o++)d[o]._timed?m.push(d[o]):p.push(d[o]);this._table_view=!0,this.render_data(p),this._table_view=!1,this.render_data(m)}else this.render_data(d)},s.render_view_data=function(){if(this._not_render)this._render_wait=!0;else{this._render_wait=!1,this.clear_view(),this._evs_layer={};for(var d=0;d<this.layers.length;d++)this._evs_layer[this.layers[d].name]=[];var m=this.get_visible_events();for(d=0;d<m.length;d++)this._evs_layer[m[d].layer]&&this._evs_layer[m[d].layer].push(m[d]);if(this._mode=="month"){var p=[];for(d=0;d<this.layers.length;d++)this.layers[d].visible&&(p=p.concat(this._evs_layer[this.layers[d].name]));this._t_render_view_data(p)}else for(d=0;d<this.layers.length;d++)if(this.layers[d].visible){var o=this._evs_layer[this.layers[d].name];this._t_render_view_data(o)}}},s._render_v_bar=function(d,m,p,o,c,u,_,y,x){var v=d.id;_.indexOf("<div class=")==-1&&(_=s.templates["event_header_"+d.layer]?s.templates["event_header_"+d.layer](d.start_date,d.end_date,d):_),y.indexOf("<div class=")==-1&&(y=s.templates["event_text_"+d.layer]?s.templates["event_text_"+d.layer](d.start_date,d.end_date,d):y);var S=document.createElement("div"),b="dhx_cal_event",k=s.templates["event_class_"+d.layer]?s.templates["event_class_"+d.layer](d.start_date,d.end_date,d):s.templates.event_class(d.start_date,d.end_date,d);k&&(b=b+" "+k);var D=s._border_box_events(),M=o-2,V=D?M:o-4,U=D?M:o-6,q=D?M:o-(this._quirks?4:14),Q=D?M-2:o-8,re=D?c-this.xy.event_header_height:c-(this._quirks?20:30)+1,K='<div event_id="'+v+'" '+s.config.event_attribute+'="'+v+'" class="'+b+'" style="position:absolute; top:'+p+"px; left:"+m+"px; width:"+V+"px; height:"+c+"px;"+(u||"")+'">';return K+='<div class="dhx_header" style=" width:'+U+'px;" >&nbsp;</div>',K+='<div class="dhx_title">'+_+"</div>",K+='<div class="dhx_body" style=" width:'+q+"px; height:"+re+'px;">'+y+"</div>",K+='<div class="dhx_footer" style=" width:'+Q+"px;"+(x?" margin-top:-1px;":"")+'" ></div></div>',S.innerHTML=K,S.style.zIndex=100,S.firstChild},s.render_event_bar=function(d){var m=this._els.dhx_cal_data[0],p=this._colsS[d._sday],o=this._colsS[d._eday];o==p&&(o=this._colsS[d._eday+1]);var c=this.xy.bar_height,u=this._colsS.heights[d._sweek]+(this._colsS.height?this.xy.month_scale_height+2:2)+d._sorder*c,_=document.createElement("div"),y=d._timed?"dhx_cal_event_clear":"dhx_cal_event_line",x=s.templates["event_class_"+d.layer]?s.templates["event_class_"+d.layer](d.start_date,d.end_date,d):s.templates.event_class(d.start_date,d.end_date,d);x&&(y=y+" "+x);var v='<div event_id="'+d.id+'" '+this.config.event_attribute+'="'+d.id+'" class="'+y+'" style="position:absolute; top:'+u+"px; left:"+p+"px; width:"+(o-p-15)+"px;"+(d._text_style||"")+'">';d._timed&&(v+=s.templates["event_bar_date_"+d.layer]?s.templates["event_bar_date_"+d.layer](d.start_date,d.end_date,d):s.templates.event_bar_date(d.start_date,d.end_date,d)),v+=s.templates["event_bar_text_"+d.layer]?s.templates["event_bar_text_"+d.layer](d.start_date,d.end_date,d):s.templates.event_bar_text(d.start_date,d.end_date,d)+"</div>)",v+="</div>",_.innerHTML=v,this._rendered.push(_.firstChild),m.appendChild(_.firstChild)},s.render_event=function(d){var m=s.xy.menu_width;if(s.getLayer(d.layer).noMenu&&(m=0),!(d._sday<0)){var p=s.locate_holder(d._sday);if(p){var o=60*d.start_date.getHours()+d.start_date.getMinutes(),c=60*d.end_date.getHours()+d.end_date.getMinutes()||60*s.config.last_hour,u=Math.round((60*o*1e3-60*this.config.first_hour*60*1e3)*this.config.hour_size_px/36e5)%(24*this.config.hour_size_px)+1,_=Math.max(s.xy.min_event_height,(c-o)*this.config.hour_size_px/60)+1,y=Math.floor((p.clientWidth-m)/d._count),x=d._sorder*y+1;d._inner||(y*=d._count-d._sorder);var v=this._render_v_bar(d.id,m+x,u,y,_,d._text_style,s.templates.event_header(d.start_date,d.end_date,d),s.templates.event_text(d.start_date,d.end_date,d));if(this._rendered.push(v),p.appendChild(v),x=x+parseInt(p.style.left,10)+m,u+=this._dy_shift,v.style.zIndex=this._layers_zindex[d.layer],this._edit_id==d.id){v.style.zIndex=parseInt(v.style.zIndex)+1;var S=v.style.zIndex;y=Math.max(y-4,s.xy.editor_width),(v=document.createElement("div")).setAttribute("event_id",d.id),v.setAttribute(this.config.event_attribute,d.id),this.set_xy(v,y,_-20,x,u+14),v.className="dhx_cal_editor",v.style.zIndex=S;var b=document.createElement("div");this.set_xy(b,y-6,_-26),b.style.cssText+=";margin:2px 2px 2px 2px;overflow:hidden;",b.style.zIndex=S,v.appendChild(b),this._els.dhx_cal_data[0].appendChild(v),this._rendered.push(v),b.innerHTML="<textarea class='dhx_cal_editor'>"+d.text+"</textarea>",this._quirks7&&(b.firstChild.style.height=_-12+"px"),this._editor=b.firstChild,this._editor.addEventListener("keypress",function(U){if(U.shiftKey)return!0;var q=U.keyCode;q==s.keys.edit_save&&s.editStop(!0),q==s.keys.edit_cancel&&s.editStop(!1)}),this._editor.addEventListener("selectstart",function(U){return U.cancelBubble=!0,!0}),b.firstChild.focus(),this._els.dhx_cal_data[0].scrollLeft=0,b.firstChild.select()}if(this._select_id==d.id){v.style.zIndex=parseInt(v.style.zIndex)+1;for(var k=this.config["icons_"+(this._edit_id==d.id?"edit":"select")],D="",M=0;M<k.length;M++)D+="<div class='dhx_menu_icon "+k[M]+"' title='"+this.locale.labels[k[M]]+"'></div>";var V=this._render_v_bar(d.id,x-m+1,u,m,20*k.length+26,"","<div class='dhx_menu_head'></div>",D,!0);V.style.left=x-m+1,V.style.zIndex=v.style.zIndex,this._els.dhx_cal_data[0].appendChild(V),this._rendered.push(V)}}}},s.filter_agenda=function(d,m){var p=s.getLayer(m.layer);return p&&p.visible}})},limit:function(s){s.config.limit_start=null,s.config.limit_end=null,s.config.limit_view=!1,s.config.check_limits=!0,s.config.mark_now=!0,s.config.display_marked_timespans=!0,s.config.overwrite_marked_timespans=!0,s._temp_limit_scope=function(){var w=null,d=function(o,c,u){var _=Vh(o)=="object"?o:{days:o};return _.type="dhx_time_block",_.css="",c&&(u&&(_.sections=u),_=function(y,x,v){return x instanceof Date&&v instanceof Date?(y.start_date=x,y.end_date=v):(y.days=x,y.zones=v),y}(_,o,c)),_};s.blockTime=function(o,c,u){var _=d(o,c,u);return s.addMarkedTimespan(_)},s.unblockTime=function(o,c,u){var _=d(o,c=c||"fullday",u);return s.deleteMarkedTimespan(_)},s.attachEvent("onBeforeViewChange",function(o,c,u,_){function y(x,v){var S=s.config.limit_start,b=s.config.limit_end,k=s.date.add(x,1,v);return x.valueOf()>b.valueOf()||k<=S.valueOf()}return!s.config.limit_view||!y(_=_||c,u=u||o)||c.valueOf()==_.valueOf()||(setTimeout(function(){var x=y(c,u)?s.config.limit_start:c;s.setCurrentView(y(x,u)?null:x,u)},1),!1)}),s.checkInMarkedTimespan=function(o,c,u){c=c||"default";for(var _=!0,y=new Date(o.start_date.valueOf()),x=s.date.add(y,1,"day"),v=s._marked_timespans;y<o.end_date;y=s.date.date_part(x),x=s.date.add(y,1,"day")){var S=+s.date.date_part(new Date(y)),b=p(o,v,y.getDay(),S,c);if(b)for(var k=0;k<b.length;k+=2){var D=s._get_zone_minutes(y),M=o.end_date>x||o.end_date.getDate()!=y.getDate()?1440:s._get_zone_minutes(o.end_date),V=b[k],U=b[k+1];if(V<M&&U>D&&!(_=typeof u=="function"&&u(o,D,M,V,U)))break}}return!_};var m=s.checkLimitViolation=function(o){if(!o||!s.config.check_limits)return!0;var c=s,u=c.config,_=[];if(o.rec_type)for(var y=s.getRecDates(o),x=0;x<y.length;x++){var v=s._copy_event(o);s._lame_copy(v,y[x]),_.push(v)}else _=[o];for(var S=!0,b=0;b<_.length;b++){var k=!0;(v=_[b])._timed=s.isOneDayEvent(v),(k=!u.limit_start||!u.limit_end||v.start_date.valueOf()>=u.limit_start.valueOf()&&v.end_date.valueOf()<=u.limit_end.valueOf())&&(k=!s.checkInMarkedTimespan(v,"dhx_time_block",function(D,M,V,U,q){var Q=!0;return M<=q&&M>=U&&((q==1440||V<=q)&&(Q=!1),D._timed&&c._drag_id&&c._drag_mode=="new-size"?(D.start_date.setHours(0),D.start_date.setMinutes(q)):Q=!1),(V>=U&&V<=q||M<U&&V>q)&&(D._timed&&c._drag_id&&c._drag_mode=="new-size"?(D.end_date.setHours(0),D.end_date.setMinutes(U)):Q=!1),Q})),k||(k=c.checkEvent("onLimitViolation")?c.callEvent("onLimitViolation",[v.id,v]):k),S=S&&k}return S||(c._drag_id=null,c._drag_mode=null),S};function p(o,c,u,_,y){var x=s,v=[],S={_props:"map_to",matrix:"y_property"};for(var b in S){var k=S[b];if(x[b])for(var D in x[b]){var M=x[b][D][k];o[M]&&(v=x._add_timespan_zones(v,s._get_blocked_zones(c[D],o[M],u,_,y)))}}return v=x._add_timespan_zones(v,s._get_blocked_zones(c,"global",u,_,y))}s._get_blocked_zones=function(o,c,u,_,y){var x=[];if(o&&o[c])for(var v=o[c],S=this._get_relevant_blocked_zones(u,_,v,y),b=0;b<S.length;b++)x=this._add_timespan_zones(x,S[b].zones);return x},s._get_relevant_blocked_zones=function(o,c,u,_){var y;return s.config.overwrite_marked_timespans?y=u[c]&&u[c][_]?u[c][_]:u[o]&&u[o][_]?u[o][_]:[]:(y=[],u[c]&&u[c][_]&&(y=y.concat(u[c][_])),u[o]&&u[o][_]&&(y=y.concat(u[o][_]))),y},s.attachEvent("onMouseDown",function(o){return o!="dhx_time_block"}),s.attachEvent("onBeforeDrag",function(o){return!o||m(s.getEvent(o))}),s.attachEvent("onClick",function(o,c){return m(s.getEvent(o))}),s.attachEvent("onBeforeLightbox",function(o){var c=s.getEvent(o);return w=[c.start_date,c.end_date],m(c)}),s.attachEvent("onEventSave",function(o,c,u){if(!c.start_date||!c.end_date){var _=s.getEvent(o);c.start_date=new Date(_.start_date),c.end_date=new Date(_.end_date)}if(c.rec_type){var y=s._lame_clone(c);return s._roll_back_dates(y),m(y)}return m(c)}),s.attachEvent("onEventAdded",function(o){if(!o)return!0;var c=s.getEvent(o);return!m(c)&&s.config.limit_start&&s.config.limit_end&&(c.start_date<s.config.limit_start&&(c.start_date=new Date(s.config.limit_start)),c.start_date.valueOf()>=s.config.limit_end.valueOf()&&(c.start_date=this.date.add(s.config.limit_end,-1,"day")),c.end_date<s.config.limit_start&&(c.end_date=new Date(s.config.limit_start)),c.end_date.valueOf()>=s.config.limit_end.valueOf()&&(c.end_date=this.date.add(s.config.limit_end,-1,"day")),c.start_date.valueOf()>=c.end_date.valueOf()&&(c.end_date=this.date.add(c.start_date,this.config.event_duration||this.config.time_step,"minute")),c._timed=this.isOneDayEvent(c)),!0}),s.attachEvent("onEventChanged",function(o){if(!o)return!0;var c=s.getEvent(o);if(!m(c)){if(!w)return!1;c.start_date=w[0],c.end_date=w[1],c._timed=this.isOneDayEvent(c)}return!0}),s.attachEvent("onBeforeEventChanged",function(o,c,u){return m(o)}),s.attachEvent("onBeforeEventCreated",function(o){var c=s.getActionData(o).date,u={_timed:!0,start_date:c,end_date:s.date.add(c,s.config.time_step,"minute")};return m(u)}),s.attachEvent("onViewChange",function(){s._mark_now()}),s.attachEvent("onAfterSchedulerResize",function(){return window.setTimeout(function(){s._mark_now()},1),!0}),s.attachEvent("onTemplatesReady",function(){s._mark_now_timer=window.setInterval(function(){s._is_initialized()&&s._mark_now()},6e4)}),s._mark_now=function(o){this._els.dhx_now_time||(this._els.dhx_now_time=[]);var c=s._currentDate(),u=this.config;if(s._remove_mark_now(),!o&&u.mark_now&&c<this._max_date&&c>this._min_date&&c.getHours()>=u.first_hour&&c.getHours()<u.last_hour){var _=this.locate_holder_day(c);this._els.dhx_now_time=s._append_mark_now(_,c)}},s._append_mark_now=function(o,c){var u=s._get_zone_minutes(c),_={zones:[u,u+1],css:"dhx_now_time",type:"dhx_now_time"};if(!this._table_view){if(this._props&&this._props[this._mode]){var y,x,v=this._props[this._mode],S=v.size||v.options.length;v.days>1?(v.size&&v.options.length&&(o=(v.position+o)/v.options.length*v.size),y=o,x=o+S):x=(y=0)+S;for(var b=[],k=y;k<x;k++){var D=k;_.days=D;var M=s._render_marked_timespan(_,null,D)[0];b.push(M)}return b}return _.days=o,s._render_marked_timespan(_,null,o)}if(this._mode=="month")return _.days=+s.date.date_part(c),s._render_marked_timespan(_,null,null)},s._remove_mark_now=function(){for(var o=this._els.dhx_now_time,c=0;c<o.length;c++){var u=o[c],_=u.parentNode;_&&_.removeChild(u)}this._els.dhx_now_time=[]},s._marked_timespans={global:{}},s._get_zone_minutes=function(o){return 60*o.getHours()+o.getMinutes()},s._prepare_timespan_options=function(o){var c=[],u=[];if(o.days=="fullweek"&&(o.days=[0,1,2,3,4,5,6]),o.days instanceof Array){for(var _=o.days.slice(),y=0;y<_.length;y++){var x=s._lame_clone(o);x.days=_[y],c.push.apply(c,s._prepare_timespan_options(x))}return c}if(!o||!(o.start_date&&o.end_date&&o.end_date>o.start_date||o.days!==void 0&&o.zones)&&!o.type)return c;o.zones=="fullday"&&(o.zones=[0,1440]),o.zones&&o.invert_zones&&(o.zones=s.invertZones(o.zones)),o.id=s.uid(),o.css=o.css||"",o.type=o.type||"default";var v=o.sections;if(v){for(var S in v)if(v.hasOwnProperty(S)){var b=v[S];for(b instanceof Array||(b=[b]),y=0;y<b.length;y++)(Q=s._lame_copy({},o)).sections={},Q.sections[S]=b[y],u.push(Q)}}else u.push(o);for(var k=0;k<u.length;k++){var D=u[k],M=D.start_date,V=D.end_date;if(M&&V)for(var U=s.date.date_part(new Date(M)),q=s.date.add(U,1,"day");U<V;){var Q;delete(Q=s._lame_copy({},D)).start_date,delete Q.end_date,Q.days=U.valueOf();var re=M>U?s._get_zone_minutes(M):0,K=V>q||V.getDate()!=U.getDate()?1440:s._get_zone_minutes(V);Q.zones=[re,K],c.push(Q),U=q,q=s.date.add(q,1,"day")}else D.days instanceof Date&&(D.days=s.date.date_part(D.days).valueOf()),D.zones=o.zones.slice(),c.push(D)}return c},s._get_dates_by_index=function(o,c,u){var _=[];c=s.date.date_part(new Date(c||s._min_date)),u=new Date(u||s._max_date);for(var y=c.getDay(),x=o-y>=0?o-y:7-c.getDay()+o,v=s.date.add(c,x,"day");v<u;v=s.date.add(v,1,"week"))_.push(v);return _},s._get_css_classes_by_config=function(o){var c=[];return o.type=="dhx_time_block"&&(c.push("dhx_time_block"),o.css&&c.push("dhx_time_block_reset")),c.push("dhx_marked_timespan",o.css),c.join(" ")},s._get_block_by_config=function(o){var c=document.createElement("div");return o.html&&(typeof o.html=="string"?c.innerHTML=o.html:c.appendChild(o.html)),c},s._render_marked_timespan=function(o,c,u){var _=[],y=s.config,x=this._min_date,v=this._max_date,S=!1;if(!y.display_marked_timespans)return _;if(!u&&u!==0){if(o.days<7)u=o.days;else{var b=new Date(o.days);if(S=+b,!(+v>+b&&+x<=+b))return _;u=b.getDay()}var k=x.getDay();k>u?u=7-(k-u):u-=k}var D=o.zones,M=s._get_css_classes_by_config(o);if(s._table_view&&s._mode=="month"){var V=[],U=[];if(c)V.push(c),U.push(u);else{U=S?[S]:s._get_dates_by_index(u);for(var q=0;q<U.length;q++)V.push(this._scales[U[q]])}for(q=0;q<V.length;q++){c=V[q],u=U[q];var Q=Math.floor((this._correct_shift(u,1)-x.valueOf())/(864e5*this._cols.length)),re=this.locate_holder_day(u,!1)%this._cols.length;if(!this._ignores[re]){var K=this.config.rtl?this._colsS.col_length-1-re:re,ie=s._get_block_by_config(o),G=Math.max(c.offsetHeight-1,0),ne=Math.max(c.offsetWidth-1,0),J=this._colsS[K],we=this._colsS.heights[Q]+(this._colsS.height?this.xy.month_scale_height+2:2)-1;ie.className=M,ie.style.top=we+"px",ie.style.lineHeight=ie.style.height=G+"px";for(var Te=0;Te<D.length;Te+=2){var Se=D[q];if((Ke=D[q+1])<=Se)return[];(et=ie.cloneNode(!0)).style.left=J+Math.round(Se/1440*ne)+"px",et.style.width=Math.round((Ke-Se)/1440*ne)+"px",c.appendChild(et),_.push(et)}}}}else{var Ie=u;if(this._ignores[this.locate_holder_day(u,!1)])return _;if(this._props&&this._props[this._mode]&&o.sections&&o.sections[this._mode]){var De=this._props[this._mode];Ie=De.order[o.sections[this._mode]];var Ve=De.order[o.sections[this._mode]];De.days>1?Ie=Ie*(De.size||De.options.length)+Ve:(Ie=Ve,De.size&&Ie>De.position+De.size&&(Ie=0))}for(c=c||s.locate_holder(Ie),q=0;q<D.length;q+=2){var Ke,et;if(Se=Math.max(D[q],60*y.first_hour),(Ke=Math.min(D[q+1],60*y.last_hour))<=Se){if(q+2<D.length)continue;return[]}(et=s._get_block_by_config(o)).className=M;var Pt=24*this.config.hour_size_px+1;et.style.top=Math.round((60*Se*1e3-36e5*this.config.first_hour)*this.config.hour_size_px/36e5)%Pt+"px",et.style.lineHeight=et.style.height=Math.max(Math.round(60*(Ke-Se)*1e3*this.config.hour_size_px/36e5)%Pt,1)+"px",c.appendChild(et),_.push(et)}}return _},s._mark_timespans=function(){var o=this._els.dhx_cal_data[0],c=[];if(s._table_view&&s._mode=="month")for(var u in this._scales){var _=new Date(+u);c.push.apply(c,s._on_scale_add_marker(this._scales[u],_))}else{_=new Date(s._min_date);for(var y=0,x=o.childNodes.length;y<x;y++){var v=o.childNodes[y];v.firstChild&&s._getClassName(v.firstChild).indexOf("dhx_scale_hour")>-1||(c.push.apply(c,s._on_scale_add_marker(v,_)),_=s.date.add(_,1,"day"))}}return c},s.markTimespan=function(o){var c=!1;this._els.dhx_cal_data||(s.get_elements(),c=!0);var u=s._marked_timespans_ids,_=s._marked_timespans_types,y=s._marked_timespans;s.deleteMarkedTimespan(),s.addMarkedTimespan(o);var x=s._mark_timespans();return c&&(s._els=[]),s._marked_timespans_ids=u,s._marked_timespans_types=_,s._marked_timespans=y,x},s.unmarkTimespan=function(o){if(o)for(var c=0;c<o.length;c++){var u=o[c];u.parentNode&&u.parentNode.removeChild(u)}},s._addMarkerTimespanConfig=function(o){var c=s._marked_timespans,u=o.id,_=s._marked_timespans_ids;_[u]||(_[u]=[]);var y=o.days,x=o.sections,v=o.type;if(o.id=u,x){for(var S in x)if(x.hasOwnProperty(S)){c[S]||(c[S]={});var b=x[S],k=c[S];k[b]||(k[b]={}),k[b][y]||(k[b][y]={}),k[b][y][v]||(k[b][y][v]=[],s._marked_timespans_types||(s._marked_timespans_types={}),s._marked_timespans_types[v]||(s._marked_timespans_types[v]=!0));var D=k[b][y][v];o._array=D,D.push(o),_[u].push(o)}}else c.global[y]||(c.global[y]={}),c.global[y][v]||(c.global[y][v]=[]),s._marked_timespans_types||(s._marked_timespans_types={}),s._marked_timespans_types[v]||(s._marked_timespans_types[v]=!0),D=c.global[y][v],o._array=D,D.push(o),_[u].push(o)},s._marked_timespans_ids={},s.addMarkedTimespan=function(o){var c=s._prepare_timespan_options(o);if(c.length){for(var u=c[0].id,_=0;_<c.length;_++)s._addMarkerTimespanConfig(c[_]);return u}},s._add_timespan_zones=function(o,c){var u=o.slice();if(c=c.slice(),!u.length)return c;for(var _=0;_<u.length;_+=2)for(var y=u[_],x=u[_+1],v=_+2==u.length,S=0;S<c.length;S+=2){var b=c[S],k=c[S+1];if(k>x&&b<=x||b<y&&k>=y)u[_]=Math.min(y,b),u[_+1]=Math.max(x,k),_-=2;else{if(!v)continue;var D=y>b?0:2;u.splice(_+D,0,b,k)}c.splice(S--,2);break}return u},s._subtract_timespan_zones=function(o,c){for(var u=o.slice(),_=0;_<u.length;_+=2)for(var y=u[_],x=u[_+1],v=0;v<c.length;v+=2){var S=c[v],b=c[v+1];if(b>y&&S<x){var k=!1;y>=S&&x<=b&&u.splice(_,2),y<S&&(u.splice(_,2,y,S),k=!0),x>b&&u.splice(k?_+2:_,k?0:2,b,x),_-=2;break}}return u},s.invertZones=function(o){return s._subtract_timespan_zones([0,1440],o.slice())},s._delete_marked_timespan_by_id=function(o){var c=s._marked_timespans_ids[o];if(c){for(var u=0;u<c.length;u++)for(var _=c[u],y=_._array,x=0;x<y.length;x++)if(y[x]==_){y.splice(x,1);break}}},s._delete_marked_timespan_by_config=function(o){var c,u=s._marked_timespans,_=o.sections,y=o.days,x=o.type||"default";if(_){for(var v in _)if(_.hasOwnProperty(v)&&u[v]){var S=_[v];u[v][S]&&(c=u[v][S])}}else c=u.global;if(c){if(y!==void 0)c[y]&&c[y][x]&&(s._addMarkerTimespanConfig(o),s._delete_marked_timespans_list(c[y][x],o));else for(var b in c)if(c[b][x]){var k=s._lame_clone(o);o.days=b,s._addMarkerTimespanConfig(k),s._delete_marked_timespans_list(c[b][x],o)}}},s._delete_marked_timespans_list=function(o,c){for(var u=0;u<o.length;u++){var _=o[u],y=s._subtract_timespan_zones(_.zones,c.zones);if(y.length)_.zones=y;else{o.splice(u,1),u--;for(var x=s._marked_timespans_ids[_.id],v=0;v<x.length;v++)if(x[v]==_){x.splice(v,1);break}}}},s.deleteMarkedTimespan=function(o){if(arguments.length||(s._marked_timespans={global:{}},s._marked_timespans_ids={},s._marked_timespans_types={}),Vh(o)!="object")s._delete_marked_timespan_by_id(o);else{o.start_date&&o.end_date||(o.days!==void 0||o.type||(o.days="fullweek"),o.zones||(o.zones="fullday"));var c=[];if(o.type)c.push(o.type);else for(var u in s._marked_timespans_types)c.push(u);for(var _=s._prepare_timespan_options(o),y=0;y<_.length;y++)for(var x=_[y],v=0;v<c.length;v++){var S=s._lame_clone(x);S.type=c[v],s._delete_marked_timespan_by_config(S)}}},s._get_types_to_render=function(o,c){var u=o?s._lame_copy({},o):{};for(var _ in c||{})c.hasOwnProperty(_)&&(u[_]=c[_]);return u},s._get_configs_to_render=function(o){var c=[];for(var u in o)o.hasOwnProperty(u)&&c.push.apply(c,o[u]);return c},s._on_scale_add_marker=function(o,c){if(!s._table_view||s._mode=="month"){var u=c.getDay(),_=c.valueOf(),y=this._mode,x=s._marked_timespans,v=[],S=[];if(this._props&&this._props[y]){var b=this._props[y],k=b.options,D=k[s._get_unit_index(b,c)];if(b.days>1){var M=Math.round((c-s._min_date)/864e5),V=b.size||k.length;c=s.date.add(s._min_date,Math.floor(M/V),"day"),c=s.date.date_part(c)}else c=s.date.date_part(new Date(this._date));if(u=c.getDay(),_=c.valueOf(),x[y]&&x[y][D.key]){var U=x[y][D.key],q=s._get_types_to_render(U[u],U[_]);v.push.apply(v,s._get_configs_to_render(q))}}var Q=x.global;if(s.config.overwrite_marked_timespans){var re=Q[_]||Q[u];v.push.apply(v,s._get_configs_to_render(re))}else Q[_]&&v.push.apply(v,s._get_configs_to_render(Q[_])),Q[u]&&v.push.apply(v,s._get_configs_to_render(Q[u]));for(var K=0;K<v.length;K++)S.push.apply(S,s._render_marked_timespan(v[K],o,c));return S}},s.attachEvent("onScaleAdd",function(){s._on_scale_add_marker.apply(s,arguments)}),s.dblclick_dhx_marked_timespan=function(o,c){s.callEvent("onScaleDblClick",[s.getActionData(o).date,c,o]),s.config.dblclick_create&&s.addEventNow(s.getActionData(o).date,null,o)}},s._temp_limit_scope()},map_view:function(s){var w;s.xy.map_date_width=188,s.xy.map_icon_width=25,s.xy.map_description_width=400,s.config.map_resolve_event_location=!0,s.config.map_resolve_user_location=!0,s.config.map_initial_position=new google.maps.LatLng(48.724,8.215),s.config.map_error_position=new google.maps.LatLng(15,15),s.config.map_infowindow_max_width=300,s.config.map_type=google.maps.MapTypeId.ROADMAP,s.config.map_zoom_after_resolve=15,s.locale.labels.marker_geo_success="It seems you are here.",s.locale.labels.marker_geo_fail="Sorry, could not get your current position using geolocation.",s.templates.marker_date=s.date.date_to_str("%Y-%m-%d %H:%i"),s.templates.marker_text=function(d,m,p){return"<div><b>"+p.text+"</b><br/><br/>"+(p.event_location||"")+"<br/><br/>"+s.templates.marker_date(d)+" - "+s.templates.marker_date(m)+"</div>"},s.dblclick_dhx_map_area=function(){!this.config.readonly&&this.config.dblclick_create&&this.addEventNow({start_date:s._date,end_date:s.date.add(s._date,s.config.time_step,"minute")})},s.templates.map_time=function(d,m,p){return s.config.rtl&&!p._timed?s.templates.day_date(m)+" &ndash; "+s.templates.day_date(d):p._timed?this.day_date(p.start_date,p.end_date,p)+" "+this.event_date(d):s.templates.day_date(d)+" &ndash; "+s.templates.day_date(m)},s.templates.map_text=function(d,m,p){return p.text},s.date.map_start=function(d){return d},s.date.add_map=function(d,m,p){return new Date(d.valueOf())},s.templates.map_date=function(d,m,p){return""},s._latLngUpdate=!1,s.attachEvent("onSchedulerReady",function(){s._isMapPositionSet=!1;var d=document.createElement("div");d.className="dhx_map",d.id="dhx_gmap",d.style.display="none",s._obj.appendChild(d),s._els.dhx_gmap=[],s._els.dhx_gmap.push(d),_("dhx_gmap");var m={zoom:s.config.map_initial_zoom||10,center:s.config.map_initial_position,mapTypeId:s.config.map_type||google.maps.MapTypeId.ROADMAP},p=new google.maps.Map(document.getElementById("dhx_gmap"),m);p.disableDefaultUI=!1,p.disableDoubleClickZoom=!s.config.readonly,google.maps.event.addListener(p,"dblclick",function(b){if(!s.config.readonly&&s.config.dblclick_create){var k=b.latLng;w.geocode({latLng:k},function(D,M){M==google.maps.GeocoderStatus.OK&&(k=D[0].geometry.location,s.addEventNow({lat:k.lat(),lng:k.lng(),event_location:D[0].formatted_address,start_date:s._date,end_date:s.date.add(s._date,s.config.time_step,"minute")}))})}});var o={content:""};s.config.map_infowindow_max_width&&(o.maxWidth=s.config.map_infowindow_max_width),s.map={_points:[],_markers:[],_infowindow:new google.maps.InfoWindow(o),_infowindows_content:[],_initialization_count:-1,_obj:p},w=new google.maps.Geocoder,s.config.map_resolve_user_location&&navigator.geolocation&&(s._isMapPositionSet||navigator.geolocation.getCurrentPosition(function(b){var k=new google.maps.LatLng(b.coords.latitude,b.coords.longitude);p.setCenter(k),p.setZoom(s.config.map_zoom_after_resolve||10),s.map._infowindow.setContent(s.locale.labels.marker_geo_success),s.map._infowindow.position=p.getCenter(),s.map._infowindow.open(p),s._isMapPositionSet=!0},function(){s.map._infowindow.setContent(s.locale.labels.marker_geo_fail),s.map._infowindow.setPosition(p.getCenter()),s.map._infowindow.open(p),s._isMapPositionSet=!0})),google.maps.event.addListener(p,"resize",function(b){d.style.zIndex="5",p.setZoom(p.getZoom())}),google.maps.event.addListener(p,"tilesloaded",function(b){d.style.zIndex="5"}),d.style.display="none";var c=s.render_data;function u(){var b=s.get_visible_events();b.sort(function(G,ne){return G.start_date.valueOf()==ne.start_date.valueOf()?G.id>ne.id?1:-1:G.start_date>ne.start_date?1:-1});for(var k="<div "+(Q=s._waiAria.mapAttrString())+" class='dhx_map_area'>",D=0;D<b.length;D++){var M=b[D],V=M.id==s._selected_event_id?"dhx_map_line highlight":"dhx_map_line",U=M.color?"background:"+M.color+";":"",q=M.textColor?"color:"+M.textColor+";":"",Q=s._waiAria.mapRowAttrString(M),re=s._waiAria.mapDetailsBtnString();k+="<div "+Q+" class='"+V+"' event_id='"+M.id+"' "+s.config.event_attribute+"='"+M.id+"' style='"+U+q+(M._text_style||"")+" width: "+(s.xy.map_date_width+s.xy.map_description_width+2)+"px;'><div class='dhx_map_event_time' style='width: "+s.xy.map_date_width+"px;' >"+s.templates.map_time(M.start_date,M.end_date,M)+"</div>",k+="<div "+re+" class='dhx_event_icon icon_details'>&nbsp;</div>",k+="<div class='line_description' style='width:"+(s.xy.map_description_width-s.xy.map_icon_width)+"px;'>"+s.templates.map_text(M.start_date,M.end_date,M)+"</div></div>"}k+="<div class='dhx_v_border' style="+(s.config.rtl?"'right: ":"'left: ")+(s.xy.map_date_width-2)+"px;'></div><div class='dhx_v_border_description'></div></div>",s._els.dhx_cal_data[0].scrollTop=0,s._els.dhx_cal_data[0].innerHTML=k,s._els.dhx_cal_data[0].style.width=s.xy.map_date_width+s.xy.map_description_width+1+"px";var K=s._els.dhx_cal_data[0].firstChild.childNodes,ie=s._getNavDateElement();for(ie&&(ie.innerHTML=s.templates[s._mode+"_date"](s._min_date,s._max_date,s._mode)),s._rendered=[],D=0;D<K.length-2;D++)s._rendered[D]=K[D]}function _(b){var k=document.getElementById(b),D=s._y-s.xy.nav_height;D<0&&(D=0);var M=s._x-s.xy.map_date_width-s.xy.map_description_width-1;M<0&&(M=0),k.style.height=D+"px",k.style.width=M+"px",s.config.rtl?k.style.marginRight=s.xy.map_date_width+s.xy.map_description_width+1+"px":k.style.marginLeft=s.xy.map_date_width+s.xy.map_description_width+1+"px",k.style.marginTop=s.xy.nav_height+2+"px"}s.render_data=function(b,k){if(this._mode!="map")return c.apply(this,arguments);u();for(var D=s.get_visible_events(),M=0;M<D.length;M++)s.map._markers[D[M].id]||x(D[M],!1,!1)},s.map_view=function(b){s.map._initialization_count++;var k,D=s._els.dhx_gmap[0];if(s._els.dhx_cal_data[0].style.width=s.xy.map_date_width+s.xy.map_description_width+1+"px",s._min_date=s.config.map_start||s._currentDate(),s._max_date=s.config.map_end||s.date.add(s._currentDate(),1,"year"),s._table_view=!0,function(U){if(U){var q=s.locale.labels;s._els.dhx_cal_header[0].innerHTML="<div class='dhx_map_line' style='width: "+(s.xy.map_date_width+s.xy.map_description_width+2)+"px;' ><div class='headline_date' style='width: "+s.xy.map_date_width+"px;'>"+q.date+"</div><div class='headline_description' style='width: "+s.xy.map_description_width+"px;'>"+q.description+"</div></div>",s._table_view=!0,s.set_sizes()}}(b),b){(function(){s._selected_event_id=null,s.map._infowindow.close();var U=s.map._markers;for(var q in U)U.hasOwnProperty(q)&&(U[q].setMap(null),delete s.map._markers[q],s.map._infowindows_content[q]&&delete s.map._infowindows_content[q])})(),u(),D.style.display="block",_("dhx_gmap"),k=s.map._obj.getCenter();for(var M=s.get_visible_events(),V=0;V<M.length;V++)s.map._markers[M[V].id]||x(M[V])}else D.style.display="none";google.maps.event.trigger(s.map._obj,"resize"),s.map._initialization_count===0&&k&&s.map._obj.setCenter(k),s._selected_event_id&&y(s._selected_event_id)};var y=function(b){s.map._obj.setCenter(s.map._points[b]),s.callEvent("onClick",[b])},x=function(b,k,D){var M=s.config.map_error_position;b.lat&&b.lng&&(M=new google.maps.LatLng(b.lat,b.lng));var V=s.templates.marker_text(b.start_date,b.end_date,b);s._new_event||(s.map._infowindows_content[b.id]=V,s.map._markers[b.id]&&s.map._markers[b.id].setMap(null),s.map._markers[b.id]=new google.maps.Marker({position:M,map:s.map._obj}),google.maps.event.addListener(s.map._markers[b.id],"click",function(){s.map._infowindow.setContent(s.map._infowindows_content[b.id]),s.map._infowindow.open(s.map._obj,s.map._markers[b.id]),s._selected_event_id=b.id,s.render_data()}),s.map._points[b.id]=M,k&&s.map._obj.setCenter(s.map._points[b.id]),D&&s.callEvent("onClick",[b.id]))};s.attachEvent("onClick",function(b,k){if(this._mode=="map"){s._selected_event_id=b;for(var D=0;D<s._rendered.length;D++)s._rendered[D].className="dhx_map_line",s._rendered[D].getAttribute(s.config.event_attribute)==b&&(s._rendered[D].className+=" highlight");s.map._points[b]&&s.map._markers[b]&&(s.map._obj.setCenter(s.map._points[b]),google.maps.event.trigger(s.map._markers[b],"click"))}return!0});var v=function(b){b.event_location&&w?w.geocode({address:b.event_location,language:s.uid().toString()},function(k,D){var M={};D!=google.maps.GeocoderStatus.OK?(M=s.callEvent("onLocationError",[b.id]))&&M!==!0||(M=s.config.map_error_position):M=k[0].geometry.location,b.lat=M.lat(),b.lng=M.lng(),s._selected_event_id=b.id,s._latLngUpdate=!0,s.callEvent("onEventChanged",[b.id,b]),x(b,!0,!0)}):x(b,!0,!0)},S=function(b){b.event_location&&w&&w.geocode({address:b.event_location,language:s.uid().toString()},function(k,D){var M={};D!=google.maps.GeocoderStatus.OK?(M=s.callEvent("onLocationError",[b.id]))&&M!==!0||(M=s.config.map_error_position):M=k[0].geometry.location,b.lat=M.lat(),b.lng=M.lng(),s._latLngUpdate=!0,s.callEvent("onEventChanged",[b.id,b])})};s.attachEvent("onEventChanged",function(b,k){if(this._latLngUpdate)this._latLngUpdate=!1;else{var D=s.getEvent(b);D.start_date<s._min_date&&D.end_date>s._min_date||D.start_date<s._max_date&&D.end_date>s._max_date||D.start_date.valueOf()>=s._min_date&&D.end_date.valueOf()<=s._max_date?(s.map._markers[b]&&s.map._markers[b].setMap(null),v(D)):(s._selected_event_id=null,s.map._infowindow.close(),s.map._markers[b]&&s.map._markers[b].setMap(null))}return!0}),s.attachEvent("onEventIdChange",function(b,k){var D=s.getEvent(k);return(D.start_date<s._min_date&&D.end_date>s._min_date||D.start_date<s._max_date&&D.end_date>s._max_date||D.start_date.valueOf()>=s._min_date&&D.end_date.valueOf()<=s._max_date)&&(s.map._markers[b]&&(s.map._markers[b].setMap(null),delete s.map._markers[b]),s.map._infowindows_content[b]&&delete s.map._infowindows_content[b],v(D)),!0}),s.attachEvent("onEventAdded",function(b,k){return s._dataprocessor||(k.start_date<s._min_date&&k.end_date>s._min_date||k.start_date<s._max_date&&k.end_date>s._max_date||k.start_date.valueOf()>=s._min_date&&k.end_date.valueOf()<=s._max_date)&&(s.map._markers[b]&&s.map._markers[b].setMap(null),v(k)),!0}),s.attachEvent("onBeforeEventDelete",function(b,k){return s.map._markers[b]&&s.map._markers[b].setMap(null),s._selected_event_id=null,s.map._infowindow.close(),!0}),s._event_resolve_delay=1500,s.attachEvent("onEventLoading",function(b){return s.config.map_resolve_event_location&&b.event_location&&!b.lat&&!b.lng&&(s._event_resolve_delay+=1500,function(k,D,M,V){setTimeout(function(){var U=k.apply(D,M);return k=D=M=null,U},V||1)}(S,this,[b],s._event_resolve_delay)),!0}),s.attachEvent("onEventCancel",function(b,k){return k&&(s.map._markers[b]&&s.map._markers[b].setMap(null),s.map._infowindow.close()),!0})})},minical:function(s){var w=s._createDomEventScope();s.templates.calendar_month=s.date.date_to_str("%F %Y"),s.templates.calendar_scale_date=s.date.date_to_str("%D"),s.templates.calendar_date=s.date.date_to_str("%d"),s.config.minicalendar={mark_events:!0},s._synced_minicalendars=[],s.renderCalendar=function(d,m,p){var o=null,c=d.date||s._currentDate();if(typeof c=="string"&&(c=this.templates.api_date(c)),m)o=this._render_calendar(m.parentNode,c,d,m),s.unmarkCalendar(o);else{var u=d.container,_=d.position;if(typeof u=="string"&&(u=document.getElementById(u)),typeof _=="string"&&(_=document.getElementById(_)),_&&_.left===void 0&&_.right===void 0){var y=s.$domHelpers.getOffset(_);_={top:y.top+_.offsetHeight,left:y.left}}u||(u=s._get_def_cont(_)),(o=this._render_calendar(u,c,d)).$_eventAttached||(o.$_eventAttached=!0,w.attach(o,"click",function(U){var q=U.target||U.srcElement,Q=s.$domHelpers;if(Q.closest(q,".dhx_month_head")&&!Q.closest(q,".dhx_after")&&!Q.closest(q,".dhx_before")){var re=Q.closest(q,"[data-cell-date]").getAttribute("data-cell-date"),K=s.templates.parse_date(re);s.unmarkCalendar(this),s.markCalendar(this,K,"dhx_calendar_click"),this._last_date=K,this.conf.handler&&this.conf.handler.call(s,K,this)}}.bind(o)))}if(s.config.minicalendar.mark_events)for(var x=s.date.month_start(c),v=s.date.add(x,1,"month"),S=this.getEvents(x,v),b=this["filter_"+this._mode],k={},D=0;D<S.length;D++){var M=S[D];if(!b||b(M.id,M)){var V=M.start_date;for(V.valueOf()<x.valueOf()&&(V=x),V=s.date.date_part(new Date(V.valueOf()));V<M.end_date&&(k[+V]||(k[+V]=!0,this.markCalendar(o,V,"dhx_year_event")),!((V=this.date.add(V,1,"day")).valueOf()>=v.valueOf())););}}return this._markCalendarCurrentDate(o),o.conf=d,d.sync&&!p&&this._synced_minicalendars.push(o),o.conf._on_xle_handler||(o.conf._on_xle_handler=s.attachEvent("onXLE",function(){s.updateCalendar(o,o.conf.date)})),this.config.wai_aria_attributes&&this.config.wai_aria_application_role&&o.setAttribute("role","application"),o},s._get_def_cont=function(d){return this._def_count||(this._def_count=document.createElement("div"),this._def_count.className="dhx_minical_popup",s.event(this._def_count,"click",function(m){m.cancelBubble=!0}),document.body.appendChild(this._def_count)),d.left&&(this._def_count.style.left=d.left+"px"),d.right&&(this._def_count.style.right=d.right+"px"),d.top&&(this._def_count.style.top=d.top+"px"),d.bottom&&(this._def_count.style.bottom=d.bottom+"px"),this._def_count._created=new Date,this._def_count},s._locateCalendar=function(d,m){if(typeof m=="string"&&(m=s.templates.api_date(m)),+m>+d._max_date||+m<+d._min_date)return null;for(var p=d.querySelector(".dhx_year_body").childNodes[0],o=0,c=new Date(d._min_date);+this.date.add(c,1,"week")<=+m;)c=this.date.add(c,1,"week"),o++;var u=s.config.start_on_monday,_=(m.getDay()||(u?7:0))-(u?1:0);return p.rows[o].cells[_].firstChild},s.markCalendar=function(d,m,p){var o=this._locateCalendar(d,m);o&&(o.className+=" "+p)},s.unmarkCalendar=function(d,m,p){if(m=m||d._last_date,p=p||"dhx_calendar_click",m){var o=this._locateCalendar(d,m);o&&(o.className=(o.className||"").replace(RegExp(p,"g")))}},s._week_template=function(d){for(var m=d||250,p=0,o=document.createElement("div"),c=this.date.week_start(s._currentDate()),u=0;u<7;u++)this._cols[u]=Math.floor(m/(7-u)),this._render_x_header(u,p,c,o),c=this.date.add(c,1,"day"),m-=this._cols[u],p+=this._cols[u];return o.lastChild.className+=" dhx_scale_bar_last",o},s.updateCalendar=function(d,m){d.conf.date=m,this.renderCalendar(d.conf,d,!0)},s._mini_cal_arrows=["&nbsp;","&nbsp;"],s._render_calendar=function(d,m,p,o){var c=s.templates,u=this._cols;this._cols=[];var _=this._mode;this._mode="calendar";var y=this._colsS;this._colsS={height:0};var x=new Date(this._min_date),v=new Date(this._max_date),S=new Date(s._date),b=c.month_day,k=this._ignores_detected;this._ignores_detected=0,c.month_day=c.calendar_date,m=this.date.month_start(m);var D,M=this._week_template(d.offsetWidth-1-this.config.minicalendar.padding);o?D=o:(D=document.createElement("div")).className="dhx_cal_container dhx_mini_calendar",D.setAttribute("date",this._helpers.formatDate(m)),D.innerHTML="<div class='dhx_year_month'></div><div class='dhx_year_grid"+(s.config.rtl?" dhx_grid_rtl'>":"'>")+"<div class='dhx_year_week'>"+(M?M.innerHTML:"")+"</div><div class='dhx_year_body'></div></div>";var V=D.querySelector(".dhx_year_month"),U=D.querySelector(".dhx_year_week"),q=D.querySelector(".dhx_year_body");if(V.innerHTML=this.templates.calendar_month(m),p.navigation)for(var Q=function(et,Pt){var gr=s.date.add(et._date,Pt,"month");s.updateCalendar(et,gr),s._date.getMonth()==et._date.getMonth()&&s._date.getFullYear()==et._date.getFullYear()&&s._markCalendarCurrentDate(et)},re=["dhx_cal_prev_button","dhx_cal_next_button"],K=["left:1px;top:2px;position:absolute;","left:auto; right:1px;top:2px;position:absolute;"],ie=[-1,1],G=function(et){return function(){if(p.sync)for(var Pt=s._synced_minicalendars,gr=0;gr<Pt.length;gr++)Q(Pt[gr],et);else s.config.rtl&&(et=-et),Q(D,et)}},ne=[s.locale.labels.prev,s.locale.labels.next],J=0;J<2;J++){var we=document.createElement("div");we.className=re[J],s._waiAria.headerButtonsAttributes(we,ne[J]),we.style.cssText=K[J],we.innerHTML=this._mini_cal_arrows[J],V.appendChild(we),w.attach(we,"click",G(ie[J]))}D._date=new Date(m),D.week_start=(m.getDay()-(this.config.start_on_monday?1:0)+7)%7;var Te=D._min_date=this.date.week_start(m);D._max_date=this.date.add(D._min_date,6,"week"),this._reset_month_scale(q,m,Te,6),o||d.appendChild(D),U.style.height=U.childNodes[0].offsetHeight-1+"px";var Se=s.uid();s._waiAria.minicalHeader(V,Se),s._waiAria.minicalGrid(D.querySelector(".dhx_year_grid"),Se),s._waiAria.minicalRow(U);for(var Ie=U.querySelectorAll(".dhx_scale_bar"),De=0;De<Ie.length;De++)s._waiAria.minicalHeadCell(Ie[De]);var Ve=q.querySelectorAll("td"),Ke=new Date(Te);for(De=0;De<Ve.length;De++)s._waiAria.minicalDayCell(Ve[De],new Date(Ke)),Ke=s.date.add(Ke,1,"day");return s._waiAria.minicalHeader(V,Se),this._cols=u,this._mode=_,this._colsS=y,this._min_date=x,this._max_date=v,s._date=S,c.month_day=b,this._ignores_detected=k,D},s.destroyCalendar=function(d,m){!d&&this._def_count&&this._def_count.firstChild&&(m||new Date().valueOf()-this._def_count._created.valueOf()>500)&&(d=this._def_count.firstChild),d&&(w.detachAll(),d.innerHTML="",d.parentNode&&d.parentNode.removeChild(d),this._def_count&&(this._def_count.style.top="-1000px"),d.conf&&d.conf._on_xle_handler&&s.detachEvent(d.conf._on_xle_handler))},s.isCalendarVisible=function(){return!!(this._def_count&&parseInt(this._def_count.style.top,10)>0)&&this._def_count},s.attachEvent("onTemplatesReady",function(){s.event(document.body,"click",function(){s.destroyCalendar()})},{once:!0}),s.templates.calendar_time=s.date.date_to_str("%d-%m-%Y"),s.form_blocks.calendar_time={render:function(d){var m="<input class='dhx_readonly' type='text' readonly='true'>",p=s.config,o=this.date.date_part(s._currentDate()),c=1440,u=0;p.limit_time_select&&(u=60*p.first_hour,c=60*p.last_hour+1),o.setHours(u/60),d._time_values=[],m+=" <select class='dhx_lightbox_time_select'>";for(var _=u;_<c;_+=1*this.config.time_step)m+="<option value='"+_+"'>"+this.templates.time_picker(o)+"</option>",d._time_values.push(_),o=this.date.add(o,this.config.time_step,"minute");return"<div style='height:30px;padding-top:0; font-size:inherit;' class='dhx_section_time dhx_lightbox_minical'>"+(m+="</select>")+"<span style='font-weight:normal; font-size:10pt;'> &nbsp;&ndash;&nbsp; </span>"+m+"</div>"},set_value:function(d,m,p,o){var c,u,_=d.getElementsByTagName("input"),y=d.getElementsByTagName("select"),x=function(V,U,q){s.event(V,"click",function(){s.destroyCalendar(null,!0),s.renderCalendar({position:V,date:new Date(this._date),navigation:!0,handler:function(Q){V.value=s.templates.calendar_time(Q),V._date=new Date(Q),s.destroyCalendar(),s.config.event_duration&&s.config.auto_end_date&&q===0&&k()}})})};if(s.config.full_day){if(!d._full_day){var v="<label class='dhx_fullday'><input type='checkbox' name='full_day' value='true'> "+s.locale.labels.full_day+"&nbsp;</label></input>";s.config.wide_form||(v=d.previousSibling.innerHTML+v),d.previousSibling.innerHTML=v,d._full_day=!0}var S=d.previousSibling.getElementsByTagName("input")[0],b=s.date.time_part(p.start_date)===0&&s.date.time_part(p.end_date)===0;S.checked=b,y[0].disabled=S.checked,y[1].disabled=S.checked,S.$_eventAttached||(S.$_eventAttached=!0,s.event(S,"click",function(){if(S.checked===!0){var V={};s.form_blocks.calendar_time.get_value(d,V),c=s.date.date_part(V.start_date),(+(u=s.date.date_part(V.end_date))==+c||+u>=+c&&(p.end_date.getHours()!==0||p.end_date.getMinutes()!==0))&&(u=s.date.add(u,1,"day"))}var U=c||p.start_date,q=u||p.end_date;D(_[0],U),D(_[1],q),y[0].value=60*U.getHours()+U.getMinutes(),y[1].value=60*q.getHours()+q.getMinutes(),y[0].disabled=S.checked,y[1].disabled=S.checked}))}if(s.config.event_duration&&s.config.auto_end_date){var k=function(){s.config.auto_end_date&&s.config.event_duration&&(c=s.date.add(_[0]._date,y[0].value,"minute"),u=new Date(c.getTime()+60*s.config.event_duration*1e3),_[1].value=s.templates.calendar_time(u),_[1]._date=s.date.date_part(new Date(u)),y[1].value=60*u.getHours()+u.getMinutes())};y[0].$_eventAttached||y[0].addEventListener("change",k)}function D(V,U,q){x(V,U,q),V.value=s.templates.calendar_time(U),V._date=s.date.date_part(new Date(U))}function M(V){for(var U=o._time_values,q=60*V.getHours()+V.getMinutes(),Q=q,re=!1,K=0;K<U.length;K++){var ie=U[K];if(ie===q){re=!0;break}ie<q&&(Q=ie)}return re||Q?re?q:Q:-1}D(_[0],p.start_date,0),D(_[1],p.end_date,1),x=function(){},y[0].value=M(p.start_date),y[1].value=M(p.end_date)},get_value:function(d,m){var p=d.getElementsByTagName("input"),o=d.getElementsByTagName("select");return m.start_date=s.date.add(p[0]._date,o[0].value,"minute"),m.end_date=s.date.add(p[1]._date,o[1].value,"minute"),m.end_date<=m.start_date&&(m.end_date=s.date.add(m.start_date,s.config.time_step,"minute")),{start_date:new Date(m.start_date),end_date:new Date(m.end_date)}},focus:function(d){}},s.linkCalendar=function(d,m){var p=function(){var o=s._date,c=new Date(o.valueOf());return m&&(c=m(c)),c.setDate(1),s.updateCalendar(d,c),!0};s.attachEvent("onViewChange",p),s.attachEvent("onXLE",p),s.attachEvent("onEventAdded",p),s.attachEvent("onEventChanged",p),s.attachEvent("onEventDeleted",p),p()},s._markCalendarCurrentDate=function(d){var m=s.getState(),p=m.min_date,o=m.max_date,c=m.mode,u=s.date.month_start(new Date(d._date)),_=s.date.add(u,1,"month");if(!({month:!0,year:!0,agenda:!0,grid:!0}[c]||p.valueOf()<=u.valueOf()&&o.valueOf()>=_.valueOf()))for(var y=p;y.valueOf()<o.valueOf();)u.valueOf()<=y.valueOf()&&_>y&&s.markCalendar(d,y,"dhx_calendar_click"),y=s.date.add(y,1,"day")},s.attachEvent("onEventCancel",function(){s.destroyCalendar(null,!0)}),s.attachEvent("onDestroy",function(){s.destroyCalendar()})},monthheight:function(s){s.attachEvent("onTemplatesReady",function(){s.xy.scroll_width=0;var w=s.render_view_data;s.render_view_data=function(){var m=this._els.dhx_cal_data[0];m.firstChild._h_fix=!0,w.apply(s,arguments);var p=parseInt(m.style.height);m.style.height="1px",m.style.height=m.scrollHeight+"px",this._obj.style.height=this._obj.clientHeight+m.scrollHeight-p+"px"};var d=s._reset_month_scale;s._reset_month_scale=function(m,p,o,c){var u={clientHeight:100};d.apply(s,[u,p,o,c]),m.innerHTML=u.innerHTML}})},multisection:function(s){Ai("Multisection",s.assert)},multisource:function(s){var w=s._load;s._load=function(d,m){if(cv(d=d||this._load_url)=="object")for(var p=function(c){var u=function(){};return u.prototype=c,u}(this._loaded),o=0;o<d.length;o++)this._loaded=new p,w.call(this,d[o],m);else w.apply(this,arguments)}},mvc:function(s){var w,d={use_id:!1};function m(c){var u={};for(var _ in c)_.indexOf("_")!==0&&(u[_]=c[_]);return d.use_id||delete u.id,u}function p(c){c._not_render=!1,c._render_wait&&c.render_view_data(),c._loading=!1,c.callEvent("onXLE",[])}function o(c){return d.use_id?c.id:c.cid}s.backbone=function(c,u){u&&(d=u),c.bind("change",function(x,v){var S=o(x),b=s._events[S]=x.toJSON();b.id=S,s._init_event(b),clearTimeout(w),w=setTimeout(function(){s.updateView()},1)}),c.bind("remove",function(x,v){var S=o(x);s._events[S]&&s.deleteEvent(S)});var _=[];function y(){_.length&&(s.parse(_,"json"),_=[])}c.bind("add",function(x,v){var S=o(x);if(!s._events[S]){var b=x.toJSON();b.id=S,s._init_event(b),_.push(b),_.length==1&&setTimeout(y,1)}}),c.bind("request",function(x){x instanceof Backbone.Collection&&function(v){v._loading=!0,v._not_render=!0,v.callEvent("onXLS",[])}(s)}),c.bind("sync",function(x){x instanceof Backbone.Collection&&p(s)}),c.bind("error",function(x){x instanceof Backbone.Collection&&p(s)}),s.attachEvent("onEventCreated",function(x){var v=new c.model(s.getEvent(x));return s._events[x]=v.toJSON(),s._events[x].id=x,!0}),s.attachEvent("onEventAdded",function(x){if(!c.get(x)){var v=m(s.getEvent(x)),S=new c.model(v),b=o(S);b!=x&&this.changeEventId(x,b),c.add(S),c.trigger("scheduler:add",S)}return!0}),s.attachEvent("onEventChanged",function(x){var v=c.get(x),S=m(s.getEvent(x));return v.set(S),c.trigger("scheduler:change",v),!0}),s.attachEvent("onEventDeleted",function(x){var v=c.get(x);return v&&(c.trigger("scheduler:remove",v),c.remove(x)),!0})}},outerdrag:function(s){s.attachEvent("onTemplatesReady",function(){var w,d=new dhtmlDragAndDropObject,m=d.stopDrag;function p(o,c,u,_){if(!s.checkEvent("onBeforeExternalDragIn")||s.callEvent("onBeforeExternalDragIn",[o,c,u,_,w])){var y=s.attachEvent("onEventCreated",function(k){s.callEvent("onExternalDragIn",[k,o,w])||(this._drag_mode=this._drag_id=null,this.deleteEvent(k))}),x=s.getActionData(w),v={start_date:new Date(x.date)};if(s.matrix&&s.matrix[s._mode]){var S=s.matrix[s._mode];v[S.y_property]=x.section;var b=s._locate_cell_timeline(w);v.start_date=S._trace_x[b.x],v.end_date=s.date.add(v.start_date,S.x_step,S.x_unit)}s._props&&s._props[s._mode]&&(v[s._props[s._mode].map_to]=x.section),s.addEventNow(v),s.detachEvent(y)}}d.stopDrag=function(o){return w=o,m.apply(this,arguments)},d.addDragLanding(s._els.dhx_cal_data[0],{_drag:function(o,c,u,_){p(o,c,u,_)},_dragIn:function(o,c){return o},_dragOut:function(o){return this}}),dhtmlx.DragControl&&dhtmlx.DragControl.addDrop(s._els.dhx_cal_data[0],{onDrop:function(o,c,u,_){var y=dhtmlx.DragControl.getMaster(o);w=_,p(o,y,c,_.target||_.srcElement)},onDragIn:function(o,c,u){return c}},!0)})},pdf:function(s){var w,d,m=new RegExp("<[^>]*>","g"),p=new RegExp("<br[^>]*>","g");function o(K){return K.replace(p,`
`).replace(m,"")}function c(K,ie){K=parseFloat(K),ie=parseFloat(ie),isNaN(ie)||(K-=ie);var G=_(K);return K=K-G.width+G.cols*w,isNaN(K)?"auto":100*K/w}function u(K,ie,G){K=parseFloat(K),ie=parseFloat(ie),!isNaN(ie)&&G&&(K-=ie);var ne=_(K);return K=K-ne.width+ne.cols*w,isNaN(K)?"auto":100*K/(w-(isNaN(ie)?0:ie))}function _(K){for(var ie=0,G=s._els.dhx_cal_header[0].childNodes,ne=G[1]?G[1].childNodes:G[0].childNodes,J=0;J<ne.length;J++){var we=ne[J].style?ne[J]:ne[J].parentNode,Te=parseFloat(we.style.width);if(!(K>Te))break;K-=Te+1,ie+=Te+1}return{width:ie,cols:J}}function y(K){return K=parseFloat(K),isNaN(K)?"auto":100*K/d}function x(K,ie){return(window.getComputedStyle?window.getComputedStyle(K,null)[ie]:K.currentStyle?K.currentStyle[ie]:null)||""}function v(K,ie){for(var G=parseInt(K.style.left,10),ne=0;ne<s._cols.length;ne++)if((G-=s._cols[ne])<0)return ne;return ie}function S(K,ie){for(var G=parseInt(K.style.top,10),ne=0;ne<s._colsS.heights.length;ne++)if(s._colsS.heights[ne]>G)return ne;return ie}function b(K){return K?"<"+K+">":""}function k(K){return K?"</"+K+">":""}function D(K,ie,G,ne){var J="<"+K+" profile='"+ie+"'";return G&&(J+=" header='"+G+"'"),ne&&(J+=" footer='"+ne+"'"),J+=">"}function M(){var K="",ie=s._mode;if(s.matrix&&s.matrix[s._mode]&&(ie=s.matrix[s._mode].render=="cell"?"matrix":"timeline"),K+="<scale mode='"+ie+"' today='"+s._els.dhx_cal_date[0].innerHTML+"'>",s._mode=="week_agenda")for(var G=s._els.dhx_cal_data[0].getElementsByTagName("DIV"),ne=0;ne<G.length;ne++)G[ne].className=="dhx_wa_scale_bar"&&(K+="<column>"+o(G[ne].innerHTML)+"</column>");else if(s._mode=="agenda"||s._mode=="map")K+="<column>"+o((G=s._els.dhx_cal_header[0].childNodes[0].childNodes)[0].innerHTML)+"</column><column>"+o(G[1].innerHTML)+"</column>";else if(s._mode=="year")for(G=s._els.dhx_cal_data[0].childNodes,ne=0;ne<G.length;ne++)K+="<month label='"+o(G[ne].querySelector(".dhx_year_month").innerHTML)+"'>",K+=U(G[ne].querySelector(".dhx_year_week").childNodes),K+=V(G[ne].querySelector(".dhx_year_body")),K+="</month>";else{K+="<x>",K+=U(G=s._els.dhx_cal_header[0].childNodes),K+="</x>";var J=s._els.dhx_cal_data[0];if(s.matrix&&s.matrix[s._mode]){for(K+="<y>",ne=0;ne<J.firstChild.rows.length;ne++)K+="<row><![CDATA["+o(J.firstChild.rows[ne].cells[0].innerHTML)+"]]></row>";K+="</y>",d=J.firstChild.rows[0].cells[0].offsetHeight}else if(J.firstChild.tagName=="TABLE")K+=V(J);else{for(J=J.childNodes[J.childNodes.length-1];J.className.indexOf("dhx_scale_holder")==-1;)J=J.previousSibling;for(J=J.childNodes,K+="<y>",ne=0;ne<J.length;ne++)K+=`
<row><![CDATA[`+o(J[ne].innerHTML)+"]]></row>";K+="</y>",d=J[0].offsetHeight}}return K+="</scale>"}function V(K){for(var ie="",G=K.querySelectorAll("tr"),ne=0;ne<G.length;ne++){for(var J=[],we=G[ne].querySelectorAll("td"),Te=0;Te<we.length;Te++)J.push(we[Te].querySelector(".dhx_month_head").innerHTML);ie+=`
<row height='`+we[0].offsetHeight+"'><![CDATA["+o(J.join("|"))+"]]></row>",d=we[0].offsetHeight}return ie}function U(K){var ie,G="";s.matrix&&s.matrix[s._mode]&&(s.matrix[s._mode].second_scale&&(ie=K[1].childNodes),K=K[0].childNodes);for(var ne=0;ne<K.length;ne++)G+=`
<column><![CDATA[`+o(K[ne].innerHTML)+"]]></column>";if(w=K[0].offsetWidth,ie){var J=0,we=K[0].offsetWidth,Te=1;for(ne=0;ne<ie.length;ne++)G+=`
<column second_scale='`+Te+"'><![CDATA["+o(ie[ne].innerHTML)+"]]></column>",(J+=ie[ne].offsetWidth)>=we&&(we+=K[Te]?K[Te].offsetWidth:0,Te++),w=ie[0].offsetWidth}return G}function q(K){var ie="",G=s._rendered,ne=s.matrix&&s.matrix[s._mode];if(s._mode=="agenda"||s._mode=="map")for(var J=0;J<G.length;J++)ie+="<event><head><![CDATA["+o(G[J].childNodes[0].innerHTML)+"]]></head><body><![CDATA["+o(G[J].childNodes[2].innerHTML)+"]]></body></event>";else if(s._mode=="week_agenda")for(J=0;J<G.length;J++)ie+="<event day='"+G[J].parentNode.getAttribute("day")+"'><body>"+o(G[J].innerHTML)+"</body></event>";else if(s._mode=="year")for(G=s.get_visible_events(),J=0;J<G.length;J++){var we=G[J].start_date;for(we.valueOf()<s._min_date.valueOf()&&(we=s._min_date);we<G[J].end_date;){var Te=we.getMonth()+12*(we.getFullYear()-s._min_date.getFullYear())-s.week_starts._month,Se=s.week_starts[Te]+we.getDate()-1,Ie=K?x(s._get_year_cell(we),"color"):"",De=K?x(s._get_year_cell(we),"backgroundColor"):"";if(ie+="<event day='"+Se%7+"' week='"+Math.floor(Se/7)+"' month='"+Te+"' backgroundColor='"+De+"' color='"+Ie+"'></event>",(we=s.date.add(we,1,"day")).valueOf()>=s._max_date.valueOf())break}}else if(ne&&ne.render=="cell")for(G=s._els.dhx_cal_data[0].getElementsByTagName("TD"),J=0;J<G.length;J++)Ie=K?x(G[J],"color"):"",ie+=`
<event><body backgroundColor='`+(De=K?x(G[J],"backgroundColor"):"")+"' color='"+Ie+"'><![CDATA["+o(G[J].innerHTML)+"]]></body></event>";else for(J=0;J<G.length;J++){var Ve,Ke;if(s.matrix&&s.matrix[s._mode])Ve=c(G[J].style.left),Ke=c(G[J].offsetWidth)-1;else{var et=s.config.use_select_menu_space?0:26;Ve=u(G[J].style.left,et,!0),Ke=u(G[J].style.width,et)-1}if(!isNaN(1*Ke)){var Pt=y(G[J].style.top),gr=y(G[J].style.height),Hr=G[J].className.split(" ")[0].replace("dhx_cal_","");if(Hr!=="dhx_tooltip_line"){var Ii=s.getEvent(G[J].getAttribute(s.config.event_attribute));if(Ii){Se=Ii._sday;var ya=Ii._sweek,PC=Ii._length||0;if(s._mode=="month")gr=parseInt(G[J].offsetHeight,10),Pt=parseInt(G[J].style.top,10)-s.xy.month_head_height,Se=v(G[J],Se),ya=S(G[J],ya);else if(s.matrix&&s.matrix[s._mode]){Se=0,ya=G[J].parentNode.parentNode.parentNode.rowIndex;var LC=d;d=G[J].parentNode.offsetHeight,Pt=y(G[J].style.top),Pt-=.2*Pt,d=LC}else{if(G[J].parentNode==s._els.dhx_cal_data[0])continue;var hv=s._els.dhx_cal_data[0].childNodes[0],RC=parseFloat(hv.className.indexOf("dhx_scale_holder")!=-1?hv.style.left:0);Ve+=c(G[J].parentNode.style.left,RC)}ie+=`
<event week='`+ya+"' day='"+Se+"' type='"+Hr+"' x='"+Ve+"' y='"+Pt+"' width='"+Ke+"' height='"+gr+"' len='"+PC+"'>",Hr=="event"?(ie+="<header><![CDATA["+o(G[J].childNodes[1].innerHTML)+"]]></header>",Ie=K?x(G[J].childNodes[2],"color"):"",ie+="<body backgroundColor='"+(De=K?x(G[J].childNodes[2],"backgroundColor"):"")+"' color='"+Ie+"'><![CDATA["+o(G[J].childNodes[2].innerHTML)+"]]></body>"):(Ie=K?x(G[J],"color"):"",ie+="<body backgroundColor='"+(De=K?x(G[J],"backgroundColor"):"")+"' color='"+Ie+"'><![CDATA["+o(G[J].innerHTML)+"]]></body>"),ie+="</event>"}}}}return ie}function Q(K,ie,G,ne,J,we){var Te=!1;ne=="fullcolor"&&(Te=!0,ne="color"),ne=ne||"color";var Se="";if(K){var Ie=s._date,De=s._mode;ie=s.date[G+"_start"](ie),ie=s.date["get_"+G+"_end"]?s.date["get_"+G+"_end"](ie):s.date.add(ie,1,G),Se=D("pages",ne,J,we);for(var Ve=new Date(K);+Ve<+ie;Ve=this.date.add(Ve,1,G))this.setCurrentView(Ve,G),Se+=b("page")+M().replace("\u2013","-")+q(Te)+k("page");Se+=k("pages"),this.setCurrentView(Ie,De)}else Se=D("data",ne,J,we)+M().replace("\u2013","-")+q(Te)+k("data");return Se}function re(K,ie,G,ne,J,we,Te){(function(Se,Ie){var De=s.uid(),Ve=document.createElement("div");Ve.style.display="none",document.body.appendChild(Ve),Ve.innerHTML='<form id="'+De+'" method="post" target="_blank" action="'+Ie+'" accept-charset="utf-8" enctype="application/x-www-form-urlencoded"><input type="hidden" name="mycoolxmlbody"/> </form>',document.getElementById(De).firstChild.value=encodeURIComponent(Se),document.getElementById(De).submit(),Ve.parentNode.removeChild(Ve)})(uv(J)=="object"?function(Se){for(var Ie="<data>",De=0;De<Se.length;De++)Ie+=Se[De].source.getPDFData(Se[De].start,Se[De].end,Se[De].view,Se[De].mode,Se[De].header,Se[De].footer);return Ie+="</data>"}(J):Q.apply(this,[K,ie,G,J,we,Te]),ne)}s.getPDFData=Q,s.toPDF=function(K,ie,G,ne){return re.apply(this,[null,null,null,K,ie,G,ne])},s.toPDFRange=function(K,ie,G,ne,J,we,Te){return typeof K=="string"&&(K=s.templates.api_date(K),ie=s.templates.api_date(ie)),re.apply(this,arguments)}},quick_info:function(s){s.config.icons_select=["icon_details","icon_delete"],s.config.details_on_create=!0,s.config.show_quick_info=!0,s.xy.menu_width=0,s.attachEvent("onClick",function(w){if(s.config.show_quick_info)return s.showQuickInfo(w),!0}),function(){for(var w=["onEmptyClick","onViewChange","onLightbox","onBeforeEventDelete","onBeforeDrag"],d=function(){return s.hideQuickInfo(!0),!0},m=0;m<w.length;m++)s.attachEvent(w[m],d)}(),s.templates.quick_info_title=function(w,d,m){return m.text.substr(0,50)},s.templates.quick_info_content=function(w,d,m){return m.details||m.text},s.templates.quick_info_date=function(w,d,m){return s.isOneDayEvent(m)&&s.config.rtl?s.templates.day_date(w,d,m)+" "+s.templates.event_header(d,w,m):s.isOneDayEvent(m)?s.templates.day_date(w,d,m)+" "+s.templates.event_header(w,d,m):s.config.rtl?s.templates.week_date(d,w,m):s.templates.week_date(w,d,m)},s.showQuickInfo=function(w){if(w!=this._quick_info_box_id&&(this.hideQuickInfo(!0),this.callEvent("onBeforeQuickInfo",[w])!==!1)){var d=this._get_event_counter_part(w);d&&(this._quick_info_box=this._init_quick_info(d),this._fill_quick_data(w),this._show_quick_info(d),this.callEvent("onQuickInfo",[w]))}},function(){function w(d){d=d||"";var m,p=parseFloat(d),o=d.match(/m?s/);switch(o&&(o=o[0]),o){case"s":m=1e3*p;break;case"ms":m=p;break;default:m=0}return m}s.hideQuickInfo=function(d){var m=this._quick_info_box,p=this._quick_info_box_id;if(this._quick_info_box_id=0,m&&m.parentNode){var o=m.offsetWidth;if(s.config.quick_info_detached)return this.callEvent("onAfterQuickInfo",[p]),m.parentNode.removeChild(m);if(m.style.right=="auto"?m.style.left=-o+"px":m.style.right=-o+"px",d)m.parentNode.removeChild(m);else{var c;window.getComputedStyle?c=window.getComputedStyle(m,null):m.currentStyle&&(c=m.currentStyle);var u=w(c["transition-delay"])+w(c["transition-duration"]);setTimeout(function(){m.parentNode&&m.parentNode.removeChild(m)},u)}this.callEvent("onAfterQuickInfo",[p])}}}(),s.event(window,"keydown",function(w){w.keyCode==27&&s.hideQuickInfo()}),s._show_quick_info=function(w){var d=s._quick_info_box;s._obj.appendChild(d);var m=d.offsetWidth,p=d.offsetHeight;if(s.config.quick_info_detached){var o=w.left-w.dx*(m-w.width);o+m>window.innerWidth&&(o=window.innerWidth-m),o=Math.max(0,o),d.style.left=o+"px",d.style.top=w.top-(w.dy?p:-w.height)+"px"}else d.style.top=this.xy.scale_height+this.xy.nav_height+20+"px",w.dx==1?(d.style.right="auto",d.style.left=-m+"px",setTimeout(function(){d.style.left="-10px"},1)):(d.style.left="auto",d.style.right=-m+"px",setTimeout(function(){d.style.right="-10px"},1)),d.className=d.className.replace(" dhx_qi_left","").replace(" dhx_qi_right","")+" dhx_qi_"+(w.dx==1?"left":"right")},s.attachEvent("onTemplatesReady",function(){if(s.hideQuickInfo(),this._quick_info_box){var w=this._quick_info_box;w.parentNode&&w.parentNode.removeChild(w),this._quick_info_box=null}}),s._quick_info_onscroll_handler=function(w){s.hideQuickInfo()},s._init_quick_info=function(){if(!this._quick_info_box){var w=s.xy,d=this._quick_info_box=document.createElement("div");this._waiAria.quickInfoAttr(d),d.className="dhx_cal_quick_info",s.$testmode&&(d.className+=" dhx_no_animate"),s.config.rtl&&(d.className+=" dhx_quick_info_rtl");var m=this._waiAria.quickInfoHeaderAttrString(),p='<div class="dhx_cal_qi_title" style="height:'+w.quick_info_title+'px" '+m+'><div class="dhx_cal_qi_tcontent"></div><div  class="dhx_cal_qi_tdate"></div></div><div class="dhx_cal_qi_content"></div>';p+='<div class="dhx_cal_qi_controls" style="height:'+w.quick_info_buttons+'px">';for(var o=s.config.icons_select,c=0;c<o.length;c++)p+="<div "+(m=this._waiAria.quickInfoButtonAttrString(this.locale.labels[o[c]]))+' class="dhx_qi_big_icon '+o[c]+'" title="'+s.locale.labels[o[c]]+`"><div class='dhx_menu_icon `+o[c]+"'></div><div>"+s.locale.labels[o[c]]+"</div></div>";p+="</div>",d.innerHTML=p,s.event(d,"click",function(u){s._qi_button_click(u.target||u.srcElement)}),s.config.quick_info_detached&&(s._detachDomEvent(s._els.dhx_cal_data[0],"scroll",s._quick_info_onscroll_handler),s.event(s._els.dhx_cal_data[0],"scroll",s._quick_info_onscroll_handler))}return this._quick_info_box},s._qi_button_click=function(w){var d=s._quick_info_box;if(w&&w!=d){var m=s._getClassName(w);if(m.indexOf("_icon")!=-1){var p=s._quick_info_box_id;s._click.buttons[m.split(" ")[1].replace("icon_","")](p)}else s._qi_button_click(w.parentNode)}},s._get_event_counter_part=function(w){for(var d=s.getRenderedEvent(w),m=0,p=0,o=d;o&&o!=s._obj;)m+=o.offsetLeft,p+=o.offsetTop-o.scrollTop,o=o.offsetParent;return o?{left:m,top:p,dx:m+d.offsetWidth/2>s._x/2?1:0,dy:p+d.offsetHeight/2>s._y/2?1:0,width:d.offsetWidth,height:d.offsetHeight}:0},s._fill_quick_data=function(w){var d=s.getEvent(w),m=s._quick_info_box;s._quick_info_box_id=w;var p={content:s.templates.quick_info_title(d.start_date,d.end_date,d),date:s.templates.quick_info_date(d.start_date,d.end_date,d)},o=m.firstChild.firstChild;o.innerHTML=p.content,o.nextSibling.innerHTML=p.date,s._waiAria.quickInfoHeader(m,[p.content,p.date].join(" ")),m.firstChild.nextSibling.innerHTML=s.templates.quick_info_content(d.start_date,d.end_date,d)}},readonly:function(s){s.attachEvent("onTemplatesReady",function(){var w;s.form_blocks.recurring&&(w=s.form_blocks.recurring.set_value);var d=s.config.buttons_left.slice(),m=s.config.buttons_right.slice();function p(_,y,x,v){for(var S=y.getElementsByTagName(_),b=x.getElementsByTagName(_),k=b.length-1;k>=0;k--)if(x=b[k],v){var D=document.createElement("span");D.className="dhx_text_disabled",D.innerHTML=v(S[k]),x.parentNode.insertBefore(D,x),x.parentNode.removeChild(x)}else x.disabled=!0,y.checked&&(x.checked=!0)}s.attachEvent("onBeforeLightbox",function(_){this.config.readonly_form||this.getEvent(_).readonly?this.config.readonly_active=!0:(this.config.readonly_active=!1,s.config.buttons_left=d.slice(),s.config.buttons_right=m.slice(),s.form_blocks.recurring&&(s.form_blocks.recurring.set_value=w));var y=this.config.lightbox.sections;if(this.config.readonly_active){for(var x=0;x<y.length;x++)y[x].type=="recurring"&&this.config.readonly_active&&s.form_blocks.recurring&&(s.form_blocks.recurring.set_value=function(U,q,Q){var re=s.$domHelpers.closest(U,".dhx_wrap_section");re.querySelector(".dhx_cal_lsection").display="none",re.querySelector(".dhx_form_repeat").display="none",re.style.display="none",s.setLightboxSize()});var v=["dhx_delete_btn","dhx_save_btn"],S=[s.config.buttons_left,s.config.buttons_right];for(x=0;x<v.length;x++)for(var b=v[x],k=0;k<S.length;k++){for(var D=S[k],M=-1,V=0;V<D.length;V++)if(D[V]==b){M=V;break}M!=-1&&D.splice(M,1)}}return this.resetLightbox(),!0});var o=s._fill_lightbox;s._fill_lightbox=function(){var _=this.getLightbox();this.config.readonly_active&&(_.style.visibility="hidden",_.style.display="block");var y=o.apply(this,arguments);if(this.config.readonly_active&&(_.style.visibility="",_.style.display="none"),this.config.readonly_active){var x=this.getLightbox(),v=this._lightbox_r=x.cloneNode(!0);v.id=s.uid(),v.className+=" dhx_cal_light_readonly",p("textarea",x,v,function(S){return S.value}),p("input",x,v,!1),p("select",x,v,function(S){return S.options.length?S.options[Math.max(S.selectedIndex||0,0)].text:""}),x.parentNode.insertBefore(v,x),c.call(this,v),s._lightbox&&s._lightbox.parentNode.removeChild(s._lightbox),this._lightbox=v,s.config.drag_lightbox&&s.event(v.firstChild,"mousedown",s._ready_to_dnd),s._init_lightbox_events(),this.setLightboxSize()}return y};var c=s.showCover;s.showCover=function(){this.config.readonly_active||c.apply(this,arguments)};var u=s.hide_lightbox;s.hide_lightbox=function(){return this._lightbox_r&&(this._lightbox_r.parentNode.removeChild(this._lightbox_r),this._lightbox_r=this._lightbox=null),u.apply(this,arguments)}})},recurring:function(s){function w(){var p=s.formSection("recurring");if(p||(p=d("recurring")),!p)throw new Error(["Can't locate the Recurring form section.","Make sure that you have the recurring control on the lightbox configuration https://docs.dhtmlx.com/scheduler/recurring_events.html#recurringlightbox ",'and that the recurring control has name "recurring":',"","scheduler.config.lightbox.sections = [",'	{name:"recurring", ... }',"];"].join(`
`));return p}function d(p){for(var o=0;o<s.config.lightbox.sections.length;o++){var c=s.config.lightbox.sections[o];if(c.type===p)return s.formSection(c.name)}return null}function m(p){return new Date(p.getFullYear(),p.getMonth(),p.getDate(),p.getHours(),p.getMinutes(),p.getSeconds(),0)}s.config.occurrence_timestamp_in_utc=!1,s.config.recurring_workdays=[1,2,3,4,5],s.form_blocks.recurring={_get_node:function(p){return typeof p=="string"&&(p=document.getElementById(p)),p.style.display=="none"&&(p.style.display=""),p},_outer_html:function(p){return p.outerHTML||function(o){var c,u=document.createElement("div");return u.appendChild(o.cloneNode(!0)),c=u.innerHTML,u=null,c}(p)},render:function(p){if(p.form){var o=s.form_blocks.recurring,c=o._get_node(p.form),u=o._outer_html(c);return c.style.display="none",u}var _=s.locale.labels;return'<div class="dhx_form_repeat"> <form> <div class="dhx_repeat_left"> <label><input class="dhx_repeat_radio" type="radio" name="repeat" value="day" />'+_.repeat_radio_day+'</label><br /> <label><input class="dhx_repeat_radio" type="radio" name="repeat" value="week"/>'+_.repeat_radio_week+'</label><br /> <label><input class="dhx_repeat_radio" type="radio" name="repeat" value="month" checked />'+_.repeat_radio_month+'</label><br /> <label><input class="dhx_repeat_radio" type="radio" name="repeat" value="year" />'+_.repeat_radio_year+'</label> </div> <div class="dhx_repeat_divider"></div> <div class="dhx_repeat_center"> <div style="display:none;" id="dhx_repeat_day"> <label><input class="dhx_repeat_radio" type="radio" name="day_type" value="d"/>'+_.repeat_radio_day_type+'</label><label><input class="dhx_repeat_text" type="text" name="day_count" value="1" />'+_.repeat_text_day_count+'</label><br /> <label><input class="dhx_repeat_radio" type="radio" name="day_type" checked value="w"/>'+_.repeat_radio_day_type2+'</label> </div> <div style="display:none;" id="dhx_repeat_week"><label>'+_.repeat_week+'<input class="dhx_repeat_text" type="text" name="week_count" value="1" /></label><span>'+_.repeat_text_week_count+'</span><br /> <table class="dhx_repeat_days"> <tr> <td> <label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="1" />'+_.day_for_recurring[1]+'</label><br /> <label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="4" />'+_.day_for_recurring[4]+'</label> </td> <td> <label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="2" />'+_.day_for_recurring[2]+'</label><br /> <label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="5" />'+_.day_for_recurring[5]+'</label> </td> <td> <label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="3" />'+_.day_for_recurring[3]+'</label><br /> <label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="6" />'+_.day_for_recurring[6]+'</label> </td> <td> <label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="0" />'+_.day_for_recurring[0]+'</label><br /><br /> </td> </tr> </table> </div> <div id="dhx_repeat_month"> <label class = "dhx_repeat_month_label"><input class="dhx_repeat_radio" type="radio" name="month_type" value="d"/>'+_.repeat_radio_month_type+'</label><label><input class="dhx_repeat_text" type="text" name="month_day" value="1" />'+_.repeat_text_month_day+'</label><label><input class="dhx_repeat_text" type="text" name="month_count" value="1" />'+_.repeat_text_month_count+'</label><br /> <label class = "dhx_repeat_month_label"><input class="dhx_repeat_radio" type="radio" name="month_type" checked value="w"/>'+_.repeat_radio_month_start+'</label><input class="dhx_repeat_text" type="text" name="month_week2" value="1" /><label><select name="month_day2">	<option value="1" selected >'+s.locale.date.day_full[1]+'<option value="2">'+s.locale.date.day_full[2]+'<option value="3">'+s.locale.date.day_full[3]+'<option value="4">'+s.locale.date.day_full[4]+'<option value="5">'+s.locale.date.day_full[5]+'<option value="6">'+s.locale.date.day_full[6]+'<option value="0">'+s.locale.date.day_full[0]+"</select>"+_.repeat_text_month_count2_before+'</label><label><input class="dhx_repeat_text" type="text" name="month_count2" value="1" />'+_.repeat_text_month_count2_after+'</label><br /> </div> <div style="display:none;" id="dhx_repeat_year"> <label class = "dhx_repeat_year_label"><input class="dhx_repeat_radio" type="radio" name="year_type" value="d"/>'+_.repeat_radio_day_type+'</label><label><input class="dhx_repeat_text" type="text" name="year_day" value="1" />'+_.repeat_text_year_day+'</label><label><select name="year_month"><option value="0" selected >'+_.month_for_recurring[0]+'<option value="1">'+_.month_for_recurring[1]+'<option value="2">'+_.month_for_recurring[2]+'<option value="3">'+_.month_for_recurring[3]+'<option value="4">'+_.month_for_recurring[4]+'<option value="5">'+_.month_for_recurring[5]+'<option value="6">'+_.month_for_recurring[6]+'<option value="7">'+_.month_for_recurring[7]+'<option value="8">'+_.month_for_recurring[8]+'<option value="9">'+_.month_for_recurring[9]+'<option value="10">'+_.month_for_recurring[10]+'<option value="11">'+_.month_for_recurring[11]+"</select>"+_.select_year_month+'</label><br /> <label class = "dhx_repeat_year_label"><input class="dhx_repeat_radio" type="radio" name="year_type" checked value="w"/>'+_.repeat_year_label+'</label><input class="dhx_repeat_text" type="text" name="year_week2" value="1" /><select name="year_day2"><option value="1" selected >'+s.locale.date.day_full[1]+'<option value="2">'+s.locale.date.day_full[2]+'<option value="3">'+s.locale.date.day_full[3]+'<option value="4">'+s.locale.date.day_full[4]+'<option value="5">'+s.locale.date.day_full[5]+'<option value="6">'+s.locale.date.day_full[6]+'<option value="7">'+s.locale.date.day_full[0]+"</select>"+_.select_year_day2+'<select name="year_month2"><option value="0" selected >'+_.month_for_recurring[0]+'<option value="1">'+_.month_for_recurring[1]+'<option value="2">'+_.month_for_recurring[2]+'<option value="3">'+_.month_for_recurring[3]+'<option value="4">'+_.month_for_recurring[4]+'<option value="5">'+_.month_for_recurring[5]+'<option value="6">'+_.month_for_recurring[6]+'<option value="7">'+_.month_for_recurring[7]+'<option value="8">'+_.month_for_recurring[8]+'<option value="9">'+_.month_for_recurring[9]+'<option value="10">'+_.month_for_recurring[10]+'<option value="11">'+_.month_for_recurring[11]+'</select><br /> </div> </div> <div class="dhx_repeat_divider"></div> <div class="dhx_repeat_right"> <label><input class="dhx_repeat_radio" type="radio" name="end" checked/>'+_.repeat_radio_end+'</label><br /> <label><input class="dhx_repeat_radio" type="radio" name="end" />'+_.repeat_radio_end2+'</label><input class="dhx_repeat_text" type="text" name="occurences_count" value="1" />'+_.repeat_text_occurences_count+'<br /> <label><input class="dhx_repeat_radio" type="radio" name="end" />'+_.repeat_radio_end3+'</label><input class="dhx_repeat_date" type="text" name="date_of_end" value="'+s.config.repeat_date_of_end+'" /><br /> </div> </form> </div> <div style="clear:both"> </div>'},_ds:{},_get_form_node:function(p,o,c){var u=p[o];if(!u)return null;if(u.nodeName)return u;if(u.length){for(var _=0;_<u.length;_++)if(u[_].value==c)return u[_]}},_get_node_value:function(p,o,c){var u=p[o];if(!u)return"";if(u.length){if(c){for(var _=[],y=0;y<u.length;y++)u[y].checked&&_.push(u[y].value);return _}for(y=0;y<u.length;y++)if(u[y].checked)return u[y].value}return u.value?c?[u.value]:u.value:void 0},_get_node_numeric_value:function(p,o){return 1*s.form_blocks.recurring._get_node_value(p,o)||0},_set_node_value:function(p,o,c){var u=p[o];if(u){if(u.name==o)u.value=c;else if(u.length)for(var _=zh(c)=="object",y=0;y<u.length;y++)(_||u[y].value==c)&&(u[y].checked=_?!!c[u[y].value]:!!c)}},_init_set_value:function(p,o,c){var u=s.form_blocks.recurring,_=u._get_node_value,y=u._set_node_value;s.form_blocks.recurring._ds={start:c.start_date,end:c._end_date};var x=s.date.str_to_date(s.config.repeat_date,!1,!0),v=function(G){var ne=x(G);return s.config.include_end_by&&(ne=s.date.add(ne,1,"day")),ne},S=s.date.date_to_str(s.config.repeat_date),b=p.getElementsByTagName("FORM")[0],k={};function D(G){for(var ne=0;ne<G.length;ne++){var J=G[ne];if(J.name)if(k[J.name])if(k[J.name].nodeType){var we=k[J.name];k[J.name]=[we,J]}else k[J.name].push(J);else k[J.name]=J}}if(D(b.getElementsByTagName("INPUT")),D(b.getElementsByTagName("SELECT")),!s.config.repeat_date_of_end){var M=s.date.date_to_str(s.config.repeat_date);s.config.repeat_date_of_end=M(s.date.add(s._currentDate(),30,"day"))}y(k,"date_of_end",s.config.repeat_date_of_end);var V=function(G){return document.getElementById(G)||{style:{}}};function U(){V("dhx_repeat_day").style.display="none",V("dhx_repeat_week").style.display="none",V("dhx_repeat_month").style.display="none",V("dhx_repeat_year").style.display="none",V("dhx_repeat_"+this.value).style.display="block",s.setLightboxSize()}function q(G,ne){var J=G.end;if(J.length)if(J[0].value&&J[0].value!="on")for(var we=0;we<J.length;we++)J[we].value==ne&&(J[we].checked=!0);else{var Te=0;switch(ne){case"no":Te=0;break;case"date_of_end":Te=2;break;default:Te=1}J[Te].checked=!0}else J.value=ne}s.form_blocks.recurring._get_repeat_code=function(G){var ne=[_(k,"repeat")];for(Q[ne[0]](ne,G);ne.length<5;)ne.push("");var J="",we=function(Te){var Se=Te.end;if(Se.length){for(var Ie=0;Ie<Se.length;Ie++)if(Se[Ie].checked)return Se[Ie].value&&Se[Ie].value!="on"?Se[Ie].value:Ie?Ie==2?"date_of_end":"occurences_count":"no"}else if(Se.value)return Se.value;return"no"}(k);return we=="no"?(G.end=new Date(9999,1,1),J="no"):we=="date_of_end"?G.end=v(_(k,"date_of_end")):(s.transpose_type(ne.join("_")),J=Math.max(1,_(k,"occurences_count")),G.end=s.date["add_"+ne.join("_")](new Date(G.start),J+0,{start_date:G.start})||G.start),ne.join("_")+"#"+J};var Q={month:function(G,ne){var J=s.form_blocks.recurring._get_node_value,we=s.form_blocks.recurring._get_node_numeric_value;J(k,"month_type")=="d"?(G.push(Math.max(1,we(k,"month_count"))),ne.start.setDate(J(k,"month_day"))):(G.push(Math.max(1,we(k,"month_count2"))),G.push(J(k,"month_day2")),G.push(Math.max(1,we(k,"month_week2"))),s.config.repeat_precise||ne.start.setDate(1)),ne._start=!0},week:function(G,ne){var J=s.form_blocks.recurring._get_node_value,we=s.form_blocks.recurring._get_node_numeric_value;G.push(Math.max(1,we(k,"week_count"))),G.push(""),G.push("");for(var Te=[],Se=J(k,"week_day",!0),Ie=ne.start.getDay(),De=!1,Ve=0;Ve<Se.length;Ve++)Te.push(Se[Ve]),De=De||Se[Ve]==Ie;Te.length||(Te.push(Ie),De=!0),Te.sort(),s.config.repeat_precise?De||(s.transpose_day_week(ne.start,Te,1,7),ne._start=!0):(ne.start=s.date.week_start(ne.start),ne._start=!0),G.push(Te.join(","))},day:function(G){var ne=s.form_blocks.recurring._get_node_value,J=s.form_blocks.recurring._get_node_numeric_value;ne(k,"day_type")=="d"?G.push(Math.max(1,J(k,"day_count"))):(G.push("week"),G.push(1),G.push(""),G.push(""),G.push(s.config.recurring_workdays.join(",")),G.splice(0,1))},year:function(G,ne){var J=s.form_blocks.recurring._get_node_value;J(k,"year_type")=="d"?(G.push("1"),ne.start.setMonth(0),ne.start.setDate(J(k,"year_day")),ne.start.setMonth(J(k,"year_month"))):(G.push("1"),G.push(J(k,"year_day2")),G.push(J(k,"year_week2")),ne.start.setDate(1),ne.start.setMonth(J(k,"year_month2"))),ne._start=!0}},re={week:function(G,ne){var J=s.form_blocks.recurring._set_node_value;J(k,"week_count",G[1]);for(var we=G[4].split(","),Te={},Se=0;Se<we.length;Se++)Te[we[Se]]=!0;J(k,"week_day",Te)},month:function(G,ne){var J=s.form_blocks.recurring._set_node_value;G[2]===""?(J(k,"month_type","d"),J(k,"month_count",G[1]),J(k,"month_day",ne.start.getDate())):(J(k,"month_type","w"),J(k,"month_count2",G[1]),J(k,"month_week2",G[3]),J(k,"month_day2",G[2]))},day:function(G,ne){var J=s.form_blocks.recurring._set_node_value;J(k,"day_type","d"),J(k,"day_count",G[1])},year:function(G,ne){var J=s.form_blocks.recurring._set_node_value;G[2]===""?(J(k,"year_type","d"),J(k,"year_day",ne.start.getDate()),J(k,"year_month",ne.start.getMonth())):(J(k,"year_type","w"),J(k,"year_week2",G[3]),J(k,"year_day2",G[2]),J(k,"year_month2",ne.start.getMonth()))}};s.form_blocks.recurring._set_repeat_code=function(G,ne){var J=s.form_blocks.recurring._set_node_value,we=G.split("#");switch(G=we[0].split("_"),re[G[0]](G,ne),we[1]){case"no":q(k,"no");break;case"":q(k,"date_of_end");var Te=ne.end;s.config.include_end_by&&(Te=s.date.add(Te,-1,"day")),J(k,"date_of_end",S(Te));break;default:q(k,"occurences_count"),J(k,"occurences_count",we[1])}J(k,"repeat",G[0]);var Se=s.form_blocks.recurring._get_form_node(k,"repeat",G[0]);Se.nodeName=="SELECT"?(Se.dispatchEvent(new Event("change")),Se.dispatchEvent(new MouseEvent("click"))):Se.dispatchEvent(new MouseEvent("click"))};for(var K=0;K<b.elements.length;K++){var ie=b.elements[K];switch(ie.name){case"repeat":ie.nodeName!="SELECT"||ie.$_eventAttached?ie.$_eventAttached||(ie.$_eventAttached=!0,ie.addEventListener("click",U)):(ie.$_eventAttached=!0,ie.addEventListener("change",U))}}s._lightbox._rec_init_done=!0},set_value:function(p,o,c){var u=s.form_blocks.recurring;s._lightbox._rec_init_done||u._init_set_value(p,o,c),p.open=!c.rec_type,p.blocked=this._is_modified_occurence(c);var _=u._ds;_.start=c.start_date,_.end=c._end_date,u._toggle_block(),o&&u._set_repeat_code(o,_)},get_value:function(p,o){if(p.open){var c=s.form_blocks.recurring._ds,u={};(function(){var _=s.formSection("time");if(_||(_=d("time")),_||(_=d("calendar_time")),!_)throw new Error(["Can't calculate the recurring rule, the Recurring form block can't find the Time control. Make sure you have the time control in 'scheduler.config.lightbox.sections' config.","You can use either the default time control https://docs.dhtmlx.com/scheduler/time.html, or the datepicker https://docs.dhtmlx.com/scheduler/minicalendar.html, or a custom control. ",'In the latter case, make sure the control is named "time":',"","scheduler.config.lightbox.sections = [",'{name:"time", height:72, type:"YOU CONTROL", map_to:"auto" }];'].join(`
`));return _})().getValue(u),c.start=u.start_date,o.rec_type=s.form_blocks.recurring._get_repeat_code(c),c._start?(o.start_date=new Date(c.start),o._start_date=new Date(c.start),c._start=!1):o._start_date=null,o._end_date=c.end,o.rec_pattern=o.rec_type.split("#")[0]}else o.rec_type=o.rec_pattern="",o._end_date=o.end_date;return o.rec_type},_get_button:function(){return w().header.firstChild.firstChild},_get_form:function(){return w().node},open:function(){var p=s.form_blocks.recurring;p._get_form().open||p._toggle_block()},close:function(){var p=s.form_blocks.recurring;p._get_form().open&&p._toggle_block()},_toggle_block:function(){var p=s.form_blocks.recurring,o=p._get_form(),c=p._get_button();o.open||o.blocked?(o.style.height="0px",c&&(c.style.backgroundPosition="-5px 20px",c.nextSibling.innerHTML=s.locale.labels.button_recurring)):(o.style.height="auto",c&&(c.style.backgroundPosition="-5px 0px",c.nextSibling.innerHTML=s.locale.labels.button_recurring_open)),o.open=!o.open,s.setLightboxSize()},focus:function(p){},button_click:function(p,o,c){s.form_blocks.recurring._get_form().blocked||s.form_blocks.recurring._toggle_block()}},s._rec_markers={},s._rec_markers_pull={},s._add_rec_marker=function(p,o){p._pid_time=o,this._rec_markers[p.id]=p,this._rec_markers_pull[p.event_pid]||(this._rec_markers_pull[p.event_pid]={}),this._rec_markers_pull[p.event_pid][o]=p},s._get_rec_marker=function(p,o){var c=this._rec_markers_pull[o];return c?c[p]:null},s._get_rec_markers=function(p){return this._rec_markers_pull[p]||[]},s._rec_temp=[],function(){var p=s.addEvent;s.addEvent=function(o,c,u,_,y){var x=p.apply(this,arguments);if(x&&s.getEvent(x)){var v=s.getEvent(x);v.start_date&&(v.start_date=m(v.start_date)),v.end_date&&(v.end_date=m(v.end_date)),this._is_modified_occurence(v)&&s._add_rec_marker(v,1e3*v.event_length),v.rec_type&&(v.rec_pattern=v.rec_type.split("#")[0])}return x}}(),s.attachEvent("onEventIdChange",function(p,o){if(!this._ignore_call){this._ignore_call=!0,s._rec_markers[p]&&(s._rec_markers[o]=s._rec_markers[p],delete s._rec_markers[p]),s._rec_markers_pull[p]&&(s._rec_markers_pull[o]=s._rec_markers_pull[p],delete s._rec_markers_pull[p]);for(var c=0;c<this._rec_temp.length;c++)(u=this._rec_temp[c]).event_pid==p&&(u.event_pid=o,this.changeEventId(u.id,o+"#"+u.id.split("#")[1]));for(var c in this._rec_markers){var u;(u=this._rec_markers[c]).event_pid==p&&(u.event_pid=o,u._pid_changed=!0)}var _=s._rec_markers[o];_&&_._pid_changed&&(delete _._pid_changed,setTimeout(function(){s.callEvent("onEventChanged",[o,s.getEvent(o)])},1)),delete this._ignore_call}}),s.attachEvent("onConfirmedBeforeEventDelete",function(p){var o=this.getEvent(p);if(this._is_virtual_event(p)||this._is_modified_occurence(o)&&o.rec_type&&o.rec_type!="none"){p=p.split("#");var c=this.uid(),u=p[1]?p[1]:Math.round(o._pid_time/1e3),_=this._copy_event(o);_.id=c,_.event_pid=o.event_pid||p[0];var y=u;_.event_length=y,_.rec_type=_.rec_pattern="none",this.addEvent(_),this._add_rec_marker(_,1e3*y)}else{o.rec_type&&this._lightbox_id&&this._roll_back_dates(o);var x=this._get_rec_markers(p);for(var v in x)x.hasOwnProperty(v)&&(p=x[v].id,this.getEvent(p)&&this.deleteEvent(p,!0))}return!0}),s.attachEvent("onEventDeleted",function(p,o){!this._is_virtual_event(p)&&this._is_modified_occurence(o)&&(s._events[p]||(o.rec_type=o.rec_pattern="none",this.setEvent(p,o)))}),s.attachEvent("onEventChanged",function(p,o){if(this._loading)return!0;var c=this.getEvent(p);if(this._is_virtual_event(p)){p=p.split("#");var u=this.uid();this._not_render=!0;var _=this._copy_event(o);_.id=u,_.event_pid=p[0];var y=p[1];_.event_length=y,_.rec_type=_.rec_pattern="",this._add_rec_marker(_,1e3*y),this.addEvent(_),this._not_render=!1}else{c.start_date&&(c.start_date=m(c.start_date)),c.end_date&&(c.end_date=m(c.end_date)),c.rec_type&&this._lightbox_id&&this._roll_back_dates(c);var x=this._get_rec_markers(p);for(var v in x)x.hasOwnProperty(v)&&(delete this._rec_markers[x[v].id],this.deleteEvent(x[v].id,!0));delete this._rec_markers_pull[p];for(var S=!1,b=0;b<this._rendered.length;b++)this._rendered[b].getAttribute(this.config.event_attribute)==p&&(S=!0);S||(this._select_id=null)}return!0}),s.attachEvent("onEventAdded",function(p){if(!this._loading){var o=this.getEvent(p);o.rec_type&&!o.event_length&&this._roll_back_dates(o)}return!0}),s.attachEvent("onEventSave",function(p,o,c){return this.getEvent(p).rec_type||!o.rec_type||this._is_virtual_event(p)||(this._select_id=null),!0}),s.attachEvent("onEventCreated",function(p){var o=this.getEvent(p);return o.rec_type||(o.rec_type=o.rec_pattern=o.event_length=o.event_pid=""),!0}),s.attachEvent("onEventCancel",function(p){var o=this.getEvent(p);o.rec_type&&(this._roll_back_dates(o),this.render_view_data())}),s._roll_back_dates=function(p){p.start_date&&(p.start_date=m(p.start_date)),p.end_date&&(p.end_date=m(p.end_date)),p.event_length=Math.round((p.end_date.valueOf()-p.start_date.valueOf())/1e3),p.end_date=p._end_date,p._start_date&&(p.start_date.setMonth(0),p.start_date.setDate(p._start_date.getDate()),p.start_date.setMonth(p._start_date.getMonth()),p.start_date.setFullYear(p._start_date.getFullYear()))},s._is_virtual_event=function(p){return p.toString().indexOf("#")!=-1},s._is_modified_occurence=function(p){return p.event_pid&&p.event_pid!="0"},s._validId=function(p){return!this._is_virtual_event(p)},s.showLightbox_rec=s.showLightbox,s.showLightbox=function(p){var o=this.locale,c=s.config.lightbox_recurring,u=this.getEvent(p),_=u.event_pid,y=this._is_virtual_event(p);y&&(_=p.split("#")[0]);var x=function(S){var b=s.getEvent(S);return b._end_date=b.end_date,b.end_date=new Date(b.start_date.valueOf()+1e3*b.event_length),s.showLightbox_rec(S)};if((_||1*_==0)&&u.rec_type)return x(p);if(!_||_==="0"||!o.labels.confirm_recurring||c=="instance"||c=="series"&&!y)return this.showLightbox_rec(p);if(c=="ask"){var v=this;s.modalbox({text:o.labels.confirm_recurring,title:o.labels.title_confirm_recurring,width:"500px",position:"middle",buttons:[o.labels.button_edit_series,o.labels.button_edit_occurrence,o.labels.icon_cancel],callback:function(S){switch(+S){case 0:return x(_);case 1:return v.showLightbox_rec(p);case 2:return}}})}else x(_)},s.get_visible_events_rec=s.get_visible_events,s.get_visible_events=function(p){for(var o=0;o<this._rec_temp.length;o++)delete this._events[this._rec_temp[o].id];this._rec_temp=[];var c=this.get_visible_events_rec(p),u=[];for(o=0;o<c.length;o++)c[o].rec_type?c[o].rec_pattern!="none"&&this.repeat_date(c[o],u):u.push(c[o]);return u},function(){var p=s.isOneDayEvent;s.isOneDayEvent=function(c){return!!c.rec_type||p.call(this,c)};var o=s.updateEvent;s.updateEvent=function(c){var u=s.getEvent(c);u&&u.rec_type&&(u.rec_pattern=(u.rec_type||"").split("#")[0]),u&&u.rec_type&&!this._is_virtual_event(c)?s.update_view():o.call(this,c)}}(),s.transponse_size={day:1,week:7,month:1,year:12},s.date.day_week=function(p,o,c){p.setDate(1);var u=s.date.month_start(new Date(p)),_=1*o+(c=7*(c-1))-p.getDay()+1;p.setDate(_<=c?_+7:_);var y=s.date.month_start(new Date(p));return u.valueOf()===y.valueOf()},s.transpose_day_week=function(p,o,c,u,_){for(var y=(p.getDay()||(s.config.start_on_monday?7:0))-c,x=0;x<o.length;x++)if(o[x]>y)return p.setDate(p.getDate()+1*o[x]-y-(u?c:_));this.transpose_day_week(p,o,c+u,null,c)},s.transpose_type=function(p){var o="transpose_"+p;if(!this.date[o]){var c=p.split("_"),u="add_"+p,_=this.transponse_size[c[0]]*c[1];if(c[0]=="day"||c[0]=="week"){var y=null;if(c[4]&&(y=c[4].split(","),s.config.start_on_monday)){for(var x=0;x<y.length;x++)y[x]=1*y[x]||7;y.sort()}this.date[o]=function(v,S){var b=Math.floor((S.valueOf()-v.valueOf())/(864e5*_));return b>0&&v.setDate(v.getDate()+b*_),y&&s.transpose_day_week(v,y,1,_),v},this.date[u]=function(v,S){var b=new Date(v.valueOf());if(y)for(var k=0;k<S;k++)s.transpose_day_week(b,y,0,_);else b.setDate(b.getDate()+S*_);return b}}else c[0]!="month"&&c[0]!="year"||(this.date[o]=function(v,S,b){var k=Math.ceil((12*S.getFullYear()+1*S.getMonth()+1-(12*v.getFullYear()+1*v.getMonth()+1))/_-1);return k>=0&&(v.setDate(1),v.setMonth(v.getMonth()+k*_)),s.date[u](v,0,b)},this.date[u]=function(v,S,b,k){if(k?k++:k=1,k>12)return null;var D=new Date(v.valueOf());D.setDate(1),D.setMonth(D.getMonth()+S*_);var M=D.getMonth(),V=D.getFullYear();D.setDate(b.start_date.getDate()),c[3]&&s.date.day_week(D,c[2],c[3]);var U=s.config.recurring_overflow_instances;return D.getMonth()!=M&&U!="none"&&(D=U==="lastDay"?new Date(V,M+1,0,D.getHours(),D.getMinutes(),D.getSeconds(),D.getMilliseconds()):s.date[u](new Date(V,M+1,0),S||1,b,k)),D})}},s.repeat_date=function(p,o,c,u,_,y){u=u||this._min_date,_=_||this._max_date;var x=y||-1,v=new Date(p.start_date.valueOf()),S=v.getHours(),b=0;for(!p.rec_pattern&&p.rec_type&&(p.rec_pattern=p.rec_type.split("#")[0]),this.transpose_type(p.rec_pattern),v=s.date["transpose_"+p.rec_pattern](v,u,p);v&&(v<p.start_date||s._fix_daylight_saving_date(v,u,p,v,new Date(v.valueOf()+1e3*p.event_length)).valueOf()<=u.valueOf()||v.valueOf()+1e3*p.event_length<=u.valueOf());)v=this.date["add_"+p.rec_pattern](v,1,p);for(;v&&v<_&&v<p.end_date&&(x<0||b<x);){v.setHours(S);var k=s.config.occurrence_timestamp_in_utc?Date.UTC(v.getFullYear(),v.getMonth(),v.getDate(),v.getHours(),v.getMinutes(),v.getSeconds()):v.valueOf(),D=this._get_rec_marker(k,p.id);if(D)c&&(D.rec_type!="none"&&b++,o.push(D));else{var M=new Date(v.valueOf()+1e3*p.event_length),V=this._copy_event(p);if(V.text=p.text,V.start_date=v,V.event_pid=p.id,V.id=p.id+"#"+Math.round(k/1e3),V.end_date=M,V.end_date=s._fix_daylight_saving_date(V.start_date,V.end_date,p,v,V.end_date),V._timed=this.isOneDayEvent(V),!V._timed&&!this._table_view&&!this.config.multi_day)return;o.push(V),c||(this._events[V.id]=V,this._rec_temp.push(V)),b++}v=this.date["add_"+p.rec_pattern](v,1,p)}},s._fix_daylight_saving_date=function(p,o,c,u,_){var y=p.getTimezoneOffset()-o.getTimezoneOffset();return y?y>0?new Date(u.valueOf()+1e3*c.event_length-60*y*1e3):new Date(o.valueOf()-60*y*1e3):new Date(_.valueOf())},s.getRecDates=function(p,o){var c=zh(p)=="object"?p:s.getEvent(p),u=[];if(o=o||100,!c.rec_type)return[{start_date:c.start_date,end_date:c.end_date}];if(c.rec_type=="none")return[];s.repeat_date(c,u,!0,c.start_date,c.end_date,o);for(var _=[],y=0;y<u.length;y++)u[y].rec_type!="none"&&_.push({start_date:u[y].start_date,end_date:u[y].end_date});return _},s.getEvents=function(p,o){var c=[];for(var u in this._events){var _=this._events[u];if(_&&_.start_date<o&&_.end_date>p)if(_.rec_pattern){if(_.rec_pattern=="none")continue;var y=[];this.repeat_date(_,y,!0,p,o);for(var x=0;x<y.length;x++)!y[x].rec_pattern&&y[x].start_date<o&&y[x].end_date>p&&!this._rec_markers[y[x].id]&&c.push(y[x])}else this._is_virtual_event(_.id)||c.push(_)}return c},s.config.repeat_date="%m.%d.%Y",s.config.lightbox.sections=[{name:"description",map_to:"text",type:"textarea",focus:!0},{name:"recurring",type:"recurring",map_to:"rec_type",button:"recurring"},{name:"time",height:72,type:"time",map_to:"auto"}],s._copy_dummy=function(p){var o=new Date(this.start_date),c=new Date(this.end_date);this.start_date=o,this.end_date=c,this.event_length=this.event_pid=this.rec_pattern=this.rec_type=null},s.config.include_end_by=!1,s.config.lightbox_recurring="ask",s.attachEvent("onClearAll",function(){s._rec_markers={},s._rec_markers_pull={},s._rec_temp=[]})},serialize:function(s){var w=dt()(s);s.data_attributes=function(){var d=[],m=s._helpers.formatDate,p=w();for(var o in p){var c=p[o];for(var u in c)u.substr(0,1)!="_"&&d.push([u,u=="start_date"||u=="end_date"?m:null]);break}return d},s.toXML=function(d){var m=[],p=this.data_attributes(),o=w();for(var c in o){var u=o[c];m.push("<event>");for(var _=0;_<p.length;_++)m.push("<"+p[_][0]+"><![CDATA["+(p[_][1]?p[_][1](u[p[_][0]]):u[p[_][0]])+"]]></"+p[_][0]+">");m.push("</event>")}return(d||"")+"<data>"+m.join(`
`)+"</data>"},s._serialize_json_value=function(d){return d===null||typeof d=="boolean"?d=""+d:(d||d===0||(d=""),d='"'+d.toString().replace(/\n/g,"").replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'),d},s.toJSON=function(){return JSON.stringify(this.serialize())},s.toICal=function(d){var m=s.date.date_to_str("%Y%m%dT%H%i%s"),p=s.date.date_to_str("%Y%m%d"),o=[],c=w();for(var u in c){var _=c[u];o.push("BEGIN:VEVENT"),_._timed&&(_.start_date.getHours()||_.start_date.getMinutes())?o.push("DTSTART:"+m(_.start_date)):o.push("DTSTART:"+p(_.start_date)),_._timed&&(_.end_date.getHours()||_.end_date.getMinutes())?o.push("DTEND:"+m(_.end_date)):o.push("DTEND:"+p(_.end_date)),o.push("SUMMARY:"+_.text),o.push("END:VEVENT")}return`BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//dhtmlXScheduler//NONSGML v2.2//EN
DESCRIPTION:`+(d||"")+`
`+o.join(`
`)+`
END:VCALENDAR`}},timeline:function(s){Ai("Timeline",s.assert)},tooltip:function(s){var w=s._createDomEventScope(),d={};s.ext.tooltip=s.dhtmlXTooltip=s.tooltip=d,d.config={className:"dhtmlXTooltip scheduler_tooltip tooltip",timeout_to_display:50,timeout_to_hide:50,delta_x:15,delta_y:-20},d.tooltip=document.createElement("div"),d.tooltip.className=d.config.className,s._waiAria.tooltipAttr(d.tooltip),d.show=function(m,p){if(!this._mobile||s.config.touch_tooltip){var o=d,c=this.tooltip,u=c.style;o.tooltip.className=o.config.className;var _=this.position(m),y=m.target||m.srcElement;if(!this.isTooltip(y)){var x=_.x+(o.config.delta_x||0),v=_.y-(o.config.delta_y||0);u.visibility="hidden",u.right="",u.bottom="",u.left="0",u.top="0",s.config.rtl&&(c.className+=" dhtmlXTooltip_rtl"),this.tooltip.innerHTML=p,document.body.appendChild(this.tooltip);var S=this.tooltip.offsetWidth,b=this.tooltip.offsetHeight;if(document.documentElement.clientWidth-x-S<0?(u.left="",u.right=document.documentElement.clientWidth-x+2*(o.config.delta_x||0)+"px"):u.left=x<0?_.x+Math.abs(o.config.delta_x||0)+"px":x+"px",document.documentElement.clientHeight-v-b<0){var k=document.documentElement.clientHeight-v-2*(o.config.delta_y||0);k+b>document.documentElement.clientHeight?(v-=Math.abs(document.documentElement.clientHeight-v-b),v=Math.max(v,0),u.top=v+"px"):(u.bottom=k+"px",u.top="")}else u.top=v<0?_.y+Math.abs(o.config.delta_y||0)+"px":v+"px";s._waiAria.tooltipVisibleAttr(this.tooltip),u.visibility="visible",w.attach(this.tooltip,"mouseleave",function(D){for(var M=s.dhtmlXTooltip,V=D.relatedTarget;V!=s._obj&&V;)V=V.parentNode;V!=s._obj&&M.delay(M.hide,M,[],M.config.timeout_to_hide)}),s.callEvent("onTooltipDisplayed",[this.tooltip,this.tooltip.event_id])}}},d._clearTimeout=function(){this.tooltip._timeout_id&&clearTimeout(this.tooltip._timeout_id)},d.hide=function(){if(this.tooltip.parentNode){s._waiAria.tooltipHiddenAttr(this.tooltip);var m=this.tooltip.event_id;this.tooltip.event_id=null,w.detachAll(),this.tooltip.parentNode.removeChild(this.tooltip),s.callEvent("onAfterTooltip",[m])}this._clearTimeout()},d.delay=function(m,p,o,c){this._clearTimeout(),this.tooltip._timeout_id=setTimeout(function(){var u=m.apply(p,o);return m=p=o=null,u},c||this.config.timeout_to_display)},d.isTooltip=function(m){for(var p=!1;m&&!p;)p=m.className==this.tooltip.className,m=m.parentNode;return p},d.position=function(m){return{x:m.clientX,y:m.clientY}},s.attachEvent("onMouseMove",function(m,p){var o=p.target||p.srcElement,c=d,u=c.isTooltip(o),_=c.isTooltipTarget&&c.isTooltipTarget(o);if(m&&s.getState().editor_id!=m||u||_){var y,x;if(m||c.tooltip.event_id){var v=s.getEvent(m)||s.getEvent(c.tooltip.event_id);if(!v)return;if(c.tooltip.event_id=v.id,!(y=s.templates.tooltip_text(v.start_date,v.end_date,v)))return c.hide()}if(_&&(y=""),s.$env.isIE)for(var S in x={pageX:void 0,pageY:void 0,clientX:void 0,clientY:void 0,target:void 0,srcElement:void 0})x[S]=p[S];if(!s.callEvent("onBeforeTooltip",[m])||!y)return;c.delay(c.show,c,[x||p,y])}else c.delay(c.hide,c,[],c.config.timeout_to_hide)}),s.attachEvent("onBeforeDrag",function(){return d.hide(),!0}),s.attachEvent("onEventDeleted",function(){return d.hide(),!0}),s.attachEvent("onDestroy",function(){d.hide()})},treetimeline:function(s){Ai("Tree Timeline",s.assert)},units:function(s){Ai("Units",s.assert)},url:function(s){s._get_url_nav=function(){for(var w={},d=(document.location.hash||"").replace("#","").split(","),m=0;m<d.length;m++){var p=d[m].split("=");p.length==2&&(w[p[0]]=p[1])}return w},s.attachEvent("onTemplatesReady",function(){var w=!0,d=s.date.str_to_date("%Y-%m-%d"),m=s.date.date_to_str("%Y-%m-%d"),p=s._get_url_nav().event||null;function o(c){p=c,s.getEvent(c)&&s.showEvent(c)}s.attachEvent("onAfterEventDisplay",function(c){return p=null,!0}),s.attachEvent("onBeforeViewChange",function(c,u,_,y){if(w){w=!1;var x=s._get_url_nav();if(x.event)try{if(s.getEvent(x.event))return setTimeout(function(){o(x.event)}),!1;var v=s.attachEvent("onXLE",function(){setTimeout(function(){o(x.event)}),s.detachEvent(v)})}catch{}if(x.date||x.mode){try{this.setCurrentView(x.date?d(x.date):null,x.mode||null)}catch{this.setCurrentView(x.date?d(x.date):null,_)}return!1}}var S=["date="+m(y||u),"mode="+(_||c)];p&&S.push("event="+p);var b="#"+S.join(",");return document.location.hash=b,!0})})},week_agenda:function(s){Ai("Week Agenda",s.assert)},wp:function(s){s.attachEvent("onLightBox",function(){if(this._cover)try{this._cover.style.height=this.expanded?"100%":(document.body.parentNode||document.body).scrollHeight+"px"}catch{}}),s.form_blocks.select.set_value=function(w,d,m){d!==void 0&&d!==""||(d=(w.firstChild.options[0]||{}).value),w.firstChild.value=d||""}},year_view:function(s){s.config.year_x=4,s.config.year_y=3,s.xy.year_top=0,s.templates.year_date=function(u){return s.date.date_to_str(s.locale.labels.year_tab+" %Y")(u)},s.templates.year_month=s.date.date_to_str("%F"),s.templates.year_scale_date=s.date.date_to_str("%D"),s.templates.year_tooltip=function(u,_,y){return y.text};var w=function(){return s._mode=="year"};s.dblclick_dhx_month_head=function(u){if(w()){var _=u.target||u.srcElement,y=s._getClassName(_.parentNode);if(y.indexOf("dhx_before")!=-1||y.indexOf("dhx_after")!=-1)return!1;for(var x=_;x&&(!x.hasAttribute||!x.hasAttribute("date"));)x=x.parentNode;if(x){var v=this._helpers.parseDate(x.getAttribute("date"));v.setDate(parseInt(_.innerHTML,10));var S=this.date.add(v,1,"day");!this.config.readonly&&this.config.dblclick_create&&this.addEventNow(v.valueOf(),S.valueOf(),u)}}};var d=s.changeEventId;s.changeEventId=function(){d.apply(this,arguments),w()&&this.year_view(!0)};var m=s.render_data;s.render_data=function(u){if(!w())return m.apply(this,arguments);for(var _=0;_<u.length;_++)this._year_render_event(u[_])};var p=s.clear_view;s.clear_view=function(){if(!w())return p.apply(this,arguments);var u=s._year_marked_cells,_=null;for(var y in u)u.hasOwnProperty(y)&&((_=u[y]).className="dhx_month_head",_.removeAttribute("date"));s._year_marked_cells={}},s._hideToolTip=function(){this._tooltip&&(this._tooltip.style.display="none",this._tooltip.date=new Date(9999,1,1))},s._showToolTip=function(u,_,y,x){if(this._tooltip){if(this._tooltip.date.valueOf()==u.valueOf())return;this._tooltip.innerHTML=""}else{var v=this._tooltip=document.createElement("div");v.className="dhx_year_tooltip",this.config.rtl&&(v.className+=" dhx_tooltip_rtl"),document.body.appendChild(v),v.addEventListener("click",s._click.dhx_cal_data)}for(var S=this.getEvents(u,this.date.add(u,1,"day")),b="",k=0;k<S.length;k++){var D=S[k];if(this.filter_event(D.id,D)){var M=D.color?"background:"+D.color+";":"",V=D.textColor?"color:"+D.textColor+";":"";b+="<div class='dhx_tooltip_line' style='"+M+V+"' event_id='"+S[k].id+"' "+this.config.event_attribute+"='"+S[k].id+"'>",b+="<div class='dhx_tooltip_date' style='"+M+V+"'>"+(S[k]._timed?this.templates.event_date(S[k].start_date):"")+"</div>",b+="<div class='dhx_event_icon icon_details'>&nbsp;</div>",b+=this.templates.year_tooltip(S[k].start_date,S[k].end_date,S[k])+"</div>"}}this._tooltip.style.display="",this._tooltip.style.top="0px",document.body.offsetWidth-_.left-this._tooltip.offsetWidth<0?this._tooltip.style.left=_.left-this._tooltip.offsetWidth+"px":this._tooltip.style.left=_.left+x.offsetWidth+"px",this._tooltip.date=u,this._tooltip.innerHTML=b,document.body.offsetHeight-_.top-this._tooltip.offsetHeight<0?this._tooltip.style.top=_.top-this._tooltip.offsetHeight+x.offsetHeight+"px":this._tooltip.style.top=_.top+"px"},s._year_view_tooltip_handler=function(u){if(w()){var _=u.target||u.srcElement;_.tagName.toLowerCase()=="a"&&(_=_.parentNode),s._getClassName(_).indexOf("dhx_year_event")!=-1?s._showToolTip(s.templates.parse_date(_.getAttribute("data-year-date")),s.$domHelpers.getOffset(_),u,_):s._hideToolTip()}},s._init_year_tooltip=function(){s._detachDomEvent(s._els.dhx_cal_data[0],"mouseover",s._year_view_tooltip_handler),s.event(s._els.dhx_cal_data[0],"mouseover",s._year_view_tooltip_handler)},s._get_year_cell=function(u){var _=u.getMonth()+12*(u.getFullYear()-this._min_date.getFullYear())-this.week_starts._month,y=this._els.dhx_cal_data[0].childNodes[_],x=this.week_starts[_]+u.getDate()-1;return y.querySelectorAll(".dhx_year_body tr")[Math.floor(x/7)].querySelectorAll("td")[x%7].querySelector(".dhx_month_head")},s._year_marked_cells={},s._mark_year_date=function(u,_){var y=s.templates.format_date(u),x=this._get_year_cell(u);if(x){var v=this.templates.event_class(_.start_date,_.end_date,_);s._year_marked_cells[y]||(x.className="dhx_month_head dhx_year_event",x.setAttribute("data-year-date",y),x.setAttribute("date",y),s._year_marked_cells[y]=x),x.className+=v?" "+v:""}},s._unmark_year_date=function(u){var _=this._get_year_cell(u);_&&(_.className="dhx_month_head")},s._year_render_event=function(u){var _=u.start_date;for(_=_.valueOf()<this._min_date.valueOf()?this._min_date:this.date.date_part(new Date(_));_<u.end_date;)if(this._mark_year_date(_,u),(_=this.date.add(_,1,"day")).valueOf()>=this._max_date.valueOf())return},s.year_view=function(u){var _;if(u&&(_=s.xy.scale_height,s.xy.scale_height=-1),s._els.dhx_cal_header[0].style.display=u?"none":"",s.set_sizes(),u&&(s.xy.scale_height=_),s._table_view=u,!this._load_mode||!this._load())if(u){if(s._init_year_tooltip(),s._reset_year_scale(),s._load_mode&&s._load())return void(s._render_wait=!0);s.render_view_data()}else s._hideToolTip()},s._reset_year_scale=function(){this._cols=[],this._colsS={};var u=[],_=this._els.dhx_cal_data[0],y=this.config;_.scrollTop=0,_.innerHTML="";var x=Math.floor(parseInt(_.style.width)/y.year_x),v=Math.floor((parseInt(_.style.height)-s.xy.year_top)/y.year_y);v<190&&(v=190,x=Math.floor((parseInt(_.style.width)-s.xy.scroll_width)/y.year_x));var S=x-11,b=0,k=document.createElement("div"),D=this.date.week_start(s._currentDate());this._process_ignores(D,7,"day",1);for(var M=7-(this._ignores_detected||0),V=0,U=0;U<7;U++)this._ignores&&this._ignores[U]||(this._cols[U]=Math.floor(S/(M-V)),this._render_x_header(U,b,D,k),S-=this._cols[U],b+=this._cols[U],V++),D=this.date.add(D,1,"day");for(k.lastChild.className+=" dhx_scale_bar_last",U=0;U<k.childNodes.length;U++)this._waiAria.yearHeadCell(k.childNodes[U]);var q=this.date[this._mode+"_start"](this.date.copy(this._date)),Q=q,re=null;for(U=0;U<y.year_y;U++)for(var K=0;K<y.year_x;K++){(re=document.createElement("div")).className="dhx_year_box",re.style.cssText="position:absolute;",re.setAttribute("date",this._helpers.formatDate(q)),re.innerHTML="<div class='dhx_year_month'></div><div class='dhx_year_grid'><div class='dhx_year_week'>"+k.innerHTML+"</div><div class='dhx_year_body'></div></div>";var ie=re.querySelector(".dhx_year_month"),G=re.querySelector(".dhx_year_grid"),ne=re.querySelector(".dhx_year_week"),J=re.querySelector(".dhx_year_body"),we=s.uid();this._waiAria.yearHeader(ie,we),this._waiAria.yearGrid(G,we),ie.innerHTML=this.templates.year_month(q);var Te=this.date.week_start(q);this._reset_month_scale(J,q,Te,6);for(var Se=J.querySelectorAll("td"),Ie=0;Ie<Se.length;Ie++)this._waiAria.yearDayCell(Se[Ie]);_.appendChild(re),ne.style.height=ne.childNodes[0].offsetHeight+"px";var De=Math.round((v-190)/2);re.style.marginTop=De+"px",this.set_xy(re,x-10,v-De-10,x*K+5,v*U+5+s.xy.year_top),u[U*y.year_x+K]=(q.getDay()-(this.config.start_on_monday?1:0)+7)%7,q=this.date.add(q,1,"month")}var Ve=this._getNavDateElement();Ve&&(Ve.innerHTML=this.templates[this._mode+"_date"](Q,q,this._mode)),this.week_starts=u,u._month=Q.getMonth(),this._min_date=Q,this._max_date=q};var o=s.getActionData;s.getActionData=function(u){if(!w())return o.apply(s,arguments);var _=u.target,y=s._get_year_month_date(_),x=s._get_year_month_cell(_),v=s._get_year_day_indexes(x);return v&&y?(y=s.date.add(y,v.week,"week"),y=s.date.add(y,v.day,"day")):y=null,{date:y,section:null}},s._get_year_day_indexes=function(u){var _=s._get_year_el_node(u,this._locate_year_month_table);if(!_)return null;for(var y=0,x=0,v=(y=0,_.rows.length);y<v;y++){for(var S=_.rows[y].getElementsByTagName("td"),b=(x=0,S.length);x<b&&S[x]!=u;x++);if(x<b)break}return y<v?{day:x,week:y}:null},s._get_year_month_date=function(u){if(!(u=s._get_year_el_node(u,s._locate_year_month_root)))return null;var _=u.getAttribute("data-year-date");return _?s.date.week_start(s.date.month_start(s.templates.parse_date(_))):null},s._locate_year_month_day=function(u){return s._getClassName(u).indexOf("dhx_year_event")!=-1&&u.hasAttribute&&u.hasAttribute("data-year-date")};var c=s._locate_event;s._locate_event=function(u){var _=c.apply(s,arguments);if(!_){var y=s._get_year_el_node(u,s._locate_year_month_day);if(!y||!y.hasAttribute("data-year-date"))return null;var x=s.templates.parse_date(y.getAttribute("data-year-date")),v=s.getEvents(x,s.date.add(x,1,"day"));if(!v.length)return null;_=v[0].id}return _},s._locate_year_month_cell=function(u){return u.nodeName.toLowerCase()=="td"},s._locate_year_month_table=function(u){return u.nodeName.toLowerCase()=="table"},s._locate_year_month_root=function(u){return u.hasAttribute&&u.hasAttribute("data-year-date")},s._get_year_month_cell=function(u){return this._get_year_el_node(u,this._locate_year_month_cell)},s._get_year_month_table=function(u){return this._get_year_el_node(u,this._locate_year_month_table)},s._get_year_month_root=function(u){return this._get_year_el_node(this._get_year_month_table(u),this._locate_year_month_root)},s._get_year_el_node=function(u,_){for(;u&&!_(u);)u=u.parentNode;return u},s.attachEvent("onDestroy",function(){s._hideToolTip()})}}),Vc=Hh.getSchedulerInstance(),dv={plugin:Vc.bind(Hh.plugin,Hh)};window.scheduler=Vc,window.Scheduler=dv,r.default=Vc}])})})(Oz);const Lo=window.scheduler,Mz=Xe.now().toFormat("y, L, d");class Pz extends ae.exports.Component{componentDidMount(){Lo.skin="material",Lo.config.header=["day","week","month","date","prev","today","next"];const{events:e}=this.props;Lo.init(this.schedulerContainer,Mz),Lo.clearAll(),Lo.parse(e)}render(){return P("div",{ref:e=>{this.schedulerContainer=e},style:{width:"100%",height:"720px"}})}}const Lz=()=>{const{user:t}=Sn(),[e,n]=ae.exports.useState([]),[r,i]=ae.exports.useState(!0);return ae.exports.useEffect(()=>{const a=Mt(),l=Bn(a,`Users/${t.uid}/mySchedule`);Xr(l).then(h=>{const f=h.docs.map(E=>({...E.data()})),g=[];f.forEach(E=>{Object.keys(E).forEach(T=>{if(E[T].reprogramed===!1){const A=E[T].date,L=E[T].dateEnd,N=A.toDate(),R=L.toDate();let O="";t.role==="teacher"?O=`Alumno: ${E[T].studentName} ${E[T].studentLastName}`:O=`Profesor: ${E[T].teacherName} ${E[T].teacherLastName}`,g.push({start_date:N,end_date:R,text:O})}})}),n(g),i(!1)})},[t]),r?P("h5",{children:"loading..."}):P("div",{children:P("div",{className:"scheduler-container",children:P(Pz,{events:e})})})};const Rz=({info:t})=>{const{user:e}=Sn(),[n,r]=ae.exports.useState(t.checked),i=t.timeStamp.toDate().toString(),a=async()=>{r(!n);try{const l=Mt(),h=je(l,`Users/${e.uid}`);await tt(h,{notifications:Vt(-1)});const f=je(l,`Users/${e.uid}/myNotifications/${t.id}`);await tt(f,{checked:!0})}catch(l){swal("UPS!",`${l.message}`,"error")}};return P("div",{className:"notification_container",children:X("div",{className:"notification_card",children:[X("p",{className:"notification_type",children:[" ",t.notificationType," "]}),X("p",{className:"notification_info",children:[" ",t.textNotification," "]}),X("p",{className:"notification_date",children:[" ",i," "]}),!n&&P("button",{className:"notification_button",onClick:a,children:"Visto"})]})})},$z=({notificaciones:t=[]})=>(t.sort((e,n)=>e.timeStamp>n.timeStamp?-1:e.timeStamp<n.timeStamp?1:0),t.map(e=>P(Rz,{info:e},e.id)));const Fz=()=>{const{user:t}=Sn(),[e,n]=ae.exports.useState([]);return ae.exports.useEffect(()=>{const r=Mt(),i=Bn(r,`Users/${t.uid}/myNotifications`);Xr(i).then(a=>n(a.docs.map(l=>({id:l.id,...l.data()}))))},[t]),P("div",{className:"notification_body",children:P($z,{notificaciones:e})})};const Uz=({teacher:t,durationClass:e,newDate:n})=>{const r=[],i=t.disponibility;let a=0;switch(e){case 30:a=2;break;case 50:a=3;break}return t.teacherWeek.map((l,h)=>{let f=i[l.day];const g=l.timeStartDate,E=l.timeEndDate,T=g.toDate(),C=E.toDate(),A=T.getUTCHours(),L=T.getUTCMinutes(),N=A.toString().padStart(2,"0"),R=L.toString().padStart(2,"0"),O=`${N}:${R}`,I=C.getUTCHours(),$=C.getUTCMinutes(),F=I.toString().padStart(2,"0"),j=$.toString().padStart(2,"0"),B=`${F}:${j}`;function z(W,Y,te){let Z=!0;for(let le=0;le<Y;le++){let[he,ke]=W.split(":");if(ke=Number(ke)+15,ke>=60&&(ke=ke-60,he=Number(he)+1,he<10&&(he="0"+he),ke<10&&(ke="0"+ke),he===24&&(he="00")),W=`${he}:${ke}`,Z=te[W],!Z)break}return Z}let H=O;for(;H!==B;){if(f[H]&&z(H,a,f)){const[te,Z]=H.split(":"),le=parseInt(te),he=parseInt(Z),ke=new Date(Date.UTC(2022,1,1,le,he)),xe={day:l.day,time:ke};r.push(xe)}let[W,Y]=H.split(":");Y=Number(Y)+15,Y>=60&&(Y=Y-60,W=Number(W)+1,W<10&&(W="0"+W),Y<10&&(Y="0"+Y),W===24&&(W="00")),H=`${W}:${Y}`}}),P("div",{children:r.map((l,h)=>{const f=l.time,g=f.getHours(),E=f.getMinutes(),T=g.toString().padStart(2,"0"),C=E.toString().padStart(2,"0");return P("div",{className:"listaHorarios_container",children:X("div",{className:"listaHorarios_card",children:[X("div",{className:"listaHorarios_data",children:[X("p",{className:"listaHorarios_dia",children:[l.day,":"]}),X("p",{className:"listaHorarios_hora",children:[T,":",C," HS"]})]}),P("button",{className:"listaHorarios_button",onClick:()=>{n(l.day,l.time)},children:"Seleccionar"})]})},h)})})};const jz=()=>{const[t,e]=ae.exports.useState(!1),{user:n}=Sn(),[r,i]=ae.exports.useState(),[a,l]=ae.exports.useState(),h=n.misClases.actualClass,f=n.misClases.durationClass,g=n.misClases.teacherUid;let E=[];const T=[],C=Kn();async function A(N){const R=Mt(),O=je(R,`Users/${N}`),$=(await ki(O)).data(),F=Bn(R,`Users/${n.uid}/mySchedule`);return Xr(F).then(j=>{l(j.docs.map(B=>({id:B.id,...B.data()})))}),$}ae.exports.useEffect(()=>{A(g).then(N=>{const R={disponibility:N.disponibility,teacherWeek:N.weekDisponibility};i(R)})},[]);const L=async(N,R)=>{e(!0);const I=a[0][h];let F=I.date.toDate();const j=(Oe,rt)=>{Oe.setDate(Oe.getDate()+rt)};let B=0,z=1,H=2,W=3,Y=4,te=5,Z=6;const le=F.getDay();switch(le){case 0:j(F,0);break;case 1:j(F,-1);break;case 2:j(F,-2);break;case 3:j(F,-3);break;case 4:j(F,-4);break;case 5:j(F,-5);break;case 6:j(F,-6);break}const he=(Oe,rt,xt,Ht)=>{j(F,rt);const dt=Oe,wt=F.getDate(),ce=F.getMonth(),Jt=F.getFullYear(),Mn=dt.getHours(),gt=dt.getMinutes();let ee=new Date(Jt,ce,wt,Mn,gt),de=new Date(Jt,ce,wt,Mn,gt);de.setMinutes(de.getMinutes()+Ht),ee.getDay()<=le&&j(ee,7)&&j(de,7),E={date:ee,dateEnd:de,time:Oe,condition:"pending",linkToClass:"",teacherCalification:"",studentCalification:"",studentAssist:!1,reprogramed:!1,durationClass:I.durationClass,classNumber:xt,calificationOfClass:"",studentName:I.studentName,studentLastName:I.studentLastName,studentUid:I.studentUid,studentEmail:I.studentEmail,teacherName:I.teacherName,teacherLastName:I.teacherLastName,teacherUid:I.teacherUid},j(F,-rt)},ke=(Oe,rt)=>{Oe==="domingo"&&he(rt,B,I.classNumber,I.durationClass),Oe==="lunes"&&he(rt,z,I.classNumber,I.durationClass),Oe==="martes"&&he(rt,H,I.classNumber,I.durationClass),Oe==="miercoles"&&he(rt,W,I.classNumber,I.durationClass),Oe==="jueves"&&he(rt,Y,I.classNumber,I.durationClass),Oe==="viernes"&&he(rt,te,I.classNumber,I.durationClass),Oe==="sabado"&&he(rt,Z,I.classNumber,I.durationClass)};j(F,0),ke(N,R);const xe=[];a.forEach(Oe=>Object.keys(Oe).forEach(rt=>xe.push(Oe[rt]))),xe.pop(),xe[I.classNumber].reprogramed=!0;let Ge=!1;for(let Oe=0;Oe<xe.length;Oe++){const rt=xe[Oe],xt=rt.date.toDate();Ge?(rt.classNumber=Oe,T.push(rt)):xt<E.date?T.push(rt):(E.classNumber=Oe,T.push(E),rt.classNumber=Oe,T.push(rt),Ge=!0)}const fe=Mt(),ge=je(fe,`Users/${n.uid}`);await tt(ge,{actualClass:Vt(1),reprogramedThisMonth:Vt(1)});const pe=je(fe,`Users/${n.uid}/mySchedule/${a[0].id}`);await tt(pe,{...T});const Fe=je(fe,`Users/${I.teacherUid}/mySchedule/${n.uid}`);await tt(Fe,{...T}),swal("Muy Bien","La clase fue reprogramada con exito","success"),C("/Panel")};if(r)return P("div",{children:t?P(qn,{}):X(Yt,{children:[X("div",{className:"reprogramar_title",children:[P("h5",{children:"REPROGRAMAR CLASE"}),P("p",{children:"Aqui veras una lista de los horarios disponibles para reprogramar tu clase, recuerda que solo puedes hacer esto 2 veces por mes"})]}),P("div",{children:P(Uz,{teacher:r,durationClass:f,newDate:L})})]})})},Vz=({children:t})=>{const{userLogged:e}=ir(),{user:n}=Sn();return e?n.role==="teacher"||n.role==="alumn"?P(qa,{to:"/"}):t:P(qa,{to:"/signIn"})};function zz(){return P(Yt,{children:P(DD,{children:P(sM,{children:X(a$,{children:[P(d$,{}),X(CD,{children:[P(Pn,{path:"/",element:P(BU,{})}),P(Pn,{path:"/signIn",element:P(YU,{})}),P(Pn,{path:"/signUp",element:P(YV,{})}),P(Pn,{path:"/Panel",element:P(Nz,{})}),P(Pn,{path:"/Account/ReprogramClass",element:P(jz,{})}),P(Pn,{path:"/Account/Teacher/MyStudents",element:P(Iz,{})}),P(Pn,{path:"/MiCalendario",element:P(Lz,{})}),P(Pn,{path:"/Checkout",element:P(kk,{})}),P(Pn,{path:"/MisNotificaciones",element:P(Fz,{})}),P(Pn,{path:"/account",element:P(JV,{children:P(nz,{})})}),P(Pn,{path:"/Alumn",element:P(QV,{children:P(NC,{})})}),P(Pn,{path:"/Teacher",element:P(XV,{children:P(DC,{})})}),P(Pn,{path:"/Admin",element:P(Vz,{children:P(TC,{})})}),P(Pn,{path:"*",element:P("h1",{children:"404"})})]}),P(KU,{})]})})})})}Kf.createRoot(document.getElementById("root")).render(P(oa.StrictMode,{children:P(zz,{})}));
