(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerpolicy&&(a.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?a.credentials="include":i.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function Ab(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ae={exports:{}},ot={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zl=Symbol.for("react.element"),PC=Symbol.for("react.portal"),LC=Symbol.for("react.fragment"),RC=Symbol.for("react.strict_mode"),$C=Symbol.for("react.profiler"),FC=Symbol.for("react.provider"),UC=Symbol.for("react.context"),jC=Symbol.for("react.forward_ref"),VC=Symbol.for("react.suspense"),zC=Symbol.for("react.memo"),HC=Symbol.for("react.lazy"),hv=Symbol.iterator;function BC(t){return t===null||typeof t!="object"?null:(t=hv&&t[hv]||t["@@iterator"],typeof t=="function"?t:null)}var Ob={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Mb=Object.assign,Pb={};function to(t,e,n){this.props=t,this.context=e,this.refs=Pb,this.updater=n||Ob}to.prototype.isReactComponent={};to.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};to.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Lb(){}Lb.prototype=to.prototype;function Up(t,e,n){this.props=t,this.context=e,this.refs=Pb,this.updater=n||Ob}var jp=Up.prototype=new Lb;jp.constructor=Up;Mb(jp,to.prototype);jp.isPureReactComponent=!0;var fv=Array.isArray,Rb=Object.prototype.hasOwnProperty,Vp={current:null},$b={key:!0,ref:!0,__self:!0,__source:!0};function Fb(t,e,n){var r,i={},a=null,l=null;if(e!=null)for(r in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(a=""+e.key),e)Rb.call(e,r)&&!$b.hasOwnProperty(r)&&(i[r]=e[r]);var h=arguments.length-2;if(h===1)i.children=n;else if(1<h){for(var f=Array(h),g=0;g<h;g++)f[g]=arguments[g+2];i.children=f}if(t&&t.defaultProps)for(r in h=t.defaultProps,h)i[r]===void 0&&(i[r]=h[r]);return{$$typeof:Zl,type:t,key:a,ref:l,props:i,_owner:Vp.current}}function qC(t,e){return{$$typeof:Zl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function zp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Zl}function WC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var _v=/\/+/g;function Bh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?WC(""+t.key):e.toString(36)}function bu(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case Zl:case PC:l=!0}}if(l)return l=t,i=i(l),t=r===""?"."+Bh(l,0):r,fv(i)?(n="",t!=null&&(n=t.replace(_v,"$&/")+"/"),bu(i,e,n,"",function(g){return g})):i!=null&&(zp(i)&&(i=qC(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(_v,"$&/")+"/")+t)),e.push(i)),1;if(l=0,r=r===""?".":r+":",fv(t))for(var h=0;h<t.length;h++){a=t[h];var f=r+Bh(a,h);l+=bu(a,e,n,f,i)}else if(f=BC(t),typeof f=="function")for(t=f.call(t),h=0;!(a=t.next()).done;)a=a.value,f=r+Bh(a,h++),l+=bu(a,e,n,f,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function Vc(t,e,n){if(t==null)return t;var r=[],i=0;return bu(t,r,"","",function(a){return e.call(n,a,i++)}),r}function GC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Bn={current:null},wu={transition:null},KC={ReactCurrentDispatcher:Bn,ReactCurrentBatchConfig:wu,ReactCurrentOwner:Vp};ot.Children={map:Vc,forEach:function(t,e,n){Vc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Vc(t,function(){e++}),e},toArray:function(t){return Vc(t,function(e){return e})||[]},only:function(t){if(!zp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ot.Component=to;ot.Fragment=LC;ot.Profiler=$C;ot.PureComponent=Up;ot.StrictMode=RC;ot.Suspense=VC;ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KC;ot.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Mb({},t.props),i=t.key,a=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,l=Vp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var h=t.type.defaultProps;for(f in e)Rb.call(e,f)&&!$b.hasOwnProperty(f)&&(r[f]=e[f]===void 0&&h!==void 0?h[f]:e[f])}var f=arguments.length-2;if(f===1)r.children=n;else if(1<f){h=Array(f);for(var g=0;g<f;g++)h[g]=arguments[g+2];r.children=h}return{$$typeof:Zl,type:t.type,key:i,ref:a,props:r,_owner:l}};ot.createContext=function(t){return t={$$typeof:UC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:FC,_context:t},t.Consumer=t};ot.createElement=Fb;ot.createFactory=function(t){var e=Fb.bind(null,t);return e.type=t,e};ot.createRef=function(){return{current:null}};ot.forwardRef=function(t){return{$$typeof:jC,render:t}};ot.isValidElement=zp;ot.lazy=function(t){return{$$typeof:HC,_payload:{_status:-1,_result:t},_init:GC}};ot.memo=function(t,e){return{$$typeof:zC,type:t,compare:e===void 0?null:e}};ot.startTransition=function(t){var e=wu.transition;wu.transition={};try{t()}finally{wu.transition=e}};ot.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ot.useCallback=function(t,e){return Bn.current.useCallback(t,e)};ot.useContext=function(t){return Bn.current.useContext(t)};ot.useDebugValue=function(){};ot.useDeferredValue=function(t){return Bn.current.useDeferredValue(t)};ot.useEffect=function(t,e){return Bn.current.useEffect(t,e)};ot.useId=function(){return Bn.current.useId()};ot.useImperativeHandle=function(t,e,n){return Bn.current.useImperativeHandle(t,e,n)};ot.useInsertionEffect=function(t,e){return Bn.current.useInsertionEffect(t,e)};ot.useLayoutEffect=function(t,e){return Bn.current.useLayoutEffect(t,e)};ot.useMemo=function(t,e){return Bn.current.useMemo(t,e)};ot.useReducer=function(t,e,n){return Bn.current.useReducer(t,e,n)};ot.useRef=function(t){return Bn.current.useRef(t)};ot.useState=function(t){return Bn.current.useState(t)};ot.useSyncExternalStore=function(t,e,n){return Bn.current.useSyncExternalStore(t,e,n)};ot.useTransition=function(){return Bn.current.useTransition()};ot.version="18.2.0";(function(t){t.exports=ot})(ae);const sa=Ab(ae.exports);var Kf={},Ub={exports:{}},_r={},jb={exports:{}},Vb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(_e,he){var ke=_e.length;_e.push(he);e:for(;0<ke;){var ze=ke-1>>>1,Pe=_e[ze];if(0<i(Pe,he))_e[ze]=he,_e[ke]=Pe,ke=ze;else break e}}function n(_e){return _e.length===0?null:_e[0]}function r(_e){if(_e.length===0)return null;var he=_e[0],ke=_e.pop();if(ke!==he){_e[0]=ke;e:for(var ze=0,Pe=_e.length,Je=Pe>>>1;ze<Je;){var St=2*(ze+1)-1,Vt=_e[St],lt=St+1,bt=_e[lt];if(0>i(Vt,ke))lt<Pe&&0>i(bt,Vt)?(_e[ze]=bt,_e[lt]=ke,ze=lt):(_e[ze]=Vt,_e[St]=ke,ze=St);else if(lt<Pe&&0>i(bt,ke))_e[ze]=bt,_e[lt]=ke,ze=lt;else break e}}return he}function i(_e,he){var ke=_e.sortIndex-he.sortIndex;return ke!==0?ke:_e.id-he.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,h=l.now();t.unstable_now=function(){return l.now()-h}}var f=[],g=[],k=1,T=null,C=3,I=!1,L=!1,N=!1,R=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $(_e){for(var he=n(g);he!==null;){if(he.callback===null)r(g);else if(he.startTime<=_e)r(g),he.sortIndex=he.expirationTime,e(f,he);else break;he=n(g)}}function U(_e){if(N=!1,$(_e),!L)if(n(f)!==null)L=!0,ge(j);else{var he=n(g);he!==null&&Ze(U,he.startTime-_e)}}function j(_e,he){L=!1,N&&(N=!1,O(W),W=-1),I=!0;var ke=C;try{for($(he),T=n(f);T!==null&&(!(T.expirationTime>he)||_e&&!Z());){var ze=T.callback;if(typeof ze=="function"){T.callback=null,C=T.priorityLevel;var Pe=ze(T.expirationTime<=he);he=t.unstable_now(),typeof Pe=="function"?T.callback=Pe:T===n(f)&&r(f),$(he)}else r(f);T=n(f)}if(T!==null)var Je=!0;else{var St=n(g);St!==null&&Ze(U,St.startTime-he),Je=!1}return Je}finally{T=null,C=ke,I=!1}}var H=!1,z=null,W=-1,q=5,Y=-1;function Z(){return!(t.unstable_now()-Y<q)}function X(){if(z!==null){var _e=t.unstable_now();Y=_e;var he=!0;try{he=z(!0,_e)}finally{he?ce():(H=!1,z=null)}}else H=!1}var ce;if(typeof A=="function")ce=function(){A(X)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,Ae=de.port2;de.port1.onmessage=X,ce=function(){Ae.postMessage(null)}}else ce=function(){R(X,0)};function ge(_e){z=_e,H||(H=!0,ce())}function Ze(_e,he){W=R(function(){_e(t.unstable_now())},he)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(_e){_e.callback=null},t.unstable_continueExecution=function(){L||I||(L=!0,ge(j))},t.unstable_forceFrameRate=function(_e){0>_e||125<_e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<_e?Math.floor(1e3/_e):5},t.unstable_getCurrentPriorityLevel=function(){return C},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(_e){switch(C){case 1:case 2:case 3:var he=3;break;default:he=C}var ke=C;C=he;try{return _e()}finally{C=ke}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(_e,he){switch(_e){case 1:case 2:case 3:case 4:case 5:break;default:_e=3}var ke=C;C=_e;try{return he()}finally{C=ke}},t.unstable_scheduleCallback=function(_e,he,ke){var ze=t.unstable_now();switch(typeof ke=="object"&&ke!==null?(ke=ke.delay,ke=typeof ke=="number"&&0<ke?ze+ke:ze):ke=ze,_e){case 1:var Pe=-1;break;case 2:Pe=250;break;case 5:Pe=1073741823;break;case 4:Pe=1e4;break;default:Pe=5e3}return Pe=ke+Pe,_e={id:k++,callback:he,priorityLevel:_e,startTime:ke,expirationTime:Pe,sortIndex:-1},ke>ze?(_e.sortIndex=ke,e(g,_e),n(f)===null&&_e===n(g)&&(N?(O(W),W=-1):N=!0,Ze(U,ke-ze))):(_e.sortIndex=Pe,e(f,_e),L||I||(L=!0,ge(j))),_e},t.unstable_shouldYield=Z,t.unstable_wrapCallback=function(_e){var he=C;return function(){var ke=C;C=he;try{return _e.apply(this,arguments)}finally{C=ke}}}})(Vb);(function(t){t.exports=Vb})(jb);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zb=ae.exports,hr=jb.exports;function ve(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Hb=new Set,hl={};function es(t,e){$s(t,e),$s(t+"Capture",e)}function $s(t,e){for(hl[t]=e,t=0;t<e.length;t++)Hb.add(e[t])}var hi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yf=Object.prototype.hasOwnProperty,YC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pv={},mv={};function JC(t){return Yf.call(mv,t)?!0:Yf.call(pv,t)?!1:YC.test(t)?mv[t]=!0:(pv[t]=!0,!1)}function QC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function XC(t,e,n,r){if(e===null||typeof e>"u"||QC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function qn(t,e,n,r,i,a,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=l}var wn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){wn[t]=new qn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];wn[e]=new qn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){wn[t]=new qn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){wn[t]=new qn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){wn[t]=new qn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){wn[t]=new qn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){wn[t]=new qn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){wn[t]=new qn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){wn[t]=new qn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Hp=/[\-:]([a-z])/g;function Bp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Hp,Bp);wn[e]=new qn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Hp,Bp);wn[e]=new qn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Hp,Bp);wn[e]=new qn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){wn[t]=new qn(t,1,!1,t.toLowerCase(),null,!1,!1)});wn.xlinkHref=new qn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){wn[t]=new qn(t,1,!1,t.toLowerCase(),null,!0,!0)});function qp(t,e,n,r){var i=wn.hasOwnProperty(e)?wn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(XC(e,n,i,r)&&(n=null),r||i===null?JC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ki=zb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zc=Symbol.for("react.element"),ds=Symbol.for("react.portal"),hs=Symbol.for("react.fragment"),Wp=Symbol.for("react.strict_mode"),Jf=Symbol.for("react.profiler"),Bb=Symbol.for("react.provider"),qb=Symbol.for("react.context"),Gp=Symbol.for("react.forward_ref"),Qf=Symbol.for("react.suspense"),Xf=Symbol.for("react.suspense_list"),Kp=Symbol.for("react.memo"),Oi=Symbol.for("react.lazy"),Wb=Symbol.for("react.offscreen"),gv=Symbol.iterator;function wo(t){return t===null||typeof t!="object"?null:(t=gv&&t[gv]||t["@@iterator"],typeof t=="function"?t:null)}var Rt=Object.assign,qh;function Lo(t){if(qh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);qh=e&&e[1]||""}return`
`+qh+t}var Wh=!1;function Gh(t,e){if(!t||Wh)return"";Wh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(g){var r=g}Reflect.construct(t,[],e)}else{try{e.call()}catch(g){r=g}t.call(e.prototype)}else{try{throw Error()}catch(g){r=g}t()}}catch(g){if(g&&r&&typeof g.stack=="string"){for(var i=g.stack.split(`
`),a=r.stack.split(`
`),l=i.length-1,h=a.length-1;1<=l&&0<=h&&i[l]!==a[h];)h--;for(;1<=l&&0<=h;l--,h--)if(i[l]!==a[h]){if(l!==1||h!==1)do if(l--,h--,0>h||i[l]!==a[h]){var f=`
`+i[l].replace(" at new "," at ");return t.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",t.displayName)),f}while(1<=l&&0<=h);break}}}finally{Wh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Lo(t):""}function ZC(t){switch(t.tag){case 5:return Lo(t.type);case 16:return Lo("Lazy");case 13:return Lo("Suspense");case 19:return Lo("SuspenseList");case 0:case 2:case 15:return t=Gh(t.type,!1),t;case 11:return t=Gh(t.type.render,!1),t;case 1:return t=Gh(t.type,!0),t;default:return""}}function Zf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case hs:return"Fragment";case ds:return"Portal";case Jf:return"Profiler";case Wp:return"StrictMode";case Qf:return"Suspense";case Xf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case qb:return(t.displayName||"Context")+".Consumer";case Bb:return(t._context.displayName||"Context")+".Provider";case Gp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Kp:return e=t.displayName||null,e!==null?e:Zf(t.type)||"Memo";case Oi:e=t._payload,t=t._init;try{return Zf(t(e))}catch{}}return null}function eT(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zf(e);case 8:return e===Wp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function oa(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Gb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function tT(t){var e=Gb(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(l){r=""+l,a.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Hc(t){t._valueTracker||(t._valueTracker=tT(t))}function Kb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Gb(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Hu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function e_(t,e){var n=e.checked;return Rt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function vv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=oa(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Yb(t,e){e=e.checked,e!=null&&qp(t,"checked",e,!1)}function t_(t,e){Yb(t,e);var n=oa(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?n_(t,e.type,n):e.hasOwnProperty("defaultValue")&&n_(t,e.type,oa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function yv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function n_(t,e,n){(e!=="number"||Hu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ro=Array.isArray;function Cs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+oa(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function r_(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ve(91));return Rt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function bv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ve(92));if(Ro(n)){if(1<n.length)throw Error(ve(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:oa(n)}}function Jb(t,e){var n=oa(e.value),r=oa(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function wv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Qb(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function i_(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Qb(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Bc,Xb=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Bc=Bc||document.createElement("div"),Bc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Bc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function fl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Wo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},nT=["Webkit","ms","Moz","O"];Object.keys(Wo).forEach(function(t){nT.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Wo[e]=Wo[t]})});function Zb(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Wo.hasOwnProperty(t)&&Wo[t]?(""+e).trim():e+"px"}function ew(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Zb(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var rT=Rt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function a_(t,e){if(e){if(rT[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ve(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ve(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ve(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ve(62))}}function s_(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var o_=null;function Yp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var l_=null,Ts=null,Ns=null;function xv(t){if(t=nc(t)){if(typeof l_!="function")throw Error(ve(280));var e=t.stateNode;e&&(e=Hd(e),l_(t.stateNode,t.type,e))}}function tw(t){Ts?Ns?Ns.push(t):Ns=[t]:Ts=t}function nw(){if(Ts){var t=Ts,e=Ns;if(Ns=Ts=null,xv(t),e)for(t=0;t<e.length;t++)xv(e[t])}}function rw(t,e){return t(e)}function iw(){}var Kh=!1;function aw(t,e,n){if(Kh)return t(e,n);Kh=!0;try{return rw(t,e,n)}finally{Kh=!1,(Ts!==null||Ns!==null)&&(iw(),nw())}}function _l(t,e){var n=t.stateNode;if(n===null)return null;var r=Hd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ve(231,e,typeof n));return n}var c_=!1;if(hi)try{var xo={};Object.defineProperty(xo,"passive",{get:function(){c_=!0}}),window.addEventListener("test",xo,xo),window.removeEventListener("test",xo,xo)}catch{c_=!1}function iT(t,e,n,r,i,a,l,h,f){var g=Array.prototype.slice.call(arguments,3);try{e.apply(n,g)}catch(k){this.onError(k)}}var Go=!1,Bu=null,qu=!1,u_=null,aT={onError:function(t){Go=!0,Bu=t}};function sT(t,e,n,r,i,a,l,h,f){Go=!1,Bu=null,iT.apply(aT,arguments)}function oT(t,e,n,r,i,a,l,h,f){if(sT.apply(this,arguments),Go){if(Go){var g=Bu;Go=!1,Bu=null}else throw Error(ve(198));qu||(qu=!0,u_=g)}}function ts(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function sw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ev(t){if(ts(t)!==t)throw Error(ve(188))}function lT(t){var e=t.alternate;if(!e){if(e=ts(t),e===null)throw Error(ve(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ev(i),t;if(a===r)return Ev(i),e;a=a.sibling}throw Error(ve(188))}if(n.return!==r.return)n=i,r=a;else{for(var l=!1,h=i.child;h;){if(h===n){l=!0,n=i,r=a;break}if(h===r){l=!0,r=i,n=a;break}h=h.sibling}if(!l){for(h=a.child;h;){if(h===n){l=!0,n=a,r=i;break}if(h===r){l=!0,r=a,n=i;break}h=h.sibling}if(!l)throw Error(ve(189))}}if(n.alternate!==r)throw Error(ve(190))}if(n.tag!==3)throw Error(ve(188));return n.stateNode.current===n?t:e}function ow(t){return t=lT(t),t!==null?lw(t):null}function lw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=lw(t);if(e!==null)return e;t=t.sibling}return null}var cw=hr.unstable_scheduleCallback,kv=hr.unstable_cancelCallback,cT=hr.unstable_shouldYield,uT=hr.unstable_requestPaint,Ht=hr.unstable_now,dT=hr.unstable_getCurrentPriorityLevel,Jp=hr.unstable_ImmediatePriority,uw=hr.unstable_UserBlockingPriority,Wu=hr.unstable_NormalPriority,hT=hr.unstable_LowPriority,dw=hr.unstable_IdlePriority,Ud=null,Gr=null;function fT(t){if(Gr&&typeof Gr.onCommitFiberRoot=="function")try{Gr.onCommitFiberRoot(Ud,t,void 0,(t.current.flags&128)===128)}catch{}}var Rr=Math.clz32?Math.clz32:mT,_T=Math.log,pT=Math.LN2;function mT(t){return t>>>=0,t===0?32:31-(_T(t)/pT|0)|0}var qc=64,Wc=4194304;function $o(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Gu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,l=n&268435455;if(l!==0){var h=l&~i;h!==0?r=$o(h):(a&=l,a!==0&&(r=$o(a)))}else l=n&~i,l!==0?r=$o(l):a!==0&&(r=$o(a));if(r===0)return 0;if(e!==0&&e!==r&&(e&i)===0&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if((r&4)!==0&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Rr(e),i=1<<n,r|=t[n],e&=~i;return r}function gT(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vT(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var l=31-Rr(a),h=1<<l,f=i[l];f===-1?((h&n)===0||(h&r)!==0)&&(i[l]=gT(h,e)):f<=e&&(t.expiredLanes|=h),a&=~h}}function d_(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function hw(){var t=qc;return qc<<=1,(qc&4194240)===0&&(qc=64),t}function Yh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ec(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Rr(e),t[e]=n}function yT(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Rr(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function Qp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Rr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var vt=0;function fw(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var _w,Xp,pw,mw,gw,h_=!1,Gc=[],Wi=null,Gi=null,Ki=null,pl=new Map,ml=new Map,Li=[],bT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sv(t,e){switch(t){case"focusin":case"focusout":Wi=null;break;case"dragenter":case"dragleave":Gi=null;break;case"mouseover":case"mouseout":Ki=null;break;case"pointerover":case"pointerout":pl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ml.delete(e.pointerId)}}function Eo(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=nc(e),e!==null&&Xp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function wT(t,e,n,r,i){switch(e){case"focusin":return Wi=Eo(Wi,t,e,n,r,i),!0;case"dragenter":return Gi=Eo(Gi,t,e,n,r,i),!0;case"mouseover":return Ki=Eo(Ki,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return pl.set(a,Eo(pl.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,ml.set(a,Eo(ml.get(a)||null,t,e,n,r,i)),!0}return!1}function vw(t){var e=Ca(t.target);if(e!==null){var n=ts(e);if(n!==null){if(e=n.tag,e===13){if(e=sw(n),e!==null){t.blockedOn=e,gw(t.priority,function(){pw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=f_(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);o_=r,n.target.dispatchEvent(r),o_=null}else return e=nc(n),e!==null&&Xp(e),t.blockedOn=n,!1;e.shift()}return!0}function Cv(t,e,n){xu(t)&&n.delete(e)}function xT(){h_=!1,Wi!==null&&xu(Wi)&&(Wi=null),Gi!==null&&xu(Gi)&&(Gi=null),Ki!==null&&xu(Ki)&&(Ki=null),pl.forEach(Cv),ml.forEach(Cv)}function ko(t,e){t.blockedOn===e&&(t.blockedOn=null,h_||(h_=!0,hr.unstable_scheduleCallback(hr.unstable_NormalPriority,xT)))}function gl(t){function e(i){return ko(i,t)}if(0<Gc.length){ko(Gc[0],t);for(var n=1;n<Gc.length;n++){var r=Gc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Wi!==null&&ko(Wi,t),Gi!==null&&ko(Gi,t),Ki!==null&&ko(Ki,t),pl.forEach(e),ml.forEach(e),n=0;n<Li.length;n++)r=Li[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Li.length&&(n=Li[0],n.blockedOn===null);)vw(n),n.blockedOn===null&&Li.shift()}var Ds=ki.ReactCurrentBatchConfig,Ku=!0;function ET(t,e,n,r){var i=vt,a=Ds.transition;Ds.transition=null;try{vt=1,Zp(t,e,n,r)}finally{vt=i,Ds.transition=a}}function kT(t,e,n,r){var i=vt,a=Ds.transition;Ds.transition=null;try{vt=4,Zp(t,e,n,r)}finally{vt=i,Ds.transition=a}}function Zp(t,e,n,r){if(Ku){var i=f_(t,e,n,r);if(i===null)sf(t,e,r,Yu,n),Sv(t,r);else if(wT(i,t,e,n,r))r.stopPropagation();else if(Sv(t,r),e&4&&-1<bT.indexOf(t)){for(;i!==null;){var a=nc(i);if(a!==null&&_w(a),a=f_(t,e,n,r),a===null&&sf(t,e,r,Yu,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else sf(t,e,r,null,n)}}var Yu=null;function f_(t,e,n,r){if(Yu=null,t=Yp(r),t=Ca(t),t!==null)if(e=ts(t),e===null)t=null;else if(n=e.tag,n===13){if(t=sw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Yu=t,null}function yw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(dT()){case Jp:return 1;case uw:return 4;case Wu:case hT:return 16;case dw:return 536870912;default:return 16}default:return 16}}var zi=null,em=null,Eu=null;function bw(){if(Eu)return Eu;var t,e=em,n=e.length,r,i="value"in zi?zi.value:zi.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var l=n-t;for(r=1;r<=l&&e[n-r]===i[a-r];r++);return Eu=i.slice(t,1<r?1-r:void 0)}function ku(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Kc(){return!0}function Tv(){return!1}function pr(t){function e(n,r,i,a,l){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=l,this.currentTarget=null;for(var h in t)t.hasOwnProperty(h)&&(n=t[h],this[h]=n?n(a):a[h]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Kc:Tv,this.isPropagationStopped=Tv,this}return Rt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Kc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Kc)},persist:function(){},isPersistent:Kc}),e}var no={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},tm=pr(no),tc=Rt({},no,{view:0,detail:0}),ST=pr(tc),Jh,Qh,So,jd=Rt({},tc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:nm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==So&&(So&&t.type==="mousemove"?(Jh=t.screenX-So.screenX,Qh=t.screenY-So.screenY):Qh=Jh=0,So=t),Jh)},movementY:function(t){return"movementY"in t?t.movementY:Qh}}),Nv=pr(jd),CT=Rt({},jd,{dataTransfer:0}),TT=pr(CT),NT=Rt({},tc,{relatedTarget:0}),Xh=pr(NT),DT=Rt({},no,{animationName:0,elapsedTime:0,pseudoElement:0}),IT=pr(DT),AT=Rt({},no,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),OT=pr(AT),MT=Rt({},no,{data:0}),Dv=pr(MT),PT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},RT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $T(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=RT[t])?!!e[t]:!1}function nm(){return $T}var FT=Rt({},tc,{key:function(t){if(t.key){var e=PT[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ku(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?LT[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:nm,charCode:function(t){return t.type==="keypress"?ku(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ku(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),UT=pr(FT),jT=Rt({},jd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Iv=pr(jT),VT=Rt({},tc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:nm}),zT=pr(VT),HT=Rt({},no,{propertyName:0,elapsedTime:0,pseudoElement:0}),BT=pr(HT),qT=Rt({},jd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),WT=pr(qT),GT=[9,13,27,32],rm=hi&&"CompositionEvent"in window,Ko=null;hi&&"documentMode"in document&&(Ko=document.documentMode);var KT=hi&&"TextEvent"in window&&!Ko,ww=hi&&(!rm||Ko&&8<Ko&&11>=Ko),Av=String.fromCharCode(32),Ov=!1;function xw(t,e){switch(t){case"keyup":return GT.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ew(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fs=!1;function YT(t,e){switch(t){case"compositionend":return Ew(e);case"keypress":return e.which!==32?null:(Ov=!0,Av);case"textInput":return t=e.data,t===Av&&Ov?null:t;default:return null}}function JT(t,e){if(fs)return t==="compositionend"||!rm&&xw(t,e)?(t=bw(),Eu=em=zi=null,fs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ww&&e.locale!=="ko"?null:e.data;default:return null}}var QT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!QT[t.type]:e==="textarea"}function kw(t,e,n,r){tw(r),e=Ju(e,"onChange"),0<e.length&&(n=new tm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Yo=null,vl=null;function XT(t){Lw(t,0)}function Vd(t){var e=ms(t);if(Kb(e))return t}function ZT(t,e){if(t==="change")return e}var Sw=!1;if(hi){var Zh;if(hi){var ef="oninput"in document;if(!ef){var Pv=document.createElement("div");Pv.setAttribute("oninput","return;"),ef=typeof Pv.oninput=="function"}Zh=ef}else Zh=!1;Sw=Zh&&(!document.documentMode||9<document.documentMode)}function Lv(){Yo&&(Yo.detachEvent("onpropertychange",Cw),vl=Yo=null)}function Cw(t){if(t.propertyName==="value"&&Vd(vl)){var e=[];kw(e,vl,t,Yp(t)),aw(XT,e)}}function eN(t,e,n){t==="focusin"?(Lv(),Yo=e,vl=n,Yo.attachEvent("onpropertychange",Cw)):t==="focusout"&&Lv()}function tN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Vd(vl)}function nN(t,e){if(t==="click")return Vd(e)}function rN(t,e){if(t==="input"||t==="change")return Vd(e)}function iN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Fr=typeof Object.is=="function"?Object.is:iN;function yl(t,e){if(Fr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Yf.call(e,i)||!Fr(t[i],e[i]))return!1}return!0}function Rv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $v(t,e){var n=Rv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Rv(n)}}function Tw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Tw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Nw(){for(var t=window,e=Hu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Hu(t.document)}return e}function im(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function aN(t){var e=Nw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Tw(n.ownerDocument.documentElement,n)){if(r!==null&&im(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=$v(n,a);var l=$v(n,r);i&&l&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var sN=hi&&"documentMode"in document&&11>=document.documentMode,_s=null,__=null,Jo=null,p_=!1;function Fv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;p_||_s==null||_s!==Hu(r)||(r=_s,"selectionStart"in r&&im(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Jo&&yl(Jo,r)||(Jo=r,r=Ju(__,"onSelect"),0<r.length&&(e=new tm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=_s)))}function Yc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ps={animationend:Yc("Animation","AnimationEnd"),animationiteration:Yc("Animation","AnimationIteration"),animationstart:Yc("Animation","AnimationStart"),transitionend:Yc("Transition","TransitionEnd")},tf={},Dw={};hi&&(Dw=document.createElement("div").style,"AnimationEvent"in window||(delete ps.animationend.animation,delete ps.animationiteration.animation,delete ps.animationstart.animation),"TransitionEvent"in window||delete ps.transitionend.transition);function zd(t){if(tf[t])return tf[t];if(!ps[t])return t;var e=ps[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Dw)return tf[t]=e[n];return t}var Iw=zd("animationend"),Aw=zd("animationiteration"),Ow=zd("animationstart"),Mw=zd("transitionend"),Pw=new Map,Uv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ha(t,e){Pw.set(t,e),es(e,[t])}for(var nf=0;nf<Uv.length;nf++){var rf=Uv[nf],oN=rf.toLowerCase(),lN=rf[0].toUpperCase()+rf.slice(1);ha(oN,"on"+lN)}ha(Iw,"onAnimationEnd");ha(Aw,"onAnimationIteration");ha(Ow,"onAnimationStart");ha("dblclick","onDoubleClick");ha("focusin","onFocus");ha("focusout","onBlur");ha(Mw,"onTransitionEnd");$s("onMouseEnter",["mouseout","mouseover"]);$s("onMouseLeave",["mouseout","mouseover"]);$s("onPointerEnter",["pointerout","pointerover"]);$s("onPointerLeave",["pointerout","pointerover"]);es("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));es("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));es("onBeforeInput",["compositionend","keypress","textInput","paste"]);es("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));es("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));es("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cN=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fo));function jv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,oT(r,e,void 0,t),t.currentTarget=null}function Lw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var l=r.length-1;0<=l;l--){var h=r[l],f=h.instance,g=h.currentTarget;if(h=h.listener,f!==a&&i.isPropagationStopped())break e;jv(i,h,g),a=f}else for(l=0;l<r.length;l++){if(h=r[l],f=h.instance,g=h.currentTarget,h=h.listener,f!==a&&i.isPropagationStopped())break e;jv(i,h,g),a=f}}}if(qu)throw t=u_,qu=!1,u_=null,t}function Tt(t,e){var n=e[b_];n===void 0&&(n=e[b_]=new Set);var r=t+"__bubble";n.has(r)||(Rw(e,t,2,!1),n.add(r))}function af(t,e,n){var r=0;e&&(r|=4),Rw(n,t,r,e)}var Jc="_reactListening"+Math.random().toString(36).slice(2);function bl(t){if(!t[Jc]){t[Jc]=!0,Hb.forEach(function(n){n!=="selectionchange"&&(cN.has(n)||af(n,!1,t),af(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Jc]||(e[Jc]=!0,af("selectionchange",!1,e))}}function Rw(t,e,n,r){switch(yw(e)){case 1:var i=ET;break;case 4:i=kT;break;default:i=Zp}n=i.bind(null,e,n,t),i=void 0,!c_||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function sf(t,e,n,r,i){var a=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var h=r.stateNode.containerInfo;if(h===i||h.nodeType===8&&h.parentNode===i)break;if(l===4)for(l=r.return;l!==null;){var f=l.tag;if((f===3||f===4)&&(f=l.stateNode.containerInfo,f===i||f.nodeType===8&&f.parentNode===i))return;l=l.return}for(;h!==null;){if(l=Ca(h),l===null)return;if(f=l.tag,f===5||f===6){r=a=l;continue e}h=h.parentNode}}r=r.return}aw(function(){var g=a,k=Yp(n),T=[];e:{var C=Pw.get(t);if(C!==void 0){var I=tm,L=t;switch(t){case"keypress":if(ku(n)===0)break e;case"keydown":case"keyup":I=UT;break;case"focusin":L="focus",I=Xh;break;case"focusout":L="blur",I=Xh;break;case"beforeblur":case"afterblur":I=Xh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":I=Nv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":I=TT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":I=zT;break;case Iw:case Aw:case Ow:I=IT;break;case Mw:I=BT;break;case"scroll":I=ST;break;case"wheel":I=WT;break;case"copy":case"cut":case"paste":I=OT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":I=Iv}var N=(e&4)!==0,R=!N&&t==="scroll",O=N?C!==null?C+"Capture":null:C;N=[];for(var A=g,$;A!==null;){$=A;var U=$.stateNode;if($.tag===5&&U!==null&&($=U,O!==null&&(U=_l(A,O),U!=null&&N.push(wl(A,U,$)))),R)break;A=A.return}0<N.length&&(C=new I(C,L,null,n,k),T.push({event:C,listeners:N}))}}if((e&7)===0){e:{if(C=t==="mouseover"||t==="pointerover",I=t==="mouseout"||t==="pointerout",C&&n!==o_&&(L=n.relatedTarget||n.fromElement)&&(Ca(L)||L[fi]))break e;if((I||C)&&(C=k.window===k?k:(C=k.ownerDocument)?C.defaultView||C.parentWindow:window,I?(L=n.relatedTarget||n.toElement,I=g,L=L?Ca(L):null,L!==null&&(R=ts(L),L!==R||L.tag!==5&&L.tag!==6)&&(L=null)):(I=null,L=g),I!==L)){if(N=Nv,U="onMouseLeave",O="onMouseEnter",A="mouse",(t==="pointerout"||t==="pointerover")&&(N=Iv,U="onPointerLeave",O="onPointerEnter",A="pointer"),R=I==null?C:ms(I),$=L==null?C:ms(L),C=new N(U,A+"leave",I,n,k),C.target=R,C.relatedTarget=$,U=null,Ca(k)===g&&(N=new N(O,A+"enter",L,n,k),N.target=$,N.relatedTarget=R,U=N),R=U,I&&L)t:{for(N=I,O=L,A=0,$=N;$;$=os($))A++;for($=0,U=O;U;U=os(U))$++;for(;0<A-$;)N=os(N),A--;for(;0<$-A;)O=os(O),$--;for(;A--;){if(N===O||O!==null&&N===O.alternate)break t;N=os(N),O=os(O)}N=null}else N=null;I!==null&&Vv(T,C,I,N,!1),L!==null&&R!==null&&Vv(T,R,L,N,!0)}}e:{if(C=g?ms(g):window,I=C.nodeName&&C.nodeName.toLowerCase(),I==="select"||I==="input"&&C.type==="file")var j=ZT;else if(Mv(C))if(Sw)j=rN;else{j=tN;var H=eN}else(I=C.nodeName)&&I.toLowerCase()==="input"&&(C.type==="checkbox"||C.type==="radio")&&(j=nN);if(j&&(j=j(t,g))){kw(T,j,n,k);break e}H&&H(t,C,g),t==="focusout"&&(H=C._wrapperState)&&H.controlled&&C.type==="number"&&n_(C,"number",C.value)}switch(H=g?ms(g):window,t){case"focusin":(Mv(H)||H.contentEditable==="true")&&(_s=H,__=g,Jo=null);break;case"focusout":Jo=__=_s=null;break;case"mousedown":p_=!0;break;case"contextmenu":case"mouseup":case"dragend":p_=!1,Fv(T,n,k);break;case"selectionchange":if(sN)break;case"keydown":case"keyup":Fv(T,n,k)}var z;if(rm)e:{switch(t){case"compositionstart":var W="onCompositionStart";break e;case"compositionend":W="onCompositionEnd";break e;case"compositionupdate":W="onCompositionUpdate";break e}W=void 0}else fs?xw(t,n)&&(W="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(W="onCompositionStart");W&&(ww&&n.locale!=="ko"&&(fs||W!=="onCompositionStart"?W==="onCompositionEnd"&&fs&&(z=bw()):(zi=k,em="value"in zi?zi.value:zi.textContent,fs=!0)),H=Ju(g,W),0<H.length&&(W=new Dv(W,t,null,n,k),T.push({event:W,listeners:H}),z?W.data=z:(z=Ew(n),z!==null&&(W.data=z)))),(z=KT?YT(t,n):JT(t,n))&&(g=Ju(g,"onBeforeInput"),0<g.length&&(k=new Dv("onBeforeInput","beforeinput",null,n,k),T.push({event:k,listeners:g}),k.data=z))}Lw(T,e)})}function wl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ju(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=_l(t,n),a!=null&&r.unshift(wl(t,a,i)),a=_l(t,e),a!=null&&r.push(wl(t,a,i))),t=t.return}return r}function os(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Vv(t,e,n,r,i){for(var a=e._reactName,l=[];n!==null&&n!==r;){var h=n,f=h.alternate,g=h.stateNode;if(f!==null&&f===r)break;h.tag===5&&g!==null&&(h=g,i?(f=_l(n,a),f!=null&&l.unshift(wl(n,f,h))):i||(f=_l(n,a),f!=null&&l.push(wl(n,f,h)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var uN=/\r\n?/g,dN=/\u0000|\uFFFD/g;function zv(t){return(typeof t=="string"?t:""+t).replace(uN,`
`).replace(dN,"")}function Qc(t,e,n){if(e=zv(e),zv(t)!==e&&n)throw Error(ve(425))}function Qu(){}var m_=null,g_=null;function v_(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var y_=typeof setTimeout=="function"?setTimeout:void 0,hN=typeof clearTimeout=="function"?clearTimeout:void 0,Hv=typeof Promise=="function"?Promise:void 0,fN=typeof queueMicrotask=="function"?queueMicrotask:typeof Hv<"u"?function(t){return Hv.resolve(null).then(t).catch(_N)}:y_;function _N(t){setTimeout(function(){throw t})}function of(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),gl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);gl(e)}function Yi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Bv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ro=Math.random().toString(36).slice(2),Wr="__reactFiber$"+ro,xl="__reactProps$"+ro,fi="__reactContainer$"+ro,b_="__reactEvents$"+ro,pN="__reactListeners$"+ro,mN="__reactHandles$"+ro;function Ca(t){var e=t[Wr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[fi]||n[Wr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Bv(t);t!==null;){if(n=t[Wr])return n;t=Bv(t)}return e}t=n,n=t.parentNode}return null}function nc(t){return t=t[Wr]||t[fi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ms(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ve(33))}function Hd(t){return t[xl]||null}var w_=[],gs=-1;function fa(t){return{current:t}}function It(t){0>gs||(t.current=w_[gs],w_[gs]=null,gs--)}function xt(t,e){gs++,w_[gs]=t.current,t.current=e}var la={},Mn=fa(la),Zn=fa(!1),Fa=la;function Fs(t,e){var n=t.type.contextTypes;if(!n)return la;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function er(t){return t=t.childContextTypes,t!=null}function Xu(){It(Zn),It(Mn)}function qv(t,e,n){if(Mn.current!==la)throw Error(ve(168));xt(Mn,e),xt(Zn,n)}function $w(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ve(108,eT(t)||"Unknown",i));return Rt({},n,r)}function Zu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||la,Fa=Mn.current,xt(Mn,t),xt(Zn,Zn.current),!0}function Wv(t,e,n){var r=t.stateNode;if(!r)throw Error(ve(169));n?(t=$w(t,e,Fa),r.__reactInternalMemoizedMergedChildContext=t,It(Zn),It(Mn),xt(Mn,t)):It(Zn),xt(Zn,n)}var ni=null,Bd=!1,lf=!1;function Fw(t){ni===null?ni=[t]:ni.push(t)}function gN(t){Bd=!0,Fw(t)}function _a(){if(!lf&&ni!==null){lf=!0;var t=0,e=vt;try{var n=ni;for(vt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ni=null,Bd=!1}catch(i){throw ni!==null&&(ni=ni.slice(t+1)),cw(Jp,_a),i}finally{vt=e,lf=!1}}return null}var vs=[],ys=0,ed=null,td=0,yr=[],br=0,Ua=null,ri=1,ii="";function xa(t,e){vs[ys++]=td,vs[ys++]=ed,ed=t,td=e}function Uw(t,e,n){yr[br++]=ri,yr[br++]=ii,yr[br++]=Ua,Ua=t;var r=ri;t=ii;var i=32-Rr(r)-1;r&=~(1<<i),n+=1;var a=32-Rr(e)+i;if(30<a){var l=i-i%5;a=(r&(1<<l)-1).toString(32),r>>=l,i-=l,ri=1<<32-Rr(e)+i|n<<i|r,ii=a+t}else ri=1<<a|n<<i|r,ii=t}function am(t){t.return!==null&&(xa(t,1),Uw(t,1,0))}function sm(t){for(;t===ed;)ed=vs[--ys],vs[ys]=null,td=vs[--ys],vs[ys]=null;for(;t===Ua;)Ua=yr[--br],yr[br]=null,ii=yr[--br],yr[br]=null,ri=yr[--br],yr[br]=null}var cr=null,lr=null,At=!1,Pr=null;function jw(t,e){var n=xr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Gv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,cr=t,lr=Yi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,cr=t,lr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ua!==null?{id:ri,overflow:ii}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=xr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,cr=t,lr=null,!0):!1;default:return!1}}function x_(t){return(t.mode&1)!==0&&(t.flags&128)===0}function E_(t){if(At){var e=lr;if(e){var n=e;if(!Gv(t,e)){if(x_(t))throw Error(ve(418));e=Yi(n.nextSibling);var r=cr;e&&Gv(t,e)?jw(r,n):(t.flags=t.flags&-4097|2,At=!1,cr=t)}}else{if(x_(t))throw Error(ve(418));t.flags=t.flags&-4097|2,At=!1,cr=t}}}function Kv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;cr=t}function Xc(t){if(t!==cr)return!1;if(!At)return Kv(t),At=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!v_(t.type,t.memoizedProps)),e&&(e=lr)){if(x_(t))throw Vw(),Error(ve(418));for(;e;)jw(t,e),e=Yi(e.nextSibling)}if(Kv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ve(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){lr=Yi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}lr=null}}else lr=cr?Yi(t.stateNode.nextSibling):null;return!0}function Vw(){for(var t=lr;t;)t=Yi(t.nextSibling)}function Us(){lr=cr=null,At=!1}function om(t){Pr===null?Pr=[t]:Pr.push(t)}var vN=ki.ReactCurrentBatchConfig;function Or(t,e){if(t&&t.defaultProps){e=Rt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var nd=fa(null),rd=null,bs=null,lm=null;function cm(){lm=bs=rd=null}function um(t){var e=nd.current;It(nd),t._currentValue=e}function k_(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Is(t,e){rd=t,lm=bs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(Xn=!0),t.firstContext=null)}function Tr(t){var e=t._currentValue;if(lm!==t)if(t={context:t,memoizedValue:e,next:null},bs===null){if(rd===null)throw Error(ve(308));bs=t,rd.dependencies={lanes:0,firstContext:t}}else bs=bs.next=t;return e}var Ta=null;function dm(t){Ta===null?Ta=[t]:Ta.push(t)}function zw(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,dm(e)):(n.next=i.next,i.next=n),e.interleaved=n,_i(t,r)}function _i(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Mi=!1;function hm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Hw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ci(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ji(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(ht&2)!==0){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,_i(t,n)}return i=r.interleaved,i===null?(e.next=e,dm(r)):(e.next=i.next,i.next=e),r.interleaved=e,_i(t,n)}function Su(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Qp(t,n)}}function Yv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=l:a=a.next=l,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function id(t,e,n,r){var i=t.updateQueue;Mi=!1;var a=i.firstBaseUpdate,l=i.lastBaseUpdate,h=i.shared.pending;if(h!==null){i.shared.pending=null;var f=h,g=f.next;f.next=null,l===null?a=g:l.next=g,l=f;var k=t.alternate;k!==null&&(k=k.updateQueue,h=k.lastBaseUpdate,h!==l&&(h===null?k.firstBaseUpdate=g:h.next=g,k.lastBaseUpdate=f))}if(a!==null){var T=i.baseState;l=0,k=g=f=null,h=a;do{var C=h.lane,I=h.eventTime;if((r&C)===C){k!==null&&(k=k.next={eventTime:I,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});e:{var L=t,N=h;switch(C=e,I=n,N.tag){case 1:if(L=N.payload,typeof L=="function"){T=L.call(I,T,C);break e}T=L;break e;case 3:L.flags=L.flags&-65537|128;case 0:if(L=N.payload,C=typeof L=="function"?L.call(I,T,C):L,C==null)break e;T=Rt({},T,C);break e;case 2:Mi=!0}}h.callback!==null&&h.lane!==0&&(t.flags|=64,C=i.effects,C===null?i.effects=[h]:C.push(h))}else I={eventTime:I,lane:C,tag:h.tag,payload:h.payload,callback:h.callback,next:null},k===null?(g=k=I,f=T):k=k.next=I,l|=C;if(h=h.next,h===null){if(h=i.shared.pending,h===null)break;C=h,h=C.next,C.next=null,i.lastBaseUpdate=C,i.shared.pending=null}}while(1);if(k===null&&(f=T),i.baseState=f,i.firstBaseUpdate=g,i.lastBaseUpdate=k,e=i.shared.interleaved,e!==null){i=e;do l|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Va|=l,t.lanes=l,t.memoizedState=T}}function Jv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ve(191,i));i.call(r)}}}var Bw=new zb.Component().refs;function S_(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Rt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var qd={isMounted:function(t){return(t=t._reactInternals)?ts(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Hn(),i=Xi(t),a=ci(r,i);a.payload=e,n!=null&&(a.callback=n),e=Ji(t,a,i),e!==null&&($r(e,t,i,r),Su(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Hn(),i=Xi(t),a=ci(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=Ji(t,a,i),e!==null&&($r(e,t,i,r),Su(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Hn(),r=Xi(t),i=ci(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ji(t,i,r),e!==null&&($r(e,t,r,n),Su(e,t,r))}};function Qv(t,e,n,r,i,a,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,l):e.prototype&&e.prototype.isPureReactComponent?!yl(n,r)||!yl(i,a):!0}function qw(t,e,n){var r=!1,i=la,a=e.contextType;return typeof a=="object"&&a!==null?a=Tr(a):(i=er(e)?Fa:Mn.current,r=e.contextTypes,a=(r=r!=null)?Fs(t,i):la),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=qd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function Xv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&qd.enqueueReplaceState(e,e.state,null)}function C_(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Bw,hm(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Tr(a):(a=er(e)?Fa:Mn.current,i.context=Fs(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(S_(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&qd.enqueueReplaceState(i,i.state,null),id(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Co(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ve(309));var r=n.stateNode}if(!r)throw Error(ve(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(l){var h=i.refs;h===Bw&&(h=i.refs={}),l===null?delete h[a]:h[a]=l},e._stringRef=a,e)}if(typeof t!="string")throw Error(ve(284));if(!n._owner)throw Error(ve(290,t))}return t}function Zc(t,e){throw t=Object.prototype.toString.call(e),Error(ve(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Zv(t){var e=t._init;return e(t._payload)}function Ww(t){function e(O,A){if(t){var $=O.deletions;$===null?(O.deletions=[A],O.flags|=16):$.push(A)}}function n(O,A){if(!t)return null;for(;A!==null;)e(O,A),A=A.sibling;return null}function r(O,A){for(O=new Map;A!==null;)A.key!==null?O.set(A.key,A):O.set(A.index,A),A=A.sibling;return O}function i(O,A){return O=Zi(O,A),O.index=0,O.sibling=null,O}function a(O,A,$){return O.index=$,t?($=O.alternate,$!==null?($=$.index,$<A?(O.flags|=2,A):$):(O.flags|=2,A)):(O.flags|=1048576,A)}function l(O){return t&&O.alternate===null&&(O.flags|=2),O}function h(O,A,$,U){return A===null||A.tag!==6?(A=pf($,O.mode,U),A.return=O,A):(A=i(A,$),A.return=O,A)}function f(O,A,$,U){var j=$.type;return j===hs?k(O,A,$.props.children,U,$.key):A!==null&&(A.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Oi&&Zv(j)===A.type)?(U=i(A,$.props),U.ref=Co(O,A,$),U.return=O,U):(U=Au($.type,$.key,$.props,null,O.mode,U),U.ref=Co(O,A,$),U.return=O,U)}function g(O,A,$,U){return A===null||A.tag!==4||A.stateNode.containerInfo!==$.containerInfo||A.stateNode.implementation!==$.implementation?(A=mf($,O.mode,U),A.return=O,A):(A=i(A,$.children||[]),A.return=O,A)}function k(O,A,$,U,j){return A===null||A.tag!==7?(A=Pa($,O.mode,U,j),A.return=O,A):(A=i(A,$),A.return=O,A)}function T(O,A,$){if(typeof A=="string"&&A!==""||typeof A=="number")return A=pf(""+A,O.mode,$),A.return=O,A;if(typeof A=="object"&&A!==null){switch(A.$$typeof){case zc:return $=Au(A.type,A.key,A.props,null,O.mode,$),$.ref=Co(O,null,A),$.return=O,$;case ds:return A=mf(A,O.mode,$),A.return=O,A;case Oi:var U=A._init;return T(O,U(A._payload),$)}if(Ro(A)||wo(A))return A=Pa(A,O.mode,$,null),A.return=O,A;Zc(O,A)}return null}function C(O,A,$,U){var j=A!==null?A.key:null;if(typeof $=="string"&&$!==""||typeof $=="number")return j!==null?null:h(O,A,""+$,U);if(typeof $=="object"&&$!==null){switch($.$$typeof){case zc:return $.key===j?f(O,A,$,U):null;case ds:return $.key===j?g(O,A,$,U):null;case Oi:return j=$._init,C(O,A,j($._payload),U)}if(Ro($)||wo($))return j!==null?null:k(O,A,$,U,null);Zc(O,$)}return null}function I(O,A,$,U,j){if(typeof U=="string"&&U!==""||typeof U=="number")return O=O.get($)||null,h(A,O,""+U,j);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case zc:return O=O.get(U.key===null?$:U.key)||null,f(A,O,U,j);case ds:return O=O.get(U.key===null?$:U.key)||null,g(A,O,U,j);case Oi:var H=U._init;return I(O,A,$,H(U._payload),j)}if(Ro(U)||wo(U))return O=O.get($)||null,k(A,O,U,j,null);Zc(A,U)}return null}function L(O,A,$,U){for(var j=null,H=null,z=A,W=A=0,q=null;z!==null&&W<$.length;W++){z.index>W?(q=z,z=null):q=z.sibling;var Y=C(O,z,$[W],U);if(Y===null){z===null&&(z=q);break}t&&z&&Y.alternate===null&&e(O,z),A=a(Y,A,W),H===null?j=Y:H.sibling=Y,H=Y,z=q}if(W===$.length)return n(O,z),At&&xa(O,W),j;if(z===null){for(;W<$.length;W++)z=T(O,$[W],U),z!==null&&(A=a(z,A,W),H===null?j=z:H.sibling=z,H=z);return At&&xa(O,W),j}for(z=r(O,z);W<$.length;W++)q=I(z,O,W,$[W],U),q!==null&&(t&&q.alternate!==null&&z.delete(q.key===null?W:q.key),A=a(q,A,W),H===null?j=q:H.sibling=q,H=q);return t&&z.forEach(function(Z){return e(O,Z)}),At&&xa(O,W),j}function N(O,A,$,U){var j=wo($);if(typeof j!="function")throw Error(ve(150));if($=j.call($),$==null)throw Error(ve(151));for(var H=j=null,z=A,W=A=0,q=null,Y=$.next();z!==null&&!Y.done;W++,Y=$.next()){z.index>W?(q=z,z=null):q=z.sibling;var Z=C(O,z,Y.value,U);if(Z===null){z===null&&(z=q);break}t&&z&&Z.alternate===null&&e(O,z),A=a(Z,A,W),H===null?j=Z:H.sibling=Z,H=Z,z=q}if(Y.done)return n(O,z),At&&xa(O,W),j;if(z===null){for(;!Y.done;W++,Y=$.next())Y=T(O,Y.value,U),Y!==null&&(A=a(Y,A,W),H===null?j=Y:H.sibling=Y,H=Y);return At&&xa(O,W),j}for(z=r(O,z);!Y.done;W++,Y=$.next())Y=I(z,O,W,Y.value,U),Y!==null&&(t&&Y.alternate!==null&&z.delete(Y.key===null?W:Y.key),A=a(Y,A,W),H===null?j=Y:H.sibling=Y,H=Y);return t&&z.forEach(function(X){return e(O,X)}),At&&xa(O,W),j}function R(O,A,$,U){if(typeof $=="object"&&$!==null&&$.type===hs&&$.key===null&&($=$.props.children),typeof $=="object"&&$!==null){switch($.$$typeof){case zc:e:{for(var j=$.key,H=A;H!==null;){if(H.key===j){if(j=$.type,j===hs){if(H.tag===7){n(O,H.sibling),A=i(H,$.props.children),A.return=O,O=A;break e}}else if(H.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Oi&&Zv(j)===H.type){n(O,H.sibling),A=i(H,$.props),A.ref=Co(O,H,$),A.return=O,O=A;break e}n(O,H);break}else e(O,H);H=H.sibling}$.type===hs?(A=Pa($.props.children,O.mode,U,$.key),A.return=O,O=A):(U=Au($.type,$.key,$.props,null,O.mode,U),U.ref=Co(O,A,$),U.return=O,O=U)}return l(O);case ds:e:{for(H=$.key;A!==null;){if(A.key===H)if(A.tag===4&&A.stateNode.containerInfo===$.containerInfo&&A.stateNode.implementation===$.implementation){n(O,A.sibling),A=i(A,$.children||[]),A.return=O,O=A;break e}else{n(O,A);break}else e(O,A);A=A.sibling}A=mf($,O.mode,U),A.return=O,O=A}return l(O);case Oi:return H=$._init,R(O,A,H($._payload),U)}if(Ro($))return L(O,A,$,U);if(wo($))return N(O,A,$,U);Zc(O,$)}return typeof $=="string"&&$!==""||typeof $=="number"?($=""+$,A!==null&&A.tag===6?(n(O,A.sibling),A=i(A,$),A.return=O,O=A):(n(O,A),A=pf($,O.mode,U),A.return=O,O=A),l(O)):n(O,A)}return R}var js=Ww(!0),Gw=Ww(!1),rc={},Kr=fa(rc),El=fa(rc),kl=fa(rc);function Na(t){if(t===rc)throw Error(ve(174));return t}function fm(t,e){switch(xt(kl,e),xt(El,t),xt(Kr,rc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:i_(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=i_(e,t)}It(Kr),xt(Kr,e)}function Vs(){It(Kr),It(El),It(kl)}function Kw(t){Na(kl.current);var e=Na(Kr.current),n=i_(e,t.type);e!==n&&(xt(El,t),xt(Kr,n))}function _m(t){El.current===t&&(It(Kr),It(El))}var Pt=fa(0);function ad(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var cf=[];function pm(){for(var t=0;t<cf.length;t++)cf[t]._workInProgressVersionPrimary=null;cf.length=0}var Cu=ki.ReactCurrentDispatcher,uf=ki.ReactCurrentBatchConfig,ja=0,Lt=null,Xt=null,sn=null,sd=!1,Qo=!1,Sl=0,yN=0;function Tn(){throw Error(ve(321))}function mm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Fr(t[n],e[n]))return!1;return!0}function gm(t,e,n,r,i,a){if(ja=a,Lt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Cu.current=t===null||t.memoizedState===null?EN:kN,t=n(r,i),Qo){a=0;do{if(Qo=!1,Sl=0,25<=a)throw Error(ve(301));a+=1,sn=Xt=null,e.updateQueue=null,Cu.current=SN,t=n(r,i)}while(Qo)}if(Cu.current=od,e=Xt!==null&&Xt.next!==null,ja=0,sn=Xt=Lt=null,sd=!1,e)throw Error(ve(300));return t}function vm(){var t=Sl!==0;return Sl=0,t}function qr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sn===null?Lt.memoizedState=sn=t:sn=sn.next=t,sn}function Nr(){if(Xt===null){var t=Lt.alternate;t=t!==null?t.memoizedState:null}else t=Xt.next;var e=sn===null?Lt.memoizedState:sn.next;if(e!==null)sn=e,Xt=t;else{if(t===null)throw Error(ve(310));Xt=t,t={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},sn===null?Lt.memoizedState=sn=t:sn=sn.next=t}return sn}function Cl(t,e){return typeof e=="function"?e(t):e}function df(t){var e=Nr(),n=e.queue;if(n===null)throw Error(ve(311));n.lastRenderedReducer=t;var r=Xt,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var l=i.next;i.next=a.next,a.next=l}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var h=l=null,f=null,g=a;do{var k=g.lane;if((ja&k)===k)f!==null&&(f=f.next={lane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),r=g.hasEagerState?g.eagerState:t(r,g.action);else{var T={lane:k,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};f===null?(h=f=T,l=r):f=f.next=T,Lt.lanes|=k,Va|=k}g=g.next}while(g!==null&&g!==a);f===null?l=r:f.next=h,Fr(r,e.memoizedState)||(Xn=!0),e.memoizedState=r,e.baseState=l,e.baseQueue=f,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,Lt.lanes|=a,Va|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function hf(t){var e=Nr(),n=e.queue;if(n===null)throw Error(ve(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var l=i=i.next;do a=t(a,l.action),l=l.next;while(l!==i);Fr(a,e.memoizedState)||(Xn=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function Yw(){}function Jw(t,e){var n=Lt,r=Nr(),i=e(),a=!Fr(r.memoizedState,i);if(a&&(r.memoizedState=i,Xn=!0),r=r.queue,ym(Zw.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||sn!==null&&sn.memoizedState.tag&1){if(n.flags|=2048,Tl(9,Xw.bind(null,n,r,i,e),void 0,null),cn===null)throw Error(ve(349));(ja&30)!==0||Qw(n,e,i)}return i}function Qw(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Lt.updateQueue,e===null?(e={lastEffect:null,stores:null},Lt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Xw(t,e,n,r){e.value=n,e.getSnapshot=r,ex(e)&&tx(t)}function Zw(t,e,n){return n(function(){ex(e)&&tx(t)})}function ex(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Fr(t,n)}catch{return!0}}function tx(t){var e=_i(t,1);e!==null&&$r(e,t,1,-1)}function ey(t){var e=qr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cl,lastRenderedState:t},e.queue=t,t=t.dispatch=xN.bind(null,Lt,t),[e.memoizedState,t]}function Tl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Lt.updateQueue,e===null?(e={lastEffect:null,stores:null},Lt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function nx(){return Nr().memoizedState}function Tu(t,e,n,r){var i=qr();Lt.flags|=t,i.memoizedState=Tl(1|e,n,void 0,r===void 0?null:r)}function Wd(t,e,n,r){var i=Nr();r=r===void 0?null:r;var a=void 0;if(Xt!==null){var l=Xt.memoizedState;if(a=l.destroy,r!==null&&mm(r,l.deps)){i.memoizedState=Tl(e,n,a,r);return}}Lt.flags|=t,i.memoizedState=Tl(1|e,n,a,r)}function ty(t,e){return Tu(8390656,8,t,e)}function ym(t,e){return Wd(2048,8,t,e)}function rx(t,e){return Wd(4,2,t,e)}function ix(t,e){return Wd(4,4,t,e)}function ax(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function sx(t,e,n){return n=n!=null?n.concat([t]):null,Wd(4,4,ax.bind(null,e,t),n)}function bm(){}function ox(t,e){var n=Nr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&mm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function lx(t,e){var n=Nr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&mm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function cx(t,e,n){return(ja&21)===0?(t.baseState&&(t.baseState=!1,Xn=!0),t.memoizedState=n):(Fr(n,e)||(n=hw(),Lt.lanes|=n,Va|=n,t.baseState=!0),e)}function bN(t,e){var n=vt;vt=n!==0&&4>n?n:4,t(!0);var r=uf.transition;uf.transition={};try{t(!1),e()}finally{vt=n,uf.transition=r}}function ux(){return Nr().memoizedState}function wN(t,e,n){var r=Xi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},dx(t))hx(e,n);else if(n=zw(t,e,n,r),n!==null){var i=Hn();$r(n,t,r,i),fx(n,e,r)}}function xN(t,e,n){var r=Xi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(dx(t))hx(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var l=e.lastRenderedState,h=a(l,n);if(i.hasEagerState=!0,i.eagerState=h,Fr(h,l)){var f=e.interleaved;f===null?(i.next=i,dm(e)):(i.next=f.next,f.next=i),e.interleaved=i;return}}catch{}finally{}n=zw(t,e,i,r),n!==null&&(i=Hn(),$r(n,t,r,i),fx(n,e,r))}}function dx(t){var e=t.alternate;return t===Lt||e!==null&&e===Lt}function hx(t,e){Qo=sd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function fx(t,e,n){if((n&4194240)!==0){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Qp(t,n)}}var od={readContext:Tr,useCallback:Tn,useContext:Tn,useEffect:Tn,useImperativeHandle:Tn,useInsertionEffect:Tn,useLayoutEffect:Tn,useMemo:Tn,useReducer:Tn,useRef:Tn,useState:Tn,useDebugValue:Tn,useDeferredValue:Tn,useTransition:Tn,useMutableSource:Tn,useSyncExternalStore:Tn,useId:Tn,unstable_isNewReconciler:!1},EN={readContext:Tr,useCallback:function(t,e){return qr().memoizedState=[t,e===void 0?null:e],t},useContext:Tr,useEffect:ty,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Tu(4194308,4,ax.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Tu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Tu(4,2,t,e)},useMemo:function(t,e){var n=qr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=qr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=wN.bind(null,Lt,t),[r.memoizedState,t]},useRef:function(t){var e=qr();return t={current:t},e.memoizedState=t},useState:ey,useDebugValue:bm,useDeferredValue:function(t){return qr().memoizedState=t},useTransition:function(){var t=ey(!1),e=t[0];return t=bN.bind(null,t[1]),qr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Lt,i=qr();if(At){if(n===void 0)throw Error(ve(407));n=n()}else{if(n=e(),cn===null)throw Error(ve(349));(ja&30)!==0||Qw(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,ty(Zw.bind(null,r,a,t),[t]),r.flags|=2048,Tl(9,Xw.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=qr(),e=cn.identifierPrefix;if(At){var n=ii,r=ri;n=(r&~(1<<32-Rr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Sl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=yN++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},kN={readContext:Tr,useCallback:ox,useContext:Tr,useEffect:ym,useImperativeHandle:sx,useInsertionEffect:rx,useLayoutEffect:ix,useMemo:lx,useReducer:df,useRef:nx,useState:function(){return df(Cl)},useDebugValue:bm,useDeferredValue:function(t){var e=Nr();return cx(e,Xt.memoizedState,t)},useTransition:function(){var t=df(Cl)[0],e=Nr().memoizedState;return[t,e]},useMutableSource:Yw,useSyncExternalStore:Jw,useId:ux,unstable_isNewReconciler:!1},SN={readContext:Tr,useCallback:ox,useContext:Tr,useEffect:ym,useImperativeHandle:sx,useInsertionEffect:rx,useLayoutEffect:ix,useMemo:lx,useReducer:hf,useRef:nx,useState:function(){return hf(Cl)},useDebugValue:bm,useDeferredValue:function(t){var e=Nr();return Xt===null?e.memoizedState=t:cx(e,Xt.memoizedState,t)},useTransition:function(){var t=hf(Cl)[0],e=Nr().memoizedState;return[t,e]},useMutableSource:Yw,useSyncExternalStore:Jw,useId:ux,unstable_isNewReconciler:!1};function zs(t,e){try{var n="",r=e;do n+=ZC(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function ff(t,e,n){return{value:t,source:null,stack:n!=null?n:null,digest:e!=null?e:null}}function T_(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var CN=typeof WeakMap=="function"?WeakMap:Map;function _x(t,e,n){n=ci(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){cd||(cd=!0,$_=r),T_(t,e)},n}function px(t,e,n){n=ci(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){T_(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){T_(t,e),typeof r!="function"&&(Qi===null?Qi=new Set([this]):Qi.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function ny(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new CN;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=jN.bind(null,t,e,n),e.then(t,t))}function ry(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function iy(t,e,n,r,i){return(t.mode&1)===0?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ci(-1,1),e.tag=2,Ji(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=i,t)}var TN=ki.ReactCurrentOwner,Xn=!1;function Ln(t,e,n,r){e.child=t===null?Gw(e,null,n,r):js(e,t.child,n,r)}function ay(t,e,n,r,i){n=n.render;var a=e.ref;return Is(e,i),r=gm(t,e,n,r,a,i),n=vm(),t!==null&&!Xn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,pi(t,e,i)):(At&&n&&am(e),e.flags|=1,Ln(t,e,r,i),e.child)}function sy(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!Nm(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,mx(t,e,a,r,i)):(t=Au(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,(t.lanes&i)===0){var l=a.memoizedProps;if(n=n.compare,n=n!==null?n:yl,n(l,r)&&t.ref===e.ref)return pi(t,e,i)}return e.flags|=1,t=Zi(a,r),t.ref=e.ref,t.return=e,e.child=t}function mx(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(yl(a,r)&&t.ref===e.ref)if(Xn=!1,e.pendingProps=r=a,(t.lanes&i)!==0)(t.flags&131072)!==0&&(Xn=!0);else return e.lanes=t.lanes,pi(t,e,i)}return N_(t,e,n,r,i)}function gx(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},xt(xs,sr),sr|=n;else{if((n&1073741824)===0)return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,xt(xs,sr),sr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,xt(xs,sr),sr|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,xt(xs,sr),sr|=r;return Ln(t,e,i,n),e.child}function vx(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function N_(t,e,n,r,i){var a=er(n)?Fa:Mn.current;return a=Fs(e,a),Is(e,i),n=gm(t,e,n,r,a,i),r=vm(),t!==null&&!Xn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,pi(t,e,i)):(At&&r&&am(e),e.flags|=1,Ln(t,e,n,i),e.child)}function oy(t,e,n,r,i){if(er(n)){var a=!0;Zu(e)}else a=!1;if(Is(e,i),e.stateNode===null)Nu(t,e),qw(e,n,r),C_(e,n,r,i),r=!0;else if(t===null){var l=e.stateNode,h=e.memoizedProps;l.props=h;var f=l.context,g=n.contextType;typeof g=="object"&&g!==null?g=Tr(g):(g=er(n)?Fa:Mn.current,g=Fs(e,g));var k=n.getDerivedStateFromProps,T=typeof k=="function"||typeof l.getSnapshotBeforeUpdate=="function";T||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(h!==r||f!==g)&&Xv(e,l,r,g),Mi=!1;var C=e.memoizedState;l.state=C,id(e,r,l,i),f=e.memoizedState,h!==r||C!==f||Zn.current||Mi?(typeof k=="function"&&(S_(e,n,k,r),f=e.memoizedState),(h=Mi||Qv(e,n,h,r,C,f,g))?(T||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=f),l.props=r,l.state=f,l.context=g,r=h):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{l=e.stateNode,Hw(t,e),h=e.memoizedProps,g=e.type===e.elementType?h:Or(e.type,h),l.props=g,T=e.pendingProps,C=l.context,f=n.contextType,typeof f=="object"&&f!==null?f=Tr(f):(f=er(n)?Fa:Mn.current,f=Fs(e,f));var I=n.getDerivedStateFromProps;(k=typeof I=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(h!==T||C!==f)&&Xv(e,l,r,f),Mi=!1,C=e.memoizedState,l.state=C,id(e,r,l,i);var L=e.memoizedState;h!==T||C!==L||Zn.current||Mi?(typeof I=="function"&&(S_(e,n,I,r),L=e.memoizedState),(g=Mi||Qv(e,n,g,r,C,L,f)||!1)?(k||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,L,f),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,L,f)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||h===t.memoizedProps&&C===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||h===t.memoizedProps&&C===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=L),l.props=r,l.state=L,l.context=f,r=g):(typeof l.componentDidUpdate!="function"||h===t.memoizedProps&&C===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||h===t.memoizedProps&&C===t.memoizedState||(e.flags|=1024),r=!1)}return D_(t,e,n,r,a,i)}function D_(t,e,n,r,i,a){vx(t,e);var l=(e.flags&128)!==0;if(!r&&!l)return i&&Wv(e,n,!1),pi(t,e,a);r=e.stateNode,TN.current=e;var h=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&l?(e.child=js(e,t.child,null,a),e.child=js(e,null,h,a)):Ln(t,e,h,a),e.memoizedState=r.state,i&&Wv(e,n,!0),e.child}function yx(t){var e=t.stateNode;e.pendingContext?qv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&qv(t,e.context,!1),fm(t,e.containerInfo)}function ly(t,e,n,r,i){return Us(),om(i),e.flags|=256,Ln(t,e,n,r),e.child}var I_={dehydrated:null,treeContext:null,retryLane:0};function A_(t){return{baseLanes:t,cachePool:null,transitions:null}}function bx(t,e,n){var r=e.pendingProps,i=Pt.current,a=!1,l=(e.flags&128)!==0,h;if((h=l)||(h=t!==null&&t.memoizedState===null?!1:(i&2)!==0),h?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),xt(Pt,i&1),t===null)return E_(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((e.mode&1)===0?e.lanes=1:t.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(l=r.children,t=r.fallback,a?(r=e.mode,a=e.child,l={mode:"hidden",children:l},(r&1)===0&&a!==null?(a.childLanes=0,a.pendingProps=l):a=Yd(l,r,0,null),t=Pa(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=A_(n),e.memoizedState=I_,t):wm(e,l));if(i=t.memoizedState,i!==null&&(h=i.dehydrated,h!==null))return NN(t,e,l,r,h,i,n);if(a){a=r.fallback,l=e.mode,i=t.child,h=i.sibling;var f={mode:"hidden",children:r.children};return(l&1)===0&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=f,e.deletions=null):(r=Zi(i,f),r.subtreeFlags=i.subtreeFlags&14680064),h!==null?a=Zi(h,a):(a=Pa(a,l,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,l=t.child.memoizedState,l=l===null?A_(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=t.childLanes&~n,e.memoizedState=I_,r}return a=t.child,t=a.sibling,r=Zi(a,{mode:"visible",children:r.children}),(e.mode&1)===0&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function wm(t,e){return e=Yd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function eu(t,e,n,r){return r!==null&&om(r),js(e,t.child,null,n),t=wm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function NN(t,e,n,r,i,a,l){if(n)return e.flags&256?(e.flags&=-257,r=ff(Error(ve(422))),eu(t,e,l,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=Yd({mode:"visible",children:r.children},i,0,null),a=Pa(a,i,l,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,(e.mode&1)!==0&&js(e,t.child,null,l),e.child.memoizedState=A_(l),e.memoizedState=I_,a);if((e.mode&1)===0)return eu(t,e,l,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var h=r.dgst;return r=h,a=Error(ve(419)),r=ff(a,r,void 0),eu(t,e,l,r)}if(h=(l&t.childLanes)!==0,Xn||h){if(r=cn,r!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=(i&(r.suspendedLanes|l))!==0?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,_i(t,i),$r(r,t,i,-1))}return Tm(),r=ff(Error(ve(421))),eu(t,e,l,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=VN.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,lr=Yi(i.nextSibling),cr=e,At=!0,Pr=null,t!==null&&(yr[br++]=ri,yr[br++]=ii,yr[br++]=Ua,ri=t.id,ii=t.overflow,Ua=e),e=wm(e,r.children),e.flags|=4096,e)}function cy(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),k_(t.return,e,n)}function _f(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function wx(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(Ln(t,e,r.children,n),r=Pt.current,(r&2)!==0)r=r&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cy(t,n,e);else if(t.tag===19)cy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(xt(Pt,r),(e.mode&1)===0)e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ad(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),_f(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ad(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}_f(e,!0,n,null,a);break;case"together":_f(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Nu(t,e){(e.mode&1)===0&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function pi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Va|=e.lanes,(n&e.childLanes)===0)return null;if(t!==null&&e.child!==t.child)throw Error(ve(153));if(e.child!==null){for(t=e.child,n=Zi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Zi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function DN(t,e,n){switch(e.tag){case 3:yx(e),Us();break;case 5:Kw(e);break;case 1:er(e.type)&&Zu(e);break;case 4:fm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;xt(nd,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(xt(Pt,Pt.current&1),e.flags|=128,null):(n&e.child.childLanes)!==0?bx(t,e,n):(xt(Pt,Pt.current&1),t=pi(t,e,n),t!==null?t.sibling:null);xt(Pt,Pt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,(t.flags&128)!==0){if(r)return wx(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),xt(Pt,Pt.current),r)break;return null;case 22:case 23:return e.lanes=0,gx(t,e,n)}return pi(t,e,n)}var xx,O_,Ex,kx;xx=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};O_=function(){};Ex=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Na(Kr.current);var a=null;switch(n){case"input":i=e_(t,i),r=e_(t,r),a=[];break;case"select":i=Rt({},i,{value:void 0}),r=Rt({},r,{value:void 0}),a=[];break;case"textarea":i=r_(t,i),r=r_(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Qu)}a_(n,r);var l;n=null;for(g in i)if(!r.hasOwnProperty(g)&&i.hasOwnProperty(g)&&i[g]!=null)if(g==="style"){var h=i[g];for(l in h)h.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(hl.hasOwnProperty(g)?a||(a=[]):(a=a||[]).push(g,null));for(g in r){var f=r[g];if(h=i!=null?i[g]:void 0,r.hasOwnProperty(g)&&f!==h&&(f!=null||h!=null))if(g==="style")if(h){for(l in h)!h.hasOwnProperty(l)||f&&f.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in f)f.hasOwnProperty(l)&&h[l]!==f[l]&&(n||(n={}),n[l]=f[l])}else n||(a||(a=[]),a.push(g,n)),n=f;else g==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,h=h?h.__html:void 0,f!=null&&h!==f&&(a=a||[]).push(g,f)):g==="children"?typeof f!="string"&&typeof f!="number"||(a=a||[]).push(g,""+f):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&(hl.hasOwnProperty(g)?(f!=null&&g==="onScroll"&&Tt("scroll",t),a||h===f||(a=[])):(a=a||[]).push(g,f))}n&&(a=a||[]).push("style",n);var g=a;(e.updateQueue=g)&&(e.flags|=4)}};kx=function(t,e,n,r){n!==r&&(e.flags|=4)};function To(t,e){if(!At)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Nn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function IN(t,e,n){var r=e.pendingProps;switch(sm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nn(e),null;case 1:return er(e.type)&&Xu(),Nn(e),null;case 3:return r=e.stateNode,Vs(),It(Zn),It(Mn),pm(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Xc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,Pr!==null&&(j_(Pr),Pr=null))),O_(t,e),Nn(e),null;case 5:_m(e);var i=Na(kl.current);if(n=e.type,t!==null&&e.stateNode!=null)Ex(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ve(166));return Nn(e),null}if(t=Na(Kr.current),Xc(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[Wr]=e,r[xl]=a,t=(e.mode&1)!==0,n){case"dialog":Tt("cancel",r),Tt("close",r);break;case"iframe":case"object":case"embed":Tt("load",r);break;case"video":case"audio":for(i=0;i<Fo.length;i++)Tt(Fo[i],r);break;case"source":Tt("error",r);break;case"img":case"image":case"link":Tt("error",r),Tt("load",r);break;case"details":Tt("toggle",r);break;case"input":vv(r,a),Tt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Tt("invalid",r);break;case"textarea":bv(r,a),Tt("invalid",r)}a_(n,a),i=null;for(var l in a)if(a.hasOwnProperty(l)){var h=a[l];l==="children"?typeof h=="string"?r.textContent!==h&&(a.suppressHydrationWarning!==!0&&Qc(r.textContent,h,t),i=["children",h]):typeof h=="number"&&r.textContent!==""+h&&(a.suppressHydrationWarning!==!0&&Qc(r.textContent,h,t),i=["children",""+h]):hl.hasOwnProperty(l)&&h!=null&&l==="onScroll"&&Tt("scroll",r)}switch(n){case"input":Hc(r),yv(r,a,!0);break;case"textarea":Hc(r),wv(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Qu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Qb(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=l.createElement(n,{is:r.is}):(t=l.createElement(n),n==="select"&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,n),t[Wr]=e,t[xl]=r,xx(t,e,!1,!1),e.stateNode=t;e:{switch(l=s_(n,r),n){case"dialog":Tt("cancel",t),Tt("close",t),i=r;break;case"iframe":case"object":case"embed":Tt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Fo.length;i++)Tt(Fo[i],t);i=r;break;case"source":Tt("error",t),i=r;break;case"img":case"image":case"link":Tt("error",t),Tt("load",t),i=r;break;case"details":Tt("toggle",t),i=r;break;case"input":vv(t,r),i=e_(t,r),Tt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Rt({},r,{value:void 0}),Tt("invalid",t);break;case"textarea":bv(t,r),i=r_(t,r),Tt("invalid",t);break;default:i=r}a_(n,i),h=i;for(a in h)if(h.hasOwnProperty(a)){var f=h[a];a==="style"?ew(t,f):a==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&Xb(t,f)):a==="children"?typeof f=="string"?(n!=="textarea"||f!=="")&&fl(t,f):typeof f=="number"&&fl(t,""+f):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(hl.hasOwnProperty(a)?f!=null&&a==="onScroll"&&Tt("scroll",t):f!=null&&qp(t,a,f,l))}switch(n){case"input":Hc(t),yv(t,r,!1);break;case"textarea":Hc(t),wv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+oa(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?Cs(t,!!r.multiple,a,!1):r.defaultValue!=null&&Cs(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Qu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Nn(e),null;case 6:if(t&&e.stateNode!=null)kx(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ve(166));if(n=Na(kl.current),Na(Kr.current),Xc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Wr]=e,(a=r.nodeValue!==n)&&(t=cr,t!==null))switch(t.tag){case 3:Qc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Qc(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Wr]=e,e.stateNode=r}return Nn(e),null;case 13:if(It(Pt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(At&&lr!==null&&(e.mode&1)!==0&&(e.flags&128)===0)Vw(),Us(),e.flags|=98560,a=!1;else if(a=Xc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(ve(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(ve(317));a[Wr]=e}else Us(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;Nn(e),a=!1}else Pr!==null&&(j_(Pr),Pr=null),a=!0;if(!a)return e.flags&65536?e:null}return(e.flags&128)!==0?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,(e.mode&1)!==0&&(t===null||(Pt.current&1)!==0?Zt===0&&(Zt=3):Tm())),e.updateQueue!==null&&(e.flags|=4),Nn(e),null);case 4:return Vs(),O_(t,e),t===null&&bl(e.stateNode.containerInfo),Nn(e),null;case 10:return um(e.type._context),Nn(e),null;case 17:return er(e.type)&&Xu(),Nn(e),null;case 19:if(It(Pt),a=e.memoizedState,a===null)return Nn(e),null;if(r=(e.flags&128)!==0,l=a.rendering,l===null)if(r)To(a,!1);else{if(Zt!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(l=ad(t),l!==null){for(e.flags|=128,To(a,!1),r=l.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,l=a.alternate,l===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,t=l.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return xt(Pt,Pt.current&1|2),e.child}t=t.sibling}a.tail!==null&&Ht()>Hs&&(e.flags|=128,r=!0,To(a,!1),e.lanes=4194304)}else{if(!r)if(t=ad(l),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),To(a,!0),a.tail===null&&a.tailMode==="hidden"&&!l.alternate&&!At)return Nn(e),null}else 2*Ht()-a.renderingStartTime>Hs&&n!==1073741824&&(e.flags|=128,r=!0,To(a,!1),e.lanes=4194304);a.isBackwards?(l.sibling=e.child,e.child=l):(n=a.last,n!==null?n.sibling=l:e.child=l,a.last=l)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Ht(),e.sibling=null,n=Pt.current,xt(Pt,r?n&1|2:n&1),e):(Nn(e),null);case 22:case 23:return Cm(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&(e.mode&1)!==0?(sr&1073741824)!==0&&(Nn(e),e.subtreeFlags&6&&(e.flags|=8192)):Nn(e),null;case 24:return null;case 25:return null}throw Error(ve(156,e.tag))}function AN(t,e){switch(sm(e),e.tag){case 1:return er(e.type)&&Xu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Vs(),It(Zn),It(Mn),pm(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 5:return _m(e),null;case 13:if(It(Pt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ve(340));Us()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return It(Pt),null;case 4:return Vs(),null;case 10:return um(e.type._context),null;case 22:case 23:return Cm(),null;case 24:return null;default:return null}}var tu=!1,Dn=!1,ON=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function ws(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){jt(t,e,r)}else n.current=null}function M_(t,e,n){try{n()}catch(r){jt(t,e,r)}}var uy=!1;function MN(t,e){if(m_=Ku,t=Nw(),im(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var l=0,h=-1,f=-1,g=0,k=0,T=t,C=null;t:for(;;){for(var I;T!==n||i!==0&&T.nodeType!==3||(h=l+i),T!==a||r!==0&&T.nodeType!==3||(f=l+r),T.nodeType===3&&(l+=T.nodeValue.length),(I=T.firstChild)!==null;)C=T,T=I;for(;;){if(T===t)break t;if(C===n&&++g===i&&(h=l),C===a&&++k===r&&(f=l),(I=T.nextSibling)!==null)break;T=C,C=T.parentNode}T=I}n=h===-1||f===-1?null:{start:h,end:f}}else n=null}n=n||{start:0,end:0}}else n=null;for(g_={focusedElem:t,selectionRange:n},Ku=!1,Oe=e;Oe!==null;)if(e=Oe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Oe=t;else for(;Oe!==null;){e=Oe;try{var L=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(L!==null){var N=L.memoizedProps,R=L.memoizedState,O=e.stateNode,A=O.getSnapshotBeforeUpdate(e.elementType===e.type?N:Or(e.type,N),R);O.__reactInternalSnapshotBeforeUpdate=A}break;case 3:var $=e.stateNode.containerInfo;$.nodeType===1?$.textContent="":$.nodeType===9&&$.documentElement&&$.removeChild($.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ve(163))}}catch(U){jt(e,e.return,U)}if(t=e.sibling,t!==null){t.return=e.return,Oe=t;break}Oe=e.return}return L=uy,uy=!1,L}function Xo(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&M_(e,n,a)}i=i.next}while(i!==r)}}function Gd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function P_(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Sx(t){var e=t.alternate;e!==null&&(t.alternate=null,Sx(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Wr],delete e[xl],delete e[b_],delete e[pN],delete e[mN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Cx(t){return t.tag===5||t.tag===3||t.tag===4}function dy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Cx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function L_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Qu));else if(r!==4&&(t=t.child,t!==null))for(L_(t,e,n),t=t.sibling;t!==null;)L_(t,e,n),t=t.sibling}function R_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(R_(t,e,n),t=t.sibling;t!==null;)R_(t,e,n),t=t.sibling}var _n=null,Mr=!1;function Di(t,e,n){for(n=n.child;n!==null;)Tx(t,e,n),n=n.sibling}function Tx(t,e,n){if(Gr&&typeof Gr.onCommitFiberUnmount=="function")try{Gr.onCommitFiberUnmount(Ud,n)}catch{}switch(n.tag){case 5:Dn||ws(n,e);case 6:var r=_n,i=Mr;_n=null,Di(t,e,n),_n=r,Mr=i,_n!==null&&(Mr?(t=_n,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):_n.removeChild(n.stateNode));break;case 18:_n!==null&&(Mr?(t=_n,n=n.stateNode,t.nodeType===8?of(t.parentNode,n):t.nodeType===1&&of(t,n),gl(t)):of(_n,n.stateNode));break;case 4:r=_n,i=Mr,_n=n.stateNode.containerInfo,Mr=!0,Di(t,e,n),_n=r,Mr=i;break;case 0:case 11:case 14:case 15:if(!Dn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,l=a.destroy;a=a.tag,l!==void 0&&((a&2)!==0||(a&4)!==0)&&M_(n,e,l),i=i.next}while(i!==r)}Di(t,e,n);break;case 1:if(!Dn&&(ws(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(h){jt(n,e,h)}Di(t,e,n);break;case 21:Di(t,e,n);break;case 22:n.mode&1?(Dn=(r=Dn)||n.memoizedState!==null,Di(t,e,n),Dn=r):Di(t,e,n);break;default:Di(t,e,n)}}function hy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new ON),e.forEach(function(r){var i=zN.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Dr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,l=e,h=l;e:for(;h!==null;){switch(h.tag){case 5:_n=h.stateNode,Mr=!1;break e;case 3:_n=h.stateNode.containerInfo,Mr=!0;break e;case 4:_n=h.stateNode.containerInfo,Mr=!0;break e}h=h.return}if(_n===null)throw Error(ve(160));Tx(a,l,i),_n=null,Mr=!1;var f=i.alternate;f!==null&&(f.return=null),i.return=null}catch(g){jt(i,e,g)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Nx(e,t),e=e.sibling}function Nx(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Dr(e,t),Br(t),r&4){try{Xo(3,t,t.return),Gd(3,t)}catch(N){jt(t,t.return,N)}try{Xo(5,t,t.return)}catch(N){jt(t,t.return,N)}}break;case 1:Dr(e,t),Br(t),r&512&&n!==null&&ws(n,n.return);break;case 5:if(Dr(e,t),Br(t),r&512&&n!==null&&ws(n,n.return),t.flags&32){var i=t.stateNode;try{fl(i,"")}catch(N){jt(t,t.return,N)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,l=n!==null?n.memoizedProps:a,h=t.type,f=t.updateQueue;if(t.updateQueue=null,f!==null)try{h==="input"&&a.type==="radio"&&a.name!=null&&Yb(i,a),s_(h,l);var g=s_(h,a);for(l=0;l<f.length;l+=2){var k=f[l],T=f[l+1];k==="style"?ew(i,T):k==="dangerouslySetInnerHTML"?Xb(i,T):k==="children"?fl(i,T):qp(i,k,T,g)}switch(h){case"input":t_(i,a);break;case"textarea":Jb(i,a);break;case"select":var C=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var I=a.value;I!=null?Cs(i,!!a.multiple,I,!1):C!==!!a.multiple&&(a.defaultValue!=null?Cs(i,!!a.multiple,a.defaultValue,!0):Cs(i,!!a.multiple,a.multiple?[]:"",!1))}i[xl]=a}catch(N){jt(t,t.return,N)}}break;case 6:if(Dr(e,t),Br(t),r&4){if(t.stateNode===null)throw Error(ve(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(N){jt(t,t.return,N)}}break;case 3:if(Dr(e,t),Br(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{gl(e.containerInfo)}catch(N){jt(t,t.return,N)}break;case 4:Dr(e,t),Br(t);break;case 13:Dr(e,t),Br(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(km=Ht())),r&4&&hy(t);break;case 22:if(k=n!==null&&n.memoizedState!==null,t.mode&1?(Dn=(g=Dn)||k,Dr(e,t),Dn=g):Dr(e,t),Br(t),r&8192){if(g=t.memoizedState!==null,(t.stateNode.isHidden=g)&&!k&&(t.mode&1)!==0)for(Oe=t,k=t.child;k!==null;){for(T=Oe=k;Oe!==null;){switch(C=Oe,I=C.child,C.tag){case 0:case 11:case 14:case 15:Xo(4,C,C.return);break;case 1:ws(C,C.return);var L=C.stateNode;if(typeof L.componentWillUnmount=="function"){r=C,n=C.return;try{e=r,L.props=e.memoizedProps,L.state=e.memoizedState,L.componentWillUnmount()}catch(N){jt(r,n,N)}}break;case 5:ws(C,C.return);break;case 22:if(C.memoizedState!==null){_y(T);continue}}I!==null?(I.return=C,Oe=I):_y(T)}k=k.sibling}e:for(k=null,T=t;;){if(T.tag===5){if(k===null){k=T;try{i=T.stateNode,g?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(h=T.stateNode,f=T.memoizedProps.style,l=f!=null&&f.hasOwnProperty("display")?f.display:null,h.style.display=Zb("display",l))}catch(N){jt(t,t.return,N)}}}else if(T.tag===6){if(k===null)try{T.stateNode.nodeValue=g?"":T.memoizedProps}catch(N){jt(t,t.return,N)}}else if((T.tag!==22&&T.tag!==23||T.memoizedState===null||T===t)&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===t)break e;for(;T.sibling===null;){if(T.return===null||T.return===t)break e;k===T&&(k=null),T=T.return}k===T&&(k=null),T.sibling.return=T.return,T=T.sibling}}break;case 19:Dr(e,t),Br(t),r&4&&hy(t);break;case 21:break;default:Dr(e,t),Br(t)}}function Br(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Cx(n)){var r=n;break e}n=n.return}throw Error(ve(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(fl(i,""),r.flags&=-33);var a=dy(t);R_(t,a,i);break;case 3:case 4:var l=r.stateNode.containerInfo,h=dy(t);L_(t,h,l);break;default:throw Error(ve(161))}}catch(f){jt(t,t.return,f)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function PN(t,e,n){Oe=t,Dx(t)}function Dx(t,e,n){for(var r=(t.mode&1)!==0;Oe!==null;){var i=Oe,a=i.child;if(i.tag===22&&r){var l=i.memoizedState!==null||tu;if(!l){var h=i.alternate,f=h!==null&&h.memoizedState!==null||Dn;h=tu;var g=Dn;if(tu=l,(Dn=f)&&!g)for(Oe=i;Oe!==null;)l=Oe,f=l.child,l.tag===22&&l.memoizedState!==null?py(i):f!==null?(f.return=l,Oe=f):py(i);for(;a!==null;)Oe=a,Dx(a),a=a.sibling;Oe=i,tu=h,Dn=g}fy(t)}else(i.subtreeFlags&8772)!==0&&a!==null?(a.return=i,Oe=a):fy(t)}}function fy(t){for(;Oe!==null;){var e=Oe;if((e.flags&8772)!==0){var n=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:Dn||Gd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Dn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Or(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&Jv(e,a,r);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Jv(e,l,n)}break;case 5:var h=e.stateNode;if(n===null&&e.flags&4){n=h;var f=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":f.autoFocus&&n.focus();break;case"img":f.src&&(n.src=f.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var g=e.alternate;if(g!==null){var k=g.memoizedState;if(k!==null){var T=k.dehydrated;T!==null&&gl(T)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ve(163))}Dn||e.flags&512&&P_(e)}catch(C){jt(e,e.return,C)}}if(e===t){Oe=null;break}if(n=e.sibling,n!==null){n.return=e.return,Oe=n;break}Oe=e.return}}function _y(t){for(;Oe!==null;){var e=Oe;if(e===t){Oe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Oe=n;break}Oe=e.return}}function py(t){for(;Oe!==null;){var e=Oe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Gd(4,e)}catch(f){jt(e,n,f)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(f){jt(e,i,f)}}var a=e.return;try{P_(e)}catch(f){jt(e,a,f)}break;case 5:var l=e.return;try{P_(e)}catch(f){jt(e,l,f)}}}catch(f){jt(e,e.return,f)}if(e===t){Oe=null;break}var h=e.sibling;if(h!==null){h.return=e.return,Oe=h;break}Oe=e.return}}var LN=Math.ceil,ld=ki.ReactCurrentDispatcher,xm=ki.ReactCurrentOwner,kr=ki.ReactCurrentBatchConfig,ht=0,cn=null,Kt=null,gn=0,sr=0,xs=fa(0),Zt=0,Nl=null,Va=0,Kd=0,Em=0,Zo=null,Jn=null,km=0,Hs=1/0,ti=null,cd=!1,$_=null,Qi=null,nu=!1,Hi=null,ud=0,el=0,F_=null,Du=-1,Iu=0;function Hn(){return(ht&6)!==0?Ht():Du!==-1?Du:Du=Ht()}function Xi(t){return(t.mode&1)===0?1:(ht&2)!==0&&gn!==0?gn&-gn:vN.transition!==null?(Iu===0&&(Iu=hw()),Iu):(t=vt,t!==0||(t=window.event,t=t===void 0?16:yw(t.type)),t)}function $r(t,e,n,r){if(50<el)throw el=0,F_=null,Error(ve(185));ec(t,n,r),((ht&2)===0||t!==cn)&&(t===cn&&((ht&2)===0&&(Kd|=n),Zt===4&&Ri(t,gn)),tr(t,r),n===1&&ht===0&&(e.mode&1)===0&&(Hs=Ht()+500,Bd&&_a()))}function tr(t,e){var n=t.callbackNode;vT(t,e);var r=Gu(t,t===cn?gn:0);if(r===0)n!==null&&kv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&kv(n),e===1)t.tag===0?gN(my.bind(null,t)):Fw(my.bind(null,t)),fN(function(){(ht&6)===0&&_a()}),n=null;else{switch(fw(r)){case 1:n=Jp;break;case 4:n=uw;break;case 16:n=Wu;break;case 536870912:n=dw;break;default:n=Wu}n=$x(n,Ix.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Ix(t,e){if(Du=-1,Iu=0,(ht&6)!==0)throw Error(ve(327));var n=t.callbackNode;if(As()&&t.callbackNode!==n)return null;var r=Gu(t,t===cn?gn:0);if(r===0)return null;if((r&30)!==0||(r&t.expiredLanes)!==0||e)e=dd(t,r);else{e=r;var i=ht;ht|=2;var a=Ox();(cn!==t||gn!==e)&&(ti=null,Hs=Ht()+500,Ma(t,e));do try{FN();break}catch(h){Ax(t,h)}while(1);cm(),ld.current=a,ht=i,Kt!==null?e=0:(cn=null,gn=0,e=Zt)}if(e!==0){if(e===2&&(i=d_(t),i!==0&&(r=i,e=U_(t,i))),e===1)throw n=Nl,Ma(t,0),Ri(t,r),tr(t,Ht()),n;if(e===6)Ri(t,r);else{if(i=t.current.alternate,(r&30)===0&&!RN(i)&&(e=dd(t,r),e===2&&(a=d_(t),a!==0&&(r=a,e=U_(t,a))),e===1))throw n=Nl,Ma(t,0),Ri(t,r),tr(t,Ht()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ve(345));case 2:Ea(t,Jn,ti);break;case 3:if(Ri(t,r),(r&130023424)===r&&(e=km+500-Ht(),10<e)){if(Gu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Hn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=y_(Ea.bind(null,t,Jn,ti),e);break}Ea(t,Jn,ti);break;case 4:if(Ri(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var l=31-Rr(r);a=1<<l,l=e[l],l>i&&(i=l),r&=~a}if(r=i,r=Ht()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*LN(r/1960))-r,10<r){t.timeoutHandle=y_(Ea.bind(null,t,Jn,ti),r);break}Ea(t,Jn,ti);break;case 5:Ea(t,Jn,ti);break;default:throw Error(ve(329))}}}return tr(t,Ht()),t.callbackNode===n?Ix.bind(null,t):null}function U_(t,e){var n=Zo;return t.current.memoizedState.isDehydrated&&(Ma(t,e).flags|=256),t=dd(t,e),t!==2&&(e=Jn,Jn=n,e!==null&&j_(e)),t}function j_(t){Jn===null?Jn=t:Jn.push.apply(Jn,t)}function RN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Fr(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ri(t,e){for(e&=~Em,e&=~Kd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Rr(e),r=1<<n;t[n]=-1,e&=~r}}function my(t){if((ht&6)!==0)throw Error(ve(327));As();var e=Gu(t,0);if((e&1)===0)return tr(t,Ht()),null;var n=dd(t,e);if(t.tag!==0&&n===2){var r=d_(t);r!==0&&(e=r,n=U_(t,r))}if(n===1)throw n=Nl,Ma(t,0),Ri(t,e),tr(t,Ht()),n;if(n===6)throw Error(ve(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ea(t,Jn,ti),tr(t,Ht()),null}function Sm(t,e){var n=ht;ht|=1;try{return t(e)}finally{ht=n,ht===0&&(Hs=Ht()+500,Bd&&_a())}}function za(t){Hi!==null&&Hi.tag===0&&(ht&6)===0&&As();var e=ht;ht|=1;var n=kr.transition,r=vt;try{if(kr.transition=null,vt=1,t)return t()}finally{vt=r,kr.transition=n,ht=e,(ht&6)===0&&_a()}}function Cm(){sr=xs.current,It(xs)}function Ma(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,hN(n)),Kt!==null)for(n=Kt.return;n!==null;){var r=n;switch(sm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Xu();break;case 3:Vs(),It(Zn),It(Mn),pm();break;case 5:_m(r);break;case 4:Vs();break;case 13:It(Pt);break;case 19:It(Pt);break;case 10:um(r.type._context);break;case 22:case 23:Cm()}n=n.return}if(cn=t,Kt=t=Zi(t.current,null),gn=sr=e,Zt=0,Nl=null,Em=Kd=Va=0,Jn=Zo=null,Ta!==null){for(e=0;e<Ta.length;e++)if(n=Ta[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var l=a.next;a.next=i,r.next=l}n.pending=r}Ta=null}return t}function Ax(t,e){do{var n=Kt;try{if(cm(),Cu.current=od,sd){for(var r=Lt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}sd=!1}if(ja=0,sn=Xt=Lt=null,Qo=!1,Sl=0,xm.current=null,n===null||n.return===null){Zt=1,Nl=e,Kt=null;break}e:{var a=t,l=n.return,h=n,f=e;if(e=gn,h.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){var g=f,k=h,T=k.tag;if((k.mode&1)===0&&(T===0||T===11||T===15)){var C=k.alternate;C?(k.updateQueue=C.updateQueue,k.memoizedState=C.memoizedState,k.lanes=C.lanes):(k.updateQueue=null,k.memoizedState=null)}var I=ry(l);if(I!==null){I.flags&=-257,iy(I,l,h,a,e),I.mode&1&&ny(a,g,e),e=I,f=g;var L=e.updateQueue;if(L===null){var N=new Set;N.add(f),e.updateQueue=N}else L.add(f);break e}else{if((e&1)===0){ny(a,g,e),Tm();break e}f=Error(ve(426))}}else if(At&&h.mode&1){var R=ry(l);if(R!==null){(R.flags&65536)===0&&(R.flags|=256),iy(R,l,h,a,e),om(zs(f,h));break e}}a=f=zs(f,h),Zt!==4&&(Zt=2),Zo===null?Zo=[a]:Zo.push(a),a=l;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var O=_x(a,f,e);Yv(a,O);break e;case 1:h=f;var A=a.type,$=a.stateNode;if((a.flags&128)===0&&(typeof A.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(Qi===null||!Qi.has($)))){a.flags|=65536,e&=-e,a.lanes|=e;var U=px(a,h,e);Yv(a,U);break e}}a=a.return}while(a!==null)}Px(n)}catch(j){e=j,Kt===n&&n!==null&&(Kt=n=n.return);continue}break}while(1)}function Ox(){var t=ld.current;return ld.current=od,t===null?od:t}function Tm(){(Zt===0||Zt===3||Zt===2)&&(Zt=4),cn===null||(Va&268435455)===0&&(Kd&268435455)===0||Ri(cn,gn)}function dd(t,e){var n=ht;ht|=2;var r=Ox();(cn!==t||gn!==e)&&(ti=null,Ma(t,e));do try{$N();break}catch(i){Ax(t,i)}while(1);if(cm(),ht=n,ld.current=r,Kt!==null)throw Error(ve(261));return cn=null,gn=0,Zt}function $N(){for(;Kt!==null;)Mx(Kt)}function FN(){for(;Kt!==null&&!cT();)Mx(Kt)}function Mx(t){var e=Rx(t.alternate,t,sr);t.memoizedProps=t.pendingProps,e===null?Px(t):Kt=e,xm.current=null}function Px(t){var e=t;do{var n=e.alternate;if(t=e.return,(e.flags&32768)===0){if(n=IN(n,e,sr),n!==null){Kt=n;return}}else{if(n=AN(n,e),n!==null){n.flags&=32767,Kt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Zt=6,Kt=null;return}}if(e=e.sibling,e!==null){Kt=e;return}Kt=e=t}while(e!==null);Zt===0&&(Zt=5)}function Ea(t,e,n){var r=vt,i=kr.transition;try{kr.transition=null,vt=1,UN(t,e,n,r)}finally{kr.transition=i,vt=r}return null}function UN(t,e,n,r){do As();while(Hi!==null);if((ht&6)!==0)throw Error(ve(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ve(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(yT(t,a),t===cn&&(Kt=cn=null,gn=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||nu||(nu=!0,$x(Wu,function(){return As(),null})),a=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||a){a=kr.transition,kr.transition=null;var l=vt;vt=1;var h=ht;ht|=4,xm.current=null,MN(t,n),Nx(n,t),aN(g_),Ku=!!m_,g_=m_=null,t.current=n,PN(n),uT(),ht=h,vt=l,kr.transition=a}else t.current=n;if(nu&&(nu=!1,Hi=t,ud=i),a=t.pendingLanes,a===0&&(Qi=null),fT(n.stateNode),tr(t,Ht()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(cd)throw cd=!1,t=$_,$_=null,t;return(ud&1)!==0&&t.tag!==0&&As(),a=t.pendingLanes,(a&1)!==0?t===F_?el++:(el=0,F_=t):el=0,_a(),null}function As(){if(Hi!==null){var t=fw(ud),e=kr.transition,n=vt;try{if(kr.transition=null,vt=16>t?16:t,Hi===null)var r=!1;else{if(t=Hi,Hi=null,ud=0,(ht&6)!==0)throw Error(ve(331));var i=ht;for(ht|=4,Oe=t.current;Oe!==null;){var a=Oe,l=a.child;if((Oe.flags&16)!==0){var h=a.deletions;if(h!==null){for(var f=0;f<h.length;f++){var g=h[f];for(Oe=g;Oe!==null;){var k=Oe;switch(k.tag){case 0:case 11:case 15:Xo(8,k,a)}var T=k.child;if(T!==null)T.return=k,Oe=T;else for(;Oe!==null;){k=Oe;var C=k.sibling,I=k.return;if(Sx(k),k===g){Oe=null;break}if(C!==null){C.return=I,Oe=C;break}Oe=I}}}var L=a.alternate;if(L!==null){var N=L.child;if(N!==null){L.child=null;do{var R=N.sibling;N.sibling=null,N=R}while(N!==null)}}Oe=a}}if((a.subtreeFlags&2064)!==0&&l!==null)l.return=a,Oe=l;else e:for(;Oe!==null;){if(a=Oe,(a.flags&2048)!==0)switch(a.tag){case 0:case 11:case 15:Xo(9,a,a.return)}var O=a.sibling;if(O!==null){O.return=a.return,Oe=O;break e}Oe=a.return}}var A=t.current;for(Oe=A;Oe!==null;){l=Oe;var $=l.child;if((l.subtreeFlags&2064)!==0&&$!==null)$.return=l,Oe=$;else e:for(l=A;Oe!==null;){if(h=Oe,(h.flags&2048)!==0)try{switch(h.tag){case 0:case 11:case 15:Gd(9,h)}}catch(j){jt(h,h.return,j)}if(h===l){Oe=null;break e}var U=h.sibling;if(U!==null){U.return=h.return,Oe=U;break e}Oe=h.return}}if(ht=i,_a(),Gr&&typeof Gr.onPostCommitFiberRoot=="function")try{Gr.onPostCommitFiberRoot(Ud,t)}catch{}r=!0}return r}finally{vt=n,kr.transition=e}}return!1}function gy(t,e,n){e=zs(n,e),e=_x(t,e,1),t=Ji(t,e,1),e=Hn(),t!==null&&(ec(t,1,e),tr(t,e))}function jt(t,e,n){if(t.tag===3)gy(t,t,n);else for(;e!==null;){if(e.tag===3){gy(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Qi===null||!Qi.has(r))){t=zs(n,t),t=px(e,t,1),e=Ji(e,t,1),t=Hn(),e!==null&&(ec(e,1,t),tr(e,t));break}}e=e.return}}function jN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Hn(),t.pingedLanes|=t.suspendedLanes&n,cn===t&&(gn&n)===n&&(Zt===4||Zt===3&&(gn&130023424)===gn&&500>Ht()-km?Ma(t,0):Em|=n),tr(t,e)}function Lx(t,e){e===0&&((t.mode&1)===0?e=1:(e=Wc,Wc<<=1,(Wc&130023424)===0&&(Wc=4194304)));var n=Hn();t=_i(t,e),t!==null&&(ec(t,e,n),tr(t,n))}function VN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Lx(t,n)}function zN(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ve(314))}r!==null&&r.delete(e),Lx(t,n)}var Rx;Rx=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Zn.current)Xn=!0;else{if((t.lanes&n)===0&&(e.flags&128)===0)return Xn=!1,DN(t,e,n);Xn=(t.flags&131072)!==0}else Xn=!1,At&&(e.flags&1048576)!==0&&Uw(e,td,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Nu(t,e),t=e.pendingProps;var i=Fs(e,Mn.current);Is(e,n),i=gm(null,e,r,t,i,n);var a=vm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,er(r)?(a=!0,Zu(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,hm(e),i.updater=qd,e.stateNode=i,i._reactInternals=e,C_(e,r,t,n),e=D_(null,e,r,!0,a,n)):(e.tag=0,At&&a&&am(e),Ln(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Nu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=BN(r),t=Or(r,t),i){case 0:e=N_(null,e,r,t,n);break e;case 1:e=oy(null,e,r,t,n);break e;case 11:e=ay(null,e,r,t,n);break e;case 14:e=sy(null,e,r,Or(r.type,t),n);break e}throw Error(ve(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Or(r,i),N_(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Or(r,i),oy(t,e,r,i,n);case 3:e:{if(yx(e),t===null)throw Error(ve(387));r=e.pendingProps,a=e.memoizedState,i=a.element,Hw(t,e),id(e,r,null,n);var l=e.memoizedState;if(r=l.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=zs(Error(ve(423)),e),e=ly(t,e,r,n,i);break e}else if(r!==i){i=zs(Error(ve(424)),e),e=ly(t,e,r,n,i);break e}else for(lr=Yi(e.stateNode.containerInfo.firstChild),cr=e,At=!0,Pr=null,n=Gw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Us(),r===i){e=pi(t,e,n);break e}Ln(t,e,r,n)}e=e.child}return e;case 5:return Kw(e),t===null&&E_(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,l=i.children,v_(r,i)?l=null:a!==null&&v_(r,a)&&(e.flags|=32),vx(t,e),Ln(t,e,l,n),e.child;case 6:return t===null&&E_(e),null;case 13:return bx(t,e,n);case 4:return fm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=js(e,null,r,n):Ln(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Or(r,i),ay(t,e,r,i,n);case 7:return Ln(t,e,e.pendingProps,n),e.child;case 8:return Ln(t,e,e.pendingProps.children,n),e.child;case 12:return Ln(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,l=i.value,xt(nd,r._currentValue),r._currentValue=l,a!==null)if(Fr(a.value,l)){if(a.children===i.children&&!Zn.current){e=pi(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var h=a.dependencies;if(h!==null){l=a.child;for(var f=h.firstContext;f!==null;){if(f.context===r){if(a.tag===1){f=ci(-1,n&-n),f.tag=2;var g=a.updateQueue;if(g!==null){g=g.shared;var k=g.pending;k===null?f.next=f:(f.next=k.next,k.next=f),g.pending=f}}a.lanes|=n,f=a.alternate,f!==null&&(f.lanes|=n),k_(a.return,n,e),h.lanes|=n;break}f=f.next}}else if(a.tag===10)l=a.type===e.type?null:a.child;else if(a.tag===18){if(l=a.return,l===null)throw Error(ve(341));l.lanes|=n,h=l.alternate,h!==null&&(h.lanes|=n),k_(l,n,e),l=a.sibling}else l=a.child;if(l!==null)l.return=a;else for(l=a;l!==null;){if(l===e){l=null;break}if(a=l.sibling,a!==null){a.return=l.return,l=a;break}l=l.return}a=l}Ln(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Is(e,n),i=Tr(i),r=r(i),e.flags|=1,Ln(t,e,r,n),e.child;case 14:return r=e.type,i=Or(r,e.pendingProps),i=Or(r.type,i),sy(t,e,r,i,n);case 15:return mx(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Or(r,i),Nu(t,e),e.tag=1,er(r)?(t=!0,Zu(e)):t=!1,Is(e,n),qw(e,r,i),C_(e,r,i,n),D_(null,e,r,!0,t,n);case 19:return wx(t,e,n);case 22:return gx(t,e,n)}throw Error(ve(156,e.tag))};function $x(t,e){return cw(t,e)}function HN(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xr(t,e,n,r){return new HN(t,e,n,r)}function Nm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function BN(t){if(typeof t=="function")return Nm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Gp)return 11;if(t===Kp)return 14}return 2}function Zi(t,e){var n=t.alternate;return n===null?(n=xr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Au(t,e,n,r,i,a){var l=2;if(r=t,typeof t=="function")Nm(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case hs:return Pa(n.children,i,a,e);case Wp:l=8,i|=8;break;case Jf:return t=xr(12,n,e,i|2),t.elementType=Jf,t.lanes=a,t;case Qf:return t=xr(13,n,e,i),t.elementType=Qf,t.lanes=a,t;case Xf:return t=xr(19,n,e,i),t.elementType=Xf,t.lanes=a,t;case Wb:return Yd(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Bb:l=10;break e;case qb:l=9;break e;case Gp:l=11;break e;case Kp:l=14;break e;case Oi:l=16,r=null;break e}throw Error(ve(130,t==null?t:typeof t,""))}return e=xr(l,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function Pa(t,e,n,r){return t=xr(7,t,r,e),t.lanes=n,t}function Yd(t,e,n,r){return t=xr(22,t,r,e),t.elementType=Wb,t.lanes=n,t.stateNode={isHidden:!1},t}function pf(t,e,n){return t=xr(6,t,null,e),t.lanes=n,t}function mf(t,e,n){return e=xr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function qN(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yh(0),this.expirationTimes=Yh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Dm(t,e,n,r,i,a,l,h,f){return t=new qN(t,e,n,h,f),e===1?(e=1,a===!0&&(e|=8)):e=0,a=xr(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},hm(a),t}function WN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ds,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Fx(t){if(!t)return la;t=t._reactInternals;e:{if(ts(t)!==t||t.tag!==1)throw Error(ve(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(er(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ve(171))}if(t.tag===1){var n=t.type;if(er(n))return $w(t,n,e)}return e}function Ux(t,e,n,r,i,a,l,h,f){return t=Dm(n,r,!0,t,i,a,l,h,f),t.context=Fx(null),n=t.current,r=Hn(),i=Xi(n),a=ci(r,i),a.callback=e!=null?e:null,Ji(n,a,i),t.current.lanes=i,ec(t,i,r),tr(t,r),t}function Jd(t,e,n,r){var i=e.current,a=Hn(),l=Xi(i);return n=Fx(n),e.context===null?e.context=n:e.pendingContext=n,e=ci(a,l),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ji(i,e,l),t!==null&&($r(t,i,l,a),Su(t,i,l)),l}function hd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function vy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Im(t,e){vy(t,e),(t=t.alternate)&&vy(t,e)}function GN(){return null}var jx=typeof reportError=="function"?reportError:function(t){console.error(t)};function Am(t){this._internalRoot=t}Qd.prototype.render=Am.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ve(409));Jd(t,e,null,null)};Qd.prototype.unmount=Am.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;za(function(){Jd(null,t,null,null)}),e[fi]=null}};function Qd(t){this._internalRoot=t}Qd.prototype.unstable_scheduleHydration=function(t){if(t){var e=mw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Li.length&&e!==0&&e<Li[n].priority;n++);Li.splice(n,0,t),n===0&&vw(t)}};function Om(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Xd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function yy(){}function KN(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var g=hd(l);a.call(g)}}var l=Ux(e,r,t,0,null,!1,!1,"",yy);return t._reactRootContainer=l,t[fi]=l.current,bl(t.nodeType===8?t.parentNode:t),za(),l}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var h=r;r=function(){var g=hd(f);h.call(g)}}var f=Dm(t,0,!1,null,null,!1,!1,"",yy);return t._reactRootContainer=f,t[fi]=f.current,bl(t.nodeType===8?t.parentNode:t),za(function(){Jd(e,f,n,r)}),f}function Zd(t,e,n,r,i){var a=n._reactRootContainer;if(a){var l=a;if(typeof i=="function"){var h=i;i=function(){var f=hd(l);h.call(f)}}Jd(e,l,t,i)}else l=KN(n,e,t,i,r);return hd(l)}_w=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=$o(e.pendingLanes);n!==0&&(Qp(e,n|1),tr(e,Ht()),(ht&6)===0&&(Hs=Ht()+500,_a()))}break;case 13:za(function(){var r=_i(t,1);if(r!==null){var i=Hn();$r(r,t,1,i)}}),Im(t,1)}};Xp=function(t){if(t.tag===13){var e=_i(t,134217728);if(e!==null){var n=Hn();$r(e,t,134217728,n)}Im(t,134217728)}};pw=function(t){if(t.tag===13){var e=Xi(t),n=_i(t,e);if(n!==null){var r=Hn();$r(n,t,e,r)}Im(t,e)}};mw=function(){return vt};gw=function(t,e){var n=vt;try{return vt=t,e()}finally{vt=n}};l_=function(t,e,n){switch(e){case"input":if(t_(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Hd(r);if(!i)throw Error(ve(90));Kb(r),t_(r,i)}}}break;case"textarea":Jb(t,n);break;case"select":e=n.value,e!=null&&Cs(t,!!n.multiple,e,!1)}};rw=Sm;iw=za;var YN={usingClientEntryPoint:!1,Events:[nc,ms,Hd,tw,nw,Sm]},No={findFiberByHostInstance:Ca,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},JN={bundleType:No.bundleType,version:No.version,rendererPackageName:No.rendererPackageName,rendererConfig:No.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ki.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=ow(t),t===null?null:t.stateNode},findFiberByHostInstance:No.findFiberByHostInstance||GN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{Ud=ru.inject(JN),Gr=ru}catch{}}_r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YN;_r.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Om(e))throw Error(ve(200));return WN(t,e,null,n)};_r.createRoot=function(t,e){if(!Om(t))throw Error(ve(299));var n=!1,r="",i=jx;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Dm(t,1,!1,null,null,n,!1,r,i),t[fi]=e.current,bl(t.nodeType===8?t.parentNode:t),new Am(e)};_r.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ve(188)):(t=Object.keys(t).join(","),Error(ve(268,t)));return t=ow(e),t=t===null?null:t.stateNode,t};_r.flushSync=function(t){return za(t)};_r.hydrate=function(t,e,n){if(!Xd(e))throw Error(ve(200));return Zd(null,t,e,!0,n)};_r.hydrateRoot=function(t,e,n){if(!Om(t))throw Error(ve(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",l=jx;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=Ux(e,null,t,1,n!=null?n:null,i,!1,a,l),t[fi]=e.current,bl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Qd(e)};_r.render=function(t,e,n){if(!Xd(e))throw Error(ve(200));return Zd(null,t,e,!1,n)};_r.unmountComponentAtNode=function(t){if(!Xd(t))throw Error(ve(40));return t._reactRootContainer?(za(function(){Zd(null,null,t,!1,function(){t._reactRootContainer=null,t[fi]=null})}),!0):!1};_r.unstable_batchedUpdates=Sm;_r.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Xd(n))throw Error(ve(200));if(t==null||t._reactInternals===void 0)throw Error(ve(38));return Zd(t,e,n,!1,r)};_r.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=_r})(Ub);var by=Ub.exports;Kf.createRoot=by.createRoot,Kf.hydrateRoot=by.hydrateRoot;function fd(){return fd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fd.apply(this,arguments)}var Da;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Da||(Da={}));var wy=function(t){return t},xy="beforeunload",QN="popstate";function XN(t){t===void 0&&(t={});var e=t,n=e.window,r=n===void 0?document.defaultView:n,i=r.history;function a(){var z=r.location,W=z.pathname,q=z.search,Y=z.hash,Z=i.state||{};return[Z.idx,wy({pathname:W,search:q,hash:Y,state:Z.usr||null,key:Z.key||"default"})]}var l=null;function h(){if(l)I.call(l),l=null;else{var z=Da.Pop,W=a(),q=W[0],Y=W[1];if(I.length){if(q!=null){var Z=k-q;Z&&(l={action:z,location:Y,retry:function(){j(Z*-1)}},j(Z))}}else A(z)}}r.addEventListener(QN,h);var f=Da.Pop,g=a(),k=g[0],T=g[1],C=ky(),I=ky();k==null&&(k=0,i.replaceState(fd({},i.state,{idx:k}),""));function L(z){return typeof z=="string"?z:V_(z)}function N(z,W){return W===void 0&&(W=null),wy(fd({pathname:T.pathname,hash:"",search:""},typeof z=="string"?ns(z):z,{state:W,key:ZN()}))}function R(z,W){return[{usr:z.state,key:z.key,idx:W},L(z)]}function O(z,W,q){return!I.length||(I.call({action:z,location:W,retry:q}),!1)}function A(z){f=z;var W=a();k=W[0],T=W[1],C.call({action:f,location:T})}function $(z,W){var q=Da.Push,Y=N(z,W);function Z(){$(z,W)}if(O(q,Y,Z)){var X=R(Y,k+1),ce=X[0],de=X[1];try{i.pushState(ce,"",de)}catch{r.location.assign(de)}A(q)}}function U(z,W){var q=Da.Replace,Y=N(z,W);function Z(){U(z,W)}if(O(q,Y,Z)){var X=R(Y,k),ce=X[0],de=X[1];i.replaceState(ce,"",de),A(q)}}function j(z){i.go(z)}var H={get action(){return f},get location(){return T},createHref:L,push:$,replace:U,go:j,back:function(){j(-1)},forward:function(){j(1)},listen:function(W){return C.push(W)},block:function(W){var q=I.push(W);return I.length===1&&r.addEventListener(xy,Ey),function(){q(),I.length||r.removeEventListener(xy,Ey)}}};return H}function Ey(t){t.preventDefault(),t.returnValue=""}function ky(){var t=[];return{get length(){return t.length},push:function(n){return t.push(n),function(){t=t.filter(function(r){return r!==n})}},call:function(n){t.forEach(function(r){return r&&r(n)})}}}function ZN(){return Math.random().toString(36).substr(2,8)}function V_(t){var e=t.pathname,n=e===void 0?"/":e,r=t.search,i=r===void 0?"":r,a=t.hash,l=a===void 0?"":a;return i&&i!=="?"&&(n+=i.charAt(0)==="?"?i:"?"+i),l&&l!=="#"&&(n+=l.charAt(0)==="#"?l:"#"+l),n}function ns(t){var e={};if(t){var n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));var r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}/**
 * React Router v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Mm=ae.exports.createContext(null),Pm=ae.exports.createContext(null),eh=ae.exports.createContext({outlet:null,matches:[]});function Ur(t,e){if(!t)throw new Error(e)}function eD(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?ns(e):e,i=Hx(r.pathname||"/",n);if(i==null)return null;let a=Vx(t);tD(a);let l=null;for(let h=0;l==null&&h<a.length;++h)l=uD(a[h],i);return l}function Vx(t,e,n,r){return e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r=""),t.forEach((i,a)=>{let l={relativePath:i.path||"",caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};l.relativePath.startsWith("/")&&(l.relativePath.startsWith(r)||Ur(!1),l.relativePath=l.relativePath.slice(r.length));let h=ea([r,l.relativePath]),f=n.concat(l);i.children&&i.children.length>0&&(i.index===!0&&Ur(!1),Vx(i.children,e,f,h)),!(i.path==null&&!i.index)&&e.push({path:h,score:lD(h,i.index),routesMeta:f})}),e}function tD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:cD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const nD=/^:\w+$/,rD=3,iD=2,aD=1,sD=10,oD=-2,Sy=t=>t==="*";function lD(t,e){let n=t.split("/"),r=n.length;return n.some(Sy)&&(r+=oD),e&&(r+=iD),n.filter(i=>!Sy(i)).reduce((i,a)=>i+(nD.test(a)?rD:a===""?aD:sD),r)}function cD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function uD(t,e){let{routesMeta:n}=t,r={},i="/",a=[];for(let l=0;l<n.length;++l){let h=n[l],f=l===n.length-1,g=i==="/"?e:e.slice(i.length)||"/",k=dD({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},g);if(!k)return null;Object.assign(r,k.params);let T=h.route;a.push({params:r,pathname:ea([i,k.pathname]),pathnameBase:Bx(ea([i,k.pathnameBase])),route:T}),k.pathnameBase!=="/"&&(i=ea([i,k.pathnameBase]))}return a}function dD(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=hD(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),h=i.slice(1);return{params:r.reduce((g,k,T)=>{if(k==="*"){let C=h[T]||"";l=a.slice(0,a.length-C.length).replace(/(.)\/+$/,"$1")}return g[k]=fD(h[T]||""),g},{}),pathname:a,pathnameBase:l,pattern:t}}function hD(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(l,h)=>(r.push(h),"([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)",[new RegExp(i,e?void 0:"i"),r]}function fD(t,e){try{return decodeURIComponent(t)}catch{return t}}function _D(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ns(t):t;return{pathname:n?n.startsWith("/")?n:pD(n,e):e,search:gD(r),hash:vD(i)}}function pD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function zx(t,e,n){let r=typeof t=="string"?ns(t):t,i=t===""||r.pathname===""?"/":r.pathname,a;if(i==null)a=n;else{let h=e.length-1;if(i.startsWith("..")){let f=i.split("/");for(;f[0]==="..";)f.shift(),h-=1;r.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=_D(r,a);return i&&i!=="/"&&i.endsWith("/")&&!l.pathname.endsWith("/")&&(l.pathname+="/"),l}function mD(t){return t===""||t.pathname===""?"/":typeof t=="string"?ns(t).pathname:t.pathname}function Hx(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=t.charAt(e.length);return n&&n!=="/"?null:t.slice(e.length)||"/"}const ea=t=>t.join("/").replace(/\/\/+/g,"/"),Bx=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),gD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,vD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function yD(t){io()||Ur(!1);let{basename:e,navigator:n}=ae.exports.useContext(Mm),{hash:r,pathname:i,search:a}=qx(t),l=i;if(e!=="/"){let h=mD(t),f=h!=null&&h.endsWith("/");l=i==="/"?e+(f?"/":""):ea([e,i])}return n.createHref({pathname:l,search:a,hash:r})}function io(){return ae.exports.useContext(Pm)!=null}function th(){return io()||Ur(!1),ae.exports.useContext(Pm).location}function Wn(){io()||Ur(!1);let{basename:t,navigator:e}=ae.exports.useContext(Mm),{matches:n}=ae.exports.useContext(eh),{pathname:r}=th(),i=JSON.stringify(n.map(h=>h.pathnameBase)),a=ae.exports.useRef(!1);return ae.exports.useEffect(()=>{a.current=!0}),ae.exports.useCallback(function(h,f){if(f===void 0&&(f={}),!a.current)return;if(typeof h=="number"){e.go(h);return}let g=zx(h,JSON.parse(i),r);t!=="/"&&(g.pathname=ea([t,g.pathname])),(f.replace?e.replace:e.push)(g,f.state)},[t,e,i,r])}function qx(t){let{matches:e}=ae.exports.useContext(eh),{pathname:n}=th(),r=JSON.stringify(e.map(i=>i.pathnameBase));return ae.exports.useMemo(()=>zx(t,JSON.parse(r),n),[t,r,n])}function bD(t,e){io()||Ur(!1);let{matches:n}=ae.exports.useContext(eh),r=n[n.length-1],i=r?r.params:{};r&&r.pathname;let a=r?r.pathnameBase:"/";r&&r.route;let l=th(),h;if(e){var f;let C=typeof e=="string"?ns(e):e;a==="/"||((f=C.pathname)==null?void 0:f.startsWith(a))||Ur(!1),h=C}else h=l;let g=h.pathname||"/",k=a==="/"?g:g.slice(a.length)||"/",T=eD(t,{pathname:k});return wD(T&&T.map(C=>Object.assign({},C,{params:Object.assign({},i,C.params),pathname:ea([a,C.pathname]),pathnameBase:C.pathnameBase==="/"?a:ea([a,C.pathnameBase])})),n)}function wD(t,e){return e===void 0&&(e=[]),t==null?null:t.reduceRight((n,r,i)=>ae.exports.createElement(eh.Provider,{children:r.route.element!==void 0?r.route.element:n,value:{outlet:n,matches:e.concat(t.slice(0,i+1))}}),null)}function Ha(t){let{to:e,replace:n,state:r}=t;io()||Ur(!1);let i=Wn();return ae.exports.useEffect(()=>{i(e,{replace:n,state:r})}),null}function Pn(t){Ur(!1)}function xD(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Da.Pop,navigator:a,static:l=!1}=t;io()&&Ur(!1);let h=Bx(e),f=ae.exports.useMemo(()=>({basename:h,navigator:a,static:l}),[h,a,l]);typeof r=="string"&&(r=ns(r));let{pathname:g="/",search:k="",hash:T="",state:C=null,key:I="default"}=r,L=ae.exports.useMemo(()=>{let N=Hx(g,h);return N==null?null:{pathname:N,search:k,hash:T,state:C,key:I}},[h,g,k,T,C,I]);return L==null?null:ae.exports.createElement(Mm.Provider,{value:f},ae.exports.createElement(Pm.Provider,{children:n,value:{location:L,navigationType:i}}))}function ED(t){let{children:e,location:n}=t;return bD(z_(e),n)}function z_(t){let e=[];return ae.exports.Children.forEach(t,n=>{if(!ae.exports.isValidElement(n))return;if(n.type===ae.exports.Fragment){e.push.apply(e,z_(n.props.children));return}n.type!==Pn&&Ur(!1);let r={caseSensitive:n.props.caseSensitive,element:n.props.element,index:n.props.index,path:n.props.path};n.props.children&&(r.children=z_(n.props.children)),e.push(r)}),e}/**
 * React Router DOM v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function H_(){return H_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},H_.apply(this,arguments)}function kD(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const SD=["onClick","reloadDocument","replace","state","target","to"];function CD(t){let{basename:e,children:n,window:r}=t,i=ae.exports.useRef();i.current==null&&(i.current=XN({window:r}));let a=i.current,[l,h]=ae.exports.useState({action:a.action,location:a.location});return ae.exports.useLayoutEffect(()=>a.listen(h),[a]),ae.exports.createElement(xD,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:a})}function TD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}const qt=ae.exports.forwardRef(function(e,n){let{onClick:r,reloadDocument:i,replace:a=!1,state:l,target:h,to:f}=e,g=kD(e,SD),k=yD(f),T=ND(f,{replace:a,state:l,target:h});function C(I){r&&r(I),!I.defaultPrevented&&!i&&T(I)}return ae.exports.createElement("a",H_({},g,{href:k,onClick:C,ref:n,target:h}))});function ND(t,e){let{target:n,replace:r,state:i}=e===void 0?{}:e,a=Wn(),l=th(),h=qx(t);return ae.exports.useCallback(f=>{if(f.button===0&&(!n||n==="_self")&&!TD(f)){f.preventDefault();let g=!!r||V_(l)===V_(h);a(t,{replace:g,state:i})}},[l,a,h,r,i,n,t])}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},DD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],l=t[n++],h=t[n++],f=((i&7)<<18|(a&63)<<12|(l&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},Gx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],l=i+1<t.length,h=l?t[i+1]:0,f=i+2<t.length,g=f?t[i+2]:0,k=a>>2,T=(a&3)<<4|h>>4;let C=(h&15)<<2|g>>6,I=g&63;f||(I=64,l||(C=64)),r.push(n[k],n[T],n[C],n[I])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Wx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):DD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],h=i<t.length?n[t.charAt(i)]:0;++i;const g=i<t.length?n[t.charAt(i)]:64;++i;const T=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||h==null||g==null||T==null)throw Error();const C=a<<2|h>>4;if(r.push(C),g!==64){const I=h<<4&240|g>>2;if(r.push(I),T!==64){const L=g<<6&192|T;r.push(L)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},ID=function(t){const e=Wx(t);return Gx.encodeByteArray(e,!0)},Kx=function(t){return ID(t).replace(/\./g,"")},AD=function(t){try{return Gx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Yx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function Jx(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Qx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function MD(){return un().indexOf("Electron/")>=0}function Xx(){const t=un();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function PD(){return un().indexOf("MSAppHost/")>=0}function LD(){return typeof indexedDB=="object"}function RD(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D="FirebaseError";class Si extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=$D,Object.setPrototypeOf(this,Si.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ic.prototype.create)}}class ic{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?FD(a,r):"Error",h=`${this.serviceName}: ${l} (${i}).`;return new Si(i,h,r)}}function FD(t,e){return t.replace(UD,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const UD=/\{\$([^}]+)}/g;function jD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function _d(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],l=e[i];if(Cy(a)&&Cy(l)){if(!_d(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Cy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Uo(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function jo(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function VD(t,e){const n=new zD(t,e);return n.subscribe.bind(n)}class zD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");HD(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=gf),i.error===void 0&&(i.error=gf),i.complete===void 0&&(i.complete=gf);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function HD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function gf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(t){return t&&t._delegate?t._delegate:t}class Ba{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ka="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new OD;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(WD(e))try{this.getOrInitializeService({instanceIdentifier:ka})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=ka){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ka){return this.instances.has(e)}getOptions(e=ka){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&l.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(!!r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:qD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ka){return this.component?this.component.multipleInstances?e:ka:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qD(t){return t===ka?void 0:t}function WD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new BD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(mt||(mt={}));const KD={debug:mt.DEBUG,verbose:mt.VERBOSE,info:mt.INFO,warn:mt.WARN,error:mt.ERROR,silent:mt.SILENT},YD=mt.INFO,JD={[mt.DEBUG]:"log",[mt.VERBOSE]:"log",[mt.INFO]:"info",[mt.WARN]:"warn",[mt.ERROR]:"error"},QD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=JD[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Lm{constructor(e){this.name=e,this._logLevel=YD,this._logHandler=QD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in mt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?KD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,mt.DEBUG,...e),this._logHandler(this,mt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,mt.VERBOSE,...e),this._logHandler(this,mt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,mt.INFO,...e),this._logHandler(this,mt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,mt.WARN,...e),this._logHandler(this,mt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,mt.ERROR,...e),this._logHandler(this,mt.ERROR,...e)}}const XD=(t,e)=>e.some(n=>t instanceof n);let Ty,Ny;function ZD(){return Ty||(Ty=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eI(){return Ny||(Ny=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Zx=new WeakMap,B_=new WeakMap,e1=new WeakMap,vf=new WeakMap,Rm=new WeakMap;function tI(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(ta(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&Zx.set(n,t)}).catch(()=>{}),Rm.set(e,t),e}function nI(t){if(B_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});B_.set(t,e)}let q_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return B_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||e1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ta(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function rI(t){q_=t(q_)}function iI(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(yf(this),e,...n);return e1.set(r,e.sort?e.sort():[e]),ta(r)}:eI().includes(t)?function(...e){return t.apply(yf(this),e),ta(Zx.get(this))}:function(...e){return ta(t.apply(yf(this),e))}}function aI(t){return typeof t=="function"?iI(t):(t instanceof IDBTransaction&&nI(t),XD(t,ZD())?new Proxy(t,q_):t)}function ta(t){if(t instanceof IDBRequest)return tI(t);if(vf.has(t))return vf.get(t);const e=aI(t);return e!==t&&(vf.set(t,e),Rm.set(e,t)),e}const yf=t=>Rm.get(t);function sI(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(t,e),h=ta(l);return r&&l.addEventListener("upgradeneeded",f=>{r(ta(l.result),f.oldVersion,f.newVersion,ta(l.transaction))}),n&&l.addEventListener("blocked",()=>n()),h.then(f=>{a&&f.addEventListener("close",()=>a()),i&&f.addEventListener("versionchange",()=>i())}).catch(()=>{}),h}const oI=["get","getKey","getAll","getAllKeys","count"],lI=["put","add","delete","clear"],bf=new Map;function Dy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(bf.get(e))return bf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=lI.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||oI.includes(n)))return;const a=async function(l,...h){const f=this.transaction(l,i?"readwrite":"readonly");let g=f.store;return r&&(g=g.index(h.shift())),(await Promise.all([g[n](...h),i&&f.done]))[0]};return bf.set(e,a),a}rI(t=>({...t,get:(e,n,r)=>Dy(e,n)||t.get(e,n,r),has:(e,n)=>!!Dy(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(uI(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function uI(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const W_="@firebase/app",Iy="0.7.32";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qa=new Lm("@firebase/app"),dI="@firebase/app-compat",hI="@firebase/analytics-compat",fI="@firebase/analytics",_I="@firebase/app-check-compat",pI="@firebase/app-check",mI="@firebase/auth",gI="@firebase/auth-compat",vI="@firebase/database",yI="@firebase/database-compat",bI="@firebase/functions",wI="@firebase/functions-compat",xI="@firebase/installations",EI="@firebase/installations-compat",kI="@firebase/messaging",SI="@firebase/messaging-compat",CI="@firebase/performance",TI="@firebase/performance-compat",NI="@firebase/remote-config",DI="@firebase/remote-config-compat",II="@firebase/storage",AI="@firebase/storage-compat",OI="@firebase/firestore",MI="@firebase/firestore-compat",PI="firebase",LI="9.9.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1="[DEFAULT]",RI={[W_]:"fire-core",[dI]:"fire-core-compat",[fI]:"fire-analytics",[hI]:"fire-analytics-compat",[pI]:"fire-app-check",[_I]:"fire-app-check-compat",[mI]:"fire-auth",[gI]:"fire-auth-compat",[vI]:"fire-rtdb",[yI]:"fire-rtdb-compat",[bI]:"fire-fn",[wI]:"fire-fn-compat",[xI]:"fire-iid",[EI]:"fire-iid-compat",[kI]:"fire-fcm",[SI]:"fire-fcm-compat",[CI]:"fire-perf",[TI]:"fire-perf-compat",[NI]:"fire-rc",[DI]:"fire-rc-compat",[II]:"fire-gcs",[AI]:"fire-gcs-compat",[OI]:"fire-fst",[MI]:"fire-fst-compat","fire-js":"fire-js",[PI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pd=new Map,G_=new Map;function $I(t,e){try{t.container.addComponent(e)}catch(n){qa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Bs(t){const e=t.name;if(G_.has(e))return qa.debug(`There were multiple attempts to register component ${e}.`),!1;G_.set(e,t);for(const n of pd.values())$I(n,t);return!0}function $m(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Wa=new ic("app","Firebase",FI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ba("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sc=LI;function jI(t,e={}){typeof e!="object"&&(e={name:e});const n=Object.assign({name:t1,automaticDataCollectionEnabled:!1},e),r=n.name;if(typeof r!="string"||!r)throw Wa.create("bad-app-name",{appName:String(r)});const i=pd.get(r);if(i){if(_d(t,i.options)&&_d(n,i.config))return i;throw Wa.create("duplicate-app",{appName:r})}const a=new GD(r);for(const h of G_.values())a.addComponent(h);const l=new UI(t,n,a);return pd.set(r,l),l}function n1(t=t1){const e=pd.get(t);if(!e)throw Wa.create("no-app",{appName:t});return e}function na(t,e,n){var r;let i=(r=RI[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const h=[`Unable to register library "${i}" with version "${e}":`];a&&h.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&h.push("and"),l&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qa.warn(h.join(" "));return}Bs(new Ba(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VI="firebase-heartbeat-database",zI=1,Dl="firebase-heartbeat-store";let wf=null;function r1(){return wf||(wf=sI(VI,zI,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Dl)}}}).catch(t=>{throw Wa.create("idb-open",{originalErrorMessage:t.message})})),wf}async function HI(t){var e;try{return(await r1()).transaction(Dl).objectStore(Dl).get(i1(t))}catch(n){if(n instanceof Si)qa.warn(n.message);else{const r=Wa.create("idb-get",{originalErrorMessage:(e=n)===null||e===void 0?void 0:e.message});qa.warn(r.message)}}}async function Ay(t,e){var n;try{const i=(await r1()).transaction(Dl,"readwrite");return await i.objectStore(Dl).put(e,i1(t)),i.done}catch(r){if(r instanceof Si)qa.warn(r.message);else{const i=Wa.create("idb-set",{originalErrorMessage:(n=r)===null||n===void 0?void 0:n.message});qa.warn(i.message)}}}function i1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI=1024,qI=30*24*60*60*1e3;class WI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new KI(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Oy();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const a=new Date(i.date).valueOf();return Date.now()-a<=qI}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Oy(),{heartbeatsToSend:n,unsentEntries:r}=GI(this._heartbeatsCache.heartbeats),i=Kx(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Oy(){return new Date().toISOString().substring(0,10)}function GI(t,e=BI){const n=[];let r=t.slice();for(const i of t){const a=n.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),My(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),My(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class KI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return LD()?RD().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await HI(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ay(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ay(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function My(t){return Kx(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(t){Bs(new Ba("platform-logger",e=>new cI(e),"PRIVATE")),Bs(new Ba("heartbeat",e=>new WI(e),"PRIVATE")),na(W_,Iy,t),na(W_,Iy,"esm2017"),na("fire-js","")}YI("");var JI="firebase",QI="9.9.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */na(JI,QI,"app");function Fm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function a1(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const XI=a1,s1=new ic("auth","Firebase",a1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py=new Lm("@firebase/auth");function Ou(t,...e){Py.logLevel<=mt.ERROR&&Py.error(`Auth (${sc}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(t,...e){throw Um(t,...e)}function Yr(t,...e){return Um(t,...e)}function ZI(t,e,n){const r=Object.assign(Object.assign({},XI()),{[e]:n});return new ic("auth","Firebase",r).create(e,{appName:t.name})}function Um(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return s1.create(t,...e)}function Ke(t,e,...n){if(!t)throw Um(e,...n)}function ai(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ou(e),new Error(e)}function mi(t,e){t||ai(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly=new Map;function si(t){mi(t instanceof Function,"Expected a class definition");let e=Ly.get(t);return e?(mi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Ly.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(t,e){const n=$m(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(_d(a,e!=null?e:{}))return i;jr(i,"already-initialized")}return n.initialize({options:e})}function tA(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(si);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function nA(){return Ry()==="http:"||Ry()==="https:"}function Ry(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nA()||Jx()||"connection"in navigator)?navigator.onLine:!0}function iA(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,n){this.shortDelay=e,this.longDelay=n,mi(n>e,"Short delay should be less than long delay!"),this.isMobile=Yx()||Qx()}get(){return rA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jm(t,e){mi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;ai("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;ai("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;ai("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA=new oc(3e4,6e4);function lc(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function cc(t,e,n,r,i={}){return l1(t,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const h=ac(Object.assign({key:t.config.apiKey},l)).slice(1),f=await t._getAdditionalHeaders();return f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode),o1.fetch()(c1(t,t.config.apiHost,n,h),Object.assign({method:e,headers:f,referrerPolicy:"no-referrer"},a))})}async function l1(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},aA),e);try{const i=new oA(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw iu(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const h=a.ok?l.errorMessage:l.error.message,[f,g]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw iu(t,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw iu(t,"email-already-in-use",l);if(f==="USER_DISABLED")throw iu(t,"user-disabled",l);const k=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw ZI(t,k,g);jr(t,k)}}catch(i){if(i instanceof Si)throw i;jr(t,"network-request-failed")}}async function uc(t,e,n,r,i={}){const a=await cc(t,e,n,r,i);return"mfaPendingCredential"in a&&jr(t,"multi-factor-auth-required",{_serverResponse:a}),a}function c1(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?jm(t.config,i):`${t.config.apiScheme}://${i}`}class oA{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Yr(this.auth,"network-request-failed")),sA.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function iu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Yr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lA(t,e){return cc(t,"POST","/v1/accounts:delete",e)}async function cA(t,e){return cc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tl(t){if(!!t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function uA(t,e=!1){const n=xn(t),r=await n.getIdToken(e),i=Vm(r);Ke(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:tl(xf(i.auth_time)),issuedAtTime:tl(xf(i.iat)),expirationTime:tl(xf(i.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function xf(t){return Number(t)*1e3}function Vm(t){var e;const[n,r,i]=t.split(".");if(n===void 0||r===void 0||i===void 0)return Ou("JWT malformed, contained fewer than 3 sections"),null;try{const a=AD(r);return a?JSON.parse(a):(Ou("Failed to decode base64 JWT payload"),null)}catch(a){return Ou("Caught error parsing JWT payload as JSON",(e=a)===null||e===void 0?void 0:e.toString()),null}}function dA(t){const e=Vm(t);return Ke(e,"internal-error"),Ke(typeof e.exp<"u","internal-error"),Ke(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Il(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Si&&hA(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function hA({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){var e;try{await this.user.getIdToken(!0)}catch(n){((e=n)===null||e===void 0?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=tl(this.lastLoginAt),this.creationTime=tl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function md(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Il(t,cA(n,{idToken:r}));Ke(i==null?void 0:i.users.length,n,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?mA(a.providerUserInfo):[],h=pA(t.providerData,l),f=t.isAnonymous,g=!(t.email&&a.passwordHash)&&!(h!=null&&h.length),k=f?g:!1,T={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new u1(a.createdAt,a.lastLoginAt),isAnonymous:k};Object.assign(t,T)}async function _A(t){const e=xn(t);await md(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function pA(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function mA(t){return t.map(e=>{var{providerId:n}=e,r=Fm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gA(t,e){const n=await l1(t,{},async()=>{const r=ac({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,l=c1(t,i,"/v1/token",`key=${a}`),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",o1.fetch()(l,{method:"POST",headers:h,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ke(e.idToken,"internal-error"),Ke(typeof e.idToken<"u","internal-error"),Ke(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):dA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return Ke(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await gA(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,l=new Al;return r&&(Ke(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Ke(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(Ke(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Al,this.toJSON())}_performRefresh(){return ai("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(t,e){Ke(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class La{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,a=Fm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new u1(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Il(this,this.stsTokenManager.getToken(this.auth,e));return Ke(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return uA(this,e)}reload(){return _A(this)}_assign(e){this!==e&&(Ke(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new La(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){Ke(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await md(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Il(this,lA(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,a,l,h,f,g,k;const T=(r=n.displayName)!==null&&r!==void 0?r:void 0,C=(i=n.email)!==null&&i!==void 0?i:void 0,I=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,L=(l=n.photoURL)!==null&&l!==void 0?l:void 0,N=(h=n.tenantId)!==null&&h!==void 0?h:void 0,R=(f=n._redirectEventId)!==null&&f!==void 0?f:void 0,O=(g=n.createdAt)!==null&&g!==void 0?g:void 0,A=(k=n.lastLoginAt)!==null&&k!==void 0?k:void 0,{uid:$,emailVerified:U,isAnonymous:j,providerData:H,stsTokenManager:z}=n;Ke($&&z,e,"internal-error");const W=Al.fromJSON(this.name,z);Ke(typeof $=="string",e,"internal-error"),Ii(T,e.name),Ii(C,e.name),Ke(typeof U=="boolean",e,"internal-error"),Ke(typeof j=="boolean",e,"internal-error"),Ii(I,e.name),Ii(L,e.name),Ii(N,e.name),Ii(R,e.name),Ii(O,e.name),Ii(A,e.name);const q=new La({uid:$,auth:e,email:C,emailVerified:U,displayName:T,isAnonymous:j,photoURL:L,phoneNumber:I,tenantId:N,stsTokenManager:W,createdAt:O,lastLoginAt:A});return H&&Array.isArray(H)&&(q.providerData=H.map(Y=>Object.assign({},Y))),R&&(q._redirectEventId=R),q}static async _fromIdTokenResponse(e,n,r=!1){const i=new Al;i.updateFromServerResponse(n);const a=new La({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await md(a),a}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}d1.type="NONE";const $y=d1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mu(t,e,n){return`firebase:${t}:${e}:${n}`}class Os{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=Mu(this.userKey,i.apiKey,a),this.fullPersistenceKey=Mu("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?La._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Os(si($y),e,r);const i=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let a=i[0]||si($y);const l=Mu(r,e.config.apiKey,e.name);let h=null;for(const g of n)try{const k=await g._get(l);if(k){const T=La._fromJSON(e,k);g!==a&&(h=T),a=g;break}}catch{}const f=i.filter(g=>g._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new Os(a,e,r):(a=f[0],h&&await a._set(l,h.toJSON()),await Promise.all(n.map(async g=>{if(g!==a)try{await g._remove(l)}catch{}})),new Os(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fy(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(h1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(m1(e))return"Blackberry";if(g1(e))return"Webos";if(zm(e))return"Safari";if((e.includes("chrome/")||f1(e))&&!e.includes("edge/"))return"Chrome";if(p1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function h1(t=un()){return/firefox\//i.test(t)}function zm(t=un()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function f1(t=un()){return/crios\//i.test(t)}function _1(t=un()){return/iemobile/i.test(t)}function p1(t=un()){return/android/i.test(t)}function m1(t=un()){return/blackberry/i.test(t)}function g1(t=un()){return/webos/i.test(t)}function nh(t=un()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function vA(t=un()){var e;return nh(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function yA(){return Xx()&&document.documentMode===10}function v1(t=un()){return nh(t)||p1(t)||g1(t)||m1(t)||/windows phone/i.test(t)||_1(t)}function bA(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(t,e=[]){let n;switch(t){case"Browser":n=Fy(un());break;case"Worker":n=`${Fy(un())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${sc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,h)=>{try{const f=e(a);l(f)}catch(f){h(f)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){var n;if(this.auth.currentUser===e)return;const r=[];try{for(const i of this.queue)await i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const a of r)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:(n=i)===null||n===void 0?void 0:n.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Uy(this),this.idTokenSubscription=new Uy(this),this.beforeStateQueue=new wA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=s1,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=si(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Os.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,h=i==null?void 0:i._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===h)&&(f==null?void 0:f.user)&&(i=f.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ke(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){var n;try{await md(e)}catch(r){if(((n=r)===null||n===void 0?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=iA()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?xn(e):null;return n&&Ke(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ke(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(si(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ic("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&si(e)||this._popupRedirectResolver;Ke(n,this,"argument-error"),this.redirectPersistenceManager=await Os.create(this,[si(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n),l=this._isInitialized?Promise.resolve():this._initializationPromise;return Ke(l,this,"internal-error"),l.then(()=>a(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ke(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=y1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function rh(t){return xn(t)}class Uy{constructor(e){this.auth=e,this.observer=null,this.addObserver=VD(n=>this.observer=n)}get next(){return Ke(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ai("not implemented")}_getIdTokenResponse(e){return ai("not implemented")}_linkToIdToken(e,n){return ai("not implemented")}_getReauthenticationResolver(e){return ai("not implemented")}}async function EA(t,e){return cc(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kA(t,e){return uc(t,"POST","/v1/accounts:signInWithPassword",lc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SA(t,e){return uc(t,"POST","/v1/accounts:signInWithEmailLink",lc(t,e))}async function CA(t,e){return uc(t,"POST","/v1/accounts:signInWithEmailLink",lc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol extends Hm{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Ol(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Ol(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if((n==null?void 0:n.email)&&(n==null?void 0:n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return kA(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return SA(e,{email:this._email,oobCode:this._password});default:jr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return EA(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return CA(e,{idToken:n,email:this._email,oobCode:this._password});default:jr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ms(t,e){return uc(t,"POST","/v1/accounts:signInWithIdp",lc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA="http://localhost";class Ga extends Hm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ga(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):jr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,a=Fm(n,["providerId","signInMethod"]);if(!r||!i)return null;const l=new Ga(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Ms(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ms(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ms(e,n)}buildRequest(){const e={requestUri:TA,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ac(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NA(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function DA(t){const e=Uo(jo(t)).link,n=e?Uo(jo(e)).deep_link_id:null,r=Uo(jo(t)).deep_link_id;return(r?Uo(jo(r)).link:null)||r||n||e||t}class Bm{constructor(e){var n,r,i,a,l,h;const f=Uo(jo(e)),g=(n=f.apiKey)!==null&&n!==void 0?n:null,k=(r=f.oobCode)!==null&&r!==void 0?r:null,T=NA((i=f.mode)!==null&&i!==void 0?i:null);Ke(g&&k&&T,"argument-error"),this.apiKey=g,this.operation=T,this.code=k,this.continueUrl=(a=f.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=f.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(h=f.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const n=DA(e);try{return new Bm(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao{constructor(){this.providerId=ao.PROVIDER_ID}static credential(e,n){return Ol._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Bm.parseLink(n);return Ke(r,"argument-error"),Ol._fromEmailAndCode(e,r.code,r.tenantId)}}ao.PROVIDER_ID="password";ao.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ao.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc extends b1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends dc{constructor(){super("facebook.com")}static credential(e){return Ga._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $i.credential(e.oauthAccessToken)}catch{return null}}}$i.FACEBOOK_SIGN_IN_METHOD="facebook.com";$i.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends dc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ga._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Fi.credential(n,r)}catch{return null}}}Fi.GOOGLE_SIGN_IN_METHOD="google.com";Fi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends dc{constructor(){super("github.com")}static credential(e){return Ga._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ui.credentialFromTaggedObject(e)}static credentialFromError(e){return Ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ui.credential(e.oauthAccessToken)}catch{return null}}}Ui.GITHUB_SIGN_IN_METHOD="github.com";Ui.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends dc{constructor(){super("twitter.com")}static credential(e,n){return Ga._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ji.credential(n,r)}catch{return null}}}ji.TWITTER_SIGN_IN_METHOD="twitter.com";ji.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IA(t,e){return uc(t,"POST","/v1/accounts:signUp",lc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await La._fromIdTokenResponse(e,r,i),l=jy(r);return new Ka({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=jy(r);return new Ka({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function jy(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd extends Si{constructor(e,n,r,i){var a;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,gd.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new gd(e,n,r,i)}}function w1(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?gd._fromErrorAndOperation(t,a,e,r):a})}async function AA(t,e,n=!1){const r=await Il(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ka._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OA(t,e,n=!1){var r;const{auth:i}=t,a="reauthenticate";try{const l=await Il(t,w1(i,a,e,t),n);Ke(l.idToken,i,"internal-error");const h=Vm(l.idToken);Ke(h,i,"internal-error");const{sub:f}=h;return Ke(t.uid===f,i,"user-mismatch"),Ka._forOperation(t,a,l)}catch(l){throw((r=l)===null||r===void 0?void 0:r.code)==="auth/user-not-found"&&jr(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x1(t,e,n=!1){const r="signIn",i=await w1(t,r,e),a=await Ka._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function MA(t,e){return x1(rh(t),e)}async function PA(t,e,n){const r=rh(t),i=await IA(r,{returnSecureToken:!0,email:e,password:n}),a=await Ka._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(a.user),a}function LA(t,e,n){return MA(xn(t),ao.credential(e,n))}function RA(t,e,n,r){return xn(t).onAuthStateChanged(e,n,r)}function $A(t){return xn(t).signOut()}const vd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(vd,"1"),this.storage.removeItem(vd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FA(){const t=un();return zm(t)||nh(t)}const UA=1e3,jA=10;class k1 extends E1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=FA()&&bA(),this.fallbackToPolling=v1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,h,f)=>{this.notifyListeners(l,f)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const l=this.storage.getItem(r);if(e.newValue!==l)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);yA()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,jA):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},UA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}k1.type="LOCAL";const VA=k1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1 extends E1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}S1.type="SESSION";const C1=S1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zA(t){return Promise.all(t.map(async e=>{try{const n=await e;return{fulfilled:!0,value:n}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new ih(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const h=Array.from(l).map(async g=>g(n.origin,a)),f=await zA(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ih.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((h,f)=>{const g=qm("",20);i.port1.start();const k=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(T){const C=T;if(C.data.eventId===g)switch(C.data.status){case"ack":clearTimeout(k),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(C.data.response);break;default:clearTimeout(k),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(){return window}function BA(t){Jr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(){return typeof Jr().WorkerGlobalScope<"u"&&typeof Jr().importScripts=="function"}async function qA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function WA(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function GA(){return T1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1="firebaseLocalStorageDb",KA=1,yd="firebaseLocalStorage",D1="fbase_key";class hc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ah(t,e){return t.transaction([yd],e?"readwrite":"readonly").objectStore(yd)}function YA(){const t=indexedDB.deleteDatabase(N1);return new hc(t).toPromise()}function Y_(){const t=indexedDB.open(N1,KA);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(yd,{keyPath:D1})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(yd)?e(r):(r.close(),await YA(),e(await Y_()))})})}async function Vy(t,e,n){const r=ah(t,!0).put({[D1]:e,value:n});return new hc(r).toPromise()}async function JA(t,e){const n=ah(t,!1).get(e),r=await new hc(n).toPromise();return r===void 0?null:r.value}function zy(t,e){const n=ah(t,!0).delete(e);return new hc(n).toPromise()}const QA=800,XA=3;class I1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Y_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>XA)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return T1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ih._getInstance(GA()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await qA(),!this.activeServiceWorker)return;this.sender=new HA(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);!r||((e=r[0])===null||e===void 0?void 0:e.fulfilled)&&((n=r[0])===null||n===void 0?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||WA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Y_();return await Vy(e,vd,"1"),await zy(e,vd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Vy(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>JA(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>zy(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=ah(i,!1).getAll();return new hc(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}I1.type="LOCAL";const ZA=I1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function tO(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Yr("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",eO().appendChild(r)})}function nO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new oc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rO(t,e){return e?si(e):(Ke(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm extends Hm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ms(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ms(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ms(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function iO(t){return x1(t.auth,new Wm(t),t.bypassAuthState)}function aO(t){const{auth:e,user:n}=t;return Ke(n,e,"internal-error"),OA(n,new Wm(t),t.bypassAuthState)}async function sO(t){const{auth:e,user:n}=t;return Ke(n,e,"internal-error"),AA(n,new Wm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:l,type:h}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return iO;case"linkViaPopup":case"linkViaRedirect":return sO;case"reauthViaPopup":case"reauthViaRedirect":return aO;default:jr(this.auth,"internal-error")}}resolve(e){mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oO=new oc(2e3,1e4);class Es extends A1{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Es.currentPopupAction&&Es.currentPopupAction.cancel(),Es.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ke(e,this.auth,"internal-error"),e}async onExecution(){mi(this.filter.length===1,"Popup operations only handle one event");const e=qm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Yr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Yr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Es.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Yr(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,oO.get())};e()}}Es.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lO="pendingRedirect",Pu=new Map;class cO extends A1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Pu.get(this.auth._key());if(!e){try{const r=await uO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Pu.set(this.auth._key(),e)}return this.bypassAuthState||Pu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function uO(t,e){const n=fO(e),r=hO(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function dO(t,e){Pu.set(t._key(),e)}function hO(t){return si(t._redirectPersistence)}function fO(t){return Mu(lO,t.config.apiKey,t.name)}async function _O(t,e,n=!1){const r=rh(t),i=rO(r,e),l=await new cO(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pO=10*60*1e3;class mO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!gO(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!O1(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Yr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=pO&&this.cachedEventUids.clear(),this.cachedEventUids.has(Hy(e))}saveEventToCache(e){this.cachedEventUids.add(Hy(e)),this.lastProcessedEventTime=Date.now()}}function Hy(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function O1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function gO(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return O1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vO(t,e={}){return cc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yO=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bO=/^https?/;async function wO(t){if(t.config.emulator)return;const{authorizedDomains:e}=await vO(t);for(const n of e)try{if(xO(n))return}catch{}jr(t,"unauthorized-domain")}function xO(t){const e=K_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!bO.test(n))return!1;if(yO.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EO=new oc(3e4,6e4);function By(){const t=Jr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function kO(t){return new Promise((e,n)=>{var r,i,a;function l(){By(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{By(),n(Yr(t,"network-request-failed"))},timeout:EO.get()})}if(!((i=(r=Jr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Jr().gapi)===null||a===void 0)&&a.load)l();else{const h=nO("iframefcb");return Jr()[h]=()=>{gapi.load?l():n(Yr(t,"network-request-failed"))},tO(`https://apis.google.com/js/api.js?onload=${h}`).catch(f=>n(f))}}).catch(e=>{throw Lu=null,e})}let Lu=null;function SO(t){return Lu=Lu||kO(t),Lu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO=new oc(5e3,15e3),TO="__/auth/iframe",NO="emulator/auth/iframe",DO={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},IO=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function AO(t){const e=t.config;Ke(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?jm(e,NO):`https://${t.config.authDomain}/${TO}`,r={apiKey:e.apiKey,appName:t.name,v:sc},i=IO.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${ac(r).slice(1)}`}async function OO(t){const e=await SO(t),n=Jr().gapi;return Ke(n,t,"internal-error"),e.open({where:document.body,url:AO(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:DO,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=Yr(t,"network-request-failed"),h=Jr().setTimeout(()=>{a(l)},CO.get());function f(){Jr().clearTimeout(h),i(r)}r.ping(f).then(f,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PO=500,LO=600,RO="_blank",$O="http://localhost";class qy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function FO(t,e,n,r=PO,i=LO){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f=Object.assign(Object.assign({},MO),{width:r.toString(),height:i.toString(),top:a,left:l}),g=un().toLowerCase();n&&(h=f1(g)?RO:n),h1(g)&&(e=e||$O,f.scrollbars="yes");const k=Object.entries(f).reduce((C,[I,L])=>`${C}${I}=${L},`,"");if(vA(g)&&h!=="_self")return UO(e||"",h),new qy(null);const T=window.open(e||"",h,k);Ke(T,t,"popup-blocked");try{T.focus()}catch{}return new qy(T)}function UO(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO="__/auth/handler",VO="emulator/auth/handler";function Wy(t,e,n,r,i,a){Ke(t.config.authDomain,t,"auth-domain-config-required"),Ke(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:sc,eventId:i};if(e instanceof b1){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",jD(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,g]of Object.entries(a||{}))l[f]=g}if(e instanceof dc){const f=e.getScopes().filter(g=>g!=="");f.length>0&&(l.scopes=f.join(","))}t.tenantId&&(l.tid=t.tenantId);const h=l;for(const f of Object.keys(h))h[f]===void 0&&delete h[f];return`${zO(t)}?${ac(h).slice(1)}`}function zO({config:t}){return t.emulator?jm(t,VO):`https://${t.authDomain}/${jO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ef="webStorageSupport";class HO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=C1,this._completeRedirectFn=_O,this._overrideRedirectResult=dO}async _openPopup(e,n,r,i){var a;mi((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=Wy(e,n,r,K_(),i);return FO(e,l,qm())}async _openRedirect(e,n,r,i){return await this._originValidation(e),BA(Wy(e,n,r,K_(),i)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(mi(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await OO(e),r=new mO(e);return n.register("authEvent",i=>(Ke(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ef,{type:Ef},i=>{var a;const l=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[Ef];l!==void 0&&n(!!l),jr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=wO(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return v1()||zm()||nh()}}const BO=HO;var Gy="@firebase/auth",Ky="0.20.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{var i;e(((i=r)===null||i===void 0?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ke(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function GO(t){Bs(new Ba("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:a,authDomain:l}=r.options;return((h,f)=>{Ke(a&&!a.includes(":"),"invalid-api-key",{appName:h.name}),Ke(!(l!=null&&l.includes(":")),"argument-error",{appName:h.name});const g={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:y1(t)},k=new xA(h,f,g);return tA(k,n),k})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Bs(new Ba("auth-internal",e=>{const n=rh(e.getProvider("auth").getImmediate());return(r=>new qO(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),na(Gy,Ky,WO(t)),na(Gy,Ky,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KO(t=n1()){const e=$m(t,"auth");return e.isInitialized()?e.getImmediate():eA(t,{popupRedirectResolver:BO,persistence:[ZA,VA,C1]})}GO("Browser");const YO={apiKey:"AIzaSyCRLN_2xzTrvHfN4EDRtETLysu2QWCd9Fk",authDomain:"navisacademy-1c1d2.firebaseapp.com",projectId:"navisacademy-1c1d2",storageBucket:"navisacademy-1c1d2.appspot.com",messagingSenderId:"138551732835",appId:"1:138551732835:web:ce9005d6cde0708230e656",measurementId:"G-VC1HXL8EM6"},JO=jI(YO),au=KO(JO);var QO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Me,Gm=Gm||{},Ye=QO||self;function bd(){}function J_(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function fc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function XO(t){return Object.prototype.hasOwnProperty.call(t,kf)&&t[kf]||(t[kf]=++ZO)}var kf="closure_uid_"+(1e9*Math.random()>>>0),ZO=0;function eM(t,e,n){return t.call.apply(t.bind,arguments)}function tM(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function vn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?vn=eM:vn=tM,vn.apply(null,arguments)}function su(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function kn(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,i,a){for(var l=Array(arguments.length-2),h=2;h<arguments.length;h++)l[h-2]=arguments[h];return e.prototype[i].apply(r,l)}}function pa(){this.s=this.s,this.o=this.o}var nM=0;pa.prototype.s=!1;pa.prototype.na=function(){!this.s&&(this.s=!0,this.M(),nM!=0)&&XO(this)};pa.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const M1=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},P1=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const r=t.length,i=typeof t=="string"?t.split(""):t;for(let a=0;a<r;a++)a in i&&e.call(n,i[a],a,t)};function rM(t){e:{var e=KM;const n=t.length,r=typeof t=="string"?t.split(""):t;for(let i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break e}e=-1}return 0>e?null:typeof t=="string"?t.charAt(e):t[e]}function Yy(t){return Array.prototype.concat.apply([],arguments)}function Km(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function wd(t){return/^[\s\xa0]*$/.test(t)}var Jy=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function $n(t,e){return t.indexOf(e)!=-1}function Sf(t,e){return t<e?-1:t>e?1:0}var Fn;e:{var Qy=Ye.navigator;if(Qy){var Xy=Qy.userAgent;if(Xy){Fn=Xy;break e}}Fn=""}function Ym(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function L1(t){const e={};for(const n in t)e[n]=t[n];return e}var Zy="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function R1(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let a=0;a<Zy.length;a++)n=Zy[a],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Jm(t){return Jm[" "](t),t}Jm[" "]=bd;function iM(t){var e=oM;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var aM=$n(Fn,"Opera"),qs=$n(Fn,"Trident")||$n(Fn,"MSIE"),$1=$n(Fn,"Edge"),Q_=$1||qs,F1=$n(Fn,"Gecko")&&!($n(Fn.toLowerCase(),"webkit")&&!$n(Fn,"Edge"))&&!($n(Fn,"Trident")||$n(Fn,"MSIE"))&&!$n(Fn,"Edge"),sM=$n(Fn.toLowerCase(),"webkit")&&!$n(Fn,"Edge");function U1(){var t=Ye.document;return t?t.documentMode:void 0}var xd;e:{var Cf="",Tf=function(){var t=Fn;if(F1)return/rv:([^\);]+)(\)|;)/.exec(t);if($1)return/Edge\/([\d\.]+)/.exec(t);if(qs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(sM)return/WebKit\/(\S+)/.exec(t);if(aM)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Tf&&(Cf=Tf?Tf[1]:""),qs){var Nf=U1();if(Nf!=null&&Nf>parseFloat(Cf)){xd=String(Nf);break e}}xd=Cf}var oM={};function lM(){return iM(function(){let t=0;const e=Jy(String(xd)).split("."),n=Jy("9").split("."),r=Math.max(e.length,n.length);for(let l=0;t==0&&l<r;l++){var i=e[l]||"",a=n[l]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],i[0].length==0&&a[0].length==0)break;t=Sf(i[1].length==0?0:parseInt(i[1],10),a[1].length==0?0:parseInt(a[1],10))||Sf(i[2].length==0,a[2].length==0)||Sf(i[2],a[2]),i=i[3],a=a[3]}while(t==0)}return 0<=t})}var X_;if(Ye.document&&qs){var e0=U1();X_=e0||parseInt(xd,10)||void 0}else X_=void 0;var cM=X_,uM=function(){if(!Ye.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ye.addEventListener("test",bd,e),Ye.removeEventListener("test",bd,e)}catch{}return t}();function An(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}An.prototype.h=function(){this.defaultPrevented=!0};function Ml(t,e){if(An.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(F1){e:{try{Jm(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:dM[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ml.Z.h.call(this)}}kn(Ml,An);var dM={2:"touch",3:"pen",4:"mouse"};Ml.prototype.h=function(){Ml.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var _c="closure_listenable_"+(1e6*Math.random()|0),hM=0;function fM(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++hM,this.ca=this.fa=!1}function sh(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function oh(t){this.src=t,this.g={},this.h=0}oh.prototype.add=function(t,e,n,r,i){var a=t.toString();t=this.g[a],t||(t=this.g[a]=[],this.h++);var l=ep(t,e,r,i);return-1<l?(e=t[l],n||(e.fa=!1)):(e=new fM(e,this.src,a,!!r,i),e.fa=n,t.push(e)),e};function Z_(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=M1(r,e),a;(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(sh(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function ep(t,e,n,r){for(var i=0;i<t.length;++i){var a=t[i];if(!a.ca&&a.listener==e&&a.capture==!!n&&a.ia==r)return i}return-1}var Qm="closure_lm_"+(1e6*Math.random()|0),Df={};function j1(t,e,n,r,i){if(r&&r.once)return z1(t,e,n,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)j1(t,e[a],n,r,i);return null}return n=eg(n),t&&t[_c]?t.N(e,n,fc(r)?!!r.capture:!!r,i):V1(t,e,n,!1,r,i)}function V1(t,e,n,r,i,a){if(!e)throw Error("Invalid event type");var l=fc(i)?!!i.capture:!!i,h=Zm(t);if(h||(t[Qm]=h=new oh(t)),n=h.add(e,n,r,l,a),n.proxy)return n;if(r=_M(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)uM||(i=l),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(B1(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function _M(){function t(n){return e.call(t.src,t.listener,n)}var e=pM;return t}function z1(t,e,n,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)z1(t,e[a],n,r,i);return null}return n=eg(n),t&&t[_c]?t.O(e,n,fc(r)?!!r.capture:!!r,i):V1(t,e,n,!0,r,i)}function H1(t,e,n,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)H1(t,e[a],n,r,i);else r=fc(r)?!!r.capture:!!r,n=eg(n),t&&t[_c]?(t=t.i,e=String(e).toString(),e in t.g&&(a=t.g[e],n=ep(a,n,r,i),-1<n&&(sh(a[n]),Array.prototype.splice.call(a,n,1),a.length==0&&(delete t.g[e],t.h--)))):t&&(t=Zm(t))&&(e=t.g[e.toString()],t=-1,e&&(t=ep(e,n,r,i)),(n=-1<t?e[t]:null)&&Xm(n))}function Xm(t){if(typeof t!="number"&&t&&!t.ca){var e=t.src;if(e&&e[_c])Z_(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(B1(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Zm(e))?(Z_(n,t),n.h==0&&(n.src=null,e[Qm]=null)):sh(t)}}}function B1(t){return t in Df?Df[t]:Df[t]="on"+t}function pM(t,e){if(t.ca)t=!0;else{e=new Ml(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&Xm(t),t=n.call(r,e)}return t}function Zm(t){return t=t[Qm],t instanceof oh?t:null}var If="__closure_events_fn_"+(1e9*Math.random()>>>0);function eg(t){return typeof t=="function"?t:(t[If]||(t[If]=function(e){return t.handleEvent(e)}),t[If])}function dn(){pa.call(this),this.i=new oh(this),this.P=this,this.I=null}kn(dn,pa);dn.prototype[_c]=!0;dn.prototype.removeEventListener=function(t,e,n,r){H1(this,t,e,n,r)};function yn(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new An(e,t);else if(e instanceof An)e.target=e.target||t;else{var i=e;e=new An(r,t),R1(e,i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var l=e.g=n[a];i=ou(l,r,!0,e)&&i}if(l=e.g=t,i=ou(l,r,!0,e)&&i,i=ou(l,r,!1,e)&&i,n)for(a=0;a<n.length;a++)l=e.g=n[a],i=ou(l,r,!1,e)&&i}dn.prototype.M=function(){if(dn.Z.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)sh(n[r]);delete t.g[e],t.h--}}this.I=null};dn.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};dn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function ou(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var l=e[a];if(l&&!l.ca&&l.capture==n){var h=l.listener,f=l.ia||l.src;l.fa&&Z_(t.i,l),i=h.call(f,r)!==!1&&i}}return i&&!r.defaultPrevented}var tg=Ye.JSON.stringify;function mM(){var t=W1;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class gM{constructor(){this.h=this.g=null}add(e,n){const r=q1.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var q1=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new vM,t=>t.reset());class vM{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function yM(t){Ye.setTimeout(()=>{throw t},0)}function ng(t,e){tp||bM(),np||(tp(),np=!0),W1.add(t,e)}var tp;function bM(){var t=Ye.Promise.resolve(void 0);tp=function(){t.then(wM)}}var np=!1,W1=new gM;function wM(){for(var t;t=mM();){try{t.h.call(t.g)}catch(n){yM(n)}var e=q1;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}np=!1}function lh(t,e){dn.call(this),this.h=t||1,this.g=e||Ye,this.j=vn(this.kb,this),this.l=Date.now()}kn(lh,dn);Me=lh.prototype;Me.da=!1;Me.S=null;Me.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),yn(this,"tick"),this.da&&(rg(this),this.start()))}};Me.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function rg(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}Me.M=function(){lh.Z.M.call(this),rg(this),delete this.g};function ig(t,e,n){if(typeof t=="function")n&&(t=vn(t,n));else if(t&&typeof t.handleEvent=="function")t=vn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Ye.setTimeout(t,e||0)}function G1(t){t.g=ig(()=>{t.g=null,t.i&&(t.i=!1,G1(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class xM extends pa{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:G1(this)}M(){super.M(),this.g&&(Ye.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pl(t){pa.call(this),this.h=t,this.g={}}kn(Pl,pa);var t0=[];function K1(t,e,n,r){Array.isArray(n)||(n&&(t0[0]=n.toString()),n=t0);for(var i=0;i<n.length;i++){var a=j1(e,n[i],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}}function Y1(t){Ym(t.g,function(e,n){this.g.hasOwnProperty(n)&&Xm(e)},t),t.g={}}Pl.prototype.M=function(){Pl.Z.M.call(this),Y1(this)};Pl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function ch(){this.g=!0}ch.prototype.Aa=function(){this.g=!1};function EM(t,e,n,r,i,a){t.info(function(){if(t.g)if(a)for(var l="",h=a.split("&"),f=0;f<h.length;f++){var g=h[f].split("=");if(1<g.length){var k=g[0];g=g[1];var T=k.split("_");l=2<=T.length&&T[1]=="type"?l+(k+"="+g+"&"):l+(k+"=redacted&")}}else l=null;else l=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+l})}function kM(t,e,n,r,i,a,l){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+a+" "+l})}function ks(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+CM(t,n)+(r?" "+r:"")})}function SM(t,e){t.info(function(){return"TIMEOUT: "+e})}ch.prototype.info=function(){};function CM(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if(a!="noop"&&a!="stop"&&a!="close")for(var l=1;l<i.length;l++)i[l]=""}}}}return tg(n)}catch{return e}}var rs={},n0=null;function uh(){return n0=n0||new dn}rs.Ma="serverreachability";function J1(t){An.call(this,rs.Ma,t)}kn(J1,An);function Ll(t){const e=uh();yn(e,new J1(e))}rs.STAT_EVENT="statevent";function Q1(t,e){An.call(this,rs.STAT_EVENT,t),this.stat=e}kn(Q1,An);function jn(t){const e=uh();yn(e,new Q1(e,t))}rs.Na="timingevent";function X1(t,e){An.call(this,rs.Na,t),this.size=e}kn(X1,An);function pc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Ye.setTimeout(function(){t()},e)}var dh={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Z1={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ag(){}ag.prototype.h=null;function r0(t){return t.h||(t.h=t.i())}function eE(){}var mc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function sg(){An.call(this,"d")}kn(sg,An);function og(){An.call(this,"c")}kn(og,An);var rp;function hh(){}kn(hh,ag);hh.prototype.g=function(){return new XMLHttpRequest};hh.prototype.i=function(){return{}};rp=new hh;function gc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new Pl(this),this.P=TM,t=Q_?125:void 0,this.W=new lh(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new tE}function tE(){this.i=null,this.g="",this.h=!1}var TM=45e3,ip={},Ed={};Me=gc.prototype;Me.setTimeout=function(t){this.P=t};function ap(t,e,n){t.K=1,t.v=_h(gi(e)),t.s=n,t.U=!0,nE(t,null)}function nE(t,e){t.F=Date.now(),vc(t),t.A=gi(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),cE(n.h,"t",r),t.C=0,n=t.l.H,t.h=new tE,t.g=DE(t.l,n?e:null,!t.s),0<t.O&&(t.L=new xM(vn(t.Ia,t,t.g),t.O)),K1(t.V,t.g,"readystatechange",t.gb),e=t.H?L1(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Ll(),EM(t.j,t.u,t.A,t.m,t.X,t.s)}Me.gb=function(t){t=t.target;const e=this.L;e&&oi(t)==3?e.l():this.Ia(t)};Me.Ia=function(t){try{if(t==this.g)e:{const k=oi(this.g);var e=this.g.Da();const T=this.g.ba();if(!(3>k)&&(k!=3||Q_||this.g&&(this.h.h||this.g.ga()||o0(this.g)))){this.I||k!=4||e==7||(e==8||0>=T?Ll(3):Ll(2)),fh(this);var n=this.g.ba();this.N=n;t:if(rE(this)){var r=o0(this.g);t="";var i=r.length,a=oi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ia(this),nl(this);var l="";break t}this.h.i=new Ye.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,l=this.h.g}else l=this.g.ga();if(this.i=n==200,kM(this.j,this.u,this.A,this.m,this.X,k,n),this.i){if(this.$&&!this.J){t:{if(this.g){var h,f=this.g;if((h=f.g?f.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!wd(h)){var g=h;break t}}g=null}if(n=g)ks(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,sp(this,n);else{this.i=!1,this.o=3,jn(12),Ia(this),nl(this);break e}}this.U?(iE(this,k,l),Q_&&this.i&&k==3&&(K1(this.V,this.W,"tick",this.fb),this.W.start())):(ks(this.j,this.m,l,null),sp(this,l)),k==4&&Ia(this),this.i&&!this.I&&(k==4?SE(this.l,this):(this.i=!1,vc(this)))}else n==400&&0<l.indexOf("Unknown SID")?(this.o=3,jn(12)):(this.o=0,jn(13)),Ia(this),nl(this)}}}catch{}finally{}};function rE(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Ba:!1}function iE(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=NM(t,n),i==Ed){e==4&&(t.o=4,jn(14),r=!1),ks(t.j,t.m,null,"[Incomplete Response]");break}else if(i==ip){t.o=4,jn(15),ks(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ks(t.j,t.m,i,null),sp(t,i);rE(t)&&i!=Ed&&i!=ip&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,jn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,e=t.l,e.g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),mg(e),e.L=!0,jn(11))):(ks(t.j,t.m,n,"[Invalid Chunked Response]"),Ia(t),nl(t))}Me.fb=function(){if(this.g){var t=oi(this.g),e=this.g.ga();this.C<e.length&&(fh(this),iE(this,t,e),this.i&&t!=4&&vc(this))}};function NM(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?Ed:(n=Number(e.substring(n,r)),isNaN(n)?ip:(r+=1,r+n>e.length?Ed:(e=e.substr(r,n),t.C=r+n,e)))}Me.cancel=function(){this.I=!0,Ia(this)};function vc(t){t.Y=Date.now()+t.P,aE(t,t.P)}function aE(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=pc(vn(t.eb,t),e)}function fh(t){t.B&&(Ye.clearTimeout(t.B),t.B=null)}Me.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(SM(this.j,this.A),this.K!=2&&(Ll(),jn(17)),Ia(this),this.o=2,nl(this)):aE(this,this.Y-t)};function nl(t){t.l.G==0||t.I||SE(t.l,t)}function Ia(t){fh(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,rg(t.W),Y1(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function sp(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||op(n.i,t))){if(n.I=t.N,!t.J&&op(n.i,t)&&n.G==3){try{var r=n.Ca.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)Td(n),gh(n);else break e;pg(n),jn(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&n.A==0&&!n.v&&(n.v=pc(vn(n.ab,n),6e3));if(1>=hE(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else Aa(n,11)}else if((t.J||n.g==t)&&Td(n),!wd(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){let g=i[e];if(n.U=g[0],g=g[1],n.G==2)if(g[0]=="c"){n.J=g[1],n.la=g[2];const k=g[3];k!=null&&(n.ma=k,n.h.info("VER="+n.ma));const T=g[4];T!=null&&(n.za=T,n.h.info("SVER="+n.za));const C=g[5];C!=null&&typeof C=="number"&&0<C&&(r=1.5*C,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const I=t.g;if(I){const L=I.g?I.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(L){var a=r.i;!a.g&&($n(L,"spdy")||$n(L,"quic")||$n(L,"h2"))&&(a.j=a.l,a.g=new Set,a.h&&(ug(a,a.h),a.h=null))}if(r.D){const N=I.g?I.g.getResponseHeader("X-HTTP-Session-Id"):null;N&&(r.sa=N,Ot(r.F,r.D,N))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var l=t;if(r.oa=NE(r,r.H?r.la:null,r.W),l.J){fE(r.i,l);var h=l,f=r.K;f&&h.setTimeout(f),h.B&&(fh(h),vc(h)),r.g=l}else EE(r);0<n.l.length&&vh(n)}else g[0]!="stop"&&g[0]!="close"||Aa(n,7);else n.G==3&&(g[0]=="stop"||g[0]=="close"?g[0]=="stop"?Aa(n,7):_g(n):g[0]!="noop"&&n.j&&n.j.wa(g),n.A=0)}}Ll(4)}catch{}}function DM(t){if(t.R&&typeof t.R=="function")return t.R();if(typeof t=="string")return t.split("");if(J_(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function lg(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(J_(t)||typeof t=="string")P1(t,e,void 0);else{if(t.T&&typeof t.T=="function")var n=t.T();else if(t.R&&typeof t.R=="function")n=void 0;else if(J_(t)||typeof t=="string"){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=DM(t),i=r.length;for(var a=0;a<i;a++)e.call(void 0,r[a],n&&n[a],t)}}function so(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof so)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}Me=so.prototype;Me.R=function(){cg(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t};Me.T=function(){return cg(this),this.g.concat()};function cg(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Ya(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)r=t.g[e],Ya(i,r)||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}Me.get=function(t,e){return Ya(this.h,t)?this.h[t]:e};Me.set=function(t,e){Ya(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e};Me.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);t.call(e,a,i,this)}};function Ya(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var sE=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function IM(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var a=t[n].substring(0,r);i=t[n].substring(r+1)}else a=t[n];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ja(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Ja){this.g=e!==void 0?e:t.g,kd(this,t.j),this.s=t.s,Sd(this,t.i),Cd(this,t.m),this.l=t.l,e=t.h;var n=new Rl;n.i=e.i,e.g&&(n.g=new so(e.g),n.h=e.h),i0(this,n),this.o=t.o}else t&&(n=String(t).match(sE))?(this.g=!!e,kd(this,n[1]||"",!0),this.s=rl(n[2]||""),Sd(this,n[3]||"",!0),Cd(this,n[4]),this.l=rl(n[5]||"",!0),i0(this,n[6]||"",!0),this.o=rl(n[7]||"")):(this.g=!!e,this.h=new Rl(null,this.g))}Ja.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Vo(e,a0,!0),":");var n=this.i;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Vo(e,a0,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&t.push("/"),t.push(Vo(n,n.charAt(0)=="/"?LM:PM,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Vo(n,$M)),t.join("")};function gi(t){return new Ja(t)}function kd(t,e,n){t.j=n?rl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Sd(t,e,n){t.i=n?rl(e,!0):e}function Cd(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function i0(t,e,n){e instanceof Rl?(t.h=e,FM(t.h,t.g)):(n||(e=Vo(e,RM)),t.h=new Rl(e,t.g))}function Ot(t,e,n){t.h.set(e,n)}function _h(t){return Ot(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function AM(t){return t instanceof Ja?gi(t):new Ja(t,void 0)}function OM(t,e,n,r){var i=new Ja(null,void 0);return t&&kd(i,t),e&&Sd(i,e),n&&Cd(i,n),r&&(i.l=r),i}function rl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Vo(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,MM),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function MM(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var a0=/[#\/\?@]/g,PM=/[#\?:]/g,LM=/[#\?]/g,RM=/[#\?@]/g,$M=/#/g;function Rl(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ma(t){t.g||(t.g=new so,t.h=0,t.i&&IM(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Me=Rl.prototype;Me.add=function(t,e){ma(this),this.i=null,t=oo(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function oE(t,e){ma(t),e=oo(t,e),Ya(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,t=t.g,Ya(t.h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&cg(t)))}function lE(t,e){return ma(t),e=oo(t,e),Ya(t.g.h,e)}Me.forEach=function(t,e){ma(this),this.g.forEach(function(n,r){P1(n,function(i){t.call(e,i,r,this)},this)},this)};Me.T=function(){ma(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],a=0;a<i.length;a++)n.push(e[r]);return n};Me.R=function(t){ma(this);var e=[];if(typeof t=="string")lE(this,t)&&(e=Yy(e,this.g.get(oo(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=Yy(e,t[n])}return e};Me.set=function(t,e){return ma(this),this.i=null,t=oo(this,t),lE(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Me.get=function(t,e){return t?(t=this.R(t),0<t.length?String(t[0]):e):e};function cE(t,e,n){oE(t,e),0<n.length&&(t.i=null,t.g.set(oo(t,e),Km(n)),t.h+=n.length)}Me.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var l=i;r[a]!==""&&(l+="="+encodeURIComponent(String(r[a]))),t.push(l)}}return this.i=t.join("&")};function oo(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function FM(t,e){e&&!t.j&&(ma(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(oE(this,r),cE(this,i,n))},t)),t.j=e}var UM=class{constructor(t,e){this.h=t,this.g=e}};function uE(t){this.l=t||jM,Ye.PerformanceNavigationTiming?(t=Ye.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Ye.g&&Ye.g.Ea&&Ye.g.Ea()&&Ye.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var jM=10;function dE(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function hE(t){return t.h?1:t.g?t.g.size:0}function op(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function ug(t,e){t.g?t.g.add(e):t.h=e}function fE(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}uE.prototype.cancel=function(){if(this.i=_E(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function _E(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return Km(t.i)}function dg(){}dg.prototype.stringify=function(t){return Ye.JSON.stringify(t,void 0)};dg.prototype.parse=function(t){return Ye.JSON.parse(t,void 0)};function VM(){this.g=new dg}function zM(t,e,n){const r=n||"";try{lg(t,function(i,a){let l=i;fc(i)&&(l=tg(i)),e.push(r+a+"="+encodeURIComponent(l))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function HM(t,e){const n=new ch;if(Ye.Image){const r=new Image;r.onload=su(lu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=su(lu,n,r,"TestLoadImage: error",!1,e),r.onabort=su(lu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=su(lu,n,r,"TestLoadImage: timeout",!1,e),Ye.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function lu(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function yc(t){this.l=t.$b||null,this.j=t.ib||!1}kn(yc,ag);yc.prototype.g=function(){return new ph(this.l,this.j)};yc.prototype.i=function(t){return function(){return t}}({});function ph(t,e){dn.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=hg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}kn(ph,dn);var hg=0;Me=ph.prototype;Me.open=function(t,e){if(this.readyState!=hg)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,$l(this)};Me.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Ye).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))};Me.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,bc(this)),this.readyState=hg};Me.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,$l(this)),this.g&&(this.readyState=3,$l(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Ye.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;pE(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))};function pE(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}Me.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?bc(this):$l(this),this.readyState==3&&pE(this)}};Me.Ua=function(t){this.g&&(this.response=this.responseText=t,bc(this))};Me.Ta=function(t){this.g&&(this.response=t,bc(this))};Me.ha=function(){this.g&&bc(this)};function bc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,$l(t)}Me.setRequestHeader=function(t,e){this.v.append(t,e)};Me.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Me.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function $l(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(ph.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var BM=Ye.JSON.parse;function Yt(t){dn.call(this),this.headers=new so,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=mE,this.K=this.L=!1}kn(Yt,dn);var mE="",qM=/^https?$/i,WM=["POST","PUT"];Me=Yt.prototype;Me.ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():rp.g(),this.C=this.u?r0(this.u):r0(rp),this.g.onreadystatechange=vn(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(a){s0(this,a);return}t=n||"";const i=new so(this.headers);r&&lg(r,function(a,l){i.set(l,a)}),r=rM(i.T()),n=Ye.FormData&&t instanceof Ye.FormData,!(0<=M1(WM,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(a,l){this.g.setRequestHeader(l,a)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{yE(this),0<this.B&&((this.K=GM(this.g))?(this.g.timeout=this.B,this.g.ontimeout=vn(this.pa,this)):this.A=ig(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(a){s0(this,a)}};function GM(t){return qs&&lM()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}function KM(t){return t.toLowerCase()=="content-type"}Me.pa=function(){typeof Gm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,yn(this,"timeout"),this.abort(8))};function s0(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,gE(t),mh(t)}function gE(t){t.D||(t.D=!0,yn(t,"complete"),yn(t,"error"))}Me.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,yn(this,"complete"),yn(this,"abort"),mh(this))};Me.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),mh(this,!0)),Yt.Z.M.call(this)};Me.Fa=function(){this.s||(this.F||this.v||this.l?vE(this):this.cb())};Me.cb=function(){vE(this)};function vE(t){if(t.h&&typeof Gm<"u"&&(!t.C[1]||oi(t)!=4||t.ba()!=2)){if(t.v&&oi(t)==4)ig(t.Fa,0,t);else if(yn(t,"readystatechange"),oi(t)==4){t.h=!1;try{const h=t.ba();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=h===0){var i=String(t.H).match(sE)[1]||null;if(!i&&Ye.self&&Ye.self.location){var a=Ye.self.location.protocol;i=a.substr(0,a.length-1)}r=!qM.test(i?i.toLowerCase():"")}n=r}if(n)yn(t,"complete"),yn(t,"success");else{t.m=6;try{var l=2<oi(t)?t.g.statusText:""}catch{l=""}t.j=l+" ["+t.ba()+"]",gE(t)}}finally{mh(t)}}}}function mh(t,e){if(t.g){yE(t);const n=t.g,r=t.C[0]?bd:null;t.g=null,t.C=null,e||yn(t,"ready");try{n.onreadystatechange=r}catch{}}}function yE(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Ye.clearTimeout(t.A),t.A=null)}function oi(t){return t.g?t.g.readyState:0}Me.ba=function(){try{return 2<oi(this)?this.g.status:-1}catch{return-1}};Me.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};Me.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),BM(e)}};function o0(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case mE:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}Me.Da=function(){return this.m};Me.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function YM(t){let e="";return Ym(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function fg(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=YM(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ot(t,e,n))}function Do(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function bE(t){this.za=0,this.l=[],this.h=new ch,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Do("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Do("baseRetryDelayMs",5e3,t),this.$a=Do("retryDelaySeedMs",1e4,t),this.Ya=Do("forwardChannelMaxRetries",2,t),this.ra=Do("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new uE(t&&t.concurrentRequestLimit),this.Ca=new VM,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||t.Xb!==!1}Me=bE.prototype;Me.ma=8;Me.G=1;function _g(t){if(wE(t),t.G==3){var e=t.V++,n=gi(t.F);Ot(n,"SID",t.J),Ot(n,"RID",e),Ot(n,"TYPE","terminate"),wc(t,n),e=new gc(t,t.h,e,void 0),e.K=2,e.v=_h(gi(n)),n=!1,Ye.navigator&&Ye.navigator.sendBeacon&&(n=Ye.navigator.sendBeacon(e.v.toString(),"")),!n&&Ye.Image&&(new Image().src=e.v,n=!0),n||(e.g=DE(e.l,null),e.g.ea(e.v)),e.F=Date.now(),vc(e)}TE(t)}Me.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch{}};function gh(t){t.g&&(mg(t),t.g.cancel(),t.g=null)}function wE(t){gh(t),t.u&&(Ye.clearTimeout(t.u),t.u=null),Td(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Ye.clearTimeout(t.m),t.m=null)}function Af(t,e){t.l.push(new UM(t.Za++,e)),t.G==3&&vh(t)}function vh(t){dE(t.i)||t.m||(t.m=!0,ng(t.Ha,t),t.C=0)}function JM(t,e){return hE(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.l=e.D.concat(t.l),!0):t.G==1||t.G==2||t.C>=(t.Xa?0:t.Ya)?!1:(t.m=pc(vn(t.Ha,t,e),CE(t,t.C)),t.C++,!0)}Me.Ha=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const i=new gc(this,this.h,t,void 0);let a=this.s;if(this.P&&(a?(a=L1(a),R1(a,this.P)):a=this.P),this.o===null&&(i.H=a),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){t:{var r=this.l[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=xE(this,i,e),n=gi(this.F),Ot(n,"RID",t),Ot(n,"CVER",22),this.D&&Ot(n,"X-HTTP-Session-Id",this.D),wc(this,n),this.o&&a&&fg(n,this.o,a),ug(this.i,i),this.Ra&&Ot(n,"TYPE","init"),this.ja?(Ot(n,"$req",e),Ot(n,"SID","null"),i.$=!0,ap(i,n,null)):ap(i,n,e),this.G=2}}else this.G==3&&(t?l0(this,t):this.l.length==0||dE(this.i)||l0(this))};function l0(t,e){var n;e?n=e.m:n=t.V++;const r=gi(t.F);Ot(r,"SID",t.J),Ot(r,"RID",n),Ot(r,"AID",t.U),wc(t,r),t.o&&t.s&&fg(r,t.o,t.s),n=new gc(t,t.h,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=xE(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),ug(t.i,n),ap(n,r,e)}function wc(t,e){t.j&&lg({},function(n,r){Ot(e,r,n)})}function xE(t,e,n){n=Math.min(t.l.length,n);var r=t.j?vn(t.j.Oa,t.j,t):null;e:{var i=t.l;let a=-1;for(;;){const l=["count="+n];a==-1?0<n?(a=i[0].h,l.push("ofs="+a)):a=0:l.push("ofs="+a);let h=!0;for(let f=0;f<n;f++){let g=i[f].h;const k=i[f].g;if(g-=a,0>g)a=Math.max(0,i[f].h-100),h=!1;else try{zM(k,l,"req"+g+"_")}catch{r&&r(k)}}if(h){r=l.join("&");break e}}}return t=t.l.splice(0,n),e.D=t,r}function EE(t){t.g||t.u||(t.Y=1,ng(t.Ga,t),t.A=0)}function pg(t){return t.g||t.u||3<=t.A?!1:(t.Y++,t.u=pc(vn(t.Ga,t),CE(t,t.A)),t.A++,!0)}Me.Ga=function(){if(this.u=null,kE(this),this.$&&!(this.L||this.g==null||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=pc(vn(this.bb,this),t)}};Me.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,jn(10),gh(this),kE(this))};function mg(t){t.B!=null&&(Ye.clearTimeout(t.B),t.B=null)}function kE(t){t.g=new gc(t,t.h,"rpc",t.Y),t.o===null&&(t.g.H=t.s),t.g.O=0;var e=gi(t.oa);Ot(e,"RID","rpc"),Ot(e,"SID",t.J),Ot(e,"CI",t.N?"0":"1"),Ot(e,"AID",t.U),wc(t,e),Ot(e,"TYPE","xmlhttp"),t.o&&t.s&&fg(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=_h(gi(e)),n.s=null,n.U=!0,nE(n,t)}Me.ab=function(){this.v!=null&&(this.v=null,gh(this),pg(this),jn(19))};function Td(t){t.v!=null&&(Ye.clearTimeout(t.v),t.v=null)}function SE(t,e){var n=null;if(t.g==e){Td(t),mg(t),t.g=null;var r=2}else if(op(t.i,e))n=e.D,fE(t.i,e),r=1;else return;if(t.I=e.N,t.G!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=uh(),yn(r,new X1(r,n)),vh(t)}else EE(t);else if(i=e.o,i==3||i==0&&0<t.I||!(r==1&&JM(t,e)||r==2&&pg(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Aa(t,5);break;case 4:Aa(t,10);break;case 3:Aa(t,6);break;default:Aa(t,2)}}}function CE(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function Aa(t,e){if(t.h.info("Error code "+e),e==2){var n=null;t.j&&(n=null);var r=vn(t.jb,t);n||(n=new Ja("//www.google.com/images/cleardot.gif"),Ye.location&&Ye.location.protocol=="http"||kd(n,"https"),_h(n)),HM(n.toString(),r)}else jn(2);t.G=0,t.j&&t.j.va(e),TE(t),wE(t)}Me.jb=function(t){t?(this.h.info("Successfully pinged google.com"),jn(2)):(this.h.info("Failed to ping google.com"),jn(1))};function TE(t){t.G=0,t.I=-1,t.j&&((_E(t.i).length!=0||t.l.length!=0)&&(t.i.i.length=0,Km(t.l),t.l.length=0),t.j.ua())}function NE(t,e,n){let r=AM(n);if(r.i!="")e&&Sd(r,e+"."+r.i),Cd(r,r.m);else{const i=Ye.location;r=OM(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&Ym(t.aa,function(i,a){Ot(r,a,i)}),e=t.D,n=t.sa,e&&n&&Ot(r,e,n),Ot(r,"VER",t.ma),wc(t,r),r}function DE(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ba&&!t.qa?new Yt(new yc({ib:!0})):new Yt(t.qa),e.L=t.H,e}function IE(){}Me=IE.prototype;Me.xa=function(){};Me.wa=function(){};Me.va=function(){};Me.ua=function(){};Me.Oa=function(){};function Nd(){if(qs&&!(10<=Number(cM)))throw Error("Environmental error: no available transport.")}Nd.prototype.g=function(t,e){return new fr(t,e)};function fr(t,e){dn.call(this),this.g=new bE(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!wd(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!wd(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new lo(this)}kn(fr,dn);fr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),ng(vn(t.hb,t,e))),jn(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=NE(t,null,t.W),vh(t)};fr.prototype.close=function(){_g(this.g)};fr.prototype.u=function(t){if(typeof t=="string"){var e={};e.__data__=t,Af(this.g,e)}else this.v?(e={},e.__data__=tg(t),Af(this.g,e)):Af(this.g,t)};fr.prototype.M=function(){this.g.j=null,delete this.j,_g(this.g),delete this.g,fr.Z.M.call(this)};function AE(t){sg.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}kn(AE,sg);function OE(){og.call(this),this.status=1}kn(OE,og);function lo(t){this.g=t}kn(lo,IE);lo.prototype.xa=function(){yn(this.g,"a")};lo.prototype.wa=function(t){yn(this.g,new AE(t))};lo.prototype.va=function(t){yn(this.g,new OE)};lo.prototype.ua=function(){yn(this.g,"b")};Nd.prototype.createWebChannel=Nd.prototype.g;fr.prototype.send=fr.prototype.u;fr.prototype.open=fr.prototype.m;fr.prototype.close=fr.prototype.close;dh.NO_ERROR=0;dh.TIMEOUT=8;dh.HTTP_ERROR=6;Z1.COMPLETE="complete";eE.EventType=mc;mc.OPEN="a";mc.CLOSE="b";mc.ERROR="c";mc.MESSAGE="d";dn.prototype.listen=dn.prototype.N;Yt.prototype.listenOnce=Yt.prototype.O;Yt.prototype.getLastError=Yt.prototype.La;Yt.prototype.getLastErrorCode=Yt.prototype.Da;Yt.prototype.getStatus=Yt.prototype.ba;Yt.prototype.getResponseJson=Yt.prototype.Qa;Yt.prototype.getResponseText=Yt.prototype.ga;Yt.prototype.send=Yt.prototype.ea;var QM=function(){return new Nd},XM=function(){return uh()},Of=dh,ZM=Z1,eP=rs,c0={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},tP=yc,cu=eE,nP=Yt;const u0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kn.UNAUTHENTICATED=new Kn(null),Kn.GOOGLE_CREDENTIALS=new Kn("google-credentials-uid"),Kn.FIRST_PARTY=new Kn("first-party-uid"),Kn.MOCK_USER=new Kn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let co="9.9.4";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa=new Lm("@firebase/firestore");function d0(){return Qa.logLevel}function je(t,...e){if(Qa.logLevel<=mt.DEBUG){const n=e.map(gg);Qa.debug(`Firestore (${co}): ${t}`,...n)}}function vi(t,...e){if(Qa.logLevel<=mt.ERROR){const n=e.map(gg);Qa.error(`Firestore (${co}): ${t}`,...n)}}function h0(t,...e){if(Qa.logLevel<=mt.WARN){const n=e.map(gg);Qa.warn(`Firestore (${co}): ${t}`,...n)}}function gg(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xe(t="Unexpected state"){const e=`FIRESTORE (${co}) INTERNAL ASSERTION FAILED: `+t;throw vi(e),new Error(e)}function kt(t,e){t||Xe()}function tt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class $e extends Si{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rP{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class iP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Kn.UNAUTHENTICATED))}shutdown(){}}class aP{constructor(e){this.t=e,this.currentUser=Kn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let a=new ui;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ui,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await i(this.currentUser)})},h=f=>{je("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.auth.addAuthTokenListener(this.o),l()};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(je("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ui)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(je("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(kt(typeof r.accessToken=="string"),new rP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return kt(e===null||typeof e=="string"),new Kn(e)}}class sP{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=Kn.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(kt(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class oP{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i}getToken(){return Promise.resolve(new sP(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(Kn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class lP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cP{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const r=a=>{a.error!=null&&je("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.A;return this.A=a.token,je("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{je("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.T.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.T.getImmediate({optional:!0});a?i(a):je("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(kt(typeof n.token=="string"),this.A=n.token,new lP(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=uP(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%e.length))}return r}}function gt(t,e){return t<e?-1:t>e?1:0}function Ws(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new $e(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new $e(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new $e(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $e(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return en.fromMillis(Date.now())}static fromDate(e){return en.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new en(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?gt(this.nanoseconds,e.nanoseconds):gt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e){this.timestamp=e}static fromTimestamp(e){return new at(e)}static min(){return new at(new en(0,0))}static max(){return new at(new en(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,n,r){n===void 0?n=0:n>e.length&&Xe(),r===void 0?r=e.length-n:r>e.length-n&&Xe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Fl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Fl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=e.get(i),l=n.get(i);if(a<l)return-1;if(a>l)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Dt extends Fl{construct(e,n,r){return new Dt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new $e(pe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Dt(n)}static emptyPath(){return new Dt([])}}const dP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class In extends Fl{construct(e,n,r){return new In(e,n,r)}static isValidIdentifier(e){return dP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),In.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new In(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new $e(pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const h=e[i];if(h==="\\"){if(i+1===e.length)throw new $e(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new $e(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else h==="`"?(l=!l,i++):h!=="."||l?(r+=h,i++):(a(),i++)}if(a(),l)throw new $e(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new In(n)}static emptyPath(){return new In([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e){this.path=e}static fromPath(e){return new Ve(Dt.fromString(e))}static fromName(e){return new Ve(Dt.fromString(e).popFirst(5))}static empty(){return new Ve(Dt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Dt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Dt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ve(new Dt(e.slice()))}}function hP(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=at.fromTimestamp(r===1e9?new en(n+1,0):new en(n,r));return new ca(i,Ve.empty(),e)}function fP(t){return new ca(t.readTime,t.key,-1)}class ca{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ca(at.min(),Ve.empty(),-1)}static max(){return new ca(at.max(),Ve.empty(),-1)}}function _P(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ve.comparator(t.documentKey,e.documentKey),n!==0?n:gt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xc(t){if(t.code!==pe.FAILED_PRECONDITION||t.message!==pP)throw t;je("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new be((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof be?n:be.resolve(n)}catch(n){return be.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):be.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):be.reject(n)}static resolve(e){return new be((n,r)=>{n(e)})}static reject(e){return new be((n,r)=>{r(e)})}static waitFor(e){return new be((n,r)=>{let i=0,a=0,l=!1;e.forEach(h=>{++i,h.next(()=>{++a,l&&a===i&&n()},f=>r(f))}),l=!0,a===i&&n()})}static or(e){let n=be.resolve(!1);for(const r of e)n=n.next(i=>i?be.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new be((r,i)=>{const a=e.length,l=new Array(a);let h=0;for(let f=0;f<a;f++){const g=f;n(e[g]).next(k=>{l[g]=k,++h,h===a&&r(l)},k=>i(k))}})}static doWhile(e,n){return new be((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function Ec(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>n.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function is(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function PE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vg.at=-1;class nn{constructor(e,n){this.comparator=e,this.root=n||pn.EMPTY}insert(e,n){return new nn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,pn.BLACK,null,null))}remove(e){return new nn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,pn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new uu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new uu(this.root,e,this.comparator,!1)}getReverseIterator(){return new uu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new uu(this.root,e,this.comparator,!0)}}class uu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class pn{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r!=null?r:pn.RED,this.left=i!=null?i:pn.EMPTY,this.right=a!=null?a:pn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new pn(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,a!=null?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return pn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return pn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Xe();const e=this.left.check();if(e!==this.right.check())throw Xe();return e+(this.isRed()?0:1)}}pn.EMPTY=null,pn.RED=!0,pn.BLACK=!1;pn.EMPTY=new class{constructor(){this.size=0}get key(){throw Xe()}get value(){throw Xe()}get color(){throw Xe()}get left(){throw Xe()}get right(){throw Xe()}copy(t,e,n,r,i){return this}insert(t,e,n){return new pn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.comparator=e,this.data=new nn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new _0(this.data.getIterator())}getIteratorFrom(e){return new _0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof tn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new tn(this.comparator);return n.data=e,n}}class _0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e){this.fields=e,e.sort(In.comparator)}static empty(){return new Sr([])}unionWith(e){let n=new tn(In.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Sr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ws(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new En(n)}static fromUint8Array(e){const n=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new En(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return gt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}En.EMPTY_BYTE_STRING=new En("");const gP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ua(t){if(kt(!!t),typeof t=="string"){let e=0;const n=gP.exec(t);if(kt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Gt(t.seconds),nanos:Gt(t.nanos)}}function Gt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Gs(t){return typeof t=="string"?En.fromBase64String(t):En.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function RE(t){const e=t.mapValue.fields.__previous_value__;return LE(e)?RE(e):e}function Ul(t){const e=ua(t.mapValue.fields.__local_write_time__.timestampValue);return new en(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(e,n,r,i,a,l,h,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=h,this.useFetchStreams=f}}class jl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new jl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof jl&&e.projectId===this.projectId&&e.database===this.database}}function yh(t){return t==null}function Dd(t){return t===0&&1/t==-1/0}function yP(t){return typeof t=="number"&&Number.isInteger(t)&&!Dd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Xa(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?LE(t)?4:bP(t)?9007199254740991:10:Xe()}function Qr(t,e){if(t===e)return!0;const n=Xa(t);if(n!==Xa(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ul(t).isEqual(Ul(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=ua(r.timestampValue),l=ua(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Gs(r.bytesValue).isEqual(Gs(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Gt(r.geoPointValue.latitude)===Gt(i.geoPointValue.latitude)&&Gt(r.geoPointValue.longitude)===Gt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Gt(r.integerValue)===Gt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=Gt(r.doubleValue),l=Gt(i.doubleValue);return a===l?Dd(a)===Dd(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return Ws(t.arrayValue.values||[],e.arrayValue.values||[],Qr);case 10:return function(r,i){const a=r.mapValue.fields||{},l=i.mapValue.fields||{};if(f0(a)!==f0(l))return!1;for(const h in a)if(a.hasOwnProperty(h)&&(l[h]===void 0||!Qr(a[h],l[h])))return!1;return!0}(t,e);default:return Xe()}}function Vl(t,e){return(t.values||[]).find(n=>Qr(n,e))!==void 0}function Ks(t,e){if(t===e)return 0;const n=Xa(t),r=Xa(e);if(n!==r)return gt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return gt(t.booleanValue,e.booleanValue);case 2:return function(i,a){const l=Gt(i.integerValue||i.doubleValue),h=Gt(a.integerValue||a.doubleValue);return l<h?-1:l>h?1:l===h?0:isNaN(l)?isNaN(h)?0:-1:1}(t,e);case 3:return p0(t.timestampValue,e.timestampValue);case 4:return p0(Ul(t),Ul(e));case 5:return gt(t.stringValue,e.stringValue);case 6:return function(i,a){const l=Gs(i),h=Gs(a);return l.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(i,a){const l=i.split("/"),h=a.split("/");for(let f=0;f<l.length&&f<h.length;f++){const g=gt(l[f],h[f]);if(g!==0)return g}return gt(l.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,a){const l=gt(Gt(i.latitude),Gt(a.latitude));return l!==0?l:gt(Gt(i.longitude),Gt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,a){const l=i.values||[],h=a.values||[];for(let f=0;f<l.length&&f<h.length;++f){const g=Ks(l[f],h[f]);if(g)return g}return gt(l.length,h.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===du.mapValue&&a===du.mapValue)return 0;if(i===du.mapValue)return 1;if(a===du.mapValue)return-1;const l=i.fields||{},h=Object.keys(l),f=a.fields||{},g=Object.keys(f);h.sort(),g.sort();for(let k=0;k<h.length&&k<g.length;++k){const T=gt(h[k],g[k]);if(T!==0)return T;const C=Ks(l[h[k]],f[g[k]]);if(C!==0)return C}return gt(h.length,g.length)}(t.mapValue,e.mapValue);default:throw Xe()}}function p0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return gt(t,e);const n=ua(t),r=ua(e),i=gt(n.seconds,r.seconds);return i!==0?i:gt(n.nanos,r.nanos)}function Ps(t){return lp(t)}function lp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=ua(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Gs(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,Ve.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",a=!0;for(const l of r.values||[])a?a=!1:i+=",",i+=lp(l);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",l=!0;for(const h of i)l?l=!1:a+=",",a+=`${h}:${lp(r.fields[h])}`;return a+"}"}(t.mapValue):Xe();var e,n}function m0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function cp(t){return!!t&&"integerValue"in t}function yg(t){return!!t&&"arrayValue"in t}function g0(t){return!!t&&"nullValue"in t}function v0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ru(t){return!!t&&"mapValue"in t}function il(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return is(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=il(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=il(t.arrayValue.values[n]);return e}return Object.assign({},t)}function bP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.value=e}static empty(){return new Qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ru(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=il(n)}setAll(e){let n=In.emptyPath(),r={},i=[];e.forEach((l,h)=>{if(!n.isImmediateParentOf(h)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=h.popLast()}l?r[h.lastSegment()]=il(l):i.push(h.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());Ru(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Qr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ru(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){is(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Qn(il(this.value))}}function $E(t){const e=[];return is(t.fields,(n,r)=>{const i=new In([n]);if(Ru(r)){const a=$E(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new Sr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e,n,r,i,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=l}static newInvalidDocument(e){return new mn(e,0,at.min(),at.min(),Qn.empty(),0)}static newFoundDocument(e,n,r){return new mn(e,1,n,at.min(),r,0)}static newNoDocument(e,n){return new mn(e,2,n,at.min(),Qn.empty(),0)}static newUnknownDocument(e,n){return new mn(e,3,n,at.min(),Qn.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=at.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e,n=null,r=[],i=[],a=null,l=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=h,this.ht=null}}function y0(t,e=null,n=[],r=[],i=null,a=null,l=null){return new wP(t,e,n,r,i,a,l)}function bg(t){const e=tt(t);if(e.ht===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+Ps(i.value);var i}).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),yh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ps(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ps(r)).join(",")),e.ht=n}return e.ht}function xP(t){let e=t.path.canonicalString();return t.collectionGroup!==null&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${Ps(r.value)}`;var r}).join(", ")}]`),yh(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(n)).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>Ps(n)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>Ps(n)).join(",")),`Target(${e})`}function wg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!IP(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if(n=t.filters[i],r=e.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!Qr(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!w0(t.startAt,e.startAt)&&w0(t.endAt,e.endAt)}function up(t){return Ve.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Vn extends class{}{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.lt(e,n,r):new EP(e,n,r):n==="array-contains"?new CP(e,r):n==="in"?new TP(e,r):n==="not-in"?new NP(e,r):n==="array-contains-any"?new DP(e,r):new Vn(e,n,r)}static lt(e,n,r){return n==="in"?new kP(e,r):new SP(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.ft(Ks(n,this.value)):n!==null&&Xa(this.value)===Xa(n)&&this.ft(Ks(n,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Xe()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class EP extends Vn{constructor(e,n,r){super(e,n,r),this.key=Ve.fromName(r.referenceValue)}matches(e){const n=Ve.comparator(e.key,this.key);return this.ft(n)}}class kP extends Vn{constructor(e,n){super(e,"in",n),this.keys=FE("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class SP extends Vn{constructor(e,n){super(e,"not-in",n),this.keys=FE("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function FE(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ve.fromName(r.referenceValue))}class CP extends Vn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return yg(n)&&Vl(n.arrayValue,this.value)}}class TP extends Vn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Vl(this.value.arrayValue,n)}}class NP extends Vn{constructor(e,n){super(e,"not-in",n)}matches(e){if(Vl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Vl(this.value.arrayValue,n)}}class DP extends Vn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!yg(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Vl(this.value.arrayValue,r))}}class Id{constructor(e,n){this.position=e,this.inclusive=n}}class al{constructor(e,n="asc"){this.field=e,this.dir=n}}function IP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function b0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],l=t.position[i];if(a.field.isKeyField()?r=Ve.comparator(Ve.fromName(l.referenceValue),n.key):r=Ks(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function w0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Qr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{constructor(e,n=null,r=[],i=[],a=null,l="F",h=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=h,this.endAt=f,this._t=null,this.wt=null,this.startAt,this.endAt}}function AP(t,e,n,r,i,a,l,h){return new kc(t,e,n,r,i,a,l,h)}function bh(t){return new kc(t)}function x0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function UE(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function jE(t){for(const e of t.filters)if(e.dt())return e.field;return null}function VE(t){return t.collectionGroup!==null}function zl(t){const e=tt(t);if(e._t===null){e._t=[];const n=jE(e),r=UE(e);if(n!==null&&r===null)n.isKeyField()||e._t.push(new al(n)),e._t.push(new al(In.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e._t.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new al(In.keyField(),a))}}}return e._t}function yi(t){const e=tt(t);if(!e.wt)if(e.limitType==="F")e.wt=y0(e.path,e.collectionGroup,zl(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const a of zl(e)){const l=a.dir==="desc"?"asc":"desc";n.push(new al(a.field,l))}const r=e.endAt?new Id(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Id(e.startAt.position,e.startAt.inclusive):null;e.wt=y0(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.wt}function dp(t,e,n){return new kc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function wh(t,e){return wg(yi(t),yi(e))&&t.limitType===e.limitType}function zE(t){return`${bg(yi(t))}|lt:${t.limitType}`}function hp(t){return`Query(target=${xP(yi(t))}; limitType=${t.limitType})`}function xg(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):Ve.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of n.explicitOrderBy)if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,a,l){const h=b0(i,a,l);return i.inclusive?h<=0:h<0}(n.startAt,zl(n),r)||n.endAt&&!function(i,a,l){const h=b0(i,a,l);return i.inclusive?h>=0:h>0}(n.endAt,zl(n),r))}(t,e)}function OP(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function HE(t){return(e,n)=>{let r=!1;for(const i of zl(t)){const a=MP(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function MP(t,e,n){const r=t.field.isKeyField()?Ve.comparator(e.key,n.key):function(i,a,l){const h=a.data.field(i),f=l.data.field(i);return h!==null&&f!==null?Ks(h,f):Xe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Xe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(t,e){if(t.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dd(e)?"-0":e}}function qE(t){return{integerValue:""+t}}function WE(t,e){return yP(e)?qE(e):BE(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(){this._=void 0}}function PP(t,e,n){return t instanceof Hl?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(a.fields.__previous_value__=i),{mapValue:a}}(n,e):t instanceof Bl?KE(t,e):t instanceof ql?YE(t,e):function(r,i){const a=GE(r,i),l=E0(a)+E0(r.yt);return cp(a)&&cp(r.yt)?qE(l):BE(r.It,l)}(t,e)}function LP(t,e,n){return t instanceof Bl?KE(t,e):t instanceof ql?YE(t,e):n}function GE(t,e){return t instanceof Wl?cp(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Hl extends xh{}class Bl extends xh{constructor(e){super(),this.elements=e}}function KE(t,e){const n=JE(e);for(const r of t.elements)n.some(i=>Qr(i,r))||n.push(r);return{arrayValue:{values:n}}}class ql extends xh{constructor(e){super(),this.elements=e}}function YE(t,e){let n=JE(e);for(const r of t.elements)n=n.filter(i=>!Qr(i,r));return{arrayValue:{values:n}}}class Wl extends xh{constructor(e,n){super(),this.It=e,this.yt=n}}function E0(t){return Gt(t.integerValue||t.doubleValue)}function JE(t){return yg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e,n){this.field=e,this.transform=n}}function RP(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof Bl&&r instanceof Bl||n instanceof ql&&r instanceof ql?Ws(n.elements,r.elements,Qr):n instanceof Wl&&r instanceof Wl?Qr(n.yt,r.yt):n instanceof Hl&&r instanceof Hl}(t.transform,e.transform)}class $P{constructor(e,n){this.version=e,this.transformResults=n}}class Cr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Cr}static exists(e){return new Cr(void 0,e)}static updateTime(e){return new Cr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $u(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Eh{}function XE(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Eg(t.key,Cr.none()):new Sc(t.key,t.data,Cr.none());{const n=t.data,r=Qn.empty();let i=new tn(In.comparator);for(let a of e.fields)if(!i.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new ga(t.key,r,new Sr(i.toArray()),Cr.none())}}function FP(t,e,n){t instanceof Sc?function(r,i,a){const l=r.value.clone(),h=S0(r.fieldTransforms,i,a.transformResults);l.setAll(h),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof ga?function(r,i,a){if(!$u(r.precondition,i))return void i.convertToUnknownDocument(a.version);const l=S0(r.fieldTransforms,i,a.transformResults),h=i.data;h.setAll(ZE(r)),h.setAll(l),i.convertToFoundDocument(a.version,h).setHasCommittedMutations()}(t,e,n):function(r,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function sl(t,e,n,r){return t instanceof Sc?function(i,a,l,h){if(!$u(i.precondition,a))return l;const f=i.value.clone(),g=C0(i.fieldTransforms,h,a);return f.setAll(g),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),null}(t,e,n,r):t instanceof ga?function(i,a,l,h){if(!$u(i.precondition,a))return l;const f=C0(i.fieldTransforms,h,a),g=a.data;return g.setAll(ZE(i)),g.setAll(f),a.convertToFoundDocument(a.version,g).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(k=>k.field))}(t,e,n,r):function(i,a,l){return $u(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function UP(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=GE(r.transform,i||null);a!=null&&(n===null&&(n=Qn.empty()),n.set(r.field,a))}return n||null}function k0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Ws(n,r,(i,a)=>RP(i,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Sc extends Eh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ga extends Eh{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function ZE(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function S0(t,e,n){const r=new Map;kt(t.length===n.length);for(let i=0;i<n.length;i++){const a=t[i],l=a.transform,h=e.data.field(a.field);r.set(a.field,LP(l,h,n[i]))}return r}function C0(t,e,n){const r=new Map;for(const i of t){const a=i.transform,l=n.data.field(i.field);r.set(i.field,PP(a,l,e))}return r}class Eg extends Eh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jP extends Eh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt,ct;function zP(t){switch(t){default:return Xe();case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0}}function ek(t){if(t===void 0)return vi("GRPC error has no .code"),pe.UNKNOWN;switch(t){case Bt.OK:return pe.OK;case Bt.CANCELLED:return pe.CANCELLED;case Bt.UNKNOWN:return pe.UNKNOWN;case Bt.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case Bt.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case Bt.INTERNAL:return pe.INTERNAL;case Bt.UNAVAILABLE:return pe.UNAVAILABLE;case Bt.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case Bt.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case Bt.NOT_FOUND:return pe.NOT_FOUND;case Bt.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case Bt.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case Bt.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case Bt.ABORTED:return pe.ABORTED;case Bt.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case Bt.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case Bt.DATA_LOSS:return pe.DATA_LOSS;default:return Xe()}}(ct=Bt||(Bt={}))[ct.OK=0]="OK",ct[ct.CANCELLED=1]="CANCELLED",ct[ct.UNKNOWN=2]="UNKNOWN",ct[ct.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ct[ct.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ct[ct.NOT_FOUND=5]="NOT_FOUND",ct[ct.ALREADY_EXISTS=6]="ALREADY_EXISTS",ct[ct.PERMISSION_DENIED=7]="PERMISSION_DENIED",ct[ct.UNAUTHENTICATED=16]="UNAUTHENTICATED",ct[ct.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ct[ct.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ct[ct.ABORTED=10]="ABORTED",ct[ct.OUT_OF_RANGE=11]="OUT_OF_RANGE",ct[ct.UNIMPLEMENTED=12]="UNIMPLEMENTED",ct[ct.INTERNAL=13]="INTERNAL",ct[ct.UNAVAILABLE=14]="UNAVAILABLE",ct[ct.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){is(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return PE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HP=new nn(Ve.comparator);function bi(){return HP}const tk=new nn(Ve.comparator);function zo(...t){let e=tk;for(const n of t)e=e.insert(n.key,n);return e}function nk(t){let e=tk;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Oa(){return ol()}function rk(){return ol()}function ol(){return new uo(t=>t.toString(),(t,e)=>t.isEqual(e))}const BP=new nn(Ve.comparator),qP=new tn(Ve.comparator);function st(...t){let e=qP;for(const n of t)e=e.add(n);return e}const WP=new tn(gt);function ik(){return WP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n){const r=new Map;return r.set(e,Cc.createSynthesizedTargetChangeForCurrentChange(e,n)),new kh(at.min(),r,ik(),bi(),st())}}class Cc{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n){return new Cc(En.EMPTY_BYTE_STRING,n,st(),st(),st())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,n,r,i){this.Tt=e,this.removedTargetIds=n,this.key=r,this.Et=i}}class ak{constructor(e,n){this.targetId=e,this.At=n}}class sk{constructor(e,n,r=En.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class T0{constructor(){this.Rt=0,this.bt=D0(),this.Pt=En.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return this.Rt!==0}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=st(),n=st(),r=st();return this.bt.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Xe()}}),new Cc(this.Pt,this.vt,e,n,r)}Nt(){this.Vt=!1,this.bt=D0()}kt(e,n){this.Vt=!0,this.bt=this.bt.insert(e,n)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class GP{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=bi(),this.qt=N0(),this.Kt=new tn(gt)}Gt(e){for(const n of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(n,e.Et):this.jt(n,e.key,e.Et);for(const n of e.removedTargetIds)this.jt(n,e.key,e.Et)}Wt(e){this.forEachTarget(e,n=>{const r=this.zt(n);switch(e.state){case 0:this.Ht(n)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(n);break;case 3:this.Ht(n)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(n)&&(this.Jt(n),r.Ct(e.resumeToken));break;default:Xe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Lt.forEach((r,i)=>{this.Ht(i)&&n(i)})}Yt(e){const n=e.targetId,r=e.At.count,i=this.Xt(n);if(i){const a=i.target;if(up(a))if(r===0){const l=new Ve(a.path);this.jt(n,l,mn.newNoDocument(l,at.min()))}else kt(r===1);else this.Zt(n)!==r&&(this.Jt(n),this.Kt=this.Kt.add(n))}}te(e){const n=new Map;this.Lt.forEach((a,l)=>{const h=this.Xt(l);if(h){if(a.current&&up(h.target)){const f=new Ve(h.target.path);this.Ut.get(f)!==null||this.ee(l,f)||this.jt(l,f,mn.newNoDocument(f,e))}a.Dt&&(n.set(l,a.xt()),a.Nt())}});let r=st();this.qt.forEach((a,l)=>{let h=!0;l.forEachWhile(f=>{const g=this.Xt(f);return!g||g.purpose===2||(h=!1,!1)}),h&&(r=r.add(a))}),this.Ut.forEach((a,l)=>l.setReadTime(e));const i=new kh(e,n,this.Kt,this.Ut,r);return this.Ut=bi(),this.qt=N0(),this.Kt=new tn(gt),i}Qt(e,n){if(!this.Ht(e))return;const r=this.ee(e,n.key)?2:0;this.zt(e).kt(n.key,r),this.Ut=this.Ut.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ne(n.key).add(e))}jt(e,n,r){if(!this.Ht(e))return;const i=this.zt(e);this.ee(e,n)?i.kt(n,1):i.Mt(n),this.qt=this.qt.insert(n,this.ne(n).delete(e)),r&&(this.Ut=this.Ut.insert(n,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const n=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let n=this.Lt.get(e);return n||(n=new T0,this.Lt.set(e,n)),n}ne(e){let n=this.qt.get(e);return n||(n=new tn(gt),this.qt=this.qt.insert(e,n)),n}Ht(e){const n=this.Xt(e)!==null;return n||je("WatchChangeAggregator","Detected inactive target",e),n}Xt(e){const n=this.Lt.get(e);return n&&n.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new T0),this.Bt.getRemoteKeysForTarget(e).forEach(n=>{this.jt(e,n,null)})}ee(e,n){return this.Bt.getRemoteKeysForTarget(e).has(n)}}function N0(){return new nn(Ve.comparator)}function D0(){return new nn(Ve.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),YP=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))();class JP{constructor(e,n){this.databaseId=e,this.gt=n}}function Ad(t,e){return t.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ok(t,e){return t.gt?e.toBase64():e.toUint8Array()}function QP(t,e){return Ad(t,e.toTimestamp())}function di(t){return kt(!!t),at.fromTimestamp(function(e){const n=ua(e);return new en(n.seconds,n.nanos)}(t))}function kg(t,e){return function(n){return new Dt(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function lk(t){const e=Dt.fromString(t);return kt(dk(e)),e}function fp(t,e){return kg(t.databaseId,e.path)}function Mf(t,e){const n=lk(e);if(n.get(1)!==t.databaseId.projectId)throw new $e(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new $e(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ve(ck(n))}function _p(t,e){return kg(t.databaseId,e)}function XP(t){const e=lk(t);return e.length===4?Dt.emptyPath():ck(e)}function pp(t){return new Dt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ck(t){return kt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function I0(t,e,n){return{name:fp(t,e),fields:n.value.mapValue.fields}}function ZP(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Xe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(f,g){return f.gt?(kt(g===void 0||typeof g=="string"),En.fromBase64String(g||"")):(kt(g===void 0||g instanceof Uint8Array),En.fromUint8Array(g||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,h=l&&function(f){const g=f.code===void 0?pe.UNKNOWN:ek(f.code);return new $e(g,f.message||"")}(l);n=new sk(r,i,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Mf(t,r.document.name),a=di(r.document.updateTime),l=new Qn({mapValue:{fields:r.document.fields}}),h=mn.newFoundDocument(i,a,l),f=r.targetIds||[],g=r.removedTargetIds||[];n=new Fu(f,g,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Mf(t,r.document),a=r.readTime?di(r.readTime):at.min(),l=mn.newNoDocument(i,a),h=r.removedTargetIds||[];n=new Fu([],h,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Mf(t,r.document),a=r.removedTargetIds||[];n=new Fu([],a,i,null)}else{if(!("filter"in e))return Xe();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,a=new VP(i),l=r.targetId;n=new ak(l,a)}}return n}function eL(t,e){let n;if(e instanceof Sc)n={update:I0(t,e.key,e.value)};else if(e instanceof Eg)n={delete:fp(t,e.key)};else if(e instanceof ga)n={update:I0(t,e.key,e.data),updateMask:uL(e.fieldMask)};else{if(!(e instanceof jP))return Xe();n={verify:fp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const l=a.transform;if(l instanceof Hl)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Bl)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof ql)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Wl)return{fieldPath:a.field.canonicalString(),increment:l.yt};throw Xe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:QP(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Xe()}(t,e.precondition)),n}function tL(t,e){return t&&t.length>0?(kt(e!==void 0),t.map(n=>function(r,i){let a=r.updateTime?di(r.updateTime):di(i);return a.isEqual(at.min())&&(a=di(i)),new $P(a,r.transformResults||[])}(n,e))):[]}function nL(t,e){return{documents:[_p(t,e.path)]}}function rL(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=_p(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=_p(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(f){if(f.length===0)return;const g=f.map(k=>function(T){if(T.op==="=="){if(v0(T.value))return{unaryFilter:{field:ls(T.field),op:"IS_NAN"}};if(g0(T.value))return{unaryFilter:{field:ls(T.field),op:"IS_NULL"}}}else if(T.op==="!="){if(v0(T.value))return{unaryFilter:{field:ls(T.field),op:"IS_NOT_NAN"}};if(g0(T.value))return{unaryFilter:{field:ls(T.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ls(T.field),op:oL(T.op),value:T.value}}}(k));return g.length===1?g[0]:{compositeFilter:{op:"AND",filters:g}}}(e.filters);i&&(n.structuredQuery.where=i);const a=function(f){if(f.length!==0)return f.map(g=>function(k){return{field:ls(k.field),direction:sL(k.dir)}}(g))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=function(f,g){return f.gt||yh(g)?g:{value:g}}(t,e.limit);var h;return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(n.structuredQuery.endAt=function(f){return{before:!f.inclusive,values:f.position}}(e.endAt)),n}function iL(t){let e=XP(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){kt(r===1);const k=n.from[0];k.allDescendants?i=k.collectionId:e=e.child(k.collectionId)}let a=[];n.where&&(a=uk(n.where));let l=[];n.orderBy&&(l=n.orderBy.map(k=>function(T){return new al(Ss(T.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(k)));let h=null;n.limit&&(h=function(k){let T;return T=typeof k=="object"?k.value:k,yh(T)?null:T}(n.limit));let f=null;n.startAt&&(f=function(k){const T=!!k.before,C=k.values||[];return new Id(C,T)}(n.startAt));let g=null;return n.endAt&&(g=function(k){const T=!k.before,C=k.values||[];return new Id(C,T)}(n.endAt)),AP(e,i,l,a,h,"F",f,g)}function aL(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Xe()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function uk(t){return t?t.unaryFilter!==void 0?[cL(t)]:t.fieldFilter!==void 0?[lL(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(e=>uk(e)).reduce((e,n)=>e.concat(n)):Xe():[]}function sL(t){return KP[t]}function oL(t){return YP[t]}function ls(t){return{fieldPath:t.canonicalString()}}function Ss(t){return In.fromServerFormat(t.fieldPath)}function lL(t){return Vn.create(Ss(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Xe()}}(t.fieldFilter.op),t.fieldFilter.value)}function cL(t){switch(t.unaryFilter.op){case"IS_NAN":const e=Ss(t.unaryFilter.field);return Vn.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Ss(t.unaryFilter.field);return Vn.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ss(t.unaryFilter.field);return Vn.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ss(t.unaryFilter.field);return Vn.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Xe()}}function uL(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function dk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&FP(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=sl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=sl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=rk();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let h=this.applyToLocalView(l,a.mutatedFields);h=n.has(i.key)?null:h;const f=XE(l,h);f!==null&&r.set(i.key,f),l.isValidDocument()||l.convertToNoDocument(at.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),st())}isEqual(e){return this.batchId===e.batchId&&Ws(this.mutations,e.mutations,(n,r)=>k0(n,r))&&Ws(this.baseMutations,e.baseMutations,(n,r)=>k0(n,r))}}class Sg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){kt(e.mutations.length===r.length);let i=BP;const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new Sg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e,n,r,i,a=at.min(),l=at.min(),h=En.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=h}withSequenceNumber(e){return new Ra(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Ra(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Ra(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fL{constructor(e){this.re=e}}function _L(t){const e=iL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?dp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(){this.Ye=new mL}addToCollectionParentIndex(e,n){return this.Ye.add(n),be.resolve()}getCollectionParents(e,n){return be.resolve(this.Ye.getEntries(n))}addFieldIndex(e,n){return be.resolve()}deleteFieldIndex(e,n){return be.resolve()}getDocumentsMatchingTarget(e,n){return be.resolve(null)}getIndexType(e,n){return be.resolve(0)}getFieldIndexes(e,n){return be.resolve([])}getNextCollectionGroupToUpdate(e){return be.resolve(null)}getMinOffset(e,n){return be.resolve(ca.min())}getMinOffsetFromCollectionGroup(e,n){return be.resolve(ca.min())}updateCollectionGroup(e,n,r){return be.resolve()}updateIndexEntries(e,n){return be.resolve()}}class mL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new tn(Dt.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new tn(Dt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Ys(0)}static vn(){return new Ys(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(){this.changes=new uo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,mn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?be.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.getBaseDocument(e,n,r))).next(i=>(r!==null&&sl(r.mutation,i,Sr.empty(),en.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,st()).next(()=>r))}getLocalViewOfDocuments(e,n,r=st()){const i=Oa();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let l=zo();return a.forEach((h,f)=>{l=l.insert(h,f.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=Oa();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,st()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,h)=>{n.set(l,h)})})}computeViews(e,n,r,i){let a=bi();const l=ol(),h=ol();return n.forEach((f,g)=>{const k=r.get(g.key);i.has(g.key)&&(k===void 0||k.mutation instanceof ga)?a=a.insert(g.key,g):k!==void 0&&(l.set(g.key,k.mutation.getFieldMask()),sl(k.mutation,g,k.mutation.getFieldMask(),en.now()))}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((g,k)=>l.set(g,k)),n.forEach((g,k)=>{var T;return h.set(g,new vL(k,(T=l.get(g))!==null&&T!==void 0?T:null))}),h))}recalculateAndSaveOverlays(e,n){const r=ol();let i=new nn((l,h)=>l-h),a=st();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const h of l)h.keys().forEach(f=>{const g=n.get(f);if(g===null)return;let k=r.get(f)||Sr.empty();k=h.applyToLocalView(g,k),r.set(f,k);const T=(i.get(h.batchId)||st()).add(f);i=i.insert(h.batchId,T)})}).next(()=>{const l=[],h=i.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),g=f.key,k=f.value,T=rk();k.forEach(C=>{if(!a.has(C)){const I=XE(n.get(C),r.get(C));I!==null&&T.set(C,I),a=a.add(C)}}),l.push(this.documentOverlayCache.saveOverlays(e,g,T))}return be.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return Ve.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):VE(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):be.resolve(Oa());let h=-1,f=a;return l.next(g=>be.forEach(g,(k,T)=>(h<T.largestBatchId&&(h=T.largestBatchId),a.get(k)?be.resolve():this.getBaseDocument(e,k,T).next(C=>{f=f.insert(k,C)}))).next(()=>this.populateOverlays(e,g,a)).next(()=>this.computeViews(e,f,g,st())).next(k=>({batchId:h,changes:nk(k)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ve(n)).next(r=>{let i=zo();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let a=zo();return this.indexManager.getCollectionParents(e,i).next(l=>be.forEach(l,h=>{const f=function(g,k){return new kc(k,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,h.child(i));return this.getDocumentsMatchingCollectionQuery(e,f,r).next(g=>{g.forEach((k,T)=>{a=a.insert(k,T)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,n.path,r).next(a=>(i=a,this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId))).next(a=>{a.forEach((h,f)=>{const g=f.getKey();i.get(g)===null&&(i=i.insert(g,mn.newInvalidDocument(g)))});let l=zo();return i.forEach((h,f)=>{const g=a.get(h);g!==void 0&&sl(g.mutation,f,Sr.empty(),en.now()),xg(n,f)&&(l=l.insert(h,f))}),l})}getBaseDocument(e,n,r){return r===null||r.mutation.type===1?this.remoteDocumentCache.getEntry(e,n):be.resolve(mn.newInvalidDocument(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return be.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:di(r.createTime)}),be.resolve()}getNamedQuery(e,n){return be.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,function(r){return{name:r.name,query:_L(r.bundledQuery),readTime:di(r.readTime)}}(n)),be.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(){this.overlays=new nn(Ve.comparator),this.es=new Map}getOverlay(e,n){return be.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Oa();return be.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.ue(e,n,a)}),be.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.es.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.es.delete(r)),be.resolve()}getOverlaysForCollection(e,n,r){const i=Oa(),a=n.length+1,l=new Ve(n.child("")),h=this.overlays.getIteratorFrom(l);for(;h.hasNext();){const f=h.getNext().value,g=f.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===a&&f.largestBatchId>r&&i.set(f.getKey(),f)}return be.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new nn((g,k)=>g-k);const l=this.overlays.getIterator();for(;l.hasNext();){const g=l.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>r){let k=a.get(g.largestBatchId);k===null&&(k=Oa(),a=a.insert(g.largestBatchId,k)),k.set(g.getKey(),g)}}const h=Oa(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((g,k)=>h.set(g,k)),!(h.size()>=i)););return be.resolve(h)}ue(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new hL(n,r));let a=this.es.get(n);a===void 0&&(a=st(),this.es.set(n,a)),this.es.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg{constructor(){this.ns=new tn(an.ss),this.rs=new tn(an.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const r=new an(e,n);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.cs(new an(e,n))}hs(e,n){e.forEach(r=>this.removeReference(r,n))}ls(e){const n=new Ve(new Dt([])),r=new an(n,e),i=new an(n,e+1),a=[];return this.rs.forEachInRange([r,i],l=>{this.cs(l),a.push(l.key)}),a}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new Ve(new Dt([])),r=new an(n,e),i=new an(n,e+1);let a=st();return this.rs.forEachInRange([r,i],l=>{a=a.add(l.key)}),a}containsKey(e){const n=new an(e,0),r=this.ns.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class an{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return Ve.comparator(e.key,n.key)||gt(e._s,n._s)}static os(e,n){return gt(e._s,n._s)||Ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new tn(an.ss)}checkEmpty(e){return be.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new dL(a,n,r,i);this.mutationQueue.push(l);for(const h of i)this.gs=this.gs.add(new an(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return be.resolve(l)}lookupMutationBatch(e,n){return be.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ps(r),a=i<0?0:i;return be.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return be.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return be.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new an(n,0),i=new an(n,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],l=>{const h=this.ys(l._s);a.push(h)}),be.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new tn(gt);return n.forEach(i=>{const a=new an(i,0),l=new an(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([a,l],h=>{r=r.add(h._s)})}),be.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;Ve.isDocumentKey(a)||(a=a.child(""));const l=new an(new Ve(a),0);let h=new tn(gt);return this.gs.forEachWhile(f=>{const g=f.key.path;return!!r.isPrefixOf(g)&&(g.length===i&&(h=h.add(f._s)),!0)},l),be.resolve(this.Is(h))}Is(e){const n=[];return e.forEach(r=>{const i=this.ys(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){kt(this.Ts(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.gs;return be.forEach(n.mutations,i=>{const a=new an(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,n){const r=new an(n,0),i=this.gs.firstAfterOrEqual(r);return be.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,be.resolve()}Ts(e,n){return this.ps(e)}ps(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(e){this.Es=e,this.docs=new nn(Ve.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,l=this.Es(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return be.resolve(r?r.document.mutableCopy():mn.newInvalidDocument(n))}getEntries(e,n){let r=bi();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():mn.newInvalidDocument(i))}),be.resolve(r)}getAllFromCollection(e,n,r){let i=bi();const a=new Ve(n.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:h,value:{document:f}}=l.getNext();if(!n.isPrefixOf(h.path))break;h.path.length>n.length+1||_P(fP(f),r)<=0||(i=i.insert(f.key,f.mutableCopy()))}return be.resolve(i)}getAllFromCollectionGroup(e,n,r,i){Xe()}As(e,n){return be.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new kL(this)}getSize(e){return be.resolve(this.size)}}class kL extends gL{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),be.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e){this.persistence=e,this.Rs=new uo(n=>bg(n),wg),this.lastRemoteSnapshotVersion=at.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Cg,this.targetCount=0,this.vs=Ys.Pn()}forEachTarget(e,n){return this.Rs.forEach((r,i)=>n(i)),be.resolve()}getLastRemoteSnapshotVersion(e){return be.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return be.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),be.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.bs&&(this.bs=n),be.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new Ys(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,be.resolve()}updateTargetData(e,n){return this.Dn(n),be.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,be.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.Rs.forEach((l,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.Rs.delete(l),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)}),be.waitFor(a).next(()=>i)}getTargetCount(e){return be.resolve(this.targetCount)}getTargetData(e,n){const r=this.Rs.get(n)||null;return be.resolve(r)}addMatchingKeys(e,n,r){return this.Ps.us(n,r),be.resolve()}removeMatchingKeys(e,n,r){this.Ps.hs(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),be.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),be.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ps.ds(n);return be.resolve(r)}containsKey(e,n){return be.resolve(this.Ps.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new vg(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new SL(this),this.indexManager=new pL,this.remoteDocumentCache=function(r){return new EL(r)}(r=>this.referenceDelegate.xs(r)),this.It=new fL(n),this.Ns=new bL(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new wL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Vs[e.toKey()];return r||(r=new xL(n,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,r){je("MemoryPersistence","Starting transaction:",e);const i=new TL(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(a=>this.referenceDelegate.Ms(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Os(e,n){return be.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,n)))}}class TL extends mP{constructor(e){super(),this.currentSequenceNumber=e}}class Tg{constructor(e){this.persistence=e,this.Fs=new Cg,this.$s=null}static Bs(e){return new Tg(e)}get Ls(){if(this.$s)return this.$s;throw Xe()}addReference(e,n,r){return this.Fs.addReference(r,n),this.Ls.delete(r.toString()),be.resolve()}removeReference(e,n,r){return this.Fs.removeReference(r,n),this.Ls.add(r.toString()),be.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),be.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.Ls.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}ks(){this.$s=new Set}Ms(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return be.forEach(this.Ls,r=>{const i=Ve.fromPath(r);return this.Us(e,i).next(a=>{a||n.removeEntry(i,at.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.Us(e,n).next(r=>{r?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}Us(e,n){return be.or([()=>be.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Os(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Si=r,this.Di=i}static Ci(e,n){let r=st(),i=st();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Ng(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.ki(e,n).next(a=>a||this.Mi(e,n,i,r)).next(a=>a||this.Oi(e,n))}ki(e,n){if(x0(n))return be.resolve(null);let r=yi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=dp(n,null,"F"),r=yi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=st(...a);return this.Ni.getDocuments(e,l).next(h=>this.indexManager.getMinOffset(e,r).next(f=>{const g=this.Fi(n,h);return this.$i(n,g,l,f.readTime)?this.ki(e,dp(n,null,"F")):this.Bi(e,g,n,f)}))})))}Mi(e,n,r,i){return x0(n)||i.isEqual(at.min())?this.Oi(e,n):this.Ni.getDocuments(e,r).next(a=>{const l=this.Fi(n,a);return this.$i(n,l,r,i)?this.Oi(e,n):(d0()<=mt.DEBUG&&je("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),hp(n)),this.Bi(e,l,n,hP(i,-1)))})}Fi(e,n){let r=new tn(HE(e));return n.forEach((i,a)=>{xg(e,a)&&(r=r.add(a))}),r}$i(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Oi(e,n){return d0()<=mt.DEBUG&&je("QueryEngine","Using full collection scan to execute query:",hp(n)),this.Ni.getDocumentsMatchingQuery(e,n,ca.min())}Bi(e,n,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e,n,r,i){this.persistence=e,this.Li=n,this.It=i,this.Ui=new nn(gt),this.qi=new uo(a=>bg(a),wg),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yL(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ui))}}function IL(t,e,n,r){return new DL(t,e,n,r)}async function hk(t,e){const n=tt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.Qi(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],h=[];let f=st();for(const g of i){l.push(g.batchId);for(const k of g.mutations)f=f.add(k.key)}for(const g of a){h.push(g.batchId);for(const k of g.mutations)f=f.add(k.key)}return n.localDocuments.getDocuments(r,f).next(g=>({ji:g,removedBatchIds:l,addedBatchIds:h}))})})}function AL(t,e){const n=tt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.Gi.newChangeBuffer({trackRemovals:!0});return function(l,h,f,g){const k=f.batch,T=k.keys();let C=be.resolve();return T.forEach(I=>{C=C.next(()=>g.getEntry(h,I)).next(L=>{const N=f.docVersions.get(I);kt(N!==null),L.version.compareTo(N)<0&&(k.applyToRemoteDocument(L,f),L.isValidDocument()&&(L.setReadTime(f.commitVersion),g.addEntry(L)))})}),C.next(()=>l.mutationQueue.removeMutationBatch(h,k))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let h=st();for(let f=0;f<l.mutationResults.length;++f)l.mutationResults[f].transformResults.length>0&&(h=h.add(l.batch.mutations[f].key));return h}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function fk(t){const e=tt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function OL(t,e){const n=tt(t),r=e.snapshotVersion;let i=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.Ui;const h=[];e.targetChanges.forEach((k,T)=>{const C=i.get(T);if(!C)return;h.push(n.Cs.removeMatchingKeys(a,k.removedDocuments,T).next(()=>n.Cs.addMatchingKeys(a,k.addedDocuments,T)));let I=C.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.has(T)?I=I.withResumeToken(En.EMPTY_BYTE_STRING,at.min()).withLastLimboFreeSnapshotVersion(at.min()):k.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(k.resumeToken,r)),i=i.insert(T,I),function(L,N,R){return L.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-L.snapshotVersion.toMicroseconds()>=3e8?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0}(C,I,k)&&h.push(n.Cs.updateTargetData(a,I))});let f=bi(),g=st();if(e.documentUpdates.forEach(k=>{e.resolvedLimboDocuments.has(k)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(a,k))}),h.push(ML(a,l,e.documentUpdates).next(k=>{f=k.Wi,g=k.zi})),!r.isEqual(at.min())){const k=n.Cs.getLastRemoteSnapshotVersion(a).next(T=>n.Cs.setTargetsMetadata(a,a.currentSequenceNumber,r));h.push(k)}return be.waitFor(h).next(()=>l.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,f,g)).next(()=>f)}).then(a=>(n.Ui=i,a))}function ML(t,e,n){let r=st(),i=st();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let l=bi();return n.forEach((h,f)=>{const g=a.get(h);f.isFoundDocument()!==g.isFoundDocument()&&(i=i.add(h)),f.isNoDocument()&&f.version.isEqual(at.min())?(e.removeEntry(h,f.readTime),l=l.insert(h,f)):!g.isValidDocument()||f.version.compareTo(g.version)>0||f.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(f),l=l.insert(h,f)):je("LocalStore","Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",f.version)}),{Wi:l,zi:i}})}function PL(t,e){const n=tt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function LL(t,e){const n=tt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Cs.getTargetData(r,e).next(a=>a?(i=a,be.resolve(i)):n.Cs.allocateTargetId(r).next(l=>(i=new Ra(e,l,0,r.currentSequenceNumber),n.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ui.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(r.targetId,r),n.qi.set(e,r.targetId)),r})}async function mp(t,e,n){const r=tt(t),i=r.Ui.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!Ec(l))throw l;je("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ui=r.Ui.remove(e),r.qi.delete(i.target)}function A0(t,e,n){const r=tt(t);let i=at.min(),a=st();return r.persistence.runTransaction("Execute query","readonly",l=>function(h,f,g){const k=tt(h),T=k.qi.get(g);return T!==void 0?be.resolve(k.Ui.get(T)):k.Cs.getTargetData(f,g)}(r,l,yi(e)).next(h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(l,h.targetId).next(f=>{a=f})}).next(()=>r.Li.getDocumentsMatchingQuery(l,e,n?i:at.min(),n?a:st())).next(h=>(RL(r,OP(e),h),{documents:h,Hi:a})))}function RL(t,e,n){let r=at.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Ki.set(e,r)}class O0{constructor(){this.activeTargetIds=ik()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $L{constructor(){this.Lr=new O0,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,n,r){this.Ur[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new O0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{qr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){je("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){je("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.oo=n+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,n,r,i,a){const l=this.ao(e,n);je("RestConnection","Sending: ",l,r);const h={};return this.ho(h,i,a),this.lo(e,l,h,r).then(f=>(je("RestConnection","Received: ",f),f),f=>{throw h0("RestConnection",`${e} failed with error: `,f,"url: ",l,"request:",r),f})}fo(e,n,r,i,a,l){return this.co(e,n,r,i,a)}ho(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+co,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}ao(e,n){const r=UL[e];return`${this.oo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,n,r,i){return new Promise((a,l)=>{const h=new nP;h.listenOnce(ZM.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Of.NO_ERROR:const g=h.getResponseJson();je("Connection","XHR received:",JSON.stringify(g)),a(g);break;case Of.TIMEOUT:je("Connection",'RPC "'+e+'" timed out'),l(new $e(pe.DEADLINE_EXCEEDED,"Request time out"));break;case Of.HTTP_ERROR:const k=h.getStatus();if(je("Connection",'RPC "'+e+'" failed with status:',k,"response text:",h.getResponseText()),k>0){const T=h.getResponseJson().error;if(T&&T.status&&T.message){const C=function(I){const L=I.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf(L)>=0?L:pe.UNKNOWN}(T.status);l(new $e(C,T.message))}else l(new $e(pe.UNKNOWN,"Server responded with status "+h.getStatus()))}else l(new $e(pe.UNAVAILABLE,"Connection failed."));break;default:Xe()}}finally{je("Connection",'RPC "'+e+'" completed.')}});const f=JSON.stringify(i);h.send(n,"POST",f,r,15)})}_o(e,n,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=QM(),l=XM(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new tP({})),this.ho(h.initMessageHeaders,n,r),Yx()||Qx()||MD()||Xx()||PD()||Jx()||(h.httpHeadersOverwriteParam="$httpHeaders");const f=i.join("");je("Connection","Creating WebChannel: "+f,h);const g=a.createWebChannel(f,h);let k=!1,T=!1;const C=new jL({Hr:L=>{T?je("Connection","Not sending because WebChannel is closed:",L):(k||(je("Connection","Opening WebChannel transport."),g.open(),k=!0),je("Connection","WebChannel sending:",L),g.send(L))},Jr:()=>g.close()}),I=(L,N,R)=>{L.listen(N,O=>{try{R(O)}catch(A){setTimeout(()=>{throw A},0)}})};return I(g,cu.EventType.OPEN,()=>{T||je("Connection","WebChannel transport opened.")}),I(g,cu.EventType.CLOSE,()=>{T||(T=!0,je("Connection","WebChannel transport closed"),C.io())}),I(g,cu.EventType.ERROR,L=>{T||(T=!0,h0("Connection","WebChannel transport errored:",L),C.io(new $e(pe.UNAVAILABLE,"The operation could not be completed")))}),I(g,cu.EventType.MESSAGE,L=>{var N;if(!T){const R=L.data[0];kt(!!R);const O=R,A=O.error||((N=O[0])===null||N===void 0?void 0:N.error);if(A){je("Connection","WebChannel received error:",A);const $=A.status;let U=function(H){const z=Bt[H];if(z!==void 0)return ek(z)}($),j=A.message;U===void 0&&(U=pe.INTERNAL,j="Unknown error status: "+$+" with message "+A.message),T=!0,C.io(new $e(U,j)),g.close()}else je("Connection","WebChannel received:",R),C.ro(R)}}),I(l,eP.STAT_EVENT,L=>{L.stat===c0.PROXY?je("Connection","Detected buffering proxy"):L.stat===c0.NOPROXY&&je("Connection","Detected no buffering proxy")}),setTimeout(()=>{C.so()},0),C}}function Pf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sh(t){return new JP(t,!0)}class _k{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Hs=e,this.timerId=n,this.wo=r,this.mo=i,this.yo=a,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&je("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.po} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){this.Io!==null&&(this.Io.skipDelay(),this.Io=null)}cancel(){this.Io!==null&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e,n,r,i,a,l,h,f){this.Hs=e,this.Po=r,this.vo=i,this.Vo=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new _k(e,n)}No(){return this.state===1||this.state===5||this.ko()}ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Mo()}async stop(){this.No()&&await this.close(0)}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&this.Do===null&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(e,n){this.Lo(),this.Uo(),this.xo.cancel(),this.So++,e!==4?this.xo.reset():n&&n.code===pe.RESOURCE_EXHAUSTED?(vi(n.toString()),vi("Using maximum backoff delay to prevent overloading the backend."),this.xo.Eo()):n&&n.code===pe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.qo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(n)}qo(){}auth(){this.state=1;const e=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===n&&this.Go(r,i)},r=>{e(()=>{const i=new $e(pe.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,n){const r=this.Ko(this.So);this.stream=this.jo(e,n),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Mo(){this.state=5,this.xo.Ao(async()=>{this.state=0,this.start()})}Qo(e){return je("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return n=>{this.Hs.enqueueAndForget(()=>this.So===e?n():(je("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zL extends pk{constructor(e,n,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.It=a}jo(e,n){return this.Vo._o("Listen",e,n)}onMessage(e){this.xo.reset();const n=ZP(this.It,e),r=function(i){if(!("targetChange"in i))return at.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?at.min():a.readTime?di(a.readTime):at.min()}(e);return this.listener.Wo(n,r)}zo(e){const n={};n.database=pp(this.It),n.addTarget=function(i,a){let l;const h=a.target;return l=up(h)?{documents:nL(i,h)}:{query:rL(i,h)},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?l.resumeToken=ok(i,a.resumeToken):a.snapshotVersion.compareTo(at.min())>0&&(l.readTime=Ad(i,a.snapshotVersion.toTimestamp())),l}(this.It,e);const r=aL(this.It,e);r&&(n.labels=r),this.Bo(n)}Ho(e){const n={};n.database=pp(this.It),n.removeTarget=e,this.Bo(n)}}class HL extends pk{constructor(e,n,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.It=a,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,n){return this.Vo._o("Write",e,n)}onMessage(e){if(kt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const n=tL(e.writeResults,e.commitTime),r=di(e.commitTime);return this.listener.Zo(r,n)}return kt(!e.writeResults||e.writeResults.length===0),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=pp(this.It),this.Bo(e)}Xo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>eL(this.It,r))};this.Bo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BL extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.Vo=r,this.It=i,this.nu=!1}su(){if(this.nu)throw new $e(pe.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,n,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.Vo.co(e,n,r,i,a)).catch(i=>{throw i.name==="FirebaseError"?(i.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new $e(pe.UNKNOWN,i.toString())})}fo(e,n,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.Vo.fo(e,n,r,a,l,i)).catch(a=>{throw a.name==="FirebaseError"?(a.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new $e(pe.UNKNOWN,a.toString())})}terminate(){this.nu=!0}}class qL{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){this.iu===0&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){this.state==="Online"?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,e==="Online"&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(vi(n),this.ou=!1):je("OnlineStateTracker",n)}lu(){this.ru!==null&&(this.ru.cancel(),this.ru=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.qr(l=>{r.enqueueAndForget(async()=>{as(this)&&(je("RemoteStore","Restarting streams for network reachability change."),await async function(h){const f=tt(h);f._u.add(4),await Tc(f),f.gu.set("Unknown"),f._u.delete(4),await Ch(f)}(this))})}),this.gu=new qL(r,i)}}async function Ch(t){if(as(t))for(const e of t.wu)await e(!0)}async function Tc(t){for(const e of t.wu)await e(!1)}function mk(t,e){const n=tt(t);n.du.has(e.targetId)||(n.du.set(e.targetId,e),Ag(n)?Ig(n):ho(n).ko()&&Dg(n,e))}function gk(t,e){const n=tt(t),r=ho(n);n.du.delete(e),r.ko()&&vk(n,e),n.du.size===0&&(r.ko()?r.Fo():as(n)&&n.gu.set("Unknown"))}function Dg(t,e){t.yu.Ot(e.targetId),ho(t).zo(e)}function vk(t,e){t.yu.Ot(e),ho(t).Ho(e)}function Ig(t){t.yu=new GP({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),se:e=>t.du.get(e)||null}),ho(t).start(),t.gu.uu()}function Ag(t){return as(t)&&!ho(t).No()&&t.du.size>0}function as(t){return tt(t)._u.size===0}function yk(t){t.yu=void 0}async function GL(t){t.du.forEach((e,n)=>{Dg(t,e)})}async function KL(t,e){yk(t),Ag(t)?(t.gu.hu(e),Ig(t)):t.gu.set("Unknown")}async function YL(t,e,n){if(t.gu.set("Online"),e instanceof sk&&e.state===2&&e.cause)try{await async function(r,i){const a=i.cause;for(const l of i.targetIds)r.du.has(l)&&(await r.remoteSyncer.rejectListen(l,a),r.du.delete(l),r.yu.removeTarget(l))}(t,e)}catch(r){je("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Od(t,r)}else if(e instanceof Fu?t.yu.Gt(e):e instanceof ak?t.yu.Yt(e):t.yu.Wt(e),!n.isEqual(at.min()))try{const r=await fk(t.localStore);n.compareTo(r)>=0&&await function(i,a){const l=i.yu.te(a);return l.targetChanges.forEach((h,f)=>{if(h.resumeToken.approximateByteSize()>0){const g=i.du.get(f);g&&i.du.set(f,g.withResumeToken(h.resumeToken,a))}}),l.targetMismatches.forEach(h=>{const f=i.du.get(h);if(!f)return;i.du.set(h,f.withResumeToken(En.EMPTY_BYTE_STRING,f.snapshotVersion)),vk(i,h);const g=new Ra(f.target,h,1,f.sequenceNumber);Dg(i,g)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){je("RemoteStore","Failed to raise snapshot:",r),await Od(t,r)}}async function Od(t,e,n){if(!Ec(e))throw e;t._u.add(1),await Tc(t),t.gu.set("Offline"),n||(n=()=>fk(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{je("RemoteStore","Retrying IndexedDB access"),await n(),t._u.delete(1),await Ch(t)})}function bk(t,e){return e().catch(n=>Od(t,n,e))}async function Th(t){const e=tt(t),n=da(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;JL(e);)try{const i=await PL(e.localStore,r);if(i===null){e.fu.length===0&&n.Fo();break}r=i.batchId,QL(e,i)}catch(i){await Od(e,i)}wk(e)&&xk(e)}function JL(t){return as(t)&&t.fu.length<10}function QL(t,e){t.fu.push(e);const n=da(t);n.ko()&&n.Yo&&n.Xo(e.mutations)}function wk(t){return as(t)&&!da(t).No()&&t.fu.length>0}function xk(t){da(t).start()}async function XL(t){da(t).eu()}async function ZL(t){const e=da(t);for(const n of t.fu)e.Xo(n.mutations)}async function eR(t,e,n){const r=t.fu.shift(),i=Sg.from(r,e,n);await bk(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Th(t)}async function tR(t,e){e&&da(t).Yo&&await async function(n,r){if(i=r.code,zP(i)&&i!==pe.ABORTED){const a=n.fu.shift();da(n).Oo(),await bk(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,r)),await Th(n)}var i}(t,e),wk(t)&&xk(t)}async function P0(t,e){const n=tt(t);n.asyncQueue.verifyOperationInProgress(),je("RemoteStore","RemoteStore received new credentials");const r=as(n);n._u.add(3),await Tc(n),r&&n.gu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n._u.delete(3),await Ch(n)}async function nR(t,e){const n=tt(t);e?(n._u.delete(2),await Ch(n)):e||(n._u.add(2),await Tc(n),n.gu.set("Unknown"))}function ho(t){return t.pu||(t.pu=function(e,n,r){const i=tt(e);return i.su(),new zL(n,i.Vo,i.authCredentials,i.appCheckCredentials,i.It,r)}(t.datastore,t.asyncQueue,{Yr:GL.bind(null,t),Zr:KL.bind(null,t),Wo:YL.bind(null,t)}),t.wu.push(async e=>{e?(t.pu.Oo(),Ag(t)?Ig(t):t.gu.set("Unknown")):(await t.pu.stop(),yk(t))})),t.pu}function da(t){return t.Iu||(t.Iu=function(e,n,r){const i=tt(e);return i.su(),new HL(n,i.Vo,i.authCredentials,i.appCheckCredentials,i.It,r)}(t.datastore,t.asyncQueue,{Yr:XL.bind(null,t),Zr:tR.bind(null,t),tu:ZL.bind(null,t),Zo:eR.bind(null,t)}),t.wu.push(async e=>{e?(t.Iu.Oo(),await Th(t)):(await t.Iu.stop(),t.fu.length>0&&(je("RemoteStore",`Stopping write stream with ${t.fu.length} pending writes`),t.fu=[]))})),t.Iu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new ui,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,n,r,i,a){const l=Date.now()+r,h=new Og(e,n,l,i,a);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $e(pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mg(t,e){if(vi("AsyncQueue",`${e}: ${t}`),Ec(t))return new $e(pe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ve.comparator(n.key,r.key):(n,r)=>Ve.comparator(n.key,r.key),this.keyedMap=zo(),this.sortedSet=new nn(this.comparator)}static emptySet(e){return new Ls(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ls)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ls;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(){this.Tu=new nn(Ve.comparator)}track(e){const n=e.doc.key,r=this.Tu.get(n);r?e.type!==0&&r.type===3?this.Tu=this.Tu.insert(n,e):e.type===3&&r.type!==1?this.Tu=this.Tu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Tu=this.Tu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Tu=this.Tu.remove(n):e.type===1&&r.type===2?this.Tu=this.Tu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):Xe():this.Tu=this.Tu.insert(n,e)}Eu(){const e=[];return this.Tu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Js{constructor(e,n,r,i,a,l,h,f){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=h,this.excludesMetadataChanges=f}static fromInitialDocuments(e,n,r,i){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new Js(e,n,Ls.emptySet(n),a,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(){this.Au=void 0,this.listeners=[]}}class iR{constructor(){this.queries=new uo(e=>zE(e),wh),this.onlineState="Unknown",this.Ru=new Set}}async function Pg(t,e){const n=tt(t),r=e.query;let i=!1,a=n.queries.get(r);if(a||(i=!0,a=new rR),i)try{a.Au=await n.onListen(r)}catch(l){const h=Mg(l,`Initialization of query '${hp(e.query)}' failed`);return void e.onError(h)}n.queries.set(r,a),a.listeners.push(e),e.bu(n.onlineState),a.Au&&e.Pu(a.Au)&&Rg(n)}async function Lg(t,e){const n=tt(t),r=e.query;let i=!1;const a=n.queries.get(r);if(a){const l=a.listeners.indexOf(e);l>=0&&(a.listeners.splice(l,1),i=a.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function aR(t,e){const n=tt(t);let r=!1;for(const i of e){const a=i.query,l=n.queries.get(a);if(l){for(const h of l.listeners)h.Pu(i)&&(r=!0);l.Au=i}}r&&Rg(n)}function sR(t,e,n){const r=tt(t),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(n);r.queries.delete(e)}function Rg(t){t.Ru.forEach(e=>{e.next()})}class $g{constructor(e,n,r){this.query=e,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Js(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),n=!0):this.Cu(e,this.onlineState)&&(this.xu(e),n=!0),this.Su=e,n}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let n=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),n=!0),n}Cu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Nu||!r)&&(!e.docs.isEmpty()||n==="Offline")}Du(e){if(e.docChanges.length>0)return!0;const n=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}xu(e){e=Js.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e){this.key=e}}class kk{constructor(e){this.key=e}}class oR{constructor(e,n){this.query=e,this.Lu=n,this.Uu=null,this.current=!1,this.qu=st(),this.mutatedKeys=st(),this.Ku=HE(e),this.Gu=new Ls(this.Ku)}get Qu(){return this.Lu}ju(e,n){const r=n?n.Wu:new L0,i=n?n.Gu:this.Gu;let a=n?n.mutatedKeys:this.mutatedKeys,l=i,h=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,g=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((k,T)=>{const C=i.get(k),I=xg(this.query,T)?T:null,L=!!C&&this.mutatedKeys.has(C.key),N=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let R=!1;C&&I?C.data.isEqual(I.data)?L!==N&&(r.track({type:3,doc:I}),R=!0):this.zu(C,I)||(r.track({type:2,doc:I}),R=!0,(f&&this.Ku(I,f)>0||g&&this.Ku(I,g)<0)&&(h=!0)):!C&&I?(r.track({type:0,doc:I}),R=!0):C&&!I&&(r.track({type:1,doc:C}),R=!0,(f||g)&&(h=!0)),R&&(I?(l=l.add(I),a=N?a.add(k):a.delete(k)):(l=l.delete(k),a=a.delete(k)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const k=this.query.limitType==="F"?l.last():l.first();l=l.delete(k.key),a=a.delete(k.key),r.track({type:1,doc:k})}return{Gu:l,Wu:r,$i:h,mutatedKeys:a}}zu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const a=e.Wu.Eu();a.sort((g,k)=>function(T,C){const I=L=>{switch(L){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xe()}};return I(T)-I(C)}(g.type,k.type)||this.Ku(g.doc,k.doc)),this.Hu(r);const l=n?this.Ju():[],h=this.qu.size===0&&this.current?1:0,f=h!==this.Uu;return this.Uu=h,a.length!==0||f?{snapshot:new Js(this.query,e.Gu,i,a,e.mutatedKeys,h===0,f,!1),Yu:l}:{Yu:l}}bu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new L0,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(n=>this.Lu=this.Lu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Lu=this.Lu.delete(n)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=st(),this.Gu.forEach(r=>{this.Xu(r.key)&&(this.qu=this.qu.add(r.key))});const n=[];return e.forEach(r=>{this.qu.has(r)||n.push(new kk(r))}),this.qu.forEach(r=>{e.has(r)||n.push(new Ek(r))}),n}Zu(e){this.Lu=e.Hi,this.qu=st();const n=this.ju(e.documents);return this.applyChanges(n,!0)}tc(){return Js.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,this.Uu===0)}}class lR{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class cR{constructor(e){this.key=e,this.ec=!1}}class uR{constructor(e,n,r,i,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.nc={},this.sc=new uo(h=>zE(h),wh),this.ic=new Map,this.rc=new Set,this.oc=new nn(Ve.comparator),this.uc=new Map,this.cc=new Cg,this.ac={},this.hc=new Map,this.lc=Ys.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return this.fc===!0}}async function dR(t,e){const n=wR(t);let r,i;const a=n.sc.get(e);if(a)r=a.targetId,n.sharedClientState.addLocalQueryTarget(r),i=a.view.tc();else{const l=await LL(n.localStore,yi(e));n.isPrimaryClient&&mk(n.remoteStore,l);const h=n.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,i=await hR(n,e,r,h==="current")}return i}async function hR(t,e,n,r){t.dc=(k,T,C)=>async function(I,L,N,R){let O=L.view.ju(N);O.$i&&(O=await A0(I.localStore,L.query,!1).then(({documents:U})=>L.view.ju(U,O)));const A=R&&R.targetChanges.get(L.targetId),$=L.view.applyChanges(O,I.isPrimaryClient,A);return $0(I,L.targetId,$.Yu),$.snapshot}(t,k,T,C);const i=await A0(t.localStore,e,!0),a=new oR(e,i.Hi),l=a.ju(i.documents),h=Cc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline"),f=a.applyChanges(l,t.isPrimaryClient,h);$0(t,n,f.Yu);const g=new lR(e,n,a);return t.sc.set(e,g),t.ic.has(n)?t.ic.get(n).push(e):t.ic.set(n,[e]),f.snapshot}async function fR(t,e){const n=tt(t),r=n.sc.get(e),i=n.ic.get(r.targetId);if(i.length>1)return n.ic.set(r.targetId,i.filter(a=>!wh(a,e))),void n.sc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await mp(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),gk(n.remoteStore,r.targetId),gp(n,r.targetId)}).catch(xc)):(gp(n,r.targetId),await mp(n.localStore,r.targetId,!0))}async function _R(t,e,n){const r=xR(t);try{const i=await function(a,l){const h=tt(a),f=en.now(),g=l.reduce((C,I)=>C.add(I.key),st());let k,T;return h.persistence.runTransaction("Locally write mutations","readwrite",C=>{let I=bi(),L=st();return h.Gi.getEntries(C,g).next(N=>{I=N,I.forEach((R,O)=>{O.isValidDocument()||(L=L.add(R))})}).next(()=>h.localDocuments.getOverlayedDocuments(C,I)).next(N=>{k=N;const R=[];for(const O of l){const A=UP(O,k.get(O.key).overlayedDocument);A!=null&&R.push(new ga(O.key,A,$E(A.value.mapValue),Cr.exists(!0)))}return h.mutationQueue.addMutationBatch(C,f,R,l)}).next(N=>{T=N;const R=N.applyToLocalDocumentSet(k,L);return h.documentOverlayCache.saveOverlays(C,N.batchId,R)})}).then(()=>({batchId:T.batchId,changes:nk(k)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,l,h){let f=a.ac[a.currentUser.toKey()];f||(f=new nn(gt)),f=f.insert(l,h),a.ac[a.currentUser.toKey()]=f}(r,i.batchId,n),await Nc(r,i.changes),await Th(r.remoteStore)}catch(i){const a=Mg(i,"Failed to persist write");n.reject(a)}}async function Sk(t,e){const n=tt(t);try{const r=await OL(n.localStore,e);e.targetChanges.forEach((i,a)=>{const l=n.uc.get(a);l&&(kt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.ec=!0:i.modifiedDocuments.size>0?kt(l.ec):i.removedDocuments.size>0&&(kt(l.ec),l.ec=!1))}),await Nc(n,r,e)}catch(r){await xc(r)}}function R0(t,e,n){const r=tt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.sc.forEach((a,l)=>{const h=l.view.bu(e);h.snapshot&&i.push(h.snapshot)}),function(a,l){const h=tt(a);h.onlineState=l;let f=!1;h.queries.forEach((g,k)=>{for(const T of k.listeners)T.bu(l)&&(f=!0)}),f&&Rg(h)}(r.eventManager,e),i.length&&r.nc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function pR(t,e,n){const r=tt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.uc.get(e),a=i&&i.key;if(a){let l=new nn(Ve.comparator);l=l.insert(a,mn.newNoDocument(a,at.min()));const h=st().add(a),f=new kh(at.min(),new Map,new tn(gt),l,h);await Sk(r,f),r.oc=r.oc.remove(a),r.uc.delete(e),Fg(r)}else await mp(r.localStore,e,!1).then(()=>gp(r,e,n)).catch(xc)}async function mR(t,e){const n=tt(t),r=e.batch.batchId;try{const i=await AL(n.localStore,e);Tk(n,r,null),Ck(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Nc(n,i)}catch(i){await xc(i)}}async function gR(t,e,n){const r=tt(t);try{const i=await function(a,l){const h=tt(a);return h.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let g;return h.mutationQueue.lookupMutationBatch(f,l).next(k=>(kt(k!==null),g=k.keys(),h.mutationQueue.removeMutationBatch(f,k))).next(()=>h.mutationQueue.performConsistencyCheck(f)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(f,g,l)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,g)).next(()=>h.localDocuments.getDocuments(f,g))})}(r.localStore,e);Tk(r,e,n),Ck(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Nc(r,i)}catch(i){await xc(i)}}function Ck(t,e){(t.hc.get(e)||[]).forEach(n=>{n.resolve()}),t.hc.delete(e)}function Tk(t,e,n){const r=tt(t);let i=r.ac[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.ac[r.currentUser.toKey()]=i}}function gp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ic.get(e))t.sc.delete(r),n&&t.nc._c(r,n);t.ic.delete(e),t.isPrimaryClient&&t.cc.ls(e).forEach(r=>{t.cc.containsKey(r)||Nk(t,r)})}function Nk(t,e){t.rc.delete(e.path.canonicalString());const n=t.oc.get(e);n!==null&&(gk(t.remoteStore,n),t.oc=t.oc.remove(e),t.uc.delete(n),Fg(t))}function $0(t,e,n){for(const r of n)r instanceof Ek?(t.cc.addReference(r.key,e),vR(t,r)):r instanceof kk?(je("SyncEngine","Document no longer in limbo: "+r.key),t.cc.removeReference(r.key,e),t.cc.containsKey(r.key)||Nk(t,r.key)):Xe()}function vR(t,e){const n=e.key,r=n.path.canonicalString();t.oc.get(n)||t.rc.has(r)||(je("SyncEngine","New document in limbo: "+n),t.rc.add(r),Fg(t))}function Fg(t){for(;t.rc.size>0&&t.oc.size<t.maxConcurrentLimboResolutions;){const e=t.rc.values().next().value;t.rc.delete(e);const n=new Ve(Dt.fromString(e)),r=t.lc.next();t.uc.set(r,new cR(n)),t.oc=t.oc.insert(n,r),mk(t.remoteStore,new Ra(yi(bh(n.path)),r,2,vg.at))}}async function Nc(t,e,n){const r=tt(t),i=[],a=[],l=[];r.sc.isEmpty()||(r.sc.forEach((h,f)=>{l.push(r.dc(f,e,n).then(g=>{if(g){r.isPrimaryClient&&r.sharedClientState.updateQueryState(f.targetId,g.fromCache?"not-current":"current"),i.push(g);const k=Ng.Ci(f.targetId,g);a.push(k)}}))}),await Promise.all(l),r.nc.Wo(i),await async function(h,f){const g=tt(h);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",k=>be.forEach(f,T=>be.forEach(T.Si,C=>g.persistence.referenceDelegate.addReference(k,T.targetId,C)).next(()=>be.forEach(T.Di,C=>g.persistence.referenceDelegate.removeReference(k,T.targetId,C)))))}catch(k){if(!Ec(k))throw k;je("LocalStore","Failed to update sequence numbers: "+k)}for(const k of f){const T=k.targetId;if(!k.fromCache){const C=g.Ui.get(T),I=C.snapshotVersion,L=C.withLastLimboFreeSnapshotVersion(I);g.Ui=g.Ui.insert(T,L)}}}(r.localStore,a))}async function yR(t,e){const n=tt(t);if(!n.currentUser.isEqual(e)){je("SyncEngine","User change. New user:",e.toKey());const r=await hk(n.localStore,e);n.currentUser=e,function(i,a){i.hc.forEach(l=>{l.forEach(h=>{h.reject(new $e(pe.CANCELLED,a))})}),i.hc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Nc(n,r.ji)}}function bR(t,e){const n=tt(t),r=n.uc.get(e);if(r&&r.ec)return st().add(r.key);{let i=st();const a=n.ic.get(e);if(!a)return i;for(const l of a){const h=n.sc.get(l);i=i.unionWith(h.view.Qu)}return i}}function wR(t){const e=tt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Sk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pR.bind(null,e),e.nc.Wo=aR.bind(null,e.eventManager),e.nc._c=sR.bind(null,e.eventManager),e}function xR(t){const e=tt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gR.bind(null,e),e}class ER{constructor(){this.synchronizeTabs=!1}async initialize(e){this.It=Sh(e.databaseInfo.databaseId),this.sharedClientState=this.mc(e),this.persistence=this.gc(e),await this.persistence.start(),this.localStore=this.yc(e),this.gcScheduler=this.Ic(e,this.localStore),this.indexBackfillerScheduler=this.Tc(e,this.localStore)}Ic(e,n){return null}Tc(e,n){return null}yc(e){return IL(this.persistence,new NL,e.initialUser,this.It)}gc(e){return new CL(Tg.Bs,this.It)}mc(e){return new $L}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class kR{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>R0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=yR.bind(null,this.syncEngine),await nR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new iR}createDatastore(e){const n=Sh(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new VL(i));var i;return function(a,l,h,f){return new BL(a,l,h,f)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,a=h=>R0(this.syncEngine,h,0),l=M0.C()?new M0:new FL,new WL(n,r,i,a,l);var n,r,i,a,l}createSyncEngine(e,n){return function(r,i,a,l,h,f,g){const k=new uR(r,i,a,l,h,f);return g&&(k.fc=!0),k}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=tt(e);je("RemoteStore","RemoteStore shutting down."),n._u.add(5),await Tc(n),n.mu.shutdown(),n.gu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ug{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):vi("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Kn.UNAUTHENTICATED,this.clientId=ME.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async a=>{je("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(je("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new $e(pe.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ui;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Mg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function CR(t,e){t.asyncQueue.verifyOperationInProgress(),je("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await hk(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function TR(t,e){t.asyncQueue.verifyOperationInProgress();const n=await NR(t);je("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>P0(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,a)=>P0(e.remoteStore,a)),t.onlineComponents=e}async function NR(t){return t.offlineComponents||(je("FirestoreClient","Using default OfflineComponentProvider"),await CR(t,new ER)),t.offlineComponents}async function Dk(t){return t.onlineComponents||(je("FirestoreClient","Using default OnlineComponentProvider"),await TR(t,new kR)),t.onlineComponents}function DR(t){return Dk(t).then(e=>e.syncEngine)}async function Md(t){const e=await Dk(t),n=e.eventManager;return n.onListen=dR.bind(null,e.syncEngine),n.onUnlisten=fR.bind(null,e.syncEngine),n}function IR(t,e,n={}){const r=new ui;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,l,h,f){const g=new Ug({next:T=>{a.enqueueAndForget(()=>Lg(i,k));const C=T.docs.has(l);!C&&T.fromCache?f.reject(new $e(pe.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&T.fromCache&&h&&h.source==="server"?f.reject(new $e(pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(T)},error:T=>f.reject(T)}),k=new $g(bh(l.path),g,{includeMetadataChanges:!0,Nu:!0});return Pg(i,k)}(await Md(t),t.asyncQueue,e,n,r)),r.promise}function AR(t,e,n={}){const r=new ui;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,l,h,f){const g=new Ug({next:T=>{a.enqueueAndForget(()=>Lg(i,k)),T.fromCache&&h.source==="server"?f.reject(new $e(pe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(T)},error:T=>f.reject(T)}),k=new $g(l,g,{includeMetadataChanges:!0,Nu:!0});return Pg(i,k)}(await Md(t),t.asyncQueue,e,n,r)),r.promise}const F0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ik(t,e,n){if(!n)throw new $e(pe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function OR(t,e,n,r){if(e===!0&&r===!0)throw new $e(pe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function U0(t){if(!Ve.isDocumentKey(t))throw new $e(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function j0(t){if(Ve.isDocumentKey(t))throw new $e(pe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Nh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Xe()}function ur(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new $e(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Nh(t);throw new $e(pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new $e(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new $e(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,OR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jg{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new V0({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new $e(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new $e(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new V0(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new iP;switch(n.type){case"gapi":const r=n.client;return new oP(r,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new $e(pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=F0.get(e);n&&(je("ComponentProvider","Removing Datastore"),F0.delete(e),n.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ra(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new On(this.firestore,e,this._key)}}class fo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fo(this.firestore,e,this._query)}}class ra extends fo{constructor(e,n,r){super(e,n,bh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new On(this.firestore,null,new Ve(e))}withConverter(e){return new ra(this.firestore,e,this._path)}}function nr(t,e,...n){if(t=xn(t),Ik("collection","path",e),t instanceof jg){const r=Dt.fromString(e,...n);return j0(r),new ra(t,null,r)}{if(!(t instanceof On||t instanceof ra))throw new $e(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Dt.fromString(e,...n));return j0(r),new ra(t.firestore,null,r)}}function nt(t,e,...n){if(t=xn(t),arguments.length===1&&(e=ME.R()),Ik("doc","path",e),t instanceof jg){const r=Dt.fromString(e,...n);return U0(r),new On(t,null,new Ve(r))}{if(!(t instanceof On||t instanceof ra))throw new $e(pe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Dt.fromString(e,...n));return U0(r),new On(t.firestore,t instanceof ra?t.converter:null,new Ve(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new _k(this,"async_queue_retry"),this.jc=()=>{const n=Pf();n&&je("AsyncQueue","Visibility state changed to "+n.visibilityState),this.xo.bo()};const e=Pf();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const n=Pf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const n=new ui;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}async Hc(){if(this.Bc.length!==0){try{await this.Bc[0](),this.Bc.shift(),this.xo.reset()}catch(e){if(!Ec(e))throw e;je("AsyncQueue","Operation failed with retryable error: "+e)}this.Bc.length>0&&this.xo.Ao(()=>this.Hc())}}zc(e){const n=this.$c.then(()=>(this.Kc=!0,e().catch(r=>{this.qc=r,this.Kc=!1;const i=function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),l}(r);throw vi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Kc=!1,r))));return this.$c=n,n}enqueueAfterDelay(e,n,r){this.Wc(),this.Qc.indexOf(e)>-1&&(n=0);const i=Og.createAndSchedule(this,e,n,r,a=>this.Jc(a));return this.Uc.push(i),i}Wc(){this.qc&&Xe()}verifyOperationInProgress(){}async Yc(){let e;do e=this.$c,await e;while(e!==this.$c)}Xc(e){for(const n of this.Uc)if(n.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const n=this.Uc.indexOf(e);this.Uc.splice(n,1)}}function z0(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class wi extends jg{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new MR,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Ak(this),this._firestoreClient.terminate()}}function $t(t,e){const n=typeof t=="object"?t:n1(),r=typeof t=="string"?t:e||"(default)";return $m(n,"firestore").getImmediate({identifier:r})}function Dh(t){return t._firestoreClient||Ak(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Ak(t){var e;const n=t._freezeSettings(),r=function(i,a,l,h){return new vP(i,a,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new SR(t._authCredentials,t._appCheckCredentials,t._queue,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new $e(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new In(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qs(En.fromBase64String(e))}catch(n){throw new $e(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Qs(En.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new $e(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new $e(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return gt(this._lat,e._lat)||gt(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR=/^__.*__$/;class LR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ga(e,this.data,this.fieldMask,n,this.fieldTransforms):new Sc(e,this.data,n,this.fieldTransforms)}}class Ok{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ga(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Mk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xe()}}class zg{constructor(e,n,r,i,a,l){this.settings=e,this.databaseId=n,this.It=r,this.ignoreUndefinedProperties=i,a===void 0&&this.ea(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new zg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.sa({path:r,ra:!1});return i.oa(e),i}ua(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.sa({path:r,ra:!1});return i.ea(),i}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return Pd(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(e.length===0)throw this.aa("Document fields must not be empty");if(Mk(this.na)&&PR.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class RR{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.It=r||Sh(e)}fa(e,n,r,i=!1){return new zg({na:e,methodName:n,la:r,path:In.emptyPath(),ra:!1,ha:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Ah(t){const e=t._freezeSettings(),n=Sh(t._databaseId);return new RR(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Pk(t,e,n,r,i,a={}){const l=t.fa(a.merge||a.mergeFields?2:0,e,n,i);Bg("Data must be an object, but it was:",l,r);const h=Lk(r,l);let f,g;if(a.merge)f=new Sr(l.fieldMask),g=l.fieldTransforms;else if(a.mergeFields){const k=[];for(const T of a.mergeFields){const C=vp(e,T,n);if(!l.contains(C))throw new $e(pe.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);$k(k,C)||k.push(C)}f=new Sr(k),g=l.fieldTransforms.filter(T=>f.covers(T.field))}else f=null,g=l.fieldTransforms;return new LR(new Qn(h),f,g)}class Oh extends Dc{_toFieldTransform(e){if(e.na!==2)throw e.na===1?e.aa(`${this._methodName}() can only appear at the top level of your update data`):e.aa(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Oh}}class Hg extends Dc{_toFieldTransform(e){return new QE(e.path,new Hl)}isEqual(e){return e instanceof Hg}}class $R extends Dc{constructor(e,n){super(e),this._a=n}_toFieldTransform(e){const n=new Wl(e.It,WE(e.It,this._a));return new QE(e.path,n)}isEqual(e){return this===e}}function FR(t,e,n,r){const i=t.fa(1,e,n);Bg("Data must be an object, but it was:",i,r);const a=[],l=Qn.empty();is(r,(f,g)=>{const k=qg(e,f,n);g=xn(g);const T=i.ua(k);if(g instanceof Oh)a.push(k);else{const C=Ic(g,T);C!=null&&(a.push(k),l.set(k,C))}});const h=new Sr(a);return new Ok(l,h,i.fieldTransforms)}function UR(t,e,n,r,i,a){const l=t.fa(1,e,n),h=[vp(e,r,n)],f=[i];if(a.length%2!=0)throw new $e(pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<a.length;C+=2)h.push(vp(e,a[C])),f.push(a[C+1]);const g=[],k=Qn.empty();for(let C=h.length-1;C>=0;--C)if(!$k(g,h[C])){const I=h[C];let L=f[C];L=xn(L);const N=l.ua(I);if(L instanceof Oh)g.push(I);else{const R=Ic(L,N);R!=null&&(g.push(I),k.set(I,R))}}const T=new Sr(g);return new Ok(k,T,l.fieldTransforms)}function jR(t,e,n,r=!1){return Ic(n,t.fa(r?4:3,e))}function Ic(t,e){if(Rk(t=xn(t)))return Bg("Unsupported field value:",e,t),Lk(t,e);if(t instanceof Dc)return function(n,r){if(!Mk(r.na))throw r.aa(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.aa(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ra&&e.na!==4)throw e.aa("Nested arrays are not supported");return function(n,r){const i=[];let a=0;for(const l of n){let h=Ic(l,r.ca(a));h==null&&(h={nullValue:"NULL_VALUE"}),i.push(h),a++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=xn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return WE(r.It,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=en.fromDate(n);return{timestampValue:Ad(r.It,i)}}if(n instanceof en){const i=new en(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Ad(r.It,i)}}if(n instanceof Vg)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Qs)return{bytesValue:ok(r.It,n._byteString)};if(n instanceof On){const i=r.databaseId,a=n.firestore._databaseId;if(!a.isEqual(i))throw r.aa(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:kg(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.aa(`Unsupported field value: ${Nh(n)}`)}(t,e)}function Lk(t,e){const n={};return PE(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):is(t,(r,i)=>{const a=Ic(i,e.ia(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function Rk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof en||t instanceof Vg||t instanceof Qs||t instanceof On||t instanceof Dc)}function Bg(t,e,n){if(!Rk(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Nh(n);throw r==="an object"?e.aa(t+" a custom object"):e.aa(t+" "+r)}}function vp(t,e,n){if((e=xn(e))instanceof Ih)return e._internalPath;if(typeof e=="string")return qg(t,e);throw Pd("Field path arguments must be of type string or ",t,!1,void 0,n)}const VR=new RegExp("[~\\*/\\[\\]]");function qg(t,e,n){if(e.search(VR)>=0)throw Pd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ih(...e.split("."))._internalPath}catch{throw Pd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Pd(t,e,n,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(a||l)&&(f+=" (found",a&&(f+=` in field ${r}`),l&&(f+=` in document ${i}`),f+=")"),new $e(pe.INVALID_ARGUMENT,h+t+f)}function $k(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new On(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new zR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Wg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class zR extends Fk{data(){return super.data()}}function Wg(t,e){return typeof e=="string"?qg(t,e):e instanceof Ih?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Uk extends Fk{constructor(e,n,r,i,a,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Uu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Wg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Uu extends Uk{data(e={}){return super.data(e)}}class jk{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Ho(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Uu(this._firestore,this._userDataWriter,r.key,r,new Ho(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new $e(pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new Uu(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Ho(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const h=new Uu(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Ho(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let f=-1,g=-1;return l.type!==0&&(f=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),g=a.indexOf(l.doc.key)),{type:HR(l.type),doc:h,oldIndex:f,newIndex:g}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function HR(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vk(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new $e(pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class BR{}function Gl(t,...e){for(const n of e)t=n._apply(t);return t}class qR extends BR{constructor(e,n,r){super(),this.wa=e,this.ma=n,this.ga=r,this.type="where"}_apply(e){const n=Ah(e.firestore),r=function(i,a,l,h,f,g,k){let T;if(f.isKeyField()){if(g==="array-contains"||g==="array-contains-any")throw new $e(pe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${g}' queries on documentId().`);if(g==="in"||g==="not-in"){B0(k,g);const I=[];for(const L of k)I.push(H0(h,i,L));T={arrayValue:{values:I}}}else T=H0(h,i,k)}else g!=="in"&&g!=="not-in"&&g!=="array-contains-any"||B0(k,g),T=jR(l,a,k,g==="in"||g==="not-in");const C=Vn.create(f,g,T);return function(I,L){if(L.dt()){const R=jE(I);if(R!==null&&!R.isEqual(L.field))throw new $e(pe.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${R.toString()}' and '${L.field.toString()}'`);const O=UE(I);O!==null&&WR(I,L.field,O)}const N=function(R,O){for(const A of R.filters)if(O.indexOf(A.op)>=0)return A.op;return null}(I,function(R){switch(R){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(L.op));if(N!==null)throw N===L.op?new $e(pe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${L.op.toString()}' filter.`):new $e(pe.INVALID_ARGUMENT,`Invalid query. You cannot use '${L.op.toString()}' filters with '${N.toString()}' filters.`)}(i,C),C}(e._query,"where",n,e.firestore._databaseId,this.wa,this.ma,this.ga);return new fo(e.firestore,e.converter,function(i,a){const l=i.filters.concat([a]);return new kc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),l,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function yp(t,e,n){const r=e,i=Wg("where",t);return new qR(i,r,n)}function H0(t,e,n){if(typeof(n=xn(n))=="string"){if(n==="")throw new $e(pe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!VE(e)&&n.indexOf("/")!==-1)throw new $e(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Dt.fromString(n));if(!Ve.isDocumentKey(r))throw new $e(pe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return m0(t,new Ve(r))}if(n instanceof On)return m0(t,n._key);throw new $e(pe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nh(n)}.`)}function B0(t,e){if(!Array.isArray(t)||t.length===0)throw new $e(pe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new $e(pe.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function WR(t,e,n){if(!n.isEqual(e))throw new $e(pe.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{convertValue(e,n="none"){switch(Xa(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Gs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Xe()}}convertObject(e,n){const r={};return is(e.fields,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertGeoPoint(e){return new Vg(Gt(e.latitude),Gt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=RE(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ul(e));default:return null}}convertTimestamp(e){const n=ua(e);return new en(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Dt.fromString(e);kt(dk(r));const i=new jl(r.get(1),r.get(3)),a=new Ve(r.popFirst(5));return i.isEqual(n)||vi(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zk(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xs(t){t=ur(t,On);const e=ur(t.firestore,wi);return IR(Dh(e),t._key).then(n=>Hk(e,t,n))}class Gg extends GR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new On(this.firestore,null,n)}}function xi(t){t=ur(t,fo);const e=ur(t.firestore,wi),n=Dh(e),r=new Gg(e);return Vk(t._query),AR(n,t._query).then(i=>new jk(e,r,t,i))}function ia(t,e,n){t=ur(t,On);const r=ur(t.firestore,wi),i=zk(t.converter,e,n);return Mh(r,[Pk(Ah(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Cr.none())])}function Et(t,e,n,...r){t=ur(t,On);const i=ur(t.firestore,wi),a=Ah(i);let l;return l=typeof(e=xn(e))=="string"||e instanceof Ih?UR(a,"updateDoc",t._key,e,n,r):FR(a,"updateDoc",t._key,e),Mh(i,[l.toMutation(t._key,Cr.exists(!0))])}function q0(t){return Mh(ur(t.firestore,wi),[new Eg(t._key,Cr.none())])}function Ac(t,e){const n=ur(t.firestore,wi),r=nt(t),i=zk(t.converter,e);return Mh(n,[Pk(Ah(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Cr.exists(!1))]).then(()=>r)}function KR(t,...e){var n,r,i;t=xn(t);let a={includeMetadataChanges:!1},l=0;typeof e[l]!="object"||z0(e[l])||(a=e[l],l++);const h={includeMetadataChanges:a.includeMetadataChanges};if(z0(e[l])){const T=e[l];e[l]=(n=T.next)===null||n===void 0?void 0:n.bind(T),e[l+1]=(r=T.error)===null||r===void 0?void 0:r.bind(T),e[l+2]=(i=T.complete)===null||i===void 0?void 0:i.bind(T)}let f,g,k;if(t instanceof On)g=ur(t.firestore,wi),k=bh(t._key.path),f={next:T=>{e[l]&&e[l](Hk(g,t,T))},error:e[l+1],complete:e[l+2]};else{const T=ur(t,fo);g=ur(T.firestore,wi),k=T._query;const C=new Gg(g);f={next:I=>{e[l]&&e[l](new jk(g,C,T,I))},error:e[l+1],complete:e[l+2]},Vk(t._query)}return function(T,C,I,L){const N=new Ug(L),R=new $g(C,N,I);return T.asyncQueue.enqueueAndForget(async()=>Pg(await Md(T),R)),()=>{N.Rc(),T.asyncQueue.enqueueAndForget(async()=>Lg(await Md(T),R))}}(Dh(g),k,h,f)}function Mh(t,e){return function(n,r){const i=new ui;return n.asyncQueue.enqueueAndForget(async()=>_R(await DR(n),r,i)),i.promise}(Dh(t),e)}function Hk(t,e,n){const r=n.docs.get(e._key),i=new Gg(t);return new Uk(t,i,e._key,r,new Ho(n.hasPendingWrites,n.fromCache),e.converter)}function Oc(){return new Hg("serverTimestamp")}function ln(t){return new $R("increment",t)}(function(t,e=!0){(function(n){co=n})(sc),Bs(new Ba("firestore",(n,{instanceIdentifier:r,options:i})=>{const a=n.getProvider("app").getImmediate(),l=new wi(new aP(n.getProvider("auth-internal")),new cP(n.getProvider("app-check-internal")),function(h,f){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new $e(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jl(h.options.projectId,f)}(a,r),a);return i=Object.assign({useFetchStreams:e},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),na(u0,"3.4.15",t),na(u0,"3.4.15","esm2017")})();var Ph={exports:{}},Lh={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YR=ae.exports,JR=Symbol.for("react.element"),QR=Symbol.for("react.fragment"),XR=Object.prototype.hasOwnProperty,ZR=YR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,e$={key:!0,ref:!0,__self:!0,__source:!0};function Bk(t,e,n){var r,i={},a=null,l=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(l=e.ref);for(r in e)XR.call(e,r)&&!e$.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:JR,type:t,key:a,ref:l,props:i,_owner:ZR.current}}Lh.Fragment=QR;Lh.jsx=Bk;Lh.jsxs=Bk;(function(t){t.exports=Lh})(Ph);const Jt=Ph.exports.Fragment,P=Ph.exports.jsx,ee=Ph.exports.jsxs,qk=ae.exports.createContext(),t$=({children:t})=>{$t();const[e,n]=ae.exports.useState({}),r=(l,h)=>PA(au,l,h),i=(l,h)=>LA(au,l,h),a=()=>$A(au);return ae.exports.useEffect(()=>{const l=RA(au,h=>{n(h)});return()=>{l()}},[]),P(qk.Provider,{value:{createUser:r,userLogged:e,logOut:a,signIn:i},children:t})},ir=()=>ae.exports.useContext(qk),Wk=ae.exports.createContext(),n$=({children:t})=>{const e=$t(),{userLogged:n}=ir(),[r,i]=ae.exports.useState({});return ae.exports.useEffect(()=>{if(n){const a=KR(nt(e,`Users/${n.uid}`),l=>{const h=l.data(),f={uid:n.uid,email:n.email,role:h.role,form:h,newNotifications:h.newNotifications,notifications:h.notifications,misClases:{actualClass:h.actualClass,durationClass:h.durationClass,remainingClases:h.remainingClases,completedClases:h.completedClases,absentedClases:h.absentedClases,teacherUid:h.teacherUid,teacher:h.teacher,reprogramedThisMonth:h.reprogramedThisMonth}};i(f)});return()=>{a()}}else i({})},[n]),P(Wk.Provider,{value:{user:r},children:t})},Sn=()=>ae.exports.useContext(Wk);const r$=[{title:"Mi Perfil",path:"/Account",cName:"dropdown-link"},{title:"Mi Panel",path:"/Panel",cName:"dropdown-link"},{title:"Mis Notificaciones",path:"/MisNotificaciones",cName:"dropdown-link"}];const i$=()=>{const{logOut:t}=ir(),[e,n]=ae.exports.useState(!1);Wn();const r=()=>n(!e),i=async()=>{n(!1);try{await t(),swal("BYE!","sesion Finalizada!","success")}catch(a){console.log(a.message)}};return P("div",{children:ee("ul",{onClick:r,className:e?"dropdown-menu clicked":"dropdown-menu",children:[r$.map((a,l)=>P("li",{children:P(qt,{className:a.cName,to:a.path,onClick:()=>n(!1),children:a.title})},l)),P("li",{children:P(qt,{className:"dropdown-link",to:"/signIn",onClick:i,children:"Cerrar Sesi\xF3n"})})]})})},Gk="/assets/logo.f1e9716b.svg",a$="/assets/userButton.41779263.png",s$="/assets/turn-notifications-on-button.500c9c80.png",o$=()=>{const{user:t}=Sn();return P("div",{children:ee("div",{className:"notificaciones",children:[P("img",{src:s$,alt:"notifications.png"}),t&&t.notifications>0?P("p",{children:t.notifications}):""]})})};const l$=()=>{const{userLogged:t,logOut:e}=ir(),n=Wn(),[r,i]=ae.exports.useState(!1),[a,l]=ae.exports.useState(!1),h=()=>i(!r),f=()=>i(!1);return P("div",{children:ee("nav",{className:"navbar",children:[P(qt,{to:"/",className:"navbar-logo",children:P("img",{src:Gk,alt:"NAVIS LOGO"})}),t?ee("div",{children:[ee("div",{className:"mobile-menu",children:[P("div",{className:"menu-icon",onClick:h,children:P("i",{className:r?"fas fa-times":"fas fa-bars"})}),ee("ul",{className:r?"nav-menu active":"nav-menu",children:[P("li",{className:"nav-item",children:P(qt,{to:"/Account",className:"nav-links",onClick:f,children:"Mi Perfil"})}),P("li",{className:"nav-item",children:P(qt,{to:"/Panel",className:"nav-links",onClick:f,children:"Mi Panel"})}),P("li",{className:"nav-item",children:P(qt,{to:"/MisNotificaciones",className:"nav-links",onClick:f,children:"Mis Notificaciones"})}),P("li",{className:"nav-item",children:P(qt,{to:"/signIn",className:"nav-links",onClick:async()=>{try{await e(),n("/signIn"),swal("BYE!","sesion Finalizada!","success")}catch(C){console.log(C.message)}},children:"Cerrar Sesi\xF3n"})})]})]}),P("div",{className:"desktop-menu",children:ee("ul",{className:"nav-menu",children:[P("li",{className:"nav-item",children:P(qt,{to:"/MisNotificaciones",className:"nav-links",onClick:f,children:P(o$,{})})}),ee("li",{className:"nav-item",onMouseEnter:()=>{window.innerWidth<960?l(!1):l(!0)},onMouseLeave:()=>{window.innerWidth<960,l(!1)},children:[P("div",{children:ee(qt,{to:"/Panel",className:"nav-links",onClick:f,children:[P("img",{src:a$,alt:"userIcon.png"}),P("i",{className:"fas fa-caret-down"})]})}),a?P(i$,{}):""]})]})})]}):ee("div",{children:[ee("div",{className:"mobile-menu",children:[P("div",{className:"menu-icon",onClick:h,children:P("i",{className:r?"fas fa-times":"fas fa-bars"})}),ee("ul",{className:r?"nav-menu active":"nav-menu",children:[P("li",{className:"nav-item",children:P(qt,{to:"/signIn",className:"nav-links",onClick:f,children:"Iniciar Sesion"})}),P("li",{className:"nav-item",children:P(qt,{to:"/signUp",className:"nav-links",onClick:f,children:"Registrarse"})}),P("li",{className:"nav-item",children:P(qt,{to:"/",className:"nav-links",onClick:f,children:"Cerrar"})})]})]}),P("div",{className:"desktop-menu",children:P("div",{children:ee("ul",{className:"nav-menu",children:[P("li",{className:"nav-item",children:P(qt,{to:"/signIn",className:"nav-links",children:"Iniciar Sesi\xF3n"})}),P("li",{className:"nav-item",children:P(qt,{to:"/signUp",className:"nav-links",children:"Registrarse"})})]})})})]})]})})};var rn={exports:{}},c$="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",u$=c$,d$=u$;function Kk(){}function Yk(){}Yk.resetWarningCache=Kk;var h$=function(){function t(r,i,a,l,h,f){if(f!==d$){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Yk,resetWarningCache:Kk};return n.PropTypes=n,n};rn.exports=h$();var f$=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,a;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(a=Object.keys(e),r=a.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,a[i]))return!1;for(i=r;i--!==0;){var l=a[i];if(!t(e[l],n[l]))return!1}return!0}return e!==e&&n!==n},bp={exports:{}},Jk;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/Jk=function(){var t={},e={};return t.on=function(n,r){var i={name:n,handler:r};return e[n]=e[n]||[],e[n].unshift(i),i},t.off=function(n){var r=e[n.name].indexOf(n);r!==-1&&e[n.name].splice(r,1)},t.trigger=function(n,r){var i=e[n],a;if(i)for(a=i.length;a--;)i[a].handler(r)},t};var _$=Jk,wp={exports:{}},p$=function(e,n,r){var i=document.head||document.getElementsByTagName("head")[0],a=document.createElement("script");typeof n=="function"&&(r=n,n={}),n=n||{},r=r||function(){},a.type=n.type||"text/javascript",a.charset=n.charset||"utf8",a.async="async"in n?!!n.async:!0,a.src=e,n.attrs&&m$(a,n.attrs),n.text&&(a.text=""+n.text);var l="onload"in a?W0:g$;l(a,r),a.onload||W0(a,r),i.appendChild(a)};function m$(t,e){for(var n in e)t.setAttribute(n,e[n])}function W0(t,e){t.onload=function(){this.onerror=this.onload=null,e(null,t)},t.onerror=function(){this.onerror=this.onload=null,e(new Error("Failed to load "+this.src),t)}}function g$(t,e){t.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,e(null,t))}}(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=p$,r=i(n);function i(a){return a&&a.__esModule?a:{default:a}}e.default=function(a){var l=new Promise(function(h){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){h(window.YT);return}else{var f=window.location.protocol==="http:"?"http:":"https:";(0,r.default)(f+"//www.youtube.com/iframe_api",function(k){k&&a.trigger("error",k)})}var g=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){g&&g(),h(window.YT)}});return l},t.exports=e.default})(wp,wp.exports);var xp={exports:{}},Ep={exports:{}},kp={exports:{}},Kl=1e3,Yl=Kl*60,Jl=Yl*60,Ql=Jl*24,v$=Ql*365.25,y$=function(t,e){e=e||{};var n=typeof t;if(n==="string"&&t.length>0)return b$(t);if(n==="number"&&isNaN(t)===!1)return e.long?x$(t):w$(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))};function b$(t){if(t=String(t),!(t.length>100)){var e=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(t);if(!!e){var n=parseFloat(e[1]),r=(e[2]||"ms").toLowerCase();switch(r){case"years":case"year":case"yrs":case"yr":case"y":return n*v$;case"days":case"day":case"d":return n*Ql;case"hours":case"hour":case"hrs":case"hr":case"h":return n*Jl;case"minutes":case"minute":case"mins":case"min":case"m":return n*Yl;case"seconds":case"second":case"secs":case"sec":case"s":return n*Kl;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n;default:return}}}}function w$(t){return t>=Ql?Math.round(t/Ql)+"d":t>=Jl?Math.round(t/Jl)+"h":t>=Yl?Math.round(t/Yl)+"m":t>=Kl?Math.round(t/Kl)+"s":t+"ms"}function x$(t){return hu(t,Ql,"day")||hu(t,Jl,"hour")||hu(t,Yl,"minute")||hu(t,Kl,"second")||t+" ms"}function hu(t,e,n){if(!(t<e))return t<e*1.5?Math.floor(t/e)+" "+n:Math.ceil(t/e)+" "+n+"s"}(function(t,e){e=t.exports=i.debug=i.default=i,e.coerce=f,e.disable=l,e.enable=a,e.enabled=h,e.humanize=y$,e.names=[],e.skips=[],e.formatters={};var n;function r(g){var k=0,T;for(T in g)k=(k<<5)-k+g.charCodeAt(T),k|=0;return e.colors[Math.abs(k)%e.colors.length]}function i(g){function k(){if(!!k.enabled){var T=k,C=+new Date,I=C-(n||C);T.diff=I,T.prev=n,T.curr=C,n=C;for(var L=new Array(arguments.length),N=0;N<L.length;N++)L[N]=arguments[N];L[0]=e.coerce(L[0]),typeof L[0]!="string"&&L.unshift("%O");var R=0;L[0]=L[0].replace(/%([a-zA-Z%])/g,function(A,$){if(A==="%%")return A;R++;var U=e.formatters[$];if(typeof U=="function"){var j=L[R];A=U.call(T,j),L.splice(R,1),R--}return A}),e.formatArgs.call(T,L);var O=k.log||e.log||console.log.bind(console);O.apply(T,L)}}return k.namespace=g,k.enabled=e.enabled(g),k.useColors=e.useColors(),k.color=r(g),typeof e.init=="function"&&e.init(k),k}function a(g){e.save(g),e.names=[],e.skips=[];for(var k=(typeof g=="string"?g:"").split(/[\s,]+/),T=k.length,C=0;C<T;C++)!k[C]||(g=k[C].replace(/\*/g,".*?"),g[0]==="-"?e.skips.push(new RegExp("^"+g.substr(1)+"$")):e.names.push(new RegExp("^"+g+"$")))}function l(){e.enable("")}function h(g){var k,T;for(k=0,T=e.skips.length;k<T;k++)if(e.skips[k].test(g))return!1;for(k=0,T=e.names.length;k<T;k++)if(e.names[k].test(g))return!0;return!1}function f(g){return g instanceof Error?g.stack||g.message:g}})(kp,kp.exports);(function(t,e){e=t.exports=kp.exports,e.log=i,e.formatArgs=r,e.save=a,e.load=l,e.useColors=n,e.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:h(),e.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function n(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}e.formatters.j=function(f){try{return JSON.stringify(f)}catch(g){return"[UnexpectedJSONParseError]: "+g.message}};function r(f){var g=this.useColors;if(f[0]=(g?"%c":"")+this.namespace+(g?" %c":" ")+f[0]+(g?"%c ":" ")+"+"+e.humanize(this.diff),!!g){var k="color: "+this.color;f.splice(1,0,k,"color: inherit");var T=0,C=0;f[0].replace(/%[a-zA-Z%]/g,function(I){I!=="%%"&&(T++,I==="%c"&&(C=T))}),f.splice(C,0,k)}}function i(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function a(f){try{f==null?e.storage.removeItem("debug"):e.storage.debug=f}catch{}}function l(){var f;try{f=e.storage.debug}catch{}return!f&&typeof process<"u"&&"env"in process&&(f=process.env.DEBUG),f}e.enable(l());function h(){try{return window.localStorage}catch{}}})(Ep,Ep.exports);var Sp={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],t.exports=e.default})(Sp,Sp.exports);var Cp={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],t.exports=e.default})(Cp,Cp.exports);var Tp={exports:{}},Np={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},t.exports=e.default})(Np,Np.exports);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Np.exports,r=i(n);function i(a){return a&&a.__esModule?a:{default:a}}e.default={pauseVideo:{acceptableStates:[r.default.ENDED,r.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[r.default.ENDED,r.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[r.default.ENDED,r.default.PLAYING,r.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},t.exports=e.default})(Tp,Tp.exports);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Ep.exports,r=k(n),i=Sp.exports,a=k(i),l=Cp.exports,h=k(l),f=Tp.exports,g=k(f);function k(I){return I&&I.__esModule?I:{default:I}}var T=(0,r.default)("youtube-player"),C={};C.proxyEvents=function(I){var L={},N=function(z){var W="on"+z.slice(0,1).toUpperCase()+z.slice(1);L[W]=function(q){T('event "%s"',W,q),I.trigger(z,q)}},R=!0,O=!1,A=void 0;try{for(var $=h.default[Symbol.iterator](),U;!(R=(U=$.next()).done);R=!0){var j=U.value;N(j)}}catch(H){O=!0,A=H}finally{try{!R&&$.return&&$.return()}finally{if(O)throw A}}return L},C.promisifyPlayer=function(I){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,N={},R=function(W){L&&g.default[W]?N[W]=function(){for(var q=arguments.length,Y=Array(q),Z=0;Z<q;Z++)Y[Z]=arguments[Z];return I.then(function(X){var ce=g.default[W],de=X.getPlayerState(),Ae=X[W].apply(X,Y);return ce.stateChangeRequired||Array.isArray(ce.acceptableStates)&&ce.acceptableStates.indexOf(de)===-1?new Promise(function(ge){var Ze=function _e(){var he=X.getPlayerState(),ke=void 0;typeof ce.timeout=="number"&&(ke=setTimeout(function(){X.removeEventListener("onStateChange",_e),ge()},ce.timeout)),Array.isArray(ce.acceptableStates)&&ce.acceptableStates.indexOf(he)!==-1&&(X.removeEventListener("onStateChange",_e),clearTimeout(ke),ge())};X.addEventListener("onStateChange",Ze)}).then(function(){return Ae}):Ae})}:N[W]=function(){for(var q=arguments.length,Y=Array(q),Z=0;Z<q;Z++)Y[Z]=arguments[Z];return I.then(function(X){return X[W].apply(X,Y)})}},O=!0,A=!1,$=void 0;try{for(var U=a.default[Symbol.iterator](),j;!(O=(j=U.next()).done);O=!0){var H=j.value;R(H)}}catch(z){A=!0,$=z}finally{try{!O&&U.return&&U.return()}finally{if(A)throw $}}return N},e.default=C,t.exports=e.default})(xp,xp.exports);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},r=_$,i=g(r),a=wp.exports,l=g(a),h=xp.exports,f=g(h);function g(T){return T&&T.__esModule?T:{default:T}}var k=void 0;e.default=function(T){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,L=(0,i.default)();if(k||(k=(0,l.default)(L)),C.events)throw new Error("Event handlers cannot be overwritten.");if(typeof T=="string"&&!document.getElementById(T))throw new Error('Element "'+T+'" does not exist.');C.events=f.default.proxyEvents(L);var N=new Promise(function(O){if((typeof T>"u"?"undefined":n(T))==="object"&&T.playVideo instanceof Function){var A=T;O(A)}else k.then(function($){var U=new $.Player(T,C);return L.on("ready",function(){O(U)}),null})}),R=f.default.promisifyPlayer(N,I);return R.on=L.on,R.off=L.off,R},t.exports=e.default})(bp,bp.exports);const E$=Ab(bp.exports);var k$=Object.defineProperty,S$=Object.defineProperties,C$=Object.getOwnPropertyDescriptors,G0=Object.getOwnPropertySymbols,T$=Object.prototype.hasOwnProperty,N$=Object.prototype.propertyIsEnumerable,K0=(t,e,n)=>e in t?k$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Dp=(t,e)=>{for(var n in e||(e={}))T$.call(e,n)&&K0(t,n,e[n]);if(G0)for(var n of G0(e))N$.call(e,n)&&K0(t,n,e[n]);return t},Ip=(t,e)=>S$(t,C$(e)),D$=(t,e,n)=>new Promise((r,i)=>{var a=f=>{try{h(n.next(f))}catch(g){i(g)}},l=f=>{try{h(n.throw(f))}catch(g){i(g)}},h=f=>f.done?r(f.value):Promise.resolve(f.value).then(a,l);h((n=n.apply(t,e)).next())});function I$(t,e){var n,r;if(t.videoId!==e.videoId)return!0;const i=((n=t.opts)==null?void 0:n.playerVars)||{},a=((r=e.opts)==null?void 0:r.playerVars)||{};return i.start!==a.start||i.end!==a.end}function Y0(t={}){return Ip(Dp({},t),{height:0,width:0,playerVars:Ip(Dp({},t.playerVars),{autoplay:0,start:0,end:0})})}function A$(t,e){return t.videoId!==e.videoId||!f$(Y0(t.opts),Y0(e.opts))}function O$(t,e){var n,r,i,a;return t.id!==e.id||t.className!==e.className||((n=t.opts)==null?void 0:n.width)!==((r=e.opts)==null?void 0:r.width)||((i=t.opts)==null?void 0:i.height)!==((a=e.opts)==null?void 0:a.height)||t.iframeClassName!==e.iframeClassName||t.title!==e.title}var M$={videoId:"",id:"",className:"",iframeClassName:"",style:{},title:"",loading:void 0,opts:{},onReady:()=>{},onError:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onStateChange:()=>{},onPlaybackRateChange:()=>{},onPlaybackQualityChange:()=>{}},P$={videoId:rn.exports.string,id:rn.exports.string,className:rn.exports.string,iframeClassName:rn.exports.string,style:rn.exports.object,title:rn.exports.string,loading:rn.exports.oneOf(["lazy","eager"]),opts:rn.exports.objectOf(rn.exports.any),onReady:rn.exports.func,onError:rn.exports.func,onPlay:rn.exports.func,onPause:rn.exports.func,onEnd:rn.exports.func,onStateChange:rn.exports.func,onPlaybackRateChange:rn.exports.func,onPlaybackQualityChange:rn.exports.func},ju=class extends sa.Component{constructor(t){super(t),this.destroyPlayerPromise=void 0,this.onPlayerReady=e=>{var n,r;return(r=(n=this.props).onReady)==null?void 0:r.call(n,e)},this.onPlayerError=e=>{var n,r;return(r=(n=this.props).onError)==null?void 0:r.call(n,e)},this.onPlayerStateChange=e=>{var n,r,i,a,l,h,f,g;switch((r=(n=this.props).onStateChange)==null||r.call(n,e),e.data){case ju.PlayerState.ENDED:(a=(i=this.props).onEnd)==null||a.call(i,e);break;case ju.PlayerState.PLAYING:(h=(l=this.props).onPlay)==null||h.call(l,e);break;case ju.PlayerState.PAUSED:(g=(f=this.props).onPause)==null||g.call(f,e);break}},this.onPlayerPlaybackRateChange=e=>{var n,r;return(r=(n=this.props).onPlaybackRateChange)==null?void 0:r.call(n,e)},this.onPlayerPlaybackQualityChange=e=>{var n,r;return(r=(n=this.props).onPlaybackQualityChange)==null?void 0:r.call(n,e)},this.destroyPlayer=()=>this.internalPlayer?(this.destroyPlayerPromise=this.internalPlayer.destroy().then(()=>this.destroyPlayerPromise=void 0),this.destroyPlayerPromise):Promise.resolve(),this.createPlayer=()=>{if(typeof document>"u")return;if(this.destroyPlayerPromise){this.destroyPlayerPromise.then(this.createPlayer);return}const e=Ip(Dp({},this.props.opts),{videoId:this.props.videoId});this.internalPlayer=E$(this.container,e),this.internalPlayer.on("ready",this.onPlayerReady),this.internalPlayer.on("error",this.onPlayerError),this.internalPlayer.on("stateChange",this.onPlayerStateChange),this.internalPlayer.on("playbackRateChange",this.onPlayerPlaybackRateChange),this.internalPlayer.on("playbackQualityChange",this.onPlayerPlaybackQualityChange),(this.props.title||this.props.loading)&&this.internalPlayer.getIframe().then(n=>{this.props.title&&n.setAttribute("title",this.props.title),this.props.loading&&n.setAttribute("loading",this.props.loading)})},this.resetPlayer=()=>this.destroyPlayer().then(this.createPlayer),this.updatePlayer=()=>{var e;(e=this.internalPlayer)==null||e.getIframe().then(n=>{this.props.id?n.setAttribute("id",this.props.id):n.removeAttribute("id"),this.props.iframeClassName?n.setAttribute("class",this.props.iframeClassName):n.removeAttribute("class"),this.props.opts&&this.props.opts.width?n.setAttribute("width",this.props.opts.width.toString()):n.removeAttribute("width"),this.props.opts&&this.props.opts.height?n.setAttribute("height",this.props.opts.height.toString()):n.removeAttribute("height"),this.props.title?n.setAttribute("title",this.props.title):n.setAttribute("title","YouTube video player"),this.props.loading?n.setAttribute("loading",this.props.loading):n.removeAttribute("loading")})},this.getInternalPlayer=()=>this.internalPlayer,this.updateVideo=()=>{var e,n,r,i;if(typeof this.props.videoId>"u"||this.props.videoId===null){(e=this.internalPlayer)==null||e.stopVideo();return}let a=!1;const l={videoId:this.props.videoId};if((n=this.props.opts)!=null&&n.playerVars&&(a=this.props.opts.playerVars.autoplay===1,"start"in this.props.opts.playerVars&&(l.startSeconds=this.props.opts.playerVars.start),"end"in this.props.opts.playerVars&&(l.endSeconds=this.props.opts.playerVars.end)),a){(r=this.internalPlayer)==null||r.loadVideoById(l);return}(i=this.internalPlayer)==null||i.cueVideoById(l)},this.refContainer=e=>{this.container=e},this.container=null,this.internalPlayer=null}componentDidMount(){this.createPlayer()}componentDidUpdate(t){return D$(this,null,function*(){O$(t,this.props)&&this.updatePlayer(),A$(t,this.props)&&(yield this.resetPlayer()),I$(t,this.props)&&this.updateVideo()})}componentWillUnmount(){this.destroyPlayer()}render(){return P("div",{className:this.props.className,style:this.props.style,children:P("div",{id:this.props.id,className:this.props.iframeClassName,ref:this.refContainer})})}},Rh=ju;Rh.propTypes=P$;Rh.defaultProps=M$;Rh.PlayerState={UNSTARTED:-1,ENDED:0,PLAYING:1,PAUSED:2,BUFFERING:3,CUED:5};var Qk=Rh;const L$=()=>{let t="640";return window.innerWidth<600?t="360":t="580",P("div",{children:P(Qk,{videoId:"UdEuBHCquPI",opts:{height:"390",width:t,playerVars:{autoplay:0,rel:0}},onReady:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onError:()=>{},onStateChange:()=>{}})})},R$=()=>{let t="640";return window.innerWidth<600?t="360":t="580",P("div",{children:P(Qk,{videoId:"UdEuBHCquPI",opts:{height:"390",width:t,playerVars:{autoplay:1,rel:0}},onReady:()=>{},onPlay:()=>{},onPause:()=>{},onEnd:()=>{},onError:()=>{},onStateChange:()=>{}})})},$$=()=>{const[t,e]=ae.exports.useState(!1);return setTimeout(()=>{e(!0)},1e4),ee("section",{className:"about_container",children:[ee("div",{className:"about",children:[ee("h2",{className:"about__title",children:["\xA1Se ",P("span",{children:"aprende"})," desde el primer d\xEDa!"]}),P("span",{className:"parrafo__content",children:"\xBFNecesitas aprobar un examen de ingl\xE9s?, \xBFQuieres estudiar en el extranjero?, \xBFEn tu trabajo dominar el ingl\xE9s es un requisito?, Te ayudaremos a conseguirlo. En Navis nos adaptamos tus objetivos a la hora de aprender ingl\xE9s, ya sea desde cero o para un fin en espec\xEDfico, con nosotros lo lograras. Aprende ingl\xE9s de manera f\xE1cil, r\xE1pida y entretenida."})]}),t===!0?P("div",{className:"about",children:P(R$,{})}):P("div",{className:"about",children:P(L$,{})})]})},F$="/assets/Teresa.744c25d6.jpg",U$="/assets/Sandra.ca614ab4.jpg",j$="/assets/Angelo.4ec0990e.jpg",V$="/assets/Jairo.e2c1adfb.jpg",z$="/assets/Valeria.a74a743c.jpg",H$="/assets/Sofia.297bb3ef.jpg",B$="/assets/Jorge.8a7c94b2.jpg",q$=[{text:"Mi hijo comenz\xF3 clases hace un a\xF1o y hoy estudia en un internado de Londres. 100% recomendado.",author:"TERESA R.",avatar:F$},{text:"Quer\xEDa que mi hijo tuviera apoyo acad\xE9mico y pudiera aprobar sus ex\xE1menes y lo logr\xF3 gracias a esta academia. Me gusta que se enfocan en las necesidades del estudiante.",author:"SANDRA M.",avatar:U$},{text:"Gracias a estas clases logr\xE9 aprobar mi examen de la Universidad de Florencia y ahora soy profesor.",author:"ANGELO L.",avatar:j$},{text:"Buscaba un curso corto para poder viajar y no sentir tanta verg\xFCenza al hablar y con Navis en un mes ya estaba lista para mi viaje.",author:"JAIRO M",avatar:V$},{text:"Por a\xF1os fue muy dif\xEDcil que mi hijo pusiera atenci\xF3n al ingl\xE9s, pero ahora le gusta. La profesora juega con \xE9l y se divierten mucho.",author:"VALERIA P.",avatar:z$},{text:"Con estas clases me prepar\xE9 para la prueba oral del TOEFL, y logr\xE9 un 28/30. I did it!.",author:"SOFIA R.",avatar:H$},{text:"Me mud\xE9 a Texas hace 4 a\xF1os, nunca aprend\xED ingl\xE9s y depend\xEDa de mi hija para las llamadas o cosas importantes, luego me cans\xE9 de mi trabajo y decid\xED comenzar a aprender para poder obtener un mejor empleo. Gracias a esta academia lo estoy logrando. Thanks Navis!.",author:"JORGE R.",avatar:B$}];const W$=()=>ee(Jt,{children:[P("div",{className:"homeSection__Title",children:P("h2",{children:"Reviews"})}),P("section",{className:"reviews__Section",children:q$.map((t,e)=>ee("div",{className:"reviews__Card",children:[P("div",{className:"reviews__Avatar",children:P("img",{src:t.avatar,alt:"User Avatar"})}),P("div",{className:"reviews__Text",children:t.text}),P("div",{className:"reviews__Author",children:t.author})]},e))})]});const G$="/assets/contacto.6d59b551.svg",K$=()=>ee(Jt,{children:[P("div",{className:"homeSection__Title",children:P("h2",{children:"Contacto"})}),ee("section",{className:"contact__Section",children:[P("div",{className:"contact__Img",children:P("img",{src:G$,alt:""})}),P("div",{className:"contact__body",children:P("span",{children:"+000 (000) 000-0000"})})]})]}),Y$="/assets/puzzle.f843acf2.png",J$="/assets/objetivo.a5aea4cd.png",Q$="/assets/tiempo.c53cc2a1.png",X$="/assets/tareas.b353d0fd.png",Z$="/assets/interactivo.7d5c4664.png",e2="/assets/recursos.9d994c17.png",t2="/assets/profesor.c04e4013.png",n2=[{title:"Divide el ingl\xE9s en 4 \xE1reas:",text:"hablar, escuchar, vocabulario y gram\xE1tica.",icon:Y$},{title:"Adaptados a tus objetivos",text:"Te preparamos para entrevistas, viajes, ex\xE1menes acad\xE9micos, TOEFL y m\xE1s.",icon:J$},{title:"Flexible con tu tiempo",text:"T\xFA decides cuando estudiar.",icon:Q$},{title:"No es una clase normal",text:"No es est\xE1tica: juegos, roles, ejercicios y conversaci\xF3n.",icon:X$},{title:"100% Interactivo",text:"Clases guiadas, con ejercicios que puedes realizar con tu profesor o por tu cuenta.",icon:Z$},{title:"Recursos profesionales",text:"Nos basamos en el m\xE9todo de Cambridge, la escala de ingl\xE9s global.",icon:e2},{title:"Profesores altamente cualificados",text:"profesores especializados en la ense\xF1anza del ingl\xE9s a ni\xF1os y adultos.",icon:t2}];function J0(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function Kg(t={},e={}){Object.keys(e).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:J0(e[n])&&J0(t[n])&&Object.keys(e[n]).length>0&&Kg(t[n],e[n])})}const Xk={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function bn(){const t=typeof document<"u"?document:{};return Kg(t,Xk),t}const r2={document:Xk,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function hn(){const t=typeof window<"u"?window:{};return Kg(t,r2),t}function i2(t){const e=t.__proto__;Object.defineProperty(t,"__proto__",{get(){return e},set(n){e.__proto__=n}})}class Bi extends Array{constructor(e){typeof e=="number"?super(e):(super(...e||[]),i2(this))}}function Mc(t=[]){const e=[];return t.forEach(n=>{Array.isArray(n)?e.push(...Mc(n)):e.push(n)}),e}function Zk(t,e){return Array.prototype.filter.call(t,e)}function a2(t){const e=[];for(let n=0;n<t.length;n+=1)e.indexOf(t[n])===-1&&e.push(t[n]);return e}function s2(t,e){if(typeof t!="string")return[t];const n=[],r=e.querySelectorAll(t);for(let i=0;i<r.length;i+=1)n.push(r[i]);return n}function De(t,e){const n=hn(),r=bn();let i=[];if(!e&&t instanceof Bi)return t;if(!t)return new Bi(i);if(typeof t=="string"){const a=t.trim();if(a.indexOf("<")>=0&&a.indexOf(">")>=0){let l="div";a.indexOf("<li")===0&&(l="ul"),a.indexOf("<tr")===0&&(l="tbody"),(a.indexOf("<td")===0||a.indexOf("<th")===0)&&(l="tr"),a.indexOf("<tbody")===0&&(l="table"),a.indexOf("<option")===0&&(l="select");const h=r.createElement(l);h.innerHTML=a;for(let f=0;f<h.childNodes.length;f+=1)i.push(h.childNodes[f])}else i=s2(t.trim(),e||r)}else if(t.nodeType||t===n||t===r)i.push(t);else if(Array.isArray(t)){if(t instanceof Bi)return t;i=t}return new Bi(a2(i))}De.fn=Bi.prototype;function o2(...t){const e=Mc(t.map(n=>n.split(" ")));return this.forEach(n=>{n.classList.add(...e)}),this}function l2(...t){const e=Mc(t.map(n=>n.split(" ")));return this.forEach(n=>{n.classList.remove(...e)}),this}function c2(...t){const e=Mc(t.map(n=>n.split(" ")));this.forEach(n=>{e.forEach(r=>{n.classList.toggle(r)})})}function u2(...t){const e=Mc(t.map(n=>n.split(" ")));return Zk(this,n=>e.filter(r=>n.classList.contains(r)).length>0).length>0}function d2(t,e){if(arguments.length===1&&typeof t=="string")return this[0]?this[0].getAttribute(t):void 0;for(let n=0;n<this.length;n+=1)if(arguments.length===2)this[n].setAttribute(t,e);else for(const r in t)this[n][r]=t[r],this[n].setAttribute(r,t[r]);return this}function h2(t){for(let e=0;e<this.length;e+=1)this[e].removeAttribute(t);return this}function f2(t){for(let e=0;e<this.length;e+=1)this[e].style.transform=t;return this}function _2(t){for(let e=0;e<this.length;e+=1)this[e].style.transitionDuration=typeof t!="string"?`${t}ms`:t;return this}function p2(...t){let[e,n,r,i]=t;typeof t[1]=="function"&&([e,r,i]=t,n=void 0),i||(i=!1);function a(g){const k=g.target;if(!k)return;const T=g.target.dom7EventData||[];if(T.indexOf(g)<0&&T.unshift(g),De(k).is(n))r.apply(k,T);else{const C=De(k).parents();for(let I=0;I<C.length;I+=1)De(C[I]).is(n)&&r.apply(C[I],T)}}function l(g){const k=g&&g.target?g.target.dom7EventData||[]:[];k.indexOf(g)<0&&k.unshift(g),r.apply(this,k)}const h=e.split(" ");let f;for(let g=0;g<this.length;g+=1){const k=this[g];if(n)for(f=0;f<h.length;f+=1){const T=h[f];k.dom7LiveListeners||(k.dom7LiveListeners={}),k.dom7LiveListeners[T]||(k.dom7LiveListeners[T]=[]),k.dom7LiveListeners[T].push({listener:r,proxyListener:a}),k.addEventListener(T,a,i)}else for(f=0;f<h.length;f+=1){const T=h[f];k.dom7Listeners||(k.dom7Listeners={}),k.dom7Listeners[T]||(k.dom7Listeners[T]=[]),k.dom7Listeners[T].push({listener:r,proxyListener:l}),k.addEventListener(T,l,i)}}return this}function m2(...t){let[e,n,r,i]=t;typeof t[1]=="function"&&([e,r,i]=t,n=void 0),i||(i=!1);const a=e.split(" ");for(let l=0;l<a.length;l+=1){const h=a[l];for(let f=0;f<this.length;f+=1){const g=this[f];let k;if(!n&&g.dom7Listeners?k=g.dom7Listeners[h]:n&&g.dom7LiveListeners&&(k=g.dom7LiveListeners[h]),k&&k.length)for(let T=k.length-1;T>=0;T-=1){const C=k[T];r&&C.listener===r||r&&C.listener&&C.listener.dom7proxy&&C.listener.dom7proxy===r?(g.removeEventListener(h,C.proxyListener,i),k.splice(T,1)):r||(g.removeEventListener(h,C.proxyListener,i),k.splice(T,1))}}}return this}function g2(...t){const e=hn(),n=t[0].split(" "),r=t[1];for(let i=0;i<n.length;i+=1){const a=n[i];for(let l=0;l<this.length;l+=1){const h=this[l];if(e.CustomEvent){const f=new e.CustomEvent(a,{detail:r,bubbles:!0,cancelable:!0});h.dom7EventData=t.filter((g,k)=>k>0),h.dispatchEvent(f),h.dom7EventData=[],delete h.dom7EventData}}}return this}function v2(t){const e=this;function n(r){r.target===this&&(t.call(this,r),e.off("transitionend",n))}return t&&e.on("transitionend",n),this}function y2(t){if(this.length>0){if(t){const e=this.styles();return this[0].offsetWidth+parseFloat(e.getPropertyValue("margin-right"))+parseFloat(e.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null}function b2(t){if(this.length>0){if(t){const e=this.styles();return this[0].offsetHeight+parseFloat(e.getPropertyValue("margin-top"))+parseFloat(e.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null}function w2(){if(this.length>0){const t=hn(),e=bn(),n=this[0],r=n.getBoundingClientRect(),i=e.body,a=n.clientTop||i.clientTop||0,l=n.clientLeft||i.clientLeft||0,h=n===t?t.scrollY:n.scrollTop,f=n===t?t.scrollX:n.scrollLeft;return{top:r.top+h-a,left:r.left+f-l}}return null}function x2(){const t=hn();return this[0]?t.getComputedStyle(this[0],null):{}}function E2(t,e){const n=hn();let r;if(arguments.length===1)if(typeof t=="string"){if(this[0])return n.getComputedStyle(this[0],null).getPropertyValue(t)}else{for(r=0;r<this.length;r+=1)for(const i in t)this[r].style[i]=t[i];return this}if(arguments.length===2&&typeof t=="string"){for(r=0;r<this.length;r+=1)this[r].style[t]=e;return this}return this}function k2(t){return t?(this.forEach((e,n)=>{t.apply(e,[e,n])}),this):this}function S2(t){const e=Zk(this,t);return De(e)}function C2(t){if(typeof t>"u")return this[0]?this[0].innerHTML:null;for(let e=0;e<this.length;e+=1)this[e].innerHTML=t;return this}function T2(t){if(typeof t>"u")return this[0]?this[0].textContent.trim():null;for(let e=0;e<this.length;e+=1)this[e].textContent=t;return this}function N2(t){const e=hn(),n=bn(),r=this[0];let i,a;if(!r||typeof t>"u")return!1;if(typeof t=="string"){if(r.matches)return r.matches(t);if(r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(r.msMatchesSelector)return r.msMatchesSelector(t);for(i=De(t),a=0;a<i.length;a+=1)if(i[a]===r)return!0;return!1}if(t===n)return r===n;if(t===e)return r===e;if(t.nodeType||t instanceof Bi){for(i=t.nodeType?[t]:t,a=0;a<i.length;a+=1)if(i[a]===r)return!0;return!1}return!1}function D2(){let t=this[0],e;if(t){for(e=0;(t=t.previousSibling)!==null;)t.nodeType===1&&(e+=1);return e}}function I2(t){if(typeof t>"u")return this;const e=this.length;if(t>e-1)return De([]);if(t<0){const n=e+t;return n<0?De([]):De([this[n]])}return De([this[t]])}function A2(...t){let e;const n=bn();for(let r=0;r<t.length;r+=1){e=t[r];for(let i=0;i<this.length;i+=1)if(typeof e=="string"){const a=n.createElement("div");for(a.innerHTML=e;a.firstChild;)this[i].appendChild(a.firstChild)}else if(e instanceof Bi)for(let a=0;a<e.length;a+=1)this[i].appendChild(e[a]);else this[i].appendChild(e)}return this}function O2(t){const e=bn();let n,r;for(n=0;n<this.length;n+=1)if(typeof t=="string"){const i=e.createElement("div");for(i.innerHTML=t,r=i.childNodes.length-1;r>=0;r-=1)this[n].insertBefore(i.childNodes[r],this[n].childNodes[0])}else if(t instanceof Bi)for(r=0;r<t.length;r+=1)this[n].insertBefore(t[r],this[n].childNodes[0]);else this[n].insertBefore(t,this[n].childNodes[0]);return this}function M2(t){return this.length>0?t?this[0].nextElementSibling&&De(this[0].nextElementSibling).is(t)?De([this[0].nextElementSibling]):De([]):this[0].nextElementSibling?De([this[0].nextElementSibling]):De([]):De([])}function P2(t){const e=[];let n=this[0];if(!n)return De([]);for(;n.nextElementSibling;){const r=n.nextElementSibling;t?De(r).is(t)&&e.push(r):e.push(r),n=r}return De(e)}function L2(t){if(this.length>0){const e=this[0];return t?e.previousElementSibling&&De(e.previousElementSibling).is(t)?De([e.previousElementSibling]):De([]):e.previousElementSibling?De([e.previousElementSibling]):De([])}return De([])}function R2(t){const e=[];let n=this[0];if(!n)return De([]);for(;n.previousElementSibling;){const r=n.previousElementSibling;t?De(r).is(t)&&e.push(r):e.push(r),n=r}return De(e)}function $2(t){const e=[];for(let n=0;n<this.length;n+=1)this[n].parentNode!==null&&(t?De(this[n].parentNode).is(t)&&e.push(this[n].parentNode):e.push(this[n].parentNode));return De(e)}function F2(t){const e=[];for(let n=0;n<this.length;n+=1){let r=this[n].parentNode;for(;r;)t?De(r).is(t)&&e.push(r):e.push(r),r=r.parentNode}return De(e)}function U2(t){let e=this;return typeof t>"u"?De([]):(e.is(t)||(e=e.parents(t).eq(0)),e)}function j2(t){const e=[];for(let n=0;n<this.length;n+=1){const r=this[n].querySelectorAll(t);for(let i=0;i<r.length;i+=1)e.push(r[i])}return De(e)}function V2(t){const e=[];for(let n=0;n<this.length;n+=1){const r=this[n].children;for(let i=0;i<r.length;i+=1)(!t||De(r[i]).is(t))&&e.push(r[i])}return De(e)}function z2(){for(let t=0;t<this.length;t+=1)this[t].parentNode&&this[t].parentNode.removeChild(this[t]);return this}const Q0={addClass:o2,removeClass:l2,hasClass:u2,toggleClass:c2,attr:d2,removeAttr:h2,transform:f2,transition:_2,on:p2,off:m2,trigger:g2,transitionEnd:v2,outerWidth:y2,outerHeight:b2,styles:x2,offset:w2,css:E2,each:k2,html:C2,text:T2,is:N2,index:D2,eq:I2,append:A2,prepend:O2,next:M2,nextAll:P2,prev:L2,prevAll:R2,parent:$2,parents:F2,closest:U2,find:j2,children:V2,filter:S2,remove:z2};Object.keys(Q0).forEach(t=>{Object.defineProperty(De.fn,t,{value:Q0[t],writable:!0})});function H2(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function Ld(t,e=0){return setTimeout(t,e)}function Xl(){return Date.now()}function B2(t){const e=hn();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function q2(t,e="x"){const n=hn();let r,i,a;const l=B2(t);return n.WebKitCSSMatrix?(i=l.transform||l.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(h=>h.replace(",",".")).join(", ")),a=new n.WebKitCSSMatrix(i==="none"?"":i)):(a=l.MozTransform||l.OTransform||l.MsTransform||l.msTransform||l.transform||l.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=a.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?i=a.m41:r.length===16?i=parseFloat(r[12]):i=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?i=a.m42:r.length===16?i=parseFloat(r[13]):i=parseFloat(r[5])),i||0}function fu(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function W2(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function or(...t){const e=Object(t[0]),n=["__proto__","constructor","prototype"];for(let r=1;r<t.length;r+=1){const i=t[r];if(i!=null&&!W2(i)){const a=Object.keys(Object(i)).filter(l=>n.indexOf(l)<0);for(let l=0,h=a.length;l<h;l+=1){const f=a[l],g=Object.getOwnPropertyDescriptor(i,f);g!==void 0&&g.enumerable&&(fu(e[f])&&fu(i[f])?i[f].__swiper__?e[f]=i[f]:or(e[f],i[f]):!fu(e[f])&&fu(i[f])?(e[f]={},i[f].__swiper__?e[f]=i[f]:or(e[f],i[f])):e[f]=i[f])}}}return e}function _u(t,e,n){t.style.setProperty(e,n)}function eS({swiper:t,targetPosition:e,side:n}){const r=hn(),i=-t.translate;let a=null,l;const h=t.params.speed;t.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(t.cssModeFrameID);const f=e>i?"next":"prev",g=(T,C)=>f==="next"&&T>=C||f==="prev"&&T<=C,k=()=>{l=new Date().getTime(),a===null&&(a=l);const T=Math.max(Math.min((l-a)/h,1),0),C=.5-Math.cos(T*Math.PI)/2;let I=i+C*(e-i);if(g(I,e)&&(I=e),t.wrapperEl.scrollTo({[n]:I}),g(I,e)){t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[n]:I})}),r.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=r.requestAnimationFrame(k)};k()}let Lf;function G2(){const t=hn(),e=bn();return{smoothScroll:e.documentElement&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch),passiveListener:function(){let r=!1;try{const i=Object.defineProperty({},"passive",{get(){r=!0}});t.addEventListener("testPassiveListener",null,i)}catch{}return r}(),gestures:function(){return"ongesturestart"in t}()}}function tS(){return Lf||(Lf=G2()),Lf}let Rf;function K2({userAgent:t}={}){const e=tS(),n=hn(),r=n.navigator.platform,i=t||n.navigator.userAgent,a={ios:!1,android:!1},l=n.screen.width,h=n.screen.height,f=i.match(/(Android);?[\s\/]+([\d.]+)?/);let g=i.match(/(iPad).*OS\s([\d_]+)/);const k=i.match(/(iPod)(.*OS\s([\d_]+))?/),T=!g&&i.match(/(iPhone\sOS|iOS)\s([\d_]+)/),C=r==="Win32";let I=r==="MacIntel";const L=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!g&&I&&e.touch&&L.indexOf(`${l}x${h}`)>=0&&(g=i.match(/(Version)\/([\d.]+)/),g||(g=[0,1,"13_0_0"]),I=!1),f&&!C&&(a.os="android",a.android=!0),(g||T||k)&&(a.os="ios",a.ios=!0),a}function Y2(t={}){return Rf||(Rf=K2(t)),Rf}let $f;function J2(){const t=hn();function e(){const n=t.navigator.userAgent.toLowerCase();return n.indexOf("safari")>=0&&n.indexOf("chrome")<0&&n.indexOf("android")<0}return{isSafari:e(),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent)}}function Q2(){return $f||($f=J2()),$f}function X2({swiper:t,on:e,emit:n}){const r=hn();let i=null,a=null;const l=()=>{!t||t.destroyed||!t.initialized||(n("beforeResize"),n("resize"))},h=()=>{!t||t.destroyed||!t.initialized||(i=new ResizeObserver(k=>{a=r.requestAnimationFrame(()=>{const{width:T,height:C}=t;let I=T,L=C;k.forEach(({contentBoxSize:N,contentRect:R,target:O})=>{O&&O!==t.el||(I=R?R.width:(N[0]||N).inlineSize,L=R?R.height:(N[0]||N).blockSize)}),(I!==T||L!==C)&&l()})}),i.observe(t.el))},f=()=>{a&&r.cancelAnimationFrame(a),i&&i.unobserve&&t.el&&(i.unobserve(t.el),i=null)},g=()=>{!t||t.destroyed||!t.initialized||n("orientationchange")};e("init",()=>{if(t.params.resizeObserver&&typeof r.ResizeObserver<"u"){h();return}r.addEventListener("resize",l),r.addEventListener("orientationchange",g)}),e("destroy",()=>{f(),r.removeEventListener("resize",l),r.removeEventListener("orientationchange",g)})}function Z2({swiper:t,extendParams:e,on:n,emit:r}){const i=[],a=hn(),l=(g,k={})=>{const T=a.MutationObserver||a.WebkitMutationObserver,C=new T(I=>{if(I.length===1){r("observerUpdate",I[0]);return}const L=function(){r("observerUpdate",I[0])};a.requestAnimationFrame?a.requestAnimationFrame(L):a.setTimeout(L,0)});C.observe(g,{attributes:typeof k.attributes>"u"?!0:k.attributes,childList:typeof k.childList>"u"?!0:k.childList,characterData:typeof k.characterData>"u"?!0:k.characterData}),i.push(C)},h=()=>{if(!!t.params.observer){if(t.params.observeParents){const g=t.$el.parents();for(let k=0;k<g.length;k+=1)l(g[k])}l(t.$el[0],{childList:t.params.observeSlideChildren}),l(t.$wrapperEl[0],{attributes:!1})}},f=()=>{i.forEach(g=>{g.disconnect()}),i.splice(0,i.length)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",h),n("destroy",f)}const eF={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const i=n?"unshift":"push";return t.split(" ").forEach(a=>{r.eventsListeners[a]||(r.eventsListeners[a]=[]),r.eventsListeners[a][i](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function i(...a){r.off(t,i),i.__emitterProxy&&delete i.__emitterProxy,e.apply(r,a)}return i.__emitterProxy=e,r.on(t,i,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((i,a)=>{(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&n.eventsListeners[r].splice(a,1)})}),n},emit(...t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let n,r,i;return typeof t[0]=="string"||Array.isArray(t[0])?(n=t[0],r=t.slice(1,t.length),i=e):(n=t[0].events,r=t[0].data,i=t[0].context||e),r.unshift(i),(Array.isArray(n)?n:n.split(" ")).forEach(l=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(h=>{h.apply(i,[l,...r])}),e.eventsListeners&&e.eventsListeners[l]&&e.eventsListeners[l].forEach(h=>{h.apply(i,r)})}),e}};function tF(){const t=this;let e,n;const r=t.$el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r[0].clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r[0].clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(r.css("padding-left")||0,10)-parseInt(r.css("padding-right")||0,10),n=n-parseInt(r.css("padding-top")||0,10)-parseInt(r.css("padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function nF(){const t=this;function e(Y){return t.isHorizontal()?Y:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[Y]}function n(Y,Z){return parseFloat(Y.getPropertyValue(e(Z))||0)}const r=t.params,{$wrapperEl:i,size:a,rtlTranslate:l,wrongRTL:h}=t,f=t.virtual&&r.virtual.enabled,g=f?t.virtual.slides.length:t.slides.length,k=i.children(`.${t.params.slideClass}`),T=f?t.virtual.slides.length:k.length;let C=[];const I=[],L=[];let N=r.slidesOffsetBefore;typeof N=="function"&&(N=r.slidesOffsetBefore.call(t));let R=r.slidesOffsetAfter;typeof R=="function"&&(R=r.slidesOffsetAfter.call(t));const O=t.snapGrid.length,A=t.slidesGrid.length;let $=r.spaceBetween,U=-N,j=0,H=0;if(typeof a>"u")return;typeof $=="string"&&$.indexOf("%")>=0&&($=parseFloat($.replace("%",""))/100*a),t.virtualSize=-$,l?k.css({marginLeft:"",marginBottom:"",marginTop:""}):k.css({marginRight:"",marginBottom:"",marginTop:""}),r.centeredSlides&&r.cssMode&&(_u(t.wrapperEl,"--swiper-centered-offset-before",""),_u(t.wrapperEl,"--swiper-centered-offset-after",""));const z=r.grid&&r.grid.rows>1&&t.grid;z&&t.grid.initSlides(T);let W;const q=r.slidesPerView==="auto"&&r.breakpoints&&Object.keys(r.breakpoints).filter(Y=>typeof r.breakpoints[Y].slidesPerView<"u").length>0;for(let Y=0;Y<T;Y+=1){W=0;const Z=k.eq(Y);if(z&&t.grid.updateSlide(Y,Z,T,e),Z.css("display")!=="none"){if(r.slidesPerView==="auto"){q&&(k[Y].style[e("width")]="");const X=getComputedStyle(Z[0]),ce=Z[0].style.transform,de=Z[0].style.webkitTransform;if(ce&&(Z[0].style.transform="none"),de&&(Z[0].style.webkitTransform="none"),r.roundLengths)W=t.isHorizontal()?Z.outerWidth(!0):Z.outerHeight(!0);else{const Ae=n(X,"width"),ge=n(X,"padding-left"),Ze=n(X,"padding-right"),_e=n(X,"margin-left"),he=n(X,"margin-right"),ke=X.getPropertyValue("box-sizing");if(ke&&ke==="border-box")W=Ae+_e+he;else{const{clientWidth:ze,offsetWidth:Pe}=Z[0];W=Ae+ge+Ze+_e+he+(Pe-ze)}}ce&&(Z[0].style.transform=ce),de&&(Z[0].style.webkitTransform=de),r.roundLengths&&(W=Math.floor(W))}else W=(a-(r.slidesPerView-1)*$)/r.slidesPerView,r.roundLengths&&(W=Math.floor(W)),k[Y]&&(k[Y].style[e("width")]=`${W}px`);k[Y]&&(k[Y].swiperSlideSize=W),L.push(W),r.centeredSlides?(U=U+W/2+j/2+$,j===0&&Y!==0&&(U=U-a/2-$),Y===0&&(U=U-a/2-$),Math.abs(U)<1/1e3&&(U=0),r.roundLengths&&(U=Math.floor(U)),H%r.slidesPerGroup===0&&C.push(U),I.push(U)):(r.roundLengths&&(U=Math.floor(U)),(H-Math.min(t.params.slidesPerGroupSkip,H))%t.params.slidesPerGroup===0&&C.push(U),I.push(U),U=U+W+$),t.virtualSize+=W+$,j=W,H+=1}}if(t.virtualSize=Math.max(t.virtualSize,a)+R,l&&h&&(r.effect==="slide"||r.effect==="coverflow")&&i.css({width:`${t.virtualSize+r.spaceBetween}px`}),r.setWrapperSize&&i.css({[e("width")]:`${t.virtualSize+r.spaceBetween}px`}),z&&t.grid.updateWrapperSize(W,C,e),!r.centeredSlides){const Y=[];for(let Z=0;Z<C.length;Z+=1){let X=C[Z];r.roundLengths&&(X=Math.floor(X)),C[Z]<=t.virtualSize-a&&Y.push(X)}C=Y,Math.floor(t.virtualSize-a)-Math.floor(C[C.length-1])>1&&C.push(t.virtualSize-a)}if(C.length===0&&(C=[0]),r.spaceBetween!==0){const Y=t.isHorizontal()&&l?"marginLeft":e("marginRight");k.filter((Z,X)=>r.cssMode?X!==k.length-1:!0).css({[Y]:`${$}px`})}if(r.centeredSlides&&r.centeredSlidesBounds){let Y=0;L.forEach(X=>{Y+=X+(r.spaceBetween?r.spaceBetween:0)}),Y-=r.spaceBetween;const Z=Y-a;C=C.map(X=>X<0?-N:X>Z?Z+R:X)}if(r.centerInsufficientSlides){let Y=0;if(L.forEach(Z=>{Y+=Z+(r.spaceBetween?r.spaceBetween:0)}),Y-=r.spaceBetween,Y<a){const Z=(a-Y)/2;C.forEach((X,ce)=>{C[ce]=X-Z}),I.forEach((X,ce)=>{I[ce]=X+Z})}}if(Object.assign(t,{slides:k,snapGrid:C,slidesGrid:I,slidesSizesGrid:L}),r.centeredSlides&&r.cssMode&&!r.centeredSlidesBounds){_u(t.wrapperEl,"--swiper-centered-offset-before",`${-C[0]}px`),_u(t.wrapperEl,"--swiper-centered-offset-after",`${t.size/2-L[L.length-1]/2}px`);const Y=-t.snapGrid[0],Z=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(X=>X+Y),t.slidesGrid=t.slidesGrid.map(X=>X+Z)}if(T!==g&&t.emit("slidesLengthChange"),C.length!==O&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),I.length!==A&&t.emit("slidesGridLengthChange"),r.watchSlidesProgress&&t.updateSlidesOffset(),!f&&!r.cssMode&&(r.effect==="slide"||r.effect==="fade")){const Y=`${r.containerModifierClass}backface-hidden`,Z=t.$el.hasClass(Y);T<=r.maxBackfaceHiddenSlides?Z||t.$el.addClass(Y):Z&&t.$el.removeClass(Y)}}function rF(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let i=0,a;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const l=h=>r?e.slides.filter(f=>parseInt(f.getAttribute("data-swiper-slide-index"),10)===h)[0]:e.slides.eq(h)[0];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||De([])).each(h=>{n.push(h)});else for(a=0;a<Math.ceil(e.params.slidesPerView);a+=1){const h=e.activeIndex+a;if(h>e.slides.length&&!r)break;n.push(l(h))}else n.push(l(e.activeIndex));for(a=0;a<n.length;a+=1)if(typeof n[a]<"u"){const h=n[a].offsetHeight;i=h>i?h:i}(i||i===0)&&e.$wrapperEl.css("height",`${i}px`)}function iF(){const t=this,e=t.slides;for(let n=0;n<e.length;n+=1)e[n].swiperSlideOffset=t.isHorizontal()?e[n].offsetLeft:e[n].offsetTop}function aF(t=this&&this.translate||0){const e=this,n=e.params,{slides:r,rtlTranslate:i,snapGrid:a}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let l=-t;i&&(l=t),r.removeClass(n.slideVisibleClass),e.visibleSlidesIndexes=[],e.visibleSlides=[];for(let h=0;h<r.length;h+=1){const f=r[h];let g=f.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(g-=r[0].swiperSlideOffset);const k=(l+(n.centeredSlides?e.minTranslate():0)-g)/(f.swiperSlideSize+n.spaceBetween),T=(l-a[0]+(n.centeredSlides?e.minTranslate():0)-g)/(f.swiperSlideSize+n.spaceBetween),C=-(l-g),I=C+e.slidesSizesGrid[h];(C>=0&&C<e.size-1||I>1&&I<=e.size||C<=0&&I>=e.size)&&(e.visibleSlides.push(f),e.visibleSlidesIndexes.push(h),r.eq(h).addClass(n.slideVisibleClass)),f.progress=i?-k:k,f.originalProgress=i?-T:T}e.visibleSlides=De(e.visibleSlides)}function sF(t){const e=this;if(typeof t>"u"){const g=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*g||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:i,isBeginning:a,isEnd:l}=e;const h=a,f=l;r===0?(i=0,a=!0,l=!0):(i=(t-e.minTranslate())/r,a=i<=0,l=i>=1),Object.assign(e,{progress:i,isBeginning:a,isEnd:l}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),a&&!h&&e.emit("reachBeginning toEdge"),l&&!f&&e.emit("reachEnd toEdge"),(h&&!a||f&&!l)&&e.emit("fromEdge"),e.emit("progress",i)}function oF(){const t=this,{slides:e,params:n,$wrapperEl:r,activeIndex:i,realIndex:a}=t,l=t.virtual&&n.virtual.enabled;e.removeClass(`${n.slideActiveClass} ${n.slideNextClass} ${n.slidePrevClass} ${n.slideDuplicateActiveClass} ${n.slideDuplicateNextClass} ${n.slideDuplicatePrevClass}`);let h;l?h=t.$wrapperEl.find(`.${n.slideClass}[data-swiper-slide-index="${i}"]`):h=e.eq(i),h.addClass(n.slideActiveClass),n.loop&&(h.hasClass(n.slideDuplicateClass)?r.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${a}"]`).addClass(n.slideDuplicateActiveClass):r.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${a}"]`).addClass(n.slideDuplicateActiveClass));let f=h.nextAll(`.${n.slideClass}`).eq(0).addClass(n.slideNextClass);n.loop&&f.length===0&&(f=e.eq(0),f.addClass(n.slideNextClass));let g=h.prevAll(`.${n.slideClass}`).eq(0).addClass(n.slidePrevClass);n.loop&&g.length===0&&(g=e.eq(-1),g.addClass(n.slidePrevClass)),n.loop&&(f.hasClass(n.slideDuplicateClass)?r.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${f.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicateNextClass):r.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${f.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicateNextClass),g.hasClass(n.slideDuplicateClass)?r.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${g.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicatePrevClass):r.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${g.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicatePrevClass)),t.emitSlidesClasses()}function lF(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{slidesGrid:r,snapGrid:i,params:a,activeIndex:l,realIndex:h,snapIndex:f}=e;let g=t,k;if(typeof g>"u"){for(let C=0;C<r.length;C+=1)typeof r[C+1]<"u"?n>=r[C]&&n<r[C+1]-(r[C+1]-r[C])/2?g=C:n>=r[C]&&n<r[C+1]&&(g=C+1):n>=r[C]&&(g=C);a.normalizeSlideIndex&&(g<0||typeof g>"u")&&(g=0)}if(i.indexOf(n)>=0)k=i.indexOf(n);else{const C=Math.min(a.slidesPerGroupSkip,g);k=C+Math.floor((g-C)/a.slidesPerGroup)}if(k>=i.length&&(k=i.length-1),g===l){k!==f&&(e.snapIndex=k,e.emit("snapIndexChange"));return}const T=parseInt(e.slides.eq(g).attr("data-swiper-slide-index")||g,10);Object.assign(e,{snapIndex:k,realIndex:T,previousIndex:l,activeIndex:g}),e.emit("activeIndexChange"),e.emit("snapIndexChange"),h!==T&&e.emit("realIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&e.emit("slideChange")}function cF(t){const e=this,n=e.params,r=De(t).closest(`.${n.slideClass}`)[0];let i=!1,a;if(r){for(let l=0;l<e.slides.length;l+=1)if(e.slides[l]===r){i=!0,a=l;break}}if(r&&i)e.clickedSlide=r,e.virtual&&e.params.virtual.enabled?e.clickedIndex=parseInt(De(r).attr("data-swiper-slide-index"),10):e.clickedIndex=a;else{e.clickedSlide=void 0,e.clickedIndex=void 0;return}n.slideToClickedSlide&&e.clickedIndex!==void 0&&e.clickedIndex!==e.activeIndex&&e.slideToClickedSlide()}const uF={updateSize:tF,updateSlides:nF,updateAutoHeight:rF,updateSlidesOffset:iF,updateSlidesProgress:aF,updateProgress:sF,updateSlidesClasses:oF,updateActiveIndex:lF,updateClickedSlide:cF};function dF(t=this.isHorizontal()?"x":"y"){const e=this,{params:n,rtlTranslate:r,translate:i,$wrapperEl:a}=e;if(n.virtualTranslate)return r?-i:i;if(n.cssMode)return i;let l=q2(a[0],t);return r&&(l=-l),l||0}function hF(t,e){const n=this,{rtlTranslate:r,params:i,$wrapperEl:a,wrapperEl:l,progress:h}=n;let f=0,g=0;const k=0;n.isHorizontal()?f=r?-t:t:g=t,i.roundLengths&&(f=Math.floor(f),g=Math.floor(g)),i.cssMode?l[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-f:-g:i.virtualTranslate||a.transform(`translate3d(${f}px, ${g}px, ${k}px)`),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?f:g;let T;const C=n.maxTranslate()-n.minTranslate();C===0?T=0:T=(t-n.minTranslate())/C,T!==h&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function fF(){return-this.snapGrid[0]}function _F(){return-this.snapGrid[this.snapGrid.length-1]}function pF(t=0,e=this.params.speed,n=!0,r=!0,i){const a=this,{params:l,wrapperEl:h}=a;if(a.animating&&l.preventInteractionOnTransition)return!1;const f=a.minTranslate(),g=a.maxTranslate();let k;if(r&&t>f?k=f:r&&t<g?k=g:k=t,a.updateProgress(k),l.cssMode){const T=a.isHorizontal();if(e===0)h[T?"scrollLeft":"scrollTop"]=-k;else{if(!a.support.smoothScroll)return eS({swiper:a,targetPosition:-k,side:T?"left":"top"}),!0;h.scrollTo({[T?"left":"top"]:-k,behavior:"smooth"})}return!0}return e===0?(a.setTransition(0),a.setTranslate(k),n&&(a.emit("beforeTransitionStart",e,i),a.emit("transitionEnd"))):(a.setTransition(e),a.setTranslate(k),n&&(a.emit("beforeTransitionStart",e,i),a.emit("transitionStart")),a.animating||(a.animating=!0,a.onTranslateToWrapperTransitionEnd||(a.onTranslateToWrapperTransitionEnd=function(C){!a||a.destroyed||C.target===this&&(a.$wrapperEl[0].removeEventListener("transitionend",a.onTranslateToWrapperTransitionEnd),a.$wrapperEl[0].removeEventListener("webkitTransitionEnd",a.onTranslateToWrapperTransitionEnd),a.onTranslateToWrapperTransitionEnd=null,delete a.onTranslateToWrapperTransitionEnd,n&&a.emit("transitionEnd"))}),a.$wrapperEl[0].addEventListener("transitionend",a.onTranslateToWrapperTransitionEnd),a.$wrapperEl[0].addEventListener("webkitTransitionEnd",a.onTranslateToWrapperTransitionEnd))),!0}const mF={getTranslate:dF,setTranslate:hF,minTranslate:fF,maxTranslate:_F,translateTo:pF};function gF(t,e){const n=this;n.params.cssMode||n.$wrapperEl.transition(t),n.emit("setTransition",t,e)}function nS({swiper:t,runCallbacks:e,direction:n,step:r}){const{activeIndex:i,previousIndex:a}=t;let l=n;if(l||(i>a?l="next":i<a?l="prev":l="reset"),t.emit(`transition${r}`),e&&i!==a){if(l==="reset"){t.emit(`slideResetTransition${r}`);return}t.emit(`slideChangeTransition${r}`),l==="next"?t.emit(`slideNextTransition${r}`):t.emit(`slidePrevTransition${r}`)}}function vF(t=!0,e){const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),nS({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function yF(t=!0,e){const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),nS({swiper:n,runCallbacks:t,direction:e,step:"End"}))}const bF={setTransition:gF,transitionStart:vF,transitionEnd:yF};function wF(t=0,e=this.params.speed,n=!0,r,i){if(typeof t!="number"&&typeof t!="string")throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof t}] given.`);if(typeof t=="string"){const $=parseInt(t,10);if(!isFinite($))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${t}] given.`);t=$}const a=this;let l=t;l<0&&(l=0);const{params:h,snapGrid:f,slidesGrid:g,previousIndex:k,activeIndex:T,rtlTranslate:C,wrapperEl:I,enabled:L}=a;if(a.animating&&h.preventInteractionOnTransition||!L&&!r&&!i)return!1;const N=Math.min(a.params.slidesPerGroupSkip,l);let R=N+Math.floor((l-N)/a.params.slidesPerGroup);R>=f.length&&(R=f.length-1);const O=-f[R];if(h.normalizeSlideIndex)for(let $=0;$<g.length;$+=1){const U=-Math.floor(O*100),j=Math.floor(g[$]*100),H=Math.floor(g[$+1]*100);typeof g[$+1]<"u"?U>=j&&U<H-(H-j)/2?l=$:U>=j&&U<H&&(l=$+1):U>=j&&(l=$)}if(a.initialized&&l!==T&&(!a.allowSlideNext&&O<a.translate&&O<a.minTranslate()||!a.allowSlidePrev&&O>a.translate&&O>a.maxTranslate()&&(T||0)!==l))return!1;l!==(k||0)&&n&&a.emit("beforeSlideChangeStart"),a.updateProgress(O);let A;if(l>T?A="next":l<T?A="prev":A="reset",C&&-O===a.translate||!C&&O===a.translate)return a.updateActiveIndex(l),h.autoHeight&&a.updateAutoHeight(),a.updateSlidesClasses(),h.effect!=="slide"&&a.setTranslate(O),A!=="reset"&&(a.transitionStart(n,A),a.transitionEnd(n,A)),!1;if(h.cssMode){const $=a.isHorizontal(),U=C?O:-O;if(e===0){const j=a.virtual&&a.params.virtual.enabled;j&&(a.wrapperEl.style.scrollSnapType="none",a._immediateVirtual=!0),I[$?"scrollLeft":"scrollTop"]=U,j&&requestAnimationFrame(()=>{a.wrapperEl.style.scrollSnapType="",a._swiperImmediateVirtual=!1})}else{if(!a.support.smoothScroll)return eS({swiper:a,targetPosition:U,side:$?"left":"top"}),!0;I.scrollTo({[$?"left":"top"]:U,behavior:"smooth"})}return!0}return a.setTransition(e),a.setTranslate(O),a.updateActiveIndex(l),a.updateSlidesClasses(),a.emit("beforeTransitionStart",e,r),a.transitionStart(n,A),e===0?a.transitionEnd(n,A):a.animating||(a.animating=!0,a.onSlideToWrapperTransitionEnd||(a.onSlideToWrapperTransitionEnd=function(U){!a||a.destroyed||U.target===this&&(a.$wrapperEl[0].removeEventListener("transitionend",a.onSlideToWrapperTransitionEnd),a.$wrapperEl[0].removeEventListener("webkitTransitionEnd",a.onSlideToWrapperTransitionEnd),a.onSlideToWrapperTransitionEnd=null,delete a.onSlideToWrapperTransitionEnd,a.transitionEnd(n,A))}),a.$wrapperEl[0].addEventListener("transitionend",a.onSlideToWrapperTransitionEnd),a.$wrapperEl[0].addEventListener("webkitTransitionEnd",a.onSlideToWrapperTransitionEnd)),!0}function xF(t=0,e=this.params.speed,n=!0,r){if(typeof t=="string"){const l=parseInt(t,10);if(!isFinite(l))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${t}] given.`);t=l}const i=this;let a=t;return i.params.loop&&(a+=i.loopedSlides),i.slideTo(a,e,n,r)}function EF(t=this.params.speed,e=!0,n){const r=this,{animating:i,enabled:a,params:l}=r;if(!a)return r;let h=l.slidesPerGroup;l.slidesPerView==="auto"&&l.slidesPerGroup===1&&l.slidesPerGroupAuto&&(h=Math.max(r.slidesPerViewDynamic("current",!0),1));const f=r.activeIndex<l.slidesPerGroupSkip?1:h;if(l.loop){if(i&&l.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}return l.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+f,t,e,n)}function kF(t=this.params.speed,e=!0,n){const r=this,{params:i,animating:a,snapGrid:l,slidesGrid:h,rtlTranslate:f,enabled:g}=r;if(!g)return r;if(i.loop){if(a&&i.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}const k=f?r.translate:-r.translate;function T(R){return R<0?-Math.floor(Math.abs(R)):Math.floor(R)}const C=T(k),I=l.map(R=>T(R));let L=l[I.indexOf(C)-1];if(typeof L>"u"&&i.cssMode){let R;l.forEach((O,A)=>{C>=O&&(R=A)}),typeof R<"u"&&(L=l[R>0?R-1:R])}let N=0;if(typeof L<"u"&&(N=h.indexOf(L),N<0&&(N=r.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(N=N-r.slidesPerViewDynamic("previous",!0)+1,N=Math.max(N,0))),i.rewind&&r.isBeginning){const R=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(R,t,e,n)}return r.slideTo(N,t,e,n)}function SF(t=this.params.speed,e=!0,n){const r=this;return r.slideTo(r.activeIndex,t,e,n)}function CF(t=this.params.speed,e=!0,n,r=.5){const i=this;let a=i.activeIndex;const l=Math.min(i.params.slidesPerGroupSkip,a),h=l+Math.floor((a-l)/i.params.slidesPerGroup),f=i.rtlTranslate?i.translate:-i.translate;if(f>=i.snapGrid[h]){const g=i.snapGrid[h],k=i.snapGrid[h+1];f-g>(k-g)*r&&(a+=i.params.slidesPerGroup)}else{const g=i.snapGrid[h-1],k=i.snapGrid[h];f-g<=(k-g)*r&&(a-=i.params.slidesPerGroup)}return a=Math.max(a,0),a=Math.min(a,i.slidesGrid.length-1),i.slideTo(a,t,e,n)}function TF(){const t=this,{params:e,$wrapperEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let i=t.clickedIndex,a;if(e.loop){if(t.animating)return;a=parseInt(De(t.clickedSlide).attr("data-swiper-slide-index"),10),e.centeredSlides?i<t.loopedSlides-r/2||i>t.slides.length-t.loopedSlides+r/2?(t.loopFix(),i=n.children(`.${e.slideClass}[data-swiper-slide-index="${a}"]:not(.${e.slideDuplicateClass})`).eq(0).index(),Ld(()=>{t.slideTo(i)})):t.slideTo(i):i>t.slides.length-r?(t.loopFix(),i=n.children(`.${e.slideClass}[data-swiper-slide-index="${a}"]:not(.${e.slideDuplicateClass})`).eq(0).index(),Ld(()=>{t.slideTo(i)})):t.slideTo(i)}else t.slideTo(i)}const NF={slideTo:wF,slideToLoop:xF,slideNext:EF,slidePrev:kF,slideReset:SF,slideToClosest:CF,slideToClickedSlide:TF};function DF(){const t=this,e=bn(),{params:n,$wrapperEl:r}=t,i=r.children().length>0?De(r.children()[0].parentNode):r;i.children(`.${n.slideClass}.${n.slideDuplicateClass}`).remove();let a=i.children(`.${n.slideClass}`);if(n.loopFillGroupWithBlank){const f=n.slidesPerGroup-a.length%n.slidesPerGroup;if(f!==n.slidesPerGroup){for(let g=0;g<f;g+=1){const k=De(e.createElement("div")).addClass(`${n.slideClass} ${n.slideBlankClass}`);i.append(k)}a=i.children(`.${n.slideClass}`)}}n.slidesPerView==="auto"&&!n.loopedSlides&&(n.loopedSlides=a.length),t.loopedSlides=Math.ceil(parseFloat(n.loopedSlides||n.slidesPerView,10)),t.loopedSlides+=n.loopAdditionalSlides,t.loopedSlides>a.length&&t.params.loopedSlidesLimit&&(t.loopedSlides=a.length);const l=[],h=[];a.each((f,g)=>{De(f).attr("data-swiper-slide-index",g)});for(let f=0;f<t.loopedSlides;f+=1){const g=f-Math.floor(f/a.length)*a.length;h.push(a.eq(g)[0]),l.unshift(a.eq(a.length-g-1)[0])}for(let f=0;f<h.length;f+=1)i.append(De(h[f].cloneNode(!0)).addClass(n.slideDuplicateClass));for(let f=l.length-1;f>=0;f-=1)i.prepend(De(l[f].cloneNode(!0)).addClass(n.slideDuplicateClass))}function IF(){const t=this;t.emit("beforeLoopFix");const{activeIndex:e,slides:n,loopedSlides:r,allowSlidePrev:i,allowSlideNext:a,snapGrid:l,rtlTranslate:h}=t;let f;t.allowSlidePrev=!0,t.allowSlideNext=!0;const k=-l[e]-t.getTranslate();e<r?(f=n.length-r*3+e,f+=r,t.slideTo(f,0,!1,!0)&&k!==0&&t.setTranslate((h?-t.translate:t.translate)-k)):e>=n.length-r&&(f=-n.length+e+r,f+=r,t.slideTo(f,0,!1,!0)&&k!==0&&t.setTranslate((h?-t.translate:t.translate)-k)),t.allowSlidePrev=i,t.allowSlideNext=a,t.emit("loopFix")}function AF(){const t=this,{$wrapperEl:e,params:n,slides:r}=t;e.children(`.${n.slideClass}.${n.slideDuplicateClass},.${n.slideClass}.${n.slideBlankClass}`).remove(),r.removeAttr("data-swiper-slide-index")}const OF={loopCreate:DF,loopFix:IF,loopDestroy:AF};function MF(t){const e=this;if(e.support.touch||!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;n.style.cursor="move",n.style.cursor=t?"grabbing":"grab"}function PF(){const t=this;t.support.touch||t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="")}const LF={setGrabCursor:MF,unsetGrabCursor:PF};function RF(t,e=this){function n(r){if(!r||r===bn()||r===hn())return null;r.assignedSlot&&(r=r.assignedSlot);const i=r.closest(t);return!i&&!r.getRootNode?null:i||n(r.getRootNode().host)}return n(e)}function $F(t){const e=this,n=bn(),r=hn(),i=e.touchEventsData,{params:a,touches:l,enabled:h}=e;if(!h||e.animating&&a.preventInteractionOnTransition)return;!e.animating&&a.cssMode&&a.loop&&e.loopFix();let f=t;f.originalEvent&&(f=f.originalEvent);let g=De(f.target);if(a.touchEventsTarget==="wrapper"&&!g.closest(e.wrapperEl).length||(i.isTouchEvent=f.type==="touchstart",!i.isTouchEvent&&"which"in f&&f.which===3)||!i.isTouchEvent&&"button"in f&&f.button>0||i.isTouched&&i.isMoved)return;const k=!!a.noSwipingClass&&a.noSwipingClass!=="",T=t.composedPath?t.composedPath():t.path;k&&f.target&&f.target.shadowRoot&&T&&(g=De(T[0]));const C=a.noSwipingSelector?a.noSwipingSelector:`.${a.noSwipingClass}`,I=!!(f.target&&f.target.shadowRoot);if(a.noSwiping&&(I?RF(C,g[0]):g.closest(C)[0])){e.allowClick=!0;return}if(a.swipeHandler&&!g.closest(a.swipeHandler)[0])return;l.currentX=f.type==="touchstart"?f.targetTouches[0].pageX:f.pageX,l.currentY=f.type==="touchstart"?f.targetTouches[0].pageY:f.pageY;const L=l.currentX,N=l.currentY,R=a.edgeSwipeDetection||a.iOSEdgeSwipeDetection,O=a.edgeSwipeThreshold||a.iOSEdgeSwipeThreshold;if(R&&(L<=O||L>=r.innerWidth-O))if(R==="prevent")t.preventDefault();else return;if(Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),l.startX=L,l.startY=N,i.touchStartTime=Xl(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,a.threshold>0&&(i.allowThresholdMove=!1),f.type!=="touchstart"){let A=!0;g.is(i.focusableElements)&&(A=!1,g[0].nodeName==="SELECT"&&(i.isTouched=!1)),n.activeElement&&De(n.activeElement).is(i.focusableElements)&&n.activeElement!==g[0]&&n.activeElement.blur();const $=A&&e.allowTouchMove&&a.touchStartPreventDefault;(a.touchStartForcePreventDefault||$)&&!g[0].isContentEditable&&f.preventDefault()}e.params.freeMode&&e.params.freeMode.enabled&&e.freeMode&&e.animating&&!a.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",f)}function FF(t){const e=bn(),n=this,r=n.touchEventsData,{params:i,touches:a,rtlTranslate:l,enabled:h}=n;if(!h)return;let f=t;if(f.originalEvent&&(f=f.originalEvent),!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",f);return}if(r.isTouchEvent&&f.type!=="touchmove")return;const g=f.type==="touchmove"&&f.targetTouches&&(f.targetTouches[0]||f.changedTouches[0]),k=f.type==="touchmove"?g.pageX:f.pageX,T=f.type==="touchmove"?g.pageY:f.pageY;if(f.preventedByNestedSwiper){a.startX=k,a.startY=T;return}if(!n.allowTouchMove){De(f.target).is(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(a,{startX:k,startY:T,currentX:k,currentY:T}),r.touchStartTime=Xl());return}if(r.isTouchEvent&&i.touchReleaseOnEdges&&!i.loop){if(n.isVertical()){if(T<a.startY&&n.translate<=n.maxTranslate()||T>a.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else if(k<a.startX&&n.translate<=n.maxTranslate()||k>a.startX&&n.translate>=n.minTranslate())return}if(r.isTouchEvent&&e.activeElement&&f.target===e.activeElement&&De(f.target).is(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}if(r.allowTouchCallbacks&&n.emit("touchMove",f),f.targetTouches&&f.targetTouches.length>1)return;a.currentX=k,a.currentY=T;const C=a.currentX-a.startX,I=a.currentY-a.startY;if(n.params.threshold&&Math.sqrt(C**2+I**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let O;n.isHorizontal()&&a.currentY===a.startY||n.isVertical()&&a.currentX===a.startX?r.isScrolling=!1:C*C+I*I>=25&&(O=Math.atan2(Math.abs(I),Math.abs(C))*180/Math.PI,r.isScrolling=n.isHorizontal()?O>i.touchAngle:90-O>i.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",f),typeof r.startMoving>"u"&&(a.currentX!==a.startX||a.currentY!==a.startY)&&(r.startMoving=!0),r.isScrolling){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!i.cssMode&&f.cancelable&&f.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&f.stopPropagation(),r.isMoved||(i.loop&&!i.cssMode&&n.loopFix(),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating&&n.$wrapperEl.trigger("webkitTransitionEnd transitionend"),r.allowMomentumBounce=!1,i.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",f)),n.emit("sliderMove",f),r.isMoved=!0;let L=n.isHorizontal()?C:I;a.diff=L,L*=i.touchRatio,l&&(L=-L),n.swipeDirection=L>0?"prev":"next",r.currentTranslate=L+r.startTranslate;let N=!0,R=i.resistanceRatio;if(i.touchReleaseOnEdges&&(R=0),L>0&&r.currentTranslate>n.minTranslate()?(N=!1,i.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+L)**R)):L<0&&r.currentTranslate<n.maxTranslate()&&(N=!1,i.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-L)**R)),N&&(f.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),i.threshold>0)if(Math.abs(L)>i.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,a.startX=a.currentX,a.startY=a.currentY,r.currentTranslate=r.startTranslate,a.diff=n.isHorizontal()?a.currentX-a.startX:a.currentY-a.startY;return}}else{r.currentTranslate=r.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),n.params.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function UF(t){const e=this,n=e.touchEventsData,{params:r,touches:i,rtlTranslate:a,slidesGrid:l,enabled:h}=e;if(!h)return;let f=t;if(f.originalEvent&&(f=f.originalEvent),n.allowTouchCallbacks&&e.emit("touchEnd",f),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&r.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}r.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const g=Xl(),k=g-n.touchStartTime;if(e.allowClick){const A=f.path||f.composedPath&&f.composedPath();e.updateClickedSlide(A&&A[0]||f.target),e.emit("tap click",f),k<300&&g-n.lastClickTime<300&&e.emit("doubleTap doubleClick",f)}if(n.lastClickTime=Xl(),Ld(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||i.diff===0||n.currentTranslate===n.startTranslate){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let T;if(r.followFinger?T=a?e.translate:-e.translate:T=-n.currentTranslate,r.cssMode)return;if(e.params.freeMode&&r.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:T});return}let C=0,I=e.slidesSizesGrid[0];for(let A=0;A<l.length;A+=A<r.slidesPerGroupSkip?1:r.slidesPerGroup){const $=A<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;typeof l[A+$]<"u"?T>=l[A]&&T<l[A+$]&&(C=A,I=l[A+$]-l[A]):T>=l[A]&&(C=A,I=l[l.length-1]-l[l.length-2])}let L=null,N=null;r.rewind&&(e.isBeginning?N=e.params.virtual&&e.params.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(L=0));const R=(T-l[C])/I,O=C<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;if(k>r.longSwipesMs){if(!r.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(R>=r.longSwipesRatio?e.slideTo(r.rewind&&e.isEnd?L:C+O):e.slideTo(C)),e.swipeDirection==="prev"&&(R>1-r.longSwipesRatio?e.slideTo(C+O):N!==null&&R<0&&Math.abs(R)>r.longSwipesRatio?e.slideTo(N):e.slideTo(C))}else{if(!r.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(f.target===e.navigation.nextEl||f.target===e.navigation.prevEl)?f.target===e.navigation.nextEl?e.slideTo(C+O):e.slideTo(C):(e.swipeDirection==="next"&&e.slideTo(L!==null?L:C+O),e.swipeDirection==="prev"&&e.slideTo(N!==null?N:C))}}function X0(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:i,snapGrid:a}=t;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses(),(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides?t.slideTo(t.slides.length-1,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.run(),t.allowSlidePrev=i,t.allowSlideNext=r,t.params.watchOverflow&&a!==t.snapGrid&&t.checkOverflow()}function jF(t){const e=this;!e.enabled||e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation()))}function VF(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let i;const a=t.maxTranslate()-t.minTranslate();a===0?i=0:i=(t.translate-t.minTranslate())/a,i!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}let Z0=!1;function zF(){}const rS=(t,e)=>{const n=bn(),{params:r,touchEvents:i,el:a,wrapperEl:l,device:h,support:f}=t,g=!!r.nested,k=e==="on"?"addEventListener":"removeEventListener",T=e;if(!f.touch)a[k](i.start,t.onTouchStart,!1),n[k](i.move,t.onTouchMove,g),n[k](i.end,t.onTouchEnd,!1);else{const C=i.start==="touchstart"&&f.passiveListener&&r.passiveListeners?{passive:!0,capture:!1}:!1;a[k](i.start,t.onTouchStart,C),a[k](i.move,t.onTouchMove,f.passiveListener?{passive:!1,capture:g}:g),a[k](i.end,t.onTouchEnd,C),i.cancel&&a[k](i.cancel,t.onTouchEnd,C)}(r.preventClicks||r.preventClicksPropagation)&&a[k]("click",t.onClick,!0),r.cssMode&&l[k]("scroll",t.onScroll),r.updateOnWindowResize?t[T](h.ios||h.android?"resize orientationchange observerUpdate":"resize observerUpdate",X0,!0):t[T]("observerUpdate",X0,!0)};function HF(){const t=this,e=bn(),{params:n,support:r}=t;t.onTouchStart=$F.bind(t),t.onTouchMove=FF.bind(t),t.onTouchEnd=UF.bind(t),n.cssMode&&(t.onScroll=VF.bind(t)),t.onClick=jF.bind(t),r.touch&&!Z0&&(e.addEventListener("touchstart",zF),Z0=!0),rS(t,"on")}function BF(){rS(this,"off")}const qF={attachEvents:HF,detachEvents:BF},eb=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function WF(){const t=this,{activeIndex:e,initialized:n,loopedSlides:r=0,params:i,$el:a}=t,l=i.breakpoints;if(!l||l&&Object.keys(l).length===0)return;const h=t.getBreakpoint(l,t.params.breakpointsBase,t.el);if(!h||t.currentBreakpoint===h)return;const g=(h in l?l[h]:void 0)||t.originalParams,k=eb(t,i),T=eb(t,g),C=i.enabled;k&&!T?(a.removeClass(`${i.containerModifierClass}grid ${i.containerModifierClass}grid-column`),t.emitContainerClasses()):!k&&T&&(a.addClass(`${i.containerModifierClass}grid`),(g.grid.fill&&g.grid.fill==="column"||!g.grid.fill&&i.grid.fill==="column")&&a.addClass(`${i.containerModifierClass}grid-column`),t.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(R=>{const O=i[R]&&i[R].enabled,A=g[R]&&g[R].enabled;O&&!A&&t[R].disable(),!O&&A&&t[R].enable()});const I=g.direction&&g.direction!==i.direction,L=i.loop&&(g.slidesPerView!==i.slidesPerView||I);I&&n&&t.changeDirection(),or(t.params,g);const N=t.params.enabled;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),C&&!N?t.disable():!C&&N&&t.enable(),t.currentBreakpoint=h,t.emit("_beforeBreakpoint",g),L&&n&&(t.loopDestroy(),t.loopCreate(),t.updateSlides(),t.slideTo(e-r+t.loopedSlides,0,!1)),t.emit("breakpoint",g)}function GF(t,e="window",n){if(!t||e==="container"&&!n)return;let r=!1;const i=hn(),a=e==="window"?i.innerHeight:n.clientHeight,l=Object.keys(t).map(h=>{if(typeof h=="string"&&h.indexOf("@")===0){const f=parseFloat(h.substr(1));return{value:a*f,point:h}}return{value:h,point:h}});l.sort((h,f)=>parseInt(h.value,10)-parseInt(f.value,10));for(let h=0;h<l.length;h+=1){const{point:f,value:g}=l[h];e==="window"?i.matchMedia(`(min-width: ${g}px)`).matches&&(r=f):g<=n.clientWidth&&(r=f)}return r||"max"}const KF={setBreakpoint:WF,getBreakpoint:GF};function YF(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(i=>{r[i]&&n.push(e+i)}):typeof r=="string"&&n.push(e+r)}),n}function JF(){const t=this,{classNames:e,params:n,rtl:r,$el:i,device:a,support:l}=t,h=YF(["initialized",n.direction,{"pointer-events":!l.touch},{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:a.android},{ios:a.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...h),i.addClass([...e].join(" ")),t.emitContainerClasses()}function QF(){const t=this,{$el:e,classNames:n}=t;e.removeClass(n.join(" ")),t.emitContainerClasses()}const XF={addClasses:JF,removeClasses:QF};function ZF(t,e,n,r,i,a){const l=hn();let h;function f(){a&&a()}!De(t).parent("picture")[0]&&(!t.complete||!i)&&e?(h=new l.Image,h.onload=f,h.onerror=f,r&&(h.sizes=r),n&&(h.srcset=n),e&&(h.src=e)):f()}function eU(){const t=this;t.imagesToLoad=t.$el.find("img");function e(){typeof t>"u"||t===null||!t||t.destroyed||(t.imagesLoaded!==void 0&&(t.imagesLoaded+=1),t.imagesLoaded===t.imagesToLoad.length&&(t.params.updateOnImagesReady&&t.update(),t.emit("imagesReady")))}for(let n=0;n<t.imagesToLoad.length;n+=1){const r=t.imagesToLoad[n];t.loadImage(r,r.currentSrc||r.getAttribute("src"),r.srcset||r.getAttribute("srcset"),r.sizes||r.getAttribute("sizes"),!0,e)}}const tU={loadImage:ZF,preloadImages:eU};function nU(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const i=t.slides.length-1,a=t.slidesGrid[i]+t.slidesSizesGrid[i]+r*2;t.isLocked=t.size>a}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}const rU={checkOverflow:nU},tb={init:!0,direction:"horizontal",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopedSlidesLimit:!0,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function iU(t,e){return function(r={}){const i=Object.keys(r)[0],a=r[i];if(typeof a!="object"||a===null){or(e,r);return}if(["navigation","pagination","scrollbar"].indexOf(i)>=0&&t[i]===!0&&(t[i]={auto:!0}),!(i in t&&"enabled"in a)){or(e,r);return}t[i]===!0&&(t[i]={enabled:!0}),typeof t[i]=="object"&&!("enabled"in t[i])&&(t[i].enabled=!0),t[i]||(t[i]={enabled:!1}),or(e,r)}}const Ff={eventsEmitter:eF,update:uF,translate:mF,transition:bF,slide:NF,loop:OF,grabCursor:LF,events:qF,breakpoints:KF,checkOverflow:rU,classes:XF,images:tU},Uf={};class Rn{constructor(...e){let n,r;if(e.length===1&&e[0].constructor&&Object.prototype.toString.call(e[0]).slice(8,-1)==="Object"?r=e[0]:[n,r]=e,r||(r={}),r=or({},r),n&&!r.el&&(r.el=n),r.el&&De(r.el).length>1){const h=[];return De(r.el).each(f=>{const g=or({},r,{el:f});h.push(new Rn(g))}),h}const i=this;i.__swiper__=!0,i.support=tS(),i.device=Y2({userAgent:r.userAgent}),i.browser=Q2(),i.eventsListeners={},i.eventsAnyListeners=[],i.modules=[...i.__modules__],r.modules&&Array.isArray(r.modules)&&i.modules.push(...r.modules);const a={};i.modules.forEach(h=>{h({swiper:i,extendParams:iU(r,a),on:i.on.bind(i),once:i.once.bind(i),off:i.off.bind(i),emit:i.emit.bind(i)})});const l=or({},tb,a);return i.params=or({},l,Uf,r),i.originalParams=or({},i.params),i.passedParams=or({},r),i.params&&i.params.on&&Object.keys(i.params.on).forEach(h=>{i.on(h,i.params.on[h])}),i.params&&i.params.onAny&&i.onAny(i.params.onAny),i.$=De,Object.assign(i,{enabled:i.params.enabled,el:n,classNames:[],slides:De(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return i.params.direction==="horizontal"},isVertical(){return i.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:i.params.allowSlideNext,allowSlidePrev:i.params.allowSlidePrev,touchEvents:function(){const f=["touchstart","touchmove","touchend","touchcancel"],g=["pointerdown","pointermove","pointerup"];return i.touchEventsTouch={start:f[0],move:f[1],end:f[2],cancel:f[3]},i.touchEventsDesktop={start:g[0],move:g[1],end:g[2]},i.support.touch||!i.params.simulateTouch?i.touchEventsTouch:i.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:i.params.focusableElements,lastClickTime:Xl(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:i.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),i.emit("_swiper"),i.params.init&&i.init(),i}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;!e.enabled||(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const i=r.minTranslate(),l=(r.maxTranslate()-i)*e+i;r.translateTo(l,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.each(r=>{const i=e.getSlideClasses(r);n.push({slideEl:r,classNames:i}),e.emit("_slideClass",r,i)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e="current",n=!1){const r=this,{params:i,slides:a,slidesGrid:l,slidesSizesGrid:h,size:f,activeIndex:g}=r;let k=1;if(i.centeredSlides){let T=a[g].swiperSlideSize,C;for(let I=g+1;I<a.length;I+=1)a[I]&&!C&&(T+=a[I].swiperSlideSize,k+=1,T>f&&(C=!0));for(let I=g-1;I>=0;I-=1)a[I]&&!C&&(T+=a[I].swiperSlideSize,k+=1,T>f&&(C=!0))}else if(e==="current")for(let T=g+1;T<a.length;T+=1)(n?l[T]+h[T]-l[g]<f:l[T]-l[g]<f)&&(k+=1);else for(let T=g-1;T>=0;T-=1)l[g]-l[T]<f&&(k+=1);return k}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function i(){const l=e.rtlTranslate?e.translate*-1:e.translate,h=Math.min(Math.max(l,e.maxTranslate()),e.minTranslate());e.setTranslate(h),e.updateActiveIndex(),e.updateSlidesClasses()}let a;e.params.freeMode&&e.params.freeMode.enabled?(i(),e.params.autoHeight&&e.updateAutoHeight()):((e.params.slidesPerView==="auto"||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?a=e.slideTo(e.slides.length-1,0,!1,!0):a=e.slideTo(e.activeIndex,0,!1,!0),a||i()),r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n=!0){const r=this,i=r.params.direction;return e||(e=i==="horizontal"?"vertical":"horizontal"),e===i||e!=="horizontal"&&e!=="vertical"||(r.$el.removeClass(`${r.params.containerModifierClass}${i}`).addClass(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.each(a=>{e==="vertical"?a.style.width="":a.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.$el.addClass(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.$el.removeClass(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;const r=De(e||n.params.el);if(e=r[0],!e)return!1;e.swiper=n;const i=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let l=(()=>{if(e&&e.shadowRoot&&e.shadowRoot.querySelector){const h=De(e.shadowRoot.querySelector(i()));return h.children=f=>r.children(f),h}return r.children?r.children(i()):De(r).children(i())})();if(l.length===0&&n.params.createElements){const f=bn().createElement("div");l=De(f),f.className=n.params.wrapperClass,r.append(f),r.children(`.${n.params.slideClass}`).each(g=>{l.append(g)})}return Object.assign(n,{$el:r,el:e,$wrapperEl:l,wrapperEl:l[0],mounted:!0,rtl:e.dir.toLowerCase()==="rtl"||r.css("direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(e.dir.toLowerCase()==="rtl"||r.css("direction")==="rtl"),wrongRTL:l.css("display")==="-webkit-box"}),!0}init(e){const n=this;return n.initialized||n.mount(e)===!1||(n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.params.loop&&n.loopCreate(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.preloadImages&&n.preloadImages(),n.params.loop?n.slideTo(n.params.initialSlide+n.loopedSlides,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.attachEvents(),n.initialized=!0,n.emit("init"),n.emit("afterInit")),n}destroy(e=!0,n=!0){const r=this,{params:i,$el:a,$wrapperEl:l,slides:h}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),i.loop&&r.loopDestroy(),n&&(r.removeClasses(),a.removeAttr("style"),l.removeAttr("style"),h&&h.length&&h.removeClass([i.slideVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(f=>{r.off(f)}),e!==!1&&(r.$el[0].swiper=null,H2(r)),r.destroyed=!0),null}static extendDefaults(e){or(Uf,e)}static get extendedDefaults(){return Uf}static get defaults(){return tb}static installModule(e){Rn.prototype.__modules__||(Rn.prototype.__modules__=[]);const n=Rn.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>Rn.installModule(n)),Rn):(Rn.installModule(e),Rn)}}Object.keys(Ff).forEach(t=>{Object.keys(Ff[t]).forEach(e=>{Rn.prototype[e]=Ff[t][e]})});Rn.use([X2,Z2]);function iS(t,e,n,r){const i=bn();return t.params.createElements&&Object.keys(r).forEach(a=>{if(!n[a]&&n.auto===!0){let l=t.$el.children(`.${r[a]}`)[0];l||(l=i.createElement("div"),l.className=r[a],t.$el.append(l)),n[a]=l,e[a]=l}}),n}function aS({swiper:t,extendParams:e,on:n,emit:r}){e({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,$nextEl:null,prevEl:null,$prevEl:null};function i(I){let L;return I&&(L=De(I),t.params.uniqueNavElements&&typeof I=="string"&&L.length>1&&t.$el.find(I).length===1&&(L=t.$el.find(I))),L}function a(I,L){const N=t.params.navigation;I&&I.length>0&&(I[L?"addClass":"removeClass"](N.disabledClass),I[0]&&I[0].tagName==="BUTTON"&&(I[0].disabled=L),t.params.watchOverflow&&t.enabled&&I[t.isLocked?"addClass":"removeClass"](N.lockClass))}function l(){if(t.params.loop)return;const{$nextEl:I,$prevEl:L}=t.navigation;a(L,t.isBeginning&&!t.params.rewind),a(I,t.isEnd&&!t.params.rewind)}function h(I){I.preventDefault(),!(t.isBeginning&&!t.params.loop&&!t.params.rewind)&&(t.slidePrev(),r("navigationPrev"))}function f(I){I.preventDefault(),!(t.isEnd&&!t.params.loop&&!t.params.rewind)&&(t.slideNext(),r("navigationNext"))}function g(){const I=t.params.navigation;if(t.params.navigation=iS(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(I.nextEl||I.prevEl))return;const L=i(I.nextEl),N=i(I.prevEl);L&&L.length>0&&L.on("click",f),N&&N.length>0&&N.on("click",h),Object.assign(t.navigation,{$nextEl:L,nextEl:L&&L[0],$prevEl:N,prevEl:N&&N[0]}),t.enabled||(L&&L.addClass(I.lockClass),N&&N.addClass(I.lockClass))}function k(){const{$nextEl:I,$prevEl:L}=t.navigation;I&&I.length&&(I.off("click",f),I.removeClass(t.params.navigation.disabledClass)),L&&L.length&&(L.off("click",h),L.removeClass(t.params.navigation.disabledClass))}n("init",()=>{t.params.navigation.enabled===!1?C():(g(),l())}),n("toEdge fromEdge lock unlock",()=>{l()}),n("destroy",()=>{k()}),n("enable disable",()=>{const{$nextEl:I,$prevEl:L}=t.navigation;I&&I[t.enabled?"removeClass":"addClass"](t.params.navigation.lockClass),L&&L[t.enabled?"removeClass":"addClass"](t.params.navigation.lockClass)}),n("click",(I,L)=>{const{$nextEl:N,$prevEl:R}=t.navigation,O=L.target;if(t.params.navigation.hideOnClick&&!De(O).is(R)&&!De(O).is(N)){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===O||t.pagination.el.contains(O)))return;let A;N?A=N.hasClass(t.params.navigation.hiddenClass):R&&(A=R.hasClass(t.params.navigation.hiddenClass)),r(A===!0?"navigationShow":"navigationHide"),N&&N.toggleClass(t.params.navigation.hiddenClass),R&&R.toggleClass(t.params.navigation.hiddenClass)}});const T=()=>{t.$el.removeClass(t.params.navigation.navigationDisabledClass),g(),l()},C=()=>{t.$el.addClass(t.params.navigation.navigationDisabledClass),k()};Object.assign(t.navigation,{enable:T,disable:C,update:l,init:g,destroy:k})}function cs(t=""){return`.${t.trim().replace(/([\.:!\/])/g,"\\$1").replace(/ /g,".")}`}function sS({swiper:t,extendParams:e,on:n,emit:r}){const i="swiper-pagination";e({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:N=>N,formatFractionTotal:N=>N,bulletClass:`${i}-bullet`,bulletActiveClass:`${i}-bullet-active`,modifierClass:`${i}-`,currentClass:`${i}-current`,totalClass:`${i}-total`,hiddenClass:`${i}-hidden`,progressbarFillClass:`${i}-progressbar-fill`,progressbarOppositeClass:`${i}-progressbar-opposite`,clickableClass:`${i}-clickable`,lockClass:`${i}-lock`,horizontalClass:`${i}-horizontal`,verticalClass:`${i}-vertical`,paginationDisabledClass:`${i}-disabled`}}),t.pagination={el:null,$el:null,bullets:[]};let a,l=0;function h(){return!t.params.pagination.el||!t.pagination.el||!t.pagination.$el||t.pagination.$el.length===0}function f(N,R){const{bulletActiveClass:O}=t.params.pagination;N[R]().addClass(`${O}-${R}`)[R]().addClass(`${O}-${R}-${R}`)}function g(){const N=t.rtl,R=t.params.pagination;if(h())return;const O=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,A=t.pagination.$el;let $;const U=t.params.loop?Math.ceil((O-t.loopedSlides*2)/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?($=Math.ceil((t.activeIndex-t.loopedSlides)/t.params.slidesPerGroup),$>O-1-t.loopedSlides*2&&($-=O-t.loopedSlides*2),$>U-1&&($-=U),$<0&&t.params.paginationType!=="bullets"&&($=U+$)):typeof t.snapIndex<"u"?$=t.snapIndex:$=t.activeIndex||0,R.type==="bullets"&&t.pagination.bullets&&t.pagination.bullets.length>0){const j=t.pagination.bullets;let H,z,W;if(R.dynamicBullets&&(a=j.eq(0)[t.isHorizontal()?"outerWidth":"outerHeight"](!0),A.css(t.isHorizontal()?"width":"height",`${a*(R.dynamicMainBullets+4)}px`),R.dynamicMainBullets>1&&t.previousIndex!==void 0&&(l+=$-(t.previousIndex-t.loopedSlides||0),l>R.dynamicMainBullets-1?l=R.dynamicMainBullets-1:l<0&&(l=0)),H=Math.max($-l,0),z=H+(Math.min(j.length,R.dynamicMainBullets)-1),W=(z+H)/2),j.removeClass(["","-next","-next-next","-prev","-prev-prev","-main"].map(q=>`${R.bulletActiveClass}${q}`).join(" ")),A.length>1)j.each(q=>{const Y=De(q),Z=Y.index();Z===$&&Y.addClass(R.bulletActiveClass),R.dynamicBullets&&(Z>=H&&Z<=z&&Y.addClass(`${R.bulletActiveClass}-main`),Z===H&&f(Y,"prev"),Z===z&&f(Y,"next"))});else{const q=j.eq($),Y=q.index();if(q.addClass(R.bulletActiveClass),R.dynamicBullets){const Z=j.eq(H),X=j.eq(z);for(let ce=H;ce<=z;ce+=1)j.eq(ce).addClass(`${R.bulletActiveClass}-main`);if(t.params.loop)if(Y>=j.length){for(let ce=R.dynamicMainBullets;ce>=0;ce-=1)j.eq(j.length-ce).addClass(`${R.bulletActiveClass}-main`);j.eq(j.length-R.dynamicMainBullets-1).addClass(`${R.bulletActiveClass}-prev`)}else f(Z,"prev"),f(X,"next");else f(Z,"prev"),f(X,"next")}}if(R.dynamicBullets){const q=Math.min(j.length,R.dynamicMainBullets+4),Y=(a*q-a)/2-W*a,Z=N?"right":"left";j.css(t.isHorizontal()?Z:"top",`${Y}px`)}}if(R.type==="fraction"&&(A.find(cs(R.currentClass)).text(R.formatFractionCurrent($+1)),A.find(cs(R.totalClass)).text(R.formatFractionTotal(U))),R.type==="progressbar"){let j;R.progressbarOpposite?j=t.isHorizontal()?"vertical":"horizontal":j=t.isHorizontal()?"horizontal":"vertical";const H=($+1)/U;let z=1,W=1;j==="horizontal"?z=H:W=H,A.find(cs(R.progressbarFillClass)).transform(`translate3d(0,0,0) scaleX(${z}) scaleY(${W})`).transition(t.params.speed)}R.type==="custom"&&R.renderCustom?(A.html(R.renderCustom(t,$+1,U)),r("paginationRender",A[0])):r("paginationUpdate",A[0]),t.params.watchOverflow&&t.enabled&&A[t.isLocked?"addClass":"removeClass"](R.lockClass)}function k(){const N=t.params.pagination;if(h())return;const R=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,O=t.pagination.$el;let A="";if(N.type==="bullets"){let $=t.params.loop?Math.ceil((R-t.loopedSlides*2)/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&!t.params.loop&&$>R&&($=R);for(let U=0;U<$;U+=1)N.renderBullet?A+=N.renderBullet.call(t,U,N.bulletClass):A+=`<${N.bulletElement} class="${N.bulletClass}"></${N.bulletElement}>`;O.html(A),t.pagination.bullets=O.find(cs(N.bulletClass))}N.type==="fraction"&&(N.renderFraction?A=N.renderFraction.call(t,N.currentClass,N.totalClass):A=`<span class="${N.currentClass}"></span> / <span class="${N.totalClass}"></span>`,O.html(A)),N.type==="progressbar"&&(N.renderProgressbar?A=N.renderProgressbar.call(t,N.progressbarFillClass):A=`<span class="${N.progressbarFillClass}"></span>`,O.html(A)),N.type!=="custom"&&r("paginationRender",t.pagination.$el[0])}function T(){t.params.pagination=iS(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});const N=t.params.pagination;if(!N.el)return;let R=De(N.el);R.length!==0&&(t.params.uniqueNavElements&&typeof N.el=="string"&&R.length>1&&(R=t.$el.find(N.el),R.length>1&&(R=R.filter(O=>De(O).parents(".swiper")[0]===t.el))),N.type==="bullets"&&N.clickable&&R.addClass(N.clickableClass),R.addClass(N.modifierClass+N.type),R.addClass(t.isHorizontal()?N.horizontalClass:N.verticalClass),N.type==="bullets"&&N.dynamicBullets&&(R.addClass(`${N.modifierClass}${N.type}-dynamic`),l=0,N.dynamicMainBullets<1&&(N.dynamicMainBullets=1)),N.type==="progressbar"&&N.progressbarOpposite&&R.addClass(N.progressbarOppositeClass),N.clickable&&R.on("click",cs(N.bulletClass),function(A){A.preventDefault();let $=De(this).index()*t.params.slidesPerGroup;t.params.loop&&($+=t.loopedSlides),t.slideTo($)}),Object.assign(t.pagination,{$el:R,el:R[0]}),t.enabled||R.addClass(N.lockClass))}function C(){const N=t.params.pagination;if(h())return;const R=t.pagination.$el;R.removeClass(N.hiddenClass),R.removeClass(N.modifierClass+N.type),R.removeClass(t.isHorizontal()?N.horizontalClass:N.verticalClass),t.pagination.bullets&&t.pagination.bullets.removeClass&&t.pagination.bullets.removeClass(N.bulletActiveClass),N.clickable&&R.off("click",cs(N.bulletClass))}n("init",()=>{t.params.pagination.enabled===!1?L():(T(),k(),g())}),n("activeIndexChange",()=>{(t.params.loop||typeof t.snapIndex>"u")&&g()}),n("snapIndexChange",()=>{t.params.loop||g()}),n("slidesLengthChange",()=>{t.params.loop&&(k(),g())}),n("snapGridLengthChange",()=>{t.params.loop||(k(),g())}),n("destroy",()=>{C()}),n("enable disable",()=>{const{$el:N}=t.pagination;N&&N[t.enabled?"removeClass":"addClass"](t.params.pagination.lockClass)}),n("lock unlock",()=>{g()}),n("click",(N,R)=>{const O=R.target,{$el:A}=t.pagination;if(t.params.pagination.el&&t.params.pagination.hideOnClick&&A&&A.length>0&&!De(O).hasClass(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&O===t.navigation.nextEl||t.navigation.prevEl&&O===t.navigation.prevEl))return;const $=A.hasClass(t.params.pagination.hiddenClass);r($===!0?"paginationShow":"paginationHide"),A.toggleClass(t.params.pagination.hiddenClass)}});const I=()=>{t.$el.removeClass(t.params.pagination.paginationDisabledClass),t.pagination.$el&&t.pagination.$el.removeClass(t.params.pagination.paginationDisabledClass),T(),k(),g()},L=()=>{t.$el.addClass(t.params.pagination.paginationDisabledClass),t.pagination.$el&&t.pagination.$el.addClass(t.params.pagination.paginationDisabledClass),C()};Object.assign(t.pagination,{enable:I,disable:L,render:k,update:g,init:T,destroy:C})}function oS({swiper:t,extendParams:e,on:n,emit:r}){let i;t.autoplay={running:!1,paused:!1},e({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});function a(){if(!t.size){t.autoplay.running=!1,t.autoplay.paused=!1;return}const N=t.slides.eq(t.activeIndex);let R=t.params.autoplay.delay;N.attr("data-swiper-autoplay")&&(R=N.attr("data-swiper-autoplay")||t.params.autoplay.delay),clearTimeout(i),i=Ld(()=>{let O;t.params.autoplay.reverseDirection?t.params.loop?(t.loopFix(),O=t.slidePrev(t.params.speed,!0,!0),r("autoplay")):t.isBeginning?t.params.autoplay.stopOnLastSlide?h():(O=t.slideTo(t.slides.length-1,t.params.speed,!0,!0),r("autoplay")):(O=t.slidePrev(t.params.speed,!0,!0),r("autoplay")):t.params.loop?(t.loopFix(),O=t.slideNext(t.params.speed,!0,!0),r("autoplay")):t.isEnd?t.params.autoplay.stopOnLastSlide?h():(O=t.slideTo(0,t.params.speed,!0,!0),r("autoplay")):(O=t.slideNext(t.params.speed,!0,!0),r("autoplay")),(t.params.cssMode&&t.autoplay.running||O===!1)&&a()},R)}function l(){return typeof i<"u"||t.autoplay.running?!1:(t.autoplay.running=!0,r("autoplayStart"),a(),!0)}function h(){return!t.autoplay.running||typeof i>"u"?!1:(i&&(clearTimeout(i),i=void 0),t.autoplay.running=!1,r("autoplayStop"),!0)}function f(N){!t.autoplay.running||t.autoplay.paused||(i&&clearTimeout(i),t.autoplay.paused=!0,N===0||!t.params.autoplay.waitForTransition?(t.autoplay.paused=!1,a()):["transitionend","webkitTransitionEnd"].forEach(R=>{t.$wrapperEl[0].addEventListener(R,k)}))}function g(){const N=bn();N.visibilityState==="hidden"&&t.autoplay.running&&f(),N.visibilityState==="visible"&&t.autoplay.paused&&(a(),t.autoplay.paused=!1)}function k(N){!t||t.destroyed||!t.$wrapperEl||N.target===t.$wrapperEl[0]&&(["transitionend","webkitTransitionEnd"].forEach(R=>{t.$wrapperEl[0].removeEventListener(R,k)}),t.autoplay.paused=!1,t.autoplay.running?a():h())}function T(){t.params.autoplay.disableOnInteraction?h():(r("autoplayPause"),f()),["transitionend","webkitTransitionEnd"].forEach(N=>{t.$wrapperEl[0].removeEventListener(N,k)})}function C(){t.params.autoplay.disableOnInteraction||(t.autoplay.paused=!1,r("autoplayResume"),a())}function I(){t.params.autoplay.pauseOnMouseEnter&&(t.$el.on("mouseenter",T),t.$el.on("mouseleave",C))}function L(){t.$el.off("mouseenter",T),t.$el.off("mouseleave",C)}n("init",()=>{t.params.autoplay.enabled&&(l(),bn().addEventListener("visibilitychange",g),I())}),n("beforeTransitionStart",(N,R,O)=>{t.autoplay.running&&(O||!t.params.autoplay.disableOnInteraction?t.autoplay.pause(R):h())}),n("sliderFirstMove",()=>{t.autoplay.running&&(t.params.autoplay.disableOnInteraction?h():f())}),n("touchEnd",()=>{t.params.cssMode&&t.autoplay.paused&&!t.params.autoplay.disableOnInteraction&&a()}),n("destroy",()=>{L(),t.autoplay.running&&h(),bn().removeEventListener("visibilitychange",g)}),Object.assign(t.autoplay,{pause:f,run:a,start:l,stop:h})}function Za(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function qi(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:Za(e[r])&&Za(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:qi(t[r],e[r]):t[r]=e[r]})}function lS(t={}){return t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function cS(t={}){return t.pagination&&typeof t.pagination.el>"u"}function uS(t={}){return t.scrollbar&&typeof t.scrollbar.el>"u"}function dS(t=""){const e=t.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return e.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}const hS=["modules","init","_direction","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_preloadImages","updateOnImagesReady","_loop","_loopAdditionalSlides","_loopedSlides","_loopedSlidesLimit","_loopFillGroupWithBlank","loopPreventsSlide","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideBlankClass","slideActiveClass","slideDuplicateActiveClass","slideVisibleClass","slideDuplicateClass","slideNextClass","slideDuplicateNextClass","slidePrevClass","slideDuplicatePrevClass","wrapperClass","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","lazy","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom"];function aU(t={},e=!0){const n={on:{}},r={},i={};qi(n,Rn.defaults),qi(n,Rn.extendedDefaults),n._emitClasses=!0,n.init=!1;const a={},l=hS.map(f=>f.replace(/_/,"")),h=Object.assign({},t);return Object.keys(h).forEach(f=>{typeof t[f]>"u"||(l.indexOf(f)>=0?Za(t[f])?(n[f]={},i[f]={},qi(n[f],t[f]),qi(i[f],t[f])):(n[f]=t[f],i[f]=t[f]):f.search(/on[A-Z]/)===0&&typeof t[f]=="function"?e?r[`${f[2].toLowerCase()}${f.substr(3)}`]=t[f]:n.on[`${f[2].toLowerCase()}${f.substr(3)}`]=t[f]:a[f]=t[f])}),["navigation","pagination","scrollbar"].forEach(f=>{n[f]===!0&&(n[f]={}),n[f]===!1&&delete n[f]}),{params:n,passedParams:i,rest:a,events:r}}function sU({el:t,nextEl:e,prevEl:n,paginationEl:r,scrollbarEl:i,swiper:a},l){lS(l)&&e&&n&&(a.params.navigation.nextEl=e,a.originalParams.navigation.nextEl=e,a.params.navigation.prevEl=n,a.originalParams.navigation.prevEl=n),cS(l)&&r&&(a.params.pagination.el=r,a.originalParams.pagination.el=r),uS(l)&&i&&(a.params.scrollbar.el=i,a.originalParams.scrollbar.el=i),a.init(t)}const fS=(t,e)=>{let n=e.slidesPerView;if(e.breakpoints){const i=Rn.prototype.getBreakpoint(e.breakpoints),a=i in e.breakpoints?e.breakpoints[i]:void 0;a&&a.slidesPerView&&(n=a.slidesPerView)}let r=Math.ceil(parseFloat(e.loopedSlides||n,10));return r+=e.loopAdditionalSlides,r>t.length&&e.loopedSlidesLimit&&(r=t.length),r};function oU(t,e,n){const r=e.map((f,g)=>sa.cloneElement(f,{swiper:t,"data-swiper-slide-index":g}));function i(f,g,k){return sa.cloneElement(f,{key:`${f.key}-duplicate-${g}-${k}`,className:`${f.props.className||""} ${n.slideDuplicateClass}`})}if(n.loopFillGroupWithBlank){const f=n.slidesPerGroup-r.length%n.slidesPerGroup;if(f!==n.slidesPerGroup)for(let g=0;g<f;g+=1){const k=P("div",{className:`${n.slideClass} ${n.slideBlankClass}`});r.push(k)}}n.slidesPerView==="auto"&&!n.loopedSlides&&(n.loopedSlides=r.length);const a=fS(r,n),l=[],h=[];for(let f=0;f<a;f+=1){const g=f-Math.floor(f/r.length)*r.length;h.push(i(r[g],f,"append")),l.unshift(i(r[r.length-g-1],f,"prepend"))}return t&&(t.loopedSlides=a),[...l,...r,...h]}function lU(t,e,n,r,i){const a=[];if(!e)return a;const l=f=>{a.indexOf(f)<0&&a.push(f)};if(n&&r){const f=r.map(i),g=n.map(i);f.join("")!==g.join("")&&l("children"),r.length!==n.length&&l("children")}return hS.filter(f=>f[0]==="_").map(f=>f.replace(/_/,"")).forEach(f=>{if(f in t&&f in e)if(Za(t[f])&&Za(e[f])){const g=Object.keys(t[f]),k=Object.keys(e[f]);g.length!==k.length?l(f):(g.forEach(T=>{t[f][T]!==e[f][T]&&l(f)}),k.forEach(T=>{t[f][T]!==e[f][T]&&l(f)}))}else t[f]!==e[f]&&l(f)}),a}function _S(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function pS(t){const e=[];return sa.Children.toArray(t).forEach(n=>{_S(n)?e.push(n):n.props&&n.props.children&&pS(n.props.children).forEach(r=>e.push(r))}),e}function cU(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return sa.Children.toArray(t).forEach(r=>{if(_S(r))e.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const i=pS(r.props.children);i.length>0?i.forEach(a=>e.push(a)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:e,slots:n}}function uU({swiper:t,slides:e,passedParams:n,changedParams:r,nextEl:i,prevEl:a,scrollbarEl:l,paginationEl:h}){const f=r.filter(j=>j!=="children"&&j!=="direction"),{params:g,pagination:k,navigation:T,scrollbar:C,virtual:I,thumbs:L}=t;let N,R,O,A,$;r.includes("thumbs")&&n.thumbs&&n.thumbs.swiper&&g.thumbs&&!g.thumbs.swiper&&(N=!0),r.includes("controller")&&n.controller&&n.controller.control&&g.controller&&!g.controller.control&&(R=!0),r.includes("pagination")&&n.pagination&&(n.pagination.el||h)&&(g.pagination||g.pagination===!1)&&k&&!k.el&&(O=!0),r.includes("scrollbar")&&n.scrollbar&&(n.scrollbar.el||l)&&(g.scrollbar||g.scrollbar===!1)&&C&&!C.el&&(A=!0),r.includes("navigation")&&n.navigation&&(n.navigation.prevEl||a)&&(n.navigation.nextEl||i)&&(g.navigation||g.navigation===!1)&&T&&!T.prevEl&&!T.nextEl&&($=!0);const U=j=>{!t[j]||(t[j].destroy(),j==="navigation"?(g[j].prevEl=void 0,g[j].nextEl=void 0,t[j].prevEl=void 0,t[j].nextEl=void 0):(g[j].el=void 0,t[j].el=void 0))};f.forEach(j=>{if(Za(g[j])&&Za(n[j]))qi(g[j],n[j]);else{const H=n[j];(H===!0||H===!1)&&(j==="navigation"||j==="pagination"||j==="scrollbar")?H===!1&&U(j):g[j]=n[j]}}),f.includes("controller")&&!R&&t.controller&&t.controller.control&&g.controller&&g.controller.control&&(t.controller.control=g.controller.control),r.includes("children")&&e&&I&&g.virtual.enabled?(I.slides=e,I.update(!0)):r.includes("children")&&t.lazy&&t.params.lazy.enabled&&t.lazy.load(),N&&L.init()&&L.update(!0),R&&(t.controller.control=g.controller.control),O&&(h&&(g.pagination.el=h),k.init(),k.render(),k.update()),A&&(l&&(g.scrollbar.el=l),C.init(),C.updateSize(),C.setTranslate()),$&&(i&&(g.navigation.nextEl=i),a&&(g.navigation.prevEl=a),T.init(),T.update()),r.includes("allowSlideNext")&&(t.allowSlideNext=n.allowSlideNext),r.includes("allowSlidePrev")&&(t.allowSlidePrev=n.allowSlidePrev),r.includes("direction")&&t.changeDirection(n.direction,!1),t.update()}function dU(t,e,n){if(!n)return null;const r=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`};return e.filter((i,a)=>a>=n.from&&a<=n.to).map(i=>sa.cloneElement(i,{swiper:t,style:r}))}const hU=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.lazy&&t.params.lazy.enabled&&t.lazy.load(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function ll(t,e){return typeof window>"u"?ae.exports.useEffect(t,e):ae.exports.useLayoutEffect(t,e)}const fU=ae.exports.createContext(null),_U=ae.exports.createContext(null),Yg=ae.exports.forwardRef(function(t,e){let{className:n,tag:r="div",wrapperTag:i="div",children:a,onSwiper:l,...h}=t===void 0?{}:t,f=!1;const[g,k]=ae.exports.useState("swiper"),[T,C]=ae.exports.useState(null),[I,L]=ae.exports.useState(!1),N=ae.exports.useRef(!1),R=ae.exports.useRef(null),O=ae.exports.useRef(null),A=ae.exports.useRef(null),$=ae.exports.useRef(null),U=ae.exports.useRef(null),j=ae.exports.useRef(null),H=ae.exports.useRef(null),z=ae.exports.useRef(null),{params:W,passedParams:q,rest:Y,events:Z}=aU(h),{slides:X,slots:ce}=cU(a),de=()=>{L(!I)};Object.assign(W.on,{_containerClasses(he,ke){k(ke)}});const Ae=()=>{if(Object.assign(W.on,Z),f=!0,O.current=new Rn(W),O.current.loopCreate=()=>{},O.current.loopDestroy=()=>{},W.loop&&(O.current.loopedSlides=fS(X,W)),O.current.virtual&&O.current.params.virtual.enabled){O.current.virtual.slides=X;const he={cache:!1,slides:X,renderExternal:C,renderExternalUpdate:!1};qi(O.current.params.virtual,he),qi(O.current.originalParams.virtual,he)}};R.current||Ae(),O.current&&O.current.on("_beforeBreakpoint",de);const ge=()=>{f||!Z||!O.current||Object.keys(Z).forEach(he=>{O.current.on(he,Z[he])})},Ze=()=>{!Z||!O.current||Object.keys(Z).forEach(he=>{O.current.off(he,Z[he])})};ae.exports.useEffect(()=>()=>{O.current&&O.current.off("_beforeBreakpoint",de)}),ae.exports.useEffect(()=>{!N.current&&O.current&&(O.current.emitSlidesClasses(),N.current=!0)}),ll(()=>{if(e&&(e.current=R.current),!!R.current)return O.current.destroyed&&Ae(),sU({el:R.current,nextEl:U.current,prevEl:j.current,paginationEl:H.current,scrollbarEl:z.current,swiper:O.current},W),l&&l(O.current),()=>{O.current&&!O.current.destroyed&&O.current.destroy(!0,!1)}},[]),ll(()=>{ge();const he=lU(q,A.current,X,$.current,ke=>ke.key);return A.current=q,$.current=X,he.length&&O.current&&!O.current.destroyed&&uU({swiper:O.current,slides:X,passedParams:q,changedParams:he,nextEl:U.current,prevEl:j.current,scrollbarEl:z.current,paginationEl:H.current}),()=>{Ze()}}),ll(()=>{hU(O.current)},[T]);function _e(){return W.virtual?dU(O.current,X,T):!W.loop||O.current&&O.current.destroyed?X.map(he=>sa.cloneElement(he,{swiper:O.current})):oU(O.current,X,W)}return P(r,{ref:R,className:dS(`${g}${n?` ${n}`:""}`),...Y,children:ee(_U.Provider,{value:O.current,children:[ce["container-start"],ee(i,{className:"swiper-wrapper",children:[ce["wrapper-start"],_e(),ce["wrapper-end"]]}),lS(W)&&ee(Jt,{children:[P("div",{ref:j,className:"swiper-button-prev"}),P("div",{ref:U,className:"swiper-button-next"})]}),uS(W)&&P("div",{ref:z,className:"swiper-scrollbar"}),cS(W)&&P("div",{ref:H,className:"swiper-pagination"}),ce["container-end"]]})})});Yg.displayName="Swiper";const Jg=ae.exports.forwardRef(function(t,e){let{tag:n="div",children:r,className:i="",swiper:a,zoom:l,virtualIndex:h,...f}=t===void 0?{}:t;const g=ae.exports.useRef(null),[k,T]=ae.exports.useState("swiper-slide");function C(N,R,O){R===g.current&&T(O)}ll(()=>{if(e&&(e.current=g.current),!(!g.current||!a)){if(a.destroyed){k!=="swiper-slide"&&T("swiper-slide");return}return a.on("_slideClass",C),()=>{!a||a.off("_slideClass",C)}}}),ll(()=>{a&&g.current&&!a.destroyed&&T(a.getSlideClasses(g.current))},[a]);const I={isActive:k.indexOf("swiper-slide-active")>=0||k.indexOf("swiper-slide-duplicate-active")>=0,isVisible:k.indexOf("swiper-slide-visible")>=0,isDuplicate:k.indexOf("swiper-slide-duplicate")>=0,isPrev:k.indexOf("swiper-slide-prev")>=0||k.indexOf("swiper-slide-duplicate-prev")>=0,isNext:k.indexOf("swiper-slide-next")>=0||k.indexOf("swiper-slide-duplicate-next")>=0},L=()=>typeof r=="function"?r(I):r;return P(n,{ref:g,className:dS(`${k}${i?` ${i}`:""}`),"data-swiper-slide-index":h,...f,children:P(fU.Provider,{value:I,children:l?P("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof l=="number"?l:void 0,children:L()}):L()})})});Jg.displayName="SwiperSlide";const pU=()=>ee("div",{children:[P("div",{className:"homeSection__Title",children:P("h2",{children:"Cualidades"})}),P(Jt,{children:P(Yg,{slidesPerView:1,spaceBetween:30,slidesPerGroup:1,loop:!0,loopFillGroupWithBlank:!0,pagination:{clickable:!0},navigation:!0,modules:[sS,aS,oS],className:"mySwiper",autoplay:{delay:5e3,disableOnInteraction:!1},breakpoints:{780:{slidesPerView:2},1198:{slidesPerView:3}},children:n2.map((t,e)=>P(Jg,{children:ee("div",{className:"qualityCard-container",children:[P("img",{src:t.icon,alt:"icon",className:"qualityCard_icon"}),ee("div",{className:"qualityCard_description",children:[P("p",{className:"qualityCard_title",children:t.title}),P("p",{className:"qualityCard_text",children:t.text})]})]})},e))})})]}),mU=[{question:"\xBFQu\xE9 es Navis?",answer:"La \xFAnica academia de ingl\xE9s online que se enfoca en tus necesidades."},{question:"\xBFEn qu\xE9 horario puedo estudiar?",answer:"Tu tiempo es tuyo, tu coordinas con tu profesor cuando deseas ver tus clases."},{question:"\xBFPuedo elegir o cambiar el profesor?",answer:"S\xED, siempre podr\xE1s escoger un profesor que se adapte a ti."},{question:"\xBFQu\xE9 se requiere para estudiar?",answer:"Lo \xFAnico que necesitas es un ordenador o tel\xE9fono inteligente con conexi\xF3n a Internet estable, micr\xF3fono y c\xE1mara."},{question:"En caso de no poder asistir a una clase, \xBFqu\xE9 debo hacer?",answer:"4 horas antes tienes la opci\xF3n de reprogramar la clase."},{question:"\xBFCu\xE1nto dura la clase?",answer:"Dependiendo del paquete adquirido las clases pueden durar entre 30 o 50 minutos. "},{question:"\xBFCu\xE1les son los medios de pago?",answer:"Puedes pagar con tarjeta de cr\xE9dito o d\xE9bito a trav\xE9s de PayPal. El pago se realizar\xE1 en la moneda local del pa\xEDs en el que est\xE9s."}];const gU=()=>ee("div",{children:[P("div",{className:"homeSection__Title",children:P("h2",{children:"Cualidades"})}),P(Jt,{children:P(Yg,{slidesPerView:1,spaceBetween:50,slidesPerGroup:1,loop:!0,loopFillGroupWithBlank:!0,pagination:{clickable:!0},navigation:!0,modules:[sS,aS,oS],className:"mySwiper",autoplay:{delay:5e3,disableOnInteraction:!1},breakpoints:{780:{slidesPerView:2},1198:{slidesPerView:3}},children:mU.map((t,e)=>P(Jg,{children:P("div",{className:"questionsCard-container",children:ee("div",{className:"questionCard_content",children:[P("p",{className:"questionCard_question",children:t.question}),P("p",{className:"questionCard_answer",children:t.answer})]})})},e))})})]}),vU=[{number:"1",USD:"9.55",EUR:"9.55",amount:"60",duration:"50"},{number:"2",USD:"10.99",EUR:"10.99",amount:"30",duration:"50"},{number:"3",USD:"13.55",EUR:"13.55",amount:"20",duration:"50"},{number:"4",USD:"16.99",EUR:"16.99",amount:"10",duration:"50"},{number:"5",USD:"22.99",EUR:"22.99",amount:"5",duration:"50"}],yU=[{number:"1",USD:"6.55",EUR:"6.55",amount:"60",duration:"30"},{number:"2",USD:"7.99",EUR:"7.99",amount:"30",duration:"30"},{number:"3",USD:"9.55",EUR:"9.55",amount:"20",duration:"30"},{number:"4",USD:"12.55",EUR:"12.55",amount:"10",duration:"30"},{number:"5",USD:"16.99",EUR:"16.99",amount:"5",duration:"30"}];const nb=({title:t,opt01:e,opt02:n,onToggle:r})=>{const[i,a]=ae.exports.useState(!1);return ee("div",{className:"switcher-container",children:[P("span",{className:"title",children:t}),P("span",{className:"options",children:e}),P("div",{className:"switcher",children:ee("label",{className:"switch",children:[P("input",{type:"checkbox",checked:i,onChange:()=>{a(!i),r(i?e:n)}}),P("span",{className:"slider round"})]})}),P("span",{className:"options",children:n})]})};/*!
 * react-paypal-js v7.8.1 (2022-05-27T22:10:01.444Z)
 * Copyright 2020-present, PayPal, Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yn;(function(t){t.INITIAL="initial",t.PENDING="pending",t.REJECTED="rejected",t.RESOLVED="resolved"})(Yn||(Yn={}));var aa;(function(t){t.LOADING_STATUS="setLoadingStatus",t.RESET_OPTIONS="resetOptions",t.SET_BRAINTREE_INSTANCE="braintreeInstance"})(aa||(aa={}));var rb;(function(t){t.NUMBER="number",t.CVV="cvv",t.EXPIRATION_DATE="expirationDate",t.EXPIRATION_MONTH="expirationMonth",t.EXPIRATION_YEAR="expirationYear",t.POSTAL_CODE="postalCode"})(rb||(rb={}));var cl="data-react-paypal-script-id",Zs={DATA_CLIENT_TOKEN:"data-client-token",DATA_USER_ID_TOKEN:"data-user-id-token",DATA_SDK_INTEGRATION_SOURCE:"data-sdk-integration-source",DATA_SDK_INTEGRATION_SOURCE_VALUE:"react-paypal-js",DATA_NAMESPACE:"data-namespace"},bU="Failed to load the PayPal JS SDK script.",mS="paypal",wU="usePayPalScriptReducer must be used within a PayPalScriptProvider",on=function(){return on=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},on.apply(this,arguments)};function xU(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function ib(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}function EU(t){return t===void 0&&(t=mS),window[t]}function kU(t){for(var e="",n=0;n<t.length;n++){var r=t[n].charCodeAt(0)*n;t[n+1]&&(r+=t[n+1].charCodeAt(0)*(n-1)),e+=String.fromCharCode(97+Math.abs(r)%26)}return e}function SU(t){var e=t.reactComponentName,n=t.sdkComponentKey,r=t.sdkRequestedComponents,i=r===void 0?"":r,a=t.sdkDataNamespace,l=a===void 0?mS:a,h=n.charAt(0).toUpperCase().concat(n.substring(1)),f="Unable to render <".concat(e," /> because window.").concat(l,".").concat(h," is undefined.");if(!i.includes(n)){var g=[i,n].filter(Boolean).join();f+=`
To fix the issue, add '`.concat(n,"' to the list of components passed to the parent PayPalScriptProvider:")+"\n`<PayPalScriptProvider options={{ components: '".concat(g,"'}}>`.")}return f}function gS(t){return"react-paypal-js-".concat(kU(JSON.stringify(t)))}function CU(t){var e=self.document.querySelector("script[".concat(cl,'="').concat(t,'"]'));e!=null&&e.parentNode&&e.parentNode.removeChild(e)}function TU(t,e){var n;switch(e.type){case aa.LOADING_STATUS:return on(on({},t),{loadingStatus:e.value});case aa.RESET_OPTIONS:return CU(t.options[cl]),delete e.value[cl],on(on({},t),{loadingStatus:Yn.PENDING,options:on(on({},e.value),(n={},n[cl]="".concat(gS(e.value)),n[Zs.DATA_SDK_INTEGRATION_SOURCE]=Zs.DATA_SDK_INTEGRATION_SOURCE_VALUE,n))});case aa.SET_BRAINTREE_INSTANCE:return on(on({},t),{braintreePayPalCheckoutInstance:e.value});default:return t}}var vS=ae.exports.createContext(null);function NU(t){if(typeof(t==null?void 0:t.dispatch)=="function"&&t.dispatch.length!==0)return t;throw new Error(wU)}function DU(){var t=NU(ae.exports.useContext(vS)),e=on(on({},t),{isInitial:t.loadingStatus===Yn.INITIAL,isPending:t.loadingStatus===Yn.PENDING,isResolved:t.loadingStatus===Yn.RESOLVED,isRejected:t.loadingStatus===Yn.REJECTED});return[e,t.dispatch]}ae.exports.createContext({});var Qg=function(t){var e=t.className,n=e===void 0?"":e,r=t.disabled,i=r===void 0?!1:r,a=t.children,l=t.forceReRender,h=l===void 0?[]:l,f=xU(t,["className","disabled","children","forceReRender"]),g=i?{opacity:.38}:{},k="".concat(n," ").concat(i?"paypal-buttons-disabled":"").trim(),T=ae.exports.useRef(null),C=ae.exports.useRef(null),I=DU()[0],L=I.isResolved,N=I.options,R=ae.exports.useState(null),O=R[0],A=R[1],$=ae.exports.useState(!0),U=$[0],j=$[1],H=ae.exports.useState(null),z=H[1];function W(){C.current!==null&&C.current.close().catch(function(){})}return ae.exports.useEffect(function(){if(L===!1)return W;var q=EU(N[Zs.DATA_NAMESPACE]);if(q===void 0||q.Buttons===void 0)return z(function(){throw new Error(SU({reactComponentName:Qg.displayName,sdkComponentKey:"buttons",sdkRequestedComponents:N.components,sdkDataNamespace:N[Zs.DATA_NAMESPACE]}))}),W;var Y=function(Z,X){A(X),typeof f.onInit=="function"&&f.onInit(Z,X)};try{C.current=q.Buttons(on(on({},f),{onInit:Y}))}catch(Z){return z(function(){throw new Error("Failed to render <PayPalButtons /> component. Failed to initialize:  ".concat(Z))})}return C.current.isEligible()===!1?(j(!1),W):(T.current&&C.current.render(T.current).catch(function(Z){T.current===null||T.current.children.length===0||z(function(){throw new Error("Failed to render <PayPalButtons /> component. ".concat(Z))})}),W)},ib(ib([L],h,!0),[f.fundingSource],!1)),ae.exports.useEffect(function(){O!==null&&(i===!0?O.disable().catch(function(){}):O.enable().catch(function(){}))},[i,O]),P(Jt,{children:U?P("div",{ref:T,style:g,className:k}):a})};Qg.displayName="PayPalButtons";function IU(t,e){var n=document.querySelector('script[src="'.concat(t,'"]'));if(n===null)return null;var r=yS(t,e),i=n.cloneNode();if(delete i.dataset.uidAuto,Object.keys(i.dataset).length!==Object.keys(r.dataset).length)return null;var a=!0;return Object.keys(i.dataset).forEach(function(l){i.dataset[l]!==r.dataset[l]&&(a=!1)}),a?n:null}function AU(t){var e=t.url,n=t.attributes,r=t.onSuccess,i=t.onError,a=yS(e,n);a.onerror=i,a.onload=r,document.head.insertBefore(a,document.head.firstElementChild)}function OU(t){var e="https://www.paypal.com/sdk/js";t.sdkBaseURL&&(e=t.sdkBaseURL,delete t.sdkBaseURL),LU(t);var n=Object.keys(t).filter(function(a){return typeof t[a]<"u"&&t[a]!==null&&t[a]!==""}).reduce(function(a,l){var h=t[l].toString();return l.substring(0,5)==="data-"?a.dataAttributes[l]=h:a.queryParams[l]=h,a},{queryParams:{},dataAttributes:{}}),r=n.queryParams,i=n.dataAttributes;return{url:"".concat(e,"?").concat(MU(r)),dataAttributes:i}}function MU(t){var e="";return Object.keys(t).forEach(function(n){e.length!==0&&(e+="&"),e+=n+"="+t[n]}),e}function PU(t){var e=t.split("/* Original Error:")[1];return e?e.replace(/\n/g,"").replace("*/","").trim():t}function yS(t,e){e===void 0&&(e={});var n=document.createElement("script");return n.src=t,Object.keys(e).forEach(function(r){n.setAttribute(r,e[r]),r==="data-csp-nonce"&&n.setAttribute("nonce",e["data-csp-nonce"])}),n}function LU(t){var e=t["merchant-id"],n=t["data-merchant-id"],r="",i="";return Array.isArray(e)?e.length>1?(r="*",i=e.toString()):r=e.toString():typeof e=="string"&&e.length>0?r=e:typeof n=="string"&&n.length>0&&(r="*",i=n),t["merchant-id"]=r,t["data-merchant-id"]=i,t}function RU(t,e){if(e===void 0&&(e=bS()),wS(t,e),typeof window>"u")return e.resolve(null);var n=OU(t),r=n.url,i=n.dataAttributes,a=i["data-namespace"]||"paypal",l=ab(a);return IU(r,i)&&l?e.resolve(l):$U({url:r,attributes:i},e).then(function(){var h=ab(a);if(h)return h;throw new Error("The window.".concat(a," global variable is not available."))})}function $U(t,e){e===void 0&&(e=bS()),wS(t,e);var n=t.url,r=t.attributes;if(typeof n!="string"||n.length===0)throw new Error("Invalid url.");if(typeof r<"u"&&typeof r!="object")throw new Error("Expected attributes to be an object.");return new e(function(i,a){if(typeof window>"u")return i();AU({url:n,attributes:r,onSuccess:function(){return i()},onError:function(){var l=new Error('The script "'.concat(n,'" failed to load.'));return window.fetch?fetch(n).then(function(h){return h.status===200&&a(l),h.text()}).then(function(h){var f=PU(h);a(new Error(f))}).catch(function(h){a(h)}):a(l)}})})}function bS(){if(typeof Promise>"u")throw new Error("Promise is undefined. To resolve the issue, use a Promise polyfill.");return Promise}function ab(t){return window[t]}function wS(t,e){if(typeof t!="object"||t===null)throw new Error("Expected an options object.");if(typeof e<"u"&&typeof e!="function")throw new Error("Expected PromisePonyfill to be a function.")}var FU=function(t){var e,n=t.options,r=n===void 0?{"client-id":"test"}:n,i=t.children,a=t.deferLoading,l=a===void 0?!1:a,h=ae.exports.useReducer(TU,{options:on(on({},r),(e={},e[cl]="".concat(gS(r)),e[Zs.DATA_SDK_INTEGRATION_SOURCE]=Zs.DATA_SDK_INTEGRATION_SOURCE_VALUE,e)),loadingStatus:l?Yn.INITIAL:Yn.PENDING}),f=h[0],g=h[1];return ae.exports.useEffect(function(){if(l===!1&&f.loadingStatus===Yn.INITIAL)return g({type:aa.LOADING_STATUS,value:Yn.PENDING});if(f.loadingStatus===Yn.PENDING){var k=!0;return RU(f.options).then(function(){k&&g({type:aa.LOADING_STATUS,value:Yn.RESOLVED})}).catch(function(T){console.error("".concat(bU," ").concat(T)),k&&g({type:aa.LOADING_STATUS,value:Yn.REJECTED})}),function(){k=!1}}},[f.options,l,f.loadingStatus]),P(vS.Provider,{value:on(on({},f),{dispatch:g}),children:i})};const UU=({totalValue:t,cantidad:e})=>{const{userLogged:n}=ir(),r=Oc(),i={textNotification:"Felicitaciones, adquiriste nuevas clases",notificationType:"Compra",checked:!1},a={textNotification:"Un usuario adquirio nuevas clases",notificationType:"Compra",checked:!1},l=async()=>{try{const f=$t(),g=nt(f,`Users/${n.uid}`);await Et(g,{remainingClases:ln(e),newPurchasedClasses:ln(e),totalClasses:ln(e),newNotifications:!0,notifications:ln(1)});const k=Gl(nr(f,`Users/${n.uid}/myNotifications`));Ac(k,{...i,cantidad:e,timeStamp:r}).then(({id:T})=>{const C=nt(f,`AdminNotifications/${T}`);ia(C,{...a,cantidad:e,timeStamp:r})})}catch(f){swal("UPS!",`${f.message}`,"error")}},h=t;return P(FU,{children:P(Qg,{createOrder:(f,g)=>g.order.create({purchase_units:[{amount:{value:h}}]}),onApprove:async(f,g)=>{let T=await g.order.capture();T?(l(),T=!1):console.log("pago not apprub")}})})};function xS({totalValue:t,cantidad:e}){return ee("div",{className:"payment-container",children:[ee("span",{className:"amount",children:["$",t]}),P(UU,{totalValue:t,cantidad:e,className:"payment"})]})}const Xg=({durationSelection:t,msg:e,userDuration:n})=>{const[r,i]=ae.exports.useState(!1),{userLogged:a}=ir(),[l,h]=ae.exports.useState(),[f,g]=ae.exports.useState(),[k,T]=ae.exports.useState(n),[C,I]=ae.exports.useState("EUR"),L=Wn();let N=[];switch(!k&&T(50),k){case 30:N=yU;break;case 50:N=vU;break}const R=A=>{I(A)},O=A=>{T(parseInt(A))};return r?P(xS,{totalValue:l,cantidad:f}):ee("div",{className:"buy-container",children:[P("h3",{children:e}),ee("div",{className:"buy-container__header",children:[t&&P(nb,{title:"DURACION DE LA CLASE :",opt01:"50",opt02:"30",onToggle:O}),P(nb,{title:"MONEDA :",opt01:"EUR",opt02:"USD",onToggle:R})]}),P("div",{className:"buy-card-container",children:N.map((A,$)=>{let U=!1;return $===1&&(U=!U),ee("div",{className:"buy-card",children:[U?P("span",{className:"recomended-label",children:"RECOMENDADO"}):"",P("li",{children:ee("ul",{children:[ee("li",{className:"pack-number",children:["Navis ",A.number," "]}),ee("li",{className:"amount",children:[" ",A.amount," ",P("span",{className:"clases-thin",children:"Clases"})," "]}),ee("li",{className:"duration",children:[" ",A.duration," min/Class "]}),P("li",{className:"libros",children:"Libros interactivos "}),ee("li",{className:"price",children:[A[C]," ",C," por clase"," "]}),P("div",{children:P("button",{className:"button__Card",onClick:j=>{if(!a)L("./signUp");else{let H=parseFloat(A[C]),z=parseInt(A.amount),q=(z*H).toFixed(2).toString();g(z),h(q),i(!r)}},children:"Comprar"})})]})}),P("div",{className:"cohete"})]},$)})})]})};const jU=()=>{const{userLogged:t}=ir();Sn();const[e,n]=ae.exports.useState(!0);return ae.exports.useEffect(()=>{n(!t)},[t]),ee("div",{children:[P("div",{className:"homeSection__Title",children:P("h2",{children:"Paquetes"})}),P(Xg,{durationSelection:e,msg:""})]})};const VU=({fromCheckout:t})=>{const e=Wn();return t&&e(""),ee(Jt,{children:[P($$,{}),P(pU,{}),P(W$,{}),P(jU,{}),P(gU,{}),P(K$,{})]})};const zU="/assets/facebook.83af00d0.svg",HU="/assets/instagram.e0a2630a.svg",BU="/assets/whatsapp.2e82302a.svg",qU=()=>P(Jt,{children:P("section",{className:"footer_Content",children:ee("div",{className:"footer__Container",children:[P(qt,{className:"logoFooter",to:"/home",children:P("img",{src:Gk,alt:"link a navis"})}),P("div",{children:ee("div",{className:"redes__Footer",children:[P(qt,{to:"/#",children:P("img",{src:zU,alt:"link a facebook"})}),P(qt,{to:"/#",children:P("img",{src:HU,alt:"link a instagram"})}),P(qt,{to:"/#",children:P("img",{src:BU,alt:"link a whatsapp"})})]})})]})})}),ES="/assets/cohete.30df8fe9.svg";const rr=()=>ee("div",{className:"loaderContainer",children:[P("span",{className:"loader"}),P("h5",{children:"LOADING..."})]});const WU=()=>{const t=Wn(),{user:e,signIn:n}=ir(),[r,i]=ae.exports.useState(""),[a,l]=ae.exports.useState(""),[h,f]=ae.exports.useState(""),[g,k]=ae.exports.useState(!1),T=async C=>{C.preventDefault(),f(""),k(!0);try{await n(r,a),swal("Bienvenido",`sesion iniciada como ${r}`,"success"),t("/Panel")}catch(I){f(I.message),console.log(I.message),swal("UPS!",`${I.message}`,"error"),k(!1)}};return g?P(rr,{}):P(Jt,{children:P("div",{className:"signIn__main-container",children:ee("div",{className:"signIn__container",children:[ee("div",{children:[ee("div",{className:"signIn__tittleColumn",children:[ee("p",{className:"signIn-logo",children:[P("img",{className:"cohete-navis",src:ES,alt:"cohete.svg"}),P("i",{className:"fa-solid fa-user"})]}),P("p",{className:"signIn-tittle",children:"Login"})]}),ee("p",{className:"subTittle",children:["\xBFTodavia no tenes una cuenta?",P(qt,{to:"/signUp",children:"Registrate."})]})]}),ee("form",{className:"signIn__form",onSubmit:T,children:[P("label",{htmlFor:"email",children:"Correo electr\xF3nico"}),P("input",{type:"email",id:"email",name:"email",value:r,onChange:C=>i(C.target.value)}),P("label",{htmlFor:"password",children:"Clave"}),P("input",{type:"password",id:"password",name:"password",value:a,onChange:C=>l(C.target.value)}),P("button",{type:"submit",id:"btn__iniciar-sesion",children:"Iniciar Sesi\xF3n"})]})]})})})};class ss extends Error{}class GU extends ss{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class KU extends ss{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class YU extends ss{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class Bo extends ss{}class kS extends ss{constructor(e){super(`Invalid unit ${e}`)}}class wr extends ss{}class Ai extends ss{constructor(){super("Zone is an abstract class")}}const Se="numeric",Vr="short",dr="long",Ap={year:Se,month:Se,day:Se},SS={year:Se,month:Vr,day:Se},JU={year:Se,month:Vr,day:Se,weekday:Vr},CS={year:Se,month:dr,day:Se},TS={year:Se,month:dr,day:Se,weekday:dr},NS={hour:Se,minute:Se},DS={hour:Se,minute:Se,second:Se},IS={hour:Se,minute:Se,second:Se,timeZoneName:Vr},AS={hour:Se,minute:Se,second:Se,timeZoneName:dr},OS={hour:Se,minute:Se,hourCycle:"h23"},MS={hour:Se,minute:Se,second:Se,hourCycle:"h23"},PS={hour:Se,minute:Se,second:Se,hourCycle:"h23",timeZoneName:Vr},LS={hour:Se,minute:Se,second:Se,hourCycle:"h23",timeZoneName:dr},RS={year:Se,month:Se,day:Se,hour:Se,minute:Se},$S={year:Se,month:Se,day:Se,hour:Se,minute:Se,second:Se},FS={year:Se,month:Vr,day:Se,hour:Se,minute:Se},US={year:Se,month:Vr,day:Se,hour:Se,minute:Se,second:Se},QU={year:Se,month:Vr,day:Se,weekday:Vr,hour:Se,minute:Se},jS={year:Se,month:dr,day:Se,hour:Se,minute:Se,timeZoneName:Vr},VS={year:Se,month:dr,day:Se,hour:Se,minute:Se,second:Se,timeZoneName:Vr},zS={year:Se,month:dr,day:Se,weekday:dr,hour:Se,minute:Se,timeZoneName:dr},HS={year:Se,month:dr,day:Se,weekday:dr,hour:Se,minute:Se,second:Se,timeZoneName:dr};function ut(t){return typeof t>"u"}function $a(t){return typeof t=="number"}function $h(t){return typeof t=="number"&&t%1===0}function XU(t){return typeof t=="string"}function ZU(t){return Object.prototype.toString.call(t)==="[object Date]"}function BS(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function ej(t){return Array.isArray(t)?t:[t]}function sb(t,e,n){if(t.length!==0)return t.reduce((r,i)=>{const a=[e(i),i];return r&&n(r[0],a[0])===r[0]?r:a},null)[1]}function tj(t,e){return e.reduce((n,r)=>(n[r]=t[r],n),{})}function eo(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function li(t,e,n){return $h(t)&&t>=e&&t<=n}function nj(t,e){return t-e*Math.floor(t/e)}function Wt(t,e=2){const n=t<0;let r;return n?r="-"+(""+-t).padStart(e,"0"):r=(""+t).padStart(e,"0"),r}function Pi(t){if(!(ut(t)||t===null||t===""))return parseInt(t,10)}function ya(t){if(!(ut(t)||t===null||t===""))return parseFloat(t)}function Zg(t){if(!(ut(t)||t===null||t==="")){const e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function ev(t,e,n=!1){const r=10**e;return(n?Math.trunc:Math.round)(t*r)/r}function Pc(t){return t%4===0&&(t%100!==0||t%400===0)}function ul(t){return Pc(t)?366:365}function Rd(t,e){const n=nj(e-1,12)+1,r=t+(e-n)/12;return n===2?Pc(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function tv(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(e.getUTCFullYear()-1900)),+e}function $d(t){const e=(t+Math.floor(t/4)-Math.floor(t/100)+Math.floor(t/400))%7,n=t-1,r=(n+Math.floor(n/4)-Math.floor(n/100)+Math.floor(n/400))%7;return e===4||r===3?53:52}function Op(t){return t>99?t:t>60?1900+t:2e3+t}function qS(t,e,n,r=null){const i=new Date(t),a={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(a.timeZone=r);const l={timeZoneName:e,...a},h=new Intl.DateTimeFormat(n,l).formatToParts(i).find(f=>f.type.toLowerCase()==="timezonename");return h?h.value:null}function Fh(t,e){let n=parseInt(t,10);Number.isNaN(n)&&(n=0);const r=parseInt(e,10)||0,i=n<0||Object.is(n,-0)?-r:r;return n*60+i}function WS(t){const e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new wr(`Invalid unit value ${t}`);return e}function Fd(t,e){const n={};for(const r in t)if(eo(t,r)){const i=t[r];if(i==null)continue;n[e(r)]=WS(i)}return n}function dl(t,e){const n=Math.trunc(Math.abs(t/60)),r=Math.trunc(Math.abs(t%60)),i=t>=0?"+":"-";switch(e){case"short":return`${i}${Wt(n,2)}:${Wt(r,2)}`;case"narrow":return`${i}${n}${r>0?`:${r}`:""}`;case"techie":return`${i}${Wt(n,2)}${Wt(r,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function Uh(t){return tj(t,["hour","minute","second","millisecond"])}const GS=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/,rj=["January","February","March","April","May","June","July","August","September","October","November","December"],KS=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ij=["J","F","M","A","M","J","J","A","S","O","N","D"];function YS(t){switch(t){case"narrow":return[...ij];case"short":return[...KS];case"long":return[...rj];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const JS=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],QS=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],aj=["M","T","W","T","F","S","S"];function XS(t){switch(t){case"narrow":return[...aj];case"short":return[...QS];case"long":return[...JS];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const ZS=["AM","PM"],sj=["Before Christ","Anno Domini"],oj=["BC","AD"],lj=["B","A"];function eC(t){switch(t){case"narrow":return[...lj];case"short":return[...oj];case"long":return[...sj];default:return null}}function cj(t){return ZS[t.hour<12?0:1]}function uj(t,e){return XS(e)[t.weekday-1]}function dj(t,e){return YS(e)[t.month-1]}function hj(t,e){return eC(e)[t.year<0?0:1]}function fj(t,e,n="always",r=!1){const i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},a=["hours","minutes","seconds"].indexOf(t)===-1;if(n==="auto"&&a){const T=t==="days";switch(e){case 1:return T?"tomorrow":`next ${i[t][0]}`;case-1:return T?"yesterday":`last ${i[t][0]}`;case 0:return T?"today":`this ${i[t][0]}`}}const l=Object.is(e,-0)||e<0,h=Math.abs(e),f=h===1,g=i[t],k=r?f?g[1]:g[2]||g[1]:f?i[t][0]:t;return l?`${h} ${k} ago`:`in ${h} ${k}`}function ob(t,e){let n="";for(const r of t)r.literal?n+=r.val:n+=e(r.val);return n}const _j={D:Ap,DD:SS,DDD:CS,DDDD:TS,t:NS,tt:DS,ttt:IS,tttt:AS,T:OS,TT:MS,TTT:PS,TTTT:LS,f:RS,ff:FS,fff:jS,ffff:zS,F:$S,FF:US,FFF:VS,FFFF:HS};class Un{static create(e,n={}){return new Un(e,n)}static parseFormat(e){let n=null,r="",i=!1;const a=[];for(let l=0;l<e.length;l++){const h=e.charAt(l);h==="'"?(r.length>0&&a.push({literal:i,val:r}),n=null,r="",i=!i):i||h===n?r+=h:(r.length>0&&a.push({literal:!1,val:r}),r=h,n=h)}return r.length>0&&a.push({literal:i,val:r}),a}static macroTokenToFormatOpts(e){return _j[e]}constructor(e,n){this.opts=n,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,n){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...n}).format()}formatDateTime(e,n={}){return this.loc.dtFormatter(e,{...this.opts,...n}).format()}formatDateTimeParts(e,n={}){return this.loc.dtFormatter(e,{...this.opts,...n}).formatToParts()}resolvedOptions(e,n={}){return this.loc.dtFormatter(e,{...this.opts,...n}).resolvedOptions()}num(e,n=0){if(this.opts.forceSimple)return Wt(e,n);const r={...this.opts};return n>0&&(r.padTo=n),this.loc.numberFormatter(r).format(e)}formatDateTimeFromString(e,n){const r=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",a=(I,L)=>this.loc.extract(e,I,L),l=I=>e.isOffsetFixed&&e.offset===0&&I.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,I.format):"",h=()=>r?cj(e):a({hour:"numeric",hourCycle:"h12"},"dayperiod"),f=(I,L)=>r?dj(e,I):a(L?{month:I}:{month:I,day:"numeric"},"month"),g=(I,L)=>r?uj(e,I):a(L?{weekday:I}:{weekday:I,month:"long",day:"numeric"},"weekday"),k=I=>{const L=Un.macroTokenToFormatOpts(I);return L?this.formatWithSystemDefault(e,L):I},T=I=>r?hj(e,I):a({era:I},"era"),C=I=>{switch(I){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return l({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return l({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return l({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return h();case"d":return i?a({day:"numeric"},"day"):this.num(e.day);case"dd":return i?a({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return g("short",!0);case"cccc":return g("long",!0);case"ccccc":return g("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return g("short",!1);case"EEEE":return g("long",!1);case"EEEEE":return g("narrow",!1);case"L":return i?a({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return i?a({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return f("short",!0);case"LLLL":return f("long",!0);case"LLLLL":return f("narrow",!0);case"M":return i?a({month:"numeric"},"month"):this.num(e.month);case"MM":return i?a({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return f("short",!1);case"MMMM":return f("long",!1);case"MMMMM":return f("narrow",!1);case"y":return i?a({year:"numeric"},"year"):this.num(e.year);case"yy":return i?a({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return i?a({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return i?a({year:"numeric"},"year"):this.num(e.year,6);case"G":return T("short");case"GG":return T("long");case"GGGGG":return T("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return k(I)}};return ob(Un.parseFormat(n),C)}formatDurationFromString(e,n){const r=f=>{switch(f[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},i=f=>g=>{const k=r(g);return k?this.num(f.get(k),g.length):g},a=Un.parseFormat(n),l=a.reduce((f,{literal:g,val:k})=>g?f:f.concat(k),[]),h=e.shiftTo(...l.map(r).filter(f=>f));return ob(a,i(h))}}class Lr{constructor(e,n){this.reason=e,this.explanation=n}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}class Lc{get type(){throw new Ai}get name(){throw new Ai}get ianaName(){return this.name}get isUniversal(){throw new Ai}offsetName(e,n){throw new Ai}formatOffset(e,n){throw new Ai}offset(e){throw new Ai}equals(e){throw new Ai}get isValid(){throw new Ai}}let jf=null;class jh extends Lc{static get instance(){return jf===null&&(jf=new jh),jf}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:n,locale:r}){return qS(e,n,r)}formatOffset(e,n){return dl(this.offset(e),n)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}let Vu={};function pj(t){return Vu[t]||(Vu[t]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),Vu[t]}const mj={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function gj(t,e){const n=t.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(n),[,i,a,l,h,f,g,k]=r;return[l,i,a,h,f,g,k]}function vj(t,e){const n=t.formatToParts(e),r=[];for(let i=0;i<n.length;i++){const{type:a,value:l}=n[i],h=mj[a];a==="era"?r[h]=l:ut(h)||(r[h]=parseInt(l,10))}return r}let pu={};class Ei extends Lc{static create(e){return pu[e]||(pu[e]=new Ei(e)),pu[e]}static resetCache(){pu={},Vu={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=Ei.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:n,locale:r}){return qS(e,n,r,this.name)}formatOffset(e,n){return dl(this.offset(e),n)}offset(e){const n=new Date(e);if(isNaN(n))return NaN;const r=pj(this.name);let[i,a,l,h,f,g,k]=r.formatToParts?vj(r,n):gj(r,n);h==="BC"&&(i=-Math.abs(i)+1);const C=tv({year:i,month:a,day:l,hour:f===24?0:f,minute:g,second:k,millisecond:0});let I=+n;const L=I%1e3;return I-=L>=0?L:1e3+L,(C-I)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let Vf=null;class zn extends Lc{static get utcInstance(){return Vf===null&&(Vf=new zn(0)),Vf}static instance(e){return e===0?zn.utcInstance:new zn(e)}static parseSpecifier(e){if(e){const n=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(n)return new zn(Fh(n[1],n[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${dl(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${dl(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,n){return dl(this.fixed,n)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class yj extends Lc{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Vi(t,e){if(ut(t)||t===null)return e;if(t instanceof Lc)return t;if(XU(t)){const n=t.toLowerCase();return n==="default"?e:n==="local"||n==="system"?jh.instance:n==="utc"||n==="gmt"?zn.utcInstance:zn.parseSpecifier(n)||Ei.create(t)}else return $a(t)?zn.instance(t):typeof t=="object"&&t.offset&&typeof t.offset=="number"?t:new yj(t)}let lb=()=>Date.now(),cb="system",ub=null,db=null,hb=null,fb;class Qt{static get now(){return lb}static set now(e){lb=e}static set defaultZone(e){cb=e}static get defaultZone(){return Vi(cb,jh.instance)}static get defaultLocale(){return ub}static set defaultLocale(e){ub=e}static get defaultNumberingSystem(){return db}static set defaultNumberingSystem(e){db=e}static get defaultOutputCalendar(){return hb}static set defaultOutputCalendar(e){hb=e}static get throwOnInvalid(){return fb}static set throwOnInvalid(e){fb=e}static resetCaches(){Nt.resetCache(),Ei.resetCache()}}let _b={};function bj(t,e={}){const n=JSON.stringify([t,e]);let r=_b[n];return r||(r=new Intl.ListFormat(t,e),_b[n]=r),r}let Mp={};function Pp(t,e={}){const n=JSON.stringify([t,e]);let r=Mp[n];return r||(r=new Intl.DateTimeFormat(t,e),Mp[n]=r),r}let Lp={};function wj(t,e={}){const n=JSON.stringify([t,e]);let r=Lp[n];return r||(r=new Intl.NumberFormat(t,e),Lp[n]=r),r}let Rp={};function xj(t,e={}){const{base:n,...r}=e,i=JSON.stringify([t,r]);let a=Rp[i];return a||(a=new Intl.RelativeTimeFormat(t,e),Rp[i]=a),a}let qo=null;function Ej(){return qo||(qo=new Intl.DateTimeFormat().resolvedOptions().locale,qo)}function kj(t){const e=t.indexOf("-u-");if(e===-1)return[t];{let n;const r=t.substring(0,e);try{n=Pp(t).resolvedOptions()}catch{n=Pp(r).resolvedOptions()}const{numberingSystem:i,calendar:a}=n;return[r,i,a]}}function Sj(t,e,n){return(n||e)&&(t+="-u",n&&(t+=`-ca-${n}`),e&&(t+=`-nu-${e}`)),t}function Cj(t){const e=[];for(let n=1;n<=12;n++){const r=Qe.utc(2016,n,1);e.push(t(r))}return e}function Tj(t){const e=[];for(let n=1;n<=7;n++){const r=Qe.utc(2016,11,13+n);e.push(t(r))}return e}function mu(t,e,n,r,i){const a=t.listingMode(n);return a==="error"?null:a==="en"?r(e):i(e)}function Nj(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem==="latn"}class Dj{constructor(e,n,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;const{padTo:i,floor:a,...l}=r;if(!n||Object.keys(l).length>0){const h={useGrouping:!1,...r};r.padTo>0&&(h.minimumIntegerDigits=r.padTo),this.inf=wj(e,h)}}format(e){if(this.inf){const n=this.floor?Math.floor(e):e;return this.inf.format(n)}else{const n=this.floor?Math.floor(e):ev(e,3);return Wt(n,this.padTo)}}}class Ij{constructor(e,n,r){this.opts=r;let i;if(e.zone.isUniversal){const l=-1*(e.offset/60),h=l>=0?`Etc/GMT+${l}`:`Etc/GMT${l}`;e.offset!==0&&Ei.create(h).valid?(i=h,this.dt=e):(i="UTC",r.timeZoneName?this.dt=e:this.dt=e.offset===0?e:Qe.fromMillis(e.ts+e.offset*60*1e3))}else e.zone.type==="system"?this.dt=e:(this.dt=e,i=e.zone.name);const a={...this.opts};i&&(a.timeZone=i),this.dtf=Pp(n,a)}format(){return this.dtf.format(this.dt.toJSDate())}formatToParts(){return this.dtf.formatToParts(this.dt.toJSDate())}resolvedOptions(){return this.dtf.resolvedOptions()}}class Aj{constructor(e,n,r){this.opts={style:"long",...r},!n&&BS()&&(this.rtf=xj(e,r))}format(e,n){return this.rtf?this.rtf.format(e,n):fj(n,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,n){return this.rtf?this.rtf.formatToParts(e,n):[]}}class Nt{static fromOpts(e){return Nt.create(e.locale,e.numberingSystem,e.outputCalendar,e.defaultToEN)}static create(e,n,r,i=!1){const a=e||Qt.defaultLocale,l=a||(i?"en-US":Ej()),h=n||Qt.defaultNumberingSystem,f=r||Qt.defaultOutputCalendar;return new Nt(l,h,f,a)}static resetCache(){qo=null,Mp={},Lp={},Rp={}}static fromObject({locale:e,numberingSystem:n,outputCalendar:r}={}){return Nt.create(e,n,r)}constructor(e,n,r,i){const[a,l,h]=kj(e);this.locale=a,this.numberingSystem=n||l||null,this.outputCalendar=r||h||null,this.intl=Sj(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=i,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=Nj(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),n=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&n?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:Nt.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,n=!1,r=!0){return mu(this,e,r,YS,()=>{const i=n?{month:e,day:"numeric"}:{month:e},a=n?"format":"standalone";return this.monthsCache[a][e]||(this.monthsCache[a][e]=Cj(l=>this.extract(l,i,"month"))),this.monthsCache[a][e]})}weekdays(e,n=!1,r=!0){return mu(this,e,r,XS,()=>{const i=n?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},a=n?"format":"standalone";return this.weekdaysCache[a][e]||(this.weekdaysCache[a][e]=Tj(l=>this.extract(l,i,"weekday"))),this.weekdaysCache[a][e]})}meridiems(e=!0){return mu(this,void 0,e,()=>ZS,()=>{if(!this.meridiemCache){const n={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Qe.utc(2016,11,13,9),Qe.utc(2016,11,13,19)].map(r=>this.extract(r,n,"dayperiod"))}return this.meridiemCache})}eras(e,n=!0){return mu(this,e,n,eC,()=>{const r={era:e};return this.eraCache[e]||(this.eraCache[e]=[Qe.utc(-40,1,1),Qe.utc(2017,1,1)].map(i=>this.extract(i,r,"era"))),this.eraCache[e]})}extract(e,n,r){const i=this.dtFormatter(e,n),a=i.formatToParts(),l=a.find(h=>h.type.toLowerCase()===r);return l?l.value:null}numberFormatter(e={}){return new Dj(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,n={}){return new Ij(e,this.intl,n)}relFormatter(e={}){return new Aj(this.intl,this.isEnglish(),e)}listFormatter(e={}){return bj(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}}function _o(...t){const e=t.reduce((n,r)=>n+r.source,"");return RegExp(`^${e}$`)}function po(...t){return e=>t.reduce(([n,r,i],a)=>{const[l,h,f]=a(e,i);return[{...n,...l},h||r,f]},[{},null,1]).slice(0,2)}function mo(t,...e){if(t==null)return[null,null];for(const[n,r]of e){const i=n.exec(t);if(i)return r(i)}return[null,null]}function tC(...t){return(e,n)=>{const r={};let i;for(i=0;i<t.length;i++)r[t[i]]=Pi(e[n+i]);return[r,null,n+i]}}const nC=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,Oj=`(?:${nC.source}?(?:\\[(${GS.source})\\])?)?`,nv=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,rC=RegExp(`${nv.source}${Oj}`),rv=RegExp(`(?:T${rC.source})?`),Mj=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Pj=/(\d{4})-?W(\d\d)(?:-?(\d))?/,Lj=/(\d{4})-?(\d{3})/,Rj=tC("weekYear","weekNumber","weekDay"),$j=tC("year","ordinal"),Fj=/(\d{4})-(\d\d)-(\d\d)/,iC=RegExp(`${nv.source} ?(?:${nC.source}|(${GS.source}))?`),Uj=RegExp(`(?: ${iC.source})?`);function Rs(t,e,n){const r=t[e];return ut(r)?n:Pi(r)}function jj(t,e){return[{year:Rs(t,e),month:Rs(t,e+1,1),day:Rs(t,e+2,1)},null,e+3]}function go(t,e){return[{hours:Rs(t,e,0),minutes:Rs(t,e+1,0),seconds:Rs(t,e+2,0),milliseconds:Zg(t[e+3])},null,e+4]}function Rc(t,e){const n=!t[e]&&!t[e+1],r=Fh(t[e+1],t[e+2]),i=n?null:zn.instance(r);return[{},i,e+3]}function $c(t,e){const n=t[e]?Ei.create(t[e]):null;return[{},n,e+1]}const Vj=RegExp(`^T?${nv.source}$`),zj=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Hj(t){const[e,n,r,i,a,l,h,f,g]=t,k=e[0]==="-",T=f&&f[0]==="-",C=(I,L=!1)=>I!==void 0&&(L||I&&k)?-I:I;return[{years:C(ya(n)),months:C(ya(r)),weeks:C(ya(i)),days:C(ya(a)),hours:C(ya(l)),minutes:C(ya(h)),seconds:C(ya(f),f==="-0"),milliseconds:C(Zg(g),T)}]}const Bj={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function iv(t,e,n,r,i,a,l){const h={year:e.length===2?Op(Pi(e)):Pi(e),month:KS.indexOf(n)+1,day:Pi(r),hour:Pi(i),minute:Pi(a)};return l&&(h.second=Pi(l)),t&&(h.weekday=t.length>3?JS.indexOf(t)+1:QS.indexOf(t)+1),h}const qj=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function Wj(t){const[,e,n,r,i,a,l,h,f,g,k,T]=t,C=iv(e,i,r,n,a,l,h);let I;return f?I=Bj[f]:g?I=0:I=Fh(k,T),[C,new zn(I)]}function Gj(t){return t.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const Kj=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,Yj=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,Jj=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function pb(t){const[,e,n,r,i,a,l,h]=t;return[iv(e,i,r,n,a,l,h),zn.utcInstance]}function Qj(t){const[,e,n,r,i,a,l,h]=t;return[iv(e,h,n,r,i,a,l),zn.utcInstance]}const Xj=_o(Mj,rv),Zj=_o(Pj,rv),eV=_o(Lj,rv),tV=_o(rC),aC=po(jj,go,Rc,$c),nV=po(Rj,go,Rc,$c),rV=po($j,go,Rc,$c),iV=po(go,Rc,$c);function aV(t){return mo(t,[Xj,aC],[Zj,nV],[eV,rV],[tV,iV])}function sV(t){return mo(Gj(t),[qj,Wj])}function oV(t){return mo(t,[Kj,pb],[Yj,pb],[Jj,Qj])}function lV(t){return mo(t,[zj,Hj])}const cV=po(go);function uV(t){return mo(t,[Vj,cV])}const dV=_o(Fj,Uj),hV=_o(iC),fV=po(go,Rc,$c);function _V(t){return mo(t,[dV,aC],[hV,fV])}const pV="Invalid Duration",sC={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},mV={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...sC},vr=146097/400,us=146097/4800,gV={years:{quarters:4,months:12,weeks:vr/7,days:vr,hours:vr*24,minutes:vr*24*60,seconds:vr*24*60*60,milliseconds:vr*24*60*60*1e3},quarters:{months:3,weeks:vr/28,days:vr/4,hours:vr*24/4,minutes:vr*24*60/4,seconds:vr*24*60*60/4,milliseconds:vr*24*60*60*1e3/4},months:{weeks:us/7,days:us,hours:us*24,minutes:us*24*60,seconds:us*24*60*60,milliseconds:us*24*60*60*1e3},...sC},Sa=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],vV=Sa.slice(0).reverse();function ba(t,e,n=!1){const r={values:n?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new dt(r)}function yV(t){return t<0?Math.floor(t):Math.ceil(t)}function oC(t,e,n,r,i){const a=t[i][n],l=e[n]/a,h=Math.sign(l)===Math.sign(r[i]),f=!h&&r[i]!==0&&Math.abs(l)<=1?yV(l):Math.trunc(l);r[i]+=f,e[n]-=f*a}function bV(t,e){vV.reduce((n,r)=>ut(e[r])?n:(n&&oC(t,e,n,e,r),r),null)}class dt{constructor(e){const n=e.conversionAccuracy==="longterm"||!1;let r=n?gV:mV;e.matrix&&(r=e.matrix),this.values=e.values,this.loc=e.loc||Nt.create(),this.conversionAccuracy=n?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(e,n){return dt.fromObject({milliseconds:e},n)}static fromObject(e,n={}){if(e==null||typeof e!="object")throw new wr(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new dt({values:Fd(e,dt.normalizeUnit),loc:Nt.fromObject(n),conversionAccuracy:n.conversionAccuracy,matrix:n.matrix})}static fromDurationLike(e){if($a(e))return dt.fromMillis(e);if(dt.isDuration(e))return e;if(typeof e=="object")return dt.fromObject(e);throw new wr(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,n){const[r]=lV(e);return r?dt.fromObject(r,n):dt.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,n){const[r]=uV(e);return r?dt.fromObject(r,n):dt.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,n=null){if(!e)throw new wr("need to specify a reason the Duration is invalid");const r=e instanceof Lr?e:new Lr(e,n);if(Qt.throwOnInvalid)throw new YU(r);return new dt({invalid:r})}static normalizeUnit(e){const n={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!n)throw new kS(e);return n}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,n={}){const r={...n,floor:n.round!==!1&&n.floor!==!1};return this.isValid?Un.create(this.loc,r).formatDurationFromString(this,e):pV}toHuman(e={}){const n=Sa.map(r=>{const i=this.values[r];return ut(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:r.slice(0,-1)}).format(i)}).filter(r=>r);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(n)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=ev(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const n=this.toMillis();if(n<0||n>=864e5)return null;e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e};const r=this.shiftTo("hours","minutes","seconds","milliseconds");let i=e.format==="basic"?"hhmm":"hh:mm";(!e.suppressSeconds||r.seconds!==0||r.milliseconds!==0)&&(i+=e.format==="basic"?"ss":":ss",(!e.suppressMilliseconds||r.milliseconds!==0)&&(i+=".SSS"));let a=r.toFormat(i);return e.includePrefix&&(a="T"+a),a}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const n=dt.fromDurationLike(e),r={};for(const i of Sa)(eo(n.values,i)||eo(this.values,i))&&(r[i]=n.get(i)+this.get(i));return ba(this,{values:r},!0)}minus(e){if(!this.isValid)return this;const n=dt.fromDurationLike(e);return this.plus(n.negate())}mapUnits(e){if(!this.isValid)return this;const n={};for(const r of Object.keys(this.values))n[r]=WS(e(this.values[r],r));return ba(this,{values:n},!0)}get(e){return this[dt.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const n={...this.values,...Fd(e,dt.normalizeUnit)};return ba(this,{values:n})}reconfigure({locale:e,numberingSystem:n,conversionAccuracy:r,matrix:i}={}){const l={loc:this.loc.clone({locale:e,numberingSystem:n}),matrix:i,conversionAccuracy:r};return ba(this,l)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return bV(this.matrix,e),ba(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(l=>dt.normalizeUnit(l));const n={},r={},i=this.toObject();let a;for(const l of Sa)if(e.indexOf(l)>=0){a=l;let h=0;for(const g in r)h+=this.matrix[g][l]*r[g],r[g]=0;$a(i[l])&&(h+=i[l]);const f=Math.trunc(h);n[l]=f,r[l]=(h*1e3-f*1e3)/1e3;for(const g in i)Sa.indexOf(g)>Sa.indexOf(l)&&oC(this.matrix,i,g,n,l)}else $a(i[l])&&(r[l]=i[l]);for(const l in r)r[l]!==0&&(n[a]+=l===a?r[l]:r[l]/this.matrix[a][l]);return ba(this,{values:n},!0).normalize()}negate(){if(!this.isValid)return this;const e={};for(const n of Object.keys(this.values))e[n]=this.values[n]===0?0:-this.values[n];return ba(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function n(r,i){return r===void 0||r===0?i===void 0||i===0:r===i}for(const r of Sa)if(!n(this.values[r],e.values[r]))return!1;return!0}}const Io="Invalid Interval";function wV(t,e){return!t||!t.isValid?Ut.invalid("missing or invalid start"):!e||!e.isValid?Ut.invalid("missing or invalid end"):e<t?Ut.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}class Ut{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,n=null){if(!e)throw new wr("need to specify a reason the Interval is invalid");const r=e instanceof Lr?e:new Lr(e,n);if(Qt.throwOnInvalid)throw new KU(r);return new Ut({invalid:r})}static fromDateTimes(e,n){const r=Mo(e),i=Mo(n),a=wV(r,i);return a==null?new Ut({start:r,end:i}):a}static after(e,n){const r=dt.fromDurationLike(n),i=Mo(e);return Ut.fromDateTimes(i,i.plus(r))}static before(e,n){const r=dt.fromDurationLike(n),i=Mo(e);return Ut.fromDateTimes(i.minus(r),i)}static fromISO(e,n){const[r,i]=(e||"").split("/",2);if(r&&i){let a,l;try{a=Qe.fromISO(r,n),l=a.isValid}catch{l=!1}let h,f;try{h=Qe.fromISO(i,n),f=h.isValid}catch{f=!1}if(l&&f)return Ut.fromDateTimes(a,h);if(l){const g=dt.fromISO(i,n);if(g.isValid)return Ut.after(a,g)}else if(f){const g=dt.fromISO(r,n);if(g.isValid)return Ut.before(h,g)}}return Ut.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds"){if(!this.isValid)return NaN;const n=this.start.startOf(e),r=this.end.startOf(e);return Math.floor(r.diff(n,e).get(e))+1}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:n}={}){return this.isValid?Ut.fromDateTimes(e||this.s,n||this.e):this}splitAt(...e){if(!this.isValid)return[];const n=e.map(Mo).filter(l=>this.contains(l)).sort(),r=[];let{s:i}=this,a=0;for(;i<this.e;){const l=n[a]||this.e,h=+l>+this.e?this.e:l;r.push(Ut.fromDateTimes(i,h)),i=h,a+=1}return r}splitBy(e){const n=dt.fromDurationLike(e);if(!this.isValid||!n.isValid||n.as("milliseconds")===0)return[];let{s:r}=this,i=1,a;const l=[];for(;r<this.e;){const h=this.start.plus(n.mapUnits(f=>f*i));a=+h>+this.e?this.e:h,l.push(Ut.fromDateTimes(r,a)),r=a,i+=1}return l}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const n=this.s>e.s?this.s:e.s,r=this.e<e.e?this.e:e.e;return n>=r?null:Ut.fromDateTimes(n,r)}union(e){if(!this.isValid)return this;const n=this.s<e.s?this.s:e.s,r=this.e>e.e?this.e:e.e;return Ut.fromDateTimes(n,r)}static merge(e){const[n,r]=e.sort((i,a)=>i.s-a.s).reduce(([i,a],l)=>a?a.overlaps(l)||a.abutsStart(l)?[i,a.union(l)]:[i.concat([a]),l]:[i,l],[[],null]);return r&&n.push(r),n}static xor(e){let n=null,r=0;const i=[],a=e.map(f=>[{time:f.s,type:"s"},{time:f.e,type:"e"}]),l=Array.prototype.concat(...a),h=l.sort((f,g)=>f.time-g.time);for(const f of h)r+=f.type==="s"?1:-1,r===1?n=f.time:(n&&+n!=+f.time&&i.push(Ut.fromDateTimes(n,f.time)),n=null);return Ut.merge(i)}difference(...e){return Ut.xor([this].concat(e)).map(n=>this.intersection(n)).filter(n=>n&&!n.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:Io}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:Io}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:Io}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:Io}toFormat(e,{separator:n=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(e)}${n}${this.e.toFormat(e)}`:Io}toDuration(e,n){return this.isValid?this.e.diff(this.s,e,n):dt.invalid(this.invalidReason)}mapEndpoints(e){return Ut.fromDateTimes(e(this.s),e(this.e))}}class gu{static hasDST(e=Qt.defaultZone){const n=Qe.now().setZone(e).set({month:12});return!e.isUniversal&&n.offset!==n.set({month:6}).offset}static isValidIANAZone(e){return Ei.isValidZone(e)}static normalizeZone(e){return Vi(e,Qt.defaultZone)}static months(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null,outputCalendar:a="gregory"}={}){return(i||Nt.create(n,r,a)).months(e)}static monthsFormat(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null,outputCalendar:a="gregory"}={}){return(i||Nt.create(n,r,a)).months(e,!0)}static weekdays(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null}={}){return(i||Nt.create(n,r,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null}={}){return(i||Nt.create(n,r,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return Nt.create(e).meridiems()}static eras(e="short",{locale:n=null}={}){return Nt.create(n,null,"gregory").eras(e)}static features(){return{relative:BS()}}}function mb(t,e){const n=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=n(e)-n(t);return Math.floor(dt.fromMillis(r).as("days"))}function xV(t,e,n){const r=[["years",(h,f)=>f.year-h.year],["quarters",(h,f)=>f.quarter-h.quarter+(f.year-h.year)*4],["months",(h,f)=>f.month-h.month+(f.year-h.year)*12],["weeks",(h,f)=>{const g=mb(h,f);return(g-g%7)/7}],["days",mb]],i={};let a,l;for(const[h,f]of r)if(n.indexOf(h)>=0){a=h;let g=f(t,e);l=t.plus({[h]:g}),l>e?(t=t.plus({[h]:g-1}),g-=1):t=l,i[h]=g}return[t,i,l,a]}function EV(t,e,n,r){let[i,a,l,h]=xV(t,e,n);const f=e-i,g=n.filter(T=>["hours","minutes","seconds","milliseconds"].indexOf(T)>=0);g.length===0&&(l<e&&(l=i.plus({[h]:1})),l!==i&&(a[h]=(a[h]||0)+f/(l-i)));const k=dt.fromObject(a,r);return g.length>0?dt.fromMillis(f,r).shiftTo(...g).plus(k):k}const av={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},gb={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},kV=av.hanidec.replace(/[\[|\]]/g,"").split("");function SV(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);if(t[n].search(av.hanidec)!==-1)e+=kV.indexOf(t[n]);else for(const i in gb){const[a,l]=gb[i];r>=a&&r<=l&&(e+=r-a)}}return parseInt(e,10)}else return e}function Ir({numberingSystem:t},e=""){return new RegExp(`${av[t||"latn"]}${e}`)}const CV="missing Intl.DateTimeFormat.formatToParts support";function pt(t,e=n=>n){return{regex:t,deser:([n])=>e(SV(n))}}const TV=String.fromCharCode(160),lC=`[ ${TV}]`,cC=new RegExp(lC,"g");function NV(t){return t.replace(/\./g,"\\.?").replace(cC,lC)}function vb(t){return t.replace(/\./g,"").replace(cC," ").toLowerCase()}function Ar(t,e){return t===null?null:{regex:RegExp(t.map(NV).join("|")),deser:([n])=>t.findIndex(r=>vb(n)===vb(r))+e}}function yb(t,e){return{regex:t,deser:([,n,r])=>Fh(n,r),groups:e}}function zf(t){return{regex:t,deser:([e])=>e}}function DV(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function IV(t,e){const n=Ir(e),r=Ir(e,"{2}"),i=Ir(e,"{3}"),a=Ir(e,"{4}"),l=Ir(e,"{6}"),h=Ir(e,"{1,2}"),f=Ir(e,"{1,3}"),g=Ir(e,"{1,6}"),k=Ir(e,"{1,9}"),T=Ir(e,"{2,4}"),C=Ir(e,"{4,6}"),I=R=>({regex:RegExp(DV(R.val)),deser:([O])=>O,literal:!0}),N=(R=>{if(t.literal)return I(R);switch(R.val){case"G":return Ar(e.eras("short",!1),0);case"GG":return Ar(e.eras("long",!1),0);case"y":return pt(g);case"yy":return pt(T,Op);case"yyyy":return pt(a);case"yyyyy":return pt(C);case"yyyyyy":return pt(l);case"M":return pt(h);case"MM":return pt(r);case"MMM":return Ar(e.months("short",!0,!1),1);case"MMMM":return Ar(e.months("long",!0,!1),1);case"L":return pt(h);case"LL":return pt(r);case"LLL":return Ar(e.months("short",!1,!1),1);case"LLLL":return Ar(e.months("long",!1,!1),1);case"d":return pt(h);case"dd":return pt(r);case"o":return pt(f);case"ooo":return pt(i);case"HH":return pt(r);case"H":return pt(h);case"hh":return pt(r);case"h":return pt(h);case"mm":return pt(r);case"m":return pt(h);case"q":return pt(h);case"qq":return pt(r);case"s":return pt(h);case"ss":return pt(r);case"S":return pt(f);case"SSS":return pt(i);case"u":return zf(k);case"uu":return zf(h);case"uuu":return pt(n);case"a":return Ar(e.meridiems(),0);case"kkkk":return pt(a);case"kk":return pt(T,Op);case"W":return pt(h);case"WW":return pt(r);case"E":case"c":return pt(n);case"EEE":return Ar(e.weekdays("short",!1,!1),1);case"EEEE":return Ar(e.weekdays("long",!1,!1),1);case"ccc":return Ar(e.weekdays("short",!0,!1),1);case"cccc":return Ar(e.weekdays("long",!0,!1),1);case"Z":case"ZZ":return yb(new RegExp(`([+-]${h.source})(?::(${r.source}))?`),2);case"ZZZ":return yb(new RegExp(`([+-]${h.source})(${r.source})?`),2);case"z":return zf(/[a-z_+-/]{1,256}?/i);default:return I(R)}})(t)||{invalidReason:CV};return N.token=t,N}const AV={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function OV(t,e,n){const{type:r,value:i}=t;if(r==="literal")return{literal:!0,val:i};const a=n[r];let l=AV[r];if(typeof l=="object"&&(l=l[a]),l)return{literal:!1,val:l}}function MV(t){return[`^${t.map(n=>n.regex).reduce((n,r)=>`${n}(${r.source})`,"")}$`,t]}function PV(t,e,n){const r=t.match(e);if(r){const i={};let a=1;for(const l in n)if(eo(n,l)){const h=n[l],f=h.groups?h.groups+1:1;!h.literal&&h.token&&(i[h.token.val[0]]=h.deser(r.slice(a,a+f))),a+=f}return[r,i]}else return[r,{}]}function LV(t){const e=a=>{switch(a){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let n=null,r;return ut(t.z)||(n=Ei.create(t.z)),ut(t.Z)||(n||(n=new zn(t.Z)),r=t.Z),ut(t.q)||(t.M=(t.q-1)*3+1),ut(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),ut(t.u)||(t.S=Zg(t.u)),[Object.keys(t).reduce((a,l)=>{const h=e(l);return h&&(a[h]=t[l]),a},{}),n,r]}let Hf=null;function RV(){return Hf||(Hf=Qe.fromMillis(1555555555555)),Hf}function $V(t,e){if(t.literal)return t;const n=Un.macroTokenToFormatOpts(t.val),r=hC(n,e);return r==null||r.includes(void 0)?t:r}function uC(t,e){return Array.prototype.concat(...t.map(n=>$V(n,e)))}function dC(t,e,n){const r=uC(Un.parseFormat(n),t),i=r.map(l=>IV(l,t)),a=i.find(l=>l.invalidReason);if(a)return{input:e,tokens:r,invalidReason:a.invalidReason};{const[l,h]=MV(i),f=RegExp(l,"i"),[g,k]=PV(e,f,h),[T,C,I]=k?LV(k):[null,null,void 0];if(eo(k,"a")&&eo(k,"H"))throw new Bo("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:r,regex:f,rawMatches:g,matches:k,result:T,zone:C,specificOffset:I}}}function FV(t,e,n){const{result:r,zone:i,specificOffset:a,invalidReason:l}=dC(t,e,n);return[r,i,a,l]}function hC(t,e){return t?Un.create(e,t).formatDateTimeParts(RV()).map(i=>OV(i,e,t)):null}const fC=[0,31,59,90,120,151,181,212,243,273,304,334],_C=[0,31,60,91,121,152,182,213,244,274,305,335];function Er(t,e){return new Lr("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function pC(t,e,n){const r=new Date(Date.UTC(t,e-1,n));t<100&&t>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const i=r.getUTCDay();return i===0?7:i}function mC(t,e,n){return n+(Pc(t)?_C:fC)[e-1]}function gC(t,e){const n=Pc(t)?_C:fC,r=n.findIndex(a=>a<e),i=e-n[r];return{month:r+1,day:i}}function $p(t){const{year:e,month:n,day:r}=t,i=mC(e,n,r),a=pC(e,n,r);let l=Math.floor((i-a+10)/7),h;return l<1?(h=e-1,l=$d(h)):l>$d(e)?(h=e+1,l=1):h=e,{weekYear:h,weekNumber:l,weekday:a,...Uh(t)}}function bb(t){const{weekYear:e,weekNumber:n,weekday:r}=t,i=pC(e,1,4),a=ul(e);let l=n*7+r-i-3,h;l<1?(h=e-1,l+=ul(h)):l>a?(h=e+1,l-=ul(e)):h=e;const{month:f,day:g}=gC(h,l);return{year:h,month:f,day:g,...Uh(t)}}function Bf(t){const{year:e,month:n,day:r}=t,i=mC(e,n,r);return{year:e,ordinal:i,...Uh(t)}}function wb(t){const{year:e,ordinal:n}=t,{month:r,day:i}=gC(e,n);return{year:e,month:r,day:i,...Uh(t)}}function UV(t){const e=$h(t.weekYear),n=li(t.weekNumber,1,$d(t.weekYear)),r=li(t.weekday,1,7);return e?n?r?!1:Er("weekday",t.weekday):Er("week",t.week):Er("weekYear",t.weekYear)}function jV(t){const e=$h(t.year),n=li(t.ordinal,1,ul(t.year));return e?n?!1:Er("ordinal",t.ordinal):Er("year",t.year)}function vC(t){const e=$h(t.year),n=li(t.month,1,12),r=li(t.day,1,Rd(t.year,t.month));return e?n?r?!1:Er("day",t.day):Er("month",t.month):Er("year",t.year)}function yC(t){const{hour:e,minute:n,second:r,millisecond:i}=t,a=li(e,0,23)||e===24&&n===0&&r===0&&i===0,l=li(n,0,59),h=li(r,0,59),f=li(i,0,999);return a?l?h?f?!1:Er("millisecond",i):Er("second",r):Er("minute",n):Er("hour",e)}const qf="Invalid DateTime",xb=864e13;function vu(t){return new Lr("unsupported zone",`the zone "${t.name}" is not supported`)}function Wf(t){return t.weekData===null&&(t.weekData=$p(t.c)),t.weekData}function Ao(t,e){const n={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new Qe({...n,...e,old:n})}function bC(t,e,n){let r=t-e*60*1e3;const i=n.offset(r);if(e===i)return[r,e];r-=(i-e)*60*1e3;const a=n.offset(r);return i===a?[r,i]:[t-Math.min(i,a)*60*1e3,Math.max(i,a)]}function Eb(t,e){t+=e*60*1e3;const n=new Date(t);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function zu(t,e,n){return bC(tv(t),e,n)}function kb(t,e){const n=t.o,r=t.c.year+Math.trunc(e.years),i=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,a={...t.c,year:r,month:i,day:Math.min(t.c.day,Rd(r,i))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},l=dt.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),h=tv(a);let[f,g]=bC(h,n,t.zone);return l!==0&&(f+=l,g=t.zone.offset(f)),{ts:f,o:g}}function Oo(t,e,n,r,i,a){const{setZone:l,zone:h}=n;if(t&&Object.keys(t).length!==0){const f=e||h,g=Qe.fromObject(t,{...n,zone:f,specificOffset:a});return l?g:g.setZone(h)}else return Qe.invalid(new Lr("unparsable",`the input "${i}" can't be parsed as ${r}`))}function yu(t,e,n=!0){return t.isValid?Un.create(Nt.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(t,e):null}function Gf(t,e){const n=t.c.year>9999||t.c.year<0;let r="";return n&&t.c.year>=0&&(r+="+"),r+=Wt(t.c.year,n?6:4),e?(r+="-",r+=Wt(t.c.month),r+="-",r+=Wt(t.c.day)):(r+=Wt(t.c.month),r+=Wt(t.c.day)),r}function Sb(t,e,n,r,i,a){let l=Wt(t.c.hour);return e?(l+=":",l+=Wt(t.c.minute),(t.c.second!==0||!n)&&(l+=":")):l+=Wt(t.c.minute),(t.c.second!==0||!n)&&(l+=Wt(t.c.second),(t.c.millisecond!==0||!r)&&(l+=".",l+=Wt(t.c.millisecond,3))),i&&(t.isOffsetFixed&&t.offset===0&&!a?l+="Z":t.o<0?(l+="-",l+=Wt(Math.trunc(-t.o/60)),l+=":",l+=Wt(Math.trunc(-t.o%60))):(l+="+",l+=Wt(Math.trunc(t.o/60)),l+=":",l+=Wt(Math.trunc(t.o%60)))),a&&(l+="["+t.zone.ianaName+"]"),l}const wC={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},VV={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},zV={ordinal:1,hour:0,minute:0,second:0,millisecond:0},xC=["year","month","day","hour","minute","second","millisecond"],HV=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],BV=["year","ordinal","hour","minute","second","millisecond"];function Cb(t){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new kS(t);return e}function Tb(t,e){const n=Vi(e.zone,Qt.defaultZone),r=Nt.fromObject(e),i=Qt.now();let a,l;if(ut(t.year))a=i;else{for(const g of xC)ut(t[g])&&(t[g]=wC[g]);const h=vC(t)||yC(t);if(h)return Qe.invalid(h);const f=n.offset(i);[a,l]=zu(t,f,n)}return new Qe({ts:a,zone:n,loc:r,o:l})}function Nb(t,e,n){const r=ut(n.round)?!0:n.round,i=(l,h)=>(l=ev(l,r||n.calendary?0:2,!0),e.loc.clone(n).relFormatter(n).format(l,h)),a=l=>n.calendary?e.hasSame(t,l)?0:e.startOf(l).diff(t.startOf(l),l).get(l):e.diff(t,l).get(l);if(n.unit)return i(a(n.unit),n.unit);for(const l of n.units){const h=a(l);if(Math.abs(h)>=1)return i(h,l)}return i(t>e?-0:0,n.units[n.units.length-1])}function Db(t){let e={},n;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],n=Array.from(t).slice(0,t.length-1)):n=Array.from(t),[e,n]}class Qe{constructor(e){const n=e.zone||Qt.defaultZone;let r=e.invalid||(Number.isNaN(e.ts)?new Lr("invalid input"):null)||(n.isValid?null:vu(n));this.ts=ut(e.ts)?Qt.now():e.ts;let i=null,a=null;if(!r)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(n))[i,a]=[e.old.c,e.old.o];else{const h=n.offset(this.ts);i=Eb(this.ts,h),r=Number.isNaN(i.year)?new Lr("invalid input"):null,i=r?null:i,a=r?null:h}this._zone=n,this.loc=e.loc||Nt.create(),this.invalid=r,this.weekData=null,this.c=i,this.o=a,this.isLuxonDateTime=!0}static now(){return new Qe({})}static local(){const[e,n]=Db(arguments),[r,i,a,l,h,f,g]=n;return Tb({year:r,month:i,day:a,hour:l,minute:h,second:f,millisecond:g},e)}static utc(){const[e,n]=Db(arguments),[r,i,a,l,h,f,g]=n;return e.zone=zn.utcInstance,Tb({year:r,month:i,day:a,hour:l,minute:h,second:f,millisecond:g},e)}static fromJSDate(e,n={}){const r=ZU(e)?e.valueOf():NaN;if(Number.isNaN(r))return Qe.invalid("invalid input");const i=Vi(n.zone,Qt.defaultZone);return i.isValid?new Qe({ts:r,zone:i,loc:Nt.fromObject(n)}):Qe.invalid(vu(i))}static fromMillis(e,n={}){if($a(e))return e<-xb||e>xb?Qe.invalid("Timestamp out of range"):new Qe({ts:e,zone:Vi(n.zone,Qt.defaultZone),loc:Nt.fromObject(n)});throw new wr(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,n={}){if($a(e))return new Qe({ts:e*1e3,zone:Vi(n.zone,Qt.defaultZone),loc:Nt.fromObject(n)});throw new wr("fromSeconds requires a numerical input")}static fromObject(e,n={}){e=e||{};const r=Vi(n.zone,Qt.defaultZone);if(!r.isValid)return Qe.invalid(vu(r));const i=Qt.now(),a=ut(n.specificOffset)?r.offset(i):n.specificOffset,l=Fd(e,Cb),h=!ut(l.ordinal),f=!ut(l.year),g=!ut(l.month)||!ut(l.day),k=f||g,T=l.weekYear||l.weekNumber,C=Nt.fromObject(n);if((k||h)&&T)throw new Bo("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(g&&h)throw new Bo("Can't mix ordinal dates with month/day");const I=T||l.weekday&&!k;let L,N,R=Eb(i,a);I?(L=HV,N=VV,R=$p(R)):h?(L=BV,N=zV,R=Bf(R)):(L=xC,N=wC);let O=!1;for(const W of L){const q=l[W];ut(q)?O?l[W]=N[W]:l[W]=R[W]:O=!0}const A=I?UV(l):h?jV(l):vC(l),$=A||yC(l);if($)return Qe.invalid($);const U=I?bb(l):h?wb(l):l,[j,H]=zu(U,a,r),z=new Qe({ts:j,zone:r,o:H,loc:C});return l.weekday&&k&&e.weekday!==z.weekday?Qe.invalid("mismatched weekday",`you can't specify both a weekday of ${l.weekday} and a date of ${z.toISO()}`):z}static fromISO(e,n={}){const[r,i]=aV(e);return Oo(r,i,n,"ISO 8601",e)}static fromRFC2822(e,n={}){const[r,i]=sV(e);return Oo(r,i,n,"RFC 2822",e)}static fromHTTP(e,n={}){const[r,i]=oV(e);return Oo(r,i,n,"HTTP",n)}static fromFormat(e,n,r={}){if(ut(e)||ut(n))throw new wr("fromFormat requires an input string and a format");const{locale:i=null,numberingSystem:a=null}=r,l=Nt.fromOpts({locale:i,numberingSystem:a,defaultToEN:!0}),[h,f,g,k]=FV(l,e,n);return k?Qe.invalid(k):Oo(h,f,r,`format ${n}`,e,g)}static fromString(e,n,r={}){return Qe.fromFormat(e,n,r)}static fromSQL(e,n={}){const[r,i]=_V(e);return Oo(r,i,n,"SQL",e)}static invalid(e,n=null){if(!e)throw new wr("need to specify a reason the DateTime is invalid");const r=e instanceof Lr?e:new Lr(e,n);if(Qt.throwOnInvalid)throw new GU(r);return new Qe({invalid:r})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,n={}){const r=hC(e,Nt.fromObject(n));return r?r.map(i=>i?i.val:null).join(""):null}static expandFormat(e,n={}){return uC(Un.parseFormat(e),Nt.fromObject(n)).map(i=>i.val).join("")}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Wf(this).weekYear:NaN}get weekNumber(){return this.isValid?Wf(this).weekNumber:NaN}get weekday(){return this.isValid?Wf(this).weekday:NaN}get ordinal(){return this.isValid?Bf(this.c).ordinal:NaN}get monthShort(){return this.isValid?gu.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?gu.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?gu.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?gu.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}get isInLeapYear(){return Pc(this.year)}get daysInMonth(){return Rd(this.year,this.month)}get daysInYear(){return this.isValid?ul(this.year):NaN}get weeksInWeekYear(){return this.isValid?$d(this.weekYear):NaN}resolvedLocaleOptions(e={}){const{locale:n,numberingSystem:r,calendar:i}=Un.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:n,numberingSystem:r,outputCalendar:i}}toUTC(e=0,n={}){return this.setZone(zn.instance(e),n)}toLocal(){return this.setZone(Qt.defaultZone)}setZone(e,{keepLocalTime:n=!1,keepCalendarTime:r=!1}={}){if(e=Vi(e,Qt.defaultZone),e.equals(this.zone))return this;if(e.isValid){let i=this.ts;if(n||r){const a=e.offset(this.ts),l=this.toObject();[i]=zu(l,a,e)}return Ao(this,{ts:i,zone:e})}else return Qe.invalid(vu(e))}reconfigure({locale:e,numberingSystem:n,outputCalendar:r}={}){const i=this.loc.clone({locale:e,numberingSystem:n,outputCalendar:r});return Ao(this,{loc:i})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const n=Fd(e,Cb),r=!ut(n.weekYear)||!ut(n.weekNumber)||!ut(n.weekday),i=!ut(n.ordinal),a=!ut(n.year),l=!ut(n.month)||!ut(n.day),h=a||l,f=n.weekYear||n.weekNumber;if((h||i)&&f)throw new Bo("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&i)throw new Bo("Can't mix ordinal dates with month/day");let g;r?g=bb({...$p(this.c),...n}):ut(n.ordinal)?(g={...this.toObject(),...n},ut(n.day)&&(g.day=Math.min(Rd(g.year,g.month),g.day))):g=wb({...Bf(this.c),...n});const[k,T]=zu(g,this.o,this.zone);return Ao(this,{ts:k,o:T})}plus(e){if(!this.isValid)return this;const n=dt.fromDurationLike(e);return Ao(this,kb(this,n))}minus(e){if(!this.isValid)return this;const n=dt.fromDurationLike(e).negate();return Ao(this,kb(this,n))}startOf(e){if(!this.isValid)return this;const n={},r=dt.normalizeUnit(e);switch(r){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0;break}if(r==="weeks"&&(n.weekday=1),r==="quarters"){const i=Math.ceil(this.month/3);n.month=(i-1)*3+1}return this.set(n)}endOf(e){return this.isValid?this.plus({[e]:1}).startOf(e).minus(1):this}toFormat(e,n={}){return this.isValid?Un.create(this.loc.redefaultToEN(n)).formatDateTimeFromString(this,e):qf}toLocaleString(e=Ap,n={}){return this.isValid?Un.create(this.loc.clone(n),e).formatDateTime(this):qf}toLocaleParts(e={}){return this.isValid?Un.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:n=!1,suppressMilliseconds:r=!1,includeOffset:i=!0,extendedZone:a=!1}={}){if(!this.isValid)return null;const l=e==="extended";let h=Gf(this,l);return h+="T",h+=Sb(this,l,n,r,i,a),h}toISODate({format:e="extended"}={}){return this.isValid?Gf(this,e==="extended"):null}toISOWeekDate(){return yu(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:n=!1,includeOffset:r=!0,includePrefix:i=!1,extendedZone:a=!1,format:l="extended"}={}){return this.isValid?(i?"T":"")+Sb(this,l==="extended",n,e,r,a):null}toRFC2822(){return yu(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return yu(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Gf(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:n=!1,includeOffsetSpace:r=!0}={}){let i="HH:mm:ss.SSS";return(n||e)&&(r&&(i+=" "),n?i+="z":e&&(i+="ZZ")),yu(this,i,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():qf}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const n={...this.c};return e.includeConfig&&(n.outputCalendar=this.outputCalendar,n.numberingSystem=this.loc.numberingSystem,n.locale=this.loc.locale),n}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,n="milliseconds",r={}){if(!this.isValid||!e.isValid)return dt.invalid("created by diffing an invalid DateTime");const i={locale:this.locale,numberingSystem:this.numberingSystem,...r},a=ej(n).map(dt.normalizeUnit),l=e.valueOf()>this.valueOf(),h=l?this:e,f=l?e:this,g=EV(h,f,a,i);return l?g.negate():g}diffNow(e="milliseconds",n={}){return this.diff(Qe.now(),e,n)}until(e){return this.isValid?Ut.fromDateTimes(this,e):this}hasSame(e,n){if(!this.isValid)return!1;const r=e.valueOf(),i=this.setZone(e.zone,{keepLocalTime:!0});return i.startOf(n)<=r&&r<=i.endOf(n)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const n=e.base||Qe.fromObject({},{zone:this.zone}),r=e.padding?this<n?-e.padding:e.padding:0;let i=["years","months","days","hours","minutes","seconds"],a=e.unit;return Array.isArray(e.unit)&&(i=e.unit,a=void 0),Nb(n,this.plus(r),{...e,numeric:"always",units:i,unit:a})}toRelativeCalendar(e={}){return this.isValid?Nb(e.base||Qe.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(Qe.isDateTime))throw new wr("min requires all arguments be DateTimes");return sb(e,n=>n.valueOf(),Math.min)}static max(...e){if(!e.every(Qe.isDateTime))throw new wr("max requires all arguments be DateTimes");return sb(e,n=>n.valueOf(),Math.max)}static fromFormatExplain(e,n,r={}){const{locale:i=null,numberingSystem:a=null}=r,l=Nt.fromOpts({locale:i,numberingSystem:a,defaultToEN:!0});return dC(l,e,n)}static fromStringExplain(e,n,r={}){return Qe.fromFormatExplain(e,n,r)}static get DATE_SHORT(){return Ap}static get DATE_MED(){return SS}static get DATE_MED_WITH_WEEKDAY(){return JU}static get DATE_FULL(){return CS}static get DATE_HUGE(){return TS}static get TIME_SIMPLE(){return NS}static get TIME_WITH_SECONDS(){return DS}static get TIME_WITH_SHORT_OFFSET(){return IS}static get TIME_WITH_LONG_OFFSET(){return AS}static get TIME_24_SIMPLE(){return OS}static get TIME_24_WITH_SECONDS(){return MS}static get TIME_24_WITH_SHORT_OFFSET(){return PS}static get TIME_24_WITH_LONG_OFFSET(){return LS}static get DATETIME_SHORT(){return RS}static get DATETIME_SHORT_WITH_SECONDS(){return $S}static get DATETIME_MED(){return FS}static get DATETIME_MED_WITH_SECONDS(){return US}static get DATETIME_MED_WITH_WEEKDAY(){return QU}static get DATETIME_FULL(){return jS}static get DATETIME_FULL_WITH_SECONDS(){return VS}static get DATETIME_HUGE(){return zS}static get DATETIME_HUGE_WITH_SECONDS(){return HS}}function Mo(t){if(Qe.isDateTime(t))return t;if(t&&t.valueOf&&$a(t.valueOf()))return Qe.fromJSDate(t);if(t&&typeof t=="object")return Qe.fromObject(t);throw new wr(`Unknown datetime argument: ${t}, of type ${typeof t}`)}const qV=[{field:"Nombre",inNameId:"name",inType:"text"},{field:"Apellido",inNameId:"lastName",inType:"text"},{field:"Contrase\xF1a",inNameId:"password",inType:"password"},{field:"Email",inNameId:"email",inType:"email"},{field:"N\xFAmero De Contacto",inNameId:"phoneNumber",inType:"tel"}];const EC=({selected:t})=>{const[e,n]=ae.exports.useState([]),[r,i]=ae.exports.useState("");return ae.exports.useEffect(()=>{async function l(){const f=await(await fetch("https://restcountries.com/v2/all")).json();n(f)}l()},[]),ee("div",{children:[P("label",{htmlFor:"country",children:"Pa\xEDs : "}),P("select",{className:"countryDropdown",value:r,onChange:l=>{i(l.target.value),t(l.target.value)},children:e.map(l=>P("option",{value:l.name,children:l.name},l.alpha2Code))})]})},WV=()=>{const[t,e]=ae.exports.useState({}),[n,r]=ae.exports.useState(!1),[i,a]=ae.exports.useState(""),{createUser:l}=ir(),h=Wn();Qe.now().toFormat("DDDD - HH:mm:ss");const f=Oc(),[g,k]=ae.exports.useState(),T=R=>{e({...t,[R.target.name]:R.target.value})},C=R=>{k(R)},I={role:"alumn",remainingClases:0,completedClases:0,absentedClases:0,actualClass:0,newPurchasedClasses:0,totalClasses:0,teacher:"unasigned",newNotifications:!0,notifications:1,newbie:!0,durationClass:0,linkToClass:"",reprogramedThisMonth:0},L={textNotification:"Bienvenido a Navis!",notificationType:"Welcome",checked:!1},N=async R=>{R.preventDefault(),a(""),r(!0);try{const O=await l(t.email,t.password).then(j=>j),A=$t(),$=nt(A,`Users/${O.user.uid}`);ia($,{...t,country:g,...I,uid:O.user.uid});const U=nr(A,`Users/${O.user.uid}/myNotifications`);Ac(U,{...L,timeStamp:f}),h("/panel")}catch(O){a(O.message),swal("UPS!",`${O.message}`,"error"),r(!1)}};return n?P(rr,{}):P(Jt,{children:P("div",{className:"signIn__main-container",children:ee("div",{className:"signIn__container",children:[ee("form",{className:"signUp__form",onSubmit:N,children:[qV.map((R,O)=>ee("div",{children:[ee("label",{htmlFor:R.inNameId,children:[R.field," :"]}),P("input",{type:R.inType,id:R.inNameId,name:R.inNameId,value:t[R.inNameId]||"",onChange:T})]},O)),P(EC,{selected:C}),P("button",{type:"submit",children:"Crear Cuenta"})]}),ee("div",{children:[ee("div",{className:"signIn__tittleColumn",children:[ee("p",{className:"signIn-logo",children:[P("img",{className:"cohete-navis",src:ES,alt:"cohete.svg"}),P("i",{className:"fa-solid fa-user"})]}),P("p",{className:"signIn-tittle",children:"SignUp"})]}),ee("p",{className:"subTittle",children:["\xBFYa tienes una cuenta?",P(qt,{to:"/signIn",children:"Inicia sesi\xF3n."})]})]})]})})})},GV=({children:t})=>{const{userLogged:e}=ir();return e?t:P(Ha,{to:"/signIn"})},KV=({children:t})=>{const{userLogged:e}=ir(),{user:n}=Sn();return e?n.role==="teacher"?P(Ha,{to:"/"}):t:P(Ha,{to:"/signIn"})},YV=({children:t})=>{const{userLogged:e}=ir(),{user:n}=Sn();return e?n.role==="alumn"?P(Ha,{to:"/"}):t:P(Ha,{to:"/signIn"})};const JV=({userInfo:t,role:e,toggle:n})=>ee("div",{className:"asideProfile-container",children:[P("div",{className:"userCard-header_container",children:ee("div",{className:"userCard-header",children:[P("div",{className:"user-avatar",children:P("i",{className:"fa-solid fa-user fa-3x"})}),ee("div",{className:"userMain-info",children:[ee("p",{children:[t.name," ",t.lastName]}),P("span",{children:e==="admin"?"Administrador":e==="alumn"?"Estudiante":"Profesor"})]})]})}),P("div",{className:"userCard-body",children:ee("div",{className:"userCard-body-input",children:[P("span",{className:"userCard-body-input_title",children:"Email:"}),P("span",{className:"userCard-body-input_content",children:t.email})]})}),P("div",{className:"userCard-body",children:ee("div",{className:"userCard-body-input",children:[P("span",{className:"userCard-body-input_title",children:"Pa\xEDs:"}),P("span",{className:"userCard-body-input_content",children:t.country})]})}),P("div",{className:"userCard-body",children:ee("div",{className:"userCard-body-input",children:[P("span",{className:"userCard-body-input_title",children:"Ciudad:"}),P("span",{className:"userCard-body-input_content",children:t.city})]})}),P("div",{className:"userCard-body",children:ee("div",{className:"userCard-body-input",children:[P("span",{className:"userCard-body-input_title",children:"N\xFAmero de contacto:"}),P("span",{className:"userCard-body-input_content",children:t.phoneNumber})]})}),P("div",{className:"userCard-footer",children:P("button",{className:"userCard-button",onClick:()=>{n()},children:"Editar Informaci\xF3n"})})]}),QV=[{field:"Nombre",inNameId:"name",inType:"text"},{field:"Apellido",inNameId:"lastName",inType:"text"},{field:"Email",inNameId:"email",inType:"email"},{field:"Ciudad",inNameId:"city",inType:"text"},{field:"N\xFAmero De Contacto",inNameId:"phoneNumber",inType:"tel"}];const XV=()=>{const{userLogged:t}=ir();Sn();const[e,n]=ae.exports.useState({}),[r,i]=ae.exports.useState(!1),a=h=>{n({...e,[h.target.name]:h.target.value}),console.log(e)},l=async h=>{h.preventDefault(),i(!0);try{const f=$t(),g=nt(f,`Users/${t.uid}`);await Et(g,{...e}),i(!1)}catch(f){swal("UPS!",`${f.message}`,"error"),i(!1)}};return r?P(rr,{}):ee("div",{className:"editarInfo-container",children:[P("h5",{children:"EDITAR MI INFORMACION"}),P("div",{children:P("div",{children:ee("form",{className:"editarInfo__form",onSubmit:l,children:[QV.map((h,f)=>ee("div",{children:[ee("label",{htmlFor:h.inNameId,children:[h.field," :"]}),P("input",{type:h.inType,id:h.inNameId,name:h.inNameId,value:e[h.inNameId]||"",onChange:a})]},f)),P("button",{className:"editarInfo-button",type:"submit",children:"Editar"})]})})})]})};const ZV=()=>{const{user:t}=Sn();Wn();const[e,n]=ae.exports.useState(!1),r=t.form,i=()=>{n(!e)};return r?ee("div",{className:"mainProfile-container",children:[P(JV,{userInfo:r,role:t.role,toggle:i}),e&&P(XV,{})]}):P(rr,{})};const ez=({info:t})=>ee("div",{className:"moreInfo-container",children:[ee("ul",{children:[ee("li",{children:["Numero de contacto: ",t.phoneNumber]}),ee("li",{children:["Pais: ",t.country]}),ee("li",{children:["Ciudad: ",t.city]})]}),t.role==="teacher"?ee("ul",{children:[ee("li",{children:["Total de clases impartidas: ",t.totalClasses]}),ee("li",{children:["Clases impartidas este mes: ",t.thisMonthClasses]}),ee("li",{children:["Clases impartidas el mes pasado: ",t.lastMonthClasses]}),ee("li",{children:["Clases ausente: ",t.absentedClasses]})]}):ee("ul",{children:[ee("li",{children:["Clases disponibles: ",t.remainingClases]}),ee("li",{children:["Duracion de la clase: ",t.durationClass,"min"]}),ee("li",{children:["Clases completadas: ",t.completedClases]}),ee("li",{children:["Clases ausente: ",t.absentedClases]}),ee("li",{children:["Total de clases compradas: ",t.totalClasses]}),ee("li",{children:["Profesor: ",t.teacherName]})]})]}),tz=async(t,e)=>{const n=$t(),r=nt(n,`Users/${t.uid}/myClasses/${t.myClassesId}`),a=(await Xs(r)).data(),l=nt(n,`Users/${t.teacherUid}`);let k=(await Xs(l)).data().disponibility;const T=a.durationClass;let C=0;const I={teacher:"unasigned",teacherName:"",teacherUid:"",teacherPhoneNumber:""},L={teacherEmail:"",teacherLastName:""};switch(T){case 30:C=2;break;case 50:C=3;break}a.userWeek.map(O=>{const $=O.timeDate.toDate(),j=$.getUTCHours().toString().padStart(2,"0"),z=$.getUTCMinutes().toString().padStart(2,"0"),W=`${j}:${z}`;let q=k[O.day];q[W]=!0;let Y=W;for(let Z=0;Z<C;Z++){let[X,ce]=Y.split(":");ce=Number(ce)+15,ce>=60&&(ce=ce-60,X=Number(X)+1,X<10&&(X="0"+X),ce<10&&(ce="0"+ce)),Y=`${X}:${ce}`,q[Y]=!0}});const N=nt(n,`Users/${t.uid}`);await Et(N,{...I}),await Et(r,{...L,...I}),await Et(l,{disponibility:k});const R=nt(n,`Classes/${t.myClassesId}`);return await Et(R,{...L,...I}),await q0(nt(n,`Users/${t.teacherUid}/myStudents/${t.uid}`)),await q0(nt(n,`Users/${t.teacherUid}/mySchedule/${t.uid}`)),swal("OK","El alumno quedo sin profesor, asignale uno en ASIGNAR PROFESOR","success"),e(!1)},nz=({userData:t})=>{const[e,n]=ae.exports.useState(!1),[r,i]=ae.exports.useState(!1),[a,l]=ae.exports.useState(!1),h=()=>{n(!e)},f=k=>{i(k)},g=()=>{l(!a),f(!0),tz(t,f)};return P(Jt,{children:r?P(rr,{}):P("div",{className:"userCardProfile-container",children:ee("div",{className:"userCardProfile-header_container",children:[ee("div",{className:"userCardProfile-header",children:[P("div",{className:"userCardProfile-avatar",children:P("i",{className:"fa-solid fa-user fa-2x"})}),ee("div",{className:"userCardProfile-info",children:[ee("p",{children:[t.name," ",t.lastName]}),P("span",{children:t.role==="teacher"?"Profesor":"Alumno"}),P("span",{children:t.email})]}),P("button",{className:e?"userCardProfile-button active":"userCardProfile-button",onClick:h,children:"MAS INFORMACION"}),!a&&t.role==="alumn"&&t.teacher==="assigned"&&P("button",{className:"userCardProfile-button",onClick:g,children:"CAMBIAR PROFESOR"})]}),e&&P(ez,{info:t})]})})})},rz=({users:t=[]})=>t.map(e=>P(nz,{userData:e},e.id)),Ib=({roleNeeded:t})=>{const e=$t(),[n,r]=ae.exports.useState(!0),[i,a]=ae.exports.useState([]);return ae.exports.useEffect(()=>{const l=nr(e,"Users"),h=Gl(l,yp("role","==",`${t}`));xi(h).then(f=>a(f.docs.map(g=>({...g.data()})))),r(!1)},[]),P(Jt,{children:n?P(rr,{}):P("div",{children:P(rz,{users:i})})})},iz=({date:t,teacher:e,selected:n})=>{const[r,i]=ae.exports.useState(!1),a=Oc(),l={teacher:"assigned",condition:"succes",teacherEmail:e.email,teacherUid:e.id,teacherName:e.name,teacherLastName:e.lastName,teacherPhoneNumber:e.phoneNumber},h={studentEmail:t.studentEmail,studentUid:t.studentUid,studentName:t.studentName,studentLastName:t.studentLastName,studentPhoneNumber:t.studentPhoneNumber,remainingClases:t.remainingClases,classWeek:t.userWeek},f={textNotification:"Felicitaciones, tu peticion de clases fue aceptada, ya te asignamos un profesor",notificationType:"Notificacion",checked:!1};`${t.studentName}${t.studentLastName}`;const g=[],k=[],T=[],C=e.disponibility,I=t.durationClass;let L=C,N=!0,R=0,O=0;switch(I){case 30:R=2;break;case 50:R=3;break}const A=()=>{N=!N};t.userWeek.map(H=>{const z=e.weekDisponibility.filter(W=>W.day===H.day);g.push(...z)}),t.userWeek.length!=g.length?A():t.userWeek.map((H,z)=>{!(H.timeDate>=g[z].timeStartDate&&H.timeDate<g[z].timeEndDate)&&A()});function $(H,z,W){let q=!0;for(let Y=0;Y<z;Y++){let[Z,X]=H.split(":");if(X=Number(X)+15,X>=60&&(X=X-60,Z=Number(Z)+1,Z<10&&(Z="0"+Z),X<10&&(X="0"+X),Z===24&&(Z="00")),H=`${Z}:${X}`,q=W[H],!q)break}return q}N&&t.userWeek.map((H,z)=>{const q=H.timeDate.toDate(),Z=q.getUTCHours().toString().padStart(2,"0"),ce=q.getUTCMinutes().toString().padStart(2,"0"),de=`${Z}:${ce}`;H.day==="lunes"&&C.lunes[de]&&$(de,R,C.lunes)&&O++,H.day==="martes"&&C.martes[de]&&$(de,R,C.martes)&&O++,H.day==="miercoles"&&C.miercoles[de]&&$(de,R,C.miercoles)&&O++,H.day==="jueves"&&C.jueves[de]&&$(de,R,C.jueves)&&O++,H.day==="viernes"&&C.viernes[de]&&$(de,R,C.viernes)&&O++,H.day==="sabado"&&C.sabado[de]&&$(de,R,C.sabado)&&O++,H.day==="domingo"&&C.domingo[de]&&$(de,R,C.domingo)&&O++}),N&&O!=t.userWeek.length&&A();const U=()=>{let H=new Date;const z=(he,ke)=>{he.setDate(he.getDate()+ke)};let W=0,q=1,Y=2,Z=3,X=4,ce=5,de=6;switch(H.getDay()){case 0:z(H,0);break;case 1:z(H,-1);break;case 2:z(H,-2);break;case 3:z(H,-3);break;case 4:z(H,-4);break;case 5:z(H,-5);break;case 6:z(H,-6);break}const ge=(he,ke,ze,Pe)=>{z(H,ke);const Je=he.toDate(),St=H.getDate(),Vt=H.getMonth(),lt=H.getFullYear(),bt=Je.getHours(),le=Je.getMinutes();let fn=new Date(lt,Vt,St,bt,le),zt=new Date(lt,Vt,St,bt,le);zt.setMinutes(zt.getMinutes()+Pe);const ft={date:fn,dateEnd:zt,time:he,condition:"pending",linkToClass:"",teacherCalification:"",studentCalification:"",studentAssist:!1,reprogramed:!1,durationClass:t.durationClass,classNumber:ze,calificationOfClass:"",studentName:t.studentName,studentLastName:t.studentLastName,studentUid:t.studentUid,studentEmail:t.studentEmail,teacherName:e.name,teacherLastName:e.lastName,teacherUid:e.id};k.push(ft),T.push(ft),z(H,-ke)},Ze=(he,ke)=>{he.day==="domingo"&&ge(he.timeDate,W,ke,t.durationClass),he.day==="lunes"&&ge(he.timeDate,q,ke,t.durationClass),he.day==="martes"&&ge(he.timeDate,Y,ke,t.durationClass),he.day==="miercoles"&&ge(he.timeDate,Z,ke,t.durationClass),he.day==="jueves"&&ge(he.timeDate,X,ke,t.durationClass),he.day==="viernes"&&ge(he.timeDate,ce,ke,t.durationClass),he.day==="sabado"&&ge(he.timeDate,de,ke,t.durationClass)};let _e=0;z(H,7);for(let he=0;he<t.remainingClases;he++)_e===t.userWeek.length&&(_e=0,z(H,7)),Ze(t.userWeek[_e],he),_e++;t.userWeek.map(he=>{const ze=he.timeDate.toDate(),Je=ze.getUTCHours().toString().padStart(2,"0"),Vt=ze.getUTCMinutes().toString().padStart(2,"0"),lt=`${Je}:${Vt}`;let bt=L[he.day];bt[lt]=!1;let le=lt;for(let fn=0;fn<R;fn++){let[zt,ft]=le.split(":");ft=Number(ft)+15,ft>=60&&(ft=ft-60,zt=Number(zt)+1,zt<10&&(zt="0"+zt),ft<10&&(ft="0"+ft)),le=`${zt}:${ft}`,bt[le]=!1}})},j=async H=>{i(!0),n(!0),U(),H.preventDefault();try{const z=$t(),W=nt(z,`Classes/${t.id}`);await Et(W,{...l});const q=nt(z,`Users/${e.id}`);await Et(q,{disponibility:L});const Y=nt(z,`Users/${e.id}/myStudents/${t.studentUid}`);await ia(Y,{...h});const Z=nt(z,`Users/${e.id}/mySchedule/${t.studentUid}`);await ia(Z,{...k});const X=nt(z,`Users/${t.studentUid}`);await Et(X,{teacher:"assigned",teacherName:`${e.name} ${e.lastName}`,teacherPhoneNumber:e.phoneNumber,teacherUid:e.id,notifications:ln(1),newPurchasedClasses:0});const ce=nt(z,`Users/${t.studentUid}/myClasses/${t.id}`);await Et(ce,{...l});const de=nt(z,`Users/${t.studentUid}/mySchedule/${t.id}`);await ia(de,{...T});const Ae=nr(z,`Users/${t.studentUid}/myNotifications`);await Ac(Ae,{...f,timeStamp:a}),i(!1),swal("OK","Se asigno el profesor al alumno","success")}catch(z){swal("UPS!",`${z.message}`,"error"),i(!1)}};if(r)return P(rr,{});if(N)return P("div",{className:"userCardProfile-container",children:P("div",{className:"userCardProfile-header_container",children:ee("div",{className:"userCardProfile-header",children:[P("div",{className:"userCardProfile-avatar",children:P("i",{className:"fa-solid fa-user fa-2x"})}),ee("div",{className:"userCardProfile-info",children:[ee("p",{children:["Profesor: ",e.name," ",e.lastName]}),ee("span",{children:["Email: ",e.email]})]}),r?P(rr,{}):P("button",{className:"userCardProfile-button",onClick:j,children:"ASIGNAR PROFESOR"})]})})})},az=({date:t,teachers:e=[],onChange:n})=>e.map(r=>P(iz,{date:t,teacher:r,selected:n},r.id)),sz=({info:t,teachersList:e})=>{const[n,r]=ae.exports.useState(!1),[i,a]=ae.exports.useState(!1),l=()=>{!n&&swal("OK","Selecciona un profesor de la lista","success"),r(!n)},h=f=>{a(f)};return P("div",{className:"",children:ee("div",{className:"userCardProfile-container",children:[P("div",{className:"userCardProfile-header_container",children:ee("div",{className:"userCardProfile-header",children:[P("div",{className:"userCardProfile-avatar",children:P("i",{className:"fa-solid fa-user fa-2x"})}),ee("div",{className:"userCardProfile-info",children:[ee("p",{children:[t.studentName," ",t.studentLastName]}),P("span",{children:"Alumno"})]}),P("button",{className:n?"userCardProfile-button active":"userCardProfile-button",onClick:l,children:"LISTAR PROFESORES DISPONIBLES"})]})}),P("div",{className:"teacherListed-container",children:!i&&n&&P(az,{date:t,teachers:e,onChange:h})})]})})},oz=({classDate:t=[],teachers:e=[]})=>t.map(n=>P(sz,{info:n,teachersList:e},n.id)),lz=()=>{const[t,e]=ae.exports.useState([]),[n,r]=ae.exports.useState([]),[i,a]=ae.exports.useState(!0);return ae.exports.useEffect(()=>{const l=$t(),h=nr(l,"Classes"),f=Gl(h,yp("teacher","==","unasigned"));xi(f).then(T=>e(T.docs.map(C=>({id:C.id,...C.data()}))));const g=nr(l,"Users"),k=Gl(g,yp("role","==","teacher"));xi(k).then(T=>r(T.docs.map(C=>({id:C.id,...C.data()})))),a(!1)},[]),P(Jt,{children:i?P(rr,{}):P("div",{children:P(oz,{classDate:t,teachers:n})})})},cz=[{field:"Nombre",inNameId:"name",inType:"text"},{field:"Apellido",inNameId:"lastName",inType:"text"},{field:"Contrase\xF1a",inNameId:"password",inType:"password"},{field:"Email",inNameId:"email",inType:"email"},{field:"Numero De Contacto",inNameId:"phoneNumber",inType:"tel"},{field:"Ciudad",inNameId:"city",inType:"text"}];const wa=[{"00:00":!0,"00:15":!0,"00:30":!0,"00:45":!0,"01:00":!0,"01:15":!0,"01:30":!0,"01:45":!0,"02:00":!0,"02:15":!0,"02:30":!0,"02:45":!0,"03:00":!0,"03:15":!0,"03:30":!0,"03:45":!0,"04:00":!0,"04:15":!0,"04:30":!0,"04:45":!0,"05:00":!0,"05:15":!0,"05:30":!0,"05:45":!0,"06:00":!0,"06:15":!0,"06:30":!0,"06:45":!0,"07:00":!0,"07:15":!0,"07:30":!0,"07:45":!0,"08:00":!0,"08:15":!0,"08:30":!0,"08:45":!0,"09:00":!0,"09:15":!0,"09:30":!0,"09:45":!0,"10:00":!0,"10:15":!0,"10:30":!0,"10:45":!0,"11:00":!0,"11:15":!0,"11:30":!0,"11:45":!0,"12:00":!0,"12:15":!0,"12:30":!0,"12:45":!0,"13:00":!0,"13:15":!0,"13:30":!0,"13:45":!0,"14:00":!0,"14:15":!0,"14:30":!0,"14:45":!0,"15:00":!0,"15:15":!0,"15:30":!0,"15:45":!0,"16:00":!0,"16:15":!0,"16:30":!0,"16:45":!0,"17:00":!0,"17:15":!0,"17:30":!0,"17:45":!0,"18:00":!0,"18:15":!0,"18:30":!0,"18:45":!0,"19:00":!0,"19:15":!0,"19:30":!0,"19:45":!0,"20:00":!0,"20:15":!0,"20:30":!0,"20:45":!0,"21:00":!0,"21:15":!0,"21:30":!0,"21:45":!0,"22:00":!0,"22:15":!0,"22:30":!0,"22:45":!0,"23:00":!0,"23:15":!0,"23:30":!0,"23:45":!0}],uz=[{hs:"--"},{hs:"00"},{hs:"01"},{hs:"02"},{hs:"03"},{hs:"04"},{hs:"05"},{hs:"06"},{hs:"07"},{hs:"08"},{hs:"09"},{hs:"10"},{hs:"11"},{hs:"12"},{hs:"13"},{hs:"14"},{hs:"15"},{hs:"16"},{hs:"17"},{hs:"18"},{hs:"19"},{hs:"20"},{hs:"21"},{hs:"22"},{hs:"23"}],dz=[{min:"--"},{min:"00"},{min:"15"},{min:"30"},{min:"45"}];const Fp=({id:t,name:e,onChange:n})=>{const[r,i]=ae.exports.useState(),[a,l]=ae.exports.useState();function h(g){let k=parseInt(g),T=parseInt(a),C=new Date(2022,1,1,k,T);i(g);const I={id:t,name:e,hour:g,min:a,timeString:`${g}:${a}`,timeDate:C};n(I)}const f=g=>{let k=parseInt(r),T=parseInt(g),C=new Date(2022,1,1,k,T);l(g);const I={id:t,name:e,hour:r,min:g,timeString:`${r}:${g}`,timeDate:C};n(I)};return ee("div",{className:"time-picker",children:[P("select",{id:"time-picker__hours",className:"time-picker__select",onChange:g=>h(g.target.value),children:uz.map((g,k)=>P("option",{value:g.hs,children:g.hs},k))}),":",P("select",{id:"time-picker__minutes",className:"time-picker__select",onChange:g=>f(g.target.value),children:dz.map((g,k)=>P("option",{value:g.min,children:g.min},k))})]})},hz=({teacherForm:t,country:e})=>{const{createUser:n}=ir();ae.exports.useState(!1);const r=Wn(),i=["lunes","martes","miercoles","jueves","viernes","sabado","domingo"],[a,l]=ae.exports.useState([]),[h,f]=ae.exports.useState(...wa),[g,k]=ae.exports.useState(...wa),[T,C]=ae.exports.useState(...wa),[I,L]=ae.exports.useState(...wa),[N,R]=ae.exports.useState(...wa),[O,A]=ae.exports.useState(...wa),[$,U]=ae.exports.useState(...wa),j=q=>{let Y=a.filter(de=>de.day===q.id),Z=Y[0].timeEnd,X=Y[0].timeEndDate,ce=a.filter(de=>de.day!=q.id);Y={day:q.id,timeStart:q.timeString,timeEnd:Z,timeStartDate:q.timeDate,timeEndDate:X},ce.push(Y),l(ce)},H=q=>{let Y=a.filter(de=>de.day===q.id),Z=Y[0].timeStart,X=Y[0].timeStartDate,ce=a.filter(de=>de.day!=q.id);Y={day:q.id,timeStart:Z,timeEnd:q.timeString,timeEndDate:q.timeDate,timeStartDate:X},ce.push(Y),l(ce)},z=async()=>{const Y={...t,weekDisponibility:a,disponibility:{lunes:h,martes:g,miercoles:T,jueves:I,viernes:N,sabado:O,domingo:$},country:e};try{const Z=await n(t.email,t.password).then(de=>de),X=$t(),ce=nt(X,`Users/${Z.user.uid}`);await ia(ce,{...Y}),swal("OK","Nuevo Profesor Creado","success"),r("/account")}catch(Z){swal("UPS!",`${Z.message}`,"error")}},W=()=>{let q=!(!t.name||t.name.length<4),Y=!(!t.lastName||t.lastName.length<4),Z=!(!t.password||t.password.length<9),X=!(!t.email||t.email<12);q?q=!0:swal("CUIDADO!","El nombre debe tener al menos 4 caracteres","error"),Y?Y=!0:swal("CUIDADO!","El apellido debe tener al menos 4 caracteres","error"),Z?Z=!0:swal("CUIDADO!","La contrase\xF1a debe tener al menos 9 caracteres","error"),X?X=!0:swal("CUIDADO!","Ingrese una direccion de email valida","error");let ce=!1,de=0;a.length===0?swal("CUIDADO!","Debes seleccionar al menos un dia y un horario","error"):a.map(ge=>{let Ze=!1;if(ge.timeStartDate&&ge.timeEndDate){let _e=ge.timeStartDate,he=!isNaN(_e.getTime()),ke=ge.timeEndDate,ze=!isNaN(ke.getTime());(!he||!ze)&&swal("CUIDADO!","Debes seleccionar un horario","error"),Ze=he&&ze,Ze&&_e>=ke&&swal("CUIDADO!","El horario de inicio debe ser menor al de finalizacion","error")&&(Ze=!Ze)}else swal("CUIDADO!","Debes seleccionar un horario","error");Ze&&de++}),ce=(de===a.length)>0,!ce&&swal("CUIDADO!","Debes seleccionar un horario","error"),q&&Y&&Z&&X&&ce&&z()};return P(Jt,{children:ee("div",{className:"teacherDisponibility-conteiner",children:[P("h5",{children:"Selecciona los dias y el horario de disponibilidad del docente"}),P("ul",{className:"teacherDisponibility-day-list",children:i.map((q,Y)=>{const[Z,X]=ae.exports.useState(!1);return ee("div",{className:"teacherDisponibility-day-time-button",children:[P("li",{className:Z?"teacherDisponibility-day-button clicked":"teacherDisponibility-day-button",onClick:()=>{let ce=a;Z?ce=ce.filter(de=>de.day!=q):ce.push({day:q,timeStart:void 0,timeEnd:void 0,timeStartDate:void 0,timeEndDate:void 0}),X(!Z),l(ce)},children:q}),Z&&ee("div",{className:"time-selector",children:[ee("li",{children:["Horario de inicio :",P(Fp,{id:q,name:"timeStart",onChange:j})]}),ee("li",{children:["Horario de finalizacion :",P(Fp,{id:q,name:"timeEnd",onChange:H})]})]})]},Y)})}),P("button",{className:"teacherDisponibility-continue-button",onClick:W,children:"CREAR CUENTA DE PROFESOR"})]})})};const fz=()=>{const[t,e]=ae.exports.useState(),[n,r]=ae.exports.useState({role:"teacher",totalClasses:0,thisMonthClasses:0,lastMonthClasses:0,absentedClases:0}),i=l=>{r({...n,[l.target.name]:l.target.value})},a=l=>{e(l)};return P(Jt,{children:ee("div",{className:"createTeacher-container",children:[P("div",{children:ee("form",{className:"createTeacher__form",children:[cz.map((l,h)=>ee("div",{children:[ee("label",{htmlFor:l.inNameId,children:[l.field," :"]}),P("input",{type:l.inType,id:l.inNameId,name:l.inNameId,value:n[l.inNameId]||"",onChange:i})]},h)),P(EC,{selected:a})]})}),P(hz,{teacherForm:n,country:t})]})})},kC=()=>{const[t,e]=ae.exports.useState(!1),[n,r]=ae.exports.useState(!1),[i,a]=ae.exports.useState(!1),[l,h]=ae.exports.useState(!1);return P("div",{className:"",children:ee("div",{className:"",children:[P("h5",{children:"PANEL DE ADMINISTRADOR"}),ee("div",{className:"panelButtonContainer",children:[P("button",{className:t?"panelButton active":"panelButton",onClick:()=>{n&&r(!1),i&&a(!1),l&&h(!1),!t&&swal("Bienvenido","Aqui podras crear cuentas de profesores","success"),e(!t)},children:"CREAR CUENTA DE PROFESOR"}),P("button",{className:n?"panelButton active":"panelButton",onClick:()=>{t&&e(!1),i&&a(!1),l&&h(!1),!n&&swal("Bienvenido","Aqui veras una lista de profesores registrados","success"),r(!n)},children:"LISTAR PROFESORES"}),P("button",{className:i?"panelButton active":"panelButton",onClick:()=>{t&&e(!1),n&&r(!1),l&&h(!1),!i&&swal("Bienvenido","Aqui veras una lista de alumnos registrados","success"),a(!i)},children:"LISTAR ALUMNOS"}),P("button",{className:l?"panelButton active":"panelButton",onClick:()=>{t&&e(!1),n&&r(!1),i&&a(!1),!l&&swal("Bienvenido","Aqui veras los alumnos que no tienen un profesor asignado y podras asignarles uno","success"),h(!l)},children:"ASIGNAR PROFESOR"})]}),ee("div",{children:[t&&P(fz,{}),n&&P(Ib,{roleNeeded:"teacher"}),i&&P(Ib,{roleNeeded:"alumn"}),l&&P(lz,{})]})]})})},_z=({date:t})=>{const e=t.date.toDate(),n=e.getHours(),r=e.getMinutes(),i=e.toLocaleDateString(),a=n.toString().padStart(2,"0"),l=r.toString().padStart(2,"0");return ee("div",{className:"nextClass__info",children:[ee("p",{className:"nextClass__date",children:["PROXIMA CLASE : ",i]}),ee("p",{className:"nextClass__time",children:[a,":",l," HS"]}),ee("p",{className:"nextClass__teacher",children:[t.teacherName," ",t.teacherLastName," "]})]})},pz=({myClass:t,linkToClass:e,userInfo:n})=>{const r=Wn(),i=t.date.toDate(),a=new Date;let l=i-a,h=60*1e3,f=60*h,g=24*f,k=Math.floor(l/g),T=Math.floor(l%g/f);const C=n.reprogramedThisMonth;let I=k<1&&T<4||C===2;return ee("div",{className:"studentPanelActionButtons",children:[e?P("a",{href:e,target:"_blank",children:P("button",{className:"studentPanelButton active",children:"INICIAR CLASE"})}):P("button",{className:"studentPanelButton",onClick:()=>{swal("Ups!","Todavia no hay link para esta clase","error")},children:"INICIAR CLASE"}),P("a",{href:"https://www.blinklearning.com/v/1666102044/themes/tmpux/launch.php",target:"_blank",children:P("button",{className:"studentPanelButton active",children:"BLINK LEARNING"})}),P("button",{className:I?"studentPanelButton":"studentPanelButton active",onClick:()=>{C===2?swal("CUIDADO","Solo puedes reprogramar 2 clases por mes y ya las reprogramaste","error"):I?swal("Ya es tarde","Solo puedes reprogramar tu clase hasta 4 horas antes","error"):r("/Account/ReprogramClass")},children:"REPROGRAMAR CLASE"})]})},mz=t=>{const e=Wn(),n=()=>{e("/MiCalendario")};return ee("div",{className:"studentClassInfo__container",children:[P("div",{className:"studentClassInfo__remainingClases",children:ee("p",{children:["CLASES DISPONIBLES: ",t.remainingClases]})}),P("button",{className:"studentPanelButton active",onClick:n,children:"Ver Calendario"})]})},gz=t=>{let e=t.completedClases/t.actualClass*100,n=Math.round(e);return ee("div",{className:"studentClassInfo__asistencia",children:[P("p",{className:"asistencia__title",children:"ASISTENCIA"}),ee("p",{className:"asistencia__percent",children:[n,"%"]}),ee("div",{className:"asistencia",children:[ee("p",{children:[t.completedClases," Presentes"]}),ee("p",{children:[t.absentedClases," Ausente"]})]})]})};const vz=()=>{const{user:t}=Sn(),e=Oc();ae.exports.useState(!1);const[n,r]=ae.exports.useState([]),i=["lunes","martes","miercoles","jueves","viernes","sabado","domingo"],a={condition:"pending",teacher:"unasigned",remainingClases:t.misClases.remainingClases,studentUid:t.uid,studentEmail:t.email,studentName:t.form.name,studentLastName:t.form.lastName,studentPhoneNumber:t.form.phoneNumber,durationClass:t.form.durationClass},l={textNotification:"Programaste tus clases, en breve se te asiganara un profesor",notificationType:"Notificacion",checked:!1},h=async()=>{const k=["domingo","lunes","martes","miercoles","jueves","viernes","sabado"];let T=[];k.map((C,I)=>{let L=n.filter(N=>N.day===C);T.push(...L)});try{const C=$t(),I=Gl(nr(C,`Users/${t.uid}/myClasses`));Ac(I,{userWeek:T,...a}).then(({id:L})=>{const N=nt(C,`Classes/${L}`);ia(N,{userWeek:T,...a});const R=nt(C,`Users/${t.uid}/myNotifications/${L}`);ia(R,{...l,timeStamp:e});const O=nt(C,`Users/${t.uid}`);Et(O,{teacher:"pending",notifications:ln(1),newbie:!1,myClassesId:L})}),swal("Muy Bien","Pronto se te asignara un profesor!","success")}catch(C){swal("UPS!",`${C.message}`,"error")}},f=()=>{let k=!1,T=0;n.length===0?swal("CUIDADO!","Debes seleccionar al menos un dia y un horario","error"):n.map(C=>{let I=C.time!==void 0,L=!1;if(C.timeDate){let N=C.timeDate;L=!isNaN(N.getTime())}(!I||!L)&&(swal("CUIDADO!","Debes eleccionar un horario","error"),T++)}),T===0&&n.length!=0&&(k=!0),k&&h()},g=k=>{let T=n.filter(I=>I.day===k.id),C=n.filter(I=>I.day!=k.id);T={day:k.id,time:k.timeString,timeDate:k.timeDate},C.push(T),r(C)};return P(Jt,{children:ee("div",{className:"programar-clase-conteiner",children:[P("h5",{children:"Selecciona los dias y el horario en que quieres tomar tus clases"}),P("ul",{className:"day-list",children:i.map((k,T)=>{const[C,I]=ae.exports.useState(!1);return ee("div",{className:"day-time-button",children:[P("li",{className:C?"day-button clicked":"day-button",onClick:()=>{let L=n;C?L=L.filter(N=>N.day!=k):L.push({day:k,time:void 0}),I(!C),r(L)},children:k}),C&&P(Fp,{id:k,name:"time",onChange:g})]},T)})}),P("button",{className:"continue-button",onClick:f,children:"CONTINUAR"})]})})},yz=()=>{const{user:t}=Sn(),e=Wn(),n=t.form,r=async i=>{try{const a=$t(),l=nt(a,`Users/${t.uid}`);await Et(l,{durationClass:i}),e("/Panel")}catch(a){swal("UPS!",`${a.message}`,"error")}};return P("div",{className:"MyFirstClasses__container",children:n.remainingClases>0?P("div",{children:P(vz,{})}):P("div",{children:n.durationClass===0?ee("div",{children:[ee("div",{className:"MyfirstClasses__welcome",children:[P("h5",{children:"Bienvenido a NAVIS"}),P("p",{children:"Para empezar debes adquirir tu primer paquete de clases"}),P("p",{children:"Pero antes debes elegir entre clases de 30min o 50min"})]}),ee("div",{className:"cards__container",children:[P("div",{className:"buy-card",children:ee("ul",{children:[P("li",{className:"amount",children:"Clases de 30min "}),P("div",{children:P("button",{className:"button__Card",onClick:()=>r(30),children:"SELECCIONAR"})})]})}),P("div",{className:"buy-card",children:ee("ul",{children:[P("li",{className:"amount",children:"Clases de 50min "}),P("div",{children:P("button",{className:"button__Card",onClick:()=>r(50),children:"SELECCIONAR"})})]})})]})]}):ee("div",{children:[ee("div",{className:"MyfirstClasses__welcome",children:[P("h5",{children:"Bienvenido a NAVIS"}),P("p",{children:"Adquiere tu primer paquete de clases"}),P("button",{className:"button__Card",onClick:()=>r(0),children:"ATRAS"})]}),P(Xg,{userDuration:n.durationClass})]})})})};const bz=async(t,e,n,r)=>{console.log("user id: ",t),console.log("myClasses id: ",e),console.log("oldSchedule: ",n),console.log("nuevas clases: ",r),console.log("----------------------------------");const i=[];let a=[];const l=$t(),h=nt(l,`Users/${t}/myClasses/${e}`),g=(await Xs(h)).data();console.log("myClassesData: ",g),console.log("----------------------------------");const k=nt(l,`Users/${t}/mySchedule/${e}`),C=(await Xs(k)).data();console.log("myOldSchedule: ",C),console.log("----------------------------------");let I=n.length;console.log("last: ",I);const L=g.userWeek.length;console.log(L);let N=I-L;console.log(N),console.log("---------------------------------");const R=(q,Y)=>{q.setDate(q.getDate()+Y)};let O=0,A=1,$=I;for(let q=0;q<r;q++){O<L?O++:(O=1,A++);const Y=n[N];let Z=Y.date.toDate(),X=Y.dateEnd.toDate();R(Z,7*A),R(X,7*A);const Ae={date:Z,dateEnd:X,time:Y.time,condition:"pending",linkToClass:"",teacherCalification:"",studentCalification:"",studentAssist:!1,reprogramed:!1,durationClass:g.durationClass,classNumber:$,calificationOfClass:"",studentName:g.studentName,studentLastName:g.studentLastName,studentUid:g.studentUid,studentEmail:g.studentEmail,teacherName:g.teacherName,teacherLastName:g.teacherLastName,teacherUid:g.teacherUid,teacherEmail:g.teacherEmail};i.push(Ae),N<I-1?N++:N=I-L,$++}a=[...n,...i],console.log(n),console.log(i),console.log(a),console.log(t),console.log(e);const U=nt(l,`Users/${t}/mySchedule/${e}`);await Et(U,{...a});const j=nt(l,`Users/${t}`);await Et(j,{newPurchasedClasses:0});const H=nt(l,`Classes/${e}`);await Et(H,{remainingClases:ln(r)});const z=nt(l,`Users/${g.teacherUid}/mySchedule/${t}`);await Et(z,{...a});const W=nt(l,`Users/${g.teacherUid}/myStudents/${t}`);await Et(W,{remainingClases:ln(r)})},SC=()=>{const{user:t}=Sn(),[e,n]=ae.exports.useState([]),[r,i]=ae.exports.useState(!0),[a,l]=ae.exports.useState(),h=t.form;return ae.exports.useEffect(()=>{const f=$t(),g=nr(f,`Users/${t.uid}/mySchedule`);xi(g).then(k=>{const T=k.docs.map(I=>({...I.data()})),C=[];T.forEach(I=>Object.keys(I).forEach(L=>C.push({classNumber:I[L].classNumber,condition:I[L].condition,date:I[L].date,dateEnd:I[L].dateEnd,durationClass:I[L].durationClass,linkToClass:I[L].linkToClass,reprogramed:I[L].reprogramed,studentAssist:I[L].studentAssist,studentCalification:I[L].studentCalification,studentEmail:I[L].studentEmail,studentLastName:I[L].studentLastName,studentName:I[L].studentName,studentUid:I[L].studentUid,teacherCalification:I[L].teacherCalification,teacherLastName:I[L].teacherLastName,teacherName:I[L].teacherName,teacherUid:I[L].teacherUid,time:I[L].time}))),n(C),l(t.form.actualClass),i(!1)}),h.newPurchasedClasses>0&&h.teacher==="assigned"&&bz(t.uid,h.myClassesId,e,h.newPurchasedClasses)},[t]),r?P(rr,{}):P("div",{children:h.newbie?P(yz,{}):h.teacher==="assigned"?ee("div",{children:[ee("div",{className:"nextClass__container",children:[P(_z,{date:e[a]}),P(pz,{myClass:e[a],linkToClass:h.linkToClass,userInfo:h}),P(gz,{...t.misClases})]}),P(mz,{...t.misClases}),P(Xg,{duration:h.durationClass,msg:"ADQUIERE MAS CLASES"})]}):P("div",{children:ee("div",{className:"MyfirstClasses__welcome",children:[P("h5",{children:"FELICITACIONES!"}),P("p",{children:"Pronto se te asignara un profesor"})]})})})};const wz=({studentId:t,teacherId:e,classNumber:n})=>{const[r,i]=ae.exports.useState(""),[a,l]=ae.exports.useState(!1),[h,f]=ae.exports.useState(!1),g=[{id:1,label:"Clase Exitosa",value:1},{id:2,label:"Estudiante Ausente",value:2},{id:3,label:"Profesor Ausente",value:3}];let k=0,T=0,C=0,I="",L=0,N=0,R=0;const O=U=>{i(U.target.value)},A=async()=>{l(!0);const U=$t(),j=nt(U,`Users/${t}`);await Et(j,{actualClass:ln(k),completedClases:ln(T),absentedClases:ln(C)});const H=nt(U,`Users/${e}`);await Et(H,{totalClasses:ln(L),thisMonthClasses:ln(N),absentedClasses:ln(R)});const z=nt(U,`Users/${e}/mySchedule/${t}`),q=(await Xs(z)).data();q[n].condition="success",q[n].teacherCalification=I,await Et(z,{...q}),l(!1)},$=()=>{if(f(!0),r==="")swal("CUIDADO!","Debe seleccionar una opci\xF3n","error");else{switch(console.log(r),r){case"1":k=1,T=1,C=0,L=1,N=1,R=0,I="success";break;case"2":k=1,T=0,C=1,L=1,N=1,R=0,I="absentedStudent";break;case"3":k=1,T=0,C=0,L=0,N=0,R=1,I="absentedTeacher";break}A(),console.log(n),console.log(k)}};return a?P(rr,{}):P(Jt,{children:h===!0?P("div",{children:P("span",{className:"calificationPending",children:"Calificaci\xF3n Enviada"})}):ee("div",{className:"calification-container",children:[ee("label",{htmlFor:"calificationClass",children:["Califica La Clase:",P("select",{name:"calificationClass",id:"calificationClass",value:r,onChange:O,children:g.map(U=>P("option",{value:U.value,defaultValue:U.value[1],children:U.label},U.id))})]}),P("button",{onClick:$,children:"ENVIAR"})]})})},xz=({classDate:t,studentId:e})=>{const[n,r]=ae.exports.useState(""),i=t.condition,a=t.teacherCalification,l=t.date.toDate(),h=new Date;let f="",g=l-h,k=60*1e3,T=60*k,C=24*T,I=Math.floor(g/C),L=Math.floor(g%C/T),N=Math.floor(g%T/k),R=0;switch(a){case"success":f="Clase Existosa";break;case"absentedStudent":f="Estudiante Ausente";break;case"absentedTeacher":f="Profesor Ausente";break;default:f="No hay calificacion";break}I<R&&(R=Math.abs(I));const O=j=>{r(j.target.value)},A=Oc(),$={textNotification:`Tu profesor ah enviado el link de tu clase ${n}`,notificationType:"Notificacion",checked:!1},U=async j=>{j.preventDefault();try{const H=$t(),z=nt(H,`Users/${e}`);await Et(z,{linkToClass:n,notifications:ln(1)});const W=nr(H,`Users/${e}/myNotifications`);await Ac(W,{...$,timeStamp:A})}catch(H){swal("UPS!",`${H.message}`,"error")}};return P("div",{children:i==="pending"?R>1?P("div",{children:P("span",{children:"LA CLASE YA EXPIRO"})}):R>0?P("div",{children:P(wz,{studentId:e,teacherId:t.teacherUid,classNumber:t.classNumber})}):I>0?ee("div",{children:[ee("p",{children:["Faltan ",I," dias"]}),ee("p",{children:["y ",L," horas"]})]}):L>0?ee("div",{children:[ee("p",{children:["Faltan ",L," horas"]}),ee("p",{children:["y ",N," minutos"]})]}):N>30?P("div",{children:ee("p",{children:["Faltan ",N," minutos"]})}):ee("form",{onSubmit:U,children:[ee("div",{className:"linkToClass-container",children:[P("label",{htmlFor:"url",children:"Ingrese aqui el Link de la clase:"}),P("input",{type:"url",id:"url",name:"url",placeholder:"https://Ingrese_el_link_de_la_clase.com",pattern:"https://.*",size:"40",value:n||"",onChange:O,required:!0})]}),P("button",{type:"submit",children:"ENVIAR"})]}):P("div",{children:P("span",{className:a==="success"?"calificationGreen":"calificationRed",children:f})})})},Ez=({myClass:t})=>ee("div",{className:"myClasses-container",children:[P("h5",{children:"PROXIMA CLASE"}),t.map((e,n)=>{if(e.reprogramed===!1){const r=e.date.toDate(),a=r.getHours().toString().padStart(2,"0"),h=r.getMinutes().toString().padStart(2,"0"),f=r.toLocaleDateString();return ee("div",{className:"myClasses-card",children:[P("p",{className:"myClasses-card_date",children:f}),ee("ul",{className:"myClasses-card_info",children:[ee("li",{className:"myClasses-card_student",children:[e.studentName," ",e.studentLastName]}),ee("li",{className:"myClasses-card_time",children:[a,":",h," HS"]})]}),P(xz,{classDate:e,studentId:e.studentUid})]},n)}})]});function CC(){const{user:t}=Sn(),[e,n]=ae.exports.useState([]),[r,i]=ae.exports.useState(!0),a=Wn();ae.exports.useEffect(()=>{const g=$t(),k=nr(g,`Users/${t.uid}/mySchedule`);xi(k).then(T=>{const C=T.docs.map(L=>({...L.data()})),I=[];C.forEach(L=>Object.keys(L).forEach(N=>I.push({classNumber:L[N].classNumber,condition:L[N].condition,date:L[N].date,dateEnd:L[N].dateEnd,durationClass:L[N].durationClass,linkToClass:L[N].linkToClass,reprogramed:L[N].reprogramed,studentAssist:L[N].studentAssist,studentCalification:L[N].studentCalification,studentEmail:L[N].studentEmail,studentLastName:L[N].studentLastName,studentName:L[N].studentName,studentUid:L[N].studentUid,teacherCalification:L[N].teacherCalification,teacherLastName:L[N].teacherLastName,teacherName:L[N].teacherName,teacherUid:L[N].teacherUid,time:L[N].time}))),I.sort((L,N)=>L.date<N.date?-1:L.date>N.date?1:0),n(I),i(!1)})},[t]);const l=()=>{a("/Account/Teacher/MyStudents"),swal("BIENVENIDO","Aqu\xED podras ver una lista de tus alumnos","success")},h=()=>{a("/Account")},f=()=>{a("/MiCalendario")};return r?P(rr,{}):P(Jt,{children:ee("div",{children:[ee("div",{className:"encabezado",children:[P("button",{onClick:h,children:"Mi Perfil"}),P("button",{onClick:l,children:"Mis Alumnos"}),P("button",{onClick:f,children:"Mi Calendario"}),ee("ul",{className:"infoEncabezado",children:[P("li",{className:"infoTittle",children:"Mis Clases Impartidas"}),ee("li",{children:["Totales: ",t.form.totalClasses]}),ee("li",{children:["Este mes: ",t.form.thisMonthClasses," "]}),ee("li",{children:["Mes Anterior: ",t.form.lastMonthClasses]})]})]}),P("div",{children:P(Ez,{myClass:e})})]})})}const kz=()=>{const{user:t}=Sn();return P("div",{children:t.role==="admin"?P(kC,{}):t.role==="alumn"?P(SC,{}):t.role==="teacher"?P(CC,{}):P(rr,{})})};const Sz=({info:t})=>ee("div",{className:"asideProfile-container",children:[P("div",{className:"userCard-header_container",children:ee("div",{className:"userCard-header",children:[P("div",{className:"user-avatar",children:P("i",{className:"fa-solid fa-user fa-3x"})}),ee("div",{className:"userMain-info",children:[ee("p",{children:[t.studentName," ",t.studentLastName]}),P("span",{children:" Alumno "}),P("span",{className:"userCard-body-input_content",children:t.studentEmail})]})]})}),P("div",{className:"userCard-body",children:ee("div",{className:"userCard-body-input",children:[P("span",{className:"userCard-body-input_title",children:"Numero de contacto:"}),P("span",{className:"userCard-body-input_content",children:t.studentPhoneNumber})]})}),P("div",{className:"userCard-body",children:ee("div",{className:"userCard-body-input",children:[P("span",{className:"userCard-body-input_title",children:"Clases Restantes:"}),P("span",{className:"userCard-body-input_content",children:t.remainingClases})]})}),t.classWeek.map((e,n)=>{const i=e.timeDate.toDate(),a=i.getHours(),l=i.getMinutes(),h=a.toString().padStart(2,"0"),f=l.toString().padStart(2,"0");return P("div",{className:"userCard-body",children:ee("div",{className:"userCard-body-input",children:[ee("span",{className:"userCard-body-input_title",children:[e.day," :"]}),ee("span",{className:"userCard-body-input_content",children:[h,":",f," Hs"]})]})},n)})]}),Cz=({myStudents:t=[]})=>t.map(e=>P(Sz,{info:e},e.id));const Tz=()=>{const{user:t}=Sn(),[e,n]=ae.exports.useState([]);return ae.exports.useEffect(()=>{const r=$t(),i=nr(r,`Users/${t.uid}/myStudents`);xi(i).then(a=>n(a.docs.map(l=>({id:l.id,...l.data()}))))},[t]),P("div",{className:"myStudents-container",children:P(Cz,{myStudents:e})})};var Nz={exports:{}};/*!
 * @license
 * 
 * dhtmlxScheduler v.6.0.2 Standard
 * 
 * To use dhtmlxScheduler in non-GPL projects (and get Pro version of the product), please obtain Commercial/Enterprise or Ultimate license on our site https://dhtmlx.com/docs/products/dhtmlxScheduler/#licensing or contact us at sales@dhtmlx.com
 * 
 * (c) XB Software Ltd.
 * 
 */(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function i(a){if(r[a])return r[a].exports;var l=r[a]={i:a,l:!1,exports:{}};return n[a].call(l.exports,l,l.exports,i),l.l=!0,l.exports}return i.m=n,i.c=r,i.d=function(a,l,h){i.o(a,l)||Object.defineProperty(a,l,{enumerable:!0,get:h})},i.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},i.t=function(a,l){if(1&l&&(a=i(a)),8&l||4&l&&typeof a=="object"&&a&&a.__esModule)return a;var h=Object.create(null);if(i.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:a}),2&l&&typeof a!="string")for(var f in a)i.d(h,f,function(g){return a[g]}.bind(null,f));return h},i.n=function(a){var l=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(l,"a",l),l},i.o=function(a,l){return Object.prototype.hasOwnProperty.call(a,l)},i.p="/codebase/",i(i.s=9)}([function(n,r,i){(function(a){var l;l=typeof window<"u"?window:a,r.a=l}).call(this,i(1))},function(n,r){function i(l){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(l)}var a;a=function(){return this}();try{a=a||new Function("return this")()}catch{(typeof window>"u"?"undefined":i(window))==="object"&&(a=window)}n.exports=a},function(n,r){n.exports=function(i){return function(){var a={};for(var l in this._events){var h=this._events[l];h.id.toString().indexOf("#")==-1&&(a[h.id]=h)}return a}.bind(i)}},function(n,r){n.exports=function(i){if(typeof i=="string"||typeof i=="number")return i;var a="";for(var l in i){var h="";i.hasOwnProperty(l)&&(h=l+"="+(h=typeof i[l]=="string"?encodeURIComponent(i[l]):typeof i[l]=="number"?i[l]:encodeURIComponent(JSON.stringify(i[l]))),a.length&&(h="&"+h),a+=h)}return a}},function(n,r,i){i.r(r)},function(n,r){var i,a,l=n.exports={};function h(){throw new Error("setTimeout has not been defined")}function f(){throw new Error("clearTimeout has not been defined")}function g(A){if(i===setTimeout)return setTimeout(A,0);if((i===h||!i)&&setTimeout)return i=setTimeout,setTimeout(A,0);try{return i(A,0)}catch{try{return i.call(null,A,0)}catch{return i.call(this,A,0)}}}(function(){try{i=typeof setTimeout=="function"?setTimeout:h}catch{i=h}try{a=typeof clearTimeout=="function"?clearTimeout:f}catch{a=f}})();var k,T=[],C=!1,I=-1;function L(){C&&k&&(C=!1,k.length?T=k.concat(T):I=-1,T.length&&N())}function N(){if(!C){var A=g(L);C=!0;for(var $=T.length;$;){for(k=T,T=[];++I<$;)k&&k[I].run();I=-1,$=T.length}k=null,C=!1,function(U){if(a===clearTimeout)return clearTimeout(U);if((a===f||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(U);try{a(U)}catch{try{return a.call(null,U)}catch{return a.call(this,U)}}}(A)}}function R(A,$){this.fun=A,this.array=$}function O(){}l.nextTick=function(A){var $=new Array(arguments.length-1);if(arguments.length>1)for(var U=1;U<arguments.length;U++)$[U-1]=arguments[U];T.push(new R(A,$)),T.length!==1||C||g(N)},R.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=O,l.addListener=O,l.once=O,l.off=O,l.removeListener=O,l.removeAllListeners=O,l.emit=O,l.prependListener=O,l.prependOnceListener=O,l.listeners=function(A){return[]},l.binding=function(A){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(A){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},function(n,r,i){(function(a,l,h){var f,g,k;function T(C){return(T=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I})(C)}/* @preserve
 * The MIT License (MIT)
 * 
 * Copyright (c) 2013-2018 Petka Antonov
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 * 
 */(function(C){T(r)=="object"&&n!==void 0?n.exports=C():(g=[],(k=typeof(f=C)=="function"?f.apply(r,g):f)===void 0||(n.exports=k))})(function(){return function C(I,L,N){function R($,U){if(!L[$]){if(!I[$]){var j=typeof _dereq_=="function"&&_dereq_;if(!U&&j)return j($,!0);if(O)return O($,!0);var H=new Error("Cannot find module '"+$+"'");throw H.code="MODULE_NOT_FOUND",H}var z=L[$]={exports:{}};I[$][0].call(z.exports,function(W){var q=I[$][1][W];return R(q||W)},z,z.exports,C,I,L,N)}return L[$].exports}for(var O=typeof _dereq_=="function"&&_dereq_,A=0;A<N.length;A++)R(N[A]);return R}({1:[function(C,I,L){var N;try{throw new Error}catch(j){N=j}var R=C("./schedule"),O=C("./queue");function A(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new O(16),this._normalQueue=new O(16),this._haveDrainedQueues=!1;var j=this;this.drainQueues=function(){j._drainQueues()},this._schedule=R}function $(j){for(;j.length()>0;)U(j)}function U(j){var H=j.shift();if(typeof H!="function")H._settlePromises();else{var z=j.shift(),W=j.shift();H.call(z,W)}}A.prototype.setScheduler=function(j){var H=this._schedule;return this._schedule=j,this._customScheduler=!0,H},A.prototype.hasCustomScheduler=function(){return this._customScheduler},A.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},A.prototype.fatalError=function(j,H){H?(a.stderr.write("Fatal "+(j instanceof Error?j.stack:j)+`
`),a.exit(2)):this.throwLater(j)},A.prototype.throwLater=function(j,H){if(arguments.length===1&&(H=j,j=function(){throw H}),typeof setTimeout<"u")setTimeout(function(){j(H)},0);else try{this._schedule(function(){j(H)})}catch{throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}},A.prototype.invokeLater=function(j,H,z){this._lateQueue.push(j,H,z),this._queueTick()},A.prototype.invoke=function(j,H,z){this._normalQueue.push(j,H,z),this._queueTick()},A.prototype.settlePromises=function(j){this._normalQueue._pushOne(j),this._queueTick()},A.prototype._drainQueues=function(){$(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,$(this._lateQueue)},A.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},A.prototype._reset=function(){this._isTickUsed=!1},I.exports=A,I.exports.firstLineError=N},{"./queue":17,"./schedule":18}],2:[function(C,I,L){I.exports=function(N,R,O,A){var $=!1,U=function(W,q){this._reject(q)},j=function(W,q){q.promiseRejectionQueued=!0,q.bindingPromise._then(U,U,null,this,W)},H=function(W,q){(50397184&this._bitField)==0&&this._resolveCallback(q.target)},z=function(W,q){q.promiseRejectionQueued||this._reject(W)};N.prototype.bind=function(W){$||($=!0,N.prototype._propagateFrom=A.propagateFromFunction(),N.prototype._boundValue=A.boundValueFunction());var q=O(W),Y=new N(R);Y._propagateFrom(this,1);var Z=this._target();if(Y._setBoundTo(q),q instanceof N){var X={promiseRejectionQueued:!1,promise:Y,target:Z,bindingPromise:q};Z._then(R,j,void 0,Y,X),q._then(H,z,void 0,Y,X),Y._setOnCancel(q)}else Y._resolveCallback(Z);return Y},N.prototype._setBoundTo=function(W){W!==void 0?(this._bitField=2097152|this._bitField,this._boundTo=W):this._bitField=-2097153&this._bitField},N.prototype._isBound=function(){return(2097152&this._bitField)==2097152},N.bind=function(W,q){return N.resolve(q).bind(W)}}},{}],3:[function(C,I,L){var N;typeof Promise<"u"&&(N=Promise);var R=C("./promise")();R.noConflict=function(){try{Promise===R&&(Promise=N)}catch{}return R},I.exports=R},{"./promise":15}],4:[function(C,I,L){I.exports=function(N,R,O,A){var $=C("./util"),U=$.tryCatch,j=$.errorObj,H=N._async;N.prototype.break=N.prototype.cancel=function(){if(!A.cancellation())return this._warn("cancellation is disabled");for(var z=this,W=z;z._isCancellable();){if(!z._cancelBy(W)){W._isFollowing()?W._followee().cancel():W._cancelBranched();break}var q=z._cancellationParent;if(q==null||!q._isCancellable()){z._isFollowing()?z._followee().cancel():z._cancelBranched();break}z._isFollowing()&&z._followee().cancel(),z._setWillBeCancelled(),W=z,z=q}},N.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},N.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===void 0||this._branchesRemainingToCancel<=0},N.prototype._cancelBy=function(z){return z===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},N.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},N.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),H.invoke(this._cancelPromises,this,void 0))},N.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},N.prototype._unsetOnCancel=function(){this._onCancelField=void 0},N.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},N.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},N.prototype._doInvokeOnCancel=function(z,W){if($.isArray(z))for(var q=0;q<z.length;++q)this._doInvokeOnCancel(z[q],W);else if(z!==void 0)if(typeof z=="function"){if(!W){var Y=U(z).call(this._boundValue());Y===j&&(this._attachExtraTrace(Y.e),H.throwLater(Y.e))}}else z._resultCancelled(this)},N.prototype._invokeOnCancel=function(){var z=this._onCancel();this._unsetOnCancel(),H.invoke(this._doInvokeOnCancel,this,z)},N.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},N.prototype._resultCancelled=function(){this.cancel()}}},{"./util":21}],5:[function(C,I,L){I.exports=function(N){var R=C("./util"),O=C("./es5").keys,A=R.tryCatch,$=R.errorObj;return function(U,j,H){return function(z){var W=H._boundValue();e:for(var q=0;q<U.length;++q){var Y=U[q];if(Y===Error||Y!=null&&Y.prototype instanceof Error){if(z instanceof Y)return A(j).call(W,z)}else if(typeof Y=="function"){var Z=A(Y).call(W,z);if(Z===$)return Z;if(Z)return A(j).call(W,z)}else if(R.isObject(z)){for(var X=O(Y),ce=0;ce<X.length;++ce){var de=X[ce];if(Y[de]!=z[de])continue e}return A(j).call(W,z)}}return N}}}},{"./es5":10,"./util":21}],6:[function(C,I,L){I.exports=function(N){var R=!1,O=[];function A(){this._trace=new A.CapturedTrace($())}function $(){var U=O.length-1;if(U>=0)return O[U]}return N.prototype._promiseCreated=function(){},N.prototype._pushContext=function(){},N.prototype._popContext=function(){return null},N._peekContext=N.prototype._peekContext=function(){},A.prototype._pushContext=function(){this._trace!==void 0&&(this._trace._promiseCreated=null,O.push(this._trace))},A.prototype._popContext=function(){if(this._trace!==void 0){var U=O.pop(),j=U._promiseCreated;return U._promiseCreated=null,j}return null},A.CapturedTrace=null,A.create=function(){if(R)return new A},A.deactivateLongStackTraces=function(){},A.activateLongStackTraces=function(){var U=N.prototype._pushContext,j=N.prototype._popContext,H=N._peekContext,z=N.prototype._peekContext,W=N.prototype._promiseCreated;A.deactivateLongStackTraces=function(){N.prototype._pushContext=U,N.prototype._popContext=j,N._peekContext=H,N.prototype._peekContext=z,N.prototype._promiseCreated=W,R=!1},R=!0,N.prototype._pushContext=A.prototype._pushContext,N.prototype._popContext=A.prototype._popContext,N._peekContext=N.prototype._peekContext=$,N.prototype._promiseCreated=function(){var q=this._peekContext();q&&q._promiseCreated==null&&(q._promiseCreated=this)}},A}},{}],7:[function(C,I,L){I.exports=function(N,R,O,A){var $,U,j,H,z=N._async,W=C("./errors").Warning,q=C("./util"),Y=C("./es5"),Z=q.canAttachTrace,X=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,ce=/\((?:timers\.js):\d+:\d+\)/,de=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,Ae=null,ge=null,Ze=!1,_e=q.env("BLUEBIRD_DEBUG")!=0,he=!(q.env("BLUEBIRD_WARNINGS")==0||!_e&&!q.env("BLUEBIRD_WARNINGS")),ke=!(q.env("BLUEBIRD_LONG_STACK_TRACES")==0||!_e&&!q.env("BLUEBIRD_LONG_STACK_TRACES")),ze=q.env("BLUEBIRD_W_FORGOTTEN_RETURN")!=0&&(he||!!q.env("BLUEBIRD_W_FORGOTTEN_RETURN"));(function(){var se=[];function ue(){for(var ye=0;ye<se.length;++ye)se[ye]._notifyUnhandledRejection();me()}function me(){se.length=0}H=function(ye){se.push(ye),setTimeout(ue,1)},Y.defineProperty(N,"_unhandledRejectionCheck",{value:ue}),Y.defineProperty(N,"_unhandledRejectionClear",{value:me})})(),N.prototype.suppressUnhandledRejections=function(){var se=this._target();se._bitField=-1048577&se._bitField|524288},N.prototype._ensurePossibleRejectionHandled=function(){(524288&this._bitField)==0&&(this._setRejectionIsUnhandled(),H(this))},N.prototype._notifyUnhandledRejectionIsHandled=function(){mr("rejectionHandled",$,void 0,this)},N.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},N.prototype._returnedNonUndefined=function(){return(268435456&this._bitField)!=0},N.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var se=this._settledValue();this._setUnhandledRejectionIsNotified(),mr("unhandledRejection",U,se,this)}},N.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},N.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},N.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},N.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},N.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},N.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},N.prototype._warn=function(se,ue,me){return rt(se,ue,me||this)},N.onPossiblyUnhandledRejection=function(se){var ue=N._getContext();U=q.contextBind(ue,se)},N.onUnhandledRejectionHandled=function(se){var ue=N._getContext();$=q.contextBind(ue,se)};var Pe=function(){};N.longStackTraces=function(){if(z.haveItemsQueued()&&!Ct.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);if(!Ct.longStackTraces&&zr()){var se=N.prototype._captureStackTrace,ue=N.prototype._attachExtraTrace,me=N.prototype._dereferenceTrace;Ct.longStackTraces=!0,Pe=function(){if(z.haveItemsQueued()&&!Ct.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);N.prototype._captureStackTrace=se,N.prototype._attachExtraTrace=ue,N.prototype._dereferenceTrace=me,R.deactivateLongStackTraces(),Ct.longStackTraces=!1},N.prototype._captureStackTrace=oe,N.prototype._attachExtraTrace=Le,N.prototype._dereferenceTrace=it,R.activateLongStackTraces()}},N.hasLongStackTraces=function(){return Ct.longStackTraces&&zr()};var Je={unhandledrejection:{before:function(){var se=q.global.onunhandledrejection;return q.global.onunhandledrejection=null,se},after:function(se){q.global.onunhandledrejection=se}},rejectionhandled:{before:function(){var se=q.global.onrejectionhandled;return q.global.onrejectionhandled=null,se},after:function(se){q.global.onrejectionhandled=se}}},St=function(){var se=function(me,ye){if(!me)return!q.global.dispatchEvent(ye);var Re;try{return Re=me.before(),!q.global.dispatchEvent(ye)}finally{me.after(Re)}};try{if(typeof CustomEvent=="function"){var ue=new CustomEvent("CustomEvent");return q.global.dispatchEvent(ue),function(me,ye){me=me.toLowerCase();var Re=new CustomEvent(me,{detail:ye,cancelable:!0});return Y.defineProperty(Re,"promise",{value:ye.promise}),Y.defineProperty(Re,"reason",{value:ye.reason}),se(Je[me],Re)}}return typeof Event=="function"?(ue=new Event("CustomEvent"),q.global.dispatchEvent(ue),function(me,ye){me=me.toLowerCase();var Re=new Event(me,{cancelable:!0});return Re.detail=ye,Y.defineProperty(Re,"promise",{value:ye.promise}),Y.defineProperty(Re,"reason",{value:ye.reason}),se(Je[me],Re)}):((ue=document.createEvent("CustomEvent")).initCustomEvent("testingtheevent",!1,!0,{}),q.global.dispatchEvent(ue),function(me,ye){me=me.toLowerCase();var Re=document.createEvent("CustomEvent");return Re.initCustomEvent(me,!1,!0,ye),se(Je[me],Re)})}catch{}return function(){return!1}}(),Vt=q.isNode?function(){return a.emit.apply(a,arguments)}:q.global?function(se){var ue="on"+se.toLowerCase(),me=q.global[ue];return!!me&&(me.apply(q.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function lt(se,ue){return{promise:ue}}var bt={promiseCreated:lt,promiseFulfilled:lt,promiseRejected:lt,promiseResolved:lt,promiseCancelled:lt,promiseChained:function(se,ue,me){return{promise:ue,child:me}},warning:function(se,ue){return{warning:ue}},unhandledRejection:function(se,ue,me){return{reason:ue,promise:me}},rejectionHandled:lt},le=function(se){var ue=!1;try{ue=Vt.apply(null,arguments)}catch(ye){z.throwLater(ye),ue=!0}var me=!1;try{me=St(se,bt[se].apply(null,arguments))}catch(ye){z.throwLater(ye),me=!0}return me||ue};function fn(){return!1}function zt(se,ue,me){var ye=this;try{se(ue,me,function(Re){if(typeof Re!="function")throw new TypeError("onCancel must be a function, got: "+q.toString(Re));ye._attachCancellationCallback(Re)})}catch(Re){return Re}}function ft(se){if(!this._isCancellable())return this;var ue=this._onCancel();ue!==void 0?q.isArray(ue)?ue.push(se):this._setOnCancel([ue,se]):this._setOnCancel(se)}function ne(){return this._onCancelField}function fe(se){this._onCancelField=se}function xe(){this._cancellationParent=void 0,this._onCancelField=void 0}function Te(se,ue){if((1&ue)!=0){this._cancellationParent=se;var me=se._branchesRemainingToCancel;me===void 0&&(me=0),se._branchesRemainingToCancel=me+1}(2&ue)!=0&&se._isBound()&&this._setBoundTo(se._boundTo)}N.config=function(se){if("longStackTraces"in(se=Object(se))&&(se.longStackTraces?N.longStackTraces():!se.longStackTraces&&N.hasLongStackTraces()&&Pe()),"warnings"in se){var ue=se.warnings;Ct.warnings=!!ue,ze=Ct.warnings,q.isObject(ue)&&"wForgottenReturn"in ue&&(ze=!!ue.wForgottenReturn)}if("cancellation"in se&&se.cancellation&&!Ct.cancellation){if(z.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");N.prototype._clearCancellationData=xe,N.prototype._propagateFrom=Te,N.prototype._onCancel=ne,N.prototype._setOnCancel=fe,N.prototype._attachCancellationCallback=ft,N.prototype._execute=zt,Be=Te,Ct.cancellation=!0}if("monitoring"in se&&(se.monitoring&&!Ct.monitoring?(Ct.monitoring=!0,N.prototype._fireEvent=le):!se.monitoring&&Ct.monitoring&&(Ct.monitoring=!1,N.prototype._fireEvent=fn)),"asyncHooks"in se&&q.nodeSupportsAsyncResource){var me=Ct.asyncHooks,ye=!!se.asyncHooks;me!==ye&&(Ct.asyncHooks=ye,ye?O():A())}return N},N.prototype._fireEvent=fn,N.prototype._execute=function(se,ue,me){try{se(ue,me)}catch(ye){return ye}},N.prototype._onCancel=function(){},N.prototype._setOnCancel=function(se){},N.prototype._attachCancellationCallback=function(se){},N.prototype._captureStackTrace=function(){},N.prototype._attachExtraTrace=function(){},N.prototype._dereferenceTrace=function(){},N.prototype._clearCancellationData=function(){},N.prototype._propagateFrom=function(se,ue){};var Be=function(se,ue){(2&ue)!=0&&se._isBound()&&this._setBoundTo(se._boundTo)};function He(){var se=this._boundTo;return se!==void 0&&se instanceof N?se.isFulfilled()?se.value():void 0:se}function oe(){this._trace=new Zr(this._peekContext())}function Le(se,ue){if(Z(se)){var me=this._trace;if(me!==void 0&&ue&&(me=me._parent),me!==void 0)me.attachExtraTrace(se);else if(!se.__stackCleaned__){var ye=yt(se);q.notEnumerableProp(se,"stack",ye.message+`
`+ye.stack.join(`
`)),q.notEnumerableProp(se,"__stackCleaned__",!0)}}}function it(){this._trace=void 0}function rt(se,ue,me){if(Ct.warnings){var ye,Re=new W(se);if(ue)me._attachExtraTrace(Re);else if(Ct.longStackTraces&&(ye=N._peekContext()))ye.attachExtraTrace(Re);else{var qe=yt(Re);Re.stack=qe.message+`
`+qe.stack.join(`
`)}le("warning",Re)||Cn(Re,"",!0)}}function Ge(se){for(var ue=[],me=0;me<se.length;++me){var ye=se[me],Re=ye==="    (No stack trace)"||Ae.test(ye),qe=Re&&Xr(ye);Re&&!qe&&(Ze&&ye.charAt(0)!==" "&&(ye="    "+ye),ue.push(ye))}return ue}function yt(se){var ue=se.stack,me=se.toString();return ue=typeof ue=="string"&&ue.length>0?function(ye){for(var Re=ye.stack.replace(/\s+$/g,"").split(`
`),qe=0;qe<Re.length;++qe){var Fe=Re[qe];if(Fe==="    (No stack trace)"||Ae.test(Fe))break}return qe>0&&ye.name!="SyntaxError"&&(Re=Re.slice(qe)),Re}(se):["    (No stack trace)"],{message:me,stack:se.name=="SyntaxError"?ue:Ge(ue)}}function Cn(se,ue,me){if(typeof console<"u"){var ye;if(q.isObject(se)){var Re=se.stack;ye=ue+ge(Re,se)}else ye=ue+String(se);typeof j=="function"?j(ye,me):typeof console.log!="function"&&T(console.log)!=="object"||console.log(ye)}}function mr(se,ue,me,ye){var Re=!1;try{typeof ue=="function"&&(Re=!0,se==="rejectionHandled"?ue(ye):ue(me,ye))}catch(qe){z.throwLater(qe)}se==="unhandledRejection"?le(se,me,ye)||Re||Cn(me,"Unhandled rejection "):le(se,ye)}function Ci(se){var ue;if(typeof se=="function")ue="[function "+(se.name||"anonymous")+"]";else{if(ue=se&&typeof se.toString=="function"?se.toString():q.toString(se),/\[object [a-zA-Z0-9$_]+\]/.test(ue))try{ue=JSON.stringify(se)}catch{}ue.length===0&&(ue="(empty array)")}return"(<"+function(me){return me.length<41?me:me.substr(0,38)+"..."}(ue)+">, no stack trace)"}function zr(){return typeof yo=="function"}var Xr=function(){return!1},Fc=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function vo(se){var ue=se.match(Fc);if(ue)return{fileName:ue[1],line:parseInt(ue[2],10)}}function Zr(se){this._parent=se,this._promisesCreated=0;var ue=this._length=1+(se===void 0?0:se._length);yo(this,Zr),ue>32&&this.uncycle()}q.inherits(Zr,Error),R.CapturedTrace=Zr,Zr.prototype.uncycle=function(){var se=this._length;if(!(se<2)){for(var ue=[],me={},ye=0,Re=this;Re!==void 0;++ye)ue.push(Re),Re=Re._parent;for(ye=(se=this._length=ye)-1;ye>=0;--ye){var qe=ue[ye].stack;me[qe]===void 0&&(me[qe]=ye)}for(ye=0;ye<se;++ye){var Fe=me[ue[ye].stack];if(Fe!==void 0&&Fe!==ye){Fe>0&&(ue[Fe-1]._parent=void 0,ue[Fe-1]._length=1),ue[ye]._parent=void 0,ue[ye]._length=1;var _t=ye>0?ue[ye-1]:this;Fe<se-1?(_t._parent=ue[Fe+1],_t._parent.uncycle(),_t._length=_t._parent._length+1):(_t._parent=void 0,_t._length=1);for(var Ft=_t._length+1,wt=ye-2;wt>=0;--wt)ue[wt]._length=Ft,Ft++;return}}}},Zr.prototype.attachExtraTrace=function(se){if(!se.__stackCleaned__){this.uncycle();for(var ue=yt(se),me=ue.message,ye=[ue.stack],Re=this;Re!==void 0;)ye.push(Ge(Re.stack.split(`
`))),Re=Re._parent;(function(qe){for(var Fe=qe[0],_t=1;_t<qe.length;++_t){for(var Ft=qe[_t],wt=Fe.length-1,ei=Fe[wt],Gn=-1,ar=Ft.length-1;ar>=0;--ar)if(Ft[ar]===ei){Gn=ar;break}for(ar=Gn;ar>=0;--ar){var bo=Ft[ar];if(Fe[wt]!==bo)break;Fe.pop(),wt--}Fe=Ft}})(ye),function(qe){for(var Fe=0;Fe<qe.length;++Fe)(qe[Fe].length===0||Fe+1<qe.length&&qe[Fe][0]===qe[Fe+1][0])&&(qe.splice(Fe,1),Fe--)}(ye),q.notEnumerableProp(se,"stack",function(qe,Fe){for(var _t=0;_t<Fe.length-1;++_t)Fe[_t].push("From previous event:"),Fe[_t]=Fe[_t].join(`
`);return _t<Fe.length&&(Fe[_t]=Fe[_t].join(`
`)),qe+`
`+Fe.join(`
`)}(me,ye)),q.notEnumerableProp(se,"__stackCleaned__",!0)}};var yo=function(){var se=/^\s*at\s*/,ue=function(qe,Fe){return typeof qe=="string"?qe:Fe.name!==void 0&&Fe.message!==void 0?Fe.toString():Ci(Fe)};if(typeof Error.stackTraceLimit=="number"&&typeof Error.captureStackTrace=="function"){Error.stackTraceLimit+=6,Ae=se,ge=ue;var me=Error.captureStackTrace;return Xr=function(qe){return X.test(qe)},function(qe,Fe){Error.stackTraceLimit+=6,me(qe,Fe),Error.stackTraceLimit-=6}}var ye,Re=new Error;if(typeof Re.stack=="string"&&Re.stack.split(`
`)[0].indexOf("stackDetection@")>=0)return Ae=/@/,ge=ue,Ze=!0,function(qe){qe.stack=new Error().stack};try{throw new Error}catch(qe){ye="stack"in qe}return"stack"in Re||!ye||typeof Error.stackTraceLimit!="number"?(ge=function(qe,Fe){return typeof qe=="string"?qe:T(Fe)!=="object"&&typeof Fe!="function"||Fe.name===void 0||Fe.message===void 0?Ci(Fe):Fe.toString()},null):(Ae=se,ge=ue,function(qe){Error.stackTraceLimit+=6;try{throw new Error}catch(Fe){qe.stack=Fe.stack}Error.stackTraceLimit-=6})}();typeof console<"u"&&console.warn!==void 0&&(j=function(se){console.warn(se)},q.isNode&&a.stderr.isTTY?j=function(se,ue){var me=ue?"\x1B[33m":"\x1B[31m";console.warn(me+se+`\x1B[0m
`)}:q.isNode||typeof new Error().stack!="string"||(j=function(se,ue){console.warn("%c"+se,ue?"color: darkorange":"color: red")}));var Ct={warnings:he,longStackTraces:!1,cancellation:!1,monitoring:!1,asyncHooks:!1};return ke&&N.longStackTraces(),{asyncHooks:function(){return Ct.asyncHooks},longStackTraces:function(){return Ct.longStackTraces},warnings:function(){return Ct.warnings},cancellation:function(){return Ct.cancellation},monitoring:function(){return Ct.monitoring},propagateFromFunction:function(){return Be},boundValueFunction:function(){return He},checkForgottenReturns:function(se,ue,me,ye,Re){if(se===void 0&&ue!==null&&ze){if(Re!==void 0&&Re._returnedNonUndefined()||(65535&ye._bitField)==0)return;me&&(me+=" ");var qe="",Fe="";if(ue._trace){for(var _t=ue._trace.stack.split(`
`),Ft=Ge(_t),wt=Ft.length-1;wt>=0;--wt){var ei=Ft[wt];if(!ce.test(ei)){var Gn=ei.match(de);Gn&&(qe="at "+Gn[1]+":"+Gn[2]+":"+Gn[3]+" ");break}}if(Ft.length>0){var ar=Ft[0];for(wt=0;wt<_t.length;++wt)if(_t[wt]===ar){wt>0&&(Fe=`
`+_t[wt-1]);break}}}var bo="a promise was created in a "+me+"handler "+qe+"but was not returned from it, see http://goo.gl/rRqMUw"+Fe;ye._warn(bo,!0,ue)}},setBounds:function(se,ue){if(zr()){for(var me,ye,Re=(se.stack||"").split(`
`),qe=(ue.stack||"").split(`
`),Fe=-1,_t=-1,Ft=0;Ft<Re.length;++Ft)if(wt=vo(Re[Ft])){me=wt.fileName,Fe=wt.line;break}for(Ft=0;Ft<qe.length;++Ft){var wt;if(wt=vo(qe[Ft])){ye=wt.fileName,_t=wt.line;break}}Fe<0||_t<0||!me||!ye||me!==ye||Fe>=_t||(Xr=function(ei){if(X.test(ei))return!0;var Gn=vo(ei);return!!(Gn&&Gn.fileName===me&&Fe<=Gn.line&&Gn.line<=_t)})}},warn:rt,deprecated:function(se,ue){var me=se+" is deprecated and will be removed in a future version.";return ue&&(me+=" Use "+ue+" instead."),rt(me)},CapturedTrace:Zr,fireDomEvent:St,fireGlobalEvent:Vt}}},{"./errors":9,"./es5":10,"./util":21}],8:[function(C,I,L){I.exports=function(N){function R(){return this.value}function O(){throw this.reason}N.prototype.return=N.prototype.thenReturn=function(A){return A instanceof N&&A.suppressUnhandledRejections(),this._then(R,void 0,void 0,{value:A},void 0)},N.prototype.throw=N.prototype.thenThrow=function(A){return this._then(O,void 0,void 0,{reason:A},void 0)},N.prototype.catchThrow=function(A){if(arguments.length<=1)return this._then(void 0,O,void 0,{reason:A},void 0);var $=arguments[1];return this.caught(A,function(){throw $})},N.prototype.catchReturn=function(A){if(arguments.length<=1)return A instanceof N&&A.suppressUnhandledRejections(),this._then(void 0,R,void 0,{value:A},void 0);var $=arguments[1];return $ instanceof N&&$.suppressUnhandledRejections(),this.caught(A,function(){return $})}}},{}],9:[function(C,I,L){var N,R,O=C("./es5"),A=O.freeze,$=C("./util"),U=$.inherits,j=$.notEnumerableProp;function H(ge,Ze){function _e(he){if(!(this instanceof _e))return new _e(he);j(this,"message",typeof he=="string"?he:Ze),j(this,"name",ge),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return U(_e,Error),_e}var z=H("Warning","warning"),W=H("CancellationError","cancellation error"),q=H("TimeoutError","timeout error"),Y=H("AggregateError","aggregate error");try{N=TypeError,R=RangeError}catch{N=H("TypeError","type error"),R=H("RangeError","range error")}for(var Z="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),X=0;X<Z.length;++X)typeof Array.prototype[Z[X]]=="function"&&(Y.prototype[Z[X]]=Array.prototype[Z[X]]);O.defineProperty(Y.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),Y.prototype.isOperational=!0;var ce=0;function de(ge){if(!(this instanceof de))return new de(ge);j(this,"name","OperationalError"),j(this,"message",ge),this.cause=ge,this.isOperational=!0,ge instanceof Error?(j(this,"message",ge.message),j(this,"stack",ge.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}Y.prototype.toString=function(){var ge=Array(4*ce+1).join(" "),Ze=`
`+ge+`AggregateError of:
`;ce++,ge=Array(4*ce+1).join(" ");for(var _e=0;_e<this.length;++_e){for(var he=this[_e]===this?"[Circular AggregateError]":this[_e]+"",ke=he.split(`
`),ze=0;ze<ke.length;++ze)ke[ze]=ge+ke[ze];Ze+=(he=ke.join(`
`))+`
`}return ce--,Ze},U(de,Error);var Ae=Error.__BluebirdErrorTypes__;Ae||(Ae=A({CancellationError:W,TimeoutError:q,OperationalError:de,RejectionError:de,AggregateError:Y}),O.defineProperty(Error,"__BluebirdErrorTypes__",{value:Ae,writable:!1,enumerable:!1,configurable:!1})),I.exports={Error,TypeError:N,RangeError:R,CancellationError:Ae.CancellationError,OperationalError:Ae.OperationalError,TimeoutError:Ae.TimeoutError,AggregateError:Ae.AggregateError,Warning:z}},{"./es5":10,"./util":21}],10:[function(C,I,L){var N=function(){return this===void 0}();if(N)I.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:N,propertyIsWritable:function(U,j){var H=Object.getOwnPropertyDescriptor(U,j);return!(H&&!H.writable&&!H.set)}};else{var R={}.hasOwnProperty,O={}.toString,A={}.constructor.prototype,$=function(U){var j=[];for(var H in U)R.call(U,H)&&j.push(H);return j};I.exports={isArray:function(U){try{return O.call(U)==="[object Array]"}catch{return!1}},keys:$,names:$,defineProperty:function(U,j,H){return U[j]=H.value,U},getDescriptor:function(U,j){return{value:U[j]}},freeze:function(U){return U},getPrototypeOf:function(U){try{return Object(U).constructor.prototype}catch{return A}},isES5:N,propertyIsWritable:function(){return!0}}}},{}],11:[function(C,I,L){I.exports=function(N,R,O){var A=C("./util"),$=N.CancellationError,U=A.errorObj,j=C("./catch_filter")(O);function H(X,ce,de){this.promise=X,this.type=ce,this.handler=de,this.called=!1,this.cancelPromise=null}function z(X){this.finallyHandler=X}function W(X,ce){return X.cancelPromise!=null&&(arguments.length>1?X.cancelPromise._reject(ce):X.cancelPromise._cancel(),X.cancelPromise=null,!0)}function q(){return Z.call(this,this.promise._target()._settledValue())}function Y(X){if(!W(this,X))return U.e=X,U}function Z(X){var ce=this.promise,de=this.handler;if(!this.called){this.called=!0;var Ae=this.isFinallyHandler()?de.call(ce._boundValue()):de.call(ce._boundValue(),X);if(Ae===O)return Ae;if(Ae!==void 0){ce._setReturnedNonUndefined();var ge=R(Ae,ce);if(ge instanceof N){if(this.cancelPromise!=null){if(ge._isCancelled()){var Ze=new $("late cancellation observer");return ce._attachExtraTrace(Ze),U.e=Ze,U}ge.isPending()&&ge._attachCancellationCallback(new z(this))}return ge._then(q,Y,void 0,this,void 0)}}}return ce.isRejected()?(W(this),U.e=X,U):(W(this),X)}return H.prototype.isFinallyHandler=function(){return this.type===0},z.prototype._resultCancelled=function(){W(this.finallyHandler)},N.prototype._passThrough=function(X,ce,de,Ae){return typeof X!="function"?this.then():this._then(de,Ae,void 0,new H(this,ce,X),void 0)},N.prototype.lastly=N.prototype.finally=function(X){return this._passThrough(X,0,Z,Z)},N.prototype.tap=function(X){return this._passThrough(X,1,Z)},N.prototype.tapCatch=function(X){var ce=arguments.length;if(ce===1)return this._passThrough(X,1,void 0,Z);var de,Ae=new Array(ce-1),ge=0;for(de=0;de<ce-1;++de){var Ze=arguments[de];if(!A.isObject(Ze))return N.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+A.classString(Ze)));Ae[ge++]=Ze}Ae.length=ge;var _e=arguments[de];return this._passThrough(j(Ae,_e,this),1,void 0,Z)},H}},{"./catch_filter":5,"./util":21}],12:[function(C,I,L){I.exports=function(N,R,O,A,$){var U=C("./util");U.canEvaluate,U.tryCatch,U.errorObj,N.join=function(){var j,H=arguments.length-1;H>0&&typeof arguments[H]=="function"&&(j=arguments[H]);var z=[].slice.call(arguments);j&&z.pop();var W=new R(z).promise();return j!==void 0?W.spread(j):W}}},{"./util":21}],13:[function(C,I,L){I.exports=function(N,R,O,A,$){var U=C("./util"),j=U.tryCatch;N.method=function(H){if(typeof H!="function")throw new N.TypeError("expecting a function but got "+U.classString(H));return function(){var z=new N(R);z._captureStackTrace(),z._pushContext();var W=j(H).apply(this,arguments),q=z._popContext();return $.checkForgottenReturns(W,q,"Promise.method",z),z._resolveFromSyncValue(W),z}},N.attempt=N.try=function(H){if(typeof H!="function")return A("expecting a function but got "+U.classString(H));var z,W=new N(R);if(W._captureStackTrace(),W._pushContext(),arguments.length>1){$.deprecated("calling Promise.try with more than 1 argument");var q=arguments[1],Y=arguments[2];z=U.isArray(q)?j(H).apply(Y,q):j(H).call(Y,q)}else z=j(H)();var Z=W._popContext();return $.checkForgottenReturns(z,Z,"Promise.try",W),W._resolveFromSyncValue(z),W},N.prototype._resolveFromSyncValue=function(H){H===U.errorObj?this._rejectCallback(H.e,!1):this._resolveCallback(H,!0)}}},{"./util":21}],14:[function(C,I,L){var N=C("./util"),R=N.maybeWrapAsError,O=C("./errors").OperationalError,A=C("./es5"),$=/^(?:name|message|stack|cause)$/;function U(j){var H;if(function(Y){return Y instanceof Error&&A.getPrototypeOf(Y)===Error.prototype}(j)){(H=new O(j)).name=j.name,H.message=j.message,H.stack=j.stack;for(var z=A.keys(j),W=0;W<z.length;++W){var q=z[W];$.test(q)||(H[q]=j[q])}return H}return N.markAsOriginatingFromRejection(j),j}I.exports=function(j,H){return function(z,W){if(j!==null){if(z){var q=U(R(z));j._attachExtraTrace(q),j._reject(q)}else if(H){var Y=[].slice.call(arguments,1);j._fulfill(Y)}else j._fulfill(W);j=null}}}},{"./errors":9,"./es5":10,"./util":21}],15:[function(C,I,L){I.exports=function(){var N=function(){return new de(`circular promise resolution chain

    See http://goo.gl/MqrFmX
`)},R=function(){return new le.PromiseInspection(this._target())},O=function(ne){return le.reject(new de(ne))};function A(){}var $={},U=C("./util");U.setReflectHandler(R);var j=function(){var ne=a.domain;return ne===void 0?null:ne},H=function(){return{domain:j(),async:null}},z=U.isNode&&U.nodeSupportsAsyncResource?C("async_hooks").AsyncResource:null,W=function(){return{domain:j(),async:new z("Bluebird::Promise")}},q=U.isNode?H:function(){return null};U.notEnumerableProp(le,"_getContext",q);var Y=C("./es5"),Z=C("./async"),X=new Z;Y.defineProperty(le,"_async",{value:X});var ce=C("./errors"),de=le.TypeError=ce.TypeError;le.RangeError=ce.RangeError;var Ae=le.CancellationError=ce.CancellationError;le.TimeoutError=ce.TimeoutError,le.OperationalError=ce.OperationalError,le.RejectionError=ce.OperationalError,le.AggregateError=ce.AggregateError;var ge=function(){},Ze={},_e={},he=C("./thenables")(le,ge),ke=C("./promise_array")(le,ge,he,O,A),ze=C("./context")(le),Pe=(ze.create,C("./debuggability")(le,ze,function(){q=W,U.notEnumerableProp(le,"_getContext",W)},function(){q=H,U.notEnumerableProp(le,"_getContext",H)})),Je=(Pe.CapturedTrace,C("./finally")(le,he,_e)),St=C("./catch_filter")(_e),Vt=C("./nodeback"),lt=U.errorObj,bt=U.tryCatch;function le(ne){ne!==ge&&function(fe,xe){if(fe==null||fe.constructor!==le)throw new de(`the promise constructor cannot be invoked directly

    See http://goo.gl/MqrFmX
`);if(typeof xe!="function")throw new de("expecting a function but got "+U.classString(xe))}(this,ne),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(ne),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function fn(ne){this.promise._resolveCallback(ne)}function zt(ne){this.promise._rejectCallback(ne,!1)}function ft(ne){var fe=new le(ge);fe._fulfillmentHandler0=ne,fe._rejectionHandler0=ne,fe._promise0=ne,fe._receiver0=ne}return le.prototype.toString=function(){return"[object Promise]"},le.prototype.caught=le.prototype.catch=function(ne){var fe=arguments.length;if(fe>1){var xe,Te=new Array(fe-1),Be=0;for(xe=0;xe<fe-1;++xe){var He=arguments[xe];if(!U.isObject(He))return O("Catch statement predicate: expecting an object but got "+U.classString(He));Te[Be++]=He}if(Te.length=Be,typeof(ne=arguments[xe])!="function")throw new de("The last argument to .catch() must be a function, got "+U.toString(ne));return this.then(void 0,St(Te,ne,this))}return this.then(void 0,ne)},le.prototype.reflect=function(){return this._then(R,R,void 0,this,void 0)},le.prototype.then=function(ne,fe){if(Pe.warnings()&&arguments.length>0&&typeof ne!="function"&&typeof fe!="function"){var xe=".then() only accepts functions but was passed: "+U.classString(ne);arguments.length>1&&(xe+=", "+U.classString(fe)),this._warn(xe)}return this._then(ne,fe,void 0,void 0,void 0)},le.prototype.done=function(ne,fe){this._then(ne,fe,void 0,void 0,void 0)._setIsFinal()},le.prototype.spread=function(ne){return typeof ne!="function"?O("expecting a function but got "+U.classString(ne)):this.all()._then(ne,void 0,void 0,Ze,void 0)},le.prototype.toJSON=function(){var ne={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(ne.fulfillmentValue=this.value(),ne.isFulfilled=!0):this.isRejected()&&(ne.rejectionReason=this.reason(),ne.isRejected=!0),ne},le.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new ke(this).promise()},le.prototype.error=function(ne){return this.caught(U.originatesFromRejection,ne)},le.getNewLibraryCopy=I.exports,le.is=function(ne){return ne instanceof le},le.fromNode=le.fromCallback=function(ne){var fe=new le(ge);fe._captureStackTrace();var xe=arguments.length>1&&!!Object(arguments[1]).multiArgs,Te=bt(ne)(Vt(fe,xe));return Te===lt&&fe._rejectCallback(Te.e,!0),fe._isFateSealed()||fe._setAsyncGuaranteed(),fe},le.all=function(ne){return new ke(ne).promise()},le.cast=function(ne){var fe=he(ne);return fe instanceof le||((fe=new le(ge))._captureStackTrace(),fe._setFulfilled(),fe._rejectionHandler0=ne),fe},le.resolve=le.fulfilled=le.cast,le.reject=le.rejected=function(ne){var fe=new le(ge);return fe._captureStackTrace(),fe._rejectCallback(ne,!0),fe},le.setScheduler=function(ne){if(typeof ne!="function")throw new de("expecting a function but got "+U.classString(ne));return X.setScheduler(ne)},le.prototype._then=function(ne,fe,xe,Te,Be){var He=Be!==void 0,oe=He?Be:new le(ge),Le=this._target(),it=Le._bitField;He||(oe._propagateFrom(this,3),oe._captureStackTrace(),Te===void 0&&(2097152&this._bitField)!=0&&(Te=(50397184&it)!=0?this._boundValue():Le===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,oe));var rt=q();if((50397184&it)!=0){var Ge,yt,Cn=Le._settlePromiseCtx;(33554432&it)!=0?(yt=Le._rejectionHandler0,Ge=ne):(16777216&it)!=0?(yt=Le._fulfillmentHandler0,Ge=fe,Le._unsetRejectionIsUnhandled()):(Cn=Le._settlePromiseLateCancellationObserver,yt=new Ae("late cancellation observer"),Le._attachExtraTrace(yt),Ge=fe),X.invoke(Cn,Le,{handler:U.contextBind(rt,Ge),promise:oe,receiver:Te,value:yt})}else Le._addCallbacks(ne,fe,oe,Te,rt);return oe},le.prototype._length=function(){return 65535&this._bitField},le.prototype._isFateSealed=function(){return(117506048&this._bitField)!=0},le.prototype._isFollowing=function(){return(67108864&this._bitField)==67108864},le.prototype._setLength=function(ne){this._bitField=-65536&this._bitField|65535&ne},le.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},le.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},le.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},le.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},le.prototype._isFinal=function(){return(4194304&this._bitField)>0},le.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},le.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},le.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},le.prototype._setAsyncGuaranteed=function(){if(!X.hasCustomScheduler()){var ne=this._bitField;this._bitField=ne|(536870912&ne)>>2^134217728}},le.prototype._setNoAsyncGuarantee=function(){this._bitField=-134217729&(536870912|this._bitField)},le.prototype._receiverAt=function(ne){var fe=ne===0?this._receiver0:this[4*ne-4+3];if(fe!==$)return fe===void 0&&this._isBound()?this._boundValue():fe},le.prototype._promiseAt=function(ne){return this[4*ne-4+2]},le.prototype._fulfillmentHandlerAt=function(ne){return this[4*ne-4+0]},le.prototype._rejectionHandlerAt=function(ne){return this[4*ne-4+1]},le.prototype._boundValue=function(){},le.prototype._migrateCallback0=function(ne){ne._bitField;var fe=ne._fulfillmentHandler0,xe=ne._rejectionHandler0,Te=ne._promise0,Be=ne._receiverAt(0);Be===void 0&&(Be=$),this._addCallbacks(fe,xe,Te,Be,null)},le.prototype._migrateCallbackAt=function(ne,fe){var xe=ne._fulfillmentHandlerAt(fe),Te=ne._rejectionHandlerAt(fe),Be=ne._promiseAt(fe),He=ne._receiverAt(fe);He===void 0&&(He=$),this._addCallbacks(xe,Te,Be,He,null)},le.prototype._addCallbacks=function(ne,fe,xe,Te,Be){var He=this._length();if(He>=65531&&(He=0,this._setLength(0)),He===0)this._promise0=xe,this._receiver0=Te,typeof ne=="function"&&(this._fulfillmentHandler0=U.contextBind(Be,ne)),typeof fe=="function"&&(this._rejectionHandler0=U.contextBind(Be,fe));else{var oe=4*He-4;this[oe+2]=xe,this[oe+3]=Te,typeof ne=="function"&&(this[oe+0]=U.contextBind(Be,ne)),typeof fe=="function"&&(this[oe+1]=U.contextBind(Be,fe))}return this._setLength(He+1),He},le.prototype._proxy=function(ne,fe){this._addCallbacks(void 0,void 0,fe,ne,null)},le.prototype._resolveCallback=function(ne,fe){if((117506048&this._bitField)==0){if(ne===this)return this._rejectCallback(N(),!1);var xe=he(ne,this);if(!(xe instanceof le))return this._fulfill(ne);fe&&this._propagateFrom(xe,2);var Te=xe._target();if(Te!==this){var Be=Te._bitField;if((50397184&Be)==0){var He=this._length();He>0&&Te._migrateCallback0(this);for(var oe=1;oe<He;++oe)Te._migrateCallbackAt(this,oe);this._setFollowing(),this._setLength(0),this._setFollowee(xe)}else if((33554432&Be)!=0)this._fulfill(Te._value());else if((16777216&Be)!=0)this._reject(Te._reason());else{var Le=new Ae("late cancellation observer");Te._attachExtraTrace(Le),this._reject(Le)}}else this._reject(N())}},le.prototype._rejectCallback=function(ne,fe,xe){var Te=U.ensureErrorObject(ne),Be=Te===ne;if(!Be&&!xe&&Pe.warnings()){var He="a promise was rejected with a non-error: "+U.classString(ne);this._warn(He,!0)}this._attachExtraTrace(Te,!!fe&&Be),this._reject(ne)},le.prototype._resolveFromExecutor=function(ne){if(ne!==ge){var fe=this;this._captureStackTrace(),this._pushContext();var xe=!0,Te=this._execute(ne,function(Be){fe._resolveCallback(Be)},function(Be){fe._rejectCallback(Be,xe)});xe=!1,this._popContext(),Te!==void 0&&fe._rejectCallback(Te,!0)}},le.prototype._settlePromiseFromHandler=function(ne,fe,xe,Te){var Be=Te._bitField;if((65536&Be)==0){var He;Te._pushContext(),fe===Ze?xe&&typeof xe.length=="number"?He=bt(ne).apply(this._boundValue(),xe):(He=lt).e=new de("cannot .spread() a non-array: "+U.classString(xe)):He=bt(ne).call(fe,xe);var oe=Te._popContext();(65536&(Be=Te._bitField))==0&&(He===_e?Te._reject(xe):He===lt?Te._rejectCallback(He.e,!1):(Pe.checkForgottenReturns(He,oe,"",Te,this),Te._resolveCallback(He)))}},le.prototype._target=function(){for(var ne=this;ne._isFollowing();)ne=ne._followee();return ne},le.prototype._followee=function(){return this._rejectionHandler0},le.prototype._setFollowee=function(ne){this._rejectionHandler0=ne},le.prototype._settlePromise=function(ne,fe,xe,Te){var Be=ne instanceof le,He=this._bitField,oe=(134217728&He)!=0;(65536&He)!=0?(Be&&ne._invokeInternalOnCancel(),xe instanceof Je&&xe.isFinallyHandler()?(xe.cancelPromise=ne,bt(fe).call(xe,Te)===lt&&ne._reject(lt.e)):fe===R?ne._fulfill(R.call(xe)):xe instanceof A?xe._promiseCancelled(ne):Be||ne instanceof ke?ne._cancel():xe.cancel()):typeof fe=="function"?Be?(oe&&ne._setAsyncGuaranteed(),this._settlePromiseFromHandler(fe,xe,Te,ne)):fe.call(xe,Te,ne):xe instanceof A?xe._isResolved()||((33554432&He)!=0?xe._promiseFulfilled(Te,ne):xe._promiseRejected(Te,ne)):Be&&(oe&&ne._setAsyncGuaranteed(),(33554432&He)!=0?ne._fulfill(Te):ne._reject(Te))},le.prototype._settlePromiseLateCancellationObserver=function(ne){var fe=ne.handler,xe=ne.promise,Te=ne.receiver,Be=ne.value;typeof fe=="function"?xe instanceof le?this._settlePromiseFromHandler(fe,Te,Be,xe):fe.call(Te,Be,xe):xe instanceof le&&xe._reject(Be)},le.prototype._settlePromiseCtx=function(ne){this._settlePromise(ne.promise,ne.handler,ne.receiver,ne.value)},le.prototype._settlePromise0=function(ne,fe,xe){var Te=this._promise0,Be=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(Te,ne,Be,fe)},le.prototype._clearCallbackDataAtIndex=function(ne){var fe=4*ne-4;this[fe+2]=this[fe+3]=this[fe+0]=this[fe+1]=void 0},le.prototype._fulfill=function(ne){var fe=this._bitField;if(!((117506048&fe)>>>16)){if(ne===this){var xe=N();return this._attachExtraTrace(xe),this._reject(xe)}this._setFulfilled(),this._rejectionHandler0=ne,(65535&fe)>0&&((134217728&fe)!=0?this._settlePromises():X.settlePromises(this),this._dereferenceTrace())}},le.prototype._reject=function(ne){var fe=this._bitField;if(!((117506048&fe)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=ne,this._isFinal())return X.fatalError(ne,U.isNode);(65535&fe)>0?X.settlePromises(this):this._ensurePossibleRejectionHandled()}},le.prototype._fulfillPromises=function(ne,fe){for(var xe=1;xe<ne;xe++){var Te=this._fulfillmentHandlerAt(xe),Be=this._promiseAt(xe),He=this._receiverAt(xe);this._clearCallbackDataAtIndex(xe),this._settlePromise(Be,Te,He,fe)}},le.prototype._rejectPromises=function(ne,fe){for(var xe=1;xe<ne;xe++){var Te=this._rejectionHandlerAt(xe),Be=this._promiseAt(xe),He=this._receiverAt(xe);this._clearCallbackDataAtIndex(xe),this._settlePromise(Be,Te,He,fe)}},le.prototype._settlePromises=function(){var ne=this._bitField,fe=65535&ne;if(fe>0){if((16842752&ne)!=0){var xe=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,xe,ne),this._rejectPromises(fe,xe)}else{var Te=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,Te,ne),this._fulfillPromises(fe,Te)}this._setLength(0)}this._clearCancellationData()},le.prototype._settledValue=function(){var ne=this._bitField;return(33554432&ne)!=0?this._rejectionHandler0:(16777216&ne)!=0?this._fulfillmentHandler0:void 0},typeof Symbol<"u"&&Symbol.toStringTag&&Y.defineProperty(le.prototype,Symbol.toStringTag,{get:function(){return"Object"}}),le.defer=le.pending=function(){return Pe.deprecated("Promise.defer","new Promise"),{promise:new le(ge),resolve:fn,reject:zt}},U.notEnumerableProp(le,"_makeSelfResolutionError",N),C("./method")(le,ge,he,O,Pe),C("./bind")(le,ge,he,Pe),C("./cancel")(le,ke,O,Pe),C("./direct_resolve")(le),C("./synchronous_inspection")(le),C("./join")(le,ke,he,ge,X),le.Promise=le,le.version="3.7.2",U.toFastProperties(le),U.toFastProperties(le.prototype),ft({a:1}),ft({b:2}),ft({c:3}),ft(1),ft(function(){}),ft(void 0),ft(!1),ft(new le(ge)),Pe.setBounds(Z.firstLineError,U.lastLineError),le}},{"./async":1,"./bind":2,"./cancel":4,"./catch_filter":5,"./context":6,"./debuggability":7,"./direct_resolve":8,"./errors":9,"./es5":10,"./finally":11,"./join":12,"./method":13,"./nodeback":14,"./promise_array":16,"./synchronous_inspection":19,"./thenables":20,"./util":21,async_hooks:void 0}],16:[function(C,I,L){I.exports=function(N,R,O,A,$){var U=C("./util");U.isArray;function j(H){var z=this._promise=new N(R);H instanceof N&&(z._propagateFrom(H,3),H.suppressUnhandledRejections()),z._setOnCancel(this),this._values=H,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return U.inherits(j,$),j.prototype.length=function(){return this._length},j.prototype.promise=function(){return this._promise},j.prototype._init=function H(z,W){var q=O(this._values,this._promise);if(q instanceof N){var Y=(q=q._target())._bitField;if(this._values=q,(50397184&Y)==0)return this._promise._setAsyncGuaranteed(),q._then(H,this._reject,void 0,this,W);if((33554432&Y)==0)return(16777216&Y)!=0?this._reject(q._reason()):this._cancel();q=q._value()}if((q=U.asArray(q))!==null)q.length!==0?this._iterate(q):W===-5?this._resolveEmptyArray():this._resolve(function(X){switch(X){case-2:return[];case-3:return{};case-6:return new Map}}(W));else{var Z=A("expecting an array or an iterable object but got "+U.classString(q)).reason();this._promise._rejectCallback(Z,!1)}},j.prototype._iterate=function(H){var z=this.getActualLength(H.length);this._length=z,this._values=this.shouldCopyValues()?new Array(z):this._values;for(var W=this._promise,q=!1,Y=null,Z=0;Z<z;++Z){var X=O(H[Z],W);Y=X instanceof N?(X=X._target())._bitField:null,q?Y!==null&&X.suppressUnhandledRejections():Y!==null?(50397184&Y)==0?(X._proxy(this,Z),this._values[Z]=X):q=(33554432&Y)!=0?this._promiseFulfilled(X._value(),Z):(16777216&Y)!=0?this._promiseRejected(X._reason(),Z):this._promiseCancelled(Z):q=this._promiseFulfilled(X,Z)}q||W._setAsyncGuaranteed()},j.prototype._isResolved=function(){return this._values===null},j.prototype._resolve=function(H){this._values=null,this._promise._fulfill(H)},j.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},j.prototype._reject=function(H){this._values=null,this._promise._rejectCallback(H,!1)},j.prototype._promiseFulfilled=function(H,z){return this._values[z]=H,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},j.prototype._promiseCancelled=function(){return this._cancel(),!0},j.prototype._promiseRejected=function(H){return this._totalResolved++,this._reject(H),!0},j.prototype._resultCancelled=function(){if(!this._isResolved()){var H=this._values;if(this._cancel(),H instanceof N)H.cancel();else for(var z=0;z<H.length;++z)H[z]instanceof N&&H[z].cancel()}},j.prototype.shouldCopyValues=function(){return!0},j.prototype.getActualLength=function(H){return H},j}},{"./util":21}],17:[function(C,I,L){function N(R){this._capacity=R,this._length=0,this._front=0}N.prototype._willBeOverCapacity=function(R){return this._capacity<R},N.prototype._pushOne=function(R){var O=this.length();this._checkCapacity(O+1),this[this._front+O&this._capacity-1]=R,this._length=O+1},N.prototype.push=function(R,O,A){var $=this.length()+3;if(this._willBeOverCapacity($))return this._pushOne(R),this._pushOne(O),void this._pushOne(A);var U=this._front+$-3;this._checkCapacity($);var j=this._capacity-1;this[U+0&j]=R,this[U+1&j]=O,this[U+2&j]=A,this._length=$},N.prototype.shift=function(){var R=this._front,O=this[R];return this[R]=void 0,this._front=R+1&this._capacity-1,this._length--,O},N.prototype.length=function(){return this._length},N.prototype._checkCapacity=function(R){this._capacity<R&&this._resizeTo(this._capacity<<1)},N.prototype._resizeTo=function(R){var O=this._capacity;this._capacity=R,function(A,$,U,j,H){for(var z=0;z<H;++z)U[z+j]=A[z+$],A[z+$]=void 0}(this,0,this,O,this._front+this._length&O-1)},I.exports=N},{}],18:[function(C,I,L){var N,R=C("./util"),O=R.getNativePromise();if(R.isNode&&typeof MutationObserver>"u"){var A=l.setImmediate,$=a.nextTick;N=R.isRecentNode?function(j){A.call(l,j)}:function(j){$.call(a,j)}}else if(typeof O=="function"&&typeof O.resolve=="function"){var U=O.resolve();N=function(j){U.then(j)}}else N=typeof MutationObserver<"u"&&(typeof window>"u"||!window.navigator||!window.navigator.standalone&&!window.cordova)&&"classList"in document.documentElement?function(){var j=document.createElement("div"),H={attributes:!0},z=!1,W=document.createElement("div");return new MutationObserver(function(){j.classList.toggle("foo"),z=!1}).observe(W,H),function(q){var Y=new MutationObserver(function(){Y.disconnect(),q()});Y.observe(j,H),z||(z=!0,W.classList.toggle("foo"))}}():h!==void 0?function(j){h(j)}:typeof setTimeout<"u"?function(j){setTimeout(j,0)}:function(){throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)};I.exports=N},{"./util":21}],19:[function(C,I,L){I.exports=function(N){function R(z){z!==void 0?(z=z._target(),this._bitField=z._bitField,this._settledValueField=z._isFateSealed()?z._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}R.prototype._settledValue=function(){return this._settledValueField};var O=R.prototype.value=function(){if(!this.isFulfilled())throw new TypeError(`cannot get fulfillment value of a non-fulfilled promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},A=R.prototype.error=R.prototype.reason=function(){if(!this.isRejected())throw new TypeError(`cannot get rejection reason of a non-rejected promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},$=R.prototype.isFulfilled=function(){return(33554432&this._bitField)!=0},U=R.prototype.isRejected=function(){return(16777216&this._bitField)!=0},j=R.prototype.isPending=function(){return(50397184&this._bitField)==0},H=R.prototype.isResolved=function(){return(50331648&this._bitField)!=0};R.prototype.isCancelled=function(){return(8454144&this._bitField)!=0},N.prototype.__isCancelled=function(){return(65536&this._bitField)==65536},N.prototype._isCancelled=function(){return this._target().__isCancelled()},N.prototype.isCancelled=function(){return(8454144&this._target()._bitField)!=0},N.prototype.isPending=function(){return j.call(this._target())},N.prototype.isRejected=function(){return U.call(this._target())},N.prototype.isFulfilled=function(){return $.call(this._target())},N.prototype.isResolved=function(){return H.call(this._target())},N.prototype.value=function(){return O.call(this._target())},N.prototype.reason=function(){var z=this._target();return z._unsetRejectionIsUnhandled(),A.call(z)},N.prototype._value=function(){return this._settledValue()},N.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},N.PromiseInspection=R}},{}],20:[function(C,I,L){I.exports=function(N,R){var O=C("./util"),A=O.errorObj,$=O.isObject,U={}.hasOwnProperty;return function(j,H){if($(j)){if(j instanceof N)return j;var z=function(q){try{return function(Y){return Y.then}(q)}catch(Y){return A.e=Y,A}}(j);if(z===A){H&&H._pushContext();var W=N.reject(z.e);return H&&H._popContext(),W}if(typeof z=="function")return function(q){try{return U.call(q,"_promise0")}catch{return!1}}(j)?(W=new N(R),j._then(W._fulfill,W._reject,void 0,W,null),W):function(q,Y,Z){var X=new N(R),ce=X;Z&&Z._pushContext(),X._captureStackTrace(),Z&&Z._popContext();var de=!0,Ae=O.tryCatch(Y).call(q,function(ge){X&&(X._resolveCallback(ge),X=null)},function(ge){X&&(X._rejectCallback(ge,de,!0),X=null)});return de=!1,X&&Ae===A&&(X._rejectCallback(Ae.e,!0,!0),X=null),ce}(j,z,H)}return j}}},{"./util":21}],21:[function(C,I,L){var N=C("./es5"),R=typeof navigator>"u",O={e:{}},A,$=typeof self<"u"?self:typeof window<"u"?window:l!==void 0?l:this!==void 0?this:null;function U(){try{var oe=A;return A=null,oe.apply(this,arguments)}catch(Le){return O.e=Le,O}}function j(oe){return A=oe,U}var H=function(oe,Le){var it={}.hasOwnProperty;function rt(){for(var Ge in this.constructor=oe,this.constructor$=Le,Le.prototype)it.call(Le.prototype,Ge)&&Ge.charAt(Ge.length-1)!=="$"&&(this[Ge+"$"]=Le.prototype[Ge])}return rt.prototype=Le.prototype,oe.prototype=new rt,oe.prototype};function z(oe){return oe==null||oe===!0||oe===!1||typeof oe=="string"||typeof oe=="number"}function W(oe){return typeof oe=="function"||T(oe)==="object"&&oe!==null}function q(oe){return z(oe)?new Error(ze(oe)):oe}function Y(oe,Le){var it,rt=oe.length,Ge=new Array(rt+1);for(it=0;it<rt;++it)Ge[it]=oe[it];return Ge[it]=Le,Ge}function Z(oe,Le,it){if(!N.isES5)return{}.hasOwnProperty.call(oe,Le)?oe[Le]:void 0;var rt=Object.getOwnPropertyDescriptor(oe,Le);return rt!=null?rt.get==null&&rt.set==null?rt.value:it:void 0}function X(oe,Le,it){if(z(oe))return oe;var rt={value:it,configurable:!0,enumerable:!1,writable:!0};return N.defineProperty(oe,Le,rt),oe}function ce(oe){throw oe}var de=function(){var oe=[Array.prototype,Object.prototype,Function.prototype],Le=function(Ge){for(var yt=0;yt<oe.length;++yt)if(oe[yt]===Ge)return!0;return!1};if(N.isES5){var it=Object.getOwnPropertyNames;return function(Ge){for(var yt=[],Cn=Object.create(null);Ge!=null&&!Le(Ge);){var mr;try{mr=it(Ge)}catch{return yt}for(var Ci=0;Ci<mr.length;++Ci){var zr=mr[Ci];if(!Cn[zr]){Cn[zr]=!0;var Xr=Object.getOwnPropertyDescriptor(Ge,zr);Xr!=null&&Xr.get==null&&Xr.set==null&&yt.push(zr)}}Ge=N.getPrototypeOf(Ge)}return yt}}var rt={}.hasOwnProperty;return function(Ge){if(Le(Ge))return[];var yt=[];e:for(var Cn in Ge)if(rt.call(Ge,Cn))yt.push(Cn);else{for(var mr=0;mr<oe.length;++mr)if(rt.call(oe[mr],Cn))continue e;yt.push(Cn)}return yt}}(),Ae=/this\s*\.\s*\S+\s*=/;function ge(oe){try{if(typeof oe=="function"){var Le=N.names(oe.prototype),it=N.isES5&&Le.length>1,rt=Le.length>0&&!(Le.length===1&&Le[0]==="constructor"),Ge=Ae.test(oe+"")&&N.names(oe).length>0;if(it||rt||Ge)return!0}return!1}catch{return!1}}function Ze(oe){function Le(){}Le.prototype=oe;var it=new Le;function rt(){return T(it.foo)}return rt(),rt(),oe}var _e=/^[a-z$_][a-z$_0-9]*$/i;function he(oe){return _e.test(oe)}function ke(oe,Le,it){for(var rt=new Array(oe),Ge=0;Ge<oe;++Ge)rt[Ge]=Le+Ge+it;return rt}function ze(oe){try{return oe+""}catch{return"[no string representation]"}}function Pe(oe){return oe instanceof Error||oe!==null&&T(oe)==="object"&&typeof oe.message=="string"&&typeof oe.name=="string"}function Je(oe){try{X(oe,"isOperational",!0)}catch{}}function St(oe){return oe!=null&&(oe instanceof Error.__BluebirdErrorTypes__.OperationalError||oe.isOperational===!0)}function Vt(oe){return Pe(oe)&&N.propertyIsWritable(oe,"stack")}var lt="stack"in new Error?function(oe){return Vt(oe)?oe:new Error(ze(oe))}:function(oe){if(Vt(oe))return oe;try{throw new Error(ze(oe))}catch(Le){return Le}};function bt(oe){return{}.toString.call(oe)}function le(oe,Le,it){for(var rt=N.names(oe),Ge=0;Ge<rt.length;++Ge){var yt=rt[Ge];if(it(yt))try{N.defineProperty(Le,yt,N.getDescriptor(oe,yt))}catch{}}}var fn=function(oe){return N.isArray(oe)?oe:null};if(typeof Symbol<"u"&&Symbol.iterator){var zt=typeof Array.from=="function"?function(oe){return Array.from(oe)}:function(oe){for(var Le,it=[],rt=oe[Symbol.iterator]();!(Le=rt.next()).done;)it.push(Le.value);return it};fn=function(oe){return N.isArray(oe)?oe:oe!=null&&typeof oe[Symbol.iterator]=="function"?zt(oe):null}}var ft=a!==void 0&&bt(a).toLowerCase()==="[object process]",ne=a!==void 0&&a.env!==void 0,fe;function xe(oe){return ne?a.env[oe]:void 0}function Te(){if(typeof Promise=="function")try{if(bt(new Promise(function(){}))==="[object Promise]")return Promise}catch{}}function Be(oe,Le){if(oe===null||typeof Le!="function"||Le===fe)return Le;oe.domain!==null&&(Le=oe.domain.bind(Le));var it=oe.async;if(it!==null){var rt=Le;Le=function(){var Ge=new Array(2).concat([].slice.call(arguments));return Ge[0]=rt,Ge[1]=this,it.runInAsyncScope.apply(it,Ge)}}return Le}var He={setReflectHandler:function(oe){fe=oe},isClass:ge,isIdentifier:he,inheritedDataKeys:de,getDataPropertyOrDefault:Z,thrower:ce,isArray:N.isArray,asArray:fn,notEnumerableProp:X,isPrimitive:z,isObject:W,isError:Pe,canEvaluate:R,errorObj:O,tryCatch:j,inherits:H,withAppended:Y,maybeWrapAsError:q,toFastProperties:Ze,filledRange:ke,toString:ze,canAttachTrace:Vt,ensureErrorObject:lt,originatesFromRejection:St,markAsOriginatingFromRejection:Je,classString:bt,copyDescriptors:le,isNode:ft,hasEnvVariables:ne,env:xe,global:$,getNativePromise:Te,contextBind:Be};He.isRecentNode=He.isNode&&function(){var oe;return a.versions&&a.versions.node?oe=a.versions.node.split(".").map(Number):a.version&&(oe=a.version.split(".").map(Number)),oe[0]===0&&oe[1]>10||oe[0]>0}(),He.nodeSupportsAsyncResource=He.isNode&&function(){var oe=!1;try{oe=typeof C("async_hooks").AsyncResource.prototype.runInAsyncScope=="function"}catch{oe=!1}return oe}(),He.isNode&&He.toFastProperties(a);try{throw new Error}catch(oe){He.lastLineError=oe}I.exports=He},{"./es5":10,async_hooks:void 0}]},{},[3])(3)}),typeof window<"u"&&window!==null?window.P=window.Promise:typeof self<"u"&&self!==null&&(self.P=self.Promise)}).call(this,i(5),i(1),i(7).setImmediate)},function(n,r,i){(function(a){var l=a!==void 0&&a||typeof self<"u"&&self||window,h=Function.prototype.apply;function f(g,k){this._id=g,this._clearFn=k}r.setTimeout=function(){return new f(h.call(setTimeout,l,arguments),clearTimeout)},r.setInterval=function(){return new f(h.call(setInterval,l,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(g){g&&g.close()},f.prototype.unref=f.prototype.ref=function(){},f.prototype.close=function(){this._clearFn.call(l,this._id)},r.enroll=function(g,k){clearTimeout(g._idleTimeoutId),g._idleTimeout=k},r.unenroll=function(g){clearTimeout(g._idleTimeoutId),g._idleTimeout=-1},r._unrefActive=r.active=function(g){clearTimeout(g._idleTimeoutId);var k=g._idleTimeout;k>=0&&(g._idleTimeoutId=setTimeout(function(){g._onTimeout&&g._onTimeout()},k))},i(8),r.setImmediate=typeof self<"u"&&self.setImmediate||a!==void 0&&a.setImmediate||this&&this.setImmediate,r.clearImmediate=typeof self<"u"&&self.clearImmediate||a!==void 0&&a.clearImmediate||this&&this.clearImmediate}).call(this,i(1))},function(n,r,i){(function(a,l){(function(h,f){if(!h.setImmediate){var g,k=1,T={},C=!1,I=h.document,L=Object.getPrototypeOf&&Object.getPrototypeOf(h);L=L&&L.setTimeout?L:h,{}.toString.call(h.process)==="[object process]"?g=function(O){l.nextTick(function(){R(O)})}:function(){if(h.postMessage&&!h.importScripts){var O=!0,A=h.onmessage;return h.onmessage=function(){O=!1},h.postMessage("","*"),h.onmessage=A,O}}()?function(){var O="setImmediate$"+Math.random()+"$",A=function($){$.source===h&&typeof $.data=="string"&&$.data.indexOf(O)===0&&R(+$.data.slice(O.length))};h.addEventListener?h.addEventListener("message",A,!1):h.attachEvent("onmessage",A),g=function($){h.postMessage(O+$,"*")}}():h.MessageChannel?function(){var O=new MessageChannel;O.port1.onmessage=function(A){R(A.data)},g=function(A){O.port2.postMessage(A)}}():I&&"onreadystatechange"in I.createElement("script")?function(){var O=I.documentElement;g=function(A){var $=I.createElement("script");$.onreadystatechange=function(){R(A),$.onreadystatechange=null,O.removeChild($),$=null},O.appendChild($)}}():g=function(O){setTimeout(R,0,O)},L.setImmediate=function(O){typeof O!="function"&&(O=new Function(""+O));for(var A=new Array(arguments.length-1),$=0;$<A.length;$++)A[$]=arguments[$+1];var U={callback:O,args:A};return T[k]=U,g(k),k++},L.clearImmediate=N}function N(O){delete T[O]}function R(O){if(C)setTimeout(R,0,O);else{var A=T[O];if(A){C=!0;try{(function($){var U=$.callback,j=$.args;switch(j.length){case 0:U();break;case 1:U(j[0]);break;case 2:U(j[0],j[1]);break;case 3:U(j[0],j[1],j[2]);break;default:U.apply(f,j)}})(A)}finally{N(O),C=!1}}}}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,i(1),i(5))},function(n,r,i){i.r(r),i.d(r,"scheduler",function(){return jc}),i.d(r,"Scheduler",function(){return uv});var a=i(0);i(4);function l(s){function w(c){var u=document.createElement("div");return(c||"").split(" ").forEach(function(_){u.classList.add(_)}),u}var d={rows_container:function(){return w("dhx_cal_navbar_rows_container")},row:function(){return w("dhx_cal_navbar_row")},view:function(c){var u=w("dhx_cal_tab");return u.setAttribute("name",c.view+"_tab"),u.setAttribute("data-tab",c.view),s.config.fix_tab_position&&(c.$firstTab?u.classList.add("dhx_cal_tab_first"):c.$lastTab?u.classList.add("dhx_cal_tab_last"):c.view!=="week"&&u.classList.add("dhx_cal_tab_standalone")),u},date:function(){return w("dhx_cal_date")},button:function(c){return w("dhx_cal_nav_button dhx_cal_nav_button_custom dhx_cal_tab")},builtInButton:function(c){return w("dhx_cal_"+c.view+"_button dhx_cal_nav_button")},spacer:function(){return w("dhx_cal_line_spacer")},minicalendarButton:function(c){var u=w("dhx_minical_icon");return c.click||u.$_eventAttached||s.event(u,"click",function(){s.isCalendarVisible()?s.destroyCalendar():s.renderCalendar({position:this,date:s.getState().date,navigation:!0,handler:function(_,y){s.setCurrentView(_),s.destroyCalendar()}})}),u},html_element:function(c){return w("dhx_cal_nav_content")}};function m(c){var u=function(x){var v;if(x.view)switch(x.view){case"today":case"next":case"prev":v=d.builtInButton;break;case"date":v=d.date;break;case"spacer":v=d.spacer;break;case"button":v=d.button;break;case"minicalendar":v=d.minicalendarButton;break;default:v=d.view}else x.rows?v=d.rows_container:x.cols&&(v=d.row);return v}(c);if(u){var _=u(c);if(c.css&&_.classList.add(c.css),c.width&&((y=c.width)===1*y&&(y+="px"),_.style.width=y),c.height&&((y=c.height)===1*y&&(y+="px"),_.style.height=y),c.click&&_.addEventListener("click",c.click),c.html&&(_.innerHTML=c.html),c.align){var y="";c.align=="right"?y="flex-end":c.align=="left"&&(y="flex-start"),_.style.justifyContent=y}return _}}function p(c){return typeof c=="string"&&(c={view:c}),c.view||c.rows||c.cols||(c.view="button"),c}s._init_nav_bar=function(c){var u=this.$container.querySelector(".dhx_cal_navline");return u||((u=document.createElement("div")).className="dhx_cal_navline dhx_cal_navline_flex",s._update_nav_bar(c,u),u)};var o=null;s._update_nav_bar=function(c,u){if(c){var _=!1,y=!1,x=c.height||s.xy.nav_height;o!==null&&o===x||(_=!0),y=!0,_&&(s.xy.nav_height=x),y&&(u.innerHTML="",u.appendChild(function v(E){var b,S=document.createDocumentFragment();b=Array.isArray(E)?E:[E];for(var D=0;D<b.length;D++){var M,V=p(b[D]);V.view==="day"&&b[D+1]&&((M=p(b[D+1])).view!=="week"&&M.view!=="month"||(V.$firstTab=!0)),V.view==="month"&&b[D-1]&&((M=p(b[D-1])).view!=="week"&&M.view!=="day"||(V.$lastTab=!0));var F=m(V);S.appendChild(F),(V.cols||V.rows)&&F.appendChild(v(V.cols||V.rows))}return S}(c))),(_||y)&&(s.unset_actions(),s._els=[],s.get_elements(),s.set_actions()),u.style.display=x===0?"none":"",o=x}}}function h(s){function w(o){for(var c=document.body;o&&o!=c;)o=o.parentNode;return c==o}function d(o){return{w:o.innerWidth||document.documentElement.clientWidth,h:o.innerHeight||document.documentElement.clientHeight}}function m(o,c){var u,_=d(c);o.event(c,"resize",function(){clearTimeout(u),u=setTimeout(function(){if(w(o.$container)){var y=d(c);(function(x,v){return x.w==v.w&&x.h==v.h})(_,y)||(_=y,p(o))}},150)})}function p(o){!o.$destroyed&&o.$root&&w(o.$root)&&o.callEvent("onSchedulerResize",[])&&(o.updateView(),o.callEvent("onAfterSchedulerResize",[]))}(function(o){var c=o.$container;window.getComputedStyle(c).getPropertyValue("position")=="static"&&(c.style.position="relative");var u=document.createElement("iframe");u.className="scheduler_container_resize_watcher",u.tabIndex=-1,o.config.wai_aria_attributes&&(u.setAttribute("role","none"),u.setAttribute("aria-hidden",!0)),window.Sfdc||window.$A||window.Aura?function(_){var y=_.$root.offsetHeight,x=_.$root.offsetWidth;(function v(){_.$destroyed||(_.$root&&(_.$root.offsetHeight==y&&_.$root.offsetWidth==x||p(_),y=_.$root.offsetHeight,x=_.$root.offsetWidth),setTimeout(v,200))})()}(o):(c.appendChild(u),u.contentWindow?m(o,u.contentWindow):(c.removeChild(u),m(o,window)))})(s)}function f(s,w){for(var d=0;d<w.length;d++){var m=w[d];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(s,m.key,m)}}var g=function(){function s(){(function(w,d){if(!(w instanceof d))throw new TypeError("Cannot call a class as a function")})(this,s),this._silent_mode=!1,this.listeners={}}return function(w,d,m){d&&f(w.prototype,d),m&&f(w,m)}(s,[{key:"_silentStart",value:function(){this._silent_mode=!0}},{key:"_silentEnd",value:function(){this._silent_mode=!1}}]),s}(),k=function(s){var w={},d=0,m=function(){var p=!0;for(var o in w){var c=w[o].apply(s,arguments);p=p&&c}return p};return m.addEvent=function(p,o){if(typeof p=="function"){var c;if(o&&o.id?c=o.id:(c=d,d++),o&&o.once){var u=p;p=function(){u(),m.removeEvent(c)}}return w[c]=p,c}return!1},m.removeEvent=function(p){delete w[p]},m.clear=function(){w={}},m},T=function(s){var w=new g;s.attachEvent=function(d,m,p){d="ev_"+d.toLowerCase(),w.listeners[d]||(w.listeners[d]=k(this)),p&&p.thisObject&&(m=m.bind(p.thisObject));var o=d+":"+w.listeners[d].addEvent(m,p);return p&&p.id&&(o=p.id),o},s.attachAll=function(d){this.attachEvent("listen_all",d)},s.callEvent=function(d,m){if(w._silent_mode)return!0;var p="ev_"+d.toLowerCase(),o=w.listeners;return o.ev_listen_all&&o.ev_listen_all.apply(this,[d].concat(m)),!o[p]||o[p].apply(this,m)},s.checkEvent=function(d){return!!w.listeners["ev_"+d.toLowerCase()]},s.detachEvent=function(d){if(d){var m=w.listeners;for(var p in m)m[p].removeEvent(d);var o=d.split(":");if(m=w.listeners,o.length===2){var c=o[0],u=o[1];m[c]&&m[c].removeEvent(u)}}},s.detachAllEvents=function(){for(var d in w.listeners)w.listeners[d].clear()}};function C(s){return(C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}var I={event:function(s,w,d){s.addEventListener?s.addEventListener(w,d,!1):s.attachEvent&&s.attachEvent("on"+w,d)},eventRemove:function(s,w,d){s.removeEventListener?s.removeEventListener(w,d,!1):s.detachEvent&&s.detachEvent("on"+w,d)}},L=function(){return function s(w,d){w=w||I.event,d=d||I.eventRemove;var m=[],p={attach:function(o,c,u,_){m.push({element:o,event:c,callback:u,capture:_}),w(o,c,u,_)},detach:function(o,c,u,_){d(o,c,u,_);for(var y=0;y<m.length;y++){var x=m[y];x.element===o&&x.event===c&&x.callback===u&&x.capture===_&&(m.splice(y,1),y--)}},detachAll:function(){for(var o=m.slice(),c=0;c<o.length;c++){var u=o[c];p.detach(u.element,u.event,u.callback,u.capture),p.detach(u.element,u.event,u.callback,void 0),p.detach(u.element,u.event,u.callback,!1),p.detach(u.element,u.event,u.callback,!0)}m.splice(0,m.length)},extend:function(){return s(this.event,this.eventRemove)}};return p}()};function N(s){return(N=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}function R(s){return(R=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}function O(s){return(O=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}var A=Date.now();function $(s){return!(!s||O(s)!=="object")&&!!(s.getFullYear&&s.getMonth&&s.getDate)}var U={uid:function(){return A++},mixin:function(s,w,d){for(var m in w)(s[m]===void 0||d)&&(s[m]=w[m]);return s},copy:function s(w){var d,m;if(w&&O(w)=="object")switch(!0){case $(w):m=new Date(w);break;case function(p){return Array.isArray?Array.isArray(p):p&&p.length!==void 0&&p.pop&&p.push}(w):for(m=new Array(w.length),d=0;d<w.length;d++)m[d]=s(w[d]);break;case function(p){return p&&O(p)==="object"&&Function.prototype.toString.call(p.constructor)==="function String() { [native code] }"}(w):m=new String(w);break;case function(p){return p&&O(p)==="object"&&Function.prototype.toString.call(p.constructor)==="function Number() { [native code] }"}(w):m=new Number(w);break;case function(p){return p&&O(p)==="object"&&Function.prototype.toString.call(p.constructor)==="function Boolean() { [native code] }"}(w):m=new Boolean(w);break;default:for(d in m={},w)Object.prototype.hasOwnProperty.apply(w,[d])&&(m[d]=s(w[d]))}return m||w},defined:function(s){return s!==void 0},isDate:$};function j(s){if(!s)return"";var w=s.className||"";return w.baseVal&&(w=w.baseVal),w.indexOf||(w=""),w||""}function H(s,w,d){d===void 0&&(d=!0);for(var m=s.target||s.srcElement,p="";m;){if(p=j(m)){var o=p.indexOf(w);if(o>=0){if(!d)return m;var c=o===0||!(p.charAt(o-1)||"").trim(),u=o+w.length>=p.length||!p.charAt(o+w.length).trim();if(c&&u)return m}}m=m.parentNode}return null}function z(s){var w=!1,d=!1;if(window.getComputedStyle){var m=window.getComputedStyle(s,null);w=m.display,d=m.visibility}else s.currentStyle&&(w=s.currentStyle.display,d=s.currentStyle.visibility);var p=!1,o=H({target:s},"dhx_form_repeat",!1);return o&&(p=o.style.height=="0px"),p=p||!s.offsetHeight,w!="none"&&d!="hidden"&&!p}function W(s){return!isNaN(s.getAttribute("tabindex"))&&1*s.getAttribute("tabindex")>=0}function q(s){return!{a:!0,area:!0}[s.nodeName.loLowerCase()]||!!s.getAttribute("href")}function Y(s){return!{input:!0,select:!0,textarea:!0,button:!0,object:!0}[s.nodeName.toLowerCase()]||!s.hasAttribute("disabled")}function Z(){return document.head.createShadowRoot||document.head.attachShadow}function X(s){if(!s||!Z())return document.body;for(;s.parentNode&&(s=s.parentNode);)if(s instanceof ShadowRoot)return s.host;return document.body}var ce,de={getAbsoluteLeft:function(s){return this.getOffset(s).left},getAbsoluteTop:function(s){return this.getOffset(s).top},getOffsetSum:function(s){for(var w=0,d=0;s;)w+=parseInt(s.offsetTop),d+=parseInt(s.offsetLeft),s=s.offsetParent;return{top:w,left:d}},getOffsetRect:function(s){var w=s.getBoundingClientRect(),d=0,m=0;if(/Mobi/.test(navigator.userAgent)){var p=document.createElement("div");p.style.position="absolute",p.style.left="0px",p.style.top="0px",p.style.width="1px",p.style.height="1px",document.body.appendChild(p);var o=p.getBoundingClientRect();d=w.top-o.top,m=w.left-o.left,p.parentNode.removeChild(p)}else{var c=document.body,u=document.documentElement,_=window.pageYOffset||u.scrollTop||c.scrollTop,y=window.pageXOffset||u.scrollLeft||c.scrollLeft,x=u.clientTop||c.clientTop||0,v=u.clientLeft||c.clientLeft||0;d=w.top+_-x,m=w.left+y-v}return{top:Math.round(d),left:Math.round(m)}},getOffset:function(s){return s.getBoundingClientRect?this.getOffsetRect(s):this.getOffsetSum(s)},closest:function(s,w){return s&&w?ce(s,w):null},insertAfter:function(s,w){w.nextSibling?w.parentNode.insertBefore(s,w.nextSibling):w.parentNode.appendChild(s)},remove:function(s){s&&s.parentNode&&s.parentNode.removeChild(s)},getFocusableNodes:function(s){for(var w=s.querySelectorAll(["a[href]","area[href]","input","select","textarea","button","iframe","object","embed","[tabindex]","[contenteditable]"].join(", ")),d=Array.prototype.slice.call(w,0),m=0;m<d.length;m++)d[m].$position=m;for(d.sort(function(o,c){return o.tabIndex===0&&c.tabIndex!==0?1:o.tabIndex!==0&&c.tabIndex===0?-1:o.tabIndex===c.tabIndex?o.$position-c.$position:o.tabIndex<c.tabIndex?-1:1}),m=0;m<d.length;m++){var p=d[m];(W(p)||Y(p)||q(p))&&z(p)||(d.splice(m,1),m--)}return d},getClassName:j,locateCss:H,getRootNode:X,hasShadowParent:function(s){return!!X(s)},isShadowDomSupported:Z,getActiveElement:function(){var s=document.activeElement;return s.shadowRoot&&(s=s.shadowRoot.activeElement),s===document.body&&document.getSelection&&(s=document.getSelection().focusNode||document.body),s},getRelativeEventPosition:function(s,w){var d=document.documentElement,m=function(p){var o=0,c=0,u=0,_=0;if(p.getBoundingClientRect){var y=p.getBoundingClientRect(),x=document.body,v=document.documentElement||document.body.parentNode||document.body,E=window.pageYOffset||v.scrollTop||x.scrollTop,b=window.pageXOffset||v.scrollLeft||x.scrollLeft,S=v.clientTop||x.clientTop||0,D=v.clientLeft||x.clientLeft||0;o=y.top+E-S,c=y.left+b-D,u=document.body.offsetWidth-y.right,_=document.body.offsetHeight-y.bottom}else{for(;p;)o+=parseInt(p.offsetTop,10),c+=parseInt(p.offsetLeft,10),p=p.offsetParent;u=document.body.offsetWidth-p.offsetWidth-c,_=document.body.offsetHeight-p.offsetHeight-o}return{y:Math.round(o),x:Math.round(c),width:p.offsetWidth,height:p.offsetHeight,right:Math.round(u),bottom:Math.round(_)}}(w);return{x:s.clientX+d.scrollLeft-d.clientLeft-m.x+w.scrollLeft,y:s.clientY+d.scrollTop-d.clientTop-m.y+w.scrollTop}}};if(Element.prototype.closest)ce=function(s,w){return s.closest(w)};else{var Ae=Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;ce=function(s,w){var d=s;do{if(Ae.call(d,w))return d;d=d.parentElement||d.parentNode}while(d!==null&&d.nodeType===1);return null}}var ge=typeof window<"u",Ze={isIE:ge&&(navigator.userAgent.indexOf("MSIE")>=0||navigator.userAgent.indexOf("Trident")>=0),isIE6:ge&&!XMLHttpRequest&&navigator.userAgent.indexOf("MSIE")>=0,isIE7:ge&&navigator.userAgent.indexOf("MSIE 7.0")>=0&&navigator.userAgent.indexOf("Trident")<0,isIE8:ge&&navigator.userAgent.indexOf("MSIE 8.0")>=0&&navigator.userAgent.indexOf("Trident")>=0,isOpera:ge&&navigator.userAgent.indexOf("Opera")>=0,isChrome:ge&&navigator.userAgent.indexOf("Chrome")>=0,isKHTML:ge&&(navigator.userAgent.indexOf("Safari")>=0||navigator.userAgent.indexOf("Konqueror")>=0),isFF:ge&&navigator.userAgent.indexOf("Firefox")>=0,isIPad:ge&&navigator.userAgent.search(/iPad/gi)>=0,isEdge:ge&&navigator.userAgent.indexOf("Edge")!=-1,isNode:!ge||typeof navigator>"u"},_e=i(6).Promise,he=i(3),ke=i.n(he);function ze(s){return(ze=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}function Pe(s){var w=function(o,c){for(var u="var temp=date.match(/[a-zA-Z]+|[0-9]+/g);",_=o.match(/%[a-zA-Z]/g),y=0;y<_.length;y++)switch(_[y]){case"%j":case"%d":u+="set[2]=temp["+y+"]||1;";break;case"%n":case"%m":u+="set[1]=(temp["+y+"]||1)-1;";break;case"%y":u+="set[0]=temp["+y+"]*1+(temp["+y+"]>50?1900:2000);";break;case"%g":case"%G":case"%h":case"%H":u+="set[3]=temp["+y+"]||0;";break;case"%i":u+="set[4]=temp["+y+"]||0;";break;case"%Y":u+="set[0]=temp["+y+"]||0;";break;case"%a":case"%A":u+="set[3]=set[3]%12+((temp["+y+"]||'').toLowerCase()=='am'?0:12);";break;case"%s":u+="set[5]=temp["+y+"]||0;";break;case"%M":u+="set[1]=this.locale.date.month_short_hash[temp["+y+"]]||0;";break;case"%F":u+="set[1]=this.locale.date.month_full_hash[temp["+y+"]]||0;"}var x="set[0],set[1],set[2],set[3],set[4],set[5]";return c&&(x=" Date.UTC("+x+")"),new Function("date","var set=[0,0,1,0,0,0]; "+u+" return new Date("+x+");")},d=function(o,c){return function(u){for(var _=[0,0,1,0,0,0],y=u.match(/[a-zA-Z]+|[0-9]+/g),x=o.match(/%[a-zA-Z]/g),v=0;v<x.length;v++)switch(x[v]){case"%j":case"%d":_[2]=y[v]||1;break;case"%n":case"%m":_[1]=(y[v]||1)-1;break;case"%y":_[0]=1*y[v]+(y[v]>50?1900:2e3);break;case"%g":case"%G":case"%h":case"%H":_[3]=y[v]||0;break;case"%i":_[4]=y[v]||0;break;case"%Y":_[0]=y[v]||0;break;case"%a":case"%A":_[3]=_[3]%12+((y[v]||"").toLowerCase()=="am"?0:12);break;case"%s":_[5]=y[v]||0;break;case"%M":_[1]=s.locale.date.month_short_hash[y[v]]||0;break;case"%F":_[1]=s.locale.date.month_full_hash[y[v]]||0}return c?new Date(Date.UTC(_[0],_[1],_[2],_[3],_[4],_[5])):new Date(_[0],_[1],_[2],_[3],_[4],_[5])}},m=!1;function p(){return s.config.csp==="auto"?m:s.config.csp}(function(){try{new Function("canUseCsp = false;")}catch{m=!0}})(),s.date={init:function(){for(var o=s.locale.date.month_short,c=s.locale.date.month_short_hash={},u=0;u<o.length;u++)c[o[u]]=u;for(o=s.locale.date.month_full,c=s.locale.date.month_full_hash={},u=0;u<o.length;u++)c[o[u]]=u},_bind_host_object:function(o){return o.bind?o.bind(s):function(){return o.apply(s,arguments)}},date_part:function(o){var c=new Date(o);return o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0),o.getHours()&&(o.getDate()<c.getDate()||o.getMonth()<c.getMonth()||o.getFullYear()<c.getFullYear())&&o.setTime(o.getTime()+36e5*(24-o.getHours())),o},time_part:function(o){return(o.valueOf()/1e3-60*o.getTimezoneOffset())%86400},week_start:function(o){var c=o.getDay();return s.config.start_on_monday&&(c===0?c=6:c--),this.date_part(this.add(o,-1*c,"day"))},month_start:function(o){return o.setDate(1),this.date_part(o)},year_start:function(o){return o.setMonth(0),this.month_start(o)},day_start:function(o){return this.date_part(o)},_add_days:function(o,c){var u=new Date(o.valueOf());if(u.setDate(u.getDate()+c),c==Math.round(c)&&c>0){var _=(+u-+o)%864e5;if(_&&o.getTimezoneOffset()==u.getTimezoneOffset()){var y=_/36e5;u.setTime(u.getTime()+60*(24-y)*60*1e3)}}return c>=0&&!o.getHours()&&u.getHours()&&(u.getDate()<o.getDate()||u.getMonth()<o.getMonth()||u.getFullYear()<o.getFullYear())&&u.setTime(u.getTime()+36e5*(24-u.getHours())),u},add:function(o,c,u){var _=new Date(o.valueOf());switch(u){case"day":_=s.date._add_days(_,c);break;case"week":_=s.date._add_days(_,7*c);break;case"month":_.setMonth(_.getMonth()+c);break;case"year":_.setYear(_.getFullYear()+c);break;case"hour":_.setTime(_.getTime()+60*c*60*1e3);break;case"minute":_.setTime(_.getTime()+60*c*1e3);break;default:return s.date["add_"+u](o,c,u)}return _},to_fixed:function(o){return o<10?"0"+o:o},copy:function(o){return new Date(o.valueOf())},date_to_str:function(o,c){if(p())return function(_,y){return function(x){return _.replace(/%[a-zA-Z]/g,function(v){switch(v){case"%d":return y?s.date.to_fixed(x.getUTCDate()):s.date.to_fixed(x.getDate());case"%m":return y?s.date.to_fixed(x.getUTCMonth()+1):s.date.to_fixed(x.getMonth()+1);case"%j":return y?x.getUTCDate():x.getDate();case"%n":return y?x.getUTCMonth()+1:x.getMonth()+1;case"%y":return y?s.date.to_fixed(x.getUTCFullYear()%100):s.date.to_fixed(x.getFullYear()%100);case"%Y":return y?x.getUTCFullYear():x.getFullYear();case"%D":return y?s.locale.date.day_short[x.getUTCDay()]:s.locale.date.day_short[x.getDay()];case"%l":return y?s.locale.date.day_full[x.getUTCDay()]:s.locale.date.day_full[x.getDay()];case"%M":return y?s.locale.date.month_short[x.getUTCMonth()]:s.locale.date.month_short[x.getMonth()];case"%F":return y?s.locale.date.month_full[x.getUTCMonth()]:s.locale.date.month_full[x.getMonth()];case"%h":return y?s.date.to_fixed((x.getUTCHours()+11)%12+1):s.date.to_fixed((x.getHours()+11)%12+1);case"%g":return y?(x.getUTCHours()+11)%12+1:(x.getHours()+11)%12+1;case"%G":return y?x.getUTCHours():x.getHours();case"%H":return y?s.date.to_fixed(x.getUTCHours()):s.date.to_fixed(x.getHours());case"%i":return y?s.date.to_fixed(x.getUTCMinutes()):s.date.to_fixed(x.getMinutes());case"%a":return y?x.getUTCHours()>11?"pm":"am":x.getHours()>11?"pm":"am";case"%A":return y?x.getUTCHours()>11?"PM":"AM":x.getHours()>11?"PM":"AM";case"%s":return y?s.date.to_fixed(x.getUTCSeconds()):s.date.to_fixed(x.getSeconds());case"%W":return y?s.date.to_fixed(s.date.getUTCISOWeek(x)):s.date.to_fixed(s.date.getISOWeek(x));default:return v}})}}(o,c);o=o.replace(/%[a-zA-Z]/g,function(_){switch(_){case"%d":return'"+this.date.to_fixed(date.getDate())+"';case"%m":return'"+this.date.to_fixed((date.getMonth()+1))+"';case"%j":return'"+date.getDate()+"';case"%n":return'"+(date.getMonth()+1)+"';case"%y":return'"+this.date.to_fixed(date.getFullYear()%100)+"';case"%Y":return'"+date.getFullYear()+"';case"%D":return'"+this.locale.date.day_short[date.getDay()]+"';case"%l":return'"+this.locale.date.day_full[date.getDay()]+"';case"%M":return'"+this.locale.date.month_short[date.getMonth()]+"';case"%F":return'"+this.locale.date.month_full[date.getMonth()]+"';case"%h":return'"+this.date.to_fixed((date.getHours()+11)%12+1)+"';case"%g":return'"+((date.getHours()+11)%12+1)+"';case"%G":return'"+date.getHours()+"';case"%H":return'"+this.date.to_fixed(date.getHours())+"';case"%i":return'"+this.date.to_fixed(date.getMinutes())+"';case"%a":return'"+(date.getHours()>11?"pm":"am")+"';case"%A":return'"+(date.getHours()>11?"PM":"AM")+"';case"%s":return'"+this.date.to_fixed(date.getSeconds())+"';case"%W":return'"+this.date.to_fixed(this.date.getISOWeek(date))+"';default:return _}}),c&&(o=o.replace(/date\.get/g,"date.getUTC"));var u=new Function("date",'return "'+o+'";');return s.date._bind_host_object(u)},str_to_date:function(o,c,u){var _=p()?d:w,y=_(o,c),x=/^[0-9]{4}(\-|\/)[0-9]{2}(\-|\/)[0-9]{2} ?(([0-9]{1,2}:[0-9]{1,2})(:[0-9]{1,2})?)?$/,v=/^[0-9]{2}\/[0-9]{2}\/[0-9]{4} ?(([0-9]{1,2}:[0-9]{2})(:[0-9]{1,2})?)?$/,E=/^[0-9]{2}\-[0-9]{2}\-[0-9]{4} ?(([0-9]{1,2}:[0-9]{1,2})(:[0-9]{1,2})?)?$/,b=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24\:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,S=_("%Y-%m-%d %H:%i:%s",c),D=_("%m/%d/%Y %H:%i:%s",c),M=_("%d-%m-%Y %H:%i:%s",c);return function(V){if(!u&&!s.config.parse_exact_format){if(V&&V.getISOWeek)return new Date(V);if(typeof V=="number")return new Date(V);if(function(F){return x.test(String(F))}(V))return S(V);if(function(F){return v.test(String(F))}(V))return D(V);if(function(F){return E.test(String(F))}(V))return M(V);if(function(F){return b.test(F)}(V))return new Date(V)}return y.call(s,V)}},getISOWeek:function(o){if(!o)return!1;var c=(o=this.date_part(new Date(o))).getDay();c===0&&(c=7);var u=new Date(o.valueOf());u.setDate(o.getDate()+(4-c));var _=u.getFullYear(),y=Math.round((u.getTime()-new Date(_,0,1).getTime())/864e5);return 1+Math.floor(y/7)},getUTCISOWeek:function(o){return this.getISOWeek(this.convert_to_utc(o))},convert_to_utc:function(o){return new Date(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate(),o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds())}}}function Je(s){return(Je=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}function St(s){return(St=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}var Vt=i(2),lt=i.n(Vt);function bt(s){return(bt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}function le(s){s._loaded={},s._load=function(d,m){if(d=d||this._load_url){var p;if(d+=(d.indexOf("?")==-1?"?":"&")+"timeshift="+new Date().getTimezoneOffset(),this.config.prevent_cache&&(d+="&uid="+this.uid()),m=m||this._date,this._load_mode){var o=this.templates.load_format;for(m=this.date[this._load_mode+"_start"](new Date(m.valueOf()));m>this._min_date;)m=this.date.add(m,-1,this._load_mode);p=m;for(var c=!0;p<this._max_date;)p=this.date.add(p,1,this._load_mode),this._loaded[o(m)]&&c?m=this.date.add(m,1,this._load_mode):c=!1;var u=p;do p=u,u=this.date.add(p,-1,this._load_mode);while(u>m&&this._loaded[o(u)]);if(p<=m)return!1;for(s.ajax.get(d+"&from="+o(m)+"&to="+o(p),_);m<p;)this._loaded[o(m)]=!0,m=this.date.add(m,1,this._load_mode)}else s.ajax.get(d,_);return this.callEvent("onXLS",[]),this.callEvent("onLoadStart",[]),!0}function _(y){s.on_load(y),s.callEvent("onLoadEnd",[])}},s._parsers={},function(d){d._parsers.xml={canParse:function(m,p){if(p.responseXML&&p.responseXML.firstChild)return!0;try{var o=d.ajax.parse(p.responseText),c=d.ajax.xmltop("data",o);if(c&&c.tagName==="data")return!0}catch{}return!1},parse:function(m){var p;if(m.xmlDoc.responseXML||(m.xmlDoc.responseXML=d.ajax.parse(m.xmlDoc.responseText)),(p=d.ajax.xmltop("data",m.xmlDoc)).tagName!="data")return null;var o=p.getAttribute("dhx_security");o&&(window.dhtmlx&&(window.dhtmlx.security_key=o),d.security_key=o);for(var c=d.ajax.xpath("//coll_options",m.xmlDoc),u=0;u<c.length;u++){var _=c[u].getAttribute("for"),y=d.serverList[_];y||(d.serverList[_]=y=[]),y.splice(0,y.length);for(var x=d.ajax.xpath(".//item",c[u]),v=0;v<x.length;v++){for(var E=x[v].attributes,b={key:x[v].getAttribute("value"),label:x[v].getAttribute("label")},S=0;S<E.length;S++){var D=E[S];D.nodeName!="value"&&D.nodeName!="label"&&(b[D.nodeName]=D.nodeValue)}y.push(b)}}c.length&&d.callEvent("onOptionsLoad",[]);var M=d.ajax.xpath("//userdata",m.xmlDoc);for(u=0;u<M.length;u++){var V=d._xmlNodeToJSON(M[u]);d._userdata[V.name]=V.text}var F=[];for(p=d.ajax.xpath("//event",m.xmlDoc),u=0;u<p.length;u++){var B=F[u]=d._xmlNodeToJSON(p[u]);d._init_event(B)}return F}}}(s),function(d){d.json=d._parsers.json={canParse:function(m){if(m&&St(m)==="object")return!0;if(typeof m=="string")try{var p=JSON.parse(m);return Object.prototype.toString.call(p)==="[object Object]"||Object.prototype.toString.call(p)==="[object Array]"}catch{return!1}return!1},parse:function(m){var p=[];typeof m=="string"&&(m=JSON.parse(m)),Object.prototype.toString.call(m)==="[object Array]"?p=m:m&&(m.events?p=m.events:m.data&&(p=m.data)),p=p||[],m.dhx_security&&(window.dhtmlx&&(window.dhtmlx.security_key=m.dhx_security),d.security_key=m.dhx_security);var o=m&&m.collections?m.collections:{},c=!1;for(var u in o)if(o.hasOwnProperty(u)){c=!0;var _=o[u],y=d.serverList[u];y||(d.serverList[u]=y=[]),y.splice(0,y.length);for(var x=0;x<_.length;x++){var v=_[x],E={key:v.value,label:v.label};for(var b in v)if(v.hasOwnProperty(b)){if(b=="value"||b=="label")continue;E[b]=v[b]}y.push(E)}}c&&d.callEvent("onOptionsLoad",[]);for(var S=[],D=0;D<p.length;D++){var M=p[D];d._init_event(M),S.push(M)}return S}}}(s),function(d){d.ical=d._parsers.ical={canParse:function(m){return typeof m=="string"&&new RegExp("^BEGIN:VCALENDAR").test(m)},parse:function(m){var p=m.match(RegExp(this.c_start+"[^\f]*"+this.c_end,""));if(p.length){p[0]=p[0].replace(/[\r\n]+ /g,""),p[0]=p[0].replace(/[\r\n]+(?=[a-z \t])/g," "),p[0]=p[0].replace(/;[^:\r\n]*:/g,":");for(var o,c=[],u=RegExp("(?:"+this.e_start+")([^\f]*?)(?:"+this.e_end+")","g");(o=u.exec(p))!==null;){for(var _,y={},x=/[^\r\n]+[\r\n]+/g;(_=x.exec(o[1]))!==null;)this.parse_param(_.toString(),y);y.uid&&!y.id&&(y.id=y.uid),c.push(y)}return c}},parse_param:function(m,p){var o=m.indexOf(":");if(o!=-1){var c=m.substr(0,o).toLowerCase(),u=m.substr(o+1).replace(/\\,/g,",").replace(/[\r\n]+$/,"");c=="summary"?c="text":c=="dtstart"?(c="start_date",u=this.parse_date(u,0,0)):c=="dtend"&&(c="end_date",u=this.parse_date(u,0,0)),p[c]=u}},parse_date:function(m,p,o){var c=m.split("T"),u=!1;c[1]&&(p=c[1].substr(0,2),o=c[1].substr(2,2),u=c[1][6]=="Z");var _=c[0].substr(0,4),y=parseInt(c[0].substr(4,2),10)-1,x=c[0].substr(6,2);return d.config.server_utc||u?new Date(Date.UTC(_,y,x,p,o)):new Date(_,y,x,p,o)},c_start:"BEGIN:VCALENDAR",e_start:"BEGIN:VEVENT",e_end:"END:VEVENT",c_end:"END:VCALENDAR"}}(s),s.on_load=function(d){var m;this.callEvent("onBeforeParse",[]);var p=!1,o=!1;for(var c in this._parsers){var u=this._parsers[c];if(u.canParse(d.xmlDoc.responseText,d.xmlDoc)){try{var _=d.xmlDoc.responseText;c==="xml"&&(_=d),(m=u.parse(_))||(p=!0)}catch{p=!0}o=!0;break}}if(!o)if(this._process&&this[this._process])try{m=this[this._process].parse(d.xmlDoc.responseText)}catch{p=!0}else p=!0;(p||d.xmlDoc.status&&d.xmlDoc.status>=400)&&(this.callEvent("onLoadError",[d.xmlDoc]),m=[]),this._process_loading(m),this.callEvent("onXLE",[]),this.callEvent("onParse",[])},s._process_loading=function(d){this._loading=!0,this._not_render=!0;for(var m=0;m<d.length;m++)this.callEvent("onEventLoading",[d[m]])&&this.addEvent(d[m]);this._not_render=!1,this._render_wait&&this.render_view_data(),this._loading=!1,this._after_call&&this._after_call(),this._after_call=null},s._init_event=function(d){d.text=d.text||d._tagvalue||"",d.start_date=s._init_date(d.start_date),d.end_date=s._init_date(d.end_date)},s._init_date=function(d){return d?typeof d=="string"?s._helpers.parseDate(d):new Date(d):null};var w=lt()(s);s.serialize=function(){var d=[],m=w();for(var p in m){var o={},c=m[p];for(var u in c)if(u.charAt(0)!="$"&&u.charAt(0)!="_"){var _=void 0,y=c[u];_=s.utils.isDate(y)?s.defined(s.templates.xml_format)?s.templates.xml_format(y):s.templates.format_date(y):y,o[u]=_}d.push(o)}return d},s.parse=function(d,m){this._process=m,this.on_load({xmlDoc:{responseText:d}})},s.load=function(d,m){typeof m=="string"&&(this._process=m,m=arguments[2]),this._load_url=d,this._after_call=m,this._load(d,this._date)},s.setLoadMode=function(d){d=="all"&&(d=""),this._load_mode=d},s.serverList=function(d,m){return m?(this.serverList[d]=m.slice(0),this.serverList[d]):(this.serverList[d]=this.serverList[d]||[],this.serverList[d])},s._userdata={},s._xmlNodeToJSON=function(d){for(var m={},p=0;p<d.attributes.length;p++)m[d.attributes[p].name]=d.attributes[p].value;for(p=0;p<d.childNodes.length;p++){var o=d.childNodes[p];o.nodeType==1&&(m[o.tagName]=o.firstChild?o.firstChild.nodeValue:"")}return m.text||(m.text=d.firstChild?d.firstChild.nodeValue:""),m},s.attachEvent("onXLS",function(){var d;this.config.show_loading===!0&&((d=this.config.show_loading=document.createElement("div")).className="dhx_loading",d.style.left=Math.round((this._x-128)/2)+"px",d.style.top=Math.round((this._y-15)/2)+"px",this._obj.appendChild(d))}),s.attachEvent("onXLE",function(){var d=this.config.show_loading;d&&bt(d)=="object"&&(d.parentNode&&d.parentNode.removeChild(d),this.config.show_loading=!0)})}function fn(s){s._init_touch_events=function(){if((this.config.touch&&(navigator.userAgent.indexOf("Mobile")!=-1||navigator.userAgent.indexOf("iPad")!=-1||navigator.userAgent.indexOf("Android")!=-1||navigator.userAgent.indexOf("Touch")!=-1)&&!window.MSStream||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&(this.xy.scroll_width=0,this._mobile=!0),this.config.touch){var w=!0;try{document.createEvent("TouchEvent")}catch{w=!1}w?this._touch_events(["touchmove","touchstart","touchend"],function(d){return d.touches&&d.touches.length>1?null:d.touches[0]?{target:d.target,pageX:d.touches[0].pageX,pageY:d.touches[0].pageY,clientX:d.touches[0].clientX,clientY:d.touches[0].clientY}:d},function(){return!1}):window.PointerEvent||window.navigator.pointerEnabled?this._touch_events(["pointermove","pointerdown","pointerup"],function(d){return d.pointerType=="mouse"?null:d},function(d){return!d||d.pointerType=="mouse"}):window.navigator.msPointerEnabled&&this._touch_events(["MSPointerMove","MSPointerDown","MSPointerUp"],function(d){return d.pointerType==d.MSPOINTER_TYPE_MOUSE?null:d},function(d){return!d||d.pointerType==d.MSPOINTER_TYPE_MOUSE})}},s._touch_events=function(w,d,m){var p,o,c,u,_,y,x=0;function v(b,S,D){b.addEventListener(S,function(M){return!!s._is_lightbox_open()||(m(M)?void 0:D(M))},{passive:!1})}function E(b){m(b)||(s._hide_global_tip(),u&&(s._on_mouse_up(d(b)),s._temp_touch_block=!1),s._drag_id=null,s._drag_mode=null,s._drag_pos=null,s._pointerDragId=null,clearTimeout(c),u=y=!1,_=!0)}v(document.body,w[0],function(b){if(!m(b)){var S=d(b);if(S){if(u)return function(D){if(!m(D)){var M=s.getState().drag_mode,V=!!s.matrix&&s.matrix[s._mode],F=s.render_view_data;M=="create"&&V&&(s.render_view_data=function(){for(var B=s.getState().drag_id,Q=s.getEvent(B),re=V.y_property,K=s.getEvents(Q.start_date,Q.end_date),ie=0;ie<K.length;ie++)K[ie][re]!=Q[re]&&(K.splice(ie,1),ie--);Q._sorder=K.length-1,Q._count=K.length,this.render_data([Q],s.getState().mode)}),s._on_mouse_move(D),M=="create"&&V&&(s.render_view_data=F),D.preventDefault&&D.preventDefault(),D.cancelBubble=!0}}(S),b.preventDefault&&b.preventDefault(),b.cancelBubble=!0,s._update_global_tip(),!1;o=d(b),y&&(o?(p.target!=o.target||Math.abs(p.pageX-o.pageX)>5||Math.abs(p.pageY-o.pageY)>5)&&(_=!0,clearTimeout(c)):_=!0)}}}),v(this._els.dhx_cal_data[0],"touchcancel",E),v(this._els.dhx_cal_data[0],"contextmenu",function(b){if(!m(b))return y?(b&&b.preventDefault&&b.preventDefault(),b.cancelBubble=!0,!1):void 0}),v(this._obj,w[1],function(b){var S;if(document&&document.body&&document.body.classList.add("dhx_cal_touch_active"),!m(b))if(s._pointerDragId=b.pointerId,u=_=!1,y=!0,S=o=d(b)){var D=new Date;if(!_&&!u&&D-x<250)return s._click.dhx_cal_data(S),window.setTimeout(function(){S.type="dblclick",s._on_dbl_click(S)},50),b.preventDefault&&b.preventDefault(),b.cancelBubble=!0,s._block_next_stop=!0,!1;if(x=D,!_&&!u&&s.config.touch_drag){var M=s._locate_event(document.activeElement),V=s._locate_event(S.target),F=p?s._locate_event(p.target):null;if(M&&V&&M==V&&M!=F)return b.preventDefault&&b.preventDefault(),b.cancelBubble=!0,s._ignore_next_click=!1,s._click.dhx_cal_data(S),p=S,!1;c=setTimeout(function(){u=!0;var B=p.target,Q=s._getClassName(B);B&&Q.indexOf("dhx_body")!=-1&&(B=B.previousSibling),s._on_mouse_down(p,B),s._drag_mode&&s._drag_mode!="create"&&s.for_rendered(s._drag_id,function(re,K){re.style.display="none",s._rendered.splice(K,1)}),s.config.touch_tip&&s._show_global_tip(),s.updateEvent(s._drag_id)},s.config.touch_drag),p=S}}else _=!0}),v(this._els.dhx_cal_data[0],w[2],function(b){if(document&&document.body&&document.body.classList.remove("dhx_cal_touch_active"),!m(b))return s.config.touch_swipe_dates&&!u&&function(S,D,M,V){if(!S||!D)return!1;for(var F=S.target;F&&F!=s._obj;)F=F.parentNode;if(F!=s._obj||s.matrix&&s.matrix[s.getState().mode]&&s.matrix[s.getState().mode].scrollable)return!1;var B=Math.abs(S.pageY-D.pageY),Q=Math.abs(S.pageX-D.pageX);return B<V&&Q>M&&(!B||Q/B>3)&&(S.pageX>D.pageX?s._click.dhx_cal_next_button():s._click.dhx_cal_prev_button(),!0)}(p,o,200,100)&&(s._block_next_stop=!0),u&&(s._ignore_next_click=!0,setTimeout(function(){s._ignore_next_click=!1},100)),E(b),s._block_next_stop?(s._block_next_stop=!1,b.preventDefault&&b.preventDefault(),b.cancelBubble=!0,!1):void 0}),s.event(document.body,w[2],E)},s._show_global_tip=function(){s._hide_global_tip();var w=s._global_tip=document.createElement("div");w.className="dhx_global_tip",s._update_global_tip(1),document.body.appendChild(w)},s._update_global_tip=function(w){var d=s._global_tip;if(d){var m="";if(s._drag_id&&!w){var p=s.getEvent(s._drag_id);p&&(m="<div>"+(p._timed?s.templates.event_header(p.start_date,p.end_date,p):s.templates.day_date(p.start_date,p.end_date,p))+"</div>")}s._drag_mode=="create"||s._drag_mode=="new-size"?d.innerHTML=(s.locale.labels.drag_to_create||"Drag to create")+m:d.innerHTML=(s.locale.labels.drag_to_move||"Drag to move")+m}},s._hide_global_tip=function(){var w=s._global_tip;w&&w.parentNode&&(w.parentNode.removeChild(w),s._global_tip=0)}}function zt(s){var w,d;function m(){if(s._is_material_skin())return!0;if(d!==void 0)return d;var o=document.createElement("div");o.style.position="absolute",o.style.left="-9999px",o.style.top="-9999px",o.innerHTML="<div class='dhx_cal_container'><div class='dhx_cal_data'><div class='dhx_cal_event'><div class='dhx_body'></div></div><div>",document.body.appendChild(o);var c=window.getComputedStyle(o.querySelector(".dhx_body")).getPropertyValue("box-sizing");document.body.removeChild(o),(d=c==="border-box")||setTimeout(function(){d=void 0},1e3)}function p(){if(!s._is_material_skin()&&!s._border_box_events()){var o=d;d=void 0,w=void 0,o!==m()&&s.$container&&s.getState().mode&&s.setCurrentView()}}s._skin_settings={fix_tab_position:[1,0],use_select_menu_space:[1,0],wide_form:[1,0],hour_size_px:[44,42],displayed_event_color:["#ff4a4a","ffc5ab"],displayed_event_text_color:["#ffef80","7e2727"]},s._skin_xy={lightbox_additional_height:[90,50],nav_height:[59,22],bar_height:[24,20]},s._is_material_skin=function(){return s.skin?(s.skin+"").indexOf("material")>-1:function(){if(w===void 0){var o=document.createElement("div");o.style.position="absolute",o.style.left="-9999px",o.style.top="-9999px",o.innerHTML="<div class='dhx_cal_container'><div class='dhx_cal_scale_placeholder'></div><div>",document.body.appendChild(o);var c=window.getComputedStyle(o.querySelector(".dhx_cal_scale_placeholder")),u=c.getPropertyValue("position");w=u==="absolute",setTimeout(function(){w=null},500)}return w}()},window.addEventListener("DOMContentLoaded",p),window.addEventListener("load",p),s._border_box_events=function(){return m()},s._configure=function(o,c,u){for(var _ in c)o[_]===void 0&&(o[_]=c[_][u])},s._skin_init=function(){if(!s.skin)for(var o=document.getElementsByTagName("link"),c=0;c<o.length;c++){var u=o[c].href.match("dhtmlxscheduler_([a-z]+).css");if(u){s.skin=u[1];break}}var _=0;if(!s.skin||s.skin!=="classic"&&s.skin!=="glossy"||(_=1),s._is_material_skin()){var y=s.config.buttons_left.$initial,x=s.config.buttons_right.$initial;if(y&&s.config.buttons_left.slice().join()==y&&x&&s.config.buttons_right.slice().join()==x){var v=s.config.buttons_left.slice();s.config.buttons_left=s.config.buttons_right.slice(),s.config.buttons_right=v}s.xy.event_header_height=18,s.xy.week_agenda_scale_height=35,s.xy.map_icon_width=38,s._lightbox_controls.defaults.textarea.height=64,s._lightbox_controls.defaults.time.height="auto"}if(this._configure(s.config,s._skin_settings,_),this._configure(s.xy,s._skin_xy,_),s.skin==="flat"&&(s.xy.scale_height=35,s.templates.hour_scale=function(b){var S=b.getMinutes();return S=S<10?"0"+S:S,"<span class='dhx_scale_h'>"+b.getHours()+"</span><span class='dhx_scale_m'>&nbsp;"+S+"</span>"}),!_){var E=s.config.minicalendar;E&&(E.padding=14),s.templates.event_bar_date=function(b,S,D){return"\u2022 <b>"+s.templates.event_date(b)+"</b> "},s.attachEvent("onTemplatesReady",function(){var b=s.date.date_to_str("%d");s.templates._old_month_day||(s.templates._old_month_day=s.templates.month_day);var S=s.templates._old_month_day;if(s.templates.month_day=function(ie){if(this._mode=="month"){var G=b(ie);return ie.getDate()==1&&(G=s.locale.date.month_full[ie.getMonth()]+" "+G),+ie==+s.date.date_part(this._currentDate())&&(G=s.locale.labels.dhx_cal_today_button+" "+G),G}return S.call(this,ie)},s.config.fix_tab_position){var D=s._els.dhx_cal_navline[0].getElementsByTagName("div"),M=null,V=211,F=[14,75,136],B=14;s._is_material_skin()&&(F=[16,103,192],V=294,B=-1);for(var Q=0;Q<D.length;Q++){var re=D[Q],K=re.getAttribute("data-tab")||re.getAttribute("name");if(K){switch(re.style.right="auto",K){case"day":case"day_tab":re.style.left=F[0]+"px",re.className+=" dhx_cal_tab_first";break;case"week":case"week_tab":re.style.left=F[1]+"px";break;case"month":case"month_tab":re.style.left=F[2]+"px",re.className+=" dhx_cal_tab_last";break;default:re.style.left=V+"px",re.className+=" dhx_cal_tab_standalone",V=V+B+re.offsetWidth}re.className+=" "+K}else(re.className||"").indexOf("dhx_minical_icon")===0&&re.parentNode==s._els.dhx_cal_navline[0]&&(M=re)}M&&(M.style.left=V+"px")}}),s._skin_init=function(){}}}}function ft(s){return(ft=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}function ne(s){return this.serverProcessor=s,this.action_param="!nativeeditor_status",this.object=null,this.updatedRows=[],this.autoUpdate=!0,this.updateMode="cell",this._tMode="GET",this._headers=null,this._payload=null,this.post_delim="_",this._waitMode=0,this._in_progress={},this._invalid={},this.messages=[],this.styles={updated:"font-weight:bold;",inserted:"font-weight:bold;",deleted:"text-decoration : line-through;",invalid:"background-color:FFE0E0;",invalid_cell:"border-bottom:2px solid red;",error:"color:red;",clear:"font-weight:normal;text-decoration:none;"},this.enableUTFencoding(!0),T(this),this}function fe(s){return(fe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}ne.prototype={setTransactionMode:function(s,w){ft(s)=="object"?(this._tMode=s.mode||this._tMode,s.headers!==void 0&&(this._headers=s.headers),s.payload!==void 0&&(this._payload=s.payload),this._tSend=!!w):(this._tMode=s,this._tSend=w),this._tMode=="REST"&&(this._tSend=!1,this._endnm=!0),this._tMode==="JSON"||this._tMode==="REST-JSON"?(this._tSend=!1,this._endnm=!0,this._serializeAsJson=!0,this._headers=this._headers||{},this._headers["Content-Type"]="application/json"):this._headers&&!this._headers["Content-Type"]&&(this._headers["Content-Type"]="application/x-www-form-urlencoded"),this._tMode==="CUSTOM"&&(this._tSend=!1,this._endnm=!0,this._router=s.router)},escape:function(s){function w(d){return s.apply(this,arguments)}return w.toString=function(){return s.toString()},w}(function(s){return this._utf?encodeURIComponent(s):escape(s)}),enableUTFencoding:function(s){this._utf=!!s},setDataColumns:function(s){this._columns=typeof s=="string"?s.split(","):s},getSyncState:function(){return!this.updatedRows.length},enableDataNames:function(s){this._endnm=!!s},enablePartialDataSend:function(s){this._changed=!!s},setUpdateMode:function(s,w){this.autoUpdate=s=="cell",this.updateMode=s,this.dnd=w},ignore:function(s,w){this._silent_mode=!0,s.call(w||window),this._silent_mode=!1},setUpdated:function(s,w,d){if(!this._silent_mode){var m=this.findRow(s);d=d||"updated";var p=this.$scheduler.getUserData(s,this.action_param);p&&d=="updated"&&(d=p),w?(this.set_invalid(s,!1),this.updatedRows[m]=s,this.$scheduler.setUserData(s,this.action_param,d),this._in_progress[s]&&(this._in_progress[s]="wait")):this.is_invalid(s)||(this.updatedRows.splice(m,1),this.$scheduler.setUserData(s,this.action_param,"")),this.markRow(s,w,d),w&&this.autoUpdate&&this.sendData(s)}},markRow:function(s,w,d){var m="",p=this.is_invalid(s);if(p&&(m=this.styles[p],w=!0),this.callEvent("onRowMark",[s,w,d,p])&&(m=this.styles[w?d:"clear"]+m,this.$scheduler[this._methods[0]](s,m),p&&p.details)){m+=this.styles[p+"_cell"];for(var o=0;o<p.details.length;o++)p.details[o]&&this.$scheduler[this._methods[1]](s,o,m)}},getActionByState:function(s){return s==="inserted"?"create":s==="updated"?"update":s==="deleted"?"delete":"update"},getState:function(s){return this.$scheduler.getUserData(s,this.action_param)},is_invalid:function(s){return this._invalid[s]},set_invalid:function(s,w,d){d&&(w={value:w,details:d,toString:function(){return this.value.toString()}}),this._invalid[s]=w},checkBeforeUpdate:function(s){return!0},sendData:function(s){return this.$scheduler.editStop&&this.$scheduler.editStop(),s===void 0||this._tSend?this.sendAllData():!this._in_progress[s]&&(this.messages=[],!(!this.checkBeforeUpdate(s)&&this.callEvent("onValidationError",[s,this.messages]))&&void this._beforeSendData(this._getRowData(s),s))},_beforeSendData:function(s,w){if(!this.callEvent("onBeforeUpdate",[w,this.getState(w),s]))return!1;this._sendData(s,w)},serialize:function(s,w){if(this._serializeAsJson)return this._serializeAsJSON(s);if(typeof s=="string")return s;if(w!==void 0)return this.serialize_one(s,"");var d=[],m=[];for(var p in s)s.hasOwnProperty(p)&&(d.push(this.serialize_one(s[p],p+this.post_delim)),m.push(p));return d.push("ids="+this.escape(m.join(","))),this.$scheduler.security_key&&d.push("dhx_security="+this.$scheduler.security_key),d.join("&")},serialize_one:function(s,w){if(typeof s=="string")return s;var d=[],m="";for(var p in s)if(s.hasOwnProperty(p)){if((p=="id"||p==this.action_param)&&this._tMode=="REST")continue;m=typeof s[p]=="string"||typeof s[p]=="number"?s[p]:JSON.stringify(s[p]),d.push(this.escape((w||"")+p)+"="+this.escape(m))}return d.join("&")},_applyPayload:function(s){var w=this.$scheduler.ajax;if(this._payload)for(var d in this._payload)s=s+w.urlSeparator(s)+this.escape(d)+"="+this.escape(this._payload[d]);return s},_sendData:function(s,w){if(s){if(!this.callEvent("onBeforeDataSending",w?[w,this.getState(w),s]:[null,null,s]))return!1;w&&(this._in_progress[w]=new Date().valueOf());var d=this,m=this.$scheduler.ajax;if(this._tMode!=="CUSTOM"){var p,o={callback:function(S){var D=[];if(w)D.push(w);else if(s)for(var M in s)D.push(M);return d.afterUpdate(d,S,D)},headers:d._headers},c=this.serverProcessor+(this._user?m.urlSeparator(this.serverProcessor)+["dhx_user="+this._user,"dhx_version="+this.$scheduler.getUserData(0,"version")].join("&"):""),u=this._applyPayload(c);switch(this._tMode){case"GET":p=this._cleanupArgumentsBeforeSend(s),o.url=u+m.urlSeparator(u)+this.serialize(p,w),o.method="GET";break;case"POST":p=this._cleanupArgumentsBeforeSend(s),o.url=u,o.method="POST",o.data=this.serialize(p,w);break;case"JSON":p={};var _=this._cleanupItemBeforeSend(s);for(var y in _)y!==this.action_param&&y!=="id"&&y!=="gr_id"&&(p[y]=_[y]);o.url=u,o.method="POST",o.data=JSON.stringify({id:w,action:s[this.action_param],data:p});break;case"REST":case"REST-JSON":switch(u=c.replace(/(&|\?)editing=true/,""),p="",this.getState(w)){case"inserted":o.method="POST",o.data=this.serialize(s,w);break;case"deleted":o.method="DELETE",u=u+(u.slice(-1)==="/"?"":"/")+w;break;default:o.method="PUT",o.data=this.serialize(s,w),u=u+(u.slice(-1)==="/"?"":"/")+w}o.url=this._applyPayload(u)}return this._waitMode++,m.query(o)}var x,v=this.getState(w),E=this.getActionByState(v),b=function(S){var D=v;if(S&&S.responseText&&S.setRequestHeader){S.status!==200&&(D="error");try{S=JSON.parse(S.responseText)}catch{}}D=D||"updated";var M=w,V=w;S&&(D=S.action||D,M=S.sid||M,V=S.id||S.tid||V),d.afterUpdateCallback(M,V,D,S)};if(this._router instanceof Function)x=this._router("event",E,s,w);else switch(v){case"inserted":x=this._router.event.create(s);break;case"deleted":x=this._router.event.delete(w);break;default:x=this._router.event.update(s,w)}if(x){if(!x.then&&x.id===void 0&&x.tid===void 0&&x.action===void 0)throw new Error("Incorrect router return value. A Promise or a response object is expected");x.then?x.then(b).catch(function(S){S&&S.action?b(S):b({action:"error",value:S})}):b(x)}else b(null)}},sendAllData:function(){if(this.updatedRows.length&&this.updateMode!=="off"){this.messages=[];var s=!0;if(this._forEachUpdatedRow(function(w){s=s&&this.checkBeforeUpdate(w)}),!s&&!this.callEvent("onValidationError",["",this.messages]))return!1;this._tSend?this._sendData(this._getAllData()):this._forEachUpdatedRow(function(w){if(!this._in_progress[w]){if(this.is_invalid(w))return;this._beforeSendData(this._getRowData(w),w)}})}},_getAllData:function(s){var w={},d=!1;return this._forEachUpdatedRow(function(m){if(!this._in_progress[m]&&!this.is_invalid(m)){var p=this._getRowData(m);this.callEvent("onBeforeUpdate",[m,this.getState(m),p])&&(w[m]=p,d=!0,this._in_progress[m]=new Date().valueOf())}}),d?w:null},findRow:function(s){var w=0;for(w=0;w<this.updatedRows.length&&s!=this.updatedRows[w];w++);return w},defineAction:function(s,w){this._uActions||(this._uActions={}),this._uActions[s]=w},afterUpdateCallback:function(s,w,d,m){if(this.$scheduler){var p=s,o=d!=="error"&&d!=="invalid";if(o||this.set_invalid(s,d),this._uActions&&this._uActions[d]&&!this._uActions[d](m))return delete this._in_progress[p];this._in_progress[p]!=="wait"&&this.setUpdated(s,!1);var c=s;switch(d){case"inserted":case"insert":w!=s&&(this.setUpdated(s,!1),this.$scheduler[this._methods[2]](s,w),s=w);break;case"delete":case"deleted":return this.$scheduler.setUserData(s,this.action_param,"true_deleted"),this.$scheduler[this._methods[3]](s,w),delete this._in_progress[p],this.callEvent("onAfterUpdate",[s,d,w,m])}this._in_progress[p]!=="wait"?(o&&this.$scheduler.setUserData(s,this.action_param,""),delete this._in_progress[p]):(delete this._in_progress[p],this.setUpdated(w,!0,this.$scheduler.getUserData(s,this.action_param))),this.callEvent("onAfterUpdate",[c,d,w,m])}},_errorResponse:function(s,w){return this.$scheduler&&this.$scheduler.callEvent&&this.$scheduler.callEvent("onSaveError",[w,s.xmlDoc]),this.cleanUpdate(w)},_setDefaultTransactionMode:function(){this.serverProcessor&&(this.setTransactionMode("POST",!0),this.serverProcessor+=(this.serverProcessor.indexOf("?")!==-1?"&":"?")+"editing=true",this._serverProcessor=this.serverProcessor)},afterUpdate:function(s,w,d){var m=this.$scheduler.ajax;if(w.xmlDoc.status===200){var p;try{p=JSON.parse(w.xmlDoc.responseText)}catch{w.xmlDoc.responseText.length||(p={})}if(p){var o=p.action||this.getState(d)||"updated",c=p.sid||d[0],u=p.tid||d[0];return s.afterUpdateCallback(c,u,o,p),void s.finalizeUpdate()}var _=m.xmltop("data",w.xmlDoc);if(!_)return this._errorResponse(w,d);var y=m.xpath("//data/action",_);if(!y.length)return this._errorResponse(w,d);for(var x=0;x<y.length;x++){var v=y[x];o=v.getAttribute("type"),c=v.getAttribute("sid"),u=v.getAttribute("tid"),s.afterUpdateCallback(c,u,o,v)}s.finalizeUpdate()}else this._errorResponse(w,d)},cleanUpdate:function(s){if(s)for(var w=0;w<s.length;w++)delete this._in_progress[s[w]]},finalizeUpdate:function(){this._waitMode&&this._waitMode--,this.callEvent("onAfterUpdateFinish",[]),this.updatedRows.length||this.callEvent("onFullSync",[])},init:function(s){if(!this._initialized){this.$scheduler=s,this.$scheduler._dp_init&&this.$scheduler._dp_init(this),this._setDefaultTransactionMode(),this._methods=this._methods||["_set_event_text_style","","_dp_change_event_id","_dp_hook_delete"],function(d,m){d._validId=function(p){return!0},d.setUserData=function(p,o,c){if(p){var u=this.getEvent(p);u&&(u[o]=c)}else this._userdata[o]=c},d.getUserData=function(p,o){if(p){var c=this.getEvent(p);return c?c[o]:null}return this._userdata[o]},d._set_event_text_style=function(p,o){if(d.getEvent(p)){this.for_rendered(p,function(u){u.style.cssText+=";"+o});var c=this.getEvent(p);c._text_style=o,this.event_updated(c)}},d._update_callback=function(p,o){var c=d._xmlNodeToJSON(p.firstChild);c.rec_type=="none"&&(c.rec_pattern="none"),c.text=c.text||c._tagvalue,c.start_date=d._helpers.parseDate(c.start_date),c.end_date=d._helpers.parseDate(c.end_date),d.addEvent(c),d._add_rec_marker&&d.setCurrentView()},d._dp_change_event_id=function(p,o){d.getEvent(p)&&d.changeEventId(p,o)},d._dp_hook_delete=function(p,o){if(d.getEvent(p))return o&&p!=o&&(this.getUserData(p,m.action_param)=="true_deleted"&&this.setUserData(p,m.action_param,"updated"),this.changeEventId(p,o)),this.deleteEvent(o,!0)},d.setDp=function(){this._dp=m},d.setDp()}(this.$scheduler,this);var w=new function(d,m){this.$scheduler=d,this.$dp=m,this._dataProcessorHandlers=[],this.attach=function(){var p=this.$dp,o=this.$scheduler;this._dataProcessorHandlers.push(o.attachEvent("onEventAdded",function(c){!this._loading&&this._validId(c)&&p.setUpdated(c,!0,"inserted")})),this._dataProcessorHandlers.push(o.attachEvent("onConfirmedBeforeEventDelete",function(c){if(this._validId(c)){var u=p.getState(c);return u=="inserted"||this._new_event?(p.setUpdated(c,!1),!0):u!="deleted"&&(u=="true_deleted"||(p.setUpdated(c,!0,"deleted"),!1))}})),this._dataProcessorHandlers.push(o.attachEvent("onEventChanged",function(c){!this._loading&&this._validId(c)&&p.setUpdated(c,!0,"updated")})),this._dataProcessorHandlers.push(o.attachEvent("onClearAll",function(){p._in_progress={},p._invalid={},p.updatedRows=[],p._waitMode=0})),p.attachEvent("insertCallback",o._update_callback),p.attachEvent("updateCallback",o._update_callback),p.attachEvent("deleteCallback",function(c,u){o.getEvent(u)?(o.setUserData(u,this.action_param,"true_deleted"),o.deleteEvent(u)):o._add_rec_marker&&o._update_callback(c,u)})},this.detach=function(){for(var p in this._dataProcessorHandlers){var o=this._dataProcessorHandlers[p];this.$scheduler.detachEvent(o)}this._dataProcessorHandlers=[]}}(this.$scheduler,this);w.attach(),this.attachEvent("onDestroy",function(){delete this._getRowData,delete this.$scheduler._dp,delete this.$scheduler._dataprocessor,delete this.$scheduler._set_event_text_style,delete this.$scheduler._dp_change_event_id,delete this.$scheduler._dp_hook_delete,delete this.$scheduler,w.detach()}),this.$scheduler.callEvent("onDataProcessorReady",[this]),this._initialized=!0,s._dataprocessor=this}},setOnAfterUpdate:function(s){this.attachEvent("onAfterUpdate",s)},setOnBeforeUpdateHandler:function(s){this.attachEvent("onBeforeDataSending",s)},setAutoUpdate:function(s,w){s=s||2e3,this._user=w||new Date().valueOf(),this._need_update=!1,this._update_busy=!1,this.attachEvent("onAfterUpdate",function(m,p,o,c){this.afterAutoUpdate(m,p,o,c)}),this.attachEvent("onFullSync",function(){this.fullSync()});var d=this;a.a.setInterval(function(){d.loadUpdate()},s)},afterAutoUpdate:function(s,w,d,m){return w!="collision"||(this._need_update=!0,!1)},fullSync:function(){return this._need_update&&(this._need_update=!1,this.loadUpdate()),!0},getUpdates:function(s,w){var d=this.$scheduler.ajax;if(this._update_busy)return!1;this._update_busy=!0,d.get(s,w)},_getXmlNodeValue:function(s){return s.firstChild?s.firstChild.nodeValue:""},loadUpdate:function(){var s=this,w=this.$scheduler.ajax,d=this.$scheduler.getUserData(0,"version"),m=this.serverProcessor+w.urlSeparator(this.serverProcessor)+["dhx_user="+this._user,"dhx_version="+d].join("&");m=m.replace("editing=true&",""),this.getUpdates(m,function(p){var o=w.xpath("//userdata",p);s.$scheduler.setUserData(0,"version",s._getXmlNodeValue(o[0]));var c=w.xpath("//update",p);if(c.length){s._silent_mode=!0;for(var u=0;u<c.length;u++){var _=c[u].getAttribute("status"),y=c[u].getAttribute("id"),x=c[u].getAttribute("parent");switch(_){case"inserted":this.callEvent("insertCallback",[c[u],y,x]);break;case"updated":this.callEvent("updateCallback",[c[u],y,x]);break;case"deleted":this.callEvent("deleteCallback",[c[u],y,x])}}s._silent_mode=!1}s._update_busy=!1,s=null})},destructor:function(){this.callEvent("onDestroy",[]),this.detachAllEvents(),this.updatedRows=[],this._in_progress={},this._invalid={},this._headers=null,this._payload=null,delete this._initialized},url:function(s){this.serverProcessor=this._serverProcessor=s},_serializeAsJSON:function(s){if(typeof s=="string")return s;var w=this.$scheduler.utils.copy(s);return this._tMode==="REST-JSON"&&(delete w.id,delete w[this.action_param]),JSON.stringify(w)},_cleanupArgumentsBeforeSend:function(s){var w;if(s[this.action_param]===void 0)for(var d in w={},s)w[d]=this._cleanupArgumentsBeforeSend(s[d]);else w=this._cleanupItemBeforeSend(s);return w},_cleanupItemBeforeSend:function(s){var w=null;return s&&(s[this.action_param]==="deleted"?((w={}).id=s.id,w[this.action_param]=s[this.action_param]):w=s),w},_forEachUpdatedRow:function(s){for(var w=this.updatedRows.slice(),d=0;d<w.length;d++){var m=w[d];this.$scheduler.getUserData(m,this.action_param)&&s.call(this,m)}},_prepareDataItem:function(s){var w={},d=this.$scheduler,m=d.utils.copy(s);for(var p in m)p.indexOf("_")!==0&&m[p]&&(m[p].getUTCFullYear?w[p]=d._helpers.formatDate(m[p]):ft(m[p])=="object"?w[p]=this._prepareDataItem(m[p]):m[p]===null?w[p]="":w[p]=m[p]);return w[this.action_param]=d.getUserData(s.id,this.action_param),w},_getRowData:function(s){var w=this.$scheduler.getEvent(s);return w||(w={id:s}),this._prepareDataItem(w)}};var xe=function(s){var w="data-dhxbox",d=null;function m(F,B){var Q=F.callback;D.hide(F.box),d=F.box=null,Q&&Q(B)}function p(F){if(d){var B=F.which||F.keyCode,Q=!1;if(M.keyboard){if(B==13||B==32){var re=F.target||F.srcElement;de.getClassName(re).indexOf("scheduler_popup_button")>-1&&re.click?re.click():(m(d,!0),Q=!0)}B==27&&(m(d,!1),Q=!0)}return Q?(F.preventDefault&&F.preventDefault(),!(F.cancelBubble=!0)):void 0}}function o(F){o.cover||(o.cover=document.createElement("div"),s.event(o.cover,"keydown",p),o.cover.className="dhx_modal_cover",document.body.appendChild(o.cover)),o.cover.style.display=F?"inline-block":"none"}function c(F,B,Q){var re=s._waiAria.messageButtonAttrString(F),K=(B||"").toLowerCase().replace(/ /g,"_"),ie="scheduler_".concat(K,"_button dhtmlx_").concat(K,"_button");return"<div ".concat(re," class='scheduler_popup_button dhtmlx_popup_button ").concat(ie,"' data-result='").concat(Q,"' result='").concat(Q,"' ><div>").concat(F,"</div></div>")}function u(F){M.area||(M.area=document.createElement("div"),M.area.className="scheduler_message_area dhtmlx_message_area",M.area.style[M.position]="5px",document.body.appendChild(M.area)),M.hide(F.id);var B=document.createElement("div");return B.innerHTML="<div>"+F.text+"</div>",B.className="scheduler-info dhtmlx-info scheduler-"+F.type+" dhtmlx-"+F.type,s.event(B,"click",function(){M.hide(F.id),F=null}),s._waiAria.messageInfoAttr(B),M.position=="bottom"&&M.area.firstChild?M.area.insertBefore(B,M.area.firstChild):M.area.appendChild(B),F.expire>0&&(M.timers[F.id]=window.setTimeout(function(){M&&M.hide(F.id)},F.expire)),M.pull[F.id]=B,B=null,F.id}function _(){for(var F=[].slice.apply(arguments,[0]),B=0;B<F.length;B++)if(F[B])return F[B]}function y(F,B,Q){var re=F.tagName?F:function(G,te,J){var we=document.createElement("div"),Ce=U.uid();s._waiAria.messageModalAttr(we,Ce),we.className=" scheduler_modal_box dhtmlx_modal_box scheduler-"+G.type+" dhtmlx-"+G.type,we.setAttribute(w,1);var Ee="";if(G.width&&(we.style.width=G.width),G.height&&(we.style.height=G.height),G.title&&(Ee+='<div class="scheduler_popup_title dhtmlx_popup_title">'+G.title+"</div>"),Ee+='<div class="scheduler_popup_text dhtmlx_popup_text" id="'+Ce+'"><span>'+(G.content?"":G.text)+'</span></div><div  class="scheduler_popup_controls dhtmlx_popup_controls">',te&&(Ee+=c(_(G.ok,s.locale.labels.message_ok,"OK"),"ok",!0)),J&&(Ee+=c(_(G.cancel,s.locale.labels.message_cancel,"Cancel"),"cancel",!1)),G.buttons)for(var Ie=0;Ie<G.buttons.length;Ie++){var Ne=G.buttons[Ie];fe(Ne)=="object"?Ee+=c(Ne.label,Ne.css||"scheduler_"+Ne.label.toLowerCase()+"_button dhtmlx_"+Ne.label.toLowerCase()+"_button",Ne.value||Ie):Ee+=c(Ne,Ne,Ie)}if(Ee+="</div>",we.innerHTML=Ee,G.content){var Ue=G.content;typeof Ue=="string"&&(Ue=document.getElementById(Ue)),Ue.style.display=="none"&&(Ue.style.display=""),we.childNodes[G.title?1:0].appendChild(Ue)}return s.event(we,"click",function(We){var et=We.target||We.srcElement;if(et.className||(et=et.parentNode),de.closest(et,".scheduler_popup_button")){var Mt=et.getAttribute("data-result");m(G,Mt=Mt=="true"||Mt!="false"&&Mt)}}),G.box=we,(te||J)&&(d=G),we}(F,B,Q);F.hidden||o(!0),document.body.appendChild(re);var K=Math.abs(Math.floor(((window.innerWidth||document.documentElement.offsetWidth)-re.offsetWidth)/2)),ie=Math.abs(Math.floor(((window.innerHeight||document.documentElement.offsetHeight)-re.offsetHeight)/2));return F.position=="top"?re.style.top="-3px":re.style.top=ie+"px",re.style.left=K+"px",s.event(re,"keydown",p),D.focus(re),F.hidden&&D.hide(re),s.callEvent("onMessagePopup",[re]),re}function x(F){return y(F,!0,!1)}function v(F){return y(F,!0,!0)}function E(F){return y(F)}function b(F,B,Q){return fe(F)!="object"&&(typeof B=="function"&&(Q=B,B=""),F={text:F,type:B,callback:Q}),F}function S(F,B,Q,re){return fe(F)!="object"&&(F={text:F,type:B,expire:Q,id:re}),F.id=F.id||U.uid(),F.expire=F.expire||M.expire,F}s.event(document,"keydown",p,!0);var D=function(){var F=b.apply(this,arguments);return F.type=F.type||"alert",E(F)};D.hide=function(F){for(;F&&F.getAttribute&&!F.getAttribute(w);)F=F.parentNode;F&&(F.parentNode.removeChild(F),o(!1),s.callEvent("onAfterMessagePopup",[F]))},D.focus=function(F){setTimeout(function(){var B=de.getFocusableNodes(F);B.length&&B[0].focus&&B[0].focus()},1)};var M=function(F,B,Q,re){switch((F=S.apply(this,arguments)).type=F.type||"info",F.type.split("-")[0]){case"alert":return x(F);case"confirm":return v(F);case"modalbox":return E(F);default:return u(F)}};M.seed=new Date().valueOf(),M.uid=U.uid,M.expire=4e3,M.keyboard=!0,M.position="top",M.pull={},M.timers={},M.hideAll=function(){for(var F in M.pull)M.hide(F)},M.hide=function(F){var B=M.pull[F];B&&B.parentNode&&(window.setTimeout(function(){B.parentNode.removeChild(B),B=null},2e3),B.className+=" hidden",M.timers[F]&&window.clearTimeout(M.timers[F]),delete M.pull[F])};var V=[];return s.attachEvent("onMessagePopup",function(F){V.push(F)}),s.attachEvent("onAfterMessagePopup",function(F){for(var B=0;B<V.length;B++)V[B]===F&&(V.splice(B,1),B--)}),s.attachEvent("onDestroy",function(){o.cover&&o.cover.parentNode&&o.cover.parentNode.removeChild(o.cover);for(var F=0;F<V.length;F++)V[F].parentNode&&V[F].parentNode.removeChild(V[F]);V=null,M.area&&M.area.parentNode&&M.area.parentNode.removeChild(M.area),M=null}),{alert:function(){var F=b.apply(this,arguments);return F.type=F.type||"confirm",x(F)},confirm:function(){var F=b.apply(this,arguments);return F.type=F.type||"alert",v(F)},message:M,modalbox:D}},Te={date:{month_full:["\u0643\u0627\u0646\u0648\u0646 \u0627\u0644\u062B\u0627\u0646\u064A","\u0634\u0628\u0627\u0637","\u0622\u0630\u0627\u0631","\u0646\u064A\u0633\u0627\u0646","\u0623\u064A\u0627\u0631","\u062D\u0632\u064A\u0631\u0627\u0646","\u062A\u0645\u0648\u0632","\u0622\u0628","\u0623\u064A\u0644\u0648\u0644","\u062A\u0634\u0631\u064A\u0646 \u0627\u0644\u0623\u0648\u0644","\u062A\u0634\u0631\u064A\u0646 \u0627\u0644\u062B\u0627\u0646\u064A","\u0643\u0627\u0646\u0648\u0646 \u0627\u0644\u0623\u0648\u0644"],month_short:["\u064A\u0646\u0627\u064A\u0631","\u0641\u0628\u0631\u0627\u064A\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064A\u0644","\u0645\u0627\u064A\u0648","\u064A\u0648\u0646\u064A\u0648","\u064A\u0648\u0644\u064A\u0648","\u0623\u063A\u0633\u0637\u0633","\u0633\u0628\u062A\u0645\u0628\u0631","\u0623\u0643\u062A\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062F\u064A\u0633\u0645\u0628\u0631"],day_full:["\u0627\u0644\u0623\u062D\u062F","\u0627\u0644\u0623\u062B\u0646\u064A\u0646","\u0623\u0644\u062B\u0644\u0627\u062B\u0627\u0621","\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621","\u0623\u0644\u062D\u0645\u064A\u0633","\u0623\u0644\u062C\u0645\u0639\u0629","\u0627\u0644\u0633\u0628\u062A"],day_short:["\u0627\u062D\u062F","\u0627\u062B\u0646\u064A\u0646","\u062B\u0644\u0627\u062B\u0627\u0621","\u0627\u0631\u0628\u0639\u0627\u0621","\u062E\u0645\u064A\u0633","\u062C\u0645\u0639\u0629","\u0633\u0628\u062A"]},labels:{dhx_cal_today_button:"\u0627\u0644\u064A\u0648\u0645",day_tab:"\u064A\u0648\u0645",week_tab:"\u0623\u0633\u0628\u0648\u0639",month_tab:"\u0634\u0647\u0631",new_event:"\u062D\u062F\u062B \u062C\u062F\u064A\u062F",icon_save:"\u0627\u062E\u0632\u0646",icon_cancel:"\u0627\u0644\u063A\u0627\u0621",icon_details:"\u062A\u0641\u0627\u0635\u064A\u0644",icon_edit:"\u062A\u062D\u0631\u064A\u0631",icon_delete:"\u062D\u0630\u0641",confirm_closing:"\u0627\u0644\u062A\u063A\u064A\u064A\u0631\u0627\u062A \u0633\u0648\u0641 \u062A\u0636\u064A\u0639, \u0647\u0644 \u0627\u0646\u062A \u0645\u062A\u0623\u0643\u062F\u061F",confirm_deleting:"\u0627\u0644\u062D\u062F\u062B \u0633\u064A\u062A\u0645 \u062D\u0630\u0641\u0647\u0627 \u0646\u0647\u0627\u0626\u064A\u0627 \u060C \u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F\u061F",section_description:"\u0627\u0644\u0648\u0635\u0641",section_time:"\u0627\u0644\u0641\u062A\u0631\u0629 \u0627\u0644\u0632\u0645\u0646\u064A\u0629",full_day:"\u0637\u0648\u0627\u0644 \u0627\u0644\u064A\u0648\u0645",confirm_recurring:"\u0647\u0644 \u062A\u0631\u064A\u062F \u062A\u062D\u0631\u064A\u0631 \u0645\u062C\u0645\u0648\u0639\u0629 \u0643\u0627\u0645\u0644\u0629 \u0645\u0646 \u0627\u0644\u0623\u062D\u062F\u0627\u062B \u0627\u0644\u0645\u062A\u0643\u0631\u0631\u0629\u061F",section_recurring:"\u062A\u0643\u0631\u0627\u0631 \u0627\u0644\u062D\u062F\u062B",button_recurring:"\u062A\u0639\u0637\u064A\u0644",button_recurring_open:"\u062A\u0645\u0643\u064A\u0646",button_edit_series:"\u062A\u062D\u0631\u064A\u0631 \u0633\u0644\u0633\u0644\u0629",button_edit_occurrence:"\u062A\u0639\u062F\u064A\u0644 \u0646\u0633\u062E\u0629",grid_tab:"\u062C\u062F\u0648\u0644",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute"}},Be={date:{month_full:["\u0421\u0442\u0443\u0434\u0437\u0435\u043D\u044C","\u041B\u044E\u0442\u044B","\u0421\u0430\u043A\u0430\u0432\u0456\u043A","\u041A\u0440\u0430\u0441\u0430\u0432\u0456\u043A","Ma\u0439","\u0427\u044D\u0440\u0432\u0435\u043D\u044C","\u041B\u0456\u043F\u0435\u043D\u044C","\u0416\u043D\u0456\u0432\u0435\u043D\u044C","\u0412\u0435\u0440\u0430\u0441\u0435\u043D\u044C","\u041A\u0430\u0441\u0442\u0440\u044B\u0447\u043D\u0456\u043A","\u041B\u0456\u0441\u0442\u0430\u043F\u0430\u0434","\u0421\u043D\u0435\u0436\u0430\u043D\u044C"],month_short:["\u0421\u0442\u0443\u0434\u0437","\u041B\u044E\u0442","\u0421\u0430\u043A","\u041A\u0440\u0430\u0441","Ma\u0439","\u0427\u044D\u0440","\u041B\u0456\u043F","\u0416\u043D\u0456\u0432","\u0412\u0435\u0440","\u041A\u0430\u0441\u0442","\u041B\u0456\u0441\u0442","\u0421\u043D\u0435\u0436"],day_full:["\u041D\u044F\u0434\u0437\u0435\u043B\u044F","\u041F\u0430\u043D\u044F\u0434\u0437\u0435\u043B\u0430\u043A","\u0410\u045E\u0442\u043E\u0440\u0430\u043A","\u0421\u0435\u0440\u0430\u0434\u0430","\u0427\u0430\u0446\u0432\u0435\u0440","\u041F\u044F\u0442\u043D\u0456\u0446\u0430","\u0421\u0443\u0431\u043E\u0442\u0430"],day_short:["\u041D\u0434","\u041F\u043D","\u0410\u045E\u0442","\u0421\u0440","\u0427\u0446\u0432","\u041F\u0442","\u0421\u0431"]},labels:{dhx_cal_today_button:"\u0421\u0451\u043D\u043D\u044F",day_tab:"\u0414\u0437\u0435\u043D\u044C",week_tab:"\u0422\u044B\u0434\u0437\u0435\u043D\u044C",month_tab:"\u041C\u0435\u0441\u044F\u0446",new_event:"\u041D\u043E\u0432\u0430\u044F \u043F\u0430\u0434\u0437\u0435\u044F",icon_save:"\u0417\u0430\u0445\u0430\u0432\u0430\u0446\u044C",icon_cancel:"\u0410\u0434\u043C\u044F\u043D\u0456\u0446\u044C",icon_details:"\u0414\u044D\u0442\u0430\u043B\u0456",icon_edit:"\u0417\u043C\u044F\u043D\u0456\u0446\u044C",icon_delete:"\u0412\u044B\u0434\u0430\u043B\u0456\u0446\u044C",confirm_closing:"",confirm_deleting:"\u041F\u0430\u0434\u0437\u0435\u044F \u0431\u0443\u0434\u0437\u0435 \u0432\u044B\u0434\u0430\u043B\u0435\u043D\u0430 \u043D\u0435\u0437\u0432\u0430\u0440\u043E\u0442\u043D\u0430, \u043F\u0440\u0430\u0446\u044F\u0433\u043D\u0443\u0446\u044C?",section_description:"\u0410\u043F\u0456\u0441\u0430\u043D\u043D\u0435",section_time:"\u041F\u0435\u0440\u044B\u044F\u0434 \u0447\u0430\u0441\u0443",full_day:"\u0423\u0432\u0435\u0441\u044C \u0434\u0437\u0435\u043D\u044C",confirm_recurring:"\u0412\u044B \u0445\u043E\u0447\u0430\u0446\u0435 \u0437\u043C\u044F\u043D\u0456\u0446\u044C \u0443\u0441\u044E \u0441\u0435\u0440\u044B\u044E \u043F\u0430\u045E\u0442\u0430\u0440\u0430\u043B\u044C\u043D\u044B\u0445 \u043F\u0430\u0434\u0437\u0435\u0439?",section_recurring:"\u041F\u0430\u045E\u0442\u0430\u0440\u044D\u043D\u043D\u0435",button_recurring:"\u0410\u0434\u043A\u043B\u044E\u0447\u0430\u043D\u0430",button_recurring_open:"\u0423\u043A\u043B\u044E\u0447\u0430\u043D\u0430",button_edit_series:"\u0420\u044D\u0434\u0430\u0433\u0430\u0432\u0430\u0446\u044C \u0441\u0435\u0440\u044B\u044E",button_edit_occurrence:"\u0420\u044D\u0434\u0430\u0433\u0430\u0432\u0430\u0446\u044C \u0430\u0441\u043E\u0431\u043D\u0456\u043A",agenda_tab:"\u0421\u043F\u0456\u0441",date:"\u0414\u0430\u0442\u0430",description:"\u0410\u043F\u0456\u0441\u0430\u043D\u043D\u0435",year_tab:"\u0413\u043E\u0434",week_agenda_tab:"\u0421\u043F\u0456\u0441",grid_tab:"\u0421\u043Fic",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"\u0414\u0437\u0435\u043D\u044C",repeat_radio_week:"\u0422\u044B\u0434\u0437\u0435\u043D\u044C",repeat_radio_month:"\u041C\u0435\u0441\u044F\u0446",repeat_radio_year:"\u0413\u043E\u0434",repeat_radio_day_type:"\u041A\u043E\u0436\u043D\u044B",repeat_text_day_count:"\u0434\u0437\u0435\u043D\u044C",repeat_radio_day_type2:"\u041A\u043E\u0436\u043D\u044B \u043F\u0440\u0430\u0446\u043E\u045E\u043D\u044B \u0434\u0437\u0435\u043D\u044C",repeat_week:" \u041F\u0430\u045E\u0442\u0430\u0440\u0430\u0446\u044C \u043A\u043E\u0436\u043D\u044B",repeat_text_week_count:"\u0442\u044B\u0434\u0437\u0435\u043D\u044C",repeat_radio_month_type:"\u041F\u0430\u045E\u0442\u0430\u0440\u0430\u0446\u044C",repeat_radio_month_start:"",repeat_text_month_day:" \u0447\u044B\u0441\u043B\u0430 \u043A\u043E\u0436\u043D\u0430\u0433\u0430",repeat_text_month_count:"\u043C\u0435\u0441\u044F\u0446\u0443",repeat_text_month_count2_before:"\u043A\u043E\u0436\u043D\u044B ",repeat_text_month_count2_after:"\u043C\u0435\u0441\u044F\u0446",repeat_year_label:"",select_year_day2:"",repeat_text_year_day:"\u0434\u0435\u043D\u044C",select_year_month:"",repeat_radio_end:"\u0411\u0435\u0437 \u0434\u0430\u0442\u044B \u0437\u0430\u043A\u0430\u043D\u0447\u044D\u043D\u043D\u044F",repeat_text_occurences_count:"\u043F\u0430\u045E\u0442\u043E\u0440\u0430\u045E",repeat_radio_end2:"",repeat_radio_end3:"\u0414\u0430 ",month_for_recurring:["\u0421\u0442\u0443\u0434\u0437\u0435\u043D\u044F","\u041B\u044E\u0442\u0430\u0433\u0430","\u0421\u0430\u043A\u0430\u0432\u0456\u043A\u0430","\u041A\u0440\u0430\u0441\u0430\u0432\u0456\u043A\u0430","\u041C\u0430\u044F","\u0427\u044D\u0440\u0432\u0435\u043D\u044F","\u041B\u0456\u043Fe\u043D\u044F","\u0416\u043D\u0456\u045E\u043D\u044F","\u0412\u0435\u0440\u0430\u0441\u043D\u044F","\u041A\u0430\u0441\u0442\u0440\u044B\u0447\u043D\u0456\u043A\u0430","\u041B\u0456\u0441\u0442\u0430\u043F\u0430\u0434\u0430","\u0421\u043D\u0435\u0436\u043D\u044F"],day_for_recurring:["\u041D\u044F\u0434\u0437\u0435\u043B\u044E","\u041F\u0430\u043D\u044F\u0434\u0437\u0435\u043B\u0430\u043A","\u0410\u045E\u0442\u043E\u0440\u0430\u043A","\u0421\u0435\u0440\u0430\u0434\u0443","\u0427\u0430\u0446\u0432\u0435\u0440","\u041F\u044F\u0442\u043D\u0456\u0446\u0443","\u0421\u0443\u0431\u043E\u0442\u0443"]}},He={date:{month_full:["Gener","Febrer","Mar\xE7","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"],month_short:["Gen","Feb","Mar","Abr","Mai","Jun","Jul","Ago","Set","Oct","Nov","Des"],day_full:["Diumenge","Dilluns","Dimarts","Dimecres","Dijous","Divendres","Dissabte"],day_short:["Dg","Dl","Dm","Dc","Dj","Dv","Ds"]},labels:{dhx_cal_today_button:"Hui",day_tab:"Dia",week_tab:"Setmana",month_tab:"Mes",new_event:"Nou esdeveniment",icon_save:"Guardar",icon_cancel:"Cancel\xB7lar",icon_details:"Detalls",icon_edit:"Editar",icon_delete:"Esborrar",confirm_closing:"",confirm_deleting:"L'esdeveniment s'esborrar\xE0 definitivament, continuar ?",section_description:"Descripci\xF3",section_time:"Periode de temps",full_day:"Tot el dia",confirm_recurring:"\xBFDesitja modificar el conjunt d'esdeveniments repetits?",section_recurring:"Repeteixca l'esdeveniment",button_recurring:"Impedit",button_recurring_open:"Perm\xE9s",button_edit_series:"Edit s\xE8rie",button_edit_occurrence:"Edita Inst\xE0ncia",agenda_tab:"Agenda",date:"Data",description:"Descripci\xF3",year_tab:"Any",week_agenda_tab:"Agenda",grid_tab:"Taula",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute"}},oe={date:{month_full:["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"],month_short:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],day_full:["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"],day_short:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"]},labels:{dhx_cal_today_button:"\u4ECA\u5929",day_tab:"\u65E5",week_tab:"\u5468",month_tab:"\u6708",new_event:"\u65B0\u5EFA\u65E5\u7A0B",icon_save:"\u4FDD\u5B58",icon_cancel:"\u5173\u95ED",icon_details:"\u8BE6\u7EC6",icon_edit:"\u7F16\u8F91",icon_delete:"\u5220\u9664",confirm_closing:"\u8BF7\u786E\u8BA4\u662F\u5426\u64A4\u9500\u4FEE\u6539!",confirm_deleting:"\u662F\u5426\u5220\u9664\u65E5\u7A0B?",section_description:"\u63CF\u8FF0",section_time:"\u65F6\u95F4\u8303\u56F4",full_day:"\u6574\u5929",confirm_recurring:"\u8BF7\u786E\u8BA4\u662F\u5426\u5C06\u65E5\u7A0B\u8BBE\u4E3A\u91CD\u590D\u6A21\u5F0F?",section_recurring:"\u91CD\u590D\u5468\u671F",button_recurring:"\u7981\u7528",button_recurring_open:"\u542F\u7528",button_edit_series:"\u7F16\u8F91\u7CFB\u5217",button_edit_occurrence:"\u7F16\u8F91\u5B9E\u4F8B",agenda_tab:"\u8BAE\u7A0B",date:"\u65E5\u671F",description:"\u8BF4\u660E",year_tab:"\u4ECA\u5E74",week_agenda_tab:"\u8BAE\u7A0B",grid_tab:"\u7535\u7F51",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"\u6309\u5929",repeat_radio_week:"\u6309\u5468",repeat_radio_month:"\u6309\u6708",repeat_radio_year:"\u6309\u5E74",repeat_radio_day_type:"\u6BCF",repeat_text_day_count:"\u5929",repeat_radio_day_type2:"\u6BCF\u4E2A\u5DE5\u4F5C\u65E5",repeat_week:" \u91CD\u590D \u6BCF",repeat_text_week_count:"\u661F\u671F\u7684:",repeat_radio_month_type:"\u91CD\u590D",repeat_radio_month_start:"\u5728",repeat_text_month_day:"\u65E5 \u6BCF",repeat_text_month_count:"\u6708",repeat_text_month_count2_before:"\u6BCF",repeat_text_month_count2_after:"\u6708",repeat_year_label:"\u5728",select_year_day2:"\u7684",repeat_text_year_day:"\u65E5",select_year_month:"\u6708",repeat_radio_end:"\u65E0\u7ED3\u675F\u65E5\u671F",repeat_text_occurences_count:"\u6B21\u7ED3\u675F",repeat_radio_end2:"\u91CD\u590D",repeat_radio_end3:"\u7ED3\u675F\u4E8E",month_for_recurring:["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"],day_for_recurring:["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"]}},Le={date:{month_full:["Leden","\xDAnor","B\u0159ezen","Duben","Kv\u011Bten","\u010Cerven","\u010Cervenec","Srpen","Z\xE1\u0159\xED","\u0158\xEDjen","Listopad","Prosinec"],month_short:["Led","\xDAn","B\u0159e","Dub","Kv\u011B","\u010Cer","\u010Cec","Srp","Z\xE1\u0159\xED","\u0158\xEDj","List","Pro"],day_full:["Ned\u011Ble","Pond\u011Bl\xED","\xDAter\xFD","St\u0159eda","\u010Ctvrtek","P\xE1tek","Sobota"],day_short:["Ne","Po","\xDAt","St","\u010Ct","P\xE1","So"]},labels:{dhx_cal_today_button:"Dnes",day_tab:"Den",week_tab:"T\xFDden",month_tab:"M\u011Bs\xEDc",new_event:"Nov\xE1 ud\xE1lost",icon_save:"Ulo\u017Eit",icon_cancel:"Zp\u011Bt",icon_details:"Detail",icon_edit:"Edituj",icon_delete:"Smazat",confirm_closing:"",confirm_deleting:"Ud\xE1lost bude trvale smaz\xE1na, opravdu?",section_description:"Pozn\xE1mky",section_time:"Doba platnosti",confirm_recurring:"P\u0159ejete si upravit celou \u0159adu opakovan\xFDch ud\xE1lost\xED?",section_recurring:"Opakov\xE1n\xED ud\xE1losti",button_recurring:"Vypnuto",button_recurring_open:"Zapnuto",button_edit_series:"Edit series",button_edit_occurrence:"Upravit instance",agenda_tab:"Program",date:"Datum",description:"Pozn\xE1mka",year_tab:"Rok",full_day:"Full day",week_agenda_tab:"Program",grid_tab:"M\u0159\xED\u017Eka",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Denn\u011B",repeat_radio_week:"T\xFDdn\u011B",repeat_radio_month:"M\u011Bs\xED\u010Dn\u011B",repeat_radio_year:"Ro\u010Dn\u011B",repeat_radio_day_type:"ka\u017Ed\xFD",repeat_text_day_count:"Den",repeat_radio_day_type2:"pracovn\xED dny",repeat_week:"Opakuje ka\u017Ed\xFDch",repeat_text_week_count:"T\xFDdn\u016F na:",repeat_radio_month_type:"u ka\u017Ed\xE9ho",repeat_radio_month_start:"na",repeat_text_month_day:"Den ka\u017Ed\xE9ho",repeat_text_month_count:"M\u011Bs\xEDc",repeat_text_month_count2_before:"ka\u017Ed\xFD",repeat_text_month_count2_after:"M\u011Bs\xEDc",repeat_year_label:"na",select_year_day2:"v",repeat_text_year_day:"Den v",select_year_month:"",repeat_radio_end:"bez data ukon\u010Den\xED",repeat_text_occurences_count:"Ud\xE1losti",repeat_radio_end2:"po",repeat_radio_end3:"Konec",month_for_recurring:["Leden","\xDAnor","B\u0159ezen","Duben","Kv\u011Bten","\u010Cerven","\u010Cervenec","Srpen","Z\xE1\u0159\xED","\u0158\xEDjen","Listopad","Prosinec"],day_for_recurring:["Ned\u011Ble ","Pond\u011Bl\xED","\xDAter\xFD","St\u0159eda","\u010Ctvrtek","P\xE1tek","Sobota"]}},it={date:{month_full:["Januar","Februar","Marts","April","Maj","Juni","Juli","August","September","Oktober","November","December"],month_short:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["S\xF8ndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","L\xF8rdag"],day_short:["S\xF8n","Man","Tir","Ons","Tor","Fre","L\xF8r"]},labels:{dhx_cal_today_button:"Idag",day_tab:"Dag",week_tab:"Uge",month_tab:"M\xE5ned",new_event:"Ny begivenhed",icon_save:"Gem",icon_cancel:"Fortryd",icon_details:"Detaljer",icon_edit:"Tilret",icon_delete:"Slet",confirm_closing:"Dine rettelser vil g\xE5 tabt.. Er dy sikker?",confirm_deleting:"Bigivenheden vil blive slettet permanent. Er du sikker?",section_description:"Beskrivelse",section_time:"Tidsperiode",confirm_recurring:"Vil du tilrette hele serien af gentagne begivenheder?",section_recurring:"Gentag begivenhed",button_recurring:"Frakoblet",button_recurring_open:"Tilkoblet",button_edit_series:"Rediger serien",button_edit_occurrence:"Rediger en kopi",agenda_tab:"Dagsorden",date:"Dato",description:"Beskrivelse",year_tab:"\xC5r",week_agenda_tab:"Dagsorden",grid_tab:"Grid",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Daglig",repeat_radio_week:"Ugenlig",repeat_radio_month:"M\xE5nedlig",repeat_radio_year:"\xC5rlig",repeat_radio_day_type:"Hver",repeat_text_day_count:"dag",repeat_radio_day_type2:"P\xE5 hver arbejdsdag",repeat_week:" Gentager sig hver",repeat_text_week_count:"uge p\xE5 f\xF8lgende dage:",repeat_radio_month_type:"Hver den",repeat_radio_month_start:"Den",repeat_text_month_day:" i hver",repeat_text_month_count:"m\xE5ned",repeat_text_month_count2_before:"hver",repeat_text_month_count2_after:"m\xE5ned",repeat_year_label:"Den",select_year_day2:"i",repeat_text_year_day:"dag i",select_year_month:"",repeat_radio_end:"Ingen slutdato",repeat_text_occurences_count:"gentagelse",repeat_radio_end2:"Efter",repeat_radio_end3:"Slut",month_for_recurring:["Januar","Februar","M\xE4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],day_for_recurring:["S\xF8ndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","L\xF8rdag"]}},rt={date:{month_full:[" Januar"," Februar"," M\xE4rz "," April"," Mai"," Juni"," Juli"," August"," September "," Oktober"," November "," Dezember"],month_short:["Jan","Feb","M\xE4r","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],day_full:["Sonntag","Montag","Dienstag"," Mittwoch"," Donnerstag","Freitag","Samstag"],day_short:["So","Mo","Di","Mi","Do","Fr","Sa"]},labels:{dhx_cal_today_button:"Heute",day_tab:"Tag",week_tab:"Woche",month_tab:"Monat",new_event:"neuer Eintrag",icon_save:"Speichern",icon_cancel:"Abbrechen",icon_details:"Details",icon_edit:"\xC4ndern",icon_delete:"L\xF6schen",confirm_closing:"",confirm_deleting:"Der Eintrag wird gel\xF6scht",section_description:"Beschreibung",section_time:"Zeitspanne",full_day:"Ganzer Tag",confirm_recurring:"Wollen Sie alle Eintr\xE4ge bearbeiten oder nur diesen einzelnen Eintrag?",section_recurring:"Wiederholung",button_recurring:"Aus",button_recurring_open:"An",button_edit_series:"Bearbeiten Sie die Serie",button_edit_occurrence:"Bearbeiten Sie eine Kopie",agenda_tab:"Agenda",date:"Datum",description:"Beschreibung",year_tab:"Jahre",week_agenda_tab:"Agenda",grid_tab:"Grid",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"T\xE4glich",repeat_radio_week:"W\xF6chentlich",repeat_radio_month:"Monatlich",repeat_radio_year:"J\xE4hrlich",repeat_radio_day_type:"jeden",repeat_text_day_count:"Tag",repeat_radio_day_type2:"an jedem Arbeitstag",repeat_week:" Wiederholt sich jede",repeat_text_week_count:"Woche am:",repeat_radio_month_type:"an jedem",repeat_radio_month_start:"am",repeat_text_month_day:"Tag eines jeden",repeat_text_month_count:"Monats",repeat_text_month_count2_before:"jeden",repeat_text_month_count2_after:"Monats",repeat_year_label:"am",select_year_day2:"im",repeat_text_year_day:"Tag im",select_year_month:"",repeat_radio_end:"kein Enddatum",repeat_text_occurences_count:"Ereignissen",repeat_radio_end3:"Schlu\xDF",repeat_radio_end2:"nach",month_for_recurring:["Januar","Februar","M\xE4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],day_for_recurring:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"]}},Ge={date:{month_full:["\u0399\u03B1\u03BD\u03BF\u03C5\u03AC\u03C1\u03B9\u03BF\u03C2","\u03A6\u03B5\u03B2\u03C1\u03BF\u03C5\u03AC\u03C1\u03B9\u03BF\u03C2","\u039C\u03AC\u03C1\u03C4\u03B9\u03BF\u03C2","\u0391\u03C0\u03C1\u03AF\u03BB\u03B9\u03BF\u03C2","\u039C\u03AC\u03CA\u03BF\u03C2","\u0399\u03BF\u03CD\u03BD\u03B9\u03BF\u03C2","\u0399\u03BF\u03CD\u03BB\u03B9\u03BF\u03C2","\u0391\u03CD\u03B3\u03BF\u03C5\u03C3\u03C4\u03BF\u03C2","\u03A3\u03B5\u03C0\u03C4\u03AD\u03BC\u03B2\u03C1\u03B9\u03BF\u03C2","\u039F\u03BA\u03C4\u03CE\u03B2\u03C1\u03B9\u03BF\u03C2","\u039D\u03BF\u03AD\u03BC\u03B2\u03C1\u03B9\u03BF\u03C2","\u0394\u03B5\u03BA\u03AD\u03BC\u03B2\u03C1\u03B9\u03BF\u03C2"],month_short:["\u0399\u0391\u039D","\u03A6\u0395\u0392","\u039C\u0391\u03A1","\u0391\u03A0\u03A1","\u039C\u0391\u0399","\u0399\u039F\u03A5\u039D","\u0399\u039F\u03A5\u039B","\u0391\u03A5\u0393","\u03A3\u0395\u03A0","\u039F\u039A\u03A4","\u039D\u039F\u0395","\u0394\u0395\u039A"],day_full:["\u039A\u03C5\u03C1\u03B9\u03B1\u03BA\u03AE","\u0394\u03B5\u03C5\u03C4\u03AD\u03C1\u03B1","\u03A4\u03C1\u03AF\u03C4\u03B7","\u03A4\u03B5\u03C4\u03AC\u03C1\u03C4\u03B7","\u03A0\u03AD\u03BC\u03C0\u03C4\u03B7","\u03A0\u03B1\u03C1\u03B1\u03C3\u03BA\u03B5\u03C5\u03AE","\u039A\u03C5\u03C1\u03B9\u03B1\u03BA\u03AE"],day_short:["\u039A\u03A5","\u0394\u0395","\u03A4\u03A1","\u03A4\u0395","\u03A0\u0395","\u03A0\u0391","\u03A3\u0391"]},labels:{dhx_cal_today_button:"\u03A3\u03AE\u03BC\u03B5\u03C1\u03B1",day_tab:"\u0397\u03BC\u03AD\u03C1\u03B1",week_tab:"\u0395\u03B2\u03B4\u03BF\u03BC\u03AC\u03B4\u03B1",month_tab:"\u039C\u03AE\u03BD\u03B1\u03C2",new_event:"\u039D\u03AD\u03BF \u03AD\u03C1\u03B3\u03BF",icon_save:"\u0391\u03C0\u03BF\u03B8\u03AE\u03BA\u03B5\u03C5\u03C3\u03B7",icon_cancel:"\u0386\u03BA\u03C5\u03C1\u03BF",icon_details:"\u039B\u03B5\u03C0\u03C4\u03BF\u03BC\u03AD\u03C1\u03B5\u03B9\u03B5\u03C2",icon_edit:"\u0395\u03C0\u03B5\u03BE\u03B5\u03C1\u03B3\u03B1\u03C3\u03AF\u03B1",icon_delete:"\u0394\u03B9\u03B1\u03B3\u03C1\u03B1\u03C6\u03AE",confirm_closing:"",confirm_deleting:"\u03A4\u03BF \u03AD\u03C1\u03B3\u03BF \u03B8\u03B1 \u03B4\u03B9\u03B1\u03B3\u03C1\u03B1\u03C6\u03B5\u03AF \u03BF\u03C1\u03B9\u03C3\u03C4\u03B9\u03BA\u03AC. \u0398\u03AD\u03BB\u03B5\u03C4\u03B5 \u03BD\u03B1 \u03C3\u03C5\u03BD\u03B5\u03C7\u03AF\u03C3\u03B5\u03C4\u03B5;",section_description:"\u03A0\u03B5\u03C1\u03B9\u03B3\u03C1\u03B1\u03C6\u03AE",section_time:"\u03A7\u03C1\u03BF\u03BD\u03B9\u03BA\u03AE \u03C0\u03B5\u03C1\u03AF\u03BF\u03B4\u03BF\u03C2",full_day:"\u03A0\u03BB\u03AE\u03C1\u03B7\u03C2 \u0397\u03BC\u03AD\u03C1\u03B1",confirm_recurring:"\u0398\u03AD\u03BB\u03B5\u03C4\u03B5 \u03BD\u03B1 \u03B5\u03C0\u03B5\u03BE\u03B5\u03C1\u03B3\u03B1\u03C3\u03B8\u03B5\u03AF\u03C4\u03B5 \u03BF\u03BB\u03CC\u03BA\u03BB\u03B7\u03C1\u03B7 \u03C4\u03B7\u03BD \u03BF\u03BC\u03AC\u03B4\u03B1 \u03C4\u03C9\u03BD \u03B5\u03C0\u03B1\u03BD\u03B1\u03BB\u03B1\u03BC\u03B2\u03B1\u03BD\u03CC\u03BC\u03B5\u03BD\u03C9\u03BD \u03AD\u03C1\u03B3\u03C9\u03BD;",section_recurring:"\u0395\u03C0\u03B1\u03BD\u03B1\u03BB\u03B1\u03BC\u03B2\u03B1\u03BD\u03CC\u03BC\u03B5\u03BD\u03BF \u03AD\u03C1\u03B3\u03BF",button_recurring:"\u0391\u03BD\u03B5\u03BD\u03B5\u03C1\u03B3\u03CC",button_recurring_open:"\u0395\u03BD\u03B5\u03C1\u03B3\u03CC",button_edit_series:"\u0395\u03C0\u03B5\u03BE\u03B5\u03C1\u03B3\u03B1\u03C3\u03C4\u03B5\u03AF\u03C4\u03B5 \u03C4\u03B7 \u03C3\u03B5\u03B9\u03C1\u03AC",button_edit_occurrence:"\u0395\u03C0\u03B5\u03BE\u03B5\u03C1\u03B3\u03B1\u03C3\u03AF\u03B1 \u03AD\u03BD\u03B1 \u03B1\u03BD\u03C4\u03AF\u03B3\u03C1\u03B1\u03C6\u03BF",agenda_tab:"\u0397\u03BC\u03B5\u03C1\u03AE\u03C3\u03B9\u03B1 \u0394\u03B9\u03AC\u03C4\u03B1\u03BE\u03B7",date:"\u0397\u03BC\u03B5\u03C1\u03BF\u03BC\u03B7\u03BD\u03AF\u03B1",description:"\u03A0\u03B5\u03C1\u03B9\u03B3\u03C1\u03B1\u03C6\u03AE",year_tab:"\u0388\u03C4\u03BF\u03C2",week_agenda_tab:"\u0397\u03BC\u03B5\u03C1\u03AE\u03C3\u03B9\u03B1 \u0394\u03B9\u03AC\u03C4\u03B1\u03BE\u03B7",grid_tab:"\u03A0\u03BB\u03AD\u03B3\u03BC\u03B1",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"\u0397\u03BC\u03B5\u03C1\u03B7\u03C3\u03AF\u03C9\u03C2",repeat_radio_week:"\u0395\u03B2\u03B4\u03BF\u03BC\u03B1\u03B4\u03B9\u03B1\u03AF\u03C9\u03C2",repeat_radio_month:"\u039C\u03B7\u03BD\u03B9\u03B1\u03AF\u03C9\u03C2",repeat_radio_year:"\u0395\u03C4\u03B7\u03C3\u03AF\u03C9\u03C2",repeat_radio_day_type:"\u039A\u03AC\u03B8\u03B5",repeat_text_day_count:"\u03B7\u03BC\u03AD\u03C1\u03B1",repeat_radio_day_type2:"\u039A\u03AC\u03B8\u03B5 \u03B5\u03C1\u03B3\u03AC\u03C3\u03B9\u03BC\u03B7",repeat_week:" \u0395\u03C0\u03B1\u03BD\u03AC\u03BB\u03B7\u03C8\u03B7 \u03BA\u03AC\u03B8\u03B5",repeat_text_week_count:"\u03B5\u03B2\u03B4\u03BF\u03BC\u03AC\u03B4\u03B1 \u03C4\u03B9\u03C2 \u03B5\u03C0\u03CC\u03BC\u03B5\u03BD\u03B5\u03C2 \u03B7\u03BC\u03AD\u03C1\u03B5\u03C2:",repeat_radio_month_type:"\u0395\u03C0\u03B1\u03BD\u03AC\u03BB\u03B7\u03C8\u03B7",repeat_radio_month_start:"\u03A4\u03B7\u03BD",repeat_text_month_day:"\u03B7\u03BC\u03AD\u03C1\u03B1 \u03BA\u03AC\u03B8\u03B5",repeat_text_month_count:"\u03BC\u03AE\u03BD\u03B1",repeat_text_month_count2_before:"\u03BA\u03AC\u03B8\u03B5",repeat_text_month_count2_after:"\u03BC\u03AE\u03BD\u03B1",repeat_year_label:"\u03A4\u03B7\u03BD",select_year_day2:"\u03C4\u03BF\u03C5",repeat_text_year_day:"\u03B7\u03BC\u03AD\u03C1\u03B1",select_year_month:"\u03BC\u03AE\u03BD\u03B1",repeat_radio_end:"\u03A7\u03C9\u03C1\u03AF\u03C2 \u03B7\u03BC\u03B5\u03C1\u03BF\u03BC\u03B7\u03BD\u03AF\u03B1 \u03BB\u03AE\u03BE\u03B5\u03C9\u03C2",repeat_text_occurences_count:"\u03B5\u03C0\u03B1\u03BD\u03B1\u03BB\u03AE\u03C8\u03B5\u03B9\u03C2",repeat_radio_end3:"\u039B\u03AE\u03B3\u03B5\u03B9 \u03C4\u03B7\u03BD",repeat_radio_end2:"\u039C\u03B5\u03C4\u03AC \u03B1\u03C0\u03CC",month_for_recurring:["\u0399\u03B1\u03BD\u03BF\u03C5\u03AC\u03C1\u03B9\u03BF\u03C2","\u03A6\u03B5\u03B2\u03C1\u03BF\u03C5\u03AC\u03C1\u03B9\u03BF\u03C2","\u039C\u03AC\u03C1\u03C4\u03B9\u03BF\u03C2","\u0391\u03C0\u03C1\u03AF\u03BB\u03B9\u03BF\u03C2","\u039C\u03AC\u03CA\u03BF\u03C2","\u0399\u03BF\u03CD\u03BD\u03B9\u03BF\u03C2","\u0399\u03BF\u03CD\u03BB\u03B9\u03BF\u03C2","\u0391\u03CD\u03B3\u03BF\u03C5\u03C3\u03C4\u03BF\u03C2","\u03A3\u03B5\u03C0\u03C4\u03AD\u03BC\u03B2\u03C1\u03B9\u03BF\u03C2","\u039F\u03BA\u03C4\u03CE\u03B2\u03C1\u03B9\u03BF\u03C2","\u039D\u03BF\u03AD\u03BC\u03B2\u03C1\u03B9\u03BF\u03C2","\u0394\u03B5\u03BA\u03AD\u03BC\u03B2\u03C1\u03B9\u03BF\u03C2"],day_for_recurring:["\u039A\u03C5\u03C1\u03B9\u03B1\u03BA\u03AE","\u0394\u03B5\u03C5\u03C4\u03AD\u03C1\u03B1","\u03A4\u03C1\u03AF\u03C4\u03B7","\u03A4\u03B5\u03C4\u03AC\u03C1\u03C4\u03B7","\u03A0\u03AD\u03BC\u03C0\u03C4\u03B7","\u03A0\u03B1\u03C1\u03B1\u03C3\u03BA\u03B5\u03C5\u03AE","\u03A3\u03AC\u03B2\u03B2\u03B1\u03C4\u03BF"]}},yt={date:{month_full:["January","February","March","April","May","June","July","August","September","October","November","December"],month_short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],day_full:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],day_short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},labels:{dhx_cal_today_button:"Today",day_tab:"Day",week_tab:"Week",month_tab:"Month",new_event:"New event",icon_save:"Save",icon_cancel:"Cancel",icon_details:"Details",icon_edit:"Edit",icon_delete:"Delete",confirm_closing:"",confirm_deleting:"Event will be deleted permanently, are you sure?",section_description:"Description",section_time:"Time period",full_day:"Full day",confirm_recurring:"Do you want to edit the whole set of repeated events?",section_recurring:"Repeat event",button_recurring:"Disabled",button_recurring_open:"Enabled",button_edit_series:"Edit series",button_edit_occurrence:"Edit occurrence",agenda_tab:"Agenda",date:"Date",description:"Description",year_tab:"Year",week_agenda_tab:"Agenda",grid_tab:"Grid",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Daily",repeat_radio_week:"Weekly",repeat_radio_month:"Monthly",repeat_radio_year:"Yearly",repeat_radio_day_type:"Every",repeat_text_day_count:"day",repeat_radio_day_type2:"Every workday",repeat_week:" Repeat every",repeat_text_week_count:"week next days:",repeat_radio_month_type:"Repeat",repeat_radio_month_start:"On",repeat_text_month_day:"day every",repeat_text_month_count:"month",repeat_text_month_count2_before:"every",repeat_text_month_count2_after:"month",repeat_year_label:"On",select_year_day2:"of",repeat_text_year_day:"day",select_year_month:"month",repeat_radio_end:"No end date",repeat_text_occurences_count:"occurrences",repeat_radio_end2:"After",repeat_radio_end3:"End by",month_for_recurring:["January","February","March","April","May","June","July","August","September","October","November","December"],day_for_recurring:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},Cn={date:{month_full:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],month_short:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],day_full:["Domingo","Lunes","Martes","Mi\xE9rcoles","Jueves","Viernes","S\xE1bado"],day_short:["Dom","Lun","Mar","Mi\xE9","Jue","Vie","S\xE1b"]},labels:{dhx_cal_today_button:"Hoy",day_tab:"D\xEDa",week_tab:"Semana",month_tab:"Mes",new_event:"Nuevo evento",icon_save:"Guardar",icon_cancel:"Cancelar",icon_details:"Detalles",icon_edit:"Editar",icon_delete:"Eliminar",confirm_closing:"",confirm_deleting:"El evento se borrar\xE1 definitivamente, \xBFcontinuar?",section_description:"Descripci\xF3n",section_time:"Per\xEDodo",full_day:"Todo el d\xEDa",confirm_recurring:"\xBFDesea modificar el conjunto de eventos repetidos?",section_recurring:"Repita el evento",button_recurring:"Impedido",button_recurring_open:"Permitido",button_edit_series:"Editar la serie",button_edit_occurrence:"Editar este evento",agenda_tab:"D\xEDa",date:"Fecha",description:"Descripci\xF3n",year_tab:"A\xF1o",week_agenda_tab:"D\xEDa",grid_tab:"Reja",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Diariamente",repeat_radio_week:"Semanalmente",repeat_radio_month:"Mensualmente",repeat_radio_year:"Anualmente",repeat_radio_day_type:"Cada",repeat_text_day_count:"dia",repeat_radio_day_type2:"Cada jornada de trabajo",repeat_week:" Repetir cada",repeat_text_week_count:"semana:",repeat_radio_month_type:"Repita",repeat_radio_month_start:"El",repeat_text_month_day:"dia cada ",repeat_text_month_count:"mes",repeat_text_month_count2_before:"cada",repeat_text_month_count2_after:"mes",repeat_year_label:"El",select_year_day2:"del",repeat_text_year_day:"dia",select_year_month:"mes",repeat_radio_end:"Sin fecha de finalizaci\xF3n",repeat_text_occurences_count:"ocurrencias",repeat_radio_end3:"Fin",repeat_radio_end2:"Despu\xE9s de",month_for_recurring:["Enero","Febrero","\u041C\u0430rzo","\u0410bril","Mayo","Junio","Julio","\u0410gosto","Setiembre","Octubre","Noviembre","Diciembre"],day_for_recurring:["Domingo","Lunes","Martes","Mi\xE9rcoles","Jeuves","Viernes","Sabado"]}},mr={date:{month_full:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kes&auml;kuu","Hein&auml;kuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],month_short:["Tam","Hel","Maa","Huh","Tou","Kes","Hei","Elo","Syy","Lok","Mar","Jou"],day_full:["Sunnuntai","Maanantai","Tiistai","Keskiviikko","Torstai","Perjantai","Lauantai"],day_short:["Su","Ma","Ti","Ke","To","Pe","La"]},labels:{dhx_cal_today_button:"T\xE4n\xE4\xE4n",day_tab:"P\xE4iv\xE4",week_tab:"Viikko",month_tab:"Kuukausi",new_event:"Uusi tapahtuma",icon_save:"Tallenna",icon_cancel:"Peru",icon_details:"Tiedot",icon_edit:"Muokkaa",icon_delete:"Poista",confirm_closing:"",confirm_deleting:"Haluatko varmasti poistaa tapahtuman?",section_description:"Kuvaus",section_time:"Aikajakso",full_day:"Koko p\xE4iv\xE4",confirm_recurring:"Haluatko varmasti muokata toistuvan tapahtuman kaikkia jaksoja?",section_recurring:"Toista tapahtuma",button_recurring:"Ei k&auml;yt&ouml;ss&auml;",button_recurring_open:"K&auml;yt&ouml;ss&auml;",button_edit_series:"Muokkaa sarja",button_edit_occurrence:"Muokkaa kopio",agenda_tab:"Esityslista",date:"P\xE4iv\xE4m\xE4\xE4r\xE4",description:"Kuvaus",year_tab:"Vuoden",week_agenda_tab:"Esityslista",grid_tab:"Ritil\xE4",drag_to_create:"Luo uusi vet\xE4m\xE4ll\xE4",drag_to_move:"Siirr\xE4 vet\xE4m\xE4ll\xE4",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"P&auml;ivitt&auml;in",repeat_radio_week:"Viikoittain",repeat_radio_month:"Kuukausittain",repeat_radio_year:"Vuosittain",repeat_radio_day_type:"Joka",repeat_text_day_count:"p&auml;iv&auml;",repeat_radio_day_type2:"Joka arkip&auml;iv&auml;",repeat_week:"Toista joka",repeat_text_week_count:"viikko n&auml;in&auml; p&auml;ivin&auml;:",repeat_radio_month_type:"Toista",repeat_radio_month_start:"",repeat_text_month_day:"p&auml;iv&auml;n&auml; joka",repeat_text_month_count:"kuukausi",repeat_text_month_count2_before:"joka",repeat_text_month_count2_after:"kuukausi",repeat_year_label:"",select_year_day2:"",repeat_text_year_day:"p&auml;iv&auml;",select_year_month:"kuukausi",repeat_radio_end:"Ei loppumisaikaa",repeat_text_occurences_count:"Toiston j&auml;lkeen",repeat_radio_end3:"Loppuu",repeat_radio_end2:"",month_for_recurring:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kes&auml;kuu","Hein&auml;kuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],day_for_recurring:["Sunnuntai","Maanantai","Tiistai","Keskiviikko","Torstai","Perjantai","Lauantai"]}},Ci={date:{month_full:["Janvier","F\xE9vrier","Mars","Avril","Mai","Juin","Juillet","Ao\xFBt","Septembre","Octobre","Novembre","D\xE9cembre"],month_short:["Jan","F\xE9v","Mar","Avr","Mai","Juin","Juil","Ao\xFB","Sep","Oct","Nov","D\xE9c"],day_full:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],day_short:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"]},labels:{dhx_cal_today_button:"Aujourd'hui",day_tab:"Jour",week_tab:"Semaine",month_tab:"Mois",new_event:"Nouvel \xE9v\xE9nement",icon_save:"Enregistrer",icon_cancel:"Annuler",icon_details:"D\xE9tails",icon_edit:"Modifier",icon_delete:"Effacer",confirm_closing:"",confirm_deleting:"L'\xE9v\xE9nement sera effac\xE9 sans appel, \xEAtes-vous s\xFBr ?",section_description:"Description",section_time:"P\xE9riode",full_day:"Journ\xE9e compl\xE8te",confirm_recurring:"Voulez-vous \xE9diter toute une s\xE9rie d'\xE9v\xE8nements r\xE9p\xE9t\xE9s?",section_recurring:"P\xE9riodicit\xE9",button_recurring:"D\xE9sactiv\xE9",button_recurring_open:"Activ\xE9",button_edit_series:"Modifier la s\xE9rie",button_edit_occurrence:"Modifier une copie",agenda_tab:"Jour",date:"Date",description:"Description",year_tab:"Ann\xE9e",week_agenda_tab:"Jour",grid_tab:"Grille",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Quotidienne",repeat_radio_week:"Hebdomadaire",repeat_radio_month:"Mensuelle",repeat_radio_year:"Annuelle",repeat_radio_day_type:"Chaque",repeat_text_day_count:"jour",repeat_radio_day_type2:"Chaque journ\xE9e de travail",repeat_week:" R\xE9p\xE9ter toutes les",repeat_text_week_count:"semaine:",repeat_radio_month_type:"R\xE9p\xE9ter",repeat_radio_month_start:"Le",repeat_text_month_day:"jour chaque",repeat_text_month_count:"mois",repeat_text_month_count2_before:"chaque",repeat_text_month_count2_after:"mois",repeat_year_label:"Le",select_year_day2:"du",repeat_text_year_day:"jour",select_year_month:"mois",repeat_radio_end:"Pas de date d&quot;ach\xE8vement",repeat_text_occurences_count:"occurrences",repeat_radio_end3:"Fin",repeat_radio_end2:"Apr\xE8s",month_for_recurring:["Janvier","F\xE9vrier","Mars","Avril","Mai","Juin","Juillet","Ao\xFBt","Septembre","Octobre","Novembre","D\xE9cembre"],day_for_recurring:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"]}},zr={date:{month_full:["\u05D9\u05E0\u05D5\u05D0\u05E8","\u05E4\u05D1\u05E8\u05D5\u05D0\u05E8","\u05DE\u05E8\u05E5","\u05D0\u05E4\u05E8\u05D9\u05DC","\u05DE\u05D0\u05D9","\u05D9\u05D5\u05E0\u05D9","\u05D9\u05D5\u05DC\u05D9","\u05D0\u05D5\u05D2\u05D5\u05E1\u05D8","\u05E1\u05E4\u05D8\u05DE\u05D1\u05E8","\u05D0\u05D5\u05E7\u05D8\u05D5\u05D1\u05E8","\u05E0\u05D5\u05D1\u05DE\u05D1\u05E8","\u05D3\u05E6\u05DE\u05D1\u05E8"],month_short:["\u05D9\u05E0\u05D5","\u05E4\u05D1\u05E8","\u05DE\u05E8\u05E5","\u05D0\u05E4\u05E8","\u05DE\u05D0\u05D9","\u05D9\u05D5\u05E0","\u05D9\u05D5\u05DC","\u05D0\u05D5\u05D2","\u05E1\u05E4\u05D8","\u05D0\u05D5\u05E7","\u05E0\u05D5\u05D1","\u05D3\u05E6\u05DE"],day_full:["\u05E8\u05D0\u05E9\u05D5\u05DF","\u05E9\u05E0\u05D9","\u05E9\u05DC\u05D9\u05E9\u05D9","\u05E8\u05D1\u05D9\u05E2\u05D9","\u05D7\u05DE\u05D9\u05E9\u05D9","\u05E9\u05D9\u05E9\u05D9","\u05E9\u05D1\u05EA"],day_short:["\u05D0","\u05D1","\u05D2","\u05D3","\u05D4","\u05D5","\u05E9"]},labels:{dhx_cal_today_button:"\u05D4\u05D9\u05D5\u05DD",day_tab:"\u05D9\u05D5\u05DD",week_tab:"\u05E9\u05D1\u05D5\u05E2",month_tab:"\u05D7\u05D5\u05D3\u05E9",new_event:"\u05D0\u05E8\u05D5\u05E2 \u05D7\u05D3\u05E9",icon_save:"\u05E9\u05DE\u05D5\u05E8",icon_cancel:"\u05D1\u05D8\u05DC",icon_details:"\u05E4\u05E8\u05D8\u05D9\u05DD",icon_edit:"\u05E2\u05E8\u05D5\u05DA",icon_delete:"\u05DE\u05D7\u05E7",confirm_closing:"",confirm_deleting:"\u05D0\u05E8\u05D5\u05E2 \u05D9\u05DE\u05D7\u05E7 \u05E1\u05D5\u05E4\u05D9\u05EA.\u05DC\u05D4\u05DE\u05E9\u05D9\u05DA?",section_description:"\u05EA\u05D9\u05D0\u05D5\u05E8",section_time:"\u05EA\u05E7\u05D5\u05E4\u05D4",confirm_recurring:"\u05D4\u05D0\u05DD \u05D1\u05E8\u05E6\u05D5\u05E0\u05DA \u05DC\u05E9\u05E0\u05D5\u05EA \u05DB\u05DC \u05E1\u05D3\u05E8\u05EA \u05D0\u05E8\u05D5\u05E2\u05D9\u05DD \u05DE\u05EA\u05DE\u05E9\u05DB\u05D9\u05DD?",section_recurring:"\u05DC\u05D4\u05E2\u05EA\u05D9\u05E7 \u05D0\u05E8\u05D5\u05E2",button_recurring:"\u05DC\u05D0 \u05E4\u05E2\u05D9\u05DC",button_recurring_open:"\u05E4\u05E2\u05D9\u05DC",full_day:"\u05D9\u05D5\u05DD \u05E9\u05DC\u05DD",button_edit_series:"\u05E2\u05E8\u05D5\u05DA \u05D0\u05EA \u05D4\u05E1\u05D3\u05E8\u05D4",button_edit_occurrence:"\u05E2\u05E8\u05D9\u05DB\u05EA \u05E2\u05D5\u05EA\u05E7",agenda_tab:"\u05E1\u05D3\u05E8 \u05D9\u05D5\u05DD",date:"\u05EA\u05D0\u05E8\u05D9\u05DA",description:"\u05EA\u05D9\u05D0\u05D5\u05E8",year_tab:"\u05DC\u05E9\u05E0\u05D4",week_agenda_tab:"\u05E1\u05D3\u05E8 \u05D9\u05D5\u05DD",grid_tab:"\u05E1\u05D5\u05E8\u05D2",drag_to_create:"Drag to create",drag_to_move:"\u05D2\u05E8\u05D5\u05E8 \u05DB\u05D3\u05D9 \u05DC\u05D4\u05D6\u05D9\u05D6",message_ok:"OK",message_cancel:"\u05D1\u05D8\u05DC",next:"\u05D4\u05D1\u05D0",prev:"\u05D4\u05E7\u05D5\u05D3\u05DD",year:"\u05E9\u05E0\u05D4",month:"\u05D7\u05D5\u05D3\u05E9",day:"\u05D9\u05D5\u05DD",hour:"\u05E9\u05E2\u05D4",minute:"\u05D3\u05E7\u05D4",repeat_radio_day:"\u05D9\u05D5\u05DE\u05D9",repeat_radio_week:"\u05E9\u05D1\u05D5\u05E2\u05D9",repeat_radio_month:"\u05D7\u05D5\u05D3\u05E9\u05D9",repeat_radio_year:"\u05E9\u05E0\u05EA\u05D9",repeat_radio_day_type:"\u05D7\u05D6\u05D5\u05E8 \u05DB\u05DC",repeat_text_day_count:"\u05D9\u05DE\u05D9\u05DD",repeat_radio_day_type2:"\u05D7\u05D6\u05D5\u05E8 \u05DB\u05DC \u05D9\u05D5\u05DD \u05E2\u05D1\u05D5\u05D3\u05D4",repeat_week:" \u05D7\u05D6\u05D5\u05E8 \u05DB\u05DC",repeat_text_week_count:"\u05E9\u05D1\u05D5\u05E2 \u05DC\u05E4\u05D9 \u05D9\u05DE\u05D9\u05DD:",repeat_radio_month_type:"\u05D7\u05D6\u05D5\u05E8 \u05DB\u05DC",repeat_radio_month_start:"\u05DB\u05DC",repeat_text_month_day:"\u05D9\u05DE\u05D9\u05DD \u05DB\u05DC",repeat_text_month_count:"\u05D7\u05D5\u05D3\u05E9\u05D9\u05DD",repeat_text_month_count2_before:"\u05D7\u05D6\u05D5\u05E8 \u05DB\u05DC",repeat_text_month_count2_after:"\u05D7\u05D5\u05D3\u05E9",repeat_year_label:"\u05DB\u05DC",select_year_day2:"\u05D1\u05D7\u05D5\u05D3\u05E9",repeat_text_year_day:"\u05D9\u05DE\u05D9\u05DD",select_year_month:"\u05D7\u05D5\u05D3\u05E9",repeat_radio_end:"\u05DC\u05E2\u05D5\u05DC\u05DD \u05DC\u05D0 \u05DE\u05E1\u05EA\u05D9\u05D9\u05DD",repeat_text_occurences_count:"\u05D0\u05D9\u05E8\u05D5\u05E2\u05D9\u05DD",repeat_radio_end3:"\u05DE\u05E1\u05EA\u05D9\u05D9\u05DD \u05D1",repeat_radio_end2:"\u05D0\u05D7\u05E8\u05D9",month_for_recurring:["\u05D9\u05E0\u05D5\u05D0\u05E8","\u05E4\u05D1\u05E8\u05D5\u05D0\u05E8","\u05DE\u05E8\u05E5","\u05D0\u05E4\u05E8\u05D9\u05DC","\u05DE\u05D0\u05D9","\u05D9\u05D5\u05E0\u05D9","\u05D9\u05D5\u05DC\u05D9","\u05D0\u05D5\u05D2\u05D5\u05E1\u05D8","\u05E1\u05E4\u05D8\u05DE\u05D1\u05E8","\u05D0\u05D5\u05E7\u05D8\u05D5\u05D1\u05E8","\u05E0\u05D5\u05D1\u05DE\u05D1\u05E8","\u05D3\u05E6\u05DE\u05D1\u05E8"],day_for_recurring:["\u05E8\u05D0\u05E9\u05D5\u05DF","\u05E9\u05E0\u05D9","\u05E9\u05DC\u05D9\u05E9\u05D9","\u05E8\u05D1\u05D9\u05E2\u05D9","\u05D7\u05DE\u05D9\u05E9\u05D9","\u05E9\u05D9\u05E9\u05D9","\u05E9\u05D1\u05EA"]}},Xr={date:{month_full:["Janu\xE1r","Febru\xE1r","M\xE1rcius","\xC1prilis","M\xE1jus","J\xFAnius","J\xFAlius","Augusztus","Szeptember","Okt\xF3ber","November","December"],month_short:["Jan","Feb","M\xE1r","\xC1pr","M\xE1j","J\xFAn","J\xFAl","Aug","Sep","Okt","Nov","Dec"],day_full:["Vas\xE1rnap","H\xE9tf\xF5","Kedd","Szerda","Cs\xFCt\xF6rt\xF6k","P\xE9ntek","szombat"],day_short:["Va","H\xE9","Ke","Sze","Cs\xFC","P\xE9","Szo"]},labels:{dhx_cal_today_button:"Ma",day_tab:"Nap",week_tab:"H\xE9t",month_tab:"H\xF3nap",new_event:"\xDAj esem\xE9ny",icon_save:"Ment\xE9s",icon_cancel:"M\xE9gse",icon_details:"R\xE9szletek",icon_edit:"Szerkeszt\xE9s",icon_delete:"T\xF6rl\xE9s",confirm_closing:"",confirm_deleting:"Az esem\xE9ny t\xF6r\xF6lve lesz, biztosan folytatja?",section_description:"Le\xEDr\xE1s",section_time:"Id\xF5szak",full_day:"Egesz napos",confirm_recurring:"Biztosan szerkeszteni akarod az \xF6sszes ism\xE9tl\xF5d\xF5 esem\xE9ny be\xE1ll\xEDt\xE1s\xE1t?",section_recurring:"Esem\xE9ny ism\xE9tl\xE9se",button_recurring:"Tilt\xE1s",button_recurring_open:"Enged\xE9lyez\xE9s",button_edit_series:"Edit series",button_edit_occurrence:"Szerkeszt\xE9s b\xEDr\xF3s\xE1g",agenda_tab:"Napirend",date:"D\xE1tum",description:"Le\xEDr\xE1s",year_tab:"\xC9v",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute"}},Fc={date:{month_full:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],month_short:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Ags","Sep","Okt","Nov","Des"],day_full:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"],day_short:["Ming","Sen","Sel","Rab","Kam","Jum","Sab"]},labels:{dhx_cal_today_button:"Hari Ini",day_tab:"Hari",week_tab:"Minggu",month_tab:"Bulan",new_event:"Acara Baru",icon_save:"Simpan",icon_cancel:"Batal",icon_details:"Detail",icon_edit:"Edit",icon_delete:"Hapus",confirm_closing:"",confirm_deleting:"Acara akan dihapus",section_description:"Keterangan",section_time:"Periode",full_day:"Hari penuh",confirm_recurring:"Apakah acara ini akan berulang?",section_recurring:"Acara Rutin",button_recurring:"Tidak Difungsikan",button_recurring_open:"Difungsikan",button_edit_series:"Mengedit seri",button_edit_occurrence:"Mengedit salinan",agenda_tab:"Agenda",date:"Tanggal",description:"Keterangan",year_tab:"Tahun",week_agenda_tab:"Agenda",grid_tab:"Tabel",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute"}},vo={date:{month_full:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],month_short:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],day_full:["Domenica","Luned\xEC","Marted\xEC","Mercoled\xEC","Gioved\xEC","Venerd\xEC","Sabato"],day_short:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"]},labels:{dhx_cal_today_button:"Oggi",day_tab:"Giorno",week_tab:"Settimana",month_tab:"Mese",new_event:"Nuovo evento",icon_save:"Salva",icon_cancel:"Chiudi",icon_details:"Dettagli",icon_edit:"Modifica",icon_delete:"Elimina",confirm_closing:"",confirm_deleting:"L'evento sar\xE0 eliminato, siete sicuri?",section_description:"Descrizione",section_time:"Periodo di tempo",full_day:"Intera giornata",confirm_recurring:"Vuoi modificare l'intera serie di eventi?",section_recurring:"Ripetere l'evento",button_recurring:"Disattivato",button_recurring_open:"Attivato",button_edit_series:"Modificare la serie",button_edit_occurrence:"Modificare una copia",agenda_tab:"Agenda",date:"Data",description:"Descrizione",year_tab:"Anno",week_agenda_tab:"Agenda",grid_tab:"Griglia",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Quotidiano",repeat_radio_week:"Settimanale",repeat_radio_month:"Mensile",repeat_radio_year:"Annuale",repeat_radio_day_type:"Ogni",repeat_text_day_count:"giorno",repeat_radio_day_type2:"Ogni giornata lavorativa",repeat_week:" Ripetere ogni",repeat_text_week_count:"settimana:",repeat_radio_month_type:"Ripetere",repeat_radio_month_start:"Il",repeat_text_month_day:"giorno ogni",repeat_text_month_count:"mese",repeat_text_month_count2_before:"ogni",repeat_text_month_count2_after:"mese",repeat_year_label:"Il",select_year_day2:"del",repeat_text_year_day:"giorno",select_year_month:"mese",repeat_radio_end:"Senza data finale",repeat_text_occurences_count:"occorenze",repeat_radio_end3:"Fine",repeat_radio_end2:"Dopo",month_for_recurring:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Jiugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],day_for_recurring:["Domenica","Luned\xEC","Marted\xEC","Mercoled\xEC","Joved\xEC","Venerd\xEC","Sabato"]}},Zr={date:{month_full:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],month_short:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],day_full:["\u65E5\u66DC\u65E5","\u6708\u66DC\u65E5","\u706B\u66DC\u65E5","\u6C34\u66DC\u65E5","\u6728\u66DC\u65E5","\u91D1\u66DC\u65E5","\u571F\u66DC\u65E5"],day_short:["\u65E5","\u6708","\u706B","\u6C34","\u6728","\u91D1","\u571F"]},labels:{dhx_cal_today_button:"\u4ECA\u65E5",day_tab:"\u65E5",week_tab:"\u9031",month_tab:"\u6708",new_event:"\u65B0\u30A4\u30D9\u30F3\u30C8",icon_save:"\u4FDD\u5B58",icon_cancel:"\u30AD\u30E3\u30F3\u30BB\u30EB",icon_details:"\u8A73\u7D30",icon_edit:"\u7DE8\u96C6",icon_delete:"\u524A\u9664",confirm_closing:"",confirm_deleting:"\u30A4\u30D9\u30F3\u30C8\u5B8C\u5168\u306B\u524A\u9664\u3055\u308C\u307E\u3059\u3001\u5B9C\u3057\u3044\u3067\u3059\u304B\uFF1F",section_description:"\u30C7\u30B9\u30AF\u30EA\u30D7\u30B7\u30E7\u30F3",section_time:"\u671F\u9593",confirm_recurring:"\u7E70\u308A\u8FD4\u3055\u308C\u3066\u3044\u308B\u30A4\u30D9\u30F3\u30C8\u3092\u5168\u3066\u7DE8\u96C6\u3057\u307E\u3059\u304B\uFF1F",section_recurring:"\u30A4\u30D9\u30F3\u30C8\u3092\u7E70\u308A\u8FD4\u3059",button_recurring:"\u7121\u52B9",button_recurring_open:"\u6709\u52B9",full_day:"\u7D42\u65E5",button_edit_series:"\u30B7\u30EA\u30FC\u30BA\u3092\u7DE8\u96C6\u3057\u307E\u3059",button_edit_occurrence:"\u30B3\u30D4\u30FC\u3092\u7DE8\u96C6",agenda_tab:"\u8B70\u984C\u306F",date:"\u65E5\u4ED8",description:"\u8AAC\u660E",year_tab:"\u4ECA\u5E74",week_agenda_tab:"\u8B70\u984C\u306F",grid_tab:"\u30B0\u30EA\u30C3\u30C9",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute"}};function yo(s,w){for(var d=0;d<w.length;d++){var m=w[d];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(s,m.key,m)}}var Ct=function(){function s(w){for(var d in function(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}(this,s),this._locales={},w)this._locales[d]=w[d]}return function(w,d,m){d&&yo(w.prototype,d),m&&yo(w,m)}(s,[{key:"addLocale",value:function(w,d){this._locales[w]=d}},{key:"getLocale",value:function(w){return this._locales[w]}}]),s}(),se={date:{month_full:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],month_short:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],day_full:["S\xF8ndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","L\xF8rdag"],day_short:["S\xF8n","Mon","Tir","Ons","Tor","Fre","L\xF8r"]},labels:{dhx_cal_today_button:"I dag",day_tab:"Dag",week_tab:"Uke",month_tab:"M\xE5ned",new_event:"Ny hendelse",icon_save:"Lagre",icon_cancel:"Avbryt",icon_details:"Detaljer",icon_edit:"Rediger",icon_delete:"Slett",confirm_closing:"",confirm_deleting:"Hendelsen vil bli slettet permanent. Er du sikker?",section_description:"Beskrivelse",section_time:"Tidsperiode",confirm_recurring:"Vil du forandre hele dette settet av repeterende hendelser?",section_recurring:"Repeter hendelsen",button_recurring:"Av",button_recurring_open:"P\xE5",button_edit_series:"Rediger serien",button_edit_occurrence:"Redigere en kopi",agenda_tab:"Agenda",date:"Dato",description:"Beskrivelse",year_tab:"\xC5r",week_agenda_tab:"Agenda",grid_tab:"Grid",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Daglig",repeat_radio_week:"Ukentlig",repeat_radio_month:"M\xE5nedlig",repeat_radio_year:"\xC5rlig",repeat_radio_day_type:"Hver",repeat_text_day_count:"dag",repeat_radio_day_type2:"Alle hverdager",repeat_week:" Gjentas hver",repeat_text_week_count:"uke p\xE5:",repeat_radio_month_type:"P\xE5 hver",repeat_radio_month_start:"P\xE5",repeat_text_month_day:"dag hver",repeat_text_month_count:"m\xE5ned",repeat_text_month_count2_before:"hver",repeat_text_month_count2_after:"m\xE5ned",repeat_year_label:"p\xE5",select_year_day2:"i",repeat_text_year_day:"dag i",select_year_month:"",repeat_radio_end:"Ingen sluttdato",repeat_text_occurences_count:"forekomst",repeat_radio_end3:"Stop den",repeat_radio_end2:"Etter",month_for_recurring:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],day_for_recurring:["Sondag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","L\xF8rdag"]}},ue={date:{month_full:["Januari","Februari","Maart","April","Mei","Juni","Juli","Augustus","September","Oktober","November","December"],month_short:["Jan","Feb","mrt","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["Zondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrijdag","Zaterdag"],day_short:["Zo","Ma","Di","Wo","Do","Vr","Za"]},labels:{dhx_cal_today_button:"Vandaag",day_tab:"Dag",week_tab:"Week",month_tab:"Maand",new_event:"Nieuw item",icon_save:"Opslaan",icon_cancel:"Annuleren",icon_details:"Details",icon_edit:"Bewerken",icon_delete:"Verwijderen",confirm_closing:"",confirm_deleting:"Item zal permanent worden verwijderd, doorgaan?",section_description:"Beschrijving",section_time:"Tijd periode",full_day:"Hele dag",confirm_recurring:"Wilt u alle terugkerende items bijwerken?",section_recurring:"Item herhalen",button_recurring:"Uit",button_recurring_open:"Aan",button_edit_series:"Bewerk de serie",button_edit_occurrence:"Bewerk een kopie",agenda_tab:"Agenda",date:"Datum",description:"Omschrijving",year_tab:"Jaar",week_agenda_tab:"Agenda",grid_tab:"Tabel",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Dagelijks",repeat_radio_week:"Wekelijks",repeat_radio_month:"Maandelijks",repeat_radio_year:"Jaarlijks",repeat_radio_day_type:"Elke",repeat_text_day_count:"dag(en)",repeat_radio_day_type2:"Elke werkdag",repeat_week:" Herhaal elke",repeat_text_week_count:"week op de volgende dagen:",repeat_radio_month_type:"Herhaal",repeat_radio_month_start:"Op",repeat_text_month_day:"dag iedere",repeat_text_month_count:"maanden",repeat_text_month_count2_before:"iedere",repeat_text_month_count2_after:"maanden",repeat_year_label:"Op",select_year_day2:"van",repeat_text_year_day:"dag",select_year_month:"maand",repeat_radio_end:"Geen eind datum",repeat_text_occurences_count:"keren",repeat_radio_end3:"Eindigd per",repeat_radio_end2:"Na",month_for_recurring:["Januari","Februari","Maart","April","Mei","Juni","Juli","Augustus","September","Oktober","November","December"],day_for_recurring:["Zondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrijdag","Zaterdag"]}},me={date:{month_full:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],month_short:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],day_full:["S\xF8ndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","L\xF8rdag"],day_short:["S\xF8n","Man","Tir","Ons","Tor","Fre","L\xF8r"]},labels:{dhx_cal_today_button:"Idag",day_tab:"Dag",week_tab:"Uke",month_tab:"M\xE5ned",new_event:"Ny",icon_save:"Lagre",icon_cancel:"Avbryt",icon_details:"Detaljer",icon_edit:"Endre",icon_delete:"Slett",confirm_closing:"Endringer blir ikke lagret, er du sikker?",confirm_deleting:"Oppf\xF8ringen vil bli slettet, er du sikker?",section_description:"Beskrivelse",section_time:"Tidsperiode",full_day:"Full dag",confirm_recurring:"Vil du endre hele settet med repeterende oppf\xF8ringer?",section_recurring:"Repeterende oppf\xF8ring",button_recurring:"Ikke aktiv",button_recurring_open:"Aktiv",button_edit_series:"Rediger serien",button_edit_occurrence:"Redigere en kopi",agenda_tab:"Agenda",date:"Dato",description:"Beskrivelse",year_tab:"\xC5r",week_agenda_tab:"Agenda",grid_tab:"Grid",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute"}},ye={date:{month_full:["Stycze\u0144","Luty","Marzec","Kwiecie\u0144","Maj","Czerwiec","Lipiec","Sierpie\u0144","Wrzesie\u0144","Pa\u017Adziernik","Listopad","Grudzie\u0144"],month_short:["Sty","Lut","Mar","Kwi","Maj","Cze","Lip","Sie","Wrz","Pa\u017A","Lis","Gru"],day_full:["Niedziela","Poniedzia\u0142ek","Wtorek","\u015Aroda","Czwartek","Pi\u0105tek","Sobota"],day_short:["Nie","Pon","Wto","\u015Aro","Czw","Pi\u0105","Sob"]},labels:{dhx_cal_today_button:"Dzi\u015B",day_tab:"Dzie\u0144",week_tab:"Tydzie\u0144",month_tab:"Miesi\u0105c",new_event:"Nowe zdarzenie",icon_save:"Zapisz",icon_cancel:"Anuluj",icon_details:"Szczeg\xF3\u0142y",icon_edit:"Edytuj",icon_delete:"Usu\u0144",confirm_closing:"",confirm_deleting:"Zdarzenie zostanie usuni\u0119te na zawsze, kontynuowa\u0107?",section_description:"Opis",section_time:"Okres czasu",full_day:"Ca\u0142y dzie\u0144",confirm_recurring:"Czy chcesz edytowa\u0107 ca\u0142y zbi\xF3r powtarzaj\u0105cych si\u0119 zdarze\u0144?",section_recurring:"Powt\xF3rz zdarzenie",button_recurring:"Nieaktywne",button_recurring_open:"Aktywne",button_edit_series:"Edytuj seri\u0119",button_edit_occurrence:"Edytuj kopi\u0119",agenda_tab:"Agenda",date:"Data",description:"Opis",year_tab:"Rok",week_agenda_tab:"Agenda",grid_tab:"Tabela",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Codziennie",repeat_radio_week:"Co tydzie",repeat_radio_month:"Co miesic",repeat_radio_year:"Co rok",repeat_radio_day_type:"Kadego",repeat_text_day_count:"dnia",repeat_radio_day_type2:"Kadego dnia roboczego",repeat_week:" Powtarzaj kadego",repeat_text_week_count:"tygodnia w dni:",repeat_radio_month_type:"Powtrz",repeat_radio_month_start:"W",repeat_text_month_day:"dnia kadego",repeat_text_month_count:"miesica",repeat_text_month_count2_before:"kadego",repeat_text_month_count2_after:"miesica",repeat_year_label:"W",select_year_day2:"miesica",repeat_text_year_day:"dnia miesica",select_year_month:"",repeat_radio_end:"Bez daty kocowej",repeat_text_occurences_count:"wystpieniu/ach",repeat_radio_end3:"Zakocz w",repeat_radio_end2:"Po",month_for_recurring:["Stycznia","Lutego","Marca","Kwietnia","Maja","Czerwca","Lipca","Sierpnia","Wrzenia","Padziernka","Listopada","Grudnia"],day_for_recurring:["Niedziela","Poniedziaek","Wtorek","roda","Czwartek","Pitek","Sobota"]}},Re={date:{month_full:["Janeiro","Fevereiro","Mar\xE7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],month_short:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],day_full:["Domingo","Segunda","Ter\xE7a","Quarta","Quinta","Sexta","S\xE1bado"],day_short:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"]},labels:{dhx_cal_today_button:"Hoje",day_tab:"Dia",week_tab:"Semana",month_tab:"M\xEAs",new_event:"Novo evento",icon_save:"Salvar",icon_cancel:"Cancelar",icon_details:"Detalhes",icon_edit:"Editar",icon_delete:"Deletar",confirm_closing:"",confirm_deleting:"Tem certeza que deseja excluir?",section_description:"Descri\xE7\xE3o",section_time:"Per\xEDodo de tempo",full_day:"Dia inteiro",confirm_recurring:"Deseja editar todos esses eventos repetidos?",section_recurring:"Repetir evento",button_recurring:"Desabilitar",button_recurring_open:"Habilitar",button_edit_series:"Editar a s\xE9rie",button_edit_occurrence:"Editar uma c\xF3pia",agenda_tab:"Dia",date:"Data",description:"Descri\xE7\xE3o",year_tab:"Ano",week_agenda_tab:"Dia",grid_tab:"Grade",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Di\xE1rio",repeat_radio_week:"Semanal",repeat_radio_month:"Mensal",repeat_radio_year:"Anual",repeat_radio_day_type:"Cada",repeat_text_day_count:"dia(s)",repeat_radio_day_type2:"Cada trabalho di\xE1rio",repeat_week:" Repita cada",repeat_text_week_count:"semana:",repeat_radio_month_type:"Repetir",repeat_radio_month_start:"Em",repeat_text_month_day:"todo dia",repeat_text_month_count:"m\xEAs",repeat_text_month_count2_before:"todo",repeat_text_month_count2_after:"m\xEAs",repeat_year_label:"Em",select_year_day2:"of",repeat_text_year_day:"dia",select_year_month:"m\xEAs",repeat_radio_end:"Sem data final",repeat_text_occurences_count:"ocorr\xEAncias",repeat_radio_end3:"Fim",repeat_radio_end2:"Depois",month_for_recurring:["Janeiro","Fevereiro","Mar\xE7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],day_for_recurring:["Domingo","Segunda","Ter\xE7a","Quarta","Quinta","Sexta","S\xE1bado"]}},qe={date:{month_full:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","November","December"],month_short:["Ian","Feb","Mar","Apr","Mai","Iun","Iul","Aug","Sep","Oct","Nov","Dec"],day_full:["Duminica","Luni","Marti","Miercuri","Joi","Vineri","Sambata"],day_short:["Du","Lu","Ma","Mi","Jo","Vi","Sa"]},labels:{dhx_cal_today_button:"Astazi",day_tab:"Zi",week_tab:"Saptamana",month_tab:"Luna",new_event:"Eveniment nou",icon_save:"Salveaza",icon_cancel:"Anuleaza",icon_details:"Detalii",icon_edit:"Editeaza",icon_delete:"Sterge",confirm_closing:"Schimbarile nu vor fi salvate, esti sigur?",confirm_deleting:"Evenimentul va fi sters permanent, esti sigur?",section_description:"Descriere",section_time:"Interval",full_day:"Toata ziua",confirm_recurring:"Vrei sa editezi toata seria de evenimente repetate?",section_recurring:"Repetare",button_recurring:"Dezactivata",button_recurring_open:"Activata",button_edit_series:"Editeaza serie",button_edit_occurrence:"Editeaza doar intrare",agenda_tab:"Agenda",date:"Data",description:"Descriere",year_tab:"An",week_agenda_tab:"Agenda",grid_tab:"Lista",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Zilnic",repeat_radio_week:"Saptamanal",repeat_radio_month:"Lunar",repeat_radio_year:"Anual",repeat_radio_day_type:"La fiecare",repeat_text_day_count:"zi(le)",repeat_radio_day_type2:"Fiecare zi lucratoare",repeat_week:" Repeta la fiecare",repeat_text_week_count:"saptamana in urmatoarele zile:",repeat_radio_month_type:"Repeta in",repeat_radio_month_start:"In a",repeat_text_month_day:"zi la fiecare",repeat_text_month_count:"luni",repeat_text_month_count2_before:"la fiecare",repeat_text_month_count2_after:"luni",repeat_year_label:"In",select_year_day2:"a lunii",repeat_text_year_day:"zi a lunii",select_year_month:"",repeat_radio_end:"Fara data de sfarsit",repeat_text_occurences_count:"evenimente",repeat_radio_end3:"La data",repeat_radio_end2:"Dupa",month_for_recurring:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","Noiembrie","Decembrie"],day_for_recurring:["Duminica","Luni","Marti","Miercuri","Joi","Vineri","Sambata"]}},Fe={date:{month_full:["\u042F\u043D\u0432\u0430\u0440\u044C","\u0424\u0435\u0432\u0440\u0430\u043B\u044C","\u041C\u0430\u0440\u0442","\u0410\u043F\u0440\u0435\u043B\u044C","Ma\u0439","\u0418\u044E\u043D\u044C","\u0418\u044E\u043B\u044C","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043D\u0442\u044F\u0431\u0440\u044C","O\u043A\u0442\u044F\u0431\u0440\u044C","\u041D\u043E\u044F\u0431\u0440\u044C","\u0414\u0435\u043A\u0430\u0431\u0440\u044C"],month_short:["\u042F\u043D\u0432","\u0424\u0435\u0432","Ma\u0440","A\u043F\u0440","Ma\u0439","\u0418\u044E\u043D","\u0418\u044E\u043B","A\u0432\u0433","\u0421\u0435\u043D","\u041E\u043A\u0442","\u041D\u043E\u044F","\u0414\u0435\u043A"],day_full:["\u0412\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u044C\u0435","\u041F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A","\u0412\u0442\u043E\u0440\u043D\u0438\u043A","\u0421\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440\u0433","\u041F\u044F\u0442\u043D\u0438\u0446\u0430","\u0421\u0443\u0431\u0431\u043E\u0442\u0430"],day_short:["\u0412\u0441","\u041F\u043D","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041F\u0442","\u0421\u0431"]},labels:{dhx_cal_today_button:"\u0421\u0435\u0433\u043E\u0434\u043D\u044F",day_tab:"\u0414\u0435\u043D\u044C",week_tab:"\u041D\u0435\u0434\u0435\u043B\u044F",month_tab:"\u041C\u0435\u0441\u044F\u0446",new_event:"\u041D\u043E\u0432\u043E\u0435 \u0441\u043E\u0431\u044B\u0442\u0438\u0435",icon_save:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C",icon_cancel:"\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C",icon_details:"\u0414\u0435\u0442\u0430\u043B\u0438",icon_edit:"\u0418\u0437\u043C\u0435\u043D\u0438\u0442\u044C",icon_delete:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C",confirm_closing:"",confirm_deleting:"\u0421\u043E\u0431\u044B\u0442\u0438\u0435 \u0431\u0443\u0434\u0435\u0442 \u0443\u0434\u0430\u043B\u0435\u043D\u043E \u0431\u0435\u0437\u0432\u043E\u0437\u0432\u0440\u0430\u0442\u043D\u043E, \u043F\u0440\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u044C?",section_description:"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435",section_time:"\u041F\u0435\u0440\u0438\u043E\u0434 \u0432\u0440\u0435\u043C\u0435\u043D\u0438",full_day:"\u0412\u0435\u0441\u044C \u0434\u0435\u043D\u044C",confirm_recurring:"\u0412\u044B \u0445\u043E\u0442\u0438\u0442\u0435 \u0438\u0437\u043C\u0435\u043D\u0438\u0442\u044C \u0432\u0441\u044E \u0441\u0435\u0440\u0438\u044E \u043F\u043E\u0432\u0442\u043E\u0440\u044F\u044E\u0449\u0438\u0445\u0441\u044F \u0441\u043E\u0431\u044B\u0442\u0438\u0439?",section_recurring:"\u041F\u043E\u0432\u0442\u043E\u0440\u0435\u043D\u0438\u0435",button_recurring:"\u041E\u0442\u043A\u043B\u044E\u0447\u0435\u043D\u043E",button_recurring_open:"\u0412\u043A\u043B\u044E\u0447\u0435\u043D\u043E",button_edit_series:"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0441\u0435\u0440\u0438\u044E",button_edit_occurrence:"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u044D\u043A\u0437\u0435\u043C\u043F\u043B\u044F\u0440",agenda_tab:"\u0421\u043F\u0438\u0441\u043E\u043A",date:"\u0414\u0430\u0442\u0430",description:"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435",year_tab:"\u0413\u043E\u0434",week_agenda_tab:"\u0421\u043F\u0438\u0441\u043E\u043A",grid_tab:"\u0422\u0430\u0431\u043B\u0438\u0446\u0430",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"\u0414\u0435\u043D\u044C",repeat_radio_week:"\u041D\u0435\u0434\u0435\u043B\u044F",repeat_radio_month:"\u041C\u0435\u0441\u044F\u0446",repeat_radio_year:"\u0413\u043E\u0434",repeat_radio_day_type:"\u041A\u0430\u0436\u0434\u044B\u0439",repeat_text_day_count:"\u0434\u0435\u043D\u044C",repeat_radio_day_type2:"\u041A\u0430\u0436\u0434\u044B\u0439 \u0440\u0430\u0431\u043E\u0447\u0438\u0439 \u0434\u0435\u043D\u044C",repeat_week:" \u041F\u043E\u0432\u0442\u043E\u0440\u044F\u0442\u044C \u043A\u0430\u0436\u0434\u0443\u044E",repeat_text_week_count:"\u043D\u0435\u0434\u0435\u043B\u044E , \u0432:",repeat_radio_month_type:"\u041F\u043E\u0432\u0442\u043E\u0440\u044F\u0442\u044C",repeat_radio_month_start:"",repeat_text_month_day:" \u0447\u0438\u0441\u043B\u0430 \u043A\u0430\u0436\u0434\u044B\u0439 ",repeat_text_month_count:"\u043C\u0435\u0441\u044F\u0446",repeat_text_month_count2_before:"\u043A\u0430\u0436\u0434\u044B\u0439 ",repeat_text_month_count2_after:"\u043C\u0435\u0441\u044F\u0446",repeat_year_label:"",select_year_day2:"",repeat_text_year_day:"\u0434\u0435\u043D\u044C",select_year_month:"",repeat_radio_end:"\u0411\u0435\u0437 \u0434\u0430\u0442\u044B \u043E\u043A\u043E\u043D\u0447\u0430\u043D\u0438\u044F",repeat_text_occurences_count:"\u043F\u043E\u0432\u0442\u043E\u0440\u0435\u043D\u0438\u0439",repeat_radio_end3:"\u0414\u043E ",repeat_radio_end2:"",month_for_recurring:["\u042F\u043D\u0432\u0430\u0440\u044F","\u0424\u0435\u0432\u0440\u0430\u043B\u044F","\u041C\u0430\u0440\u0442\u0430","\u0410\u043F\u0440\u0435\u043B\u044F","\u041C\u0430\u044F","\u0418\u044E\u043D\u044F","\u0418\u044E\u043B\u044F","\u0410\u0432\u0433\u0443\u0441\u0442\u0430","\u0421\u0435\u043D\u0442\u044F\u0431\u0440\u044F","\u041E\u043A\u0442\u044F\u0431\u0440\u044F","\u041D\u043E\u044F\u0431\u0440\u044F","\u0414\u0435\u043A\u0430\u0431\u0440\u044F"],day_for_recurring:["\u0412\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u044C\u0435","\u041F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A","\u0412\u0442\u043E\u0440\u043D\u0438\u043A","\u0421\u0440\u0435\u0434\u0443","\u0427\u0435\u0442\u0432\u0435\u0440\u0433","\u041F\u044F\u0442\u043D\u0438\u0446\u0443","\u0421\u0443\u0431\u0431\u043E\u0442\u0443"]}},_t={date:{month_full:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],month_short:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["Nedelja","Ponedeljek","Torek","Sreda","\u010Cetrtek","Petek","Sobota"],day_short:["Ned","Pon","Tor","Sre","\u010Cet","Pet","Sob"]},labels:{dhx_cal_today_button:"Danes",day_tab:"Dan",week_tab:"Teden",month_tab:"Mesec",new_event:"Nov dogodek",icon_save:"Shrani",icon_cancel:"Prekli\u010Di",icon_details:"Podrobnosti",icon_edit:"Uredi",icon_delete:"Izbri\u0161i",confirm_closing:"",confirm_deleting:"Dogodek bo izbrisan. \u017Delite nadaljevati?",section_description:"Opis",section_time:"\u010Casovni okvir",full_day:"Ves dan",confirm_recurring:"\u017Delite urediti celoten set ponavljajo\u010Dih dogodkov?",section_recurring:"Ponovi dogodek",button_recurring:"Onemogo\u010Deno",button_recurring_open:"Omogo\u010Deno",button_edit_series:"Edit series",button_edit_occurrence:"Edit occurrence",agenda_tab:"Zadeva",date:"Datum",description:"Opis",year_tab:"Leto",week_agenda_tab:"Zadeva",grid_tab:"Miza",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute"}},Ft={date:{month_full:["Janu\xE1r","Febru\xE1r","Marec","Apr\xEDl","M\xE1j","J\xFAn","J\xFAl","August","September","Okt\xF3ber","November","December"],month_short:["Jan","Feb","Mar","Apr","M\xE1j","J\xFAn","J\xFAl","Aug","Sept","Okt","Nov","Dec"],day_full:["Nede\u013Ea","Pondelok","Utorok","Streda","\u0160tvrtok","Piatok","Sobota"],day_short:["Ne","Po","Ut","St","\u0160t","Pi","So"]},labels:{dhx_cal_today_button:"Dnes",day_tab:"De\u0148",week_tab:"T\xFD\u017Ede\u0148",month_tab:"Mesiac",new_event:"Nov\xE1 udalos\u0165",icon_save:"Ulo\u017Ei\u0165",icon_cancel:"Sp\xE4\u0165",icon_details:"Detail",icon_edit:"Edituj",icon_delete:"Zmaza\u0165",confirm_closing:"Va\u0161e zmeny nebud\xFA ulo\u017Een\xE9. Skuto\u010Dne?",confirm_deleting:"Udalos\u0165 bude natrvalo vymazan\xE1. Skuto\u010Dne?",section_description:"Pozn\xE1mky",section_time:"Doba platnosti",confirm_recurring:"Prajete si upravi\u0165 cel\xFA radu opakovan\xFDch udalost\xED?",section_recurring:"Opakovanie udalosti",button_recurring:"Vypnut\xE9",button_recurring_open:"Zapnut\xE9",button_edit_series:"Upravi\u0165 opakovania",button_edit_occurrence:"Upravi\u0165 in\u0161tancie",agenda_tab:"Program",date:"D\xE1tum",description:"Pozn\xE1mka",year_tab:"Rok",full_day:"Cel\xFD de\u0148",week_agenda_tab:"Program",grid_tab:"Mrie\u017Eka",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Denne",repeat_radio_week:"T\xFD\u017Edenne",repeat_radio_month:"Mesa\xE8ne",repeat_radio_year:"Ro\xE8ne",repeat_radio_day_type:"Ka\u017Ed\xFD",repeat_text_day_count:"de\xF2",repeat_radio_day_type2:"Ka\u017Ed\xFD prac. de\xF2",repeat_week:"Opakova ka\u017Ed\xFD",repeat_text_week_count:"t\xFD\u017Ede\xF2 v d\xF2och:",repeat_radio_month_type:"Opakova",repeat_radio_month_start:"On",repeat_text_month_day:"de\xF2 ka\u017Ed\xFD",repeat_text_month_count:"mesiac",repeat_text_month_count2_before:"ka\u017Ed\xFD",repeat_text_month_count2_after:"mesiac",repeat_year_label:"On",select_year_day2:"po\xE8as",repeat_text_year_day:"de\xF2",select_year_month:"mesiac",repeat_radio_end:"Bez d\xE1tumu ukon\xE8enia",repeat_text_occurences_count:"udalostiach",repeat_radio_end3:"Ukon\xE8i",repeat_radio_end2:"Po",month_for_recurring:["Janu\xE1r","Febru\xE1r","Marec","Apr\xEDl","M\xE1j","J\xFAn","J\xFAl","August","September","Okt\xF3ber","November","December"],day_for_recurring:["Nede\xBEa","Pondelok","Utorok","Streda","\u0160tvrtok","Piatok","Sobota"]}},wt={date:{month_full:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],month_short:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["S\xF6ndag","M\xE5ndag","Tisdag","Onsdag","Torsdag","Fredag","L\xF6rdag"],day_short:["S\xF6n","M\xE5n","Tis","Ons","Tor","Fre","L\xF6r"]},labels:{dhx_cal_today_button:"Idag",day_tab:"Dag",week_tab:"Vecka",month_tab:"M\xE5nad",new_event:"Ny h\xE4ndelse",icon_save:"Spara",icon_cancel:"\xC5ngra",icon_details:"Detaljer",icon_edit:"\xC4ndra",icon_delete:"Ta bort",confirm_closing:"",confirm_deleting:"\xC4r du s\xE4ker p\xE5 att du vill ta bort h\xE4ndelsen permanent?",section_description:"Beskrivning",section_time:"Tid",full_day:"Hela dagen",confirm_recurring:"Vill du redigera hela serien med repeterande h\xE4ndelser?",section_recurring:"Upprepa h\xE4ndelse",button_recurring:"Inaktiverat",button_recurring_open:"Aktiverat",button_edit_series:"Redigera serien",button_edit_occurrence:"Redigera en kopia",agenda_tab:"Dagordning",date:"Datum",description:"Beskrivning",year_tab:"\xC5r",week_agenda_tab:"Dagordning",grid_tab:"Galler",drag_to_create:"Dra f\xF6r att skapa ny",drag_to_move:"Dra f\xF6r att flytta",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Dagligen",repeat_radio_week:"Veckovis",repeat_radio_month:"M\xE5nadsvis",repeat_radio_year:"\xC5rligen",repeat_radio_day_type:"Var",repeat_text_day_count:"dag",repeat_radio_day_type2:"Varje arbetsdag",repeat_week:" Upprepa var",repeat_text_week_count:"vecka dessa dagar:",repeat_radio_month_type:"Upprepa",repeat_radio_month_start:"Den",repeat_text_month_day:"dagen var",repeat_text_month_count:"m\xE5nad",repeat_text_month_count2_before:"var",repeat_text_month_count2_after:"m\xE5nad",repeat_year_label:"Den",select_year_day2:"i",repeat_text_year_day:"dag i",select_year_month:"m\xE5nad",repeat_radio_end:"Inget slutdatum",repeat_text_occurences_count:"upprepningar",repeat_radio_end3:"Sluta efter",repeat_radio_end2:"Efter",month_for_recurring:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],day_for_recurring:["S\xF6ndag","M\xE5ndag","Tisdag","Onsdag","Torsdag","Fredag","L\xF6rdag"]}},ei={date:{month_full:["Ocak","\xDEubat","Mart","Nisan","May\xFDs","Haziran","Temmuz","A\xF0ustos","Eyl\xFCl","Ekim","Kas\xFDm","Aral\xFDk"],month_short:["Oca","\xDEub","Mar","Nis","May","Haz","Tem","A\xF0u","Eyl","Eki","Kas","Ara"],day_full:["Pazar","Pazartes,","Sal\xFD","\xC7ar\xFEamba","Per\xFEembe","Cuma","Cumartesi"],day_short:["Paz","Pts","Sal","\xC7ar","Per","Cum","Cts"]},labels:{dhx_cal_today_button:"Bug\xFCn",day_tab:"G\xFCn",week_tab:"Hafta",month_tab:"Ay",new_event:"Uygun",icon_save:"Kaydet",icon_cancel:"\xDDptal",icon_details:"Detaylar",icon_edit:"D\xFCzenle",icon_delete:"Sil",confirm_closing:"",confirm_deleting:"Etkinlik silinecek, devam?",section_description:"A\xE7\xFDklama",section_time:"Zaman aral\xFD\xF0\xFD",full_day:"Tam g\xFCn",confirm_recurring:"T\xFCm tekrar eden etkinlikler silinecek, devam?",section_recurring:"Etkinli\xF0i tekrarla",button_recurring:"Pasif",button_recurring_open:"Aktif",button_edit_series:"Dizi d\xFCzenleme",button_edit_occurrence:"Bir kopyas\u0131n\u0131 d\xFCzenleyin",agenda_tab:"Ajanda",date:"Tarih",description:"A\xE7\xFDklama",year_tab:"Y\xFDl",week_agenda_tab:"Ajanda",grid_tab:"Izgara",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute"}},Gn={date:{month_full:["\u0421\u0456\u0447\u0435\u043D\u044C","\u041B\u044E\u0442\u0438\u0439","\u0411\u0435\u0440\u0435\u0437\u0435\u043D\u044C","\u041A\u0432\u0456\u0442\u0435\u043D\u044C","\u0422\u0440\u0430\u0432\u0435\u043D\u044C","\u0427\u0435\u0440\u0432\u0435\u043D\u044C","\u041B\u0438\u043F\u0435\u043D\u044C","\u0421\u0435\u0440\u043F\u0435\u043D\u044C","\u0412\u0435\u0440\u0435\u0441\u0435\u043D\u044C","\u0416\u043E\u0432\u0442\u0435\u043D\u044C","\u041B\u0438\u0441\u0442\u043E\u043F\u0430\u0434","\u0413\u0440\u0443\u0434\u0435\u043D\u044C"],month_short:["\u0421\u0456\u0447","\u041B\u044E\u0442","\u0411\u0435\u0440","\u041A\u0432\u0456","\u0422\u0440\u0430","\u0427\u0435\u0440","\u041B\u0438\u043F","\u0421\u0435\u0440","\u0412\u0435\u0440","\u0416\u043E\u0432","\u041B\u0438\u0441","\u0413\u0440\u0443"],day_full:["\u041D\u0435\u0434\u0456\u043B\u044F","\u041F\u043E\u043D\u0435\u0434\u0456\u043B\u043E\u043A","\u0412\u0456\u0432\u0442\u043E\u0440\u043E\u043A","\u0421\u0435\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440","\u041F'\u044F\u0442\u043D\u0438\u0446\u044F","\u0421\u0443\u0431\u043E\u0442\u0430"],day_short:["\u041D\u0435\u0434","\u041F\u043E\u043D","\u0412\u0456\u0432","\u0421\u0435\u0440","\u0427\u0435\u0442","\u041F\u0442\u043D","\u0421\u0443\u0431"]},labels:{dhx_cal_today_button:"\u0421\u044C\u043E\u0433\u043E\u0434\u043D\u0456",day_tab:"\u0414\u0435\u043D\u044C",week_tab:"\u0422\u0438\u0436\u0434\u0435\u043D\u044C",month_tab:"\u041C\u0456\u0441\u044F\u0446\u044C",new_event:"\u041D\u043E\u0432\u0430 \u043F\u043E\u0434\u0456\u044F",icon_save:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438",icon_cancel:"\u0412\u0456\u0434\u043C\u0456\u043D\u0430",icon_details:"\u0414\u0435\u0442\u0430\u043B\u0456",icon_edit:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438",icon_delete:"\u0412\u0438\u043B\u0443\u0447\u0438\u0442\u0438",confirm_closing:"",confirm_deleting:"\u041F\u043E\u0434\u0456\u044F \u0432\u0438\u043B\u0443\u0447\u0438\u0442\u044C\u0441\u044F \u043D\u0430\u0437\u0430\u0432\u0436\u0434\u0438. \u0412\u0438 \u0432\u043F\u0435\u0432\u043D\u0435\u043D\u0456?",section_description:"\u041E\u043F\u0438\u0441",section_time:"\u0427\u0430\u0441\u043E\u0432\u0438\u0439 \u043F\u0440\u043E\u043C\u0456\u0436\u043E\u043A",full_day:"\u0412\u0435\u0441\u044C \u0434\u0435\u043D\u044C",confirm_recurring:"\u0425\u043E\u0447\u0435\u0442\u0435 \u0440\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0432\u0435\u0441\u044C \u043F\u0435\u0440\u0435\u043B\u0456\u043A \u043F\u043E\u0432\u0442\u043E\u0440\u044E\u0432\u0430\u043D\u0438\u0445 \u043F\u043E\u0434\u0456\u0439?",section_recurring:"\u041F\u043E\u0432\u0442\u043E\u0440\u044E\u0432\u0430\u043D\u0430 \u043F\u043E\u0434\u0456\u044F",button_recurring:"\u0412\u0456\u0434\u043A\u043B\u044E\u0447\u0435\u043D\u043E",button_recurring_open:"\u0412\u043A\u043B\u044E\u0447\u0435\u043D\u043E",button_edit_series:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0441\u0435\u0440\u0456\u044E",button_edit_occurrence:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u043F\u0440\u0438\u043C\u0456\u0440\u043D\u0438\u043A",agenda_tab:"\u041F\u0435\u0440\u0435\u043B\u0456\u043A",date:"\u0414\u0430\u0442\u0430",description:"\u041E\u043F\u0438\u0441",year_tab:"\u0420\u0456\u043A",week_agenda_tab:"\u041F\u0435\u0440\u0435\u043B\u0456\u043A",grid_tab:"\u0422\u0430\u0431\u043B\u0438\u0446\u044F",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"\u0414\u0435\u043D\u044C",repeat_radio_week:"\u0422\u0438\u0436\u0434\u0435\u043D\u044C",repeat_radio_month:"\u041C\u0456\u0441\u044F\u0446\u044C",repeat_radio_year:"\u0420\u0456\u043A",repeat_radio_day_type:"\u041A\u043E\u0436\u043D\u0438\u0439",repeat_text_day_count:"\u0434\u0435\u043D\u044C",repeat_radio_day_type2:"\u041A\u043E\u0436\u043D\u0438\u0439 \u0440\u043E\u0431\u043E\u0447\u0438\u0439 \u0434\u0435\u043D\u044C",repeat_week:" \u041F\u043E\u0432\u0442\u043E\u0440\u044E\u0432\u0430\u0442\u0438 \u043A\u043E\u0436\u0435\u043D",repeat_text_week_count:"\u0442\u0438\u0436\u0434\u0435\u043D\u044C , \u043F\u043E:",repeat_radio_month_type:"\u041F\u043E\u0432\u0442\u043E\u0440\u044E\u0432\u0430\u0442\u0438",repeat_radio_month_start:"",repeat_text_month_day:" \u0447\u0438\u0441\u043B\u0430 \u043A\u043E\u0436\u043D\u0438\u0439 ",repeat_text_month_count:"\u043C\u0456\u0441\u044F\u0446\u044C",repeat_text_month_count2_before:"\u043A\u043E\u0436\u0435\u043D ",repeat_text_month_count2_after:"\u043C\u0456\u0441\u044F\u0446\u044C",repeat_year_label:"",select_year_day2:"",repeat_text_year_day:"\u0434\u0435\u043D\u044C",select_year_month:"",repeat_radio_end:"\u0411\u0435\u0437 \u0434\u0430\u0442\u0438 \u0437\u0430\u043A\u0456\u043D\u0447\u0435\u043D\u043D\u044F",repeat_text_occurences_count:"\u043F\u043E\u0432\u0442\u043E\u0440\u0435\u043D\u044C",repeat_radio_end3:"\u0414\u043E ",repeat_radio_end2:"",month_for_recurring:["\u0441\u0456\u0447\u043D\u044F","\u043B\u044E\u0442\u043E\u0433\u043E","\u0431\u0435\u0440\u0435\u0437\u043D\u044F","\u043A\u0432\u0456\u0442\u043D\u044F","\u0442\u0440\u0430\u0432\u043D\u044F","\u0447\u0435\u0440\u0432\u043D\u044F","\u043B\u0438\u043F\u043D\u044F","\u0441\u0435\u0440\u043F\u043D\u044F","\u0432\u0435\u0440\u0435\u0441\u043D\u044F","\u0436\u043E\u0432\u0442\u043D\u044F","\u043B\u0438\u0441\u0442\u043E\u043F\u0430\u0434\u0430","\u0433\u0440\u0443\u0434\u043D\u044F"],day_for_recurring:["\u041D\u0435\u0434\u0456\u043B\u044F\u043C","\u041F\u043E\u043D\u0435\u0434\u0456\u043B\u043A\u0430\u043C","\u0412\u0456\u0432\u0442\u043E\u0440\u043A\u0430\u043C","\u0421\u0435\u0440\u0435\u0434\u0430\u043C","\u0427\u0435\u0442\u0432\u0435\u0440\u0433\u0430\u043C","\u041F'\u044F\u0442\u043D\u0438\u0446\u044F\u043C","\u0421\u0443\u0431\u043E\u0442\u0430\u043C"]}};function ar(s){return(ar=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}var bo=function(s){var w={version:"6.0.2"};(function(o){var c={agenda:"https://docs.dhtmlx.com/scheduler/agenda_view.html",grid:"https://docs.dhtmlx.com/scheduler/grid_view.html",map:"https://docs.dhtmlx.com/scheduler/map_view.html",unit:"https://docs.dhtmlx.com/scheduler/units_view.html",timeline:"https://docs.dhtmlx.com/scheduler/timeline_view.html",week_agenda:"https://docs.dhtmlx.com/scheduler/weekagenda_view.html",year:"https://docs.dhtmlx.com/scheduler/year_view.html",anythingElse:"https://docs.dhtmlx.com/scheduler/views.html"},u={agenda:"ext/dhtmlxscheduler_agenda_view.js",grid:"ext/dhtmlxscheduler_grid_view.js",map:"ext/dhtmlxscheduler_map_view.js",unit:"ext/dhtmlxscheduler_units.js",timeline:"ext/dhtmlxscheduler_timeline.js, ext/dhtmlxscheduler_treetimeline.js, ext/dhtmlxscheduler_daytimeline.js",week_agenda:"ext/dhtmlxscheduler_week_agenda.js",year:"ext/dhtmlxscheduler_year_view.js",limit:"ext/dhtmlxscheduler_limit.js"};o._commonErrorMessages={unknownView:function(_){var y=u[_]?"You're probably missing "+u[_]+".":"";return"`"+_+"` view is not defined. \nPlease check parameters you pass to `scheduler.init` or `scheduler.setCurrentView` in your code and ensure you've imported appropriate extensions. \nRelated docs: "+(c[_]||c.anythingElse)+`
`+(y?y+`
`:"")},collapsedContainer:function(_){return`Scheduler container height is set to *100%* but the rendered height is zero and the scheduler is not visible. 
Make sure that the container has some initial height or use different units. For example:
<div id='scheduler_here' class='dhx_cal_container' style='width:100%; height:600px;'> 
`}},o.createTimelineView=function(){throw new Error("scheduler.createTimelineView is not implemented. Be sure to add the required extension: "+u.timeline+`
Related docs: `+c.timeline)},o.createUnitsView=function(){throw new Error("scheduler.createUnitsView is not implemented. Be sure to add the required extension: "+u.unit+`
Related docs: `+c.unit)},o.createGridView=function(){throw new Error("scheduler.createGridView is not implemented. Be sure to add the required extension: "+u.grid+`
Related docs: `+c.grid)},o.addMarkedTimespan=function(){throw new Error(`scheduler.addMarkedTimespan is not implemented. Be sure to add the required extension: ext/dhtmlxscheduler_limit.js
Related docs: https://docs.dhtmlx.com/scheduler/limits.html`)},o.renderCalendar=function(){throw new Error(`scheduler.renderCalendar is not implemented. Be sure to add the required extension: ext/dhtmlxscheduler_minical.js
https://docs.dhtmlx.com/scheduler/minicalendar.html`)},o.exportToPNG=function(){throw new Error(["scheduler.exportToPNG is not implemented.","This feature requires an additional module, be sure to check the related doc here https://docs.dhtmlx.com/scheduler/png.html","Licensing info: https://dhtmlx.com/docs/products/dhtmlxScheduler/export.shtml"].join(`
`))},o.exportToPDF=function(){throw new Error(["scheduler.exportToPDF is not implemented.","This feature requires an additional module, be sure to check the related doc here https://docs.dhtmlx.com/scheduler/pdf.html","Licensing info: https://dhtmlx.com/docs/products/dhtmlxScheduler/export.shtml"].join(`
`))}})(w),function(o){var c=L();o.event=c.attach,o.eventRemove=c.detach,o._eventRemoveAll=c.detachAll,o._createDomEventScope=c.extend,o._trim=function(u){return(String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")}).apply(u)},o._isDate=function(u){return!(!u||N(u)!="object"||!(u.getFullYear&&u.getMonth&&u.getDate))},o._isObject=function(u){return u&&N(u)=="object"}}(w),function(o){T(o),l(o),o._detachDomEvent=function(v,E,b){v.removeEventListener?v.removeEventListener(E,b,!1):v.detachEvent&&v.detachEvent("on"+E,b)},o._init_once=function(){h(o),o._init_once=function(){}};var c={render:function(v){return o._init_nav_bar(v)}},u={render:function(v){var E=document.createElement("div");return E.className="dhx_cal_header",E}},_={render:function(v){var E=document.createElement("div");return E.className="dhx_cal_data",E}};function y(v){return!!(v.querySelector(".dhx_cal_header")&&v.querySelector(".dhx_cal_data")&&v.querySelector(".dhx_cal_navline"))}o.init=function(v,E,b){if(!this.$destroyed){if(E=E||o._currentDate(),b=b||"week",this._obj&&this.unset_actions(),this._obj=typeof v=="string"?document.getElementById(v):v,this.$container=this._obj,this.$root=this._obj,!this.$container.offsetHeight&&this.$container.offsetWidth&&this.$container.style.height==="100%"&&window.console.error(o._commonErrorMessages.collapsedContainer(),this.$container),this.config.wai_aria_attributes&&this.config.wai_aria_application_role&&this.$container.setAttribute("role","application"),this.config.header||y(this.$container)||(this.config.header=function(S){var D=["day","week","month"];if(S.matrix)for(var M in S.matrix)D.push(M);if(S._props)for(var M in S._props)D.push(M);if(S._grid&&S._grid.names)for(var M in S._grid.names)D.push(M);return["map","agenda","week_agenda","year"].forEach(function(V){S[V+"_view"]&&D.push(V)}),D.concat(["date"]).concat(["prev","today","next"])}(this),window.console.log(["Required DOM elements are missing from the scheduler container and **scheduler.config.header** is not specified.","Using a default header configuration: ","scheduler.config.header = "+JSON.stringify(this.config.header,null,2),"Check this article for the details: https://docs.dhtmlx.com/scheduler/initialization.html"].join(`
`))),this.config.header)this.$container.innerHTML="",this.$container.classList.add("dhx_cal_container"),this.config.header.height&&(this.xy.nav_height=this.config.header.height),this.$container.appendChild(c.render(this.config.header)),this.$container.appendChild(u.render()),this.$container.appendChild(_.render());else if(!y(this.$container))throw new Error(["Required DOM elements are missing from the scheduler container.","Be sure to either specify them manually in the markup: https://docs.dhtmlx.com/scheduler/initialization.html#initializingschedulerviamarkup","Or to use **scheduler.config.header** setting so they could be created automatically: https://docs.dhtmlx.com/scheduler/initialization.html#initializingschedulerviaheaderconfig"].join(`
`));this.config.rtl&&(this.$container.className+=" dhx_cal_container_rtl"),this._skin_init&&o._skin_init(),o.date.init(),this._scroll=!0,this._quirks=this.$env.isIE&&document.compatMode=="BackCompat",this._quirks7=this.$env.isIE&&navigator.appVersion.indexOf("MSIE 8")==-1,this._els=[],this.get_elements(),this.init_templates(),this.set_actions(),this._init_once(),this._init_touch_events(),this.set_sizes(),o.callEvent("onSchedulerReady",[]),this.setCurrentView(E,b)}},o.xy={min_event_height:40,scale_width:50,scroll_width:18,scale_height:20,month_scale_height:20,menu_width:25,margin_top:0,margin_left:0,editor_width:140,month_head_height:22,event_header_height:14},o.keys={edit_save:13,edit_cancel:27},o.bind=function(v,E){return v.bind?v.bind(E):function(){return v.apply(E,arguments)}},o.set_sizes=function(){var v=this._x=this._obj.clientWidth-this.xy.margin_left,E=this._y=this._obj.clientHeight-this.xy.margin_top,b=this._table_view?0:this.xy.scale_width+this.xy.scroll_width,S=this._table_view?-1:this.xy.scale_width,D=this.$container.querySelector(".dhx_cal_scale_placeholder");o._is_material_skin()?(D||((D=document.createElement("div")).className="dhx_cal_scale_placeholder",this.$container.insertBefore(D,this._els.dhx_cal_header[0])),D.style.display="block",this.set_xy(D,v,this.xy.scale_height+1,0,this.xy.nav_height+(this._quirks?-1:1))):D&&D.parentNode.removeChild(D),this._lightbox&&(o.$container.offsetWidth<1200||this._setLbPosition(document.querySelector(".dhx_cal_light"))),this.set_xy(this._els.dhx_cal_navline[0],v,this.xy.nav_height,0,0),this.set_xy(this._els.dhx_cal_header[0],v-b,this.xy.scale_height,S,this.xy.nav_height+(this._quirks?-1:1));var M=this._els.dhx_cal_navline[0].offsetHeight;M>0&&(this.xy.nav_height=M);var V=this.xy.scale_height+this.xy.nav_height+(this._quirks?-2:0);this.set_xy(this._els.dhx_cal_data[0],v,E-(V+2),0,V+2)},o.set_xy=function(v,E,b,S,D){var M="left";v.style.width=Math.max(0,E)+"px",v.style.height=Math.max(0,b)+"px",arguments.length>3&&(this.config.rtl&&(M="right"),v.style[M]=S+"px",v.style.top=D+"px")},o.get_elements=function(){for(var v=this._obj.getElementsByTagName("DIV"),E=0;E<v.length;E++){var b=o._getClassName(v[E]),S=v[E].getAttribute("data-tab")||v[E].getAttribute("name")||"";b&&(b=b.split(" ")[0]),this._els[b]||(this._els[b]=[]),this._els[b].push(v[E]);var D=o.locale.labels[S+"_tab"]||o.locale.labels[S||b];typeof D!="string"&&S&&!v[E].innerHTML&&(D=S.split("_")[0]),D&&(this._waiAria.labelAttr(v[E],D),v[E].innerHTML=D)}};var x=o._createDomEventScope();o.unset_actions=function(){x.detachAll()},o.set_actions=function(){for(var v in this._els)if(this._click[v])for(var E=0;E<this._els[v].length;E++){var b=this._els[v][E],S=this._click[v].bind(b);x.attach(b,"click",S)}x.attach(this._obj,"selectstart",function(D){return D.preventDefault(),!1}),x.attach(this._obj,"mousemove",function(D){o._temp_touch_block||o._on_mouse_move(D)}),x.attach(this._obj,"mousedown",function(D){o._ignore_next_click||o._on_mouse_down(D)}),x.attach(this._obj,"mouseup",function(D){o._ignore_next_click||o._on_mouse_up(D)}),x.attach(this._obj,"dblclick",function(D){o._on_dbl_click(D)}),x.attach(this._obj,"contextmenu",function(D){var M=D,V=M.target||M.srcElement;return o.callEvent("onContextMenu",[o._locate_event(V),M])})},o.select=function(v){this._select_id!=v&&(o._close_not_saved(),this.editStop(!1),this._select_id&&this.unselect(),this._select_id=v,this.updateEvent(v),this.callEvent("onEventSelected",[v]))},o.unselect=function(v){if(!v||v==this._select_id){var E=this._select_id;this._select_id=null,E&&this.getEvent(E)&&this.updateEvent(E),this.callEvent("onEventUnselected",[E])}},o.getState=function(){return{mode:this._mode,date:new Date(this._date),min_date:new Date(this._min_date),max_date:new Date(this._max_date),editor_id:this._edit_id,lightbox_id:this._lightbox_id,new_event:this._new_event,select_id:this._select_id,expanded:this.expanded,drag_id:this._drag_id,drag_mode:this._drag_mode}},o._click={dhx_cal_data:function(v){if(o._ignore_next_click)return v.preventDefault&&v.preventDefault(),v.cancelBubble=!0,o._ignore_next_click=!1,!1;var E=v.target,b=o._locate_event(E);if(b){if(!o.callEvent("onClick",[b,v])||o.config.readonly)return}else o.callEvent("onEmptyClick",[o.getActionData(v).date,v]);if(b&&o.config.select){o.select(b);var S=o._getClassName(E);S.indexOf("_icon")!=-1&&o._click.buttons[S.split(" ")[1].replace("icon_","")](b)}else o._close_not_saved(),o.getState().select_id&&new Date().valueOf()-(o._new_event||0)>500&&o.unselect()},dhx_cal_prev_button:function(){o._click.dhx_cal_next_button(0,-1)},dhx_cal_next_button:function(v,E){var b=1;o.config.rtl&&(E=-E,b=-b),o.setCurrentView(o.date.add(o.date[o._mode+"_start"](new Date(o._date)),E||b,o._mode))},dhx_cal_today_button:function(){o.callEvent("onBeforeTodayDisplayed",[])&&o.setCurrentView(o._currentDate())},dhx_cal_tab:function(){var v=this.getAttribute("data-tab"),E=this.getAttribute("name"),b=v||E.substring(0,E.search("_tab"));o.setCurrentView(o._date,b)},buttons:{delete:function(v){var E=o.locale.labels.confirm_deleting;o._dhtmlx_confirm(E,o.locale.labels.title_confirm_deleting,function(){o.deleteEvent(v)})},edit:function(v){o.edit(v)},save:function(v){o.editStop(!0)},details:function(v){o.showLightbox(v)},cancel:function(v){o.editStop(!1)}}},o._dhtmlx_confirm=function(v,E,b){if(!v)return b();var S={text:v};E&&(S.title=E),b&&(S.callback=function(D){D&&b()}),o.confirm(S)},o.addEventNow=function(v,E,b){var S={};o._isObject(v)&&!o._isDate(v)&&(S=v,v=null);var D=6e4*(this.config.event_duration||this.config.time_step);v||(v=S.start_date||Math.round(o._currentDate().valueOf()/D)*D);var M=new Date(v);if(!E){var V=this.config.first_hour;V>M.getHours()&&(M.setHours(V),v=M.valueOf()),E=v.valueOf()+D}var F=new Date(E);M.valueOf()==F.valueOf()&&F.setTime(F.valueOf()+D),S.start_date=S.start_date||M,S.end_date=S.end_date||F,S.text=S.text||this.locale.labels.new_event,S.id=this._drag_id=S.id||this.uid(),this._drag_mode="new-size",this._loading=!0;var B=this.addEvent(S);return this.callEvent("onEventCreated",[this._drag_id,b]),this._loading=!1,this._drag_event={},this._on_mouse_up(b),B},o._on_dbl_click=function(v,E){if(E=E||v.target||v.srcElement,!this.config.readonly){var b=o._getClassName(E).split(" ")[0];switch(b){case"dhx_scale_holder":case"dhx_scale_holder_now":case"dhx_month_body":case"dhx_wa_day_data":if(!o.config.dblclick_create)break;this.addEventNow(this.getActionData(v).date,null,v);break;case"dhx_cal_event":case"dhx_wa_ev_body":case"dhx_agenda_line":case"dhx_grid_event":case"dhx_cal_event_line":case"dhx_cal_event_clear":var S=this._locate_event(E);if(!this.callEvent("onDblClick",[S,v]))return;this.config.details_on_dblclick||this._table_view||!this.getEvent(S)._timed||!this.config.select?this.showLightbox(S):this.edit(S);break;case"dhx_time_block":case"dhx_cal_container":return;default:var D=this["dblclick_"+b];if(D)D.call(this,v);else if(E.parentNode&&E!=this)return o._on_dbl_click(v,E.parentNode)}}},o._get_column_index=function(v){var E=0;if(this._cols){for(var b=0,S=0;b+this._cols[S]<v&&S<this._cols.length;)b+=this._cols[S],S++;if(E=S+(this._cols[S]?(v-b)/this._cols[S]:0),this._ignores&&E>=this._cols.length)for(;E>=1&&this._ignores[Math.floor(E)];)E--}return E},o._week_indexes_from_pos=function(v){if(this._cols){var E=this._get_column_index(v.x);return v.x=Math.min(this._cols.length-1,Math.max(0,Math.ceil(E)-1)),v.y=Math.max(0,Math.ceil(60*v.y/(this.config.time_step*this.config.hour_size_px))-1)+this.config.first_hour*(60/this.config.time_step),v}return v},o._mouse_coords=function(v){var E,b=document.body,S=document.documentElement;E=this.$env.isIE||!v.pageX&&!v.pageY?{x:v.clientX+(b.scrollLeft||S.scrollLeft||0)-b.clientLeft,y:v.clientY+(b.scrollTop||S.scrollTop||0)-b.clientTop}:{x:v.pageX,y:v.pageY},this.config.rtl&&this._colsS?(E.x=this.$container.querySelector(".dhx_cal_data").offsetWidth-E.x,this._mode!=="month"&&(E.x-=this.xy.scale_width)):E.x-=this.$domHelpers.getAbsoluteLeft(this._obj)+(this._table_view?0:this.xy.scale_width);var D=this.$container.querySelector(".dhx_cal_data");E.y-=this.$domHelpers.getAbsoluteTop(D)-this._els.dhx_cal_data[0].scrollTop,E.ev=v;var M=this["mouse_"+this._mode];if(M)E=M.call(this,E);else if(this._table_view){var V=this._get_column_index(E.x);if(!this._cols||!this._colsS)return E;var F=0;for(F=1;F<this._colsS.heights.length&&!(this._colsS.heights[F]>E.y);F++);E.y=Math.ceil(24*(Math.max(0,V)+7*Math.max(0,F-1))*60/this.config.time_step),(o._drag_mode||this._mode=="month")&&(E.y=24*(Math.max(0,Math.ceil(V)-1)+7*Math.max(0,F-1))*60/this.config.time_step),this._drag_mode=="move"&&o._ignores_detected&&o.config.preserve_length&&(E._ignores=!0,this._drag_event._event_length||(this._drag_event._event_length=this._get_real_event_length(this._drag_event.start_date,this._drag_event.end_date,{x_step:1,x_unit:"day"}))),E.x=0}else E=this._week_indexes_from_pos(E);return E.timestamp=+new Date,E},o._close_not_saved=function(){if(new Date().valueOf()-(o._new_event||0)>500&&o._edit_id){var v=o.locale.labels.confirm_closing;o._dhtmlx_confirm(v,o.locale.labels.title_confirm_closing,function(){o.editStop(o.config.positive_closing)}),v&&(this._drag_id=this._drag_pos=this._drag_mode=null)}},o._correct_shift=function(v,E){return v-6e4*(new Date(o._min_date).getTimezoneOffset()-new Date(v).getTimezoneOffset())*(E?-1:1)},o._is_pos_changed=function(v,E){function b(S,D,M){return Math.abs(S-D)>M}return!v||!this._drag_pos||!!(this._drag_pos.has_moved||!this._drag_pos.timestamp||E.timestamp-this._drag_pos.timestamp>100||b(v.ev.clientX,E.ev.clientX,5)||b(v.ev.clientY,E.ev.clientY,5))},o._correct_drag_start_date=function(v){var E;o.matrix&&(E=o.matrix[o._mode]),E=E||{x_step:1,x_unit:"day"},v=new Date(v);var b=1;return(E._start_correction||E._end_correction)&&(b=60*(E.last_hour||0)-(60*v.getHours()+v.getMinutes())||1),1*v+(o._get_fictional_event_length(v,b,E)-b)},o._correct_drag_end_date=function(v,E){var b;o.matrix&&(b=o.matrix[o._mode]),b=b||{x_step:1,x_unit:"day"};var S=1*v+o._get_fictional_event_length(v,E,b);return new Date(1*S-(o._get_fictional_event_length(S,-1,b,-1)+1))},o._on_mouse_move=function(v){if(this._drag_mode){var E=this._mouse_coords(v);if(this._is_pos_changed(this._drag_pos,E)){var b,S;if(this._edit_id!=this._drag_id&&this._close_not_saved(),!this._drag_mode)return;var D=null;if(this._drag_pos&&!this._drag_pos.has_moved&&((D=this._drag_pos).has_moved=!0),this._drag_pos=E,this._drag_pos.has_moved=!0,this._drag_mode=="create"){if(D&&(E=D),this._close_not_saved(),this.unselect(this._select_id),this._loading=!0,b=this._get_date_from_pos(E).valueOf(),!this._drag_start)return this.callEvent("onBeforeEventCreated",[v,this._drag_id])?(this._loading=!1,void(this._drag_start=b)):void(this._loading=!1);S=b,this._drag_start;var M=new Date(this._drag_start),V=new Date(S);this._mode!="day"&&this._mode!="week"||M.getHours()!=V.getHours()||M.getMinutes()!=V.getMinutes()||(V=new Date(this._drag_start+1e3)),this._drag_id=this.uid(),this.addEvent(M,V,this.locale.labels.new_event,this._drag_id,E.fields),this.callEvent("onEventCreated",[this._drag_id,v]),this._loading=!1,this._drag_mode="new-size"}var F,B=this.config.time_step,Q=this.getEvent(this._drag_id);if(o.matrix&&(F=o.matrix[o._mode]),F=F||{x_step:1,x_unit:"day"},this._drag_mode=="move")b=this._min_date.valueOf()+6e4*(E.y*this.config.time_step+24*E.x*60),!E.custom&&this._table_view&&(b+=1e3*this.date.time_part(Q.start_date)),!this._table_view&&this._dragEventBody&&this._drag_event._move_event_shift===void 0&&(this._drag_event._move_event_shift=b-Q.start_date),this._drag_event._move_event_shift&&(b-=this._drag_event._move_event_shift),b=this._correct_shift(b),E._ignores&&this.config.preserve_length&&this._table_view?(b=o._correct_drag_start_date(b),S=o._correct_drag_end_date(b,this._drag_event._event_length)):S=Q.end_date.valueOf()-(Q.start_date.valueOf()-b);else{if(b=Q.start_date.valueOf(),S=Q.end_date.valueOf(),this._table_view){var re=this._min_date.valueOf()+E.y*this.config.time_step*6e4+(E.custom?0:864e5);if(this._mode=="month")if(re=this._correct_shift(re,!1),this._drag_from_start){var K=864e5;re<=o.date.date_part(new Date(S+K-1)).valueOf()&&(b=re-K)}else S=re;else this.config.preserve_length?E.resize_from_start?b=o._correct_drag_start_date(re):S=o._correct_drag_end_date(re,0):E.resize_from_start?b=re:S=re}else{var ie=this.date.date_part(new Date(Q.end_date.valueOf()-1)).valueOf(),G=new Date(ie),te=this.config.first_hour,J=60/B*(this.config.last_hour-te);this.config.time_step=1;var we=this._mouse_coords(v);this.config.time_step=B;var Ce=E.y*B*6e4,Ee=Math.min(E.y+1,J)*B*6e4,Ie=6e4*we.y;S=Math.abs(Ce-Ie)>Math.abs(Ee-Ie)?ie+Ee:ie+Ce,S+=6e4*(new Date(S).getTimezoneOffset()-G.getTimezoneOffset()),this._els.dhx_cal_data[0].style.cursor="s-resize",this._mode!="week"&&this._mode!="day"||(S=this._correct_shift(S))}if(this._drag_mode=="new-size")if(S<=this._drag_start){var Ne=E.shift||(this._table_view&&!E.custom?864e5:0);b=S-(E.shift?0:Ne),S=this._drag_start+(Ne||6e4*B)}else b=this._drag_start;else S<=b&&(S=b+6e4*B)}var Ue=new Date(S-1),We=new Date(b);if(this._drag_mode=="move"&&o.config.limit_drag_out&&(+We<+o._min_date||+S>+o._max_date)){if(+Q.start_date<+o._min_date||+Q.end_date>+o._max_date)We=new Date(Q.start_date),S=new Date(Q.end_date);else{var et=S-We;+We<+o._min_date?(We=new Date(o._min_date),E._ignores&&this.config.preserve_length&&this._table_view?(We=new Date(o._correct_drag_start_date(We)),F._start_correction&&(We=new Date(We.valueOf()+F._start_correction)),S=new Date(1*We+this._get_fictional_event_length(We,this._drag_event._event_length,F))):S=new Date(+We+et)):(S=new Date(o._max_date),E._ignores&&this.config.preserve_length&&this._table_view?(F._end_correction&&(S=new Date(S.valueOf()-F._end_correction)),S=new Date(1*S-this._get_fictional_event_length(S,0,F,!0)),We=new Date(1*S-this._get_fictional_event_length(S,this._drag_event._event_length,F,!0)),this._ignores_detected&&(We=o.date.add(We,F.x_step,F.x_unit),S=new Date(1*S-this._get_fictional_event_length(S,0,F,!0)),S=o.date.add(S,F.x_step,F.x_unit))):We=new Date(+S-et))}Ue=new Date(S-1)}if(!this._table_view&&this._dragEventBody&&!o.config.all_timed&&(!o._get_section_view()&&E.x!=this._get_event_sday({start_date:new Date(b),end_date:new Date(b)})||new Date(b).getHours()<this.config.first_hour)&&(et=S-We,this._drag_mode=="move"&&(K=this._min_date.valueOf()+24*E.x*60*6e4,(We=new Date(K)).setHours(this.config.first_hour),S=new Date(We.valueOf()+et),Ue=new Date(S-1))),this._table_view||o.config.all_timed||!(!o.getView()&&E.x!=this._get_event_sday({start_date:new Date(S),end_date:new Date(S)})||new Date(S).getHours()>=this.config.last_hour)||(et=S-We,K=this._min_date.valueOf()+24*E.x*60*6e4,(S=o.date.date_part(new Date(K))).setHours(this.config.last_hour),Ue=new Date(S-1),this._drag_mode=="move"&&(We=new Date(+S-et))),this._table_view||Ue.getDate()==We.getDate()&&Ue.getHours()<this.config.last_hour||o._allow_dnd)if(Q.start_date=We,Q.end_date=new Date(S),this.config.update_render){var Mt=o._els.dhx_cal_data[0].scrollTop;this.update_view(),o._els.dhx_cal_data[0].scrollTop=Mt}else this.updateEvent(this._drag_id);this._table_view&&this.for_rendered(this._drag_id,function(Hr){Hr.className+=" dhx_in_move dhx_cal_event_drag"}),this.callEvent("onEventDrag",[this._drag_id,this._drag_mode,v])}}else if(o.checkEvent("onMouseMove")){var gr=this._locate_event(v.target||v.srcElement);this.callEvent("onMouseMove",[gr,v])}},o._on_mouse_down=function(v,E){if(v.button!=2&&!this.config.readonly&&!this._drag_mode){E=E||v.target||v.srcElement;var b=o._getClassName(E).split(" ")[0];switch(this.config.drag_event_body&&b=="dhx_body"&&E.parentNode&&E.parentNode.className.indexOf("dhx_cal_select_menu")===-1&&(b="dhx_event_move",this._dragEventBody=!0),b){case"dhx_cal_event_line":case"dhx_cal_event_clear":this._table_view&&(this._drag_mode="move");break;case"dhx_event_move":case"dhx_wa_ev_body":this._drag_mode="move";break;case"dhx_event_resize":this._drag_mode="resize",o._getClassName(E).indexOf("dhx_event_resize_end")<0?o._drag_from_start=!0:o._drag_from_start=!1;break;case"dhx_scale_holder":case"dhx_scale_holder_now":case"dhx_month_body":case"dhx_matrix_cell":case"dhx_marked_timespan":this._drag_mode="create";break;case"":if(E.parentNode)return o._on_mouse_down(v,E.parentNode);break;default:if((!o.checkEvent("onMouseDown")||o.callEvent("onMouseDown",[b,v]))&&E.parentNode&&E!=this&&b!="dhx_body")return o._on_mouse_down(v,E.parentNode);this._drag_mode=null,this._drag_id=null}if(this._drag_mode){var S=this._locate_event(E);if(this.config["drag_"+this._drag_mode]&&this.callEvent("onBeforeDrag",[S,this._drag_mode,v])){if(this._drag_id=S,(this._edit_id!=this._drag_id||this._edit_id&&this._drag_mode=="create")&&this._close_not_saved(),!this._drag_mode)return;this._drag_event=o._lame_clone(this.getEvent(this._drag_id)||{}),this._drag_pos=this._mouse_coords(v)}else this._drag_mode=this._drag_id=0}this._drag_start=null}},o._get_private_properties=function(v){var E={};for(var b in v)b.indexOf("_")===0&&(E[b]=!0);return E},o._clear_temporary_properties=function(v,E){var b=this._get_private_properties(v),S=this._get_private_properties(E);for(var D in S)b[D]||delete E[D]},o._on_mouse_up=function(v){if(!v||v.button!=2||!this._mobile){if(this._drag_mode&&this._drag_id){this._els.dhx_cal_data[0].style.cursor="default";var E=this._drag_id,b=this._drag_mode,S=!this._drag_pos||this._drag_pos.has_moved;delete this._drag_event._move_event_shift;var D=this.getEvent(this._drag_id);if(S&&(this._drag_event._dhx_changed||!this._drag_event.start_date||D.start_date.valueOf()!=this._drag_event.start_date.valueOf()||D.end_date.valueOf()!=this._drag_event.end_date.valueOf())){var M=this._drag_mode=="new-size";if(this.callEvent("onBeforeEventChanged",[D,v,M,this._drag_event]))if(this._drag_id=this._drag_mode=null,M&&this.config.edit_on_create){if(this.unselect(),this._new_event=new Date,this._table_view||this.config.details_on_create||!this.config.select||!this.isOneDayEvent(this.getEvent(E)))return o.callEvent("onDragEnd",[E,b,v]),this.showLightbox(E);this._drag_pos=!0,this._select_id=this._edit_id=E}else this._new_event||this.callEvent(M?"onEventAdded":"onEventChanged",[E,this.getEvent(E)]);else M?this.deleteEvent(D.id,!0):(this._drag_event._dhx_changed=!1,this._clear_temporary_properties(D,this._drag_event),o._lame_copy(D,this._drag_event),this.updateEvent(D.id))}this._drag_pos&&(this._drag_pos.has_moved||this._drag_pos===!0)&&(this._drag_id=this._drag_mode=null,this.render_view_data()),o.callEvent("onDragEnd",[E,b,v])}this._drag_id=null,this._drag_mode=null,this._drag_pos=null}},o._trigger_dyn_loading=function(){return!(!this._load_mode||!this._load()||(this._render_wait=!0,0))},o.update_view=function(){this._reset_ignores(),this._update_nav_bar(this.config.header,this.$container.querySelector(".dhx_cal_navline"));var v=this[this._mode+"_view"];if(v?v.call(this,!0):this._reset_scale(),this._trigger_dyn_loading())return!0;this.render_view_data()},o.isViewExists=function(v){return!!(o[v+"_view"]||o.date[v+"_start"]&&o.templates[v+"_date"]&&o.templates[v+"_scale_date"])},o._set_aria_buttons_attrs=function(){for(var v=["dhx_cal_next_button","dhx_cal_prev_button","dhx_cal_tab","dhx_cal_today_button"],E=0;E<v.length;E++)for(var b=this._els[v[E]],S=0;b&&S<b.length;S++){var D=b[S].getAttribute("data-tab")||b[S].getAttribute("name"),M=this.locale.labels[v[E]];D&&(M=this.locale.labels[D+"_tab"]||this.locale.labels[D]||M),v[E]=="dhx_cal_next_button"?M=this.locale.labels.next:v[E]=="dhx_cal_prev_button"&&(M=this.locale.labels.prev),this._waiAria.headerButtonsAttributes(b[S],M||"")}},o.updateView=function(v,E){if(!this.$container)throw new Error(`The scheduler is not initialized. 
 **scheduler.updateView** or **scheduler.setCurrentView** can be called only after **scheduler.init**`);v=v||this._date,E=E||this._mode;var b=this._obj,S="dhx_scheduler_"+this._mode,D="dhx_scheduler_"+E;this._mode&&b.className.indexOf(S)!=-1?b.className=b.className.replace(S,D):b.className+=" "+D;var M,V=!(this._mode!=E||!this.config.preserve_scroll)&&this._els.dhx_cal_data[0].scrollTop;this._els.dhx_multi_day&&this._els.dhx_multi_day[0]&&(M=this._els.dhx_multi_day[0].scrollTop),this[this._mode+"_view"]&&E&&this._mode!=E&&this[this._mode+"_view"](!1),this._close_not_saved(),this._els.dhx_multi_day&&(this._els.dhx_multi_day[0].parentNode.removeChild(this._els.dhx_multi_day[0]),this._els.dhx_multi_day=null),this._mode=E,this._date=v,this._table_view=this._mode=="month",this._dy_shift=0,this.update_view(),this._set_aria_buttons_attrs();var F=this._els.dhx_cal_tab;if(F)for(var B=0;B<F.length;B++){var Q=F[B];Q.getAttribute("data-tab")==this._mode||Q.getAttribute("name")==this._mode+"_tab"?(Q.classList.add("active"),this._waiAria.headerToggleState(Q,!0)):(Q.classList.remove("active"),this._waiAria.headerToggleState(Q,!1))}typeof V=="number"&&(this._els.dhx_cal_data[0].scrollTop=V),typeof M=="number"&&this._els.dhx_multi_day&&this._els.dhx_multi_day[0]&&(this._els.dhx_multi_day[0].scrollTop=M)},o.setCurrentView=function(v,E){this.callEvent("onBeforeViewChange",[this._mode,this._date,E||this._mode,v||this._date])&&(this.updateView(v,E),this.callEvent("onViewChange",[this._mode,this._date]))},o.render=function(v,E){o.setCurrentView(v,E)},o._render_x_header=function(v,E,b,S,D){D=D||0;var M=document.createElement("div");M.className="dhx_scale_bar",this.templates[this._mode+"_scalex_class"]&&(M.className+=" "+this.templates[this._mode+"_scalex_class"](b));var V=this._cols[v]-1;this._mode=="month"&&v===0&&this.config.left_border&&(M.className+=" dhx_scale_bar_border",E+=1),this.set_xy(M,V,this.xy.scale_height-2,E,D);var F=this.templates[this._mode+"_scale_date"](b,this._mode);M.innerHTML=F,this._waiAria.dayHeaderAttr(M,F),S.appendChild(M)},o._get_columns_num=function(v,E){var b=7;if(!o._table_view){var S=o.date["get_"+o._mode+"_end"];S&&(E=S(v)),b=Math.round((E.valueOf()-v.valueOf())/864e5)}return b},o._get_timeunit_start=function(){return this.date[this._mode+"_start"](new Date(this._date.valueOf()))},o._get_view_end=function(){var v=this._get_timeunit_start(),E=o.date.add(v,1,this._mode);if(!o._table_view){var b=o.date["get_"+o._mode+"_end"];b&&(E=b(v))}return E},o._calc_scale_sizes=function(v,E,b){var S=this.config.rtl,D=v,M=this._get_columns_num(E,b);this._process_ignores(E,M,"day",1);for(var V=M-this._ignores_detected,F=0;F<M;F++)this._ignores[F]?(this._cols[F]=0,V++):this._cols[F]=Math.floor(D/(V-F)),D-=this._cols[F],this._colsS[F]=(this._cols[F-1]||0)+(this._colsS[F-1]||(this._table_view?0:(S?this.xy.scroll_width:this.xy.scale_width)+2));this._colsS.col_length=M,this._colsS[M]=this._cols[M-1]+this._colsS[M-1]||0},o._set_scale_col_size=function(v,E,b){var S=this.config;this.set_xy(v,E-1,S.hour_size_px*(S.last_hour-S.first_hour),b+this.xy.scale_width+1,0)},o._render_scales=function(v,E){var b=new Date(o._min_date),S=new Date(o._max_date),D=this.date.date_part(o._currentDate()),M=parseInt(v.style.width,10),V=new Date(this._min_date),F=this._get_columns_num(b,S);this._calc_scale_sizes(M,b,S);var B=0;v.innerHTML="";for(var Q=0;Q<F;Q++){if(this._ignores[Q]||this._render_x_header(Q,B,V,v),!this._table_view){var re=document.createElement("div"),K="dhx_scale_holder";V.valueOf()==D.valueOf()&&(K="dhx_scale_holder_now"),re.setAttribute("data-column-index",Q),this._ignores_detected&&this._ignores[Q]&&(K+=" dhx_scale_ignore"),re.className=K+" "+this.templates.week_date_class(V,D),this._waiAria.dayColumnAttr(re,V),this._set_scale_col_size(re,this._cols[Q],B),E.appendChild(re),this.callEvent("onScaleAdd",[re,V])}B+=this._cols[Q],V=this.date.add(V,1,"day"),V=this.date.day_start(V)}},o._getNavDateElement=function(){return this.$container.querySelector(".dhx_cal_date")},o._reset_scale=function(){if(this.templates[this._mode+"_date"]){var v=this._els.dhx_cal_header[0],E=this._els.dhx_cal_data[0],b=this.config;v.innerHTML="",E.innerHTML="";var S,D,M=(b.readonly||!b.drag_resize?" dhx_resize_denied":"")+(b.readonly||!b.drag_move?" dhx_move_denied":"");E.className="dhx_cal_data"+M,this._scales={},this._cols=[],this._colsS={height:0},this._dy_shift=0,this.set_sizes();var V=this._get_timeunit_start(),F=o._get_view_end();S=D=this._table_view?o.date.week_start(V):V,this._min_date=S;var B=this.templates[this._mode+"_date"](V,F,this._mode),Q=this._getNavDateElement();if(Q&&(Q.innerHTML=B,this._waiAria.navBarDateAttr(Q,B)),this._max_date=F,o._render_scales(v,E),this._table_view)this._reset_month_scale(E,V,D);else if(this._reset_hours_scale(E,V,D),b.multi_day){this._els.dhx_multi_day&&(this._els.dhx_multi_day[0].parentNode.removeChild(this._els.dhx_multi_day[0]),this._els.dhx_multi_day=null);var re=this._els.dhx_cal_navline[0].offsetHeight+this._els.dhx_cal_header[0].offsetHeight+1,K=document.createElement("div");K.className="dhx_multi_day",K.style.visibility="hidden";var ie=this._colsS[this._colsS.col_length],G=b.rtl?this.xy.scale_width:this.xy.scroll_width,te=Math.max(ie+G-2,0);this.set_xy(K,te,0,0,re),E.parentNode.insertBefore(K,E);var J=K.cloneNode(!0);J.className="dhx_multi_day_icon",J.style.visibility="hidden",this.set_xy(J,this.xy.scale_width,0,0,re),K.appendChild(J),this._els.dhx_multi_day=[K,J],o.event(this._els.dhx_multi_day[0],"click",this._click.dhx_cal_data)}}},o._reset_hours_scale=function(v,E,b){var S=document.createElement("div");S.className="dhx_scale_holder";for(var D=new Date(1980,1,1,this.config.first_hour,0,0),M=1*this.config.first_hour;M<this.config.last_hour;M++){var V=document.createElement("div");V.className="dhx_scale_hour",V.style.height=this.config.hour_size_px+"px";var F=this.xy.scale_width;this.config.left_border&&(V.className+=" dhx_scale_hour_border"),V.style.width=F+"px";var B=o.templates.hour_scale(D);V.innerHTML=B,this._waiAria.hourScaleAttr(V,B),S.appendChild(V),D=this.date.add(D,1,"hour")}v.appendChild(S),this.config.scroll_hour&&(v.scrollTop=this.config.hour_size_px*(this.config.scroll_hour-this.config.first_hour))},o._currentDate=function(){return o.config.now_date?new Date(o.config.now_date):new Date},o._reset_ignores=function(){this._ignores={},this._ignores_detected=0},o._process_ignores=function(v,E,b,S,D){this._reset_ignores();var M=o["ignore_"+this._mode];if(M)for(var V=new Date(v),F=0;F<E;F++)M(V)&&(this._ignores_detected+=1,this._ignores[F]=!0,D&&E++),V=o.date.add(V,S,b),o.date[b+"_start"]&&(V=o.date[b+"_start"](V))},o._render_month_scale=function(v,E,b,S){var D=o.date.add(E,1,"month"),M=new Date(b),V=o._currentDate();this.date.date_part(V),this.date.date_part(b),S=S||Math.ceil(Math.round((D.valueOf()-b.valueOf())/864e5)/7);for(var F=[],B=0;B<=7;B++){var Q=(this._cols[B]||0)-1;B===0&&this.config.left_border&&(Q-=1),F[B]=Q+"px"}function re(Ni){var va=o._colsS.height;return o._colsS.heights[Ni+1]!==void 0&&(va=o._colsS.heights[Ni+1]-(o._colsS.heights[Ni]||0)),va}var K=0,ie=document.createElement("table");ie.setAttribute("cellpadding","0"),ie.setAttribute("cellspacing","0");var G=document.createElement("tbody");ie.appendChild(G);var te=[];for(B=0;B<S;B++){var J=document.createElement("tr");G.appendChild(J);for(var we=Math.max(re(B)-o.xy.month_head_height,0),Ce=0;Ce<7;Ce++){var Ee=document.createElement("td");J.appendChild(Ee);var Ie="";b<E?Ie="dhx_before":b>=D?Ie="dhx_after":b.valueOf()==V.valueOf()&&(Ie="dhx_now"),this._ignores_detected&&this._ignores[Ce]&&(Ie+=" dhx_scale_ignore"),Ee.className=Ie+" "+this.templates.month_date_class(b,V),Ee.setAttribute("data-cell-date",o.templates.format_date(b));var Ne="dhx_month_body",Ue="dhx_month_head";if(Ce===0&&this.config.left_border&&(Ne+=" dhx_month_body_border",Ue+=" dhx_month_head_border"),this._ignores_detected&&this._ignores[Ce])Ee.appendChild(document.createElement("div")),Ee.appendChild(document.createElement("div"));else{this._waiAria.monthCellAttr(Ee,b);var We=document.createElement("div");We.className=Ue,We.innerHTML=this.templates.month_day(b),Ee.appendChild(We);var et=document.createElement("div");et.className=Ne,et.style.height=we+"px",et.style.width=F[Ce],Ee.appendChild(et)}te.push(b);var Mt=b.getDate();(b=this.date.add(b,1,"day")).getDate()-Mt>1&&(b=new Date(b.getFullYear(),b.getMonth(),Mt+1,12,0))}o._colsS.heights[B]=K,K+=re(B)}this._min_date=M,this._max_date=b,v.innerHTML="",v.appendChild(ie),this._scales={};var gr=v.getElementsByTagName("div");for(B=0;B<te.length;B++){v=gr[2*B+1];var Hr=te[B];this._scales[+Hr]=v}for(B=0;B<te.length;B++)Hr=te[B],this.callEvent("onScaleAdd",[this._scales[+Hr],Hr]);return this._max_date},o._reset_month_scale=function(v,E,b,S){var D=o.date.add(E,1,"month"),M=o._currentDate();this.date.date_part(M),this.date.date_part(b),S=S||Math.ceil(Math.round((D.valueOf()-b.valueOf())/864e5)/7);var V=Math.floor(v.clientHeight/S)-this.xy.month_head_height;return this._colsS.height=V+this.xy.month_head_height,this._colsS.heights=[],o._render_month_scale(v,E,b,S)},o.getView=function(v){return v||(v=o.getState().mode),o.matrix&&o.matrix[v]?o.matrix[v]:o._props&&o._props[v]?o._props[v]:null},o.getLabel=function(v,E){for(var b=this.config.lightbox.sections,S=0;S<b.length;S++)if(b[S].map_to==v){for(var D=b[S].options,M=0;M<D.length;M++)if(D[M].key==E)return D[M].label}return""},o.updateCollection=function(v,E){var b=o.serverList(v);return!!b&&(b.splice(0,b.length),b.push.apply(b,E||[]),o.callEvent("onOptionsLoad",[]),o.resetLightbox(),o.hideCover(),!0)},o._lame_clone=function(v,E){var b,S,D;for(E=E||[],b=0;b<E.length;b+=2)if(v===E[b])return E[b+1];if(v&&C(v)=="object"){for(D=Object.create(v),S=[Array,Date,Number,String,Boolean],b=0;b<S.length;b++)v instanceof S[b]&&(D=b?new S[b](v):new S[b]);for(b in E.push(v,D),v)Object.prototype.hasOwnProperty.apply(v,[b])&&(D[b]=o._lame_clone(v[b],E))}return D||v},o._lame_copy=function(v,E){for(var b in E)E.hasOwnProperty(b)&&(v[b]=E[b]);return v},o._get_date_from_pos=function(v){var E=this._min_date.valueOf()+6e4*(v.y*this.config.time_step+24*(this._table_view?0:v.x)*60);return new Date(this._correct_shift(E))},o.getActionData=function(v){var E=this._mouse_coords(v);return{date:this._get_date_from_pos(E),section:E.section}},o._focus=function(v,E){if(v&&v.focus)if(this._mobile)window.setTimeout(function(){v.focus()},10);else try{E&&v.select&&v.offsetWidth&&v.select(),v.focus()}catch{}},o._get_real_event_length=function(v,E,b){var S,D=E-v,M=b._start_correction+b._end_correction||0,V=this["ignore_"+this._mode],F=0;b.render?(F=this._get_date_index(b,v),S=this._get_date_index(b,E)):S=Math.round(D/60/60/1e3/24);for(var B=!0;F<S;){var Q=o.date.add(E,-b.x_step,b.x_unit);V&&V(E)&&(!B||B&&V(Q))?D-=E-Q:(B=!1,D-=M),E=Q,S--}return D},o._get_fictional_event_length=function(v,E,b,S){var D=new Date(v),M=S?-1:1;if(b._start_correction||b._end_correction){var V;V=S?60*D.getHours()+D.getMinutes()-60*(b.first_hour||0):60*(b.last_hour||0)-(60*D.getHours()+D.getMinutes());var F=60*(b.last_hour-b.first_hour),B=Math.ceil((E/6e4-V)/F);B<0&&(B=0),E+=B*(1440-F)*60*1e3}var Q,re=new Date(1*v+E*M),K=this["ignore_"+this._mode],ie=0;for(b.render?(ie=this._get_date_index(b,D),Q=this._get_date_index(b,re)):Q=Math.round(E/60/60/1e3/24);ie*M<=Q*M;){var G=o.date.add(D,b.x_step*M,b.x_unit);K&&K(D)&&(E+=(G-D)*M,Q+=M),D=G,ie+=M}return E},o._get_section_view=function(){return this.getView()},o._get_section_property=function(){return this.matrix&&this.matrix[this._mode]?this.matrix[this._mode].y_property:this._props&&this._props[this._mode]?this._props[this._mode].map_to:null},o._is_initialized=function(){var v=this.getState();return this._obj&&v.date&&v.mode},o._is_lightbox_open=function(){var v=this.getState();return v.lightbox_id!==null&&v.lightbox_id!==void 0}}(w),function(o){(function(){var c=new RegExp(`<(?:.|
)*?>`,"gm"),u=new RegExp(" +","gm");function _(E){return(E+"").replace(c," ").replace(u," ")}var y=new RegExp("'","gm");function x(E){return(E+"").replace(y,"&#39;")}for(var v in o._waiAria={getAttributeString:function(E){var b=[" "];for(var S in E)if(typeof E[S]!="function"&&R(E[S])!="object"){var D=x(_(E[S]));b.push(S+"='"+D+"'")}return b.push(" "),b.join(" ")},setAttributes:function(E,b){for(var S in b)E.setAttribute(S,_(b[S]));return E},labelAttr:function(E,b){return this.setAttributes(E,{"aria-label":b})},label:function(E){return o._waiAria.getAttributeString({"aria-label":E})},hourScaleAttr:function(E,b){this.labelAttr(E,b)},monthCellAttr:function(E,b){this.labelAttr(E,o.templates.day_date(b))},navBarDateAttr:function(E,b){this.labelAttr(E,b)},dayHeaderAttr:function(E,b){this.labelAttr(E,b)},dayColumnAttr:function(E,b){this.dayHeaderAttr(E,o.templates.day_date(b))},headerButtonsAttributes:function(E,b){return this.setAttributes(E,{role:"button","aria-label":b})},headerToggleState:function(E,b){return this.setAttributes(E,{"aria-pressed":b?"true":"false"})},getHeaderCellAttr:function(E){return o._waiAria.getAttributeString({"aria-label":E})},eventAttr:function(E,b){this._eventCommonAttr(E,b)},_eventCommonAttr:function(E,b){b.setAttribute("aria-label",_(o.templates.event_text(E.start_date,E.end_date,E))),o.config.readonly&&b.setAttribute("aria-readonly",!0),E.$dataprocessor_class&&b.setAttribute("aria-busy",!0),b.setAttribute("aria-selected",o.getState().select_id==E.id?"true":"false")},setEventBarAttr:function(E,b){this._eventCommonAttr(E,b)},_getAttributes:function(E,b){var S={setAttribute:function(D,M){this[D]=M}};return E.apply(this,[b,S]),S},eventBarAttrString:function(E){return this.getAttributeString(this._getAttributes(this.setEventBarAttr,E))},agendaHeadAttrString:function(){return this.getAttributeString({role:"row"})},agendaHeadDateString:function(E){return this.getAttributeString({role:"columnheader","aria-label":E})},agendaHeadDescriptionString:function(E){return this.agendaHeadDateString(E)},agendaDataAttrString:function(){return this.getAttributeString({role:"grid"})},agendaEventAttrString:function(E){var b=this._getAttributes(this._eventCommonAttr,E);return b.role="row",this.getAttributeString(b)},agendaDetailsBtnString:function(){return this.getAttributeString({role:"button","aria-label":o.locale.labels.icon_details})},gridAttrString:function(){return this.getAttributeString({role:"grid"})},gridRowAttrString:function(E){return this.agendaEventAttrString(E)},gridCellAttrString:function(E,b,S){return this.getAttributeString({role:"gridcell","aria-label":[b.label===void 0?b.id:b.label,": ",S]})},mapAttrString:function(){return this.gridAttrString()},mapRowAttrString:function(E){return this.gridRowAttrString(E)},mapDetailsBtnString:function(){return this.agendaDetailsBtnString()},minicalHeader:function(E,b){this.setAttributes(E,{id:b+"","aria-live":"assertice","aria-atomic":"true"})},minicalGrid:function(E,b){this.setAttributes(E,{"aria-labelledby":b+"",role:"grid"})},minicalRow:function(E){this.setAttributes(E,{role:"row"})},minicalDayCell:function(E,b){var S=b.valueOf()<o._max_date.valueOf()&&b.valueOf()>=o._min_date.valueOf();this.setAttributes(E,{role:"gridcell","aria-label":o.templates.day_date(b),"aria-selected":S?"true":"false"})},minicalHeadCell:function(E){this.setAttributes(E,{role:"columnheader"})},weekAgendaDayCell:function(E,b){var S=E.querySelector(".dhx_wa_scale_bar"),D=E.querySelector(".dhx_wa_day_data"),M=o.uid()+"";this.setAttributes(S,{id:M}),this.setAttributes(D,{"aria-labelledby":M})},weekAgendaEvent:function(E,b){this.eventAttr(b,E)},lightboxHiddenAttr:function(E){E.setAttribute("aria-hidden","true")},lightboxVisibleAttr:function(E){E.setAttribute("aria-hidden","false")},lightboxSectionButtonAttrString:function(E){return this.getAttributeString({role:"button","aria-label":E,tabindex:"0"})},yearHeader:function(E,b){this.setAttributes(E,{id:b+""})},yearGrid:function(E,b){this.minicalGrid(E,b)},yearHeadCell:function(E){return this.minicalHeadCell(E)},yearRow:function(E){return this.minicalRow(E)},yearDayCell:function(E){this.setAttributes(E,{role:"gridcell"})},lightboxAttr:function(E){E.setAttribute("role","dialog"),E.setAttribute("aria-hidden","true"),E.firstChild.setAttribute("role","heading")},lightboxButtonAttrString:function(E){return this.getAttributeString({role:"button","aria-label":o.locale.labels[E],tabindex:"0"})},eventMenuAttrString:function(E){return this.getAttributeString({role:"button","aria-label":o.locale.labels[E]})},lightboxHeader:function(E,b){E.setAttribute("aria-label",b)},lightboxSelectAttrString:function(E){var b="";switch(E){case"%Y":b=o.locale.labels.year;break;case"%m":b=o.locale.labels.month;break;case"%d":b=o.locale.labels.day;break;case"%H:%i":b=o.locale.labels.hour+" "+o.locale.labels.minute}return o._waiAria.getAttributeString({"aria-label":b})},messageButtonAttrString:function(E){return"tabindex='0' role='button' aria-label='"+E+"'"},messageInfoAttr:function(E){E.setAttribute("role","alert")},messageModalAttr:function(E,b){E.setAttribute("role","dialog"),b&&E.setAttribute("aria-labelledby",b)},quickInfoAttr:function(E){E.setAttribute("role","dialog")},quickInfoHeaderAttrString:function(){return" role='heading' "},quickInfoHeader:function(E,b){E.setAttribute("aria-label",b)},quickInfoButtonAttrString:function(E){return o._waiAria.getAttributeString({role:"button","aria-label":E,tabindex:"0"})},tooltipAttr:function(E){E.setAttribute("role","tooltip")},tooltipVisibleAttr:function(E){E.setAttribute("aria-hidden","false")},tooltipHiddenAttr:function(E){E.setAttribute("aria-hidden","true")}},o._waiAria)o._waiAria[v]=function(E){return function(){return o.config.wai_aria_attributes?E.apply(this,arguments):" "}}(o._waiAria[v])})()}(w),w.utils=U,w.$domHelpers=de,w.utils.dom=de,w.uid=U.uid,w.mixin=U.mixin,w.defined=U.defined,w.assert=function(o){return function(c,u){c||o.config.show_errors&&o.callEvent("onError",[u])!==!1&&(o.message?o.message({type:"error",text:u,expire:-1}):console.log(u))}}(w),w.copy=U.copy,w._getFocusableNodes=de.getFocusableNodes,w._getClassName=de.getClassName,w._locate_css=de.locateCss;var d=xe(w);w.utils.mixin(w,d),w.env=w.$env=Ze,w.Promise=_e,function(o){o.destructor=function(){for(var c in o.callEvent("onDestroy",[]),this.clearAll(),this.$container&&(this.$container.innerHTML=""),this._eventRemoveAll&&this._eventRemoveAll(),this.resetLightbox&&this.resetLightbox(),this._dp&&this._dp.destructor&&this._dp.destructor(),this.detachAllEvents(),this)c.indexOf("$")===0&&delete this[c];o.$destroyed=!0}}(w),function(o){function c(u,_){var y={method:u};if(_.length===0)throw new Error("Arguments list of query is wrong.");if(_.length===1)return typeof _[0]=="string"?(y.url=_[0],y.async=!0):(y.url=_[0].url,y.async=_[0].async||!0,y.callback=_[0].callback,y.headers=_[0].headers),_[0].data?typeof _[0].data!="string"?y.data=ke()(_[0].data):y.data=_[0].data:y.data="",y;switch(y.url=_[0],u){case"GET":case"DELETE":y.callback=_[1],y.headers=_[2];break;case"POST":case"PUT":_[1]?typeof _[1]!="string"?y.data=ke()(_[1]):y.data=_[1]:y.data="",y.callback=_[2],y.headers=_[3]}return y}o.Promise=_e,o.ajax={cache:!0,method:"get",serializeRequestParams:ke.a,parse:function(u){return typeof u!="string"?u:(u=u.replace(/^[\s]+/,""),typeof DOMParser>"u"||o.$env.isIE?window.ActiveXObject!==void 0&&((_=new window.ActiveXObject("Microsoft.XMLDOM")).async="false",_.loadXML(u)):_=new DOMParser().parseFromString(u,"text/xml"),_);var _},xmltop:function(u,_,y){if(_.status===void 0||_.status<400){var x=_.responseXML?_.responseXML||_:this.parse(_.responseText||_);if(x&&x.documentElement!==null&&!x.getElementsByTagName("parsererror").length)return x.getElementsByTagName(u)[0]}return y!==-1&&o.callEvent("onLoadXMLError",["Incorrect XML",arguments[1],y]),document.createElement("DIV")},xpath:function(u,_){if(_.nodeName||(_=_.responseXML||_),o.$env.isIE)return _.selectNodes(u)||[];for(var y,x=[],v=(_.ownerDocument||_).evaluate(u,_,null,XPathResult.ANY_TYPE,null);y=v.iterateNext();)x.push(y);return x},query:function(u){return this._call(u.method||"GET",u.url,u.data||"",u.async||!0,u.callback,u.headers)},get:function(u,_,y){var x=c("GET",arguments);return this.query(x)},getSync:function(u,_){var y=c("GET",arguments);return y.async=!1,this.query(y)},put:function(u,_,y,x){var v=c("PUT",arguments);return this.query(v)},del:function(u,_,y){var x=c("DELETE",arguments);return this.query(x)},post:function(u,_,y,x){(arguments.length==1||arguments.length==2&&typeof _=="function")&&(_="");var v=c("POST",arguments);return this.query(v)},postSync:function(u,_,y){_=_===null?"":String(_);var x=c("POST",arguments);return x.async=!1,this.query(x)},_call:function(u,_,y,x,v,E){return new o.Promise(function(b,S){var D=(typeof XMLHttpRequest>"u"?"undefined":ze(XMLHttpRequest))===void 0||o.$env.isIE?new window.ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest,M=navigator.userAgent.match(/AppleWebKit/)!==null&&navigator.userAgent.match(/Qt/)!==null&&navigator.userAgent.match(/Safari/)!==null;if(x&&D.addEventListener("readystatechange",function(){if(D.readyState==4||M&&D.readyState==3){if((D.status!=200||D.responseText==="")&&!o.callEvent("onAjaxError",[D]))return;setTimeout(function(){typeof v=="function"&&v.apply(window,[{xmlDoc:D,filePath:_}]),b(D),typeof v=="function"&&(v=null,D=null)},0)}}),u!="GET"||this.cache||(_+=(_.indexOf("?")>=0?"&":"?")+"dhxr"+new Date().getTime()+"=1"),D.open(u,_,x),E)for(var V in E)D.setRequestHeader(V,E[V]);else u.toUpperCase()=="POST"||u=="PUT"||u=="DELETE"?D.setRequestHeader("Content-Type","application/x-www-form-urlencoded"):u=="GET"&&(y=null);if(D.setRequestHeader("X-Requested-With","XMLHttpRequest"),D.send(y),!x)return{xmlDoc:D,filePath:_}}.bind(this))},urlSeparator:function(u){return u.indexOf("?")!=-1?"&":"?"}},o.$ajax=o.ajax}(w),Pe(w),function(o){o.config={default_date:"%j %M %Y",month_date:"%F %Y",load_date:"%Y-%m-%d",week_date:"%l",day_date:"%D, %F %j",hour_date:"%H:%i",month_day:"%d",date_format:"%Y-%m-%d %H:%i",api_date:"%d-%m-%Y %H:%i",parse_exact_format:!1,preserve_length:!0,time_step:5,start_on_monday:!0,first_hour:0,last_hour:24,readonly:!1,drag_resize:!0,drag_move:!0,drag_create:!0,drag_event_body:!0,dblclick_create:!0,edit_on_create:!0,details_on_create:!1,header:null,resize_month_events:!1,resize_month_timed:!1,responsive_lightbox:!1,rtl:!1,cascade_event_display:!1,cascade_event_count:4,cascade_event_margin:30,multi_day:!0,multi_day_height_limit:0,drag_lightbox:!0,preserve_scroll:!0,select:!0,server_utc:!1,touch:!0,touch_tip:!0,touch_drag:500,touch_swipe_dates:!1,quick_info_detached:!0,positive_closing:!1,drag_highlight:!0,limit_drag_out:!1,icons_edit:["icon_save","icon_cancel"],icons_select:["icon_details","icon_edit","icon_delete"],buttons_left:["dhx_save_btn","dhx_cancel_btn"],buttons_right:["dhx_delete_btn"],lightbox:{sections:[{name:"description",map_to:"text",type:"textarea",focus:!0},{name:"time",height:72,type:"time",map_to:"auto"}]},highlight_displayed_event:!0,left_border:!1,ajax_error:"alert",delay_render:0,timeline_swap_resize:!0,wai_aria_attributes:!0,wai_aria_application_role:!0,csp:"auto",event_attribute:"data-event-id",show_errors:!0},o.config.buttons_left.$initial=o.config.buttons_left.join(),o.config.buttons_right.$initial=o.config.buttons_right.join(),o._helpers={parseDate:function(c){return(o.templates.xml_date||o.templates.parse_date)(c)},formatDate:function(c){return(o.templates.xml_format||o.templates.format_date)(c)}},o.templates={},o.init_templates=function(){var c=o.locale.labels;c.dhx_save_btn=c.icon_save,c.dhx_cancel_btn=c.icon_cancel,c.dhx_delete_btn=c.icon_delete;var u=o.date.date_to_str,_=o.config;(function(y,x){for(var v in x)y[v]||(y[v]=x[v])})(o.templates,{day_date:u(_.default_date),month_date:u(_.month_date),week_date:function(y,x){return _.rtl?o.templates.day_date(o.date.add(x,-1,"day"))+" &ndash; "+o.templates.day_date(y):o.templates.day_date(y)+" &ndash; "+o.templates.day_date(o.date.add(x,-1,"day"))},day_scale_date:u(_.default_date),month_scale_date:u(_.week_date),week_scale_date:u(_.day_date),hour_scale:u(_.hour_date),time_picker:u(_.hour_date),event_date:u(_.hour_date),month_day:u(_.month_day),load_format:u(_.load_date),format_date:u(_.date_format,_.server_utc),parse_date:o.date.str_to_date(_.date_format,_.server_utc),api_date:o.date.str_to_date(_.api_date,!1,!1),event_header:function(y,x,v){return o.templates.event_date(y)+" - "+o.templates.event_date(x)},event_text:function(y,x,v){return v.text},event_class:function(y,x,v){return""},month_date_class:function(y){return""},week_date_class:function(y){return""},event_bar_date:function(y,x,v){return o.templates.event_date(y)+" "},event_bar_text:function(y,x,v){return v.text},month_events_link:function(y,x){return"<a>View more("+x+" events)</a>"},drag_marker_class:function(y,x,v){return""},drag_marker_content:function(y,x,v){return""},tooltip_date_format:o.date.date_to_str("%Y-%m-%d %H:%i"),tooltip_text:function(y,x,v){return"<b>Event:</b> "+v.text+"<br/><b>Start date:</b> "+o.templates.tooltip_date_format(y)+"<br/><b>End date:</b> "+o.templates.tooltip_date_format(x)}}),this.callEvent("onTemplatesReady",[])}}(w),function(o){o._events={},o.clearAll=function(){this._events={},this._loaded={},this._edit_id=null,this._select_id=null,this._drag_id=null,this._drag_mode=null,this._drag_pos=null,this._new_event=null,this.clear_view(),this.callEvent("onClearAll",[])},o.addEvent=function(c,u,_,y,x){if(!arguments.length)return this.addEventNow();var v=c;arguments.length!=1&&((v=x||{}).start_date=c,v.end_date=u,v.text=_,v.id=y),v.id=v.id||o.uid(),v.text=v.text||"",typeof v.start_date=="string"&&(v.start_date=this.templates.api_date(v.start_date)),typeof v.end_date=="string"&&(v.end_date=this.templates.api_date(v.end_date));var E=6e4*(this.config.event_duration||this.config.time_step);v.start_date.valueOf()==v.end_date.valueOf()&&v.end_date.setTime(v.end_date.valueOf()+E),v.start_date.setMilliseconds(0),v.end_date.setMilliseconds(0),v._timed=this.isOneDayEvent(v);var b=!this._events[v.id];return this._events[v.id]=v,this.event_updated(v),this._loading||this.callEvent(b?"onEventAdded":"onEventChanged",[v.id,v]),v.id},o.deleteEvent=function(c,u){var _=this._events[c];(u||this.callEvent("onBeforeEventDelete",[c,_])&&this.callEvent("onConfirmedBeforeEventDelete",[c,_]))&&(_&&(o.getState().select_id==c&&o.unselect(),delete this._events[c],this.event_updated(_),this._drag_id==_.id&&(this._drag_id=null,this._drag_mode=null,this._drag_pos=null)),this.callEvent("onEventDeleted",[c,_]))},o.getEvent=function(c){return this._events[c]},o.setEvent=function(c,u){u.id||(u.id=c),this._events[c]=u},o.for_rendered=function(c,u){for(var _=this._rendered.length-1;_>=0;_--)this._rendered[_].getAttribute(this.config.event_attribute)==c&&u(this._rendered[_],_)},o.changeEventId=function(c,u){if(c!=u){var _=this._events[c];_&&(_.id=u,this._events[u]=_,delete this._events[c]),this.for_rendered(c,function(y){y.setAttribute("event_id",u),y.setAttribute(o.config.event_attribute,u)}),this._select_id==c&&(this._select_id=u),this._edit_id==c&&(this._edit_id=u),this.callEvent("onEventIdChange",[c,u])}},function(){for(var c=["text","Text","start_date","StartDate","end_date","EndDate"],u=function(x){return function(v){return o.getEvent(v)[x]}},_=function(x){return function(v,E){var b=o.getEvent(v);b[x]=E,b._changed=!0,b._timed=this.isOneDayEvent(b),o.event_updated(b,!0)}},y=0;y<c.length;y+=2)o["getEvent"+c[y+1]]=u(c[y]),o["setEvent"+c[y+1]]=_(c[y])}(),o.event_updated=function(c,u){this.is_visible_events(c)?this.render_view_data():this.clear_event(c.id)},o.is_visible_events=function(c){if(!this._min_date||!this._max_date)return!1;if(c.start_date.valueOf()<this._max_date.valueOf()&&this._min_date.valueOf()<c.end_date.valueOf()){var u=c.start_date.getHours(),_=c.end_date.getHours()+c.end_date.getMinutes()/60,y=this.config.last_hour,x=this.config.first_hour;return!(!this._table_view&&(_>y||_<=x)&&(u>=y||u<x)&&!((c.end_date.valueOf()-c.start_date.valueOf())/36e5>24-(this.config.last_hour-this.config.first_hour)||u<y&&_>x))}return!1},o.isOneDayEvent=function(c){var u=new Date(c.end_date.valueOf()-1);return c.start_date.getFullYear()===u.getFullYear()&&c.start_date.getMonth()===u.getMonth()&&c.start_date.getDate()===u.getDate()&&c.end_date.valueOf()-c.start_date.valueOf()<864e5},o.get_visible_events=function(c){var u=[];for(var _ in this._events)this.is_visible_events(this._events[_])&&(c&&!this._events[_]._timed||this.filter_event(_,this._events[_])&&u.push(this._events[_]));return u},o.filter_event=function(c,u){var _=this["filter_"+this._mode];return!_||_(c,u)},o._is_main_area_event=function(c){return!!c._timed},o.render_view_data=function(c,u){var _=!1;if(!c){if(_=!0,this._not_render)return void(this._render_wait=!0);this._render_wait=!1,this.clear_view(),c=this.get_visible_events(!(this._table_view||this.config.multi_day))}for(var y=0,x=c.length;y<x;y++)this._recalculate_timed(c[y]);if(this.config.multi_day&&!this._table_view){var v=[],E=[];for(y=0;y<c.length;y++)this._is_main_area_event(c[y])?v.push(c[y]):E.push(c[y]);if(!this._els.dhx_multi_day){var b=o._commonErrorMessages.unknownView(this._mode);throw new Error(b)}this._rendered_location=this._els.dhx_multi_day[0],this._table_view=!0,this.render_data(E,u),this._table_view=!1,this._rendered_location=this._els.dhx_cal_data[0],this._table_view=!1,this.render_data(v,u)}else{var S=document.createDocumentFragment(),D=this._els.dhx_cal_data[0];this._rendered_location=S,this.render_data(c,u),D.appendChild(S),this._rendered_location=D}_&&this.callEvent("onDataRender",[])},o._view_month_day=function(c){var u=o.getActionData(c).date;o.callEvent("onViewMoreClick",[u])&&o.setCurrentView(u,"day")},o._render_month_link=function(c){for(var u=this._rendered_location,_=this._lame_clone(c),y=c._sday;y<c._eday;y++){_._sday=y,_._eday=y+1;var x=o.date,v=o._min_date;v=x.add(v,_._sweek,"week"),v=x.add(v,_._sday,"day");var E=o.getEvents(v,x.add(v,1,"day")).length,b=this._get_event_bar_pos(_),S=b.x2-b.x,D=document.createElement("div");o.event(D,"click",function(M){o._view_month_day(M)}),D.className="dhx_month_link",D.style.top=b.y+"px",D.style.left=b.x+"px",D.style.width=S+"px",D.innerHTML=o.templates.month_events_link(v,E),this._rendered.push(D),u.appendChild(D)}},o._recalculate_timed=function(c){var u;c&&(u=Je(c)!="object"?this._events[c]:c)&&(u._timed=o.isOneDayEvent(u))},o.attachEvent("onEventChanged",o._recalculate_timed),o.attachEvent("onEventAdded",o._recalculate_timed),o.render_data=function(c,u){c=this._pre_render_events(c,u);for(var _={},y=0;y<c.length;y++)if(this._table_view)if(o._mode!="month")this.render_event_bar(c[y]);else{var x=o.config.max_month_events;x!==1*x||c[y]._sorder<x?this.render_event_bar(c[y]):x!==void 0&&c[y]._sorder==x&&o._render_month_link(c[y])}else{var v=c[y],E=o.locate_holder(v._sday);if(!E)continue;_[v._sday]||(_[v._sday]={real:E,buffer:document.createDocumentFragment(),width:E.clientWidth});var b=_[v._sday];this.render_event(v,b.buffer,b.width)}for(var y in _)(b=_[y]).real&&b.buffer&&b.real.appendChild(b.buffer)},o._get_first_visible_cell=function(c){for(var u=0;u<c.length;u++)if((c[u].className||"").indexOf("dhx_scale_ignore")==-1)return c[u];return c[0]},o._pre_render_events=function(c,u){var _=this.xy.bar_height,y=this._colsS.heights,x=this._colsS.heights=[0,0,0,0,0,0,0],v=this._els.dhx_cal_data[0];if(c=this._table_view?this._pre_render_events_table(c,u):this._pre_render_events_line(c,u),this._table_view)if(u)this._colsS.heights=y;else{var E=v.firstChild;if(E.rows){for(var b=0;b<E.rows.length;b++){x[b]++;var S=E.rows[b].cells,D=this._colsS.height-this.xy.month_head_height;if(x[b]*_>D){var M=D;1*this.config.max_month_events!==this.config.max_month_events||x[b]<=this.config.max_month_events?M=x[b]*_:(this.config.max_month_events+1)*_>D&&(M=(this.config.max_month_events+1)*_);for(var V=0;V<S.length;V++)S[V].childNodes[1].style.height=M+"px"}x[b]=(x[b-1]||0)+o._get_first_visible_cell(S).offsetHeight}if(x.unshift(0),E.parentNode.offsetHeight<E.parentNode.scrollHeight&&!o._colsS.scroll_fix&&o.xy.scroll_width){var F=o._colsS,B=F[F.col_length],Q=F.heights.slice();B-=o.xy.scroll_width||0,this._calc_scale_sizes(B,this._min_date,this._max_date),o._colsS.heights=Q,this.set_xy(this._els.dhx_cal_header[0],B,this.xy.scale_height),o._render_scales(this._els.dhx_cal_header[0]),o._render_month_scale(this._els.dhx_cal_data[0],this._get_timeunit_start(),this._min_date),F.scroll_fix=!0}}else if(c.length||this._els.dhx_multi_day[0].style.visibility!="visible"||(x[0]=-1),c.length||x[0]==-1){var re=(x[0]+1)*_+1,K=re,ie=re+"px";this.config.multi_day_height_limit&&(ie=(K=Math.min(re,this.config.multi_day_height_limit))+"px"),v.style.top=this._els.dhx_cal_navline[0].offsetHeight+this._els.dhx_cal_header[0].offsetHeight+K+"px",v.style.height=this._obj.offsetHeight-parseInt(v.style.top,10)-(this.xy.margin_top||0)+"px";var G=this._els.dhx_multi_day[0];G.style.height=ie,G.style.visibility=x[0]==-1?"hidden":"visible";var te=this._els.dhx_multi_day[1];te.style.height=ie,te.style.visibility=x[0]==-1?"hidden":"visible",te.className=x[0]?"dhx_multi_day_icon":"dhx_multi_day_icon_small",this._dy_shift=(x[0]+1)*_,this.config.multi_day_height_limit&&(this._dy_shift=Math.min(this.config.multi_day_height_limit,this._dy_shift)),x[0]=0,K!=re&&(v.style.top=parseInt(v.style.top)+2+"px",G.style.overflowY="auto",te.style.position="fixed",te.style.top="",te.style.left="")}}return c},o._get_event_sday=function(c){var u=this.date.day_start(new Date(c.start_date));return Math.round((u.valueOf()-this._min_date.valueOf())/864e5)},o._get_event_mapped_end_date=function(c){var u=c.end_date;if(this.config.separate_short_events){var _=(c.end_date-c.start_date)/6e4;_<this._min_mapped_duration&&(u=this.date.add(u,this._min_mapped_duration-_,"minute"))}return u},o._pre_render_events_line=function(c,u){c.sort(function(G,te){return G.start_date.valueOf()==te.start_date.valueOf()?G.id>te.id?1:-1:G.start_date>te.start_date?1:-1});var _=[],y=[];this._min_mapped_duration=Math.ceil(60*this.xy.min_event_height/this.config.hour_size_px);for(var x=0;x<c.length;x++){var v=c[x],E=v.start_date,b=v.end_date,S=E.getHours(),D=b.getHours();if(v._sday=this._get_event_sday(v),this._ignores[v._sday])c.splice(x,1),x--;else{if(_[v._sday]||(_[v._sday]=[]),!u){v._inner=!1;for(var M=_[v._sday];M.length;){var V=M[M.length-1];if(!(this._get_event_mapped_end_date(V).valueOf()<=v.start_date.valueOf()))break;M.splice(M.length-1,1)}for(var F=M.length,B=!1,Q=0;Q<M.length;Q++)if(V=M[Q],this._get_event_mapped_end_date(V).valueOf()<=v.start_date.valueOf()){B=!0,v._sorder=V._sorder,F=Q,v._inner=!0;break}if(M.length&&(M[M.length-1]._inner=!0),!B)if(M.length)if(M.length<=M[M.length-1]._sorder){if(M[M.length-1]._sorder)for(Q=0;Q<M.length;Q++){for(var re=!1,K=0;K<M.length;K++)if(M[K]._sorder==Q){re=!0;break}if(!re){v._sorder=Q;break}}else v._sorder=0;v._inner=!0}else{var ie=M[0]._sorder;for(Q=1;Q<M.length;Q++)M[Q]._sorder>ie&&(ie=M[Q]._sorder);v._sorder=ie+1,v._inner=!1}else v._sorder=0;M.splice(F,F==M.length?0:1,v),M.length>(M.max_count||0)?(M.max_count=M.length,v._count=M.length):v._count=v._count?v._count:1}(S<this.config.first_hour||D>=this.config.last_hour)&&(y.push(v),c[x]=v=this._copy_event(v),S<this.config.first_hour&&(v.start_date.setHours(this.config.first_hour),v.start_date.setMinutes(0)),D>=this.config.last_hour&&(v.end_date.setMinutes(0),v.end_date.setHours(this.config.last_hour)),v.start_date>v.end_date||S==this.config.last_hour)&&(c.splice(x,1),x--)}}if(!u){for(x=0;x<c.length;x++)c[x]._count=_[c[x]._sday].max_count;for(x=0;x<y.length;x++)y[x]._count=_[y[x]._sday].max_count}return c},o._time_order=function(c){c.sort(function(u,_){return u.start_date.valueOf()==_.start_date.valueOf()?u._timed&&!_._timed?1:!u._timed&&_._timed?-1:u.id>_.id?1:-1:u.start_date>_.start_date?1:-1})},o._is_any_multiday_cell_visible=function(c,u,_){var y=this._cols.length,x=!1,v=c,E=!0,b=new Date(u);for(o.date.day_start(new Date(u)).valueOf()!=u.valueOf()&&(b=o.date.day_start(b),b=o.date.add(b,1,"day"));v<b;){E=!1;var S=this.locate_holder_day(v,!1,_)%y;if(!this._ignores[S]){x=!0;break}v=o.date.add(v,1,"day")}return E||x},o._pre_render_events_table=function(c,u){this._time_order(c);for(var _,y=[],x=[[],[],[],[],[],[],[]],v=this._colsS.heights,E=this._cols.length,b={},S=0;S<c.length;S++){var D=c[S],M=D.id;b[M]||(b[M]={first_chunk:!0,last_chunk:!0});var V=b[M],F=_||D.start_date,B=D.end_date;F<this._min_date&&(V.first_chunk=!1,F=this._min_date),B>this._max_date&&(V.last_chunk=!1,B=this._max_date);var Q=this.locate_holder_day(F,!1,D);if(D._sday=Q%E,!this._ignores[D._sday]||!D._timed){var re=this.locate_holder_day(B,!0,D)||E;if(D._eday=re%E||E,D._length=re-Q,D._sweek=Math.floor((this._correct_shift(F.valueOf(),1)-this._min_date.valueOf())/(864e5*E)),o._is_any_multiday_cell_visible(F,B,D)){var K,ie=x[D._sweek];for(K=0;K<ie.length&&!(ie[K]._eday<=D._sday);K++);if(D._sorder&&u||(D._sorder=K),D._sday+D._length<=E)_=null,y.push(D),ie[K]=D,v[D._sweek]=ie.length-1,D._first_chunk=V.first_chunk,D._last_chunk=V.last_chunk;else{var G=this._copy_event(D);G.id=D.id,G._length=E-D._sday,G._eday=E,G._sday=D._sday,G._sweek=D._sweek,G._sorder=D._sorder,G.end_date=this.date.add(F,G._length,"day"),G._first_chunk=V.first_chunk,V.first_chunk&&(V.first_chunk=!1),y.push(G),ie[K]=G,_=G.end_date,v[D._sweek]=ie.length-1,S--}}}}return y},o._copy_dummy=function(){var c=new Date(this.start_date),u=new Date(this.end_date);this.start_date=c,this.end_date=u},o._copy_event=function(c){return this._copy_dummy.prototype=c,new this._copy_dummy},o._rendered=[],o.clear_view=function(){for(var c=0;c<this._rendered.length;c++){var u=this._rendered[c];u.parentNode&&u.parentNode.removeChild(u)}this._rendered=[]},o.updateEvent=function(c){var u=this.getEvent(c);this.clear_event(c),u&&this.is_visible_events(u)&&this.filter_event(c,u)&&(this._table_view||this.config.multi_day||u._timed)&&(this.config.update_render?this.render_view_data():this.getState().mode!="month"||this.getState().drag_id||this.isOneDayEvent(u)?this.render_view_data([u],!0):this.render_view_data())},o.clear_event=function(c){this.for_rendered(c,function(u,_){u.parentNode&&u.parentNode.removeChild(u),o._rendered.splice(_,1)})},o._y_from_date=function(c){var u=60*c.getHours()+c.getMinutes();return Math.round((60*u*1e3-60*this.config.first_hour*60*1e3)*this.config.hour_size_px/36e5)%(24*this.config.hour_size_px)},o._calc_event_y=function(c,u){u=u||0;var _=60*c.start_date.getHours()+c.start_date.getMinutes(),y=60*c.end_date.getHours()+c.end_date.getMinutes()||60*o.config.last_hour;return{top:this._y_from_date(c.start_date),height:Math.max(u,(y-_)*this.config.hour_size_px/60)}},o.render_event=function(c,u,_){var y=o.xy.menu_width,x=this.config.use_select_menu_space?0:y;if(!(c._sday<0)){var v=o.locate_holder(c._sday);if(v){u=u||v;var E=this._calc_event_y(c,o.xy.min_event_height),b=E.top,S=E.height,D=c._count||1,M=c._sorder||0;_=_||v.clientWidth;var V=Math.floor((_-x)/D),F=M*V+1;if(c._inner||(V*=D-M),this.config.cascade_event_display){var B=this.config.cascade_event_count,Q=this.config.cascade_event_margin;F=M%B*Q;var re=c._inner?(D-M-1)%B*Q/2:0;V=Math.floor(_-x-F-re)}var K=this._render_v_bar(c,x+F,b,V,S,c._text_style,o.templates.event_header(c.start_date,c.end_date,c),o.templates.event_text(c.start_date,c.end_date,c));if(this._waiAria.eventAttr(c,K),this._rendered.push(K),u.appendChild(K),F=F+parseInt(this.config.rtl?v.style.right:v.style.left,10)+x,this._edit_id==c.id){K.style.zIndex=1,V=Math.max(V-4,o.xy.editor_width),(K=document.createElement("div")).setAttribute("event_id",c.id),K.setAttribute(this.config.event_attribute,c.id),this._waiAria.eventAttr(c,K),K.className="dhx_cal_event dhx_cal_editor",this.config.rtl&&F++,this.set_xy(K,V,S-20,F,b+(o.xy.event_header_height||14)),c.color&&(K.style.backgroundColor=c.color);var ie=o.templates.event_class(c.start_date,c.end_date,c);ie&&(K.className+=" "+ie);var G=document.createElement("div");this.set_xy(G,V-6,S-26),G.style.cssText+=";margin:2px 2px 2px 2px;overflow:hidden;",K.appendChild(G),this._els.dhx_cal_data[0].appendChild(K),this._rendered.push(K),G.innerHTML="<textarea class='dhx_cal_editor'>"+c.text+"</textarea>",this._editor=G.querySelector("textarea"),this._quirks7&&(this._editor.style.height=S-12+"px"),o.event(this._editor,"keydown",function(Ue){if(Ue.shiftKey)return!0;var We=Ue.keyCode;We==o.keys.edit_save&&o.editStop(!0),We==o.keys.edit_cancel&&o.editStop(!1),We!=o.keys.edit_save&&We!=o.keys.edit_cancel||Ue.preventDefault&&Ue.preventDefault()}),o.event(this._editor,"selectstart",function(Ue){return Ue.cancelBubble=!0,!0}),o._focus(this._editor,!0),this._els.dhx_cal_data[0].scrollLeft=0}if(this.xy.menu_width!==0&&this._select_id==c.id){this.config.cascade_event_display&&this._drag_mode&&(K.style.zIndex=1);for(var te,J=this.config["icons_"+(this._edit_id==c.id?"edit":"select")],we="",Ce=c.color?"background-color: "+c.color+";":"",Ee=c.textColor?"color: "+c.textColor+";":"",Ie=0;Ie<J.length;Ie++)te=this._waiAria.eventMenuAttrString(J[Ie]),we+="<div class='dhx_menu_icon "+J[Ie]+"' style='"+Ce+Ee+"' title='"+this.locale.labels[J[Ie]]+"'"+te+"></div>";var Ne=this._render_v_bar(c,F-y+1,b,y,20*J.length+26-2,"","<div style='"+Ce+Ee+"' class='dhx_menu_head'></div>",we,!0);Ne.style.left=F-y+1,this._els.dhx_cal_data[0].appendChild(Ne),this._rendered.push(Ne)}this.config.drag_highlight&&this._drag_id==c.id&&this.highlightEventPosition(c)}}},o._render_v_bar=function(c,u,_,y,x,v,E,b,S){var D=document.createElement("div"),M=c.id,V=S?"dhx_cal_event dhx_cal_select_menu":"dhx_cal_event",F=o.getState();F.drag_id==c.id&&(V+=" dhx_cal_event_drag"),F.select_id==c.id&&(V+=" dhx_cal_event_selected");var B=o.templates.event_class(c.start_date,c.end_date,c);B&&(V=V+" "+B),this.config.cascade_event_display&&(V+=" dhx_cal_event_cascade");var Q=c.color?"background-color:"+c.color+";":"",re=c.textColor?"color:"+c.textColor+";":"",K=o._border_box_events(),ie=y-2,G=K?ie:y-4,te=K?ie:y-6,J=K?ie:y-(this._quirks?4:14),we=K?ie-2:y-8,Ce=K?x-this.xy.event_header_height-1:x-(this._quirks?20:30)+1,Ee='<div event_id="'+M+'" '+this.config.event_attribute+'="'+M+'" class="'+V+'" style="position:absolute; top:'+_+"px; "+(this.config.rtl?"right:":"left:")+u+"px; width:"+G+"px; height:"+x+"px;"+(v||"")+'"></div>';D.innerHTML=Ee;var Ie=D.cloneNode(!0).firstChild;if(!S&&o.renderEvent(Ie,c,y,x,E,b))return Ie;Ie=D.firstChild;var Ne='<div class="dhx_event_move dhx_header" style=" width:'+te+"px;"+Q+'" >&nbsp;</div>';Ne+='<div class="dhx_event_move dhx_title" style="'+Q+re+'">'+E+"</div>",Ne+='<div class="dhx_body" style=" width:'+J+"px; height:"+Ce+"px;"+Q+re+'">'+b+"</div>";var Ue="dhx_event_resize dhx_footer";return(S||c._drag_resize===!1)&&(Ue="dhx_resize_denied "+Ue),Ne+='<div class="'+Ue+'" style=" width:'+we+"px;"+(S?" margin-top:-1px;":"")+Q+re+'" ></div>',Ie.innerHTML=Ne,Ie},o.renderEvent=function(){return!1},o.locate_holder=function(c){return this._mode=="day"?this._els.dhx_cal_data[0].firstChild:this._els.dhx_cal_data[0].childNodes[c]},o.locate_holder_day=function(c,u){var _=Math.floor((this._correct_shift(c,1)-this._min_date)/864e5);return u&&this.date.time_part(c)&&_++,_},o._get_dnd_order=function(c,u,_){if(!this._drag_event)return c;this._drag_event._orig_sorder?c=this._drag_event._orig_sorder:this._drag_event._orig_sorder=c;for(var y=u*c;y+u>_;)c--,y-=u;return c=Math.max(c,0)},o._get_event_bar_pos=function(c){var u=this.config.rtl,_=this._colsS,y=_[c._sday],x=_[c._eday];u&&(y=_[_.col_length]-_[c._eday]+_[0],x=_[_.col_length]-_[c._sday]+_[0]),x==y&&(x=_[c._eday+1]);var v=this.xy.bar_height,E=c._sorder;if(c.id==this._drag_id){var b=_.heights[c._sweek+1]-_.heights[c._sweek]-this.xy.month_head_height;E=o._get_dnd_order(E,v,b)}var S=E*v;return{x:y,x2:x,y:_.heights[c._sweek]+(_.height?this.xy.month_scale_height+2:2)+S}},o.render_event_bar=function(c){var u=this._rendered_location,_=this._get_event_bar_pos(c),y=_.y,x=_.x,v=_.x2,E="";if(v){var b=o.config.resize_month_events&&this._mode=="month"&&(!c._timed||o.config.resize_month_timed),S=document.createElement("div"),D=c.hasOwnProperty("_first_chunk")&&c._first_chunk,M=c.hasOwnProperty("_last_chunk")&&c._last_chunk,V=b&&(c._timed||D),F=b&&(c._timed||M),B=!0,Q="dhx_cal_event_clear";c._timed&&!b||(B=!1,Q="dhx_cal_event_line"),D&&(Q+=" dhx_cal_event_line_start"),M&&(Q+=" dhx_cal_event_line_end"),V&&(E+="<div class='dhx_event_resize dhx_event_resize_start'></div>"),F&&(E+="<div class='dhx_event_resize dhx_event_resize_end'></div>");var re=o.templates.event_class(c.start_date,c.end_date,c);re&&(Q+=" "+re);var K=c.color?"background:"+c.color+";":"",ie=c.textColor?"color:"+c.textColor+";":"",G=["position:absolute","top:"+y+"px","left:"+x+"px","width:"+(v-x-3-(B?1:0))+"px",ie,K,c._text_style||""].join(";"),te="<div event_id='"+c.id+"' "+this.config.event_attribute+"='"+c.id+"' class='"+Q+"' style='"+G+"'"+this._waiAria.eventBarAttrString(c)+">";b&&(te+=E),o.getState().mode=="month"&&(c=o.getEvent(c.id)),c._timed&&(te+=o.templates.event_bar_date(c.start_date,c.end_date,c)),te+=o.templates.event_bar_text(c.start_date,c.end_date,c)+"</div>",te+="</div>",S.innerHTML=te,this._rendered.push(S.firstChild),u.appendChild(S.firstChild)}},o._locate_event=function(c){for(var u=null;c&&!u&&c.getAttribute;)u=c.getAttribute(this.config.event_attribute),c=c.parentNode;return u},o.edit=function(c){this._edit_id!=c&&(this.editStop(!1,c),this._edit_id=c,this.updateEvent(c))},o.editStop=function(c,u){if(!u||this._edit_id!=u){var _=this.getEvent(this._edit_id);_&&(c&&(_.text=this._editor.value),this._edit_id=null,this._editor=null,this.updateEvent(_.id),this._edit_stop_event(_,c))}},o._edit_stop_event=function(c,u){this._new_event?(u?this.callEvent("onEventAdded",[c.id,c]):c&&this.deleteEvent(c.id,!0),this._new_event=null):u&&this.callEvent("onEventChanged",[c.id,c])},o.getEvents=function(c,u){var _=[];for(var y in this._events){var x=this._events[y];x&&(!c&&!u||x.start_date<u&&x.end_date>c)&&_.push(x)}return _},o.getRenderedEvent=function(c){if(c){for(var u=o._rendered,_=0;_<u.length;_++){var y=u[_];if(y.getAttribute(o.config.event_attribute)==c)return y}return null}},o.showEvent=function(c,u){c&&Je(c)==="object"&&(u=c.mode,M=c.section,c=c.section);var _=typeof c=="number"||typeof c=="string"?o.getEvent(c):c;if(u=u||o._mode,_&&(!this.checkEvent("onBeforeEventDisplay")||this.callEvent("onBeforeEventDisplay",[_,u]))){var y=o.config.scroll_hour;o.config.scroll_hour=_.start_date.getHours();var x=o.config.preserve_scroll;o.config.preserve_scroll=!1;var v=_.color,E=_.textColor;if(o.config.highlight_displayed_event&&(_.color=o.config.displayed_event_color,_.textColor=o.config.displayed_event_text_color),o.setCurrentView(new Date(_.start_date),u),o.config.scroll_hour=y,o.config.preserve_scroll=x,o.matrix&&o.matrix[u]){var b=o.getView(),S=b.y_property,D=o.getEvent(_.id);if(D){if(!M){var M=D[S];Array.isArray(M)?M=M[0]:typeof M=="string"&&o.config.section_delimiter&&M.indexOf(o.config.section_delimiter)>-1&&(M=M.split(o.config.section_delimiter)[0])}var V=b.getSectionTop(M),F=b.posFromDate(D.start_date),B=o.$container.querySelector(".dhx_timeline_data_wrapper");if(F-=(B.offsetWidth-b.dx)/2,V=V-B.offsetHeight/2+b.dy/2,b._smartRenderingEnabled())var Q=b.attachEvent("onScroll",function(){re(),b.detachEvent(Q)});b.scrollTo({left:F,top:V}),b._smartRenderingEnabled()||re()}}else re();o.callEvent("onAfterEventDisplay",[_,u])}function re(){_.color=v,_.textColor=E}}}(w),function(o){o._append_drag_marker=function(c){if(!c.parentNode){var u=o._els.dhx_cal_data[0].lastChild,_=o._getClassName(u);_.indexOf("dhx_scale_holder")<0&&u.previousSibling&&(u=u.previousSibling),_=o._getClassName(u),u&&_.indexOf("dhx_scale_holder")===0&&u.appendChild(c)}},o._update_marker_position=function(c,u){var _=o._calc_event_y(u,0);c.style.top=_.top+"px",c.style.height=_.height+"px"},o.highlightEventPosition=function(c){var u=document.createElement("div");u.setAttribute("event_id",c.id),u.setAttribute(this.config.event_attribute,c.id),this._rendered.push(u),this._update_marker_position(u,c);var _=this.templates.drag_marker_class(c.start_date,c.end_date,c),y=this.templates.drag_marker_content(c.start_date,c.end_date,c);u.className="dhx_drag_marker",_&&(u.className+=" "+_),y&&(u.innerHTML=y),this._append_drag_marker(u)}}(w),le(w),function(o){o._lightbox_controls={},o.formSection=function(c){for(var u=this.config.lightbox.sections,_=0;_<u.length&&u[_].name!=c;_++);if(_===u.length)return null;var y=u[_];o._lightbox||o.getLightbox();var x=document.getElementById(y.id),v=x.nextSibling,E={section:y,header:x,node:v,getValue:function(S){return o.form_blocks[y.type].get_value(v,S||{},y)},setValue:function(S,D){return o.form_blocks[y.type].set_value(v,S,D||{},y)}},b=o._lightbox_controls["get_"+y.type+"_control"];return b?b(E):E},o._lightbox_controls.get_template_control=function(c){return c.control=c.node,c},o._lightbox_controls.get_select_control=function(c){return c.control=c.node.getElementsByTagName("select")[0],c},o._lightbox_controls.get_textarea_control=function(c){return c.control=c.node.getElementsByTagName("textarea")[0],c},o._lightbox_controls.get_time_control=function(c){return c.control=c.node.getElementsByTagName("select"),c},o._lightbox_controls.defaults={template:{height:30},textarea:{height:200},select:{height:23},time:{height:20}},o.form_blocks={template:{render:function(c){var u=o._lightbox_controls.defaults.template,_=u?u.height:30;return"<div class='dhx_cal_ltext dhx_cal_template' style='height:"+(c.height||_||30)+"px;'></div>"},set_value:function(c,u,_,y){c.innerHTML=u||""},get_value:function(c,u,_){return c.innerHTML||""},focus:function(c){}},textarea:{render:function(c){var u=o._lightbox_controls.defaults.textarea,_=u?u.height:200;return"<div class='dhx_cal_ltext' style='height:"+(c.height||_||"130")+"px;'><textarea></textarea></div>"},set_value:function(c,u,_){o.form_blocks.textarea._get_input(c).value=u||""},get_value:function(c,u){return o.form_blocks.textarea._get_input(c).value},focus:function(c){var u=o.form_blocks.textarea._get_input(c);o._focus(u,!0)},_get_input:function(c){return c.getElementsByTagName("textarea")[0]}},select:{render:function(c){for(var u=o._lightbox_controls.defaults.select,_=u?u.height:23,y="<div class='dhx_cal_ltext' style='height:"+(c.height||_||"23")+"px;'><select style='width:100%;'>",x=0;x<c.options.length;x++)y+="<option value='"+c.options[x].key+"'>"+c.options[x].label+"</option>";return y+="</select></div>"},set_value:function(c,u,_,y){var x=c.firstChild;!x._dhx_onchange&&y.onchange&&(o.event(x,"change",y.onchange),x._dhx_onchange=!0),u===void 0&&(u=(x.options[0]||{}).value),x.value=u||""},get_value:function(c,u){return c.firstChild.value},focus:function(c){var u=c.firstChild;o._focus(u,!0)}},time:{render:function(c){c.time_format||(c.time_format=["%H:%i","%d","%m","%Y"]),c._time_format_order={};var u=c.time_format,_=o.config,y=o.date.date_part(o._currentDate()),x=1440,v=0;o.config.limit_time_select&&(x=60*_.last_hour+1,v=60*_.first_hour,y.setHours(_.first_hour));for(var E="",b=0;b<u.length;b++){var S=u[b];b>0&&(E+=" ");var D="",M="";switch(S){case"%Y":var V,F,B;D="dhx_lightbox_year_select",c._time_format_order[3]=b,c.year_range&&(isNaN(c.year_range)?c.year_range.push&&(F=c.year_range[0],B=c.year_range[1]):V=c.year_range),V=V||10;var Q=Q||Math.floor(V/2);F=F||y.getFullYear()-Q,B=B||F+V;for(var re=F;re<B;re++)M+="<option value='"+re+"'>"+re+"</option>";break;case"%m":for(D="dhx_lightbox_month_select",c._time_format_order[2]=b,re=0;re<12;re++)M+="<option value='"+re+"'>"+this.locale.date.month_full[re]+"</option>";break;case"%d":for(D="dhx_lightbox_day_select",c._time_format_order[1]=b,re=1;re<32;re++)M+="<option value='"+re+"'>"+re+"</option>";break;case"%H:%i":D="dhx_lightbox_time_select",c._time_format_order[0]=b,re=v;var K=y.getDate();for(c._time_values=[];re<x;)M+="<option value='"+re+"'>"+this.templates.time_picker(y)+"</option>",c._time_values.push(re),y.setTime(y.valueOf()+60*this.config.time_step*1e3),re=24*(y.getDate()!=K?1:0)*60+60*y.getHours()+y.getMinutes()}if(M){var ie=o._waiAria.lightboxSelectAttrString(S);E+="<select class='"+D+"' "+(c.readonly?"disabled='disabled'":"")+ie+">"+M+"</select> "}}var G=o._lightbox_controls.defaults.select;return"<div style='height:"+((G?G.height:23)||30)+"px;padding-top:0px;font-size:inherit;' class='dhx_section_time'>"+E+"<span style='font-weight:normal; font-size:10pt;'> &nbsp;&ndash;&nbsp; </span>"+E+"</div>"},set_value:function(c,u,_,y){var x,v,E=o.config,b=c.getElementsByTagName("select"),S=y._time_format_order;if(E.full_day){if(!c._full_day){var D="<label class='dhx_fullday'><input type='checkbox' name='full_day' value='true'> "+o.locale.labels.full_day+"&nbsp;</label></input>";o.config.wide_form||(D=c.previousSibling.innerHTML+D),c.previousSibling.innerHTML=D,c._full_day=!0}var M=c.previousSibling.getElementsByTagName("input")[0];M.checked=o.date.time_part(_.start_date)===0&&o.date.time_part(_.end_date)===0,b[S[0]].disabled=M.checked,b[S[0]+b.length/2].disabled=M.checked,M.$_eventAttached||(M.$_eventAttached=!0,o.event(M,"click",function(){if(M.checked){var Q={};o.form_blocks.time.get_value(c,Q,y),x=o.date.date_part(Q.start_date),(+(v=o.date.date_part(Q.end_date))==+x||+v>=+x&&(_.end_date.getHours()!==0||_.end_date.getMinutes()!==0))&&(v=o.date.add(v,1,"day"))}else x=null,v=null;b[S[0]].disabled=M.checked,b[S[0]+b.length/2].disabled=M.checked,B(b,0,x||_.start_date),B(b,4,v||_.end_date)}))}if(E.auto_end_date&&E.event_duration)for(var V=function(){E.auto_end_date&&E.event_duration&&(x=new Date(b[S[3]].value,b[S[2]].value,b[S[1]].value,0,b[S[0]].value),v=new Date(x.getTime()+60*o.config.event_duration*1e3),B(b,4,v))},F=0;F<4;F++)b[F].$_eventAttached||(b[F].$_eventAttached=!0,o.event(b[F],"change",V));function B(Q,re,K){for(var ie=y._time_values,G=60*K.getHours()+K.getMinutes(),te=G,J=!1,we=0;we<ie.length;we++){var Ce=ie[we];if(Ce===G){J=!0;break}Ce<G&&(te=Ce)}Q[re+S[0]].value=J?G:te,J||te||(Q[re+S[0]].selectedIndex=-1),Q[re+S[1]].value=K.getDate(),Q[re+S[2]].value=K.getMonth(),Q[re+S[3]].value=K.getFullYear()}B(b,0,_.start_date),B(b,4,_.end_date)},get_value:function(c,u,_){var y=c.getElementsByTagName("select"),x=_._time_format_order;if(u.start_date=new Date(y[x[3]].value,y[x[2]].value,y[x[1]].value,0,y[x[0]].value),u.end_date=new Date(y[x[3]+4].value,y[x[2]+4].value,y[x[1]+4].value,0,y[x[0]+4].value),!y[x[3]].value||!y[x[3]+4].value){var v=o.getEvent(o._lightbox_id);v&&(u.start_date=v.start_date,u.end_date=v.end_date)}return u.end_date<=u.start_date&&(u.end_date=o.date.add(u.start_date,o.config.time_step,"minute")),{start_date:new Date(u.start_date),end_date:new Date(u.end_date)}},focus:function(c){o._focus(c.getElementsByTagName("select")[0])}}},o._setLbPosition=function(c){if(c){var u=window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop,_=window.pageXOffset||document.body.scrollLeft||document.documentElement.scrollLeft,y=window.innerHeight||document.documentElement.clientHeight;c.style.top=u?Math.round(u+Math.max((y-c.offsetHeight)/2,0))+"px":Math.round(Math.max((y-c.offsetHeight)/2,0)+9)+"px",document.documentElement.scrollWidth>document.body.offsetWidth?c.style.left=Math.round(_+(document.body.offsetWidth-c.offsetWidth)/2)+"px":c.style.left=Math.round((document.body.offsetWidth-c.offsetWidth)/2)+"px"}},o.showCover=function(c){c&&(c.style.display="block",this._setLbPosition(c)),o.config.responsive_lightbox&&(document.documentElement.classList.add("dhx_cal_overflow_container"),document.body.classList.add("dhx_cal_overflow_container")),this.show_cover()},o.showLightbox=function(c){if(c)if(this.callEvent("onBeforeLightbox",[c])){var u=this.getLightbox();this.showCover(u),this._fill_lightbox(c,u),this._waiAria.lightboxVisibleAttr(u),this.callEvent("onLightbox",[c])}else this._new_event&&(this._new_event=null)},o._fill_lightbox=function(c,u){var _=this.getEvent(c),y=u.getElementsByTagName("span"),x=[];if(o.templates.lightbox_header){x.push("");var v=o.templates.lightbox_header(_.start_date,_.end_date,_);x.push(v),y[1].innerHTML="",y[2].innerHTML=v}else{var E=this.templates.event_header(_.start_date,_.end_date,_),b=(this.templates.event_bar_text(_.start_date,_.end_date,_)||"").substr(0,70);x.push(E),x.push(b),y[1].innerHTML=E,y[2].innerHTML=b}this._waiAria.lightboxHeader(u,x.join(" "));for(var S=this.config.lightbox.sections,D=0;D<S.length;D++){var M=S[D],V=o._get_lightbox_section_node(M),F=this.form_blocks[M.type],B=_[M.map_to]!==void 0?_[M.map_to]:M.default_value;F.set_value.call(this,V,B,_,M),S[D].focus&&F.focus.call(this,V)}o._lightbox_id=c},o._get_lightbox_section_node=function(c){return document.getElementById(c.id).nextSibling},o._lightbox_out=function(c){for(var u=this.config.lightbox.sections,_=0;_<u.length;_++){var y=document.getElementById(u[_].id);y=y&&y.nextSibling;var x=this.form_blocks[u[_].type].get_value.call(this,y,c,u[_]);u[_].map_to!="auto"&&(c[u[_].map_to]=x)}return c},o._empty_lightbox=function(c){var u=o._lightbox_id,_=this.getEvent(u);this._lame_copy(_,c),this.setEvent(_.id,_),this._edit_stop_event(_,!0),this.render_view_data()},o.hide_lightbox=function(c){o.endLightbox(!1,this.getLightbox())},o.hideCover=function(c){c&&(c.style.display="none"),this.hide_cover(),o.config.responsive_lightbox&&(document.documentElement.classList.remove("dhx_cal_overflow_container"),document.body.classList.remove("dhx_cal_overflow_container"))},o.hide_cover=function(){this._cover&&this._cover.parentNode.removeChild(this._cover),this._cover=null},o.show_cover=function(){this._cover||(this._cover=document.createElement("div"),this._cover.className="dhx_cal_cover",document.body.appendChild(this._cover))},o.save_lightbox=function(){var c=this._lightbox_out({},this._lame_copy(this.getEvent(this._lightbox_id)));this.checkEvent("onEventSave")&&!this.callEvent("onEventSave",[this._lightbox_id,c,this._new_event])||(this._empty_lightbox(c),this.hide_lightbox())},o.startLightbox=function(c,u){this._lightbox_id=c,this._custom_lightbox=!0,this._temp_lightbox=this._lightbox,this._lightbox=u,this.showCover(u)},o.endLightbox=function(c,u){u=u||o.getLightbox();var _=o.getEvent(this._lightbox_id);_&&this._edit_stop_event(_,c),c&&o.render_view_data(),this.hideCover(u),this._custom_lightbox&&(this._lightbox=this._temp_lightbox,this._custom_lightbox=!1),this._temp_lightbox=this._lightbox_id=null,this._waiAria.lightboxHiddenAttr(u),this.callEvent("onAfterLightbox",[])},o.resetLightbox=function(){o._lightbox&&!o._custom_lightbox&&o._lightbox.parentNode.removeChild(o._lightbox),o._lightbox=null},o.cancel_lightbox=function(){this._lightbox_id&&this.callEvent("onEventCancel",[this._lightbox_id,this._new_event]),this.hide_lightbox()},o.hideLightbox=o.cancel_lightbox,o._init_lightbox_events=function(){if(!this.getLightbox().$_eventAttached){var c=this.getLightbox();c.$_eventAttached=!0,o.event(c,"click",function(u){var _=o.$domHelpers.closest(u.target,".dhx_btn_set");if(_){var y=_?_.getAttribute("data-action"):null;switch(y){case"dhx_save_btn":case"save":if(o.config.readonly_active)return;o.save_lightbox();break;case"dhx_delete_btn":case"delete":if(o.config.readonly_active)return;var x=o.locale.labels.confirm_deleting;o._dhtmlx_confirm(x,o.locale.labels.title_confirm_deleting,function(){o.deleteEvent(o._lightbox_id),o._new_event=null,o.hide_lightbox()});break;case"dhx_cancel_btn":case"cancel":o.cancel_lightbox();break;default:o.callEvent("onLightboxButton",[y,_,u])}}else{var v=o.$domHelpers.closest(u.target,".dhx_custom_button[data-section-index]");if(v){var E=Number(v.getAttribute("data-section-index"));o.form_blocks[o.config.lightbox.sections[E].type].button_click(o.$domHelpers.closest(v,".dhx_cal_lsection"),v,u)}}}),o.event(c,"keydown",function(u){var _=u||window.event,y=u.target||u.srcElement,x=y.querySelector("[dhx_button]");switch(x||(x=y.parentNode.querySelector(".dhx_custom_button, .dhx_readonly")),(u||_).keyCode){case 32:if((u||_).shiftKey)return;x&&x.click&&x.click();break;case o.keys.edit_save:if((u||_).shiftKey)return;if(x&&x.click)x.click();else{if(o.config.readonly_active)return;o.save_lightbox()}break;case o.keys.edit_cancel:o.cancel_lightbox()}})}},o.setLightboxSize=function(){var c=this._lightbox;if(c){var u=c.childNodes[1];u.style.height="0px",u.style.height=u.scrollHeight+"px",c.style.height=u.scrollHeight+o.xy.lightbox_additional_height+"px",u.style.height=u.scrollHeight+"px"}},o._init_dnd_events=function(){o.event(document.body,"mousemove",o._move_while_dnd),o.event(document.body,"mouseup",o._finish_dnd),o._init_dnd_events=function(){}},o._move_while_dnd=function(c){if(o._dnd_start_lb){document.dhx_unselectable||(document.body.className+=" dhx_unselectable",document.dhx_unselectable=!0);var u=o.getLightbox(),_=[c.pageX,c.pageY];u.style.top=o._lb_start[1]+_[1]-o._dnd_start_lb[1]+"px",u.style.left=o._lb_start[0]+_[0]-o._dnd_start_lb[0]+"px"}},o._ready_to_dnd=function(c){var u=o.getLightbox();o._lb_start=[parseInt(u.style.left,10),parseInt(u.style.top,10)],o._dnd_start_lb=[c.pageX,c.pageY]},o._finish_dnd=function(){o._lb_start&&(o._lb_start=o._dnd_start_lb=!1,document.body.className=document.body.className.replace(" dhx_unselectable",""),document.dhx_unselectable=!1)},o.getLightbox=function(){if(!this._lightbox){var c=document.createElement("div");c.className="dhx_cal_light",o.config.wide_form&&(c.className+=" dhx_cal_light_wide"),o.form_blocks.recurring&&(c.className+=" dhx_cal_light_rec"),o.config.rtl&&(c.className+=" dhx_cal_light_rtl"),o.config.responsive_lightbox&&(c.className+=" dhx_cal_light_responsive"),c.style.visibility="hidden";for(var u=this._lightbox_template,_=this.config.buttons_left,y=0;y<_.length;y++)u+="<div "+this._waiAria.lightboxButtonAttrString(_[y])+" data-action='"+_[y]+"' class='dhx_btn_set dhx_"+(o.config.rtl?"right":"left")+"_btn_set "+_[y]+"_set'><div class='"+_[y]+"'></div><div>"+o.locale.labels[_[y]]+"</div></div>";_=this.config.buttons_right;var x=o.config.rtl;for(y=0;y<_.length;y++)u+="<div "+this._waiAria.lightboxButtonAttrString(_[y])+" data-action='"+_[y]+"' class='dhx_btn_set dhx_"+(x?"left":"right")+"_btn_set "+_[y]+"_set' style='float:"+(x?"left":"right")+";'><div class='"+_[y]+"'></div><div>"+o.locale.labels[_[y]]+"</div></div>";u+="</div>",c.innerHTML=u,o.config.drag_lightbox&&(o.event(c.firstChild,"mousedown",o._ready_to_dnd),o.event(c.firstChild,"selectstart",function(V){return V.preventDefault(),!1}),c.firstChild.style.cursor="move",o._init_dnd_events()),this._waiAria.lightboxAttr(c),document.body.insertBefore(c,document.body.firstChild),this._lightbox=c;var v=this.config.lightbox.sections;for(u="",y=0;y<v.length;y++){var E=this.form_blocks[v[y].type];if(E){v[y].id="area_"+this.uid();var b="";v[y].button&&(b="<div "+o._waiAria.lightboxSectionButtonAttrString(this.locale.labels["button_"+v[y].button])+" class='dhx_custom_button' data-section-index='"+y+"' index='"+y+"'><div class='dhx_custom_button_"+v[y].button+"'></div><div>"+this.locale.labels["button_"+v[y].button]+"</div></div>"),this.config.wide_form&&(u+="<div class='dhx_wrap_section'>");var S=this.locale.labels["section_"+v[y].name];typeof S!="string"&&(S=v[y].name),u+="<div id='"+v[y].id+"' class='dhx_cal_lsection'>"+b+"<label>"+S+"</label></div>"+E.render.call(this,v[y]),u+="</div>"}}var D=c.getElementsByTagName("div");for(y=0;y<D.length;y++){var M=D[y];if(o._getClassName(M)=="dhx_cal_larea"){M.innerHTML=u;break}}o._bindLightboxLabels(v),this.setLightboxSize(),this._init_lightbox_events(this),c.style.display="none",c.style.visibility="visible"}return this._lightbox},o._bindLightboxLabels=function(c){for(var u=0;u<c.length;u++){var _=c[u];if(_.id&&document.getElementById(_.id)){for(var y=document.getElementById(_.id).querySelector("label"),x=o._get_lightbox_section_node(_);x&&!x.querySelector;)x=x.nextSibling;var v=!0;if(x){var E=x.querySelector("input, select, textarea");E&&(_.inputId=E.id||"input_"+o.uid(),E.id||(E.id=_.inputId),y.setAttribute("for",_.inputId),v=!1)}v&&o.form_blocks[_.type].focus&&o.event(y,"click",function(b){return function(){var S=o.form_blocks[b.type],D=o._get_lightbox_section_node(b);S&&S.focus&&S.focus.call(o,D)}}(_))}}},o.attachEvent("onEventIdChange",function(c,u){this._lightbox_id==c&&(this._lightbox_id=u)}),o._lightbox_template="<div class='dhx_cal_ltitle'><span class='dhx_mark'>&nbsp;</span><span class='dhx_time'></span><span class='dhx_title'></span></div><div class='dhx_cal_larea'></div>"}(w),fn(w),function(o){o.getRootView=function(){return{view:{render:function(){return{tag:"div",type:1,attrs:{style:"width:100%;height:100%;"},hooks:{didInsert:function(){o.setCurrentView()}},body:[{el:this.el,type:1}]}},init:function(){var c=document.createElement("DIV");c.id="scheduler_"+o.uid(),c.style.width="100%",c.style.height="100%",c.classList.add("dhx_cal_container"),c.cmp="grid",c.innerHTML='<div class="dhx_cal_navline"><div class="dhx_cal_prev_button">&nbsp;</div><div class="dhx_cal_next_button">&nbsp;</div><div class="dhx_cal_today_button"></div><div class="dhx_cal_date"></div><div class="dhx_cal_tab" data-tab="day"></div><div class="dhx_cal_tab" data-tab="week"></div><div class="dhx_cal_tab" data-tab="month"></div></div><div class="dhx_cal_header"></div><div class="dhx_cal_data"></div>',o.init(c),this.el=c}},type:4}}}(w),zt(w),window.jQuery&&function(o){var c=0,u=[];o.fn.dhx_scheduler=function(_){if(typeof _!="string"){var y=[];return this.each(function(){if(this&&this.getAttribute)if(this.getAttribute("dhxscheduler"))y.push(window[this.getAttribute("dhxscheduler")]);else{var x="scheduler";c&&(x="scheduler"+(c+1),window[x]=Scheduler.getSchedulerInstance());var v=window[x];for(var E in this.setAttribute("dhxscheduler",x),_)E!="data"&&(v.config[E]=_[E]);this.getElementsByTagName("div").length||(this.innerHTML='<div class="dhx_cal_navline"><div class="dhx_cal_prev_button">&nbsp;</div><div class="dhx_cal_next_button">&nbsp;</div><div class="dhx_cal_today_button"></div><div class="dhx_cal_date"></div><div class="dhx_cal_tab" name="day_tab" data-tab="day" style="right:204px;"></div><div class="dhx_cal_tab" name="week_tab" data-tab="week" style="right:140px;"></div><div class="dhx_cal_tab" name="month_tab" data-tab="month" style="right:76px;"></div></div><div class="dhx_cal_header"></div><div class="dhx_cal_data"></div>',this.className+=" dhx_cal_container"),v.init(this,v.config.date,v.config.mode),_.data&&v.parse(_.data),y.push(v),c++}}),y.length===1?y[0]:y}if(u[_])return u[_].apply(this,[]);o.error("Method "+_+" does not exist on jQuery.dhx_scheduler")}}(window.jQuery),function(o){(function(){var c=o.setCurrentView,u=o.updateView,_=null,y=null,x=function(b,S){var D=this;a.a.clearTimeout(y),a.a.clearTimeout(_);var M=D._date,V=D._mode;E(this,b,S),y=setTimeout(function(){D.callEvent("onBeforeViewChange",[V,M,S||D._mode,b||D._date])?(u.call(D,b,S),D.callEvent("onViewChange",[D._mode,D._date]),a.a.clearTimeout(_),y=0):E(D,M,V)},o.config.delay_render)},v=function(b,S){var D=this,M=arguments;E(this,b,S),a.a.clearTimeout(_),_=setTimeout(function(){y||u.apply(D,M)},o.config.delay_render)};function E(b,S,D){S&&(b._date=S),D&&(b._mode=D)}o.attachEvent("onSchedulerReady",function(){o.config.delay_render?(o.setCurrentView=x,o.updateView=v):(o.setCurrentView=c,o.updateView=u)})})()}(w),function(o){o.createDataProcessor=function(c){var u,_;c instanceof Function?u=c:c.hasOwnProperty("router")?u=c.router:c.hasOwnProperty("event")&&(u=c),_=u?"CUSTOM":c.mode||"REST-JSON";var y=new ne(c.url);return y.init(o),y.setTransactionMode({mode:_,router:u},c.batchUpdate),y},o.DataProcessor=ne}(w),function(o){o.attachEvent("onSchedulerReady",function(){typeof dhtmlxError<"u"&&window.dhtmlxError.catchError("LoadXML",function(c,u,_){var y=_[0].responseText;switch(o.config.ajax_error){case"alert":a.a.alert(y);break;case"console":a.a.console.log(y)}})})}(w);var m=new Ct({en:yt,ar:Te,be:Be,ca:He,cn:oe,cs:Le,da:it,de:rt,el:Ge,es:Cn,fi:mr,fr:Ci,he:zr,hu:Xr,id:Fc,it:vo,jp:Zr,nb:se,nl:ue,no:me,pl:ye,pt:Re,ro:qe,ru:Fe,si:_t,sk:Ft,sv:wt,tr:ei,ua:Gn});w.i18n={addLocale:m.addLocale,setLocale:function(o){if(typeof o=="string"){var c=m.getLocale(o);c||(c=m.getLocale("en")),w.locale=c}else if(o)if(w.locale)for(var u in o)o[u]&&ar(o[u])==="object"?(w.locale[u]||(w.locale[u]={}),w.mixin(w.locale[u],o[u],!0)):w.locale[u]=o[u];else w.locale=o},getLocale:m.getLocale},w.i18n.setLocale("en"),w.ext={};var p={};return w.plugins=function(o){(function(c,u,_){var y=[];for(var x in c)if(c[x]){var v=x.toLowerCase();u[v]&&u[v].forEach(function(E){var b=E.toLowerCase();c[b]||y.push(b)}),y.push(v)}return y.sort(function(E,b){var S=_[E]||0,D=_[b]||0;return S>D?1:S<D?-1:0}),y})(o,{treetimeline:["timeline"],daytimeline:["timeline"],outerdrag:["legacy"]},{legacy:1,limit:1,timeline:2,daytimeline:3,treetimeline:3,outerdrag:6}).forEach(function(c){if(!p[c]){var u=s.getExtension(c);if(!u)throw new Error("unknown plugin "+c);u(w),p[c]=!0}})},w};function sv(s,w){for(var d=0;d<w.length;d++){var m=w[d];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(s,m.key,m)}}var TC=function(){function s(w){for(var d in function(m,p){if(!(m instanceof p))throw new TypeError("Cannot call a class as a function")}(this,s),this._extensions={},w)this._extensions[d]=w[d]}return function(w,d,m){d&&sv(w.prototype,d),m&&sv(w,m)}(s,[{key:"addExtension",value:function(w,d){this._extensions[w]=d}},{key:"getExtension",value:function(w){return this._extensions[w]}}]),s}();function ov(s,w){for(var d=0;d<w.length;d++){var m=w[d];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(s,m.key,m)}}typeof dhtmlx<"u"&&dhtmlx.attaches&&(dhtmlx.attaches.attachScheduler=function(s,w,d,m){d=d||'<div class="dhx_cal_tab" name="day_tab" data-tab="day" style="right:204px;"></div><div class="dhx_cal_tab" name="week_tab" data-tab="week" style="right:140px;"></div><div class="dhx_cal_tab" name="month_tab" data-tab="month" style="right:76px;"></div>';var p=document.createElement("DIV");return p.id="dhxSchedObj_"+this._genStr(12),p.innerHTML='<div id="'+p.id+'" class="dhx_cal_container" style="width:100%; height:100%;"><div class="dhx_cal_navline"><div class="dhx_cal_prev_button">&nbsp;</div><div class="dhx_cal_next_button">&nbsp;</div><div class="dhx_cal_today_button"></div><div class="dhx_cal_date"></div>'+d+'</div><div class="dhx_cal_header"></div><div class="dhx_cal_data"></div></div>',document.body.appendChild(p.firstChild),this.attachObject(p.id,!1,!0),this.vs[this.av].sched=m,this.vs[this.av].schedId=p.id,m.setSizes=m.updateView,m.destructor=function(){},m.init(p.id,s,w),this.vs[this._viewRestore()].sched});var Ti=function(s,w){w(!1,"The ".concat(s,` extension is not included in this version of dhtmlxScheduler.<br>
		You may need a <a href="https://docs.dhtmlx.com/scheduler/editions_comparison.html" target="_blank">Professional version of the component</a>.<br>
		Contact us at <a href="https://dhtmlx.com/docs/contact.shtml" target="_blank">https://dhtmlx.com/docs/contact.shtml</a> if you have any questions.`))},NC=function(s){(function(){var w=[];function d(){return!!w.length}function m(_){setTimeout(function(){d()||function(y,x){for(;y&&y!=x;)y=y.parentNode;return y==x}(document.activeElement,s.$container)||s.focus()},1)}function p(_){var y=(_=_||window.event).currentTarget;(function(x){return x==w[w.length-1]})(y)&&s.$keyboardNavigation.trapFocus(y,_)}if(s.attachEvent("onLightbox",function(){(function(_){s.eventRemove(_,"keydown",p),s.event(_,"keydown",p),w.push(_)})(s.getLightbox())}),s.attachEvent("onAfterLightbox",function(){var _=w.pop();_&&s.eventRemove(_,"keydown",p),m()}),s.attachEvent("onAfterQuickInfo",function(){m()}),!s._keyNavMessagePopup){s._keyNavMessagePopup=!0;var o=null,c=null,u=[];s.attachEvent("onMessagePopup",function(_){for(o=document.activeElement,c=o;c&&s._getClassName(c).indexOf("dhx_cal_data")<0;)c=c.parentNode;c&&(c=c.parentNode),s.eventRemove(_,"keydown",p),s.event(_,"keydown",p),u.push(_)}),s.attachEvent("onAfterMessagePopup",function(){var _=u.pop();_&&s.eventRemove(_,"keydown",p),setTimeout(function(){for(var y=document.activeElement;y&&s._getClassName(y).indexOf("dhx_cal_light")<0;)y=y.parentNode;y||(o&&o.parentNode?o.focus():c&&c.parentNode&&c.focus(),o=null,c=null)},1)})}s.$keyboardNavigation.isModal=d})()},DC=function(s){s._temp_key_scope=function(){s.config.key_nav=!0,s.$keyboardNavigation._pasteDate=null,s.$keyboardNavigation._pasteSection=null;var w=null,d={};function m(c){c=c||window.event,d.x=c.clientX,d.y=c.clientY}function p(){for(var c,u,_=document.elementFromPoint(d.x,d.y);_&&_!=s._obj;)_=_.parentNode;return c=_==s._obj,u=s.$keyboardNavigation.dispatcher.isEnabled(),c||u}function o(c){return s._lame_copy({},c)}document.body?s.event(document.body,"mousemove",m):s.event(window,"load",function(){s.event(document.body,"mousemove",m)}),s.attachEvent("onMouseMove",function(c,u){var _=s.getState();if(_.mode&&_.min_date){var y=s.getActionData(u);s.$keyboardNavigation._pasteDate=y.date,s.$keyboardNavigation._pasteSection=y.section}}),s._make_pasted_event=function(c){var u=s.$keyboardNavigation._pasteDate,_=s.$keyboardNavigation._pasteSection,y=c.end_date-c.start_date,x=o(c);if(function(E){delete E.rec_type,delete E.rec_pattern,delete E.event_pid,delete E.event_length}(x),x.start_date=new Date(u),x.end_date=new Date(x.start_date.valueOf()+y),_){var v=s._get_section_property();s.config.multisection?x[v]=c[v]:x[v]=_}return x},s._do_paste=function(c,u,_){s.callEvent("onBeforeEventPasted",[c,u,_])!==!1&&(s.addEvent(u),s.callEvent("onEventPasted",[c,u,_]))},s._is_key_nav_active=function(){return!(!this._is_initialized()||this._is_lightbox_open()||!this.config.key_nav)},s.event(document,"keydown",function(c){(c.ctrlKey||c.metaKey)&&c.keyCode==86&&s._buffer_event&&!s.$keyboardNavigation.dispatcher.isEnabled()&&(s.$keyboardNavigation.dispatcher.isActive=p())}),s._key_nav_copy_paste=function(c){if(!s._is_key_nav_active())return!0;if(c.keyCode==37||c.keyCode==39){c.cancelBubble=!0;var u=s.date.add(s._date,c.keyCode==37?-1:1,s._mode);return s.setCurrentView(u),!0}var _=function(){var v=s.$keyboardNavigation.dispatcher.getActiveNode();return v&&v.eventId?v.eventId:s._select_id}();if((c.ctrlKey||c.metaKey)&&c.keyCode==67)return _&&(s._buffer_event=o(s.getEvent(_)),w=!0,s.callEvent("onEventCopied",[s.getEvent(_)])),!0;if((c.ctrlKey||c.metaKey)&&c.keyCode==88&&_){w=!1;var y=s._buffer_event=o(s.getEvent(_));s.updateEvent(y.id),s.callEvent("onEventCut",[y])}if((c.ctrlKey||c.metaKey)&&c.keyCode==86&&p()){if(y=(y=s._buffer_event?s.getEvent(s._buffer_event.id):s._buffer_event)||s._buffer_event){var x=s._make_pasted_event(y);w?(x.id=s.uid(),s._do_paste(w,x,y)):s.callEvent("onBeforeEventChanged",[x,c,!1,y])&&(s._do_paste(w,x,y),w=!0)}return!0}}},s._temp_key_scope()},IC=function(s){s.$keyboardNavigation.attachSchedulerHandlers=function(){var w,d=s.$keyboardNavigation.dispatcher,m=function(_){if(s.config.key_nav)return d.keyDownHandler(_)},p=function(){d.keepScrollPosition(function(){d.focusGlobalNode()})};s.attachEvent("onDataRender",function(){s.config.key_nav&&d.isEnabled()&&!s.getState().editor_id&&(clearTimeout(w),w=setTimeout(function(){d.isEnabled()||d.enable(),o()}))});var o=function(){if(d.isEnabled()){var _=d.getActiveNode();_&&(_.isValid()||(_=_.fallback()),!_||_ instanceof s.$keyboardNavigation.MinicalButton||_ instanceof s.$keyboardNavigation.MinicalCell||d.keepScrollPosition(function(){_.focus(!0)}))}};function c(_){if(!s.config.key_nav)return!0;var y,x=s.$keyboardNavigation.isChildOf(_.target||_.srcElement,s.$container.querySelector(".dhx_cal_data")),v=s.getActionData(_);s._locate_event(_.target||_.srcElement)?y=new s.$keyboardNavigation.Event(s._locate_event(_.target||_.srcElement)):x&&(y=new s.$keyboardNavigation.TimeSlot,v.date&&x&&(y=y.nextSlot(new s.$keyboardNavigation.TimeSlot(v.date,null,v.section)))),y&&(d.isEnabled()?v.date&&x&&d.delay(function(){d.setActiveNode(y)}):d.activeNode=y)}s.attachEvent("onSchedulerReady",function(){var _=s.$container;s.eventRemove(document,"keydown",m),s.eventRemove(_,"mousedown",c),s.eventRemove(_,"focus",p),s.config.key_nav?(s.event(document,"keydown",m),s.event(_,"mousedown",c),s.event(_,"focus",p),_.setAttribute("tabindex","0")):_.removeAttribute("tabindex")});var u=s.updateEvent;s.updateEvent=function(_){var y=u.apply(this,arguments);if(s.config.key_nav&&d.isEnabled()&&s.getState().select_id==_){var x=new s.$keyboardNavigation.Event(_);s.getState().lightbox_id||function(v){if(s.config.key_nav&&d.isEnabled()){var E=v,b=new s.$keyboardNavigation.Event(E.eventId);if(!b.isValid()){var S=b.start||E.start,D=b.end||E.end,M=b.section||E.section;(b=new s.$keyboardNavigation.TimeSlot(S,D,M)).isValid()||(b=new s.$keyboardNavigation.TimeSlot)}d.setActiveNode(b);var V=d.getActiveNode();V&&V.getNode&&document.activeElement!=V.getNode()&&d.focusNode(d.getActiveNode())}}(x)}return y},s.attachEvent("onEventDeleted",function(_){return s.config.key_nav&&d.isEnabled()&&d.getActiveNode().eventId==_&&d.setActiveNode(new s.$keyboardNavigation.TimeSlot),!0}),s.attachEvent("onClearAll",function(){if(!s.config.key_nav)return!0;d.isEnabled()&&d.getActiveNode()instanceof s.$keyboardNavigation.Event&&d.setActiveNode(new s.$keyboardNavigation.TimeSlot)})}};function Uc(s){return(Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}function Vh(s){return(Vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}function lv(s){return(lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}function cv(s){return(cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}function zh(s){return(zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}var Hh=new(function(){function s(w){(function(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")})(this,s),this._seed=0,this._schedulerPlugins=[],this._bundledExtensions=w,this._extensionsManager=new TC(w)}return function(w,d,m){d&&ov(w.prototype,d),m&&ov(w,m)}(s,[{key:"plugin",value:function(w){this._schedulerPlugins.push(w),a.a.scheduler&&w(a.a.scheduler)}},{key:"getSchedulerInstance",value:function(w){for(var d=bo(this._extensionsManager),m=0;m<this._schedulerPlugins.length;m++)this._schedulerPlugins[m](d);return d._internal_id=this._seed++,this.$syncFactory&&this.$syncFactory(d),w&&this._initFromConfig(d,w),d}},{key:"_initFromConfig",value:function(w,d){if(d.plugins&&w.plugins(d.plugins),d.config&&w.mixin(w.config,d.config,!0),d.templates&&w.attachEvent("onTemplatesReady",function(){w.mixin(w.templates,d.templates,!0)},{once:!0}),d.events)for(var m in d.events)w.attachEvent(m,d.events[m]);d.locale&&w.i18n.setLocale(d.locale),Array.isArray(d.calendars)&&d.calendars.forEach(function(p){w.addCalendar(p)}),d.container?w.init(d.container):w.init(),d.data&&(typeof d.data=="string"?w.load(d.data):w.parse(d.data))}}]),s}())({active_links:function(s){s.config.active_link_view="day",s._active_link_click=function(w){var d=w.target.getAttribute("data-link-date"),m=s.date.str_to_date(s.config.api_date,!1,!0);if(d)return s.setCurrentView(m(d),s.config.active_link_view),w&&w.preventDefault&&w.preventDefault(),!1},s.attachEvent("onTemplatesReady",function(){var w=function(m,p){p=p||m+"_scale_date",s.templates["_active_links_old_"+p]||(s.templates["_active_links_old_"+p]=s.templates[p]);var o=s.templates["_active_links_old_"+p],c=s.date.date_to_str(s.config.api_date);s.templates[p]=function(u){return"<a data-link-date='"+c(u)+"' href='#'>"+o(u)+"</a>"}};if(w("week"),w("","month_day"),this.matrix)for(var d in this.matrix)w(d);this._detachDomEvent(this._obj,"click",s._active_link_click),s.event(this._obj,"click",s._active_link_click)})},agenda_view:function(s){s.date.add_agenda=function(w){return s.date.add(w,1,"year")},s.templates.agenda_time=function(w,d,m){return m._timed?this.day_date(m.start_date,m.end_date,m)+" "+this.event_date(w):s.templates.day_date(w)+" &ndash; "+s.templates.day_date(d)},s.templates.agenda_text=function(w,d,m){return m.text},s.templates.agenda_date=function(){return""},s.date.agenda_start=function(){return s.date.date_part(s._currentDate())},s.attachEvent("onTemplatesReady",function(){var w=s.dblclick_dhx_cal_data;s.dblclick_dhx_cal_data=function(){if(this._mode=="agenda")!this.config.readonly&&this.config.dblclick_create&&this.addEventNow();else if(w)return w.apply(this,arguments)};var d=s.render_data;s.render_data=function(o){if(this._mode!="agenda")return d.apply(this,arguments);p()};var m=s.render_view_data;function p(){var o=s.get_visible_events();o.sort(function(V,F){return V.start_date>F.start_date?1:-1});for(var c,u="<div class='dhx_agenda_area' "+s._waiAria.agendaDataAttrString()+">",_=0;_<o.length;_++){var y=o[_],x=y.color?"background:"+y.color+";":"",v=y.textColor?"color:"+y.textColor+";":"",E=s.templates.event_class(y.start_date,y.end_date,y);c=s._waiAria.agendaEventAttrString(y);var b=s._waiAria.agendaDetailsBtnString();u+="<div "+c+" class='dhx_agenda_line"+(E?" "+E:"")+"' event_id='"+y.id+"' "+s.config.event_attribute+"='"+y.id+"' style='"+v+x+(y._text_style||"")+"'><div class='dhx_agenda_event_time'>"+(s.config.rtl?s.templates.agenda_time(y.end_date,y.start_date,y):s.templates.agenda_time(y.start_date,y.end_date,y))+"</div>",u+="<div "+b+" class='dhx_event_icon icon_details'>&nbsp;</div>",u+="<span>"+s.templates.agenda_text(y.start_date,y.end_date,y)+"</span></div>"}u+="<div class='dhx_v_border'></div></div>",s._els.dhx_cal_data[0].innerHTML=u,s._els.dhx_cal_data[0].childNodes[0].scrollTop=s._agendaScrollTop||0;var S=s._els.dhx_cal_data[0].childNodes[0];S.childNodes[S.childNodes.length-1].style.height=S.offsetHeight<s._els.dhx_cal_data[0].offsetHeight?"100%":S.offsetHeight+"px";var D=s._els.dhx_cal_data[0].firstChild.childNodes,M=s._getNavDateElement();for(M&&(M.innerHTML=s.templates.agenda_date(s._min_date,s._max_date,s._mode)),s._rendered=[],_=0;_<D.length-1;_++)s._rendered[_]=D[_]}s.render_view_data=function(){return this._mode=="agenda"&&(s._agendaScrollTop=s._els.dhx_cal_data[0].childNodes[0].scrollTop,s._els.dhx_cal_data[0].childNodes[0].scrollTop=0),m.apply(this,arguments)},s.agenda_view=function(o){s._min_date=s.config.agenda_start||s.date.agenda_start(s._date),s._max_date=s.config.agenda_end||s.date.add_agenda(s._min_date,1),function(c){if(c){var u=s.locale.labels,_=s._waiAria.agendaHeadAttrString(),y=s._waiAria.agendaHeadDateString(u.date),x=s._waiAria.agendaHeadDescriptionString(u.description);s._els.dhx_cal_header[0].innerHTML="<div "+_+" class='dhx_agenda_line'><div "+y+">"+u.date+"</div><span class = 'description_header' style='padding-left:25px' "+x+">"+u.description+"</span></div>",s._table_view=!0,s.set_sizes()}}(o),o?(s._cols=null,s._colsS=null,s._table_view=!0,p()):s._table_view=!1}})},all_timed:function(s){s.config.all_timed="short",s.config.all_timed_month=!1;var w=function(u){return!((u.end_date-u.start_date)/36e5>=24)||s._drag_mode=="resize"&&s._drag_id==u.id};s._safe_copy=function(u){var _=null,y=s._copy_event(u);return u.event_pid&&(_=s.getEvent(u.event_pid)),_&&_.isPrototypeOf(u)&&(delete y.event_length,delete y.event_pid,delete y.rec_pattern,delete y.rec_type),y};var d=s._pre_render_events_line,m=s._pre_render_events_table,p=function(u,_){return this._table_view?m.call(this,u,_):d.call(this,u,_)};s._pre_render_events_line=s._pre_render_events_table=function(u,_){if(!this.config.all_timed||this._table_view&&this._mode!="month"||this._mode=="month"&&!this.config.all_timed_month)return p.call(this,u,_);for(var y=0;y<u.length;y++){var x=u[y];if(!x._timed)if(this.config.all_timed!="short"||w(x)){var v=this._safe_copy(x);x._virtual?v._first_chunk=!1:v._first_chunk=!0,v._drag_resize=!1,v._virtual=!0,v.start_date=new Date(v.start_date),D(x)?(v.end_date=M(v.start_date),this.config.last_hour!=24&&(v.end_date=V(v.start_date,this.config.last_hour))):v.end_date=new Date(x.end_date);var E=!1;v.start_date<this._max_date&&v.end_date>this._min_date&&v.start_date<v.end_date&&(u[y]=v,E=!0);var b=this._safe_copy(x);if(b._virtual=!0,b.end_date=new Date(b.end_date),b.start_date<this._min_date?b.start_date=V(this._min_date,this.config.first_hour):b.start_date=V(M(x.start_date),this.config.first_hour),b.start_date<this._max_date&&b.start_date<b.end_date){if(!E){u[y--]=b;continue}u.splice(y+1,0,b),b._last_chunk=!1}else v._last_chunk=!0,v._drag_resize=!0}else this._mode!="month"&&u.splice(y--,1)}var S=this._drag_mode!="move"&&_;return p.call(this,u,S);function D(F){var B=M(F.start_date);return+F.end_date>+B}function M(F){var B=s.date.add(F,1,"day");return B=s.date.date_part(B)}function V(F,B){var Q=s.date.date_part(new Date(F));return Q.setHours(B),Q}};var o=s.get_visible_events;s.get_visible_events=function(u){return this.config.all_timed&&this.config.multi_day?o.call(this,!1):o.call(this,u)},s.attachEvent("onBeforeViewChange",function(u,_,y,x){return s._allow_dnd=y=="day"||y=="week",!0}),s._is_main_area_event=function(u){return!!(u._timed||this.config.all_timed===!0||this.config.all_timed=="short"&&w(u))};var c=s.updateEvent;s.updateEvent=function(u){var _,y,x=s.getEvent(u);x&&(_=s.config.all_timed&&!(s.isOneDayEvent(s._events[u])||s.getState().drag_id))&&(y=s.config.update_render,s.config.update_render=!0),c.apply(s,arguments),x&&_&&(s.config.update_render=y)}},collision:function(s){var w,d;function m(p){s._get_section_view()&&p&&(w=s.getEvent(p)[s._get_section_property()])}s.config.collision_limit=1,s.attachEvent("onBeforeDrag",function(p){return m(p),!0}),s.attachEvent("onBeforeLightbox",function(p){var o=s.getEvent(p);return d=[o.start_date,o.end_date],m(p),!0}),s.attachEvent("onEventChanged",function(p){if(!p||!s.getEvent(p))return!0;var o=s.getEvent(p);if(!s.checkCollision(o)){if(!d)return!1;o.start_date=d[0],o.end_date=d[1],o._timed=this.isOneDayEvent(o)}return!0}),s.attachEvent("onBeforeEventChanged",function(p,o,c){return s.checkCollision(p)}),s.attachEvent("onEventAdded",function(p,o){s.checkCollision(o)||s.deleteEvent(p)}),s.attachEvent("onEventSave",function(p,o,c){if((o=s._lame_clone(o)).id=p,!o.start_date||!o.end_date){var u=s.getEvent(p);o.start_date=new Date(u.start_date),o.end_date=new Date(u.end_date)}return o.rec_type&&s._roll_back_dates(o),s.checkCollision(o)}),s._check_sections_collision=function(p,o){var c=s._get_section_property();return p[c]==o[c]&&p.id!=o.id},s.checkCollision=function(p){var o=[],c=s.config.collision_limit;if(p.rec_type)for(var u=s.getRecDates(p),_=0;_<u.length;_++)for(var y=s.getEvents(u[_].start_date,u[_].end_date),x=0;x<y.length;x++)(y[x].event_pid||y[x].id)!=p.id&&o.push(y[x]);else{o=s.getEvents(p.start_date,p.end_date);for(var v=0;v<o.length;v++){var E=o[v];if(E.id==p.id||E.event_length&&[E.event_pid,E.event_length].join("#")==p.id){o.splice(v,1);break}}}var b=s._get_section_view(),S=s._get_section_property(),D=!0;if(b){var M=0;for(v=0;v<o.length;v++)o[v].id!=p.id&&this._check_sections_collision(o[v],p)&&M++;M>=c&&(D=!1)}else o.length>=c&&(D=!1);if(!D){var V=!s.callEvent("onEventCollision",[p,o]);return V||(p[S]=w||p[S]),V}return D}},container_autoresize:function(s){s.config.container_autoresize=!0,s.config.month_day_min_height=90,s.config.min_grid_size=25,s.config.min_map_size=400;var w=s._pre_render_events,d=!0,m=0,p=0;s._pre_render_events=function(x,v){if(!s.config.container_autoresize||!d)return w.apply(this,arguments);var E=this.xy.bar_height,b=this._colsS.heights,S=this._colsS.heights=[0,0,0,0,0,0,0],D=this._els.dhx_cal_data[0];if(x=this._table_view?this._pre_render_events_table(x,v):this._pre_render_events_line(x,v),this._table_view)if(v)this._colsS.heights=b;else{var M=D.firstChild;if(M.rows){for(var V=0;V<M.rows.length;V++){if(S[V]++,S[V]*E>this._colsS.height-this.xy.month_head_height){var F=M.rows[V].cells,B=this._colsS.height-this.xy.month_head_height;1*this.config.max_month_events!==this.config.max_month_events||S[V]<=this.config.max_month_events?B=S[V]*E:(this.config.max_month_events+1)*E>this._colsS.height-this.xy.month_head_height&&(B=(this.config.max_month_events+1)*E);for(var Q=0;Q<F.length;Q++)F[Q].childNodes[1].style.height=B+"px";S[V]=(S[V-1]||0)+F[0].offsetHeight}S[V]=(S[V-1]||0)+M.rows[V].cells[0].offsetHeight}S.unshift(0),M.parentNode.offsetHeight<M.parentNode.scrollHeight&&M._h_fix}else if(x.length||this._els.dhx_multi_day[0].style.visibility!="visible"||(S[0]=-1),x.length||S[0]==-1){var re=(S[0]+1)*E+1;p!=re+1&&(this._obj.style.height=m-p+re-1+"px"),re+="px",D.style.top=this._els.dhx_cal_navline[0].offsetHeight+this._els.dhx_cal_header[0].offsetHeight+parseInt(re,10)+"px",D.style.height=this._obj.offsetHeight-parseInt(D.style.top,10)-(this.xy.margin_top||0)+"px";var K=this._els.dhx_multi_day[0];K.style.height=re,K.style.visibility=S[0]==-1?"hidden":"visible",(K=this._els.dhx_multi_day[1]).style.height=re,K.style.visibility=S[0]==-1?"hidden":"visible",K.className=S[0]?"dhx_multi_day_icon":"dhx_multi_day_icon_small",this._dy_shift=(S[0]+1)*E,S[0]=0}}return x};var o=["dhx_cal_navline","dhx_cal_header","dhx_multi_day","dhx_cal_data"],c=function(x){m=0;for(var v=0;v<o.length;v++){var E=o[v],b=s._els[E]?s._els[E][0]:null,S=0;switch(E){case"dhx_cal_navline":case"dhx_cal_header":S=parseInt(b.style.height,10);break;case"dhx_multi_day":S=b?b.offsetHeight-1:0,p=S;break;case"dhx_cal_data":var D=s.getState().mode;if(S=b.childNodes[1]&&D!="month"?b.childNodes[1].offsetHeight:Math.max(b.offsetHeight-1,b.scrollHeight),D=="month")s.config.month_day_min_height&&!x&&(S=b.getElementsByTagName("tr").length*s.config.month_day_min_height),x&&(b.style.height=S+"px");else if(D=="year")S=190*s.config.year_y;else if(D=="agenda"){if(S=0,b.childNodes&&b.childNodes.length)for(var M=0;M<b.childNodes.length;M++)S+=b.childNodes[M].offsetHeight;S+2<s.config.min_grid_size?S=s.config.min_grid_size:S+=2}else if(D=="week_agenda"){for(var V,F,B=s.xy.week_agenda_scale_height+s.config.min_grid_size,Q=0;Q<b.childNodes.length;Q++)for(F=b.childNodes[Q],M=0;M<F.childNodes.length;M++){for(var re=0,K=F.childNodes[M].childNodes[1],ie=0;ie<K.childNodes.length;ie++)re+=K.childNodes[ie].offsetHeight;V=re+s.xy.week_agenda_scale_height,(V=Q!=1||M!=2&&M!=3?V:2*V)>B&&(B=V)}S=3*B}else if(D=="map"){S=0;var G=b.querySelectorAll(".dhx_map_line");for(M=0;M<G.length;M++)S+=G[M].offsetHeight;S+2<s.config.min_map_size?S=s.config.min_map_size:S+=2}else if(s._gridView)if(S=0,b.childNodes[1].childNodes[0].childNodes&&b.childNodes[1].childNodes[0].childNodes.length){for(G=b.childNodes[1].childNodes[0].childNodes[0].childNodes,M=0;M<G.length;M++)S+=G[M].offsetHeight;(S+=2)<s.config.min_grid_size&&(S=s.config.min_grid_size)}else S=s.config.min_grid_size;if(s.matrix&&s.matrix[D]){if(x)S+=0,b.style.height=S+"px";else{S=0;for(var te=s.matrix[D],J=te.y_unit,we=0;we<J.length;we++)S+=te.getSectionHeight(J[we].key);s.$container.clientWidth!=s.$container.scrollWidth&&(S+=y())}S-=1}(D=="day"||D=="week"||s._props&&s._props[D])&&(S+=2)}m+=S+=1}s._obj.style.height=m+"px",x||s.updateView()};function u(){d=!1,s.callEvent("onAfterSchedulerResize",[]),d=!0}var _=function(){if(!s.config.container_autoresize||!d)return!0;var x=s.getState().mode;if(!x)return!0;var v=window.requestAnimationFrame||window.setTimeout,E=document.documentElement.scrollTop;v(function(){c()}),s.matrix&&s.matrix[x]||x=="month"?v(function(){c(!0),document.documentElement.scrollTop=E,u()},1):u()};function y(){var x=document.createElement("div");x.style.cssText="visibility:hidden;position:absolute;left:-1000px;width:100px;padding:0px;margin:0px;height:110px;min-height:100px;overflow-y:scroll;",document.body.appendChild(x);var v=x.offsetWidth-x.clientWidth;return document.body.removeChild(x),v}s.attachEvent("onBeforeViewChange",function(){var x=s.config.container_autoresize;if(s.xy.$original_scroll_width||(s.xy.$original_scroll_width=s.xy.scroll_width),s.xy.scroll_width=x?0:s.xy.$original_scroll_width,s.matrix)for(var v in s.matrix){var E=s.matrix[v];E.$original_section_autoheight||(E.$original_section_autoheight=E.section_autoheight),E.section_autoheight=!x&&E.$original_section_autoheight}return!0}),s.attachEvent("onViewChange",_),s.attachEvent("onXLE",_),s.attachEvent("onEventChanged",_),s.attachEvent("onEventCreated",_),s.attachEvent("onEventAdded",_),s.attachEvent("onEventDeleted",_),s.attachEvent("onAfterSchedulerResize",_),s.attachEvent("onClearAll",_),s.attachEvent("onBeforeExpand",function(){return d=!1,!0}),s.attachEvent("onBeforeCollapse",function(){return d=!0,!0})},cookie:function(s){function w(p){return(p._obj.id||"scheduler")+"_settings"}var d=!0;s.attachEvent("onBeforeViewChange",function(p,o,c,u){if(d&&s._get_url_nav){var _=s._get_url_nav();(_.date||_.mode||_.event)&&(d=!1)}var y=w(s);if(d){d=!1;var x=function(E){var b=E+"=";if(document.cookie.length>0){var S=document.cookie.indexOf(b);if(S!=-1){S+=b.length;var D=document.cookie.indexOf(";",S);return D==-1&&(D=document.cookie.length),document.cookie.substring(S,D)}}return""}(y);if(x){s._min_date||(s._min_date=u),(x=unescape(x).split("@"))[0]=this._helpers.parseDate(x[0]);var v=this.isViewExists(x[1])?x[1]:c;return u=isNaN(+x[0])?u:x[0],window.setTimeout(function(){s.setCurrentView(u,v)},1),!1}}return!0}),s.attachEvent("onViewChange",function(p,o){(function(c,u,_){var y=c+"="+_+(u?"; "+u:"");document.cookie=y})(w(s),"expires=Sun, 31 Jan 9999 22:00:00 GMT",escape(this._helpers.formatDate(o)+"@"+p))});var m=s._load;s._load=function(){var p=arguments;if(s._date)m.apply(this,p);else{var o=this;window.setTimeout(function(){m.apply(o,p)},1)}}},daytimeline:function(s){Ti("Day Timeline",s.assert)},drag_between:function(s){Ti("Drag Between",s.assert)},editors:function(s){s.form_blocks.combo={render:function(w){w.cached_options||(w.cached_options={});var d="";return d+="<div class='"+w.type+"' style='height:"+(w.height||20)+"px;' ></div>"},set_value:function(w,d,m,p){(function(){b();var E=s.attachEvent("onAfterLightbox",function(){b(),s.detachEvent(E)});function b(){if(w._combo&&w._combo.DOMParent){var S=w._combo;S.unload?S.unload():S.destructor&&S.destructor(),S.DOMParent=S.DOMelem=null}}})(),window.dhx_globalImgPath=p.image_path||"/",w._combo=new dhtmlXCombo(w,p.name,w.offsetWidth-8),p.onchange&&w._combo.attachEvent("onChange",p.onchange),p.options_height&&w._combo.setOptionHeight(p.options_height);var o=w._combo;if(o.enableFilteringMode(p.filtering,p.script_path||null,!!p.cache),p.script_path){var c=m[p.map_to];c?p.cached_options[c]?(o.addOption(c,p.cached_options[c]),o.disable(1),o.selectOption(0),o.disable(0)):s.ajax.get(p.script_path+"?id="+c+"&uid="+s.uid(),function(E){var b,S=E.xmlDoc.responseText;try{b=JSON.parse(S).options[0].text}catch{b=s.ajax.xpath("//option",E.xmlDoc)[0].childNodes[0].nodeValue}p.cached_options[c]=b,o.addOption(c,b),o.disable(1),o.selectOption(0),o.disable(0)}):o.setComboValue("")}else{for(var u=[],_=0;_<p.options.length;_++){var y=p.options[_],x=[y.key,y.label,y.css];u.push(x)}if(o.addOption(u),m[p.map_to]){var v=o.getIndexByValue(m[p.map_to]);o.selectOption(v)}}},get_value:function(w,d,m){var p=w._combo.getSelectedValue();return m.script_path&&(m.cached_options[p]=w._combo.getSelectedText()),p},focus:function(w){}},s.form_blocks.radio={render:function(w){var d="";d+="<div class='dhx_cal_ltext dhx_cal_radio' style='height:"+w.height+"px;' >";for(var m=0;m<w.options.length;m++){var p=s.uid();d+="<input id='"+p+"' type='radio' name='"+w.name+"' value='"+w.options[m].key+"'><label for='"+p+"'> "+w.options[m].label+"</label>",w.vertical&&(d+="<br/>")}return d+="</div>"},set_value:function(w,d,m,p){for(var o=w.getElementsByTagName("input"),c=0;c<o.length;c++){o[c].checked=!1;var u=m[p.map_to]||d;o[c].value==u&&(o[c].checked=!0)}},get_value:function(w,d,m){for(var p=w.getElementsByTagName("input"),o=0;o<p.length;o++)if(p[o].checked)return p[o].value},focus:function(w){}},s.form_blocks.checkbox={render:function(w){return s.config.wide_form?'<div class="dhx_cal_wide_checkbox" '+(w.height?"style='height:"+w.height+"px;'":"")+"></div>":""},set_value:function(w,d,m,p){w=document.getElementById(p.id);var o=s.uid(),c=p.checked_value!==void 0?d==p.checked_value:!!d;w.className+=" dhx_cal_checkbox";var u="<input id='"+o+"' type='checkbox' value='true' name='"+p.name+"'"+(c?"checked='true'":"")+"'>",_="<label for='"+o+"'>"+(s.locale.labels["section_"+p.name]||p.name)+"</label>";if(s.config.wide_form?(w.innerHTML=_,w.nextSibling.innerHTML=u):w.innerHTML=u+_,p.handler){var y=w.getElementsByTagName("input")[0];if(y.$_eventAttached)return;y.$_eventAttached=!0,s.event(y,"click",p.handler)}},get_value:function(w,d,m){var p=(w=document.getElementById(m.id)).getElementsByTagName("input")[0];return p||(p=w.nextSibling.getElementsByTagName("input")[0]),p.checked?m.checked_value||!0:m.unchecked_value||!1},focus:function(w){}}},expand:function(s){s.ext.fullscreen={toggleIcon:null},s.expand=function(){if(s.callEvent("onBeforeExpand",[])){var w=s._obj;do w._position=w.style.position||"",w.style.position="static";while((w=w.parentNode)&&w.style);(w=s._obj).style.position="absolute",w._width=w.style.width,w._height=w.style.height,w.style.width=w.style.height="100%",w.style.top=w.style.left="0px";var d=document.body;d.scrollTop=0,(d=d.parentNode)&&(d.scrollTop=0),document.body._overflow=document.body.style.overflow||"",document.body.style.overflow="hidden",s._maximize(),s.callEvent("onExpand",[])}},s.collapse=function(){if(s.callEvent("onBeforeCollapse",[])){var w=s._obj;do w.style.position=w._position;while((w=w.parentNode)&&w.style);(w=s._obj).style.width=w._width,w.style.height=w._height,document.body.style.overflow=document.body._overflow,s._maximize(),s.callEvent("onCollapse",[])}},s.attachEvent("onTemplatesReady",function(){var w=document.createElement("div");w.className="dhx_expand_icon",s.ext.fullscreen.toggleIcon=w,s._obj.appendChild(w),s.event(w,"click",function(){s.expanded?s.collapse():s.expand()})}),s._maximize=function(){this.expanded=!this.expanded,s.ext.fullscreen.toggleIcon.style.backgroundPosition="0 "+(this.expanded?"0":"18")+"px";for(var w=["left","top"],d=0;d<w.length;d++){var m=s["_prev_margin_"+w[d]];s.xy["margin_"+w[d]]?(s["_prev_margin_"+w[d]]=s.xy["margin_"+w[d]],s.xy["margin_"+w[d]]=0):m&&(s.xy["margin_"+w[d]]=s["_prev_margin_"+w[d]],delete s["_prev_margin_"+w[d]])}s.setCurrentView()}},grid_view:function(s){Ti("Grid",s.assert)},html_templates:function(s){s.attachEvent("onTemplatesReady",function(){for(var w=document.body.getElementsByTagName("DIV"),d=0;d<w.length;d++){var m=w[d].className||"";if((m=m.split(":")).length==2&&m[0]=="template"){var p='return "'+(w[d].innerHTML||"").replace(/"/g,'\\"').replace(/[\n\r]+/g,"")+'";';p=unescape(p).replace(/\{event\.([a-z]+)\}/g,function(o,c){return'"+ev.'+c+'+"'}),s.templates[m[1]]=Function("start","end","ev",p),w[d].style.display="none"}}})},key_nav:function(s){function w(d){var m={minicalButton:s.$keyboardNavigation.MinicalButton,minicalDate:s.$keyboardNavigation.MinicalCell,scheduler:s.$keyboardNavigation.SchedulerNode,dataArea:s.$keyboardNavigation.DataArea,timeSlot:s.$keyboardNavigation.TimeSlot,event:s.$keyboardNavigation.Event},p={};for(var o in m)p[o.toLowerCase()]=m[o];return p[d=(d+"").toLowerCase()]||m.scheduler}s.config.key_nav=!0,s.config.key_nav_step=30,s.addShortcut=function(d,m,p){var o=w(p);o&&o.prototype.bind(d,m)},s.getShortcutHandler=function(d,m){var p=w(m);if(p){var o=s.$keyboardNavigation.shortcuts.parse(d);if(o.length)return p.prototype.findHandler(o[0])}},s.removeShortcut=function(d,m){var p=w(m);p&&p.prototype.unbind(d)},s.focus=function(){if(s.config.key_nav){var d=s.$keyboardNavigation.dispatcher;d.enable();var m=d.getActiveNode();!m||m instanceof s.$keyboardNavigation.MinicalButton||m instanceof s.$keyboardNavigation.MinicalCell?d.setDefaultNode():d.focusNode(d.getActiveNode())}},s.$keyboardNavigation={},s._compose=function(){for(var d=Array.prototype.slice.call(arguments,0),m={},p=0;p<d.length;p++){var o=d[p];for(var c in typeof o=="function"&&(o=new o),o)m[c]=o[c]}return m},function(d){d.$keyboardNavigation.shortcuts={createCommand:function(){return{modifiers:{shift:!1,alt:!1,ctrl:!1,meta:!1},keyCode:null}},parse:function(m){for(var p=[],o=this.getExpressions(this.trim(m)),c=0;c<o.length;c++){for(var u=this.getWords(o[c]),_=this.createCommand(),y=0;y<u.length;y++)this.commandKeys[u[y]]?_.modifiers[u[y]]=!0:this.specialKeys[u[y]]?_.keyCode=this.specialKeys[u[y]]:_.keyCode=u[y].charCodeAt(0);p.push(_)}return p},getCommandFromEvent:function(m){var p=this.createCommand();p.modifiers.shift=!!m.shiftKey,p.modifiers.alt=!!m.altKey,p.modifiers.ctrl=!!m.ctrlKey,p.modifiers.meta=!!m.metaKey,p.keyCode=m.which||m.keyCode,p.keyCode>=96&&p.keyCode<=105&&(p.keyCode-=48);var o=String.fromCharCode(p.keyCode);return o&&(p.keyCode=o.toLowerCase().charCodeAt(0)),p},getHashFromEvent:function(m){return this.getHash(this.getCommandFromEvent(m))},getHash:function(m){var p=[];for(var o in m.modifiers)m.modifiers[o]&&p.push(o);return p.push(m.keyCode),p.join(this.junctionChar)},getExpressions:function(m){return m.split(this.junctionChar)},getWords:function(m){return m.split(this.combinationChar)},trim:function(m){return m.replace(/\s/g,"")},junctionChar:",",combinationChar:"+",commandKeys:{shift:16,alt:18,ctrl:17,meta:!0},specialKeys:{backspace:8,tab:9,enter:13,esc:27,space:32,up:38,down:40,left:37,right:39,home:36,end:35,pageup:33,pagedown:34,delete:46,insert:45,plus:107,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123}}}(s),function(d){d.$keyboardNavigation.EventHandler={_handlers:null,findHandler:function(m){this._handlers||(this._handlers={});var p=d.$keyboardNavigation.shortcuts.getHash(m);return this._handlers[p]},doAction:function(m,p){var o=this.findHandler(m);o&&(o.call(this,p),p.preventDefault?p.preventDefault():p.returnValue=!1)},bind:function(m,p){this._handlers||(this._handlers={});for(var o=d.$keyboardNavigation.shortcuts,c=o.parse(m),u=0;u<c.length;u++)this._handlers[o.getHash(c[u])]=p},unbind:function(m){for(var p=d.$keyboardNavigation.shortcuts,o=p.parse(m),c=0;c<o.length;c++)this._handlers[p.getHash(o[c])]&&delete this._handlers[p.getHash(o[c])]},bindAll:function(m){for(var p in m)this.bind(p,m[p])},initKeys:function(){this._handlers||(this._handlers={}),this.keys&&this.bindAll(this.keys)}}}(s),function(d){d.$keyboardNavigation.getFocusableNodes=d._getFocusableNodes,d.$keyboardNavigation.trapFocus=function(m,p){if(p.keyCode!=9)return!1;for(var o,c=d.$keyboardNavigation.getFocusableNodes(m),u=document.activeElement,_=-1,y=0;y<c.length;y++)if(c[y]==u){_=y;break}if(p.shiftKey){if(o=c[_<=0?c.length-1:_-1])return o.focus(),p.preventDefault(),!0}else if(o=c[_>=c.length-1?0:_+1])return o.focus(),p.preventDefault(),!0;return!1}}(s),function(d){d.$keyboardNavigation.marker={clear:function(){for(var m=d.$container.querySelectorAll(".dhx_focus_slot"),p=0;p<m.length;p++)m[p].parentNode.removeChild(m[p])},createElement:function(){var m=document.createElement("div");return m.setAttribute("tabindex",-1),m.className="dhx_focus_slot",m},renderMultiple:function(m,p,o){for(var c=[],u=new Date(m),_=new Date(Math.min(p.valueOf(),d.date.add(d.date.day_start(new Date(m)),1,"day").valueOf()));u.valueOf()<p.valueOf();)c=c.concat(o.call(this,u,new Date(Math.min(_.valueOf(),p.valueOf())))),u=d.date.day_start(d.date.add(u,1,"day")),_=d.date.day_start(d.date.add(u,1,"day")),_=new Date(Math.min(_.valueOf(),p.valueOf()));return c},render:function(m,p,o){this.clear();var c=[],u=d.$keyboardNavigation.TimeSlot.prototype._modes;switch(d.$keyboardNavigation.TimeSlot.prototype._getMode()){case u.units:c=this.renderVerticalMarker(m,p,o);break;case u.timeline:c=this.renderTimelineMarker(m,p,o);break;case u.year:c=c.concat(this.renderMultiple(m,p,this.renderYearMarker));break;case u.month:c=this.renderMonthMarker(m,p);break;case u.weekAgenda:c=c.concat(this.renderMultiple(m,p,this.renderWeekAgendaMarker));break;case u.list:c=this.renderAgendaMarker(m,p);break;case u.dayColumns:c=c.concat(this.renderMultiple(m,p,this.renderVerticalMarker))}this.addWaiAriaLabel(c,m,p,o),this.addDataAttributes(c,m,p,o);for(var _=c.length-1;_>=0;_--)if(c[_].offsetWidth)return c[_];return null},addDataAttributes:function(m,p,o,c){for(var u=d.date.date_to_str(d.config.api_date),_=u(p),y=u(o),x=0;x<m.length;x++)m[x].setAttribute("data-start-date",_),m[x].setAttribute("data-end-date",y),c&&m[x].setAttribute("data-section",c)},addWaiAriaLabel:function(m,p,o,c){var u="",_=d.getState().mode,y=!1;u+=d.templates.day_date(p),d.date.day_start(new Date(p)).valueOf()!=p.valueOf()&&(u+=" "+d.templates.hour_scale(p),y=!0),d.date.day_start(new Date(p)).valueOf()!=d.date.day_start(new Date(o)).valueOf()&&(u+=" - "+d.templates.day_date(o),(y||d.date.day_start(new Date(o)).valueOf()!=o.valueOf())&&(u+=" "+d.templates.hour_scale(o))),c&&(d.matrix&&d.matrix[_]?u+=", "+d.templates[_+"_scale_label"](c.key,c.label,c):d._props&&d._props[_]&&(u+=", "+d.templates[_+"_scale_text"](c.key,c.label,c)));for(var x=0;x<m.length;x++)d._waiAria.setAttributes(m[x],{"aria-label":u,"aria-live":"polite"})},renderWeekAgendaMarker:function(m,p){for(var o=d.$container.querySelectorAll(".dhx_wa_day_cont .dhx_wa_scale_bar"),c=d.date.week_start(new Date(d.getState().min_date)),u=-1,_=d.date.day_start(new Date(m)),y=0;y<o.length&&(u++,d.date.day_start(new Date(c)).valueOf()!=_.valueOf());y++)c=d.date.add(c,1,"day");return u!=-1?this._wrapDiv(o[u]):[]},_wrapDiv:function(m){var p=this.createElement();return p.style.top=m.offsetTop+"px",p.style.left=m.offsetLeft+"px",p.style.width=m.offsetWidth+"px",p.style.height=m.offsetHeight+"px",m.appendChild(p),[p]},renderYearMarker:function(m,p){var o=d._get_year_cell(m);o.style.position="relative";var c=this.createElement();return c.style.top="0px",c.style.left="0px",c.style.width="100%",c.style.height="100%",o.appendChild(c),[c]},renderAgendaMarker:function(m,p){var o=this.createElement();return o.style.height="1px",o.style.width="100%",o.style.opacity=1,o.style.top="0px",o.style.left="0px",d.$container.querySelector(".dhx_cal_data").appendChild(o),[o]},renderTimelineMarker:function(m,p,o){var c=d._lame_copy({},d.matrix[d._mode]),u=c._scales;c.round_position=!1;var _=[],y=m?new Date(m):d._min_date,x=p?new Date(p):d._max_date;if(y.valueOf()<d._min_date.valueOf()&&(y=new Date(d._min_date)),x.valueOf()>d._max_date.valueOf()&&(x=new Date(d._max_date)),!c._trace_x)return _;for(var v=0;v<c._trace_x.length&&!d._is_column_visible(c._trace_x[v]);v++);if(v==c._trace_x.length)return _;var E=u[o];if(!(y<p&&x>m))return _;var b=this.createElement(),S=d._timeline_getX({start_date:m},!1,c)-1,D=d._timeline_getX({start_date:p},!1,c)-1,M=c._section_height[o]-1||c.dy-1,V=0;d._isRender("cell")&&(V=E.offsetTop,S+=c.dx,D+=c.dx,E=d.$container.querySelector(".dhx_cal_data"));var F=Math.max(1,D-S-1);return b.style.cssText="height: "+M+"px; left: "+S+"px; width: "+F+"px; top: "+V+"px;",E.appendChild(b),_.push(b),_},renderMonthCell:function(m){for(var p=d.$container.querySelectorAll(".dhx_month_head"),o=[],c=0;c<p.length;c++)o.push(p[c].parentNode);var u=-1,_=0,y=-1,x=d.date.week_start(new Date(d.getState().min_date)),v=d.date.day_start(new Date(m));for(c=0;c<o.length&&(u++,y==6?(_++,y=0):y++,d.date.day_start(new Date(x)).valueOf()!=v.valueOf());c++)x=d.date.add(x,1,"day");if(u==-1)return[];var E=d._colsS[y],b=d._colsS.heights[_],S=this.createElement();S.style.top=b+"px",S.style.left=E+"px",S.style.width=d._cols[y]+"px",S.style.height=(d._colsS.heights[_+1]-b||d._colsS.height)+"px";var D=d.$container.querySelector(".dhx_cal_data"),M=D.querySelector("table");return M.nextSibling?D.insertBefore(S,M.nextSibling):D.appendChild(S),S},renderMonthMarker:function(m,p){for(var o=[],c=m;c.valueOf()<p.valueOf();)o.push(this.renderMonthCell(c)),c=d.date.add(c,1,"day");return o},renderVerticalMarker:function(m,p,o){var c=d.locate_holder_day(m),u=[],_=null,y=d.config;if(d._ignores[c])return u;if(d._props&&d._props[d._mode]&&o){var x=d._props[d._mode];c=x.order[o];var v=x.order[o];x.days>1?c=d.locate_holder_day(m)+v:(c=v,x.size&&c>x.position+x.size&&(c=0))}if(!(_=d.locate_holder(c))||_.querySelector(".dhx_scale_hour"))return document.createElement("div");var E=Math.max(60*m.getHours()+m.getMinutes(),60*y.first_hour),b=Math.min(60*p.getHours()+p.getMinutes(),60*y.last_hour);if(!b&&d.date.day_start(new Date(p)).valueOf()>d.date.day_start(new Date(m)).valueOf()&&(b=60*y.last_hour),b<=E)return[];var S=this.createElement(),D=d.config.hour_size_px*y.last_hour+1;return S.style.top=Math.round((60*E*1e3-36e5*d.config.first_hour)*d.config.hour_size_px/36e5)%D+"px",S.style.lineHeight=S.style.height=Math.max(Math.round(60*(b-E)*1e3*d.config.hour_size_px/36e5)%D,1)+"px",S.style.width="100%",_.appendChild(S),u.push(S),u[0]}}}(s),function(d){d.$keyboardNavigation.SchedulerNode=function(){},d.$keyboardNavigation.SchedulerNode.prototype=d._compose(d.$keyboardNavigation.EventHandler,{getDefaultNode:function(){var m=new d.$keyboardNavigation.TimeSlot;return m.isValid()||(m=m.fallback()),m},_modes:{month:"month",year:"year",dayColumns:"dayColumns",timeline:"timeline",units:"units",weekAgenda:"weekAgenda",list:"list"},getMode:function(){var m=d.getState().mode;return d.matrix&&d.matrix[m]?this._modes.timeline:d._props&&d._props[m]?this._modes.units:m=="month"?this._modes.month:m=="year"?this._modes.year:m=="week_agenda"?this._modes.weekAgenda:m=="map"||m=="agenda"||d._grid&&d["grid_"+m]?this._modes.list:this._modes.dayColumns},focus:function(){d.focus()},blur:function(){},disable:function(){d.$container.setAttribute("tabindex","0")},enable:function(){d.$container&&d.$container.removeAttribute("tabindex")},isEnabled:function(){return d.$container.hasAttribute("tabindex")},_compareEvents:function(m,p){return m.start_date.valueOf()==p.start_date.valueOf()?m.id>p.id?1:-1:m.start_date.valueOf()>p.start_date.valueOf()?1:-1},_pickEvent:function(m,p,o,c){var u=d.getState();m=new Date(Math.max(u.min_date.valueOf(),m.valueOf())),p=new Date(Math.min(u.max_date.valueOf(),p.valueOf()));var _=d.getEvents(m,p);_.sort(this._compareEvents),c&&(_=_.reverse());for(var y=!!o,x=0;x<_.length&&y;x++)_[x].id==o&&(y=!1),_.splice(x,1),x--;for(x=0;x<_.length;x++)if(new d.$keyboardNavigation.Event(_[x].id).getNode())return _[x];return null},nextEventHandler:function(m){var p=d.$keyboardNavigation.dispatcher.activeNode,o=m||p&&p.eventId,c=null;if(o&&d.getEvent(o)){var u=d.getEvent(o);c=d.$keyboardNavigation.SchedulerNode.prototype._pickEvent(u.start_date,d.date.add(u.start_date,1,"year"),u.id,!1)}if(!c&&!m){var _=d.getState();c=d.$keyboardNavigation.SchedulerNode.prototype._pickEvent(_.min_date,d.date.add(_.min_date,1,"year"),null,!1)}if(c){var y=new d.$keyboardNavigation.Event(c.id);y.isValid()?(p&&p.blur(),d.$keyboardNavigation.dispatcher.setActiveNode(y)):this.nextEventHandler(c.id)}},prevEventHandler:function(m){var p=d.$keyboardNavigation.dispatcher.activeNode,o=m||p&&p.eventId,c=null;if(o&&d.getEvent(o)){var u=d.getEvent(o);c=d.$keyboardNavigation.SchedulerNode.prototype._pickEvent(d.date.add(u.end_date,-1,"year"),u.end_date,u.id,!0)}if(!c&&!m){var _=d.getState();c=d.$keyboardNavigation.SchedulerNode.prototype._pickEvent(d.date.add(_.max_date,-1,"year"),_.max_date,null,!0)}if(c){var y=new d.$keyboardNavigation.Event(c.id);y.isValid()?(p&&p.blur(),d.$keyboardNavigation.dispatcher.setActiveNode(y)):this.prevEventHandler(c.id)}},keys:{"alt+1, alt+2, alt+3, alt+4, alt+5, alt+6, alt+7, alt+8, alt+9":function(m){var p=d.$keyboardNavigation.HeaderCell.prototype.getNodes(".dhx_cal_navline .dhx_cal_tab"),o=m.key;o===void 0&&(o=m.keyCode-48),p[1*o-1]&&p[1*o-1].click()},"ctrl+left,meta+left":function(m){d._click.dhx_cal_prev_button()},"ctrl+right,meta+right":function(m){d._click.dhx_cal_next_button()},"ctrl+up,meta+up":function(m){d.$container.querySelector(".dhx_cal_data").scrollTop-=20},"ctrl+down,meta+down":function(m){d.$container.querySelector(".dhx_cal_data").scrollTop+=20},e:function(){this.nextEventHandler()},home:function(){d.setCurrentView(new Date)},"shift+e":function(){this.prevEventHandler()},"ctrl+enter,meta+enter":function(){d.addEventNow({start_date:new Date(d.getState().date)})},"ctrl+c,meta+c":function(m){d._key_nav_copy_paste(m)},"ctrl+v,meta+v":function(m){d._key_nav_copy_paste(m)},"ctrl+x,meta+x":function(m){d._key_nav_copy_paste(m)}}}),d.$keyboardNavigation.SchedulerNode.prototype.bindAll(d.$keyboardNavigation.SchedulerNode.prototype.keys)}(s),function(d){d.$keyboardNavigation.KeyNavNode=function(){},d.$keyboardNavigation.KeyNavNode.prototype=d._compose(d.$keyboardNavigation.EventHandler,{isValid:function(){return!0},fallback:function(){return null},moveTo:function(m){d.$keyboardNavigation.dispatcher.setActiveNode(m)},compareTo:function(m){if(!m)return!1;for(var p in this){if(!!this[p]!=!!m[p])return!1;var o=!(!this[p]||!this[p].toString),c=!(!m[p]||!m[p].toString);if(c!=o)return!1;if(c&&o){if(m[p].toString()!=this[p].toString())return!1}else if(m[p]!=this[p])return!1}return!0},getNode:function(){},focus:function(){var m=this.getNode();m&&(m.setAttribute("tabindex","-1"),m.focus&&m.focus())},blur:function(){var m=this.getNode();m&&m.setAttribute("tabindex","-1")}})}(s),function(d){d.$keyboardNavigation.HeaderCell=function(m){this.index=m||0},d.$keyboardNavigation.HeaderCell.prototype=d._compose(d.$keyboardNavigation.KeyNavNode,{getNode:function(m){m=m||this.index||0;var p=this.getNodes();if(p[m])return p[m]},getNodes:function(m){m=m||[".dhx_cal_navline .dhx_cal_prev_button",".dhx_cal_navline .dhx_cal_next_button",".dhx_cal_navline .dhx_cal_today_button",".dhx_cal_navline .dhx_cal_tab"].join(", ");var p=Array.prototype.slice.call(d.$container.querySelectorAll(m));return p.sort(function(o,c){return o.offsetLeft-c.offsetLeft}),p},_handlers:null,isValid:function(){return!!this.getNode(this.index)},fallback:function(){var m=this.getNode(0);return m||(m=new d.$keyboardNavigation.TimeSlot),m},keys:{left:function(){var m=this.index-1;m<0&&(m=this.getNodes().length-1),this.moveTo(new d.$keyboardNavigation.HeaderCell(m))},right:function(){var m=this.index+1;m>=this.getNodes().length&&(m=0),this.moveTo(new d.$keyboardNavigation.HeaderCell(m))},down:function(){this.moveTo(new d.$keyboardNavigation.TimeSlot)},enter:function(){var m=this.getNode();m&&m.click()}}}),d.$keyboardNavigation.HeaderCell.prototype.bindAll(d.$keyboardNavigation.HeaderCell.prototype.keys)}(s),function(d){d.$keyboardNavigation.Event=function(m){if(this.eventId=null,d.getEvent(m)){var p=d.getEvent(m);this.start=new Date(p.start_date),this.end=new Date(p.end_date),this.section=this._getSection(p),this.eventId=m}},d.$keyboardNavigation.Event.prototype=d._compose(d.$keyboardNavigation.KeyNavNode,{_getNodes:function(){return Array.prototype.slice.call(d.$container.querySelectorAll("["+d.config.event_attribute+"]"))},_modes:d.$keyboardNavigation.SchedulerNode.prototype._modes,getMode:d.$keyboardNavigation.SchedulerNode.prototype.getMode,_handlers:null,isValid:function(){return!(!d.getEvent(this.eventId)||!this.getNode())},fallback:function(){var m=this._getNodes()[0],p=null;if(m&&d._locate_event(m)){var o=d._locate_event(m);p=new d.$keyboardNavigation.Event(o)}else p=new d.$keyboardNavigation.TimeSlot;return p},isScrolledIntoView:function(m){var p=m.getBoundingClientRect(),o=d.$container.querySelector(".dhx_cal_data").getBoundingClientRect();return!(p.bottom<o.top||p.top>o.bottom)},getNode:function(){var m="["+d.config.event_attribute+"='"+this.eventId+"']",p=d.$keyboardNavigation.dispatcher.getInlineEditor(this.eventId);if(p)return p;if(d.isMultisectionEvent&&d.isMultisectionEvent(d.getEvent(this.eventId))){for(var o=d.$container.querySelectorAll(m),c=0;c<o.length;c++)if(this.isScrolledIntoView(o[c]))return o[c];return o[0]}return d.$container.querySelector(m)},focus:function(){var m=d.getEvent(this.eventId),p=d.getState();(m.start_date.valueOf()>p.max_date.valueOf()||m.end_date.valueOf()<=p.min_date.valueOf())&&d.setCurrentView(m.start_date);var o=this.getNode();this.isScrolledIntoView(o)?d.$keyboardNavigation.dispatcher.keepScrollPosition(function(){d.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this)}.bind(this)):d.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this)},blur:function(){d.$keyboardNavigation.KeyNavNode.prototype.blur.apply(this)},_getSection:function(m){var p=null,o=d.getState().mode;return d.matrix&&d.matrix[o]?p=m[d.matrix[d.getState().mode].y_property]:d._props&&d._props[o]&&(p=m[d._props[o].map_to]),p},_moveToSlot:function(m){var p=d.getEvent(this.eventId);if(p){var o=this._getSection(p),c=new d.$keyboardNavigation.TimeSlot(p.start_date,null,o);this.moveTo(c.nextSlot(c,m))}else this.moveTo(new d.$keyboardNavigation.TimeSlot)},keys:{left:function(){this._moveToSlot("left")},right:function(){this._moveToSlot("right")},down:function(){this.getMode()==this._modes.list?d.$keyboardNavigation.SchedulerNode.prototype.nextEventHandler():this._moveToSlot("down")},space:function(){var m=this.getNode();m&&m.click?m.click():this.moveTo(new d.$keyboardNavigation.TimeSlot)},up:function(){this.getMode()==this._modes.list?d.$keyboardNavigation.SchedulerNode.prototype.prevEventHandler():this._moveToSlot("up")},delete:function(){d.getEvent(this.eventId)?d._click.buttons.delete(this.eventId):this.moveTo(new d.$keyboardNavigation.TimeSlot)},enter:function(){d.getEvent(this.eventId)?d.showLightbox(this.eventId):this.moveTo(new d.$keyboardNavigation.TimeSlot)}}}),d.$keyboardNavigation.Event.prototype.bindAll(d.$keyboardNavigation.Event.prototype.keys)}(s),function(d){d.$keyboardNavigation.TimeSlot=function(m,p,o,c){var u=d.getState(),_=d.matrix&&d.matrix[u.mode];m||(m=this.getDefaultDate()),p||(p=_?d.date.add(m,_.x_step,_.x_unit):d.date.add(m,d.config.key_nav_step,"minute")),this.section=o||this._getDefaultSection(),this.start_date=new Date(m),this.end_date=new Date(p),this.movingDate=c||null},d.$keyboardNavigation.TimeSlot.prototype=d._compose(d.$keyboardNavigation.KeyNavNode,{_handlers:null,getDefaultDate:function(){var m,p=d.getState(),o=new Date(p.date);o.setSeconds(0),o.setMilliseconds(0);var c=new Date;c.setSeconds(0),c.setMilliseconds(0);var u=d.matrix&&d.matrix[p.mode],_=!1;if(o.valueOf()===c.valueOf()&&(_=!0),u)_?(u.x_unit==="day"?(c.setHours(0),c.setMinutes(0)):u.x_unit==="hour"&&c.setMinutes(0),m=c):m=d.date[u.name+"_start"](new Date(p.date)),m=this.findVisibleColumn(m);else if(m=new Date(d.getState().min_date),_&&(m=c),m=this.findVisibleColumn(m),_||m.setHours(d.config.first_hour),!d._table_view){var y=d.$container.querySelector(".dhx_cal_data");y.scrollTop&&m.setHours(d.config.first_hour+Math.ceil(y.scrollTop/d.config.hour_size_px))}return m},clone:function(m){return new d.$keyboardNavigation.TimeSlot(m.start_date,m.end_date,m.section,m.movingDate)},_getMultisectionView:function(){var m,p=d.getState();return d._props&&d._props[p.mode]?m=d._props[p.mode]:d.matrix&&d.matrix[p.mode]&&(m=d.matrix[p.mode]),m},_getDefaultSection:function(){var m=null;return this._getMultisectionView()&&!m&&(m=this._getNextSection()),m},_getNextSection:function(m,p){var o=this._getMultisectionView(),c=o.order[m],u=c;u=(u=c!==void 0?c+p:o.size&&o.position?o.position:0)<0?u=(o.options||o.y_unit).length-1:u;var _=o.options||o.y_unit;return _[u]?_[u].key:null},isValid:function(){var m=d.getState();if(this.start_date.valueOf()<m.min_date.valueOf()||this.start_date.valueOf()>=m.max_date.valueOf()||!this.isVisible(this.start_date,this.end_date))return!1;var p=this._getMultisectionView();return!p||p.order[this.section]!==void 0},fallback:function(){var m=new d.$keyboardNavigation.TimeSlot;return m.isValid()?m:new d.$keyboardNavigation.DataArea},getNodes:function(){return Array.prototype.slice.call(d.$container.querySelectorAll(".dhx_focus_slot"))},getNode:function(){return this.getNodes()[0]},focus:function(){d.$keyboardNavigation.marker.render(this.start_date,this.end_date,this.section),d.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this),d.$keyboardNavigation._pasteDate=this.start_date,d.$keyboardNavigation._pasteSection=this.section},blur:function(){d.$keyboardNavigation.KeyNavNode.prototype.blur.apply(this),d.$keyboardNavigation.marker.clear()},_modes:d.$keyboardNavigation.SchedulerNode.prototype._modes,_getMode:d.$keyboardNavigation.SchedulerNode.prototype.getMode,addMonthDate:function(m,p,o){var c;switch(p){case"up":c=d.date.add(m,-1,"week");break;case"down":c=d.date.add(m,1,"week");break;case"left":c=d.date.day_start(d.date.add(m,-1,"day")),c=this.findVisibleColumn(c,-1);break;case"right":c=d.date.day_start(d.date.add(m,1,"day")),c=this.findVisibleColumn(c,1);break;default:c=d.date.day_start(new Date(m))}var u=d.getState();return(m.valueOf()<u.min_date.valueOf()||!o&&m.valueOf()>=u.max_date.valueOf())&&(c=new Date(u.min_date)),c},nextMonthSlot:function(m,p,o){var c,u;return(c=this.addMonthDate(m.start_date,p,o)).setHours(d.config.first_hour),(u=new Date(c)).setHours(d.config.last_hour),{start_date:c,end_date:u}},_alignTimeSlot:function(m,p,o,c){for(var u=new Date(p);u.valueOf()<m.valueOf();)u=d.date.add(u,c,o);return u.valueOf()>m.valueOf()&&(u=d.date.add(u,-c,o)),u},nextTimelineSlot:function(m,p,o){var c=d.getState(),u=d.matrix[c.mode],_=this._alignTimeSlot(m.start_date,d.date[u.name+"_start"](new Date(m.start_date)),u.x_unit,u.x_step),y=this._alignTimeSlot(m.end_date,d.date[u.name+"_start"](new Date(m.end_date)),u.x_unit,u.x_step);y.valueOf()<=_.valueOf()&&(y=d.date.add(_,u.x_step,u.x_unit));var x=this.clone(m);switch(x.start_date=_,x.end_date=y,x.section=m.section||this._getNextSection(),p){case"up":x.section=this._getNextSection(m.section,-1);break;case"down":x.section=this._getNextSection(m.section,1);break;case"left":x.start_date=this.findVisibleColumn(d.date.add(x.start_date,-u.x_step,u.x_unit),-1),x.end_date=d.date.add(x.start_date,u.x_step,u.x_unit);break;case"right":x.start_date=this.findVisibleColumn(d.date.add(x.start_date,u.x_step,u.x_unit),1),x.end_date=d.date.add(x.start_date,u.x_step,u.x_unit)}return(x.start_date.valueOf()<c.min_date.valueOf()||x.start_date.valueOf()>=c.max_date.valueOf())&&(o&&x.start_date.valueOf()>=c.max_date.valueOf()?x.start_date=new Date(c.max_date):(x.start_date=d.date[c.mode+"_start"](d.date.add(c.date,p=="left"?-1:1,c.mode)),x.end_date=d.date.add(x.start_date,u.x_step,u.x_unit))),x},nextUnitsSlot:function(m,p,o){var c=this.clone(m);c.section=m.section||this._getNextSection();var u=m.section||this._getNextSection(),_=d.getState(),y=d._props[_.mode];switch(p){case"left":u=this._getNextSection(m.section,-1);var x=y.size?y.size-1:y.options.length;y.days>1&&y.order[u]==x-1&&d.date.add(m.start_date,-1,"day").valueOf()>=_.min_date.valueOf()&&(c=this.nextDaySlot(m,p,o));break;case"right":u=this._getNextSection(m.section,1),y.days>1&&!y.order[u]&&d.date.add(m.start_date,1,"day").valueOf()<_.max_date.valueOf()&&(c=this.nextDaySlot(m,p,o));break;default:c=this.nextDaySlot(m,p,o),u=m.section}return c.section=u,c},_moveDate:function(m,p){var o=this.findVisibleColumn(d.date.add(m,p,"day"),p);return o.setHours(m.getHours()),o.setMinutes(m.getMinutes()),o},isBeforeLastHour:function(m,p){var o=m.getMinutes(),c=m.getHours(),u=d.config.last_hour;return c<u||!p&&(u==24||c==u)&&!o},isAfterFirstHour:function(m,p){var o=m.getMinutes(),c=m.getHours(),u=d.config.first_hour,_=d.config.last_hour;return c>=u||!p&&!o&&(!c&&_==24||c==_)},isInVisibleDayTime:function(m,p){return this.isBeforeLastHour(m,p)&&this.isAfterFirstHour(m,p)},nextDaySlot:function(m,p,o){var c,u,_=d.config.key_nav_step,y=this._alignTimeSlot(m.start_date,d.date.day_start(new Date(m.start_date)),"minute",_),x=m.start_date;switch(p){case"up":if(c=d.date.add(y,-_,"minute"),!this.isInVisibleDayTime(c,!0)&&(!o||this.isInVisibleDayTime(x,!0))){var v=!0;o&&d.date.date_part(new Date(c)).valueOf()!=d.date.date_part(new Date(x)).valueOf()&&(v=!1),v&&(c=this.findVisibleColumn(d.date.add(m.start_date,-1,"day"),-1)),c.setHours(d.config.last_hour),c.setMinutes(0),c=d.date.add(c,-_,"minute")}u=d.date.add(c,_,"minute");break;case"down":c=d.date.add(y,_,"minute");var E=o?c:d.date.add(c,_,"minute");this.isInVisibleDayTime(E,!1)||o&&!this.isInVisibleDayTime(x,!1)||(o?(v=!0,d.date.date_part(new Date(x)).valueOf()==x.valueOf()&&(v=!1),v&&(c=this.findVisibleColumn(d.date.add(m.start_date,1,"day"),1)),c.setHours(d.config.first_hour),c.setMinutes(0),c=d.date.add(c,_,"minute")):((c=this.findVisibleColumn(d.date.add(m.start_date,1,"day"),1)).setHours(d.config.first_hour),c.setMinutes(0))),u=d.date.add(c,_,"minute");break;case"left":c=this._moveDate(m.start_date,-1),u=this._moveDate(m.end_date,-1);break;case"right":c=this._moveDate(m.start_date,1),u=this._moveDate(m.end_date,1);break;default:c=y,u=d.date.add(c,_,"minute")}return{start_date:c,end_date:u}},nextWeekAgendaSlot:function(m,p){var o,c,u=d.getState();switch(p){case"down":case"left":o=d.date.day_start(d.date.add(m.start_date,-1,"day")),o=this.findVisibleColumn(o,-1);break;case"up":case"right":o=d.date.day_start(d.date.add(m.start_date,1,"day")),o=this.findVisibleColumn(o,1);break;default:o=d.date.day_start(m.start_date)}return(m.start_date.valueOf()<u.min_date.valueOf()||m.start_date.valueOf()>=u.max_date.valueOf())&&(o=new Date(u.min_date)),(c=new Date(o)).setHours(d.config.last_hour),{start_date:o,end_date:c}},nextAgendaSlot:function(m,p){return{start_date:m.start_date,end_date:m.end_date}},isDateVisible:function(m){if(!d._ignores_detected)return!0;var p,o=d.matrix&&d.matrix[d.getState().mode];return p=o?d._get_date_index(o,m):d.locate_holder_day(m),!d._ignores[p]},findVisibleColumn:function(m,p){var o=m;p=p||1;for(var c=d.getState();!this.isDateVisible(o)&&(p>0&&o.valueOf()<=c.max_date.valueOf()||p<0&&o.valueOf()>=c.min_date.valueOf());)o=this.nextDateColumn(o,p);return o},nextDateColumn:function(m,p){p=p||1;var o=d.matrix&&d.matrix[d.getState().mode];return o?d.date.add(m,p*o.x_step,o.x_unit):d.date.day_start(d.date.add(m,p,"day"))},isVisible:function(m,p){if(!d._ignores_detected)return!0;for(var o=new Date(m);o.valueOf()<p.valueOf();){if(this.isDateVisible(o))return!0;o=this.nextDateColumn(o)}return!1},nextSlot:function(m,p,o,c){var u;o=o||this._getMode();var _=d.$keyboardNavigation.TimeSlot.prototype.clone(m);switch(o){case this._modes.units:u=this.nextUnitsSlot(_,p,c);break;case this._modes.timeline:u=this.nextTimelineSlot(_,p,c);break;case this._modes.year:case this._modes.month:u=this.nextMonthSlot(_,p,c);break;case this._modes.weekAgenda:u=this.nextWeekAgendaSlot(_,p,c);break;case this._modes.list:u=this.nextAgendaSlot(_,p,c);break;case this._modes.dayColumns:u=this.nextDaySlot(_,p,c)}return u.start_date.valueOf()>=u.end_date.valueOf()&&(u=this.nextSlot(u,p,o)),d.$keyboardNavigation.TimeSlot.prototype.clone(u)},extendSlot:function(m,p){var o;switch(this._getMode()){case this._modes.units:o=p=="left"||p=="right"?this.nextUnitsSlot(m,p):this.extendUnitsSlot(m,p);break;case this._modes.timeline:o=p=="down"||p=="up"?this.nextTimelineSlot(m,p):this.extendTimelineSlot(m,p);break;case this._modes.year:case this._modes.month:o=this.extendMonthSlot(m,p);break;case this._modes.dayColumns:o=this.extendDaySlot(m,p);break;case this._modes.weekAgenda:o=this.extendWeekAgendaSlot(m,p);break;default:o=m}var c=d.getState();return o.start_date.valueOf()<c.min_date.valueOf()&&(o.start_date=this.findVisibleColumn(c.min_date),o.start_date.setHours(d.config.first_hour)),o.end_date.valueOf()>c.max_date.valueOf()&&(o.end_date=this.findVisibleColumn(c.max_date,-1)),d.$keyboardNavigation.TimeSlot.prototype.clone(o)},extendTimelineSlot:function(m,p){return this.extendGenericSlot({left:"start_date",right:"end_date"},m,p,"timeline")},extendWeekAgendaSlot:function(m,p){return this.extendGenericSlot({left:"start_date",right:"end_date"},m,p,"weekAgenda")},extendGenericSlot:function(m,p,o,c){var u,_=p.movingDate;if(_||(_=m[o]),!_||!m[o])return p;if(!o)return d.$keyboardNavigation.TimeSlot.prototype.clone(p);(u=this.nextSlot({start_date:p[_],section:p.section},o,c,!0)).start_date.valueOf()==p.start_date.valueOf()&&(u=this.nextSlot({start_date:u.start_date,section:u.section},o,c,!0)),u.movingDate=_;var y=this.extendSlotDates(p,u,u.movingDate);return y.end_date.valueOf()<=y.start_date.valueOf()&&(u.movingDate=u.movingDate=="end_date"?"start_date":"end_date"),y=this.extendSlotDates(p,u,u.movingDate),u.start_date=y.start_date,u.end_date=y.end_date,u},extendSlotDates:function(m,p,o){var c={start_date:null,end_date:null};return o=="start_date"?(c.start_date=p.start_date,c.end_date=m.end_date):(c.start_date=m.start_date,c.end_date=p.start_date),c},extendMonthSlot:function(m,p){return(m=this.extendGenericSlot({up:"start_date",down:"end_date",left:"start_date",right:"end_date"},m,p,"month")).start_date.setHours(d.config.first_hour),m.end_date=d.date.add(m.end_date,-1,"day"),m.end_date.setHours(d.config.last_hour),m},extendUnitsSlot:function(m,p){var o;switch(p){case"down":case"up":o=this.extendDaySlot(m,p);break;default:o=m}return o.section=m.section,o},extendDaySlot:function(m,p){return this.extendGenericSlot({up:"start_date",down:"end_date",left:"start_date",right:"end_date"},m,p,"dayColumns")},scrollSlot:function(m){var p=d.getState(),o=this.nextSlot(this,m);(o.start_date.valueOf()<p.min_date.valueOf()||o.start_date.valueOf()>=p.max_date.valueOf())&&d.setCurrentView(new Date(o.start_date)),this.moveTo(o)},keys:{left:function(){this.scrollSlot("left")},right:function(){this.scrollSlot("right")},down:function(){this._getMode()==this._modes.list?d.$keyboardNavigation.SchedulerNode.prototype.nextEventHandler():this.scrollSlot("down")},up:function(){this._getMode()==this._modes.list?d.$keyboardNavigation.SchedulerNode.prototype.prevEventHandler():this.scrollSlot("up")},"shift+down":function(){this.moveTo(this.extendSlot(this,"down"))},"shift+up":function(){this.moveTo(this.extendSlot(this,"up"))},"shift+right":function(){this.moveTo(this.extendSlot(this,"right"))},"shift+left":function(){this.moveTo(this.extendSlot(this,"left"))},enter:function(){var m={start_date:new Date(this.start_date),end_date:new Date(this.end_date)},p=d.getState().mode;d.matrix&&d.matrix[p]?m[d.matrix[d.getState().mode].y_property]=this.section:d._props&&d._props[p]&&(m[d._props[p].map_to]=this.section),d.addEventNow(m)}}}),d.$keyboardNavigation.TimeSlot.prototype.bindAll(d.$keyboardNavigation.TimeSlot.prototype.keys)}(s),function(d){d.$keyboardNavigation.MinicalButton=function(m,p){this.container=m,this.index=p||0},d.$keyboardNavigation.MinicalButton.prototype=d._compose(d.$keyboardNavigation.KeyNavNode,{isValid:function(){return!!this.container.offsetWidth},fallback:function(){var m=new d.$keyboardNavigation.TimeSlot;return m.isValid()?m:new d.$keyboardNavigation.DataArea},focus:function(){d.$keyboardNavigation.dispatcher.globalNode.disable(),this.container.removeAttribute("tabindex"),d.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this)},blur:function(){this.container.setAttribute("tabindex","0"),d.$keyboardNavigation.KeyNavNode.prototype.blur.apply(this)},getNode:function(){return this.index?this.container.querySelector(".dhx_cal_next_button"):this.container.querySelector(".dhx_cal_prev_button")},keys:{right:function(m){this.moveTo(new d.$keyboardNavigation.MinicalButton(this.container,this.index?0:1))},left:function(m){this.moveTo(new d.$keyboardNavigation.MinicalButton(this.container,this.index?0:1))},down:function(){var m=new d.$keyboardNavigation.MinicalCell(this.container,0,0);m&&!m.isValid()&&(m=m.fallback()),this.moveTo(m)},enter:function(m){this.getNode().click()}}}),d.$keyboardNavigation.MinicalButton.prototype.bindAll(d.$keyboardNavigation.MinicalButton.prototype.keys)}(s),function(d){d.$keyboardNavigation.MinicalCell=function(m,p,o){this.container=m,this.row=p||0,this.col=o||0},d.$keyboardNavigation.MinicalCell.prototype=d._compose(d.$keyboardNavigation.KeyNavNode,{isValid:function(){var m=this._getGrid();return!(!m[this.row]||!m[this.row][this.col])},fallback:function(){var m=this.row,p=this.col,o=this._getGrid();o[m]||(m=0);var c=!0;if(m>o.length/2&&(c=!1),!o[m]){var u=new d.$keyboardNavigation.TimeSlot;return u.isValid()?u:new d.$keyboardNavigation.DataArea}if(c){for(var _=p;o[m]&&_<o[m].length;_++)if(o[m][_]||_!=o[m].length-1||(m++,p=0),o[m][_])return new d.$keyboardNavigation.MinicalCell(this.container,m,_)}else for(_=p;o[m]&&_<o[m].length;_--)if(o[m][_]||_||(p=o[--m].length-1),o[m][_])return new d.$keyboardNavigation.MinicalCell(this.container,m,_);return new d.$keyboardNavigation.MinicalButton(this.container,0)},focus:function(){d.$keyboardNavigation.dispatcher.globalNode.disable(),this.container.removeAttribute("tabindex"),d.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this)},blur:function(){this.container.setAttribute("tabindex","0"),d.$keyboardNavigation.KeyNavNode.prototype.blur.apply(this)},_getNode:function(m,p){return this.container.querySelector(".dhx_year_body tr:nth-child("+(m+1)+") td:nth-child("+(p+1)+")")},getNode:function(){return this._getNode(this.row,this.col)},_getGrid:function(){for(var m=this.container.querySelectorAll(".dhx_year_body tr"),p=[],o=0;o<m.length;o++){p[o]=[];for(var c=m[o].querySelectorAll("td"),u=0;u<c.length;u++){var _=c[u],y=!0,x=d._getClassName(_);(x.indexOf("dhx_after")>-1||x.indexOf("dhx_before")>-1||x.indexOf("dhx_scale_ignore")>-1)&&(y=!1),p[o][u]=y}}return p},keys:{right:function(m){var p=this._getGrid(),o=this.row,c=this.col+1;p[o]&&p[o][c]||(p[o+1]?(o+=1,c=0):c=this.col);var u=new d.$keyboardNavigation.MinicalCell(this.container,o,c);u.isValid()||(u=u.fallback()),this.moveTo(u)},left:function(m){var p=this._getGrid(),o=this.row,c=this.col-1;p[o]&&p[o][c]||(c=p[o-1]?p[o-=1].length-1:this.col);var u=new d.$keyboardNavigation.MinicalCell(this.container,o,c);u.isValid()||(u=u.fallback()),this.moveTo(u)},down:function(){var m=this._getGrid(),p=this.row+1,o=this.col;m[p]&&m[p][o]||(p=this.row);var c=new d.$keyboardNavigation.MinicalCell(this.container,p,o);c.isValid()||(c=c.fallback()),this.moveTo(c)},up:function(){var m=this._getGrid(),p=this.row-1,o=this.col;if(m[p]&&m[p][o]){var c=new d.$keyboardNavigation.MinicalCell(this.container,p,o);c.isValid()||(c=c.fallback()),this.moveTo(c)}else{var u=0;this.col>m[this.row].length/2&&(u=1),this.moveTo(new d.$keyboardNavigation.MinicalButton(this.container,u))}},enter:function(m){this.getNode().querySelector(".dhx_month_head").click()}}}),d.$keyboardNavigation.MinicalCell.prototype.bindAll(d.$keyboardNavigation.MinicalCell.prototype.keys)}(s),function(d){d.$keyboardNavigation.DataArea=function(m){this.index=m||0},d.$keyboardNavigation.DataArea.prototype=d._compose(d.$keyboardNavigation.KeyNavNode,{getNode:function(m){return d.$container.querySelector(".dhx_cal_data")},_handlers:null,isValid:function(){return!0},fallback:function(){return this},keys:{"up,down,right,left":function(){this.moveTo(new d.$keyboardNavigation.TimeSlot)}}}),d.$keyboardNavigation.DataArea.prototype.bindAll(d.$keyboardNavigation.DataArea.prototype.keys)}(s),NC(s),function(d){d.$keyboardNavigation.dispatcher={isActive:!1,activeNode:null,globalNode:new d.$keyboardNavigation.SchedulerNode,keepScrollPosition:function(m){var p,o,c=d.$container.querySelector(".dhx_timeline_scrollable_data");c||(c=d.$container.querySelector(".dhx_cal_data")),c&&(p=c.scrollTop,o=c.scrollLeft),m(),c&&(c.scrollTop=p,c.scrollLeft=o)},enable:function(){if(d.$container){this.isActive=!0;var m=this;this.keepScrollPosition(function(){m.globalNode.enable(),m.setActiveNode(m.getActiveNode())})}},disable:function(){this.isActive=!1,this.globalNode.disable()},isEnabled:function(){return!!this.isActive},getDefaultNode:function(){return this.globalNode.getDefaultNode()},setDefaultNode:function(){this.setActiveNode(this.getDefaultNode())},getActiveNode:function(){var m=this.activeNode;return m&&!m.isValid()&&(m=m.fallback()),m},focusGlobalNode:function(){this.blurNode(this.globalNode),this.focusNode(this.globalNode)},setActiveNode:function(m){m&&m.isValid()&&(this.activeNode&&this.activeNode.compareTo(m)||this.isEnabled()&&(this.blurNode(this.activeNode),this.activeNode=m,this.focusNode(this.activeNode)))},focusNode:function(m){m&&m.focus&&(m.focus(),m.getNode&&document.activeElement!=m.getNode()&&this.setActiveNode(new d.$keyboardNavigation.DataArea))},blurNode:function(m){m&&m.blur&&m.blur()},getInlineEditor:function(m){var p=d.$container.querySelector(".dhx_cal_editor["+d.config.event_attribute+"='"+m+"'] textarea");return p&&p.offsetWidth?p:null},keyDownHandler:function(m){if(!m.defaultPrevented){var p=this.getActiveNode();if((!d.$keyboardNavigation.isModal()||p&&p.container&&d.utils.dom.locateCss({target:p.container},"dhx_minical_popup",!1))&&(!d.getState().editor_id||!this.getInlineEditor(d.getState().editor_id))&&this.isEnabled()){m=m||window.event;var o=this.globalNode,c=d.$keyboardNavigation.shortcuts.getCommandFromEvent(m);p?p.findHandler(c)?p.doAction(c,m):o.findHandler(c)&&o.doAction(c,m):this.setDefaultNode()}}},_timeout:null,delay:function(m,p){clearTimeout(this._timeout),this._timeout=setTimeout(m,p||1)}}}(s),DC(s),function(){IC(s),function(c){c.$keyboardNavigation._minicalendars=[],c.$keyboardNavigation.isMinical=function(u){for(var _=c.$keyboardNavigation._minicalendars,y=0;y<_.length;y++)if(this.isChildOf(u,_[y]))return!0;return!1},c.$keyboardNavigation.isChildOf=function(u,_){for(;u&&u!==_;)u=u.parentNode;return u===_},c.$keyboardNavigation.patchMinicalendar=function(){var u=c.$keyboardNavigation.dispatcher;function _(E){var b=E.target;u.enable(),u.setActiveNode(new c.$keyboardNavigation.MinicalButton(b,0))}function y(E){var b=E.target||E.srcElement,S=c.utils.dom.locateCss(E,"dhx_cal_prev_button",!1),D=c.utils.dom.locateCss(E,"dhx_cal_next_button",!1),M=c.utils.dom.locateCss(E,"dhx_year_body",!1),V=0,F=0;if(M){for(var B,Q,re=b;re&&re.tagName.toLowerCase()!="td";)re=re.parentNode;if(re&&(B=(Q=re).parentNode),B&&Q){for(var K=B.parentNode.querySelectorAll("tr"),ie=0;ie<K.length;ie++)if(K[ie]==B){V=ie;break}var G=B.querySelectorAll("td");for(ie=0;ie<G.length;ie++)if(G[ie]==Q){F=ie;break}}}var te=E.currentTarget;u.delay(function(){var J;(S||D||M)&&(S?(J=new c.$keyboardNavigation.MinicalButton(te,0),u.setActiveNode(new c.$keyboardNavigation.MinicalButton(te,0))):D?J=new c.$keyboardNavigation.MinicalButton(te,1):M&&(J=new c.$keyboardNavigation.MinicalCell(te,V,F)),J&&(u.enable(),J.isValid()&&(u.activeNode=null,u.setActiveNode(J))))})}if(c.renderCalendar){var x=c.renderCalendar;c.renderCalendar=function(){var E=x.apply(this,arguments),b=c.$keyboardNavigation._minicalendars;c.eventRemove(E,"click",y),c.event(E,"click",y),c.eventRemove(E,"focus",_),c.event(E,"focus",_);for(var S=!1,D=0;D<b.length;D++)if(b[D]==E){S=!0;break}if(S||b.push(E),u.isEnabled()){var M=u.getActiveNode();M&&M.container==E?u.focusNode(M):E.setAttribute("tabindex","0")}else E.setAttribute("tabindex","0");return E}}if(c.destroyCalendar){var v=c.destroyCalendar;c.destroyCalendar=function(E,b){E=E||(c._def_count?c._def_count.firstChild:null);var S=v.apply(this,arguments);if(!E||!E.parentNode)for(var D=c.$keyboardNavigation._minicalendars,M=0;M<D.length;M++)D[M]==E&&(c.eventRemove(D[M],"focus",_),D.splice(M,1),M--);return S}}}}(s);var d=s.$keyboardNavigation.dispatcher;if(s.$keyboardNavigation.attachSchedulerHandlers(),s.renderCalendar)s.$keyboardNavigation.patchMinicalendar();else var m=s.attachEvent("onSchedulerReady",function(){s.detachEvent(m),s.$keyboardNavigation.patchMinicalendar()});function p(){if(s.config.key_nav){var c=document.activeElement;return!(!c||s.utils.dom.locateCss(c,"dhx_cal_quick_info",!1))&&(s.$keyboardNavigation.isChildOf(c,s.$container)||s.$keyboardNavigation.isMinical(c))}}function o(c){c&&!d.isEnabled()?d.enable():!c&&d.isEnabled()&&d.disable()}setInterval(function(){if(s.$container&&s.$keyboardNavigation.isChildOf(s.$container,document.body)){var c=p();c?o(c):!c&&d.isEnabled()&&setTimeout(function(){s.config.key_nav?o(p()):s.$container.removeAttribute("tabindex")},100)}},500)}()},layer:function(s){s.attachEvent("onTemplatesReady",function(){this.layers.sort(function(d,m){return d.zIndex-m.zIndex}),s._dp_init=function(d){d._methods=["_set_event_text_style","","changeEventId","deleteEvent"],this.attachEvent("onEventAdded",function(m){!this._loading&&this.validId(m)&&this.getEvent(m)&&this.getEvent(m).layer==d.layer&&d.setUpdated(m,!0,"inserted")}),this.attachEvent("onBeforeEventDelete",function(m){if(this.getEvent(m)&&this.getEvent(m).layer==d.layer){if(!this.validId(m))return;var p=d.getState(m);return p=="inserted"||this._new_event?(d.setUpdated(m,!1),!0):p!="deleted"&&(p=="true_deleted"||(d.setUpdated(m,!0,"deleted"),!1))}return!0}),this.attachEvent("onEventChanged",function(m){!this._loading&&this.validId(m)&&this.getEvent(m)&&this.getEvent(m).layer==d.layer&&d.setUpdated(m,!0,"updated")}),d._getRowData=function(m,p){var o=this.obj.getEvent(m),c={};for(var u in o)u.indexOf("_")!==0&&(o[u]&&o[u].getUTCFullYear?c[u]=this.obj._helpers.formatDate(o[u]):c[u]=o[u]);return c},d._clearUpdateFlag=function(){},d.attachEvent("insertCallback",s._update_callback),d.attachEvent("updateCallback",s._update_callback),d.attachEvent("deleteCallback",function(m,p){this.obj.setUserData(p,this.action_param,"true_deleted"),this.obj.deleteEvent(p)})},function(){var d=function o(c){if(c===null||Uc(c)!="object")return c;var u=new c.constructor;for(var _ in c)u[_]=o(c[_]);return u};s._dataprocessors=[],s._layers_zindex={};for(var m=0;m<s.layers.length;m++){if(s.config["lightbox_"+s.layers[m].name]={},s.config["lightbox_"+s.layers[m].name].sections=d(s.config.lightbox.sections),s._layers_zindex[s.layers[m].name]=s.config.initial_layer_zindex||5+3*m,s.layers[m].url){var p=s.createDataProcessor({url:s.layers[m].url});p.layer=s.layers[m].name,s._dataprocessors.push(p),s._dataprocessors[m].init(s)}s.layers[m].isDefault&&(s.defaultLayer=s.layers[m].name)}}(),s.showLayer=function(d){this.toggleLayer(d,!0)},s.hideLayer=function(d){this.toggleLayer(d,!1)},s.toggleLayer=function(d,m){var p=this.getLayer(d);p.visible=m!==void 0?!!m:!p.visible,this.setCurrentView(this._date,this._mode)},s.getLayer=function(d){var m,p;typeof d=="string"&&(p=d),Uc(d)=="object"&&(p=d.layer);for(var o=0;o<s.layers.length;o++)s.layers[o].name==p&&(m=s.layers[o]);return m},s.attachEvent("onBeforeLightbox",function(d){var m=this.getEvent(d);return this.config.lightbox.sections=this.config["lightbox_"+m.layer].sections,s.resetLightbox(),!0}),s.attachEvent("onClick",function(d,m){var p=s.getEvent(d);return!s.getLayer(p.layer).noMenu}),s.attachEvent("onEventCollision",function(d,m){var p=this.getLayer(d);if(!p.checkCollision)return!1;for(var o=0,c=0;c<m.length;c++)m[c].layer==p.name&&m[c].id!=d.id&&o++;return o>=s.config.collision_limit}),s.addEvent=function(d,m,p,o,c){var u=d;arguments.length!=1&&((u=c||{}).start_date=d,u.end_date=m,u.text=p,u.id=o,u.layer=this.defaultLayer),u.id=u.id||s.uid(),u.text=u.text||"",typeof u.start_date=="string"&&(u.start_date=this.templates.api_date(u.start_date)),typeof u.end_date=="string"&&(u.end_date=this.templates.api_date(u.end_date)),u._timed=this.isOneDayEvent(u);var _=!this._events[u.id];this._events[u.id]=u,this.event_updated(u),this._loading||this.callEvent(_?"onEventAdded":"onEventChanged",[u.id,u])},this._evs_layer={};for(var w=0;w<this.layers.length;w++)this._evs_layer[this.layers[w].name]=[];s.addEventNow=function(d,m,p){var o={};Uc(d)=="object"&&(o=d,d=null);var c=6e4*(this.config.event_duration||this.config.time_step);d||(d=Math.round(s._currentDate().valueOf()/c)*c);var u=new Date(d);if(!m){var _=this.config.first_hour;_>u.getHours()&&(u.setHours(_),d=u.valueOf()),m=d+c}o.start_date=o.start_date||u,o.end_date=o.end_date||new Date(m),o.text=o.text||this.locale.labels.new_event,o.id=this._drag_id=this.uid(),o.layer=this.defaultLayer,this._drag_mode="new-size",this._loading=!0,this.addEvent(o),this.callEvent("onEventCreated",[this._drag_id,p]),this._loading=!1,this._drag_event={},this._on_mouse_up(p)},s._t_render_view_data=function(d){if(this.config.multi_day&&!this._table_view){for(var m=[],p=[],o=0;o<d.length;o++)d[o]._timed?m.push(d[o]):p.push(d[o]);this._table_view=!0,this.render_data(p),this._table_view=!1,this.render_data(m)}else this.render_data(d)},s.render_view_data=function(){if(this._not_render)this._render_wait=!0;else{this._render_wait=!1,this.clear_view(),this._evs_layer={};for(var d=0;d<this.layers.length;d++)this._evs_layer[this.layers[d].name]=[];var m=this.get_visible_events();for(d=0;d<m.length;d++)this._evs_layer[m[d].layer]&&this._evs_layer[m[d].layer].push(m[d]);if(this._mode=="month"){var p=[];for(d=0;d<this.layers.length;d++)this.layers[d].visible&&(p=p.concat(this._evs_layer[this.layers[d].name]));this._t_render_view_data(p)}else for(d=0;d<this.layers.length;d++)if(this.layers[d].visible){var o=this._evs_layer[this.layers[d].name];this._t_render_view_data(o)}}},s._render_v_bar=function(d,m,p,o,c,u,_,y,x){var v=d.id;_.indexOf("<div class=")==-1&&(_=s.templates["event_header_"+d.layer]?s.templates["event_header_"+d.layer](d.start_date,d.end_date,d):_),y.indexOf("<div class=")==-1&&(y=s.templates["event_text_"+d.layer]?s.templates["event_text_"+d.layer](d.start_date,d.end_date,d):y);var E=document.createElement("div"),b="dhx_cal_event",S=s.templates["event_class_"+d.layer]?s.templates["event_class_"+d.layer](d.start_date,d.end_date,d):s.templates.event_class(d.start_date,d.end_date,d);S&&(b=b+" "+S);var D=s._border_box_events(),M=o-2,V=D?M:o-4,F=D?M:o-6,B=D?M:o-(this._quirks?4:14),Q=D?M-2:o-8,re=D?c-this.xy.event_header_height:c-(this._quirks?20:30)+1,K='<div event_id="'+v+'" '+s.config.event_attribute+'="'+v+'" class="'+b+'" style="position:absolute; top:'+p+"px; left:"+m+"px; width:"+V+"px; height:"+c+"px;"+(u||"")+'">';return K+='<div class="dhx_header" style=" width:'+F+'px;" >&nbsp;</div>',K+='<div class="dhx_title">'+_+"</div>",K+='<div class="dhx_body" style=" width:'+B+"px; height:"+re+'px;">'+y+"</div>",K+='<div class="dhx_footer" style=" width:'+Q+"px;"+(x?" margin-top:-1px;":"")+'" ></div></div>',E.innerHTML=K,E.style.zIndex=100,E.firstChild},s.render_event_bar=function(d){var m=this._els.dhx_cal_data[0],p=this._colsS[d._sday],o=this._colsS[d._eday];o==p&&(o=this._colsS[d._eday+1]);var c=this.xy.bar_height,u=this._colsS.heights[d._sweek]+(this._colsS.height?this.xy.month_scale_height+2:2)+d._sorder*c,_=document.createElement("div"),y=d._timed?"dhx_cal_event_clear":"dhx_cal_event_line",x=s.templates["event_class_"+d.layer]?s.templates["event_class_"+d.layer](d.start_date,d.end_date,d):s.templates.event_class(d.start_date,d.end_date,d);x&&(y=y+" "+x);var v='<div event_id="'+d.id+'" '+this.config.event_attribute+'="'+d.id+'" class="'+y+'" style="position:absolute; top:'+u+"px; left:"+p+"px; width:"+(o-p-15)+"px;"+(d._text_style||"")+'">';d._timed&&(v+=s.templates["event_bar_date_"+d.layer]?s.templates["event_bar_date_"+d.layer](d.start_date,d.end_date,d):s.templates.event_bar_date(d.start_date,d.end_date,d)),v+=s.templates["event_bar_text_"+d.layer]?s.templates["event_bar_text_"+d.layer](d.start_date,d.end_date,d):s.templates.event_bar_text(d.start_date,d.end_date,d)+"</div>)",v+="</div>",_.innerHTML=v,this._rendered.push(_.firstChild),m.appendChild(_.firstChild)},s.render_event=function(d){var m=s.xy.menu_width;if(s.getLayer(d.layer).noMenu&&(m=0),!(d._sday<0)){var p=s.locate_holder(d._sday);if(p){var o=60*d.start_date.getHours()+d.start_date.getMinutes(),c=60*d.end_date.getHours()+d.end_date.getMinutes()||60*s.config.last_hour,u=Math.round((60*o*1e3-60*this.config.first_hour*60*1e3)*this.config.hour_size_px/36e5)%(24*this.config.hour_size_px)+1,_=Math.max(s.xy.min_event_height,(c-o)*this.config.hour_size_px/60)+1,y=Math.floor((p.clientWidth-m)/d._count),x=d._sorder*y+1;d._inner||(y*=d._count-d._sorder);var v=this._render_v_bar(d.id,m+x,u,y,_,d._text_style,s.templates.event_header(d.start_date,d.end_date,d),s.templates.event_text(d.start_date,d.end_date,d));if(this._rendered.push(v),p.appendChild(v),x=x+parseInt(p.style.left,10)+m,u+=this._dy_shift,v.style.zIndex=this._layers_zindex[d.layer],this._edit_id==d.id){v.style.zIndex=parseInt(v.style.zIndex)+1;var E=v.style.zIndex;y=Math.max(y-4,s.xy.editor_width),(v=document.createElement("div")).setAttribute("event_id",d.id),v.setAttribute(this.config.event_attribute,d.id),this.set_xy(v,y,_-20,x,u+14),v.className="dhx_cal_editor",v.style.zIndex=E;var b=document.createElement("div");this.set_xy(b,y-6,_-26),b.style.cssText+=";margin:2px 2px 2px 2px;overflow:hidden;",b.style.zIndex=E,v.appendChild(b),this._els.dhx_cal_data[0].appendChild(v),this._rendered.push(v),b.innerHTML="<textarea class='dhx_cal_editor'>"+d.text+"</textarea>",this._quirks7&&(b.firstChild.style.height=_-12+"px"),this._editor=b.firstChild,this._editor.addEventListener("keypress",function(F){if(F.shiftKey)return!0;var B=F.keyCode;B==s.keys.edit_save&&s.editStop(!0),B==s.keys.edit_cancel&&s.editStop(!1)}),this._editor.addEventListener("selectstart",function(F){return F.cancelBubble=!0,!0}),b.firstChild.focus(),this._els.dhx_cal_data[0].scrollLeft=0,b.firstChild.select()}if(this._select_id==d.id){v.style.zIndex=parseInt(v.style.zIndex)+1;for(var S=this.config["icons_"+(this._edit_id==d.id?"edit":"select")],D="",M=0;M<S.length;M++)D+="<div class='dhx_menu_icon "+S[M]+"' title='"+this.locale.labels[S[M]]+"'></div>";var V=this._render_v_bar(d.id,x-m+1,u,m,20*S.length+26,"","<div class='dhx_menu_head'></div>",D,!0);V.style.left=x-m+1,V.style.zIndex=v.style.zIndex,this._els.dhx_cal_data[0].appendChild(V),this._rendered.push(V)}}}},s.filter_agenda=function(d,m){var p=s.getLayer(m.layer);return p&&p.visible}})},limit:function(s){s.config.limit_start=null,s.config.limit_end=null,s.config.limit_view=!1,s.config.check_limits=!0,s.config.mark_now=!0,s.config.display_marked_timespans=!0,s.config.overwrite_marked_timespans=!0,s._temp_limit_scope=function(){var w=null,d=function(o,c,u){var _=Vh(o)=="object"?o:{days:o};return _.type="dhx_time_block",_.css="",c&&(u&&(_.sections=u),_=function(y,x,v){return x instanceof Date&&v instanceof Date?(y.start_date=x,y.end_date=v):(y.days=x,y.zones=v),y}(_,o,c)),_};s.blockTime=function(o,c,u){var _=d(o,c,u);return s.addMarkedTimespan(_)},s.unblockTime=function(o,c,u){var _=d(o,c=c||"fullday",u);return s.deleteMarkedTimespan(_)},s.attachEvent("onBeforeViewChange",function(o,c,u,_){function y(x,v){var E=s.config.limit_start,b=s.config.limit_end,S=s.date.add(x,1,v);return x.valueOf()>b.valueOf()||S<=E.valueOf()}return!s.config.limit_view||!y(_=_||c,u=u||o)||c.valueOf()==_.valueOf()||(setTimeout(function(){var x=y(c,u)?s.config.limit_start:c;s.setCurrentView(y(x,u)?null:x,u)},1),!1)}),s.checkInMarkedTimespan=function(o,c,u){c=c||"default";for(var _=!0,y=new Date(o.start_date.valueOf()),x=s.date.add(y,1,"day"),v=s._marked_timespans;y<o.end_date;y=s.date.date_part(x),x=s.date.add(y,1,"day")){var E=+s.date.date_part(new Date(y)),b=p(o,v,y.getDay(),E,c);if(b)for(var S=0;S<b.length;S+=2){var D=s._get_zone_minutes(y),M=o.end_date>x||o.end_date.getDate()!=y.getDate()?1440:s._get_zone_minutes(o.end_date),V=b[S],F=b[S+1];if(V<M&&F>D&&!(_=typeof u=="function"&&u(o,D,M,V,F)))break}}return!_};var m=s.checkLimitViolation=function(o){if(!o||!s.config.check_limits)return!0;var c=s,u=c.config,_=[];if(o.rec_type)for(var y=s.getRecDates(o),x=0;x<y.length;x++){var v=s._copy_event(o);s._lame_copy(v,y[x]),_.push(v)}else _=[o];for(var E=!0,b=0;b<_.length;b++){var S=!0;(v=_[b])._timed=s.isOneDayEvent(v),(S=!u.limit_start||!u.limit_end||v.start_date.valueOf()>=u.limit_start.valueOf()&&v.end_date.valueOf()<=u.limit_end.valueOf())&&(S=!s.checkInMarkedTimespan(v,"dhx_time_block",function(D,M,V,F,B){var Q=!0;return M<=B&&M>=F&&((B==1440||V<=B)&&(Q=!1),D._timed&&c._drag_id&&c._drag_mode=="new-size"?(D.start_date.setHours(0),D.start_date.setMinutes(B)):Q=!1),(V>=F&&V<=B||M<F&&V>B)&&(D._timed&&c._drag_id&&c._drag_mode=="new-size"?(D.end_date.setHours(0),D.end_date.setMinutes(F)):Q=!1),Q})),S||(S=c.checkEvent("onLimitViolation")?c.callEvent("onLimitViolation",[v.id,v]):S),E=E&&S}return E||(c._drag_id=null,c._drag_mode=null),E};function p(o,c,u,_,y){var x=s,v=[],E={_props:"map_to",matrix:"y_property"};for(var b in E){var S=E[b];if(x[b])for(var D in x[b]){var M=x[b][D][S];o[M]&&(v=x._add_timespan_zones(v,s._get_blocked_zones(c[D],o[M],u,_,y)))}}return v=x._add_timespan_zones(v,s._get_blocked_zones(c,"global",u,_,y))}s._get_blocked_zones=function(o,c,u,_,y){var x=[];if(o&&o[c])for(var v=o[c],E=this._get_relevant_blocked_zones(u,_,v,y),b=0;b<E.length;b++)x=this._add_timespan_zones(x,E[b].zones);return x},s._get_relevant_blocked_zones=function(o,c,u,_){var y;return s.config.overwrite_marked_timespans?y=u[c]&&u[c][_]?u[c][_]:u[o]&&u[o][_]?u[o][_]:[]:(y=[],u[c]&&u[c][_]&&(y=y.concat(u[c][_])),u[o]&&u[o][_]&&(y=y.concat(u[o][_]))),y},s.attachEvent("onMouseDown",function(o){return o!="dhx_time_block"}),s.attachEvent("onBeforeDrag",function(o){return!o||m(s.getEvent(o))}),s.attachEvent("onClick",function(o,c){return m(s.getEvent(o))}),s.attachEvent("onBeforeLightbox",function(o){var c=s.getEvent(o);return w=[c.start_date,c.end_date],m(c)}),s.attachEvent("onEventSave",function(o,c,u){if(!c.start_date||!c.end_date){var _=s.getEvent(o);c.start_date=new Date(_.start_date),c.end_date=new Date(_.end_date)}if(c.rec_type){var y=s._lame_clone(c);return s._roll_back_dates(y),m(y)}return m(c)}),s.attachEvent("onEventAdded",function(o){if(!o)return!0;var c=s.getEvent(o);return!m(c)&&s.config.limit_start&&s.config.limit_end&&(c.start_date<s.config.limit_start&&(c.start_date=new Date(s.config.limit_start)),c.start_date.valueOf()>=s.config.limit_end.valueOf()&&(c.start_date=this.date.add(s.config.limit_end,-1,"day")),c.end_date<s.config.limit_start&&(c.end_date=new Date(s.config.limit_start)),c.end_date.valueOf()>=s.config.limit_end.valueOf()&&(c.end_date=this.date.add(s.config.limit_end,-1,"day")),c.start_date.valueOf()>=c.end_date.valueOf()&&(c.end_date=this.date.add(c.start_date,this.config.event_duration||this.config.time_step,"minute")),c._timed=this.isOneDayEvent(c)),!0}),s.attachEvent("onEventChanged",function(o){if(!o)return!0;var c=s.getEvent(o);if(!m(c)){if(!w)return!1;c.start_date=w[0],c.end_date=w[1],c._timed=this.isOneDayEvent(c)}return!0}),s.attachEvent("onBeforeEventChanged",function(o,c,u){return m(o)}),s.attachEvent("onBeforeEventCreated",function(o){var c=s.getActionData(o).date,u={_timed:!0,start_date:c,end_date:s.date.add(c,s.config.time_step,"minute")};return m(u)}),s.attachEvent("onViewChange",function(){s._mark_now()}),s.attachEvent("onAfterSchedulerResize",function(){return window.setTimeout(function(){s._mark_now()},1),!0}),s.attachEvent("onTemplatesReady",function(){s._mark_now_timer=window.setInterval(function(){s._is_initialized()&&s._mark_now()},6e4)}),s._mark_now=function(o){this._els.dhx_now_time||(this._els.dhx_now_time=[]);var c=s._currentDate(),u=this.config;if(s._remove_mark_now(),!o&&u.mark_now&&c<this._max_date&&c>this._min_date&&c.getHours()>=u.first_hour&&c.getHours()<u.last_hour){var _=this.locate_holder_day(c);this._els.dhx_now_time=s._append_mark_now(_,c)}},s._append_mark_now=function(o,c){var u=s._get_zone_minutes(c),_={zones:[u,u+1],css:"dhx_now_time",type:"dhx_now_time"};if(!this._table_view){if(this._props&&this._props[this._mode]){var y,x,v=this._props[this._mode],E=v.size||v.options.length;v.days>1?(v.size&&v.options.length&&(o=(v.position+o)/v.options.length*v.size),y=o,x=o+E):x=(y=0)+E;for(var b=[],S=y;S<x;S++){var D=S;_.days=D;var M=s._render_marked_timespan(_,null,D)[0];b.push(M)}return b}return _.days=o,s._render_marked_timespan(_,null,o)}if(this._mode=="month")return _.days=+s.date.date_part(c),s._render_marked_timespan(_,null,null)},s._remove_mark_now=function(){for(var o=this._els.dhx_now_time,c=0;c<o.length;c++){var u=o[c],_=u.parentNode;_&&_.removeChild(u)}this._els.dhx_now_time=[]},s._marked_timespans={global:{}},s._get_zone_minutes=function(o){return 60*o.getHours()+o.getMinutes()},s._prepare_timespan_options=function(o){var c=[],u=[];if(o.days=="fullweek"&&(o.days=[0,1,2,3,4,5,6]),o.days instanceof Array){for(var _=o.days.slice(),y=0;y<_.length;y++){var x=s._lame_clone(o);x.days=_[y],c.push.apply(c,s._prepare_timespan_options(x))}return c}if(!o||!(o.start_date&&o.end_date&&o.end_date>o.start_date||o.days!==void 0&&o.zones)&&!o.type)return c;o.zones=="fullday"&&(o.zones=[0,1440]),o.zones&&o.invert_zones&&(o.zones=s.invertZones(o.zones)),o.id=s.uid(),o.css=o.css||"",o.type=o.type||"default";var v=o.sections;if(v){for(var E in v)if(v.hasOwnProperty(E)){var b=v[E];for(b instanceof Array||(b=[b]),y=0;y<b.length;y++)(Q=s._lame_copy({},o)).sections={},Q.sections[E]=b[y],u.push(Q)}}else u.push(o);for(var S=0;S<u.length;S++){var D=u[S],M=D.start_date,V=D.end_date;if(M&&V)for(var F=s.date.date_part(new Date(M)),B=s.date.add(F,1,"day");F<V;){var Q;delete(Q=s._lame_copy({},D)).start_date,delete Q.end_date,Q.days=F.valueOf();var re=M>F?s._get_zone_minutes(M):0,K=V>B||V.getDate()!=F.getDate()?1440:s._get_zone_minutes(V);Q.zones=[re,K],c.push(Q),F=B,B=s.date.add(B,1,"day")}else D.days instanceof Date&&(D.days=s.date.date_part(D.days).valueOf()),D.zones=o.zones.slice(),c.push(D)}return c},s._get_dates_by_index=function(o,c,u){var _=[];c=s.date.date_part(new Date(c||s._min_date)),u=new Date(u||s._max_date);for(var y=c.getDay(),x=o-y>=0?o-y:7-c.getDay()+o,v=s.date.add(c,x,"day");v<u;v=s.date.add(v,1,"week"))_.push(v);return _},s._get_css_classes_by_config=function(o){var c=[];return o.type=="dhx_time_block"&&(c.push("dhx_time_block"),o.css&&c.push("dhx_time_block_reset")),c.push("dhx_marked_timespan",o.css),c.join(" ")},s._get_block_by_config=function(o){var c=document.createElement("div");return o.html&&(typeof o.html=="string"?c.innerHTML=o.html:c.appendChild(o.html)),c},s._render_marked_timespan=function(o,c,u){var _=[],y=s.config,x=this._min_date,v=this._max_date,E=!1;if(!y.display_marked_timespans)return _;if(!u&&u!==0){if(o.days<7)u=o.days;else{var b=new Date(o.days);if(E=+b,!(+v>+b&&+x<=+b))return _;u=b.getDay()}var S=x.getDay();S>u?u=7-(S-u):u-=S}var D=o.zones,M=s._get_css_classes_by_config(o);if(s._table_view&&s._mode=="month"){var V=[],F=[];if(c)V.push(c),F.push(u);else{F=E?[E]:s._get_dates_by_index(u);for(var B=0;B<F.length;B++)V.push(this._scales[F[B]])}for(B=0;B<V.length;B++){c=V[B],u=F[B];var Q=Math.floor((this._correct_shift(u,1)-x.valueOf())/(864e5*this._cols.length)),re=this.locate_holder_day(u,!1)%this._cols.length;if(!this._ignores[re]){var K=this.config.rtl?this._colsS.col_length-1-re:re,ie=s._get_block_by_config(o),G=Math.max(c.offsetHeight-1,0),te=Math.max(c.offsetWidth-1,0),J=this._colsS[K],we=this._colsS.heights[Q]+(this._colsS.height?this.xy.month_scale_height+2:2)-1;ie.className=M,ie.style.top=we+"px",ie.style.lineHeight=ie.style.height=G+"px";for(var Ce=0;Ce<D.length;Ce+=2){var Ee=D[B];if((We=D[B+1])<=Ee)return[];(et=ie.cloneNode(!0)).style.left=J+Math.round(Ee/1440*te)+"px",et.style.width=Math.round((We-Ee)/1440*te)+"px",c.appendChild(et),_.push(et)}}}}else{var Ie=u;if(this._ignores[this.locate_holder_day(u,!1)])return _;if(this._props&&this._props[this._mode]&&o.sections&&o.sections[this._mode]){var Ne=this._props[this._mode];Ie=Ne.order[o.sections[this._mode]];var Ue=Ne.order[o.sections[this._mode]];Ne.days>1?Ie=Ie*(Ne.size||Ne.options.length)+Ue:(Ie=Ue,Ne.size&&Ie>Ne.position+Ne.size&&(Ie=0))}for(c=c||s.locate_holder(Ie),B=0;B<D.length;B+=2){var We,et;if(Ee=Math.max(D[B],60*y.first_hour),(We=Math.min(D[B+1],60*y.last_hour))<=Ee){if(B+2<D.length)continue;return[]}(et=s._get_block_by_config(o)).className=M;var Mt=24*this.config.hour_size_px+1;et.style.top=Math.round((60*Ee*1e3-36e5*this.config.first_hour)*this.config.hour_size_px/36e5)%Mt+"px",et.style.lineHeight=et.style.height=Math.max(Math.round(60*(We-Ee)*1e3*this.config.hour_size_px/36e5)%Mt,1)+"px",c.appendChild(et),_.push(et)}}return _},s._mark_timespans=function(){var o=this._els.dhx_cal_data[0],c=[];if(s._table_view&&s._mode=="month")for(var u in this._scales){var _=new Date(+u);c.push.apply(c,s._on_scale_add_marker(this._scales[u],_))}else{_=new Date(s._min_date);for(var y=0,x=o.childNodes.length;y<x;y++){var v=o.childNodes[y];v.firstChild&&s._getClassName(v.firstChild).indexOf("dhx_scale_hour")>-1||(c.push.apply(c,s._on_scale_add_marker(v,_)),_=s.date.add(_,1,"day"))}}return c},s.markTimespan=function(o){var c=!1;this._els.dhx_cal_data||(s.get_elements(),c=!0);var u=s._marked_timespans_ids,_=s._marked_timespans_types,y=s._marked_timespans;s.deleteMarkedTimespan(),s.addMarkedTimespan(o);var x=s._mark_timespans();return c&&(s._els=[]),s._marked_timespans_ids=u,s._marked_timespans_types=_,s._marked_timespans=y,x},s.unmarkTimespan=function(o){if(o)for(var c=0;c<o.length;c++){var u=o[c];u.parentNode&&u.parentNode.removeChild(u)}},s._addMarkerTimespanConfig=function(o){var c=s._marked_timespans,u=o.id,_=s._marked_timespans_ids;_[u]||(_[u]=[]);var y=o.days,x=o.sections,v=o.type;if(o.id=u,x){for(var E in x)if(x.hasOwnProperty(E)){c[E]||(c[E]={});var b=x[E],S=c[E];S[b]||(S[b]={}),S[b][y]||(S[b][y]={}),S[b][y][v]||(S[b][y][v]=[],s._marked_timespans_types||(s._marked_timespans_types={}),s._marked_timespans_types[v]||(s._marked_timespans_types[v]=!0));var D=S[b][y][v];o._array=D,D.push(o),_[u].push(o)}}else c.global[y]||(c.global[y]={}),c.global[y][v]||(c.global[y][v]=[]),s._marked_timespans_types||(s._marked_timespans_types={}),s._marked_timespans_types[v]||(s._marked_timespans_types[v]=!0),D=c.global[y][v],o._array=D,D.push(o),_[u].push(o)},s._marked_timespans_ids={},s.addMarkedTimespan=function(o){var c=s._prepare_timespan_options(o);if(c.length){for(var u=c[0].id,_=0;_<c.length;_++)s._addMarkerTimespanConfig(c[_]);return u}},s._add_timespan_zones=function(o,c){var u=o.slice();if(c=c.slice(),!u.length)return c;for(var _=0;_<u.length;_+=2)for(var y=u[_],x=u[_+1],v=_+2==u.length,E=0;E<c.length;E+=2){var b=c[E],S=c[E+1];if(S>x&&b<=x||b<y&&S>=y)u[_]=Math.min(y,b),u[_+1]=Math.max(x,S),_-=2;else{if(!v)continue;var D=y>b?0:2;u.splice(_+D,0,b,S)}c.splice(E--,2);break}return u},s._subtract_timespan_zones=function(o,c){for(var u=o.slice(),_=0;_<u.length;_+=2)for(var y=u[_],x=u[_+1],v=0;v<c.length;v+=2){var E=c[v],b=c[v+1];if(b>y&&E<x){var S=!1;y>=E&&x<=b&&u.splice(_,2),y<E&&(u.splice(_,2,y,E),S=!0),x>b&&u.splice(S?_+2:_,S?0:2,b,x),_-=2;break}}return u},s.invertZones=function(o){return s._subtract_timespan_zones([0,1440],o.slice())},s._delete_marked_timespan_by_id=function(o){var c=s._marked_timespans_ids[o];if(c){for(var u=0;u<c.length;u++)for(var _=c[u],y=_._array,x=0;x<y.length;x++)if(y[x]==_){y.splice(x,1);break}}},s._delete_marked_timespan_by_config=function(o){var c,u=s._marked_timespans,_=o.sections,y=o.days,x=o.type||"default";if(_){for(var v in _)if(_.hasOwnProperty(v)&&u[v]){var E=_[v];u[v][E]&&(c=u[v][E])}}else c=u.global;if(c){if(y!==void 0)c[y]&&c[y][x]&&(s._addMarkerTimespanConfig(o),s._delete_marked_timespans_list(c[y][x],o));else for(var b in c)if(c[b][x]){var S=s._lame_clone(o);o.days=b,s._addMarkerTimespanConfig(S),s._delete_marked_timespans_list(c[b][x],o)}}},s._delete_marked_timespans_list=function(o,c){for(var u=0;u<o.length;u++){var _=o[u],y=s._subtract_timespan_zones(_.zones,c.zones);if(y.length)_.zones=y;else{o.splice(u,1),u--;for(var x=s._marked_timespans_ids[_.id],v=0;v<x.length;v++)if(x[v]==_){x.splice(v,1);break}}}},s.deleteMarkedTimespan=function(o){if(arguments.length||(s._marked_timespans={global:{}},s._marked_timespans_ids={},s._marked_timespans_types={}),Vh(o)!="object")s._delete_marked_timespan_by_id(o);else{o.start_date&&o.end_date||(o.days!==void 0||o.type||(o.days="fullweek"),o.zones||(o.zones="fullday"));var c=[];if(o.type)c.push(o.type);else for(var u in s._marked_timespans_types)c.push(u);for(var _=s._prepare_timespan_options(o),y=0;y<_.length;y++)for(var x=_[y],v=0;v<c.length;v++){var E=s._lame_clone(x);E.type=c[v],s._delete_marked_timespan_by_config(E)}}},s._get_types_to_render=function(o,c){var u=o?s._lame_copy({},o):{};for(var _ in c||{})c.hasOwnProperty(_)&&(u[_]=c[_]);return u},s._get_configs_to_render=function(o){var c=[];for(var u in o)o.hasOwnProperty(u)&&c.push.apply(c,o[u]);return c},s._on_scale_add_marker=function(o,c){if(!s._table_view||s._mode=="month"){var u=c.getDay(),_=c.valueOf(),y=this._mode,x=s._marked_timespans,v=[],E=[];if(this._props&&this._props[y]){var b=this._props[y],S=b.options,D=S[s._get_unit_index(b,c)];if(b.days>1){var M=Math.round((c-s._min_date)/864e5),V=b.size||S.length;c=s.date.add(s._min_date,Math.floor(M/V),"day"),c=s.date.date_part(c)}else c=s.date.date_part(new Date(this._date));if(u=c.getDay(),_=c.valueOf(),x[y]&&x[y][D.key]){var F=x[y][D.key],B=s._get_types_to_render(F[u],F[_]);v.push.apply(v,s._get_configs_to_render(B))}}var Q=x.global;if(s.config.overwrite_marked_timespans){var re=Q[_]||Q[u];v.push.apply(v,s._get_configs_to_render(re))}else Q[_]&&v.push.apply(v,s._get_configs_to_render(Q[_])),Q[u]&&v.push.apply(v,s._get_configs_to_render(Q[u]));for(var K=0;K<v.length;K++)E.push.apply(E,s._render_marked_timespan(v[K],o,c));return E}},s.attachEvent("onScaleAdd",function(){s._on_scale_add_marker.apply(s,arguments)}),s.dblclick_dhx_marked_timespan=function(o,c){s.callEvent("onScaleDblClick",[s.getActionData(o).date,c,o]),s.config.dblclick_create&&s.addEventNow(s.getActionData(o).date,null,o)}},s._temp_limit_scope()},map_view:function(s){var w;s.xy.map_date_width=188,s.xy.map_icon_width=25,s.xy.map_description_width=400,s.config.map_resolve_event_location=!0,s.config.map_resolve_user_location=!0,s.config.map_initial_position=new google.maps.LatLng(48.724,8.215),s.config.map_error_position=new google.maps.LatLng(15,15),s.config.map_infowindow_max_width=300,s.config.map_type=google.maps.MapTypeId.ROADMAP,s.config.map_zoom_after_resolve=15,s.locale.labels.marker_geo_success="It seems you are here.",s.locale.labels.marker_geo_fail="Sorry, could not get your current position using geolocation.",s.templates.marker_date=s.date.date_to_str("%Y-%m-%d %H:%i"),s.templates.marker_text=function(d,m,p){return"<div><b>"+p.text+"</b><br/><br/>"+(p.event_location||"")+"<br/><br/>"+s.templates.marker_date(d)+" - "+s.templates.marker_date(m)+"</div>"},s.dblclick_dhx_map_area=function(){!this.config.readonly&&this.config.dblclick_create&&this.addEventNow({start_date:s._date,end_date:s.date.add(s._date,s.config.time_step,"minute")})},s.templates.map_time=function(d,m,p){return s.config.rtl&&!p._timed?s.templates.day_date(m)+" &ndash; "+s.templates.day_date(d):p._timed?this.day_date(p.start_date,p.end_date,p)+" "+this.event_date(d):s.templates.day_date(d)+" &ndash; "+s.templates.day_date(m)},s.templates.map_text=function(d,m,p){return p.text},s.date.map_start=function(d){return d},s.date.add_map=function(d,m,p){return new Date(d.valueOf())},s.templates.map_date=function(d,m,p){return""},s._latLngUpdate=!1,s.attachEvent("onSchedulerReady",function(){s._isMapPositionSet=!1;var d=document.createElement("div");d.className="dhx_map",d.id="dhx_gmap",d.style.display="none",s._obj.appendChild(d),s._els.dhx_gmap=[],s._els.dhx_gmap.push(d),_("dhx_gmap");var m={zoom:s.config.map_initial_zoom||10,center:s.config.map_initial_position,mapTypeId:s.config.map_type||google.maps.MapTypeId.ROADMAP},p=new google.maps.Map(document.getElementById("dhx_gmap"),m);p.disableDefaultUI=!1,p.disableDoubleClickZoom=!s.config.readonly,google.maps.event.addListener(p,"dblclick",function(b){if(!s.config.readonly&&s.config.dblclick_create){var S=b.latLng;w.geocode({latLng:S},function(D,M){M==google.maps.GeocoderStatus.OK&&(S=D[0].geometry.location,s.addEventNow({lat:S.lat(),lng:S.lng(),event_location:D[0].formatted_address,start_date:s._date,end_date:s.date.add(s._date,s.config.time_step,"minute")}))})}});var o={content:""};s.config.map_infowindow_max_width&&(o.maxWidth=s.config.map_infowindow_max_width),s.map={_points:[],_markers:[],_infowindow:new google.maps.InfoWindow(o),_infowindows_content:[],_initialization_count:-1,_obj:p},w=new google.maps.Geocoder,s.config.map_resolve_user_location&&navigator.geolocation&&(s._isMapPositionSet||navigator.geolocation.getCurrentPosition(function(b){var S=new google.maps.LatLng(b.coords.latitude,b.coords.longitude);p.setCenter(S),p.setZoom(s.config.map_zoom_after_resolve||10),s.map._infowindow.setContent(s.locale.labels.marker_geo_success),s.map._infowindow.position=p.getCenter(),s.map._infowindow.open(p),s._isMapPositionSet=!0},function(){s.map._infowindow.setContent(s.locale.labels.marker_geo_fail),s.map._infowindow.setPosition(p.getCenter()),s.map._infowindow.open(p),s._isMapPositionSet=!0})),google.maps.event.addListener(p,"resize",function(b){d.style.zIndex="5",p.setZoom(p.getZoom())}),google.maps.event.addListener(p,"tilesloaded",function(b){d.style.zIndex="5"}),d.style.display="none";var c=s.render_data;function u(){var b=s.get_visible_events();b.sort(function(G,te){return G.start_date.valueOf()==te.start_date.valueOf()?G.id>te.id?1:-1:G.start_date>te.start_date?1:-1});for(var S="<div "+(Q=s._waiAria.mapAttrString())+" class='dhx_map_area'>",D=0;D<b.length;D++){var M=b[D],V=M.id==s._selected_event_id?"dhx_map_line highlight":"dhx_map_line",F=M.color?"background:"+M.color+";":"",B=M.textColor?"color:"+M.textColor+";":"",Q=s._waiAria.mapRowAttrString(M),re=s._waiAria.mapDetailsBtnString();S+="<div "+Q+" class='"+V+"' event_id='"+M.id+"' "+s.config.event_attribute+"='"+M.id+"' style='"+F+B+(M._text_style||"")+" width: "+(s.xy.map_date_width+s.xy.map_description_width+2)+"px;'><div class='dhx_map_event_time' style='width: "+s.xy.map_date_width+"px;' >"+s.templates.map_time(M.start_date,M.end_date,M)+"</div>",S+="<div "+re+" class='dhx_event_icon icon_details'>&nbsp;</div>",S+="<div class='line_description' style='width:"+(s.xy.map_description_width-s.xy.map_icon_width)+"px;'>"+s.templates.map_text(M.start_date,M.end_date,M)+"</div></div>"}S+="<div class='dhx_v_border' style="+(s.config.rtl?"'right: ":"'left: ")+(s.xy.map_date_width-2)+"px;'></div><div class='dhx_v_border_description'></div></div>",s._els.dhx_cal_data[0].scrollTop=0,s._els.dhx_cal_data[0].innerHTML=S,s._els.dhx_cal_data[0].style.width=s.xy.map_date_width+s.xy.map_description_width+1+"px";var K=s._els.dhx_cal_data[0].firstChild.childNodes,ie=s._getNavDateElement();for(ie&&(ie.innerHTML=s.templates[s._mode+"_date"](s._min_date,s._max_date,s._mode)),s._rendered=[],D=0;D<K.length-2;D++)s._rendered[D]=K[D]}function _(b){var S=document.getElementById(b),D=s._y-s.xy.nav_height;D<0&&(D=0);var M=s._x-s.xy.map_date_width-s.xy.map_description_width-1;M<0&&(M=0),S.style.height=D+"px",S.style.width=M+"px",s.config.rtl?S.style.marginRight=s.xy.map_date_width+s.xy.map_description_width+1+"px":S.style.marginLeft=s.xy.map_date_width+s.xy.map_description_width+1+"px",S.style.marginTop=s.xy.nav_height+2+"px"}s.render_data=function(b,S){if(this._mode!="map")return c.apply(this,arguments);u();for(var D=s.get_visible_events(),M=0;M<D.length;M++)s.map._markers[D[M].id]||x(D[M],!1,!1)},s.map_view=function(b){s.map._initialization_count++;var S,D=s._els.dhx_gmap[0];if(s._els.dhx_cal_data[0].style.width=s.xy.map_date_width+s.xy.map_description_width+1+"px",s._min_date=s.config.map_start||s._currentDate(),s._max_date=s.config.map_end||s.date.add(s._currentDate(),1,"year"),s._table_view=!0,function(F){if(F){var B=s.locale.labels;s._els.dhx_cal_header[0].innerHTML="<div class='dhx_map_line' style='width: "+(s.xy.map_date_width+s.xy.map_description_width+2)+"px;' ><div class='headline_date' style='width: "+s.xy.map_date_width+"px;'>"+B.date+"</div><div class='headline_description' style='width: "+s.xy.map_description_width+"px;'>"+B.description+"</div></div>",s._table_view=!0,s.set_sizes()}}(b),b){(function(){s._selected_event_id=null,s.map._infowindow.close();var F=s.map._markers;for(var B in F)F.hasOwnProperty(B)&&(F[B].setMap(null),delete s.map._markers[B],s.map._infowindows_content[B]&&delete s.map._infowindows_content[B])})(),u(),D.style.display="block",_("dhx_gmap"),S=s.map._obj.getCenter();for(var M=s.get_visible_events(),V=0;V<M.length;V++)s.map._markers[M[V].id]||x(M[V])}else D.style.display="none";google.maps.event.trigger(s.map._obj,"resize"),s.map._initialization_count===0&&S&&s.map._obj.setCenter(S),s._selected_event_id&&y(s._selected_event_id)};var y=function(b){s.map._obj.setCenter(s.map._points[b]),s.callEvent("onClick",[b])},x=function(b,S,D){var M=s.config.map_error_position;b.lat&&b.lng&&(M=new google.maps.LatLng(b.lat,b.lng));var V=s.templates.marker_text(b.start_date,b.end_date,b);s._new_event||(s.map._infowindows_content[b.id]=V,s.map._markers[b.id]&&s.map._markers[b.id].setMap(null),s.map._markers[b.id]=new google.maps.Marker({position:M,map:s.map._obj}),google.maps.event.addListener(s.map._markers[b.id],"click",function(){s.map._infowindow.setContent(s.map._infowindows_content[b.id]),s.map._infowindow.open(s.map._obj,s.map._markers[b.id]),s._selected_event_id=b.id,s.render_data()}),s.map._points[b.id]=M,S&&s.map._obj.setCenter(s.map._points[b.id]),D&&s.callEvent("onClick",[b.id]))};s.attachEvent("onClick",function(b,S){if(this._mode=="map"){s._selected_event_id=b;for(var D=0;D<s._rendered.length;D++)s._rendered[D].className="dhx_map_line",s._rendered[D].getAttribute(s.config.event_attribute)==b&&(s._rendered[D].className+=" highlight");s.map._points[b]&&s.map._markers[b]&&(s.map._obj.setCenter(s.map._points[b]),google.maps.event.trigger(s.map._markers[b],"click"))}return!0});var v=function(b){b.event_location&&w?w.geocode({address:b.event_location,language:s.uid().toString()},function(S,D){var M={};D!=google.maps.GeocoderStatus.OK?(M=s.callEvent("onLocationError",[b.id]))&&M!==!0||(M=s.config.map_error_position):M=S[0].geometry.location,b.lat=M.lat(),b.lng=M.lng(),s._selected_event_id=b.id,s._latLngUpdate=!0,s.callEvent("onEventChanged",[b.id,b]),x(b,!0,!0)}):x(b,!0,!0)},E=function(b){b.event_location&&w&&w.geocode({address:b.event_location,language:s.uid().toString()},function(S,D){var M={};D!=google.maps.GeocoderStatus.OK?(M=s.callEvent("onLocationError",[b.id]))&&M!==!0||(M=s.config.map_error_position):M=S[0].geometry.location,b.lat=M.lat(),b.lng=M.lng(),s._latLngUpdate=!0,s.callEvent("onEventChanged",[b.id,b])})};s.attachEvent("onEventChanged",function(b,S){if(this._latLngUpdate)this._latLngUpdate=!1;else{var D=s.getEvent(b);D.start_date<s._min_date&&D.end_date>s._min_date||D.start_date<s._max_date&&D.end_date>s._max_date||D.start_date.valueOf()>=s._min_date&&D.end_date.valueOf()<=s._max_date?(s.map._markers[b]&&s.map._markers[b].setMap(null),v(D)):(s._selected_event_id=null,s.map._infowindow.close(),s.map._markers[b]&&s.map._markers[b].setMap(null))}return!0}),s.attachEvent("onEventIdChange",function(b,S){var D=s.getEvent(S);return(D.start_date<s._min_date&&D.end_date>s._min_date||D.start_date<s._max_date&&D.end_date>s._max_date||D.start_date.valueOf()>=s._min_date&&D.end_date.valueOf()<=s._max_date)&&(s.map._markers[b]&&(s.map._markers[b].setMap(null),delete s.map._markers[b]),s.map._infowindows_content[b]&&delete s.map._infowindows_content[b],v(D)),!0}),s.attachEvent("onEventAdded",function(b,S){return s._dataprocessor||(S.start_date<s._min_date&&S.end_date>s._min_date||S.start_date<s._max_date&&S.end_date>s._max_date||S.start_date.valueOf()>=s._min_date&&S.end_date.valueOf()<=s._max_date)&&(s.map._markers[b]&&s.map._markers[b].setMap(null),v(S)),!0}),s.attachEvent("onBeforeEventDelete",function(b,S){return s.map._markers[b]&&s.map._markers[b].setMap(null),s._selected_event_id=null,s.map._infowindow.close(),!0}),s._event_resolve_delay=1500,s.attachEvent("onEventLoading",function(b){return s.config.map_resolve_event_location&&b.event_location&&!b.lat&&!b.lng&&(s._event_resolve_delay+=1500,function(S,D,M,V){setTimeout(function(){var F=S.apply(D,M);return S=D=M=null,F},V||1)}(E,this,[b],s._event_resolve_delay)),!0}),s.attachEvent("onEventCancel",function(b,S){return S&&(s.map._markers[b]&&s.map._markers[b].setMap(null),s.map._infowindow.close()),!0})})},minical:function(s){var w=s._createDomEventScope();s.templates.calendar_month=s.date.date_to_str("%F %Y"),s.templates.calendar_scale_date=s.date.date_to_str("%D"),s.templates.calendar_date=s.date.date_to_str("%d"),s.config.minicalendar={mark_events:!0},s._synced_minicalendars=[],s.renderCalendar=function(d,m,p){var o=null,c=d.date||s._currentDate();if(typeof c=="string"&&(c=this.templates.api_date(c)),m)o=this._render_calendar(m.parentNode,c,d,m),s.unmarkCalendar(o);else{var u=d.container,_=d.position;if(typeof u=="string"&&(u=document.getElementById(u)),typeof _=="string"&&(_=document.getElementById(_)),_&&_.left===void 0&&_.right===void 0){var y=s.$domHelpers.getOffset(_);_={top:y.top+_.offsetHeight,left:y.left}}u||(u=s._get_def_cont(_)),(o=this._render_calendar(u,c,d)).$_eventAttached||(o.$_eventAttached=!0,w.attach(o,"click",function(F){var B=F.target||F.srcElement,Q=s.$domHelpers;if(Q.closest(B,".dhx_month_head")&&!Q.closest(B,".dhx_after")&&!Q.closest(B,".dhx_before")){var re=Q.closest(B,"[data-cell-date]").getAttribute("data-cell-date"),K=s.templates.parse_date(re);s.unmarkCalendar(this),s.markCalendar(this,K,"dhx_calendar_click"),this._last_date=K,this.conf.handler&&this.conf.handler.call(s,K,this)}}.bind(o)))}if(s.config.minicalendar.mark_events)for(var x=s.date.month_start(c),v=s.date.add(x,1,"month"),E=this.getEvents(x,v),b=this["filter_"+this._mode],S={},D=0;D<E.length;D++){var M=E[D];if(!b||b(M.id,M)){var V=M.start_date;for(V.valueOf()<x.valueOf()&&(V=x),V=s.date.date_part(new Date(V.valueOf()));V<M.end_date&&(S[+V]||(S[+V]=!0,this.markCalendar(o,V,"dhx_year_event")),!((V=this.date.add(V,1,"day")).valueOf()>=v.valueOf())););}}return this._markCalendarCurrentDate(o),o.conf=d,d.sync&&!p&&this._synced_minicalendars.push(o),o.conf._on_xle_handler||(o.conf._on_xle_handler=s.attachEvent("onXLE",function(){s.updateCalendar(o,o.conf.date)})),this.config.wai_aria_attributes&&this.config.wai_aria_application_role&&o.setAttribute("role","application"),o},s._get_def_cont=function(d){return this._def_count||(this._def_count=document.createElement("div"),this._def_count.className="dhx_minical_popup",s.event(this._def_count,"click",function(m){m.cancelBubble=!0}),document.body.appendChild(this._def_count)),d.left&&(this._def_count.style.left=d.left+"px"),d.right&&(this._def_count.style.right=d.right+"px"),d.top&&(this._def_count.style.top=d.top+"px"),d.bottom&&(this._def_count.style.bottom=d.bottom+"px"),this._def_count._created=new Date,this._def_count},s._locateCalendar=function(d,m){if(typeof m=="string"&&(m=s.templates.api_date(m)),+m>+d._max_date||+m<+d._min_date)return null;for(var p=d.querySelector(".dhx_year_body").childNodes[0],o=0,c=new Date(d._min_date);+this.date.add(c,1,"week")<=+m;)c=this.date.add(c,1,"week"),o++;var u=s.config.start_on_monday,_=(m.getDay()||(u?7:0))-(u?1:0);return p.rows[o].cells[_].firstChild},s.markCalendar=function(d,m,p){var o=this._locateCalendar(d,m);o&&(o.className+=" "+p)},s.unmarkCalendar=function(d,m,p){if(m=m||d._last_date,p=p||"dhx_calendar_click",m){var o=this._locateCalendar(d,m);o&&(o.className=(o.className||"").replace(RegExp(p,"g")))}},s._week_template=function(d){for(var m=d||250,p=0,o=document.createElement("div"),c=this.date.week_start(s._currentDate()),u=0;u<7;u++)this._cols[u]=Math.floor(m/(7-u)),this._render_x_header(u,p,c,o),c=this.date.add(c,1,"day"),m-=this._cols[u],p+=this._cols[u];return o.lastChild.className+=" dhx_scale_bar_last",o},s.updateCalendar=function(d,m){d.conf.date=m,this.renderCalendar(d.conf,d,!0)},s._mini_cal_arrows=["&nbsp;","&nbsp;"],s._render_calendar=function(d,m,p,o){var c=s.templates,u=this._cols;this._cols=[];var _=this._mode;this._mode="calendar";var y=this._colsS;this._colsS={height:0};var x=new Date(this._min_date),v=new Date(this._max_date),E=new Date(s._date),b=c.month_day,S=this._ignores_detected;this._ignores_detected=0,c.month_day=c.calendar_date,m=this.date.month_start(m);var D,M=this._week_template(d.offsetWidth-1-this.config.minicalendar.padding);o?D=o:(D=document.createElement("div")).className="dhx_cal_container dhx_mini_calendar",D.setAttribute("date",this._helpers.formatDate(m)),D.innerHTML="<div class='dhx_year_month'></div><div class='dhx_year_grid"+(s.config.rtl?" dhx_grid_rtl'>":"'>")+"<div class='dhx_year_week'>"+(M?M.innerHTML:"")+"</div><div class='dhx_year_body'></div></div>";var V=D.querySelector(".dhx_year_month"),F=D.querySelector(".dhx_year_week"),B=D.querySelector(".dhx_year_body");if(V.innerHTML=this.templates.calendar_month(m),p.navigation)for(var Q=function(et,Mt){var gr=s.date.add(et._date,Mt,"month");s.updateCalendar(et,gr),s._date.getMonth()==et._date.getMonth()&&s._date.getFullYear()==et._date.getFullYear()&&s._markCalendarCurrentDate(et)},re=["dhx_cal_prev_button","dhx_cal_next_button"],K=["left:1px;top:2px;position:absolute;","left:auto; right:1px;top:2px;position:absolute;"],ie=[-1,1],G=function(et){return function(){if(p.sync)for(var Mt=s._synced_minicalendars,gr=0;gr<Mt.length;gr++)Q(Mt[gr],et);else s.config.rtl&&(et=-et),Q(D,et)}},te=[s.locale.labels.prev,s.locale.labels.next],J=0;J<2;J++){var we=document.createElement("div");we.className=re[J],s._waiAria.headerButtonsAttributes(we,te[J]),we.style.cssText=K[J],we.innerHTML=this._mini_cal_arrows[J],V.appendChild(we),w.attach(we,"click",G(ie[J]))}D._date=new Date(m),D.week_start=(m.getDay()-(this.config.start_on_monday?1:0)+7)%7;var Ce=D._min_date=this.date.week_start(m);D._max_date=this.date.add(D._min_date,6,"week"),this._reset_month_scale(B,m,Ce,6),o||d.appendChild(D),F.style.height=F.childNodes[0].offsetHeight-1+"px";var Ee=s.uid();s._waiAria.minicalHeader(V,Ee),s._waiAria.minicalGrid(D.querySelector(".dhx_year_grid"),Ee),s._waiAria.minicalRow(F);for(var Ie=F.querySelectorAll(".dhx_scale_bar"),Ne=0;Ne<Ie.length;Ne++)s._waiAria.minicalHeadCell(Ie[Ne]);var Ue=B.querySelectorAll("td"),We=new Date(Ce);for(Ne=0;Ne<Ue.length;Ne++)s._waiAria.minicalDayCell(Ue[Ne],new Date(We)),We=s.date.add(We,1,"day");return s._waiAria.minicalHeader(V,Ee),this._cols=u,this._mode=_,this._colsS=y,this._min_date=x,this._max_date=v,s._date=E,c.month_day=b,this._ignores_detected=S,D},s.destroyCalendar=function(d,m){!d&&this._def_count&&this._def_count.firstChild&&(m||new Date().valueOf()-this._def_count._created.valueOf()>500)&&(d=this._def_count.firstChild),d&&(w.detachAll(),d.innerHTML="",d.parentNode&&d.parentNode.removeChild(d),this._def_count&&(this._def_count.style.top="-1000px"),d.conf&&d.conf._on_xle_handler&&s.detachEvent(d.conf._on_xle_handler))},s.isCalendarVisible=function(){return!!(this._def_count&&parseInt(this._def_count.style.top,10)>0)&&this._def_count},s.attachEvent("onTemplatesReady",function(){s.event(document.body,"click",function(){s.destroyCalendar()})},{once:!0}),s.templates.calendar_time=s.date.date_to_str("%d-%m-%Y"),s.form_blocks.calendar_time={render:function(d){var m="<input class='dhx_readonly' type='text' readonly='true'>",p=s.config,o=this.date.date_part(s._currentDate()),c=1440,u=0;p.limit_time_select&&(u=60*p.first_hour,c=60*p.last_hour+1),o.setHours(u/60),d._time_values=[],m+=" <select class='dhx_lightbox_time_select'>";for(var _=u;_<c;_+=1*this.config.time_step)m+="<option value='"+_+"'>"+this.templates.time_picker(o)+"</option>",d._time_values.push(_),o=this.date.add(o,this.config.time_step,"minute");return"<div style='height:30px;padding-top:0; font-size:inherit;' class='dhx_section_time dhx_lightbox_minical'>"+(m+="</select>")+"<span style='font-weight:normal; font-size:10pt;'> &nbsp;&ndash;&nbsp; </span>"+m+"</div>"},set_value:function(d,m,p,o){var c,u,_=d.getElementsByTagName("input"),y=d.getElementsByTagName("select"),x=function(V,F,B){s.event(V,"click",function(){s.destroyCalendar(null,!0),s.renderCalendar({position:V,date:new Date(this._date),navigation:!0,handler:function(Q){V.value=s.templates.calendar_time(Q),V._date=new Date(Q),s.destroyCalendar(),s.config.event_duration&&s.config.auto_end_date&&B===0&&S()}})})};if(s.config.full_day){if(!d._full_day){var v="<label class='dhx_fullday'><input type='checkbox' name='full_day' value='true'> "+s.locale.labels.full_day+"&nbsp;</label></input>";s.config.wide_form||(v=d.previousSibling.innerHTML+v),d.previousSibling.innerHTML=v,d._full_day=!0}var E=d.previousSibling.getElementsByTagName("input")[0],b=s.date.time_part(p.start_date)===0&&s.date.time_part(p.end_date)===0;E.checked=b,y[0].disabled=E.checked,y[1].disabled=E.checked,E.$_eventAttached||(E.$_eventAttached=!0,s.event(E,"click",function(){if(E.checked===!0){var V={};s.form_blocks.calendar_time.get_value(d,V),c=s.date.date_part(V.start_date),(+(u=s.date.date_part(V.end_date))==+c||+u>=+c&&(p.end_date.getHours()!==0||p.end_date.getMinutes()!==0))&&(u=s.date.add(u,1,"day"))}var F=c||p.start_date,B=u||p.end_date;D(_[0],F),D(_[1],B),y[0].value=60*F.getHours()+F.getMinutes(),y[1].value=60*B.getHours()+B.getMinutes(),y[0].disabled=E.checked,y[1].disabled=E.checked}))}if(s.config.event_duration&&s.config.auto_end_date){var S=function(){s.config.auto_end_date&&s.config.event_duration&&(c=s.date.add(_[0]._date,y[0].value,"minute"),u=new Date(c.getTime()+60*s.config.event_duration*1e3),_[1].value=s.templates.calendar_time(u),_[1]._date=s.date.date_part(new Date(u)),y[1].value=60*u.getHours()+u.getMinutes())};y[0].$_eventAttached||y[0].addEventListener("change",S)}function D(V,F,B){x(V,F,B),V.value=s.templates.calendar_time(F),V._date=s.date.date_part(new Date(F))}function M(V){for(var F=o._time_values,B=60*V.getHours()+V.getMinutes(),Q=B,re=!1,K=0;K<F.length;K++){var ie=F[K];if(ie===B){re=!0;break}ie<B&&(Q=ie)}return re||Q?re?B:Q:-1}D(_[0],p.start_date,0),D(_[1],p.end_date,1),x=function(){},y[0].value=M(p.start_date),y[1].value=M(p.end_date)},get_value:function(d,m){var p=d.getElementsByTagName("input"),o=d.getElementsByTagName("select");return m.start_date=s.date.add(p[0]._date,o[0].value,"minute"),m.end_date=s.date.add(p[1]._date,o[1].value,"minute"),m.end_date<=m.start_date&&(m.end_date=s.date.add(m.start_date,s.config.time_step,"minute")),{start_date:new Date(m.start_date),end_date:new Date(m.end_date)}},focus:function(d){}},s.linkCalendar=function(d,m){var p=function(){var o=s._date,c=new Date(o.valueOf());return m&&(c=m(c)),c.setDate(1),s.updateCalendar(d,c),!0};s.attachEvent("onViewChange",p),s.attachEvent("onXLE",p),s.attachEvent("onEventAdded",p),s.attachEvent("onEventChanged",p),s.attachEvent("onEventDeleted",p),p()},s._markCalendarCurrentDate=function(d){var m=s.getState(),p=m.min_date,o=m.max_date,c=m.mode,u=s.date.month_start(new Date(d._date)),_=s.date.add(u,1,"month");if(!({month:!0,year:!0,agenda:!0,grid:!0}[c]||p.valueOf()<=u.valueOf()&&o.valueOf()>=_.valueOf()))for(var y=p;y.valueOf()<o.valueOf();)u.valueOf()<=y.valueOf()&&_>y&&s.markCalendar(d,y,"dhx_calendar_click"),y=s.date.add(y,1,"day")},s.attachEvent("onEventCancel",function(){s.destroyCalendar(null,!0)}),s.attachEvent("onDestroy",function(){s.destroyCalendar()})},monthheight:function(s){s.attachEvent("onTemplatesReady",function(){s.xy.scroll_width=0;var w=s.render_view_data;s.render_view_data=function(){var m=this._els.dhx_cal_data[0];m.firstChild._h_fix=!0,w.apply(s,arguments);var p=parseInt(m.style.height);m.style.height="1px",m.style.height=m.scrollHeight+"px",this._obj.style.height=this._obj.clientHeight+m.scrollHeight-p+"px"};var d=s._reset_month_scale;s._reset_month_scale=function(m,p,o,c){var u={clientHeight:100};d.apply(s,[u,p,o,c]),m.innerHTML=u.innerHTML}})},multisection:function(s){Ti("Multisection",s.assert)},multisource:function(s){var w=s._load;s._load=function(d,m){if(lv(d=d||this._load_url)=="object")for(var p=function(c){var u=function(){};return u.prototype=c,u}(this._loaded),o=0;o<d.length;o++)this._loaded=new p,w.call(this,d[o],m);else w.apply(this,arguments)}},mvc:function(s){var w,d={use_id:!1};function m(c){var u={};for(var _ in c)_.indexOf("_")!==0&&(u[_]=c[_]);return d.use_id||delete u.id,u}function p(c){c._not_render=!1,c._render_wait&&c.render_view_data(),c._loading=!1,c.callEvent("onXLE",[])}function o(c){return d.use_id?c.id:c.cid}s.backbone=function(c,u){u&&(d=u),c.bind("change",function(x,v){var E=o(x),b=s._events[E]=x.toJSON();b.id=E,s._init_event(b),clearTimeout(w),w=setTimeout(function(){s.updateView()},1)}),c.bind("remove",function(x,v){var E=o(x);s._events[E]&&s.deleteEvent(E)});var _=[];function y(){_.length&&(s.parse(_,"json"),_=[])}c.bind("add",function(x,v){var E=o(x);if(!s._events[E]){var b=x.toJSON();b.id=E,s._init_event(b),_.push(b),_.length==1&&setTimeout(y,1)}}),c.bind("request",function(x){x instanceof Backbone.Collection&&function(v){v._loading=!0,v._not_render=!0,v.callEvent("onXLS",[])}(s)}),c.bind("sync",function(x){x instanceof Backbone.Collection&&p(s)}),c.bind("error",function(x){x instanceof Backbone.Collection&&p(s)}),s.attachEvent("onEventCreated",function(x){var v=new c.model(s.getEvent(x));return s._events[x]=v.toJSON(),s._events[x].id=x,!0}),s.attachEvent("onEventAdded",function(x){if(!c.get(x)){var v=m(s.getEvent(x)),E=new c.model(v),b=o(E);b!=x&&this.changeEventId(x,b),c.add(E),c.trigger("scheduler:add",E)}return!0}),s.attachEvent("onEventChanged",function(x){var v=c.get(x),E=m(s.getEvent(x));return v.set(E),c.trigger("scheduler:change",v),!0}),s.attachEvent("onEventDeleted",function(x){var v=c.get(x);return v&&(c.trigger("scheduler:remove",v),c.remove(x)),!0})}},outerdrag:function(s){s.attachEvent("onTemplatesReady",function(){var w,d=new dhtmlDragAndDropObject,m=d.stopDrag;function p(o,c,u,_){if(!s.checkEvent("onBeforeExternalDragIn")||s.callEvent("onBeforeExternalDragIn",[o,c,u,_,w])){var y=s.attachEvent("onEventCreated",function(S){s.callEvent("onExternalDragIn",[S,o,w])||(this._drag_mode=this._drag_id=null,this.deleteEvent(S))}),x=s.getActionData(w),v={start_date:new Date(x.date)};if(s.matrix&&s.matrix[s._mode]){var E=s.matrix[s._mode];v[E.y_property]=x.section;var b=s._locate_cell_timeline(w);v.start_date=E._trace_x[b.x],v.end_date=s.date.add(v.start_date,E.x_step,E.x_unit)}s._props&&s._props[s._mode]&&(v[s._props[s._mode].map_to]=x.section),s.addEventNow(v),s.detachEvent(y)}}d.stopDrag=function(o){return w=o,m.apply(this,arguments)},d.addDragLanding(s._els.dhx_cal_data[0],{_drag:function(o,c,u,_){p(o,c,u,_)},_dragIn:function(o,c){return o},_dragOut:function(o){return this}}),dhtmlx.DragControl&&dhtmlx.DragControl.addDrop(s._els.dhx_cal_data[0],{onDrop:function(o,c,u,_){var y=dhtmlx.DragControl.getMaster(o);w=_,p(o,y,c,_.target||_.srcElement)},onDragIn:function(o,c,u){return c}},!0)})},pdf:function(s){var w,d,m=new RegExp("<[^>]*>","g"),p=new RegExp("<br[^>]*>","g");function o(K){return K.replace(p,`
`).replace(m,"")}function c(K,ie){K=parseFloat(K),ie=parseFloat(ie),isNaN(ie)||(K-=ie);var G=_(K);return K=K-G.width+G.cols*w,isNaN(K)?"auto":100*K/w}function u(K,ie,G){K=parseFloat(K),ie=parseFloat(ie),!isNaN(ie)&&G&&(K-=ie);var te=_(K);return K=K-te.width+te.cols*w,isNaN(K)?"auto":100*K/(w-(isNaN(ie)?0:ie))}function _(K){for(var ie=0,G=s._els.dhx_cal_header[0].childNodes,te=G[1]?G[1].childNodes:G[0].childNodes,J=0;J<te.length;J++){var we=te[J].style?te[J]:te[J].parentNode,Ce=parseFloat(we.style.width);if(!(K>Ce))break;K-=Ce+1,ie+=Ce+1}return{width:ie,cols:J}}function y(K){return K=parseFloat(K),isNaN(K)?"auto":100*K/d}function x(K,ie){return(window.getComputedStyle?window.getComputedStyle(K,null)[ie]:K.currentStyle?K.currentStyle[ie]:null)||""}function v(K,ie){for(var G=parseInt(K.style.left,10),te=0;te<s._cols.length;te++)if((G-=s._cols[te])<0)return te;return ie}function E(K,ie){for(var G=parseInt(K.style.top,10),te=0;te<s._colsS.heights.length;te++)if(s._colsS.heights[te]>G)return te;return ie}function b(K){return K?"<"+K+">":""}function S(K){return K?"</"+K+">":""}function D(K,ie,G,te){var J="<"+K+" profile='"+ie+"'";return G&&(J+=" header='"+G+"'"),te&&(J+=" footer='"+te+"'"),J+=">"}function M(){var K="",ie=s._mode;if(s.matrix&&s.matrix[s._mode]&&(ie=s.matrix[s._mode].render=="cell"?"matrix":"timeline"),K+="<scale mode='"+ie+"' today='"+s._els.dhx_cal_date[0].innerHTML+"'>",s._mode=="week_agenda")for(var G=s._els.dhx_cal_data[0].getElementsByTagName("DIV"),te=0;te<G.length;te++)G[te].className=="dhx_wa_scale_bar"&&(K+="<column>"+o(G[te].innerHTML)+"</column>");else if(s._mode=="agenda"||s._mode=="map")K+="<column>"+o((G=s._els.dhx_cal_header[0].childNodes[0].childNodes)[0].innerHTML)+"</column><column>"+o(G[1].innerHTML)+"</column>";else if(s._mode=="year")for(G=s._els.dhx_cal_data[0].childNodes,te=0;te<G.length;te++)K+="<month label='"+o(G[te].querySelector(".dhx_year_month").innerHTML)+"'>",K+=F(G[te].querySelector(".dhx_year_week").childNodes),K+=V(G[te].querySelector(".dhx_year_body")),K+="</month>";else{K+="<x>",K+=F(G=s._els.dhx_cal_header[0].childNodes),K+="</x>";var J=s._els.dhx_cal_data[0];if(s.matrix&&s.matrix[s._mode]){for(K+="<y>",te=0;te<J.firstChild.rows.length;te++)K+="<row><![CDATA["+o(J.firstChild.rows[te].cells[0].innerHTML)+"]]></row>";K+="</y>",d=J.firstChild.rows[0].cells[0].offsetHeight}else if(J.firstChild.tagName=="TABLE")K+=V(J);else{for(J=J.childNodes[J.childNodes.length-1];J.className.indexOf("dhx_scale_holder")==-1;)J=J.previousSibling;for(J=J.childNodes,K+="<y>",te=0;te<J.length;te++)K+=`
<row><![CDATA[`+o(J[te].innerHTML)+"]]></row>";K+="</y>",d=J[0].offsetHeight}}return K+="</scale>"}function V(K){for(var ie="",G=K.querySelectorAll("tr"),te=0;te<G.length;te++){for(var J=[],we=G[te].querySelectorAll("td"),Ce=0;Ce<we.length;Ce++)J.push(we[Ce].querySelector(".dhx_month_head").innerHTML);ie+=`
<row height='`+we[0].offsetHeight+"'><![CDATA["+o(J.join("|"))+"]]></row>",d=we[0].offsetHeight}return ie}function F(K){var ie,G="";s.matrix&&s.matrix[s._mode]&&(s.matrix[s._mode].second_scale&&(ie=K[1].childNodes),K=K[0].childNodes);for(var te=0;te<K.length;te++)G+=`
<column><![CDATA[`+o(K[te].innerHTML)+"]]></column>";if(w=K[0].offsetWidth,ie){var J=0,we=K[0].offsetWidth,Ce=1;for(te=0;te<ie.length;te++)G+=`
<column second_scale='`+Ce+"'><![CDATA["+o(ie[te].innerHTML)+"]]></column>",(J+=ie[te].offsetWidth)>=we&&(we+=K[Ce]?K[Ce].offsetWidth:0,Ce++),w=ie[0].offsetWidth}return G}function B(K){var ie="",G=s._rendered,te=s.matrix&&s.matrix[s._mode];if(s._mode=="agenda"||s._mode=="map")for(var J=0;J<G.length;J++)ie+="<event><head><![CDATA["+o(G[J].childNodes[0].innerHTML)+"]]></head><body><![CDATA["+o(G[J].childNodes[2].innerHTML)+"]]></body></event>";else if(s._mode=="week_agenda")for(J=0;J<G.length;J++)ie+="<event day='"+G[J].parentNode.getAttribute("day")+"'><body>"+o(G[J].innerHTML)+"</body></event>";else if(s._mode=="year")for(G=s.get_visible_events(),J=0;J<G.length;J++){var we=G[J].start_date;for(we.valueOf()<s._min_date.valueOf()&&(we=s._min_date);we<G[J].end_date;){var Ce=we.getMonth()+12*(we.getFullYear()-s._min_date.getFullYear())-s.week_starts._month,Ee=s.week_starts[Ce]+we.getDate()-1,Ie=K?x(s._get_year_cell(we),"color"):"",Ne=K?x(s._get_year_cell(we),"backgroundColor"):"";if(ie+="<event day='"+Ee%7+"' week='"+Math.floor(Ee/7)+"' month='"+Ce+"' backgroundColor='"+Ne+"' color='"+Ie+"'></event>",(we=s.date.add(we,1,"day")).valueOf()>=s._max_date.valueOf())break}}else if(te&&te.render=="cell")for(G=s._els.dhx_cal_data[0].getElementsByTagName("TD"),J=0;J<G.length;J++)Ie=K?x(G[J],"color"):"",ie+=`
<event><body backgroundColor='`+(Ne=K?x(G[J],"backgroundColor"):"")+"' color='"+Ie+"'><![CDATA["+o(G[J].innerHTML)+"]]></body></event>";else for(J=0;J<G.length;J++){var Ue,We;if(s.matrix&&s.matrix[s._mode])Ue=c(G[J].style.left),We=c(G[J].offsetWidth)-1;else{var et=s.config.use_select_menu_space?0:26;Ue=u(G[J].style.left,et,!0),We=u(G[J].style.width,et)-1}if(!isNaN(1*We)){var Mt=y(G[J].style.top),gr=y(G[J].style.height),Hr=G[J].className.split(" ")[0].replace("dhx_cal_","");if(Hr!=="dhx_tooltip_line"){var Ni=s.getEvent(G[J].getAttribute(s.config.event_attribute));if(Ni){Ee=Ni._sday;var va=Ni._sweek,AC=Ni._length||0;if(s._mode=="month")gr=parseInt(G[J].offsetHeight,10),Mt=parseInt(G[J].style.top,10)-s.xy.month_head_height,Ee=v(G[J],Ee),va=E(G[J],va);else if(s.matrix&&s.matrix[s._mode]){Ee=0,va=G[J].parentNode.parentNode.parentNode.rowIndex;var OC=d;d=G[J].parentNode.offsetHeight,Mt=y(G[J].style.top),Mt-=.2*Mt,d=OC}else{if(G[J].parentNode==s._els.dhx_cal_data[0])continue;var dv=s._els.dhx_cal_data[0].childNodes[0],MC=parseFloat(dv.className.indexOf("dhx_scale_holder")!=-1?dv.style.left:0);Ue+=c(G[J].parentNode.style.left,MC)}ie+=`
<event week='`+va+"' day='"+Ee+"' type='"+Hr+"' x='"+Ue+"' y='"+Mt+"' width='"+We+"' height='"+gr+"' len='"+AC+"'>",Hr=="event"?(ie+="<header><![CDATA["+o(G[J].childNodes[1].innerHTML)+"]]></header>",Ie=K?x(G[J].childNodes[2],"color"):"",ie+="<body backgroundColor='"+(Ne=K?x(G[J].childNodes[2],"backgroundColor"):"")+"' color='"+Ie+"'><![CDATA["+o(G[J].childNodes[2].innerHTML)+"]]></body>"):(Ie=K?x(G[J],"color"):"",ie+="<body backgroundColor='"+(Ne=K?x(G[J],"backgroundColor"):"")+"' color='"+Ie+"'><![CDATA["+o(G[J].innerHTML)+"]]></body>"),ie+="</event>"}}}}return ie}function Q(K,ie,G,te,J,we){var Ce=!1;te=="fullcolor"&&(Ce=!0,te="color"),te=te||"color";var Ee="";if(K){var Ie=s._date,Ne=s._mode;ie=s.date[G+"_start"](ie),ie=s.date["get_"+G+"_end"]?s.date["get_"+G+"_end"](ie):s.date.add(ie,1,G),Ee=D("pages",te,J,we);for(var Ue=new Date(K);+Ue<+ie;Ue=this.date.add(Ue,1,G))this.setCurrentView(Ue,G),Ee+=b("page")+M().replace("\u2013","-")+B(Ce)+S("page");Ee+=S("pages"),this.setCurrentView(Ie,Ne)}else Ee=D("data",te,J,we)+M().replace("\u2013","-")+B(Ce)+S("data");return Ee}function re(K,ie,G,te,J,we,Ce){(function(Ee,Ie){var Ne=s.uid(),Ue=document.createElement("div");Ue.style.display="none",document.body.appendChild(Ue),Ue.innerHTML='<form id="'+Ne+'" method="post" target="_blank" action="'+Ie+'" accept-charset="utf-8" enctype="application/x-www-form-urlencoded"><input type="hidden" name="mycoolxmlbody"/> </form>',document.getElementById(Ne).firstChild.value=encodeURIComponent(Ee),document.getElementById(Ne).submit(),Ue.parentNode.removeChild(Ue)})(cv(J)=="object"?function(Ee){for(var Ie="<data>",Ne=0;Ne<Ee.length;Ne++)Ie+=Ee[Ne].source.getPDFData(Ee[Ne].start,Ee[Ne].end,Ee[Ne].view,Ee[Ne].mode,Ee[Ne].header,Ee[Ne].footer);return Ie+="</data>"}(J):Q.apply(this,[K,ie,G,J,we,Ce]),te)}s.getPDFData=Q,s.toPDF=function(K,ie,G,te){return re.apply(this,[null,null,null,K,ie,G,te])},s.toPDFRange=function(K,ie,G,te,J,we,Ce){return typeof K=="string"&&(K=s.templates.api_date(K),ie=s.templates.api_date(ie)),re.apply(this,arguments)}},quick_info:function(s){s.config.icons_select=["icon_details","icon_delete"],s.config.details_on_create=!0,s.config.show_quick_info=!0,s.xy.menu_width=0,s.attachEvent("onClick",function(w){if(s.config.show_quick_info)return s.showQuickInfo(w),!0}),function(){for(var w=["onEmptyClick","onViewChange","onLightbox","onBeforeEventDelete","onBeforeDrag"],d=function(){return s.hideQuickInfo(!0),!0},m=0;m<w.length;m++)s.attachEvent(w[m],d)}(),s.templates.quick_info_title=function(w,d,m){return m.text.substr(0,50)},s.templates.quick_info_content=function(w,d,m){return m.details||m.text},s.templates.quick_info_date=function(w,d,m){return s.isOneDayEvent(m)&&s.config.rtl?s.templates.day_date(w,d,m)+" "+s.templates.event_header(d,w,m):s.isOneDayEvent(m)?s.templates.day_date(w,d,m)+" "+s.templates.event_header(w,d,m):s.config.rtl?s.templates.week_date(d,w,m):s.templates.week_date(w,d,m)},s.showQuickInfo=function(w){if(w!=this._quick_info_box_id&&(this.hideQuickInfo(!0),this.callEvent("onBeforeQuickInfo",[w])!==!1)){var d=this._get_event_counter_part(w);d&&(this._quick_info_box=this._init_quick_info(d),this._fill_quick_data(w),this._show_quick_info(d),this.callEvent("onQuickInfo",[w]))}},function(){function w(d){d=d||"";var m,p=parseFloat(d),o=d.match(/m?s/);switch(o&&(o=o[0]),o){case"s":m=1e3*p;break;case"ms":m=p;break;default:m=0}return m}s.hideQuickInfo=function(d){var m=this._quick_info_box,p=this._quick_info_box_id;if(this._quick_info_box_id=0,m&&m.parentNode){var o=m.offsetWidth;if(s.config.quick_info_detached)return this.callEvent("onAfterQuickInfo",[p]),m.parentNode.removeChild(m);if(m.style.right=="auto"?m.style.left=-o+"px":m.style.right=-o+"px",d)m.parentNode.removeChild(m);else{var c;window.getComputedStyle?c=window.getComputedStyle(m,null):m.currentStyle&&(c=m.currentStyle);var u=w(c["transition-delay"])+w(c["transition-duration"]);setTimeout(function(){m.parentNode&&m.parentNode.removeChild(m)},u)}this.callEvent("onAfterQuickInfo",[p])}}}(),s.event(window,"keydown",function(w){w.keyCode==27&&s.hideQuickInfo()}),s._show_quick_info=function(w){var d=s._quick_info_box;s._obj.appendChild(d);var m=d.offsetWidth,p=d.offsetHeight;if(s.config.quick_info_detached){var o=w.left-w.dx*(m-w.width);o+m>window.innerWidth&&(o=window.innerWidth-m),o=Math.max(0,o),d.style.left=o+"px",d.style.top=w.top-(w.dy?p:-w.height)+"px"}else d.style.top=this.xy.scale_height+this.xy.nav_height+20+"px",w.dx==1?(d.style.right="auto",d.style.left=-m+"px",setTimeout(function(){d.style.left="-10px"},1)):(d.style.left="auto",d.style.right=-m+"px",setTimeout(function(){d.style.right="-10px"},1)),d.className=d.className.replace(" dhx_qi_left","").replace(" dhx_qi_right","")+" dhx_qi_"+(w.dx==1?"left":"right")},s.attachEvent("onTemplatesReady",function(){if(s.hideQuickInfo(),this._quick_info_box){var w=this._quick_info_box;w.parentNode&&w.parentNode.removeChild(w),this._quick_info_box=null}}),s._quick_info_onscroll_handler=function(w){s.hideQuickInfo()},s._init_quick_info=function(){if(!this._quick_info_box){var w=s.xy,d=this._quick_info_box=document.createElement("div");this._waiAria.quickInfoAttr(d),d.className="dhx_cal_quick_info",s.$testmode&&(d.className+=" dhx_no_animate"),s.config.rtl&&(d.className+=" dhx_quick_info_rtl");var m=this._waiAria.quickInfoHeaderAttrString(),p='<div class="dhx_cal_qi_title" style="height:'+w.quick_info_title+'px" '+m+'><div class="dhx_cal_qi_tcontent"></div><div  class="dhx_cal_qi_tdate"></div></div><div class="dhx_cal_qi_content"></div>';p+='<div class="dhx_cal_qi_controls" style="height:'+w.quick_info_buttons+'px">';for(var o=s.config.icons_select,c=0;c<o.length;c++)p+="<div "+(m=this._waiAria.quickInfoButtonAttrString(this.locale.labels[o[c]]))+' class="dhx_qi_big_icon '+o[c]+'" title="'+s.locale.labels[o[c]]+`"><div class='dhx_menu_icon `+o[c]+"'></div><div>"+s.locale.labels[o[c]]+"</div></div>";p+="</div>",d.innerHTML=p,s.event(d,"click",function(u){s._qi_button_click(u.target||u.srcElement)}),s.config.quick_info_detached&&(s._detachDomEvent(s._els.dhx_cal_data[0],"scroll",s._quick_info_onscroll_handler),s.event(s._els.dhx_cal_data[0],"scroll",s._quick_info_onscroll_handler))}return this._quick_info_box},s._qi_button_click=function(w){var d=s._quick_info_box;if(w&&w!=d){var m=s._getClassName(w);if(m.indexOf("_icon")!=-1){var p=s._quick_info_box_id;s._click.buttons[m.split(" ")[1].replace("icon_","")](p)}else s._qi_button_click(w.parentNode)}},s._get_event_counter_part=function(w){for(var d=s.getRenderedEvent(w),m=0,p=0,o=d;o&&o!=s._obj;)m+=o.offsetLeft,p+=o.offsetTop-o.scrollTop,o=o.offsetParent;return o?{left:m,top:p,dx:m+d.offsetWidth/2>s._x/2?1:0,dy:p+d.offsetHeight/2>s._y/2?1:0,width:d.offsetWidth,height:d.offsetHeight}:0},s._fill_quick_data=function(w){var d=s.getEvent(w),m=s._quick_info_box;s._quick_info_box_id=w;var p={content:s.templates.quick_info_title(d.start_date,d.end_date,d),date:s.templates.quick_info_date(d.start_date,d.end_date,d)},o=m.firstChild.firstChild;o.innerHTML=p.content,o.nextSibling.innerHTML=p.date,s._waiAria.quickInfoHeader(m,[p.content,p.date].join(" ")),m.firstChild.nextSibling.innerHTML=s.templates.quick_info_content(d.start_date,d.end_date,d)}},readonly:function(s){s.attachEvent("onTemplatesReady",function(){var w;s.form_blocks.recurring&&(w=s.form_blocks.recurring.set_value);var d=s.config.buttons_left.slice(),m=s.config.buttons_right.slice();function p(_,y,x,v){for(var E=y.getElementsByTagName(_),b=x.getElementsByTagName(_),S=b.length-1;S>=0;S--)if(x=b[S],v){var D=document.createElement("span");D.className="dhx_text_disabled",D.innerHTML=v(E[S]),x.parentNode.insertBefore(D,x),x.parentNode.removeChild(x)}else x.disabled=!0,y.checked&&(x.checked=!0)}s.attachEvent("onBeforeLightbox",function(_){this.config.readonly_form||this.getEvent(_).readonly?this.config.readonly_active=!0:(this.config.readonly_active=!1,s.config.buttons_left=d.slice(),s.config.buttons_right=m.slice(),s.form_blocks.recurring&&(s.form_blocks.recurring.set_value=w));var y=this.config.lightbox.sections;if(this.config.readonly_active){for(var x=0;x<y.length;x++)y[x].type=="recurring"&&this.config.readonly_active&&s.form_blocks.recurring&&(s.form_blocks.recurring.set_value=function(F,B,Q){var re=s.$domHelpers.closest(F,".dhx_wrap_section");re.querySelector(".dhx_cal_lsection").display="none",re.querySelector(".dhx_form_repeat").display="none",re.style.display="none",s.setLightboxSize()});var v=["dhx_delete_btn","dhx_save_btn"],E=[s.config.buttons_left,s.config.buttons_right];for(x=0;x<v.length;x++)for(var b=v[x],S=0;S<E.length;S++){for(var D=E[S],M=-1,V=0;V<D.length;V++)if(D[V]==b){M=V;break}M!=-1&&D.splice(M,1)}}return this.resetLightbox(),!0});var o=s._fill_lightbox;s._fill_lightbox=function(){var _=this.getLightbox();this.config.readonly_active&&(_.style.visibility="hidden",_.style.display="block");var y=o.apply(this,arguments);if(this.config.readonly_active&&(_.style.visibility="",_.style.display="none"),this.config.readonly_active){var x=this.getLightbox(),v=this._lightbox_r=x.cloneNode(!0);v.id=s.uid(),v.className+=" dhx_cal_light_readonly",p("textarea",x,v,function(E){return E.value}),p("input",x,v,!1),p("select",x,v,function(E){return E.options.length?E.options[Math.max(E.selectedIndex||0,0)].text:""}),x.parentNode.insertBefore(v,x),c.call(this,v),s._lightbox&&s._lightbox.parentNode.removeChild(s._lightbox),this._lightbox=v,s.config.drag_lightbox&&s.event(v.firstChild,"mousedown",s._ready_to_dnd),s._init_lightbox_events(),this.setLightboxSize()}return y};var c=s.showCover;s.showCover=function(){this.config.readonly_active||c.apply(this,arguments)};var u=s.hide_lightbox;s.hide_lightbox=function(){return this._lightbox_r&&(this._lightbox_r.parentNode.removeChild(this._lightbox_r),this._lightbox_r=this._lightbox=null),u.apply(this,arguments)}})},recurring:function(s){function w(){var p=s.formSection("recurring");if(p||(p=d("recurring")),!p)throw new Error(["Can't locate the Recurring form section.","Make sure that you have the recurring control on the lightbox configuration https://docs.dhtmlx.com/scheduler/recurring_events.html#recurringlightbox ",'and that the recurring control has name "recurring":',"","scheduler.config.lightbox.sections = [",'	{name:"recurring", ... }',"];"].join(`
`));return p}function d(p){for(var o=0;o<s.config.lightbox.sections.length;o++){var c=s.config.lightbox.sections[o];if(c.type===p)return s.formSection(c.name)}return null}function m(p){return new Date(p.getFullYear(),p.getMonth(),p.getDate(),p.getHours(),p.getMinutes(),p.getSeconds(),0)}s.config.occurrence_timestamp_in_utc=!1,s.config.recurring_workdays=[1,2,3,4,5],s.form_blocks.recurring={_get_node:function(p){return typeof p=="string"&&(p=document.getElementById(p)),p.style.display=="none"&&(p.style.display=""),p},_outer_html:function(p){return p.outerHTML||function(o){var c,u=document.createElement("div");return u.appendChild(o.cloneNode(!0)),c=u.innerHTML,u=null,c}(p)},render:function(p){if(p.form){var o=s.form_blocks.recurring,c=o._get_node(p.form),u=o._outer_html(c);return c.style.display="none",u}var _=s.locale.labels;return'<div class="dhx_form_repeat"> <form> <div class="dhx_repeat_left"> <label><input class="dhx_repeat_radio" type="radio" name="repeat" value="day" />'+_.repeat_radio_day+'</label><br /> <label><input class="dhx_repeat_radio" type="radio" name="repeat" value="week"/>'+_.repeat_radio_week+'</label><br /> <label><input class="dhx_repeat_radio" type="radio" name="repeat" value="month" checked />'+_.repeat_radio_month+'</label><br /> <label><input class="dhx_repeat_radio" type="radio" name="repeat" value="year" />'+_.repeat_radio_year+'</label> </div> <div class="dhx_repeat_divider"></div> <div class="dhx_repeat_center"> <div style="display:none;" id="dhx_repeat_day"> <label><input class="dhx_repeat_radio" type="radio" name="day_type" value="d"/>'+_.repeat_radio_day_type+'</label><label><input class="dhx_repeat_text" type="text" name="day_count" value="1" />'+_.repeat_text_day_count+'</label><br /> <label><input class="dhx_repeat_radio" type="radio" name="day_type" checked value="w"/>'+_.repeat_radio_day_type2+'</label> </div> <div style="display:none;" id="dhx_repeat_week"><label>'+_.repeat_week+'<input class="dhx_repeat_text" type="text" name="week_count" value="1" /></label><span>'+_.repeat_text_week_count+'</span><br /> <table class="dhx_repeat_days"> <tr> <td> <label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="1" />'+_.day_for_recurring[1]+'</label><br /> <label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="4" />'+_.day_for_recurring[4]+'</label> </td> <td> <label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="2" />'+_.day_for_recurring[2]+'</label><br /> <label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="5" />'+_.day_for_recurring[5]+'</label> </td> <td> <label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="3" />'+_.day_for_recurring[3]+'</label><br /> <label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="6" />'+_.day_for_recurring[6]+'</label> </td> <td> <label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="0" />'+_.day_for_recurring[0]+'</label><br /><br /> </td> </tr> </table> </div> <div id="dhx_repeat_month"> <label class = "dhx_repeat_month_label"><input class="dhx_repeat_radio" type="radio" name="month_type" value="d"/>'+_.repeat_radio_month_type+'</label><label><input class="dhx_repeat_text" type="text" name="month_day" value="1" />'+_.repeat_text_month_day+'</label><label><input class="dhx_repeat_text" type="text" name="month_count" value="1" />'+_.repeat_text_month_count+'</label><br /> <label class = "dhx_repeat_month_label"><input class="dhx_repeat_radio" type="radio" name="month_type" checked value="w"/>'+_.repeat_radio_month_start+'</label><input class="dhx_repeat_text" type="text" name="month_week2" value="1" /><label><select name="month_day2">	<option value="1" selected >'+s.locale.date.day_full[1]+'<option value="2">'+s.locale.date.day_full[2]+'<option value="3">'+s.locale.date.day_full[3]+'<option value="4">'+s.locale.date.day_full[4]+'<option value="5">'+s.locale.date.day_full[5]+'<option value="6">'+s.locale.date.day_full[6]+'<option value="0">'+s.locale.date.day_full[0]+"</select>"+_.repeat_text_month_count2_before+'</label><label><input class="dhx_repeat_text" type="text" name="month_count2" value="1" />'+_.repeat_text_month_count2_after+'</label><br /> </div> <div style="display:none;" id="dhx_repeat_year"> <label class = "dhx_repeat_year_label"><input class="dhx_repeat_radio" type="radio" name="year_type" value="d"/>'+_.repeat_radio_day_type+'</label><label><input class="dhx_repeat_text" type="text" name="year_day" value="1" />'+_.repeat_text_year_day+'</label><label><select name="year_month"><option value="0" selected >'+_.month_for_recurring[0]+'<option value="1">'+_.month_for_recurring[1]+'<option value="2">'+_.month_for_recurring[2]+'<option value="3">'+_.month_for_recurring[3]+'<option value="4">'+_.month_for_recurring[4]+'<option value="5">'+_.month_for_recurring[5]+'<option value="6">'+_.month_for_recurring[6]+'<option value="7">'+_.month_for_recurring[7]+'<option value="8">'+_.month_for_recurring[8]+'<option value="9">'+_.month_for_recurring[9]+'<option value="10">'+_.month_for_recurring[10]+'<option value="11">'+_.month_for_recurring[11]+"</select>"+_.select_year_month+'</label><br /> <label class = "dhx_repeat_year_label"><input class="dhx_repeat_radio" type="radio" name="year_type" checked value="w"/>'+_.repeat_year_label+'</label><input class="dhx_repeat_text" type="text" name="year_week2" value="1" /><select name="year_day2"><option value="1" selected >'+s.locale.date.day_full[1]+'<option value="2">'+s.locale.date.day_full[2]+'<option value="3">'+s.locale.date.day_full[3]+'<option value="4">'+s.locale.date.day_full[4]+'<option value="5">'+s.locale.date.day_full[5]+'<option value="6">'+s.locale.date.day_full[6]+'<option value="7">'+s.locale.date.day_full[0]+"</select>"+_.select_year_day2+'<select name="year_month2"><option value="0" selected >'+_.month_for_recurring[0]+'<option value="1">'+_.month_for_recurring[1]+'<option value="2">'+_.month_for_recurring[2]+'<option value="3">'+_.month_for_recurring[3]+'<option value="4">'+_.month_for_recurring[4]+'<option value="5">'+_.month_for_recurring[5]+'<option value="6">'+_.month_for_recurring[6]+'<option value="7">'+_.month_for_recurring[7]+'<option value="8">'+_.month_for_recurring[8]+'<option value="9">'+_.month_for_recurring[9]+'<option value="10">'+_.month_for_recurring[10]+'<option value="11">'+_.month_for_recurring[11]+'</select><br /> </div> </div> <div class="dhx_repeat_divider"></div> <div class="dhx_repeat_right"> <label><input class="dhx_repeat_radio" type="radio" name="end" checked/>'+_.repeat_radio_end+'</label><br /> <label><input class="dhx_repeat_radio" type="radio" name="end" />'+_.repeat_radio_end2+'</label><input class="dhx_repeat_text" type="text" name="occurences_count" value="1" />'+_.repeat_text_occurences_count+'<br /> <label><input class="dhx_repeat_radio" type="radio" name="end" />'+_.repeat_radio_end3+'</label><input class="dhx_repeat_date" type="text" name="date_of_end" value="'+s.config.repeat_date_of_end+'" /><br /> </div> </form> </div> <div style="clear:both"> </div>'},_ds:{},_get_form_node:function(p,o,c){var u=p[o];if(!u)return null;if(u.nodeName)return u;if(u.length){for(var _=0;_<u.length;_++)if(u[_].value==c)return u[_]}},_get_node_value:function(p,o,c){var u=p[o];if(!u)return"";if(u.length){if(c){for(var _=[],y=0;y<u.length;y++)u[y].checked&&_.push(u[y].value);return _}for(y=0;y<u.length;y++)if(u[y].checked)return u[y].value}return u.value?c?[u.value]:u.value:void 0},_get_node_numeric_value:function(p,o){return 1*s.form_blocks.recurring._get_node_value(p,o)||0},_set_node_value:function(p,o,c){var u=p[o];if(u){if(u.name==o)u.value=c;else if(u.length)for(var _=zh(c)=="object",y=0;y<u.length;y++)(_||u[y].value==c)&&(u[y].checked=_?!!c[u[y].value]:!!c)}},_init_set_value:function(p,o,c){var u=s.form_blocks.recurring,_=u._get_node_value,y=u._set_node_value;s.form_blocks.recurring._ds={start:c.start_date,end:c._end_date};var x=s.date.str_to_date(s.config.repeat_date,!1,!0),v=function(G){var te=x(G);return s.config.include_end_by&&(te=s.date.add(te,1,"day")),te},E=s.date.date_to_str(s.config.repeat_date),b=p.getElementsByTagName("FORM")[0],S={};function D(G){for(var te=0;te<G.length;te++){var J=G[te];if(J.name)if(S[J.name])if(S[J.name].nodeType){var we=S[J.name];S[J.name]=[we,J]}else S[J.name].push(J);else S[J.name]=J}}if(D(b.getElementsByTagName("INPUT")),D(b.getElementsByTagName("SELECT")),!s.config.repeat_date_of_end){var M=s.date.date_to_str(s.config.repeat_date);s.config.repeat_date_of_end=M(s.date.add(s._currentDate(),30,"day"))}y(S,"date_of_end",s.config.repeat_date_of_end);var V=function(G){return document.getElementById(G)||{style:{}}};function F(){V("dhx_repeat_day").style.display="none",V("dhx_repeat_week").style.display="none",V("dhx_repeat_month").style.display="none",V("dhx_repeat_year").style.display="none",V("dhx_repeat_"+this.value).style.display="block",s.setLightboxSize()}function B(G,te){var J=G.end;if(J.length)if(J[0].value&&J[0].value!="on")for(var we=0;we<J.length;we++)J[we].value==te&&(J[we].checked=!0);else{var Ce=0;switch(te){case"no":Ce=0;break;case"date_of_end":Ce=2;break;default:Ce=1}J[Ce].checked=!0}else J.value=te}s.form_blocks.recurring._get_repeat_code=function(G){var te=[_(S,"repeat")];for(Q[te[0]](te,G);te.length<5;)te.push("");var J="",we=function(Ce){var Ee=Ce.end;if(Ee.length){for(var Ie=0;Ie<Ee.length;Ie++)if(Ee[Ie].checked)return Ee[Ie].value&&Ee[Ie].value!="on"?Ee[Ie].value:Ie?Ie==2?"date_of_end":"occurences_count":"no"}else if(Ee.value)return Ee.value;return"no"}(S);return we=="no"?(G.end=new Date(9999,1,1),J="no"):we=="date_of_end"?G.end=v(_(S,"date_of_end")):(s.transpose_type(te.join("_")),J=Math.max(1,_(S,"occurences_count")),G.end=s.date["add_"+te.join("_")](new Date(G.start),J+0,{start_date:G.start})||G.start),te.join("_")+"#"+J};var Q={month:function(G,te){var J=s.form_blocks.recurring._get_node_value,we=s.form_blocks.recurring._get_node_numeric_value;J(S,"month_type")=="d"?(G.push(Math.max(1,we(S,"month_count"))),te.start.setDate(J(S,"month_day"))):(G.push(Math.max(1,we(S,"month_count2"))),G.push(J(S,"month_day2")),G.push(Math.max(1,we(S,"month_week2"))),s.config.repeat_precise||te.start.setDate(1)),te._start=!0},week:function(G,te){var J=s.form_blocks.recurring._get_node_value,we=s.form_blocks.recurring._get_node_numeric_value;G.push(Math.max(1,we(S,"week_count"))),G.push(""),G.push("");for(var Ce=[],Ee=J(S,"week_day",!0),Ie=te.start.getDay(),Ne=!1,Ue=0;Ue<Ee.length;Ue++)Ce.push(Ee[Ue]),Ne=Ne||Ee[Ue]==Ie;Ce.length||(Ce.push(Ie),Ne=!0),Ce.sort(),s.config.repeat_precise?Ne||(s.transpose_day_week(te.start,Ce,1,7),te._start=!0):(te.start=s.date.week_start(te.start),te._start=!0),G.push(Ce.join(","))},day:function(G){var te=s.form_blocks.recurring._get_node_value,J=s.form_blocks.recurring._get_node_numeric_value;te(S,"day_type")=="d"?G.push(Math.max(1,J(S,"day_count"))):(G.push("week"),G.push(1),G.push(""),G.push(""),G.push(s.config.recurring_workdays.join(",")),G.splice(0,1))},year:function(G,te){var J=s.form_blocks.recurring._get_node_value;J(S,"year_type")=="d"?(G.push("1"),te.start.setMonth(0),te.start.setDate(J(S,"year_day")),te.start.setMonth(J(S,"year_month"))):(G.push("1"),G.push(J(S,"year_day2")),G.push(J(S,"year_week2")),te.start.setDate(1),te.start.setMonth(J(S,"year_month2"))),te._start=!0}},re={week:function(G,te){var J=s.form_blocks.recurring._set_node_value;J(S,"week_count",G[1]);for(var we=G[4].split(","),Ce={},Ee=0;Ee<we.length;Ee++)Ce[we[Ee]]=!0;J(S,"week_day",Ce)},month:function(G,te){var J=s.form_blocks.recurring._set_node_value;G[2]===""?(J(S,"month_type","d"),J(S,"month_count",G[1]),J(S,"month_day",te.start.getDate())):(J(S,"month_type","w"),J(S,"month_count2",G[1]),J(S,"month_week2",G[3]),J(S,"month_day2",G[2]))},day:function(G,te){var J=s.form_blocks.recurring._set_node_value;J(S,"day_type","d"),J(S,"day_count",G[1])},year:function(G,te){var J=s.form_blocks.recurring._set_node_value;G[2]===""?(J(S,"year_type","d"),J(S,"year_day",te.start.getDate()),J(S,"year_month",te.start.getMonth())):(J(S,"year_type","w"),J(S,"year_week2",G[3]),J(S,"year_day2",G[2]),J(S,"year_month2",te.start.getMonth()))}};s.form_blocks.recurring._set_repeat_code=function(G,te){var J=s.form_blocks.recurring._set_node_value,we=G.split("#");switch(G=we[0].split("_"),re[G[0]](G,te),we[1]){case"no":B(S,"no");break;case"":B(S,"date_of_end");var Ce=te.end;s.config.include_end_by&&(Ce=s.date.add(Ce,-1,"day")),J(S,"date_of_end",E(Ce));break;default:B(S,"occurences_count"),J(S,"occurences_count",we[1])}J(S,"repeat",G[0]);var Ee=s.form_blocks.recurring._get_form_node(S,"repeat",G[0]);Ee.nodeName=="SELECT"?(Ee.dispatchEvent(new Event("change")),Ee.dispatchEvent(new MouseEvent("click"))):Ee.dispatchEvent(new MouseEvent("click"))};for(var K=0;K<b.elements.length;K++){var ie=b.elements[K];switch(ie.name){case"repeat":ie.nodeName!="SELECT"||ie.$_eventAttached?ie.$_eventAttached||(ie.$_eventAttached=!0,ie.addEventListener("click",F)):(ie.$_eventAttached=!0,ie.addEventListener("change",F))}}s._lightbox._rec_init_done=!0},set_value:function(p,o,c){var u=s.form_blocks.recurring;s._lightbox._rec_init_done||u._init_set_value(p,o,c),p.open=!c.rec_type,p.blocked=this._is_modified_occurence(c);var _=u._ds;_.start=c.start_date,_.end=c._end_date,u._toggle_block(),o&&u._set_repeat_code(o,_)},get_value:function(p,o){if(p.open){var c=s.form_blocks.recurring._ds,u={};(function(){var _=s.formSection("time");if(_||(_=d("time")),_||(_=d("calendar_time")),!_)throw new Error(["Can't calculate the recurring rule, the Recurring form block can't find the Time control. Make sure you have the time control in 'scheduler.config.lightbox.sections' config.","You can use either the default time control https://docs.dhtmlx.com/scheduler/time.html, or the datepicker https://docs.dhtmlx.com/scheduler/minicalendar.html, or a custom control. ",'In the latter case, make sure the control is named "time":',"","scheduler.config.lightbox.sections = [",'{name:"time", height:72, type:"YOU CONTROL", map_to:"auto" }];'].join(`
`));return _})().getValue(u),c.start=u.start_date,o.rec_type=s.form_blocks.recurring._get_repeat_code(c),c._start?(o.start_date=new Date(c.start),o._start_date=new Date(c.start),c._start=!1):o._start_date=null,o._end_date=c.end,o.rec_pattern=o.rec_type.split("#")[0]}else o.rec_type=o.rec_pattern="",o._end_date=o.end_date;return o.rec_type},_get_button:function(){return w().header.firstChild.firstChild},_get_form:function(){return w().node},open:function(){var p=s.form_blocks.recurring;p._get_form().open||p._toggle_block()},close:function(){var p=s.form_blocks.recurring;p._get_form().open&&p._toggle_block()},_toggle_block:function(){var p=s.form_blocks.recurring,o=p._get_form(),c=p._get_button();o.open||o.blocked?(o.style.height="0px",c&&(c.style.backgroundPosition="-5px 20px",c.nextSibling.innerHTML=s.locale.labels.button_recurring)):(o.style.height="auto",c&&(c.style.backgroundPosition="-5px 0px",c.nextSibling.innerHTML=s.locale.labels.button_recurring_open)),o.open=!o.open,s.setLightboxSize()},focus:function(p){},button_click:function(p,o,c){s.form_blocks.recurring._get_form().blocked||s.form_blocks.recurring._toggle_block()}},s._rec_markers={},s._rec_markers_pull={},s._add_rec_marker=function(p,o){p._pid_time=o,this._rec_markers[p.id]=p,this._rec_markers_pull[p.event_pid]||(this._rec_markers_pull[p.event_pid]={}),this._rec_markers_pull[p.event_pid][o]=p},s._get_rec_marker=function(p,o){var c=this._rec_markers_pull[o];return c?c[p]:null},s._get_rec_markers=function(p){return this._rec_markers_pull[p]||[]},s._rec_temp=[],function(){var p=s.addEvent;s.addEvent=function(o,c,u,_,y){var x=p.apply(this,arguments);if(x&&s.getEvent(x)){var v=s.getEvent(x);v.start_date&&(v.start_date=m(v.start_date)),v.end_date&&(v.end_date=m(v.end_date)),this._is_modified_occurence(v)&&s._add_rec_marker(v,1e3*v.event_length),v.rec_type&&(v.rec_pattern=v.rec_type.split("#")[0])}return x}}(),s.attachEvent("onEventIdChange",function(p,o){if(!this._ignore_call){this._ignore_call=!0,s._rec_markers[p]&&(s._rec_markers[o]=s._rec_markers[p],delete s._rec_markers[p]),s._rec_markers_pull[p]&&(s._rec_markers_pull[o]=s._rec_markers_pull[p],delete s._rec_markers_pull[p]);for(var c=0;c<this._rec_temp.length;c++)(u=this._rec_temp[c]).event_pid==p&&(u.event_pid=o,this.changeEventId(u.id,o+"#"+u.id.split("#")[1]));for(var c in this._rec_markers){var u;(u=this._rec_markers[c]).event_pid==p&&(u.event_pid=o,u._pid_changed=!0)}var _=s._rec_markers[o];_&&_._pid_changed&&(delete _._pid_changed,setTimeout(function(){s.callEvent("onEventChanged",[o,s.getEvent(o)])},1)),delete this._ignore_call}}),s.attachEvent("onConfirmedBeforeEventDelete",function(p){var o=this.getEvent(p);if(this._is_virtual_event(p)||this._is_modified_occurence(o)&&o.rec_type&&o.rec_type!="none"){p=p.split("#");var c=this.uid(),u=p[1]?p[1]:Math.round(o._pid_time/1e3),_=this._copy_event(o);_.id=c,_.event_pid=o.event_pid||p[0];var y=u;_.event_length=y,_.rec_type=_.rec_pattern="none",this.addEvent(_),this._add_rec_marker(_,1e3*y)}else{o.rec_type&&this._lightbox_id&&this._roll_back_dates(o);var x=this._get_rec_markers(p);for(var v in x)x.hasOwnProperty(v)&&(p=x[v].id,this.getEvent(p)&&this.deleteEvent(p,!0))}return!0}),s.attachEvent("onEventDeleted",function(p,o){!this._is_virtual_event(p)&&this._is_modified_occurence(o)&&(s._events[p]||(o.rec_type=o.rec_pattern="none",this.setEvent(p,o)))}),s.attachEvent("onEventChanged",function(p,o){if(this._loading)return!0;var c=this.getEvent(p);if(this._is_virtual_event(p)){p=p.split("#");var u=this.uid();this._not_render=!0;var _=this._copy_event(o);_.id=u,_.event_pid=p[0];var y=p[1];_.event_length=y,_.rec_type=_.rec_pattern="",this._add_rec_marker(_,1e3*y),this.addEvent(_),this._not_render=!1}else{c.start_date&&(c.start_date=m(c.start_date)),c.end_date&&(c.end_date=m(c.end_date)),c.rec_type&&this._lightbox_id&&this._roll_back_dates(c);var x=this._get_rec_markers(p);for(var v in x)x.hasOwnProperty(v)&&(delete this._rec_markers[x[v].id],this.deleteEvent(x[v].id,!0));delete this._rec_markers_pull[p];for(var E=!1,b=0;b<this._rendered.length;b++)this._rendered[b].getAttribute(this.config.event_attribute)==p&&(E=!0);E||(this._select_id=null)}return!0}),s.attachEvent("onEventAdded",function(p){if(!this._loading){var o=this.getEvent(p);o.rec_type&&!o.event_length&&this._roll_back_dates(o)}return!0}),s.attachEvent("onEventSave",function(p,o,c){return this.getEvent(p).rec_type||!o.rec_type||this._is_virtual_event(p)||(this._select_id=null),!0}),s.attachEvent("onEventCreated",function(p){var o=this.getEvent(p);return o.rec_type||(o.rec_type=o.rec_pattern=o.event_length=o.event_pid=""),!0}),s.attachEvent("onEventCancel",function(p){var o=this.getEvent(p);o.rec_type&&(this._roll_back_dates(o),this.render_view_data())}),s._roll_back_dates=function(p){p.start_date&&(p.start_date=m(p.start_date)),p.end_date&&(p.end_date=m(p.end_date)),p.event_length=Math.round((p.end_date.valueOf()-p.start_date.valueOf())/1e3),p.end_date=p._end_date,p._start_date&&(p.start_date.setMonth(0),p.start_date.setDate(p._start_date.getDate()),p.start_date.setMonth(p._start_date.getMonth()),p.start_date.setFullYear(p._start_date.getFullYear()))},s._is_virtual_event=function(p){return p.toString().indexOf("#")!=-1},s._is_modified_occurence=function(p){return p.event_pid&&p.event_pid!="0"},s._validId=function(p){return!this._is_virtual_event(p)},s.showLightbox_rec=s.showLightbox,s.showLightbox=function(p){var o=this.locale,c=s.config.lightbox_recurring,u=this.getEvent(p),_=u.event_pid,y=this._is_virtual_event(p);y&&(_=p.split("#")[0]);var x=function(E){var b=s.getEvent(E);return b._end_date=b.end_date,b.end_date=new Date(b.start_date.valueOf()+1e3*b.event_length),s.showLightbox_rec(E)};if((_||1*_==0)&&u.rec_type)return x(p);if(!_||_==="0"||!o.labels.confirm_recurring||c=="instance"||c=="series"&&!y)return this.showLightbox_rec(p);if(c=="ask"){var v=this;s.modalbox({text:o.labels.confirm_recurring,title:o.labels.title_confirm_recurring,width:"500px",position:"middle",buttons:[o.labels.button_edit_series,o.labels.button_edit_occurrence,o.labels.icon_cancel],callback:function(E){switch(+E){case 0:return x(_);case 1:return v.showLightbox_rec(p);case 2:return}}})}else x(_)},s.get_visible_events_rec=s.get_visible_events,s.get_visible_events=function(p){for(var o=0;o<this._rec_temp.length;o++)delete this._events[this._rec_temp[o].id];this._rec_temp=[];var c=this.get_visible_events_rec(p),u=[];for(o=0;o<c.length;o++)c[o].rec_type?c[o].rec_pattern!="none"&&this.repeat_date(c[o],u):u.push(c[o]);return u},function(){var p=s.isOneDayEvent;s.isOneDayEvent=function(c){return!!c.rec_type||p.call(this,c)};var o=s.updateEvent;s.updateEvent=function(c){var u=s.getEvent(c);u&&u.rec_type&&(u.rec_pattern=(u.rec_type||"").split("#")[0]),u&&u.rec_type&&!this._is_virtual_event(c)?s.update_view():o.call(this,c)}}(),s.transponse_size={day:1,week:7,month:1,year:12},s.date.day_week=function(p,o,c){p.setDate(1);var u=s.date.month_start(new Date(p)),_=1*o+(c=7*(c-1))-p.getDay()+1;p.setDate(_<=c?_+7:_);var y=s.date.month_start(new Date(p));return u.valueOf()===y.valueOf()},s.transpose_day_week=function(p,o,c,u,_){for(var y=(p.getDay()||(s.config.start_on_monday?7:0))-c,x=0;x<o.length;x++)if(o[x]>y)return p.setDate(p.getDate()+1*o[x]-y-(u?c:_));this.transpose_day_week(p,o,c+u,null,c)},s.transpose_type=function(p){var o="transpose_"+p;if(!this.date[o]){var c=p.split("_"),u="add_"+p,_=this.transponse_size[c[0]]*c[1];if(c[0]=="day"||c[0]=="week"){var y=null;if(c[4]&&(y=c[4].split(","),s.config.start_on_monday)){for(var x=0;x<y.length;x++)y[x]=1*y[x]||7;y.sort()}this.date[o]=function(v,E){var b=Math.floor((E.valueOf()-v.valueOf())/(864e5*_));return b>0&&v.setDate(v.getDate()+b*_),y&&s.transpose_day_week(v,y,1,_),v},this.date[u]=function(v,E){var b=new Date(v.valueOf());if(y)for(var S=0;S<E;S++)s.transpose_day_week(b,y,0,_);else b.setDate(b.getDate()+E*_);return b}}else c[0]!="month"&&c[0]!="year"||(this.date[o]=function(v,E,b){var S=Math.ceil((12*E.getFullYear()+1*E.getMonth()+1-(12*v.getFullYear()+1*v.getMonth()+1))/_-1);return S>=0&&(v.setDate(1),v.setMonth(v.getMonth()+S*_)),s.date[u](v,0,b)},this.date[u]=function(v,E,b,S){if(S?S++:S=1,S>12)return null;var D=new Date(v.valueOf());D.setDate(1),D.setMonth(D.getMonth()+E*_);var M=D.getMonth(),V=D.getFullYear();D.setDate(b.start_date.getDate()),c[3]&&s.date.day_week(D,c[2],c[3]);var F=s.config.recurring_overflow_instances;return D.getMonth()!=M&&F!="none"&&(D=F==="lastDay"?new Date(V,M+1,0,D.getHours(),D.getMinutes(),D.getSeconds(),D.getMilliseconds()):s.date[u](new Date(V,M+1,0),E||1,b,S)),D})}},s.repeat_date=function(p,o,c,u,_,y){u=u||this._min_date,_=_||this._max_date;var x=y||-1,v=new Date(p.start_date.valueOf()),E=v.getHours(),b=0;for(!p.rec_pattern&&p.rec_type&&(p.rec_pattern=p.rec_type.split("#")[0]),this.transpose_type(p.rec_pattern),v=s.date["transpose_"+p.rec_pattern](v,u,p);v&&(v<p.start_date||s._fix_daylight_saving_date(v,u,p,v,new Date(v.valueOf()+1e3*p.event_length)).valueOf()<=u.valueOf()||v.valueOf()+1e3*p.event_length<=u.valueOf());)v=this.date["add_"+p.rec_pattern](v,1,p);for(;v&&v<_&&v<p.end_date&&(x<0||b<x);){v.setHours(E);var S=s.config.occurrence_timestamp_in_utc?Date.UTC(v.getFullYear(),v.getMonth(),v.getDate(),v.getHours(),v.getMinutes(),v.getSeconds()):v.valueOf(),D=this._get_rec_marker(S,p.id);if(D)c&&(D.rec_type!="none"&&b++,o.push(D));else{var M=new Date(v.valueOf()+1e3*p.event_length),V=this._copy_event(p);if(V.text=p.text,V.start_date=v,V.event_pid=p.id,V.id=p.id+"#"+Math.round(S/1e3),V.end_date=M,V.end_date=s._fix_daylight_saving_date(V.start_date,V.end_date,p,v,V.end_date),V._timed=this.isOneDayEvent(V),!V._timed&&!this._table_view&&!this.config.multi_day)return;o.push(V),c||(this._events[V.id]=V,this._rec_temp.push(V)),b++}v=this.date["add_"+p.rec_pattern](v,1,p)}},s._fix_daylight_saving_date=function(p,o,c,u,_){var y=p.getTimezoneOffset()-o.getTimezoneOffset();return y?y>0?new Date(u.valueOf()+1e3*c.event_length-60*y*1e3):new Date(o.valueOf()-60*y*1e3):new Date(_.valueOf())},s.getRecDates=function(p,o){var c=zh(p)=="object"?p:s.getEvent(p),u=[];if(o=o||100,!c.rec_type)return[{start_date:c.start_date,end_date:c.end_date}];if(c.rec_type=="none")return[];s.repeat_date(c,u,!0,c.start_date,c.end_date,o);for(var _=[],y=0;y<u.length;y++)u[y].rec_type!="none"&&_.push({start_date:u[y].start_date,end_date:u[y].end_date});return _},s.getEvents=function(p,o){var c=[];for(var u in this._events){var _=this._events[u];if(_&&_.start_date<o&&_.end_date>p)if(_.rec_pattern){if(_.rec_pattern=="none")continue;var y=[];this.repeat_date(_,y,!0,p,o);for(var x=0;x<y.length;x++)!y[x].rec_pattern&&y[x].start_date<o&&y[x].end_date>p&&!this._rec_markers[y[x].id]&&c.push(y[x])}else this._is_virtual_event(_.id)||c.push(_)}return c},s.config.repeat_date="%m.%d.%Y",s.config.lightbox.sections=[{name:"description",map_to:"text",type:"textarea",focus:!0},{name:"recurring",type:"recurring",map_to:"rec_type",button:"recurring"},{name:"time",height:72,type:"time",map_to:"auto"}],s._copy_dummy=function(p){var o=new Date(this.start_date),c=new Date(this.end_date);this.start_date=o,this.end_date=c,this.event_length=this.event_pid=this.rec_pattern=this.rec_type=null},s.config.include_end_by=!1,s.config.lightbox_recurring="ask",s.attachEvent("onClearAll",function(){s._rec_markers={},s._rec_markers_pull={},s._rec_temp=[]})},serialize:function(s){var w=lt()(s);s.data_attributes=function(){var d=[],m=s._helpers.formatDate,p=w();for(var o in p){var c=p[o];for(var u in c)u.substr(0,1)!="_"&&d.push([u,u=="start_date"||u=="end_date"?m:null]);break}return d},s.toXML=function(d){var m=[],p=this.data_attributes(),o=w();for(var c in o){var u=o[c];m.push("<event>");for(var _=0;_<p.length;_++)m.push("<"+p[_][0]+"><![CDATA["+(p[_][1]?p[_][1](u[p[_][0]]):u[p[_][0]])+"]]></"+p[_][0]+">");m.push("</event>")}return(d||"")+"<data>"+m.join(`
`)+"</data>"},s._serialize_json_value=function(d){return d===null||typeof d=="boolean"?d=""+d:(d||d===0||(d=""),d='"'+d.toString().replace(/\n/g,"").replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'),d},s.toJSON=function(){return JSON.stringify(this.serialize())},s.toICal=function(d){var m=s.date.date_to_str("%Y%m%dT%H%i%s"),p=s.date.date_to_str("%Y%m%d"),o=[],c=w();for(var u in c){var _=c[u];o.push("BEGIN:VEVENT"),_._timed&&(_.start_date.getHours()||_.start_date.getMinutes())?o.push("DTSTART:"+m(_.start_date)):o.push("DTSTART:"+p(_.start_date)),_._timed&&(_.end_date.getHours()||_.end_date.getMinutes())?o.push("DTEND:"+m(_.end_date)):o.push("DTEND:"+p(_.end_date)),o.push("SUMMARY:"+_.text),o.push("END:VEVENT")}return`BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//dhtmlXScheduler//NONSGML v2.2//EN
DESCRIPTION:`+(d||"")+`
`+o.join(`
`)+`
END:VCALENDAR`}},timeline:function(s){Ti("Timeline",s.assert)},tooltip:function(s){var w=s._createDomEventScope(),d={};s.ext.tooltip=s.dhtmlXTooltip=s.tooltip=d,d.config={className:"dhtmlXTooltip scheduler_tooltip tooltip",timeout_to_display:50,timeout_to_hide:50,delta_x:15,delta_y:-20},d.tooltip=document.createElement("div"),d.tooltip.className=d.config.className,s._waiAria.tooltipAttr(d.tooltip),d.show=function(m,p){if(!this._mobile||s.config.touch_tooltip){var o=d,c=this.tooltip,u=c.style;o.tooltip.className=o.config.className;var _=this.position(m),y=m.target||m.srcElement;if(!this.isTooltip(y)){var x=_.x+(o.config.delta_x||0),v=_.y-(o.config.delta_y||0);u.visibility="hidden",u.right="",u.bottom="",u.left="0",u.top="0",s.config.rtl&&(c.className+=" dhtmlXTooltip_rtl"),this.tooltip.innerHTML=p,document.body.appendChild(this.tooltip);var E=this.tooltip.offsetWidth,b=this.tooltip.offsetHeight;if(document.documentElement.clientWidth-x-E<0?(u.left="",u.right=document.documentElement.clientWidth-x+2*(o.config.delta_x||0)+"px"):u.left=x<0?_.x+Math.abs(o.config.delta_x||0)+"px":x+"px",document.documentElement.clientHeight-v-b<0){var S=document.documentElement.clientHeight-v-2*(o.config.delta_y||0);S+b>document.documentElement.clientHeight?(v-=Math.abs(document.documentElement.clientHeight-v-b),v=Math.max(v,0),u.top=v+"px"):(u.bottom=S+"px",u.top="")}else u.top=v<0?_.y+Math.abs(o.config.delta_y||0)+"px":v+"px";s._waiAria.tooltipVisibleAttr(this.tooltip),u.visibility="visible",w.attach(this.tooltip,"mouseleave",function(D){for(var M=s.dhtmlXTooltip,V=D.relatedTarget;V!=s._obj&&V;)V=V.parentNode;V!=s._obj&&M.delay(M.hide,M,[],M.config.timeout_to_hide)}),s.callEvent("onTooltipDisplayed",[this.tooltip,this.tooltip.event_id])}}},d._clearTimeout=function(){this.tooltip._timeout_id&&clearTimeout(this.tooltip._timeout_id)},d.hide=function(){if(this.tooltip.parentNode){s._waiAria.tooltipHiddenAttr(this.tooltip);var m=this.tooltip.event_id;this.tooltip.event_id=null,w.detachAll(),this.tooltip.parentNode.removeChild(this.tooltip),s.callEvent("onAfterTooltip",[m])}this._clearTimeout()},d.delay=function(m,p,o,c){this._clearTimeout(),this.tooltip._timeout_id=setTimeout(function(){var u=m.apply(p,o);return m=p=o=null,u},c||this.config.timeout_to_display)},d.isTooltip=function(m){for(var p=!1;m&&!p;)p=m.className==this.tooltip.className,m=m.parentNode;return p},d.position=function(m){return{x:m.clientX,y:m.clientY}},s.attachEvent("onMouseMove",function(m,p){var o=p.target||p.srcElement,c=d,u=c.isTooltip(o),_=c.isTooltipTarget&&c.isTooltipTarget(o);if(m&&s.getState().editor_id!=m||u||_){var y,x;if(m||c.tooltip.event_id){var v=s.getEvent(m)||s.getEvent(c.tooltip.event_id);if(!v)return;if(c.tooltip.event_id=v.id,!(y=s.templates.tooltip_text(v.start_date,v.end_date,v)))return c.hide()}if(_&&(y=""),s.$env.isIE)for(var E in x={pageX:void 0,pageY:void 0,clientX:void 0,clientY:void 0,target:void 0,srcElement:void 0})x[E]=p[E];if(!s.callEvent("onBeforeTooltip",[m])||!y)return;c.delay(c.show,c,[x||p,y])}else c.delay(c.hide,c,[],c.config.timeout_to_hide)}),s.attachEvent("onBeforeDrag",function(){return d.hide(),!0}),s.attachEvent("onEventDeleted",function(){return d.hide(),!0}),s.attachEvent("onDestroy",function(){d.hide()})},treetimeline:function(s){Ti("Tree Timeline",s.assert)},units:function(s){Ti("Units",s.assert)},url:function(s){s._get_url_nav=function(){for(var w={},d=(document.location.hash||"").replace("#","").split(","),m=0;m<d.length;m++){var p=d[m].split("=");p.length==2&&(w[p[0]]=p[1])}return w},s.attachEvent("onTemplatesReady",function(){var w=!0,d=s.date.str_to_date("%Y-%m-%d"),m=s.date.date_to_str("%Y-%m-%d"),p=s._get_url_nav().event||null;function o(c){p=c,s.getEvent(c)&&s.showEvent(c)}s.attachEvent("onAfterEventDisplay",function(c){return p=null,!0}),s.attachEvent("onBeforeViewChange",function(c,u,_,y){if(w){w=!1;var x=s._get_url_nav();if(x.event)try{if(s.getEvent(x.event))return setTimeout(function(){o(x.event)}),!1;var v=s.attachEvent("onXLE",function(){setTimeout(function(){o(x.event)}),s.detachEvent(v)})}catch{}if(x.date||x.mode){try{this.setCurrentView(x.date?d(x.date):null,x.mode||null)}catch{this.setCurrentView(x.date?d(x.date):null,_)}return!1}}var E=["date="+m(y||u),"mode="+(_||c)];p&&E.push("event="+p);var b="#"+E.join(",");return document.location.hash=b,!0})})},week_agenda:function(s){Ti("Week Agenda",s.assert)},wp:function(s){s.attachEvent("onLightBox",function(){if(this._cover)try{this._cover.style.height=this.expanded?"100%":(document.body.parentNode||document.body).scrollHeight+"px"}catch{}}),s.form_blocks.select.set_value=function(w,d,m){d!==void 0&&d!==""||(d=(w.firstChild.options[0]||{}).value),w.firstChild.value=d||""}},year_view:function(s){s.config.year_x=4,s.config.year_y=3,s.xy.year_top=0,s.templates.year_date=function(u){return s.date.date_to_str(s.locale.labels.year_tab+" %Y")(u)},s.templates.year_month=s.date.date_to_str("%F"),s.templates.year_scale_date=s.date.date_to_str("%D"),s.templates.year_tooltip=function(u,_,y){return y.text};var w=function(){return s._mode=="year"};s.dblclick_dhx_month_head=function(u){if(w()){var _=u.target||u.srcElement,y=s._getClassName(_.parentNode);if(y.indexOf("dhx_before")!=-1||y.indexOf("dhx_after")!=-1)return!1;for(var x=_;x&&(!x.hasAttribute||!x.hasAttribute("date"));)x=x.parentNode;if(x){var v=this._helpers.parseDate(x.getAttribute("date"));v.setDate(parseInt(_.innerHTML,10));var E=this.date.add(v,1,"day");!this.config.readonly&&this.config.dblclick_create&&this.addEventNow(v.valueOf(),E.valueOf(),u)}}};var d=s.changeEventId;s.changeEventId=function(){d.apply(this,arguments),w()&&this.year_view(!0)};var m=s.render_data;s.render_data=function(u){if(!w())return m.apply(this,arguments);for(var _=0;_<u.length;_++)this._year_render_event(u[_])};var p=s.clear_view;s.clear_view=function(){if(!w())return p.apply(this,arguments);var u=s._year_marked_cells,_=null;for(var y in u)u.hasOwnProperty(y)&&((_=u[y]).className="dhx_month_head",_.removeAttribute("date"));s._year_marked_cells={}},s._hideToolTip=function(){this._tooltip&&(this._tooltip.style.display="none",this._tooltip.date=new Date(9999,1,1))},s._showToolTip=function(u,_,y,x){if(this._tooltip){if(this._tooltip.date.valueOf()==u.valueOf())return;this._tooltip.innerHTML=""}else{var v=this._tooltip=document.createElement("div");v.className="dhx_year_tooltip",this.config.rtl&&(v.className+=" dhx_tooltip_rtl"),document.body.appendChild(v),v.addEventListener("click",s._click.dhx_cal_data)}for(var E=this.getEvents(u,this.date.add(u,1,"day")),b="",S=0;S<E.length;S++){var D=E[S];if(this.filter_event(D.id,D)){var M=D.color?"background:"+D.color+";":"",V=D.textColor?"color:"+D.textColor+";":"";b+="<div class='dhx_tooltip_line' style='"+M+V+"' event_id='"+E[S].id+"' "+this.config.event_attribute+"='"+E[S].id+"'>",b+="<div class='dhx_tooltip_date' style='"+M+V+"'>"+(E[S]._timed?this.templates.event_date(E[S].start_date):"")+"</div>",b+="<div class='dhx_event_icon icon_details'>&nbsp;</div>",b+=this.templates.year_tooltip(E[S].start_date,E[S].end_date,E[S])+"</div>"}}this._tooltip.style.display="",this._tooltip.style.top="0px",document.body.offsetWidth-_.left-this._tooltip.offsetWidth<0?this._tooltip.style.left=_.left-this._tooltip.offsetWidth+"px":this._tooltip.style.left=_.left+x.offsetWidth+"px",this._tooltip.date=u,this._tooltip.innerHTML=b,document.body.offsetHeight-_.top-this._tooltip.offsetHeight<0?this._tooltip.style.top=_.top-this._tooltip.offsetHeight+x.offsetHeight+"px":this._tooltip.style.top=_.top+"px"},s._year_view_tooltip_handler=function(u){if(w()){var _=u.target||u.srcElement;_.tagName.toLowerCase()=="a"&&(_=_.parentNode),s._getClassName(_).indexOf("dhx_year_event")!=-1?s._showToolTip(s.templates.parse_date(_.getAttribute("data-year-date")),s.$domHelpers.getOffset(_),u,_):s._hideToolTip()}},s._init_year_tooltip=function(){s._detachDomEvent(s._els.dhx_cal_data[0],"mouseover",s._year_view_tooltip_handler),s.event(s._els.dhx_cal_data[0],"mouseover",s._year_view_tooltip_handler)},s._get_year_cell=function(u){var _=u.getMonth()+12*(u.getFullYear()-this._min_date.getFullYear())-this.week_starts._month,y=this._els.dhx_cal_data[0].childNodes[_],x=this.week_starts[_]+u.getDate()-1;return y.querySelectorAll(".dhx_year_body tr")[Math.floor(x/7)].querySelectorAll("td")[x%7].querySelector(".dhx_month_head")},s._year_marked_cells={},s._mark_year_date=function(u,_){var y=s.templates.format_date(u),x=this._get_year_cell(u);if(x){var v=this.templates.event_class(_.start_date,_.end_date,_);s._year_marked_cells[y]||(x.className="dhx_month_head dhx_year_event",x.setAttribute("data-year-date",y),x.setAttribute("date",y),s._year_marked_cells[y]=x),x.className+=v?" "+v:""}},s._unmark_year_date=function(u){var _=this._get_year_cell(u);_&&(_.className="dhx_month_head")},s._year_render_event=function(u){var _=u.start_date;for(_=_.valueOf()<this._min_date.valueOf()?this._min_date:this.date.date_part(new Date(_));_<u.end_date;)if(this._mark_year_date(_,u),(_=this.date.add(_,1,"day")).valueOf()>=this._max_date.valueOf())return},s.year_view=function(u){var _;if(u&&(_=s.xy.scale_height,s.xy.scale_height=-1),s._els.dhx_cal_header[0].style.display=u?"none":"",s.set_sizes(),u&&(s.xy.scale_height=_),s._table_view=u,!this._load_mode||!this._load())if(u){if(s._init_year_tooltip(),s._reset_year_scale(),s._load_mode&&s._load())return void(s._render_wait=!0);s.render_view_data()}else s._hideToolTip()},s._reset_year_scale=function(){this._cols=[],this._colsS={};var u=[],_=this._els.dhx_cal_data[0],y=this.config;_.scrollTop=0,_.innerHTML="";var x=Math.floor(parseInt(_.style.width)/y.year_x),v=Math.floor((parseInt(_.style.height)-s.xy.year_top)/y.year_y);v<190&&(v=190,x=Math.floor((parseInt(_.style.width)-s.xy.scroll_width)/y.year_x));var E=x-11,b=0,S=document.createElement("div"),D=this.date.week_start(s._currentDate());this._process_ignores(D,7,"day",1);for(var M=7-(this._ignores_detected||0),V=0,F=0;F<7;F++)this._ignores&&this._ignores[F]||(this._cols[F]=Math.floor(E/(M-V)),this._render_x_header(F,b,D,S),E-=this._cols[F],b+=this._cols[F],V++),D=this.date.add(D,1,"day");for(S.lastChild.className+=" dhx_scale_bar_last",F=0;F<S.childNodes.length;F++)this._waiAria.yearHeadCell(S.childNodes[F]);var B=this.date[this._mode+"_start"](this.date.copy(this._date)),Q=B,re=null;for(F=0;F<y.year_y;F++)for(var K=0;K<y.year_x;K++){(re=document.createElement("div")).className="dhx_year_box",re.style.cssText="position:absolute;",re.setAttribute("date",this._helpers.formatDate(B)),re.innerHTML="<div class='dhx_year_month'></div><div class='dhx_year_grid'><div class='dhx_year_week'>"+S.innerHTML+"</div><div class='dhx_year_body'></div></div>";var ie=re.querySelector(".dhx_year_month"),G=re.querySelector(".dhx_year_grid"),te=re.querySelector(".dhx_year_week"),J=re.querySelector(".dhx_year_body"),we=s.uid();this._waiAria.yearHeader(ie,we),this._waiAria.yearGrid(G,we),ie.innerHTML=this.templates.year_month(B);var Ce=this.date.week_start(B);this._reset_month_scale(J,B,Ce,6);for(var Ee=J.querySelectorAll("td"),Ie=0;Ie<Ee.length;Ie++)this._waiAria.yearDayCell(Ee[Ie]);_.appendChild(re),te.style.height=te.childNodes[0].offsetHeight+"px";var Ne=Math.round((v-190)/2);re.style.marginTop=Ne+"px",this.set_xy(re,x-10,v-Ne-10,x*K+5,v*F+5+s.xy.year_top),u[F*y.year_x+K]=(B.getDay()-(this.config.start_on_monday?1:0)+7)%7,B=this.date.add(B,1,"month")}var Ue=this._getNavDateElement();Ue&&(Ue.innerHTML=this.templates[this._mode+"_date"](Q,B,this._mode)),this.week_starts=u,u._month=Q.getMonth(),this._min_date=Q,this._max_date=B};var o=s.getActionData;s.getActionData=function(u){if(!w())return o.apply(s,arguments);var _=u.target,y=s._get_year_month_date(_),x=s._get_year_month_cell(_),v=s._get_year_day_indexes(x);return v&&y?(y=s.date.add(y,v.week,"week"),y=s.date.add(y,v.day,"day")):y=null,{date:y,section:null}},s._get_year_day_indexes=function(u){var _=s._get_year_el_node(u,this._locate_year_month_table);if(!_)return null;for(var y=0,x=0,v=(y=0,_.rows.length);y<v;y++){for(var E=_.rows[y].getElementsByTagName("td"),b=(x=0,E.length);x<b&&E[x]!=u;x++);if(x<b)break}return y<v?{day:x,week:y}:null},s._get_year_month_date=function(u){if(!(u=s._get_year_el_node(u,s._locate_year_month_root)))return null;var _=u.getAttribute("data-year-date");return _?s.date.week_start(s.date.month_start(s.templates.parse_date(_))):null},s._locate_year_month_day=function(u){return s._getClassName(u).indexOf("dhx_year_event")!=-1&&u.hasAttribute&&u.hasAttribute("data-year-date")};var c=s._locate_event;s._locate_event=function(u){var _=c.apply(s,arguments);if(!_){var y=s._get_year_el_node(u,s._locate_year_month_day);if(!y||!y.hasAttribute("data-year-date"))return null;var x=s.templates.parse_date(y.getAttribute("data-year-date")),v=s.getEvents(x,s.date.add(x,1,"day"));if(!v.length)return null;_=v[0].id}return _},s._locate_year_month_cell=function(u){return u.nodeName.toLowerCase()=="td"},s._locate_year_month_table=function(u){return u.nodeName.toLowerCase()=="table"},s._locate_year_month_root=function(u){return u.hasAttribute&&u.hasAttribute("data-year-date")},s._get_year_month_cell=function(u){return this._get_year_el_node(u,this._locate_year_month_cell)},s._get_year_month_table=function(u){return this._get_year_el_node(u,this._locate_year_month_table)},s._get_year_month_root=function(u){return this._get_year_el_node(this._get_year_month_table(u),this._locate_year_month_root)},s._get_year_el_node=function(u,_){for(;u&&!_(u);)u=u.parentNode;return u},s.attachEvent("onDestroy",function(){s._hideToolTip()})}}),jc=Hh.getSchedulerInstance(),uv={plugin:jc.bind(Hh.plugin,Hh)};window.scheduler=jc,window.Scheduler=uv,r.default=jc}])})})(Nz);const Po=window.scheduler,Dz=Qe.now().toFormat("y, L, d");class Iz extends ae.exports.Component{componentDidMount(){Po.skin="material",Po.config.header=["day","week","month","date","prev","today","next"];const{events:e}=this.props;Po.init(this.schedulerContainer,Dz),Po.clearAll(),Po.parse(e)}render(){return P("div",{ref:e=>{this.schedulerContainer=e},style:{width:"100%",height:"720px"}})}}const Az=()=>{const{user:t}=Sn(),[e,n]=ae.exports.useState([]),[r,i]=ae.exports.useState(!0);return ae.exports.useEffect(()=>{const a=$t(),l=nr(a,`Users/${t.uid}/mySchedule`);xi(l).then(h=>{const f=h.docs.map(k=>({...k.data()})),g=[];f.forEach(k=>{Object.keys(k).forEach(T=>{if(k[T].reprogramed===!1){const I=k[T].date,L=k[T].dateEnd,N=I.toDate(),R=L.toDate();let O="";t.role==="teacher"?O=`Alumno: ${k[T].studentName} ${k[T].studentLastName}`:O=`Profesor: ${k[T].teacherName} ${k[T].teacherLastName}`,g.push({start_date:N,end_date:R,text:O})}})}),n(g),i(!1)})},[t]),r?P("h5",{children:"loading..."}):P("div",{children:P("div",{className:"scheduler-container",children:P(Iz,{events:e})})})};const Oz=({info:t})=>{const{user:e}=Sn(),[n,r]=ae.exports.useState(t.checked),i=t.timeStamp.toDate().toString(),a=async()=>{r(!n);try{const l=$t(),h=nt(l,`Users/${e.uid}`);await Et(h,{notifications:ln(-1)});const f=nt(l,`Users/${e.uid}/myNotifications/${t.id}`);await Et(f,{checked:!0})}catch(l){swal("UPS!",`${l.message}`,"error")}};return P("div",{className:"notification_container",children:ee("div",{className:"notification_card",children:[ee("p",{className:"notification_type",children:[" ",t.notificationType," "]}),ee("p",{className:"notification_info",children:[" ",t.textNotification," "]}),ee("p",{className:"notification_date",children:[" ",i," "]}),!n&&P("button",{className:"notification_button",onClick:a,children:"Visto"})]})})},Mz=({notificaciones:t=[]})=>(t.sort((e,n)=>e.timeStamp>n.timeStamp?-1:e.timeStamp<n.timeStamp?1:0),t.map(e=>P(Oz,{info:e},e.id)));const Pz=()=>{const{user:t}=Sn(),[e,n]=ae.exports.useState([]);return ae.exports.useEffect(()=>{const r=$t(),i=nr(r,`Users/${t.uid}/myNotifications`);xi(i).then(a=>n(a.docs.map(l=>({id:l.id,...l.data()}))))},[t]),P("div",{className:"notification_body",children:P(Mz,{notificaciones:e})})};const Lz=({teacher:t,durationClass:e,newDate:n})=>{const r=[],i=t.disponibility;let a=0;switch(e){case 30:a=2;break;case 50:a=3;break}return t.teacherWeek.map((l,h)=>{let f=i[l.day];const g=l.timeStartDate,k=l.timeEndDate,T=g.toDate(),C=k.toDate(),I=T.getUTCHours(),L=T.getUTCMinutes(),N=I.toString().padStart(2,"0"),R=L.toString().padStart(2,"0"),O=`${N}:${R}`,A=C.getUTCHours(),$=C.getUTCMinutes(),U=A.toString().padStart(2,"0"),j=$.toString().padStart(2,"0"),H=`${U}:${j}`;function z(q,Y,Z){let X=!0;for(let ce=0;ce<Y;ce++){let[de,Ae]=q.split(":");if(Ae=Number(Ae)+15,Ae>=60&&(Ae=Ae-60,de=Number(de)+1,de<10&&(de="0"+de),Ae<10&&(Ae="0"+Ae),de===24&&(de="00")),q=`${de}:${Ae}`,X=Z[q],!X)break}return X}let W=O;for(;W!==H;){if(f[W]&&z(W,a,f)){const[Z,X]=W.split(":"),ce=parseInt(Z),de=parseInt(X),Ae=new Date(Date.UTC(2022,1,1,ce,de)),ge={day:l.day,time:Ae};r.push(ge)}let[q,Y]=W.split(":");Y=Number(Y)+15,Y>=60&&(Y=Y-60,q=Number(q)+1,q<10&&(q="0"+q),Y<10&&(Y="0"+Y),q===24&&(q="00")),W=`${q}:${Y}`}}),P("div",{children:r.map((l,h)=>{const f=l.time,g=f.getHours(),k=f.getMinutes(),T=g.toString().padStart(2,"0"),C=k.toString().padStart(2,"0");return P("div",{className:"listaHorarios_container",children:ee("div",{className:"listaHorarios_card",children:[ee("div",{className:"listaHorarios_data",children:[ee("p",{className:"listaHorarios_dia",children:[l.day,":"]}),ee("p",{className:"listaHorarios_hora",children:[T,":",C," HS"]})]}),P("button",{className:"listaHorarios_button",onClick:()=>{n(l.day,l.time)},children:"Seleccionar"})]})},h)})})};const Rz=()=>{const[t,e]=ae.exports.useState(!1),{user:n}=Sn(),[r,i]=ae.exports.useState(),[a,l]=ae.exports.useState(),h=n.misClases.actualClass,f=n.misClases.durationClass,g=n.misClases.teacherUid;let k=[];const T=[],C=Wn();async function I(N){const R=$t(),O=nt(R,`Users/${N}`),$=(await Xs(O)).data(),U=nr(R,`Users/${n.uid}/mySchedule`);return xi(U).then(j=>{l(j.docs.map(H=>({id:H.id,...H.data()})))}),$}ae.exports.useEffect(()=>{I(g).then(N=>{const R={disponibility:N.disponibility,teacherWeek:N.weekDisponibility};i(R)})},[]);const L=async(N,R)=>{e(!0);const A=a[0][h];let U=A.date.toDate();const j=(Pe,Je)=>{Pe.setDate(Pe.getDate()+Je)};let H=0,z=1,W=2,q=3,Y=4,Z=5,X=6;const ce=U.getDay();switch(ce){case 0:j(U,0);break;case 1:j(U,-1);break;case 2:j(U,-2);break;case 3:j(U,-3);break;case 4:j(U,-4);break;case 5:j(U,-5);break;case 6:j(U,-6);break}const de=(Pe,Je,St,Vt)=>{j(U,Je);const lt=Pe,bt=U.getDate(),le=U.getMonth(),fn=U.getFullYear(),zt=lt.getHours(),ft=lt.getMinutes();let ne=new Date(fn,le,bt,zt,ft),fe=new Date(fn,le,bt,zt,ft);fe.setMinutes(fe.getMinutes()+Vt),ne.getDay()<=ce&&j(ne,7)&&j(fe,7),k={date:ne,dateEnd:fe,time:Pe,condition:"pending",linkToClass:"",teacherCalification:"",studentCalification:"",studentAssist:!1,reprogramed:!1,durationClass:A.durationClass,classNumber:St,calificationOfClass:"",studentName:A.studentName,studentLastName:A.studentLastName,studentUid:A.studentUid,studentEmail:A.studentEmail,teacherName:A.teacherName,teacherLastName:A.teacherLastName,teacherUid:A.teacherUid},j(U,-Je)},Ae=(Pe,Je)=>{Pe==="domingo"&&de(Je,H,A.classNumber,A.durationClass),Pe==="lunes"&&de(Je,z,A.classNumber,A.durationClass),Pe==="martes"&&de(Je,W,A.classNumber,A.durationClass),Pe==="miercoles"&&de(Je,q,A.classNumber,A.durationClass),Pe==="jueves"&&de(Je,Y,A.classNumber,A.durationClass),Pe==="viernes"&&de(Je,Z,A.classNumber,A.durationClass),Pe==="sabado"&&de(Je,X,A.classNumber,A.durationClass)};j(U,0),Ae(N,R);const ge=[];a.forEach(Pe=>Object.keys(Pe).forEach(Je=>ge.push(Pe[Je]))),ge.pop(),ge[A.classNumber].reprogramed=!0;let Ze=!1;for(let Pe=0;Pe<ge.length;Pe++){const Je=ge[Pe],St=Je.date.toDate();Ze?(Je.classNumber=Pe,T.push(Je)):St<k.date?T.push(Je):(k.classNumber=Pe,T.push(k),Je.classNumber=Pe,T.push(Je),Ze=!0)}const _e=$t(),he=nt(_e,`Users/${n.uid}`);await Et(he,{actualClass:ln(1),reprogramedThisMonth:ln(1)});const ke=nt(_e,`Users/${n.uid}/mySchedule/${a[0].id}`);await Et(ke,{...T});const ze=nt(_e,`Users/${A.teacherUid}/mySchedule/${n.uid}`);await Et(ze,{...T}),swal("Muy Bien","La clase fue reprogramada con exito","success"),C("/Panel")};if(r)return P("div",{children:t?P(rr,{}):ee(Jt,{children:[ee("div",{className:"reprogramar_title",children:[P("h5",{children:"REPROGRAMAR CLASE"}),P("p",{children:"Aqui veras una lista de los horarios disponibles para reprogramar tu clase, recuerda que solo puedes hacer esto 2 veces por mes"})]}),P("div",{children:P(Lz,{teacher:r,durationClass:f,newDate:L})})]})})},$z=({children:t})=>{const{userLogged:e}=ir(),{user:n}=Sn();return e?n.role==="teacher"||n.role==="alumn"?P(Ha,{to:"/"}):t:P(Ha,{to:"/signIn"})};function Fz(){return P(Jt,{children:P(CD,{children:P(t$,{children:ee(n$,{children:[P(l$,{}),ee(ED,{children:[P(Pn,{path:"/",element:P(VU,{})}),P(Pn,{path:"/signIn",element:P(WU,{})}),P(Pn,{path:"/signUp",element:P(WV,{})}),P(Pn,{path:"/Panel",element:P(kz,{})}),P(Pn,{path:"/Account/ReprogramClass",element:P(Rz,{})}),P(Pn,{path:"/Account/Teacher/MyStudents",element:P(Tz,{})}),P(Pn,{path:"/MiCalendario",element:P(Az,{})}),P(Pn,{path:"/Checkout",element:P(xS,{})}),P(Pn,{path:"/MisNotificaciones",element:P(Pz,{})}),P(Pn,{path:"/account",element:P(GV,{children:P(ZV,{})})}),P(Pn,{path:"/Alumn",element:P(KV,{children:P(SC,{})})}),P(Pn,{path:"/Teacher",element:P(YV,{children:P(CC,{})})}),P(Pn,{path:"/Admin",element:P($z,{children:P(kC,{})})}),P(Pn,{path:"*",element:P("h1",{children:"404"})})]}),P(qU,{})]})})})})}Kf.createRoot(document.getElementById("root")).render(P(sa.StrictMode,{children:P(Fz,{})}));
