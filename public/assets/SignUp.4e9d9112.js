import{r as i,U as b,u as w,j as a,L as T,F,a as t,b as S,c as U,x as _,I as A,D as L,A as j,C as k}from"./index.27319e4d.js";import{D as $}from"./datetime.9ccb80d3.js";import{c as B}from"./SignIn.8b7ecd1c.js";import{C as E}from"./CountryDropdown.6b2f792f.js";const H=[{field:"Nombre",inNameId:"name",inType:"text"},{field:"Apellido",inNameId:"lastName",inType:"text"},{field:"Contrase\xF1a",inNameId:"password",inType:"password"},{field:"Email",inNameId:"email",inType:"email"},{field:"N\xFAmero De Contacto",inNameId:"phoneNumber",inType:"tel"}],q=()=>{const[n,c]=i.exports.useState({}),[d,o]=i.exports.useState(!1),[P,r]=i.exports.useState(""),{createUser:m}=b(),u=w();$.now().toFormat("DDDD - HH:mm:ss");const p=k(),[f,h]=i.exports.useState(),N=e=>{c({...n,[e.target.name]:e.target.value})},g=e=>{h(e)},C={role:"alumn",remainingClases:0,completedClases:0,absentedClases:0,actualClass:0,newPurchasedClasses:0,totalClasses:0,teacher:"unasigned",newNotifications:!0,notifications:1,newbie:!0,durationClass:0,linkToClass:"",reprogramedThisMonth:0},I={textNotification:"Bienvenido a Navis!",notificationType:"Welcome",checked:!1},x=async e=>{e.preventDefault(),r(""),o(!0);try{const s=await m(n.email,n.password).then(D=>D),l=U(),y=_(l,`Users/${s.user.uid}`);A(y,{...n,country:f,...C,uid:s.user.uid});const v=L(l,`Users/${s.user.uid}/myNotifications`);j(v,{...I,timeStamp:p}),u("/panel")}catch(s){r(s.message),swal("UPS!",`${s.message}`,"error"),o(!1)}};return d?a(T,{}):a(F,{children:a("div",{className:"signIn__main-container",children:t("div",{className:"signIn__container",children:[t("form",{className:"signUp__form",onSubmit:x,children:[H.map((e,s)=>t("div",{children:[t("label",{htmlFor:e.inNameId,children:[e.field," :"]}),a("input",{type:e.inType,id:e.inNameId,name:e.inNameId,value:n[e.inNameId]||"",onChange:N})]},s)),a(E,{selected:g}),a("button",{type:"submit",children:"Crear Cuenta"})]}),t("div",{children:[t("div",{className:"signIn__tittleColumn",children:[t("p",{className:"signIn-logo",children:[a("img",{className:"cohete-navis",src:B,alt:"cohete.svg"}),a("i",{className:"fa-solid fa-user"})]}),a("p",{className:"signIn-tittle",children:"SignUp"})]}),t("p",{className:"subTittle",children:["\xBFYa tienes una cuenta?",a(S,{to:"/signIn",children:"Inicia sesi\xF3n."})]})]})]})})})};export{q as default};
