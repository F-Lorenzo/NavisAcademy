(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerpolicy&&(a.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?a.credentials="include":i.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function ZS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var oe={exports:{}},at={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wl=Symbol.for("react.element"),eC=Symbol.for("react.portal"),tC=Symbol.for("react.fragment"),nC=Symbol.for("react.strict_mode"),rC=Symbol.for("react.profiler"),iC=Symbol.for("react.provider"),aC=Symbol.for("react.context"),sC=Symbol.for("react.forward_ref"),oC=Symbol.for("react.suspense"),lC=Symbol.for("react.memo"),cC=Symbol.for("react.lazy"),Bg=Symbol.iterator;function uC(t){return t===null||typeof t!="object"?null:(t=Bg&&t[Bg]||t["@@iterator"],typeof t=="function"?t:null)}var rb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ib=Object.assign,ab={};function Qs(t,e,n){this.props=t,this.context=e,this.refs=ab,this.updater=n||rb}Qs.prototype.isReactComponent={};Qs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Qs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function sb(){}sb.prototype=Qs.prototype;function gp(t,e,n){this.props=t,this.context=e,this.refs=ab,this.updater=n||rb}var vp=gp.prototype=new sb;vp.constructor=gp;ib(vp,Qs.prototype);vp.isPureReactComponent=!0;var qg=Array.isArray,ob=Object.prototype.hasOwnProperty,yp={current:null},lb={key:!0,ref:!0,__self:!0,__source:!0};function cb(t,e,n){var r,i={},a=null,l=null;if(e!=null)for(r in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(a=""+e.key),e)ob.call(e,r)&&!lb.hasOwnProperty(r)&&(i[r]=e[r]);var h=arguments.length-2;if(h===1)i.children=n;else if(1<h){for(var p=Array(h),v=0;v<h;v++)p[v]=arguments[v+2];i.children=p}if(t&&t.defaultProps)for(r in h=t.defaultProps,h)i[r]===void 0&&(i[r]=h[r]);return{$$typeof:Wl,type:t,key:a,ref:l,props:i,_owner:yp.current}}function dC(t,e){return{$$typeof:Wl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function bp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Wl}function hC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Wg=/\/+/g;function Lh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?hC(""+t.key):e.toString(36)}function uu(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case Wl:case eC:l=!0}}if(l)return l=t,i=i(l),t=r===""?"."+Lh(l,0):r,qg(i)?(n="",t!=null&&(n=t.replace(Wg,"$&/")+"/"),uu(i,e,n,"",function(v){return v})):i!=null&&(bp(i)&&(i=dC(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(Wg,"$&/")+"/")+t)),e.push(i)),1;if(l=0,r=r===""?".":r+":",qg(t))for(var h=0;h<t.length;h++){a=t[h];var p=r+Lh(a,h);l+=uu(a,e,n,p,i)}else if(p=uC(t),typeof p=="function")for(t=p.call(t),h=0;!(a=t.next()).done;)a=a.value,p=r+Lh(a,h++),l+=uu(a,e,n,p,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function Oc(t,e,n){if(t==null)return t;var r=[],i=0;return uu(t,r,"","",function(a){return e.call(n,a,i++)}),r}function fC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var $n={current:null},du={transition:null},_C={ReactCurrentDispatcher:$n,ReactCurrentBatchConfig:du,ReactCurrentOwner:yp};at.Children={map:Oc,forEach:function(t,e,n){Oc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Oc(t,function(){e++}),e},toArray:function(t){return Oc(t,function(e){return e})||[]},only:function(t){if(!bp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};at.Component=Qs;at.Fragment=tC;at.Profiler=rC;at.PureComponent=gp;at.StrictMode=nC;at.Suspense=oC;at.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_C;at.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ib({},t.props),i=t.key,a=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,l=yp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var h=t.type.defaultProps;for(p in e)ob.call(e,p)&&!lb.hasOwnProperty(p)&&(r[p]=e[p]===void 0&&h!==void 0?h[p]:e[p])}var p=arguments.length-2;if(p===1)r.children=n;else if(1<p){h=Array(p);for(var v=0;v<p;v++)h[v]=arguments[v+2];r.children=h}return{$$typeof:Wl,type:t.type,key:i,ref:a,props:r,_owner:l}};at.createContext=function(t){return t={$$typeof:aC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:iC,_context:t},t.Consumer=t};at.createElement=cb;at.createFactory=function(t){var e=cb.bind(null,t);return e.type=t,e};at.createRef=function(){return{current:null}};at.forwardRef=function(t){return{$$typeof:sC,render:t}};at.isValidElement=bp;at.lazy=function(t){return{$$typeof:cC,_payload:{_status:-1,_result:t},_init:fC}};at.memo=function(t,e){return{$$typeof:lC,type:t,compare:e===void 0?null:e}};at.startTransition=function(t){var e=du.transition;du.transition={};try{t()}finally{du.transition=e}};at.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};at.useCallback=function(t,e){return $n.current.useCallback(t,e)};at.useContext=function(t){return $n.current.useContext(t)};at.useDebugValue=function(){};at.useDeferredValue=function(t){return $n.current.useDeferredValue(t)};at.useEffect=function(t,e){return $n.current.useEffect(t,e)};at.useId=function(){return $n.current.useId()};at.useImperativeHandle=function(t,e,n){return $n.current.useImperativeHandle(t,e,n)};at.useInsertionEffect=function(t,e){return $n.current.useInsertionEffect(t,e)};at.useLayoutEffect=function(t,e){return $n.current.useLayoutEffect(t,e)};at.useMemo=function(t,e){return $n.current.useMemo(t,e)};at.useReducer=function(t,e,n){return $n.current.useReducer(t,e,n)};at.useRef=function(t){return $n.current.useRef(t)};at.useState=function(t){return $n.current.useState(t)};at.useSyncExternalStore=function(t,e,n){return $n.current.useSyncExternalStore(t,e,n)};at.useTransition=function(){return $n.current.useTransition()};at.version="18.2.0";(function(t){t.exports=at})(oe);const La=ZS(oe.exports);var Ff={},ub={exports:{}},ar={},db={exports:{}},hb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(fe,ve){var Ne=fe.length;fe.push(ve);e:for(;0<Ne;){var Ve=Ne-1>>>1,Ye=fe[Ve];if(0<i(Ye,ve))fe[Ve]=ve,fe[Ne]=Ye,Ne=Ve;else break e}}function n(fe){return fe.length===0?null:fe[0]}function r(fe){if(fe.length===0)return null;var ve=fe[0],Ne=fe.pop();if(Ne!==ve){fe[0]=Ne;e:for(var Ve=0,Ye=fe.length,Ht=Ye>>>1;Ve<Ht;){var Rt=2*(Ve+1)-1,gn=fe[Rt],mt=Rt+1,Jt=fe[mt];if(0>i(gn,Ne))mt<Ye&&0>i(Jt,gn)?(fe[Ve]=Jt,fe[mt]=Ne,Ve=mt):(fe[Ve]=gn,fe[Rt]=Ne,Ve=Rt);else if(mt<Ye&&0>i(Jt,Ne))fe[Ve]=Jt,fe[mt]=Ne,Ve=mt;else break e}}return ve}function i(fe,ve){var Ne=fe.sortIndex-ve.sortIndex;return Ne!==0?Ne:fe.id-ve.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,h=l.now();t.unstable_now=function(){return l.now()-h}}var p=[],v=[],S=1,N=null,C=3,A=!1,R=!1,D=!1,L=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function F(fe){for(var ve=n(v);ve!==null;){if(ve.callback===null)r(v);else if(ve.startTime<=fe)r(v),ve.sortIndex=ve.expirationTime,e(p,ve);else break;ve=n(v)}}function z(fe){if(D=!1,F(fe),!R)if(n(p)!==null)R=!0,ke(j);else{var ve=n(v);ve!==null&&rt(z,ve.startTime-fe)}}function j(fe,ve){R=!1,D&&(D=!1,I(B),B=-1),A=!0;var Ne=C;try{for(F(ve),N=n(p);N!==null&&(!(N.expirationTime>ve)||fe&&!te());){var Ve=N.callback;if(typeof Ve=="function"){N.callback=null,C=N.priorityLevel;var Ye=Ve(N.expirationTime<=ve);ve=t.unstable_now(),typeof Ye=="function"?N.callback=Ye:N===n(p)&&r(p),F(ve)}else r(p);N=n(p)}if(N!==null)var Ht=!0;else{var Rt=n(v);Rt!==null&&rt(z,Rt.startTime-ve),Ht=!1}return Ht}finally{N=null,C=Ne,A=!1}}var W=!1,H=null,B=-1,K=5,Y=-1;function te(){return!(t.unstable_now()-Y<K)}function Z(){if(H!==null){var fe=t.unstable_now();Y=fe;var ve=!0;try{ve=H(!0,fe)}finally{ve?ue():(W=!1,H=null)}}else W=!1}var ue;if(typeof M=="function")ue=function(){M(Z)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,je=xe.port2;xe.port1.onmessage=Z,ue=function(){je.postMessage(null)}}else ue=function(){L(Z,0)};function ke(fe){H=fe,W||(W=!0,ue())}function rt(fe,ve){B=L(function(){fe(t.unstable_now())},ve)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(fe){fe.callback=null},t.unstable_continueExecution=function(){R||A||(R=!0,ke(j))},t.unstable_forceFrameRate=function(fe){0>fe||125<fe?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<fe?Math.floor(1e3/fe):5},t.unstable_getCurrentPriorityLevel=function(){return C},t.unstable_getFirstCallbackNode=function(){return n(p)},t.unstable_next=function(fe){switch(C){case 1:case 2:case 3:var ve=3;break;default:ve=C}var Ne=C;C=ve;try{return fe()}finally{C=Ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(fe,ve){switch(fe){case 1:case 2:case 3:case 4:case 5:break;default:fe=3}var Ne=C;C=fe;try{return ve()}finally{C=Ne}},t.unstable_scheduleCallback=function(fe,ve,Ne){var Ve=t.unstable_now();switch(typeof Ne=="object"&&Ne!==null?(Ne=Ne.delay,Ne=typeof Ne=="number"&&0<Ne?Ve+Ne:Ve):Ne=Ve,fe){case 1:var Ye=-1;break;case 2:Ye=250;break;case 5:Ye=1073741823;break;case 4:Ye=1e4;break;default:Ye=5e3}return Ye=Ne+Ye,fe={id:S++,callback:ve,priorityLevel:fe,startTime:Ne,expirationTime:Ye,sortIndex:-1},Ne>Ve?(fe.sortIndex=Ne,e(v,fe),n(p)===null&&fe===n(v)&&(D?(I(B),B=-1):D=!0,rt(z,Ne-Ve))):(fe.sortIndex=Ye,e(p,fe),R||A||(R=!0,ke(j))),fe},t.unstable_shouldYield=te,t.unstable_wrapCallback=function(fe){var ve=C;return function(){var Ne=C;C=ve;try{return fe.apply(this,arguments)}finally{C=Ne}}}})(hb);(function(t){t.exports=hb})(db);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fb=oe.exports,rr=db.exports;function pe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _b=new Set,cl={};function Ja(t,e){Ls(t,e),Ls(t+"Capture",e)}function Ls(t,e){for(cl[t]=e,t=0;t<e.length;t++)_b.add(e[t])}var li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Uf=Object.prototype.hasOwnProperty,pC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Gg={},Kg={};function mC(t){return Uf.call(Kg,t)?!0:Uf.call(Gg,t)?!1:pC.test(t)?Kg[t]=!0:(Gg[t]=!0,!1)}function gC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function vC(t,e,n,r){if(e===null||typeof e>"u"||gC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Fn(t,e,n,r,i,a,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=l}var hn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){hn[t]=new Fn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];hn[e]=new Fn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){hn[t]=new Fn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){hn[t]=new Fn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){hn[t]=new Fn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){hn[t]=new Fn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){hn[t]=new Fn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){hn[t]=new Fn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){hn[t]=new Fn(t,5,!1,t.toLowerCase(),null,!1,!1)});var wp=/[\-:]([a-z])/g;function xp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(wp,xp);hn[e]=new Fn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(wp,xp);hn[e]=new Fn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(wp,xp);hn[e]=new Fn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){hn[t]=new Fn(t,1,!1,t.toLowerCase(),null,!1,!1)});hn.xlinkHref=new Fn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){hn[t]=new Fn(t,1,!1,t.toLowerCase(),null,!0,!0)});function kp(t,e,n,r){var i=hn.hasOwnProperty(e)?hn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(vC(e,n,i,r)&&(n=null),r||i===null?mC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var vi=fb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Mc=Symbol.for("react.element"),ls=Symbol.for("react.portal"),cs=Symbol.for("react.fragment"),Ep=Symbol.for("react.strict_mode"),jf=Symbol.for("react.profiler"),pb=Symbol.for("react.provider"),mb=Symbol.for("react.context"),Sp=Symbol.for("react.forward_ref"),zf=Symbol.for("react.suspense"),Vf=Symbol.for("react.suspense_list"),Cp=Symbol.for("react.memo"),Ci=Symbol.for("react.lazy"),gb=Symbol.for("react.offscreen"),Yg=Symbol.iterator;function go(t){return t===null||typeof t!="object"?null:(t=Yg&&t[Yg]||t["@@iterator"],typeof t=="function"?t:null)}var It=Object.assign,Ph;function Oo(t){if(Ph===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ph=e&&e[1]||""}return`
`+Ph+t}var Rh=!1;function $h(t,e){if(!t||Rh)return"";Rh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(v){var r=v}Reflect.construct(t,[],e)}else{try{e.call()}catch(v){r=v}t.call(e.prototype)}else{try{throw Error()}catch(v){r=v}t()}}catch(v){if(v&&r&&typeof v.stack=="string"){for(var i=v.stack.split(`
`),a=r.stack.split(`
`),l=i.length-1,h=a.length-1;1<=l&&0<=h&&i[l]!==a[h];)h--;for(;1<=l&&0<=h;l--,h--)if(i[l]!==a[h]){if(l!==1||h!==1)do if(l--,h--,0>h||i[l]!==a[h]){var p=`
`+i[l].replace(" at new "," at ");return t.displayName&&p.includes("<anonymous>")&&(p=p.replace("<anonymous>",t.displayName)),p}while(1<=l&&0<=h);break}}}finally{Rh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Oo(t):""}function yC(t){switch(t.tag){case 5:return Oo(t.type);case 16:return Oo("Lazy");case 13:return Oo("Suspense");case 19:return Oo("SuspenseList");case 0:case 2:case 15:return t=$h(t.type,!1),t;case 11:return t=$h(t.type.render,!1),t;case 1:return t=$h(t.type,!0),t;default:return""}}function Hf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case cs:return"Fragment";case ls:return"Portal";case jf:return"Profiler";case Ep:return"StrictMode";case zf:return"Suspense";case Vf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case mb:return(t.displayName||"Context")+".Consumer";case pb:return(t._context.displayName||"Context")+".Provider";case Sp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Cp:return e=t.displayName||null,e!==null?e:Hf(t.type)||"Memo";case Ci:e=t._payload,t=t._init;try{return Hf(t(e))}catch{}}return null}function bC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Hf(e);case 8:return e===Ep?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ea(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function vb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function wC(t){var e=vb(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(l){r=""+l,a.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Lc(t){t._valueTracker||(t._valueTracker=wC(t))}function yb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=vb(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ou(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Bf(t,e){var n=e.checked;return It({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function Jg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ea(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function bb(t,e){e=e.checked,e!=null&&kp(t,"checked",e,!1)}function qf(t,e){bb(t,e);var n=ea(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Wf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Wf(t,e.type,ea(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Qg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Wf(t,e,n){(e!=="number"||Ou(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Mo=Array.isArray;function ks(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ea(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Gf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(pe(91));return It({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Xg(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(pe(92));if(Mo(n)){if(1<n.length)throw Error(pe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ea(n)}}function wb(t,e){var n=ea(e.value),r=ea(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Zg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function xb(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Kf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?xb(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Pc,kb=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Pc=Pc||document.createElement("div"),Pc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Pc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ul(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ho={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xC=["Webkit","ms","Moz","O"];Object.keys(Ho).forEach(function(t){xC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ho[e]=Ho[t]})});function Eb(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ho.hasOwnProperty(t)&&Ho[t]?(""+e).trim():e+"px"}function Sb(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Eb(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var kC=It({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Yf(t,e){if(e){if(kC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(pe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(pe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(pe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(pe(62))}}function Jf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qf=null;function Tp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Xf=null,Es=null,Ss=null;function ev(t){if(t=Yl(t)){if(typeof Xf!="function")throw Error(pe(280));var e=t.stateNode;e&&(e=Md(e),Xf(t.stateNode,t.type,e))}}function Cb(t){Es?Ss?Ss.push(t):Ss=[t]:Es=t}function Tb(){if(Es){var t=Es,e=Ss;if(Ss=Es=null,ev(t),e)for(t=0;t<e.length;t++)ev(e[t])}}function Nb(t,e){return t(e)}function Db(){}var Fh=!1;function Ib(t,e,n){if(Fh)return t(e,n);Fh=!0;try{return Nb(t,e,n)}finally{Fh=!1,(Es!==null||Ss!==null)&&(Db(),Tb())}}function dl(t,e){var n=t.stateNode;if(n===null)return null;var r=Md(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(pe(231,e,typeof n));return n}var Zf=!1;if(li)try{var vo={};Object.defineProperty(vo,"passive",{get:function(){Zf=!0}}),window.addEventListener("test",vo,vo),window.removeEventListener("test",vo,vo)}catch{Zf=!1}function EC(t,e,n,r,i,a,l,h,p){var v=Array.prototype.slice.call(arguments,3);try{e.apply(n,v)}catch(S){this.onError(S)}}var Bo=!1,Mu=null,Lu=!1,e_=null,SC={onError:function(t){Bo=!0,Mu=t}};function CC(t,e,n,r,i,a,l,h,p){Bo=!1,Mu=null,EC.apply(SC,arguments)}function TC(t,e,n,r,i,a,l,h,p){if(CC.apply(this,arguments),Bo){if(Bo){var v=Mu;Bo=!1,Mu=null}else throw Error(pe(198));Lu||(Lu=!0,e_=v)}}function Qa(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Ab(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function tv(t){if(Qa(t)!==t)throw Error(pe(188))}function NC(t){var e=t.alternate;if(!e){if(e=Qa(t),e===null)throw Error(pe(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return tv(i),t;if(a===r)return tv(i),e;a=a.sibling}throw Error(pe(188))}if(n.return!==r.return)n=i,r=a;else{for(var l=!1,h=i.child;h;){if(h===n){l=!0,n=i,r=a;break}if(h===r){l=!0,r=i,n=a;break}h=h.sibling}if(!l){for(h=a.child;h;){if(h===n){l=!0,n=a,r=i;break}if(h===r){l=!0,r=a,n=i;break}h=h.sibling}if(!l)throw Error(pe(189))}}if(n.alternate!==r)throw Error(pe(190))}if(n.tag!==3)throw Error(pe(188));return n.stateNode.current===n?t:e}function Ob(t){return t=NC(t),t!==null?Mb(t):null}function Mb(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Mb(t);if(e!==null)return e;t=t.sibling}return null}var Lb=rr.unstable_scheduleCallback,nv=rr.unstable_cancelCallback,DC=rr.unstable_shouldYield,IC=rr.unstable_requestPaint,Pt=rr.unstable_now,AC=rr.unstable_getCurrentPriorityLevel,Np=rr.unstable_ImmediatePriority,Pb=rr.unstable_UserBlockingPriority,Pu=rr.unstable_NormalPriority,OC=rr.unstable_LowPriority,Rb=rr.unstable_IdlePriority,Dd=null,Vr=null;function MC(t){if(Vr&&typeof Vr.onCommitFiberRoot=="function")try{Vr.onCommitFiberRoot(Dd,t,void 0,(t.current.flags&128)===128)}catch{}}var Dr=Math.clz32?Math.clz32:RC,LC=Math.log,PC=Math.LN2;function RC(t){return t>>>=0,t===0?32:31-(LC(t)/PC|0)|0}var Rc=64,$c=4194304;function Lo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ru(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,l=n&268435455;if(l!==0){var h=l&~i;h!==0?r=Lo(h):(a&=l,a!==0&&(r=Lo(a)))}else l=n&~i,l!==0?r=Lo(l):a!==0&&(r=Lo(a));if(r===0)return 0;if(e!==0&&e!==r&&(e&i)===0&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if((r&4)!==0&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Dr(e),i=1<<n,r|=t[n],e&=~i;return r}function $C(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function FC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var l=31-Dr(a),h=1<<l,p=i[l];p===-1?((h&n)===0||(h&r)!==0)&&(i[l]=$C(h,e)):p<=e&&(t.expiredLanes|=h),a&=~h}}function t_(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function $b(){var t=Rc;return Rc<<=1,(Rc&4194240)===0&&(Rc=64),t}function Uh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Gl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Dr(e),t[e]=n}function UC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Dr(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function Dp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Dr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var _t=0;function Fb(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var Ub,Ip,jb,zb,Vb,n_=!1,Fc=[],ji=null,zi=null,Vi=null,hl=new Map,fl=new Map,Di=[],jC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rv(t,e){switch(t){case"focusin":case"focusout":ji=null;break;case"dragenter":case"dragleave":zi=null;break;case"mouseover":case"mouseout":Vi=null;break;case"pointerover":case"pointerout":hl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":fl.delete(e.pointerId)}}function yo(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Yl(e),e!==null&&Ip(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function zC(t,e,n,r,i){switch(e){case"focusin":return ji=yo(ji,t,e,n,r,i),!0;case"dragenter":return zi=yo(zi,t,e,n,r,i),!0;case"mouseover":return Vi=yo(Vi,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return hl.set(a,yo(hl.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,fl.set(a,yo(fl.get(a)||null,t,e,n,r,i)),!0}return!1}function Hb(t){var e=xa(t.target);if(e!==null){var n=Qa(e);if(n!==null){if(e=n.tag,e===13){if(e=Ab(n),e!==null){t.blockedOn=e,Vb(t.priority,function(){jb(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function hu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=r_(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Qf=r,n.target.dispatchEvent(r),Qf=null}else return e=Yl(n),e!==null&&Ip(e),t.blockedOn=n,!1;e.shift()}return!0}function iv(t,e,n){hu(t)&&n.delete(e)}function VC(){n_=!1,ji!==null&&hu(ji)&&(ji=null),zi!==null&&hu(zi)&&(zi=null),Vi!==null&&hu(Vi)&&(Vi=null),hl.forEach(iv),fl.forEach(iv)}function bo(t,e){t.blockedOn===e&&(t.blockedOn=null,n_||(n_=!0,rr.unstable_scheduleCallback(rr.unstable_NormalPriority,VC)))}function _l(t){function e(i){return bo(i,t)}if(0<Fc.length){bo(Fc[0],t);for(var n=1;n<Fc.length;n++){var r=Fc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ji!==null&&bo(ji,t),zi!==null&&bo(zi,t),Vi!==null&&bo(Vi,t),hl.forEach(e),fl.forEach(e),n=0;n<Di.length;n++)r=Di[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Di.length&&(n=Di[0],n.blockedOn===null);)Hb(n),n.blockedOn===null&&Di.shift()}var Cs=vi.ReactCurrentBatchConfig,$u=!0;function HC(t,e,n,r){var i=_t,a=Cs.transition;Cs.transition=null;try{_t=1,Ap(t,e,n,r)}finally{_t=i,Cs.transition=a}}function BC(t,e,n,r){var i=_t,a=Cs.transition;Cs.transition=null;try{_t=4,Ap(t,e,n,r)}finally{_t=i,Cs.transition=a}}function Ap(t,e,n,r){if($u){var i=r_(t,e,n,r);if(i===null)Yh(t,e,r,Fu,n),rv(t,r);else if(zC(i,t,e,n,r))r.stopPropagation();else if(rv(t,r),e&4&&-1<jC.indexOf(t)){for(;i!==null;){var a=Yl(i);if(a!==null&&Ub(a),a=r_(t,e,n,r),a===null&&Yh(t,e,r,Fu,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Yh(t,e,r,null,n)}}var Fu=null;function r_(t,e,n,r){if(Fu=null,t=Tp(r),t=xa(t),t!==null)if(e=Qa(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Ab(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Fu=t,null}function Bb(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(AC()){case Np:return 1;case Pb:return 4;case Pu:case OC:return 16;case Rb:return 536870912;default:return 16}default:return 16}}var Ri=null,Op=null,fu=null;function qb(){if(fu)return fu;var t,e=Op,n=e.length,r,i="value"in Ri?Ri.value:Ri.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var l=n-t;for(r=1;r<=l&&e[n-r]===i[a-r];r++);return fu=i.slice(t,1<r?1-r:void 0)}function _u(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Uc(){return!0}function av(){return!1}function sr(t){function e(n,r,i,a,l){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=l,this.currentTarget=null;for(var h in t)t.hasOwnProperty(h)&&(n=t[h],this[h]=n?n(a):a[h]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Uc:av,this.isPropagationStopped=av,this}return It(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Uc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Uc)},persist:function(){},isPersistent:Uc}),e}var Xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mp=sr(Xs),Kl=It({},Xs,{view:0,detail:0}),qC=sr(Kl),jh,zh,wo,Id=It({},Kl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wo&&(wo&&t.type==="mousemove"?(jh=t.screenX-wo.screenX,zh=t.screenY-wo.screenY):zh=jh=0,wo=t),jh)},movementY:function(t){return"movementY"in t?t.movementY:zh}}),sv=sr(Id),WC=It({},Id,{dataTransfer:0}),GC=sr(WC),KC=It({},Kl,{relatedTarget:0}),Vh=sr(KC),YC=It({},Xs,{animationName:0,elapsedTime:0,pseudoElement:0}),JC=sr(YC),QC=It({},Xs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),XC=sr(QC),ZC=It({},Xs,{data:0}),ov=sr(ZC),eT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rT(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=nT[t])?!!e[t]:!1}function Lp(){return rT}var iT=It({},Kl,{key:function(t){if(t.key){var e=eT[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=_u(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?tT[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lp,charCode:function(t){return t.type==="keypress"?_u(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_u(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),aT=sr(iT),sT=It({},Id,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lv=sr(sT),oT=It({},Kl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lp}),lT=sr(oT),cT=It({},Xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),uT=sr(cT),dT=It({},Id,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),hT=sr(dT),fT=[9,13,27,32],Pp=li&&"CompositionEvent"in window,qo=null;li&&"documentMode"in document&&(qo=document.documentMode);var _T=li&&"TextEvent"in window&&!qo,Wb=li&&(!Pp||qo&&8<qo&&11>=qo),cv=String.fromCharCode(32),uv=!1;function Gb(t,e){switch(t){case"keyup":return fT.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var us=!1;function pT(t,e){switch(t){case"compositionend":return Kb(e);case"keypress":return e.which!==32?null:(uv=!0,cv);case"textInput":return t=e.data,t===cv&&uv?null:t;default:return null}}function mT(t,e){if(us)return t==="compositionend"||!Pp&&Gb(t,e)?(t=qb(),fu=Op=Ri=null,us=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Wb&&e.locale!=="ko"?null:e.data;default:return null}}var gT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function dv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!gT[t.type]:e==="textarea"}function Yb(t,e,n,r){Cb(r),e=Uu(e,"onChange"),0<e.length&&(n=new Mp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Wo=null,pl=null;function vT(t){sw(t,0)}function Ad(t){var e=fs(t);if(yb(e))return t}function yT(t,e){if(t==="change")return e}var Jb=!1;if(li){var Hh;if(li){var Bh="oninput"in document;if(!Bh){var hv=document.createElement("div");hv.setAttribute("oninput","return;"),Bh=typeof hv.oninput=="function"}Hh=Bh}else Hh=!1;Jb=Hh&&(!document.documentMode||9<document.documentMode)}function fv(){Wo&&(Wo.detachEvent("onpropertychange",Qb),pl=Wo=null)}function Qb(t){if(t.propertyName==="value"&&Ad(pl)){var e=[];Yb(e,pl,t,Tp(t)),Ib(vT,e)}}function bT(t,e,n){t==="focusin"?(fv(),Wo=e,pl=n,Wo.attachEvent("onpropertychange",Qb)):t==="focusout"&&fv()}function wT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ad(pl)}function xT(t,e){if(t==="click")return Ad(e)}function kT(t,e){if(t==="input"||t==="change")return Ad(e)}function ET(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Or=typeof Object.is=="function"?Object.is:ET;function ml(t,e){if(Or(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Uf.call(e,i)||!Or(t[i],e[i]))return!1}return!0}function _v(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function pv(t,e){var n=_v(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_v(n)}}function Xb(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Xb(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Zb(){for(var t=window,e=Ou();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ou(t.document)}return e}function Rp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function ST(t){var e=Zb(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Xb(n.ownerDocument.documentElement,n)){if(r!==null&&Rp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=pv(n,a);var l=pv(n,r);i&&l&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var CT=li&&"documentMode"in document&&11>=document.documentMode,ds=null,i_=null,Go=null,a_=!1;function mv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;a_||ds==null||ds!==Ou(r)||(r=ds,"selectionStart"in r&&Rp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Go&&ml(Go,r)||(Go=r,r=Uu(i_,"onSelect"),0<r.length&&(e=new Mp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ds)))}function jc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var hs={animationend:jc("Animation","AnimationEnd"),animationiteration:jc("Animation","AnimationIteration"),animationstart:jc("Animation","AnimationStart"),transitionend:jc("Transition","TransitionEnd")},qh={},ew={};li&&(ew=document.createElement("div").style,"AnimationEvent"in window||(delete hs.animationend.animation,delete hs.animationiteration.animation,delete hs.animationstart.animation),"TransitionEvent"in window||delete hs.transitionend.transition);function Od(t){if(qh[t])return qh[t];if(!hs[t])return t;var e=hs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ew)return qh[t]=e[n];return t}var tw=Od("animationend"),nw=Od("animationiteration"),rw=Od("animationstart"),iw=Od("transitionend"),aw=new Map,gv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function oa(t,e){aw.set(t,e),Ja(e,[t])}for(var Wh=0;Wh<gv.length;Wh++){var Gh=gv[Wh],TT=Gh.toLowerCase(),NT=Gh[0].toUpperCase()+Gh.slice(1);oa(TT,"on"+NT)}oa(tw,"onAnimationEnd");oa(nw,"onAnimationIteration");oa(rw,"onAnimationStart");oa("dblclick","onDoubleClick");oa("focusin","onFocus");oa("focusout","onBlur");oa(iw,"onTransitionEnd");Ls("onMouseEnter",["mouseout","mouseover"]);Ls("onMouseLeave",["mouseout","mouseover"]);Ls("onPointerEnter",["pointerout","pointerover"]);Ls("onPointerLeave",["pointerout","pointerover"]);Ja("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ja("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ja("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ja("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ja("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ja("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Po="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Po));function vv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,TC(r,e,void 0,t),t.currentTarget=null}function sw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var l=r.length-1;0<=l;l--){var h=r[l],p=h.instance,v=h.currentTarget;if(h=h.listener,p!==a&&i.isPropagationStopped())break e;vv(i,h,v),a=p}else for(l=0;l<r.length;l++){if(h=r[l],p=h.instance,v=h.currentTarget,h=h.listener,p!==a&&i.isPropagationStopped())break e;vv(i,h,v),a=p}}}if(Lu)throw t=e_,Lu=!1,e_=null,t}function wt(t,e){var n=e[u_];n===void 0&&(n=e[u_]=new Set);var r=t+"__bubble";n.has(r)||(ow(e,t,2,!1),n.add(r))}function Kh(t,e,n){var r=0;e&&(r|=4),ow(n,t,r,e)}var zc="_reactListening"+Math.random().toString(36).slice(2);function gl(t){if(!t[zc]){t[zc]=!0,_b.forEach(function(n){n!=="selectionchange"&&(DT.has(n)||Kh(n,!1,t),Kh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[zc]||(e[zc]=!0,Kh("selectionchange",!1,e))}}function ow(t,e,n,r){switch(Bb(e)){case 1:var i=HC;break;case 4:i=BC;break;default:i=Ap}n=i.bind(null,e,n,t),i=void 0,!Zf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Yh(t,e,n,r,i){var a=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var h=r.stateNode.containerInfo;if(h===i||h.nodeType===8&&h.parentNode===i)break;if(l===4)for(l=r.return;l!==null;){var p=l.tag;if((p===3||p===4)&&(p=l.stateNode.containerInfo,p===i||p.nodeType===8&&p.parentNode===i))return;l=l.return}for(;h!==null;){if(l=xa(h),l===null)return;if(p=l.tag,p===5||p===6){r=a=l;continue e}h=h.parentNode}}r=r.return}Ib(function(){var v=a,S=Tp(n),N=[];e:{var C=aw.get(t);if(C!==void 0){var A=Mp,R=t;switch(t){case"keypress":if(_u(n)===0)break e;case"keydown":case"keyup":A=aT;break;case"focusin":R="focus",A=Vh;break;case"focusout":R="blur",A=Vh;break;case"beforeblur":case"afterblur":A=Vh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":A=sv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":A=GC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":A=lT;break;case tw:case nw:case rw:A=JC;break;case iw:A=uT;break;case"scroll":A=qC;break;case"wheel":A=hT;break;case"copy":case"cut":case"paste":A=XC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":A=lv}var D=(e&4)!==0,L=!D&&t==="scroll",I=D?C!==null?C+"Capture":null:C;D=[];for(var M=v,F;M!==null;){F=M;var z=F.stateNode;if(F.tag===5&&z!==null&&(F=z,I!==null&&(z=dl(M,I),z!=null&&D.push(vl(M,z,F)))),L)break;M=M.return}0<D.length&&(C=new A(C,R,null,n,S),N.push({event:C,listeners:D}))}}if((e&7)===0){e:{if(C=t==="mouseover"||t==="pointerover",A=t==="mouseout"||t==="pointerout",C&&n!==Qf&&(R=n.relatedTarget||n.fromElement)&&(xa(R)||R[ci]))break e;if((A||C)&&(C=S.window===S?S:(C=S.ownerDocument)?C.defaultView||C.parentWindow:window,A?(R=n.relatedTarget||n.toElement,A=v,R=R?xa(R):null,R!==null&&(L=Qa(R),R!==L||R.tag!==5&&R.tag!==6)&&(R=null)):(A=null,R=v),A!==R)){if(D=sv,z="onMouseLeave",I="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(D=lv,z="onPointerLeave",I="onPointerEnter",M="pointer"),L=A==null?C:fs(A),F=R==null?C:fs(R),C=new D(z,M+"leave",A,n,S),C.target=L,C.relatedTarget=F,z=null,xa(S)===v&&(D=new D(I,M+"enter",R,n,S),D.target=F,D.relatedTarget=L,z=D),L=z,A&&R)t:{for(D=A,I=R,M=0,F=D;F;F=is(F))M++;for(F=0,z=I;z;z=is(z))F++;for(;0<M-F;)D=is(D),M--;for(;0<F-M;)I=is(I),F--;for(;M--;){if(D===I||I!==null&&D===I.alternate)break t;D=is(D),I=is(I)}D=null}else D=null;A!==null&&yv(N,C,A,D,!1),R!==null&&L!==null&&yv(N,L,R,D,!0)}}e:{if(C=v?fs(v):window,A=C.nodeName&&C.nodeName.toLowerCase(),A==="select"||A==="input"&&C.type==="file")var j=yT;else if(dv(C))if(Jb)j=kT;else{j=wT;var W=bT}else(A=C.nodeName)&&A.toLowerCase()==="input"&&(C.type==="checkbox"||C.type==="radio")&&(j=xT);if(j&&(j=j(t,v))){Yb(N,j,n,S);break e}W&&W(t,C,v),t==="focusout"&&(W=C._wrapperState)&&W.controlled&&C.type==="number"&&Wf(C,"number",C.value)}switch(W=v?fs(v):window,t){case"focusin":(dv(W)||W.contentEditable==="true")&&(ds=W,i_=v,Go=null);break;case"focusout":Go=i_=ds=null;break;case"mousedown":a_=!0;break;case"contextmenu":case"mouseup":case"dragend":a_=!1,mv(N,n,S);break;case"selectionchange":if(CT)break;case"keydown":case"keyup":mv(N,n,S)}var H;if(Pp)e:{switch(t){case"compositionstart":var B="onCompositionStart";break e;case"compositionend":B="onCompositionEnd";break e;case"compositionupdate":B="onCompositionUpdate";break e}B=void 0}else us?Gb(t,n)&&(B="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(B="onCompositionStart");B&&(Wb&&n.locale!=="ko"&&(us||B!=="onCompositionStart"?B==="onCompositionEnd"&&us&&(H=qb()):(Ri=S,Op="value"in Ri?Ri.value:Ri.textContent,us=!0)),W=Uu(v,B),0<W.length&&(B=new ov(B,t,null,n,S),N.push({event:B,listeners:W}),H?B.data=H:(H=Kb(n),H!==null&&(B.data=H)))),(H=_T?pT(t,n):mT(t,n))&&(v=Uu(v,"onBeforeInput"),0<v.length&&(S=new ov("onBeforeInput","beforeinput",null,n,S),N.push({event:S,listeners:v}),S.data=H))}sw(N,e)})}function vl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Uu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=dl(t,n),a!=null&&r.unshift(vl(t,a,i)),a=dl(t,e),a!=null&&r.push(vl(t,a,i))),t=t.return}return r}function is(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function yv(t,e,n,r,i){for(var a=e._reactName,l=[];n!==null&&n!==r;){var h=n,p=h.alternate,v=h.stateNode;if(p!==null&&p===r)break;h.tag===5&&v!==null&&(h=v,i?(p=dl(n,a),p!=null&&l.unshift(vl(n,p,h))):i||(p=dl(n,a),p!=null&&l.push(vl(n,p,h)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var IT=/\r\n?/g,AT=/\u0000|\uFFFD/g;function bv(t){return(typeof t=="string"?t:""+t).replace(IT,`
`).replace(AT,"")}function Vc(t,e,n){if(e=bv(e),bv(t)!==e&&n)throw Error(pe(425))}function ju(){}var s_=null,o_=null;function l_(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var c_=typeof setTimeout=="function"?setTimeout:void 0,OT=typeof clearTimeout=="function"?clearTimeout:void 0,wv=typeof Promise=="function"?Promise:void 0,MT=typeof queueMicrotask=="function"?queueMicrotask:typeof wv<"u"?function(t){return wv.resolve(null).then(t).catch(LT)}:c_;function LT(t){setTimeout(function(){throw t})}function Jh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),_l(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);_l(e)}function Hi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function xv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Zs=Math.random().toString(36).slice(2),jr="__reactFiber$"+Zs,yl="__reactProps$"+Zs,ci="__reactContainer$"+Zs,u_="__reactEvents$"+Zs,PT="__reactListeners$"+Zs,RT="__reactHandles$"+Zs;function xa(t){var e=t[jr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ci]||n[jr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=xv(t);t!==null;){if(n=t[jr])return n;t=xv(t)}return e}t=n,n=t.parentNode}return null}function Yl(t){return t=t[jr]||t[ci],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function fs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(pe(33))}function Md(t){return t[yl]||null}var d_=[],_s=-1;function la(t){return{current:t}}function Et(t){0>_s||(t.current=d_[_s],d_[_s]=null,_s--)}function vt(t,e){_s++,d_[_s]=t.current,t.current=e}var ta={},Cn=la(ta),Gn=la(!1),Pa=ta;function Ps(t,e){var n=t.type.contextTypes;if(!n)return ta;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Kn(t){return t=t.childContextTypes,t!=null}function zu(){Et(Gn),Et(Cn)}function kv(t,e,n){if(Cn.current!==ta)throw Error(pe(168));vt(Cn,e),vt(Gn,n)}function lw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(pe(108,bC(t)||"Unknown",i));return It({},n,r)}function Vu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ta,Pa=Cn.current,vt(Cn,t),vt(Gn,Gn.current),!0}function Ev(t,e,n){var r=t.stateNode;if(!r)throw Error(pe(169));n?(t=lw(t,e,Pa),r.__reactInternalMemoizedMergedChildContext=t,Et(Gn),Et(Cn),vt(Cn,t)):Et(Gn),vt(Gn,n)}var Xr=null,Ld=!1,Qh=!1;function cw(t){Xr===null?Xr=[t]:Xr.push(t)}function $T(t){Ld=!0,cw(t)}function ca(){if(!Qh&&Xr!==null){Qh=!0;var t=0,e=_t;try{var n=Xr;for(_t=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Xr=null,Ld=!1}catch(i){throw Xr!==null&&(Xr=Xr.slice(t+1)),Lb(Np,ca),i}finally{_t=e,Qh=!1}}return null}var ps=[],ms=0,Hu=null,Bu=0,ur=[],dr=0,Ra=null,Zr=1,ei="";function va(t,e){ps[ms++]=Bu,ps[ms++]=Hu,Hu=t,Bu=e}function uw(t,e,n){ur[dr++]=Zr,ur[dr++]=ei,ur[dr++]=Ra,Ra=t;var r=Zr;t=ei;var i=32-Dr(r)-1;r&=~(1<<i),n+=1;var a=32-Dr(e)+i;if(30<a){var l=i-i%5;a=(r&(1<<l)-1).toString(32),r>>=l,i-=l,Zr=1<<32-Dr(e)+i|n<<i|r,ei=a+t}else Zr=1<<a|n<<i|r,ei=t}function $p(t){t.return!==null&&(va(t,1),uw(t,1,0))}function Fp(t){for(;t===Hu;)Hu=ps[--ms],ps[ms]=null,Bu=ps[--ms],ps[ms]=null;for(;t===Ra;)Ra=ur[--dr],ur[dr]=null,ei=ur[--dr],ur[dr]=null,Zr=ur[--dr],ur[dr]=null}var tr=null,er=null,St=!1,Tr=null;function dw(t,e){var n=fr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Sv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,tr=t,er=Hi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,tr=t,er=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ra!==null?{id:Zr,overflow:ei}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=fr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,tr=t,er=null,!0):!1;default:return!1}}function h_(t){return(t.mode&1)!==0&&(t.flags&128)===0}function f_(t){if(St){var e=er;if(e){var n=e;if(!Sv(t,e)){if(h_(t))throw Error(pe(418));e=Hi(n.nextSibling);var r=tr;e&&Sv(t,e)?dw(r,n):(t.flags=t.flags&-4097|2,St=!1,tr=t)}}else{if(h_(t))throw Error(pe(418));t.flags=t.flags&-4097|2,St=!1,tr=t}}}function Cv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;tr=t}function Hc(t){if(t!==tr)return!1;if(!St)return Cv(t),St=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!l_(t.type,t.memoizedProps)),e&&(e=er)){if(h_(t))throw hw(),Error(pe(418));for(;e;)dw(t,e),e=Hi(e.nextSibling)}if(Cv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(pe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){er=Hi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}er=null}}else er=tr?Hi(t.stateNode.nextSibling):null;return!0}function hw(){for(var t=er;t;)t=Hi(t.nextSibling)}function Rs(){er=tr=null,St=!1}function Up(t){Tr===null?Tr=[t]:Tr.push(t)}var FT=vi.ReactCurrentBatchConfig;function Sr(t,e){if(t&&t.defaultProps){e=It({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var qu=la(null),Wu=null,gs=null,jp=null;function zp(){jp=gs=Wu=null}function Vp(t){var e=qu.current;Et(qu),t._currentValue=e}function __(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ts(t,e){Wu=t,jp=gs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(Wn=!0),t.firstContext=null)}function vr(t){var e=t._currentValue;if(jp!==t)if(t={context:t,memoizedValue:e,next:null},gs===null){if(Wu===null)throw Error(pe(308));gs=t,Wu.dependencies={lanes:0,firstContext:t}}else gs=gs.next=t;return e}var ka=null;function Hp(t){ka===null?ka=[t]:ka.push(t)}function fw(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Hp(e)):(n.next=i.next,i.next=n),e.interleaved=n,ui(t,r)}function ui(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ti=!1;function Bp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _w(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ai(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Bi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(ct&2)!==0){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ui(t,n)}return i=r.interleaved,i===null?(e.next=e,Hp(r)):(e.next=i.next,i.next=e),r.interleaved=e,ui(t,n)}function pu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Dp(t,n)}}function Tv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=l:a=a.next=l,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Gu(t,e,n,r){var i=t.updateQueue;Ti=!1;var a=i.firstBaseUpdate,l=i.lastBaseUpdate,h=i.shared.pending;if(h!==null){i.shared.pending=null;var p=h,v=p.next;p.next=null,l===null?a=v:l.next=v,l=p;var S=t.alternate;S!==null&&(S=S.updateQueue,h=S.lastBaseUpdate,h!==l&&(h===null?S.firstBaseUpdate=v:h.next=v,S.lastBaseUpdate=p))}if(a!==null){var N=i.baseState;l=0,S=v=p=null,h=a;do{var C=h.lane,A=h.eventTime;if((r&C)===C){S!==null&&(S=S.next={eventTime:A,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});e:{var R=t,D=h;switch(C=e,A=n,D.tag){case 1:if(R=D.payload,typeof R=="function"){N=R.call(A,N,C);break e}N=R;break e;case 3:R.flags=R.flags&-65537|128;case 0:if(R=D.payload,C=typeof R=="function"?R.call(A,N,C):R,C==null)break e;N=It({},N,C);break e;case 2:Ti=!0}}h.callback!==null&&h.lane!==0&&(t.flags|=64,C=i.effects,C===null?i.effects=[h]:C.push(h))}else A={eventTime:A,lane:C,tag:h.tag,payload:h.payload,callback:h.callback,next:null},S===null?(v=S=A,p=N):S=S.next=A,l|=C;if(h=h.next,h===null){if(h=i.shared.pending,h===null)break;C=h,h=C.next,C.next=null,i.lastBaseUpdate=C,i.shared.pending=null}}while(1);if(S===null&&(p=N),i.baseState=p,i.firstBaseUpdate=v,i.lastBaseUpdate=S,e=i.shared.interleaved,e!==null){i=e;do l|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);Fa|=l,t.lanes=l,t.memoizedState=N}}function Nv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(pe(191,i));i.call(r)}}}var pw=new fb.Component().refs;function p_(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:It({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Pd={isMounted:function(t){return(t=t._reactInternals)?Qa(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Rn(),i=Wi(t),a=ai(r,i);a.payload=e,n!=null&&(a.callback=n),e=Bi(t,a,i),e!==null&&(Ir(e,t,i,r),pu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Rn(),i=Wi(t),a=ai(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=Bi(t,a,i),e!==null&&(Ir(e,t,i,r),pu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Rn(),r=Wi(t),i=ai(n,r);i.tag=2,e!=null&&(i.callback=e),e=Bi(t,i,r),e!==null&&(Ir(e,t,r,n),pu(e,t,r))}};function Dv(t,e,n,r,i,a,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,l):e.prototype&&e.prototype.isPureReactComponent?!ml(n,r)||!ml(i,a):!0}function mw(t,e,n){var r=!1,i=ta,a=e.contextType;return typeof a=="object"&&a!==null?a=vr(a):(i=Kn(e)?Pa:Cn.current,r=e.contextTypes,a=(r=r!=null)?Ps(t,i):ta),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Pd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function Iv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Pd.enqueueReplaceState(e,e.state,null)}function m_(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=pw,Bp(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=vr(a):(a=Kn(e)?Pa:Cn.current,i.context=Ps(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(p_(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Pd.enqueueReplaceState(i,i.state,null),Gu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function xo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(pe(309));var r=n.stateNode}if(!r)throw Error(pe(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(l){var h=i.refs;h===pw&&(h=i.refs={}),l===null?delete h[a]:h[a]=l},e._stringRef=a,e)}if(typeof t!="string")throw Error(pe(284));if(!n._owner)throw Error(pe(290,t))}return t}function Bc(t,e){throw t=Object.prototype.toString.call(e),Error(pe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Av(t){var e=t._init;return e(t._payload)}function gw(t){function e(I,M){if(t){var F=I.deletions;F===null?(I.deletions=[M],I.flags|=16):F.push(M)}}function n(I,M){if(!t)return null;for(;M!==null;)e(I,M),M=M.sibling;return null}function r(I,M){for(I=new Map;M!==null;)M.key!==null?I.set(M.key,M):I.set(M.index,M),M=M.sibling;return I}function i(I,M){return I=Gi(I,M),I.index=0,I.sibling=null,I}function a(I,M,F){return I.index=F,t?(F=I.alternate,F!==null?(F=F.index,F<M?(I.flags|=2,M):F):(I.flags|=2,M)):(I.flags|=1048576,M)}function l(I){return t&&I.alternate===null&&(I.flags|=2),I}function h(I,M,F,z){return M===null||M.tag!==6?(M=af(F,I.mode,z),M.return=I,M):(M=i(M,F),M.return=I,M)}function p(I,M,F,z){var j=F.type;return j===cs?S(I,M,F.props.children,z,F.key):M!==null&&(M.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ci&&Av(j)===M.type)?(z=i(M,F.props),z.ref=xo(I,M,F),z.return=I,z):(z=wu(F.type,F.key,F.props,null,I.mode,z),z.ref=xo(I,M,F),z.return=I,z)}function v(I,M,F,z){return M===null||M.tag!==4||M.stateNode.containerInfo!==F.containerInfo||M.stateNode.implementation!==F.implementation?(M=sf(F,I.mode,z),M.return=I,M):(M=i(M,F.children||[]),M.return=I,M)}function S(I,M,F,z,j){return M===null||M.tag!==7?(M=Ia(F,I.mode,z,j),M.return=I,M):(M=i(M,F),M.return=I,M)}function N(I,M,F){if(typeof M=="string"&&M!==""||typeof M=="number")return M=af(""+M,I.mode,F),M.return=I,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Mc:return F=wu(M.type,M.key,M.props,null,I.mode,F),F.ref=xo(I,null,M),F.return=I,F;case ls:return M=sf(M,I.mode,F),M.return=I,M;case Ci:var z=M._init;return N(I,z(M._payload),F)}if(Mo(M)||go(M))return M=Ia(M,I.mode,F,null),M.return=I,M;Bc(I,M)}return null}function C(I,M,F,z){var j=M!==null?M.key:null;if(typeof F=="string"&&F!==""||typeof F=="number")return j!==null?null:h(I,M,""+F,z);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Mc:return F.key===j?p(I,M,F,z):null;case ls:return F.key===j?v(I,M,F,z):null;case Ci:return j=F._init,C(I,M,j(F._payload),z)}if(Mo(F)||go(F))return j!==null?null:S(I,M,F,z,null);Bc(I,F)}return null}function A(I,M,F,z,j){if(typeof z=="string"&&z!==""||typeof z=="number")return I=I.get(F)||null,h(M,I,""+z,j);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Mc:return I=I.get(z.key===null?F:z.key)||null,p(M,I,z,j);case ls:return I=I.get(z.key===null?F:z.key)||null,v(M,I,z,j);case Ci:var W=z._init;return A(I,M,F,W(z._payload),j)}if(Mo(z)||go(z))return I=I.get(F)||null,S(M,I,z,j,null);Bc(M,z)}return null}function R(I,M,F,z){for(var j=null,W=null,H=M,B=M=0,K=null;H!==null&&B<F.length;B++){H.index>B?(K=H,H=null):K=H.sibling;var Y=C(I,H,F[B],z);if(Y===null){H===null&&(H=K);break}t&&H&&Y.alternate===null&&e(I,H),M=a(Y,M,B),W===null?j=Y:W.sibling=Y,W=Y,H=K}if(B===F.length)return n(I,H),St&&va(I,B),j;if(H===null){for(;B<F.length;B++)H=N(I,F[B],z),H!==null&&(M=a(H,M,B),W===null?j=H:W.sibling=H,W=H);return St&&va(I,B),j}for(H=r(I,H);B<F.length;B++)K=A(H,I,B,F[B],z),K!==null&&(t&&K.alternate!==null&&H.delete(K.key===null?B:K.key),M=a(K,M,B),W===null?j=K:W.sibling=K,W=K);return t&&H.forEach(function(te){return e(I,te)}),St&&va(I,B),j}function D(I,M,F,z){var j=go(F);if(typeof j!="function")throw Error(pe(150));if(F=j.call(F),F==null)throw Error(pe(151));for(var W=j=null,H=M,B=M=0,K=null,Y=F.next();H!==null&&!Y.done;B++,Y=F.next()){H.index>B?(K=H,H=null):K=H.sibling;var te=C(I,H,Y.value,z);if(te===null){H===null&&(H=K);break}t&&H&&te.alternate===null&&e(I,H),M=a(te,M,B),W===null?j=te:W.sibling=te,W=te,H=K}if(Y.done)return n(I,H),St&&va(I,B),j;if(H===null){for(;!Y.done;B++,Y=F.next())Y=N(I,Y.value,z),Y!==null&&(M=a(Y,M,B),W===null?j=Y:W.sibling=Y,W=Y);return St&&va(I,B),j}for(H=r(I,H);!Y.done;B++,Y=F.next())Y=A(H,I,B,Y.value,z),Y!==null&&(t&&Y.alternate!==null&&H.delete(Y.key===null?B:Y.key),M=a(Y,M,B),W===null?j=Y:W.sibling=Y,W=Y);return t&&H.forEach(function(Z){return e(I,Z)}),St&&va(I,B),j}function L(I,M,F,z){if(typeof F=="object"&&F!==null&&F.type===cs&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case Mc:e:{for(var j=F.key,W=M;W!==null;){if(W.key===j){if(j=F.type,j===cs){if(W.tag===7){n(I,W.sibling),M=i(W,F.props.children),M.return=I,I=M;break e}}else if(W.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ci&&Av(j)===W.type){n(I,W.sibling),M=i(W,F.props),M.ref=xo(I,W,F),M.return=I,I=M;break e}n(I,W);break}else e(I,W);W=W.sibling}F.type===cs?(M=Ia(F.props.children,I.mode,z,F.key),M.return=I,I=M):(z=wu(F.type,F.key,F.props,null,I.mode,z),z.ref=xo(I,M,F),z.return=I,I=z)}return l(I);case ls:e:{for(W=F.key;M!==null;){if(M.key===W)if(M.tag===4&&M.stateNode.containerInfo===F.containerInfo&&M.stateNode.implementation===F.implementation){n(I,M.sibling),M=i(M,F.children||[]),M.return=I,I=M;break e}else{n(I,M);break}else e(I,M);M=M.sibling}M=sf(F,I.mode,z),M.return=I,I=M}return l(I);case Ci:return W=F._init,L(I,M,W(F._payload),z)}if(Mo(F))return R(I,M,F,z);if(go(F))return D(I,M,F,z);Bc(I,F)}return typeof F=="string"&&F!==""||typeof F=="number"?(F=""+F,M!==null&&M.tag===6?(n(I,M.sibling),M=i(M,F),M.return=I,I=M):(n(I,M),M=af(F,I.mode,z),M.return=I,I=M),l(I)):n(I,M)}return L}var $s=gw(!0),vw=gw(!1),Jl={},Hr=la(Jl),bl=la(Jl),wl=la(Jl);function Ea(t){if(t===Jl)throw Error(pe(174));return t}function qp(t,e){switch(vt(wl,e),vt(bl,t),vt(Hr,Jl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Kf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Kf(e,t)}Et(Hr),vt(Hr,e)}function Fs(){Et(Hr),Et(bl),Et(wl)}function yw(t){Ea(wl.current);var e=Ea(Hr.current),n=Kf(e,t.type);e!==n&&(vt(bl,t),vt(Hr,n))}function Wp(t){bl.current===t&&(Et(Hr),Et(bl))}var Nt=la(0);function Ku(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Xh=[];function Gp(){for(var t=0;t<Xh.length;t++)Xh[t]._workInProgressVersionPrimary=null;Xh.length=0}var mu=vi.ReactCurrentDispatcher,Zh=vi.ReactCurrentBatchConfig,$a=0,Dt=null,qt=null,Xt=null,Yu=!1,Ko=!1,xl=0,UT=0;function bn(){throw Error(pe(321))}function Kp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Or(t[n],e[n]))return!1;return!0}function Yp(t,e,n,r,i,a){if($a=a,Dt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,mu.current=t===null||t.memoizedState===null?HT:BT,t=n(r,i),Ko){a=0;do{if(Ko=!1,xl=0,25<=a)throw Error(pe(301));a+=1,Xt=qt=null,e.updateQueue=null,mu.current=qT,t=n(r,i)}while(Ko)}if(mu.current=Ju,e=qt!==null&&qt.next!==null,$a=0,Xt=qt=Dt=null,Yu=!1,e)throw Error(pe(300));return t}function Jp(){var t=xl!==0;return xl=0,t}function Ur(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xt===null?Dt.memoizedState=Xt=t:Xt=Xt.next=t,Xt}function yr(){if(qt===null){var t=Dt.alternate;t=t!==null?t.memoizedState:null}else t=qt.next;var e=Xt===null?Dt.memoizedState:Xt.next;if(e!==null)Xt=e,qt=t;else{if(t===null)throw Error(pe(310));qt=t,t={memoizedState:qt.memoizedState,baseState:qt.baseState,baseQueue:qt.baseQueue,queue:qt.queue,next:null},Xt===null?Dt.memoizedState=Xt=t:Xt=Xt.next=t}return Xt}function kl(t,e){return typeof e=="function"?e(t):e}function ef(t){var e=yr(),n=e.queue;if(n===null)throw Error(pe(311));n.lastRenderedReducer=t;var r=qt,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var l=i.next;i.next=a.next,a.next=l}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var h=l=null,p=null,v=a;do{var S=v.lane;if(($a&S)===S)p!==null&&(p=p.next={lane:0,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null}),r=v.hasEagerState?v.eagerState:t(r,v.action);else{var N={lane:S,action:v.action,hasEagerState:v.hasEagerState,eagerState:v.eagerState,next:null};p===null?(h=p=N,l=r):p=p.next=N,Dt.lanes|=S,Fa|=S}v=v.next}while(v!==null&&v!==a);p===null?l=r:p.next=h,Or(r,e.memoizedState)||(Wn=!0),e.memoizedState=r,e.baseState=l,e.baseQueue=p,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,Dt.lanes|=a,Fa|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function tf(t){var e=yr(),n=e.queue;if(n===null)throw Error(pe(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var l=i=i.next;do a=t(a,l.action),l=l.next;while(l!==i);Or(a,e.memoizedState)||(Wn=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function bw(){}function ww(t,e){var n=Dt,r=yr(),i=e(),a=!Or(r.memoizedState,i);if(a&&(r.memoizedState=i,Wn=!0),r=r.queue,Qp(Ew.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||Xt!==null&&Xt.memoizedState.tag&1){if(n.flags|=2048,El(9,kw.bind(null,n,r,i,e),void 0,null),en===null)throw Error(pe(349));($a&30)!==0||xw(n,e,i)}return i}function xw(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Dt.updateQueue,e===null?(e={lastEffect:null,stores:null},Dt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function kw(t,e,n,r){e.value=n,e.getSnapshot=r,Sw(e)&&Cw(t)}function Ew(t,e,n){return n(function(){Sw(e)&&Cw(t)})}function Sw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Or(t,n)}catch{return!0}}function Cw(t){var e=ui(t,1);e!==null&&Ir(e,t,1,-1)}function Ov(t){var e=Ur();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:kl,lastRenderedState:t},e.queue=t,t=t.dispatch=VT.bind(null,Dt,t),[e.memoizedState,t]}function El(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Dt.updateQueue,e===null?(e={lastEffect:null,stores:null},Dt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Tw(){return yr().memoizedState}function gu(t,e,n,r){var i=Ur();Dt.flags|=t,i.memoizedState=El(1|e,n,void 0,r===void 0?null:r)}function Rd(t,e,n,r){var i=yr();r=r===void 0?null:r;var a=void 0;if(qt!==null){var l=qt.memoizedState;if(a=l.destroy,r!==null&&Kp(r,l.deps)){i.memoizedState=El(e,n,a,r);return}}Dt.flags|=t,i.memoizedState=El(1|e,n,a,r)}function Mv(t,e){return gu(8390656,8,t,e)}function Qp(t,e){return Rd(2048,8,t,e)}function Nw(t,e){return Rd(4,2,t,e)}function Dw(t,e){return Rd(4,4,t,e)}function Iw(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Aw(t,e,n){return n=n!=null?n.concat([t]):null,Rd(4,4,Iw.bind(null,e,t),n)}function Xp(){}function Ow(t,e){var n=yr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Kp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Mw(t,e){var n=yr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Kp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Lw(t,e,n){return($a&21)===0?(t.baseState&&(t.baseState=!1,Wn=!0),t.memoizedState=n):(Or(n,e)||(n=$b(),Dt.lanes|=n,Fa|=n,t.baseState=!0),e)}function jT(t,e){var n=_t;_t=n!==0&&4>n?n:4,t(!0);var r=Zh.transition;Zh.transition={};try{t(!1),e()}finally{_t=n,Zh.transition=r}}function Pw(){return yr().memoizedState}function zT(t,e,n){var r=Wi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Rw(t))$w(e,n);else if(n=fw(t,e,n,r),n!==null){var i=Rn();Ir(n,t,r,i),Fw(n,e,r)}}function VT(t,e,n){var r=Wi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Rw(t))$w(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var l=e.lastRenderedState,h=a(l,n);if(i.hasEagerState=!0,i.eagerState=h,Or(h,l)){var p=e.interleaved;p===null?(i.next=i,Hp(e)):(i.next=p.next,p.next=i),e.interleaved=i;return}}catch{}finally{}n=fw(t,e,i,r),n!==null&&(i=Rn(),Ir(n,t,r,i),Fw(n,e,r))}}function Rw(t){var e=t.alternate;return t===Dt||e!==null&&e===Dt}function $w(t,e){Ko=Yu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Fw(t,e,n){if((n&4194240)!==0){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Dp(t,n)}}var Ju={readContext:vr,useCallback:bn,useContext:bn,useEffect:bn,useImperativeHandle:bn,useInsertionEffect:bn,useLayoutEffect:bn,useMemo:bn,useReducer:bn,useRef:bn,useState:bn,useDebugValue:bn,useDeferredValue:bn,useTransition:bn,useMutableSource:bn,useSyncExternalStore:bn,useId:bn,unstable_isNewReconciler:!1},HT={readContext:vr,useCallback:function(t,e){return Ur().memoizedState=[t,e===void 0?null:e],t},useContext:vr,useEffect:Mv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,gu(4194308,4,Iw.bind(null,e,t),n)},useLayoutEffect:function(t,e){return gu(4194308,4,t,e)},useInsertionEffect:function(t,e){return gu(4,2,t,e)},useMemo:function(t,e){var n=Ur();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ur();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=zT.bind(null,Dt,t),[r.memoizedState,t]},useRef:function(t){var e=Ur();return t={current:t},e.memoizedState=t},useState:Ov,useDebugValue:Xp,useDeferredValue:function(t){return Ur().memoizedState=t},useTransition:function(){var t=Ov(!1),e=t[0];return t=jT.bind(null,t[1]),Ur().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Dt,i=Ur();if(St){if(n===void 0)throw Error(pe(407));n=n()}else{if(n=e(),en===null)throw Error(pe(349));($a&30)!==0||xw(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,Mv(Ew.bind(null,r,a,t),[t]),r.flags|=2048,El(9,kw.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=Ur(),e=en.identifierPrefix;if(St){var n=ei,r=Zr;n=(r&~(1<<32-Dr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=xl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=UT++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},BT={readContext:vr,useCallback:Ow,useContext:vr,useEffect:Qp,useImperativeHandle:Aw,useInsertionEffect:Nw,useLayoutEffect:Dw,useMemo:Mw,useReducer:ef,useRef:Tw,useState:function(){return ef(kl)},useDebugValue:Xp,useDeferredValue:function(t){var e=yr();return Lw(e,qt.memoizedState,t)},useTransition:function(){var t=ef(kl)[0],e=yr().memoizedState;return[t,e]},useMutableSource:bw,useSyncExternalStore:ww,useId:Pw,unstable_isNewReconciler:!1},qT={readContext:vr,useCallback:Ow,useContext:vr,useEffect:Qp,useImperativeHandle:Aw,useInsertionEffect:Nw,useLayoutEffect:Dw,useMemo:Mw,useReducer:tf,useRef:Tw,useState:function(){return tf(kl)},useDebugValue:Xp,useDeferredValue:function(t){var e=yr();return qt===null?e.memoizedState=t:Lw(e,qt.memoizedState,t)},useTransition:function(){var t=tf(kl)[0],e=yr().memoizedState;return[t,e]},useMutableSource:bw,useSyncExternalStore:ww,useId:Pw,unstable_isNewReconciler:!1};function Us(t,e){try{var n="",r=e;do n+=yC(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function nf(t,e,n){return{value:t,source:null,stack:n!=null?n:null,digest:e!=null?e:null}}function g_(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var WT=typeof WeakMap=="function"?WeakMap:Map;function Uw(t,e,n){n=ai(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Xu||(Xu=!0,T_=r),g_(t,e)},n}function jw(t,e,n){n=ai(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){g_(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){g_(t,e),typeof r!="function"&&(qi===null?qi=new Set([this]):qi.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function Lv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new WT;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=sN.bind(null,t,e,n),e.then(t,t))}function Pv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Rv(t,e,n,r,i){return(t.mode&1)===0?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ai(-1,1),e.tag=2,Bi(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=i,t)}var GT=vi.ReactCurrentOwner,Wn=!1;function Nn(t,e,n,r){e.child=t===null?vw(e,null,n,r):$s(e,t.child,n,r)}function $v(t,e,n,r,i){n=n.render;var a=e.ref;return Ts(e,i),r=Yp(t,e,n,r,a,i),n=Jp(),t!==null&&!Wn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,di(t,e,i)):(St&&n&&$p(e),e.flags|=1,Nn(t,e,r,i),e.child)}function Fv(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!sm(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,zw(t,e,a,r,i)):(t=wu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,(t.lanes&i)===0){var l=a.memoizedProps;if(n=n.compare,n=n!==null?n:ml,n(l,r)&&t.ref===e.ref)return di(t,e,i)}return e.flags|=1,t=Gi(a,r),t.ref=e.ref,t.return=e,e.child=t}function zw(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(ml(a,r)&&t.ref===e.ref)if(Wn=!1,e.pendingProps=r=a,(t.lanes&i)!==0)(t.flags&131072)!==0&&(Wn=!0);else return e.lanes=t.lanes,di(t,e,i)}return v_(t,e,n,r,i)}function Vw(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},vt(ys,Xn),Xn|=n;else{if((n&1073741824)===0)return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,vt(ys,Xn),Xn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,vt(ys,Xn),Xn|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,vt(ys,Xn),Xn|=r;return Nn(t,e,i,n),e.child}function Hw(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function v_(t,e,n,r,i){var a=Kn(n)?Pa:Cn.current;return a=Ps(e,a),Ts(e,i),n=Yp(t,e,n,r,a,i),r=Jp(),t!==null&&!Wn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,di(t,e,i)):(St&&r&&$p(e),e.flags|=1,Nn(t,e,n,i),e.child)}function Uv(t,e,n,r,i){if(Kn(n)){var a=!0;Vu(e)}else a=!1;if(Ts(e,i),e.stateNode===null)vu(t,e),mw(e,n,r),m_(e,n,r,i),r=!0;else if(t===null){var l=e.stateNode,h=e.memoizedProps;l.props=h;var p=l.context,v=n.contextType;typeof v=="object"&&v!==null?v=vr(v):(v=Kn(n)?Pa:Cn.current,v=Ps(e,v));var S=n.getDerivedStateFromProps,N=typeof S=="function"||typeof l.getSnapshotBeforeUpdate=="function";N||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(h!==r||p!==v)&&Iv(e,l,r,v),Ti=!1;var C=e.memoizedState;l.state=C,Gu(e,r,l,i),p=e.memoizedState,h!==r||C!==p||Gn.current||Ti?(typeof S=="function"&&(p_(e,n,S,r),p=e.memoizedState),(h=Ti||Dv(e,n,h,r,C,p,v))?(N||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=p),l.props=r,l.state=p,l.context=v,r=h):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{l=e.stateNode,_w(t,e),h=e.memoizedProps,v=e.type===e.elementType?h:Sr(e.type,h),l.props=v,N=e.pendingProps,C=l.context,p=n.contextType,typeof p=="object"&&p!==null?p=vr(p):(p=Kn(n)?Pa:Cn.current,p=Ps(e,p));var A=n.getDerivedStateFromProps;(S=typeof A=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(h!==N||C!==p)&&Iv(e,l,r,p),Ti=!1,C=e.memoizedState,l.state=C,Gu(e,r,l,i);var R=e.memoizedState;h!==N||C!==R||Gn.current||Ti?(typeof A=="function"&&(p_(e,n,A,r),R=e.memoizedState),(v=Ti||Dv(e,n,v,r,C,R,p)||!1)?(S||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,R,p),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,R,p)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||h===t.memoizedProps&&C===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||h===t.memoizedProps&&C===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=R),l.props=r,l.state=R,l.context=p,r=v):(typeof l.componentDidUpdate!="function"||h===t.memoizedProps&&C===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||h===t.memoizedProps&&C===t.memoizedState||(e.flags|=1024),r=!1)}return y_(t,e,n,r,a,i)}function y_(t,e,n,r,i,a){Hw(t,e);var l=(e.flags&128)!==0;if(!r&&!l)return i&&Ev(e,n,!1),di(t,e,a);r=e.stateNode,GT.current=e;var h=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&l?(e.child=$s(e,t.child,null,a),e.child=$s(e,null,h,a)):Nn(t,e,h,a),e.memoizedState=r.state,i&&Ev(e,n,!0),e.child}function Bw(t){var e=t.stateNode;e.pendingContext?kv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&kv(t,e.context,!1),qp(t,e.containerInfo)}function jv(t,e,n,r,i){return Rs(),Up(i),e.flags|=256,Nn(t,e,n,r),e.child}var b_={dehydrated:null,treeContext:null,retryLane:0};function w_(t){return{baseLanes:t,cachePool:null,transitions:null}}function qw(t,e,n){var r=e.pendingProps,i=Nt.current,a=!1,l=(e.flags&128)!==0,h;if((h=l)||(h=t!==null&&t.memoizedState===null?!1:(i&2)!==0),h?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),vt(Nt,i&1),t===null)return f_(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((e.mode&1)===0?e.lanes=1:t.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(l=r.children,t=r.fallback,a?(r=e.mode,a=e.child,l={mode:"hidden",children:l},(r&1)===0&&a!==null?(a.childLanes=0,a.pendingProps=l):a=Ud(l,r,0,null),t=Ia(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=w_(n),e.memoizedState=b_,t):Zp(e,l));if(i=t.memoizedState,i!==null&&(h=i.dehydrated,h!==null))return KT(t,e,l,r,h,i,n);if(a){a=r.fallback,l=e.mode,i=t.child,h=i.sibling;var p={mode:"hidden",children:r.children};return(l&1)===0&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=p,e.deletions=null):(r=Gi(i,p),r.subtreeFlags=i.subtreeFlags&14680064),h!==null?a=Gi(h,a):(a=Ia(a,l,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,l=t.child.memoizedState,l=l===null?w_(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=t.childLanes&~n,e.memoizedState=b_,r}return a=t.child,t=a.sibling,r=Gi(a,{mode:"visible",children:r.children}),(e.mode&1)===0&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Zp(t,e){return e=Ud({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function qc(t,e,n,r){return r!==null&&Up(r),$s(e,t.child,null,n),t=Zp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function KT(t,e,n,r,i,a,l){if(n)return e.flags&256?(e.flags&=-257,r=nf(Error(pe(422))),qc(t,e,l,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=Ud({mode:"visible",children:r.children},i,0,null),a=Ia(a,i,l,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,(e.mode&1)!==0&&$s(e,t.child,null,l),e.child.memoizedState=w_(l),e.memoizedState=b_,a);if((e.mode&1)===0)return qc(t,e,l,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var h=r.dgst;return r=h,a=Error(pe(419)),r=nf(a,r,void 0),qc(t,e,l,r)}if(h=(l&t.childLanes)!==0,Wn||h){if(r=en,r!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=(i&(r.suspendedLanes|l))!==0?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,ui(t,i),Ir(r,t,i,-1))}return am(),r=nf(Error(pe(421))),qc(t,e,l,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=oN.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,er=Hi(i.nextSibling),tr=e,St=!0,Tr=null,t!==null&&(ur[dr++]=Zr,ur[dr++]=ei,ur[dr++]=Ra,Zr=t.id,ei=t.overflow,Ra=e),e=Zp(e,r.children),e.flags|=4096,e)}function zv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),__(t.return,e,n)}function rf(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Ww(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(Nn(t,e,r.children,n),r=Nt.current,(r&2)!==0)r=r&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&zv(t,n,e);else if(t.tag===19)zv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(vt(Nt,r),(e.mode&1)===0)e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Ku(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),rf(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ku(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}rf(e,!0,n,null,a);break;case"together":rf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function vu(t,e){(e.mode&1)===0&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function di(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Fa|=e.lanes,(n&e.childLanes)===0)return null;if(t!==null&&e.child!==t.child)throw Error(pe(153));if(e.child!==null){for(t=e.child,n=Gi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Gi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function YT(t,e,n){switch(e.tag){case 3:Bw(e),Rs();break;case 5:yw(e);break;case 1:Kn(e.type)&&Vu(e);break;case 4:qp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;vt(qu,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(vt(Nt,Nt.current&1),e.flags|=128,null):(n&e.child.childLanes)!==0?qw(t,e,n):(vt(Nt,Nt.current&1),t=di(t,e,n),t!==null?t.sibling:null);vt(Nt,Nt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,(t.flags&128)!==0){if(r)return Ww(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),vt(Nt,Nt.current),r)break;return null;case 22:case 23:return e.lanes=0,Vw(t,e,n)}return di(t,e,n)}var Gw,x_,Kw,Yw;Gw=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};x_=function(){};Kw=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ea(Hr.current);var a=null;switch(n){case"input":i=Bf(t,i),r=Bf(t,r),a=[];break;case"select":i=It({},i,{value:void 0}),r=It({},r,{value:void 0}),a=[];break;case"textarea":i=Gf(t,i),r=Gf(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ju)}Yf(n,r);var l;n=null;for(v in i)if(!r.hasOwnProperty(v)&&i.hasOwnProperty(v)&&i[v]!=null)if(v==="style"){var h=i[v];for(l in h)h.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else v!=="dangerouslySetInnerHTML"&&v!=="children"&&v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(cl.hasOwnProperty(v)?a||(a=[]):(a=a||[]).push(v,null));for(v in r){var p=r[v];if(h=i!=null?i[v]:void 0,r.hasOwnProperty(v)&&p!==h&&(p!=null||h!=null))if(v==="style")if(h){for(l in h)!h.hasOwnProperty(l)||p&&p.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in p)p.hasOwnProperty(l)&&h[l]!==p[l]&&(n||(n={}),n[l]=p[l])}else n||(a||(a=[]),a.push(v,n)),n=p;else v==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,h=h?h.__html:void 0,p!=null&&h!==p&&(a=a||[]).push(v,p)):v==="children"?typeof p!="string"&&typeof p!="number"||(a=a||[]).push(v,""+p):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&(cl.hasOwnProperty(v)?(p!=null&&v==="onScroll"&&wt("scroll",t),a||h===p||(a=[])):(a=a||[]).push(v,p))}n&&(a=a||[]).push("style",n);var v=a;(e.updateQueue=v)&&(e.flags|=4)}};Yw=function(t,e,n,r){n!==r&&(e.flags|=4)};function ko(t,e){if(!St)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function wn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function JT(t,e,n){var r=e.pendingProps;switch(Fp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wn(e),null;case 1:return Kn(e.type)&&zu(),wn(e),null;case 3:return r=e.stateNode,Fs(),Et(Gn),Et(Cn),Gp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Hc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,Tr!==null&&(I_(Tr),Tr=null))),x_(t,e),wn(e),null;case 5:Wp(e);var i=Ea(wl.current);if(n=e.type,t!==null&&e.stateNode!=null)Kw(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(pe(166));return wn(e),null}if(t=Ea(Hr.current),Hc(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[jr]=e,r[yl]=a,t=(e.mode&1)!==0,n){case"dialog":wt("cancel",r),wt("close",r);break;case"iframe":case"object":case"embed":wt("load",r);break;case"video":case"audio":for(i=0;i<Po.length;i++)wt(Po[i],r);break;case"source":wt("error",r);break;case"img":case"image":case"link":wt("error",r),wt("load",r);break;case"details":wt("toggle",r);break;case"input":Jg(r,a),wt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},wt("invalid",r);break;case"textarea":Xg(r,a),wt("invalid",r)}Yf(n,a),i=null;for(var l in a)if(a.hasOwnProperty(l)){var h=a[l];l==="children"?typeof h=="string"?r.textContent!==h&&(a.suppressHydrationWarning!==!0&&Vc(r.textContent,h,t),i=["children",h]):typeof h=="number"&&r.textContent!==""+h&&(a.suppressHydrationWarning!==!0&&Vc(r.textContent,h,t),i=["children",""+h]):cl.hasOwnProperty(l)&&h!=null&&l==="onScroll"&&wt("scroll",r)}switch(n){case"input":Lc(r),Qg(r,a,!0);break;case"textarea":Lc(r),Zg(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=ju)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=xb(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=l.createElement(n,{is:r.is}):(t=l.createElement(n),n==="select"&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,n),t[jr]=e,t[yl]=r,Gw(t,e,!1,!1),e.stateNode=t;e:{switch(l=Jf(n,r),n){case"dialog":wt("cancel",t),wt("close",t),i=r;break;case"iframe":case"object":case"embed":wt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Po.length;i++)wt(Po[i],t);i=r;break;case"source":wt("error",t),i=r;break;case"img":case"image":case"link":wt("error",t),wt("load",t),i=r;break;case"details":wt("toggle",t),i=r;break;case"input":Jg(t,r),i=Bf(t,r),wt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=It({},r,{value:void 0}),wt("invalid",t);break;case"textarea":Xg(t,r),i=Gf(t,r),wt("invalid",t);break;default:i=r}Yf(n,i),h=i;for(a in h)if(h.hasOwnProperty(a)){var p=h[a];a==="style"?Sb(t,p):a==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,p!=null&&kb(t,p)):a==="children"?typeof p=="string"?(n!=="textarea"||p!=="")&&ul(t,p):typeof p=="number"&&ul(t,""+p):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(cl.hasOwnProperty(a)?p!=null&&a==="onScroll"&&wt("scroll",t):p!=null&&kp(t,a,p,l))}switch(n){case"input":Lc(t),Qg(t,r,!1);break;case"textarea":Lc(t),Zg(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ea(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?ks(t,!!r.multiple,a,!1):r.defaultValue!=null&&ks(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ju)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return wn(e),null;case 6:if(t&&e.stateNode!=null)Yw(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(pe(166));if(n=Ea(wl.current),Ea(Hr.current),Hc(e)){if(r=e.stateNode,n=e.memoizedProps,r[jr]=e,(a=r.nodeValue!==n)&&(t=tr,t!==null))switch(t.tag){case 3:Vc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Vc(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[jr]=e,e.stateNode=r}return wn(e),null;case 13:if(Et(Nt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(St&&er!==null&&(e.mode&1)!==0&&(e.flags&128)===0)hw(),Rs(),e.flags|=98560,a=!1;else if(a=Hc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(pe(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(pe(317));a[jr]=e}else Rs(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;wn(e),a=!1}else Tr!==null&&(I_(Tr),Tr=null),a=!0;if(!a)return e.flags&65536?e:null}return(e.flags&128)!==0?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,(e.mode&1)!==0&&(t===null||(Nt.current&1)!==0?Wt===0&&(Wt=3):am())),e.updateQueue!==null&&(e.flags|=4),wn(e),null);case 4:return Fs(),x_(t,e),t===null&&gl(e.stateNode.containerInfo),wn(e),null;case 10:return Vp(e.type._context),wn(e),null;case 17:return Kn(e.type)&&zu(),wn(e),null;case 19:if(Et(Nt),a=e.memoizedState,a===null)return wn(e),null;if(r=(e.flags&128)!==0,l=a.rendering,l===null)if(r)ko(a,!1);else{if(Wt!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(l=Ku(t),l!==null){for(e.flags|=128,ko(a,!1),r=l.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,l=a.alternate,l===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,t=l.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return vt(Nt,Nt.current&1|2),e.child}t=t.sibling}a.tail!==null&&Pt()>js&&(e.flags|=128,r=!0,ko(a,!1),e.lanes=4194304)}else{if(!r)if(t=Ku(l),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ko(a,!0),a.tail===null&&a.tailMode==="hidden"&&!l.alternate&&!St)return wn(e),null}else 2*Pt()-a.renderingStartTime>js&&n!==1073741824&&(e.flags|=128,r=!0,ko(a,!1),e.lanes=4194304);a.isBackwards?(l.sibling=e.child,e.child=l):(n=a.last,n!==null?n.sibling=l:e.child=l,a.last=l)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Pt(),e.sibling=null,n=Nt.current,vt(Nt,r?n&1|2:n&1),e):(wn(e),null);case 22:case 23:return im(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&(e.mode&1)!==0?(Xn&1073741824)!==0&&(wn(e),e.subtreeFlags&6&&(e.flags|=8192)):wn(e),null;case 24:return null;case 25:return null}throw Error(pe(156,e.tag))}function QT(t,e){switch(Fp(e),e.tag){case 1:return Kn(e.type)&&zu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Fs(),Et(Gn),Et(Cn),Gp(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 5:return Wp(e),null;case 13:if(Et(Nt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(pe(340));Rs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Et(Nt),null;case 4:return Fs(),null;case 10:return Vp(e.type._context),null;case 22:case 23:return im(),null;case 24:return null;default:return null}}var Wc=!1,xn=!1,XT=typeof WeakSet=="function"?WeakSet:Set,Ae=null;function vs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Mt(t,e,r)}else n.current=null}function k_(t,e,n){try{n()}catch(r){Mt(t,e,r)}}var Vv=!1;function ZT(t,e){if(s_=$u,t=Zb(),Rp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var l=0,h=-1,p=-1,v=0,S=0,N=t,C=null;t:for(;;){for(var A;N!==n||i!==0&&N.nodeType!==3||(h=l+i),N!==a||r!==0&&N.nodeType!==3||(p=l+r),N.nodeType===3&&(l+=N.nodeValue.length),(A=N.firstChild)!==null;)C=N,N=A;for(;;){if(N===t)break t;if(C===n&&++v===i&&(h=l),C===a&&++S===r&&(p=l),(A=N.nextSibling)!==null)break;N=C,C=N.parentNode}N=A}n=h===-1||p===-1?null:{start:h,end:p}}else n=null}n=n||{start:0,end:0}}else n=null;for(o_={focusedElem:t,selectionRange:n},$u=!1,Ae=e;Ae!==null;)if(e=Ae,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ae=t;else for(;Ae!==null;){e=Ae;try{var R=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(R!==null){var D=R.memoizedProps,L=R.memoizedState,I=e.stateNode,M=I.getSnapshotBeforeUpdate(e.elementType===e.type?D:Sr(e.type,D),L);I.__reactInternalSnapshotBeforeUpdate=M}break;case 3:var F=e.stateNode.containerInfo;F.nodeType===1?F.textContent="":F.nodeType===9&&F.documentElement&&F.removeChild(F.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(pe(163))}}catch(z){Mt(e,e.return,z)}if(t=e.sibling,t!==null){t.return=e.return,Ae=t;break}Ae=e.return}return R=Vv,Vv=!1,R}function Yo(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&k_(e,n,a)}i=i.next}while(i!==r)}}function $d(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function E_(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Jw(t){var e=t.alternate;e!==null&&(t.alternate=null,Jw(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[jr],delete e[yl],delete e[u_],delete e[PT],delete e[RT])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Qw(t){return t.tag===5||t.tag===3||t.tag===4}function Hv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Qw(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function S_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ju));else if(r!==4&&(t=t.child,t!==null))for(S_(t,e,n),t=t.sibling;t!==null;)S_(t,e,n),t=t.sibling}function C_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(C_(t,e,n),t=t.sibling;t!==null;)C_(t,e,n),t=t.sibling}var sn=null,Cr=!1;function ki(t,e,n){for(n=n.child;n!==null;)Xw(t,e,n),n=n.sibling}function Xw(t,e,n){if(Vr&&typeof Vr.onCommitFiberUnmount=="function")try{Vr.onCommitFiberUnmount(Dd,n)}catch{}switch(n.tag){case 5:xn||vs(n,e);case 6:var r=sn,i=Cr;sn=null,ki(t,e,n),sn=r,Cr=i,sn!==null&&(Cr?(t=sn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):sn.removeChild(n.stateNode));break;case 18:sn!==null&&(Cr?(t=sn,n=n.stateNode,t.nodeType===8?Jh(t.parentNode,n):t.nodeType===1&&Jh(t,n),_l(t)):Jh(sn,n.stateNode));break;case 4:r=sn,i=Cr,sn=n.stateNode.containerInfo,Cr=!0,ki(t,e,n),sn=r,Cr=i;break;case 0:case 11:case 14:case 15:if(!xn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,l=a.destroy;a=a.tag,l!==void 0&&((a&2)!==0||(a&4)!==0)&&k_(n,e,l),i=i.next}while(i!==r)}ki(t,e,n);break;case 1:if(!xn&&(vs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(h){Mt(n,e,h)}ki(t,e,n);break;case 21:ki(t,e,n);break;case 22:n.mode&1?(xn=(r=xn)||n.memoizedState!==null,ki(t,e,n),xn=r):ki(t,e,n);break;default:ki(t,e,n)}}function Bv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new XT),e.forEach(function(r){var i=lN.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function xr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,l=e,h=l;e:for(;h!==null;){switch(h.tag){case 5:sn=h.stateNode,Cr=!1;break e;case 3:sn=h.stateNode.containerInfo,Cr=!0;break e;case 4:sn=h.stateNode.containerInfo,Cr=!0;break e}h=h.return}if(sn===null)throw Error(pe(160));Xw(a,l,i),sn=null,Cr=!1;var p=i.alternate;p!==null&&(p.return=null),i.return=null}catch(v){Mt(i,e,v)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Zw(e,t),e=e.sibling}function Zw(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(xr(e,t),Fr(t),r&4){try{Yo(3,t,t.return),$d(3,t)}catch(D){Mt(t,t.return,D)}try{Yo(5,t,t.return)}catch(D){Mt(t,t.return,D)}}break;case 1:xr(e,t),Fr(t),r&512&&n!==null&&vs(n,n.return);break;case 5:if(xr(e,t),Fr(t),r&512&&n!==null&&vs(n,n.return),t.flags&32){var i=t.stateNode;try{ul(i,"")}catch(D){Mt(t,t.return,D)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,l=n!==null?n.memoizedProps:a,h=t.type,p=t.updateQueue;if(t.updateQueue=null,p!==null)try{h==="input"&&a.type==="radio"&&a.name!=null&&bb(i,a),Jf(h,l);var v=Jf(h,a);for(l=0;l<p.length;l+=2){var S=p[l],N=p[l+1];S==="style"?Sb(i,N):S==="dangerouslySetInnerHTML"?kb(i,N):S==="children"?ul(i,N):kp(i,S,N,v)}switch(h){case"input":qf(i,a);break;case"textarea":wb(i,a);break;case"select":var C=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var A=a.value;A!=null?ks(i,!!a.multiple,A,!1):C!==!!a.multiple&&(a.defaultValue!=null?ks(i,!!a.multiple,a.defaultValue,!0):ks(i,!!a.multiple,a.multiple?[]:"",!1))}i[yl]=a}catch(D){Mt(t,t.return,D)}}break;case 6:if(xr(e,t),Fr(t),r&4){if(t.stateNode===null)throw Error(pe(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(D){Mt(t,t.return,D)}}break;case 3:if(xr(e,t),Fr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{_l(e.containerInfo)}catch(D){Mt(t,t.return,D)}break;case 4:xr(e,t),Fr(t);break;case 13:xr(e,t),Fr(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(nm=Pt())),r&4&&Bv(t);break;case 22:if(S=n!==null&&n.memoizedState!==null,t.mode&1?(xn=(v=xn)||S,xr(e,t),xn=v):xr(e,t),Fr(t),r&8192){if(v=t.memoizedState!==null,(t.stateNode.isHidden=v)&&!S&&(t.mode&1)!==0)for(Ae=t,S=t.child;S!==null;){for(N=Ae=S;Ae!==null;){switch(C=Ae,A=C.child,C.tag){case 0:case 11:case 14:case 15:Yo(4,C,C.return);break;case 1:vs(C,C.return);var R=C.stateNode;if(typeof R.componentWillUnmount=="function"){r=C,n=C.return;try{e=r,R.props=e.memoizedProps,R.state=e.memoizedState,R.componentWillUnmount()}catch(D){Mt(r,n,D)}}break;case 5:vs(C,C.return);break;case 22:if(C.memoizedState!==null){Wv(N);continue}}A!==null?(A.return=C,Ae=A):Wv(N)}S=S.sibling}e:for(S=null,N=t;;){if(N.tag===5){if(S===null){S=N;try{i=N.stateNode,v?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(h=N.stateNode,p=N.memoizedProps.style,l=p!=null&&p.hasOwnProperty("display")?p.display:null,h.style.display=Eb("display",l))}catch(D){Mt(t,t.return,D)}}}else if(N.tag===6){if(S===null)try{N.stateNode.nodeValue=v?"":N.memoizedProps}catch(D){Mt(t,t.return,D)}}else if((N.tag!==22&&N.tag!==23||N.memoizedState===null||N===t)&&N.child!==null){N.child.return=N,N=N.child;continue}if(N===t)break e;for(;N.sibling===null;){if(N.return===null||N.return===t)break e;S===N&&(S=null),N=N.return}S===N&&(S=null),N.sibling.return=N.return,N=N.sibling}}break;case 19:xr(e,t),Fr(t),r&4&&Bv(t);break;case 21:break;default:xr(e,t),Fr(t)}}function Fr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Qw(n)){var r=n;break e}n=n.return}throw Error(pe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ul(i,""),r.flags&=-33);var a=Hv(t);C_(t,a,i);break;case 3:case 4:var l=r.stateNode.containerInfo,h=Hv(t);S_(t,h,l);break;default:throw Error(pe(161))}}catch(p){Mt(t,t.return,p)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function eN(t,e,n){Ae=t,ex(t)}function ex(t,e,n){for(var r=(t.mode&1)!==0;Ae!==null;){var i=Ae,a=i.child;if(i.tag===22&&r){var l=i.memoizedState!==null||Wc;if(!l){var h=i.alternate,p=h!==null&&h.memoizedState!==null||xn;h=Wc;var v=xn;if(Wc=l,(xn=p)&&!v)for(Ae=i;Ae!==null;)l=Ae,p=l.child,l.tag===22&&l.memoizedState!==null?Gv(i):p!==null?(p.return=l,Ae=p):Gv(i);for(;a!==null;)Ae=a,ex(a),a=a.sibling;Ae=i,Wc=h,xn=v}qv(t)}else(i.subtreeFlags&8772)!==0&&a!==null?(a.return=i,Ae=a):qv(t)}}function qv(t){for(;Ae!==null;){var e=Ae;if((e.flags&8772)!==0){var n=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:xn||$d(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!xn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Sr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&Nv(e,a,r);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Nv(e,l,n)}break;case 5:var h=e.stateNode;if(n===null&&e.flags&4){n=h;var p=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":p.autoFocus&&n.focus();break;case"img":p.src&&(n.src=p.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var v=e.alternate;if(v!==null){var S=v.memoizedState;if(S!==null){var N=S.dehydrated;N!==null&&_l(N)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(pe(163))}xn||e.flags&512&&E_(e)}catch(C){Mt(e,e.return,C)}}if(e===t){Ae=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ae=n;break}Ae=e.return}}function Wv(t){for(;Ae!==null;){var e=Ae;if(e===t){Ae=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ae=n;break}Ae=e.return}}function Gv(t){for(;Ae!==null;){var e=Ae;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{$d(4,e)}catch(p){Mt(e,n,p)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(p){Mt(e,i,p)}}var a=e.return;try{E_(e)}catch(p){Mt(e,a,p)}break;case 5:var l=e.return;try{E_(e)}catch(p){Mt(e,l,p)}}}catch(p){Mt(e,e.return,p)}if(e===t){Ae=null;break}var h=e.sibling;if(h!==null){h.return=e.return,Ae=h;break}Ae=e.return}}var tN=Math.ceil,Qu=vi.ReactCurrentDispatcher,em=vi.ReactCurrentOwner,pr=vi.ReactCurrentBatchConfig,ct=0,en=null,zt=null,cn=0,Xn=0,ys=la(0),Wt=0,Sl=null,Fa=0,Fd=0,tm=0,Jo=null,Bn=null,nm=0,js=1/0,Qr=null,Xu=!1,T_=null,qi=null,Gc=!1,$i=null,Zu=0,Qo=0,N_=null,yu=-1,bu=0;function Rn(){return(ct&6)!==0?Pt():yu!==-1?yu:yu=Pt()}function Wi(t){return(t.mode&1)===0?1:(ct&2)!==0&&cn!==0?cn&-cn:FT.transition!==null?(bu===0&&(bu=$b()),bu):(t=_t,t!==0||(t=window.event,t=t===void 0?16:Bb(t.type)),t)}function Ir(t,e,n,r){if(50<Qo)throw Qo=0,N_=null,Error(pe(185));Gl(t,n,r),((ct&2)===0||t!==en)&&(t===en&&((ct&2)===0&&(Fd|=n),Wt===4&&Ii(t,cn)),Yn(t,r),n===1&&ct===0&&(e.mode&1)===0&&(js=Pt()+500,Ld&&ca()))}function Yn(t,e){var n=t.callbackNode;FC(t,e);var r=Ru(t,t===en?cn:0);if(r===0)n!==null&&nv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&nv(n),e===1)t.tag===0?$T(Kv.bind(null,t)):cw(Kv.bind(null,t)),MT(function(){(ct&6)===0&&ca()}),n=null;else{switch(Fb(r)){case 1:n=Np;break;case 4:n=Pb;break;case 16:n=Pu;break;case 536870912:n=Rb;break;default:n=Pu}n=lx(n,tx.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function tx(t,e){if(yu=-1,bu=0,(ct&6)!==0)throw Error(pe(327));var n=t.callbackNode;if(Ns()&&t.callbackNode!==n)return null;var r=Ru(t,t===en?cn:0);if(r===0)return null;if((r&30)!==0||(r&t.expiredLanes)!==0||e)e=ed(t,r);else{e=r;var i=ct;ct|=2;var a=rx();(en!==t||cn!==e)&&(Qr=null,js=Pt()+500,Da(t,e));do try{iN();break}catch(h){nx(t,h)}while(1);zp(),Qu.current=a,ct=i,zt!==null?e=0:(en=null,cn=0,e=Wt)}if(e!==0){if(e===2&&(i=t_(t),i!==0&&(r=i,e=D_(t,i))),e===1)throw n=Sl,Da(t,0),Ii(t,r),Yn(t,Pt()),n;if(e===6)Ii(t,r);else{if(i=t.current.alternate,(r&30)===0&&!nN(i)&&(e=ed(t,r),e===2&&(a=t_(t),a!==0&&(r=a,e=D_(t,a))),e===1))throw n=Sl,Da(t,0),Ii(t,r),Yn(t,Pt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(pe(345));case 2:ya(t,Bn,Qr);break;case 3:if(Ii(t,r),(r&130023424)===r&&(e=nm+500-Pt(),10<e)){if(Ru(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Rn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=c_(ya.bind(null,t,Bn,Qr),e);break}ya(t,Bn,Qr);break;case 4:if(Ii(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var l=31-Dr(r);a=1<<l,l=e[l],l>i&&(i=l),r&=~a}if(r=i,r=Pt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*tN(r/1960))-r,10<r){t.timeoutHandle=c_(ya.bind(null,t,Bn,Qr),r);break}ya(t,Bn,Qr);break;case 5:ya(t,Bn,Qr);break;default:throw Error(pe(329))}}}return Yn(t,Pt()),t.callbackNode===n?tx.bind(null,t):null}function D_(t,e){var n=Jo;return t.current.memoizedState.isDehydrated&&(Da(t,e).flags|=256),t=ed(t,e),t!==2&&(e=Bn,Bn=n,e!==null&&I_(e)),t}function I_(t){Bn===null?Bn=t:Bn.push.apply(Bn,t)}function nN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Or(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ii(t,e){for(e&=~tm,e&=~Fd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Dr(e),r=1<<n;t[n]=-1,e&=~r}}function Kv(t){if((ct&6)!==0)throw Error(pe(327));Ns();var e=Ru(t,0);if((e&1)===0)return Yn(t,Pt()),null;var n=ed(t,e);if(t.tag!==0&&n===2){var r=t_(t);r!==0&&(e=r,n=D_(t,r))}if(n===1)throw n=Sl,Da(t,0),Ii(t,e),Yn(t,Pt()),n;if(n===6)throw Error(pe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ya(t,Bn,Qr),Yn(t,Pt()),null}function rm(t,e){var n=ct;ct|=1;try{return t(e)}finally{ct=n,ct===0&&(js=Pt()+500,Ld&&ca())}}function Ua(t){$i!==null&&$i.tag===0&&(ct&6)===0&&Ns();var e=ct;ct|=1;var n=pr.transition,r=_t;try{if(pr.transition=null,_t=1,t)return t()}finally{_t=r,pr.transition=n,ct=e,(ct&6)===0&&ca()}}function im(){Xn=ys.current,Et(ys)}function Da(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,OT(n)),zt!==null)for(n=zt.return;n!==null;){var r=n;switch(Fp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&zu();break;case 3:Fs(),Et(Gn),Et(Cn),Gp();break;case 5:Wp(r);break;case 4:Fs();break;case 13:Et(Nt);break;case 19:Et(Nt);break;case 10:Vp(r.type._context);break;case 22:case 23:im()}n=n.return}if(en=t,zt=t=Gi(t.current,null),cn=Xn=e,Wt=0,Sl=null,tm=Fd=Fa=0,Bn=Jo=null,ka!==null){for(e=0;e<ka.length;e++)if(n=ka[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var l=a.next;a.next=i,r.next=l}n.pending=r}ka=null}return t}function nx(t,e){do{var n=zt;try{if(zp(),mu.current=Ju,Yu){for(var r=Dt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Yu=!1}if($a=0,Xt=qt=Dt=null,Ko=!1,xl=0,em.current=null,n===null||n.return===null){Wt=1,Sl=e,zt=null;break}e:{var a=t,l=n.return,h=n,p=e;if(e=cn,h.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){var v=p,S=h,N=S.tag;if((S.mode&1)===0&&(N===0||N===11||N===15)){var C=S.alternate;C?(S.updateQueue=C.updateQueue,S.memoizedState=C.memoizedState,S.lanes=C.lanes):(S.updateQueue=null,S.memoizedState=null)}var A=Pv(l);if(A!==null){A.flags&=-257,Rv(A,l,h,a,e),A.mode&1&&Lv(a,v,e),e=A,p=v;var R=e.updateQueue;if(R===null){var D=new Set;D.add(p),e.updateQueue=D}else R.add(p);break e}else{if((e&1)===0){Lv(a,v,e),am();break e}p=Error(pe(426))}}else if(St&&h.mode&1){var L=Pv(l);if(L!==null){(L.flags&65536)===0&&(L.flags|=256),Rv(L,l,h,a,e),Up(Us(p,h));break e}}a=p=Us(p,h),Wt!==4&&(Wt=2),Jo===null?Jo=[a]:Jo.push(a),a=l;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var I=Uw(a,p,e);Tv(a,I);break e;case 1:h=p;var M=a.type,F=a.stateNode;if((a.flags&128)===0&&(typeof M.getDerivedStateFromError=="function"||F!==null&&typeof F.componentDidCatch=="function"&&(qi===null||!qi.has(F)))){a.flags|=65536,e&=-e,a.lanes|=e;var z=jw(a,h,e);Tv(a,z);break e}}a=a.return}while(a!==null)}ax(n)}catch(j){e=j,zt===n&&n!==null&&(zt=n=n.return);continue}break}while(1)}function rx(){var t=Qu.current;return Qu.current=Ju,t===null?Ju:t}function am(){(Wt===0||Wt===3||Wt===2)&&(Wt=4),en===null||(Fa&268435455)===0&&(Fd&268435455)===0||Ii(en,cn)}function ed(t,e){var n=ct;ct|=2;var r=rx();(en!==t||cn!==e)&&(Qr=null,Da(t,e));do try{rN();break}catch(i){nx(t,i)}while(1);if(zp(),ct=n,Qu.current=r,zt!==null)throw Error(pe(261));return en=null,cn=0,Wt}function rN(){for(;zt!==null;)ix(zt)}function iN(){for(;zt!==null&&!DC();)ix(zt)}function ix(t){var e=ox(t.alternate,t,Xn);t.memoizedProps=t.pendingProps,e===null?ax(t):zt=e,em.current=null}function ax(t){var e=t;do{var n=e.alternate;if(t=e.return,(e.flags&32768)===0){if(n=JT(n,e,Xn),n!==null){zt=n;return}}else{if(n=QT(n,e),n!==null){n.flags&=32767,zt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Wt=6,zt=null;return}}if(e=e.sibling,e!==null){zt=e;return}zt=e=t}while(e!==null);Wt===0&&(Wt=5)}function ya(t,e,n){var r=_t,i=pr.transition;try{pr.transition=null,_t=1,aN(t,e,n,r)}finally{pr.transition=i,_t=r}return null}function aN(t,e,n,r){do Ns();while($i!==null);if((ct&6)!==0)throw Error(pe(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(pe(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(UC(t,a),t===en&&(zt=en=null,cn=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||Gc||(Gc=!0,lx(Pu,function(){return Ns(),null})),a=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||a){a=pr.transition,pr.transition=null;var l=_t;_t=1;var h=ct;ct|=4,em.current=null,ZT(t,n),Zw(n,t),ST(o_),$u=!!s_,o_=s_=null,t.current=n,eN(n),IC(),ct=h,_t=l,pr.transition=a}else t.current=n;if(Gc&&(Gc=!1,$i=t,Zu=i),a=t.pendingLanes,a===0&&(qi=null),MC(n.stateNode),Yn(t,Pt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Xu)throw Xu=!1,t=T_,T_=null,t;return(Zu&1)!==0&&t.tag!==0&&Ns(),a=t.pendingLanes,(a&1)!==0?t===N_?Qo++:(Qo=0,N_=t):Qo=0,ca(),null}function Ns(){if($i!==null){var t=Fb(Zu),e=pr.transition,n=_t;try{if(pr.transition=null,_t=16>t?16:t,$i===null)var r=!1;else{if(t=$i,$i=null,Zu=0,(ct&6)!==0)throw Error(pe(331));var i=ct;for(ct|=4,Ae=t.current;Ae!==null;){var a=Ae,l=a.child;if((Ae.flags&16)!==0){var h=a.deletions;if(h!==null){for(var p=0;p<h.length;p++){var v=h[p];for(Ae=v;Ae!==null;){var S=Ae;switch(S.tag){case 0:case 11:case 15:Yo(8,S,a)}var N=S.child;if(N!==null)N.return=S,Ae=N;else for(;Ae!==null;){S=Ae;var C=S.sibling,A=S.return;if(Jw(S),S===v){Ae=null;break}if(C!==null){C.return=A,Ae=C;break}Ae=A}}}var R=a.alternate;if(R!==null){var D=R.child;if(D!==null){R.child=null;do{var L=D.sibling;D.sibling=null,D=L}while(D!==null)}}Ae=a}}if((a.subtreeFlags&2064)!==0&&l!==null)l.return=a,Ae=l;else e:for(;Ae!==null;){if(a=Ae,(a.flags&2048)!==0)switch(a.tag){case 0:case 11:case 15:Yo(9,a,a.return)}var I=a.sibling;if(I!==null){I.return=a.return,Ae=I;break e}Ae=a.return}}var M=t.current;for(Ae=M;Ae!==null;){l=Ae;var F=l.child;if((l.subtreeFlags&2064)!==0&&F!==null)F.return=l,Ae=F;else e:for(l=M;Ae!==null;){if(h=Ae,(h.flags&2048)!==0)try{switch(h.tag){case 0:case 11:case 15:$d(9,h)}}catch(j){Mt(h,h.return,j)}if(h===l){Ae=null;break e}var z=h.sibling;if(z!==null){z.return=h.return,Ae=z;break e}Ae=h.return}}if(ct=i,ca(),Vr&&typeof Vr.onPostCommitFiberRoot=="function")try{Vr.onPostCommitFiberRoot(Dd,t)}catch{}r=!0}return r}finally{_t=n,pr.transition=e}}return!1}function Yv(t,e,n){e=Us(n,e),e=Uw(t,e,1),t=Bi(t,e,1),e=Rn(),t!==null&&(Gl(t,1,e),Yn(t,e))}function Mt(t,e,n){if(t.tag===3)Yv(t,t,n);else for(;e!==null;){if(e.tag===3){Yv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(qi===null||!qi.has(r))){t=Us(n,t),t=jw(e,t,1),e=Bi(e,t,1),t=Rn(),e!==null&&(Gl(e,1,t),Yn(e,t));break}}e=e.return}}function sN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Rn(),t.pingedLanes|=t.suspendedLanes&n,en===t&&(cn&n)===n&&(Wt===4||Wt===3&&(cn&130023424)===cn&&500>Pt()-nm?Da(t,0):tm|=n),Yn(t,e)}function sx(t,e){e===0&&((t.mode&1)===0?e=1:(e=$c,$c<<=1,($c&130023424)===0&&($c=4194304)));var n=Rn();t=ui(t,e),t!==null&&(Gl(t,e,n),Yn(t,n))}function oN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),sx(t,n)}function lN(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(pe(314))}r!==null&&r.delete(e),sx(t,n)}var ox;ox=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Gn.current)Wn=!0;else{if((t.lanes&n)===0&&(e.flags&128)===0)return Wn=!1,YT(t,e,n);Wn=(t.flags&131072)!==0}else Wn=!1,St&&(e.flags&1048576)!==0&&uw(e,Bu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;vu(t,e),t=e.pendingProps;var i=Ps(e,Cn.current);Ts(e,n),i=Yp(null,e,r,t,i,n);var a=Jp();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Kn(r)?(a=!0,Vu(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Bp(e),i.updater=Pd,e.stateNode=i,i._reactInternals=e,m_(e,r,t,n),e=y_(null,e,r,!0,a,n)):(e.tag=0,St&&a&&$p(e),Nn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(vu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=uN(r),t=Sr(r,t),i){case 0:e=v_(null,e,r,t,n);break e;case 1:e=Uv(null,e,r,t,n);break e;case 11:e=$v(null,e,r,t,n);break e;case 14:e=Fv(null,e,r,Sr(r.type,t),n);break e}throw Error(pe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sr(r,i),v_(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sr(r,i),Uv(t,e,r,i,n);case 3:e:{if(Bw(e),t===null)throw Error(pe(387));r=e.pendingProps,a=e.memoizedState,i=a.element,_w(t,e),Gu(e,r,null,n);var l=e.memoizedState;if(r=l.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=Us(Error(pe(423)),e),e=jv(t,e,r,n,i);break e}else if(r!==i){i=Us(Error(pe(424)),e),e=jv(t,e,r,n,i);break e}else for(er=Hi(e.stateNode.containerInfo.firstChild),tr=e,St=!0,Tr=null,n=vw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Rs(),r===i){e=di(t,e,n);break e}Nn(t,e,r,n)}e=e.child}return e;case 5:return yw(e),t===null&&f_(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,l=i.children,l_(r,i)?l=null:a!==null&&l_(r,a)&&(e.flags|=32),Hw(t,e),Nn(t,e,l,n),e.child;case 6:return t===null&&f_(e),null;case 13:return qw(t,e,n);case 4:return qp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=$s(e,null,r,n):Nn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sr(r,i),$v(t,e,r,i,n);case 7:return Nn(t,e,e.pendingProps,n),e.child;case 8:return Nn(t,e,e.pendingProps.children,n),e.child;case 12:return Nn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,l=i.value,vt(qu,r._currentValue),r._currentValue=l,a!==null)if(Or(a.value,l)){if(a.children===i.children&&!Gn.current){e=di(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var h=a.dependencies;if(h!==null){l=a.child;for(var p=h.firstContext;p!==null;){if(p.context===r){if(a.tag===1){p=ai(-1,n&-n),p.tag=2;var v=a.updateQueue;if(v!==null){v=v.shared;var S=v.pending;S===null?p.next=p:(p.next=S.next,S.next=p),v.pending=p}}a.lanes|=n,p=a.alternate,p!==null&&(p.lanes|=n),__(a.return,n,e),h.lanes|=n;break}p=p.next}}else if(a.tag===10)l=a.type===e.type?null:a.child;else if(a.tag===18){if(l=a.return,l===null)throw Error(pe(341));l.lanes|=n,h=l.alternate,h!==null&&(h.lanes|=n),__(l,n,e),l=a.sibling}else l=a.child;if(l!==null)l.return=a;else for(l=a;l!==null;){if(l===e){l=null;break}if(a=l.sibling,a!==null){a.return=l.return,l=a;break}l=l.return}a=l}Nn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ts(e,n),i=vr(i),r=r(i),e.flags|=1,Nn(t,e,r,n),e.child;case 14:return r=e.type,i=Sr(r,e.pendingProps),i=Sr(r.type,i),Fv(t,e,r,i,n);case 15:return zw(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Sr(r,i),vu(t,e),e.tag=1,Kn(r)?(t=!0,Vu(e)):t=!1,Ts(e,n),mw(e,r,i),m_(e,r,i,n),y_(null,e,r,!0,t,n);case 19:return Ww(t,e,n);case 22:return Vw(t,e,n)}throw Error(pe(156,e.tag))};function lx(t,e){return Lb(t,e)}function cN(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function fr(t,e,n,r){return new cN(t,e,n,r)}function sm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function uN(t){if(typeof t=="function")return sm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Sp)return 11;if(t===Cp)return 14}return 2}function Gi(t,e){var n=t.alternate;return n===null?(n=fr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function wu(t,e,n,r,i,a){var l=2;if(r=t,typeof t=="function")sm(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case cs:return Ia(n.children,i,a,e);case Ep:l=8,i|=8;break;case jf:return t=fr(12,n,e,i|2),t.elementType=jf,t.lanes=a,t;case zf:return t=fr(13,n,e,i),t.elementType=zf,t.lanes=a,t;case Vf:return t=fr(19,n,e,i),t.elementType=Vf,t.lanes=a,t;case gb:return Ud(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case pb:l=10;break e;case mb:l=9;break e;case Sp:l=11;break e;case Cp:l=14;break e;case Ci:l=16,r=null;break e}throw Error(pe(130,t==null?t:typeof t,""))}return e=fr(l,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function Ia(t,e,n,r){return t=fr(7,t,r,e),t.lanes=n,t}function Ud(t,e,n,r){return t=fr(22,t,r,e),t.elementType=gb,t.lanes=n,t.stateNode={isHidden:!1},t}function af(t,e,n){return t=fr(6,t,null,e),t.lanes=n,t}function sf(t,e,n){return e=fr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function dN(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Uh(0),this.expirationTimes=Uh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Uh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function om(t,e,n,r,i,a,l,h,p){return t=new dN(t,e,n,h,p),e===1?(e=1,a===!0&&(e|=8)):e=0,a=fr(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bp(a),t}function hN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ls,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function cx(t){if(!t)return ta;t=t._reactInternals;e:{if(Qa(t)!==t||t.tag!==1)throw Error(pe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Kn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(pe(171))}if(t.tag===1){var n=t.type;if(Kn(n))return lw(t,n,e)}return e}function ux(t,e,n,r,i,a,l,h,p){return t=om(n,r,!0,t,i,a,l,h,p),t.context=cx(null),n=t.current,r=Rn(),i=Wi(n),a=ai(r,i),a.callback=e!=null?e:null,Bi(n,a,i),t.current.lanes=i,Gl(t,i,r),Yn(t,r),t}function jd(t,e,n,r){var i=e.current,a=Rn(),l=Wi(i);return n=cx(n),e.context===null?e.context=n:e.pendingContext=n,e=ai(a,l),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Bi(i,e,l),t!==null&&(Ir(t,i,l,a),pu(t,i,l)),l}function td(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Jv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function lm(t,e){Jv(t,e),(t=t.alternate)&&Jv(t,e)}function fN(){return null}var dx=typeof reportError=="function"?reportError:function(t){console.error(t)};function cm(t){this._internalRoot=t}zd.prototype.render=cm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(pe(409));jd(t,e,null,null)};zd.prototype.unmount=cm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ua(function(){jd(null,t,null,null)}),e[ci]=null}};function zd(t){this._internalRoot=t}zd.prototype.unstable_scheduleHydration=function(t){if(t){var e=zb();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Di.length&&e!==0&&e<Di[n].priority;n++);Di.splice(n,0,t),n===0&&Hb(t)}};function um(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Vd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Qv(){}function _N(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var v=td(l);a.call(v)}}var l=ux(e,r,t,0,null,!1,!1,"",Qv);return t._reactRootContainer=l,t[ci]=l.current,gl(t.nodeType===8?t.parentNode:t),Ua(),l}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var h=r;r=function(){var v=td(p);h.call(v)}}var p=om(t,0,!1,null,null,!1,!1,"",Qv);return t._reactRootContainer=p,t[ci]=p.current,gl(t.nodeType===8?t.parentNode:t),Ua(function(){jd(e,p,n,r)}),p}function Hd(t,e,n,r,i){var a=n._reactRootContainer;if(a){var l=a;if(typeof i=="function"){var h=i;i=function(){var p=td(l);h.call(p)}}jd(e,l,t,i)}else l=_N(n,e,t,i,r);return td(l)}Ub=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Lo(e.pendingLanes);n!==0&&(Dp(e,n|1),Yn(e,Pt()),(ct&6)===0&&(js=Pt()+500,ca()))}break;case 13:Ua(function(){var r=ui(t,1);if(r!==null){var i=Rn();Ir(r,t,1,i)}}),lm(t,1)}};Ip=function(t){if(t.tag===13){var e=ui(t,134217728);if(e!==null){var n=Rn();Ir(e,t,134217728,n)}lm(t,134217728)}};jb=function(t){if(t.tag===13){var e=Wi(t),n=ui(t,e);if(n!==null){var r=Rn();Ir(n,t,e,r)}lm(t,e)}};zb=function(){return _t};Vb=function(t,e){var n=_t;try{return _t=t,e()}finally{_t=n}};Xf=function(t,e,n){switch(e){case"input":if(qf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Md(r);if(!i)throw Error(pe(90));yb(r),qf(r,i)}}}break;case"textarea":wb(t,n);break;case"select":e=n.value,e!=null&&ks(t,!!n.multiple,e,!1)}};Nb=rm;Db=Ua;var pN={usingClientEntryPoint:!1,Events:[Yl,fs,Md,Cb,Tb,rm]},Eo={findFiberByHostInstance:xa,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},mN={bundleType:Eo.bundleType,version:Eo.version,rendererPackageName:Eo.rendererPackageName,rendererConfig:Eo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ob(t),t===null?null:t.stateNode},findFiberByHostInstance:Eo.findFiberByHostInstance||fN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kc.isDisabled&&Kc.supportsFiber)try{Dd=Kc.inject(mN),Vr=Kc}catch{}}ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pN;ar.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!um(e))throw Error(pe(200));return hN(t,e,null,n)};ar.createRoot=function(t,e){if(!um(t))throw Error(pe(299));var n=!1,r="",i=dx;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=om(t,1,!1,null,null,n,!1,r,i),t[ci]=e.current,gl(t.nodeType===8?t.parentNode:t),new cm(e)};ar.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(pe(188)):(t=Object.keys(t).join(","),Error(pe(268,t)));return t=Ob(e),t=t===null?null:t.stateNode,t};ar.flushSync=function(t){return Ua(t)};ar.hydrate=function(t,e,n){if(!Vd(e))throw Error(pe(200));return Hd(null,t,e,!0,n)};ar.hydrateRoot=function(t,e,n){if(!um(t))throw Error(pe(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",l=dx;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=ux(e,null,t,1,n!=null?n:null,i,!1,a,l),t[ci]=e.current,gl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new zd(e)};ar.render=function(t,e,n){if(!Vd(e))throw Error(pe(200));return Hd(null,t,e,!1,n)};ar.unmountComponentAtNode=function(t){if(!Vd(t))throw Error(pe(40));return t._reactRootContainer?(Ua(function(){Hd(null,null,t,!1,function(){t._reactRootContainer=null,t[ci]=null})}),!0):!1};ar.unstable_batchedUpdates=rm;ar.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Vd(n))throw Error(pe(200));if(t==null||t._reactInternals===void 0)throw Error(pe(38));return Hd(t,e,n,!1,r)};ar.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=ar})(ub);var Xv=ub.exports;Ff.createRoot=Xv.createRoot,Ff.hydrateRoot=Xv.hydrateRoot;function nd(){return nd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nd.apply(this,arguments)}var Sa;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Sa||(Sa={}));var Zv=function(t){return t},ey="beforeunload",gN="popstate";function vN(t){t===void 0&&(t={});var e=t,n=e.window,r=n===void 0?document.defaultView:n,i=r.history;function a(){var H=r.location,B=H.pathname,K=H.search,Y=H.hash,te=i.state||{};return[te.idx,Zv({pathname:B,search:K,hash:Y,state:te.usr||null,key:te.key||"default"})]}var l=null;function h(){if(l)A.call(l),l=null;else{var H=Sa.Pop,B=a(),K=B[0],Y=B[1];if(A.length){if(K!=null){var te=S-K;te&&(l={action:H,location:Y,retry:function(){j(te*-1)}},j(te))}}else M(H)}}r.addEventListener(gN,h);var p=Sa.Pop,v=a(),S=v[0],N=v[1],C=ny(),A=ny();S==null&&(S=0,i.replaceState(nd({},i.state,{idx:S}),""));function R(H){return typeof H=="string"?H:A_(H)}function D(H,B){return B===void 0&&(B=null),Zv(nd({pathname:N.pathname,hash:"",search:""},typeof H=="string"?Xa(H):H,{state:B,key:yN()}))}function L(H,B){return[{usr:H.state,key:H.key,idx:B},R(H)]}function I(H,B,K){return!A.length||(A.call({action:H,location:B,retry:K}),!1)}function M(H){p=H;var B=a();S=B[0],N=B[1],C.call({action:p,location:N})}function F(H,B){var K=Sa.Push,Y=D(H,B);function te(){F(H,B)}if(I(K,Y,te)){var Z=L(Y,S+1),ue=Z[0],xe=Z[1];try{i.pushState(ue,"",xe)}catch{r.location.assign(xe)}M(K)}}function z(H,B){var K=Sa.Replace,Y=D(H,B);function te(){z(H,B)}if(I(K,Y,te)){var Z=L(Y,S),ue=Z[0],xe=Z[1];i.replaceState(ue,"",xe),M(K)}}function j(H){i.go(H)}var W={get action(){return p},get location(){return N},createHref:R,push:F,replace:z,go:j,back:function(){j(-1)},forward:function(){j(1)},listen:function(B){return C.push(B)},block:function(B){var K=A.push(B);return A.length===1&&r.addEventListener(ey,ty),function(){K(),A.length||r.removeEventListener(ey,ty)}}};return W}function ty(t){t.preventDefault(),t.returnValue=""}function ny(){var t=[];return{get length(){return t.length},push:function(n){return t.push(n),function(){t=t.filter(function(r){return r!==n})}},call:function(n){t.forEach(function(r){return r&&r(n)})}}}function yN(){return Math.random().toString(36).substr(2,8)}function A_(t){var e=t.pathname,n=e===void 0?"/":e,r=t.search,i=r===void 0?"":r,a=t.hash,l=a===void 0?"":a;return i&&i!=="?"&&(n+=i.charAt(0)==="?"?i:"?"+i),l&&l!=="#"&&(n+=l.charAt(0)==="#"?l:"#"+l),n}function Xa(t){var e={};if(t){var n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));var r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}/**
 * React Router v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const dm=oe.exports.createContext(null),hm=oe.exports.createContext(null),Bd=oe.exports.createContext({outlet:null,matches:[]});function Mr(t,e){if(!t)throw new Error(e)}function bN(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Xa(e):e,i=_x(r.pathname||"/",n);if(i==null)return null;let a=hx(t);wN(a);let l=null;for(let h=0;l==null&&h<a.length;++h)l=IN(a[h],i);return l}function hx(t,e,n,r){return e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r=""),t.forEach((i,a)=>{let l={relativePath:i.path||"",caseSensitive:i.caseSensitive===!0,childrenIndex:a,route:i};l.relativePath.startsWith("/")&&(l.relativePath.startsWith(r)||Mr(!1),l.relativePath=l.relativePath.slice(r.length));let h=Ki([r,l.relativePath]),p=n.concat(l);i.children&&i.children.length>0&&(i.index===!0&&Mr(!1),hx(i.children,e,p,h)),!(i.path==null&&!i.index)&&e.push({path:h,score:NN(h,i.index),routesMeta:p})}),e}function wN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:DN(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const xN=/^:\w+$/,kN=3,EN=2,SN=1,CN=10,TN=-2,ry=t=>t==="*";function NN(t,e){let n=t.split("/"),r=n.length;return n.some(ry)&&(r+=TN),e&&(r+=EN),n.filter(i=>!ry(i)).reduce((i,a)=>i+(xN.test(a)?kN:a===""?SN:CN),r)}function DN(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function IN(t,e){let{routesMeta:n}=t,r={},i="/",a=[];for(let l=0;l<n.length;++l){let h=n[l],p=l===n.length-1,v=i==="/"?e:e.slice(i.length)||"/",S=AN({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},v);if(!S)return null;Object.assign(r,S.params);let N=h.route;a.push({params:r,pathname:Ki([i,S.pathname]),pathnameBase:px(Ki([i,S.pathnameBase])),route:N}),S.pathnameBase!=="/"&&(i=Ki([i,S.pathnameBase]))}return a}function AN(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=ON(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),h=i.slice(1);return{params:r.reduce((v,S,N)=>{if(S==="*"){let C=h[N]||"";l=a.slice(0,a.length-C.length).replace(/(.)\/+$/,"$1")}return v[S]=MN(h[N]||""),v},{}),pathname:a,pathnameBase:l,pattern:t}}function ON(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(l,h)=>(r.push(h),"([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)",[new RegExp(i,e?void 0:"i"),r]}function MN(t,e){try{return decodeURIComponent(t)}catch{return t}}function LN(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Xa(t):t;return{pathname:n?n.startsWith("/")?n:PN(n,e):e,search:$N(r),hash:FN(i)}}function PN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function fx(t,e,n){let r=typeof t=="string"?Xa(t):t,i=t===""||r.pathname===""?"/":r.pathname,a;if(i==null)a=n;else{let h=e.length-1;if(i.startsWith("..")){let p=i.split("/");for(;p[0]==="..";)p.shift(),h-=1;r.pathname=p.join("/")}a=h>=0?e[h]:"/"}let l=LN(r,a);return i&&i!=="/"&&i.endsWith("/")&&!l.pathname.endsWith("/")&&(l.pathname+="/"),l}function RN(t){return t===""||t.pathname===""?"/":typeof t=="string"?Xa(t).pathname:t.pathname}function _x(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=t.charAt(e.length);return n&&n!=="/"?null:t.slice(e.length)||"/"}const Ki=t=>t.join("/").replace(/\/\/+/g,"/"),px=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$N=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,FN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function UN(t){eo()||Mr(!1);let{basename:e,navigator:n}=oe.exports.useContext(dm),{hash:r,pathname:i,search:a}=mx(t),l=i;if(e!=="/"){let h=RN(t),p=h!=null&&h.endsWith("/");l=i==="/"?e+(p?"/":""):Ki([e,i])}return n.createHref({pathname:l,search:a,hash:r})}function eo(){return oe.exports.useContext(hm)!=null}function qd(){return eo()||Mr(!1),oe.exports.useContext(hm).location}function Un(){eo()||Mr(!1);let{basename:t,navigator:e}=oe.exports.useContext(dm),{matches:n}=oe.exports.useContext(Bd),{pathname:r}=qd(),i=JSON.stringify(n.map(h=>h.pathnameBase)),a=oe.exports.useRef(!1);return oe.exports.useEffect(()=>{a.current=!0}),oe.exports.useCallback(function(h,p){if(p===void 0&&(p={}),!a.current)return;if(typeof h=="number"){e.go(h);return}let v=fx(h,JSON.parse(i),r);t!=="/"&&(v.pathname=Ki([t,v.pathname])),(p.replace?e.replace:e.push)(v,p.state)},[t,e,i,r])}function mx(t){let{matches:e}=oe.exports.useContext(Bd),{pathname:n}=qd(),r=JSON.stringify(e.map(i=>i.pathnameBase));return oe.exports.useMemo(()=>fx(t,JSON.parse(r),n),[t,r,n])}function jN(t,e){eo()||Mr(!1);let{matches:n}=oe.exports.useContext(Bd),r=n[n.length-1],i=r?r.params:{};r&&r.pathname;let a=r?r.pathnameBase:"/";r&&r.route;let l=qd(),h;if(e){var p;let C=typeof e=="string"?Xa(e):e;a==="/"||((p=C.pathname)==null?void 0:p.startsWith(a))||Mr(!1),h=C}else h=l;let v=h.pathname||"/",S=a==="/"?v:v.slice(a.length)||"/",N=bN(t,{pathname:S});return zN(N&&N.map(C=>Object.assign({},C,{params:Object.assign({},i,C.params),pathname:Ki([a,C.pathname]),pathnameBase:C.pathnameBase==="/"?a:Ki([a,C.pathnameBase])})),n)}function zN(t,e){return e===void 0&&(e=[]),t==null?null:t.reduceRight((n,r,i)=>oe.exports.createElement(Bd.Provider,{children:r.route.element!==void 0?r.route.element:n,value:{outlet:n,matches:e.concat(t.slice(0,i+1))}}),null)}function fm(t){let{to:e,replace:n,state:r}=t;eo()||Mr(!1);let i=Un();return oe.exports.useEffect(()=>{i(e,{replace:n,state:r})}),null}function an(t){Mr(!1)}function VN(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Sa.Pop,navigator:a,static:l=!1}=t;eo()&&Mr(!1);let h=px(e),p=oe.exports.useMemo(()=>({basename:h,navigator:a,static:l}),[h,a,l]);typeof r=="string"&&(r=Xa(r));let{pathname:v="/",search:S="",hash:N="",state:C=null,key:A="default"}=r,R=oe.exports.useMemo(()=>{let D=_x(v,h);return D==null?null:{pathname:D,search:S,hash:N,state:C,key:A}},[h,v,S,N,C,A]);return R==null?null:oe.exports.createElement(dm.Provider,{value:p},oe.exports.createElement(hm.Provider,{children:n,value:{location:R,navigationType:i}}))}function HN(t){let{children:e,location:n}=t;return jN(O_(e),n)}function O_(t){let e=[];return oe.exports.Children.forEach(t,n=>{if(!oe.exports.isValidElement(n))return;if(n.type===oe.exports.Fragment){e.push.apply(e,O_(n.props.children));return}n.type!==an&&Mr(!1);let r={caseSensitive:n.props.caseSensitive,element:n.props.element,index:n.props.index,path:n.props.path};n.props.children&&(r.children=O_(n.props.children)),e.push(r)}),e}/**
 * React Router DOM v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function M_(){return M_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},M_.apply(this,arguments)}function BN(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}const qN=["onClick","reloadDocument","replace","state","target","to"];function WN(t){let{basename:e,children:n,window:r}=t,i=oe.exports.useRef();i.current==null&&(i.current=vN({window:r}));let a=i.current,[l,h]=oe.exports.useState({action:a.action,location:a.location});return oe.exports.useLayoutEffect(()=>a.listen(h),[a]),oe.exports.createElement(VN,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:a})}function GN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}const Ft=oe.exports.forwardRef(function(e,n){let{onClick:r,reloadDocument:i,replace:a=!1,state:l,target:h,to:p}=e,v=BN(e,qN),S=UN(p),N=KN(p,{replace:a,state:l,target:h});function C(A){r&&r(A),!A.defaultPrevented&&!i&&N(A)}return oe.exports.createElement("a",M_({},v,{href:S,onClick:C,ref:n,target:h}))});function KN(t,e){let{target:n,replace:r,state:i}=e===void 0?{}:e,a=Un(),l=qd(),h=mx(t);return oe.exports.useCallback(p=>{if(p.button===0&&(!n||n==="_self")&&!GN(p)){p.preventDefault();let v=!!r||A_(l)===A_(h);a(t,{replace:v,state:i})}},[l,a,h,r,i,n,t])}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},YN=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],l=t[n++],h=t[n++],p=((i&7)<<18|(a&63)<<12|(l&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(p>>10)),e[r++]=String.fromCharCode(56320+(p&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},vx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],l=i+1<t.length,h=l?t[i+1]:0,p=i+2<t.length,v=p?t[i+2]:0,S=a>>2,N=(a&3)<<4|h>>4;let C=(h&15)<<2|v>>6,A=v&63;p||(A=64,l||(C=64)),r.push(n[S],n[N],n[C],n[A])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(gx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):YN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],h=i<t.length?n[t.charAt(i)]:0;++i;const v=i<t.length?n[t.charAt(i)]:64;++i;const N=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||h==null||v==null||N==null)throw Error();const C=a<<2|h>>4;if(r.push(C),v!==64){const A=h<<4&240|v>>2;if(r.push(A),N!==64){const R=v<<6&192|N;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},JN=function(t){const e=gx(t);return vx.encodeByteArray(e,!0)},yx=function(t){return JN(t).replace(/\./g,"")},QN=function(t){try{return vx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function wx(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function xx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ZN(){return tn().indexOf("Electron/")>=0}function kx(){const t=tn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function eD(){return tn().indexOf("MSAppHost/")>=0}function tD(){return typeof indexedDB=="object"}function nD(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD="FirebaseError";class yi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=rD,Object.setPrototypeOf(this,yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ql.prototype.create)}}class Ql{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?iD(a,r):"Error",h=`${this.serviceName}: ${l} (${i}).`;return new yi(i,h,r)}}function iD(t,e){return t.replace(aD,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const aD=/\{\$([^}]+)}/g;function sD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function rd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],l=e[i];if(iy(a)&&iy(l)){if(!rd(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function iy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ro(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function $o(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function oD(t,e){const n=new lD(t,e);return n.subscribe.bind(n)}class lD{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");cD(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=of),i.error===void 0&&(i.error=of),i.complete===void 0&&(i.complete=of);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function cD(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function of(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(t){return t&&t._delegate?t._delegate:t}class ja{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ba="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new XN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hD(e))try{this.getOrInitializeService({instanceIdentifier:ba})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=ba){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ba){return this.instances.has(e)}getOptions(e=ba){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(a);r===h&&l.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(!!r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:dD(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ba){return this.component?this.component.multipleInstances?e:ba:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function dD(t){return t===ba?void 0:t}function hD(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new uD(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ht;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ht||(ht={}));const _D={debug:ht.DEBUG,verbose:ht.VERBOSE,info:ht.INFO,warn:ht.WARN,error:ht.ERROR,silent:ht.SILENT},pD=ht.INFO,mD={[ht.DEBUG]:"log",[ht.VERBOSE]:"log",[ht.INFO]:"info",[ht.WARN]:"warn",[ht.ERROR]:"error"},gD=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=mD[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class _m{constructor(e){this.name=e,this._logLevel=pD,this._logHandler=gD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ht))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_D[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ht.DEBUG,...e),this._logHandler(this,ht.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ht.VERBOSE,...e),this._logHandler(this,ht.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ht.INFO,...e),this._logHandler(this,ht.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ht.WARN,...e),this._logHandler(this,ht.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ht.ERROR,...e),this._logHandler(this,ht.ERROR,...e)}}const vD=(t,e)=>e.some(n=>t instanceof n);let ay,sy;function yD(){return ay||(ay=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bD(){return sy||(sy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ex=new WeakMap,L_=new WeakMap,Sx=new WeakMap,lf=new WeakMap,pm=new WeakMap;function wD(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(Yi(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&Ex.set(n,t)}).catch(()=>{}),pm.set(e,t),e}function xD(t){if(L_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});L_.set(t,e)}let P_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return L_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Sx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Yi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function kD(t){P_=t(P_)}function ED(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(cf(this),e,...n);return Sx.set(r,e.sort?e.sort():[e]),Yi(r)}:bD().includes(t)?function(...e){return t.apply(cf(this),e),Yi(Ex.get(this))}:function(...e){return Yi(t.apply(cf(this),e))}}function SD(t){return typeof t=="function"?ED(t):(t instanceof IDBTransaction&&xD(t),vD(t,yD())?new Proxy(t,P_):t)}function Yi(t){if(t instanceof IDBRequest)return wD(t);if(lf.has(t))return lf.get(t);const e=SD(t);return e!==t&&(lf.set(t,e),pm.set(e,t)),e}const cf=t=>pm.get(t);function CD(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(t,e),h=Yi(l);return r&&l.addEventListener("upgradeneeded",p=>{r(Yi(l.result),p.oldVersion,p.newVersion,Yi(l.transaction))}),n&&l.addEventListener("blocked",()=>n()),h.then(p=>{a&&p.addEventListener("close",()=>a()),i&&p.addEventListener("versionchange",()=>i())}).catch(()=>{}),h}const TD=["get","getKey","getAll","getAllKeys","count"],ND=["put","add","delete","clear"],uf=new Map;function oy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(uf.get(e))return uf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=ND.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||TD.includes(n)))return;const a=async function(l,...h){const p=this.transaction(l,i?"readwrite":"readonly");let v=p.store;return r&&(v=v.index(h.shift())),(await Promise.all([v[n](...h),i&&p.done]))[0]};return uf.set(e,a),a}kD(t=>({...t,get:(e,n,r)=>oy(e,n)||t.get(e,n,r),has:(e,n)=>!!oy(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ID(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ID(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const R_="@firebase/app",ly="0.7.32";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const za=new _m("@firebase/app"),AD="@firebase/app-compat",OD="@firebase/analytics-compat",MD="@firebase/analytics",LD="@firebase/app-check-compat",PD="@firebase/app-check",RD="@firebase/auth",$D="@firebase/auth-compat",FD="@firebase/database",UD="@firebase/database-compat",jD="@firebase/functions",zD="@firebase/functions-compat",VD="@firebase/installations",HD="@firebase/installations-compat",BD="@firebase/messaging",qD="@firebase/messaging-compat",WD="@firebase/performance",GD="@firebase/performance-compat",KD="@firebase/remote-config",YD="@firebase/remote-config-compat",JD="@firebase/storage",QD="@firebase/storage-compat",XD="@firebase/firestore",ZD="@firebase/firestore-compat",eI="firebase",tI="9.9.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx="[DEFAULT]",nI={[R_]:"fire-core",[AD]:"fire-core-compat",[MD]:"fire-analytics",[OD]:"fire-analytics-compat",[PD]:"fire-app-check",[LD]:"fire-app-check-compat",[RD]:"fire-auth",[$D]:"fire-auth-compat",[FD]:"fire-rtdb",[UD]:"fire-rtdb-compat",[jD]:"fire-fn",[zD]:"fire-fn-compat",[VD]:"fire-iid",[HD]:"fire-iid-compat",[BD]:"fire-fcm",[qD]:"fire-fcm-compat",[WD]:"fire-perf",[GD]:"fire-perf-compat",[KD]:"fire-rc",[YD]:"fire-rc-compat",[JD]:"fire-gcs",[QD]:"fire-gcs-compat",[XD]:"fire-fst",[ZD]:"fire-fst-compat","fire-js":"fire-js",[eI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const id=new Map,$_=new Map;function rI(t,e){try{t.container.addComponent(e)}catch(n){za.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function zs(t){const e=t.name;if($_.has(e))return za.debug(`There were multiple attempts to register component ${e}.`),!1;$_.set(e,t);for(const n of id.values())rI(n,t);return!0}function mm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iI={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Va=new Ql("app","Firebase",iI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ja("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Va.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zl=tI;function sI(t,e={}){typeof e!="object"&&(e={name:e});const n=Object.assign({name:Cx,automaticDataCollectionEnabled:!1},e),r=n.name;if(typeof r!="string"||!r)throw Va.create("bad-app-name",{appName:String(r)});const i=id.get(r);if(i){if(rd(t,i.options)&&rd(n,i.config))return i;throw Va.create("duplicate-app",{appName:r})}const a=new fD(r);for(const h of $_.values())a.addComponent(h);const l=new aI(t,n,a);return id.set(r,l),l}function Tx(t=Cx){const e=id.get(t);if(!e)throw Va.create("no-app",{appName:t});return e}function Ji(t,e,n){var r;let i=(r=nI[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const h=[`Unable to register library "${i}" with version "${e}":`];a&&h.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&h.push("and"),l&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),za.warn(h.join(" "));return}zs(new ja(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI="firebase-heartbeat-database",lI=1,Cl="firebase-heartbeat-store";let df=null;function Nx(){return df||(df=CD(oI,lI,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Cl)}}}).catch(t=>{throw Va.create("idb-open",{originalErrorMessage:t.message})})),df}async function cI(t){var e;try{return(await Nx()).transaction(Cl).objectStore(Cl).get(Dx(t))}catch(n){if(n instanceof yi)za.warn(n.message);else{const r=Va.create("idb-get",{originalErrorMessage:(e=n)===null||e===void 0?void 0:e.message});za.warn(r.message)}}}async function cy(t,e){var n;try{const i=(await Nx()).transaction(Cl,"readwrite");return await i.objectStore(Cl).put(e,Dx(t)),i.done}catch(r){if(r instanceof yi)za.warn(r.message);else{const i=Va.create("idb-set",{originalErrorMessage:(n=r)===null||n===void 0?void 0:n.message});za.warn(i.message)}}}function Dx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI=1024,dI=30*24*60*60*1e3;class hI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new _I(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=uy();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const a=new Date(i.date).valueOf();return Date.now()-a<=dI}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=uy(),{heartbeatsToSend:n,unsentEntries:r}=fI(this._heartbeatsCache.heartbeats),i=yx(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function uy(){return new Date().toISOString().substring(0,10)}function fI(t,e=uI){const n=[];let r=t.slice();for(const i of t){const a=n.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),dy(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),dy(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class _I{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return tD()?nD().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await cI(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return cy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return cy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function dy(t){return yx(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(t){zs(new ja("platform-logger",e=>new DD(e),"PRIVATE")),zs(new ja("heartbeat",e=>new hI(e),"PRIVATE")),Ji(R_,ly,t),Ji(R_,ly,"esm2017"),Ji("fire-js","")}pI("");var mI="firebase",gI="9.9.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ji(mI,gI,"app");function gm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Ix(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vI=Ix,Ax=new Ql("auth","Firebase",Ix());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hy=new _m("@firebase/auth");function xu(t,...e){hy.logLevel<=ht.ERROR&&hy.error(`Auth (${Zl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(t,...e){throw vm(t,...e)}function Br(t,...e){return vm(t,...e)}function yI(t,e,n){const r=Object.assign(Object.assign({},vI()),{[e]:n});return new Ql("auth","Firebase",r).create(e,{appName:t.name})}function vm(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Ax.create(t,...e)}function Ge(t,e,...n){if(!t)throw vm(e,...n)}function ti(t){const e="INTERNAL ASSERTION FAILED: "+t;throw xu(e),new Error(e)}function hi(t,e){t||ti(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fy=new Map;function ni(t){hi(t instanceof Function,"Expected a class definition");let e=fy.get(t);return e?(hi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,fy.set(t,e),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(t,e){const n=mm(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(rd(a,e!=null?e:{}))return i;Lr(i,"already-initialized")}return n.initialize({options:e})}function wI(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ni);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function xI(){return _y()==="http:"||_y()==="https:"}function _y(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(xI()||wx()||"connection"in navigator)?navigator.onLine:!0}function EI(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,n){this.shortDelay=e,this.longDelay=n,hi(n>e,"Short delay should be less than long delay!"),this.isMobile=bx()||xx()}get(){return kI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(t,e){hi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;ti("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;ti("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;ti("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI=new ec(3e4,6e4);function tc(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function nc(t,e,n,r,i={}){return Mx(t,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const h=Xl(Object.assign({key:t.config.apiKey},l)).slice(1),p=await t._getAdditionalHeaders();return p["Content-Type"]="application/json",t.languageCode&&(p["X-Firebase-Locale"]=t.languageCode),Ox.fetch()(Lx(t,t.config.apiHost,n,h),Object.assign({method:e,headers:p,referrerPolicy:"no-referrer"},a))})}async function Mx(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},SI),e);try{const i=new TI(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Yc(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const h=a.ok?l.errorMessage:l.error.message,[p,v]=h.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yc(t,"credential-already-in-use",l);if(p==="EMAIL_EXISTS")throw Yc(t,"email-already-in-use",l);if(p==="USER_DISABLED")throw Yc(t,"user-disabled",l);const S=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw yI(t,S,v);Lr(t,S)}}catch(i){if(i instanceof yi)throw i;Lr(t,"network-request-failed")}}async function rc(t,e,n,r,i={}){const a=await nc(t,e,n,r,i);return"mfaPendingCredential"in a&&Lr(t,"multi-factor-auth-required",{_serverResponse:a}),a}function Lx(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?ym(t.config,i):`${t.config.apiScheme}://${i}`}class TI{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Br(this.auth,"network-request-failed")),CI.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Yc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Br(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NI(t,e){return nc(t,"POST","/v1/accounts:delete",e)}async function DI(t,e){return nc(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xo(t){if(!!t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function II(t,e=!1){const n=fn(t),r=await n.getIdToken(e),i=bm(r);Ge(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:Xo(hf(i.auth_time)),issuedAtTime:Xo(hf(i.iat)),expirationTime:Xo(hf(i.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function hf(t){return Number(t)*1e3}function bm(t){var e;const[n,r,i]=t.split(".");if(n===void 0||r===void 0||i===void 0)return xu("JWT malformed, contained fewer than 3 sections"),null;try{const a=QN(r);return a?JSON.parse(a):(xu("Failed to decode base64 JWT payload"),null)}catch(a){return xu("Caught error parsing JWT payload as JSON",(e=a)===null||e===void 0?void 0:e.toString()),null}}function AI(t){const e=bm(t);return Ge(e,"internal-error"),Ge(typeof e.exp<"u","internal-error"),Ge(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof yi&&OI(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function OI({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){var e;try{await this.user.getIdToken(!0)}catch(n){((e=n)===null||e===void 0?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xo(this.lastLoginAt),this.creationTime=Xo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ad(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Tl(t,DI(n,{idToken:r}));Ge(i==null?void 0:i.users.length,n,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?RI(a.providerUserInfo):[],h=PI(t.providerData,l),p=t.isAnonymous,v=!(t.email&&a.passwordHash)&&!(h!=null&&h.length),S=p?v:!1,N={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new Px(a.createdAt,a.lastLoginAt),isAnonymous:S};Object.assign(t,N)}async function LI(t){const e=fn(t);await ad(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function PI(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function RI(t){return t.map(e=>{var{providerId:n}=e,r=gm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $I(t,e){const n=await Mx(t,{},async()=>{const r=Xl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,l=Lx(t,i,"/v1/token",`key=${a}`),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",Ox.fetch()(l,{method:"POST",headers:h,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ge(e.idToken,"internal-error"),Ge(typeof e.idToken<"u","internal-error"),Ge(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):AI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return Ge(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await $I(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,l=new Nl;return r&&(Ge(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Ge(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&(Ge(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Nl,this.toJSON())}_performRefresh(){return ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(t,e){Ge(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Aa{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,a=gm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new MI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Px(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Tl(this,this.stsTokenManager.getToken(this.auth,e));return Ge(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return II(this,e)}reload(){return LI(this)}_assign(e){this!==e&&(Ge(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new Aa(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){Ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ad(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Tl(this,NI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,a,l,h,p,v,S;const N=(r=n.displayName)!==null&&r!==void 0?r:void 0,C=(i=n.email)!==null&&i!==void 0?i:void 0,A=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,R=(l=n.photoURL)!==null&&l!==void 0?l:void 0,D=(h=n.tenantId)!==null&&h!==void 0?h:void 0,L=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,I=(v=n.createdAt)!==null&&v!==void 0?v:void 0,M=(S=n.lastLoginAt)!==null&&S!==void 0?S:void 0,{uid:F,emailVerified:z,isAnonymous:j,providerData:W,stsTokenManager:H}=n;Ge(F&&H,e,"internal-error");const B=Nl.fromJSON(this.name,H);Ge(typeof F=="string",e,"internal-error"),Ei(N,e.name),Ei(C,e.name),Ge(typeof z=="boolean",e,"internal-error"),Ge(typeof j=="boolean",e,"internal-error"),Ei(A,e.name),Ei(R,e.name),Ei(D,e.name),Ei(L,e.name),Ei(I,e.name),Ei(M,e.name);const K=new Aa({uid:F,auth:e,email:C,emailVerified:z,displayName:N,isAnonymous:j,photoURL:R,phoneNumber:A,tenantId:D,stsTokenManager:B,createdAt:I,lastLoginAt:M});return W&&Array.isArray(W)&&(K.providerData=W.map(Y=>Object.assign({},Y))),L&&(K._redirectEventId=L),K}static async _fromIdTokenResponse(e,n,r=!1){const i=new Nl;i.updateFromServerResponse(n);const a=new Aa({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ad(a),a}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Rx.type="NONE";const py=Rx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ku(t,e,n){return`firebase:${t}:${e}:${n}`}class Ds{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=ku(this.userKey,i.apiKey,a),this.fullPersistenceKey=ku("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Aa._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ds(ni(py),e,r);const i=(await Promise.all(n.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let a=i[0]||ni(py);const l=ku(r,e.config.apiKey,e.name);let h=null;for(const v of n)try{const S=await v._get(l);if(S){const N=Aa._fromJSON(e,S);v!==a&&(h=N),a=v;break}}catch{}const p=i.filter(v=>v._shouldAllowMigration);return!a._shouldAllowMigration||!p.length?new Ds(a,e,r):(a=p[0],h&&await a._set(l,h.toJSON()),await Promise.all(n.map(async v=>{if(v!==a)try{await v._remove(l)}catch{}})),new Ds(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function my(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Ux(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($x(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(zx(e))return"Blackberry";if(Vx(e))return"Webos";if(wm(e))return"Safari";if((e.includes("chrome/")||Fx(e))&&!e.includes("edge/"))return"Chrome";if(jx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function $x(t=tn()){return/firefox\//i.test(t)}function wm(t=tn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Fx(t=tn()){return/crios\//i.test(t)}function Ux(t=tn()){return/iemobile/i.test(t)}function jx(t=tn()){return/android/i.test(t)}function zx(t=tn()){return/blackberry/i.test(t)}function Vx(t=tn()){return/webos/i.test(t)}function Wd(t=tn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function FI(t=tn()){var e;return Wd(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function UI(){return kx()&&document.documentMode===10}function Hx(t=tn()){return Wd(t)||jx(t)||Vx(t)||zx(t)||/windows phone/i.test(t)||Ux(t)}function jI(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bx(t,e=[]){let n;switch(t){case"Browser":n=my(tn());break;case"Worker":n=`${my(tn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Zl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,h)=>{try{const p=e(a);l(p)}catch(p){h(p)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){var n;if(this.auth.currentUser===e)return;const r=[];try{for(const i of this.queue)await i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const a of r)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:(n=i)===null||n===void 0?void 0:n.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gy(this),this.idTokenSubscription=new gy(this),this.beforeStateQueue=new zI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ax,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ni(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ds.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,h=i==null?void 0:i._redirectEventId,p=await this.tryRedirectSignIn(e);(!l||l===h)&&(p==null?void 0:p.user)&&(i=p.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){var n;try{await ad(e)}catch(r){if(((n=r)===null||n===void 0?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=EI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?fn(e):null;return n&&Ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ge(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(ni(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ql("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ni(e)||this._popupRedirectResolver;Ge(n,this,"argument-error"),this.redirectPersistenceManager=await Ds.create(this,[ni(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n),l=this._isInitialized?Promise.resolve():this._initializationPromise;return Ge(l,this,"internal-error"),l.then(()=>a(this.currentUser)),typeof n=="function"?e.addObserver(n,r,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Bx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return r&&(n["X-Firebase-Client"]=r),n}}function Gd(t){return fn(t)}class gy{constructor(e){this.auth=e,this.observer=null,this.addObserver=oD(n=>this.observer=n)}get next(){return Ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ti("not implemented")}_getIdTokenResponse(e){return ti("not implemented")}_linkToIdToken(e,n){return ti("not implemented")}_getReauthenticationResolver(e){return ti("not implemented")}}async function HI(t,e){return nc(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BI(t,e){return rc(t,"POST","/v1/accounts:signInWithPassword",tc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qI(t,e){return rc(t,"POST","/v1/accounts:signInWithEmailLink",tc(t,e))}async function WI(t,e){return rc(t,"POST","/v1/accounts:signInWithEmailLink",tc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl extends xm{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Dl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Dl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if((n==null?void 0:n.email)&&(n==null?void 0:n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return BI(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return qI(e,{email:this._email,oobCode:this._password});default:Lr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return HI(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return WI(e,{idToken:n,email:this._email,oobCode:this._password});default:Lr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Is(t,e){return rc(t,"POST","/v1/accounts:signInWithIdp",tc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI="http://localhost";class Ha extends xm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ha(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Lr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,a=gm(n,["providerId","signInMethod"]);if(!r||!i)return null;const l=new Ha(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return Is(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Is(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Is(e,n)}buildRequest(){const e={requestUri:GI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Xl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function YI(t){const e=Ro($o(t)).link,n=e?Ro($o(e)).deep_link_id:null,r=Ro($o(t)).deep_link_id;return(r?Ro($o(r)).link:null)||r||n||e||t}class km{constructor(e){var n,r,i,a,l,h;const p=Ro($o(e)),v=(n=p.apiKey)!==null&&n!==void 0?n:null,S=(r=p.oobCode)!==null&&r!==void 0?r:null,N=KI((i=p.mode)!==null&&i!==void 0?i:null);Ge(v&&S&&N,"argument-error"),this.apiKey=v,this.operation=N,this.code=S,this.continueUrl=(a=p.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=p.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(h=p.tenantId)!==null&&h!==void 0?h:null}static parseLink(e){const n=YI(e);try{return new km(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(){this.providerId=to.PROVIDER_ID}static credential(e,n){return Dl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=km.parseLink(n);return Ge(r,"argument-error"),Dl._fromEmailAndCode(e,r.code,r.tenantId)}}to.PROVIDER_ID="password";to.EMAIL_PASSWORD_SIGN_IN_METHOD="password";to.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic extends qx{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends ic{constructor(){super("facebook.com")}static credential(e){return Ha._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ai.credential(e.oauthAccessToken)}catch{return null}}}Ai.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ai.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends ic{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ha._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Oi.credential(n,r)}catch{return null}}}Oi.GOOGLE_SIGN_IN_METHOD="google.com";Oi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends ic{constructor(){super("github.com")}static credential(e){return Ha._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mi.credential(e.oauthAccessToken)}catch{return null}}}Mi.GITHUB_SIGN_IN_METHOD="github.com";Mi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends ic{constructor(){super("twitter.com")}static credential(e,n){return Ha._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Li.credential(n,r)}catch{return null}}}Li.TWITTER_SIGN_IN_METHOD="twitter.com";Li.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JI(t,e){return rc(t,"POST","/v1/accounts:signUp",tc(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await Aa._fromIdTokenResponse(e,r,i),l=vy(r);return new Ba({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=vy(r);return new Ba({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function vy(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd extends yi{constructor(e,n,r,i){var a;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,sd.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new sd(e,n,r,i)}}function Wx(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?sd._fromErrorAndOperation(t,a,e,r):a})}async function QI(t,e,n=!1){const r=await Tl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ba._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XI(t,e,n=!1){var r;const{auth:i}=t,a="reauthenticate";try{const l=await Tl(t,Wx(i,a,e,t),n);Ge(l.idToken,i,"internal-error");const h=bm(l.idToken);Ge(h,i,"internal-error");const{sub:p}=h;return Ge(t.uid===p,i,"user-mismatch"),Ba._forOperation(t,a,l)}catch(l){throw((r=l)===null||r===void 0?void 0:r.code)==="auth/user-not-found"&&Lr(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gx(t,e,n=!1){const r="signIn",i=await Wx(t,r,e),a=await Ba._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function ZI(t,e){return Gx(Gd(t),e)}async function eA(t,e,n){const r=Gd(t),i=await JI(r,{returnSecureToken:!0,email:e,password:n}),a=await Ba._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(a.user),a}function tA(t,e,n){return ZI(fn(t),to.credential(e,n))}function nA(t,e,n,r){return fn(t).onAuthStateChanged(e,n,r)}function rA(t){return fn(t).signOut()}const od="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(od,"1"),this.storage.removeItem(od),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(){const t=tn();return wm(t)||Wd(t)}const aA=1e3,sA=10;class Yx extends Kx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=iA()&&jI(),this.fallbackToPolling=Hx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,h,p)=>{this.notifyListeners(l,p)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const l=this.storage.getItem(r);if(e.newValue!==l)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);UI()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,sA):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},aA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Yx.type="LOCAL";const oA=Yx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx extends Kx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Jx.type="SESSION";const Qx=Jx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(t){return Promise.all(t.map(async e=>{try{const n=await e;return{fulfilled:!0,value:n}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Kd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const h=Array.from(l).map(async v=>v(n.origin,a)),p=await lA(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Kd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((h,p)=>{const v=Em("",20);i.port1.start();const S=setTimeout(()=>{p(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(N){const C=N;if(C.data.eventId===v)switch(C.data.status){case"ack":clearTimeout(S),a=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),h(C.data.response);break;default:clearTimeout(S),clearTimeout(a),p(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:v,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(){return window}function uA(t){qr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(){return typeof qr().WorkerGlobalScope<"u"&&typeof qr().importScripts=="function"}async function dA(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hA(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function fA(){return Xx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx="firebaseLocalStorageDb",_A=1,ld="firebaseLocalStorage",e1="fbase_key";class ac{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Yd(t,e){return t.transaction([ld],e?"readwrite":"readonly").objectStore(ld)}function pA(){const t=indexedDB.deleteDatabase(Zx);return new ac(t).toPromise()}function U_(){const t=indexedDB.open(Zx,_A);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ld,{keyPath:e1})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ld)?e(r):(r.close(),await pA(),e(await U_()))})})}async function yy(t,e,n){const r=Yd(t,!0).put({[e1]:e,value:n});return new ac(r).toPromise()}async function mA(t,e){const n=Yd(t,!1).get(e),r=await new ac(n).toPromise();return r===void 0?null:r.value}function by(t,e){const n=Yd(t,!0).delete(e);return new ac(n).toPromise()}const gA=800,vA=3;class t1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await U_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>vA)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Xx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Kd._getInstance(fA()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await dA(),!this.activeServiceWorker)return;this.sender=new cA(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);!r||((e=r[0])===null||e===void 0?void 0:e.fulfilled)&&((n=r[0])===null||n===void 0?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||hA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await U_();return await yy(e,od,"1"),await by(e,od),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>yy(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>mA(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>by(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Yd(i,!1).getAll();return new ac(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}t1.type="LOCAL";const yA=t1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function wA(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Br("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",bA().appendChild(r)})}function xA(t){return`__${t}${Math.floor(Math.random()*1e6)}`}new ec(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kA(t,e){return e?ni(e):(Ge(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm extends xm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Is(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Is(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Is(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function EA(t){return Gx(t.auth,new Sm(t),t.bypassAuthState)}function SA(t){const{auth:e,user:n}=t;return Ge(n,e,"internal-error"),XI(n,new Sm(t),t.bypassAuthState)}async function CA(t){const{auth:e,user:n}=t;return Ge(n,e,"internal-error"),QI(n,new Sm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:l,type:h}=e;if(l){this.reject(l);return}const p={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(p))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return EA;case"linkViaPopup":case"linkViaRedirect":return CA;case"reauthViaPopup":case"reauthViaRedirect":return SA;default:Lr(this.auth,"internal-error")}}resolve(e){hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA=new ec(2e3,1e4);class bs extends n1{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,bs.currentPopupAction&&bs.currentPopupAction.cancel(),bs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ge(e,this.auth,"internal-error"),e}async onExecution(){hi(this.filter.length===1,"Popup operations only handle one event");const e=Em();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Br(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Br(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Br(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,TA.get())};e()}}bs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA="pendingRedirect",Eu=new Map;class DA extends n1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Eu.get(this.auth._key());if(!e){try{const r=await IA(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Eu.set(this.auth._key(),e)}return this.bypassAuthState||Eu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function IA(t,e){const n=MA(e),r=OA(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function AA(t,e){Eu.set(t._key(),e)}function OA(t){return ni(t._redirectPersistence)}function MA(t){return ku(NA,t.config.apiKey,t.name)}async function LA(t,e,n=!1){const r=Gd(t),i=kA(r,e),l=await new DA(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA=10*60*1e3;class RA{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$A(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!r1(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Br(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=PA&&this.cachedEventUids.clear(),this.cachedEventUids.has(wy(e))}saveEventToCache(e){this.cachedEventUids.add(wy(e)),this.lastProcessedEventTime=Date.now()}}function wy(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function r1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function $A(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return r1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FA(t,e={}){return nc(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jA=/^https?/;async function zA(t){if(t.config.emulator)return;const{authorizedDomains:e}=await FA(t);for(const n of e)try{if(VA(n))return}catch{}Lr(t,"unauthorized-domain")}function VA(t){const e=F_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!jA.test(n))return!1;if(UA.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA=new ec(3e4,6e4);function xy(){const t=qr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function BA(t){return new Promise((e,n)=>{var r,i,a;function l(){xy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{xy(),n(Br(t,"network-request-failed"))},timeout:HA.get()})}if(!((i=(r=qr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=qr().gapi)===null||a===void 0)&&a.load)l();else{const h=xA("iframefcb");return qr()[h]=()=>{gapi.load?l():n(Br(t,"network-request-failed"))},wA(`https://apis.google.com/js/api.js?onload=${h}`).catch(p=>n(p))}}).catch(e=>{throw Su=null,e})}let Su=null;function qA(t){return Su=Su||BA(t),Su}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA=new ec(5e3,15e3),GA="__/auth/iframe",KA="emulator/auth/iframe",YA={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},JA=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function QA(t){const e=t.config;Ge(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ym(e,KA):`https://${t.config.authDomain}/${GA}`,r={apiKey:e.apiKey,appName:t.name,v:Zl},i=JA.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Xl(r).slice(1)}`}async function XA(t){const e=await qA(t),n=qr().gapi;return Ge(n,t,"internal-error"),e.open({where:document.body,url:QA(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:YA,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=Br(t,"network-request-failed"),h=qr().setTimeout(()=>{a(l)},WA.get());function p(){qr().clearTimeout(h),i(r)}r.ping(p).then(p,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZA={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},eO=500,tO=600,nO="_blank",rO="http://localhost";class ky{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function iO(t,e,n,r=eO,i=tO){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const p=Object.assign(Object.assign({},ZA),{width:r.toString(),height:i.toString(),top:a,left:l}),v=tn().toLowerCase();n&&(h=Fx(v)?nO:n),$x(v)&&(e=e||rO,p.scrollbars="yes");const S=Object.entries(p).reduce((C,[A,R])=>`${C}${A}=${R},`,"");if(FI(v)&&h!=="_self")return aO(e||"",h),new ky(null);const N=window.open(e||"",h,S);Ge(N,t,"popup-blocked");try{N.focus()}catch{}return new ky(N)}function aO(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO="__/auth/handler",oO="emulator/auth/handler";function Ey(t,e,n,r,i,a){Ge(t.config.authDomain,t,"auth-domain-config-required"),Ge(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Zl,eventId:i};if(e instanceof qx){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",sD(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[p,v]of Object.entries(a||{}))l[p]=v}if(e instanceof ic){const p=e.getScopes().filter(v=>v!=="");p.length>0&&(l.scopes=p.join(","))}t.tenantId&&(l.tid=t.tenantId);const h=l;for(const p of Object.keys(h))h[p]===void 0&&delete h[p];return`${lO(t)}?${Xl(h).slice(1)}`}function lO({config:t}){return t.emulator?ym(t,oO):`https://${t.authDomain}/${sO}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ff="webStorageSupport";class cO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Qx,this._completeRedirectFn=LA,this._overrideRedirectResult=AA}async _openPopup(e,n,r,i){var a;hi((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=Ey(e,n,r,F_(),i);return iO(e,l,Em())}async _openRedirect(e,n,r,i){return await this._originValidation(e),uA(Ey(e,n,r,F_(),i)),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(hi(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await XA(e),r=new RA(e);return n.register("authEvent",i=>(Ge(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ff,{type:ff},i=>{var a;const l=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[ff];l!==void 0&&n(!!l),Lr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=zA(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Hx()||wm()||Wd()}}const uO=cO;var Sy="@firebase/auth",Cy="0.20.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{var i;e(((i=r)===null||i===void 0?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);!n||(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function fO(t){zs(new ja("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:a,authDomain:l}=r.options;return((h,p)=>{Ge(a&&!a.includes(":"),"invalid-api-key",{appName:h.name}),Ge(!(l!=null&&l.includes(":")),"argument-error",{appName:h.name});const v={apiKey:a,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Bx(t)},S=new VI(h,p,v);return wI(S,n),S})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),zs(new ja("auth-internal",e=>{const n=Gd(e.getProvider("auth").getImmediate());return(r=>new dO(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ji(Sy,Cy,hO(t)),Ji(Sy,Cy,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _O(t=Tx()){const e=mm(t,"auth");return e.isInitialized()?e.getImmediate():bI(t,{popupRedirectResolver:uO,persistence:[yA,oA,Qx]})}fO("Browser");const pO={apiKey:"AIzaSyCRLN_2xzTrvHfN4EDRtETLysu2QWCd9Fk",authDomain:"navisacademy-1c1d2.firebaseapp.com",projectId:"navisacademy-1c1d2",storageBucket:"navisacademy-1c1d2.appspot.com",messagingSenderId:"138551732835",appId:"1:138551732835:web:ce9005d6cde0708230e656",measurementId:"G-VC1HXL8EM6"},mO=sI(pO),Jc=_O(mO);var gO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Oe,Cm=Cm||{},Ke=gO||self;function cd(){}function j_(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function sc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function vO(t){return Object.prototype.hasOwnProperty.call(t,_f)&&t[_f]||(t[_f]=++yO)}var _f="closure_uid_"+(1e9*Math.random()>>>0),yO=0;function bO(t,e,n){return t.call.apply(t.bind,arguments)}function wO(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function un(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?un=bO:un=wO,un.apply(null,arguments)}function Qc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function pn(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(r,i,a){for(var l=Array(arguments.length-2),h=2;h<arguments.length;h++)l[h-2]=arguments[h];return e.prototype[i].apply(r,l)}}function ua(){this.s=this.s,this.o=this.o}var xO=0;ua.prototype.s=!1;ua.prototype.na=function(){!this.s&&(this.s=!0,this.M(),xO!=0)&&vO(this)};ua.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const i1=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},a1=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const r=t.length,i=typeof t=="string"?t.split(""):t;for(let a=0;a<r;a++)a in i&&e.call(n,i[a],a,t)};function kO(t){e:{var e=_M;const n=t.length,r=typeof t=="string"?t.split(""):t;for(let i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break e}e=-1}return 0>e?null:typeof t=="string"?t.charAt(e):t[e]}function Ty(t){return Array.prototype.concat.apply([],arguments)}function Tm(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function ud(t){return/^[\s\xa0]*$/.test(t)}var Ny=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function In(t,e){return t.indexOf(e)!=-1}function pf(t,e){return t<e?-1:t>e?1:0}var An;e:{var Dy=Ke.navigator;if(Dy){var Iy=Dy.userAgent;if(Iy){An=Iy;break e}}An=""}function Nm(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function s1(t){const e={};for(const n in t)e[n]=t[n];return e}var Ay="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function o1(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let a=0;a<Ay.length;a++)n=Ay[a],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Dm(t){return Dm[" "](t),t}Dm[" "]=cd;function EO(t){var e=TO;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var SO=In(An,"Opera"),Vs=In(An,"Trident")||In(An,"MSIE"),l1=In(An,"Edge"),z_=l1||Vs,c1=In(An,"Gecko")&&!(In(An.toLowerCase(),"webkit")&&!In(An,"Edge"))&&!(In(An,"Trident")||In(An,"MSIE"))&&!In(An,"Edge"),CO=In(An.toLowerCase(),"webkit")&&!In(An,"Edge");function u1(){var t=Ke.document;return t?t.documentMode:void 0}var dd;e:{var mf="",gf=function(){var t=An;if(c1)return/rv:([^\);]+)(\)|;)/.exec(t);if(l1)return/Edge\/([\d\.]+)/.exec(t);if(Vs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(CO)return/WebKit\/(\S+)/.exec(t);if(SO)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(gf&&(mf=gf?gf[1]:""),Vs){var vf=u1();if(vf!=null&&vf>parseFloat(mf)){dd=String(vf);break e}}dd=mf}var TO={};function NO(){return EO(function(){let t=0;const e=Ny(String(dd)).split("."),n=Ny("9").split("."),r=Math.max(e.length,n.length);for(let l=0;t==0&&l<r;l++){var i=e[l]||"",a=n[l]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],i[0].length==0&&a[0].length==0)break;t=pf(i[1].length==0?0:parseInt(i[1],10),a[1].length==0?0:parseInt(a[1],10))||pf(i[2].length==0,a[2].length==0)||pf(i[2],a[2]),i=i[3],a=a[3]}while(t==0)}return 0<=t})}var V_;if(Ke.document&&Vs){var Oy=u1();V_=Oy||parseInt(dd,10)||void 0}else V_=void 0;var DO=V_,IO=function(){if(!Ke.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Ke.addEventListener("test",cd,e),Ke.removeEventListener("test",cd,e)}catch{}return t}();function En(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}En.prototype.h=function(){this.defaultPrevented=!0};function Il(t,e){if(En.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(c1){e:{try{Dm(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:AO[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Il.Z.h.call(this)}}pn(Il,En);var AO={2:"touch",3:"pen",4:"mouse"};Il.prototype.h=function(){Il.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var oc="closure_listenable_"+(1e6*Math.random()|0),OO=0;function MO(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++OO,this.ca=this.fa=!1}function Jd(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Qd(t){this.src=t,this.g={},this.h=0}Qd.prototype.add=function(t,e,n,r,i){var a=t.toString();t=this.g[a],t||(t=this.g[a]=[],this.h++);var l=B_(t,e,r,i);return-1<l?(e=t[l],n||(e.fa=!1)):(e=new MO(e,this.src,a,!!r,i),e.fa=n,t.push(e)),e};function H_(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=i1(r,e),a;(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(Jd(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function B_(t,e,n,r){for(var i=0;i<t.length;++i){var a=t[i];if(!a.ca&&a.listener==e&&a.capture==!!n&&a.ia==r)return i}return-1}var Im="closure_lm_"+(1e6*Math.random()|0),yf={};function d1(t,e,n,r,i){if(r&&r.once)return f1(t,e,n,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)d1(t,e[a],n,r,i);return null}return n=Mm(n),t&&t[oc]?t.N(e,n,sc(r)?!!r.capture:!!r,i):h1(t,e,n,!1,r,i)}function h1(t,e,n,r,i,a){if(!e)throw Error("Invalid event type");var l=sc(i)?!!i.capture:!!i,h=Om(t);if(h||(t[Im]=h=new Qd(t)),n=h.add(e,n,r,l,a),n.proxy)return n;if(r=LO(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)IO||(i=l),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(p1(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function LO(){function t(n){return e.call(t.src,t.listener,n)}var e=PO;return t}function f1(t,e,n,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)f1(t,e[a],n,r,i);return null}return n=Mm(n),t&&t[oc]?t.O(e,n,sc(r)?!!r.capture:!!r,i):h1(t,e,n,!0,r,i)}function _1(t,e,n,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)_1(t,e[a],n,r,i);else r=sc(r)?!!r.capture:!!r,n=Mm(n),t&&t[oc]?(t=t.i,e=String(e).toString(),e in t.g&&(a=t.g[e],n=B_(a,n,r,i),-1<n&&(Jd(a[n]),Array.prototype.splice.call(a,n,1),a.length==0&&(delete t.g[e],t.h--)))):t&&(t=Om(t))&&(e=t.g[e.toString()],t=-1,e&&(t=B_(e,n,r,i)),(n=-1<t?e[t]:null)&&Am(n))}function Am(t){if(typeof t!="number"&&t&&!t.ca){var e=t.src;if(e&&e[oc])H_(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(p1(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Om(e))?(H_(n,t),n.h==0&&(n.src=null,e[Im]=null)):Jd(t)}}}function p1(t){return t in yf?yf[t]:yf[t]="on"+t}function PO(t,e){if(t.ca)t=!0;else{e=new Il(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&Am(t),t=n.call(r,e)}return t}function Om(t){return t=t[Im],t instanceof Qd?t:null}var bf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mm(t){return typeof t=="function"?t:(t[bf]||(t[bf]=function(e){return t.handleEvent(e)}),t[bf])}function nn(){ua.call(this),this.i=new Qd(this),this.P=this,this.I=null}pn(nn,ua);nn.prototype[oc]=!0;nn.prototype.removeEventListener=function(t,e,n,r){_1(this,t,e,n,r)};function dn(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,typeof e=="string")e=new En(e,t);else if(e instanceof En)e.target=e.target||t;else{var i=e;e=new En(r,t),o1(e,i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var l=e.g=n[a];i=Xc(l,r,!0,e)&&i}if(l=e.g=t,i=Xc(l,r,!0,e)&&i,i=Xc(l,r,!1,e)&&i,n)for(a=0;a<n.length;a++)l=e.g=n[a],i=Xc(l,r,!1,e)&&i}nn.prototype.M=function(){if(nn.Z.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Jd(n[r]);delete t.g[e],t.h--}}this.I=null};nn.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};nn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Xc(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var l=e[a];if(l&&!l.ca&&l.capture==n){var h=l.listener,p=l.ia||l.src;l.fa&&H_(t.i,l),i=h.call(p,r)!==!1&&i}}return i&&!r.defaultPrevented}var Lm=Ke.JSON.stringify;function RO(){var t=g1;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class $O{constructor(){this.h=this.g=null}add(e,n){const r=m1.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var m1=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new FO,t=>t.reset());class FO{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function UO(t){Ke.setTimeout(()=>{throw t},0)}function Pm(t,e){q_||jO(),W_||(q_(),W_=!0),g1.add(t,e)}var q_;function jO(){var t=Ke.Promise.resolve(void 0);q_=function(){t.then(zO)}}var W_=!1,g1=new $O;function zO(){for(var t;t=RO();){try{t.h.call(t.g)}catch(n){UO(n)}var e=m1;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}W_=!1}function Xd(t,e){nn.call(this),this.h=t||1,this.g=e||Ke,this.j=un(this.kb,this),this.l=Date.now()}pn(Xd,nn);Oe=Xd.prototype;Oe.da=!1;Oe.S=null;Oe.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),dn(this,"tick"),this.da&&(Rm(this),this.start()))}};Oe.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Rm(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}Oe.M=function(){Xd.Z.M.call(this),Rm(this),delete this.g};function $m(t,e,n){if(typeof t=="function")n&&(t=un(t,n));else if(t&&typeof t.handleEvent=="function")t=un(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Ke.setTimeout(t,e||0)}function v1(t){t.g=$m(()=>{t.g=null,t.i&&(t.i=!1,v1(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class VO extends ua{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:v1(this)}M(){super.M(),this.g&&(Ke.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Al(t){ua.call(this),this.h=t,this.g={}}pn(Al,ua);var My=[];function y1(t,e,n,r){Array.isArray(n)||(n&&(My[0]=n.toString()),n=My);for(var i=0;i<n.length;i++){var a=d1(e,n[i],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}}function b1(t){Nm(t.g,function(e,n){this.g.hasOwnProperty(n)&&Am(e)},t),t.g={}}Al.prototype.M=function(){Al.Z.M.call(this),b1(this)};Al.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Zd(){this.g=!0}Zd.prototype.Aa=function(){this.g=!1};function HO(t,e,n,r,i,a){t.info(function(){if(t.g)if(a)for(var l="",h=a.split("&"),p=0;p<h.length;p++){var v=h[p].split("=");if(1<v.length){var S=v[0];v=v[1];var N=S.split("_");l=2<=N.length&&N[1]=="type"?l+(S+"="+v+"&"):l+(S+"=redacted&")}}else l=null;else l=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+l})}function BO(t,e,n,r,i,a,l){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+a+" "+l})}function ws(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+WO(t,n)+(r?" "+r:"")})}function qO(t,e){t.info(function(){return"TIMEOUT: "+e})}Zd.prototype.info=function(){};function WO(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if(a!="noop"&&a!="stop"&&a!="close")for(var l=1;l<i.length;l++)i[l]=""}}}}return Lm(n)}catch{return e}}var Za={},Ly=null;function eh(){return Ly=Ly||new nn}Za.Ma="serverreachability";function w1(t){En.call(this,Za.Ma,t)}pn(w1,En);function Ol(t){const e=eh();dn(e,new w1(e))}Za.STAT_EVENT="statevent";function x1(t,e){En.call(this,Za.STAT_EVENT,t),this.stat=e}pn(x1,En);function Mn(t){const e=eh();dn(e,new x1(e,t))}Za.Na="timingevent";function k1(t,e){En.call(this,Za.Na,t),this.size=e}pn(k1,En);function lc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Ke.setTimeout(function(){t()},e)}var th={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},E1={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Fm(){}Fm.prototype.h=null;function Py(t){return t.h||(t.h=t.i())}function S1(){}var cc={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Um(){En.call(this,"d")}pn(Um,En);function jm(){En.call(this,"c")}pn(jm,En);var G_;function nh(){}pn(nh,Fm);nh.prototype.g=function(){return new XMLHttpRequest};nh.prototype.i=function(){return{}};G_=new nh;function uc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new Al(this),this.P=GO,t=z_?125:void 0,this.W=new Xd(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new C1}function C1(){this.i=null,this.g="",this.h=!1}var GO=45e3,K_={},hd={};Oe=uc.prototype;Oe.setTimeout=function(t){this.P=t};function Y_(t,e,n){t.K=1,t.v=ih(fi(e)),t.s=n,t.U=!0,T1(t,null)}function T1(t,e){t.F=Date.now(),dc(t),t.A=fi(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),L1(n.h,"t",r),t.C=0,n=t.l.H,t.h=new C1,t.g=ek(t.l,n?e:null,!t.s),0<t.O&&(t.L=new VO(un(t.Ia,t,t.g),t.O)),y1(t.V,t.g,"readystatechange",t.gb),e=t.H?s1(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Ol(),HO(t.j,t.u,t.A,t.m,t.X,t.s)}Oe.gb=function(t){t=t.target;const e=this.L;e&&ri(t)==3?e.l():this.Ia(t)};Oe.Ia=function(t){try{if(t==this.g)e:{const S=ri(this.g);var e=this.g.Da();const N=this.g.ba();if(!(3>S)&&(S!=3||z_||this.g&&(this.h.h||this.g.ga()||Uy(this.g)))){this.I||S!=4||e==7||(e==8||0>=N?Ol(3):Ol(2)),rh(this);var n=this.g.ba();this.N=n;t:if(N1(this)){var r=Uy(this.g);t="";var i=r.length,a=ri(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ca(this),Zo(this);var l="";break t}this.h.i=new Ke.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,l=this.h.g}else l=this.g.ga();if(this.i=n==200,BO(this.j,this.u,this.A,this.m,this.X,S,n),this.i){if(this.$&&!this.J){t:{if(this.g){var h,p=this.g;if((h=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ud(h)){var v=h;break t}}v=null}if(n=v)ws(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,J_(this,n);else{this.i=!1,this.o=3,Mn(12),Ca(this),Zo(this);break e}}this.U?(D1(this,S,l),z_&&this.i&&S==3&&(y1(this.V,this.W,"tick",this.fb),this.W.start())):(ws(this.j,this.m,l,null),J_(this,l)),S==4&&Ca(this),this.i&&!this.I&&(S==4?J1(this.l,this):(this.i=!1,dc(this)))}else n==400&&0<l.indexOf("Unknown SID")?(this.o=3,Mn(12)):(this.o=0,Mn(13)),Ca(this),Zo(this)}}}catch{}finally{}};function N1(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Ba:!1}function D1(t,e,n){let r=!0,i;for(;!t.I&&t.C<n.length;)if(i=KO(t,n),i==hd){e==4&&(t.o=4,Mn(14),r=!1),ws(t.j,t.m,null,"[Incomplete Response]");break}else if(i==K_){t.o=4,Mn(15),ws(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else ws(t.j,t.m,i,null),J_(t,i);N1(t)&&i!=hd&&i!=K_&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Mn(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.aa&&(t.aa=!0,e=t.l,e.g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ym(e),e.L=!0,Mn(11))):(ws(t.j,t.m,n,"[Invalid Chunked Response]"),Ca(t),Zo(t))}Oe.fb=function(){if(this.g){var t=ri(this.g),e=this.g.ga();this.C<e.length&&(rh(this),D1(this,t,e),this.i&&t!=4&&dc(this))}};function KO(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?hd:(n=Number(e.substring(n,r)),isNaN(n)?K_:(r+=1,r+n>e.length?hd:(e=e.substr(r,n),t.C=r+n,e)))}Oe.cancel=function(){this.I=!0,Ca(this)};function dc(t){t.Y=Date.now()+t.P,I1(t,t.P)}function I1(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=lc(un(t.eb,t),e)}function rh(t){t.B&&(Ke.clearTimeout(t.B),t.B=null)}Oe.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(qO(this.j,this.A),this.K!=2&&(Ol(),Mn(17)),Ca(this),this.o=2,Zo(this)):I1(this,this.Y-t)};function Zo(t){t.l.G==0||t.I||J1(t.l,t)}function Ca(t){rh(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,Rm(t.W),b1(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function J_(t,e){try{var n=t.l;if(n.G!=0&&(n.g==t||Q_(n.i,t))){if(n.I=t.N,!t.J&&Q_(n.i,t)&&n.G==3){try{var r=n.Ca.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.F+3e3<t.F)md(n),oh(n);else break e;Km(n),Mn(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&n.A==0&&!n.v&&(n.v=lc(un(n.ab,n),6e3));if(1>=$1(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else Ta(n,11)}else if((t.J||n.g==t)&&md(n),!ud(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){let v=i[e];if(n.U=v[0],v=v[1],n.G==2)if(v[0]=="c"){n.J=v[1],n.la=v[2];const S=v[3];S!=null&&(n.ma=S,n.h.info("VER="+n.ma));const N=v[4];N!=null&&(n.za=N,n.h.info("SVER="+n.za));const C=v[5];C!=null&&typeof C=="number"&&0<C&&(r=1.5*C,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const A=t.g;if(A){const R=A.g?A.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(R){var a=r.i;!a.g&&(In(R,"spdy")||In(R,"quic")||In(R,"h2"))&&(a.j=a.l,a.g=new Set,a.h&&(Hm(a,a.h),a.h=null))}if(r.D){const D=A.g?A.g.getResponseHeader("X-HTTP-Session-Id"):null;D&&(r.sa=D,Ct(r.F,r.D,D))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms")),r=n;var l=t;if(r.oa=Z1(r,r.H?r.la:null,r.W),l.J){F1(r.i,l);var h=l,p=r.K;p&&h.setTimeout(p),h.B&&(rh(h),dc(h)),r.g=l}else K1(r);0<n.l.length&&lh(n)}else v[0]!="stop"&&v[0]!="close"||Ta(n,7);else n.G==3&&(v[0]=="stop"||v[0]=="close"?v[0]=="stop"?Ta(n,7):Gm(n):v[0]!="noop"&&n.j&&n.j.wa(v),n.A=0)}}Ol(4)}catch{}}function YO(t){if(t.R&&typeof t.R=="function")return t.R();if(typeof t=="string")return t.split("");if(j_(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function zm(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(j_(t)||typeof t=="string")a1(t,e,void 0);else{if(t.T&&typeof t.T=="function")var n=t.T();else if(t.R&&typeof t.R=="function")n=void 0;else if(j_(t)||typeof t=="string"){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=YO(t),i=r.length;for(var a=0;a<i;a++)e.call(void 0,r[a],n&&n[a],t)}}function no(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof no)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}Oe=no.prototype;Oe.R=function(){Vm(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t};Oe.T=function(){return Vm(this),this.g.concat()};function Vm(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];qa(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)r=t.g[e],qa(i,r)||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}Oe.get=function(t,e){return qa(this.h,t)?this.h[t]:e};Oe.set=function(t,e){qa(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e};Oe.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);t.call(e,a,i,this)}};function qa(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var A1=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function JO(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var a=t[n].substring(0,r);i=t[n].substring(r+1)}else a=t[n];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Wa(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Wa){this.g=e!==void 0?e:t.g,fd(this,t.j),this.s=t.s,_d(this,t.i),pd(this,t.m),this.l=t.l,e=t.h;var n=new Ml;n.i=e.i,e.g&&(n.g=new no(e.g),n.h=e.h),Ry(this,n),this.o=t.o}else t&&(n=String(t).match(A1))?(this.g=!!e,fd(this,n[1]||"",!0),this.s=el(n[2]||""),_d(this,n[3]||"",!0),pd(this,n[4]),this.l=el(n[5]||"",!0),Ry(this,n[6]||"",!0),this.o=el(n[7]||"")):(this.g=!!e,this.h=new Ml(null,this.g))}Wa.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Fo(e,$y,!0),":");var n=this.i;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Fo(e,$y,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.i&&n.charAt(0)!="/"&&t.push("/"),t.push(Fo(n,n.charAt(0)=="/"?tM:eM,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Fo(n,rM)),t.join("")};function fi(t){return new Wa(t)}function fd(t,e,n){t.j=n?el(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function _d(t,e,n){t.i=n?el(e,!0):e}function pd(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Ry(t,e,n){e instanceof Ml?(t.h=e,iM(t.h,t.g)):(n||(e=Fo(e,nM)),t.h=new Ml(e,t.g))}function Ct(t,e,n){t.h.set(e,n)}function ih(t){return Ct(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function QO(t){return t instanceof Wa?fi(t):new Wa(t,void 0)}function XO(t,e,n,r){var i=new Wa(null,void 0);return t&&fd(i,t),e&&_d(i,e),n&&pd(i,n),r&&(i.l=r),i}function el(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Fo(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,ZO),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ZO(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var $y=/[#\/\?@]/g,eM=/[#\?:]/g,tM=/[#\?]/g,nM=/[#\?@]/g,rM=/#/g;function Ml(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function da(t){t.g||(t.g=new no,t.h=0,t.i&&JO(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Oe=Ml.prototype;Oe.add=function(t,e){da(this),this.i=null,t=ro(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function O1(t,e){da(t),e=ro(t,e),qa(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,t=t.g,qa(t.h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&Vm(t)))}function M1(t,e){return da(t),e=ro(t,e),qa(t.g.h,e)}Oe.forEach=function(t,e){da(this),this.g.forEach(function(n,r){a1(n,function(i){t.call(e,i,r,this)},this)},this)};Oe.T=function(){da(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],a=0;a<i.length;a++)n.push(e[r]);return n};Oe.R=function(t){da(this);var e=[];if(typeof t=="string")M1(this,t)&&(e=Ty(e,this.g.get(ro(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=Ty(e,t[n])}return e};Oe.set=function(t,e){return da(this),this.i=null,t=ro(this,t),M1(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Oe.get=function(t,e){return t?(t=this.R(t),0<t.length?String(t[0]):e):e};function L1(t,e,n){O1(t,e),0<n.length&&(t.i=null,t.g.set(ro(t,e),Tm(n)),t.h+=n.length)}Oe.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var l=i;r[a]!==""&&(l+="="+encodeURIComponent(String(r[a]))),t.push(l)}}return this.i=t.join("&")};function ro(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function iM(t,e){e&&!t.j&&(da(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(O1(this,r),L1(this,i,n))},t)),t.j=e}var aM=class{constructor(t,e){this.h=t,this.g=e}};function P1(t){this.l=t||sM,Ke.PerformanceNavigationTiming?(t=Ke.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Ke.g&&Ke.g.Ea&&Ke.g.Ea()&&Ke.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var sM=10;function R1(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function $1(t){return t.h?1:t.g?t.g.size:0}function Q_(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Hm(t,e){t.g?t.g.add(e):t.h=e}function F1(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}P1.prototype.cancel=function(){if(this.i=U1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function U1(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return Tm(t.i)}function Bm(){}Bm.prototype.stringify=function(t){return Ke.JSON.stringify(t,void 0)};Bm.prototype.parse=function(t){return Ke.JSON.parse(t,void 0)};function oM(){this.g=new Bm}function lM(t,e,n){const r=n||"";try{zm(t,function(i,a){let l=i;sc(i)&&(l=Lm(i)),e.push(r+a+"="+encodeURIComponent(l))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function cM(t,e){const n=new Zd;if(Ke.Image){const r=new Image;r.onload=Qc(Zc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Qc(Zc,n,r,"TestLoadImage: error",!1,e),r.onabort=Qc(Zc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Qc(Zc,n,r,"TestLoadImage: timeout",!1,e),Ke.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Zc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function hc(t){this.l=t.$b||null,this.j=t.ib||!1}pn(hc,Fm);hc.prototype.g=function(){return new ah(this.l,this.j)};hc.prototype.i=function(t){return function(){return t}}({});function ah(t,e){nn.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=qm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}pn(ah,nn);var qm=0;Oe=ah.prototype;Oe.open=function(t,e){if(this.readyState!=qm)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ll(this)};Oe.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Ke).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))};Oe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fc(this)),this.readyState=qm};Oe.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ll(this)),this.g&&(this.readyState=3,Ll(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Ke.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;j1(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))};function j1(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}Oe.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?fc(this):Ll(this),this.readyState==3&&j1(this)}};Oe.Ua=function(t){this.g&&(this.response=this.responseText=t,fc(this))};Oe.Ta=function(t){this.g&&(this.response=t,fc(this))};Oe.ha=function(){this.g&&fc(this)};function fc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ll(t)}Oe.setRequestHeader=function(t,e){this.v.append(t,e)};Oe.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Oe.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Ll(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(ah.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var uM=Ke.JSON.parse;function Vt(t){nn.call(this),this.headers=new no,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=z1,this.K=this.L=!1}pn(Vt,nn);var z1="",dM=/^https?$/i,hM=["POST","PUT"];Oe=Vt.prototype;Oe.ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():G_.g(),this.C=this.u?Py(this.u):Py(G_),this.g.onreadystatechange=un(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(a){Fy(this,a);return}t=n||"";const i=new no(this.headers);r&&zm(r,function(a,l){i.set(l,a)}),r=kO(i.T()),n=Ke.FormData&&t instanceof Ke.FormData,!(0<=i1(hM,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(a,l){this.g.setRequestHeader(l,a)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{B1(this),0<this.B&&((this.K=fM(this.g))?(this.g.timeout=this.B,this.g.ontimeout=un(this.pa,this)):this.A=$m(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(a){Fy(this,a)}};function fM(t){return Vs&&NO()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}function _M(t){return t.toLowerCase()=="content-type"}Oe.pa=function(){typeof Cm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,dn(this,"timeout"),this.abort(8))};function Fy(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,V1(t),sh(t)}function V1(t){t.D||(t.D=!0,dn(t,"complete"),dn(t,"error"))}Oe.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,dn(this,"complete"),dn(this,"abort"),sh(this))};Oe.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),sh(this,!0)),Vt.Z.M.call(this)};Oe.Fa=function(){this.s||(this.F||this.v||this.l?H1(this):this.cb())};Oe.cb=function(){H1(this)};function H1(t){if(t.h&&typeof Cm<"u"&&(!t.C[1]||ri(t)!=4||t.ba()!=2)){if(t.v&&ri(t)==4)$m(t.Fa,0,t);else if(dn(t,"readystatechange"),ri(t)==4){t.h=!1;try{const h=t.ba();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=h===0){var i=String(t.H).match(A1)[1]||null;if(!i&&Ke.self&&Ke.self.location){var a=Ke.self.location.protocol;i=a.substr(0,a.length-1)}r=!dM.test(i?i.toLowerCase():"")}n=r}if(n)dn(t,"complete"),dn(t,"success");else{t.m=6;try{var l=2<ri(t)?t.g.statusText:""}catch{l=""}t.j=l+" ["+t.ba()+"]",V1(t)}}finally{sh(t)}}}}function sh(t,e){if(t.g){B1(t);const n=t.g,r=t.C[0]?cd:null;t.g=null,t.C=null,e||dn(t,"ready");try{n.onreadystatechange=r}catch{}}}function B1(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Ke.clearTimeout(t.A),t.A=null)}function ri(t){return t.g?t.g.readyState:0}Oe.ba=function(){try{return 2<ri(this)?this.g.status:-1}catch{return-1}};Oe.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}};Oe.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),uM(e)}};function Uy(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case z1:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}Oe.Da=function(){return this.m};Oe.La=function(){return typeof this.j=="string"?this.j:String(this.j)};function pM(t){let e="";return Nm(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Wm(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=pM(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Ct(t,e,n))}function So(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function q1(t){this.za=0,this.l=[],this.h=new Zd,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=So("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=So("baseRetryDelayMs",5e3,t),this.$a=So("retryDelaySeedMs",1e4,t),this.Ya=So("forwardChannelMaxRetries",2,t),this.ra=So("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new P1(t&&t.concurrentRequestLimit),this.Ca=new oM,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||t.Xb!==!1}Oe=q1.prototype;Oe.ma=8;Oe.G=1;function Gm(t){if(W1(t),t.G==3){var e=t.V++,n=fi(t.F);Ct(n,"SID",t.J),Ct(n,"RID",e),Ct(n,"TYPE","terminate"),_c(t,n),e=new uc(t,t.h,e,void 0),e.K=2,e.v=ih(fi(n)),n=!1,Ke.navigator&&Ke.navigator.sendBeacon&&(n=Ke.navigator.sendBeacon(e.v.toString(),"")),!n&&Ke.Image&&(new Image().src=e.v,n=!0),n||(e.g=ek(e.l,null),e.g.ea(e.v)),e.F=Date.now(),dc(e)}X1(t)}Oe.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch{}};function oh(t){t.g&&(Ym(t),t.g.cancel(),t.g=null)}function W1(t){oh(t),t.u&&(Ke.clearTimeout(t.u),t.u=null),md(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Ke.clearTimeout(t.m),t.m=null)}function wf(t,e){t.l.push(new aM(t.Za++,e)),t.G==3&&lh(t)}function lh(t){R1(t.i)||t.m||(t.m=!0,Pm(t.Ha,t),t.C=0)}function mM(t,e){return $1(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.l=e.D.concat(t.l),!0):t.G==1||t.G==2||t.C>=(t.Xa?0:t.Ya)?!1:(t.m=lc(un(t.Ha,t,e),Q1(t,t.C)),t.C++,!0)}Oe.Ha=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const i=new uc(this,this.h,t,void 0);let a=this.s;if(this.P&&(a?(a=s1(a),o1(a,this.P)):a=this.P),this.o===null&&(i.H=a),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){t:{var r=this.l[n];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=G1(this,i,e),n=fi(this.F),Ct(n,"RID",t),Ct(n,"CVER",22),this.D&&Ct(n,"X-HTTP-Session-Id",this.D),_c(this,n),this.o&&a&&Wm(n,this.o,a),Hm(this.i,i),this.Ra&&Ct(n,"TYPE","init"),this.ja?(Ct(n,"$req",e),Ct(n,"SID","null"),i.$=!0,Y_(i,n,null)):Y_(i,n,e),this.G=2}}else this.G==3&&(t?jy(this,t):this.l.length==0||R1(this.i)||jy(this))};function jy(t,e){var n;e?n=e.m:n=t.V++;const r=fi(t.F);Ct(r,"SID",t.J),Ct(r,"RID",n),Ct(r,"AID",t.U),_c(t,r),t.o&&t.s&&Wm(r,t.o,t.s),n=new uc(t,t.h,n,t.C+1),t.o===null&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=G1(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),Hm(t.i,n),Y_(n,r,e)}function _c(t,e){t.j&&zm({},function(n,r){Ct(e,r,n)})}function G1(t,e,n){n=Math.min(t.l.length,n);var r=t.j?un(t.j.Oa,t.j,t):null;e:{var i=t.l;let a=-1;for(;;){const l=["count="+n];a==-1?0<n?(a=i[0].h,l.push("ofs="+a)):a=0:l.push("ofs="+a);let h=!0;for(let p=0;p<n;p++){let v=i[p].h;const S=i[p].g;if(v-=a,0>v)a=Math.max(0,i[p].h-100),h=!1;else try{lM(S,l,"req"+v+"_")}catch{r&&r(S)}}if(h){r=l.join("&");break e}}}return t=t.l.splice(0,n),e.D=t,r}function K1(t){t.g||t.u||(t.Y=1,Pm(t.Ga,t),t.A=0)}function Km(t){return t.g||t.u||3<=t.A?!1:(t.Y++,t.u=lc(un(t.Ga,t),Q1(t,t.A)),t.A++,!0)}Oe.Ga=function(){if(this.u=null,Y1(this),this.$&&!(this.L||this.g==null||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=lc(un(this.bb,this),t)}};Oe.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Mn(10),oh(this),Y1(this))};function Ym(t){t.B!=null&&(Ke.clearTimeout(t.B),t.B=null)}function Y1(t){t.g=new uc(t,t.h,"rpc",t.Y),t.o===null&&(t.g.H=t.s),t.g.O=0;var e=fi(t.oa);Ct(e,"RID","rpc"),Ct(e,"SID",t.J),Ct(e,"CI",t.N?"0":"1"),Ct(e,"AID",t.U),_c(t,e),Ct(e,"TYPE","xmlhttp"),t.o&&t.s&&Wm(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=ih(fi(e)),n.s=null,n.U=!0,T1(n,t)}Oe.ab=function(){this.v!=null&&(this.v=null,oh(this),Km(this),Mn(19))};function md(t){t.v!=null&&(Ke.clearTimeout(t.v),t.v=null)}function J1(t,e){var n=null;if(t.g==e){md(t),Ym(t),t.g=null;var r=2}else if(Q_(t.i,e))n=e.D,F1(t.i,e),r=1;else return;if(t.I=e.N,t.G!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;r=eh(),dn(r,new k1(r,n)),lh(t)}else K1(t);else if(i=e.o,i==3||i==0&&0<t.I||!(r==1&&mM(t,e)||r==2&&Km(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Ta(t,5);break;case 4:Ta(t,10);break;case 3:Ta(t,6);break;default:Ta(t,2)}}}function Q1(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function Ta(t,e){if(t.h.info("Error code "+e),e==2){var n=null;t.j&&(n=null);var r=un(t.jb,t);n||(n=new Wa("//www.google.com/images/cleardot.gif"),Ke.location&&Ke.location.protocol=="http"||fd(n,"https"),ih(n)),cM(n.toString(),r)}else Mn(2);t.G=0,t.j&&t.j.va(e),X1(t),W1(t)}Oe.jb=function(t){t?(this.h.info("Successfully pinged google.com"),Mn(2)):(this.h.info("Failed to ping google.com"),Mn(1))};function X1(t){t.G=0,t.I=-1,t.j&&((U1(t.i).length!=0||t.l.length!=0)&&(t.i.i.length=0,Tm(t.l),t.l.length=0),t.j.ua())}function Z1(t,e,n){let r=QO(n);if(r.i!="")e&&_d(r,e+"."+r.i),pd(r,r.m);else{const i=Ke.location;r=XO(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&Nm(t.aa,function(i,a){Ct(r,a,i)}),e=t.D,n=t.sa,e&&n&&Ct(r,e,n),Ct(r,"VER",t.ma),_c(t,r),r}function ek(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ba&&!t.qa?new Vt(new hc({ib:!0})):new Vt(t.qa),e.L=t.H,e}function tk(){}Oe=tk.prototype;Oe.xa=function(){};Oe.wa=function(){};Oe.va=function(){};Oe.ua=function(){};Oe.Oa=function(){};function gd(){if(Vs&&!(10<=Number(DO)))throw Error("Environmental error: no available transport.")}gd.prototype.g=function(t,e){return new ir(t,e)};function ir(t,e){nn.call(this),this.g=new q1(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!ud(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ud(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new io(this)}pn(ir,nn);ir.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Pm(un(t.hb,t,e))),Mn(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=Z1(t,null,t.W),lh(t)};ir.prototype.close=function(){Gm(this.g)};ir.prototype.u=function(t){if(typeof t=="string"){var e={};e.__data__=t,wf(this.g,e)}else this.v?(e={},e.__data__=Lm(t),wf(this.g,e)):wf(this.g,t)};ir.prototype.M=function(){this.g.j=null,delete this.j,Gm(this.g),delete this.g,ir.Z.M.call(this)};function nk(t){Um.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}pn(nk,Um);function rk(){jm.call(this),this.status=1}pn(rk,jm);function io(t){this.g=t}pn(io,tk);io.prototype.xa=function(){dn(this.g,"a")};io.prototype.wa=function(t){dn(this.g,new nk(t))};io.prototype.va=function(t){dn(this.g,new rk)};io.prototype.ua=function(){dn(this.g,"b")};gd.prototype.createWebChannel=gd.prototype.g;ir.prototype.send=ir.prototype.u;ir.prototype.open=ir.prototype.m;ir.prototype.close=ir.prototype.close;th.NO_ERROR=0;th.TIMEOUT=8;th.HTTP_ERROR=6;E1.COMPLETE="complete";S1.EventType=cc;cc.OPEN="a";cc.CLOSE="b";cc.ERROR="c";cc.MESSAGE="d";nn.prototype.listen=nn.prototype.N;Vt.prototype.listenOnce=Vt.prototype.O;Vt.prototype.getLastError=Vt.prototype.La;Vt.prototype.getLastErrorCode=Vt.prototype.Da;Vt.prototype.getStatus=Vt.prototype.ba;Vt.prototype.getResponseJson=Vt.prototype.Qa;Vt.prototype.getResponseText=Vt.prototype.ga;Vt.prototype.send=Vt.prototype.ea;var gM=function(){return new gd},vM=function(){return eh()},xf=th,yM=E1,bM=Za,zy={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},wM=hc,eu=S1,xM=Vt;const Vy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vn.UNAUTHENTICATED=new Vn(null),Vn.GOOGLE_CREDENTIALS=new Vn("google-credentials-uid"),Vn.FIRST_PARTY=new Vn("first-party-uid"),Vn.MOCK_USER=new Vn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ao="9.9.4";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga=new _m("@firebase/firestore");function Hy(){return Ga.logLevel}function Fe(t,...e){if(Ga.logLevel<=ht.DEBUG){const n=e.map(Jm);Ga.debug(`Firestore (${ao}): ${t}`,...n)}}function _i(t,...e){if(Ga.logLevel<=ht.ERROR){const n=e.map(Jm);Ga.error(`Firestore (${ao}): ${t}`,...n)}}function By(t,...e){if(Ga.logLevel<=ht.WARN){const n=e.map(Jm);Ga.warn(`Firestore (${ao}): ${t}`,...n)}}function Jm(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qe(t="Unexpected state"){const e=`FIRESTORE (${ao}) INTERNAL ASSERTION FAILED: `+t;throw _i(e),new Error(e)}function yt(t,e){t||Qe()}function Ze(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Pe extends yi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class EM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Vn.UNAUTHENTICATED))}shutdown(){}}class SM{constructor(e){this.t=e,this.currentUser=Vn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=p=>this.i!==r?(r=this.i,n(p)):Promise.resolve();let a=new si;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new si,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const p=a;e.enqueueRetryable(async()=>{await p.promise,await i(this.currentUser)})},h=p=>{Fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.auth.addAuthTokenListener(this.o),l()};this.t.onInit(p=>h(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?h(p):(Fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new si)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(yt(typeof r.accessToken=="string"),new kM(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return yt(e===null||typeof e=="string"),new Vn(e)}}class CM{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i,this.type="FirstParty",this.user=Vn.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(yt(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class TM{constructor(e,n,r,i){this.h=e,this.l=n,this.m=r,this.g=i}getToken(){return Promise.resolve(new CM(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(Vn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class NM{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DM{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const r=a=>{a.error!=null&&Fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.A;return this.A=a.token,Fe("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.T.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.T.getImmediate({optional:!0});a?i(a):Fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(yt(typeof n.token=="string"),this.A=n.token,new NM(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=IM(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%e.length))}return r}}function ft(t,e){return t<e?-1:t>e?1:0}function Hs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Pe(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Pe(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Pe(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Pe(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Gt.fromMillis(Date.now())}static fromDate(e){return Gt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Gt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ft(this.nanoseconds,e.nanoseconds):ft(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new nt(e)}static min(){return new nt(new Gt(0,0))}static max(){return new nt(new Gt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e,n,r){n===void 0?n=0:n>e.length&&Qe(),r===void 0?r=e.length-n:r>e.length-n&&Qe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Pl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Pl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=e.get(i),l=n.get(i);if(a<l)return-1;if(a>l)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class kt extends Pl{construct(e,n,r){return new kt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Pe(he.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new kt(n)}static emptyPath(){return new kt([])}}const AM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kn extends Pl{construct(e,n,r){return new kn(e,n,r)}static isValidIdentifier(e){return AM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new kn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Pe(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const h=e[i];if(h==="\\"){if(i+1===e.length)throw new Pe(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[i+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Pe(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=p,i+=2}else h==="`"?(l=!l,i++):h!=="."||l?(r+=h,i++):(a(),i++)}if(a(),l)throw new Pe(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kn(n)}static emptyPath(){return new kn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e){this.path=e}static fromPath(e){return new Ue(kt.fromString(e))}static fromName(e){return new Ue(kt.fromString(e).popFirst(5))}static empty(){return new Ue(kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&kt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return kt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ue(new kt(e.slice()))}}function OM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=nt.fromTimestamp(r===1e9?new Gt(n+1,0):new Gt(n,r));return new na(i,Ue.empty(),e)}function MM(t){return new na(t.readTime,t.key,-1)}class na{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new na(nt.min(),Ue.empty(),-1)}static max(){return new na(nt.max(),Ue.empty(),-1)}}function LM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ue.comparator(t.documentKey,e.documentKey),n!==0?n:ft(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RM{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pc(t){if(t.code!==he.FAILED_PRECONDITION||t.message!==PM)throw t;Fe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Qe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ge((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof ge?n:ge.resolve(n)}catch(n){return ge.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):ge.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):ge.reject(n)}static resolve(e){return new ge((n,r)=>{n(e)})}static reject(e){return new ge((n,r)=>{r(e)})}static waitFor(e){return new ge((n,r)=>{let i=0,a=0,l=!1;e.forEach(h=>{++i,h.next(()=>{++a,l&&a===i&&n()},p=>r(p))}),l=!0,a===i&&n()})}static or(e){let n=ge.resolve(!1);for(const r of e)n=n.next(i=>i?ge.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new ge((r,i)=>{const a=e.length,l=new Array(a);let h=0;for(let p=0;p<a;p++){const v=p;n(e[v]).next(S=>{l[v]=S,++h,h===a&&r(l)},S=>i(S))}})}static doWhile(e,n){return new ge((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function mc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>n.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function es(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ak(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Qm.at=-1;class Yt{constructor(e,n){this.comparator=e,this.root=n||on.EMPTY}insert(e,n){return new Yt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,on.BLACK,null,null))}remove(e){return new Yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,on.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tu(this.root,e,this.comparator,!1)}getReverseIterator(){return new tu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tu(this.root,e,this.comparator,!0)}}class tu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class on{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r!=null?r:on.RED,this.left=i!=null?i:on.EMPTY,this.right=a!=null?a:on.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new on(e!=null?e:this.key,n!=null?n:this.value,r!=null?r:this.color,i!=null?i:this.left,a!=null?a:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return on.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return on.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,on.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,on.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Qe();const e=this.left.check();if(e!==this.right.check())throw Qe();return e+(this.isRed()?0:1)}}on.EMPTY=null,on.RED=!0,on.BLACK=!1;on.EMPTY=new class{constructor(){this.size=0}get key(){throw Qe()}get value(){throw Qe()}get color(){throw Qe()}get left(){throw Qe()}get right(){throw Qe()}copy(t,e,n,r,i){return this}insert(t,e,n){return new on(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.comparator=e,this.data=new Yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Wy(this.data.getIterator())}getIteratorFrom(e){return new Wy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Kt(this.comparator);return n.data=e,n}}class Wy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e){this.fields=e,e.sort(kn.comparator)}static empty(){return new mr([])}unionWith(e){let n=new Kt(kn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new mr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Hs(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new _n(n)}static fromUint8Array(e){const n=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new _n(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ft(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}_n.EMPTY_BYTE_STRING=new _n("");const $M=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ra(t){if(yt(!!t),typeof t=="string"){let e=0;const n=$M.exec(t);if(yt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:jt(t.seconds),nanos:jt(t.nanos)}}function jt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Bs(t){return typeof t=="string"?_n.fromBase64String(t):_n.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sk(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function ok(t){const e=t.mapValue.fields.__previous_value__;return sk(e)?ok(e):e}function Rl(t){const e=ra(t.mapValue.fields.__local_write_time__.timestampValue);return new Gt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e,n,r,i,a,l,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=h,this.useFetchStreams=p}}class $l{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new $l("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof $l&&e.projectId===this.projectId&&e.database===this.database}}function ch(t){return t==null}function vd(t){return t===0&&1/t==-1/0}function UM(t){return typeof t=="number"&&Number.isInteger(t)&&!vd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ka(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?sk(t)?4:jM(t)?9007199254740991:10:Qe()}function Wr(t,e){if(t===e)return!0;const n=Ka(t);if(n!==Ka(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Rl(t).isEqual(Rl(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=ra(r.timestampValue),l=ra(i.timestampValue);return a.seconds===l.seconds&&a.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,i){return Bs(r.bytesValue).isEqual(Bs(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return jt(r.geoPointValue.latitude)===jt(i.geoPointValue.latitude)&&jt(r.geoPointValue.longitude)===jt(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return jt(r.integerValue)===jt(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=jt(r.doubleValue),l=jt(i.doubleValue);return a===l?vd(a)===vd(l):isNaN(a)&&isNaN(l)}return!1}(t,e);case 9:return Hs(t.arrayValue.values||[],e.arrayValue.values||[],Wr);case 10:return function(r,i){const a=r.mapValue.fields||{},l=i.mapValue.fields||{};if(qy(a)!==qy(l))return!1;for(const h in a)if(a.hasOwnProperty(h)&&(l[h]===void 0||!Wr(a[h],l[h])))return!1;return!0}(t,e);default:return Qe()}}function Fl(t,e){return(t.values||[]).find(n=>Wr(n,e))!==void 0}function qs(t,e){if(t===e)return 0;const n=Ka(t),r=Ka(e);if(n!==r)return ft(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ft(t.booleanValue,e.booleanValue);case 2:return function(i,a){const l=jt(i.integerValue||i.doubleValue),h=jt(a.integerValue||a.doubleValue);return l<h?-1:l>h?1:l===h?0:isNaN(l)?isNaN(h)?0:-1:1}(t,e);case 3:return Gy(t.timestampValue,e.timestampValue);case 4:return Gy(Rl(t),Rl(e));case 5:return ft(t.stringValue,e.stringValue);case 6:return function(i,a){const l=Bs(i),h=Bs(a);return l.compareTo(h)}(t.bytesValue,e.bytesValue);case 7:return function(i,a){const l=i.split("/"),h=a.split("/");for(let p=0;p<l.length&&p<h.length;p++){const v=ft(l[p],h[p]);if(v!==0)return v}return ft(l.length,h.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,a){const l=ft(jt(i.latitude),jt(a.latitude));return l!==0?l:ft(jt(i.longitude),jt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,a){const l=i.values||[],h=a.values||[];for(let p=0;p<l.length&&p<h.length;++p){const v=qs(l[p],h[p]);if(v)return v}return ft(l.length,h.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===nu.mapValue&&a===nu.mapValue)return 0;if(i===nu.mapValue)return 1;if(a===nu.mapValue)return-1;const l=i.fields||{},h=Object.keys(l),p=a.fields||{},v=Object.keys(p);h.sort(),v.sort();for(let S=0;S<h.length&&S<v.length;++S){const N=ft(h[S],v[S]);if(N!==0)return N;const C=qs(l[h[S]],p[v[S]]);if(C!==0)return C}return ft(h.length,v.length)}(t.mapValue,e.mapValue);default:throw Qe()}}function Gy(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ft(t,e);const n=ra(t),r=ra(e),i=ft(n.seconds,r.seconds);return i!==0?i:ft(n.nanos,r.nanos)}function As(t){return X_(t)}function X_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=ra(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Bs(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,Ue.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",a=!0;for(const l of r.values||[])a?a=!1:i+=",",i+=X_(l);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",l=!0;for(const h of i)l?l=!1:a+=",",a+=`${h}:${X_(r.fields[h])}`;return a+"}"}(t.mapValue):Qe();var e,n}function Ky(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Z_(t){return!!t&&"integerValue"in t}function Xm(t){return!!t&&"arrayValue"in t}function Yy(t){return!!t&&"nullValue"in t}function Jy(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Cu(t){return!!t&&"mapValue"in t}function tl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return es(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=tl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=tl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function jM(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn{constructor(e){this.value=e}static empty(){return new qn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Cu(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=tl(n)}setAll(e){let n=kn.emptyPath(),r={},i=[];e.forEach((l,h)=>{if(!n.isImmediateParentOf(h)){const p=this.getFieldsMap(n);this.applyChanges(p,r,i),r={},i=[],n=h.popLast()}l?r[h.lastSegment()]=tl(l):i.push(h.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());Cu(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Wr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Cu(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){es(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new qn(tl(this.value))}}function lk(t){const e=[];return es(t.fields,(n,r)=>{const i=new kn([n]);if(Cu(r)){const a=lk(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)}),new mr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,n,r,i,a,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=l}static newInvalidDocument(e){return new ln(e,0,nt.min(),nt.min(),qn.empty(),0)}static newFoundDocument(e,n,r){return new ln(e,1,n,nt.min(),r,0)}static newNoDocument(e,n){return new ln(e,2,n,nt.min(),qn.empty(),0)}static newUnknownDocument(e,n){return new ln(e,3,n,nt.min(),qn.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=nt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e,n=null,r=[],i=[],a=null,l=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=h,this.ht=null}}function Qy(t,e=null,n=[],r=[],i=null,a=null,l=null){return new zM(t,e,n,r,i,a,l)}function Zm(t){const e=Ze(t);if(e.ht===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+As(i.value);var i}).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),ch(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>As(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>As(r)).join(",")),e.ht=n}return e.ht}function VM(t){let e=t.path.canonicalString();return t.collectionGroup!==null&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(n=>{return`${(r=n).field.canonicalString()} ${r.op} ${As(r.value)}`;var r}).join(", ")}]`),ch(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(n=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(n)).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>As(n)).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>As(n)).join(",")),`Target(${e})`}function eg(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!JM(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if(n=t.filters[i],r=e.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!Wr(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Zy(t.startAt,e.startAt)&&Zy(t.endAt,e.endAt)}function ep(t){return Ue.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Ln extends class{}{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.lt(e,n,r):new HM(e,n,r):n==="array-contains"?new WM(e,r):n==="in"?new GM(e,r):n==="not-in"?new KM(e,r):n==="array-contains-any"?new YM(e,r):new Ln(e,n,r)}static lt(e,n,r){return n==="in"?new BM(e,r):new qM(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.ft(qs(n,this.value)):n!==null&&Ka(this.value)===Ka(n)&&this.ft(qs(n,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Qe()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class HM extends Ln{constructor(e,n,r){super(e,n,r),this.key=Ue.fromName(r.referenceValue)}matches(e){const n=Ue.comparator(e.key,this.key);return this.ft(n)}}class BM extends Ln{constructor(e,n){super(e,"in",n),this.keys=ck("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class qM extends Ln{constructor(e,n){super(e,"not-in",n),this.keys=ck("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function ck(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ue.fromName(r.referenceValue))}class WM extends Ln{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Xm(n)&&Fl(n.arrayValue,this.value)}}class GM extends Ln{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Fl(this.value.arrayValue,n)}}class KM extends Ln{constructor(e,n){super(e,"not-in",n)}matches(e){if(Fl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Fl(this.value.arrayValue,n)}}class YM extends Ln{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Xm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Fl(this.value.arrayValue,r))}}class yd{constructor(e,n){this.position=e,this.inclusive=n}}class nl{constructor(e,n="asc"){this.field=e,this.dir=n}}function JM(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Xy(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],l=t.position[i];if(a.field.isKeyField()?r=Ue.comparator(Ue.fromName(l.referenceValue),n.key):r=qs(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function Zy(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Wr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,n=null,r=[],i=[],a=null,l="F",h=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=h,this.endAt=p,this._t=null,this.wt=null,this.startAt,this.endAt}}function QM(t,e,n,r,i,a,l,h){return new gc(t,e,n,r,i,a,l,h)}function uh(t){return new gc(t)}function e0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function uk(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function dk(t){for(const e of t.filters)if(e.dt())return e.field;return null}function hk(t){return t.collectionGroup!==null}function Ul(t){const e=Ze(t);if(e._t===null){e._t=[];const n=dk(e),r=uk(e);if(n!==null&&r===null)n.isKeyField()||e._t.push(new nl(n)),e._t.push(new nl(kn.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e._t.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new nl(kn.keyField(),a))}}}return e._t}function pi(t){const e=Ze(t);if(!e.wt)if(e.limitType==="F")e.wt=Qy(e.path,e.collectionGroup,Ul(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const a of Ul(e)){const l=a.dir==="desc"?"asc":"desc";n.push(new nl(a.field,l))}const r=e.endAt?new yd(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new yd(e.startAt.position,e.startAt.inclusive):null;e.wt=Qy(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.wt}function tp(t,e,n){return new gc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function dh(t,e){return eg(pi(t),pi(e))&&t.limitType===e.limitType}function fk(t){return`${Zm(pi(t))}|lt:${t.limitType}`}function np(t){return`Query(target=${VM(pi(t))}; limitType=${t.limitType})`}function tg(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):Ue.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of n.explicitOrderBy)if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(i,a,l){const h=Xy(i,a,l);return i.inclusive?h<=0:h<0}(n.startAt,Ul(n),r)||n.endAt&&!function(i,a,l){const h=Xy(i,a,l);return i.inclusive?h>=0:h>0}(n.endAt,Ul(n),r))}(t,e)}function XM(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function _k(t){return(e,n)=>{let r=!1;for(const i of Ul(t)){const a=ZM(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function ZM(t,e,n){const r=t.field.isKeyField()?Ue.comparator(e.key,n.key):function(i,a,l){const h=a.data.field(i),p=l.data.field(i);return h!==null&&p!==null?qs(h,p):Qe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Qe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pk(t,e){if(t.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vd(e)?"-0":e}}function mk(t){return{integerValue:""+t}}function gk(t,e){return UM(e)?mk(e):pk(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(){this._=void 0}}function eL(t,e,n){return t instanceof jl?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(a.fields.__previous_value__=i),{mapValue:a}}(n,e):t instanceof zl?yk(t,e):t instanceof Vl?bk(t,e):function(r,i){const a=vk(r,i),l=t0(a)+t0(r.yt);return Z_(a)&&Z_(r.yt)?mk(l):pk(r.It,l)}(t,e)}function tL(t,e,n){return t instanceof zl?yk(t,e):t instanceof Vl?bk(t,e):n}function vk(t,e){return t instanceof Hl?Z_(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class jl extends hh{}class zl extends hh{constructor(e){super(),this.elements=e}}function yk(t,e){const n=wk(e);for(const r of t.elements)n.some(i=>Wr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Vl extends hh{constructor(e){super(),this.elements=e}}function bk(t,e){let n=wk(e);for(const r of t.elements)n=n.filter(i=>!Wr(i,r));return{arrayValue:{values:n}}}class Hl extends hh{constructor(e,n){super(),this.It=e,this.yt=n}}function t0(t){return jt(t.integerValue||t.doubleValue)}function wk(t){return Xm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e,n){this.field=e,this.transform=n}}function nL(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof zl&&r instanceof zl||n instanceof Vl&&r instanceof Vl?Hs(n.elements,r.elements,Wr):n instanceof Hl&&r instanceof Hl?Wr(n.yt,r.yt):n instanceof jl&&r instanceof jl}(t.transform,e.transform)}class rL{constructor(e,n){this.version=e,this.transformResults=n}}class Ar{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ar}static exists(e){return new Ar(void 0,e)}static updateTime(e){return new Ar(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Tu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class fh{}function kk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Sk(t.key,Ar.none()):new vc(t.key,t.data,Ar.none());{const n=t.data,r=qn.empty();let i=new Kt(kn.comparator);for(let a of e.fields)if(!i.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new ha(t.key,r,new mr(i.toArray()),Ar.none())}}function iL(t,e,n){t instanceof vc?function(r,i,a){const l=r.value.clone(),h=r0(r.fieldTransforms,i,a.transformResults);l.setAll(h),i.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):t instanceof ha?function(r,i,a){if(!Tu(r.precondition,i))return void i.convertToUnknownDocument(a.version);const l=r0(r.fieldTransforms,i,a.transformResults),h=i.data;h.setAll(Ek(r)),h.setAll(l),i.convertToFoundDocument(a.version,h).setHasCommittedMutations()}(t,e,n):function(r,i,a){i.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function rl(t,e,n,r){return t instanceof vc?function(i,a,l,h){if(!Tu(i.precondition,a))return l;const p=i.value.clone(),v=i0(i.fieldTransforms,h,a);return p.setAll(v),a.convertToFoundDocument(a.version,p).setHasLocalMutations(),null}(t,e,n,r):t instanceof ha?function(i,a,l,h){if(!Tu(i.precondition,a))return l;const p=i0(i.fieldTransforms,h,a),v=a.data;return v.setAll(Ek(i)),v.setAll(p),a.convertToFoundDocument(a.version,v).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(S=>S.field))}(t,e,n,r):function(i,a,l){return Tu(i.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):l}(t,e,n)}function aL(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=vk(r.transform,i||null);a!=null&&(n===null&&(n=qn.empty()),n.set(r.field,a))}return n||null}function n0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Hs(n,r,(i,a)=>nL(i,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class vc extends fh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ha extends fh{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Ek(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function r0(t,e,n){const r=new Map;yt(t.length===n.length);for(let i=0;i<n.length;i++){const a=t[i],l=a.transform,h=e.data.field(a.field);r.set(a.field,tL(l,h,n[i]))}return r}function i0(t,e,n){const r=new Map;for(const i of t){const a=i.transform,l=n.data.field(i.field);r.set(i.field,eL(a,l,e))}return r}class Sk extends fh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sL extends fh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $t,st;function lL(t){switch(t){default:return Qe();case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0}}function Ck(t){if(t===void 0)return _i("GRPC error has no .code"),he.UNKNOWN;switch(t){case $t.OK:return he.OK;case $t.CANCELLED:return he.CANCELLED;case $t.UNKNOWN:return he.UNKNOWN;case $t.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case $t.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case $t.INTERNAL:return he.INTERNAL;case $t.UNAVAILABLE:return he.UNAVAILABLE;case $t.UNAUTHENTICATED:return he.UNAUTHENTICATED;case $t.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case $t.NOT_FOUND:return he.NOT_FOUND;case $t.ALREADY_EXISTS:return he.ALREADY_EXISTS;case $t.PERMISSION_DENIED:return he.PERMISSION_DENIED;case $t.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case $t.ABORTED:return he.ABORTED;case $t.OUT_OF_RANGE:return he.OUT_OF_RANGE;case $t.UNIMPLEMENTED:return he.UNIMPLEMENTED;case $t.DATA_LOSS:return he.DATA_LOSS;default:return Qe()}}(st=$t||($t={}))[st.OK=0]="OK",st[st.CANCELLED=1]="CANCELLED",st[st.UNKNOWN=2]="UNKNOWN",st[st.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",st[st.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",st[st.NOT_FOUND=5]="NOT_FOUND",st[st.ALREADY_EXISTS=6]="ALREADY_EXISTS",st[st.PERMISSION_DENIED=7]="PERMISSION_DENIED",st[st.UNAUTHENTICATED=16]="UNAUTHENTICATED",st[st.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",st[st.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",st[st.ABORTED=10]="ABORTED",st[st.OUT_OF_RANGE=11]="OUT_OF_RANGE",st[st.UNIMPLEMENTED=12]="UNIMPLEMENTED",st[st.INTERNAL=13]="INTERNAL",st[st.UNAVAILABLE=14]="UNAVAILABLE",st[st.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){es(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return ak(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL=new Yt(Ue.comparator);function mi(){return cL}const Tk=new Yt(Ue.comparator);function Uo(...t){let e=Tk;for(const n of t)e=e.insert(n.key,n);return e}function Nk(t){let e=Tk;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Na(){return il()}function Dk(){return il()}function il(){return new so(t=>t.toString(),(t,e)=>t.isEqual(e))}const uL=new Yt(Ue.comparator),dL=new Kt(Ue.comparator);function it(...t){let e=dL;for(const n of t)e=e.add(n);return e}const hL=new Kt(ft);function Ik(){return hL}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n){const r=new Map;return r.set(e,yc.createSynthesizedTargetChangeForCurrentChange(e,n)),new _h(nt.min(),r,Ik(),mi(),it())}}class yc{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n){return new yc(_n.EMPTY_BYTE_STRING,n,it(),it(),it())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,n,r,i){this.Tt=e,this.removedTargetIds=n,this.key=r,this.Et=i}}class Ak{constructor(e,n){this.targetId=e,this.At=n}}class Ok{constructor(e,n,r=_n.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class a0{constructor(){this.Rt=0,this.bt=o0(),this.Pt=_n.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return this.Rt!==0}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=it(),n=it(),r=it();return this.bt.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Qe()}}),new yc(this.Pt,this.vt,e,n,r)}Nt(){this.Vt=!1,this.bt=o0()}kt(e,n){this.Vt=!0,this.bt=this.bt.insert(e,n)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class fL{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=mi(),this.qt=s0(),this.Kt=new Kt(ft)}Gt(e){for(const n of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(n,e.Et):this.jt(n,e.key,e.Et);for(const n of e.removedTargetIds)this.jt(n,e.key,e.Et)}Wt(e){this.forEachTarget(e,n=>{const r=this.zt(n);switch(e.state){case 0:this.Ht(n)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(n);break;case 3:this.Ht(n)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(n)&&(this.Jt(n),r.Ct(e.resumeToken));break;default:Qe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Lt.forEach((r,i)=>{this.Ht(i)&&n(i)})}Yt(e){const n=e.targetId,r=e.At.count,i=this.Xt(n);if(i){const a=i.target;if(ep(a))if(r===0){const l=new Ue(a.path);this.jt(n,l,ln.newNoDocument(l,nt.min()))}else yt(r===1);else this.Zt(n)!==r&&(this.Jt(n),this.Kt=this.Kt.add(n))}}te(e){const n=new Map;this.Lt.forEach((a,l)=>{const h=this.Xt(l);if(h){if(a.current&&ep(h.target)){const p=new Ue(h.target.path);this.Ut.get(p)!==null||this.ee(l,p)||this.jt(l,p,ln.newNoDocument(p,e))}a.Dt&&(n.set(l,a.xt()),a.Nt())}});let r=it();this.qt.forEach((a,l)=>{let h=!0;l.forEachWhile(p=>{const v=this.Xt(p);return!v||v.purpose===2||(h=!1,!1)}),h&&(r=r.add(a))}),this.Ut.forEach((a,l)=>l.setReadTime(e));const i=new _h(e,n,this.Kt,this.Ut,r);return this.Ut=mi(),this.qt=s0(),this.Kt=new Kt(ft),i}Qt(e,n){if(!this.Ht(e))return;const r=this.ee(e,n.key)?2:0;this.zt(e).kt(n.key,r),this.Ut=this.Ut.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ne(n.key).add(e))}jt(e,n,r){if(!this.Ht(e))return;const i=this.zt(e);this.ee(e,n)?i.kt(n,1):i.Mt(n),this.qt=this.qt.insert(n,this.ne(n).delete(e)),r&&(this.Ut=this.Ut.insert(n,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const n=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let n=this.Lt.get(e);return n||(n=new a0,this.Lt.set(e,n)),n}ne(e){let n=this.qt.get(e);return n||(n=new Kt(ft),this.qt=this.qt.insert(e,n)),n}Ht(e){const n=this.Xt(e)!==null;return n||Fe("WatchChangeAggregator","Detected inactive target",e),n}Xt(e){const n=this.Lt.get(e);return n&&n.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new a0),this.Bt.getRemoteKeysForTarget(e).forEach(n=>{this.jt(e,n,null)})}ee(e,n){return this.Bt.getRemoteKeysForTarget(e).has(n)}}function s0(){return new Yt(Ue.comparator)}function o0(){return new Yt(Ue.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _L=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),pL=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))();class mL{constructor(e,n){this.databaseId=e,this.gt=n}}function bd(t,e){return t.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Mk(t,e){return t.gt?e.toBase64():e.toUint8Array()}function gL(t,e){return bd(t,e.toTimestamp())}function oi(t){return yt(!!t),nt.fromTimestamp(function(e){const n=ra(e);return new Gt(n.seconds,n.nanos)}(t))}function ng(t,e){return function(n){return new kt(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function Lk(t){const e=kt.fromString(t);return yt($k(e)),e}function rp(t,e){return ng(t.databaseId,e.path)}function kf(t,e){const n=Lk(e);if(n.get(1)!==t.databaseId.projectId)throw new Pe(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Pe(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Ue(Pk(n))}function ip(t,e){return ng(t.databaseId,e)}function vL(t){const e=Lk(t);return e.length===4?kt.emptyPath():Pk(e)}function ap(t){return new kt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Pk(t){return yt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function l0(t,e,n){return{name:rp(t,e),fields:n.value.mapValue.fields}}function yL(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Qe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(p,v){return p.gt?(yt(v===void 0||typeof v=="string"),_n.fromBase64String(v||"")):(yt(v===void 0||v instanceof Uint8Array),_n.fromUint8Array(v||new Uint8Array))}(t,e.targetChange.resumeToken),l=e.targetChange.cause,h=l&&function(p){const v=p.code===void 0?he.UNKNOWN:Ck(p.code);return new Pe(v,p.message||"")}(l);n=new Ok(r,i,a,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=kf(t,r.document.name),a=oi(r.document.updateTime),l=new qn({mapValue:{fields:r.document.fields}}),h=ln.newFoundDocument(i,a,l),p=r.targetIds||[],v=r.removedTargetIds||[];n=new Nu(p,v,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=kf(t,r.document),a=r.readTime?oi(r.readTime):nt.min(),l=ln.newNoDocument(i,a),h=r.removedTargetIds||[];n=new Nu([],h,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=kf(t,r.document),a=r.removedTargetIds||[];n=new Nu([],a,i,null)}else{if(!("filter"in e))return Qe();{e.filter;const r=e.filter;r.targetId;const i=r.count||0,a=new oL(i),l=r.targetId;n=new Ak(l,a)}}return n}function bL(t,e){let n;if(e instanceof vc)n={update:l0(t,e.key,e.value)};else if(e instanceof Sk)n={delete:rp(t,e.key)};else if(e instanceof ha)n={update:l0(t,e.key,e.data),updateMask:IL(e.fieldMask)};else{if(!(e instanceof sL))return Qe();n={verify:rp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const l=a.transform;if(l instanceof jl)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof zl)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Vl)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Hl)return{fieldPath:a.field.canonicalString(),increment:l.yt};throw Qe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:gL(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Qe()}(t,e.precondition)),n}function wL(t,e){return t&&t.length>0?(yt(e!==void 0),t.map(n=>function(r,i){let a=r.updateTime?oi(r.updateTime):oi(i);return a.isEqual(nt.min())&&(a=oi(i)),new rL(a,r.transformResults||[])}(n,e))):[]}function xL(t,e){return{documents:[ip(t,e.path)]}}function kL(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=ip(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=ip(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(p){if(p.length===0)return;const v=p.map(S=>function(N){if(N.op==="=="){if(Jy(N.value))return{unaryFilter:{field:as(N.field),op:"IS_NAN"}};if(Yy(N.value))return{unaryFilter:{field:as(N.field),op:"IS_NULL"}}}else if(N.op==="!="){if(Jy(N.value))return{unaryFilter:{field:as(N.field),op:"IS_NOT_NAN"}};if(Yy(N.value))return{unaryFilter:{field:as(N.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:as(N.field),op:TL(N.op),value:N.value}}}(S));return v.length===1?v[0]:{compositeFilter:{op:"AND",filters:v}}}(e.filters);i&&(n.structuredQuery.where=i);const a=function(p){if(p.length!==0)return p.map(v=>function(S){return{field:as(S.field),direction:CL(S.dir)}}(v))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const l=function(p,v){return p.gt||ch(v)?v:{value:v}}(t,e.limit);var h;return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(n.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),n}function EL(t){let e=vL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){yt(r===1);const S=n.from[0];S.allDescendants?i=S.collectionId:e=e.child(S.collectionId)}let a=[];n.where&&(a=Rk(n.where));let l=[];n.orderBy&&(l=n.orderBy.map(S=>function(N){return new nl(xs(N.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(S)));let h=null;n.limit&&(h=function(S){let N;return N=typeof S=="object"?S.value:S,ch(N)?null:N}(n.limit));let p=null;n.startAt&&(p=function(S){const N=!!S.before,C=S.values||[];return new yd(C,N)}(n.startAt));let v=null;return n.endAt&&(v=function(S){const N=!S.before,C=S.values||[];return new yd(C,N)}(n.endAt)),QM(e,i,l,a,h,"F",p,v)}function SL(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Qe()}}(0,e.purpose);return n==null?null:{"goog-listen-tags":n}}function Rk(t){return t?t.unaryFilter!==void 0?[DL(t)]:t.fieldFilter!==void 0?[NL(t)]:t.compositeFilter!==void 0?t.compositeFilter.filters.map(e=>Rk(e)).reduce((e,n)=>e.concat(n)):Qe():[]}function CL(t){return _L[t]}function TL(t){return pL[t]}function as(t){return{fieldPath:t.canonicalString()}}function xs(t){return kn.fromServerFormat(t.fieldPath)}function NL(t){return Ln.create(xs(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Qe()}}(t.fieldFilter.op),t.fieldFilter.value)}function DL(t){switch(t.unaryFilter.op){case"IS_NAN":const e=xs(t.unaryFilter.field);return Ln.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=xs(t.unaryFilter.field);return Ln.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=xs(t.unaryFilter.field);return Ln.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=xs(t.unaryFilter.field);return Ln.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Qe()}}function IL(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function $k(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&iL(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=rl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=rl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Dk();return this.mutations.forEach(i=>{const a=e.get(i.key),l=a.overlayedDocument;let h=this.applyToLocalView(l,a.mutatedFields);h=n.has(i.key)?null:h;const p=kk(l,h);p!==null&&r.set(i.key,p),l.isValidDocument()||l.convertToNoDocument(nt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),it())}isEqual(e){return this.batchId===e.batchId&&Hs(this.mutations,e.mutations,(n,r)=>n0(n,r))&&Hs(this.baseMutations,e.baseMutations,(n,r)=>n0(n,r))}}class rg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){yt(e.mutations.length===r.length);let i=uL;const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new rg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,n,r,i,a=nt.min(),l=nt.min(),h=_n.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=h}withSequenceNumber(e){return new Oa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Oa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Oa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(e){this.re=e}}function LL(t){const e=EL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?tp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(){this.Ye=new RL}addToCollectionParentIndex(e,n){return this.Ye.add(n),ge.resolve()}getCollectionParents(e,n){return ge.resolve(this.Ye.getEntries(n))}addFieldIndex(e,n){return ge.resolve()}deleteFieldIndex(e,n){return ge.resolve()}getDocumentsMatchingTarget(e,n){return ge.resolve(null)}getIndexType(e,n){return ge.resolve(0)}getFieldIndexes(e,n){return ge.resolve([])}getNextCollectionGroupToUpdate(e){return ge.resolve(null)}getMinOffset(e,n){return ge.resolve(na.min())}getMinOffsetFromCollectionGroup(e,n){return ge.resolve(na.min())}updateCollectionGroup(e,n,r){return ge.resolve()}updateIndexEntries(e,n){return ge.resolve()}}class RL{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Kt(kt.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Kt(kt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Ws(0)}static vn(){return new Ws(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(){this.changes=new so(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ge.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FL{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UL{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.getBaseDocument(e,n,r))).next(i=>(r!==null&&rl(r.mutation,i,mr.empty(),Gt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,it()).next(()=>r))}getLocalViewOfDocuments(e,n,r=it()){const i=Na();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let l=Uo();return a.forEach((h,p)=>{l=l.insert(h,p.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=Na();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,it()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((l,h)=>{n.set(l,h)})})}computeViews(e,n,r,i){let a=mi();const l=il(),h=il();return n.forEach((p,v)=>{const S=r.get(v.key);i.has(v.key)&&(S===void 0||S.mutation instanceof ha)?a=a.insert(v.key,v):S!==void 0&&(l.set(v.key,S.mutation.getFieldMask()),rl(S.mutation,v,S.mutation.getFieldMask(),Gt.now()))}),this.recalculateAndSaveOverlays(e,a).next(p=>(p.forEach((v,S)=>l.set(v,S)),n.forEach((v,S)=>{var N;return h.set(v,new FL(S,(N=l.get(v))!==null&&N!==void 0?N:null))}),h))}recalculateAndSaveOverlays(e,n){const r=il();let i=new Yt((l,h)=>l-h),a=it();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const h of l)h.keys().forEach(p=>{const v=n.get(p);if(v===null)return;let S=r.get(p)||mr.empty();S=h.applyToLocalView(v,S),r.set(p,S);const N=(i.get(h.batchId)||it()).add(p);i=i.insert(h.batchId,N)})}).next(()=>{const l=[],h=i.getReverseIterator();for(;h.hasNext();){const p=h.getNext(),v=p.key,S=p.value,N=Dk();S.forEach(C=>{if(!a.has(C)){const A=kk(n.get(C),r.get(C));A!==null&&N.set(C,A),a=a.add(C)}}),l.push(this.documentOverlayCache.saveOverlays(e,v,N))}return ge.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return Ue.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):hk(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):ge.resolve(Na());let h=-1,p=a;return l.next(v=>ge.forEach(v,(S,N)=>(h<N.largestBatchId&&(h=N.largestBatchId),a.get(S)?ge.resolve():this.getBaseDocument(e,S,N).next(C=>{p=p.insert(S,C)}))).next(()=>this.populateOverlays(e,v,a)).next(()=>this.computeViews(e,p,v,it())).next(S=>({batchId:h,changes:Nk(S)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ue(n)).next(r=>{let i=Uo();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let a=Uo();return this.indexManager.getCollectionParents(e,i).next(l=>ge.forEach(l,h=>{const p=function(v,S){return new gc(S,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(n,h.child(i));return this.getDocumentsMatchingCollectionQuery(e,p,r).next(v=>{v.forEach((S,N)=>{a=a.insert(S,N)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,n.path,r).next(a=>(i=a,this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId))).next(a=>{a.forEach((h,p)=>{const v=p.getKey();i.get(v)===null&&(i=i.insert(v,ln.newInvalidDocument(v)))});let l=Uo();return i.forEach((h,p)=>{const v=a.get(h);v!==void 0&&rl(v.mutation,p,mr.empty(),Gt.now()),tg(n,p)&&(l=l.insert(h,p))}),l})}getBaseDocument(e,n,r){return r===null||r.mutation.type===1?this.remoteDocumentCache.getEntry(e,n):ge.resolve(ln.newInvalidDocument(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return ge.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:oi(r.createTime)}),ge.resolve()}getNamedQuery(e,n){return ge.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,function(r){return{name:r.name,query:LL(r.bundledQuery),readTime:oi(r.readTime)}}(n)),ge.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(){this.overlays=new Yt(Ue.comparator),this.es=new Map}getOverlay(e,n){return ge.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Na();return ge.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.ue(e,n,a)}),ge.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.es.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.es.delete(r)),ge.resolve()}getOverlaysForCollection(e,n,r){const i=Na(),a=n.length+1,l=new Ue(n.child("")),h=this.overlays.getIteratorFrom(l);for(;h.hasNext();){const p=h.getNext().value,v=p.getKey();if(!n.isPrefixOf(v.path))break;v.path.length===a&&p.largestBatchId>r&&i.set(p.getKey(),p)}return ge.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new Yt((v,S)=>v-S);const l=this.overlays.getIterator();for(;l.hasNext();){const v=l.getNext().value;if(v.getKey().getCollectionGroup()===n&&v.largestBatchId>r){let S=a.get(v.largestBatchId);S===null&&(S=Na(),a=a.insert(v.largestBatchId,S)),S.set(v.getKey(),v)}}const h=Na(),p=a.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((v,S)=>h.set(v,S)),!(h.size()>=i)););return ge.resolve(h)}ue(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new OL(n,r));let a=this.es.get(n);a===void 0&&(a=it(),this.es.set(n,a)),this.es.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(){this.ns=new Kt(Qt.ss),this.rs=new Kt(Qt.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const r=new Qt(e,n);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.cs(new Qt(e,n))}hs(e,n){e.forEach(r=>this.removeReference(r,n))}ls(e){const n=new Ue(new kt([])),r=new Qt(n,e),i=new Qt(n,e+1),a=[];return this.rs.forEachInRange([r,i],l=>{this.cs(l),a.push(l.key)}),a}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new Ue(new kt([])),r=new Qt(n,e),i=new Qt(n,e+1);let a=it();return this.rs.forEachInRange([r,i],l=>{a=a.add(l.key)}),a}containsKey(e){const n=new Qt(e,0),r=this.ns.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Qt{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return Ue.comparator(e.key,n.key)||ft(e._s,n._s)}static os(e,n){return ft(e._s,n._s)||Ue.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new Kt(Qt.ss)}checkEmpty(e){return ge.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new AL(a,n,r,i);this.mutationQueue.push(l);for(const h of i)this.gs=this.gs.add(new Qt(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ge.resolve(l)}lookupMutationBatch(e,n){return ge.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ps(r),a=i<0?0:i;return ge.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ge.resolve(this.mutationQueue.length===0?-1:this.ws-1)}getAllMutationBatches(e){return ge.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Qt(n,0),i=new Qt(n,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],l=>{const h=this.ys(l._s);a.push(h)}),ge.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Kt(ft);return n.forEach(i=>{const a=new Qt(i,0),l=new Qt(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([a,l],h=>{r=r.add(h._s)})}),ge.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;Ue.isDocumentKey(a)||(a=a.child(""));const l=new Qt(new Ue(a),0);let h=new Kt(ft);return this.gs.forEachWhile(p=>{const v=p.key.path;return!!r.isPrefixOf(v)&&(v.length===i&&(h=h.add(p._s)),!0)},l),ge.resolve(this.Is(h))}Is(e){const n=[];return e.forEach(r=>{const i=this.ys(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){yt(this.Ts(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.gs;return ge.forEach(n.mutations,i=>{const a=new Qt(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,n){const r=new Qt(n,0),i=this.gs.firstAfterOrEqual(r);return ge.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ge.resolve()}Ts(e,n){return this.ps(e)}ps(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(e){this.Es=e,this.docs=new Yt(Ue.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,l=this.Es(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ge.resolve(r?r.document.mutableCopy():ln.newInvalidDocument(n))}getEntries(e,n){let r=mi();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():ln.newInvalidDocument(i))}),ge.resolve(r)}getAllFromCollection(e,n,r){let i=mi();const a=new Ue(n.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:h,value:{document:p}}=l.getNext();if(!n.isPrefixOf(h.path))break;h.path.length>n.length+1||LM(MM(p),r)<=0||(i=i.insert(p.key,p.mutableCopy()))}return ge.resolve(i)}getAllFromCollectionGroup(e,n,r,i){Qe()}As(e,n){return ge.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new BL(this)}getSize(e){return ge.resolve(this.size)}}class BL extends $L{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),ge.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qL{constructor(e){this.persistence=e,this.Rs=new so(n=>Zm(n),eg),this.lastRemoteSnapshotVersion=nt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new ig,this.targetCount=0,this.vs=Ws.Pn()}forEachTarget(e,n){return this.Rs.forEach((r,i)=>n(i)),ge.resolve()}getLastRemoteSnapshotVersion(e){return ge.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ge.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),ge.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.bs&&(this.bs=n),ge.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new Ws(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,ge.resolve()}updateTargetData(e,n){return this.Dn(n),ge.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,ge.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.Rs.forEach((l,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.Rs.delete(l),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)}),ge.waitFor(a).next(()=>i)}getTargetCount(e){return ge.resolve(this.targetCount)}getTargetData(e,n){const r=this.Rs.get(n)||null;return ge.resolve(r)}addMatchingKeys(e,n,r){return this.Ps.us(n,r),ge.resolve()}removeMatchingKeys(e,n,r){this.Ps.hs(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(l=>{a.push(i.markPotentiallyOrphaned(e,l))}),ge.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),ge.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Ps.ds(n);return ge.resolve(r)}containsKey(e,n){return ge.resolve(this.Ps.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new Qm(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new qL(this),this.indexManager=new PL,this.remoteDocumentCache=function(r){return new HL(r)}(r=>this.referenceDelegate.xs(r)),this.It=new ML(n),this.Ns=new jL(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new zL,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Vs[e.toKey()];return r||(r=new VL(n,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,r){Fe("MemoryPersistence","Starting transaction:",e);const i=new GL(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(a=>this.referenceDelegate.Ms(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Os(e,n){return ge.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,n)))}}class GL extends RM{constructor(e){super(),this.currentSequenceNumber=e}}class ag{constructor(e){this.persistence=e,this.Fs=new ig,this.$s=null}static Bs(e){return new ag(e)}get Ls(){if(this.$s)return this.$s;throw Qe()}addReference(e,n,r){return this.Fs.addReference(r,n),this.Ls.delete(r.toString()),ge.resolve()}removeReference(e,n,r){return this.Fs.removeReference(r,n),this.Ls.add(r.toString()),ge.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),ge.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.Ls.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}ks(){this.$s=new Set}Ms(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ge.forEach(this.Ls,r=>{const i=Ue.fromPath(r);return this.Us(e,i).next(a=>{a||n.removeEntry(i,nt.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.Us(e,n).next(r=>{r?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}Us(e,n){return ge.or([()=>ge.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Os(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Si=r,this.Di=i}static Ci(e,n){let r=it(),i=it();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new sg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KL{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.ki(e,n).next(a=>a||this.Mi(e,n,i,r)).next(a=>a||this.Oi(e,n))}ki(e,n){if(e0(n))return ge.resolve(null);let r=pi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=tp(n,null,"F"),r=pi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=it(...a);return this.Ni.getDocuments(e,l).next(h=>this.indexManager.getMinOffset(e,r).next(p=>{const v=this.Fi(n,h);return this.$i(n,v,l,p.readTime)?this.ki(e,tp(n,null,"F")):this.Bi(e,v,n,p)}))})))}Mi(e,n,r,i){return e0(n)||i.isEqual(nt.min())?this.Oi(e,n):this.Ni.getDocuments(e,r).next(a=>{const l=this.Fi(n,a);return this.$i(n,l,r,i)?this.Oi(e,n):(Hy()<=ht.DEBUG&&Fe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),np(n)),this.Bi(e,l,n,OM(i,-1)))})}Fi(e,n){let r=new Kt(_k(e));return n.forEach((i,a)=>{tg(e,a)&&(r=r.add(a))}),r}$i(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Oi(e,n){return Hy()<=ht.DEBUG&&Fe("QueryEngine","Using full collection scan to execute query:",np(n)),this.Ni.getDocumentsMatchingQuery(e,n,na.min())}Bi(e,n,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(e,n,r,i){this.persistence=e,this.Li=n,this.It=i,this.Ui=new Yt(ft),this.qi=new so(a=>Zm(a),eg),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new UL(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ui))}}function JL(t,e,n,r){return new YL(t,e,n,r)}async function Fk(t,e){const n=Ze(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.Qi(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],h=[];let p=it();for(const v of i){l.push(v.batchId);for(const S of v.mutations)p=p.add(S.key)}for(const v of a){h.push(v.batchId);for(const S of v.mutations)p=p.add(S.key)}return n.localDocuments.getDocuments(r,p).next(v=>({ji:v,removedBatchIds:l,addedBatchIds:h}))})})}function QL(t,e){const n=Ze(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.Gi.newChangeBuffer({trackRemovals:!0});return function(l,h,p,v){const S=p.batch,N=S.keys();let C=ge.resolve();return N.forEach(A=>{C=C.next(()=>v.getEntry(h,A)).next(R=>{const D=p.docVersions.get(A);yt(D!==null),R.version.compareTo(D)<0&&(S.applyToRemoteDocument(R,p),R.isValidDocument()&&(R.setReadTime(p.commitVersion),v.addEntry(R)))})}),C.next(()=>l.mutationQueue.removeMutationBatch(h,S))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let h=it();for(let p=0;p<l.mutationResults.length;++p)l.mutationResults[p].transformResults.length>0&&(h=h.add(l.batch.mutations[p].key));return h}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Uk(t){const e=Ze(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function XL(t,e){const n=Ze(t),r=e.snapshotVersion;let i=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.Ui;const h=[];e.targetChanges.forEach((S,N)=>{const C=i.get(N);if(!C)return;h.push(n.Cs.removeMatchingKeys(a,S.removedDocuments,N).next(()=>n.Cs.addMatchingKeys(a,S.addedDocuments,N)));let A=C.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.has(N)?A=A.withResumeToken(_n.EMPTY_BYTE_STRING,nt.min()).withLastLimboFreeSnapshotVersion(nt.min()):S.resumeToken.approximateByteSize()>0&&(A=A.withResumeToken(S.resumeToken,r)),i=i.insert(N,A),function(R,D,L){return R.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=3e8?!0:L.addedDocuments.size+L.modifiedDocuments.size+L.removedDocuments.size>0}(C,A,S)&&h.push(n.Cs.updateTargetData(a,A))});let p=mi(),v=it();if(e.documentUpdates.forEach(S=>{e.resolvedLimboDocuments.has(S)&&h.push(n.persistence.referenceDelegate.updateLimboDocument(a,S))}),h.push(ZL(a,l,e.documentUpdates).next(S=>{p=S.Wi,v=S.zi})),!r.isEqual(nt.min())){const S=n.Cs.getLastRemoteSnapshotVersion(a).next(N=>n.Cs.setTargetsMetadata(a,a.currentSequenceNumber,r));h.push(S)}return ge.waitFor(h).next(()=>l.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,p,v)).next(()=>p)}).then(a=>(n.Ui=i,a))}function ZL(t,e,n){let r=it(),i=it();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let l=mi();return n.forEach((h,p)=>{const v=a.get(h);p.isFoundDocument()!==v.isFoundDocument()&&(i=i.add(h)),p.isNoDocument()&&p.version.isEqual(nt.min())?(e.removeEntry(h,p.readTime),l=l.insert(h,p)):!v.isValidDocument()||p.version.compareTo(v.version)>0||p.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(p),l=l.insert(h,p)):Fe("LocalStore","Ignoring outdated watch update for ",h,". Current version:",v.version," Watch version:",p.version)}),{Wi:l,zi:i}})}function eP(t,e){const n=Ze(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function tP(t,e){const n=Ze(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Cs.getTargetData(r,e).next(a=>a?(i=a,ge.resolve(i)):n.Cs.allocateTargetId(r).next(l=>(i=new Oa(e,l,0,r.currentSequenceNumber),n.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ui.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(r.targetId,r),n.qi.set(e,r.targetId)),r})}async function sp(t,e,n){const r=Ze(t),i=r.Ui.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!mc(l))throw l;Fe("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ui=r.Ui.remove(e),r.qi.delete(i.target)}function c0(t,e,n){const r=Ze(t);let i=nt.min(),a=it();return r.persistence.runTransaction("Execute query","readonly",l=>function(h,p,v){const S=Ze(h),N=S.qi.get(v);return N!==void 0?ge.resolve(S.Ui.get(N)):S.Cs.getTargetData(p,v)}(r,l,pi(e)).next(h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(l,h.targetId).next(p=>{a=p})}).next(()=>r.Li.getDocumentsMatchingQuery(l,e,n?i:nt.min(),n?a:it())).next(h=>(nP(r,XM(e),h),{documents:h,Hi:a})))}function nP(t,e,n){let r=nt.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Ki.set(e,r)}class u0{constructor(){this.activeTargetIds=Ik()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rP{constructor(){this.Lr=new u0,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,n,r){this.Ur[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new u0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iP{qr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.oo=n+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,n,r,i,a){const l=this.ao(e,n);Fe("RestConnection","Sending: ",l,r);const h={};return this.ho(h,i,a),this.lo(e,l,h,r).then(p=>(Fe("RestConnection","Received: ",p),p),p=>{throw By("RestConnection",`${e} failed with error: `,p,"url: ",l,"request:",r),p})}fo(e,n,r,i,a,l){return this.co(e,n,r,i,a)}ho(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ao,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}ao(e,n){const r=aP[e];return`${this.oo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,n,r,i){return new Promise((a,l)=>{const h=new xM;h.listenOnce(yM.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case xf.NO_ERROR:const v=h.getResponseJson();Fe("Connection","XHR received:",JSON.stringify(v)),a(v);break;case xf.TIMEOUT:Fe("Connection",'RPC "'+e+'" timed out'),l(new Pe(he.DEADLINE_EXCEEDED,"Request time out"));break;case xf.HTTP_ERROR:const S=h.getStatus();if(Fe("Connection",'RPC "'+e+'" failed with status:',S,"response text:",h.getResponseText()),S>0){const N=h.getResponseJson().error;if(N&&N.status&&N.message){const C=function(A){const R=A.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(R)>=0?R:he.UNKNOWN}(N.status);l(new Pe(C,N.message))}else l(new Pe(he.UNKNOWN,"Server responded with status "+h.getStatus()))}else l(new Pe(he.UNAVAILABLE,"Connection failed."));break;default:Qe()}}finally{Fe("Connection",'RPC "'+e+'" completed.')}});const p=JSON.stringify(i);h.send(n,"POST",p,r,15)})}_o(e,n,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=gM(),l=vM(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new wM({})),this.ho(h.initMessageHeaders,n,r),bx()||xx()||ZN()||kx()||eD()||wx()||(h.httpHeadersOverwriteParam="$httpHeaders");const p=i.join("");Fe("Connection","Creating WebChannel: "+p,h);const v=a.createWebChannel(p,h);let S=!1,N=!1;const C=new sP({Hr:R=>{N?Fe("Connection","Not sending because WebChannel is closed:",R):(S||(Fe("Connection","Opening WebChannel transport."),v.open(),S=!0),Fe("Connection","WebChannel sending:",R),v.send(R))},Jr:()=>v.close()}),A=(R,D,L)=>{R.listen(D,I=>{try{L(I)}catch(M){setTimeout(()=>{throw M},0)}})};return A(v,eu.EventType.OPEN,()=>{N||Fe("Connection","WebChannel transport opened.")}),A(v,eu.EventType.CLOSE,()=>{N||(N=!0,Fe("Connection","WebChannel transport closed"),C.io())}),A(v,eu.EventType.ERROR,R=>{N||(N=!0,By("Connection","WebChannel transport errored:",R),C.io(new Pe(he.UNAVAILABLE,"The operation could not be completed")))}),A(v,eu.EventType.MESSAGE,R=>{var D;if(!N){const L=R.data[0];yt(!!L);const I=L,M=I.error||((D=I[0])===null||D===void 0?void 0:D.error);if(M){Fe("Connection","WebChannel received error:",M);const F=M.status;let z=function(W){const H=$t[W];if(H!==void 0)return Ck(H)}(F),j=M.message;z===void 0&&(z=he.INTERNAL,j="Unknown error status: "+F+" with message "+M.message),N=!0,C.io(new Pe(z,j)),v.close()}else Fe("Connection","WebChannel received:",L),C.ro(L)}}),A(l,bM.STAT_EVENT,R=>{R.stat===zy.PROXY?Fe("Connection","Detected buffering proxy"):R.stat===zy.NOPROXY&&Fe("Connection","Detected no buffering proxy")}),setTimeout(()=>{C.so()},0),C}}function Ef(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(t){return new mL(t,!0)}class jk{constructor(e,n,r=1e3,i=1.5,a=6e4){this.Hs=e,this.timerId=n,this.wo=r,this.mo=i,this.yo=a,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&Fe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.po} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){this.Io!==null&&(this.Io.skipDelay(),this.Io=null)}cancel(){this.Io!==null&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e,n,r,i,a,l,h,p){this.Hs=e,this.Po=r,this.vo=i,this.Vo=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=h,this.listener=p,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new jk(e,n)}No(){return this.state===1||this.state===5||this.ko()}ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Mo()}async stop(){this.No()&&await this.close(0)}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&this.Do===null&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(e,n){this.Lo(),this.Uo(),this.xo.cancel(),this.So++,e!==4?this.xo.reset():n&&n.code===he.RESOURCE_EXHAUSTED?(_i(n.toString()),_i("Using maximum backoff delay to prevent overloading the backend."),this.xo.Eo()):n&&n.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.qo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zr(n)}qo(){}auth(){this.state=1;const e=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===n&&this.Go(r,i)},r=>{e(()=>{const i=new Pe(he.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,n){const r=this.Ko(this.So);this.stream=this.jo(e,n),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Mo(){this.state=5,this.xo.Ao(async()=>{this.state=0,this.start()})}Qo(e){return Fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return n=>{this.Hs.enqueueAndForget(()=>this.So===e?n():(Fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class lP extends zk{constructor(e,n,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.It=a}jo(e,n){return this.Vo._o("Listen",e,n)}onMessage(e){this.xo.reset();const n=yL(this.It,e),r=function(i){if(!("targetChange"in i))return nt.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?nt.min():a.readTime?oi(a.readTime):nt.min()}(e);return this.listener.Wo(n,r)}zo(e){const n={};n.database=ap(this.It),n.addTarget=function(i,a){let l;const h=a.target;return l=ep(h)?{documents:xL(i,h)}:{query:kL(i,h)},l.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?l.resumeToken=Mk(i,a.resumeToken):a.snapshotVersion.compareTo(nt.min())>0&&(l.readTime=bd(i,a.snapshotVersion.toTimestamp())),l}(this.It,e);const r=SL(this.It,e);r&&(n.labels=r),this.Bo(n)}Ho(e){const n={};n.database=ap(this.It),n.removeTarget=e,this.Bo(n)}}class cP extends zk{constructor(e,n,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.It=a,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,n){return this.Vo._o("Write",e,n)}onMessage(e){if(yt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const n=wL(e.writeResults,e.commitTime),r=oi(e.commitTime);return this.listener.Zo(r,n)}return yt(!e.writeResults||e.writeResults.length===0),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=ap(this.It),this.Bo(e)}Xo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>bL(this.It,r))};this.Bo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.Vo=r,this.It=i,this.nu=!1}su(){if(this.nu)throw new Pe(he.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,n,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.Vo.co(e,n,r,i,a)).catch(i=>{throw i.name==="FirebaseError"?(i.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Pe(he.UNKNOWN,i.toString())})}fo(e,n,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.Vo.fo(e,n,r,a,l,i)).catch(a=>{throw a.name==="FirebaseError"?(a.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Pe(he.UNKNOWN,a.toString())})}terminate(){this.nu=!0}}class dP{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){this.iu===0&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){this.state==="Online"?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,e==="Online"&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(_i(n),this.ou=!1):Fe("OnlineStateTracker",n)}lu(){this.ru!==null&&(this.ru.cancel(),this.ru=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=a,this.mu.qr(l=>{r.enqueueAndForget(async()=>{ts(this)&&(Fe("RemoteStore","Restarting streams for network reachability change."),await async function(h){const p=Ze(h);p._u.add(4),await bc(p),p.gu.set("Unknown"),p._u.delete(4),await mh(p)}(this))})}),this.gu=new dP(r,i)}}async function mh(t){if(ts(t))for(const e of t.wu)await e(!0)}async function bc(t){for(const e of t.wu)await e(!1)}function Vk(t,e){const n=Ze(t);n.du.has(e.targetId)||(n.du.set(e.targetId,e),cg(n)?lg(n):oo(n).ko()&&og(n,e))}function Hk(t,e){const n=Ze(t),r=oo(n);n.du.delete(e),r.ko()&&Bk(n,e),n.du.size===0&&(r.ko()?r.Fo():ts(n)&&n.gu.set("Unknown"))}function og(t,e){t.yu.Ot(e.targetId),oo(t).zo(e)}function Bk(t,e){t.yu.Ot(e),oo(t).Ho(e)}function lg(t){t.yu=new fL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),se:e=>t.du.get(e)||null}),oo(t).start(),t.gu.uu()}function cg(t){return ts(t)&&!oo(t).No()&&t.du.size>0}function ts(t){return Ze(t)._u.size===0}function qk(t){t.yu=void 0}async function fP(t){t.du.forEach((e,n)=>{og(t,e)})}async function _P(t,e){qk(t),cg(t)?(t.gu.hu(e),lg(t)):t.gu.set("Unknown")}async function pP(t,e,n){if(t.gu.set("Online"),e instanceof Ok&&e.state===2&&e.cause)try{await async function(r,i){const a=i.cause;for(const l of i.targetIds)r.du.has(l)&&(await r.remoteSyncer.rejectListen(l,a),r.du.delete(l),r.yu.removeTarget(l))}(t,e)}catch(r){Fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await wd(t,r)}else if(e instanceof Nu?t.yu.Gt(e):e instanceof Ak?t.yu.Yt(e):t.yu.Wt(e),!n.isEqual(nt.min()))try{const r=await Uk(t.localStore);n.compareTo(r)>=0&&await function(i,a){const l=i.yu.te(a);return l.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const v=i.du.get(p);v&&i.du.set(p,v.withResumeToken(h.resumeToken,a))}}),l.targetMismatches.forEach(h=>{const p=i.du.get(h);if(!p)return;i.du.set(h,p.withResumeToken(_n.EMPTY_BYTE_STRING,p.snapshotVersion)),Bk(i,h);const v=new Oa(p.target,h,1,p.sequenceNumber);og(i,v)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){Fe("RemoteStore","Failed to raise snapshot:",r),await wd(t,r)}}async function wd(t,e,n){if(!mc(e))throw e;t._u.add(1),await bc(t),t.gu.set("Offline"),n||(n=()=>Uk(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Fe("RemoteStore","Retrying IndexedDB access"),await n(),t._u.delete(1),await mh(t)})}function Wk(t,e){return e().catch(n=>wd(t,n,e))}async function gh(t){const e=Ze(t),n=ia(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;mP(e);)try{const i=await eP(e.localStore,r);if(i===null){e.fu.length===0&&n.Fo();break}r=i.batchId,gP(e,i)}catch(i){await wd(e,i)}Gk(e)&&Kk(e)}function mP(t){return ts(t)&&t.fu.length<10}function gP(t,e){t.fu.push(e);const n=ia(t);n.ko()&&n.Yo&&n.Xo(e.mutations)}function Gk(t){return ts(t)&&!ia(t).No()&&t.fu.length>0}function Kk(t){ia(t).start()}async function vP(t){ia(t).eu()}async function yP(t){const e=ia(t);for(const n of t.fu)e.Xo(n.mutations)}async function bP(t,e,n){const r=t.fu.shift(),i=rg.from(r,e,n);await Wk(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await gh(t)}async function wP(t,e){e&&ia(t).Yo&&await async function(n,r){if(i=r.code,lL(i)&&i!==he.ABORTED){const a=n.fu.shift();ia(n).Oo(),await Wk(n,()=>n.remoteSyncer.rejectFailedWrite(a.batchId,r)),await gh(n)}var i}(t,e),Gk(t)&&Kk(t)}async function h0(t,e){const n=Ze(t);n.asyncQueue.verifyOperationInProgress(),Fe("RemoteStore","RemoteStore received new credentials");const r=ts(n);n._u.add(3),await bc(n),r&&n.gu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n._u.delete(3),await mh(n)}async function xP(t,e){const n=Ze(t);e?(n._u.delete(2),await mh(n)):e||(n._u.add(2),await bc(n),n.gu.set("Unknown"))}function oo(t){return t.pu||(t.pu=function(e,n,r){const i=Ze(e);return i.su(),new lP(n,i.Vo,i.authCredentials,i.appCheckCredentials,i.It,r)}(t.datastore,t.asyncQueue,{Yr:fP.bind(null,t),Zr:_P.bind(null,t),Wo:pP.bind(null,t)}),t.wu.push(async e=>{e?(t.pu.Oo(),cg(t)?lg(t):t.gu.set("Unknown")):(await t.pu.stop(),qk(t))})),t.pu}function ia(t){return t.Iu||(t.Iu=function(e,n,r){const i=Ze(e);return i.su(),new cP(n,i.Vo,i.authCredentials,i.appCheckCredentials,i.It,r)}(t.datastore,t.asyncQueue,{Yr:vP.bind(null,t),Zr:wP.bind(null,t),tu:yP.bind(null,t),Zo:bP.bind(null,t)}),t.wu.push(async e=>{e?(t.Iu.Oo(),await gh(t)):(await t.Iu.stop(),t.fu.length>0&&(Fe("RemoteStore",`Stopping write stream with ${t.fu.length} pending writes`),t.fu=[]))})),t.Iu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new si,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,n,r,i,a){const l=Date.now()+r,h=new ug(e,n,l,i,a);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Pe(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dg(t,e){if(_i("AsyncQueue",`${e}: ${t}`),mc(t))return new Pe(he.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Ue.comparator(n.key,r.key):(n,r)=>Ue.comparator(n.key,r.key),this.keyedMap=Uo(),this.sortedSet=new Yt(this.comparator)}static emptySet(e){return new Os(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Os)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Os;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(){this.Tu=new Yt(Ue.comparator)}track(e){const n=e.doc.key,r=this.Tu.get(n);r?e.type!==0&&r.type===3?this.Tu=this.Tu.insert(n,e):e.type===3&&r.type!==1?this.Tu=this.Tu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Tu=this.Tu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Tu=this.Tu.remove(n):e.type===1&&r.type===2?this.Tu=this.Tu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):Qe():this.Tu=this.Tu.insert(n,e)}Eu(){const e=[];return this.Tu.inorderTraversal((n,r)=>{e.push(r)}),e}}class Gs{constructor(e,n,r,i,a,l,h,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=h,this.excludesMetadataChanges=p}static fromInitialDocuments(e,n,r,i){const a=[];return n.forEach(l=>{a.push({type:0,doc:l})}),new Gs(e,n,Os.emptySet(n),a,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(){this.Au=void 0,this.listeners=[]}}class EP{constructor(){this.queries=new so(e=>fk(e),dh),this.onlineState="Unknown",this.Ru=new Set}}async function hg(t,e){const n=Ze(t),r=e.query;let i=!1,a=n.queries.get(r);if(a||(i=!0,a=new kP),i)try{a.Au=await n.onListen(r)}catch(l){const h=dg(l,`Initialization of query '${np(e.query)}' failed`);return void e.onError(h)}n.queries.set(r,a),a.listeners.push(e),e.bu(n.onlineState),a.Au&&e.Pu(a.Au)&&_g(n)}async function fg(t,e){const n=Ze(t),r=e.query;let i=!1;const a=n.queries.get(r);if(a){const l=a.listeners.indexOf(e);l>=0&&(a.listeners.splice(l,1),i=a.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function SP(t,e){const n=Ze(t);let r=!1;for(const i of e){const a=i.query,l=n.queries.get(a);if(l){for(const h of l.listeners)h.Pu(i)&&(r=!0);l.Au=i}}r&&_g(n)}function CP(t,e,n){const r=Ze(t),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(n);r.queries.delete(e)}function _g(t){t.Ru.forEach(e=>{e.next()})}class pg{constructor(e,n,r){this.query=e,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Gs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),n=!0):this.Cu(e,this.onlineState)&&(this.xu(e),n=!0),this.Su=e,n}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let n=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),n=!0),n}Cu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Nu||!r)&&(!e.docs.isEmpty()||n==="Offline")}Du(e){if(e.docChanges.length>0)return!0;const n=this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}xu(e){e=Gs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e){this.key=e}}class Jk{constructor(e){this.key=e}}class TP{constructor(e,n){this.query=e,this.Lu=n,this.Uu=null,this.current=!1,this.qu=it(),this.mutatedKeys=it(),this.Ku=_k(e),this.Gu=new Os(this.Ku)}get Qu(){return this.Lu}ju(e,n){const r=n?n.Wu:new f0,i=n?n.Gu:this.Gu;let a=n?n.mutatedKeys:this.mutatedKeys,l=i,h=!1;const p=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,v=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((S,N)=>{const C=i.get(S),A=tg(this.query,N)?N:null,R=!!C&&this.mutatedKeys.has(C.key),D=!!A&&(A.hasLocalMutations||this.mutatedKeys.has(A.key)&&A.hasCommittedMutations);let L=!1;C&&A?C.data.isEqual(A.data)?R!==D&&(r.track({type:3,doc:A}),L=!0):this.zu(C,A)||(r.track({type:2,doc:A}),L=!0,(p&&this.Ku(A,p)>0||v&&this.Ku(A,v)<0)&&(h=!0)):!C&&A?(r.track({type:0,doc:A}),L=!0):C&&!A&&(r.track({type:1,doc:C}),L=!0,(p||v)&&(h=!0)),L&&(A?(l=l.add(A),a=D?a.add(S):a.delete(S)):(l=l.delete(S),a=a.delete(S)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const S=this.query.limitType==="F"?l.last():l.first();l=l.delete(S.key),a=a.delete(S.key),r.track({type:1,doc:S})}return{Gu:l,Wu:r,$i:h,mutatedKeys:a}}zu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const a=e.Wu.Eu();a.sort((v,S)=>function(N,C){const A=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Qe()}};return A(N)-A(C)}(v.type,S.type)||this.Ku(v.doc,S.doc)),this.Hu(r);const l=n?this.Ju():[],h=this.qu.size===0&&this.current?1:0,p=h!==this.Uu;return this.Uu=h,a.length!==0||p?{snapshot:new Gs(this.query,e.Gu,i,a,e.mutatedKeys,h===0,p,!1),Yu:l}:{Yu:l}}bu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new f0,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(n=>this.Lu=this.Lu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Lu=this.Lu.delete(n)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=it(),this.Gu.forEach(r=>{this.Xu(r.key)&&(this.qu=this.qu.add(r.key))});const n=[];return e.forEach(r=>{this.qu.has(r)||n.push(new Jk(r))}),this.qu.forEach(r=>{e.has(r)||n.push(new Yk(r))}),n}Zu(e){this.Lu=e.Hi,this.qu=it();const n=this.ju(e.documents);return this.applyChanges(n,!0)}tc(){return Gs.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,this.Uu===0)}}class NP{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class DP{constructor(e){this.key=e,this.ec=!1}}class IP{constructor(e,n,r,i,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.nc={},this.sc=new so(h=>fk(h),dh),this.ic=new Map,this.rc=new Set,this.oc=new Yt(Ue.comparator),this.uc=new Map,this.cc=new ig,this.ac={},this.hc=new Map,this.lc=Ws.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return this.fc===!0}}async function AP(t,e){const n=zP(t);let r,i;const a=n.sc.get(e);if(a)r=a.targetId,n.sharedClientState.addLocalQueryTarget(r),i=a.view.tc();else{const l=await tP(n.localStore,pi(e));n.isPrimaryClient&&Vk(n.remoteStore,l);const h=n.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,i=await OP(n,e,r,h==="current")}return i}async function OP(t,e,n,r){t.dc=(S,N,C)=>async function(A,R,D,L){let I=R.view.ju(D);I.$i&&(I=await c0(A.localStore,R.query,!1).then(({documents:z})=>R.view.ju(z,I)));const M=L&&L.targetChanges.get(R.targetId),F=R.view.applyChanges(I,A.isPrimaryClient,M);return p0(A,R.targetId,F.Yu),F.snapshot}(t,S,N,C);const i=await c0(t.localStore,e,!0),a=new TP(e,i.Hi),l=a.ju(i.documents),h=yc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline"),p=a.applyChanges(l,t.isPrimaryClient,h);p0(t,n,p.Yu);const v=new NP(e,n,a);return t.sc.set(e,v),t.ic.has(n)?t.ic.get(n).push(e):t.ic.set(n,[e]),p.snapshot}async function MP(t,e){const n=Ze(t),r=n.sc.get(e),i=n.ic.get(r.targetId);if(i.length>1)return n.ic.set(r.targetId,i.filter(a=>!dh(a,e))),void n.sc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await sp(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Hk(n.remoteStore,r.targetId),op(n,r.targetId)}).catch(pc)):(op(n,r.targetId),await sp(n.localStore,r.targetId,!0))}async function LP(t,e,n){const r=VP(t);try{const i=await function(a,l){const h=Ze(a),p=Gt.now(),v=l.reduce((C,A)=>C.add(A.key),it());let S,N;return h.persistence.runTransaction("Locally write mutations","readwrite",C=>{let A=mi(),R=it();return h.Gi.getEntries(C,v).next(D=>{A=D,A.forEach((L,I)=>{I.isValidDocument()||(R=R.add(L))})}).next(()=>h.localDocuments.getOverlayedDocuments(C,A)).next(D=>{S=D;const L=[];for(const I of l){const M=aL(I,S.get(I.key).overlayedDocument);M!=null&&L.push(new ha(I.key,M,lk(M.value.mapValue),Ar.exists(!0)))}return h.mutationQueue.addMutationBatch(C,p,L,l)}).next(D=>{N=D;const L=D.applyToLocalDocumentSet(S,R);return h.documentOverlayCache.saveOverlays(C,D.batchId,L)})}).then(()=>({batchId:N.batchId,changes:Nk(S)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,l,h){let p=a.ac[a.currentUser.toKey()];p||(p=new Yt(ft)),p=p.insert(l,h),a.ac[a.currentUser.toKey()]=p}(r,i.batchId,n),await wc(r,i.changes),await gh(r.remoteStore)}catch(i){const a=dg(i,"Failed to persist write");n.reject(a)}}async function Qk(t,e){const n=Ze(t);try{const r=await XL(n.localStore,e);e.targetChanges.forEach((i,a)=>{const l=n.uc.get(a);l&&(yt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.ec=!0:i.modifiedDocuments.size>0?yt(l.ec):i.removedDocuments.size>0&&(yt(l.ec),l.ec=!1))}),await wc(n,r,e)}catch(r){await pc(r)}}function _0(t,e,n){const r=Ze(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.sc.forEach((a,l)=>{const h=l.view.bu(e);h.snapshot&&i.push(h.snapshot)}),function(a,l){const h=Ze(a);h.onlineState=l;let p=!1;h.queries.forEach((v,S)=>{for(const N of S.listeners)N.bu(l)&&(p=!0)}),p&&_g(h)}(r.eventManager,e),i.length&&r.nc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function PP(t,e,n){const r=Ze(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.uc.get(e),a=i&&i.key;if(a){let l=new Yt(Ue.comparator);l=l.insert(a,ln.newNoDocument(a,nt.min()));const h=it().add(a),p=new _h(nt.min(),new Map,new Kt(ft),l,h);await Qk(r,p),r.oc=r.oc.remove(a),r.uc.delete(e),mg(r)}else await sp(r.localStore,e,!1).then(()=>op(r,e,n)).catch(pc)}async function RP(t,e){const n=Ze(t),r=e.batch.batchId;try{const i=await QL(n.localStore,e);Zk(n,r,null),Xk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await wc(n,i)}catch(i){await pc(i)}}async function $P(t,e,n){const r=Ze(t);try{const i=await function(a,l){const h=Ze(a);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let v;return h.mutationQueue.lookupMutationBatch(p,l).next(S=>(yt(S!==null),v=S.keys(),h.mutationQueue.removeMutationBatch(p,S))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,v,l)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v)).next(()=>h.localDocuments.getDocuments(p,v))})}(r.localStore,e);Zk(r,e,n),Xk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await wc(r,i)}catch(i){await pc(i)}}function Xk(t,e){(t.hc.get(e)||[]).forEach(n=>{n.resolve()}),t.hc.delete(e)}function Zk(t,e,n){const r=Ze(t);let i=r.ac[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.ac[r.currentUser.toKey()]=i}}function op(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ic.get(e))t.sc.delete(r),n&&t.nc._c(r,n);t.ic.delete(e),t.isPrimaryClient&&t.cc.ls(e).forEach(r=>{t.cc.containsKey(r)||eE(t,r)})}function eE(t,e){t.rc.delete(e.path.canonicalString());const n=t.oc.get(e);n!==null&&(Hk(t.remoteStore,n),t.oc=t.oc.remove(e),t.uc.delete(n),mg(t))}function p0(t,e,n){for(const r of n)r instanceof Yk?(t.cc.addReference(r.key,e),FP(t,r)):r instanceof Jk?(Fe("SyncEngine","Document no longer in limbo: "+r.key),t.cc.removeReference(r.key,e),t.cc.containsKey(r.key)||eE(t,r.key)):Qe()}function FP(t,e){const n=e.key,r=n.path.canonicalString();t.oc.get(n)||t.rc.has(r)||(Fe("SyncEngine","New document in limbo: "+n),t.rc.add(r),mg(t))}function mg(t){for(;t.rc.size>0&&t.oc.size<t.maxConcurrentLimboResolutions;){const e=t.rc.values().next().value;t.rc.delete(e);const n=new Ue(kt.fromString(e)),r=t.lc.next();t.uc.set(r,new DP(n)),t.oc=t.oc.insert(n,r),Vk(t.remoteStore,new Oa(pi(uh(n.path)),r,2,Qm.at))}}async function wc(t,e,n){const r=Ze(t),i=[],a=[],l=[];r.sc.isEmpty()||(r.sc.forEach((h,p)=>{l.push(r.dc(p,e,n).then(v=>{if(v){r.isPrimaryClient&&r.sharedClientState.updateQueryState(p.targetId,v.fromCache?"not-current":"current"),i.push(v);const S=sg.Ci(p.targetId,v);a.push(S)}}))}),await Promise.all(l),r.nc.Wo(i),await async function(h,p){const v=Ze(h);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>ge.forEach(p,N=>ge.forEach(N.Si,C=>v.persistence.referenceDelegate.addReference(S,N.targetId,C)).next(()=>ge.forEach(N.Di,C=>v.persistence.referenceDelegate.removeReference(S,N.targetId,C)))))}catch(S){if(!mc(S))throw S;Fe("LocalStore","Failed to update sequence numbers: "+S)}for(const S of p){const N=S.targetId;if(!S.fromCache){const C=v.Ui.get(N),A=C.snapshotVersion,R=C.withLastLimboFreeSnapshotVersion(A);v.Ui=v.Ui.insert(N,R)}}}(r.localStore,a))}async function UP(t,e){const n=Ze(t);if(!n.currentUser.isEqual(e)){Fe("SyncEngine","User change. New user:",e.toKey());const r=await Fk(n.localStore,e);n.currentUser=e,function(i,a){i.hc.forEach(l=>{l.forEach(h=>{h.reject(new Pe(he.CANCELLED,a))})}),i.hc.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await wc(n,r.ji)}}function jP(t,e){const n=Ze(t),r=n.uc.get(e);if(r&&r.ec)return it().add(r.key);{let i=it();const a=n.ic.get(e);if(!a)return i;for(const l of a){const h=n.sc.get(l);i=i.unionWith(h.view.Qu)}return i}}function zP(t){const e=Ze(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Qk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=PP.bind(null,e),e.nc.Wo=SP.bind(null,e.eventManager),e.nc._c=CP.bind(null,e.eventManager),e}function VP(t){const e=Ze(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=RP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=$P.bind(null,e),e}class HP{constructor(){this.synchronizeTabs=!1}async initialize(e){this.It=ph(e.databaseInfo.databaseId),this.sharedClientState=this.mc(e),this.persistence=this.gc(e),await this.persistence.start(),this.localStore=this.yc(e),this.gcScheduler=this.Ic(e,this.localStore),this.indexBackfillerScheduler=this.Tc(e,this.localStore)}Ic(e,n){return null}Tc(e,n){return null}yc(e){return JL(this.persistence,new KL,e.initialUser,this.It)}gc(e){return new WL(ag.Bs,this.It)}mc(e){return new rP}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class BP{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>_0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=UP.bind(null,this.syncEngine),await xP(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new EP}createDatastore(e){const n=ph(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new oP(i));var i;return function(a,l,h,p){return new uP(a,l,h,p)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,a=h=>_0(this.syncEngine,h,0),l=d0.C()?new d0:new iP,new hP(n,r,i,a,l);var n,r,i,a,l}createSyncEngine(e,n){return function(r,i,a,l,h,p,v){const S=new IP(r,i,a,l,h,p);return v&&(S.fc=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=Ze(e);Fe("RemoteStore","RemoteStore shutting down."),n._u.add(5),await bc(n),n.mu.shutdown(),n.gu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):_i("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Vn.UNAUTHENTICATED,this.clientId=ik.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async a=>{Fe("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(Fe("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Pe(he.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new si;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=dg(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function WP(t,e){t.asyncQueue.verifyOperationInProgress(),Fe("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Fk(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function GP(t,e){t.asyncQueue.verifyOperationInProgress();const n=await KP(t);Fe("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(i=>h0(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,a)=>h0(e.remoteStore,a)),t.onlineComponents=e}async function KP(t){return t.offlineComponents||(Fe("FirestoreClient","Using default OfflineComponentProvider"),await WP(t,new HP)),t.offlineComponents}async function tE(t){return t.onlineComponents||(Fe("FirestoreClient","Using default OnlineComponentProvider"),await GP(t,new BP)),t.onlineComponents}function YP(t){return tE(t).then(e=>e.syncEngine)}async function xd(t){const e=await tE(t),n=e.eventManager;return n.onListen=AP.bind(null,e.syncEngine),n.onUnlisten=MP.bind(null,e.syncEngine),n}function JP(t,e,n={}){const r=new si;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,l,h,p){const v=new gg({next:N=>{a.enqueueAndForget(()=>fg(i,S));const C=N.docs.has(l);!C&&N.fromCache?p.reject(new Pe(he.UNAVAILABLE,"Failed to get document because the client is offline.")):C&&N.fromCache&&h&&h.source==="server"?p.reject(new Pe(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(N)},error:N=>p.reject(N)}),S=new pg(uh(l.path),v,{includeMetadataChanges:!0,Nu:!0});return hg(i,S)}(await xd(t),t.asyncQueue,e,n,r)),r.promise}function QP(t,e,n={}){const r=new si;return t.asyncQueue.enqueueAndForget(async()=>function(i,a,l,h,p){const v=new gg({next:N=>{a.enqueueAndForget(()=>fg(i,S)),N.fromCache&&h.source==="server"?p.reject(new Pe(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(N)},error:N=>p.reject(N)}),S=new pg(l,v,{includeMetadataChanges:!0,Nu:!0});return hg(i,S)}(await xd(t),t.asyncQueue,e,n,r)),r.promise}const m0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nE(t,e,n){if(!n)throw new Pe(he.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function XP(t,e,n,r){if(e===!0&&r===!0)throw new Pe(he.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function g0(t){if(!Ue.isDocumentKey(t))throw new Pe(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function v0(t){if(Ue.isDocumentKey(t))throw new Pe(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function vh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Qe()}function gr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Pe(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=vh(t);throw new Pe(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e){var n;if(e.host===void 0){if(e.ssl!==void 0)throw new Pe(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Pe(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,XP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vg{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new y0({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Pe(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Pe(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new y0(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new EM;switch(n.type){case"gapi":const r=n.client;return new TM(r,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Pe(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=m0.get(e);n&&(Fe("ComponentProvider","Removing Datastore"),m0.delete(e),n.terminate())}(this),Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Sn(this.firestore,e,this._key)}}class lo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new lo(this.firestore,e,this._query)}}class Qi extends lo{constructor(e,n,r){super(e,n,uh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Sn(this.firestore,null,new Ue(e))}withConverter(e){return new Qi(this.firestore,e,this._path)}}function br(t,e,...n){if(t=fn(t),nE("collection","path",e),t instanceof vg){const r=kt.fromString(e,...n);return v0(r),new Qi(t,null,r)}{if(!(t instanceof Sn||t instanceof Qi))throw new Pe(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(kt.fromString(e,...n));return v0(r),new Qi(t.firestore,null,r)}}function Lt(t,e,...n){if(t=fn(t),arguments.length===1&&(e=ik.R()),nE("doc","path",e),t instanceof vg){const r=kt.fromString(e,...n);return g0(r),new Sn(t,null,new Ue(r))}{if(!(t instanceof Sn||t instanceof Qi))throw new Pe(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(kt.fromString(e,...n));return g0(r),new Sn(t.firestore,t instanceof Qi?t.converter:null,new Ue(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new jk(this,"async_queue_retry"),this.jc=()=>{const n=Ef();n&&Fe("AsyncQueue","Visibility state changed to "+n.visibilityState),this.xo.bo()};const e=Ef();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const n=Ef();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const n=new si;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}async Hc(){if(this.Bc.length!==0){try{await this.Bc[0](),this.Bc.shift(),this.xo.reset()}catch(e){if(!mc(e))throw e;Fe("AsyncQueue","Operation failed with retryable error: "+e)}this.Bc.length>0&&this.xo.Ao(()=>this.Hc())}}zc(e){const n=this.$c.then(()=>(this.Kc=!0,e().catch(r=>{this.qc=r,this.Kc=!1;const i=function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),l}(r);throw _i("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Kc=!1,r))));return this.$c=n,n}enqueueAfterDelay(e,n,r){this.Wc(),this.Qc.indexOf(e)>-1&&(n=0);const i=ug.createAndSchedule(this,e,n,r,a=>this.Jc(a));return this.Uc.push(i),i}Wc(){this.qc&&Qe()}verifyOperationInProgress(){}async Yc(){let e;do e=this.$c,await e;while(e!==this.$c)}Xc(e){for(const n of this.Uc)if(n.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const n=this.Uc.indexOf(e);this.Uc.splice(n,1)}}function b0(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const r=e;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(t,["next","error","complete"])}class aa extends vg{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new ZP,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||rE(this),this._firestoreClient.terminate()}}function mn(t,e){const n=typeof t=="object"?t:Tx(),r=typeof t=="string"?t:e||"(default)";return mm(n,"firestore").getImmediate({identifier:r})}function yh(t){return t._firestoreClient||rE(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function rE(t){var e;const n=t._freezeSettings(),r=function(i,a,l,h){return new FM(i,a,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new qP(t._authCredentials,t._appCheckCredentials,t._queue,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Pe(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ks(_n.fromBase64String(e))}catch(n){throw new Pe(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ks(_n.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Pe(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Pe(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ft(this._lat,e._lat)||ft(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eR=/^__.*__$/;class tR{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ha(e,this.data,this.fieldMask,n,this.fieldTransforms):new vc(e,this.data,n,this.fieldTransforms)}}class iE{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ha(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function aE(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Qe()}}class bg{constructor(e,n,r,i,a,l){this.settings=e,this.databaseId=n,this.It=r,this.ignoreUndefinedProperties=i,a===void 0&&this.ea(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new bg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.sa({path:r,ra:!1});return i.oa(e),i}ua(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.sa({path:r,ra:!1});return i.ea(),i}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return kd(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(e.length===0)throw this.aa("Document fields must not be empty");if(aE(this.na)&&eR.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class nR{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.It=r||ph(e)}fa(e,n,r,i=!1){return new bg({na:e,methodName:n,la:r,path:kn.emptyPath(),ra:!1,ha:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function wh(t){const e=t._freezeSettings(),n=ph(t._databaseId);return new nR(t._databaseId,!!e.ignoreUndefinedProperties,n)}function sE(t,e,n,r,i,a={}){const l=t.fa(a.merge||a.mergeFields?2:0,e,n,i);xg("Data must be an object, but it was:",l,r);const h=oE(r,l);let p,v;if(a.merge)p=new mr(l.fieldMask),v=l.fieldTransforms;else if(a.mergeFields){const S=[];for(const N of a.mergeFields){const C=lp(e,N,n);if(!l.contains(C))throw new Pe(he.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);cE(S,C)||S.push(C)}p=new mr(S),v=l.fieldTransforms.filter(N=>p.covers(N.field))}else p=null,v=l.fieldTransforms;return new tR(new qn(h),p,v)}class xh extends xc{_toFieldTransform(e){if(e.na!==2)throw e.na===1?e.aa(`${this._methodName}() can only appear at the top level of your update data`):e.aa(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof xh}}class wg extends xc{_toFieldTransform(e){return new xk(e.path,new jl)}isEqual(e){return e instanceof wg}}class rR extends xc{constructor(e,n){super(e),this._a=n}_toFieldTransform(e){const n=new Hl(e.It,gk(e.It,this._a));return new xk(e.path,n)}isEqual(e){return this===e}}function iR(t,e,n,r){const i=t.fa(1,e,n);xg("Data must be an object, but it was:",i,r);const a=[],l=qn.empty();es(r,(p,v)=>{const S=kg(e,p,n);v=fn(v);const N=i.ua(S);if(v instanceof xh)a.push(S);else{const C=kc(v,N);C!=null&&(a.push(S),l.set(S,C))}});const h=new mr(a);return new iE(l,h,i.fieldTransforms)}function aR(t,e,n,r,i,a){const l=t.fa(1,e,n),h=[lp(e,r,n)],p=[i];if(a.length%2!=0)throw new Pe(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<a.length;C+=2)h.push(lp(e,a[C])),p.push(a[C+1]);const v=[],S=qn.empty();for(let C=h.length-1;C>=0;--C)if(!cE(v,h[C])){const A=h[C];let R=p[C];R=fn(R);const D=l.ua(A);if(R instanceof xh)v.push(A);else{const L=kc(R,D);L!=null&&(v.push(A),S.set(A,L))}}const N=new mr(v);return new iE(S,N,l.fieldTransforms)}function sR(t,e,n,r=!1){return kc(n,t.fa(r?4:3,e))}function kc(t,e){if(lE(t=fn(t)))return xg("Unsupported field value:",e,t),oE(t,e);if(t instanceof xc)return function(n,r){if(!aE(r.na))throw r.aa(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.aa(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ra&&e.na!==4)throw e.aa("Nested arrays are not supported");return function(n,r){const i=[];let a=0;for(const l of n){let h=kc(l,r.ca(a));h==null&&(h={nullValue:"NULL_VALUE"}),i.push(h),a++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if((n=fn(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return gk(r.It,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Gt.fromDate(n);return{timestampValue:bd(r.It,i)}}if(n instanceof Gt){const i=new Gt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:bd(r.It,i)}}if(n instanceof yg)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ks)return{bytesValue:Mk(r.It,n._byteString)};if(n instanceof Sn){const i=r.databaseId,a=n.firestore._databaseId;if(!a.isEqual(i))throw r.aa(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:ng(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.aa(`Unsupported field value: ${vh(n)}`)}(t,e)}function oE(t,e){const n={};return ak(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):es(t,(r,i)=>{const a=kc(i,e.ia(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function lE(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Gt||t instanceof yg||t instanceof Ks||t instanceof Sn||t instanceof xc)}function xg(t,e,n){if(!lE(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=vh(n);throw r==="an object"?e.aa(t+" a custom object"):e.aa(t+" "+r)}}function lp(t,e,n){if((e=fn(e))instanceof bh)return e._internalPath;if(typeof e=="string")return kg(t,e);throw kd("Field path arguments must be of type string or ",t,!1,void 0,n)}const oR=new RegExp("[~\\*/\\[\\]]");function kg(t,e,n){if(e.search(oR)>=0)throw kd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new bh(...e.split("."))._internalPath}catch{throw kd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function kd(t,e,n,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let p="";return(a||l)&&(p+=" (found",a&&(p+=` in field ${r}`),l&&(p+=` in document ${i}`),p+=")"),new Pe(he.INVALID_ARGUMENT,h+t+p)}function cE(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Sn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new lR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Eg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class lR extends uE{data(){return super.data()}}function Eg(t,e){return typeof e=="string"?kg(t,e):e instanceof bh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class dE extends uE{constructor(e,n,r,i,a,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Du(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Eg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Du extends dE{data(e={}){return super.data(e)}}class hE{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new jo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Du(this._firestore,this._userDataWriter,r.key,r,new jo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Pe(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new Du(r._firestore,r._userDataWriter,l.doc.key,l.doc,new jo(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const h=new Du(r._firestore,r._userDataWriter,l.doc.key,l.doc,new jo(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let p=-1,v=-1;return l.type!==0&&(p=a.indexOf(l.doc.key),a=a.delete(l.doc.key)),l.type!==1&&(a=a.add(l.doc),v=a.indexOf(l.doc.key)),{type:cR(l.type),doc:h,oldIndex:p,newIndex:v}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function cR(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Qe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Pe(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class uR{}function Ed(t,...e){for(const n of e)t=n._apply(t);return t}class dR extends uR{constructor(e,n,r){super(),this.wa=e,this.ma=n,this.ga=r,this.type="where"}_apply(e){const n=wh(e.firestore),r=function(i,a,l,h,p,v,S){let N;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new Pe(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){k0(S,v);const A=[];for(const R of S)A.push(x0(h,i,R));N={arrayValue:{values:A}}}else N=x0(h,i,S)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||k0(S,v),N=sR(l,a,S,v==="in"||v==="not-in");const C=Ln.create(p,v,N);return function(A,R){if(R.dt()){const L=dk(A);if(L!==null&&!L.isEqual(R.field))throw new Pe(he.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${L.toString()}' and '${R.field.toString()}'`);const I=uk(A);I!==null&&hR(A,R.field,I)}const D=function(L,I){for(const M of L.filters)if(I.indexOf(M.op)>=0)return M.op;return null}(A,function(L){switch(L){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(R.op));if(D!==null)throw D===R.op?new Pe(he.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${R.op.toString()}' filter.`):new Pe(he.INVALID_ARGUMENT,`Invalid query. You cannot use '${R.op.toString()}' filters with '${D.toString()}' filters.`)}(i,C),C}(e._query,"where",n,e.firestore._databaseId,this.wa,this.ma,this.ga);return new lo(e.firestore,e.converter,function(i,a){const l=i.filters.concat([a]);return new gc(i.path,i.collectionGroup,i.explicitOrderBy.slice(),l,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function w0(t,e,n){const r=e,i=Eg("where",t);return new dR(i,r,n)}function x0(t,e,n){if(typeof(n=fn(n))=="string"){if(n==="")throw new Pe(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hk(e)&&n.indexOf("/")!==-1)throw new Pe(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(kt.fromString(n));if(!Ue.isDocumentKey(r))throw new Pe(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ky(t,new Ue(r))}if(n instanceof Sn)return Ky(t,n._key);throw new Pe(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${vh(n)}.`)}function k0(t,e){if(!Array.isArray(t)||t.length===0)throw new Pe(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new Pe(he.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function hR(t,e,n){if(!n.isEqual(e))throw new Pe(he.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{convertValue(e,n="none"){switch(Ka(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Bs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Qe()}}convertObject(e,n){const r={};return es(e.fields,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertGeoPoint(e){return new yg(jt(e.latitude),jt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=ok(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Rl(e));default:return null}}convertTimestamp(e){const n=ra(e);return new Gt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=kt.fromString(e);yt($k(r));const i=new $l(r.get(1),r.get(3)),a=new Ue(r.popFirst(5));return i.isEqual(n)||_i(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(t){t=gr(t,Sn);const e=gr(t.firestore,aa);return JP(yh(e),t._key).then(n=>pE(e,t,n))}class Sg extends fR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ks(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Sn(this.firestore,null,n)}}function sa(t){t=gr(t,lo);const e=gr(t.firestore,aa),n=yh(e),r=new Sg(e);return fE(t._query),QP(n,t._query).then(i=>new hE(e,r,t,i))}function Xi(t,e,n){t=gr(t,Sn);const r=gr(t.firestore,aa),i=_E(t.converter,e,n);return Cg(r,[sE(wh(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ar.none())])}function zr(t,e,n,...r){t=gr(t,Sn);const i=gr(t.firestore,aa),a=wh(i);let l;return l=typeof(e=fn(e))=="string"||e instanceof bh?aR(a,"updateDoc",t._key,e,n,r):iR(a,"updateDoc",t._key,e),Cg(i,[l.toMutation(t._key,Ar.exists(!0))])}function kh(t,e){const n=gr(t.firestore,aa),r=Lt(t),i=_E(t.converter,e);return Cg(n,[sE(wh(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ar.exists(!1))]).then(()=>r)}function pR(t,...e){var n,r,i;t=fn(t);let a={includeMetadataChanges:!1},l=0;typeof e[l]!="object"||b0(e[l])||(a=e[l],l++);const h={includeMetadataChanges:a.includeMetadataChanges};if(b0(e[l])){const N=e[l];e[l]=(n=N.next)===null||n===void 0?void 0:n.bind(N),e[l+1]=(r=N.error)===null||r===void 0?void 0:r.bind(N),e[l+2]=(i=N.complete)===null||i===void 0?void 0:i.bind(N)}let p,v,S;if(t instanceof Sn)v=gr(t.firestore,aa),S=uh(t._key.path),p={next:N=>{e[l]&&e[l](pE(v,t,N))},error:e[l+1],complete:e[l+2]};else{const N=gr(t,lo);v=gr(N.firestore,aa),S=N._query;const C=new Sg(v);p={next:A=>{e[l]&&e[l](new hE(v,C,N,A))},error:e[l+1],complete:e[l+2]},fE(t._query)}return function(N,C,A,R){const D=new gg(R),L=new pg(C,D,A);return N.asyncQueue.enqueueAndForget(async()=>hg(await xd(N),L)),()=>{D.Rc(),N.asyncQueue.enqueueAndForget(async()=>fg(await xd(N),L))}}(yh(v),S,h,p)}function Cg(t,e){return function(n,r){const i=new si;return n.asyncQueue.enqueueAndForget(async()=>LP(await YP(n),r,i)),i.promise}(yh(t),e)}function pE(t,e,n){const r=n.docs.get(e._key),i=new Sg(t);return new dE(t,i,e._key,r,new jo(n.hasPendingWrites,n.fromCache),e.converter)}function Eh(){return new wg("serverTimestamp")}function Bl(t){return new rR("increment",t)}(function(t,e=!0){(function(n){ao=n})(Zl),zs(new ja("firestore",(n,{instanceIdentifier:r,options:i})=>{const a=n.getProvider("app").getImmediate(),l=new aa(new SM(n.getProvider("auth-internal")),new DM(n.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Pe(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $l(h.options.projectId,p)}(a,r),a);return i=Object.assign({useFetchStreams:e},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),Ji(Vy,"3.4.15",t),Ji(Vy,"3.4.15","esm2017")})();var Sh={exports:{}},Ch={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mR=oe.exports,gR=Symbol.for("react.element"),vR=Symbol.for("react.fragment"),yR=Object.prototype.hasOwnProperty,bR=mR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wR={key:!0,ref:!0,__self:!0,__source:!0};function mE(t,e,n){var r,i={},a=null,l=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(l=e.ref);for(r in e)yR.call(e,r)&&!wR.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:gR,type:t,key:a,ref:l,props:i,_owner:bR.current}}Ch.Fragment=vR;Ch.jsx=mE;Ch.jsxs=mE;(function(t){t.exports=Ch})(Sh);const jn=Sh.exports.Fragment,P=Sh.exports.jsx,ie=Sh.exports.jsxs,gE=oe.exports.createContext(),xR=({children:t})=>{mn();const[e,n]=oe.exports.useState({}),r=(l,h)=>eA(Jc,l,h),i=(l,h)=>tA(Jc,l,h),a=()=>rA(Jc);return oe.exports.useEffect(()=>{const l=nA(Jc,h=>{n(h)});return()=>{l()}},[]),P(gE.Provider,{value:{createUser:r,userLogged:e,logOut:a,signIn:i},children:t})},wr=()=>oe.exports.useContext(gE),vE=oe.exports.createContext(),kR=({children:t})=>{const e=mn(),{userLogged:n}=wr(),[r,i]=oe.exports.useState({});return oe.exports.useEffect(()=>{if(n){const a=pR(Lt(e,`Users/${n.uid}`),l=>{const h=l.data(),p={uid:n.uid,email:n.email,role:h.role,form:h,newNotifications:h.newNotifications,notifications:h.notifications,misClases:{actualClass:h.actualClass,remainingClases:h.remainingClases,completedClases:h.completedClases,absentedClases:h.absentedClases,teacherUid:h.teacherUid,teacher:h.teacher}};i(p)});return()=>{a()}}else i({})},[n]),P(vE.Provider,{value:{user:r},children:t})},Tn=()=>oe.exports.useContext(vE);const ER=[{title:"Mi Perfil",path:"/Account",cName:"dropdown-link"},{title:"Mi Panel",path:"/Panel",cName:"dropdown-link"},{title:"Mis Notificaciones",path:"/MisNotificaciones",cName:"dropdown-link"}];const SR=()=>{const{logOut:t}=wr(),[e,n]=oe.exports.useState(!1),r=Un(),i=()=>n(!e),a=async()=>{n(!1);try{await t(),r("/"),swal("BYE!","sesion Finalizada!","success")}catch(l){console.log(l.message)}};return P("div",{children:ie("ul",{onClick:i,className:e?"dropdown-menu clicked":"dropdown-menu",children:[ER.map((l,h)=>P("li",{children:P(Ft,{className:l.cName,to:l.path,onClick:()=>n(!1),children:l.title})},h)),P("li",{children:P(Ft,{className:"dropdown-link",to:"/",onClick:a,children:"Cerrar Sesi\xF3n"})})]})})},yE="/assets/logo.f1e9716b.svg",CR="/assets/userButton.41779263.png",TR="/assets/turn-notifications-on-button.500c9c80.png",NR=()=>{const{user:t}=Tn();return P("div",{children:ie("div",{className:"notificaciones",children:[P("img",{src:TR,alt:"notifications.png"}),t&&t.notifications>0?P("p",{children:t.notifications}):""]})})};const DR=()=>{const{userLogged:t,logOut:e}=wr(),n=Un(),[r,i]=oe.exports.useState(!1),[a,l]=oe.exports.useState(!1),h=()=>i(!r),p=()=>i(!1);return P("div",{children:ie("nav",{className:"navbar",children:[P(Ft,{to:"/",className:"navbar-logo",children:P("img",{src:yE,alt:"NAVIS LOGO"})}),t?ie("div",{children:[ie("div",{className:"mobile-menu",children:[P("div",{className:"menu-icon",onClick:h,children:P("i",{className:r?"fas fa-times":"fas fa-bars"})}),ie("ul",{className:r?"nav-menu active":"nav-menu",children:[P("li",{className:"nav-item",children:P(Ft,{to:"/Account",className:"nav-links",onClick:p,children:"Mi Perfil"})}),P("li",{className:"nav-item",children:P(Ft,{to:"/Panel",className:"nav-links",onClick:p,children:"Mi Panel"})}),P("li",{className:"nav-item",children:P(Ft,{to:"/MisNotificaciones",className:"nav-links",onClick:p,children:"Mis Notificaciones"})}),P("li",{className:"nav-item",children:P(Ft,{to:"/",className:"nav-links",onClick:async()=>{try{await e(),n("/"),swal("BYE!","sesion Finalizada!","success")}catch(C){console.log(C.message)}},children:"Cerrar Sesi\xF3n"})})]})]}),P("div",{className:"desktop-menu",children:ie("ul",{className:"nav-menu",children:[P("li",{className:"nav-item",children:P(Ft,{to:"/MisNotificaciones",className:"nav-links",onClick:p,children:P(NR,{})})}),ie("li",{className:"nav-item",onMouseEnter:()=>{window.innerWidth<960?l(!1):l(!0)},onMouseLeave:()=>{window.innerWidth<960,l(!1)},children:[P("div",{children:ie(Ft,{to:"/Panel",className:"nav-links",onClick:p,children:[P("img",{src:CR,alt:"userIcon.png"}),P("i",{className:"fas fa-caret-down"})]})}),a?P(SR,{}):""]})]})})]}):ie("div",{children:[ie("div",{className:"mobile-menu",children:[P("div",{className:"menu-icon",onClick:h,children:P("i",{className:r?"fas fa-times":"fas fa-bars"})}),ie("ul",{className:r?"nav-menu active":"nav-menu",children:[P("li",{className:"nav-item",children:P(Ft,{to:"/signIn",className:"nav-links",onClick:p,children:"Iniciar Sesion"})}),P("li",{className:"nav-item",children:P(Ft,{to:"/signUp",className:"nav-links",onClick:p,children:"Registrarse"})}),P("li",{className:"nav-item",children:P(Ft,{to:"/",className:"nav-links",onClick:p,children:"Cerrar"})})]})]}),P("div",{className:"desktop-menu",children:P("div",{children:ie("ul",{className:"nav-menu",children:[P("li",{className:"nav-item",children:P(Ft,{to:"/signIn",className:"nav-links",children:"Iniciar Sesi\xF3n"})}),P("li",{className:"nav-item",children:P(Ft,{to:"/signUp",className:"nav-links",children:"Registrarse"})})]})})})]})]})})};const IR="/assets/img00.9afd33a2.jpg",AR="/assets/img01.80c78c22.jpg",OR="/assets/img02.68828d7f.jpg";const MR=()=>{const t=[IR,AR,OR],[e,n]=oe.exports.useState(0),[r,i]=oe.exports.useState(t[0]),[a,l]=oe.exports.useState(!1),h=(S,N,C=!0)=>{l(!1),setTimeout(()=>{const A=C?S<N.length-1:S>0,R=C?A?S+1:0:A?S-1:N.length-1;i(N[R]),n(R)},500)};return ie("div",{className:"carousel-container",children:[P("img",{src:r,alt:"img",onLoad:()=>l(!0)}),ie("div",{className:"carousel-buttons",children:[ie("button",{className:"boton-der",onClick:()=>{h(e,t,!1)},children:[" ",P("i",{className:"fa-solid fa-circle-chevron-left"})," "]}),ie("button",{className:"boton-izq",onClick:()=>{h(e,t)},children:[" ",P("i",{className:"fa-solid fa-circle-chevron-right"})," "]})]})]})},LR=()=>ie("section",{className:"about_container",children:[ie("div",{className:"about__1",children:[ie("h2",{className:"about__title",children:["\xA1Se ",P("span",{children:"aprende"})," desde el primer d\xEDa!"]}),P("span",{className:"parrafo__content",children:"\xBFNecesitas aprobar un examen de ingl\xE9s?, \xBFQuieres estudiar en el extranjero?, \xBFEn tu trabajo dominar el ingl\xE9s es un requisito?, Te ayudaremos a conseguirlo. En Navis nos adaptamos tus objetivos a la hora de aprender ingl\xE9s, ya sea desde cero o para un fin en espec\xEDfico, con nosotros lo lograras. Aprende ingl\xE9s de manera f\xE1cil, r\xE1pida y entretenida."})]}),P("div",{className:"about__2",children:P(MR,{})})]}),PR="/assets/Teresa.744c25d6.jpg",RR="/assets/Sandra.ca614ab4.jpg",$R="/assets/Angelo.4ec0990e.jpg",FR="/assets/Jairo.e2c1adfb.jpg",UR="/assets/Valeria.a74a743c.jpg",jR="/assets/Sofia.297bb3ef.jpg",zR="/assets/Jorge.8a7c94b2.jpg",VR=[{text:"Mi hijo comenz\xF3 clases hace un a\xF1o y hoy estudia en un internado de Londres. 100% recomendado.",author:"TERESA R.",avatar:PR},{text:"Quer\xEDa que mi hijo tuviera apoyo acad\xE9mico y pudiera aprobar sus ex\xE1menes y lo logr\xF3 gracias a esta academia. Me gusta que se enfocan en las necesidades del estudiante.",author:"SANDRA M.",avatar:RR},{text:"Gracias a estas clases logr\xE9 aprobar mi examen de la Universidad de Florencia y ahora soy profesor.",author:"ANGELO L.",avatar:$R},{text:"Buscaba un curso corto para poder viajar y no sentir tanta verg\xFCenza al hablar y con Navis en un mes ya estaba lista para mi viaje.",author:"JAIRO M",avatar:FR},{text:"Por a\xF1os fue muy dif\xEDcil que mi hijo pusiera atenci\xF3n al ingl\xE9s, pero ahora le gusta. La profesora juega con \xE9l y se divierten mucho.",author:"VALERIA P.",avatar:UR},{text:"Con estas clases me prepar\xE9 para la prueba oral del TOEFL, y logr\xE9 un 28/30. I did it!.",author:"SOFIA R.",avatar:jR},{text:"Me mud\xE9 a Texas hace 4 a\xF1os, nunca aprend\xED ingl\xE9s y depend\xEDa de mi hija para las llamadas o cosas importantes, luego me cans\xE9 de mi trabajo y decid\xED comenzar a aprender para poder obtener un mejor empleo. Gracias a esta academia lo estoy logrando. Thanks Navis!.",author:"JORGE R.",avatar:zR}];const HR=()=>ie(jn,{children:[P("div",{className:"homeSection__Title",children:P("h2",{children:"Reviews"})}),P("section",{className:"reviews__Section",children:VR.map((t,e)=>ie("div",{className:"reviews__Card",children:[P("div",{className:"reviews__Avatar",children:P("img",{src:t.avatar,alt:"User Avatar"})}),P("div",{className:"reviews__Text",children:t.text}),P("div",{className:"reviews__Author",children:t.author})]},e))})]});const BR="/assets/contacto.6d59b551.svg",qR=()=>ie(jn,{children:[P("div",{className:"homeSection__Title",children:P("h2",{children:"Contacto"})}),ie("section",{className:"contact__Section",children:[P("div",{className:"contact__Img",children:P("img",{src:BR,alt:""})}),P("div",{className:"contact__body",children:P("span",{children:"+000 (000) 000-0000"})})]})]}),WR="/assets/reloj.69dba3dd.svg",Co="/assets/notas.40f15ebe.svg",GR="/assets/objetivo.83bab982.svg",KR=[{title:"Divide el ingl\xE9s en 4 \xE1reas:",text:"hablar, escuchar, vocabulario y gram\xE1tica.",icon:Co},{title:"Adaptados a tus objetivos",text:"Te preparamos para entrevistas, viajes, ex\xE1menes acad\xE9micos, TOEFL y m\xE1s.",icon:GR},{title:"Flexible con tu tiempo",text:"T\xFA decides cuando estudiar.",icon:WR},{title:"No es una clase normal",text:"No es est\xE1tica: juegos, roles, ejercicios y conversaci\xF3n.",icon:Co},{title:"100% Interactivo",text:"Clases guiadas, con ejercicios que puedes realizar con tu profesor o por tu cuenta.",icon:Co},{title:"Recursos profesionales",text:"Nos basamos en el m\xE9todo de Cambridge, la escala de ingl\xE9s global.",icon:Co},{title:"Profesores altamente cualificados",text:"Contamos con profesores especializados en la ense\xF1anza del ingl\xE9s a ni\xF1os y adultos de distintas edades.",icon:Co}];function E0(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function Tg(t={},e={}){Object.keys(e).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:E0(e[n])&&E0(t[n])&&Object.keys(e[n]).length>0&&Tg(t[n],e[n])})}const bE={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Jn(){const t=typeof document<"u"?document:{};return Tg(t,bE),t}const YR={document:bE,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function rn(){const t=typeof window<"u"?window:{};return Tg(t,YR),t}function JR(t){const e=t.__proto__;Object.defineProperty(t,"__proto__",{get(){return e},set(n){e.__proto__=n}})}class Fi extends Array{constructor(e){typeof e=="number"?super(e):(super(...e||[]),JR(this))}}function Ec(t=[]){const e=[];return t.forEach(n=>{Array.isArray(n)?e.push(...Ec(n)):e.push(n)}),e}function wE(t,e){return Array.prototype.filter.call(t,e)}function QR(t){const e=[];for(let n=0;n<t.length;n+=1)e.indexOf(t[n])===-1&&e.push(t[n]);return e}function XR(t,e){if(typeof t!="string")return[t];const n=[],r=e.querySelectorAll(t);for(let i=0;i<r.length;i+=1)n.push(r[i]);return n}function Te(t,e){const n=rn(),r=Jn();let i=[];if(!e&&t instanceof Fi)return t;if(!t)return new Fi(i);if(typeof t=="string"){const a=t.trim();if(a.indexOf("<")>=0&&a.indexOf(">")>=0){let l="div";a.indexOf("<li")===0&&(l="ul"),a.indexOf("<tr")===0&&(l="tbody"),(a.indexOf("<td")===0||a.indexOf("<th")===0)&&(l="tr"),a.indexOf("<tbody")===0&&(l="table"),a.indexOf("<option")===0&&(l="select");const h=r.createElement(l);h.innerHTML=a;for(let p=0;p<h.childNodes.length;p+=1)i.push(h.childNodes[p])}else i=XR(t.trim(),e||r)}else if(t.nodeType||t===n||t===r)i.push(t);else if(Array.isArray(t)){if(t instanceof Fi)return t;i=t}return new Fi(QR(i))}Te.fn=Fi.prototype;function ZR(...t){const e=Ec(t.map(n=>n.split(" ")));return this.forEach(n=>{n.classList.add(...e)}),this}function e$(...t){const e=Ec(t.map(n=>n.split(" ")));return this.forEach(n=>{n.classList.remove(...e)}),this}function t$(...t){const e=Ec(t.map(n=>n.split(" ")));this.forEach(n=>{e.forEach(r=>{n.classList.toggle(r)})})}function n$(...t){const e=Ec(t.map(n=>n.split(" ")));return wE(this,n=>e.filter(r=>n.classList.contains(r)).length>0).length>0}function r$(t,e){if(arguments.length===1&&typeof t=="string")return this[0]?this[0].getAttribute(t):void 0;for(let n=0;n<this.length;n+=1)if(arguments.length===2)this[n].setAttribute(t,e);else for(const r in t)this[n][r]=t[r],this[n].setAttribute(r,t[r]);return this}function i$(t){for(let e=0;e<this.length;e+=1)this[e].removeAttribute(t);return this}function a$(t){for(let e=0;e<this.length;e+=1)this[e].style.transform=t;return this}function s$(t){for(let e=0;e<this.length;e+=1)this[e].style.transitionDuration=typeof t!="string"?`${t}ms`:t;return this}function o$(...t){let[e,n,r,i]=t;typeof t[1]=="function"&&([e,r,i]=t,n=void 0),i||(i=!1);function a(v){const S=v.target;if(!S)return;const N=v.target.dom7EventData||[];if(N.indexOf(v)<0&&N.unshift(v),Te(S).is(n))r.apply(S,N);else{const C=Te(S).parents();for(let A=0;A<C.length;A+=1)Te(C[A]).is(n)&&r.apply(C[A],N)}}function l(v){const S=v&&v.target?v.target.dom7EventData||[]:[];S.indexOf(v)<0&&S.unshift(v),r.apply(this,S)}const h=e.split(" ");let p;for(let v=0;v<this.length;v+=1){const S=this[v];if(n)for(p=0;p<h.length;p+=1){const N=h[p];S.dom7LiveListeners||(S.dom7LiveListeners={}),S.dom7LiveListeners[N]||(S.dom7LiveListeners[N]=[]),S.dom7LiveListeners[N].push({listener:r,proxyListener:a}),S.addEventListener(N,a,i)}else for(p=0;p<h.length;p+=1){const N=h[p];S.dom7Listeners||(S.dom7Listeners={}),S.dom7Listeners[N]||(S.dom7Listeners[N]=[]),S.dom7Listeners[N].push({listener:r,proxyListener:l}),S.addEventListener(N,l,i)}}return this}function l$(...t){let[e,n,r,i]=t;typeof t[1]=="function"&&([e,r,i]=t,n=void 0),i||(i=!1);const a=e.split(" ");for(let l=0;l<a.length;l+=1){const h=a[l];for(let p=0;p<this.length;p+=1){const v=this[p];let S;if(!n&&v.dom7Listeners?S=v.dom7Listeners[h]:n&&v.dom7LiveListeners&&(S=v.dom7LiveListeners[h]),S&&S.length)for(let N=S.length-1;N>=0;N-=1){const C=S[N];r&&C.listener===r||r&&C.listener&&C.listener.dom7proxy&&C.listener.dom7proxy===r?(v.removeEventListener(h,C.proxyListener,i),S.splice(N,1)):r||(v.removeEventListener(h,C.proxyListener,i),S.splice(N,1))}}}return this}function c$(...t){const e=rn(),n=t[0].split(" "),r=t[1];for(let i=0;i<n.length;i+=1){const a=n[i];for(let l=0;l<this.length;l+=1){const h=this[l];if(e.CustomEvent){const p=new e.CustomEvent(a,{detail:r,bubbles:!0,cancelable:!0});h.dom7EventData=t.filter((v,S)=>S>0),h.dispatchEvent(p),h.dom7EventData=[],delete h.dom7EventData}}}return this}function u$(t){const e=this;function n(r){r.target===this&&(t.call(this,r),e.off("transitionend",n))}return t&&e.on("transitionend",n),this}function d$(t){if(this.length>0){if(t){const e=this.styles();return this[0].offsetWidth+parseFloat(e.getPropertyValue("margin-right"))+parseFloat(e.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null}function h$(t){if(this.length>0){if(t){const e=this.styles();return this[0].offsetHeight+parseFloat(e.getPropertyValue("margin-top"))+parseFloat(e.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null}function f$(){if(this.length>0){const t=rn(),e=Jn(),n=this[0],r=n.getBoundingClientRect(),i=e.body,a=n.clientTop||i.clientTop||0,l=n.clientLeft||i.clientLeft||0,h=n===t?t.scrollY:n.scrollTop,p=n===t?t.scrollX:n.scrollLeft;return{top:r.top+h-a,left:r.left+p-l}}return null}function _$(){const t=rn();return this[0]?t.getComputedStyle(this[0],null):{}}function p$(t,e){const n=rn();let r;if(arguments.length===1)if(typeof t=="string"){if(this[0])return n.getComputedStyle(this[0],null).getPropertyValue(t)}else{for(r=0;r<this.length;r+=1)for(const i in t)this[r].style[i]=t[i];return this}if(arguments.length===2&&typeof t=="string"){for(r=0;r<this.length;r+=1)this[r].style[t]=e;return this}return this}function m$(t){return t?(this.forEach((e,n)=>{t.apply(e,[e,n])}),this):this}function g$(t){const e=wE(this,t);return Te(e)}function v$(t){if(typeof t>"u")return this[0]?this[0].innerHTML:null;for(let e=0;e<this.length;e+=1)this[e].innerHTML=t;return this}function y$(t){if(typeof t>"u")return this[0]?this[0].textContent.trim():null;for(let e=0;e<this.length;e+=1)this[e].textContent=t;return this}function b$(t){const e=rn(),n=Jn(),r=this[0];let i,a;if(!r||typeof t>"u")return!1;if(typeof t=="string"){if(r.matches)return r.matches(t);if(r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(r.msMatchesSelector)return r.msMatchesSelector(t);for(i=Te(t),a=0;a<i.length;a+=1)if(i[a]===r)return!0;return!1}if(t===n)return r===n;if(t===e)return r===e;if(t.nodeType||t instanceof Fi){for(i=t.nodeType?[t]:t,a=0;a<i.length;a+=1)if(i[a]===r)return!0;return!1}return!1}function w$(){let t=this[0],e;if(t){for(e=0;(t=t.previousSibling)!==null;)t.nodeType===1&&(e+=1);return e}}function x$(t){if(typeof t>"u")return this;const e=this.length;if(t>e-1)return Te([]);if(t<0){const n=e+t;return n<0?Te([]):Te([this[n]])}return Te([this[t]])}function k$(...t){let e;const n=Jn();for(let r=0;r<t.length;r+=1){e=t[r];for(let i=0;i<this.length;i+=1)if(typeof e=="string"){const a=n.createElement("div");for(a.innerHTML=e;a.firstChild;)this[i].appendChild(a.firstChild)}else if(e instanceof Fi)for(let a=0;a<e.length;a+=1)this[i].appendChild(e[a]);else this[i].appendChild(e)}return this}function E$(t){const e=Jn();let n,r;for(n=0;n<this.length;n+=1)if(typeof t=="string"){const i=e.createElement("div");for(i.innerHTML=t,r=i.childNodes.length-1;r>=0;r-=1)this[n].insertBefore(i.childNodes[r],this[n].childNodes[0])}else if(t instanceof Fi)for(r=0;r<t.length;r+=1)this[n].insertBefore(t[r],this[n].childNodes[0]);else this[n].insertBefore(t,this[n].childNodes[0]);return this}function S$(t){return this.length>0?t?this[0].nextElementSibling&&Te(this[0].nextElementSibling).is(t)?Te([this[0].nextElementSibling]):Te([]):this[0].nextElementSibling?Te([this[0].nextElementSibling]):Te([]):Te([])}function C$(t){const e=[];let n=this[0];if(!n)return Te([]);for(;n.nextElementSibling;){const r=n.nextElementSibling;t?Te(r).is(t)&&e.push(r):e.push(r),n=r}return Te(e)}function T$(t){if(this.length>0){const e=this[0];return t?e.previousElementSibling&&Te(e.previousElementSibling).is(t)?Te([e.previousElementSibling]):Te([]):e.previousElementSibling?Te([e.previousElementSibling]):Te([])}return Te([])}function N$(t){const e=[];let n=this[0];if(!n)return Te([]);for(;n.previousElementSibling;){const r=n.previousElementSibling;t?Te(r).is(t)&&e.push(r):e.push(r),n=r}return Te(e)}function D$(t){const e=[];for(let n=0;n<this.length;n+=1)this[n].parentNode!==null&&(t?Te(this[n].parentNode).is(t)&&e.push(this[n].parentNode):e.push(this[n].parentNode));return Te(e)}function I$(t){const e=[];for(let n=0;n<this.length;n+=1){let r=this[n].parentNode;for(;r;)t?Te(r).is(t)&&e.push(r):e.push(r),r=r.parentNode}return Te(e)}function A$(t){let e=this;return typeof t>"u"?Te([]):(e.is(t)||(e=e.parents(t).eq(0)),e)}function O$(t){const e=[];for(let n=0;n<this.length;n+=1){const r=this[n].querySelectorAll(t);for(let i=0;i<r.length;i+=1)e.push(r[i])}return Te(e)}function M$(t){const e=[];for(let n=0;n<this.length;n+=1){const r=this[n].children;for(let i=0;i<r.length;i+=1)(!t||Te(r[i]).is(t))&&e.push(r[i])}return Te(e)}function L$(){for(let t=0;t<this.length;t+=1)this[t].parentNode&&this[t].parentNode.removeChild(this[t]);return this}const S0={addClass:ZR,removeClass:e$,hasClass:n$,toggleClass:t$,attr:r$,removeAttr:i$,transform:a$,transition:s$,on:o$,off:l$,trigger:c$,transitionEnd:u$,outerWidth:d$,outerHeight:h$,styles:_$,offset:f$,css:p$,each:m$,html:v$,text:y$,is:b$,index:w$,eq:x$,append:k$,prepend:E$,next:S$,nextAll:C$,prev:T$,prevAll:N$,parent:D$,parents:I$,closest:A$,find:O$,children:M$,filter:g$,remove:L$};Object.keys(S0).forEach(t=>{Object.defineProperty(Te.fn,t,{value:S0[t],writable:!0})});function P$(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function cp(t,e=0){return setTimeout(t,e)}function ql(){return Date.now()}function R$(t){const e=rn();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function $$(t,e="x"){const n=rn();let r,i,a;const l=R$(t);return n.WebKitCSSMatrix?(i=l.transform||l.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(h=>h.replace(",",".")).join(", ")),a=new n.WebKitCSSMatrix(i==="none"?"":i)):(a=l.MozTransform||l.OTransform||l.MsTransform||l.msTransform||l.transform||l.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=a.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?i=a.m41:r.length===16?i=parseFloat(r[12]):i=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?i=a.m42:r.length===16?i=parseFloat(r[13]):i=parseFloat(r[5])),i||0}function ru(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function F$(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Zn(...t){const e=Object(t[0]),n=["__proto__","constructor","prototype"];for(let r=1;r<t.length;r+=1){const i=t[r];if(i!=null&&!F$(i)){const a=Object.keys(Object(i)).filter(l=>n.indexOf(l)<0);for(let l=0,h=a.length;l<h;l+=1){const p=a[l],v=Object.getOwnPropertyDescriptor(i,p);v!==void 0&&v.enumerable&&(ru(e[p])&&ru(i[p])?i[p].__swiper__?e[p]=i[p]:Zn(e[p],i[p]):!ru(e[p])&&ru(i[p])?(e[p]={},i[p].__swiper__?e[p]=i[p]:Zn(e[p],i[p])):e[p]=i[p])}}}return e}function iu(t,e,n){t.style.setProperty(e,n)}function xE({swiper:t,targetPosition:e,side:n}){const r=rn(),i=-t.translate;let a=null,l;const h=t.params.speed;t.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(t.cssModeFrameID);const p=e>i?"next":"prev",v=(N,C)=>p==="next"&&N>=C||p==="prev"&&N<=C,S=()=>{l=new Date().getTime(),a===null&&(a=l);const N=Math.max(Math.min((l-a)/h,1),0),C=.5-Math.cos(N*Math.PI)/2;let A=i+C*(e-i);if(v(A,e)&&(A=e),t.wrapperEl.scrollTo({[n]:A}),v(A,e)){t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[n]:A})}),r.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=r.requestAnimationFrame(S)};S()}let Sf;function U$(){const t=rn(),e=Jn();return{smoothScroll:e.documentElement&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch),passiveListener:function(){let r=!1;try{const i=Object.defineProperty({},"passive",{get(){r=!0}});t.addEventListener("testPassiveListener",null,i)}catch{}return r}(),gestures:function(){return"ongesturestart"in t}()}}function kE(){return Sf||(Sf=U$()),Sf}let Cf;function j$({userAgent:t}={}){const e=kE(),n=rn(),r=n.navigator.platform,i=t||n.navigator.userAgent,a={ios:!1,android:!1},l=n.screen.width,h=n.screen.height,p=i.match(/(Android);?[\s\/]+([\d.]+)?/);let v=i.match(/(iPad).*OS\s([\d_]+)/);const S=i.match(/(iPod)(.*OS\s([\d_]+))?/),N=!v&&i.match(/(iPhone\sOS|iOS)\s([\d_]+)/),C=r==="Win32";let A=r==="MacIntel";const R=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!v&&A&&e.touch&&R.indexOf(`${l}x${h}`)>=0&&(v=i.match(/(Version)\/([\d.]+)/),v||(v=[0,1,"13_0_0"]),A=!1),p&&!C&&(a.os="android",a.android=!0),(v||N||S)&&(a.os="ios",a.ios=!0),a}function z$(t={}){return Cf||(Cf=j$(t)),Cf}let Tf;function V$(){const t=rn();function e(){const n=t.navigator.userAgent.toLowerCase();return n.indexOf("safari")>=0&&n.indexOf("chrome")<0&&n.indexOf("android")<0}return{isSafari:e(),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent)}}function H$(){return Tf||(Tf=V$()),Tf}function B$({swiper:t,on:e,emit:n}){const r=rn();let i=null,a=null;const l=()=>{!t||t.destroyed||!t.initialized||(n("beforeResize"),n("resize"))},h=()=>{!t||t.destroyed||!t.initialized||(i=new ResizeObserver(S=>{a=r.requestAnimationFrame(()=>{const{width:N,height:C}=t;let A=N,R=C;S.forEach(({contentBoxSize:D,contentRect:L,target:I})=>{I&&I!==t.el||(A=L?L.width:(D[0]||D).inlineSize,R=L?L.height:(D[0]||D).blockSize)}),(A!==N||R!==C)&&l()})}),i.observe(t.el))},p=()=>{a&&r.cancelAnimationFrame(a),i&&i.unobserve&&t.el&&(i.unobserve(t.el),i=null)},v=()=>{!t||t.destroyed||!t.initialized||n("orientationchange")};e("init",()=>{if(t.params.resizeObserver&&typeof r.ResizeObserver<"u"){h();return}r.addEventListener("resize",l),r.addEventListener("orientationchange",v)}),e("destroy",()=>{p(),r.removeEventListener("resize",l),r.removeEventListener("orientationchange",v)})}function q$({swiper:t,extendParams:e,on:n,emit:r}){const i=[],a=rn(),l=(v,S={})=>{const N=a.MutationObserver||a.WebkitMutationObserver,C=new N(A=>{if(A.length===1){r("observerUpdate",A[0]);return}const R=function(){r("observerUpdate",A[0])};a.requestAnimationFrame?a.requestAnimationFrame(R):a.setTimeout(R,0)});C.observe(v,{attributes:typeof S.attributes>"u"?!0:S.attributes,childList:typeof S.childList>"u"?!0:S.childList,characterData:typeof S.characterData>"u"?!0:S.characterData}),i.push(C)},h=()=>{if(!!t.params.observer){if(t.params.observeParents){const v=t.$el.parents();for(let S=0;S<v.length;S+=1)l(v[S])}l(t.$el[0],{childList:t.params.observeSlideChildren}),l(t.$wrapperEl[0],{attributes:!1})}},p=()=>{i.forEach(v=>{v.disconnect()}),i.splice(0,i.length)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",h),n("destroy",p)}const W$={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const i=n?"unshift":"push";return t.split(" ").forEach(a=>{r.eventsListeners[a]||(r.eventsListeners[a]=[]),r.eventsListeners[a][i](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function i(...a){r.off(t,i),i.__emitterProxy&&delete i.__emitterProxy,e.apply(r,a)}return i.__emitterProxy=e,r.on(t,i,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((i,a)=>{(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&n.eventsListeners[r].splice(a,1)})}),n},emit(...t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let n,r,i;return typeof t[0]=="string"||Array.isArray(t[0])?(n=t[0],r=t.slice(1,t.length),i=e):(n=t[0].events,r=t[0].data,i=t[0].context||e),r.unshift(i),(Array.isArray(n)?n:n.split(" ")).forEach(l=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(h=>{h.apply(i,[l,...r])}),e.eventsListeners&&e.eventsListeners[l]&&e.eventsListeners[l].forEach(h=>{h.apply(i,r)})}),e}};function G$(){const t=this;let e,n;const r=t.$el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r[0].clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r[0].clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(r.css("padding-left")||0,10)-parseInt(r.css("padding-right")||0,10),n=n-parseInt(r.css("padding-top")||0,10)-parseInt(r.css("padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function K$(){const t=this;function e(Y){return t.isHorizontal()?Y:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[Y]}function n(Y,te){return parseFloat(Y.getPropertyValue(e(te))||0)}const r=t.params,{$wrapperEl:i,size:a,rtlTranslate:l,wrongRTL:h}=t,p=t.virtual&&r.virtual.enabled,v=p?t.virtual.slides.length:t.slides.length,S=i.children(`.${t.params.slideClass}`),N=p?t.virtual.slides.length:S.length;let C=[];const A=[],R=[];let D=r.slidesOffsetBefore;typeof D=="function"&&(D=r.slidesOffsetBefore.call(t));let L=r.slidesOffsetAfter;typeof L=="function"&&(L=r.slidesOffsetAfter.call(t));const I=t.snapGrid.length,M=t.slidesGrid.length;let F=r.spaceBetween,z=-D,j=0,W=0;if(typeof a>"u")return;typeof F=="string"&&F.indexOf("%")>=0&&(F=parseFloat(F.replace("%",""))/100*a),t.virtualSize=-F,l?S.css({marginLeft:"",marginBottom:"",marginTop:""}):S.css({marginRight:"",marginBottom:"",marginTop:""}),r.centeredSlides&&r.cssMode&&(iu(t.wrapperEl,"--swiper-centered-offset-before",""),iu(t.wrapperEl,"--swiper-centered-offset-after",""));const H=r.grid&&r.grid.rows>1&&t.grid;H&&t.grid.initSlides(N);let B;const K=r.slidesPerView==="auto"&&r.breakpoints&&Object.keys(r.breakpoints).filter(Y=>typeof r.breakpoints[Y].slidesPerView<"u").length>0;for(let Y=0;Y<N;Y+=1){B=0;const te=S.eq(Y);if(H&&t.grid.updateSlide(Y,te,N,e),te.css("display")!=="none"){if(r.slidesPerView==="auto"){K&&(S[Y].style[e("width")]="");const Z=getComputedStyle(te[0]),ue=te[0].style.transform,xe=te[0].style.webkitTransform;if(ue&&(te[0].style.transform="none"),xe&&(te[0].style.webkitTransform="none"),r.roundLengths)B=t.isHorizontal()?te.outerWidth(!0):te.outerHeight(!0);else{const je=n(Z,"width"),ke=n(Z,"padding-left"),rt=n(Z,"padding-right"),fe=n(Z,"margin-left"),ve=n(Z,"margin-right"),Ne=Z.getPropertyValue("box-sizing");if(Ne&&Ne==="border-box")B=je+fe+ve;else{const{clientWidth:Ve,offsetWidth:Ye}=te[0];B=je+ke+rt+fe+ve+(Ye-Ve)}}ue&&(te[0].style.transform=ue),xe&&(te[0].style.webkitTransform=xe),r.roundLengths&&(B=Math.floor(B))}else B=(a-(r.slidesPerView-1)*F)/r.slidesPerView,r.roundLengths&&(B=Math.floor(B)),S[Y]&&(S[Y].style[e("width")]=`${B}px`);S[Y]&&(S[Y].swiperSlideSize=B),R.push(B),r.centeredSlides?(z=z+B/2+j/2+F,j===0&&Y!==0&&(z=z-a/2-F),Y===0&&(z=z-a/2-F),Math.abs(z)<1/1e3&&(z=0),r.roundLengths&&(z=Math.floor(z)),W%r.slidesPerGroup===0&&C.push(z),A.push(z)):(r.roundLengths&&(z=Math.floor(z)),(W-Math.min(t.params.slidesPerGroupSkip,W))%t.params.slidesPerGroup===0&&C.push(z),A.push(z),z=z+B+F),t.virtualSize+=B+F,j=B,W+=1}}if(t.virtualSize=Math.max(t.virtualSize,a)+L,l&&h&&(r.effect==="slide"||r.effect==="coverflow")&&i.css({width:`${t.virtualSize+r.spaceBetween}px`}),r.setWrapperSize&&i.css({[e("width")]:`${t.virtualSize+r.spaceBetween}px`}),H&&t.grid.updateWrapperSize(B,C,e),!r.centeredSlides){const Y=[];for(let te=0;te<C.length;te+=1){let Z=C[te];r.roundLengths&&(Z=Math.floor(Z)),C[te]<=t.virtualSize-a&&Y.push(Z)}C=Y,Math.floor(t.virtualSize-a)-Math.floor(C[C.length-1])>1&&C.push(t.virtualSize-a)}if(C.length===0&&(C=[0]),r.spaceBetween!==0){const Y=t.isHorizontal()&&l?"marginLeft":e("marginRight");S.filter((te,Z)=>r.cssMode?Z!==S.length-1:!0).css({[Y]:`${F}px`})}if(r.centeredSlides&&r.centeredSlidesBounds){let Y=0;R.forEach(Z=>{Y+=Z+(r.spaceBetween?r.spaceBetween:0)}),Y-=r.spaceBetween;const te=Y-a;C=C.map(Z=>Z<0?-D:Z>te?te+L:Z)}if(r.centerInsufficientSlides){let Y=0;if(R.forEach(te=>{Y+=te+(r.spaceBetween?r.spaceBetween:0)}),Y-=r.spaceBetween,Y<a){const te=(a-Y)/2;C.forEach((Z,ue)=>{C[ue]=Z-te}),A.forEach((Z,ue)=>{A[ue]=Z+te})}}if(Object.assign(t,{slides:S,snapGrid:C,slidesGrid:A,slidesSizesGrid:R}),r.centeredSlides&&r.cssMode&&!r.centeredSlidesBounds){iu(t.wrapperEl,"--swiper-centered-offset-before",`${-C[0]}px`),iu(t.wrapperEl,"--swiper-centered-offset-after",`${t.size/2-R[R.length-1]/2}px`);const Y=-t.snapGrid[0],te=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(Z=>Z+Y),t.slidesGrid=t.slidesGrid.map(Z=>Z+te)}if(N!==v&&t.emit("slidesLengthChange"),C.length!==I&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),A.length!==M&&t.emit("slidesGridLengthChange"),r.watchSlidesProgress&&t.updateSlidesOffset(),!p&&!r.cssMode&&(r.effect==="slide"||r.effect==="fade")){const Y=`${r.containerModifierClass}backface-hidden`,te=t.$el.hasClass(Y);N<=r.maxBackfaceHiddenSlides?te||t.$el.addClass(Y):te&&t.$el.removeClass(Y)}}function Y$(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let i=0,a;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const l=h=>r?e.slides.filter(p=>parseInt(p.getAttribute("data-swiper-slide-index"),10)===h)[0]:e.slides.eq(h)[0];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||Te([])).each(h=>{n.push(h)});else for(a=0;a<Math.ceil(e.params.slidesPerView);a+=1){const h=e.activeIndex+a;if(h>e.slides.length&&!r)break;n.push(l(h))}else n.push(l(e.activeIndex));for(a=0;a<n.length;a+=1)if(typeof n[a]<"u"){const h=n[a].offsetHeight;i=h>i?h:i}(i||i===0)&&e.$wrapperEl.css("height",`${i}px`)}function J$(){const t=this,e=t.slides;for(let n=0;n<e.length;n+=1)e[n].swiperSlideOffset=t.isHorizontal()?e[n].offsetLeft:e[n].offsetTop}function Q$(t=this&&this.translate||0){const e=this,n=e.params,{slides:r,rtlTranslate:i,snapGrid:a}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let l=-t;i&&(l=t),r.removeClass(n.slideVisibleClass),e.visibleSlidesIndexes=[],e.visibleSlides=[];for(let h=0;h<r.length;h+=1){const p=r[h];let v=p.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(v-=r[0].swiperSlideOffset);const S=(l+(n.centeredSlides?e.minTranslate():0)-v)/(p.swiperSlideSize+n.spaceBetween),N=(l-a[0]+(n.centeredSlides?e.minTranslate():0)-v)/(p.swiperSlideSize+n.spaceBetween),C=-(l-v),A=C+e.slidesSizesGrid[h];(C>=0&&C<e.size-1||A>1&&A<=e.size||C<=0&&A>=e.size)&&(e.visibleSlides.push(p),e.visibleSlidesIndexes.push(h),r.eq(h).addClass(n.slideVisibleClass)),p.progress=i?-S:S,p.originalProgress=i?-N:N}e.visibleSlides=Te(e.visibleSlides)}function X$(t){const e=this;if(typeof t>"u"){const v=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*v||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:i,isBeginning:a,isEnd:l}=e;const h=a,p=l;r===0?(i=0,a=!0,l=!0):(i=(t-e.minTranslate())/r,a=i<=0,l=i>=1),Object.assign(e,{progress:i,isBeginning:a,isEnd:l}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),a&&!h&&e.emit("reachBeginning toEdge"),l&&!p&&e.emit("reachEnd toEdge"),(h&&!a||p&&!l)&&e.emit("fromEdge"),e.emit("progress",i)}function Z$(){const t=this,{slides:e,params:n,$wrapperEl:r,activeIndex:i,realIndex:a}=t,l=t.virtual&&n.virtual.enabled;e.removeClass(`${n.slideActiveClass} ${n.slideNextClass} ${n.slidePrevClass} ${n.slideDuplicateActiveClass} ${n.slideDuplicateNextClass} ${n.slideDuplicatePrevClass}`);let h;l?h=t.$wrapperEl.find(`.${n.slideClass}[data-swiper-slide-index="${i}"]`):h=e.eq(i),h.addClass(n.slideActiveClass),n.loop&&(h.hasClass(n.slideDuplicateClass)?r.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${a}"]`).addClass(n.slideDuplicateActiveClass):r.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${a}"]`).addClass(n.slideDuplicateActiveClass));let p=h.nextAll(`.${n.slideClass}`).eq(0).addClass(n.slideNextClass);n.loop&&p.length===0&&(p=e.eq(0),p.addClass(n.slideNextClass));let v=h.prevAll(`.${n.slideClass}`).eq(0).addClass(n.slidePrevClass);n.loop&&v.length===0&&(v=e.eq(-1),v.addClass(n.slidePrevClass)),n.loop&&(p.hasClass(n.slideDuplicateClass)?r.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${p.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicateNextClass):r.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${p.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicateNextClass),v.hasClass(n.slideDuplicateClass)?r.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${v.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicatePrevClass):r.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${v.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicatePrevClass)),t.emitSlidesClasses()}function e2(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{slidesGrid:r,snapGrid:i,params:a,activeIndex:l,realIndex:h,snapIndex:p}=e;let v=t,S;if(typeof v>"u"){for(let C=0;C<r.length;C+=1)typeof r[C+1]<"u"?n>=r[C]&&n<r[C+1]-(r[C+1]-r[C])/2?v=C:n>=r[C]&&n<r[C+1]&&(v=C+1):n>=r[C]&&(v=C);a.normalizeSlideIndex&&(v<0||typeof v>"u")&&(v=0)}if(i.indexOf(n)>=0)S=i.indexOf(n);else{const C=Math.min(a.slidesPerGroupSkip,v);S=C+Math.floor((v-C)/a.slidesPerGroup)}if(S>=i.length&&(S=i.length-1),v===l){S!==p&&(e.snapIndex=S,e.emit("snapIndexChange"));return}const N=parseInt(e.slides.eq(v).attr("data-swiper-slide-index")||v,10);Object.assign(e,{snapIndex:S,realIndex:N,previousIndex:l,activeIndex:v}),e.emit("activeIndexChange"),e.emit("snapIndexChange"),h!==N&&e.emit("realIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&e.emit("slideChange")}function t2(t){const e=this,n=e.params,r=Te(t).closest(`.${n.slideClass}`)[0];let i=!1,a;if(r){for(let l=0;l<e.slides.length;l+=1)if(e.slides[l]===r){i=!0,a=l;break}}if(r&&i)e.clickedSlide=r,e.virtual&&e.params.virtual.enabled?e.clickedIndex=parseInt(Te(r).attr("data-swiper-slide-index"),10):e.clickedIndex=a;else{e.clickedSlide=void 0,e.clickedIndex=void 0;return}n.slideToClickedSlide&&e.clickedIndex!==void 0&&e.clickedIndex!==e.activeIndex&&e.slideToClickedSlide()}const n2={updateSize:G$,updateSlides:K$,updateAutoHeight:Y$,updateSlidesOffset:J$,updateSlidesProgress:Q$,updateProgress:X$,updateSlidesClasses:Z$,updateActiveIndex:e2,updateClickedSlide:t2};function r2(t=this.isHorizontal()?"x":"y"){const e=this,{params:n,rtlTranslate:r,translate:i,$wrapperEl:a}=e;if(n.virtualTranslate)return r?-i:i;if(n.cssMode)return i;let l=$$(a[0],t);return r&&(l=-l),l||0}function i2(t,e){const n=this,{rtlTranslate:r,params:i,$wrapperEl:a,wrapperEl:l,progress:h}=n;let p=0,v=0;const S=0;n.isHorizontal()?p=r?-t:t:v=t,i.roundLengths&&(p=Math.floor(p),v=Math.floor(v)),i.cssMode?l[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-p:-v:i.virtualTranslate||a.transform(`translate3d(${p}px, ${v}px, ${S}px)`),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?p:v;let N;const C=n.maxTranslate()-n.minTranslate();C===0?N=0:N=(t-n.minTranslate())/C,N!==h&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function a2(){return-this.snapGrid[0]}function s2(){return-this.snapGrid[this.snapGrid.length-1]}function o2(t=0,e=this.params.speed,n=!0,r=!0,i){const a=this,{params:l,wrapperEl:h}=a;if(a.animating&&l.preventInteractionOnTransition)return!1;const p=a.minTranslate(),v=a.maxTranslate();let S;if(r&&t>p?S=p:r&&t<v?S=v:S=t,a.updateProgress(S),l.cssMode){const N=a.isHorizontal();if(e===0)h[N?"scrollLeft":"scrollTop"]=-S;else{if(!a.support.smoothScroll)return xE({swiper:a,targetPosition:-S,side:N?"left":"top"}),!0;h.scrollTo({[N?"left":"top"]:-S,behavior:"smooth"})}return!0}return e===0?(a.setTransition(0),a.setTranslate(S),n&&(a.emit("beforeTransitionStart",e,i),a.emit("transitionEnd"))):(a.setTransition(e),a.setTranslate(S),n&&(a.emit("beforeTransitionStart",e,i),a.emit("transitionStart")),a.animating||(a.animating=!0,a.onTranslateToWrapperTransitionEnd||(a.onTranslateToWrapperTransitionEnd=function(C){!a||a.destroyed||C.target===this&&(a.$wrapperEl[0].removeEventListener("transitionend",a.onTranslateToWrapperTransitionEnd),a.$wrapperEl[0].removeEventListener("webkitTransitionEnd",a.onTranslateToWrapperTransitionEnd),a.onTranslateToWrapperTransitionEnd=null,delete a.onTranslateToWrapperTransitionEnd,n&&a.emit("transitionEnd"))}),a.$wrapperEl[0].addEventListener("transitionend",a.onTranslateToWrapperTransitionEnd),a.$wrapperEl[0].addEventListener("webkitTransitionEnd",a.onTranslateToWrapperTransitionEnd))),!0}const l2={getTranslate:r2,setTranslate:i2,minTranslate:a2,maxTranslate:s2,translateTo:o2};function c2(t,e){const n=this;n.params.cssMode||n.$wrapperEl.transition(t),n.emit("setTransition",t,e)}function EE({swiper:t,runCallbacks:e,direction:n,step:r}){const{activeIndex:i,previousIndex:a}=t;let l=n;if(l||(i>a?l="next":i<a?l="prev":l="reset"),t.emit(`transition${r}`),e&&i!==a){if(l==="reset"){t.emit(`slideResetTransition${r}`);return}t.emit(`slideChangeTransition${r}`),l==="next"?t.emit(`slideNextTransition${r}`):t.emit(`slidePrevTransition${r}`)}}function u2(t=!0,e){const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),EE({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function d2(t=!0,e){const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),EE({swiper:n,runCallbacks:t,direction:e,step:"End"}))}const h2={setTransition:c2,transitionStart:u2,transitionEnd:d2};function f2(t=0,e=this.params.speed,n=!0,r,i){if(typeof t!="number"&&typeof t!="string")throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof t}] given.`);if(typeof t=="string"){const F=parseInt(t,10);if(!isFinite(F))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${t}] given.`);t=F}const a=this;let l=t;l<0&&(l=0);const{params:h,snapGrid:p,slidesGrid:v,previousIndex:S,activeIndex:N,rtlTranslate:C,wrapperEl:A,enabled:R}=a;if(a.animating&&h.preventInteractionOnTransition||!R&&!r&&!i)return!1;const D=Math.min(a.params.slidesPerGroupSkip,l);let L=D+Math.floor((l-D)/a.params.slidesPerGroup);L>=p.length&&(L=p.length-1);const I=-p[L];if(h.normalizeSlideIndex)for(let F=0;F<v.length;F+=1){const z=-Math.floor(I*100),j=Math.floor(v[F]*100),W=Math.floor(v[F+1]*100);typeof v[F+1]<"u"?z>=j&&z<W-(W-j)/2?l=F:z>=j&&z<W&&(l=F+1):z>=j&&(l=F)}if(a.initialized&&l!==N&&(!a.allowSlideNext&&I<a.translate&&I<a.minTranslate()||!a.allowSlidePrev&&I>a.translate&&I>a.maxTranslate()&&(N||0)!==l))return!1;l!==(S||0)&&n&&a.emit("beforeSlideChangeStart"),a.updateProgress(I);let M;if(l>N?M="next":l<N?M="prev":M="reset",C&&-I===a.translate||!C&&I===a.translate)return a.updateActiveIndex(l),h.autoHeight&&a.updateAutoHeight(),a.updateSlidesClasses(),h.effect!=="slide"&&a.setTranslate(I),M!=="reset"&&(a.transitionStart(n,M),a.transitionEnd(n,M)),!1;if(h.cssMode){const F=a.isHorizontal(),z=C?I:-I;if(e===0){const j=a.virtual&&a.params.virtual.enabled;j&&(a.wrapperEl.style.scrollSnapType="none",a._immediateVirtual=!0),A[F?"scrollLeft":"scrollTop"]=z,j&&requestAnimationFrame(()=>{a.wrapperEl.style.scrollSnapType="",a._swiperImmediateVirtual=!1})}else{if(!a.support.smoothScroll)return xE({swiper:a,targetPosition:z,side:F?"left":"top"}),!0;A.scrollTo({[F?"left":"top"]:z,behavior:"smooth"})}return!0}return a.setTransition(e),a.setTranslate(I),a.updateActiveIndex(l),a.updateSlidesClasses(),a.emit("beforeTransitionStart",e,r),a.transitionStart(n,M),e===0?a.transitionEnd(n,M):a.animating||(a.animating=!0,a.onSlideToWrapperTransitionEnd||(a.onSlideToWrapperTransitionEnd=function(z){!a||a.destroyed||z.target===this&&(a.$wrapperEl[0].removeEventListener("transitionend",a.onSlideToWrapperTransitionEnd),a.$wrapperEl[0].removeEventListener("webkitTransitionEnd",a.onSlideToWrapperTransitionEnd),a.onSlideToWrapperTransitionEnd=null,delete a.onSlideToWrapperTransitionEnd,a.transitionEnd(n,M))}),a.$wrapperEl[0].addEventListener("transitionend",a.onSlideToWrapperTransitionEnd),a.$wrapperEl[0].addEventListener("webkitTransitionEnd",a.onSlideToWrapperTransitionEnd)),!0}function _2(t=0,e=this.params.speed,n=!0,r){if(typeof t=="string"){const l=parseInt(t,10);if(!isFinite(l))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${t}] given.`);t=l}const i=this;let a=t;return i.params.loop&&(a+=i.loopedSlides),i.slideTo(a,e,n,r)}function p2(t=this.params.speed,e=!0,n){const r=this,{animating:i,enabled:a,params:l}=r;if(!a)return r;let h=l.slidesPerGroup;l.slidesPerView==="auto"&&l.slidesPerGroup===1&&l.slidesPerGroupAuto&&(h=Math.max(r.slidesPerViewDynamic("current",!0),1));const p=r.activeIndex<l.slidesPerGroupSkip?1:h;if(l.loop){if(i&&l.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}return l.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+p,t,e,n)}function m2(t=this.params.speed,e=!0,n){const r=this,{params:i,animating:a,snapGrid:l,slidesGrid:h,rtlTranslate:p,enabled:v}=r;if(!v)return r;if(i.loop){if(a&&i.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}const S=p?r.translate:-r.translate;function N(L){return L<0?-Math.floor(Math.abs(L)):Math.floor(L)}const C=N(S),A=l.map(L=>N(L));let R=l[A.indexOf(C)-1];if(typeof R>"u"&&i.cssMode){let L;l.forEach((I,M)=>{C>=I&&(L=M)}),typeof L<"u"&&(R=l[L>0?L-1:L])}let D=0;if(typeof R<"u"&&(D=h.indexOf(R),D<0&&(D=r.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(D=D-r.slidesPerViewDynamic("previous",!0)+1,D=Math.max(D,0))),i.rewind&&r.isBeginning){const L=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(L,t,e,n)}return r.slideTo(D,t,e,n)}function g2(t=this.params.speed,e=!0,n){const r=this;return r.slideTo(r.activeIndex,t,e,n)}function v2(t=this.params.speed,e=!0,n,r=.5){const i=this;let a=i.activeIndex;const l=Math.min(i.params.slidesPerGroupSkip,a),h=l+Math.floor((a-l)/i.params.slidesPerGroup),p=i.rtlTranslate?i.translate:-i.translate;if(p>=i.snapGrid[h]){const v=i.snapGrid[h],S=i.snapGrid[h+1];p-v>(S-v)*r&&(a+=i.params.slidesPerGroup)}else{const v=i.snapGrid[h-1],S=i.snapGrid[h];p-v<=(S-v)*r&&(a-=i.params.slidesPerGroup)}return a=Math.max(a,0),a=Math.min(a,i.slidesGrid.length-1),i.slideTo(a,t,e,n)}function y2(){const t=this,{params:e,$wrapperEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let i=t.clickedIndex,a;if(e.loop){if(t.animating)return;a=parseInt(Te(t.clickedSlide).attr("data-swiper-slide-index"),10),e.centeredSlides?i<t.loopedSlides-r/2||i>t.slides.length-t.loopedSlides+r/2?(t.loopFix(),i=n.children(`.${e.slideClass}[data-swiper-slide-index="${a}"]:not(.${e.slideDuplicateClass})`).eq(0).index(),cp(()=>{t.slideTo(i)})):t.slideTo(i):i>t.slides.length-r?(t.loopFix(),i=n.children(`.${e.slideClass}[data-swiper-slide-index="${a}"]:not(.${e.slideDuplicateClass})`).eq(0).index(),cp(()=>{t.slideTo(i)})):t.slideTo(i)}else t.slideTo(i)}const b2={slideTo:f2,slideToLoop:_2,slideNext:p2,slidePrev:m2,slideReset:g2,slideToClosest:v2,slideToClickedSlide:y2};function w2(){const t=this,e=Jn(),{params:n,$wrapperEl:r}=t,i=r.children().length>0?Te(r.children()[0].parentNode):r;i.children(`.${n.slideClass}.${n.slideDuplicateClass}`).remove();let a=i.children(`.${n.slideClass}`);if(n.loopFillGroupWithBlank){const p=n.slidesPerGroup-a.length%n.slidesPerGroup;if(p!==n.slidesPerGroup){for(let v=0;v<p;v+=1){const S=Te(e.createElement("div")).addClass(`${n.slideClass} ${n.slideBlankClass}`);i.append(S)}a=i.children(`.${n.slideClass}`)}}n.slidesPerView==="auto"&&!n.loopedSlides&&(n.loopedSlides=a.length),t.loopedSlides=Math.ceil(parseFloat(n.loopedSlides||n.slidesPerView,10)),t.loopedSlides+=n.loopAdditionalSlides,t.loopedSlides>a.length&&t.params.loopedSlidesLimit&&(t.loopedSlides=a.length);const l=[],h=[];a.each((p,v)=>{Te(p).attr("data-swiper-slide-index",v)});for(let p=0;p<t.loopedSlides;p+=1){const v=p-Math.floor(p/a.length)*a.length;h.push(a.eq(v)[0]),l.unshift(a.eq(a.length-v-1)[0])}for(let p=0;p<h.length;p+=1)i.append(Te(h[p].cloneNode(!0)).addClass(n.slideDuplicateClass));for(let p=l.length-1;p>=0;p-=1)i.prepend(Te(l[p].cloneNode(!0)).addClass(n.slideDuplicateClass))}function x2(){const t=this;t.emit("beforeLoopFix");const{activeIndex:e,slides:n,loopedSlides:r,allowSlidePrev:i,allowSlideNext:a,snapGrid:l,rtlTranslate:h}=t;let p;t.allowSlidePrev=!0,t.allowSlideNext=!0;const S=-l[e]-t.getTranslate();e<r?(p=n.length-r*3+e,p+=r,t.slideTo(p,0,!1,!0)&&S!==0&&t.setTranslate((h?-t.translate:t.translate)-S)):e>=n.length-r&&(p=-n.length+e+r,p+=r,t.slideTo(p,0,!1,!0)&&S!==0&&t.setTranslate((h?-t.translate:t.translate)-S)),t.allowSlidePrev=i,t.allowSlideNext=a,t.emit("loopFix")}function k2(){const t=this,{$wrapperEl:e,params:n,slides:r}=t;e.children(`.${n.slideClass}.${n.slideDuplicateClass},.${n.slideClass}.${n.slideBlankClass}`).remove(),r.removeAttr("data-swiper-slide-index")}const E2={loopCreate:w2,loopFix:x2,loopDestroy:k2};function S2(t){const e=this;if(e.support.touch||!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;n.style.cursor="move",n.style.cursor=t?"grabbing":"grab"}function C2(){const t=this;t.support.touch||t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="")}const T2={setGrabCursor:S2,unsetGrabCursor:C2};function N2(t,e=this){function n(r){if(!r||r===Jn()||r===rn())return null;r.assignedSlot&&(r=r.assignedSlot);const i=r.closest(t);return!i&&!r.getRootNode?null:i||n(r.getRootNode().host)}return n(e)}function D2(t){const e=this,n=Jn(),r=rn(),i=e.touchEventsData,{params:a,touches:l,enabled:h}=e;if(!h||e.animating&&a.preventInteractionOnTransition)return;!e.animating&&a.cssMode&&a.loop&&e.loopFix();let p=t;p.originalEvent&&(p=p.originalEvent);let v=Te(p.target);if(a.touchEventsTarget==="wrapper"&&!v.closest(e.wrapperEl).length||(i.isTouchEvent=p.type==="touchstart",!i.isTouchEvent&&"which"in p&&p.which===3)||!i.isTouchEvent&&"button"in p&&p.button>0||i.isTouched&&i.isMoved)return;const S=!!a.noSwipingClass&&a.noSwipingClass!=="",N=t.composedPath?t.composedPath():t.path;S&&p.target&&p.target.shadowRoot&&N&&(v=Te(N[0]));const C=a.noSwipingSelector?a.noSwipingSelector:`.${a.noSwipingClass}`,A=!!(p.target&&p.target.shadowRoot);if(a.noSwiping&&(A?N2(C,v[0]):v.closest(C)[0])){e.allowClick=!0;return}if(a.swipeHandler&&!v.closest(a.swipeHandler)[0])return;l.currentX=p.type==="touchstart"?p.targetTouches[0].pageX:p.pageX,l.currentY=p.type==="touchstart"?p.targetTouches[0].pageY:p.pageY;const R=l.currentX,D=l.currentY,L=a.edgeSwipeDetection||a.iOSEdgeSwipeDetection,I=a.edgeSwipeThreshold||a.iOSEdgeSwipeThreshold;if(L&&(R<=I||R>=r.innerWidth-I))if(L==="prevent")t.preventDefault();else return;if(Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),l.startX=R,l.startY=D,i.touchStartTime=ql(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,a.threshold>0&&(i.allowThresholdMove=!1),p.type!=="touchstart"){let M=!0;v.is(i.focusableElements)&&(M=!1,v[0].nodeName==="SELECT"&&(i.isTouched=!1)),n.activeElement&&Te(n.activeElement).is(i.focusableElements)&&n.activeElement!==v[0]&&n.activeElement.blur();const F=M&&e.allowTouchMove&&a.touchStartPreventDefault;(a.touchStartForcePreventDefault||F)&&!v[0].isContentEditable&&p.preventDefault()}e.params.freeMode&&e.params.freeMode.enabled&&e.freeMode&&e.animating&&!a.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",p)}function I2(t){const e=Jn(),n=this,r=n.touchEventsData,{params:i,touches:a,rtlTranslate:l,enabled:h}=n;if(!h)return;let p=t;if(p.originalEvent&&(p=p.originalEvent),!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",p);return}if(r.isTouchEvent&&p.type!=="touchmove")return;const v=p.type==="touchmove"&&p.targetTouches&&(p.targetTouches[0]||p.changedTouches[0]),S=p.type==="touchmove"?v.pageX:p.pageX,N=p.type==="touchmove"?v.pageY:p.pageY;if(p.preventedByNestedSwiper){a.startX=S,a.startY=N;return}if(!n.allowTouchMove){Te(p.target).is(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(a,{startX:S,startY:N,currentX:S,currentY:N}),r.touchStartTime=ql());return}if(r.isTouchEvent&&i.touchReleaseOnEdges&&!i.loop){if(n.isVertical()){if(N<a.startY&&n.translate<=n.maxTranslate()||N>a.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else if(S<a.startX&&n.translate<=n.maxTranslate()||S>a.startX&&n.translate>=n.minTranslate())return}if(r.isTouchEvent&&e.activeElement&&p.target===e.activeElement&&Te(p.target).is(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}if(r.allowTouchCallbacks&&n.emit("touchMove",p),p.targetTouches&&p.targetTouches.length>1)return;a.currentX=S,a.currentY=N;const C=a.currentX-a.startX,A=a.currentY-a.startY;if(n.params.threshold&&Math.sqrt(C**2+A**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let I;n.isHorizontal()&&a.currentY===a.startY||n.isVertical()&&a.currentX===a.startX?r.isScrolling=!1:C*C+A*A>=25&&(I=Math.atan2(Math.abs(A),Math.abs(C))*180/Math.PI,r.isScrolling=n.isHorizontal()?I>i.touchAngle:90-I>i.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",p),typeof r.startMoving>"u"&&(a.currentX!==a.startX||a.currentY!==a.startY)&&(r.startMoving=!0),r.isScrolling){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!i.cssMode&&p.cancelable&&p.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&p.stopPropagation(),r.isMoved||(i.loop&&!i.cssMode&&n.loopFix(),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating&&n.$wrapperEl.trigger("webkitTransitionEnd transitionend"),r.allowMomentumBounce=!1,i.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",p)),n.emit("sliderMove",p),r.isMoved=!0;let R=n.isHorizontal()?C:A;a.diff=R,R*=i.touchRatio,l&&(R=-R),n.swipeDirection=R>0?"prev":"next",r.currentTranslate=R+r.startTranslate;let D=!0,L=i.resistanceRatio;if(i.touchReleaseOnEdges&&(L=0),R>0&&r.currentTranslate>n.minTranslate()?(D=!1,i.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+R)**L)):R<0&&r.currentTranslate<n.maxTranslate()&&(D=!1,i.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-R)**L)),D&&(p.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),i.threshold>0)if(Math.abs(R)>i.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,a.startX=a.currentX,a.startY=a.currentY,r.currentTranslate=r.startTranslate,a.diff=n.isHorizontal()?a.currentX-a.startX:a.currentY-a.startY;return}}else{r.currentTranslate=r.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),n.params.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function A2(t){const e=this,n=e.touchEventsData,{params:r,touches:i,rtlTranslate:a,slidesGrid:l,enabled:h}=e;if(!h)return;let p=t;if(p.originalEvent&&(p=p.originalEvent),n.allowTouchCallbacks&&e.emit("touchEnd",p),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&r.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}r.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const v=ql(),S=v-n.touchStartTime;if(e.allowClick){const M=p.path||p.composedPath&&p.composedPath();e.updateClickedSlide(M&&M[0]||p.target),e.emit("tap click",p),S<300&&v-n.lastClickTime<300&&e.emit("doubleTap doubleClick",p)}if(n.lastClickTime=ql(),cp(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||i.diff===0||n.currentTranslate===n.startTranslate){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let N;if(r.followFinger?N=a?e.translate:-e.translate:N=-n.currentTranslate,r.cssMode)return;if(e.params.freeMode&&r.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:N});return}let C=0,A=e.slidesSizesGrid[0];for(let M=0;M<l.length;M+=M<r.slidesPerGroupSkip?1:r.slidesPerGroup){const F=M<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;typeof l[M+F]<"u"?N>=l[M]&&N<l[M+F]&&(C=M,A=l[M+F]-l[M]):N>=l[M]&&(C=M,A=l[l.length-1]-l[l.length-2])}let R=null,D=null;r.rewind&&(e.isBeginning?D=e.params.virtual&&e.params.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(R=0));const L=(N-l[C])/A,I=C<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;if(S>r.longSwipesMs){if(!r.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(L>=r.longSwipesRatio?e.slideTo(r.rewind&&e.isEnd?R:C+I):e.slideTo(C)),e.swipeDirection==="prev"&&(L>1-r.longSwipesRatio?e.slideTo(C+I):D!==null&&L<0&&Math.abs(L)>r.longSwipesRatio?e.slideTo(D):e.slideTo(C))}else{if(!r.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(p.target===e.navigation.nextEl||p.target===e.navigation.prevEl)?p.target===e.navigation.nextEl?e.slideTo(C+I):e.slideTo(C):(e.swipeDirection==="next"&&e.slideTo(R!==null?R:C+I),e.swipeDirection==="prev"&&e.slideTo(D!==null?D:C))}}function C0(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:i,snapGrid:a}=t;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses(),(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides?t.slideTo(t.slides.length-1,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.run(),t.allowSlidePrev=i,t.allowSlideNext=r,t.params.watchOverflow&&a!==t.snapGrid&&t.checkOverflow()}function O2(t){const e=this;!e.enabled||e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation()))}function M2(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let i;const a=t.maxTranslate()-t.minTranslate();a===0?i=0:i=(t.translate-t.minTranslate())/a,i!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}let T0=!1;function L2(){}const SE=(t,e)=>{const n=Jn(),{params:r,touchEvents:i,el:a,wrapperEl:l,device:h,support:p}=t,v=!!r.nested,S=e==="on"?"addEventListener":"removeEventListener",N=e;if(!p.touch)a[S](i.start,t.onTouchStart,!1),n[S](i.move,t.onTouchMove,v),n[S](i.end,t.onTouchEnd,!1);else{const C=i.start==="touchstart"&&p.passiveListener&&r.passiveListeners?{passive:!0,capture:!1}:!1;a[S](i.start,t.onTouchStart,C),a[S](i.move,t.onTouchMove,p.passiveListener?{passive:!1,capture:v}:v),a[S](i.end,t.onTouchEnd,C),i.cancel&&a[S](i.cancel,t.onTouchEnd,C)}(r.preventClicks||r.preventClicksPropagation)&&a[S]("click",t.onClick,!0),r.cssMode&&l[S]("scroll",t.onScroll),r.updateOnWindowResize?t[N](h.ios||h.android?"resize orientationchange observerUpdate":"resize observerUpdate",C0,!0):t[N]("observerUpdate",C0,!0)};function P2(){const t=this,e=Jn(),{params:n,support:r}=t;t.onTouchStart=D2.bind(t),t.onTouchMove=I2.bind(t),t.onTouchEnd=A2.bind(t),n.cssMode&&(t.onScroll=M2.bind(t)),t.onClick=O2.bind(t),r.touch&&!T0&&(e.addEventListener("touchstart",L2),T0=!0),SE(t,"on")}function R2(){SE(this,"off")}const $2={attachEvents:P2,detachEvents:R2},N0=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function F2(){const t=this,{activeIndex:e,initialized:n,loopedSlides:r=0,params:i,$el:a}=t,l=i.breakpoints;if(!l||l&&Object.keys(l).length===0)return;const h=t.getBreakpoint(l,t.params.breakpointsBase,t.el);if(!h||t.currentBreakpoint===h)return;const v=(h in l?l[h]:void 0)||t.originalParams,S=N0(t,i),N=N0(t,v),C=i.enabled;S&&!N?(a.removeClass(`${i.containerModifierClass}grid ${i.containerModifierClass}grid-column`),t.emitContainerClasses()):!S&&N&&(a.addClass(`${i.containerModifierClass}grid`),(v.grid.fill&&v.grid.fill==="column"||!v.grid.fill&&i.grid.fill==="column")&&a.addClass(`${i.containerModifierClass}grid-column`),t.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(L=>{const I=i[L]&&i[L].enabled,M=v[L]&&v[L].enabled;I&&!M&&t[L].disable(),!I&&M&&t[L].enable()});const A=v.direction&&v.direction!==i.direction,R=i.loop&&(v.slidesPerView!==i.slidesPerView||A);A&&n&&t.changeDirection(),Zn(t.params,v);const D=t.params.enabled;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),C&&!D?t.disable():!C&&D&&t.enable(),t.currentBreakpoint=h,t.emit("_beforeBreakpoint",v),R&&n&&(t.loopDestroy(),t.loopCreate(),t.updateSlides(),t.slideTo(e-r+t.loopedSlides,0,!1)),t.emit("breakpoint",v)}function U2(t,e="window",n){if(!t||e==="container"&&!n)return;let r=!1;const i=rn(),a=e==="window"?i.innerHeight:n.clientHeight,l=Object.keys(t).map(h=>{if(typeof h=="string"&&h.indexOf("@")===0){const p=parseFloat(h.substr(1));return{value:a*p,point:h}}return{value:h,point:h}});l.sort((h,p)=>parseInt(h.value,10)-parseInt(p.value,10));for(let h=0;h<l.length;h+=1){const{point:p,value:v}=l[h];e==="window"?i.matchMedia(`(min-width: ${v}px)`).matches&&(r=p):v<=n.clientWidth&&(r=p)}return r||"max"}const j2={setBreakpoint:F2,getBreakpoint:U2};function z2(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(i=>{r[i]&&n.push(e+i)}):typeof r=="string"&&n.push(e+r)}),n}function V2(){const t=this,{classNames:e,params:n,rtl:r,$el:i,device:a,support:l}=t,h=z2(["initialized",n.direction,{"pointer-events":!l.touch},{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:a.android},{ios:a.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...h),i.addClass([...e].join(" ")),t.emitContainerClasses()}function H2(){const t=this,{$el:e,classNames:n}=t;e.removeClass(n.join(" ")),t.emitContainerClasses()}const B2={addClasses:V2,removeClasses:H2};function q2(t,e,n,r,i,a){const l=rn();let h;function p(){a&&a()}!Te(t).parent("picture")[0]&&(!t.complete||!i)&&e?(h=new l.Image,h.onload=p,h.onerror=p,r&&(h.sizes=r),n&&(h.srcset=n),e&&(h.src=e)):p()}function W2(){const t=this;t.imagesToLoad=t.$el.find("img");function e(){typeof t>"u"||t===null||!t||t.destroyed||(t.imagesLoaded!==void 0&&(t.imagesLoaded+=1),t.imagesLoaded===t.imagesToLoad.length&&(t.params.updateOnImagesReady&&t.update(),t.emit("imagesReady")))}for(let n=0;n<t.imagesToLoad.length;n+=1){const r=t.imagesToLoad[n];t.loadImage(r,r.currentSrc||r.getAttribute("src"),r.srcset||r.getAttribute("srcset"),r.sizes||r.getAttribute("sizes"),!0,e)}}const G2={loadImage:q2,preloadImages:W2};function K2(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const i=t.slides.length-1,a=t.slidesGrid[i]+t.slidesSizesGrid[i]+r*2;t.isLocked=t.size>a}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}const Y2={checkOverflow:K2},D0={init:!0,direction:"horizontal",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopedSlidesLimit:!0,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function J2(t,e){return function(r={}){const i=Object.keys(r)[0],a=r[i];if(typeof a!="object"||a===null){Zn(e,r);return}if(["navigation","pagination","scrollbar"].indexOf(i)>=0&&t[i]===!0&&(t[i]={auto:!0}),!(i in t&&"enabled"in a)){Zn(e,r);return}t[i]===!0&&(t[i]={enabled:!0}),typeof t[i]=="object"&&!("enabled"in t[i])&&(t[i].enabled=!0),t[i]||(t[i]={enabled:!1}),Zn(e,r)}}const Nf={eventsEmitter:W$,update:n2,translate:l2,transition:h2,slide:b2,loop:E2,grabCursor:T2,events:$2,breakpoints:j2,checkOverflow:Y2,classes:B2,images:G2},Df={};class Dn{constructor(...e){let n,r;if(e.length===1&&e[0].constructor&&Object.prototype.toString.call(e[0]).slice(8,-1)==="Object"?r=e[0]:[n,r]=e,r||(r={}),r=Zn({},r),n&&!r.el&&(r.el=n),r.el&&Te(r.el).length>1){const h=[];return Te(r.el).each(p=>{const v=Zn({},r,{el:p});h.push(new Dn(v))}),h}const i=this;i.__swiper__=!0,i.support=kE(),i.device=z$({userAgent:r.userAgent}),i.browser=H$(),i.eventsListeners={},i.eventsAnyListeners=[],i.modules=[...i.__modules__],r.modules&&Array.isArray(r.modules)&&i.modules.push(...r.modules);const a={};i.modules.forEach(h=>{h({swiper:i,extendParams:J2(r,a),on:i.on.bind(i),once:i.once.bind(i),off:i.off.bind(i),emit:i.emit.bind(i)})});const l=Zn({},D0,a);return i.params=Zn({},l,Df,r),i.originalParams=Zn({},i.params),i.passedParams=Zn({},r),i.params&&i.params.on&&Object.keys(i.params.on).forEach(h=>{i.on(h,i.params.on[h])}),i.params&&i.params.onAny&&i.onAny(i.params.onAny),i.$=Te,Object.assign(i,{enabled:i.params.enabled,el:n,classNames:[],slides:Te(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return i.params.direction==="horizontal"},isVertical(){return i.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:i.params.allowSlideNext,allowSlidePrev:i.params.allowSlidePrev,touchEvents:function(){const p=["touchstart","touchmove","touchend","touchcancel"],v=["pointerdown","pointermove","pointerup"];return i.touchEventsTouch={start:p[0],move:p[1],end:p[2],cancel:p[3]},i.touchEventsDesktop={start:v[0],move:v[1],end:v[2]},i.support.touch||!i.params.simulateTouch?i.touchEventsTouch:i.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:i.params.focusableElements,lastClickTime:ql(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:i.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),i.emit("_swiper"),i.params.init&&i.init(),i}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;!e.enabled||(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const i=r.minTranslate(),l=(r.maxTranslate()-i)*e+i;r.translateTo(l,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.each(r=>{const i=e.getSlideClasses(r);n.push({slideEl:r,classNames:i}),e.emit("_slideClass",r,i)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e="current",n=!1){const r=this,{params:i,slides:a,slidesGrid:l,slidesSizesGrid:h,size:p,activeIndex:v}=r;let S=1;if(i.centeredSlides){let N=a[v].swiperSlideSize,C;for(let A=v+1;A<a.length;A+=1)a[A]&&!C&&(N+=a[A].swiperSlideSize,S+=1,N>p&&(C=!0));for(let A=v-1;A>=0;A-=1)a[A]&&!C&&(N+=a[A].swiperSlideSize,S+=1,N>p&&(C=!0))}else if(e==="current")for(let N=v+1;N<a.length;N+=1)(n?l[N]+h[N]-l[v]<p:l[N]-l[v]<p)&&(S+=1);else for(let N=v-1;N>=0;N-=1)l[v]-l[N]<p&&(S+=1);return S}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function i(){const l=e.rtlTranslate?e.translate*-1:e.translate,h=Math.min(Math.max(l,e.maxTranslate()),e.minTranslate());e.setTranslate(h),e.updateActiveIndex(),e.updateSlidesClasses()}let a;e.params.freeMode&&e.params.freeMode.enabled?(i(),e.params.autoHeight&&e.updateAutoHeight()):((e.params.slidesPerView==="auto"||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?a=e.slideTo(e.slides.length-1,0,!1,!0):a=e.slideTo(e.activeIndex,0,!1,!0),a||i()),r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n=!0){const r=this,i=r.params.direction;return e||(e=i==="horizontal"?"vertical":"horizontal"),e===i||e!=="horizontal"&&e!=="vertical"||(r.$el.removeClass(`${r.params.containerModifierClass}${i}`).addClass(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.each(a=>{e==="vertical"?a.style.width="":a.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.$el.addClass(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.$el.removeClass(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;const r=Te(e||n.params.el);if(e=r[0],!e)return!1;e.swiper=n;const i=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let l=(()=>{if(e&&e.shadowRoot&&e.shadowRoot.querySelector){const h=Te(e.shadowRoot.querySelector(i()));return h.children=p=>r.children(p),h}return r.children?r.children(i()):Te(r).children(i())})();if(l.length===0&&n.params.createElements){const p=Jn().createElement("div");l=Te(p),p.className=n.params.wrapperClass,r.append(p),r.children(`.${n.params.slideClass}`).each(v=>{l.append(v)})}return Object.assign(n,{$el:r,el:e,$wrapperEl:l,wrapperEl:l[0],mounted:!0,rtl:e.dir.toLowerCase()==="rtl"||r.css("direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(e.dir.toLowerCase()==="rtl"||r.css("direction")==="rtl"),wrongRTL:l.css("display")==="-webkit-box"}),!0}init(e){const n=this;return n.initialized||n.mount(e)===!1||(n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.params.loop&&n.loopCreate(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.preloadImages&&n.preloadImages(),n.params.loop?n.slideTo(n.params.initialSlide+n.loopedSlides,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.attachEvents(),n.initialized=!0,n.emit("init"),n.emit("afterInit")),n}destroy(e=!0,n=!0){const r=this,{params:i,$el:a,$wrapperEl:l,slides:h}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),i.loop&&r.loopDestroy(),n&&(r.removeClasses(),a.removeAttr("style"),l.removeAttr("style"),h&&h.length&&h.removeClass([i.slideVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(p=>{r.off(p)}),e!==!1&&(r.$el[0].swiper=null,P$(r)),r.destroyed=!0),null}static extendDefaults(e){Zn(Df,e)}static get extendedDefaults(){return Df}static get defaults(){return D0}static installModule(e){Dn.prototype.__modules__||(Dn.prototype.__modules__=[]);const n=Dn.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>Dn.installModule(n)),Dn):(Dn.installModule(e),Dn)}}Object.keys(Nf).forEach(t=>{Object.keys(Nf[t]).forEach(e=>{Dn.prototype[e]=Nf[t][e]})});Dn.use([B$,q$]);function CE(t,e,n,r){const i=Jn();return t.params.createElements&&Object.keys(r).forEach(a=>{if(!n[a]&&n.auto===!0){let l=t.$el.children(`.${r[a]}`)[0];l||(l=i.createElement("div"),l.className=r[a],t.$el.append(l)),n[a]=l,e[a]=l}}),n}function TE({swiper:t,extendParams:e,on:n,emit:r}){e({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,$nextEl:null,prevEl:null,$prevEl:null};function i(A){let R;return A&&(R=Te(A),t.params.uniqueNavElements&&typeof A=="string"&&R.length>1&&t.$el.find(A).length===1&&(R=t.$el.find(A))),R}function a(A,R){const D=t.params.navigation;A&&A.length>0&&(A[R?"addClass":"removeClass"](D.disabledClass),A[0]&&A[0].tagName==="BUTTON"&&(A[0].disabled=R),t.params.watchOverflow&&t.enabled&&A[t.isLocked?"addClass":"removeClass"](D.lockClass))}function l(){if(t.params.loop)return;const{$nextEl:A,$prevEl:R}=t.navigation;a(R,t.isBeginning&&!t.params.rewind),a(A,t.isEnd&&!t.params.rewind)}function h(A){A.preventDefault(),!(t.isBeginning&&!t.params.loop&&!t.params.rewind)&&(t.slidePrev(),r("navigationPrev"))}function p(A){A.preventDefault(),!(t.isEnd&&!t.params.loop&&!t.params.rewind)&&(t.slideNext(),r("navigationNext"))}function v(){const A=t.params.navigation;if(t.params.navigation=CE(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(A.nextEl||A.prevEl))return;const R=i(A.nextEl),D=i(A.prevEl);R&&R.length>0&&R.on("click",p),D&&D.length>0&&D.on("click",h),Object.assign(t.navigation,{$nextEl:R,nextEl:R&&R[0],$prevEl:D,prevEl:D&&D[0]}),t.enabled||(R&&R.addClass(A.lockClass),D&&D.addClass(A.lockClass))}function S(){const{$nextEl:A,$prevEl:R}=t.navigation;A&&A.length&&(A.off("click",p),A.removeClass(t.params.navigation.disabledClass)),R&&R.length&&(R.off("click",h),R.removeClass(t.params.navigation.disabledClass))}n("init",()=>{t.params.navigation.enabled===!1?C():(v(),l())}),n("toEdge fromEdge lock unlock",()=>{l()}),n("destroy",()=>{S()}),n("enable disable",()=>{const{$nextEl:A,$prevEl:R}=t.navigation;A&&A[t.enabled?"removeClass":"addClass"](t.params.navigation.lockClass),R&&R[t.enabled?"removeClass":"addClass"](t.params.navigation.lockClass)}),n("click",(A,R)=>{const{$nextEl:D,$prevEl:L}=t.navigation,I=R.target;if(t.params.navigation.hideOnClick&&!Te(I).is(L)&&!Te(I).is(D)){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===I||t.pagination.el.contains(I)))return;let M;D?M=D.hasClass(t.params.navigation.hiddenClass):L&&(M=L.hasClass(t.params.navigation.hiddenClass)),r(M===!0?"navigationShow":"navigationHide"),D&&D.toggleClass(t.params.navigation.hiddenClass),L&&L.toggleClass(t.params.navigation.hiddenClass)}});const N=()=>{t.$el.removeClass(t.params.navigation.navigationDisabledClass),v(),l()},C=()=>{t.$el.addClass(t.params.navigation.navigationDisabledClass),S()};Object.assign(t.navigation,{enable:N,disable:C,update:l,init:v,destroy:S})}function ss(t=""){return`.${t.trim().replace(/([\.:!\/])/g,"\\$1").replace(/ /g,".")}`}function NE({swiper:t,extendParams:e,on:n,emit:r}){const i="swiper-pagination";e({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:D=>D,formatFractionTotal:D=>D,bulletClass:`${i}-bullet`,bulletActiveClass:`${i}-bullet-active`,modifierClass:`${i}-`,currentClass:`${i}-current`,totalClass:`${i}-total`,hiddenClass:`${i}-hidden`,progressbarFillClass:`${i}-progressbar-fill`,progressbarOppositeClass:`${i}-progressbar-opposite`,clickableClass:`${i}-clickable`,lockClass:`${i}-lock`,horizontalClass:`${i}-horizontal`,verticalClass:`${i}-vertical`,paginationDisabledClass:`${i}-disabled`}}),t.pagination={el:null,$el:null,bullets:[]};let a,l=0;function h(){return!t.params.pagination.el||!t.pagination.el||!t.pagination.$el||t.pagination.$el.length===0}function p(D,L){const{bulletActiveClass:I}=t.params.pagination;D[L]().addClass(`${I}-${L}`)[L]().addClass(`${I}-${L}-${L}`)}function v(){const D=t.rtl,L=t.params.pagination;if(h())return;const I=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,M=t.pagination.$el;let F;const z=t.params.loop?Math.ceil((I-t.loopedSlides*2)/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?(F=Math.ceil((t.activeIndex-t.loopedSlides)/t.params.slidesPerGroup),F>I-1-t.loopedSlides*2&&(F-=I-t.loopedSlides*2),F>z-1&&(F-=z),F<0&&t.params.paginationType!=="bullets"&&(F=z+F)):typeof t.snapIndex<"u"?F=t.snapIndex:F=t.activeIndex||0,L.type==="bullets"&&t.pagination.bullets&&t.pagination.bullets.length>0){const j=t.pagination.bullets;let W,H,B;if(L.dynamicBullets&&(a=j.eq(0)[t.isHorizontal()?"outerWidth":"outerHeight"](!0),M.css(t.isHorizontal()?"width":"height",`${a*(L.dynamicMainBullets+4)}px`),L.dynamicMainBullets>1&&t.previousIndex!==void 0&&(l+=F-(t.previousIndex-t.loopedSlides||0),l>L.dynamicMainBullets-1?l=L.dynamicMainBullets-1:l<0&&(l=0)),W=Math.max(F-l,0),H=W+(Math.min(j.length,L.dynamicMainBullets)-1),B=(H+W)/2),j.removeClass(["","-next","-next-next","-prev","-prev-prev","-main"].map(K=>`${L.bulletActiveClass}${K}`).join(" ")),M.length>1)j.each(K=>{const Y=Te(K),te=Y.index();te===F&&Y.addClass(L.bulletActiveClass),L.dynamicBullets&&(te>=W&&te<=H&&Y.addClass(`${L.bulletActiveClass}-main`),te===W&&p(Y,"prev"),te===H&&p(Y,"next"))});else{const K=j.eq(F),Y=K.index();if(K.addClass(L.bulletActiveClass),L.dynamicBullets){const te=j.eq(W),Z=j.eq(H);for(let ue=W;ue<=H;ue+=1)j.eq(ue).addClass(`${L.bulletActiveClass}-main`);if(t.params.loop)if(Y>=j.length){for(let ue=L.dynamicMainBullets;ue>=0;ue-=1)j.eq(j.length-ue).addClass(`${L.bulletActiveClass}-main`);j.eq(j.length-L.dynamicMainBullets-1).addClass(`${L.bulletActiveClass}-prev`)}else p(te,"prev"),p(Z,"next");else p(te,"prev"),p(Z,"next")}}if(L.dynamicBullets){const K=Math.min(j.length,L.dynamicMainBullets+4),Y=(a*K-a)/2-B*a,te=D?"right":"left";j.css(t.isHorizontal()?te:"top",`${Y}px`)}}if(L.type==="fraction"&&(M.find(ss(L.currentClass)).text(L.formatFractionCurrent(F+1)),M.find(ss(L.totalClass)).text(L.formatFractionTotal(z))),L.type==="progressbar"){let j;L.progressbarOpposite?j=t.isHorizontal()?"vertical":"horizontal":j=t.isHorizontal()?"horizontal":"vertical";const W=(F+1)/z;let H=1,B=1;j==="horizontal"?H=W:B=W,M.find(ss(L.progressbarFillClass)).transform(`translate3d(0,0,0) scaleX(${H}) scaleY(${B})`).transition(t.params.speed)}L.type==="custom"&&L.renderCustom?(M.html(L.renderCustom(t,F+1,z)),r("paginationRender",M[0])):r("paginationUpdate",M[0]),t.params.watchOverflow&&t.enabled&&M[t.isLocked?"addClass":"removeClass"](L.lockClass)}function S(){const D=t.params.pagination;if(h())return;const L=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,I=t.pagination.$el;let M="";if(D.type==="bullets"){let F=t.params.loop?Math.ceil((L-t.loopedSlides*2)/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&!t.params.loop&&F>L&&(F=L);for(let z=0;z<F;z+=1)D.renderBullet?M+=D.renderBullet.call(t,z,D.bulletClass):M+=`<${D.bulletElement} class="${D.bulletClass}"></${D.bulletElement}>`;I.html(M),t.pagination.bullets=I.find(ss(D.bulletClass))}D.type==="fraction"&&(D.renderFraction?M=D.renderFraction.call(t,D.currentClass,D.totalClass):M=`<span class="${D.currentClass}"></span> / <span class="${D.totalClass}"></span>`,I.html(M)),D.type==="progressbar"&&(D.renderProgressbar?M=D.renderProgressbar.call(t,D.progressbarFillClass):M=`<span class="${D.progressbarFillClass}"></span>`,I.html(M)),D.type!=="custom"&&r("paginationRender",t.pagination.$el[0])}function N(){t.params.pagination=CE(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});const D=t.params.pagination;if(!D.el)return;let L=Te(D.el);L.length!==0&&(t.params.uniqueNavElements&&typeof D.el=="string"&&L.length>1&&(L=t.$el.find(D.el),L.length>1&&(L=L.filter(I=>Te(I).parents(".swiper")[0]===t.el))),D.type==="bullets"&&D.clickable&&L.addClass(D.clickableClass),L.addClass(D.modifierClass+D.type),L.addClass(t.isHorizontal()?D.horizontalClass:D.verticalClass),D.type==="bullets"&&D.dynamicBullets&&(L.addClass(`${D.modifierClass}${D.type}-dynamic`),l=0,D.dynamicMainBullets<1&&(D.dynamicMainBullets=1)),D.type==="progressbar"&&D.progressbarOpposite&&L.addClass(D.progressbarOppositeClass),D.clickable&&L.on("click",ss(D.bulletClass),function(M){M.preventDefault();let F=Te(this).index()*t.params.slidesPerGroup;t.params.loop&&(F+=t.loopedSlides),t.slideTo(F)}),Object.assign(t.pagination,{$el:L,el:L[0]}),t.enabled||L.addClass(D.lockClass))}function C(){const D=t.params.pagination;if(h())return;const L=t.pagination.$el;L.removeClass(D.hiddenClass),L.removeClass(D.modifierClass+D.type),L.removeClass(t.isHorizontal()?D.horizontalClass:D.verticalClass),t.pagination.bullets&&t.pagination.bullets.removeClass&&t.pagination.bullets.removeClass(D.bulletActiveClass),D.clickable&&L.off("click",ss(D.bulletClass))}n("init",()=>{t.params.pagination.enabled===!1?R():(N(),S(),v())}),n("activeIndexChange",()=>{(t.params.loop||typeof t.snapIndex>"u")&&v()}),n("snapIndexChange",()=>{t.params.loop||v()}),n("slidesLengthChange",()=>{t.params.loop&&(S(),v())}),n("snapGridLengthChange",()=>{t.params.loop||(S(),v())}),n("destroy",()=>{C()}),n("enable disable",()=>{const{$el:D}=t.pagination;D&&D[t.enabled?"removeClass":"addClass"](t.params.pagination.lockClass)}),n("lock unlock",()=>{v()}),n("click",(D,L)=>{const I=L.target,{$el:M}=t.pagination;if(t.params.pagination.el&&t.params.pagination.hideOnClick&&M&&M.length>0&&!Te(I).hasClass(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&I===t.navigation.nextEl||t.navigation.prevEl&&I===t.navigation.prevEl))return;const F=M.hasClass(t.params.pagination.hiddenClass);r(F===!0?"paginationShow":"paginationHide"),M.toggleClass(t.params.pagination.hiddenClass)}});const A=()=>{t.$el.removeClass(t.params.pagination.paginationDisabledClass),t.pagination.$el&&t.pagination.$el.removeClass(t.params.pagination.paginationDisabledClass),N(),S(),v()},R=()=>{t.$el.addClass(t.params.pagination.paginationDisabledClass),t.pagination.$el&&t.pagination.$el.addClass(t.params.pagination.paginationDisabledClass),C()};Object.assign(t.pagination,{enable:A,disable:R,render:S,update:v,init:N,destroy:C})}function Ya(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function Ui(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:Ya(e[r])&&Ya(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:Ui(t[r],e[r]):t[r]=e[r]})}function DE(t={}){return t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function IE(t={}){return t.pagination&&typeof t.pagination.el>"u"}function AE(t={}){return t.scrollbar&&typeof t.scrollbar.el>"u"}function OE(t=""){const e=t.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return e.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}const ME=["modules","init","_direction","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_preloadImages","updateOnImagesReady","_loop","_loopAdditionalSlides","_loopedSlides","_loopedSlidesLimit","_loopFillGroupWithBlank","loopPreventsSlide","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideBlankClass","slideActiveClass","slideDuplicateActiveClass","slideVisibleClass","slideDuplicateClass","slideNextClass","slideDuplicateNextClass","slidePrevClass","slideDuplicatePrevClass","wrapperClass","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","lazy","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom"];function Q2(t={},e=!0){const n={on:{}},r={},i={};Ui(n,Dn.defaults),Ui(n,Dn.extendedDefaults),n._emitClasses=!0,n.init=!1;const a={},l=ME.map(p=>p.replace(/_/,"")),h=Object.assign({},t);return Object.keys(h).forEach(p=>{typeof t[p]>"u"||(l.indexOf(p)>=0?Ya(t[p])?(n[p]={},i[p]={},Ui(n[p],t[p]),Ui(i[p],t[p])):(n[p]=t[p],i[p]=t[p]):p.search(/on[A-Z]/)===0&&typeof t[p]=="function"?e?r[`${p[2].toLowerCase()}${p.substr(3)}`]=t[p]:n.on[`${p[2].toLowerCase()}${p.substr(3)}`]=t[p]:a[p]=t[p])}),["navigation","pagination","scrollbar"].forEach(p=>{n[p]===!0&&(n[p]={}),n[p]===!1&&delete n[p]}),{params:n,passedParams:i,rest:a,events:r}}function X2({el:t,nextEl:e,prevEl:n,paginationEl:r,scrollbarEl:i,swiper:a},l){DE(l)&&e&&n&&(a.params.navigation.nextEl=e,a.originalParams.navigation.nextEl=e,a.params.navigation.prevEl=n,a.originalParams.navigation.prevEl=n),IE(l)&&r&&(a.params.pagination.el=r,a.originalParams.pagination.el=r),AE(l)&&i&&(a.params.scrollbar.el=i,a.originalParams.scrollbar.el=i),a.init(t)}const LE=(t,e)=>{let n=e.slidesPerView;if(e.breakpoints){const i=Dn.prototype.getBreakpoint(e.breakpoints),a=i in e.breakpoints?e.breakpoints[i]:void 0;a&&a.slidesPerView&&(n=a.slidesPerView)}let r=Math.ceil(parseFloat(e.loopedSlides||n,10));return r+=e.loopAdditionalSlides,r>t.length&&e.loopedSlidesLimit&&(r=t.length),r};function Z2(t,e,n){const r=e.map((p,v)=>La.cloneElement(p,{swiper:t,"data-swiper-slide-index":v}));function i(p,v,S){return La.cloneElement(p,{key:`${p.key}-duplicate-${v}-${S}`,className:`${p.props.className||""} ${n.slideDuplicateClass}`})}if(n.loopFillGroupWithBlank){const p=n.slidesPerGroup-r.length%n.slidesPerGroup;if(p!==n.slidesPerGroup)for(let v=0;v<p;v+=1){const S=P("div",{className:`${n.slideClass} ${n.slideBlankClass}`});r.push(S)}}n.slidesPerView==="auto"&&!n.loopedSlides&&(n.loopedSlides=r.length);const a=LE(r,n),l=[],h=[];for(let p=0;p<a;p+=1){const v=p-Math.floor(p/r.length)*r.length;h.push(i(r[v],p,"append")),l.unshift(i(r[r.length-v-1],p,"prepend"))}return t&&(t.loopedSlides=a),[...l,...r,...h]}function eF(t,e,n,r,i){const a=[];if(!e)return a;const l=p=>{a.indexOf(p)<0&&a.push(p)};if(n&&r){const p=r.map(i),v=n.map(i);p.join("")!==v.join("")&&l("children"),r.length!==n.length&&l("children")}return ME.filter(p=>p[0]==="_").map(p=>p.replace(/_/,"")).forEach(p=>{if(p in t&&p in e)if(Ya(t[p])&&Ya(e[p])){const v=Object.keys(t[p]),S=Object.keys(e[p]);v.length!==S.length?l(p):(v.forEach(N=>{t[p][N]!==e[p][N]&&l(p)}),S.forEach(N=>{t[p][N]!==e[p][N]&&l(p)}))}else t[p]!==e[p]&&l(p)}),a}function PE(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function RE(t){const e=[];return La.Children.toArray(t).forEach(n=>{PE(n)?e.push(n):n.props&&n.props.children&&RE(n.props.children).forEach(r=>e.push(r))}),e}function tF(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return La.Children.toArray(t).forEach(r=>{if(PE(r))e.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const i=RE(r.props.children);i.length>0?i.forEach(a=>e.push(a)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:e,slots:n}}function nF({swiper:t,slides:e,passedParams:n,changedParams:r,nextEl:i,prevEl:a,scrollbarEl:l,paginationEl:h}){const p=r.filter(j=>j!=="children"&&j!=="direction"),{params:v,pagination:S,navigation:N,scrollbar:C,virtual:A,thumbs:R}=t;let D,L,I,M,F;r.includes("thumbs")&&n.thumbs&&n.thumbs.swiper&&v.thumbs&&!v.thumbs.swiper&&(D=!0),r.includes("controller")&&n.controller&&n.controller.control&&v.controller&&!v.controller.control&&(L=!0),r.includes("pagination")&&n.pagination&&(n.pagination.el||h)&&(v.pagination||v.pagination===!1)&&S&&!S.el&&(I=!0),r.includes("scrollbar")&&n.scrollbar&&(n.scrollbar.el||l)&&(v.scrollbar||v.scrollbar===!1)&&C&&!C.el&&(M=!0),r.includes("navigation")&&n.navigation&&(n.navigation.prevEl||a)&&(n.navigation.nextEl||i)&&(v.navigation||v.navigation===!1)&&N&&!N.prevEl&&!N.nextEl&&(F=!0);const z=j=>{!t[j]||(t[j].destroy(),j==="navigation"?(v[j].prevEl=void 0,v[j].nextEl=void 0,t[j].prevEl=void 0,t[j].nextEl=void 0):(v[j].el=void 0,t[j].el=void 0))};p.forEach(j=>{if(Ya(v[j])&&Ya(n[j]))Ui(v[j],n[j]);else{const W=n[j];(W===!0||W===!1)&&(j==="navigation"||j==="pagination"||j==="scrollbar")?W===!1&&z(j):v[j]=n[j]}}),p.includes("controller")&&!L&&t.controller&&t.controller.control&&v.controller&&v.controller.control&&(t.controller.control=v.controller.control),r.includes("children")&&e&&A&&v.virtual.enabled?(A.slides=e,A.update(!0)):r.includes("children")&&t.lazy&&t.params.lazy.enabled&&t.lazy.load(),D&&R.init()&&R.update(!0),L&&(t.controller.control=v.controller.control),I&&(h&&(v.pagination.el=h),S.init(),S.render(),S.update()),M&&(l&&(v.scrollbar.el=l),C.init(),C.updateSize(),C.setTranslate()),F&&(i&&(v.navigation.nextEl=i),a&&(v.navigation.prevEl=a),N.init(),N.update()),r.includes("allowSlideNext")&&(t.allowSlideNext=n.allowSlideNext),r.includes("allowSlidePrev")&&(t.allowSlidePrev=n.allowSlidePrev),r.includes("direction")&&t.changeDirection(n.direction,!1),t.update()}function rF(t,e,n){if(!n)return null;const r=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`};return e.filter((i,a)=>a>=n.from&&a<=n.to).map(i=>La.cloneElement(i,{swiper:t,style:r}))}const iF=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.lazy&&t.params.lazy.enabled&&t.lazy.load(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function al(t,e){return typeof window>"u"?oe.exports.useEffect(t,e):oe.exports.useLayoutEffect(t,e)}const aF=oe.exports.createContext(null),sF=oe.exports.createContext(null),Ng=oe.exports.forwardRef(function(t,e){let{className:n,tag:r="div",wrapperTag:i="div",children:a,onSwiper:l,...h}=t===void 0?{}:t,p=!1;const[v,S]=oe.exports.useState("swiper"),[N,C]=oe.exports.useState(null),[A,R]=oe.exports.useState(!1),D=oe.exports.useRef(!1),L=oe.exports.useRef(null),I=oe.exports.useRef(null),M=oe.exports.useRef(null),F=oe.exports.useRef(null),z=oe.exports.useRef(null),j=oe.exports.useRef(null),W=oe.exports.useRef(null),H=oe.exports.useRef(null),{params:B,passedParams:K,rest:Y,events:te}=Q2(h),{slides:Z,slots:ue}=tF(a),xe=()=>{R(!A)};Object.assign(B.on,{_containerClasses(ve,Ne){S(Ne)}});const je=()=>{if(Object.assign(B.on,te),p=!0,I.current=new Dn(B),I.current.loopCreate=()=>{},I.current.loopDestroy=()=>{},B.loop&&(I.current.loopedSlides=LE(Z,B)),I.current.virtual&&I.current.params.virtual.enabled){I.current.virtual.slides=Z;const ve={cache:!1,slides:Z,renderExternal:C,renderExternalUpdate:!1};Ui(I.current.params.virtual,ve),Ui(I.current.originalParams.virtual,ve)}};L.current||je(),I.current&&I.current.on("_beforeBreakpoint",xe);const ke=()=>{p||!te||!I.current||Object.keys(te).forEach(ve=>{I.current.on(ve,te[ve])})},rt=()=>{!te||!I.current||Object.keys(te).forEach(ve=>{I.current.off(ve,te[ve])})};oe.exports.useEffect(()=>()=>{I.current&&I.current.off("_beforeBreakpoint",xe)}),oe.exports.useEffect(()=>{!D.current&&I.current&&(I.current.emitSlidesClasses(),D.current=!0)}),al(()=>{if(e&&(e.current=L.current),!!L.current)return I.current.destroyed&&je(),X2({el:L.current,nextEl:z.current,prevEl:j.current,paginationEl:W.current,scrollbarEl:H.current,swiper:I.current},B),l&&l(I.current),()=>{I.current&&!I.current.destroyed&&I.current.destroy(!0,!1)}},[]),al(()=>{ke();const ve=eF(K,M.current,Z,F.current,Ne=>Ne.key);return M.current=K,F.current=Z,ve.length&&I.current&&!I.current.destroyed&&nF({swiper:I.current,slides:Z,passedParams:K,changedParams:ve,nextEl:z.current,prevEl:j.current,scrollbarEl:H.current,paginationEl:W.current}),()=>{rt()}}),al(()=>{iF(I.current)},[N]);function fe(){return B.virtual?rF(I.current,Z,N):!B.loop||I.current&&I.current.destroyed?Z.map(ve=>La.cloneElement(ve,{swiper:I.current})):Z2(I.current,Z,B)}return P(r,{ref:L,className:OE(`${v}${n?` ${n}`:""}`),...Y,children:ie(sF.Provider,{value:I.current,children:[ue["container-start"],ie(i,{className:"swiper-wrapper",children:[ue["wrapper-start"],fe(),ue["wrapper-end"]]}),DE(B)&&ie(jn,{children:[P("div",{ref:j,className:"swiper-button-prev"}),P("div",{ref:z,className:"swiper-button-next"})]}),AE(B)&&P("div",{ref:H,className:"swiper-scrollbar"}),IE(B)&&P("div",{ref:W,className:"swiper-pagination"}),ue["container-end"]]})})});Ng.displayName="Swiper";const Dg=oe.exports.forwardRef(function(t,e){let{tag:n="div",children:r,className:i="",swiper:a,zoom:l,virtualIndex:h,...p}=t===void 0?{}:t;const v=oe.exports.useRef(null),[S,N]=oe.exports.useState("swiper-slide");function C(D,L,I){L===v.current&&N(I)}al(()=>{if(e&&(e.current=v.current),!(!v.current||!a)){if(a.destroyed){S!=="swiper-slide"&&N("swiper-slide");return}return a.on("_slideClass",C),()=>{!a||a.off("_slideClass",C)}}}),al(()=>{a&&v.current&&!a.destroyed&&N(a.getSlideClasses(v.current))},[a]);const A={isActive:S.indexOf("swiper-slide-active")>=0||S.indexOf("swiper-slide-duplicate-active")>=0,isVisible:S.indexOf("swiper-slide-visible")>=0,isDuplicate:S.indexOf("swiper-slide-duplicate")>=0,isPrev:S.indexOf("swiper-slide-prev")>=0||S.indexOf("swiper-slide-duplicate-prev")>=0,isNext:S.indexOf("swiper-slide-next")>=0||S.indexOf("swiper-slide-duplicate-next")>=0},R=()=>typeof r=="function"?r(A):r;return P(n,{ref:v,className:OE(`${S}${i?` ${i}`:""}`),"data-swiper-slide-index":h,...p,children:P(aF.Provider,{value:A,children:l?P("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof l=="number"?l:void 0,children:R()}):R()})})});Dg.displayName="SwiperSlide";const oF=()=>ie("div",{children:[P("div",{className:"homeSection__Title",children:P("h2",{children:"Cualidades"})}),P(jn,{children:P(Ng,{slidesPerView:1,spaceBetween:30,slidesPerGroup:1,loop:!0,loopFillGroupWithBlank:!0,pagination:{clickable:!0},navigation:!0,modules:[NE,TE],className:"mySwiper",breakpoints:{780:{slidesPerView:2},1198:{slidesPerView:3}},children:KR.map((t,e)=>P(Dg,{children:ie("div",{className:"qualityCard-container",children:[P("img",{src:t.icon,alt:"icon",className:"qualityCard_icon"}),ie("div",{className:"qualityCard_description",children:[P("p",{className:"qualityCard_title",children:t.title}),P("p",{className:"qualityCard_text",children:t.text})]})]})},e))})})]}),lF=[{question:"\xBFQu\xE9 es Navis?",answer:"La \xFAnica academia de ingl\xE9s online que se enfoca en tus necesidades."},{question:"\xBFEn qu\xE9 horario puedo estudiar?",answer:"Tu tiempo es tuyo, tu coordinas con tu profesor cuando deseas ver tus clases."},{question:"\xBFPuedo elegir o cambiar el profesor?",answer:"S\xED, siempre podr\xE1s escoger un profesor que se adapte a ti."},{question:"\xBFQu\xE9 se requiere para estudiar?",answer:"Lo \xFAnico que necesitas es un ordenador o tel\xE9fono inteligente con conexi\xF3n a Internet estable, micr\xF3fono y c\xE1mara."},{question:"En caso de no poder asistir a una clase, \xBFqu\xE9 debo hacer?",answer:"4 horas antes tienes la opci\xF3n de reprogramar la clase."},{question:"\xBFCu\xE1nto dura la clase?",answer:"Dependiendo del paquete adquirido las clases pueden durar entre 30 o 50 minutos. "},{question:"\xBFCu\xE1les son los medios de pago?",answer:"Puedes pagar con tarjeta de cr\xE9dito o d\xE9bito a trav\xE9s de PayPal. El pago se realizar\xE1 en la moneda local del pa\xEDs en el que est\xE9s."}];const cF=()=>ie("div",{children:[P("div",{className:"homeSection__Title",children:P("h2",{children:"Cualidades"})}),P(jn,{children:P(Ng,{slidesPerView:1,spaceBetween:50,slidesPerGroup:1,loop:!0,loopFillGroupWithBlank:!0,pagination:{clickable:!0},navigation:!0,modules:[NE,TE],className:"mySwiper",breakpoints:{780:{slidesPerView:2},1198:{slidesPerView:3}},children:lF.map((t,e)=>P(Dg,{children:P("div",{className:"questionsCard-container",children:ie("div",{className:"questionCard_content",children:[P("p",{className:"questionCard_question",children:t.question}),P("p",{className:"questionCard_answer",children:t.answer})]})})},e))})})]}),uF=[{number:"1",USD:"9.55",EUR:"00.00",amount:"60",duration:"50"},{number:"2",USD:"10.99",EUR:"00.00",amount:"30",duration:"50"},{number:"3",USD:"13.55",EUR:"00.00",amount:"20",duration:"50"},{number:"4",USD:"16.99",EUR:"00.00",amount:"10",duration:"50"},{number:"5",USD:"22.99",EUR:"00.00",amount:"5",duration:"50"}],dF=[{number:"1",USD:"6.55",EUR:"00.00",amount:"60",duration:"30"},{number:"2",USD:"7.99",EUR:"00.00",amount:"30",duration:"30"},{number:"3",USD:"9.55",EUR:"00.00",amount:"20",duration:"30"},{number:"4",USD:"12.55",EUR:"00.00",amount:"10",duration:"30"},{number:"5",USD:"16.99",EUR:"00.00",amount:"5",duration:"30"}],hF={"client-id":{BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0}.PAYPAL_CLIENT_ID,currency:"USD",intent:"capture","data-client-token":"abc123xyz==",components:"buttons"};/*!
 * react-paypal-js v7.8.1 (2022-05-27T22:10:01.444Z)
 * Copyright 2020-present, PayPal, Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * https://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hn;(function(t){t.INITIAL="initial",t.PENDING="pending",t.REJECTED="rejected",t.RESOLVED="resolved"})(Hn||(Hn={}));var Zi;(function(t){t.LOADING_STATUS="setLoadingStatus",t.RESET_OPTIONS="resetOptions",t.SET_BRAINTREE_INSTANCE="braintreeInstance"})(Zi||(Zi={}));var I0;(function(t){t.NUMBER="number",t.CVV="cvv",t.EXPIRATION_DATE="expirationDate",t.EXPIRATION_MONTH="expirationMonth",t.EXPIRATION_YEAR="expirationYear",t.POSTAL_CODE="postalCode"})(I0||(I0={}));var sl="data-react-paypal-script-id",Ys={DATA_CLIENT_TOKEN:"data-client-token",DATA_USER_ID_TOKEN:"data-user-id-token",DATA_SDK_INTEGRATION_SOURCE:"data-sdk-integration-source",DATA_SDK_INTEGRATION_SOURCE_VALUE:"react-paypal-js",DATA_NAMESPACE:"data-namespace"},fF="Failed to load the PayPal JS SDK script.",$E="paypal",_F="usePayPalScriptReducer must be used within a PayPalScriptProvider",Zt=function(){return Zt=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Zt.apply(this,arguments)};function pF(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function A0(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,a;r<i;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}function mF(t){return t===void 0&&(t=$E),window[t]}function gF(t){for(var e="",n=0;n<t.length;n++){var r=t[n].charCodeAt(0)*n;t[n+1]&&(r+=t[n+1].charCodeAt(0)*(n-1)),e+=String.fromCharCode(97+Math.abs(r)%26)}return e}function vF(t){var e=t.reactComponentName,n=t.sdkComponentKey,r=t.sdkRequestedComponents,i=r===void 0?"":r,a=t.sdkDataNamespace,l=a===void 0?$E:a,h=n.charAt(0).toUpperCase().concat(n.substring(1)),p="Unable to render <".concat(e," /> because window.").concat(l,".").concat(h," is undefined.");if(!i.includes(n)){var v=[i,n].filter(Boolean).join();p+=`
To fix the issue, add '`.concat(n,"' to the list of components passed to the parent PayPalScriptProvider:")+"\n`<PayPalScriptProvider options={{ components: '".concat(v,"'}}>`.")}return p}function FE(t){return"react-paypal-js-".concat(gF(JSON.stringify(t)))}function yF(t){var e=self.document.querySelector("script[".concat(sl,'="').concat(t,'"]'));e!=null&&e.parentNode&&e.parentNode.removeChild(e)}function bF(t,e){var n;switch(e.type){case Zi.LOADING_STATUS:return Zt(Zt({},t),{loadingStatus:e.value});case Zi.RESET_OPTIONS:return yF(t.options[sl]),delete e.value[sl],Zt(Zt({},t),{loadingStatus:Hn.PENDING,options:Zt(Zt({},e.value),(n={},n[sl]="".concat(FE(e.value)),n[Ys.DATA_SDK_INTEGRATION_SOURCE]=Ys.DATA_SDK_INTEGRATION_SOURCE_VALUE,n))});case Zi.SET_BRAINTREE_INSTANCE:return Zt(Zt({},t),{braintreePayPalCheckoutInstance:e.value});default:return t}}var UE=oe.exports.createContext(null);function wF(t){if(typeof(t==null?void 0:t.dispatch)=="function"&&t.dispatch.length!==0)return t;throw new Error(_F)}function xF(){var t=wF(oe.exports.useContext(UE)),e=Zt(Zt({},t),{isInitial:t.loadingStatus===Hn.INITIAL,isPending:t.loadingStatus===Hn.PENDING,isResolved:t.loadingStatus===Hn.RESOLVED,isRejected:t.loadingStatus===Hn.REJECTED});return[e,t.dispatch]}oe.exports.createContext({});var Ig=function(t){var e=t.className,n=e===void 0?"":e,r=t.disabled,i=r===void 0?!1:r,a=t.children,l=t.forceReRender,h=l===void 0?[]:l,p=pF(t,["className","disabled","children","forceReRender"]),v=i?{opacity:.38}:{},S="".concat(n," ").concat(i?"paypal-buttons-disabled":"").trim(),N=oe.exports.useRef(null),C=oe.exports.useRef(null),A=xF()[0],R=A.isResolved,D=A.options,L=oe.exports.useState(null),I=L[0],M=L[1],F=oe.exports.useState(!0),z=F[0],j=F[1],W=oe.exports.useState(null),H=W[1];function B(){C.current!==null&&C.current.close().catch(function(){})}return oe.exports.useEffect(function(){if(R===!1)return B;var K=mF(D[Ys.DATA_NAMESPACE]);if(K===void 0||K.Buttons===void 0)return H(function(){throw new Error(vF({reactComponentName:Ig.displayName,sdkComponentKey:"buttons",sdkRequestedComponents:D.components,sdkDataNamespace:D[Ys.DATA_NAMESPACE]}))}),B;var Y=function(te,Z){M(Z),typeof p.onInit=="function"&&p.onInit(te,Z)};try{C.current=K.Buttons(Zt(Zt({},p),{onInit:Y}))}catch(te){return H(function(){throw new Error("Failed to render <PayPalButtons /> component. Failed to initialize:  ".concat(te))})}return C.current.isEligible()===!1?(j(!1),B):(N.current&&C.current.render(N.current).catch(function(te){N.current===null||N.current.children.length===0||H(function(){throw new Error("Failed to render <PayPalButtons /> component. ".concat(te))})}),B)},A0(A0([R],h,!0),[p.fundingSource],!1)),oe.exports.useEffect(function(){I!==null&&(i===!0?I.disable().catch(function(){}):I.enable().catch(function(){}))},[i,I]),P(jn,{children:z?P("div",{ref:N,style:v,className:S}):a})};Ig.displayName="PayPalButtons";function kF(t,e){var n=document.querySelector('script[src="'.concat(t,'"]'));if(n===null)return null;var r=jE(t,e),i=n.cloneNode();if(delete i.dataset.uidAuto,Object.keys(i.dataset).length!==Object.keys(r.dataset).length)return null;var a=!0;return Object.keys(i.dataset).forEach(function(l){i.dataset[l]!==r.dataset[l]&&(a=!1)}),a?n:null}function EF(t){var e=t.url,n=t.attributes,r=t.onSuccess,i=t.onError,a=jE(e,n);a.onerror=i,a.onload=r,document.head.insertBefore(a,document.head.firstElementChild)}function SF(t){var e="https://www.paypal.com/sdk/js";t.sdkBaseURL&&(e=t.sdkBaseURL,delete t.sdkBaseURL),NF(t);var n=Object.keys(t).filter(function(a){return typeof t[a]<"u"&&t[a]!==null&&t[a]!==""}).reduce(function(a,l){var h=t[l].toString();return l.substring(0,5)==="data-"?a.dataAttributes[l]=h:a.queryParams[l]=h,a},{queryParams:{},dataAttributes:{}}),r=n.queryParams,i=n.dataAttributes;return{url:"".concat(e,"?").concat(CF(r)),dataAttributes:i}}function CF(t){var e="";return Object.keys(t).forEach(function(n){e.length!==0&&(e+="&"),e+=n+"="+t[n]}),e}function TF(t){var e=t.split("/* Original Error:")[1];return e?e.replace(/\n/g,"").replace("*/","").trim():t}function jE(t,e){e===void 0&&(e={});var n=document.createElement("script");return n.src=t,Object.keys(e).forEach(function(r){n.setAttribute(r,e[r]),r==="data-csp-nonce"&&n.setAttribute("nonce",e["data-csp-nonce"])}),n}function NF(t){var e=t["merchant-id"],n=t["data-merchant-id"],r="",i="";return Array.isArray(e)?e.length>1?(r="*",i=e.toString()):r=e.toString():typeof e=="string"&&e.length>0?r=e:typeof n=="string"&&n.length>0&&(r="*",i=n),t["merchant-id"]=r,t["data-merchant-id"]=i,t}function DF(t,e){if(e===void 0&&(e=zE()),VE(t,e),typeof window>"u")return e.resolve(null);var n=SF(t),r=n.url,i=n.dataAttributes,a=i["data-namespace"]||"paypal",l=O0(a);return kF(r,i)&&l?e.resolve(l):IF({url:r,attributes:i},e).then(function(){var h=O0(a);if(h)return h;throw new Error("The window.".concat(a," global variable is not available."))})}function IF(t,e){e===void 0&&(e=zE()),VE(t,e);var n=t.url,r=t.attributes;if(typeof n!="string"||n.length===0)throw new Error("Invalid url.");if(typeof r<"u"&&typeof r!="object")throw new Error("Expected attributes to be an object.");return new e(function(i,a){if(typeof window>"u")return i();EF({url:n,attributes:r,onSuccess:function(){return i()},onError:function(){var l=new Error('The script "'.concat(n,'" failed to load.'));return window.fetch?fetch(n).then(function(h){return h.status===200&&a(l),h.text()}).then(function(h){var p=TF(h);a(new Error(p))}).catch(function(h){a(h)}):a(l)}})})}function zE(){if(typeof Promise>"u")throw new Error("Promise is undefined. To resolve the issue, use a Promise polyfill.");return Promise}function O0(t){return window[t]}function VE(t,e){if(typeof t!="object"||t===null)throw new Error("Expected an options object.");if(typeof e<"u"&&typeof e!="function")throw new Error("Expected PromisePonyfill to be a function.")}var AF=function(t){var e,n=t.options,r=n===void 0?{"client-id":"test"}:n,i=t.children,a=t.deferLoading,l=a===void 0?!1:a,h=oe.exports.useReducer(bF,{options:Zt(Zt({},r),(e={},e[sl]="".concat(FE(r)),e[Ys.DATA_SDK_INTEGRATION_SOURCE]=Ys.DATA_SDK_INTEGRATION_SOURCE_VALUE,e)),loadingStatus:l?Hn.INITIAL:Hn.PENDING}),p=h[0],v=h[1];return oe.exports.useEffect(function(){if(l===!1&&p.loadingStatus===Hn.INITIAL)return v({type:Zi.LOADING_STATUS,value:Hn.PENDING});if(p.loadingStatus===Hn.PENDING){var S=!0;return DF(p.options).then(function(){S&&v({type:Zi.LOADING_STATUS,value:Hn.RESOLVED})}).catch(function(N){console.error("".concat(fF," ").concat(N)),S&&v({type:Zi.LOADING_STATUS,value:Hn.REJECTED})}),function(){S=!1}}},[p.options,l,p.loadingStatus]),P(UE.Provider,{value:Zt(Zt({},p),{dispatch:v}),children:i})};const OF=({totalValue:t,cantidad:e})=>{const{userLogged:n}=wr(),r=Eh(),i={textNotification:"Felicitaciones, adquiriste nuevas clases",notificationType:"Compra",checked:!1},a=async()=>{try{const h=mn(),p=Lt(h,`Users/${n.uid}`);await zr(p,{remainingClases:Bl(e),newNotifications:!0,notifications:Bl(1)});const v=Ed(br(h,`Users/${n.uid}/myNotifications`));kh(v,{...i,cantidad:e,timeStamp:r}).then(({id:S})=>{const N=Lt(h,`AdminNotifications/${S}`);Xi(N,{notificationType,cantidad:e})})}catch(h){swal("UPS!",`${h.message}`,"error")}},l=t;return P(AF,{options:hF,children:P(Ig,{createOrder:(h,p)=>p.order.create({purchase_units:[{amount:{value:l}}]}),onApprove:async(h,p)=>{const v=await p.order.capture();console.log(v);let S=v;S?(a(),S=!1):console.log("pago not apprub")}})})};function HE({totalValue:t,cantidad:e}){return console.log("checkout enter : ",t,e),ie("div",{className:"payment-container",children:[ie("span",{className:"amount",children:["$",t]}),P(OF,{totalValue:t,cantidad:e,className:"payment"})]})}const Sd=({duration:t,msg:e})=>{const[n,r]=oe.exports.useState(!1),{userLogged:i}=wr(),a=Un(),[l,h]=oe.exports.useState(),[p,v]=oe.exports.useState(),[S,N]=oe.exports.useState("USD");let C=[];switch(t){case 30:C=dF;break;case 50:C=uF;break}const A=R=>{N(R)};return n?P(HE,{totalValue:l,cantidad:p}):ie("div",{className:"buy-container",children:[P("h3",{children:e}),P("div",{className:"buy-card-container",children:C.map((R,D)=>ie("div",{className:"buy-card",children:[P("li",{children:ie("ul",{children:[ie("li",{className:"pack-number",children:["Navis ",R.number," "]}),ie("li",{className:"amount",children:[" ",R.amount," ",P("span",{className:"clases-thin",children:"Clases"})," "]}),ie("li",{className:"duration",children:[" ",R.duration," min/Class "]}),P("li",{className:"libros",children:"Libros interactivos "}),ie("li",{className:"price",children:["$ ",R[S]," ",S," por clase "]}),ie("div",{children:[ie("div",{children:[P("label",{children:"Moneda: "}),ie("select",{value:S,onChange:L=>A(L.target.value),children:[P("option",{value:"USD",children:"$"}),P("option",{value:"EUR",children:"\u20AC"})]})]}),P("button",{className:"button__Card",onClick:L=>{if(!i)a("./signIn");else{let I=parseFloat(R[S]),M=parseInt(R.amount),z=(M*I).toFixed(2).toString();v(M),h(z),r(!n)}},children:"Comprar"})]})]})}),P("div",{className:"cohete"})]},D))})]})};const MF=()=>{const{user:t}=Tn(),e=t.form,[n,r]=oe.exports.useState(50),i=a=>{r(parseInt(a))};return ie("div",{children:[P("div",{className:"homeSection__Title",children:P("h2",{children:" Paquetes"})}),e?()=>{preventDefault(),r(e.durationClass)}:ie("div",{className:"duracionClase-container",children:[P("label",{className:"duracionClase_title",children:"Duracion de la clase: "}),ie("select",{value:n,onChange:a=>i(a.target.value),children:[P("option",{value:"30",children:"30 Min"}),P("option",{value:"50",children:"50 Min"})]})]}),P(Sd,{duration:n,msg:""})]})};const LF=()=>ie(jn,{children:[P(LR,{}),P(oF,{}),P(HR,{}),P(MF,{}),P(cF,{}),P(qR,{})]});const PF="/assets/facebook.83af00d0.svg",RF="/assets/instagram.e0a2630a.svg",$F="/assets/whatsapp.2e82302a.svg",FF=()=>P(jn,{children:P("section",{className:"footer_Content",children:ie("div",{className:"footer__Container",children:[P(Ft,{className:"logoFooter",to:"/home",children:P("img",{src:yE,alt:""})}),P("div",{children:ie("div",{className:"redes__Footer",children:[P(Ft,{to:"",children:P("img",{src:PF,alt:""})}),P(Ft,{to:"/#",children:P("img",{src:RF,alt:""})}),P(Ft,{to:"/#",children:P("img",{src:$F,alt:""})})]})})]})})}),BE="/assets/cohete.30df8fe9.svg";const ns=()=>ie("div",{className:"loaderContainer",children:[P("span",{className:"loader"}),P("h5",{children:"LOADING..."})]});const UF=()=>{const t=Un(),{user:e,signIn:n}=wr(),[r,i]=oe.exports.useState(""),[a,l]=oe.exports.useState(""),[h,p]=oe.exports.useState(""),[v,S]=oe.exports.useState(!1),N=async C=>{C.preventDefault(),p(""),S(!0);try{await n(r,a),swal("Bienvenido",`sesion iniciada como ${r}`,"success"),t("/Panel")}catch(A){p(A.message),console.log(A.message),swal("UPS!",`${A.message}`,"error"),S(!1)}};return v?P(ns,{}):P(jn,{children:P("div",{className:"signIn__main-container",children:ie("div",{className:"signIn__container",children:[ie("div",{children:[ie("div",{className:"signIn__tittleColumn",children:[ie("p",{className:"signIn-logo",children:[P("img",{className:"cohete-navis",src:BE,alt:"cohete.svg"}),P("i",{className:"fa-solid fa-user"})]}),P("p",{className:"signIn-tittle",children:"Login"})]}),ie("p",{className:"subTittle",children:["\xBFTodavia no tenes una cuenta?",P(Ft,{to:"/signUp",children:"Registrate."})]})]}),ie("form",{className:"signIn__form",onSubmit:N,children:[P("label",{htmlFor:"email",children:"Correo electr\xF3nico"}),P("input",{type:"email",id:"email",name:"email",value:r,onChange:C=>i(C.target.value)}),P("label",{htmlFor:"password",children:"Clave"}),P("input",{type:"password",id:"password",name:"password",value:a,onChange:C=>l(C.target.value)}),P("button",{type:"submit",id:"btn__iniciar-sesion",children:"Iniciar Sesi\xF3n"})]})]})})})};class rs extends Error{}class jF extends rs{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class zF extends rs{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class VF extends rs{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class zo extends rs{}class qE extends rs{constructor(e){super(`Invalid unit ${e}`)}}class hr extends rs{}class Si extends rs{constructor(){super("Zone is an abstract class")}}const Ee="numeric",Pr="short",nr="long",up={year:Ee,month:Ee,day:Ee},WE={year:Ee,month:Pr,day:Ee},HF={year:Ee,month:Pr,day:Ee,weekday:Pr},GE={year:Ee,month:nr,day:Ee},KE={year:Ee,month:nr,day:Ee,weekday:nr},YE={hour:Ee,minute:Ee},JE={hour:Ee,minute:Ee,second:Ee},QE={hour:Ee,minute:Ee,second:Ee,timeZoneName:Pr},XE={hour:Ee,minute:Ee,second:Ee,timeZoneName:nr},ZE={hour:Ee,minute:Ee,hourCycle:"h23"},eS={hour:Ee,minute:Ee,second:Ee,hourCycle:"h23"},tS={hour:Ee,minute:Ee,second:Ee,hourCycle:"h23",timeZoneName:Pr},nS={hour:Ee,minute:Ee,second:Ee,hourCycle:"h23",timeZoneName:nr},rS={year:Ee,month:Ee,day:Ee,hour:Ee,minute:Ee},iS={year:Ee,month:Ee,day:Ee,hour:Ee,minute:Ee,second:Ee},aS={year:Ee,month:Pr,day:Ee,hour:Ee,minute:Ee},sS={year:Ee,month:Pr,day:Ee,hour:Ee,minute:Ee,second:Ee},BF={year:Ee,month:Pr,day:Ee,weekday:Pr,hour:Ee,minute:Ee},oS={year:Ee,month:nr,day:Ee,hour:Ee,minute:Ee,timeZoneName:Pr},lS={year:Ee,month:nr,day:Ee,hour:Ee,minute:Ee,second:Ee,timeZoneName:Pr},cS={year:Ee,month:nr,day:Ee,weekday:nr,hour:Ee,minute:Ee,timeZoneName:nr},uS={year:Ee,month:nr,day:Ee,weekday:nr,hour:Ee,minute:Ee,second:Ee,timeZoneName:nr};function ot(t){return typeof t>"u"}function Ma(t){return typeof t=="number"}function Th(t){return typeof t=="number"&&t%1===0}function qF(t){return typeof t=="string"}function WF(t){return Object.prototype.toString.call(t)==="[object Date]"}function dS(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function GF(t){return Array.isArray(t)?t:[t]}function M0(t,e,n){if(t.length!==0)return t.reduce((r,i)=>{const a=[e(i),i];return r&&n(r[0],a[0])===r[0]?r:a},null)[1]}function KF(t,e){return e.reduce((n,r)=>(n[r]=t[r],n),{})}function Js(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ii(t,e,n){return Th(t)&&t>=e&&t<=n}function YF(t,e){return t-e*Math.floor(t/e)}function Ut(t,e=2){const n=t<0;let r;return n?r="-"+(""+-t).padStart(e,"0"):r=(""+t).padStart(e,"0"),r}function Ni(t){if(!(ot(t)||t===null||t===""))return parseInt(t,10)}function pa(t){if(!(ot(t)||t===null||t===""))return parseFloat(t)}function Ag(t){if(!(ot(t)||t===null||t==="")){const e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function Og(t,e,n=!1){const r=10**e;return(n?Math.trunc:Math.round)(t*r)/r}function Sc(t){return t%4===0&&(t%100!==0||t%400===0)}function ol(t){return Sc(t)?366:365}function Cd(t,e){const n=YF(e-1,12)+1,r=t+(e-n)/12;return n===2?Sc(r)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function Mg(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(e.getUTCFullYear()-1900)),+e}function Td(t){const e=(t+Math.floor(t/4)-Math.floor(t/100)+Math.floor(t/400))%7,n=t-1,r=(n+Math.floor(n/4)-Math.floor(n/100)+Math.floor(n/400))%7;return e===4||r===3?53:52}function dp(t){return t>99?t:t>60?1900+t:2e3+t}function hS(t,e,n,r=null){const i=new Date(t),a={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};r&&(a.timeZone=r);const l={timeZoneName:e,...a},h=new Intl.DateTimeFormat(n,l).formatToParts(i).find(p=>p.type.toLowerCase()==="timezonename");return h?h.value:null}function Nh(t,e){let n=parseInt(t,10);Number.isNaN(n)&&(n=0);const r=parseInt(e,10)||0,i=n<0||Object.is(n,-0)?-r:r;return n*60+i}function fS(t){const e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new hr(`Invalid unit value ${t}`);return e}function Nd(t,e){const n={};for(const r in t)if(Js(t,r)){const i=t[r];if(i==null)continue;n[e(r)]=fS(i)}return n}function ll(t,e){const n=Math.trunc(Math.abs(t/60)),r=Math.trunc(Math.abs(t%60)),i=t>=0?"+":"-";switch(e){case"short":return`${i}${Ut(n,2)}:${Ut(r,2)}`;case"narrow":return`${i}${n}${r>0?`:${r}`:""}`;case"techie":return`${i}${Ut(n,2)}${Ut(r,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function Dh(t){return KF(t,["hour","minute","second","millisecond"])}const _S=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/,JF=["January","February","March","April","May","June","July","August","September","October","November","December"],pS=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],QF=["J","F","M","A","M","J","J","A","S","O","N","D"];function mS(t){switch(t){case"narrow":return[...QF];case"short":return[...pS];case"long":return[...JF];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const gS=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],vS=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],XF=["M","T","W","T","F","S","S"];function yS(t){switch(t){case"narrow":return[...XF];case"short":return[...vS];case"long":return[...gS];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const bS=["AM","PM"],ZF=["Before Christ","Anno Domini"],eU=["BC","AD"],tU=["B","A"];function wS(t){switch(t){case"narrow":return[...tU];case"short":return[...eU];case"long":return[...ZF];default:return null}}function nU(t){return bS[t.hour<12?0:1]}function rU(t,e){return yS(e)[t.weekday-1]}function iU(t,e){return mS(e)[t.month-1]}function aU(t,e){return wS(e)[t.year<0?0:1]}function sU(t,e,n="always",r=!1){const i={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},a=["hours","minutes","seconds"].indexOf(t)===-1;if(n==="auto"&&a){const N=t==="days";switch(e){case 1:return N?"tomorrow":`next ${i[t][0]}`;case-1:return N?"yesterday":`last ${i[t][0]}`;case 0:return N?"today":`this ${i[t][0]}`}}const l=Object.is(e,-0)||e<0,h=Math.abs(e),p=h===1,v=i[t],S=r?p?v[1]:v[2]||v[1]:p?i[t][0]:t;return l?`${h} ${S} ago`:`in ${h} ${S}`}function L0(t,e){let n="";for(const r of t)r.literal?n+=r.val:n+=e(r.val);return n}const oU={D:up,DD:WE,DDD:GE,DDDD:KE,t:YE,tt:JE,ttt:QE,tttt:XE,T:ZE,TT:eS,TTT:tS,TTTT:nS,f:rS,ff:aS,fff:oS,ffff:cS,F:iS,FF:sS,FFF:lS,FFFF:uS};class On{static create(e,n={}){return new On(e,n)}static parseFormat(e){let n=null,r="",i=!1;const a=[];for(let l=0;l<e.length;l++){const h=e.charAt(l);h==="'"?(r.length>0&&a.push({literal:i,val:r}),n=null,r="",i=!i):i||h===n?r+=h:(r.length>0&&a.push({literal:!1,val:r}),r=h,n=h)}return r.length>0&&a.push({literal:i,val:r}),a}static macroTokenToFormatOpts(e){return oU[e]}constructor(e,n){this.opts=n,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,n){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...n}).format()}formatDateTime(e,n={}){return this.loc.dtFormatter(e,{...this.opts,...n}).format()}formatDateTimeParts(e,n={}){return this.loc.dtFormatter(e,{...this.opts,...n}).formatToParts()}resolvedOptions(e,n={}){return this.loc.dtFormatter(e,{...this.opts,...n}).resolvedOptions()}num(e,n=0){if(this.opts.forceSimple)return Ut(e,n);const r={...this.opts};return n>0&&(r.padTo=n),this.loc.numberFormatter(r).format(e)}formatDateTimeFromString(e,n){const r=this.loc.listingMode()==="en",i=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",a=(A,R)=>this.loc.extract(e,A,R),l=A=>e.isOffsetFixed&&e.offset===0&&A.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,A.format):"",h=()=>r?nU(e):a({hour:"numeric",hourCycle:"h12"},"dayperiod"),p=(A,R)=>r?iU(e,A):a(R?{month:A}:{month:A,day:"numeric"},"month"),v=(A,R)=>r?rU(e,A):a(R?{weekday:A}:{weekday:A,month:"long",day:"numeric"},"weekday"),S=A=>{const R=On.macroTokenToFormatOpts(A);return R?this.formatWithSystemDefault(e,R):A},N=A=>r?aU(e,A):a({era:A},"era"),C=A=>{switch(A){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return l({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return l({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return l({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return h();case"d":return i?a({day:"numeric"},"day"):this.num(e.day);case"dd":return i?a({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return v("short",!0);case"cccc":return v("long",!0);case"ccccc":return v("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return v("short",!1);case"EEEE":return v("long",!1);case"EEEEE":return v("narrow",!1);case"L":return i?a({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return i?a({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return p("short",!0);case"LLLL":return p("long",!0);case"LLLLL":return p("narrow",!0);case"M":return i?a({month:"numeric"},"month"):this.num(e.month);case"MM":return i?a({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return p("short",!1);case"MMMM":return p("long",!1);case"MMMMM":return p("narrow",!1);case"y":return i?a({year:"numeric"},"year"):this.num(e.year);case"yy":return i?a({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return i?a({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return i?a({year:"numeric"},"year"):this.num(e.year,6);case"G":return N("short");case"GG":return N("long");case"GGGGG":return N("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return S(A)}};return L0(On.parseFormat(n),C)}formatDurationFromString(e,n){const r=p=>{switch(p[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},i=p=>v=>{const S=r(v);return S?this.num(p.get(S),v.length):v},a=On.parseFormat(n),l=a.reduce((p,{literal:v,val:S})=>v?p:p.concat(S),[]),h=e.shiftTo(...l.map(r).filter(p=>p));return L0(a,i(h))}}class Nr{constructor(e,n){this.reason=e,this.explanation=n}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}class Cc{get type(){throw new Si}get name(){throw new Si}get ianaName(){return this.name}get isUniversal(){throw new Si}offsetName(e,n){throw new Si}formatOffset(e,n){throw new Si}offset(e){throw new Si}equals(e){throw new Si}get isValid(){throw new Si}}let If=null;class Ih extends Cc{static get instance(){return If===null&&(If=new Ih),If}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:n,locale:r}){return hS(e,n,r)}formatOffset(e,n){return ll(this.offset(e),n)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}let Iu={};function lU(t){return Iu[t]||(Iu[t]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),Iu[t]}const cU={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function uU(t,e){const n=t.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(n),[,i,a,l,h,p,v,S]=r;return[l,i,a,h,p,v,S]}function dU(t,e){const n=t.formatToParts(e),r=[];for(let i=0;i<n.length;i++){const{type:a,value:l}=n[i],h=cU[a];a==="era"?r[h]=l:ot(h)||(r[h]=parseInt(l,10))}return r}let au={};class gi extends Cc{static create(e){return au[e]||(au[e]=new gi(e)),au[e]}static resetCache(){au={},Iu={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=gi.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:n,locale:r}){return hS(e,n,r,this.name)}formatOffset(e,n){return ll(this.offset(e),n)}offset(e){const n=new Date(e);if(isNaN(n))return NaN;const r=lU(this.name);let[i,a,l,h,p,v,S]=r.formatToParts?dU(r,n):uU(r,n);h==="BC"&&(i=-Math.abs(i)+1);const C=Mg({year:i,month:a,day:l,hour:p===24?0:p,minute:v,second:S,millisecond:0});let A=+n;const R=A%1e3;return A-=R>=0?R:1e3+R,(C-A)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let Af=null;class Pn extends Cc{static get utcInstance(){return Af===null&&(Af=new Pn(0)),Af}static instance(e){return e===0?Pn.utcInstance:new Pn(e)}static parseSpecifier(e){if(e){const n=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(n)return new Pn(Nh(n[1],n[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${ll(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${ll(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,n){return ll(this.fixed,n)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class hU extends Cc{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function Pi(t,e){if(ot(t)||t===null)return e;if(t instanceof Cc)return t;if(qF(t)){const n=t.toLowerCase();return n==="default"?e:n==="local"||n==="system"?Ih.instance:n==="utc"||n==="gmt"?Pn.utcInstance:Pn.parseSpecifier(n)||gi.create(t)}else return Ma(t)?Pn.instance(t):typeof t=="object"&&t.offset&&typeof t.offset=="number"?t:new hU(t)}let P0=()=>Date.now(),R0="system",$0=null,F0=null,U0=null,j0;class Bt{static get now(){return P0}static set now(e){P0=e}static set defaultZone(e){R0=e}static get defaultZone(){return Pi(R0,Ih.instance)}static get defaultLocale(){return $0}static set defaultLocale(e){$0=e}static get defaultNumberingSystem(){return F0}static set defaultNumberingSystem(e){F0=e}static get defaultOutputCalendar(){return U0}static set defaultOutputCalendar(e){U0=e}static get throwOnInvalid(){return j0}static set throwOnInvalid(e){j0=e}static resetCaches(){xt.resetCache(),gi.resetCache()}}let z0={};function fU(t,e={}){const n=JSON.stringify([t,e]);let r=z0[n];return r||(r=new Intl.ListFormat(t,e),z0[n]=r),r}let hp={};function fp(t,e={}){const n=JSON.stringify([t,e]);let r=hp[n];return r||(r=new Intl.DateTimeFormat(t,e),hp[n]=r),r}let _p={};function _U(t,e={}){const n=JSON.stringify([t,e]);let r=_p[n];return r||(r=new Intl.NumberFormat(t,e),_p[n]=r),r}let pp={};function pU(t,e={}){const{base:n,...r}=e,i=JSON.stringify([t,r]);let a=pp[i];return a||(a=new Intl.RelativeTimeFormat(t,e),pp[i]=a),a}let Vo=null;function mU(){return Vo||(Vo=new Intl.DateTimeFormat().resolvedOptions().locale,Vo)}function gU(t){const e=t.indexOf("-u-");if(e===-1)return[t];{let n;const r=t.substring(0,e);try{n=fp(t).resolvedOptions()}catch{n=fp(r).resolvedOptions()}const{numberingSystem:i,calendar:a}=n;return[r,i,a]}}function vU(t,e,n){return(n||e)&&(t+="-u",n&&(t+=`-ca-${n}`),e&&(t+=`-nu-${e}`)),t}function yU(t){const e=[];for(let n=1;n<=12;n++){const r=Je.utc(2016,n,1);e.push(t(r))}return e}function bU(t){const e=[];for(let n=1;n<=7;n++){const r=Je.utc(2016,11,13+n);e.push(t(r))}return e}function su(t,e,n,r,i){const a=t.listingMode(n);return a==="error"?null:a==="en"?r(e):i(e)}function wU(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem==="latn"}class xU{constructor(e,n,r){this.padTo=r.padTo||0,this.floor=r.floor||!1;const{padTo:i,floor:a,...l}=r;if(!n||Object.keys(l).length>0){const h={useGrouping:!1,...r};r.padTo>0&&(h.minimumIntegerDigits=r.padTo),this.inf=_U(e,h)}}format(e){if(this.inf){const n=this.floor?Math.floor(e):e;return this.inf.format(n)}else{const n=this.floor?Math.floor(e):Og(e,3);return Ut(n,this.padTo)}}}class kU{constructor(e,n,r){this.opts=r;let i;if(e.zone.isUniversal){const l=-1*(e.offset/60),h=l>=0?`Etc/GMT+${l}`:`Etc/GMT${l}`;e.offset!==0&&gi.create(h).valid?(i=h,this.dt=e):(i="UTC",r.timeZoneName?this.dt=e:this.dt=e.offset===0?e:Je.fromMillis(e.ts+e.offset*60*1e3))}else e.zone.type==="system"?this.dt=e:(this.dt=e,i=e.zone.name);const a={...this.opts};i&&(a.timeZone=i),this.dtf=fp(n,a)}format(){return this.dtf.format(this.dt.toJSDate())}formatToParts(){return this.dtf.formatToParts(this.dt.toJSDate())}resolvedOptions(){return this.dtf.resolvedOptions()}}class EU{constructor(e,n,r){this.opts={style:"long",...r},!n&&dS()&&(this.rtf=pU(e,r))}format(e,n){return this.rtf?this.rtf.format(e,n):sU(n,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,n){return this.rtf?this.rtf.formatToParts(e,n):[]}}class xt{static fromOpts(e){return xt.create(e.locale,e.numberingSystem,e.outputCalendar,e.defaultToEN)}static create(e,n,r,i=!1){const a=e||Bt.defaultLocale,l=a||(i?"en-US":mU()),h=n||Bt.defaultNumberingSystem,p=r||Bt.defaultOutputCalendar;return new xt(l,h,p,a)}static resetCache(){Vo=null,hp={},_p={},pp={}}static fromObject({locale:e,numberingSystem:n,outputCalendar:r}={}){return xt.create(e,n,r)}constructor(e,n,r,i){const[a,l,h]=gU(e);this.locale=a,this.numberingSystem=n||l||null,this.outputCalendar=r||h||null,this.intl=vU(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=i,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=wU(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),n=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&n?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:xt.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,n=!1,r=!0){return su(this,e,r,mS,()=>{const i=n?{month:e,day:"numeric"}:{month:e},a=n?"format":"standalone";return this.monthsCache[a][e]||(this.monthsCache[a][e]=yU(l=>this.extract(l,i,"month"))),this.monthsCache[a][e]})}weekdays(e,n=!1,r=!0){return su(this,e,r,yS,()=>{const i=n?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},a=n?"format":"standalone";return this.weekdaysCache[a][e]||(this.weekdaysCache[a][e]=bU(l=>this.extract(l,i,"weekday"))),this.weekdaysCache[a][e]})}meridiems(e=!0){return su(this,void 0,e,()=>bS,()=>{if(!this.meridiemCache){const n={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[Je.utc(2016,11,13,9),Je.utc(2016,11,13,19)].map(r=>this.extract(r,n,"dayperiod"))}return this.meridiemCache})}eras(e,n=!0){return su(this,e,n,wS,()=>{const r={era:e};return this.eraCache[e]||(this.eraCache[e]=[Je.utc(-40,1,1),Je.utc(2017,1,1)].map(i=>this.extract(i,r,"era"))),this.eraCache[e]})}extract(e,n,r){const i=this.dtFormatter(e,n),a=i.formatToParts(),l=a.find(h=>h.type.toLowerCase()===r);return l?l.value:null}numberFormatter(e={}){return new xU(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,n={}){return new kU(e,this.intl,n)}relFormatter(e={}){return new EU(this.intl,this.isEnglish(),e)}listFormatter(e={}){return fU(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}}function co(...t){const e=t.reduce((n,r)=>n+r.source,"");return RegExp(`^${e}$`)}function uo(...t){return e=>t.reduce(([n,r,i],a)=>{const[l,h,p]=a(e,i);return[{...n,...l},h||r,p]},[{},null,1]).slice(0,2)}function ho(t,...e){if(t==null)return[null,null];for(const[n,r]of e){const i=n.exec(t);if(i)return r(i)}return[null,null]}function xS(...t){return(e,n)=>{const r={};let i;for(i=0;i<t.length;i++)r[t[i]]=Ni(e[n+i]);return[r,null,n+i]}}const kS=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,SU=`(?:${kS.source}?(?:\\[(${_S.source})\\])?)?`,Lg=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,ES=RegExp(`${Lg.source}${SU}`),Pg=RegExp(`(?:T${ES.source})?`),CU=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,TU=/(\d{4})-?W(\d\d)(?:-?(\d))?/,NU=/(\d{4})-?(\d{3})/,DU=xS("weekYear","weekNumber","weekDay"),IU=xS("year","ordinal"),AU=/(\d{4})-(\d\d)-(\d\d)/,SS=RegExp(`${Lg.source} ?(?:${kS.source}|(${_S.source}))?`),OU=RegExp(`(?: ${SS.source})?`);function Ms(t,e,n){const r=t[e];return ot(r)?n:Ni(r)}function MU(t,e){return[{year:Ms(t,e),month:Ms(t,e+1,1),day:Ms(t,e+2,1)},null,e+3]}function fo(t,e){return[{hours:Ms(t,e,0),minutes:Ms(t,e+1,0),seconds:Ms(t,e+2,0),milliseconds:Ag(t[e+3])},null,e+4]}function Tc(t,e){const n=!t[e]&&!t[e+1],r=Nh(t[e+1],t[e+2]),i=n?null:Pn.instance(r);return[{},i,e+3]}function Nc(t,e){const n=t[e]?gi.create(t[e]):null;return[{},n,e+1]}const LU=RegExp(`^T?${Lg.source}$`),PU=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function RU(t){const[e,n,r,i,a,l,h,p,v]=t,S=e[0]==="-",N=p&&p[0]==="-",C=(A,R=!1)=>A!==void 0&&(R||A&&S)?-A:A;return[{years:C(pa(n)),months:C(pa(r)),weeks:C(pa(i)),days:C(pa(a)),hours:C(pa(l)),minutes:C(pa(h)),seconds:C(pa(p),p==="-0"),milliseconds:C(Ag(v),N)}]}const $U={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Rg(t,e,n,r,i,a,l){const h={year:e.length===2?dp(Ni(e)):Ni(e),month:pS.indexOf(n)+1,day:Ni(r),hour:Ni(i),minute:Ni(a)};return l&&(h.second=Ni(l)),t&&(h.weekday=t.length>3?gS.indexOf(t)+1:vS.indexOf(t)+1),h}const FU=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function UU(t){const[,e,n,r,i,a,l,h,p,v,S,N]=t,C=Rg(e,i,r,n,a,l,h);let A;return p?A=$U[p]:v?A=0:A=Nh(S,N),[C,new Pn(A)]}function jU(t){return t.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const zU=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,VU=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,HU=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function V0(t){const[,e,n,r,i,a,l,h]=t;return[Rg(e,i,r,n,a,l,h),Pn.utcInstance]}function BU(t){const[,e,n,r,i,a,l,h]=t;return[Rg(e,h,n,r,i,a,l),Pn.utcInstance]}const qU=co(CU,Pg),WU=co(TU,Pg),GU=co(NU,Pg),KU=co(ES),CS=uo(MU,fo,Tc,Nc),YU=uo(DU,fo,Tc,Nc),JU=uo(IU,fo,Tc,Nc),QU=uo(fo,Tc,Nc);function XU(t){return ho(t,[qU,CS],[WU,YU],[GU,JU],[KU,QU])}function ZU(t){return ho(jU(t),[FU,UU])}function ej(t){return ho(t,[zU,V0],[VU,V0],[HU,BU])}function tj(t){return ho(t,[PU,RU])}const nj=uo(fo);function rj(t){return ho(t,[LU,nj])}const ij=co(AU,OU),aj=co(SS),sj=uo(fo,Tc,Nc);function oj(t){return ho(t,[ij,CS],[aj,sj])}const lj="Invalid Duration",TS={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},cj={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...TS},cr=146097/400,os=146097/4800,uj={years:{quarters:4,months:12,weeks:cr/7,days:cr,hours:cr*24,minutes:cr*24*60,seconds:cr*24*60*60,milliseconds:cr*24*60*60*1e3},quarters:{months:3,weeks:cr/28,days:cr/4,hours:cr*24/4,minutes:cr*24*60/4,seconds:cr*24*60*60/4,milliseconds:cr*24*60*60*1e3/4},months:{weeks:os/7,days:os,hours:os*24,minutes:os*24*60,seconds:os*24*60*60,milliseconds:os*24*60*60*1e3},...TS},wa=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],dj=wa.slice(0).reverse();function ma(t,e,n=!1){const r={values:n?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new lt(r)}function hj(t){return t<0?Math.floor(t):Math.ceil(t)}function NS(t,e,n,r,i){const a=t[i][n],l=e[n]/a,h=Math.sign(l)===Math.sign(r[i]),p=!h&&r[i]!==0&&Math.abs(l)<=1?hj(l):Math.trunc(l);r[i]+=p,e[n]-=p*a}function fj(t,e){dj.reduce((n,r)=>ot(e[r])?n:(n&&NS(t,e,n,e,r),r),null)}class lt{constructor(e){const n=e.conversionAccuracy==="longterm"||!1;let r=n?uj:cj;e.matrix&&(r=e.matrix),this.values=e.values,this.loc=e.loc||xt.create(),this.conversionAccuracy=n?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=r,this.isLuxonDuration=!0}static fromMillis(e,n){return lt.fromObject({milliseconds:e},n)}static fromObject(e,n={}){if(e==null||typeof e!="object")throw new hr(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new lt({values:Nd(e,lt.normalizeUnit),loc:xt.fromObject(n),conversionAccuracy:n.conversionAccuracy,matrix:n.matrix})}static fromDurationLike(e){if(Ma(e))return lt.fromMillis(e);if(lt.isDuration(e))return e;if(typeof e=="object")return lt.fromObject(e);throw new hr(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,n){const[r]=tj(e);return r?lt.fromObject(r,n):lt.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,n){const[r]=rj(e);return r?lt.fromObject(r,n):lt.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,n=null){if(!e)throw new hr("need to specify a reason the Duration is invalid");const r=e instanceof Nr?e:new Nr(e,n);if(Bt.throwOnInvalid)throw new VF(r);return new lt({invalid:r})}static normalizeUnit(e){const n={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!n)throw new qE(e);return n}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,n={}){const r={...n,floor:n.round!==!1&&n.floor!==!1};return this.isValid?On.create(this.loc,r).formatDurationFromString(this,e):lj}toHuman(e={}){const n=wa.map(r=>{const i=this.values[r];return ot(i)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:r.slice(0,-1)}).format(i)}).filter(r=>r);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(n)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=Og(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const n=this.toMillis();if(n<0||n>=864e5)return null;e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e};const r=this.shiftTo("hours","minutes","seconds","milliseconds");let i=e.format==="basic"?"hhmm":"hh:mm";(!e.suppressSeconds||r.seconds!==0||r.milliseconds!==0)&&(i+=e.format==="basic"?"ss":":ss",(!e.suppressMilliseconds||r.milliseconds!==0)&&(i+=".SSS"));let a=r.toFormat(i);return e.includePrefix&&(a="T"+a),a}toJSON(){return this.toISO()}toString(){return this.toISO()}toMillis(){return this.as("milliseconds")}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const n=lt.fromDurationLike(e),r={};for(const i of wa)(Js(n.values,i)||Js(this.values,i))&&(r[i]=n.get(i)+this.get(i));return ma(this,{values:r},!0)}minus(e){if(!this.isValid)return this;const n=lt.fromDurationLike(e);return this.plus(n.negate())}mapUnits(e){if(!this.isValid)return this;const n={};for(const r of Object.keys(this.values))n[r]=fS(e(this.values[r],r));return ma(this,{values:n},!0)}get(e){return this[lt.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const n={...this.values,...Nd(e,lt.normalizeUnit)};return ma(this,{values:n})}reconfigure({locale:e,numberingSystem:n,conversionAccuracy:r,matrix:i}={}){const l={loc:this.loc.clone({locale:e,numberingSystem:n}),matrix:i,conversionAccuracy:r};return ma(this,l)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return fj(this.matrix,e),ma(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(l=>lt.normalizeUnit(l));const n={},r={},i=this.toObject();let a;for(const l of wa)if(e.indexOf(l)>=0){a=l;let h=0;for(const v in r)h+=this.matrix[v][l]*r[v],r[v]=0;Ma(i[l])&&(h+=i[l]);const p=Math.trunc(h);n[l]=p,r[l]=(h*1e3-p*1e3)/1e3;for(const v in i)wa.indexOf(v)>wa.indexOf(l)&&NS(this.matrix,i,v,n,l)}else Ma(i[l])&&(r[l]=i[l]);for(const l in r)r[l]!==0&&(n[a]+=l===a?r[l]:r[l]/this.matrix[a][l]);return ma(this,{values:n},!0).normalize()}negate(){if(!this.isValid)return this;const e={};for(const n of Object.keys(this.values))e[n]=this.values[n]===0?0:-this.values[n];return ma(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function n(r,i){return r===void 0||r===0?i===void 0||i===0:r===i}for(const r of wa)if(!n(this.values[r],e.values[r]))return!1;return!0}}const To="Invalid Interval";function _j(t,e){return!t||!t.isValid?Ot.invalid("missing or invalid start"):!e||!e.isValid?Ot.invalid("missing or invalid end"):e<t?Ot.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}class Ot{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,n=null){if(!e)throw new hr("need to specify a reason the Interval is invalid");const r=e instanceof Nr?e:new Nr(e,n);if(Bt.throwOnInvalid)throw new zF(r);return new Ot({invalid:r})}static fromDateTimes(e,n){const r=Io(e),i=Io(n),a=_j(r,i);return a==null?new Ot({start:r,end:i}):a}static after(e,n){const r=lt.fromDurationLike(n),i=Io(e);return Ot.fromDateTimes(i,i.plus(r))}static before(e,n){const r=lt.fromDurationLike(n),i=Io(e);return Ot.fromDateTimes(i.minus(r),i)}static fromISO(e,n){const[r,i]=(e||"").split("/",2);if(r&&i){let a,l;try{a=Je.fromISO(r,n),l=a.isValid}catch{l=!1}let h,p;try{h=Je.fromISO(i,n),p=h.isValid}catch{p=!1}if(l&&p)return Ot.fromDateTimes(a,h);if(l){const v=lt.fromISO(i,n);if(v.isValid)return Ot.after(a,v)}else if(p){const v=lt.fromISO(r,n);if(v.isValid)return Ot.before(h,v)}}return Ot.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds"){if(!this.isValid)return NaN;const n=this.start.startOf(e),r=this.end.startOf(e);return Math.floor(r.diff(n,e).get(e))+1}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:n}={}){return this.isValid?Ot.fromDateTimes(e||this.s,n||this.e):this}splitAt(...e){if(!this.isValid)return[];const n=e.map(Io).filter(l=>this.contains(l)).sort(),r=[];let{s:i}=this,a=0;for(;i<this.e;){const l=n[a]||this.e,h=+l>+this.e?this.e:l;r.push(Ot.fromDateTimes(i,h)),i=h,a+=1}return r}splitBy(e){const n=lt.fromDurationLike(e);if(!this.isValid||!n.isValid||n.as("milliseconds")===0)return[];let{s:r}=this,i=1,a;const l=[];for(;r<this.e;){const h=this.start.plus(n.mapUnits(p=>p*i));a=+h>+this.e?this.e:h,l.push(Ot.fromDateTimes(r,a)),r=a,i+=1}return l}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const n=this.s>e.s?this.s:e.s,r=this.e<e.e?this.e:e.e;return n>=r?null:Ot.fromDateTimes(n,r)}union(e){if(!this.isValid)return this;const n=this.s<e.s?this.s:e.s,r=this.e>e.e?this.e:e.e;return Ot.fromDateTimes(n,r)}static merge(e){const[n,r]=e.sort((i,a)=>i.s-a.s).reduce(([i,a],l)=>a?a.overlaps(l)||a.abutsStart(l)?[i,a.union(l)]:[i.concat([a]),l]:[i,l],[[],null]);return r&&n.push(r),n}static xor(e){let n=null,r=0;const i=[],a=e.map(p=>[{time:p.s,type:"s"},{time:p.e,type:"e"}]),l=Array.prototype.concat(...a),h=l.sort((p,v)=>p.time-v.time);for(const p of h)r+=p.type==="s"?1:-1,r===1?n=p.time:(n&&+n!=+p.time&&i.push(Ot.fromDateTimes(n,p.time)),n=null);return Ot.merge(i)}difference(...e){return Ot.xor([this].concat(e)).map(n=>this.intersection(n)).filter(n=>n&&!n.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} \u2013 ${this.e.toISO()})`:To}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:To}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:To}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:To}toFormat(e,{separator:n=" \u2013 "}={}){return this.isValid?`${this.s.toFormat(e)}${n}${this.e.toFormat(e)}`:To}toDuration(e,n){return this.isValid?this.e.diff(this.s,e,n):lt.invalid(this.invalidReason)}mapEndpoints(e){return Ot.fromDateTimes(e(this.s),e(this.e))}}class ou{static hasDST(e=Bt.defaultZone){const n=Je.now().setZone(e).set({month:12});return!e.isUniversal&&n.offset!==n.set({month:6}).offset}static isValidIANAZone(e){return gi.isValidZone(e)}static normalizeZone(e){return Pi(e,Bt.defaultZone)}static months(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null,outputCalendar:a="gregory"}={}){return(i||xt.create(n,r,a)).months(e)}static monthsFormat(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null,outputCalendar:a="gregory"}={}){return(i||xt.create(n,r,a)).months(e,!0)}static weekdays(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null}={}){return(i||xt.create(n,r,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:n=null,numberingSystem:r=null,locObj:i=null}={}){return(i||xt.create(n,r,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return xt.create(e).meridiems()}static eras(e="short",{locale:n=null}={}){return xt.create(n,null,"gregory").eras(e)}static features(){return{relative:dS()}}}function H0(t,e){const n=i=>i.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),r=n(e)-n(t);return Math.floor(lt.fromMillis(r).as("days"))}function pj(t,e,n){const r=[["years",(h,p)=>p.year-h.year],["quarters",(h,p)=>p.quarter-h.quarter+(p.year-h.year)*4],["months",(h,p)=>p.month-h.month+(p.year-h.year)*12],["weeks",(h,p)=>{const v=H0(h,p);return(v-v%7)/7}],["days",H0]],i={};let a,l;for(const[h,p]of r)if(n.indexOf(h)>=0){a=h;let v=p(t,e);l=t.plus({[h]:v}),l>e?(t=t.plus({[h]:v-1}),v-=1):t=l,i[h]=v}return[t,i,l,a]}function mj(t,e,n,r){let[i,a,l,h]=pj(t,e,n);const p=e-i,v=n.filter(N=>["hours","minutes","seconds","milliseconds"].indexOf(N)>=0);v.length===0&&(l<e&&(l=i.plus({[h]:1})),l!==i&&(a[h]=(a[h]||0)+p/(l-i)));const S=lt.fromObject(a,r);return v.length>0?lt.fromMillis(p,r).shiftTo(...v).plus(S):S}const $g={arab:"[\u0660-\u0669]",arabext:"[\u06F0-\u06F9]",bali:"[\u1B50-\u1B59]",beng:"[\u09E6-\u09EF]",deva:"[\u0966-\u096F]",fullwide:"[\uFF10-\uFF19]",gujr:"[\u0AE6-\u0AEF]",hanidec:"[\u3007|\u4E00|\u4E8C|\u4E09|\u56DB|\u4E94|\u516D|\u4E03|\u516B|\u4E5D]",khmr:"[\u17E0-\u17E9]",knda:"[\u0CE6-\u0CEF]",laoo:"[\u0ED0-\u0ED9]",limb:"[\u1946-\u194F]",mlym:"[\u0D66-\u0D6F]",mong:"[\u1810-\u1819]",mymr:"[\u1040-\u1049]",orya:"[\u0B66-\u0B6F]",tamldec:"[\u0BE6-\u0BEF]",telu:"[\u0C66-\u0C6F]",thai:"[\u0E50-\u0E59]",tibt:"[\u0F20-\u0F29]",latn:"\\d"},B0={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},gj=$g.hanidec.replace(/[\[|\]]/g,"").split("");function vj(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);if(t[n].search($g.hanidec)!==-1)e+=gj.indexOf(t[n]);else for(const i in B0){const[a,l]=B0[i];r>=a&&r<=l&&(e+=r-a)}}return parseInt(e,10)}else return e}function kr({numberingSystem:t},e=""){return new RegExp(`${$g[t||"latn"]}${e}`)}const yj="missing Intl.DateTimeFormat.formatToParts support";function dt(t,e=n=>n){return{regex:t,deser:([n])=>e(vj(n))}}const bj=String.fromCharCode(160),DS=`[ ${bj}]`,IS=new RegExp(DS,"g");function wj(t){return t.replace(/\./g,"\\.?").replace(IS,DS)}function q0(t){return t.replace(/\./g,"").replace(IS," ").toLowerCase()}function Er(t,e){return t===null?null:{regex:RegExp(t.map(wj).join("|")),deser:([n])=>t.findIndex(r=>q0(n)===q0(r))+e}}function W0(t,e){return{regex:t,deser:([,n,r])=>Nh(n,r),groups:e}}function Of(t){return{regex:t,deser:([e])=>e}}function xj(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function kj(t,e){const n=kr(e),r=kr(e,"{2}"),i=kr(e,"{3}"),a=kr(e,"{4}"),l=kr(e,"{6}"),h=kr(e,"{1,2}"),p=kr(e,"{1,3}"),v=kr(e,"{1,6}"),S=kr(e,"{1,9}"),N=kr(e,"{2,4}"),C=kr(e,"{4,6}"),A=L=>({regex:RegExp(xj(L.val)),deser:([I])=>I,literal:!0}),D=(L=>{if(t.literal)return A(L);switch(L.val){case"G":return Er(e.eras("short",!1),0);case"GG":return Er(e.eras("long",!1),0);case"y":return dt(v);case"yy":return dt(N,dp);case"yyyy":return dt(a);case"yyyyy":return dt(C);case"yyyyyy":return dt(l);case"M":return dt(h);case"MM":return dt(r);case"MMM":return Er(e.months("short",!0,!1),1);case"MMMM":return Er(e.months("long",!0,!1),1);case"L":return dt(h);case"LL":return dt(r);case"LLL":return Er(e.months("short",!1,!1),1);case"LLLL":return Er(e.months("long",!1,!1),1);case"d":return dt(h);case"dd":return dt(r);case"o":return dt(p);case"ooo":return dt(i);case"HH":return dt(r);case"H":return dt(h);case"hh":return dt(r);case"h":return dt(h);case"mm":return dt(r);case"m":return dt(h);case"q":return dt(h);case"qq":return dt(r);case"s":return dt(h);case"ss":return dt(r);case"S":return dt(p);case"SSS":return dt(i);case"u":return Of(S);case"uu":return Of(h);case"uuu":return dt(n);case"a":return Er(e.meridiems(),0);case"kkkk":return dt(a);case"kk":return dt(N,dp);case"W":return dt(h);case"WW":return dt(r);case"E":case"c":return dt(n);case"EEE":return Er(e.weekdays("short",!1,!1),1);case"EEEE":return Er(e.weekdays("long",!1,!1),1);case"ccc":return Er(e.weekdays("short",!0,!1),1);case"cccc":return Er(e.weekdays("long",!0,!1),1);case"Z":case"ZZ":return W0(new RegExp(`([+-]${h.source})(?::(${r.source}))?`),2);case"ZZZ":return W0(new RegExp(`([+-]${h.source})(${r.source})?`),2);case"z":return Of(/[a-z_+-/]{1,256}?/i);default:return A(L)}})(t)||{invalidReason:yj};return D.token=t,D}const Ej={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour:{numeric:"h","2-digit":"hh"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function Sj(t,e,n){const{type:r,value:i}=t;if(r==="literal")return{literal:!0,val:i};const a=n[r];let l=Ej[r];if(typeof l=="object"&&(l=l[a]),l)return{literal:!1,val:l}}function Cj(t){return[`^${t.map(n=>n.regex).reduce((n,r)=>`${n}(${r.source})`,"")}$`,t]}function Tj(t,e,n){const r=t.match(e);if(r){const i={};let a=1;for(const l in n)if(Js(n,l)){const h=n[l],p=h.groups?h.groups+1:1;!h.literal&&h.token&&(i[h.token.val[0]]=h.deser(r.slice(a,a+p))),a+=p}return[r,i]}else return[r,{}]}function Nj(t){const e=a=>{switch(a){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let n=null,r;return ot(t.z)||(n=gi.create(t.z)),ot(t.Z)||(n||(n=new Pn(t.Z)),r=t.Z),ot(t.q)||(t.M=(t.q-1)*3+1),ot(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),ot(t.u)||(t.S=Ag(t.u)),[Object.keys(t).reduce((a,l)=>{const h=e(l);return h&&(a[h]=t[l]),a},{}),n,r]}let Mf=null;function Dj(){return Mf||(Mf=Je.fromMillis(1555555555555)),Mf}function Ij(t,e){if(t.literal)return t;const n=On.macroTokenToFormatOpts(t.val),r=MS(n,e);return r==null||r.includes(void 0)?t:r}function AS(t,e){return Array.prototype.concat(...t.map(n=>Ij(n,e)))}function OS(t,e,n){const r=AS(On.parseFormat(n),t),i=r.map(l=>kj(l,t)),a=i.find(l=>l.invalidReason);if(a)return{input:e,tokens:r,invalidReason:a.invalidReason};{const[l,h]=Cj(i),p=RegExp(l,"i"),[v,S]=Tj(e,p,h),[N,C,A]=S?Nj(S):[null,null,void 0];if(Js(S,"a")&&Js(S,"H"))throw new zo("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:r,regex:p,rawMatches:v,matches:S,result:N,zone:C,specificOffset:A}}}function Aj(t,e,n){const{result:r,zone:i,specificOffset:a,invalidReason:l}=OS(t,e,n);return[r,i,a,l]}function MS(t,e){return t?On.create(e,t).formatDateTimeParts(Dj()).map(i=>Sj(i,e,t)):null}const LS=[0,31,59,90,120,151,181,212,243,273,304,334],PS=[0,31,60,91,121,152,182,213,244,274,305,335];function _r(t,e){return new Nr("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function RS(t,e,n){const r=new Date(Date.UTC(t,e-1,n));t<100&&t>=0&&r.setUTCFullYear(r.getUTCFullYear()-1900);const i=r.getUTCDay();return i===0?7:i}function $S(t,e,n){return n+(Sc(t)?PS:LS)[e-1]}function FS(t,e){const n=Sc(t)?PS:LS,r=n.findIndex(a=>a<e),i=e-n[r];return{month:r+1,day:i}}function mp(t){const{year:e,month:n,day:r}=t,i=$S(e,n,r),a=RS(e,n,r);let l=Math.floor((i-a+10)/7),h;return l<1?(h=e-1,l=Td(h)):l>Td(e)?(h=e+1,l=1):h=e,{weekYear:h,weekNumber:l,weekday:a,...Dh(t)}}function G0(t){const{weekYear:e,weekNumber:n,weekday:r}=t,i=RS(e,1,4),a=ol(e);let l=n*7+r-i-3,h;l<1?(h=e-1,l+=ol(h)):l>a?(h=e+1,l-=ol(e)):h=e;const{month:p,day:v}=FS(h,l);return{year:h,month:p,day:v,...Dh(t)}}function Lf(t){const{year:e,month:n,day:r}=t,i=$S(e,n,r);return{year:e,ordinal:i,...Dh(t)}}function K0(t){const{year:e,ordinal:n}=t,{month:r,day:i}=FS(e,n);return{year:e,month:r,day:i,...Dh(t)}}function Oj(t){const e=Th(t.weekYear),n=ii(t.weekNumber,1,Td(t.weekYear)),r=ii(t.weekday,1,7);return e?n?r?!1:_r("weekday",t.weekday):_r("week",t.week):_r("weekYear",t.weekYear)}function Mj(t){const e=Th(t.year),n=ii(t.ordinal,1,ol(t.year));return e?n?!1:_r("ordinal",t.ordinal):_r("year",t.year)}function US(t){const e=Th(t.year),n=ii(t.month,1,12),r=ii(t.day,1,Cd(t.year,t.month));return e?n?r?!1:_r("day",t.day):_r("month",t.month):_r("year",t.year)}function jS(t){const{hour:e,minute:n,second:r,millisecond:i}=t,a=ii(e,0,23)||e===24&&n===0&&r===0&&i===0,l=ii(n,0,59),h=ii(r,0,59),p=ii(i,0,999);return a?l?h?p?!1:_r("millisecond",i):_r("second",r):_r("minute",n):_r("hour",e)}const Pf="Invalid DateTime",Y0=864e13;function lu(t){return new Nr("unsupported zone",`the zone "${t.name}" is not supported`)}function Rf(t){return t.weekData===null&&(t.weekData=mp(t.c)),t.weekData}function No(t,e){const n={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new Je({...n,...e,old:n})}function zS(t,e,n){let r=t-e*60*1e3;const i=n.offset(r);if(e===i)return[r,e];r-=(i-e)*60*1e3;const a=n.offset(r);return i===a?[r,i]:[t-Math.min(i,a)*60*1e3,Math.max(i,a)]}function J0(t,e){t+=e*60*1e3;const n=new Date(t);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function Au(t,e,n){return zS(Mg(t),e,n)}function Q0(t,e){const n=t.o,r=t.c.year+Math.trunc(e.years),i=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,a={...t.c,year:r,month:i,day:Math.min(t.c.day,Cd(r,i))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},l=lt.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),h=Mg(a);let[p,v]=zS(h,n,t.zone);return l!==0&&(p+=l,v=t.zone.offset(p)),{ts:p,o:v}}function Do(t,e,n,r,i,a){const{setZone:l,zone:h}=n;if(t&&Object.keys(t).length!==0){const p=e||h,v=Je.fromObject(t,{...n,zone:p,specificOffset:a});return l?v:v.setZone(h)}else return Je.invalid(new Nr("unparsable",`the input "${i}" can't be parsed as ${r}`))}function cu(t,e,n=!0){return t.isValid?On.create(xt.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(t,e):null}function $f(t,e){const n=t.c.year>9999||t.c.year<0;let r="";return n&&t.c.year>=0&&(r+="+"),r+=Ut(t.c.year,n?6:4),e?(r+="-",r+=Ut(t.c.month),r+="-",r+=Ut(t.c.day)):(r+=Ut(t.c.month),r+=Ut(t.c.day)),r}function X0(t,e,n,r,i,a){let l=Ut(t.c.hour);return e?(l+=":",l+=Ut(t.c.minute),(t.c.second!==0||!n)&&(l+=":")):l+=Ut(t.c.minute),(t.c.second!==0||!n)&&(l+=Ut(t.c.second),(t.c.millisecond!==0||!r)&&(l+=".",l+=Ut(t.c.millisecond,3))),i&&(t.isOffsetFixed&&t.offset===0&&!a?l+="Z":t.o<0?(l+="-",l+=Ut(Math.trunc(-t.o/60)),l+=":",l+=Ut(Math.trunc(-t.o%60))):(l+="+",l+=Ut(Math.trunc(t.o/60)),l+=":",l+=Ut(Math.trunc(t.o%60)))),a&&(l+="["+t.zone.ianaName+"]"),l}const VS={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},Lj={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},Pj={ordinal:1,hour:0,minute:0,second:0,millisecond:0},HS=["year","month","day","hour","minute","second","millisecond"],Rj=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],$j=["year","ordinal","hour","minute","second","millisecond"];function Z0(t){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new qE(t);return e}function eb(t,e){const n=Pi(e.zone,Bt.defaultZone),r=xt.fromObject(e),i=Bt.now();let a,l;if(ot(t.year))a=i;else{for(const v of HS)ot(t[v])&&(t[v]=VS[v]);const h=US(t)||jS(t);if(h)return Je.invalid(h);const p=n.offset(i);[a,l]=Au(t,p,n)}return new Je({ts:a,zone:n,loc:r,o:l})}function tb(t,e,n){const r=ot(n.round)?!0:n.round,i=(l,h)=>(l=Og(l,r||n.calendary?0:2,!0),e.loc.clone(n).relFormatter(n).format(l,h)),a=l=>n.calendary?e.hasSame(t,l)?0:e.startOf(l).diff(t.startOf(l),l).get(l):e.diff(t,l).get(l);if(n.unit)return i(a(n.unit),n.unit);for(const l of n.units){const h=a(l);if(Math.abs(h)>=1)return i(h,l)}return i(t>e?-0:0,n.units[n.units.length-1])}function nb(t){let e={},n;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],n=Array.from(t).slice(0,t.length-1)):n=Array.from(t),[e,n]}class Je{constructor(e){const n=e.zone||Bt.defaultZone;let r=e.invalid||(Number.isNaN(e.ts)?new Nr("invalid input"):null)||(n.isValid?null:lu(n));this.ts=ot(e.ts)?Bt.now():e.ts;let i=null,a=null;if(!r)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(n))[i,a]=[e.old.c,e.old.o];else{const h=n.offset(this.ts);i=J0(this.ts,h),r=Number.isNaN(i.year)?new Nr("invalid input"):null,i=r?null:i,a=r?null:h}this._zone=n,this.loc=e.loc||xt.create(),this.invalid=r,this.weekData=null,this.c=i,this.o=a,this.isLuxonDateTime=!0}static now(){return new Je({})}static local(){const[e,n]=nb(arguments),[r,i,a,l,h,p,v]=n;return eb({year:r,month:i,day:a,hour:l,minute:h,second:p,millisecond:v},e)}static utc(){const[e,n]=nb(arguments),[r,i,a,l,h,p,v]=n;return e.zone=Pn.utcInstance,eb({year:r,month:i,day:a,hour:l,minute:h,second:p,millisecond:v},e)}static fromJSDate(e,n={}){const r=WF(e)?e.valueOf():NaN;if(Number.isNaN(r))return Je.invalid("invalid input");const i=Pi(n.zone,Bt.defaultZone);return i.isValid?new Je({ts:r,zone:i,loc:xt.fromObject(n)}):Je.invalid(lu(i))}static fromMillis(e,n={}){if(Ma(e))return e<-Y0||e>Y0?Je.invalid("Timestamp out of range"):new Je({ts:e,zone:Pi(n.zone,Bt.defaultZone),loc:xt.fromObject(n)});throw new hr(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,n={}){if(Ma(e))return new Je({ts:e*1e3,zone:Pi(n.zone,Bt.defaultZone),loc:xt.fromObject(n)});throw new hr("fromSeconds requires a numerical input")}static fromObject(e,n={}){e=e||{};const r=Pi(n.zone,Bt.defaultZone);if(!r.isValid)return Je.invalid(lu(r));const i=Bt.now(),a=ot(n.specificOffset)?r.offset(i):n.specificOffset,l=Nd(e,Z0),h=!ot(l.ordinal),p=!ot(l.year),v=!ot(l.month)||!ot(l.day),S=p||v,N=l.weekYear||l.weekNumber,C=xt.fromObject(n);if((S||h)&&N)throw new zo("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(v&&h)throw new zo("Can't mix ordinal dates with month/day");const A=N||l.weekday&&!S;let R,D,L=J0(i,a);A?(R=Rj,D=Lj,L=mp(L)):h?(R=$j,D=Pj,L=Lf(L)):(R=HS,D=VS);let I=!1;for(const B of R){const K=l[B];ot(K)?I?l[B]=D[B]:l[B]=L[B]:I=!0}const M=A?Oj(l):h?Mj(l):US(l),F=M||jS(l);if(F)return Je.invalid(F);const z=A?G0(l):h?K0(l):l,[j,W]=Au(z,a,r),H=new Je({ts:j,zone:r,o:W,loc:C});return l.weekday&&S&&e.weekday!==H.weekday?Je.invalid("mismatched weekday",`you can't specify both a weekday of ${l.weekday} and a date of ${H.toISO()}`):H}static fromISO(e,n={}){const[r,i]=XU(e);return Do(r,i,n,"ISO 8601",e)}static fromRFC2822(e,n={}){const[r,i]=ZU(e);return Do(r,i,n,"RFC 2822",e)}static fromHTTP(e,n={}){const[r,i]=ej(e);return Do(r,i,n,"HTTP",n)}static fromFormat(e,n,r={}){if(ot(e)||ot(n))throw new hr("fromFormat requires an input string and a format");const{locale:i=null,numberingSystem:a=null}=r,l=xt.fromOpts({locale:i,numberingSystem:a,defaultToEN:!0}),[h,p,v,S]=Aj(l,e,n);return S?Je.invalid(S):Do(h,p,r,`format ${n}`,e,v)}static fromString(e,n,r={}){return Je.fromFormat(e,n,r)}static fromSQL(e,n={}){const[r,i]=oj(e);return Do(r,i,n,"SQL",e)}static invalid(e,n=null){if(!e)throw new hr("need to specify a reason the DateTime is invalid");const r=e instanceof Nr?e:new Nr(e,n);if(Bt.throwOnInvalid)throw new jF(r);return new Je({invalid:r})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,n={}){const r=MS(e,xt.fromObject(n));return r?r.map(i=>i?i.val:null).join(""):null}static expandFormat(e,n={}){return AS(On.parseFormat(e),xt.fromObject(n)).map(i=>i.val).join("")}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Rf(this).weekYear:NaN}get weekNumber(){return this.isValid?Rf(this).weekNumber:NaN}get weekday(){return this.isValid?Rf(this).weekday:NaN}get ordinal(){return this.isValid?Lf(this.c).ordinal:NaN}get monthShort(){return this.isValid?ou.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?ou.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?ou.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?ou.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}get isInLeapYear(){return Sc(this.year)}get daysInMonth(){return Cd(this.year,this.month)}get daysInYear(){return this.isValid?ol(this.year):NaN}get weeksInWeekYear(){return this.isValid?Td(this.weekYear):NaN}resolvedLocaleOptions(e={}){const{locale:n,numberingSystem:r,calendar:i}=On.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:n,numberingSystem:r,outputCalendar:i}}toUTC(e=0,n={}){return this.setZone(Pn.instance(e),n)}toLocal(){return this.setZone(Bt.defaultZone)}setZone(e,{keepLocalTime:n=!1,keepCalendarTime:r=!1}={}){if(e=Pi(e,Bt.defaultZone),e.equals(this.zone))return this;if(e.isValid){let i=this.ts;if(n||r){const a=e.offset(this.ts),l=this.toObject();[i]=Au(l,a,e)}return No(this,{ts:i,zone:e})}else return Je.invalid(lu(e))}reconfigure({locale:e,numberingSystem:n,outputCalendar:r}={}){const i=this.loc.clone({locale:e,numberingSystem:n,outputCalendar:r});return No(this,{loc:i})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const n=Nd(e,Z0),r=!ot(n.weekYear)||!ot(n.weekNumber)||!ot(n.weekday),i=!ot(n.ordinal),a=!ot(n.year),l=!ot(n.month)||!ot(n.day),h=a||l,p=n.weekYear||n.weekNumber;if((h||i)&&p)throw new zo("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(l&&i)throw new zo("Can't mix ordinal dates with month/day");let v;r?v=G0({...mp(this.c),...n}):ot(n.ordinal)?(v={...this.toObject(),...n},ot(n.day)&&(v.day=Math.min(Cd(v.year,v.month),v.day))):v=K0({...Lf(this.c),...n});const[S,N]=Au(v,this.o,this.zone);return No(this,{ts:S,o:N})}plus(e){if(!this.isValid)return this;const n=lt.fromDurationLike(e);return No(this,Q0(this,n))}minus(e){if(!this.isValid)return this;const n=lt.fromDurationLike(e).negate();return No(this,Q0(this,n))}startOf(e){if(!this.isValid)return this;const n={},r=lt.normalizeUnit(e);switch(r){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0;break}if(r==="weeks"&&(n.weekday=1),r==="quarters"){const i=Math.ceil(this.month/3);n.month=(i-1)*3+1}return this.set(n)}endOf(e){return this.isValid?this.plus({[e]:1}).startOf(e).minus(1):this}toFormat(e,n={}){return this.isValid?On.create(this.loc.redefaultToEN(n)).formatDateTimeFromString(this,e):Pf}toLocaleString(e=up,n={}){return this.isValid?On.create(this.loc.clone(n),e).formatDateTime(this):Pf}toLocaleParts(e={}){return this.isValid?On.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:n=!1,suppressMilliseconds:r=!1,includeOffset:i=!0,extendedZone:a=!1}={}){if(!this.isValid)return null;const l=e==="extended";let h=$f(this,l);return h+="T",h+=X0(this,l,n,r,i,a),h}toISODate({format:e="extended"}={}){return this.isValid?$f(this,e==="extended"):null}toISOWeekDate(){return cu(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:n=!1,includeOffset:r=!0,includePrefix:i=!1,extendedZone:a=!1,format:l="extended"}={}){return this.isValid?(i?"T":"")+X0(this,l==="extended",n,e,r,a):null}toRFC2822(){return cu(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return cu(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?$f(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:n=!1,includeOffsetSpace:r=!0}={}){let i="HH:mm:ss.SSS";return(n||e)&&(r&&(i+=" "),n?i+="z":e&&(i+="ZZ")),cu(this,i,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():Pf}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const n={...this.c};return e.includeConfig&&(n.outputCalendar=this.outputCalendar,n.numberingSystem=this.loc.numberingSystem,n.locale=this.loc.locale),n}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,n="milliseconds",r={}){if(!this.isValid||!e.isValid)return lt.invalid("created by diffing an invalid DateTime");const i={locale:this.locale,numberingSystem:this.numberingSystem,...r},a=GF(n).map(lt.normalizeUnit),l=e.valueOf()>this.valueOf(),h=l?this:e,p=l?e:this,v=mj(h,p,a,i);return l?v.negate():v}diffNow(e="milliseconds",n={}){return this.diff(Je.now(),e,n)}until(e){return this.isValid?Ot.fromDateTimes(this,e):this}hasSame(e,n){if(!this.isValid)return!1;const r=e.valueOf(),i=this.setZone(e.zone,{keepLocalTime:!0});return i.startOf(n)<=r&&r<=i.endOf(n)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const n=e.base||Je.fromObject({},{zone:this.zone}),r=e.padding?this<n?-e.padding:e.padding:0;let i=["years","months","days","hours","minutes","seconds"],a=e.unit;return Array.isArray(e.unit)&&(i=e.unit,a=void 0),tb(n,this.plus(r),{...e,numeric:"always",units:i,unit:a})}toRelativeCalendar(e={}){return this.isValid?tb(e.base||Je.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(Je.isDateTime))throw new hr("min requires all arguments be DateTimes");return M0(e,n=>n.valueOf(),Math.min)}static max(...e){if(!e.every(Je.isDateTime))throw new hr("max requires all arguments be DateTimes");return M0(e,n=>n.valueOf(),Math.max)}static fromFormatExplain(e,n,r={}){const{locale:i=null,numberingSystem:a=null}=r,l=xt.fromOpts({locale:i,numberingSystem:a,defaultToEN:!0});return OS(l,e,n)}static fromStringExplain(e,n,r={}){return Je.fromFormatExplain(e,n,r)}static get DATE_SHORT(){return up}static get DATE_MED(){return WE}static get DATE_MED_WITH_WEEKDAY(){return HF}static get DATE_FULL(){return GE}static get DATE_HUGE(){return KE}static get TIME_SIMPLE(){return YE}static get TIME_WITH_SECONDS(){return JE}static get TIME_WITH_SHORT_OFFSET(){return QE}static get TIME_WITH_LONG_OFFSET(){return XE}static get TIME_24_SIMPLE(){return ZE}static get TIME_24_WITH_SECONDS(){return eS}static get TIME_24_WITH_SHORT_OFFSET(){return tS}static get TIME_24_WITH_LONG_OFFSET(){return nS}static get DATETIME_SHORT(){return rS}static get DATETIME_SHORT_WITH_SECONDS(){return iS}static get DATETIME_MED(){return aS}static get DATETIME_MED_WITH_SECONDS(){return sS}static get DATETIME_MED_WITH_WEEKDAY(){return BF}static get DATETIME_FULL(){return oS}static get DATETIME_FULL_WITH_SECONDS(){return lS}static get DATETIME_HUGE(){return cS}static get DATETIME_HUGE_WITH_SECONDS(){return uS}}function Io(t){if(Je.isDateTime(t))return t;if(t&&t.valueOf&&Ma(t.valueOf()))return Je.fromJSDate(t);if(t&&typeof t=="object")return Je.fromObject(t);throw new hr(`Unknown datetime argument: ${t}, of type ${typeof t}`)}const Fj=[{field:"Nombre",inNameId:"name",inType:"text"},{field:"Apellido",inNameId:"lastName",inType:"text"},{field:"Contrase\xF1a",inNameId:"password",inType:"password"},{field:"Email",inNameId:"email",inType:"email"},{field:"Numero De Contacto",inNameId:"phoneNumber",inType:"tel"},{field:"Pais",inNameId:"country",inType:"text"},{field:"Ciudad",inNameId:"city",inType:"text"}],Uj=()=>{const[t,e]=oe.exports.useState({}),[n,r]=oe.exports.useState(!1),[i,a]=oe.exports.useState(""),{createUser:l}=wr(),h=Un();Je.now().toFormat("DDDD - HH:mm:ss");const p=Eh(),v=A=>{e({...t,[A.target.name]:A.target.value})},S={role:"alumn",remainingClases:0,completedClases:0,absentedClases:0,actualClass:0,teacher:"unasigned",newNotifications:!0,notifications:1,newbie:!0,durationClass:0},N={textNotification:"Bienvenido a Navis!",notificationType:"Welcome",checked:!1},C=async A=>{A.preventDefault(),a(""),r(!0);try{const R=await l(t.email,t.password).then(M=>M);console.log(R);const D=mn(),L=Lt(D,`Users/${R.user.uid}`);Xi(L,{...t,...S});const I=br(D,`Users/${R.user.uid}/myNotifications`);kh(I,{...N,timeStamp:p}),h("/account")}catch(R){a(R.message),swal("UPS!",`${R.message}`,"error"),r(!1)}};return n?P(ns,{}):P(jn,{children:P("div",{className:"signIn__main-container",children:ie("div",{className:"signIn__container",children:[ie("form",{onSubmit:C,children:[Fj.map((A,R)=>ie("div",{children:[ie("label",{htmlFor:A.inNameId,children:[A.field," :"]}),P("input",{type:A.inType,id:A.inNameId,name:A.inNameId,value:t[A.inNameId]||"",onChange:v})]},R)),P("button",{type:"submit",children:"Crear Cuenta"})]}),ie("div",{children:[ie("div",{className:"signIn__tittleColumn",children:[ie("p",{className:"signIn-logo",children:[P("img",{className:"cohete-navis",src:BE,alt:"cohete.svg"}),P("i",{className:"fa-solid fa-user"})]}),P("p",{className:"signIn-tittle",children:"SignUp"})]}),ie("p",{className:"subTittle",children:["\xBFYa tienes una cuenta?",P(Ft,{to:"/signIn",children:"Inicia sesi\xF3n."})]})]})]})})})},jj=({children:t})=>{const{userLogged:e}=wr();return e?t:P(fm,{to:"/signIn"})},zj=({children:t})=>{const{userLogged:e}=wr(),{user:n}=Tn();return e?n.role==="teacher"?P("h1",{children:"NOT A STUDENT ACOUNT"}):t:P(fm,{to:"/signIn"})},Vj=({children:t})=>{const{userLogged:e}=wr(),{user:n}=Tn();return e?n.role==="alumn"?P("h1",{children:"NOT A TEACHER ACOUNT"}):t:P(fm,{to:"/signIn"})};const Hj=({userInfo:t,role:e,toggle:n})=>ie("div",{className:"asideProfile-container",children:[P("div",{className:"userCard-header_container",children:ie("div",{className:"userCard-header",children:[P("div",{className:"user-avatar",children:P("i",{className:"fa-solid fa-user fa-3x"})}),ie("div",{className:"userMain-info",children:[ie("p",{children:[t.name," ",t.lastName]}),P("span",{children:e==="alumn"?"Estudiante":"Profesor"})]})]})}),P("div",{className:"userCard-body",children:ie("div",{className:"userCard-body-input",children:[P("span",{className:"userCard-body-input_title",children:"Mail:"}),P("span",{className:"userCard-body-input_content",children:t.email})]})}),P("div",{className:"userCard-body",children:ie("div",{className:"userCard-body-input",children:[P("span",{className:"userCard-body-input_title",children:"Pais:"}),P("span",{className:"userCard-body-input_content",children:t.country})]})}),P("div",{className:"userCard-body",children:ie("div",{className:"userCard-body-input",children:[P("span",{className:"userCard-body-input_title",children:"Ciudad:"}),P("span",{className:"userCard-body-input_content",children:t.city})]})}),P("div",{className:"userCard-body",children:ie("div",{className:"userCard-body-input",children:[P("span",{className:"userCard-body-input_title",children:"Numero de contacto:"}),P("span",{className:"userCard-body-input_content",children:t.phoneNumber})]})}),P("div",{className:"userCard-footer",children:P("button",{className:"userCard-button",onClick:()=>{n()},children:"Editar Informacion"})})]}),Bj=t=>ie("div",{children:[P("div",{className:"",children:"Perfil Alumno:"}),ie("div",{className:"",children:["Nombre: ",t.name]}),ie("div",{className:"",children:["Apellido: ",t.lastName]}),ie("div",{className:"",children:["Pais: ",t.country]}),ie("div",{className:"",children:["Ciudad: ",t.city]}),ie("div",{className:"",children:["Telefono: ",t.phoneNumber]})]}),qj=t=>ie("div",{children:["Perfil Teacher:",P("br",{}),"Nombre: ",t.name,P("br",{}),"Apellido: ",t.lastName,P("br",{}),"Pais: ",t.country,P("br",{}),"Ciudad: ",t.city,P("br",{}),"Telefono: ",t.phoneNumber]});const Wj=()=>{const{userLogged:t}=wr(),{user:e}=Tn(),[n,r]=oe.exports.useState({}),[i,a]=oe.exports.useState(!1),l=p=>{r({...n,[p.target.name]:p.target.value}),console.log(n)},h=async p=>{p.preventDefault(),a(!0);try{const v=mn(),S=Lt(v,`Users/${t.uid}`);await zr(S,{...n}),a(!1)}catch(v){swal("UPS!",`${v.message}`,"error"),a(!1)}};return i?P(ns,{}):ie("div",{className:"editarInfo-container",children:[P("h1",{children:"EDITAR INFO DE USUARIO"}),e.role==="alumn"?P(Bj,{...e.form}):P(qj,{...e.form}),P("div",{className:"caja__trasera",children:P("div",{className:"caja__trasera-login",children:ie("form",{className:"form__Register",onSubmit:h,children:[P("label",{htmlFor:"name",children:"Name :"}),P("input",{type:"text",id:"name",name:"name",value:n.name||"",onChange:l}),P("br",{}),P("label",{htmlFor:"lastName",children:"Last name :"}),P("input",{type:"text",id:"lastName",name:"lastName",value:n.lastName||"",onChange:l}),P("br",{}),P("label",{htmlFor:"phoneNumber",children:"Phone Number :"}),P("input",{type:"tel",id:"phoneNumber",name:"phoneNumber",value:n.phoneNumber||"",onChange:l}),P("br",{}),P("label",{htmlFor:"country",children:"Country:"}),P("input",{type:"text",id:"country",name:"country",value:n.country||"",onChange:l}),P("br",{}),P("label",{htmlFor:"city",children:"City:"}),P("input",{type:"text",id:"city",name:"city",value:n.city||"",onChange:l}),P("br",{}),P("button",{className:"boton__Edit",type:"submit",id:"btn__iniciar-sesion",children:"Editar"})]})})})]})};const Gj=()=>{const{user:t}=Tn();Un();const[e,n]=oe.exports.useState(!1),r=t.form,i=()=>{n(!e)};return r?ie("div",{className:"mainProfile-container",children:[P(Hj,{userInfo:r,role:t.role,toggle:i}),e&&P(Wj,{})]}):P(ns,{})};const Kj=t=>{const n=t.date.toDate().toLocaleDateString();return ie("div",{className:"nextClass__info",children:[ie("p",{className:"nextClass__date",children:["PROXIMA CLASE : ",n]}),ie("p",{className:"nextClass__time",children:[t.time," HS"]}),P("p",{className:"nextClass__teacher",children:t.teacher})]})},Yj=()=>{const t=Un();return ie("div",{className:"studentPanelActionButtons",children:[P("button",{className:"studentPanelButton",children:"INICIAR CLASE"}),P("a",{href:"https://www.blinklearning.com/v/1666102044/themes/tmpux/launch.php",children:P("button",{className:"studentPanelButton",children:"BLINK LEARNING"})}),P("button",{className:"studentPanelButton",onClick:()=>{swal("Muy Bien","Aqui podras reprogramar tu clase","success"),t("/Account/ReprogramClass")},children:"REPROGRAMAR CLASE"})]})},Jj=t=>{const e=Un(),n=()=>{e("/MiCalendario")};return ie("div",{className:"studentClassInfo__container",children:[P("div",{className:"studentClassInfo__remainingClases",children:ie("p",{children:["CLASES DISPONIBLES: ",t.remainingClases]})}),P("button",{className:"studentPanelButton",onClick:n,children:"Ver Calendario"})]})},Qj=t=>{let e=t.completedClases/(t.actualClass+1)*100,n=Math.round(e);return ie("div",{className:"studentClassInfo__asistencia",children:[P("p",{className:"asistencia__title",children:"ASISTENCIA"}),ie("p",{className:"asistencia__percent",children:[n,"%"]}),ie("div",{className:"asistencia",children:[ie("p",{children:[t.completedClases," Presentes"]}),ie("p",{children:[t.absentedClases," Ausente"]})]})]})};const Xj=()=>{const{user:t}=Tn(),e=Eh();oe.exports.useState(!1);const[n,r]=oe.exports.useState([]),i=["lunes","martes","miercoles","jueves","viernes","sabado","domingo"],a={condition:"pending",teacher:"unasigned",remainingClases:t.misClases.remainingClases,studentUid:t.uid,studentEmail:t.email,studentName:t.form.name,studentLastName:t.form.lastName},l={textNotification:"Programaste tus clases, en breve se te asiganara un profesor",notificationType:"Notificacion",checked:!1},h=async()=>{const S=["domingo","lunes","martes","miercoles","jueves","viernes","sabado"];let N=[];S.map((C,A)=>{let R=n.filter(D=>D.day===C);N.push(...R)});try{const C=mn(),A=Ed(br(C,`Users/${t.uid}/myClasses`));kh(A,{userWeek:N,...a}).then(({id:D})=>{const L=Lt(C,`Classes/${D}`);Xi(L,{userWeek:N,...a});const I=Lt(C,`Users/${t.uid}/myNotifications/${D}`);Xi(I,{...l,timeStamp:e})});const R=Lt(C,`Users/${t.uid}`);await zr(R,{teacher:"pending",notifications:Bl(1),newbie:!1}),swal("Muy Bien","Pronto se te asignara un profesor!","success")}catch(C){swal("UPS!",`${C.message}`,"error")}},p=()=>{let S=!1;n.length===0?swal("CUIDADO!","Debes seleccionar al menos un dia y un horario","error"):n.map((N,C)=>{N.time!=null?S=!0:(swal("CUIDADO!","Debes eleccionar un horario","error"),S=!1)}),S&&(console.log(n),h())},v=S=>{let N=n.filter(A=>A.day===S.target.id),C=n.filter(A=>A.day!=S.target.id);N={day:S.target.id,time:S.target.value},C.push(N),r(C)};return P(jn,{children:ie("div",{className:"programar-clase-conteiner",children:[P("h5",{children:"Selecciona los dias y el horario en que quieres tomar tus clases"}),P("ul",{className:"day-list",children:i.map((S,N)=>{const[C,A]=oe.exports.useState(!1);return ie("div",{className:"day-time-button",children:[P("li",{className:C?"day-button clicked":"day-button",onClick:()=>{let R=n;C?R=R.filter(D=>D.day!=S):R.push({day:S,time:void 0}),A(!C),r(R),console.log(n)},children:S}),C&&P("input",{step:600,type:"time",id:S,name:"time",value:n.time,onChange:v})]},N)})}),P("button",{className:"continue-button",onClick:p,children:"CONTINUAR"})]})})},Zj=()=>{const{user:t}=Tn(),e=Un(),n=t.form,r=async i=>{try{const a=mn(),l=Lt(a,`Users/${t.uid}`);await zr(l,{durationClass:i}),e("/Panel")}catch(a){swal("UPS!",`${a.message}`,"error")}console.log(i)};return P("div",{className:"MyFirstClasses__container",children:n.remainingClases>0?P("div",{children:P(Xj,{})}):P("div",{children:n.durationClass===0?ie("div",{children:[ie("div",{className:"MyfirstClasses__welcome",children:[P("h5",{children:"Bienvenido a NAVIS"}),P("p",{children:"Para empezar debes adquirir tu primer paquete de clases"}),P("p",{children:"Pero antes debes elegir entre clases de 30min o 50min"})]}),ie("div",{className:"cards__container",children:[P("div",{className:"buy-card",children:ie("ul",{children:[P("li",{className:"amount",children:"Clases de 30min "}),P("div",{children:P("button",{className:"button__Card",onClick:()=>r(30),children:"SLECCIONAR"})})]})}),P("div",{className:"buy-card",children:ie("ul",{children:[P("li",{className:"amount",children:"Clases de 50min "}),P("div",{children:P("button",{className:"button__Card",onClick:()=>r(50),children:"SLECCIONAR"})})]})})]})]}):ie("div",{children:[ie("div",{className:"MyfirstClasses__welcome",children:[P("h5",{children:"Bienvenido a NAVIS"}),P("p",{children:"Adquiere tu primer paquete de clases"})]}),P(Sd,{duration:n.durationClass})]})})})},BS=()=>{const{user:t}=Tn(),[e,n]=oe.exports.useState([]),[r,i]=oe.exports.useState(!0),[a,l]=oe.exports.useState(),h=t.form;return oe.exports.useEffect(()=>{const p=mn(),v=br(p,`Users/${t.uid}/mySchedule`);sa(v).then(S=>{const N=S.docs.map(A=>({...A.data()})),C=[];N.forEach(A=>Object.keys(A).forEach(R=>C.push({condition:A[R].condition,date:A[R].date,time:A[R].time,day:A[R].day,month:A[R].month,teacher:A[R].text}))),n(C),l(t.form.actualClass),i(!1)})},[t]),r?P(ns,{}):P("div",{children:h.newbie?P(Zj,{}):h.teacher==="assigned"?ie("div",{children:[ie("div",{className:"nextClass__container",children:[P(Kj,{...e[a]}),P(Yj,{}),P(Qj,{...t.misClases})]}),P(Jj,{...t.misClases}),P(Sd,{duration:h.durationClass,msg:"ADQUIERE MAS CLASES"})]}):ie("div",{children:[ie("div",{className:"MyfirstClasses__welcome",children:[P("h5",{children:"FELICITACIONES!"}),P("p",{children:"Pronto se te asignara un profesor"})]}),P(Sd,{duration:h.durationClass,msg:"ADQUIERE MAS CLASES"})]})})};const ez=({classDate:t,studentId:e})=>{const n=t.toDate(),r=new Date;let i=n-r,a=60*1e3,l=60*a,h=24*l,p=Math.floor(i/h),v=Math.floor(i%h/l);return P("div",{children:p>1?P("div",{children:ie("p",{children:["Faltan ",p," dias"]})}):v>4?P("div",{children:ie("p",{children:["Faltan ",v," horas"]})}):P("div",{children:P("button",{children:"INICIAR CLASE"})})})},tz=({myClass:t})=>ie("div",{className:"myClasses-container",children:[P("h5",{children:"PROXIMA CLASE"}),t.map((e,n)=>{const i=e.date.toDate().toLocaleDateString();return ie("div",{className:"myClasses-card",children:[P("p",{className:"myClasses-card_date",children:i}),ie("ul",{className:"myClasses-card_info",children:[P("li",{className:"myClasses-card_student",children:e.student}),ie("li",{className:"myClasses-card_time",children:[e.time," HS"]})]}),P(ez,{classDate:e.date,studentId:e.studentUid})]},n)})]});function qS(){const{user:t}=Tn(),[e,n]=oe.exports.useState([]),[r,i]=oe.exports.useState(!0),a=Un();return oe.exports.useEffect(()=>{const v=mn(),S=br(v,`Users/${t.uid}/mySchedule`);sa(S).then(N=>{const C=N.docs.map(R=>({...R.data()})),A=[];C.forEach(R=>Object.keys(R).forEach(D=>A.push({condition:R[D].condition,date:R[D].date,time:R[D].time,student:R[D].text,studentUid:R[D].studentUid}))),A.sort((R,D)=>R.date<D.date?-1:R.date>D.date?1:0),n(A),i(!1)})},[t]),P(jn,{children:ie("div",{children:[ie("div",{className:"encabezado",children:[P("button",{onClick:()=>{a("/Account")},children:"Mi Perfil"}),P("button",{onClick:()=>{a("/Account/Teacher/MyStudents"),swal("BIENVENIDO","Aqu\xED podras ver una lista de tus alumnos","success")},children:"Mis Alumnos"}),P("button",{onClick:()=>{a("/MiCalendario")},children:"Mi Calendario"}),ie("ul",{className:"infoEncabezado",children:[P("li",{className:"infoTittle",children:"Mis Clases Impartidas"}),ie("li",{children:["Totales: ",t.form.totalClasses]}),ie("li",{children:["Este mes: ",t.form.thisMonthClasses," "]}),ie("li",{children:["Mes Anterior: ",t.form.lastMonthClasses]})]})]}),P("div",{children:P(tz,{myClass:e})})]})})}const nz=()=>{const{user:t}=Tn();return P("div",{children:t.role==="alumn"?P(BS,{}):t.role==="teacher"?P(qS,{}):P(ns,{})})},rz=()=>{const t=Un();return P("div",{className:"admin__Options",children:ie("div",{className:"admin__Body",children:[P("h2",{children:"PANEL DE ADMINISTRADOR"}),ie("div",{className:"admin__Button",children:[P("button",{className:"card__Admin__Buttons",onClick:()=>{swal("Bienvenido","Aqui podras crear cuentas de profesores","success"),t("/Admin/CreateTeacherAccount")},children:"CREAR CUENTA DE PROFESOR"}),P("button",{className:"card__Admin__Buttons",onClick:()=>{swal("Bienvenido","Aqui veras las clases programadas y asignaras los profesores","success"),t("/Admin/ProgramingClassesAsAdmin")},children:"PROGRAMAR CLASES"})]})]})})},iz=[{field:"Nombre",inNameId:"name",inType:"text"},{field:"Apellido",inNameId:"lastName",inType:"text"},{field:"Contrase\xF1a",inNameId:"password",inType:"password"},{field:"Email",inNameId:"email",inType:"email"},{field:"Numero De Contacto",inNameId:"phoneNumber",inType:"tel"},{field:"Pais",inNameId:"country",inType:"text"},{field:"Ciudad",inNameId:"city",inType:"text"}];const ga=[{"00:00":!0,"01:00":!0,"02:00":!0,"03:00":!0,"04:00":!0,"05:00":!0,"06:00":!0,"07:00":!0,"08:00":!0,"09:00":!0,"10:00":!0,"11:00":!0,"12:00":!0,"13:00":!0,"14:00":!0,"15:00":!0,"16:00":!0,"17:00":!0,"18:00":!0,"19:00":!0,"20:00":!0,"21:00":!0,"22:00":!0,"23:00":!0}],az=({teacherForm:t})=>{const{createUser:e}=wr(),n=Un(),r=["lunes","martes","miercoles","jueves","viernes","sabado","domingo"],[i,a]=oe.exports.useState([]),[l,h]=oe.exports.useState(...ga),[p,v]=oe.exports.useState(...ga),[S,N]=oe.exports.useState(...ga),[C,A]=oe.exports.useState(...ga),[R,D]=oe.exports.useState(...ga),[L,I]=oe.exports.useState(...ga),[M,F]=oe.exports.useState(...ga),z=B=>{let K=i.filter(Z=>Z.day===B.target.id),Y=K[0].timeEnd,te=i.filter(Z=>Z.day!=B.target.id);K={day:B.target.id,timeStart:B.target.value,timeEnd:Y},te.push(K),a(te)},j=B=>{let K=i.filter(Z=>Z.day===B.target.id),Y=K[0].timeStart,te=i.filter(Z=>Z.day!=B.target.id);K={day:B.target.id,timeStart:Y,timeEnd:B.target.value},te.push(K),a(te)},W=async()=>{const K={...t,weekDisponibility:i,disponibility:{lunes:l,martes:p,miercoles:S,jueves:C,viernes:R,sabado:L,domingo:M}};try{const Y=await e(t.email,t.password).then(ue=>ue),te=mn(),Z=Lt(te,`Users/${Y.user.uid}`);await Xi(Z,{...K}),n("/account")}catch(Y){swal("UPS!",`${Y.message}`,"error")}},H=()=>{let B=!(!t.name||t.name.length<4),K=!(!t.lastName||t.lastName.length<4),Y=!(!t.password||t.password.length<9),te=!(!t.email||t.email<12);B?B=!0:swal("CUIDADO!","El nombre debe tener al menos 4 caracteres","error"),K?K=!0:swal("CUIDADO!","El apellido debe tener al menos 4 caracteres","error"),Y?Y=!0:swal("CUIDADO!","La contrase\xF1a debe tener al menos 9 caracteres","error"),te?te=!0:swal("CUIDADO!","Ingrese una direccion de email valida","error");let Z=!1;i.length===0?swal("CUIDADO!","Debes seleccionar al menos un dia y un horario","error"):i.map(xe=>{xe.timeStart!=null&&xe.timeEnd!=null?xe.timeStart>=xe.timeEnd?swal("CUIDADO!","El horario de inicio debe ser menor al de finalizacion","error"):Z=!0:swal("CUIDADO!","Debes seleccionar un horario","error")}),B&&K&&Y&&te&&Z&&W()};return P(jn,{children:ie("div",{className:"teacherDisponibility-conteiner",children:[P("h5",{children:"Selecciona los dias y el horario de disponibilidad del docente"}),P("ul",{className:"teacherDisponibility-day-list",children:r.map((B,K)=>{const[Y,te]=oe.exports.useState(!1);return ie("div",{className:"teacherDisponibility-day-time-button",children:[P("li",{className:Y?"teacherDisponibility-day-button clicked":"teacherDisponibility-day-button",onClick:()=>{let Z=i;Y?Z=Z.filter(ue=>ue.day!=B):Z.push({day:B,timeStart:void 0,timeEnd:void 0}),te(!Y),a(Z),console.log(i)},children:B}),Y&&ie("div",{className:"time-selector",children:[ie("li",{children:["Horario de inicio :",P("input",{step:900,type:"time",id:B,name:"timeStart",value:i.timeStart,onChange:z})]}),ie("li",{children:["Horario de finalizacion :",P("input",{step:900,type:"time",id:B,name:"timeEnd",value:i.timeEnd,onChange:j})]})]})]},K)})}),P("button",{className:"teacherDisponibility-continue-button",onClick:H,children:"CREAR CUENTA DE PROFESOR"})]})})};const sz=()=>{const[t,e]=oe.exports.useState({role:"teacher",totalClasses:0,remainingClasses:0,thisMonthClasses:0,lastMonthClasses:0}),n=r=>{e({...t,[r.target.name]:r.target.value})};return P(jn,{children:ie("div",{className:"createTeacher-container",children:[P("div",{className:"caja__trasera-login",children:P("form",{className:"form__Register",children:iz.map((r,i)=>ie("div",{children:[ie("label",{htmlFor:r.inNameId,children:[r.field," :"]}),P("input",{type:r.inType,id:r.inNameId,name:r.inNameId,value:t[r.inNameId]||"",onChange:n})]},i))})}),P(az,{teacherForm:t})]})})},oz=({date:t,teacher:e})=>{console.log("INFO EN date : ",t),console.log("INFO EN userWeek : ",t.userWeek),console.log("INFO EN teacher : ",e);const n=Eh(),r={teacher:"assigned",condition:"succes",teacherEmail:e.email,teacherUid:e.id,teacherName:e.name,teacherLastName:e.lastName},i={studentEmail:t.studentEmail,studentUid:t.studentUid,studentName:t.studentName,studentLastName:t.studentLastName,remainingClases:t.remainingClases,classWith:t.userWeek},a={textNotification:"Felicitaciones, tu peticion de clases fue aceptada, ya te asignamos un profesor",notificationType:"Notificacion",checked:!1},l=[],h=[],p=[],v=e.disponibility;let S=v,N=!0,C=0;const A=()=>{N=!N};t.userWeek.map(L=>{const I=e.weekDisponibility.filter(M=>M.day===L.day);l.push(...I)}),t.userWeek.length!=l.length?A():t.userWeek.map((L,I)=>{!(L.time>=l[I].timeStart&&L.time<l[I].timeEnd)&&A()}),N&&t.userWeek.map((L,I)=>{L.day==="lunes"&&v.lunes[L.time]&&C++,L.day==="martes"&&v.martes[L.time]&&C++,L.day==="miercoles"&&v.miercoles[L.time]&&C++,L.day==="jueves"&&v.jueves[L.time]&&C++,L.day==="viernes"&&v.viernes[L.time]&&C++,L.day==="sabado"&&v.sabado[L.time]&&C++,L.day==="domingo"&&v.domingo[L.time]&&C++}),N&&C!=t.userWeek.length&&A();const R=()=>{let L=new Date;const I=(ue,xe)=>{ue.setDate(ue.getDate()+xe)};let M=0,F=1,z=2,j=3,W=4,H=5,B=6;switch(L.getDay()){case 0:I(L,7);break;case 1:I(L,6);break;case 2:I(L,5);break;case 3:I(L,4);break;case 4:I(L,3);break;case 5:I(L,2);break;case 6:I(L,1);break}const Y=(ue,xe)=>{I(L,xe);let je=L.getDate(),ke=L.getMonth(),rt=L.getFullYear(),fe=parseInt(ue),ve=new Date(rt,ke,je,fe),Ne=ue,Ve=parseInt(ue);Ve++,Ve=Ve.toString(),Ve=Ve+":00";let Ye=`${rt}-${ke+1}-${je} ${Ne}`,Ht=`${rt}-${ke+1}-${je} ${Ve}`;const Rt={condition:"pending",start_date:`${Ye}`,end_date:`${Ht}`,date:ve,time:ue,day:je,month:ke,year:rt,dayNumber:xe},gn={...Rt,text:`Alumno : ${t.studentName} ${t.studentLastName}`,studentUid:t.studentUid},mt={...Rt,text:`Profesor : ${e.name} ${e.lastName}`};h.push(gn),p.push(mt),I(L,-xe)},te=ue=>{ue.day==="domingo"&&Y(ue.time,M),ue.day==="lunes"&&Y(ue.time,F),ue.day==="martes"&&Y(ue.time,z),ue.day==="miercoles"&&Y(ue.time,j),ue.day==="jueves"&&Y(ue.time,W),ue.day==="viernes"&&Y(ue.time,H),ue.day==="sabado"&&Y(ue.time,B)};let Z=0;I(L,7);for(let ue=0;ue<t.remainingClases;ue++)Z===t.userWeek.length&&(Z=0,I(L,7)),te(t.userWeek[Z]),Z++;t.userWeek.map(ue=>{let xe=S[ue.day];xe[ue.time]=!1})},D=async L=>{R(),L.preventDefault();try{const I=mn(),M=Lt(I,`Classes/${t.id}`);await zr(M,{...r});const F=Lt(I,`Users/${e.id}`);await zr(F,{disponibility:S});const z=Lt(I,`Users/${e.id}/myStudents/${t.studentUid}`);await Xi(z,{...i});const j=Lt(I,`Users/${e.id}/mySchedule/${t.studentUid}`);await Xi(j,{...h});const W=Lt(I,`Users/${t.studentUid}`);await zr(W,{teacher:"assigned",teacherName:`${e.name} ${e.lastName}`,teacherUid:e.id,notifications:Bl(1)});const H=Lt(I,`Users/${t.studentUid}/myClasses/${t.id}`);await zr(H,{...r});const B=Lt(I,`Users/${t.studentUid}/mySchedule/${t.id}`);await Xi(B,{...p});const K=br(I,`Users/${t.studentUid}/myNotifications`);await kh(K,{...a,timeStamp:n})}catch(I){swal("UPS!",`${I.message}`,"error")}};if(N)return P("div",{children:ie("ul",{children:[ie("li",{children:[" Profesor: ",e.name," ",e.lastName," "]}),ie("li",{children:[" Email: ",e.email," "]}),P("li",{children:" Disponible para cubrir la clase "}),P("button",{onClick:D,children:"ASIGNAR PROFESOR"})]})})},lz=({date:t,teachers:e=[],daysInfo:n})=>e.map(r=>P(oz,{date:t,teacher:r,requiredDays:n},r.id));const cz=({info:t,teachersList:e})=>{const[n,r]=oe.exports.useState(!1),[i,a]=oe.exports.useState([]),l=()=>{console.log(e),swal("OK","Selecciona un profesor de la lista","success"),r(!0)};return ie("div",{className:"panel_Content",children:[P("div",{className:"profile-card",children:ie("ul",{className:"profile-card",children:[ie("li",{children:[" ALUMNO: ",t.studentName," ",t.studentLastName]}),P("button",{className:"profile-card__button",onClick:l,children:"ASIGNAR PROFESOR"})]})}),n?ie("div",{children:[P("h1",{children:"PROFESORES DISPONIBLES"}),P(lz,{date:t,teachers:e,daysInfo:i})]}):""]})},uz=({classDate:t=[],teachers:e=[]})=>t.map(n=>P(cz,{info:n,teachersList:e},n.id)),dz=()=>{const[t,e]=oe.exports.useState([]),[n,r]=oe.exports.useState([]),[i,a]=oe.exports.useState(!0);return oe.exports.useEffect(()=>{const l=mn(),h=br(l,"Classes"),p=Ed(h,w0("teacher","==","unasigned"));sa(p).then(N=>e(N.docs.map(C=>({id:C.id,...C.data()}))));const v=br(l,"Users"),S=Ed(v,w0("role","==","teacher"));sa(S).then(N=>r(N.docs.map(C=>({id:C.id,...C.data()})))),a(!1)},[]),i?P(ns,{}):ie("div",{children:[P("h4",{children:"CLASES A PROGRAMAR"}),P(uz,{classDate:t,teachers:n})]})};const hz=({info:t})=>ie("div",{className:"asideProfile-container",children:[P("div",{className:"userCard-header_container",children:ie("div",{className:"userCard-header",children:[P("div",{className:"user-avatar",children:P("i",{className:"fa-solid fa-user fa-3x"})}),ie("div",{className:"userMain-info",children:[ie("p",{children:[t.studentName," ",t.studentLastName]}),P("span",{children:" Alumno "})]})]})}),P("div",{className:"userCard-body",children:ie("div",{className:"userCard-body-input",children:[P("span",{className:"userCard-body-input_title",children:"Mail:"}),P("span",{className:"userCard-body-input_content",children:t.studentEmail})]})}),P("div",{className:"userCard-body",children:ie("div",{className:"userCard-body-input",children:[P("span",{className:"userCard-body-input_title",children:"Clases Restantes:"}),P("span",{className:"userCard-body-input_content",children:t.remainingClases})]})}),t.classWith.map((e,n)=>P("div",{className:"userCard-body",children:ie("div",{className:"userCard-body-input",children:[ie("span",{className:"userCard-body-input_title",children:[e.day," :"]}),ie("span",{className:"userCard-body-input_content",children:[e.time," Hs"]})]})},n))]}),fz=({myStudents:t=[]})=>t.map(e=>P(hz,{info:e},e.id));const _z=()=>{const{user:t}=Tn(),[e,n]=oe.exports.useState([]);return oe.exports.useEffect(()=>{const r=mn(),i=br(r,`Users/${t.uid}/myStudents`);sa(i).then(a=>n(a.docs.map(l=>({id:l.id,...l.data()}))))},[t]),P("div",{className:"myStudents-container",children:P(fz,{myStudents:e})})};var pz={exports:{}};/*!
 * @license
 * 
 * dhtmlxScheduler v.6.0.2 Standard
 * 
 * To use dhtmlxScheduler in non-GPL projects (and get Pro version of the product), please obtain Commercial/Enterprise or Ultimate license on our site https://dhtmlx.com/docs/products/dhtmlxScheduler/#licensing or contact us at sales@dhtmlx.com
 * 
 * (c) XB Software Ltd.
 * 
 */(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function i(a){if(r[a])return r[a].exports;var l=r[a]={i:a,l:!1,exports:{}};return n[a].call(l.exports,l,l.exports,i),l.l=!0,l.exports}return i.m=n,i.c=r,i.d=function(a,l,h){i.o(a,l)||Object.defineProperty(a,l,{enumerable:!0,get:h})},i.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},i.t=function(a,l){if(1&l&&(a=i(a)),8&l||4&l&&typeof a=="object"&&a&&a.__esModule)return a;var h=Object.create(null);if(i.r(h),Object.defineProperty(h,"default",{enumerable:!0,value:a}),2&l&&typeof a!="string")for(var p in a)i.d(h,p,function(v){return a[v]}.bind(null,p));return h},i.n=function(a){var l=a&&a.__esModule?function(){return a.default}:function(){return a};return i.d(l,"a",l),l},i.o=function(a,l){return Object.prototype.hasOwnProperty.call(a,l)},i.p="/codebase/",i(i.s=9)}([function(n,r,i){(function(a){var l;l=typeof window<"u"?window:a,r.a=l}).call(this,i(1))},function(n,r){function i(l){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(l)}var a;a=function(){return this}();try{a=a||new Function("return this")()}catch{(typeof window>"u"?"undefined":i(window))==="object"&&(a=window)}n.exports=a},function(n,r){n.exports=function(i){return function(){var a={};for(var l in this._events){var h=this._events[l];h.id.toString().indexOf("#")==-1&&(a[h.id]=h)}return a}.bind(i)}},function(n,r){n.exports=function(i){if(typeof i=="string"||typeof i=="number")return i;var a="";for(var l in i){var h="";i.hasOwnProperty(l)&&(h=l+"="+(h=typeof i[l]=="string"?encodeURIComponent(i[l]):typeof i[l]=="number"?i[l]:encodeURIComponent(JSON.stringify(i[l]))),a.length&&(h="&"+h),a+=h)}return a}},function(n,r,i){i.r(r)},function(n,r){var i,a,l=n.exports={};function h(){throw new Error("setTimeout has not been defined")}function p(){throw new Error("clearTimeout has not been defined")}function v(M){if(i===setTimeout)return setTimeout(M,0);if((i===h||!i)&&setTimeout)return i=setTimeout,setTimeout(M,0);try{return i(M,0)}catch{try{return i.call(null,M,0)}catch{return i.call(this,M,0)}}}(function(){try{i=typeof setTimeout=="function"?setTimeout:h}catch{i=h}try{a=typeof clearTimeout=="function"?clearTimeout:p}catch{a=p}})();var S,N=[],C=!1,A=-1;function R(){C&&S&&(C=!1,S.length?N=S.concat(N):A=-1,N.length&&D())}function D(){if(!C){var M=v(R);C=!0;for(var F=N.length;F;){for(S=N,N=[];++A<F;)S&&S[A].run();A=-1,F=N.length}S=null,C=!1,function(z){if(a===clearTimeout)return clearTimeout(z);if((a===p||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(z);try{a(z)}catch{try{return a.call(null,z)}catch{return a.call(this,z)}}}(M)}}function L(M,F){this.fun=M,this.array=F}function I(){}l.nextTick=function(M){var F=new Array(arguments.length-1);if(arguments.length>1)for(var z=1;z<arguments.length;z++)F[z-1]=arguments[z];N.push(new L(M,F)),N.length!==1||C||v(D)},L.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=I,l.addListener=I,l.once=I,l.off=I,l.removeListener=I,l.removeAllListeners=I,l.emit=I,l.prependListener=I,l.prependOnceListener=I,l.listeners=function(M){return[]},l.binding=function(M){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(M){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},function(n,r,i){(function(a,l,h){var p,v,S;function N(C){return(N=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(C)}/* @preserve
 * The MIT License (MIT)
 * 
 * Copyright (c) 2013-2018 Petka Antonov
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.  IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 * 
 */(function(C){N(r)=="object"&&n!==void 0?n.exports=C():(v=[],(S=typeof(p=C)=="function"?p.apply(r,v):p)===void 0||(n.exports=S))})(function(){return function C(A,R,D){function L(F,z){if(!R[F]){if(!A[F]){var j=typeof _dereq_=="function"&&_dereq_;if(!z&&j)return j(F,!0);if(I)return I(F,!0);var W=new Error("Cannot find module '"+F+"'");throw W.code="MODULE_NOT_FOUND",W}var H=R[F]={exports:{}};A[F][0].call(H.exports,function(B){var K=A[F][1][B];return L(K||B)},H,H.exports,C,A,R,D)}return R[F].exports}for(var I=typeof _dereq_=="function"&&_dereq_,M=0;M<D.length;M++)L(D[M]);return L}({1:[function(C,A,R){var D;try{throw new Error}catch(j){D=j}var L=C("./schedule"),I=C("./queue");function M(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new I(16),this._normalQueue=new I(16),this._haveDrainedQueues=!1;var j=this;this.drainQueues=function(){j._drainQueues()},this._schedule=L}function F(j){for(;j.length()>0;)z(j)}function z(j){var W=j.shift();if(typeof W!="function")W._settlePromises();else{var H=j.shift(),B=j.shift();W.call(H,B)}}M.prototype.setScheduler=function(j){var W=this._schedule;return this._schedule=j,this._customScheduler=!0,W},M.prototype.hasCustomScheduler=function(){return this._customScheduler},M.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},M.prototype.fatalError=function(j,W){W?(a.stderr.write("Fatal "+(j instanceof Error?j.stack:j)+`
`),a.exit(2)):this.throwLater(j)},M.prototype.throwLater=function(j,W){if(arguments.length===1&&(W=j,j=function(){throw W}),typeof setTimeout<"u")setTimeout(function(){j(W)},0);else try{this._schedule(function(){j(W)})}catch{throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)}},M.prototype.invokeLater=function(j,W,H){this._lateQueue.push(j,W,H),this._queueTick()},M.prototype.invoke=function(j,W,H){this._normalQueue.push(j,W,H),this._queueTick()},M.prototype.settlePromises=function(j){this._normalQueue._pushOne(j),this._queueTick()},M.prototype._drainQueues=function(){F(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,F(this._lateQueue)},M.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},M.prototype._reset=function(){this._isTickUsed=!1},A.exports=M,A.exports.firstLineError=D},{"./queue":17,"./schedule":18}],2:[function(C,A,R){A.exports=function(D,L,I,M){var F=!1,z=function(B,K){this._reject(K)},j=function(B,K){K.promiseRejectionQueued=!0,K.bindingPromise._then(z,z,null,this,B)},W=function(B,K){(50397184&this._bitField)==0&&this._resolveCallback(K.target)},H=function(B,K){K.promiseRejectionQueued||this._reject(B)};D.prototype.bind=function(B){F||(F=!0,D.prototype._propagateFrom=M.propagateFromFunction(),D.prototype._boundValue=M.boundValueFunction());var K=I(B),Y=new D(L);Y._propagateFrom(this,1);var te=this._target();if(Y._setBoundTo(K),K instanceof D){var Z={promiseRejectionQueued:!1,promise:Y,target:te,bindingPromise:K};te._then(L,j,void 0,Y,Z),K._then(W,H,void 0,Y,Z),Y._setOnCancel(K)}else Y._resolveCallback(te);return Y},D.prototype._setBoundTo=function(B){B!==void 0?(this._bitField=2097152|this._bitField,this._boundTo=B):this._bitField=-2097153&this._bitField},D.prototype._isBound=function(){return(2097152&this._bitField)==2097152},D.bind=function(B,K){return D.resolve(K).bind(B)}}},{}],3:[function(C,A,R){var D;typeof Promise<"u"&&(D=Promise);var L=C("./promise")();L.noConflict=function(){try{Promise===L&&(Promise=D)}catch{}return L},A.exports=L},{"./promise":15}],4:[function(C,A,R){A.exports=function(D,L,I,M){var F=C("./util"),z=F.tryCatch,j=F.errorObj,W=D._async;D.prototype.break=D.prototype.cancel=function(){if(!M.cancellation())return this._warn("cancellation is disabled");for(var H=this,B=H;H._isCancellable();){if(!H._cancelBy(B)){B._isFollowing()?B._followee().cancel():B._cancelBranched();break}var K=H._cancellationParent;if(K==null||!K._isCancellable()){H._isFollowing()?H._followee().cancel():H._cancelBranched();break}H._isFollowing()&&H._followee().cancel(),H._setWillBeCancelled(),B=H,H=K}},D.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},D.prototype._enoughBranchesHaveCancelled=function(){return this._branchesRemainingToCancel===void 0||this._branchesRemainingToCancel<=0},D.prototype._cancelBy=function(H){return H===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},D.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},D.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),W.invoke(this._cancelPromises,this,void 0))},D.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},D.prototype._unsetOnCancel=function(){this._onCancelField=void 0},D.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},D.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},D.prototype._doInvokeOnCancel=function(H,B){if(F.isArray(H))for(var K=0;K<H.length;++K)this._doInvokeOnCancel(H[K],B);else if(H!==void 0)if(typeof H=="function"){if(!B){var Y=z(H).call(this._boundValue());Y===j&&(this._attachExtraTrace(Y.e),W.throwLater(Y.e))}}else H._resultCancelled(this)},D.prototype._invokeOnCancel=function(){var H=this._onCancel();this._unsetOnCancel(),W.invoke(this._doInvokeOnCancel,this,H)},D.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},D.prototype._resultCancelled=function(){this.cancel()}}},{"./util":21}],5:[function(C,A,R){A.exports=function(D){var L=C("./util"),I=C("./es5").keys,M=L.tryCatch,F=L.errorObj;return function(z,j,W){return function(H){var B=W._boundValue();e:for(var K=0;K<z.length;++K){var Y=z[K];if(Y===Error||Y!=null&&Y.prototype instanceof Error){if(H instanceof Y)return M(j).call(B,H)}else if(typeof Y=="function"){var te=M(Y).call(B,H);if(te===F)return te;if(te)return M(j).call(B,H)}else if(L.isObject(H)){for(var Z=I(Y),ue=0;ue<Z.length;++ue){var xe=Z[ue];if(Y[xe]!=H[xe])continue e}return M(j).call(B,H)}}return D}}}},{"./es5":10,"./util":21}],6:[function(C,A,R){A.exports=function(D){var L=!1,I=[];function M(){this._trace=new M.CapturedTrace(F())}function F(){var z=I.length-1;if(z>=0)return I[z]}return D.prototype._promiseCreated=function(){},D.prototype._pushContext=function(){},D.prototype._popContext=function(){return null},D._peekContext=D.prototype._peekContext=function(){},M.prototype._pushContext=function(){this._trace!==void 0&&(this._trace._promiseCreated=null,I.push(this._trace))},M.prototype._popContext=function(){if(this._trace!==void 0){var z=I.pop(),j=z._promiseCreated;return z._promiseCreated=null,j}return null},M.CapturedTrace=null,M.create=function(){if(L)return new M},M.deactivateLongStackTraces=function(){},M.activateLongStackTraces=function(){var z=D.prototype._pushContext,j=D.prototype._popContext,W=D._peekContext,H=D.prototype._peekContext,B=D.prototype._promiseCreated;M.deactivateLongStackTraces=function(){D.prototype._pushContext=z,D.prototype._popContext=j,D._peekContext=W,D.prototype._peekContext=H,D.prototype._promiseCreated=B,L=!1},L=!0,D.prototype._pushContext=M.prototype._pushContext,D.prototype._popContext=M.prototype._popContext,D._peekContext=D.prototype._peekContext=F,D.prototype._promiseCreated=function(){var K=this._peekContext();K&&K._promiseCreated==null&&(K._promiseCreated=this)}},M}},{}],7:[function(C,A,R){A.exports=function(D,L,I,M){var F,z,j,W,H=D._async,B=C("./errors").Warning,K=C("./util"),Y=C("./es5"),te=K.canAttachTrace,Z=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,ue=/\((?:timers\.js):\d+:\d+\)/,xe=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,je=null,ke=null,rt=!1,fe=K.env("BLUEBIRD_DEBUG")!=0,ve=!(K.env("BLUEBIRD_WARNINGS")==0||!fe&&!K.env("BLUEBIRD_WARNINGS")),Ne=!(K.env("BLUEBIRD_LONG_STACK_TRACES")==0||!fe&&!K.env("BLUEBIRD_LONG_STACK_TRACES")),Ve=K.env("BLUEBIRD_W_FORGOTTEN_RETURN")!=0&&(ve||!!K.env("BLUEBIRD_W_FORGOTTEN_RETURN"));(function(){var ae=[];function ce(){for(var me=0;me<ae.length;++me)ae[me]._notifyUnhandledRejection();_e()}function _e(){ae.length=0}W=function(me){ae.push(me),setTimeout(ce,1)},Y.defineProperty(D,"_unhandledRejectionCheck",{value:ce}),Y.defineProperty(D,"_unhandledRejectionClear",{value:_e})})(),D.prototype.suppressUnhandledRejections=function(){var ae=this._target();ae._bitField=-1048577&ae._bitField|524288},D.prototype._ensurePossibleRejectionHandled=function(){(524288&this._bitField)==0&&(this._setRejectionIsUnhandled(),W(this))},D.prototype._notifyUnhandledRejectionIsHandled=function(){or("rejectionHandled",F,void 0,this)},D.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},D.prototype._returnedNonUndefined=function(){return(268435456&this._bitField)!=0},D.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var ae=this._settledValue();this._setUnhandledRejectionIsNotified(),or("unhandledRejection",z,ae,this)}},D.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},D.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=-262145&this._bitField},D.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},D.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},D.prototype._unsetRejectionIsUnhandled=function(){this._bitField=-1048577&this._bitField,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},D.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},D.prototype._warn=function(ae,ce,_e){return et(ae,ce,_e||this)},D.onPossiblyUnhandledRejection=function(ae){var ce=D._getContext();z=K.contextBind(ce,ae)},D.onUnhandledRejectionHandled=function(ae){var ce=D._getContext();F=K.contextBind(ce,ae)};var Ye=function(){};D.longStackTraces=function(){if(H.haveItemsQueued()&&!bt.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);if(!bt.longStackTraces&&Rr()){var ae=D.prototype._captureStackTrace,ce=D.prototype._attachExtraTrace,_e=D.prototype._dereferenceTrace;bt.longStackTraces=!0,Ye=function(){if(H.haveItemsQueued()&&!bt.longStackTraces)throw new Error(`cannot enable long stack traces after promises have been created

    See http://goo.gl/MqrFmX
`);D.prototype._captureStackTrace=ae,D.prototype._attachExtraTrace=ce,D.prototype._dereferenceTrace=_e,L.deactivateLongStackTraces(),bt.longStackTraces=!1},D.prototype._captureStackTrace=se,D.prototype._attachExtraTrace=Me,D.prototype._dereferenceTrace=tt,L.activateLongStackTraces()}},D.hasLongStackTraces=function(){return bt.longStackTraces&&Rr()};var Ht={unhandledrejection:{before:function(){var ae=K.global.onunhandledrejection;return K.global.onunhandledrejection=null,ae},after:function(ae){K.global.onunhandledrejection=ae}},rejectionhandled:{before:function(){var ae=K.global.onrejectionhandled;return K.global.onrejectionhandled=null,ae},after:function(ae){K.global.onrejectionhandled=ae}}},Rt=function(){var ae=function(_e,me){if(!_e)return!K.global.dispatchEvent(me);var Le;try{return Le=_e.before(),!K.global.dispatchEvent(me)}finally{_e.after(Le)}};try{if(typeof CustomEvent=="function"){var ce=new CustomEvent("CustomEvent");return K.global.dispatchEvent(ce),function(_e,me){_e=_e.toLowerCase();var Le=new CustomEvent(_e,{detail:me,cancelable:!0});return Y.defineProperty(Le,"promise",{value:me.promise}),Y.defineProperty(Le,"reason",{value:me.reason}),ae(Ht[_e],Le)}}return typeof Event=="function"?(ce=new Event("CustomEvent"),K.global.dispatchEvent(ce),function(_e,me){_e=_e.toLowerCase();var Le=new Event(_e,{cancelable:!0});return Le.detail=me,Y.defineProperty(Le,"promise",{value:me.promise}),Y.defineProperty(Le,"reason",{value:me.reason}),ae(Ht[_e],Le)}):((ce=document.createEvent("CustomEvent")).initCustomEvent("testingtheevent",!1,!0,{}),K.global.dispatchEvent(ce),function(_e,me){_e=_e.toLowerCase();var Le=document.createEvent("CustomEvent");return Le.initCustomEvent(_e,!1,!0,me),ae(Ht[_e],Le)})}catch{}return function(){return!1}}(),gn=K.isNode?function(){return a.emit.apply(a,arguments)}:K.global?function(ae){var ce="on"+ae.toLowerCase(),_e=K.global[ce];return!!_e&&(_e.apply(K.global,[].slice.call(arguments,1)),!0)}:function(){return!1};function mt(ae,ce){return{promise:ce}}var Jt={promiseCreated:mt,promiseFulfilled:mt,promiseRejected:mt,promiseResolved:mt,promiseCancelled:mt,promiseChained:function(ae,ce,_e){return{promise:ce,child:_e}},warning:function(ae,ce){return{warning:ce}},unhandledRejection:function(ae,ce,_e){return{reason:ce,promise:_e}},rejectionHandled:mt},le=function(ae){var ce=!1;try{ce=gn.apply(null,arguments)}catch(me){H.throwLater(me),ce=!0}var _e=!1;try{_e=Rt(ae,Jt[ae].apply(null,arguments))}catch(me){H.throwLater(me),_e=!0}return _e||ce};function Gr(){return!1}function fa(ae,ce,_e){var me=this;try{ae(ce,_e,function(Le){if(typeof Le!="function")throw new TypeError("onCancel must be a function, got: "+K.toString(Le));me._attachCancellationCallback(Le)})}catch(Le){return Le}}function vn(ae){if(!this._isCancellable())return this;var ce=this._onCancel();ce!==void 0?K.isArray(ce)?ce.push(ae):this._setOnCancel([ce,ae]):this._setOnCancel(ae)}function ne(){return this._onCancelField}function de(ae){this._onCancelField=ae}function we(){this._cancellationParent=void 0,this._onCancelField=void 0}function De(ae,ce){if((1&ce)!=0){this._cancellationParent=ae;var _e=ae._branchesRemainingToCancel;_e===void 0&&(_e=0),ae._branchesRemainingToCancel=_e+1}(2&ce)!=0&&ae._isBound()&&this._setBoundTo(ae._boundTo)}D.config=function(ae){if("longStackTraces"in(ae=Object(ae))&&(ae.longStackTraces?D.longStackTraces():!ae.longStackTraces&&D.hasLongStackTraces()&&Ye()),"warnings"in ae){var ce=ae.warnings;bt.warnings=!!ce,Ve=bt.warnings,K.isObject(ce)&&"wForgottenReturn"in ce&&(Ve=!!ce.wForgottenReturn)}if("cancellation"in ae&&ae.cancellation&&!bt.cancellation){if(H.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");D.prototype._clearCancellationData=we,D.prototype._propagateFrom=De,D.prototype._onCancel=ne,D.prototype._setOnCancel=de,D.prototype._attachCancellationCallback=vn,D.prototype._execute=fa,He=De,bt.cancellation=!0}if("monitoring"in ae&&(ae.monitoring&&!bt.monitoring?(bt.monitoring=!0,D.prototype._fireEvent=le):!ae.monitoring&&bt.monitoring&&(bt.monitoring=!1,D.prototype._fireEvent=Gr)),"asyncHooks"in ae&&K.nodeSupportsAsyncResource){var _e=bt.asyncHooks,me=!!ae.asyncHooks;_e!==me&&(bt.asyncHooks=me,me?I():M())}return D},D.prototype._fireEvent=Gr,D.prototype._execute=function(ae,ce,_e){try{ae(ce,_e)}catch(me){return me}},D.prototype._onCancel=function(){},D.prototype._setOnCancel=function(ae){},D.prototype._attachCancellationCallback=function(ae){},D.prototype._captureStackTrace=function(){},D.prototype._attachExtraTrace=function(){},D.prototype._dereferenceTrace=function(){},D.prototype._clearCancellationData=function(){},D.prototype._propagateFrom=function(ae,ce){};var He=function(ae,ce){(2&ce)!=0&&ae._isBound()&&this._setBoundTo(ae._boundTo)};function ze(){var ae=this._boundTo;return ae!==void 0&&ae instanceof D?ae.isFulfilled()?ae.value():void 0:ae}function se(){this._trace=new Yr(this._peekContext())}function Me(ae,ce){if(te(ae)){var _e=this._trace;if(_e!==void 0&&ce&&(_e=_e._parent),_e!==void 0)_e.attachExtraTrace(ae);else if(!ae.__stackCleaned__){var me=pt(ae);K.notEnumerableProp(ae,"stack",me.message+`
`+me.stack.join(`
`)),K.notEnumerableProp(ae,"__stackCleaned__",!0)}}}function tt(){this._trace=void 0}function et(ae,ce,_e){if(bt.warnings){var me,Le=new B(ae);if(ce)_e._attachExtraTrace(Le);else if(bt.longStackTraces&&(me=D._peekContext()))me.attachExtraTrace(Le);else{var Be=pt(Le);Le.stack=Be.message+`
`+Be.stack.join(`
`)}le("warning",Le)||yn(Le,"",!0)}}function We(ae){for(var ce=[],_e=0;_e<ae.length;++_e){var me=ae[_e],Le=me==="    (No stack trace)"||je.test(me),Be=Le&&Kr(me);Le&&!Be&&(rt&&me.charAt(0)!==" "&&(me="    "+me),ce.push(me))}return ce}function pt(ae){var ce=ae.stack,_e=ae.toString();return ce=typeof ce=="string"&&ce.length>0?function(me){for(var Le=me.stack.replace(/\s+$/g,"").split(`
`),Be=0;Be<Le.length;++Be){var Re=Le[Be];if(Re==="    (No stack trace)"||je.test(Re))break}return Be>0&&me.name!="SyntaxError"&&(Le=Le.slice(Be)),Le}(ae):["    (No stack trace)"],{message:_e,stack:ae.name=="SyntaxError"?ce:We(ce)}}function yn(ae,ce,_e){if(typeof console<"u"){var me;if(K.isObject(ae)){var Le=ae.stack;me=ce+ke(Le,ae)}else me=ce+String(ae);typeof j=="function"?j(me,_e):typeof console.log!="function"&&N(console.log)!=="object"||console.log(me)}}function or(ae,ce,_e,me){var Le=!1;try{typeof ce=="function"&&(Le=!0,ae==="rejectionHandled"?ce(me):ce(_e,me))}catch(Be){H.throwLater(Be)}ae==="unhandledRejection"?le(ae,_e,me)||Le||yn(_e,"Unhandled rejection "):le(ae,me)}function bi(ae){var ce;if(typeof ae=="function")ce="[function "+(ae.name||"anonymous")+"]";else{if(ce=ae&&typeof ae.toString=="function"?ae.toString():K.toString(ae),/\[object [a-zA-Z0-9$_]+\]/.test(ce))try{ce=JSON.stringify(ae)}catch{}ce.length===0&&(ce="(empty array)")}return"(<"+function(_e){return _e.length<41?_e:_e.substr(0,38)+"..."}(ce)+">, no stack trace)"}function Rr(){return typeof po=="function"}var Kr=function(){return!1},Dc=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;function _o(ae){var ce=ae.match(Dc);if(ce)return{fileName:ce[1],line:parseInt(ce[2],10)}}function Yr(ae){this._parent=ae,this._promisesCreated=0;var ce=this._length=1+(ae===void 0?0:ae._length);po(this,Yr),ce>32&&this.uncycle()}K.inherits(Yr,Error),L.CapturedTrace=Yr,Yr.prototype.uncycle=function(){var ae=this._length;if(!(ae<2)){for(var ce=[],_e={},me=0,Le=this;Le!==void 0;++me)ce.push(Le),Le=Le._parent;for(me=(ae=this._length=me)-1;me>=0;--me){var Be=ce[me].stack;_e[Be]===void 0&&(_e[Be]=me)}for(me=0;me<ae;++me){var Re=_e[ce[me].stack];if(Re!==void 0&&Re!==me){Re>0&&(ce[Re-1]._parent=void 0,ce[Re-1]._length=1),ce[me]._parent=void 0,ce[me]._length=1;var ut=me>0?ce[me-1]:this;Re<ae-1?(ut._parent=ce[Re+1],ut._parent.uncycle(),ut._length=ut._parent._length+1):(ut._parent=void 0,ut._length=1);for(var At=ut._length+1,gt=me-2;gt>=0;--gt)ce[gt]._length=At,At++;return}}}},Yr.prototype.attachExtraTrace=function(ae){if(!ae.__stackCleaned__){this.uncycle();for(var ce=pt(ae),_e=ce.message,me=[ce.stack],Le=this;Le!==void 0;)me.push(We(Le.stack.split(`
`))),Le=Le._parent;(function(Be){for(var Re=Be[0],ut=1;ut<Be.length;++ut){for(var At=Be[ut],gt=Re.length-1,Jr=Re[gt],zn=-1,Qn=At.length-1;Qn>=0;--Qn)if(At[Qn]===Jr){zn=Qn;break}for(Qn=zn;Qn>=0;--Qn){var mo=At[Qn];if(Re[gt]!==mo)break;Re.pop(),gt--}Re=At}})(me),function(Be){for(var Re=0;Re<Be.length;++Re)(Be[Re].length===0||Re+1<Be.length&&Be[Re][0]===Be[Re+1][0])&&(Be.splice(Re,1),Re--)}(me),K.notEnumerableProp(ae,"stack",function(Be,Re){for(var ut=0;ut<Re.length-1;++ut)Re[ut].push("From previous event:"),Re[ut]=Re[ut].join(`
`);return ut<Re.length&&(Re[ut]=Re[ut].join(`
`)),Be+`
`+Re.join(`
`)}(_e,me)),K.notEnumerableProp(ae,"__stackCleaned__",!0)}};var po=function(){var ae=/^\s*at\s*/,ce=function(Be,Re){return typeof Be=="string"?Be:Re.name!==void 0&&Re.message!==void 0?Re.toString():bi(Re)};if(typeof Error.stackTraceLimit=="number"&&typeof Error.captureStackTrace=="function"){Error.stackTraceLimit+=6,je=ae,ke=ce;var _e=Error.captureStackTrace;return Kr=function(Be){return Z.test(Be)},function(Be,Re){Error.stackTraceLimit+=6,_e(Be,Re),Error.stackTraceLimit-=6}}var me,Le=new Error;if(typeof Le.stack=="string"&&Le.stack.split(`
`)[0].indexOf("stackDetection@")>=0)return je=/@/,ke=ce,rt=!0,function(Be){Be.stack=new Error().stack};try{throw new Error}catch(Be){me="stack"in Be}return"stack"in Le||!me||typeof Error.stackTraceLimit!="number"?(ke=function(Be,Re){return typeof Be=="string"?Be:N(Re)!=="object"&&typeof Re!="function"||Re.name===void 0||Re.message===void 0?bi(Re):Re.toString()},null):(je=ae,ke=ce,function(Be){Error.stackTraceLimit+=6;try{throw new Error}catch(Re){Be.stack=Re.stack}Error.stackTraceLimit-=6})}();typeof console<"u"&&console.warn!==void 0&&(j=function(ae){console.warn(ae)},K.isNode&&a.stderr.isTTY?j=function(ae,ce){var _e=ce?"\x1B[33m":"\x1B[31m";console.warn(_e+ae+`\x1B[0m
`)}:K.isNode||typeof new Error().stack!="string"||(j=function(ae,ce){console.warn("%c"+ae,ce?"color: darkorange":"color: red")}));var bt={warnings:ve,longStackTraces:!1,cancellation:!1,monitoring:!1,asyncHooks:!1};return Ne&&D.longStackTraces(),{asyncHooks:function(){return bt.asyncHooks},longStackTraces:function(){return bt.longStackTraces},warnings:function(){return bt.warnings},cancellation:function(){return bt.cancellation},monitoring:function(){return bt.monitoring},propagateFromFunction:function(){return He},boundValueFunction:function(){return ze},checkForgottenReturns:function(ae,ce,_e,me,Le){if(ae===void 0&&ce!==null&&Ve){if(Le!==void 0&&Le._returnedNonUndefined()||(65535&me._bitField)==0)return;_e&&(_e+=" ");var Be="",Re="";if(ce._trace){for(var ut=ce._trace.stack.split(`
`),At=We(ut),gt=At.length-1;gt>=0;--gt){var Jr=At[gt];if(!ue.test(Jr)){var zn=Jr.match(xe);zn&&(Be="at "+zn[1]+":"+zn[2]+":"+zn[3]+" ");break}}if(At.length>0){var Qn=At[0];for(gt=0;gt<ut.length;++gt)if(ut[gt]===Qn){gt>0&&(Re=`
`+ut[gt-1]);break}}}var mo="a promise was created in a "+_e+"handler "+Be+"but was not returned from it, see http://goo.gl/rRqMUw"+Re;me._warn(mo,!0,ce)}},setBounds:function(ae,ce){if(Rr()){for(var _e,me,Le=(ae.stack||"").split(`
`),Be=(ce.stack||"").split(`
`),Re=-1,ut=-1,At=0;At<Le.length;++At)if(gt=_o(Le[At])){_e=gt.fileName,Re=gt.line;break}for(At=0;At<Be.length;++At){var gt;if(gt=_o(Be[At])){me=gt.fileName,ut=gt.line;break}}Re<0||ut<0||!_e||!me||_e!==me||Re>=ut||(Kr=function(Jr){if(Z.test(Jr))return!0;var zn=_o(Jr);return!!(zn&&zn.fileName===_e&&Re<=zn.line&&zn.line<=ut)})}},warn:et,deprecated:function(ae,ce){var _e=ae+" is deprecated and will be removed in a future version.";return ce&&(_e+=" Use "+ce+" instead."),et(_e)},CapturedTrace:Yr,fireDomEvent:Rt,fireGlobalEvent:gn}}},{"./errors":9,"./es5":10,"./util":21}],8:[function(C,A,R){A.exports=function(D){function L(){return this.value}function I(){throw this.reason}D.prototype.return=D.prototype.thenReturn=function(M){return M instanceof D&&M.suppressUnhandledRejections(),this._then(L,void 0,void 0,{value:M},void 0)},D.prototype.throw=D.prototype.thenThrow=function(M){return this._then(I,void 0,void 0,{reason:M},void 0)},D.prototype.catchThrow=function(M){if(arguments.length<=1)return this._then(void 0,I,void 0,{reason:M},void 0);var F=arguments[1];return this.caught(M,function(){throw F})},D.prototype.catchReturn=function(M){if(arguments.length<=1)return M instanceof D&&M.suppressUnhandledRejections(),this._then(void 0,L,void 0,{value:M},void 0);var F=arguments[1];return F instanceof D&&F.suppressUnhandledRejections(),this.caught(M,function(){return F})}}},{}],9:[function(C,A,R){var D,L,I=C("./es5"),M=I.freeze,F=C("./util"),z=F.inherits,j=F.notEnumerableProp;function W(ke,rt){function fe(ve){if(!(this instanceof fe))return new fe(ve);j(this,"message",typeof ve=="string"?ve:rt),j(this,"name",ke),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this)}return z(fe,Error),fe}var H=W("Warning","warning"),B=W("CancellationError","cancellation error"),K=W("TimeoutError","timeout error"),Y=W("AggregateError","aggregate error");try{D=TypeError,L=RangeError}catch{D=W("TypeError","type error"),L=W("RangeError","range error")}for(var te="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),Z=0;Z<te.length;++Z)typeof Array.prototype[te[Z]]=="function"&&(Y.prototype[te[Z]]=Array.prototype[te[Z]]);I.defineProperty(Y.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),Y.prototype.isOperational=!0;var ue=0;function xe(ke){if(!(this instanceof xe))return new xe(ke);j(this,"name","OperationalError"),j(this,"message",ke),this.cause=ke,this.isOperational=!0,ke instanceof Error?(j(this,"message",ke.message),j(this,"stack",ke.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}Y.prototype.toString=function(){var ke=Array(4*ue+1).join(" "),rt=`
`+ke+`AggregateError of:
`;ue++,ke=Array(4*ue+1).join(" ");for(var fe=0;fe<this.length;++fe){for(var ve=this[fe]===this?"[Circular AggregateError]":this[fe]+"",Ne=ve.split(`
`),Ve=0;Ve<Ne.length;++Ve)Ne[Ve]=ke+Ne[Ve];rt+=(ve=Ne.join(`
`))+`
`}return ue--,rt},z(xe,Error);var je=Error.__BluebirdErrorTypes__;je||(je=M({CancellationError:B,TimeoutError:K,OperationalError:xe,RejectionError:xe,AggregateError:Y}),I.defineProperty(Error,"__BluebirdErrorTypes__",{value:je,writable:!1,enumerable:!1,configurable:!1})),A.exports={Error,TypeError:D,RangeError:L,CancellationError:je.CancellationError,OperationalError:je.OperationalError,TimeoutError:je.TimeoutError,AggregateError:je.AggregateError,Warning:H}},{"./es5":10,"./util":21}],10:[function(C,A,R){var D=function(){return this===void 0}();if(D)A.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:D,propertyIsWritable:function(z,j){var W=Object.getOwnPropertyDescriptor(z,j);return!(W&&!W.writable&&!W.set)}};else{var L={}.hasOwnProperty,I={}.toString,M={}.constructor.prototype,F=function(z){var j=[];for(var W in z)L.call(z,W)&&j.push(W);return j};A.exports={isArray:function(z){try{return I.call(z)==="[object Array]"}catch{return!1}},keys:F,names:F,defineProperty:function(z,j,W){return z[j]=W.value,z},getDescriptor:function(z,j){return{value:z[j]}},freeze:function(z){return z},getPrototypeOf:function(z){try{return Object(z).constructor.prototype}catch{return M}},isES5:D,propertyIsWritable:function(){return!0}}}},{}],11:[function(C,A,R){A.exports=function(D,L,I){var M=C("./util"),F=D.CancellationError,z=M.errorObj,j=C("./catch_filter")(I);function W(Z,ue,xe){this.promise=Z,this.type=ue,this.handler=xe,this.called=!1,this.cancelPromise=null}function H(Z){this.finallyHandler=Z}function B(Z,ue){return Z.cancelPromise!=null&&(arguments.length>1?Z.cancelPromise._reject(ue):Z.cancelPromise._cancel(),Z.cancelPromise=null,!0)}function K(){return te.call(this,this.promise._target()._settledValue())}function Y(Z){if(!B(this,Z))return z.e=Z,z}function te(Z){var ue=this.promise,xe=this.handler;if(!this.called){this.called=!0;var je=this.isFinallyHandler()?xe.call(ue._boundValue()):xe.call(ue._boundValue(),Z);if(je===I)return je;if(je!==void 0){ue._setReturnedNonUndefined();var ke=L(je,ue);if(ke instanceof D){if(this.cancelPromise!=null){if(ke._isCancelled()){var rt=new F("late cancellation observer");return ue._attachExtraTrace(rt),z.e=rt,z}ke.isPending()&&ke._attachCancellationCallback(new H(this))}return ke._then(K,Y,void 0,this,void 0)}}}return ue.isRejected()?(B(this),z.e=Z,z):(B(this),Z)}return W.prototype.isFinallyHandler=function(){return this.type===0},H.prototype._resultCancelled=function(){B(this.finallyHandler)},D.prototype._passThrough=function(Z,ue,xe,je){return typeof Z!="function"?this.then():this._then(xe,je,void 0,new W(this,ue,Z),void 0)},D.prototype.lastly=D.prototype.finally=function(Z){return this._passThrough(Z,0,te,te)},D.prototype.tap=function(Z){return this._passThrough(Z,1,te)},D.prototype.tapCatch=function(Z){var ue=arguments.length;if(ue===1)return this._passThrough(Z,1,void 0,te);var xe,je=new Array(ue-1),ke=0;for(xe=0;xe<ue-1;++xe){var rt=arguments[xe];if(!M.isObject(rt))return D.reject(new TypeError("tapCatch statement predicate: expecting an object but got "+M.classString(rt)));je[ke++]=rt}je.length=ke;var fe=arguments[xe];return this._passThrough(j(je,fe,this),1,void 0,te)},W}},{"./catch_filter":5,"./util":21}],12:[function(C,A,R){A.exports=function(D,L,I,M,F){var z=C("./util");z.canEvaluate,z.tryCatch,z.errorObj,D.join=function(){var j,W=arguments.length-1;W>0&&typeof arguments[W]=="function"&&(j=arguments[W]);var H=[].slice.call(arguments);j&&H.pop();var B=new L(H).promise();return j!==void 0?B.spread(j):B}}},{"./util":21}],13:[function(C,A,R){A.exports=function(D,L,I,M,F){var z=C("./util"),j=z.tryCatch;D.method=function(W){if(typeof W!="function")throw new D.TypeError("expecting a function but got "+z.classString(W));return function(){var H=new D(L);H._captureStackTrace(),H._pushContext();var B=j(W).apply(this,arguments),K=H._popContext();return F.checkForgottenReturns(B,K,"Promise.method",H),H._resolveFromSyncValue(B),H}},D.attempt=D.try=function(W){if(typeof W!="function")return M("expecting a function but got "+z.classString(W));var H,B=new D(L);if(B._captureStackTrace(),B._pushContext(),arguments.length>1){F.deprecated("calling Promise.try with more than 1 argument");var K=arguments[1],Y=arguments[2];H=z.isArray(K)?j(W).apply(Y,K):j(W).call(Y,K)}else H=j(W)();var te=B._popContext();return F.checkForgottenReturns(H,te,"Promise.try",B),B._resolveFromSyncValue(H),B},D.prototype._resolveFromSyncValue=function(W){W===z.errorObj?this._rejectCallback(W.e,!1):this._resolveCallback(W,!0)}}},{"./util":21}],14:[function(C,A,R){var D=C("./util"),L=D.maybeWrapAsError,I=C("./errors").OperationalError,M=C("./es5"),F=/^(?:name|message|stack|cause)$/;function z(j){var W;if(function(Y){return Y instanceof Error&&M.getPrototypeOf(Y)===Error.prototype}(j)){(W=new I(j)).name=j.name,W.message=j.message,W.stack=j.stack;for(var H=M.keys(j),B=0;B<H.length;++B){var K=H[B];F.test(K)||(W[K]=j[K])}return W}return D.markAsOriginatingFromRejection(j),j}A.exports=function(j,W){return function(H,B){if(j!==null){if(H){var K=z(L(H));j._attachExtraTrace(K),j._reject(K)}else if(W){var Y=[].slice.call(arguments,1);j._fulfill(Y)}else j._fulfill(B);j=null}}}},{"./errors":9,"./es5":10,"./util":21}],15:[function(C,A,R){A.exports=function(){var D=function(){return new xe(`circular promise resolution chain

    See http://goo.gl/MqrFmX
`)},L=function(){return new le.PromiseInspection(this._target())},I=function(ne){return le.reject(new xe(ne))};function M(){}var F={},z=C("./util");z.setReflectHandler(L);var j=function(){var ne=a.domain;return ne===void 0?null:ne},W=function(){return{domain:j(),async:null}},H=z.isNode&&z.nodeSupportsAsyncResource?C("async_hooks").AsyncResource:null,B=function(){return{domain:j(),async:new H("Bluebird::Promise")}},K=z.isNode?W:function(){return null};z.notEnumerableProp(le,"_getContext",K);var Y=C("./es5"),te=C("./async"),Z=new te;Y.defineProperty(le,"_async",{value:Z});var ue=C("./errors"),xe=le.TypeError=ue.TypeError;le.RangeError=ue.RangeError;var je=le.CancellationError=ue.CancellationError;le.TimeoutError=ue.TimeoutError,le.OperationalError=ue.OperationalError,le.RejectionError=ue.OperationalError,le.AggregateError=ue.AggregateError;var ke=function(){},rt={},fe={},ve=C("./thenables")(le,ke),Ne=C("./promise_array")(le,ke,ve,I,M),Ve=C("./context")(le),Ye=(Ve.create,C("./debuggability")(le,Ve,function(){K=B,z.notEnumerableProp(le,"_getContext",B)},function(){K=W,z.notEnumerableProp(le,"_getContext",W)})),Ht=(Ye.CapturedTrace,C("./finally")(le,ve,fe)),Rt=C("./catch_filter")(fe),gn=C("./nodeback"),mt=z.errorObj,Jt=z.tryCatch;function le(ne){ne!==ke&&function(de,we){if(de==null||de.constructor!==le)throw new xe(`the promise constructor cannot be invoked directly

    See http://goo.gl/MqrFmX
`);if(typeof we!="function")throw new xe("expecting a function but got "+z.classString(we))}(this,ne),this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,this._resolveFromExecutor(ne),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function Gr(ne){this.promise._resolveCallback(ne)}function fa(ne){this.promise._rejectCallback(ne,!1)}function vn(ne){var de=new le(ke);de._fulfillmentHandler0=ne,de._rejectionHandler0=ne,de._promise0=ne,de._receiver0=ne}return le.prototype.toString=function(){return"[object Promise]"},le.prototype.caught=le.prototype.catch=function(ne){var de=arguments.length;if(de>1){var we,De=new Array(de-1),He=0;for(we=0;we<de-1;++we){var ze=arguments[we];if(!z.isObject(ze))return I("Catch statement predicate: expecting an object but got "+z.classString(ze));De[He++]=ze}if(De.length=He,typeof(ne=arguments[we])!="function")throw new xe("The last argument to .catch() must be a function, got "+z.toString(ne));return this.then(void 0,Rt(De,ne,this))}return this.then(void 0,ne)},le.prototype.reflect=function(){return this._then(L,L,void 0,this,void 0)},le.prototype.then=function(ne,de){if(Ye.warnings()&&arguments.length>0&&typeof ne!="function"&&typeof de!="function"){var we=".then() only accepts functions but was passed: "+z.classString(ne);arguments.length>1&&(we+=", "+z.classString(de)),this._warn(we)}return this._then(ne,de,void 0,void 0,void 0)},le.prototype.done=function(ne,de){this._then(ne,de,void 0,void 0,void 0)._setIsFinal()},le.prototype.spread=function(ne){return typeof ne!="function"?I("expecting a function but got "+z.classString(ne)):this.all()._then(ne,void 0,void 0,rt,void 0)},le.prototype.toJSON=function(){var ne={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(ne.fulfillmentValue=this.value(),ne.isFulfilled=!0):this.isRejected()&&(ne.rejectionReason=this.reason(),ne.isRejected=!0),ne},le.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new Ne(this).promise()},le.prototype.error=function(ne){return this.caught(z.originatesFromRejection,ne)},le.getNewLibraryCopy=A.exports,le.is=function(ne){return ne instanceof le},le.fromNode=le.fromCallback=function(ne){var de=new le(ke);de._captureStackTrace();var we=arguments.length>1&&!!Object(arguments[1]).multiArgs,De=Jt(ne)(gn(de,we));return De===mt&&de._rejectCallback(De.e,!0),de._isFateSealed()||de._setAsyncGuaranteed(),de},le.all=function(ne){return new Ne(ne).promise()},le.cast=function(ne){var de=ve(ne);return de instanceof le||((de=new le(ke))._captureStackTrace(),de._setFulfilled(),de._rejectionHandler0=ne),de},le.resolve=le.fulfilled=le.cast,le.reject=le.rejected=function(ne){var de=new le(ke);return de._captureStackTrace(),de._rejectCallback(ne,!0),de},le.setScheduler=function(ne){if(typeof ne!="function")throw new xe("expecting a function but got "+z.classString(ne));return Z.setScheduler(ne)},le.prototype._then=function(ne,de,we,De,He){var ze=He!==void 0,se=ze?He:new le(ke),Me=this._target(),tt=Me._bitField;ze||(se._propagateFrom(this,3),se._captureStackTrace(),De===void 0&&(2097152&this._bitField)!=0&&(De=(50397184&tt)!=0?this._boundValue():Me===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,se));var et=K();if((50397184&tt)!=0){var We,pt,yn=Me._settlePromiseCtx;(33554432&tt)!=0?(pt=Me._rejectionHandler0,We=ne):(16777216&tt)!=0?(pt=Me._fulfillmentHandler0,We=de,Me._unsetRejectionIsUnhandled()):(yn=Me._settlePromiseLateCancellationObserver,pt=new je("late cancellation observer"),Me._attachExtraTrace(pt),We=de),Z.invoke(yn,Me,{handler:z.contextBind(et,We),promise:se,receiver:De,value:pt})}else Me._addCallbacks(ne,de,se,De,et);return se},le.prototype._length=function(){return 65535&this._bitField},le.prototype._isFateSealed=function(){return(117506048&this._bitField)!=0},le.prototype._isFollowing=function(){return(67108864&this._bitField)==67108864},le.prototype._setLength=function(ne){this._bitField=-65536&this._bitField|65535&ne},le.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},le.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},le.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},le.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},le.prototype._isFinal=function(){return(4194304&this._bitField)>0},le.prototype._unsetCancelled=function(){this._bitField=-65537&this._bitField},le.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},le.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},le.prototype._setAsyncGuaranteed=function(){if(!Z.hasCustomScheduler()){var ne=this._bitField;this._bitField=ne|(536870912&ne)>>2^134217728}},le.prototype._setNoAsyncGuarantee=function(){this._bitField=-134217729&(536870912|this._bitField)},le.prototype._receiverAt=function(ne){var de=ne===0?this._receiver0:this[4*ne-4+3];if(de!==F)return de===void 0&&this._isBound()?this._boundValue():de},le.prototype._promiseAt=function(ne){return this[4*ne-4+2]},le.prototype._fulfillmentHandlerAt=function(ne){return this[4*ne-4+0]},le.prototype._rejectionHandlerAt=function(ne){return this[4*ne-4+1]},le.prototype._boundValue=function(){},le.prototype._migrateCallback0=function(ne){ne._bitField;var de=ne._fulfillmentHandler0,we=ne._rejectionHandler0,De=ne._promise0,He=ne._receiverAt(0);He===void 0&&(He=F),this._addCallbacks(de,we,De,He,null)},le.prototype._migrateCallbackAt=function(ne,de){var we=ne._fulfillmentHandlerAt(de),De=ne._rejectionHandlerAt(de),He=ne._promiseAt(de),ze=ne._receiverAt(de);ze===void 0&&(ze=F),this._addCallbacks(we,De,He,ze,null)},le.prototype._addCallbacks=function(ne,de,we,De,He){var ze=this._length();if(ze>=65531&&(ze=0,this._setLength(0)),ze===0)this._promise0=we,this._receiver0=De,typeof ne=="function"&&(this._fulfillmentHandler0=z.contextBind(He,ne)),typeof de=="function"&&(this._rejectionHandler0=z.contextBind(He,de));else{var se=4*ze-4;this[se+2]=we,this[se+3]=De,typeof ne=="function"&&(this[se+0]=z.contextBind(He,ne)),typeof de=="function"&&(this[se+1]=z.contextBind(He,de))}return this._setLength(ze+1),ze},le.prototype._proxy=function(ne,de){this._addCallbacks(void 0,void 0,de,ne,null)},le.prototype._resolveCallback=function(ne,de){if((117506048&this._bitField)==0){if(ne===this)return this._rejectCallback(D(),!1);var we=ve(ne,this);if(!(we instanceof le))return this._fulfill(ne);de&&this._propagateFrom(we,2);var De=we._target();if(De!==this){var He=De._bitField;if((50397184&He)==0){var ze=this._length();ze>0&&De._migrateCallback0(this);for(var se=1;se<ze;++se)De._migrateCallbackAt(this,se);this._setFollowing(),this._setLength(0),this._setFollowee(we)}else if((33554432&He)!=0)this._fulfill(De._value());else if((16777216&He)!=0)this._reject(De._reason());else{var Me=new je("late cancellation observer");De._attachExtraTrace(Me),this._reject(Me)}}else this._reject(D())}},le.prototype._rejectCallback=function(ne,de,we){var De=z.ensureErrorObject(ne),He=De===ne;if(!He&&!we&&Ye.warnings()){var ze="a promise was rejected with a non-error: "+z.classString(ne);this._warn(ze,!0)}this._attachExtraTrace(De,!!de&&He),this._reject(ne)},le.prototype._resolveFromExecutor=function(ne){if(ne!==ke){var de=this;this._captureStackTrace(),this._pushContext();var we=!0,De=this._execute(ne,function(He){de._resolveCallback(He)},function(He){de._rejectCallback(He,we)});we=!1,this._popContext(),De!==void 0&&de._rejectCallback(De,!0)}},le.prototype._settlePromiseFromHandler=function(ne,de,we,De){var He=De._bitField;if((65536&He)==0){var ze;De._pushContext(),de===rt?we&&typeof we.length=="number"?ze=Jt(ne).apply(this._boundValue(),we):(ze=mt).e=new xe("cannot .spread() a non-array: "+z.classString(we)):ze=Jt(ne).call(de,we);var se=De._popContext();(65536&(He=De._bitField))==0&&(ze===fe?De._reject(we):ze===mt?De._rejectCallback(ze.e,!1):(Ye.checkForgottenReturns(ze,se,"",De,this),De._resolveCallback(ze)))}},le.prototype._target=function(){for(var ne=this;ne._isFollowing();)ne=ne._followee();return ne},le.prototype._followee=function(){return this._rejectionHandler0},le.prototype._setFollowee=function(ne){this._rejectionHandler0=ne},le.prototype._settlePromise=function(ne,de,we,De){var He=ne instanceof le,ze=this._bitField,se=(134217728&ze)!=0;(65536&ze)!=0?(He&&ne._invokeInternalOnCancel(),we instanceof Ht&&we.isFinallyHandler()?(we.cancelPromise=ne,Jt(de).call(we,De)===mt&&ne._reject(mt.e)):de===L?ne._fulfill(L.call(we)):we instanceof M?we._promiseCancelled(ne):He||ne instanceof Ne?ne._cancel():we.cancel()):typeof de=="function"?He?(se&&ne._setAsyncGuaranteed(),this._settlePromiseFromHandler(de,we,De,ne)):de.call(we,De,ne):we instanceof M?we._isResolved()||((33554432&ze)!=0?we._promiseFulfilled(De,ne):we._promiseRejected(De,ne)):He&&(se&&ne._setAsyncGuaranteed(),(33554432&ze)!=0?ne._fulfill(De):ne._reject(De))},le.prototype._settlePromiseLateCancellationObserver=function(ne){var de=ne.handler,we=ne.promise,De=ne.receiver,He=ne.value;typeof de=="function"?we instanceof le?this._settlePromiseFromHandler(de,De,He,we):de.call(De,He,we):we instanceof le&&we._reject(He)},le.prototype._settlePromiseCtx=function(ne){this._settlePromise(ne.promise,ne.handler,ne.receiver,ne.value)},le.prototype._settlePromise0=function(ne,de,we){var De=this._promise0,He=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(De,ne,He,de)},le.prototype._clearCallbackDataAtIndex=function(ne){var de=4*ne-4;this[de+2]=this[de+3]=this[de+0]=this[de+1]=void 0},le.prototype._fulfill=function(ne){var de=this._bitField;if(!((117506048&de)>>>16)){if(ne===this){var we=D();return this._attachExtraTrace(we),this._reject(we)}this._setFulfilled(),this._rejectionHandler0=ne,(65535&de)>0&&((134217728&de)!=0?this._settlePromises():Z.settlePromises(this),this._dereferenceTrace())}},le.prototype._reject=function(ne){var de=this._bitField;if(!((117506048&de)>>>16)){if(this._setRejected(),this._fulfillmentHandler0=ne,this._isFinal())return Z.fatalError(ne,z.isNode);(65535&de)>0?Z.settlePromises(this):this._ensurePossibleRejectionHandled()}},le.prototype._fulfillPromises=function(ne,de){for(var we=1;we<ne;we++){var De=this._fulfillmentHandlerAt(we),He=this._promiseAt(we),ze=this._receiverAt(we);this._clearCallbackDataAtIndex(we),this._settlePromise(He,De,ze,de)}},le.prototype._rejectPromises=function(ne,de){for(var we=1;we<ne;we++){var De=this._rejectionHandlerAt(we),He=this._promiseAt(we),ze=this._receiverAt(we);this._clearCallbackDataAtIndex(we),this._settlePromise(He,De,ze,de)}},le.prototype._settlePromises=function(){var ne=this._bitField,de=65535&ne;if(de>0){if((16842752&ne)!=0){var we=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,we,ne),this._rejectPromises(de,we)}else{var De=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,De,ne),this._fulfillPromises(de,De)}this._setLength(0)}this._clearCancellationData()},le.prototype._settledValue=function(){var ne=this._bitField;return(33554432&ne)!=0?this._rejectionHandler0:(16777216&ne)!=0?this._fulfillmentHandler0:void 0},typeof Symbol<"u"&&Symbol.toStringTag&&Y.defineProperty(le.prototype,Symbol.toStringTag,{get:function(){return"Object"}}),le.defer=le.pending=function(){return Ye.deprecated("Promise.defer","new Promise"),{promise:new le(ke),resolve:Gr,reject:fa}},z.notEnumerableProp(le,"_makeSelfResolutionError",D),C("./method")(le,ke,ve,I,Ye),C("./bind")(le,ke,ve,Ye),C("./cancel")(le,Ne,I,Ye),C("./direct_resolve")(le),C("./synchronous_inspection")(le),C("./join")(le,Ne,ve,ke,Z),le.Promise=le,le.version="3.7.2",z.toFastProperties(le),z.toFastProperties(le.prototype),vn({a:1}),vn({b:2}),vn({c:3}),vn(1),vn(function(){}),vn(void 0),vn(!1),vn(new le(ke)),Ye.setBounds(te.firstLineError,z.lastLineError),le}},{"./async":1,"./bind":2,"./cancel":4,"./catch_filter":5,"./context":6,"./debuggability":7,"./direct_resolve":8,"./errors":9,"./es5":10,"./finally":11,"./join":12,"./method":13,"./nodeback":14,"./promise_array":16,"./synchronous_inspection":19,"./thenables":20,"./util":21,async_hooks:void 0}],16:[function(C,A,R){A.exports=function(D,L,I,M,F){var z=C("./util");z.isArray;function j(W){var H=this._promise=new D(L);W instanceof D&&(H._propagateFrom(W,3),W.suppressUnhandledRejections()),H._setOnCancel(this),this._values=W,this._length=0,this._totalResolved=0,this._init(void 0,-2)}return z.inherits(j,F),j.prototype.length=function(){return this._length},j.prototype.promise=function(){return this._promise},j.prototype._init=function W(H,B){var K=I(this._values,this._promise);if(K instanceof D){var Y=(K=K._target())._bitField;if(this._values=K,(50397184&Y)==0)return this._promise._setAsyncGuaranteed(),K._then(W,this._reject,void 0,this,B);if((33554432&Y)==0)return(16777216&Y)!=0?this._reject(K._reason()):this._cancel();K=K._value()}if((K=z.asArray(K))!==null)K.length!==0?this._iterate(K):B===-5?this._resolveEmptyArray():this._resolve(function(Z){switch(Z){case-2:return[];case-3:return{};case-6:return new Map}}(B));else{var te=M("expecting an array or an iterable object but got "+z.classString(K)).reason();this._promise._rejectCallback(te,!1)}},j.prototype._iterate=function(W){var H=this.getActualLength(W.length);this._length=H,this._values=this.shouldCopyValues()?new Array(H):this._values;for(var B=this._promise,K=!1,Y=null,te=0;te<H;++te){var Z=I(W[te],B);Y=Z instanceof D?(Z=Z._target())._bitField:null,K?Y!==null&&Z.suppressUnhandledRejections():Y!==null?(50397184&Y)==0?(Z._proxy(this,te),this._values[te]=Z):K=(33554432&Y)!=0?this._promiseFulfilled(Z._value(),te):(16777216&Y)!=0?this._promiseRejected(Z._reason(),te):this._promiseCancelled(te):K=this._promiseFulfilled(Z,te)}K||B._setAsyncGuaranteed()},j.prototype._isResolved=function(){return this._values===null},j.prototype._resolve=function(W){this._values=null,this._promise._fulfill(W)},j.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},j.prototype._reject=function(W){this._values=null,this._promise._rejectCallback(W,!1)},j.prototype._promiseFulfilled=function(W,H){return this._values[H]=W,++this._totalResolved>=this._length&&(this._resolve(this._values),!0)},j.prototype._promiseCancelled=function(){return this._cancel(),!0},j.prototype._promiseRejected=function(W){return this._totalResolved++,this._reject(W),!0},j.prototype._resultCancelled=function(){if(!this._isResolved()){var W=this._values;if(this._cancel(),W instanceof D)W.cancel();else for(var H=0;H<W.length;++H)W[H]instanceof D&&W[H].cancel()}},j.prototype.shouldCopyValues=function(){return!0},j.prototype.getActualLength=function(W){return W},j}},{"./util":21}],17:[function(C,A,R){function D(L){this._capacity=L,this._length=0,this._front=0}D.prototype._willBeOverCapacity=function(L){return this._capacity<L},D.prototype._pushOne=function(L){var I=this.length();this._checkCapacity(I+1),this[this._front+I&this._capacity-1]=L,this._length=I+1},D.prototype.push=function(L,I,M){var F=this.length()+3;if(this._willBeOverCapacity(F))return this._pushOne(L),this._pushOne(I),void this._pushOne(M);var z=this._front+F-3;this._checkCapacity(F);var j=this._capacity-1;this[z+0&j]=L,this[z+1&j]=I,this[z+2&j]=M,this._length=F},D.prototype.shift=function(){var L=this._front,I=this[L];return this[L]=void 0,this._front=L+1&this._capacity-1,this._length--,I},D.prototype.length=function(){return this._length},D.prototype._checkCapacity=function(L){this._capacity<L&&this._resizeTo(this._capacity<<1)},D.prototype._resizeTo=function(L){var I=this._capacity;this._capacity=L,function(M,F,z,j,W){for(var H=0;H<W;++H)z[H+j]=M[H+F],M[H+F]=void 0}(this,0,this,I,this._front+this._length&I-1)},A.exports=D},{}],18:[function(C,A,R){var D,L=C("./util"),I=L.getNativePromise();if(L.isNode&&typeof MutationObserver>"u"){var M=l.setImmediate,F=a.nextTick;D=L.isRecentNode?function(j){M.call(l,j)}:function(j){F.call(a,j)}}else if(typeof I=="function"&&typeof I.resolve=="function"){var z=I.resolve();D=function(j){z.then(j)}}else D=typeof MutationObserver<"u"&&(typeof window>"u"||!window.navigator||!window.navigator.standalone&&!window.cordova)&&"classList"in document.documentElement?function(){var j=document.createElement("div"),W={attributes:!0},H=!1,B=document.createElement("div");return new MutationObserver(function(){j.classList.toggle("foo"),H=!1}).observe(B,W),function(K){var Y=new MutationObserver(function(){Y.disconnect(),K()});Y.observe(j,W),H||(H=!0,B.classList.toggle("foo"))}}():h!==void 0?function(j){h(j)}:typeof setTimeout<"u"?function(j){setTimeout(j,0)}:function(){throw new Error(`No async scheduler available

    See http://goo.gl/MqrFmX
`)};A.exports=D},{"./util":21}],19:[function(C,A,R){A.exports=function(D){function L(H){H!==void 0?(H=H._target(),this._bitField=H._bitField,this._settledValueField=H._isFateSealed()?H._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}L.prototype._settledValue=function(){return this._settledValueField};var I=L.prototype.value=function(){if(!this.isFulfilled())throw new TypeError(`cannot get fulfillment value of a non-fulfilled promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},M=L.prototype.error=L.prototype.reason=function(){if(!this.isRejected())throw new TypeError(`cannot get rejection reason of a non-rejected promise

    See http://goo.gl/MqrFmX
`);return this._settledValue()},F=L.prototype.isFulfilled=function(){return(33554432&this._bitField)!=0},z=L.prototype.isRejected=function(){return(16777216&this._bitField)!=0},j=L.prototype.isPending=function(){return(50397184&this._bitField)==0},W=L.prototype.isResolved=function(){return(50331648&this._bitField)!=0};L.prototype.isCancelled=function(){return(8454144&this._bitField)!=0},D.prototype.__isCancelled=function(){return(65536&this._bitField)==65536},D.prototype._isCancelled=function(){return this._target().__isCancelled()},D.prototype.isCancelled=function(){return(8454144&this._target()._bitField)!=0},D.prototype.isPending=function(){return j.call(this._target())},D.prototype.isRejected=function(){return z.call(this._target())},D.prototype.isFulfilled=function(){return F.call(this._target())},D.prototype.isResolved=function(){return W.call(this._target())},D.prototype.value=function(){return I.call(this._target())},D.prototype.reason=function(){var H=this._target();return H._unsetRejectionIsUnhandled(),M.call(H)},D.prototype._value=function(){return this._settledValue()},D.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},D.PromiseInspection=L}},{}],20:[function(C,A,R){A.exports=function(D,L){var I=C("./util"),M=I.errorObj,F=I.isObject,z={}.hasOwnProperty;return function(j,W){if(F(j)){if(j instanceof D)return j;var H=function(K){try{return function(Y){return Y.then}(K)}catch(Y){return M.e=Y,M}}(j);if(H===M){W&&W._pushContext();var B=D.reject(H.e);return W&&W._popContext(),B}if(typeof H=="function")return function(K){try{return z.call(K,"_promise0")}catch{return!1}}(j)?(B=new D(L),j._then(B._fulfill,B._reject,void 0,B,null),B):function(K,Y,te){var Z=new D(L),ue=Z;te&&te._pushContext(),Z._captureStackTrace(),te&&te._popContext();var xe=!0,je=I.tryCatch(Y).call(K,function(ke){Z&&(Z._resolveCallback(ke),Z=null)},function(ke){Z&&(Z._rejectCallback(ke,xe,!0),Z=null)});return xe=!1,Z&&je===M&&(Z._rejectCallback(je.e,!0,!0),Z=null),ue}(j,H,W)}return j}}},{"./util":21}],21:[function(C,A,R){var D=C("./es5"),L=typeof navigator>"u",I={e:{}},M,F=typeof self<"u"?self:typeof window<"u"?window:l!==void 0?l:this!==void 0?this:null;function z(){try{var se=M;return M=null,se.apply(this,arguments)}catch(Me){return I.e=Me,I}}function j(se){return M=se,z}var W=function(se,Me){var tt={}.hasOwnProperty;function et(){for(var We in this.constructor=se,this.constructor$=Me,Me.prototype)tt.call(Me.prototype,We)&&We.charAt(We.length-1)!=="$"&&(this[We+"$"]=Me.prototype[We])}return et.prototype=Me.prototype,se.prototype=new et,se.prototype};function H(se){return se==null||se===!0||se===!1||typeof se=="string"||typeof se=="number"}function B(se){return typeof se=="function"||N(se)==="object"&&se!==null}function K(se){return H(se)?new Error(Ve(se)):se}function Y(se,Me){var tt,et=se.length,We=new Array(et+1);for(tt=0;tt<et;++tt)We[tt]=se[tt];return We[tt]=Me,We}function te(se,Me,tt){if(!D.isES5)return{}.hasOwnProperty.call(se,Me)?se[Me]:void 0;var et=Object.getOwnPropertyDescriptor(se,Me);return et!=null?et.get==null&&et.set==null?et.value:tt:void 0}function Z(se,Me,tt){if(H(se))return se;var et={value:tt,configurable:!0,enumerable:!1,writable:!0};return D.defineProperty(se,Me,et),se}function ue(se){throw se}var xe=function(){var se=[Array.prototype,Object.prototype,Function.prototype],Me=function(We){for(var pt=0;pt<se.length;++pt)if(se[pt]===We)return!0;return!1};if(D.isES5){var tt=Object.getOwnPropertyNames;return function(We){for(var pt=[],yn=Object.create(null);We!=null&&!Me(We);){var or;try{or=tt(We)}catch{return pt}for(var bi=0;bi<or.length;++bi){var Rr=or[bi];if(!yn[Rr]){yn[Rr]=!0;var Kr=Object.getOwnPropertyDescriptor(We,Rr);Kr!=null&&Kr.get==null&&Kr.set==null&&pt.push(Rr)}}We=D.getPrototypeOf(We)}return pt}}var et={}.hasOwnProperty;return function(We){if(Me(We))return[];var pt=[];e:for(var yn in We)if(et.call(We,yn))pt.push(yn);else{for(var or=0;or<se.length;++or)if(et.call(se[or],yn))continue e;pt.push(yn)}return pt}}(),je=/this\s*\.\s*\S+\s*=/;function ke(se){try{if(typeof se=="function"){var Me=D.names(se.prototype),tt=D.isES5&&Me.length>1,et=Me.length>0&&!(Me.length===1&&Me[0]==="constructor"),We=je.test(se+"")&&D.names(se).length>0;if(tt||et||We)return!0}return!1}catch{return!1}}function rt(se){function Me(){}Me.prototype=se;var tt=new Me;function et(){return N(tt.foo)}return et(),et(),se}var fe=/^[a-z$_][a-z$_0-9]*$/i;function ve(se){return fe.test(se)}function Ne(se,Me,tt){for(var et=new Array(se),We=0;We<se;++We)et[We]=Me+We+tt;return et}function Ve(se){try{return se+""}catch{return"[no string representation]"}}function Ye(se){return se instanceof Error||se!==null&&N(se)==="object"&&typeof se.message=="string"&&typeof se.name=="string"}function Ht(se){try{Z(se,"isOperational",!0)}catch{}}function Rt(se){return se!=null&&(se instanceof Error.__BluebirdErrorTypes__.OperationalError||se.isOperational===!0)}function gn(se){return Ye(se)&&D.propertyIsWritable(se,"stack")}var mt="stack"in new Error?function(se){return gn(se)?se:new Error(Ve(se))}:function(se){if(gn(se))return se;try{throw new Error(Ve(se))}catch(Me){return Me}};function Jt(se){return{}.toString.call(se)}function le(se,Me,tt){for(var et=D.names(se),We=0;We<et.length;++We){var pt=et[We];if(tt(pt))try{D.defineProperty(Me,pt,D.getDescriptor(se,pt))}catch{}}}var Gr=function(se){return D.isArray(se)?se:null};if(typeof Symbol<"u"&&Symbol.iterator){var fa=typeof Array.from=="function"?function(se){return Array.from(se)}:function(se){for(var Me,tt=[],et=se[Symbol.iterator]();!(Me=et.next()).done;)tt.push(Me.value);return tt};Gr=function(se){return D.isArray(se)?se:se!=null&&typeof se[Symbol.iterator]=="function"?fa(se):null}}var vn=a!==void 0&&Jt(a).toLowerCase()==="[object process]",ne=a!==void 0&&a.env!==void 0,de;function we(se){return ne?a.env[se]:void 0}function De(){if(typeof Promise=="function")try{if(Jt(new Promise(function(){}))==="[object Promise]")return Promise}catch{}}function He(se,Me){if(se===null||typeof Me!="function"||Me===de)return Me;se.domain!==null&&(Me=se.domain.bind(Me));var tt=se.async;if(tt!==null){var et=Me;Me=function(){var We=new Array(2).concat([].slice.call(arguments));return We[0]=et,We[1]=this,tt.runInAsyncScope.apply(tt,We)}}return Me}var ze={setReflectHandler:function(se){de=se},isClass:ke,isIdentifier:ve,inheritedDataKeys:xe,getDataPropertyOrDefault:te,thrower:ue,isArray:D.isArray,asArray:Gr,notEnumerableProp:Z,isPrimitive:H,isObject:B,isError:Ye,canEvaluate:L,errorObj:I,tryCatch:j,inherits:W,withAppended:Y,maybeWrapAsError:K,toFastProperties:rt,filledRange:Ne,toString:Ve,canAttachTrace:gn,ensureErrorObject:mt,originatesFromRejection:Rt,markAsOriginatingFromRejection:Ht,classString:Jt,copyDescriptors:le,isNode:vn,hasEnvVariables:ne,env:we,global:F,getNativePromise:De,contextBind:He};ze.isRecentNode=ze.isNode&&function(){var se;return a.versions&&a.versions.node?se=a.versions.node.split(".").map(Number):a.version&&(se=a.version.split(".").map(Number)),se[0]===0&&se[1]>10||se[0]>0}(),ze.nodeSupportsAsyncResource=ze.isNode&&function(){var se=!1;try{se=typeof C("async_hooks").AsyncResource.prototype.runInAsyncScope=="function"}catch{se=!1}return se}(),ze.isNode&&ze.toFastProperties(a);try{throw new Error}catch(se){ze.lastLineError=se}A.exports=ze},{"./es5":10,async_hooks:void 0}]},{},[3])(3)}),typeof window<"u"&&window!==null?window.P=window.Promise:typeof self<"u"&&self!==null&&(self.P=self.Promise)}).call(this,i(5),i(1),i(7).setImmediate)},function(n,r,i){(function(a){var l=a!==void 0&&a||typeof self<"u"&&self||window,h=Function.prototype.apply;function p(v,S){this._id=v,this._clearFn=S}r.setTimeout=function(){return new p(h.call(setTimeout,l,arguments),clearTimeout)},r.setInterval=function(){return new p(h.call(setInterval,l,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(v){v&&v.close()},p.prototype.unref=p.prototype.ref=function(){},p.prototype.close=function(){this._clearFn.call(l,this._id)},r.enroll=function(v,S){clearTimeout(v._idleTimeoutId),v._idleTimeout=S},r.unenroll=function(v){clearTimeout(v._idleTimeoutId),v._idleTimeout=-1},r._unrefActive=r.active=function(v){clearTimeout(v._idleTimeoutId);var S=v._idleTimeout;S>=0&&(v._idleTimeoutId=setTimeout(function(){v._onTimeout&&v._onTimeout()},S))},i(8),r.setImmediate=typeof self<"u"&&self.setImmediate||a!==void 0&&a.setImmediate||this&&this.setImmediate,r.clearImmediate=typeof self<"u"&&self.clearImmediate||a!==void 0&&a.clearImmediate||this&&this.clearImmediate}).call(this,i(1))},function(n,r,i){(function(a,l){(function(h,p){if(!h.setImmediate){var v,S=1,N={},C=!1,A=h.document,R=Object.getPrototypeOf&&Object.getPrototypeOf(h);R=R&&R.setTimeout?R:h,{}.toString.call(h.process)==="[object process]"?v=function(I){l.nextTick(function(){L(I)})}:function(){if(h.postMessage&&!h.importScripts){var I=!0,M=h.onmessage;return h.onmessage=function(){I=!1},h.postMessage("","*"),h.onmessage=M,I}}()?function(){var I="setImmediate$"+Math.random()+"$",M=function(F){F.source===h&&typeof F.data=="string"&&F.data.indexOf(I)===0&&L(+F.data.slice(I.length))};h.addEventListener?h.addEventListener("message",M,!1):h.attachEvent("onmessage",M),v=function(F){h.postMessage(I+F,"*")}}():h.MessageChannel?function(){var I=new MessageChannel;I.port1.onmessage=function(M){L(M.data)},v=function(M){I.port2.postMessage(M)}}():A&&"onreadystatechange"in A.createElement("script")?function(){var I=A.documentElement;v=function(M){var F=A.createElement("script");F.onreadystatechange=function(){L(M),F.onreadystatechange=null,I.removeChild(F),F=null},I.appendChild(F)}}():v=function(I){setTimeout(L,0,I)},R.setImmediate=function(I){typeof I!="function"&&(I=new Function(""+I));for(var M=new Array(arguments.length-1),F=0;F<M.length;F++)M[F]=arguments[F+1];var z={callback:I,args:M};return N[S]=z,v(S),S++},R.clearImmediate=D}function D(I){delete N[I]}function L(I){if(C)setTimeout(L,0,I);else{var M=N[I];if(M){C=!0;try{(function(F){var z=F.callback,j=F.args;switch(j.length){case 0:z();break;case 1:z(j[0]);break;case 2:z(j[0],j[1]);break;case 3:z(j[0],j[1],j[2]);break;default:z.apply(p,j)}})(M)}finally{D(I),C=!1}}}}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,i(1),i(5))},function(n,r,i){i.r(r),i.d(r,"scheduler",function(){return Ac}),i.d(r,"Scheduler",function(){return Vg});var a=i(0);i(4);function l(s){function w(c){var u=document.createElement("div");return(c||"").split(" ").forEach(function(f){u.classList.add(f)}),u}var d={rows_container:function(){return w("dhx_cal_navbar_rows_container")},row:function(){return w("dhx_cal_navbar_row")},view:function(c){var u=w("dhx_cal_tab");return u.setAttribute("name",c.view+"_tab"),u.setAttribute("data-tab",c.view),s.config.fix_tab_position&&(c.$firstTab?u.classList.add("dhx_cal_tab_first"):c.$lastTab?u.classList.add("dhx_cal_tab_last"):c.view!=="week"&&u.classList.add("dhx_cal_tab_standalone")),u},date:function(){return w("dhx_cal_date")},button:function(c){return w("dhx_cal_nav_button dhx_cal_nav_button_custom dhx_cal_tab")},builtInButton:function(c){return w("dhx_cal_"+c.view+"_button dhx_cal_nav_button")},spacer:function(){return w("dhx_cal_line_spacer")},minicalendarButton:function(c){var u=w("dhx_minical_icon");return c.click||u.$_eventAttached||s.event(u,"click",function(){s.isCalendarVisible()?s.destroyCalendar():s.renderCalendar({position:this,date:s.getState().date,navigation:!0,handler:function(f,y){s.setCurrentView(f),s.destroyCalendar()}})}),u},html_element:function(c){return w("dhx_cal_nav_content")}};function m(c){var u=function(x){var g;if(x.view)switch(x.view){case"today":case"next":case"prev":g=d.builtInButton;break;case"date":g=d.date;break;case"spacer":g=d.spacer;break;case"button":g=d.button;break;case"minicalendar":g=d.minicalendarButton;break;default:g=d.view}else x.rows?g=d.rows_container:x.cols&&(g=d.row);return g}(c);if(u){var f=u(c);if(c.css&&f.classList.add(c.css),c.width&&((y=c.width)===1*y&&(y+="px"),f.style.width=y),c.height&&((y=c.height)===1*y&&(y+="px"),f.style.height=y),c.click&&f.addEventListener("click",c.click),c.html&&(f.innerHTML=c.html),c.align){var y="";c.align=="right"?y="flex-end":c.align=="left"&&(y="flex-start"),f.style.justifyContent=y}return f}}function _(c){return typeof c=="string"&&(c={view:c}),c.view||c.rows||c.cols||(c.view="button"),c}s._init_nav_bar=function(c){var u=this.$container.querySelector(".dhx_cal_navline");return u||((u=document.createElement("div")).className="dhx_cal_navline dhx_cal_navline_flex",s._update_nav_bar(c,u),u)};var o=null;s._update_nav_bar=function(c,u){if(c){var f=!1,y=!1,x=c.height||s.xy.nav_height;o!==null&&o===x||(f=!0),y=!0,f&&(s.xy.nav_height=x),y&&(u.innerHTML="",u.appendChild(function g(k){var b,E=document.createDocumentFragment();b=Array.isArray(k)?k:[k];for(var T=0;T<b.length;T++){var O,U=_(b[T]);U.view==="day"&&b[T+1]&&((O=_(b[T+1])).view!=="week"&&O.view!=="month"||(U.$firstTab=!0)),U.view==="month"&&b[T-1]&&((O=_(b[T-1])).view!=="week"&&O.view!=="day"||(U.$lastTab=!0));var $=m(U);E.appendChild($),(U.cols||U.rows)&&$.appendChild(g(U.cols||U.rows))}return E}(c))),(f||y)&&(s.unset_actions(),s._els=[],s.get_elements(),s.set_actions()),u.style.display=x===0?"none":"",o=x}}}function h(s){function w(o){for(var c=document.body;o&&o!=c;)o=o.parentNode;return c==o}function d(o){return{w:o.innerWidth||document.documentElement.clientWidth,h:o.innerHeight||document.documentElement.clientHeight}}function m(o,c){var u,f=d(c);o.event(c,"resize",function(){clearTimeout(u),u=setTimeout(function(){if(w(o.$container)){var y=d(c);(function(x,g){return x.w==g.w&&x.h==g.h})(f,y)||(f=y,_(o))}},150)})}function _(o){!o.$destroyed&&o.$root&&w(o.$root)&&o.callEvent("onSchedulerResize",[])&&(o.updateView(),o.callEvent("onAfterSchedulerResize",[]))}(function(o){var c=o.$container;window.getComputedStyle(c).getPropertyValue("position")=="static"&&(c.style.position="relative");var u=document.createElement("iframe");u.className="scheduler_container_resize_watcher",u.tabIndex=-1,o.config.wai_aria_attributes&&(u.setAttribute("role","none"),u.setAttribute("aria-hidden",!0)),window.Sfdc||window.$A||window.Aura?function(f){var y=f.$root.offsetHeight,x=f.$root.offsetWidth;(function g(){f.$destroyed||(f.$root&&(f.$root.offsetHeight==y&&f.$root.offsetWidth==x||_(f),y=f.$root.offsetHeight,x=f.$root.offsetWidth),setTimeout(g,200))})()}(o):(c.appendChild(u),u.contentWindow?m(o,u.contentWindow):(c.removeChild(u),m(o,window)))})(s)}function p(s,w){for(var d=0;d<w.length;d++){var m=w[d];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(s,m.key,m)}}var v=function(){function s(){(function(w,d){if(!(w instanceof d))throw new TypeError("Cannot call a class as a function")})(this,s),this._silent_mode=!1,this.listeners={}}return function(w,d,m){d&&p(w.prototype,d),m&&p(w,m)}(s,[{key:"_silentStart",value:function(){this._silent_mode=!0}},{key:"_silentEnd",value:function(){this._silent_mode=!1}}]),s}(),S=function(s){var w={},d=0,m=function(){var _=!0;for(var o in w){var c=w[o].apply(s,arguments);_=_&&c}return _};return m.addEvent=function(_,o){if(typeof _=="function"){var c;if(o&&o.id?c=o.id:(c=d,d++),o&&o.once){var u=_;_=function(){u(),m.removeEvent(c)}}return w[c]=_,c}return!1},m.removeEvent=function(_){delete w[_]},m.clear=function(){w={}},m},N=function(s){var w=new v;s.attachEvent=function(d,m,_){d="ev_"+d.toLowerCase(),w.listeners[d]||(w.listeners[d]=S(this)),_&&_.thisObject&&(m=m.bind(_.thisObject));var o=d+":"+w.listeners[d].addEvent(m,_);return _&&_.id&&(o=_.id),o},s.attachAll=function(d){this.attachEvent("listen_all",d)},s.callEvent=function(d,m){if(w._silent_mode)return!0;var _="ev_"+d.toLowerCase(),o=w.listeners;return o.ev_listen_all&&o.ev_listen_all.apply(this,[d].concat(m)),!o[_]||o[_].apply(this,m)},s.checkEvent=function(d){return!!w.listeners["ev_"+d.toLowerCase()]},s.detachEvent=function(d){if(d){var m=w.listeners;for(var _ in m)m[_].removeEvent(d);var o=d.split(":");if(m=w.listeners,o.length===2){var c=o[0],u=o[1];m[c]&&m[c].removeEvent(u)}}},s.detachAllEvents=function(){for(var d in w.listeners)w.listeners[d].clear()}};function C(s){return(C=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}var A={event:function(s,w,d){s.addEventListener?s.addEventListener(w,d,!1):s.attachEvent&&s.attachEvent("on"+w,d)},eventRemove:function(s,w,d){s.removeEventListener?s.removeEventListener(w,d,!1):s.detachEvent&&s.detachEvent("on"+w,d)}},R=function(){return function s(w,d){w=w||A.event,d=d||A.eventRemove;var m=[],_={attach:function(o,c,u,f){m.push({element:o,event:c,callback:u,capture:f}),w(o,c,u,f)},detach:function(o,c,u,f){d(o,c,u,f);for(var y=0;y<m.length;y++){var x=m[y];x.element===o&&x.event===c&&x.callback===u&&x.capture===f&&(m.splice(y,1),y--)}},detachAll:function(){for(var o=m.slice(),c=0;c<o.length;c++){var u=o[c];_.detach(u.element,u.event,u.callback,u.capture),_.detach(u.element,u.event,u.callback,void 0),_.detach(u.element,u.event,u.callback,!1),_.detach(u.element,u.event,u.callback,!0)}m.splice(0,m.length)},extend:function(){return s(this.event,this.eventRemove)}};return _}()};function D(s){return(D=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}function L(s){return(L=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}function I(s){return(I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}var M=Date.now();function F(s){return!(!s||I(s)!=="object")&&!!(s.getFullYear&&s.getMonth&&s.getDate)}var z={uid:function(){return M++},mixin:function(s,w,d){for(var m in w)(s[m]===void 0||d)&&(s[m]=w[m]);return s},copy:function s(w){var d,m;if(w&&I(w)=="object")switch(!0){case F(w):m=new Date(w);break;case function(_){return Array.isArray?Array.isArray(_):_&&_.length!==void 0&&_.pop&&_.push}(w):for(m=new Array(w.length),d=0;d<w.length;d++)m[d]=s(w[d]);break;case function(_){return _&&I(_)==="object"&&Function.prototype.toString.call(_.constructor)==="function String() { [native code] }"}(w):m=new String(w);break;case function(_){return _&&I(_)==="object"&&Function.prototype.toString.call(_.constructor)==="function Number() { [native code] }"}(w):m=new Number(w);break;case function(_){return _&&I(_)==="object"&&Function.prototype.toString.call(_.constructor)==="function Boolean() { [native code] }"}(w):m=new Boolean(w);break;default:for(d in m={},w)Object.prototype.hasOwnProperty.apply(w,[d])&&(m[d]=s(w[d]))}return m||w},defined:function(s){return s!==void 0},isDate:F};function j(s){if(!s)return"";var w=s.className||"";return w.baseVal&&(w=w.baseVal),w.indexOf||(w=""),w||""}function W(s,w,d){d===void 0&&(d=!0);for(var m=s.target||s.srcElement,_="";m;){if(_=j(m)){var o=_.indexOf(w);if(o>=0){if(!d)return m;var c=o===0||!(_.charAt(o-1)||"").trim(),u=o+w.length>=_.length||!_.charAt(o+w.length).trim();if(c&&u)return m}}m=m.parentNode}return null}function H(s){var w=!1,d=!1;if(window.getComputedStyle){var m=window.getComputedStyle(s,null);w=m.display,d=m.visibility}else s.currentStyle&&(w=s.currentStyle.display,d=s.currentStyle.visibility);var _=!1,o=W({target:s},"dhx_form_repeat",!1);return o&&(_=o.style.height=="0px"),_=_||!s.offsetHeight,w!="none"&&d!="hidden"&&!_}function B(s){return!isNaN(s.getAttribute("tabindex"))&&1*s.getAttribute("tabindex")>=0}function K(s){return!{a:!0,area:!0}[s.nodeName.loLowerCase()]||!!s.getAttribute("href")}function Y(s){return!{input:!0,select:!0,textarea:!0,button:!0,object:!0}[s.nodeName.toLowerCase()]||!s.hasAttribute("disabled")}function te(){return document.head.createShadowRoot||document.head.attachShadow}function Z(s){if(!s||!te())return document.body;for(;s.parentNode&&(s=s.parentNode);)if(s instanceof ShadowRoot)return s.host;return document.body}var ue,xe={getAbsoluteLeft:function(s){return this.getOffset(s).left},getAbsoluteTop:function(s){return this.getOffset(s).top},getOffsetSum:function(s){for(var w=0,d=0;s;)w+=parseInt(s.offsetTop),d+=parseInt(s.offsetLeft),s=s.offsetParent;return{top:w,left:d}},getOffsetRect:function(s){var w=s.getBoundingClientRect(),d=0,m=0;if(/Mobi/.test(navigator.userAgent)){var _=document.createElement("div");_.style.position="absolute",_.style.left="0px",_.style.top="0px",_.style.width="1px",_.style.height="1px",document.body.appendChild(_);var o=_.getBoundingClientRect();d=w.top-o.top,m=w.left-o.left,_.parentNode.removeChild(_)}else{var c=document.body,u=document.documentElement,f=window.pageYOffset||u.scrollTop||c.scrollTop,y=window.pageXOffset||u.scrollLeft||c.scrollLeft,x=u.clientTop||c.clientTop||0,g=u.clientLeft||c.clientLeft||0;d=w.top+f-x,m=w.left+y-g}return{top:Math.round(d),left:Math.round(m)}},getOffset:function(s){return s.getBoundingClientRect?this.getOffsetRect(s):this.getOffsetSum(s)},closest:function(s,w){return s&&w?ue(s,w):null},insertAfter:function(s,w){w.nextSibling?w.parentNode.insertBefore(s,w.nextSibling):w.parentNode.appendChild(s)},remove:function(s){s&&s.parentNode&&s.parentNode.removeChild(s)},getFocusableNodes:function(s){for(var w=s.querySelectorAll(["a[href]","area[href]","input","select","textarea","button","iframe","object","embed","[tabindex]","[contenteditable]"].join(", ")),d=Array.prototype.slice.call(w,0),m=0;m<d.length;m++)d[m].$position=m;for(d.sort(function(o,c){return o.tabIndex===0&&c.tabIndex!==0?1:o.tabIndex!==0&&c.tabIndex===0?-1:o.tabIndex===c.tabIndex?o.$position-c.$position:o.tabIndex<c.tabIndex?-1:1}),m=0;m<d.length;m++){var _=d[m];(B(_)||Y(_)||K(_))&&H(_)||(d.splice(m,1),m--)}return d},getClassName:j,locateCss:W,getRootNode:Z,hasShadowParent:function(s){return!!Z(s)},isShadowDomSupported:te,getActiveElement:function(){var s=document.activeElement;return s.shadowRoot&&(s=s.shadowRoot.activeElement),s===document.body&&document.getSelection&&(s=document.getSelection().focusNode||document.body),s},getRelativeEventPosition:function(s,w){var d=document.documentElement,m=function(_){var o=0,c=0,u=0,f=0;if(_.getBoundingClientRect){var y=_.getBoundingClientRect(),x=document.body,g=document.documentElement||document.body.parentNode||document.body,k=window.pageYOffset||g.scrollTop||x.scrollTop,b=window.pageXOffset||g.scrollLeft||x.scrollLeft,E=g.clientTop||x.clientTop||0,T=g.clientLeft||x.clientLeft||0;o=y.top+k-E,c=y.left+b-T,u=document.body.offsetWidth-y.right,f=document.body.offsetHeight-y.bottom}else{for(;_;)o+=parseInt(_.offsetTop,10),c+=parseInt(_.offsetLeft,10),_=_.offsetParent;u=document.body.offsetWidth-_.offsetWidth-c,f=document.body.offsetHeight-_.offsetHeight-o}return{y:Math.round(o),x:Math.round(c),width:_.offsetWidth,height:_.offsetHeight,right:Math.round(u),bottom:Math.round(f)}}(w);return{x:s.clientX+d.scrollLeft-d.clientLeft-m.x+w.scrollLeft,y:s.clientY+d.scrollTop-d.clientTop-m.y+w.scrollTop}}};if(Element.prototype.closest)ue=function(s,w){return s.closest(w)};else{var je=Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;ue=function(s,w){var d=s;do{if(je.call(d,w))return d;d=d.parentElement||d.parentNode}while(d!==null&&d.nodeType===1);return null}}var ke=typeof window<"u",rt={isIE:ke&&(navigator.userAgent.indexOf("MSIE")>=0||navigator.userAgent.indexOf("Trident")>=0),isIE6:ke&&!XMLHttpRequest&&navigator.userAgent.indexOf("MSIE")>=0,isIE7:ke&&navigator.userAgent.indexOf("MSIE 7.0")>=0&&navigator.userAgent.indexOf("Trident")<0,isIE8:ke&&navigator.userAgent.indexOf("MSIE 8.0")>=0&&navigator.userAgent.indexOf("Trident")>=0,isOpera:ke&&navigator.userAgent.indexOf("Opera")>=0,isChrome:ke&&navigator.userAgent.indexOf("Chrome")>=0,isKHTML:ke&&(navigator.userAgent.indexOf("Safari")>=0||navigator.userAgent.indexOf("Konqueror")>=0),isFF:ke&&navigator.userAgent.indexOf("Firefox")>=0,isIPad:ke&&navigator.userAgent.search(/iPad/gi)>=0,isEdge:ke&&navigator.userAgent.indexOf("Edge")!=-1,isNode:!ke||typeof navigator>"u"},fe=i(6).Promise,ve=i(3),Ne=i.n(ve);function Ve(s){return(Ve=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}function Ye(s){var w=function(o,c){for(var u="var temp=date.match(/[a-zA-Z]+|[0-9]+/g);",f=o.match(/%[a-zA-Z]/g),y=0;y<f.length;y++)switch(f[y]){case"%j":case"%d":u+="set[2]=temp["+y+"]||1;";break;case"%n":case"%m":u+="set[1]=(temp["+y+"]||1)-1;";break;case"%y":u+="set[0]=temp["+y+"]*1+(temp["+y+"]>50?1900:2000);";break;case"%g":case"%G":case"%h":case"%H":u+="set[3]=temp["+y+"]||0;";break;case"%i":u+="set[4]=temp["+y+"]||0;";break;case"%Y":u+="set[0]=temp["+y+"]||0;";break;case"%a":case"%A":u+="set[3]=set[3]%12+((temp["+y+"]||'').toLowerCase()=='am'?0:12);";break;case"%s":u+="set[5]=temp["+y+"]||0;";break;case"%M":u+="set[1]=this.locale.date.month_short_hash[temp["+y+"]]||0;";break;case"%F":u+="set[1]=this.locale.date.month_full_hash[temp["+y+"]]||0;"}var x="set[0],set[1],set[2],set[3],set[4],set[5]";return c&&(x=" Date.UTC("+x+")"),new Function("date","var set=[0,0,1,0,0,0]; "+u+" return new Date("+x+");")},d=function(o,c){return function(u){for(var f=[0,0,1,0,0,0],y=u.match(/[a-zA-Z]+|[0-9]+/g),x=o.match(/%[a-zA-Z]/g),g=0;g<x.length;g++)switch(x[g]){case"%j":case"%d":f[2]=y[g]||1;break;case"%n":case"%m":f[1]=(y[g]||1)-1;break;case"%y":f[0]=1*y[g]+(y[g]>50?1900:2e3);break;case"%g":case"%G":case"%h":case"%H":f[3]=y[g]||0;break;case"%i":f[4]=y[g]||0;break;case"%Y":f[0]=y[g]||0;break;case"%a":case"%A":f[3]=f[3]%12+((y[g]||"").toLowerCase()=="am"?0:12);break;case"%s":f[5]=y[g]||0;break;case"%M":f[1]=s.locale.date.month_short_hash[y[g]]||0;break;case"%F":f[1]=s.locale.date.month_full_hash[y[g]]||0}return c?new Date(Date.UTC(f[0],f[1],f[2],f[3],f[4],f[5])):new Date(f[0],f[1],f[2],f[3],f[4],f[5])}},m=!1;function _(){return s.config.csp==="auto"?m:s.config.csp}(function(){try{new Function("canUseCsp = false;")}catch{m=!0}})(),s.date={init:function(){for(var o=s.locale.date.month_short,c=s.locale.date.month_short_hash={},u=0;u<o.length;u++)c[o[u]]=u;for(o=s.locale.date.month_full,c=s.locale.date.month_full_hash={},u=0;u<o.length;u++)c[o[u]]=u},_bind_host_object:function(o){return o.bind?o.bind(s):function(){return o.apply(s,arguments)}},date_part:function(o){var c=new Date(o);return o.setHours(0),o.setMinutes(0),o.setSeconds(0),o.setMilliseconds(0),o.getHours()&&(o.getDate()<c.getDate()||o.getMonth()<c.getMonth()||o.getFullYear()<c.getFullYear())&&o.setTime(o.getTime()+36e5*(24-o.getHours())),o},time_part:function(o){return(o.valueOf()/1e3-60*o.getTimezoneOffset())%86400},week_start:function(o){var c=o.getDay();return s.config.start_on_monday&&(c===0?c=6:c--),this.date_part(this.add(o,-1*c,"day"))},month_start:function(o){return o.setDate(1),this.date_part(o)},year_start:function(o){return o.setMonth(0),this.month_start(o)},day_start:function(o){return this.date_part(o)},_add_days:function(o,c){var u=new Date(o.valueOf());if(u.setDate(u.getDate()+c),c==Math.round(c)&&c>0){var f=(+u-+o)%864e5;if(f&&o.getTimezoneOffset()==u.getTimezoneOffset()){var y=f/36e5;u.setTime(u.getTime()+60*(24-y)*60*1e3)}}return c>=0&&!o.getHours()&&u.getHours()&&(u.getDate()<o.getDate()||u.getMonth()<o.getMonth()||u.getFullYear()<o.getFullYear())&&u.setTime(u.getTime()+36e5*(24-u.getHours())),u},add:function(o,c,u){var f=new Date(o.valueOf());switch(u){case"day":f=s.date._add_days(f,c);break;case"week":f=s.date._add_days(f,7*c);break;case"month":f.setMonth(f.getMonth()+c);break;case"year":f.setYear(f.getFullYear()+c);break;case"hour":f.setTime(f.getTime()+60*c*60*1e3);break;case"minute":f.setTime(f.getTime()+60*c*1e3);break;default:return s.date["add_"+u](o,c,u)}return f},to_fixed:function(o){return o<10?"0"+o:o},copy:function(o){return new Date(o.valueOf())},date_to_str:function(o,c){if(_())return function(f,y){return function(x){return f.replace(/%[a-zA-Z]/g,function(g){switch(g){case"%d":return y?s.date.to_fixed(x.getUTCDate()):s.date.to_fixed(x.getDate());case"%m":return y?s.date.to_fixed(x.getUTCMonth()+1):s.date.to_fixed(x.getMonth()+1);case"%j":return y?x.getUTCDate():x.getDate();case"%n":return y?x.getUTCMonth()+1:x.getMonth()+1;case"%y":return y?s.date.to_fixed(x.getUTCFullYear()%100):s.date.to_fixed(x.getFullYear()%100);case"%Y":return y?x.getUTCFullYear():x.getFullYear();case"%D":return y?s.locale.date.day_short[x.getUTCDay()]:s.locale.date.day_short[x.getDay()];case"%l":return y?s.locale.date.day_full[x.getUTCDay()]:s.locale.date.day_full[x.getDay()];case"%M":return y?s.locale.date.month_short[x.getUTCMonth()]:s.locale.date.month_short[x.getMonth()];case"%F":return y?s.locale.date.month_full[x.getUTCMonth()]:s.locale.date.month_full[x.getMonth()];case"%h":return y?s.date.to_fixed((x.getUTCHours()+11)%12+1):s.date.to_fixed((x.getHours()+11)%12+1);case"%g":return y?(x.getUTCHours()+11)%12+1:(x.getHours()+11)%12+1;case"%G":return y?x.getUTCHours():x.getHours();case"%H":return y?s.date.to_fixed(x.getUTCHours()):s.date.to_fixed(x.getHours());case"%i":return y?s.date.to_fixed(x.getUTCMinutes()):s.date.to_fixed(x.getMinutes());case"%a":return y?x.getUTCHours()>11?"pm":"am":x.getHours()>11?"pm":"am";case"%A":return y?x.getUTCHours()>11?"PM":"AM":x.getHours()>11?"PM":"AM";case"%s":return y?s.date.to_fixed(x.getUTCSeconds()):s.date.to_fixed(x.getSeconds());case"%W":return y?s.date.to_fixed(s.date.getUTCISOWeek(x)):s.date.to_fixed(s.date.getISOWeek(x));default:return g}})}}(o,c);o=o.replace(/%[a-zA-Z]/g,function(f){switch(f){case"%d":return'"+this.date.to_fixed(date.getDate())+"';case"%m":return'"+this.date.to_fixed((date.getMonth()+1))+"';case"%j":return'"+date.getDate()+"';case"%n":return'"+(date.getMonth()+1)+"';case"%y":return'"+this.date.to_fixed(date.getFullYear()%100)+"';case"%Y":return'"+date.getFullYear()+"';case"%D":return'"+this.locale.date.day_short[date.getDay()]+"';case"%l":return'"+this.locale.date.day_full[date.getDay()]+"';case"%M":return'"+this.locale.date.month_short[date.getMonth()]+"';case"%F":return'"+this.locale.date.month_full[date.getMonth()]+"';case"%h":return'"+this.date.to_fixed((date.getHours()+11)%12+1)+"';case"%g":return'"+((date.getHours()+11)%12+1)+"';case"%G":return'"+date.getHours()+"';case"%H":return'"+this.date.to_fixed(date.getHours())+"';case"%i":return'"+this.date.to_fixed(date.getMinutes())+"';case"%a":return'"+(date.getHours()>11?"pm":"am")+"';case"%A":return'"+(date.getHours()>11?"PM":"AM")+"';case"%s":return'"+this.date.to_fixed(date.getSeconds())+"';case"%W":return'"+this.date.to_fixed(this.date.getISOWeek(date))+"';default:return f}}),c&&(o=o.replace(/date\.get/g,"date.getUTC"));var u=new Function("date",'return "'+o+'";');return s.date._bind_host_object(u)},str_to_date:function(o,c,u){var f=_()?d:w,y=f(o,c),x=/^[0-9]{4}(\-|\/)[0-9]{2}(\-|\/)[0-9]{2} ?(([0-9]{1,2}:[0-9]{1,2})(:[0-9]{1,2})?)?$/,g=/^[0-9]{2}\/[0-9]{2}\/[0-9]{4} ?(([0-9]{1,2}:[0-9]{2})(:[0-9]{1,2})?)?$/,k=/^[0-9]{2}\-[0-9]{2}\-[0-9]{4} ?(([0-9]{1,2}:[0-9]{1,2})(:[0-9]{1,2})?)?$/,b=/^([\+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))([T\s]((([01]\d|2[0-3])((:?)[0-5]\d)?|24\:?00)([\.,]\d+(?!:))?)?(\17[0-5]\d([\.,]\d+)?)?([zZ]|([\+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,E=f("%Y-%m-%d %H:%i:%s",c),T=f("%m/%d/%Y %H:%i:%s",c),O=f("%d-%m-%Y %H:%i:%s",c);return function(U){if(!u&&!s.config.parse_exact_format){if(U&&U.getISOWeek)return new Date(U);if(typeof U=="number")return new Date(U);if(function($){return x.test(String($))}(U))return E(U);if(function($){return g.test(String($))}(U))return T(U);if(function($){return k.test(String($))}(U))return O(U);if(function($){return b.test($)}(U))return new Date(U)}return y.call(s,U)}},getISOWeek:function(o){if(!o)return!1;var c=(o=this.date_part(new Date(o))).getDay();c===0&&(c=7);var u=new Date(o.valueOf());u.setDate(o.getDate()+(4-c));var f=u.getFullYear(),y=Math.round((u.getTime()-new Date(f,0,1).getTime())/864e5);return 1+Math.floor(y/7)},getUTCISOWeek:function(o){return this.getISOWeek(this.convert_to_utc(o))},convert_to_utc:function(o){return new Date(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate(),o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds())}}}function Ht(s){return(Ht=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}function Rt(s){return(Rt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}var gn=i(2),mt=i.n(gn);function Jt(s){return(Jt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}function le(s){s._loaded={},s._load=function(d,m){if(d=d||this._load_url){var _;if(d+=(d.indexOf("?")==-1?"?":"&")+"timeshift="+new Date().getTimezoneOffset(),this.config.prevent_cache&&(d+="&uid="+this.uid()),m=m||this._date,this._load_mode){var o=this.templates.load_format;for(m=this.date[this._load_mode+"_start"](new Date(m.valueOf()));m>this._min_date;)m=this.date.add(m,-1,this._load_mode);_=m;for(var c=!0;_<this._max_date;)_=this.date.add(_,1,this._load_mode),this._loaded[o(m)]&&c?m=this.date.add(m,1,this._load_mode):c=!1;var u=_;do _=u,u=this.date.add(_,-1,this._load_mode);while(u>m&&this._loaded[o(u)]);if(_<=m)return!1;for(s.ajax.get(d+"&from="+o(m)+"&to="+o(_),f);m<_;)this._loaded[o(m)]=!0,m=this.date.add(m,1,this._load_mode)}else s.ajax.get(d,f);return this.callEvent("onXLS",[]),this.callEvent("onLoadStart",[]),!0}function f(y){s.on_load(y),s.callEvent("onLoadEnd",[])}},s._parsers={},function(d){d._parsers.xml={canParse:function(m,_){if(_.responseXML&&_.responseXML.firstChild)return!0;try{var o=d.ajax.parse(_.responseText),c=d.ajax.xmltop("data",o);if(c&&c.tagName==="data")return!0}catch{}return!1},parse:function(m){var _;if(m.xmlDoc.responseXML||(m.xmlDoc.responseXML=d.ajax.parse(m.xmlDoc.responseText)),(_=d.ajax.xmltop("data",m.xmlDoc)).tagName!="data")return null;var o=_.getAttribute("dhx_security");o&&(window.dhtmlx&&(window.dhtmlx.security_key=o),d.security_key=o);for(var c=d.ajax.xpath("//coll_options",m.xmlDoc),u=0;u<c.length;u++){var f=c[u].getAttribute("for"),y=d.serverList[f];y||(d.serverList[f]=y=[]),y.splice(0,y.length);for(var x=d.ajax.xpath(".//item",c[u]),g=0;g<x.length;g++){for(var k=x[g].attributes,b={key:x[g].getAttribute("value"),label:x[g].getAttribute("label")},E=0;E<k.length;E++){var T=k[E];T.nodeName!="value"&&T.nodeName!="label"&&(b[T.nodeName]=T.nodeValue)}y.push(b)}}c.length&&d.callEvent("onOptionsLoad",[]);var O=d.ajax.xpath("//userdata",m.xmlDoc);for(u=0;u<O.length;u++){var U=d._xmlNodeToJSON(O[u]);d._userdata[U.name]=U.text}var $=[];for(_=d.ajax.xpath("//event",m.xmlDoc),u=0;u<_.length;u++){var V=$[u]=d._xmlNodeToJSON(_[u]);d._init_event(V)}return $}}}(s),function(d){d.json=d._parsers.json={canParse:function(m){if(m&&Rt(m)==="object")return!0;if(typeof m=="string")try{var _=JSON.parse(m);return Object.prototype.toString.call(_)==="[object Object]"||Object.prototype.toString.call(_)==="[object Array]"}catch{return!1}return!1},parse:function(m){var _=[];typeof m=="string"&&(m=JSON.parse(m)),Object.prototype.toString.call(m)==="[object Array]"?_=m:m&&(m.events?_=m.events:m.data&&(_=m.data)),_=_||[],m.dhx_security&&(window.dhtmlx&&(window.dhtmlx.security_key=m.dhx_security),d.security_key=m.dhx_security);var o=m&&m.collections?m.collections:{},c=!1;for(var u in o)if(o.hasOwnProperty(u)){c=!0;var f=o[u],y=d.serverList[u];y||(d.serverList[u]=y=[]),y.splice(0,y.length);for(var x=0;x<f.length;x++){var g=f[x],k={key:g.value,label:g.label};for(var b in g)if(g.hasOwnProperty(b)){if(b=="value"||b=="label")continue;k[b]=g[b]}y.push(k)}}c&&d.callEvent("onOptionsLoad",[]);for(var E=[],T=0;T<_.length;T++){var O=_[T];d._init_event(O),E.push(O)}return E}}}(s),function(d){d.ical=d._parsers.ical={canParse:function(m){return typeof m=="string"&&new RegExp("^BEGIN:VCALENDAR").test(m)},parse:function(m){var _=m.match(RegExp(this.c_start+"[^\f]*"+this.c_end,""));if(_.length){_[0]=_[0].replace(/[\r\n]+ /g,""),_[0]=_[0].replace(/[\r\n]+(?=[a-z \t])/g," "),_[0]=_[0].replace(/;[^:\r\n]*:/g,":");for(var o,c=[],u=RegExp("(?:"+this.e_start+")([^\f]*?)(?:"+this.e_end+")","g");(o=u.exec(_))!==null;){for(var f,y={},x=/[^\r\n]+[\r\n]+/g;(f=x.exec(o[1]))!==null;)this.parse_param(f.toString(),y);y.uid&&!y.id&&(y.id=y.uid),c.push(y)}return c}},parse_param:function(m,_){var o=m.indexOf(":");if(o!=-1){var c=m.substr(0,o).toLowerCase(),u=m.substr(o+1).replace(/\\,/g,",").replace(/[\r\n]+$/,"");c=="summary"?c="text":c=="dtstart"?(c="start_date",u=this.parse_date(u,0,0)):c=="dtend"&&(c="end_date",u=this.parse_date(u,0,0)),_[c]=u}},parse_date:function(m,_,o){var c=m.split("T"),u=!1;c[1]&&(_=c[1].substr(0,2),o=c[1].substr(2,2),u=c[1][6]=="Z");var f=c[0].substr(0,4),y=parseInt(c[0].substr(4,2),10)-1,x=c[0].substr(6,2);return d.config.server_utc||u?new Date(Date.UTC(f,y,x,_,o)):new Date(f,y,x,_,o)},c_start:"BEGIN:VCALENDAR",e_start:"BEGIN:VEVENT",e_end:"END:VEVENT",c_end:"END:VCALENDAR"}}(s),s.on_load=function(d){var m;this.callEvent("onBeforeParse",[]);var _=!1,o=!1;for(var c in this._parsers){var u=this._parsers[c];if(u.canParse(d.xmlDoc.responseText,d.xmlDoc)){try{var f=d.xmlDoc.responseText;c==="xml"&&(f=d),(m=u.parse(f))||(_=!0)}catch{_=!0}o=!0;break}}if(!o)if(this._process&&this[this._process])try{m=this[this._process].parse(d.xmlDoc.responseText)}catch{_=!0}else _=!0;(_||d.xmlDoc.status&&d.xmlDoc.status>=400)&&(this.callEvent("onLoadError",[d.xmlDoc]),m=[]),this._process_loading(m),this.callEvent("onXLE",[]),this.callEvent("onParse",[])},s._process_loading=function(d){this._loading=!0,this._not_render=!0;for(var m=0;m<d.length;m++)this.callEvent("onEventLoading",[d[m]])&&this.addEvent(d[m]);this._not_render=!1,this._render_wait&&this.render_view_data(),this._loading=!1,this._after_call&&this._after_call(),this._after_call=null},s._init_event=function(d){d.text=d.text||d._tagvalue||"",d.start_date=s._init_date(d.start_date),d.end_date=s._init_date(d.end_date)},s._init_date=function(d){return d?typeof d=="string"?s._helpers.parseDate(d):new Date(d):null};var w=mt()(s);s.serialize=function(){var d=[],m=w();for(var _ in m){var o={},c=m[_];for(var u in c)if(u.charAt(0)!="$"&&u.charAt(0)!="_"){var f=void 0,y=c[u];f=s.utils.isDate(y)?s.defined(s.templates.xml_format)?s.templates.xml_format(y):s.templates.format_date(y):y,o[u]=f}d.push(o)}return d},s.parse=function(d,m){this._process=m,this.on_load({xmlDoc:{responseText:d}})},s.load=function(d,m){typeof m=="string"&&(this._process=m,m=arguments[2]),this._load_url=d,this._after_call=m,this._load(d,this._date)},s.setLoadMode=function(d){d=="all"&&(d=""),this._load_mode=d},s.serverList=function(d,m){return m?(this.serverList[d]=m.slice(0),this.serverList[d]):(this.serverList[d]=this.serverList[d]||[],this.serverList[d])},s._userdata={},s._xmlNodeToJSON=function(d){for(var m={},_=0;_<d.attributes.length;_++)m[d.attributes[_].name]=d.attributes[_].value;for(_=0;_<d.childNodes.length;_++){var o=d.childNodes[_];o.nodeType==1&&(m[o.tagName]=o.firstChild?o.firstChild.nodeValue:"")}return m.text||(m.text=d.firstChild?d.firstChild.nodeValue:""),m},s.attachEvent("onXLS",function(){var d;this.config.show_loading===!0&&((d=this.config.show_loading=document.createElement("div")).className="dhx_loading",d.style.left=Math.round((this._x-128)/2)+"px",d.style.top=Math.round((this._y-15)/2)+"px",this._obj.appendChild(d))}),s.attachEvent("onXLE",function(){var d=this.config.show_loading;d&&Jt(d)=="object"&&(d.parentNode&&d.parentNode.removeChild(d),this.config.show_loading=!0)})}function Gr(s){s._init_touch_events=function(){if((this.config.touch&&(navigator.userAgent.indexOf("Mobile")!=-1||navigator.userAgent.indexOf("iPad")!=-1||navigator.userAgent.indexOf("Android")!=-1||navigator.userAgent.indexOf("Touch")!=-1)&&!window.MSStream||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1)&&(this.xy.scroll_width=0,this._mobile=!0),this.config.touch){var w=!0;try{document.createEvent("TouchEvent")}catch{w=!1}w?this._touch_events(["touchmove","touchstart","touchend"],function(d){return d.touches&&d.touches.length>1?null:d.touches[0]?{target:d.target,pageX:d.touches[0].pageX,pageY:d.touches[0].pageY,clientX:d.touches[0].clientX,clientY:d.touches[0].clientY}:d},function(){return!1}):window.PointerEvent||window.navigator.pointerEnabled?this._touch_events(["pointermove","pointerdown","pointerup"],function(d){return d.pointerType=="mouse"?null:d},function(d){return!d||d.pointerType=="mouse"}):window.navigator.msPointerEnabled&&this._touch_events(["MSPointerMove","MSPointerDown","MSPointerUp"],function(d){return d.pointerType==d.MSPOINTER_TYPE_MOUSE?null:d},function(d){return!d||d.pointerType==d.MSPOINTER_TYPE_MOUSE})}},s._touch_events=function(w,d,m){var _,o,c,u,f,y,x=0;function g(b,E,T){b.addEventListener(E,function(O){return!!s._is_lightbox_open()||(m(O)?void 0:T(O))},{passive:!1})}function k(b){m(b)||(s._hide_global_tip(),u&&(s._on_mouse_up(d(b)),s._temp_touch_block=!1),s._drag_id=null,s._drag_mode=null,s._drag_pos=null,s._pointerDragId=null,clearTimeout(c),u=y=!1,f=!0)}g(document.body,w[0],function(b){if(!m(b)){var E=d(b);if(E){if(u)return function(T){if(!m(T)){var O=s.getState().drag_mode,U=!!s.matrix&&s.matrix[s._mode],$=s.render_view_data;O=="create"&&U&&(s.render_view_data=function(){for(var V=s.getState().drag_id,Q=s.getEvent(V),ee=U.y_property,G=s.getEvents(Q.start_date,Q.end_date),re=0;re<G.length;re++)G[re][ee]!=Q[ee]&&(G.splice(re,1),re--);Q._sorder=G.length-1,Q._count=G.length,this.render_data([Q],s.getState().mode)}),s._on_mouse_move(T),O=="create"&&U&&(s.render_view_data=$),T.preventDefault&&T.preventDefault(),T.cancelBubble=!0}}(E),b.preventDefault&&b.preventDefault(),b.cancelBubble=!0,s._update_global_tip(),!1;o=d(b),y&&(o?(_.target!=o.target||Math.abs(_.pageX-o.pageX)>5||Math.abs(_.pageY-o.pageY)>5)&&(f=!0,clearTimeout(c)):f=!0)}}}),g(this._els.dhx_cal_data[0],"touchcancel",k),g(this._els.dhx_cal_data[0],"contextmenu",function(b){if(!m(b))return y?(b&&b.preventDefault&&b.preventDefault(),b.cancelBubble=!0,!1):void 0}),g(this._obj,w[1],function(b){var E;if(document&&document.body&&document.body.classList.add("dhx_cal_touch_active"),!m(b))if(s._pointerDragId=b.pointerId,u=f=!1,y=!0,E=o=d(b)){var T=new Date;if(!f&&!u&&T-x<250)return s._click.dhx_cal_data(E),window.setTimeout(function(){E.type="dblclick",s._on_dbl_click(E)},50),b.preventDefault&&b.preventDefault(),b.cancelBubble=!0,s._block_next_stop=!0,!1;if(x=T,!f&&!u&&s.config.touch_drag){var O=s._locate_event(document.activeElement),U=s._locate_event(E.target),$=_?s._locate_event(_.target):null;if(O&&U&&O==U&&O!=$)return b.preventDefault&&b.preventDefault(),b.cancelBubble=!0,s._ignore_next_click=!1,s._click.dhx_cal_data(E),_=E,!1;c=setTimeout(function(){u=!0;var V=_.target,Q=s._getClassName(V);V&&Q.indexOf("dhx_body")!=-1&&(V=V.previousSibling),s._on_mouse_down(_,V),s._drag_mode&&s._drag_mode!="create"&&s.for_rendered(s._drag_id,function(ee,G){ee.style.display="none",s._rendered.splice(G,1)}),s.config.touch_tip&&s._show_global_tip(),s.updateEvent(s._drag_id)},s.config.touch_drag),_=E}}else f=!0}),g(this._els.dhx_cal_data[0],w[2],function(b){if(document&&document.body&&document.body.classList.remove("dhx_cal_touch_active"),!m(b))return s.config.touch_swipe_dates&&!u&&function(E,T,O,U){if(!E||!T)return!1;for(var $=E.target;$&&$!=s._obj;)$=$.parentNode;if($!=s._obj||s.matrix&&s.matrix[s.getState().mode]&&s.matrix[s.getState().mode].scrollable)return!1;var V=Math.abs(E.pageY-T.pageY),Q=Math.abs(E.pageX-T.pageX);return V<U&&Q>O&&(!V||Q/V>3)&&(E.pageX>T.pageX?s._click.dhx_cal_next_button():s._click.dhx_cal_prev_button(),!0)}(_,o,200,100)&&(s._block_next_stop=!0),u&&(s._ignore_next_click=!0,setTimeout(function(){s._ignore_next_click=!1},100)),k(b),s._block_next_stop?(s._block_next_stop=!1,b.preventDefault&&b.preventDefault(),b.cancelBubble=!0,!1):void 0}),s.event(document.body,w[2],k)},s._show_global_tip=function(){s._hide_global_tip();var w=s._global_tip=document.createElement("div");w.className="dhx_global_tip",s._update_global_tip(1),document.body.appendChild(w)},s._update_global_tip=function(w){var d=s._global_tip;if(d){var m="";if(s._drag_id&&!w){var _=s.getEvent(s._drag_id);_&&(m="<div>"+(_._timed?s.templates.event_header(_.start_date,_.end_date,_):s.templates.day_date(_.start_date,_.end_date,_))+"</div>")}s._drag_mode=="create"||s._drag_mode=="new-size"?d.innerHTML=(s.locale.labels.drag_to_create||"Drag to create")+m:d.innerHTML=(s.locale.labels.drag_to_move||"Drag to move")+m}},s._hide_global_tip=function(){var w=s._global_tip;w&&w.parentNode&&(w.parentNode.removeChild(w),s._global_tip=0)}}function fa(s){var w,d;function m(){if(s._is_material_skin())return!0;if(d!==void 0)return d;var o=document.createElement("div");o.style.position="absolute",o.style.left="-9999px",o.style.top="-9999px",o.innerHTML="<div class='dhx_cal_container'><div class='dhx_cal_data'><div class='dhx_cal_event'><div class='dhx_body'></div></div><div>",document.body.appendChild(o);var c=window.getComputedStyle(o.querySelector(".dhx_body")).getPropertyValue("box-sizing");document.body.removeChild(o),(d=c==="border-box")||setTimeout(function(){d=void 0},1e3)}function _(){if(!s._is_material_skin()&&!s._border_box_events()){var o=d;d=void 0,w=void 0,o!==m()&&s.$container&&s.getState().mode&&s.setCurrentView()}}s._skin_settings={fix_tab_position:[1,0],use_select_menu_space:[1,0],wide_form:[1,0],hour_size_px:[44,42],displayed_event_color:["#ff4a4a","ffc5ab"],displayed_event_text_color:["#ffef80","7e2727"]},s._skin_xy={lightbox_additional_height:[90,50],nav_height:[59,22],bar_height:[24,20]},s._is_material_skin=function(){return s.skin?(s.skin+"").indexOf("material")>-1:function(){if(w===void 0){var o=document.createElement("div");o.style.position="absolute",o.style.left="-9999px",o.style.top="-9999px",o.innerHTML="<div class='dhx_cal_container'><div class='dhx_cal_scale_placeholder'></div><div>",document.body.appendChild(o);var c=window.getComputedStyle(o.querySelector(".dhx_cal_scale_placeholder")),u=c.getPropertyValue("position");w=u==="absolute",setTimeout(function(){w=null},500)}return w}()},window.addEventListener("DOMContentLoaded",_),window.addEventListener("load",_),s._border_box_events=function(){return m()},s._configure=function(o,c,u){for(var f in c)o[f]===void 0&&(o[f]=c[f][u])},s._skin_init=function(){if(!s.skin)for(var o=document.getElementsByTagName("link"),c=0;c<o.length;c++){var u=o[c].href.match("dhtmlxscheduler_([a-z]+).css");if(u){s.skin=u[1];break}}var f=0;if(!s.skin||s.skin!=="classic"&&s.skin!=="glossy"||(f=1),s._is_material_skin()){var y=s.config.buttons_left.$initial,x=s.config.buttons_right.$initial;if(y&&s.config.buttons_left.slice().join()==y&&x&&s.config.buttons_right.slice().join()==x){var g=s.config.buttons_left.slice();s.config.buttons_left=s.config.buttons_right.slice(),s.config.buttons_right=g}s.xy.event_header_height=18,s.xy.week_agenda_scale_height=35,s.xy.map_icon_width=38,s._lightbox_controls.defaults.textarea.height=64,s._lightbox_controls.defaults.time.height="auto"}if(this._configure(s.config,s._skin_settings,f),this._configure(s.xy,s._skin_xy,f),s.skin==="flat"&&(s.xy.scale_height=35,s.templates.hour_scale=function(b){var E=b.getMinutes();return E=E<10?"0"+E:E,"<span class='dhx_scale_h'>"+b.getHours()+"</span><span class='dhx_scale_m'>&nbsp;"+E+"</span>"}),!f){var k=s.config.minicalendar;k&&(k.padding=14),s.templates.event_bar_date=function(b,E,T){return"\u2022 <b>"+s.templates.event_date(b)+"</b> "},s.attachEvent("onTemplatesReady",function(){var b=s.date.date_to_str("%d");s.templates._old_month_day||(s.templates._old_month_day=s.templates.month_day);var E=s.templates._old_month_day;if(s.templates.month_day=function(re){if(this._mode=="month"){var q=b(re);return re.getDate()==1&&(q=s.locale.date.month_full[re.getMonth()]+" "+q),+re==+s.date.date_part(this._currentDate())&&(q=s.locale.labels.dhx_cal_today_button+" "+q),q}return E.call(this,re)},s.config.fix_tab_position){var T=s._els.dhx_cal_navline[0].getElementsByTagName("div"),O=null,U=211,$=[14,75,136],V=14;s._is_material_skin()&&($=[16,103,192],U=294,V=-1);for(var Q=0;Q<T.length;Q++){var ee=T[Q],G=ee.getAttribute("data-tab")||ee.getAttribute("name");if(G){switch(ee.style.right="auto",G){case"day":case"day_tab":ee.style.left=$[0]+"px",ee.className+=" dhx_cal_tab_first";break;case"week":case"week_tab":ee.style.left=$[1]+"px";break;case"month":case"month_tab":ee.style.left=$[2]+"px",ee.className+=" dhx_cal_tab_last";break;default:ee.style.left=U+"px",ee.className+=" dhx_cal_tab_standalone",U=U+V+ee.offsetWidth}ee.className+=" "+G}else(ee.className||"").indexOf("dhx_minical_icon")===0&&ee.parentNode==s._els.dhx_cal_navline[0]&&(O=ee)}O&&(O.style.left=U+"px")}}),s._skin_init=function(){}}}}function vn(s){return(vn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}function ne(s){return this.serverProcessor=s,this.action_param="!nativeeditor_status",this.object=null,this.updatedRows=[],this.autoUpdate=!0,this.updateMode="cell",this._tMode="GET",this._headers=null,this._payload=null,this.post_delim="_",this._waitMode=0,this._in_progress={},this._invalid={},this.messages=[],this.styles={updated:"font-weight:bold;",inserted:"font-weight:bold;",deleted:"text-decoration : line-through;",invalid:"background-color:FFE0E0;",invalid_cell:"border-bottom:2px solid red;",error:"color:red;",clear:"font-weight:normal;text-decoration:none;"},this.enableUTFencoding(!0),N(this),this}function de(s){return(de=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}ne.prototype={setTransactionMode:function(s,w){vn(s)=="object"?(this._tMode=s.mode||this._tMode,s.headers!==void 0&&(this._headers=s.headers),s.payload!==void 0&&(this._payload=s.payload),this._tSend=!!w):(this._tMode=s,this._tSend=w),this._tMode=="REST"&&(this._tSend=!1,this._endnm=!0),this._tMode==="JSON"||this._tMode==="REST-JSON"?(this._tSend=!1,this._endnm=!0,this._serializeAsJson=!0,this._headers=this._headers||{},this._headers["Content-Type"]="application/json"):this._headers&&!this._headers["Content-Type"]&&(this._headers["Content-Type"]="application/x-www-form-urlencoded"),this._tMode==="CUSTOM"&&(this._tSend=!1,this._endnm=!0,this._router=s.router)},escape:function(s){function w(d){return s.apply(this,arguments)}return w.toString=function(){return s.toString()},w}(function(s){return this._utf?encodeURIComponent(s):escape(s)}),enableUTFencoding:function(s){this._utf=!!s},setDataColumns:function(s){this._columns=typeof s=="string"?s.split(","):s},getSyncState:function(){return!this.updatedRows.length},enableDataNames:function(s){this._endnm=!!s},enablePartialDataSend:function(s){this._changed=!!s},setUpdateMode:function(s,w){this.autoUpdate=s=="cell",this.updateMode=s,this.dnd=w},ignore:function(s,w){this._silent_mode=!0,s.call(w||window),this._silent_mode=!1},setUpdated:function(s,w,d){if(!this._silent_mode){var m=this.findRow(s);d=d||"updated";var _=this.$scheduler.getUserData(s,this.action_param);_&&d=="updated"&&(d=_),w?(this.set_invalid(s,!1),this.updatedRows[m]=s,this.$scheduler.setUserData(s,this.action_param,d),this._in_progress[s]&&(this._in_progress[s]="wait")):this.is_invalid(s)||(this.updatedRows.splice(m,1),this.$scheduler.setUserData(s,this.action_param,"")),this.markRow(s,w,d),w&&this.autoUpdate&&this.sendData(s)}},markRow:function(s,w,d){var m="",_=this.is_invalid(s);if(_&&(m=this.styles[_],w=!0),this.callEvent("onRowMark",[s,w,d,_])&&(m=this.styles[w?d:"clear"]+m,this.$scheduler[this._methods[0]](s,m),_&&_.details)){m+=this.styles[_+"_cell"];for(var o=0;o<_.details.length;o++)_.details[o]&&this.$scheduler[this._methods[1]](s,o,m)}},getActionByState:function(s){return s==="inserted"?"create":s==="updated"?"update":s==="deleted"?"delete":"update"},getState:function(s){return this.$scheduler.getUserData(s,this.action_param)},is_invalid:function(s){return this._invalid[s]},set_invalid:function(s,w,d){d&&(w={value:w,details:d,toString:function(){return this.value.toString()}}),this._invalid[s]=w},checkBeforeUpdate:function(s){return!0},sendData:function(s){return this.$scheduler.editStop&&this.$scheduler.editStop(),s===void 0||this._tSend?this.sendAllData():!this._in_progress[s]&&(this.messages=[],!(!this.checkBeforeUpdate(s)&&this.callEvent("onValidationError",[s,this.messages]))&&void this._beforeSendData(this._getRowData(s),s))},_beforeSendData:function(s,w){if(!this.callEvent("onBeforeUpdate",[w,this.getState(w),s]))return!1;this._sendData(s,w)},serialize:function(s,w){if(this._serializeAsJson)return this._serializeAsJSON(s);if(typeof s=="string")return s;if(w!==void 0)return this.serialize_one(s,"");var d=[],m=[];for(var _ in s)s.hasOwnProperty(_)&&(d.push(this.serialize_one(s[_],_+this.post_delim)),m.push(_));return d.push("ids="+this.escape(m.join(","))),this.$scheduler.security_key&&d.push("dhx_security="+this.$scheduler.security_key),d.join("&")},serialize_one:function(s,w){if(typeof s=="string")return s;var d=[],m="";for(var _ in s)if(s.hasOwnProperty(_)){if((_=="id"||_==this.action_param)&&this._tMode=="REST")continue;m=typeof s[_]=="string"||typeof s[_]=="number"?s[_]:JSON.stringify(s[_]),d.push(this.escape((w||"")+_)+"="+this.escape(m))}return d.join("&")},_applyPayload:function(s){var w=this.$scheduler.ajax;if(this._payload)for(var d in this._payload)s=s+w.urlSeparator(s)+this.escape(d)+"="+this.escape(this._payload[d]);return s},_sendData:function(s,w){if(s){if(!this.callEvent("onBeforeDataSending",w?[w,this.getState(w),s]:[null,null,s]))return!1;w&&(this._in_progress[w]=new Date().valueOf());var d=this,m=this.$scheduler.ajax;if(this._tMode!=="CUSTOM"){var _,o={callback:function(E){var T=[];if(w)T.push(w);else if(s)for(var O in s)T.push(O);return d.afterUpdate(d,E,T)},headers:d._headers},c=this.serverProcessor+(this._user?m.urlSeparator(this.serverProcessor)+["dhx_user="+this._user,"dhx_version="+this.$scheduler.getUserData(0,"version")].join("&"):""),u=this._applyPayload(c);switch(this._tMode){case"GET":_=this._cleanupArgumentsBeforeSend(s),o.url=u+m.urlSeparator(u)+this.serialize(_,w),o.method="GET";break;case"POST":_=this._cleanupArgumentsBeforeSend(s),o.url=u,o.method="POST",o.data=this.serialize(_,w);break;case"JSON":_={};var f=this._cleanupItemBeforeSend(s);for(var y in f)y!==this.action_param&&y!=="id"&&y!=="gr_id"&&(_[y]=f[y]);o.url=u,o.method="POST",o.data=JSON.stringify({id:w,action:s[this.action_param],data:_});break;case"REST":case"REST-JSON":switch(u=c.replace(/(&|\?)editing=true/,""),_="",this.getState(w)){case"inserted":o.method="POST",o.data=this.serialize(s,w);break;case"deleted":o.method="DELETE",u=u+(u.slice(-1)==="/"?"":"/")+w;break;default:o.method="PUT",o.data=this.serialize(s,w),u=u+(u.slice(-1)==="/"?"":"/")+w}o.url=this._applyPayload(u)}return this._waitMode++,m.query(o)}var x,g=this.getState(w),k=this.getActionByState(g),b=function(E){var T=g;if(E&&E.responseText&&E.setRequestHeader){E.status!==200&&(T="error");try{E=JSON.parse(E.responseText)}catch{}}T=T||"updated";var O=w,U=w;E&&(T=E.action||T,O=E.sid||O,U=E.id||E.tid||U),d.afterUpdateCallback(O,U,T,E)};if(this._router instanceof Function)x=this._router("event",k,s,w);else switch(g){case"inserted":x=this._router.event.create(s);break;case"deleted":x=this._router.event.delete(w);break;default:x=this._router.event.update(s,w)}if(x){if(!x.then&&x.id===void 0&&x.tid===void 0&&x.action===void 0)throw new Error("Incorrect router return value. A Promise or a response object is expected");x.then?x.then(b).catch(function(E){E&&E.action?b(E):b({action:"error",value:E})}):b(x)}else b(null)}},sendAllData:function(){if(this.updatedRows.length&&this.updateMode!=="off"){this.messages=[];var s=!0;if(this._forEachUpdatedRow(function(w){s=s&&this.checkBeforeUpdate(w)}),!s&&!this.callEvent("onValidationError",["",this.messages]))return!1;this._tSend?this._sendData(this._getAllData()):this._forEachUpdatedRow(function(w){if(!this._in_progress[w]){if(this.is_invalid(w))return;this._beforeSendData(this._getRowData(w),w)}})}},_getAllData:function(s){var w={},d=!1;return this._forEachUpdatedRow(function(m){if(!this._in_progress[m]&&!this.is_invalid(m)){var _=this._getRowData(m);this.callEvent("onBeforeUpdate",[m,this.getState(m),_])&&(w[m]=_,d=!0,this._in_progress[m]=new Date().valueOf())}}),d?w:null},findRow:function(s){var w=0;for(w=0;w<this.updatedRows.length&&s!=this.updatedRows[w];w++);return w},defineAction:function(s,w){this._uActions||(this._uActions={}),this._uActions[s]=w},afterUpdateCallback:function(s,w,d,m){if(this.$scheduler){var _=s,o=d!=="error"&&d!=="invalid";if(o||this.set_invalid(s,d),this._uActions&&this._uActions[d]&&!this._uActions[d](m))return delete this._in_progress[_];this._in_progress[_]!=="wait"&&this.setUpdated(s,!1);var c=s;switch(d){case"inserted":case"insert":w!=s&&(this.setUpdated(s,!1),this.$scheduler[this._methods[2]](s,w),s=w);break;case"delete":case"deleted":return this.$scheduler.setUserData(s,this.action_param,"true_deleted"),this.$scheduler[this._methods[3]](s,w),delete this._in_progress[_],this.callEvent("onAfterUpdate",[s,d,w,m])}this._in_progress[_]!=="wait"?(o&&this.$scheduler.setUserData(s,this.action_param,""),delete this._in_progress[_]):(delete this._in_progress[_],this.setUpdated(w,!0,this.$scheduler.getUserData(s,this.action_param))),this.callEvent("onAfterUpdate",[c,d,w,m])}},_errorResponse:function(s,w){return this.$scheduler&&this.$scheduler.callEvent&&this.$scheduler.callEvent("onSaveError",[w,s.xmlDoc]),this.cleanUpdate(w)},_setDefaultTransactionMode:function(){this.serverProcessor&&(this.setTransactionMode("POST",!0),this.serverProcessor+=(this.serverProcessor.indexOf("?")!==-1?"&":"?")+"editing=true",this._serverProcessor=this.serverProcessor)},afterUpdate:function(s,w,d){var m=this.$scheduler.ajax;if(w.xmlDoc.status===200){var _;try{_=JSON.parse(w.xmlDoc.responseText)}catch{w.xmlDoc.responseText.length||(_={})}if(_){var o=_.action||this.getState(d)||"updated",c=_.sid||d[0],u=_.tid||d[0];return s.afterUpdateCallback(c,u,o,_),void s.finalizeUpdate()}var f=m.xmltop("data",w.xmlDoc);if(!f)return this._errorResponse(w,d);var y=m.xpath("//data/action",f);if(!y.length)return this._errorResponse(w,d);for(var x=0;x<y.length;x++){var g=y[x];o=g.getAttribute("type"),c=g.getAttribute("sid"),u=g.getAttribute("tid"),s.afterUpdateCallback(c,u,o,g)}s.finalizeUpdate()}else this._errorResponse(w,d)},cleanUpdate:function(s){if(s)for(var w=0;w<s.length;w++)delete this._in_progress[s[w]]},finalizeUpdate:function(){this._waitMode&&this._waitMode--,this.callEvent("onAfterUpdateFinish",[]),this.updatedRows.length||this.callEvent("onFullSync",[])},init:function(s){if(!this._initialized){this.$scheduler=s,this.$scheduler._dp_init&&this.$scheduler._dp_init(this),this._setDefaultTransactionMode(),this._methods=this._methods||["_set_event_text_style","","_dp_change_event_id","_dp_hook_delete"],function(d,m){d._validId=function(_){return!0},d.setUserData=function(_,o,c){if(_){var u=this.getEvent(_);u&&(u[o]=c)}else this._userdata[o]=c},d.getUserData=function(_,o){if(_){var c=this.getEvent(_);return c?c[o]:null}return this._userdata[o]},d._set_event_text_style=function(_,o){if(d.getEvent(_)){this.for_rendered(_,function(u){u.style.cssText+=";"+o});var c=this.getEvent(_);c._text_style=o,this.event_updated(c)}},d._update_callback=function(_,o){var c=d._xmlNodeToJSON(_.firstChild);c.rec_type=="none"&&(c.rec_pattern="none"),c.text=c.text||c._tagvalue,c.start_date=d._helpers.parseDate(c.start_date),c.end_date=d._helpers.parseDate(c.end_date),d.addEvent(c),d._add_rec_marker&&d.setCurrentView()},d._dp_change_event_id=function(_,o){d.getEvent(_)&&d.changeEventId(_,o)},d._dp_hook_delete=function(_,o){if(d.getEvent(_))return o&&_!=o&&(this.getUserData(_,m.action_param)=="true_deleted"&&this.setUserData(_,m.action_param,"updated"),this.changeEventId(_,o)),this.deleteEvent(o,!0)},d.setDp=function(){this._dp=m},d.setDp()}(this.$scheduler,this);var w=new function(d,m){this.$scheduler=d,this.$dp=m,this._dataProcessorHandlers=[],this.attach=function(){var _=this.$dp,o=this.$scheduler;this._dataProcessorHandlers.push(o.attachEvent("onEventAdded",function(c){!this._loading&&this._validId(c)&&_.setUpdated(c,!0,"inserted")})),this._dataProcessorHandlers.push(o.attachEvent("onConfirmedBeforeEventDelete",function(c){if(this._validId(c)){var u=_.getState(c);return u=="inserted"||this._new_event?(_.setUpdated(c,!1),!0):u!="deleted"&&(u=="true_deleted"||(_.setUpdated(c,!0,"deleted"),!1))}})),this._dataProcessorHandlers.push(o.attachEvent("onEventChanged",function(c){!this._loading&&this._validId(c)&&_.setUpdated(c,!0,"updated")})),this._dataProcessorHandlers.push(o.attachEvent("onClearAll",function(){_._in_progress={},_._invalid={},_.updatedRows=[],_._waitMode=0})),_.attachEvent("insertCallback",o._update_callback),_.attachEvent("updateCallback",o._update_callback),_.attachEvent("deleteCallback",function(c,u){o.getEvent(u)?(o.setUserData(u,this.action_param,"true_deleted"),o.deleteEvent(u)):o._add_rec_marker&&o._update_callback(c,u)})},this.detach=function(){for(var _ in this._dataProcessorHandlers){var o=this._dataProcessorHandlers[_];this.$scheduler.detachEvent(o)}this._dataProcessorHandlers=[]}}(this.$scheduler,this);w.attach(),this.attachEvent("onDestroy",function(){delete this._getRowData,delete this.$scheduler._dp,delete this.$scheduler._dataprocessor,delete this.$scheduler._set_event_text_style,delete this.$scheduler._dp_change_event_id,delete this.$scheduler._dp_hook_delete,delete this.$scheduler,w.detach()}),this.$scheduler.callEvent("onDataProcessorReady",[this]),this._initialized=!0,s._dataprocessor=this}},setOnAfterUpdate:function(s){this.attachEvent("onAfterUpdate",s)},setOnBeforeUpdateHandler:function(s){this.attachEvent("onBeforeDataSending",s)},setAutoUpdate:function(s,w){s=s||2e3,this._user=w||new Date().valueOf(),this._need_update=!1,this._update_busy=!1,this.attachEvent("onAfterUpdate",function(m,_,o,c){this.afterAutoUpdate(m,_,o,c)}),this.attachEvent("onFullSync",function(){this.fullSync()});var d=this;a.a.setInterval(function(){d.loadUpdate()},s)},afterAutoUpdate:function(s,w,d,m){return w!="collision"||(this._need_update=!0,!1)},fullSync:function(){return this._need_update&&(this._need_update=!1,this.loadUpdate()),!0},getUpdates:function(s,w){var d=this.$scheduler.ajax;if(this._update_busy)return!1;this._update_busy=!0,d.get(s,w)},_getXmlNodeValue:function(s){return s.firstChild?s.firstChild.nodeValue:""},loadUpdate:function(){var s=this,w=this.$scheduler.ajax,d=this.$scheduler.getUserData(0,"version"),m=this.serverProcessor+w.urlSeparator(this.serverProcessor)+["dhx_user="+this._user,"dhx_version="+d].join("&");m=m.replace("editing=true&",""),this.getUpdates(m,function(_){var o=w.xpath("//userdata",_);s.$scheduler.setUserData(0,"version",s._getXmlNodeValue(o[0]));var c=w.xpath("//update",_);if(c.length){s._silent_mode=!0;for(var u=0;u<c.length;u++){var f=c[u].getAttribute("status"),y=c[u].getAttribute("id"),x=c[u].getAttribute("parent");switch(f){case"inserted":this.callEvent("insertCallback",[c[u],y,x]);break;case"updated":this.callEvent("updateCallback",[c[u],y,x]);break;case"deleted":this.callEvent("deleteCallback",[c[u],y,x])}}s._silent_mode=!1}s._update_busy=!1,s=null})},destructor:function(){this.callEvent("onDestroy",[]),this.detachAllEvents(),this.updatedRows=[],this._in_progress={},this._invalid={},this._headers=null,this._payload=null,delete this._initialized},url:function(s){this.serverProcessor=this._serverProcessor=s},_serializeAsJSON:function(s){if(typeof s=="string")return s;var w=this.$scheduler.utils.copy(s);return this._tMode==="REST-JSON"&&(delete w.id,delete w[this.action_param]),JSON.stringify(w)},_cleanupArgumentsBeforeSend:function(s){var w;if(s[this.action_param]===void 0)for(var d in w={},s)w[d]=this._cleanupArgumentsBeforeSend(s[d]);else w=this._cleanupItemBeforeSend(s);return w},_cleanupItemBeforeSend:function(s){var w=null;return s&&(s[this.action_param]==="deleted"?((w={}).id=s.id,w[this.action_param]=s[this.action_param]):w=s),w},_forEachUpdatedRow:function(s){for(var w=this.updatedRows.slice(),d=0;d<w.length;d++){var m=w[d];this.$scheduler.getUserData(m,this.action_param)&&s.call(this,m)}},_prepareDataItem:function(s){var w={},d=this.$scheduler,m=d.utils.copy(s);for(var _ in m)_.indexOf("_")!==0&&m[_]&&(m[_].getUTCFullYear?w[_]=d._helpers.formatDate(m[_]):vn(m[_])=="object"?w[_]=this._prepareDataItem(m[_]):m[_]===null?w[_]="":w[_]=m[_]);return w[this.action_param]=d.getUserData(s.id,this.action_param),w},_getRowData:function(s){var w=this.$scheduler.getEvent(s);return w||(w={id:s}),this._prepareDataItem(w)}};var we=function(s){var w="data-dhxbox",d=null;function m($,V){var Q=$.callback;T.hide($.box),d=$.box=null,Q&&Q(V)}function _($){if(d){var V=$.which||$.keyCode,Q=!1;if(O.keyboard){if(V==13||V==32){var ee=$.target||$.srcElement;xe.getClassName(ee).indexOf("scheduler_popup_button")>-1&&ee.click?ee.click():(m(d,!0),Q=!0)}V==27&&(m(d,!1),Q=!0)}return Q?($.preventDefault&&$.preventDefault(),!($.cancelBubble=!0)):void 0}}function o($){o.cover||(o.cover=document.createElement("div"),s.event(o.cover,"keydown",_),o.cover.className="dhx_modal_cover",document.body.appendChild(o.cover)),o.cover.style.display=$?"inline-block":"none"}function c($,V,Q){var ee=s._waiAria.messageButtonAttrString($),G=(V||"").toLowerCase().replace(/ /g,"_"),re="scheduler_".concat(G,"_button dhtmlx_").concat(G,"_button");return"<div ".concat(ee," class='scheduler_popup_button dhtmlx_popup_button ").concat(re,"' data-result='").concat(Q,"' result='").concat(Q,"' ><div>").concat($,"</div></div>")}function u($){O.area||(O.area=document.createElement("div"),O.area.className="scheduler_message_area dhtmlx_message_area",O.area.style[O.position]="5px",document.body.appendChild(O.area)),O.hide($.id);var V=document.createElement("div");return V.innerHTML="<div>"+$.text+"</div>",V.className="scheduler-info dhtmlx-info scheduler-"+$.type+" dhtmlx-"+$.type,s.event(V,"click",function(){O.hide($.id),$=null}),s._waiAria.messageInfoAttr(V),O.position=="bottom"&&O.area.firstChild?O.area.insertBefore(V,O.area.firstChild):O.area.appendChild(V),$.expire>0&&(O.timers[$.id]=window.setTimeout(function(){O&&O.hide($.id)},$.expire)),O.pull[$.id]=V,V=null,$.id}function f(){for(var $=[].slice.apply(arguments,[0]),V=0;V<$.length;V++)if($[V])return $[V]}function y($,V,Q){var ee=$.tagName?$:function(q,X,J){var ye=document.createElement("div"),Se=z.uid();s._waiAria.messageModalAttr(ye,Se),ye.className=" scheduler_modal_box dhtmlx_modal_box scheduler-"+q.type+" dhtmlx-"+q.type,ye.setAttribute(w,1);var be="";if(q.width&&(ye.style.width=q.width),q.height&&(ye.style.height=q.height),q.title&&(be+='<div class="scheduler_popup_title dhtmlx_popup_title">'+q.title+"</div>"),be+='<div class="scheduler_popup_text dhtmlx_popup_text" id="'+Se+'"><span>'+(q.content?"":q.text)+'</span></div><div  class="scheduler_popup_controls dhtmlx_popup_controls">',X&&(be+=c(f(q.ok,s.locale.labels.message_ok,"OK"),"ok",!0)),J&&(be+=c(f(q.cancel,s.locale.labels.message_cancel,"Cancel"),"cancel",!1)),q.buttons)for(var Ie=0;Ie<q.buttons.length;Ie++){var Ce=q.buttons[Ie];de(Ce)=="object"?be+=c(Ce.label,Ce.css||"scheduler_"+Ce.label.toLowerCase()+"_button dhtmlx_"+Ce.label.toLowerCase()+"_button",Ce.value||Ie):be+=c(Ce,Ce,Ie)}if(be+="</div>",ye.innerHTML=be,q.content){var $e=q.content;typeof $e=="string"&&($e=document.getElementById($e)),$e.style.display=="none"&&($e.style.display=""),ye.childNodes[q.title?1:0].appendChild($e)}return s.event(ye,"click",function(qe){var Xe=qe.target||qe.srcElement;if(Xe.className||(Xe=Xe.parentNode),xe.closest(Xe,".scheduler_popup_button")){var Tt=Xe.getAttribute("data-result");m(q,Tt=Tt=="true"||Tt!="false"&&Tt)}}),q.box=ye,(X||J)&&(d=q),ye}($,V,Q);$.hidden||o(!0),document.body.appendChild(ee);var G=Math.abs(Math.floor(((window.innerWidth||document.documentElement.offsetWidth)-ee.offsetWidth)/2)),re=Math.abs(Math.floor(((window.innerHeight||document.documentElement.offsetHeight)-ee.offsetHeight)/2));return $.position=="top"?ee.style.top="-3px":ee.style.top=re+"px",ee.style.left=G+"px",s.event(ee,"keydown",_),T.focus(ee),$.hidden&&T.hide(ee),s.callEvent("onMessagePopup",[ee]),ee}function x($){return y($,!0,!1)}function g($){return y($,!0,!0)}function k($){return y($)}function b($,V,Q){return de($)!="object"&&(typeof V=="function"&&(Q=V,V=""),$={text:$,type:V,callback:Q}),$}function E($,V,Q,ee){return de($)!="object"&&($={text:$,type:V,expire:Q,id:ee}),$.id=$.id||z.uid(),$.expire=$.expire||O.expire,$}s.event(document,"keydown",_,!0);var T=function(){var $=b.apply(this,arguments);return $.type=$.type||"alert",k($)};T.hide=function($){for(;$&&$.getAttribute&&!$.getAttribute(w);)$=$.parentNode;$&&($.parentNode.removeChild($),o(!1),s.callEvent("onAfterMessagePopup",[$]))},T.focus=function($){setTimeout(function(){var V=xe.getFocusableNodes($);V.length&&V[0].focus&&V[0].focus()},1)};var O=function($,V,Q,ee){switch(($=E.apply(this,arguments)).type=$.type||"info",$.type.split("-")[0]){case"alert":return x($);case"confirm":return g($);case"modalbox":return k($);default:return u($)}};O.seed=new Date().valueOf(),O.uid=z.uid,O.expire=4e3,O.keyboard=!0,O.position="top",O.pull={},O.timers={},O.hideAll=function(){for(var $ in O.pull)O.hide($)},O.hide=function($){var V=O.pull[$];V&&V.parentNode&&(window.setTimeout(function(){V.parentNode.removeChild(V),V=null},2e3),V.className+=" hidden",O.timers[$]&&window.clearTimeout(O.timers[$]),delete O.pull[$])};var U=[];return s.attachEvent("onMessagePopup",function($){U.push($)}),s.attachEvent("onAfterMessagePopup",function($){for(var V=0;V<U.length;V++)U[V]===$&&(U.splice(V,1),V--)}),s.attachEvent("onDestroy",function(){o.cover&&o.cover.parentNode&&o.cover.parentNode.removeChild(o.cover);for(var $=0;$<U.length;$++)U[$].parentNode&&U[$].parentNode.removeChild(U[$]);U=null,O.area&&O.area.parentNode&&O.area.parentNode.removeChild(O.area),O=null}),{alert:function(){var $=b.apply(this,arguments);return $.type=$.type||"confirm",x($)},confirm:function(){var $=b.apply(this,arguments);return $.type=$.type||"alert",g($)},message:O,modalbox:T}},De={date:{month_full:["\u0643\u0627\u0646\u0648\u0646 \u0627\u0644\u062B\u0627\u0646\u064A","\u0634\u0628\u0627\u0637","\u0622\u0630\u0627\u0631","\u0646\u064A\u0633\u0627\u0646","\u0623\u064A\u0627\u0631","\u062D\u0632\u064A\u0631\u0627\u0646","\u062A\u0645\u0648\u0632","\u0622\u0628","\u0623\u064A\u0644\u0648\u0644","\u062A\u0634\u0631\u064A\u0646 \u0627\u0644\u0623\u0648\u0644","\u062A\u0634\u0631\u064A\u0646 \u0627\u0644\u062B\u0627\u0646\u064A","\u0643\u0627\u0646\u0648\u0646 \u0627\u0644\u0623\u0648\u0644"],month_short:["\u064A\u0646\u0627\u064A\u0631","\u0641\u0628\u0631\u0627\u064A\u0631","\u0645\u0627\u0631\u0633","\u0623\u0628\u0631\u064A\u0644","\u0645\u0627\u064A\u0648","\u064A\u0648\u0646\u064A\u0648","\u064A\u0648\u0644\u064A\u0648","\u0623\u063A\u0633\u0637\u0633","\u0633\u0628\u062A\u0645\u0628\u0631","\u0623\u0643\u062A\u0648\u0628\u0631","\u0646\u0648\u0641\u0645\u0628\u0631","\u062F\u064A\u0633\u0645\u0628\u0631"],day_full:["\u0627\u0644\u0623\u062D\u062F","\u0627\u0644\u0623\u062B\u0646\u064A\u0646","\u0623\u0644\u062B\u0644\u0627\u062B\u0627\u0621","\u0627\u0644\u0623\u0631\u0628\u0639\u0627\u0621","\u0623\u0644\u062D\u0645\u064A\u0633","\u0623\u0644\u062C\u0645\u0639\u0629","\u0627\u0644\u0633\u0628\u062A"],day_short:["\u0627\u062D\u062F","\u0627\u062B\u0646\u064A\u0646","\u062B\u0644\u0627\u062B\u0627\u0621","\u0627\u0631\u0628\u0639\u0627\u0621","\u062E\u0645\u064A\u0633","\u062C\u0645\u0639\u0629","\u0633\u0628\u062A"]},labels:{dhx_cal_today_button:"\u0627\u0644\u064A\u0648\u0645",day_tab:"\u064A\u0648\u0645",week_tab:"\u0623\u0633\u0628\u0648\u0639",month_tab:"\u0634\u0647\u0631",new_event:"\u062D\u062F\u062B \u062C\u062F\u064A\u062F",icon_save:"\u0627\u062E\u0632\u0646",icon_cancel:"\u0627\u0644\u063A\u0627\u0621",icon_details:"\u062A\u0641\u0627\u0635\u064A\u0644",icon_edit:"\u062A\u062D\u0631\u064A\u0631",icon_delete:"\u062D\u0630\u0641",confirm_closing:"\u0627\u0644\u062A\u063A\u064A\u064A\u0631\u0627\u062A \u0633\u0648\u0641 \u062A\u0636\u064A\u0639, \u0647\u0644 \u0627\u0646\u062A \u0645\u062A\u0623\u0643\u062F\u061F",confirm_deleting:"\u0627\u0644\u062D\u062F\u062B \u0633\u064A\u062A\u0645 \u062D\u0630\u0641\u0647\u0627 \u0646\u0647\u0627\u0626\u064A\u0627 \u060C \u0647\u0644 \u0623\u0646\u062A \u0645\u062A\u0623\u0643\u062F\u061F",section_description:"\u0627\u0644\u0648\u0635\u0641",section_time:"\u0627\u0644\u0641\u062A\u0631\u0629 \u0627\u0644\u0632\u0645\u0646\u064A\u0629",full_day:"\u0637\u0648\u0627\u0644 \u0627\u0644\u064A\u0648\u0645",confirm_recurring:"\u0647\u0644 \u062A\u0631\u064A\u062F \u062A\u062D\u0631\u064A\u0631 \u0645\u062C\u0645\u0648\u0639\u0629 \u0643\u0627\u0645\u0644\u0629 \u0645\u0646 \u0627\u0644\u0623\u062D\u062F\u0627\u062B \u0627\u0644\u0645\u062A\u0643\u0631\u0631\u0629\u061F",section_recurring:"\u062A\u0643\u0631\u0627\u0631 \u0627\u0644\u062D\u062F\u062B",button_recurring:"\u062A\u0639\u0637\u064A\u0644",button_recurring_open:"\u062A\u0645\u0643\u064A\u0646",button_edit_series:"\u062A\u062D\u0631\u064A\u0631 \u0633\u0644\u0633\u0644\u0629",button_edit_occurrence:"\u062A\u0639\u062F\u064A\u0644 \u0646\u0633\u062E\u0629",grid_tab:"\u062C\u062F\u0648\u0644",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute"}},He={date:{month_full:["\u0421\u0442\u0443\u0434\u0437\u0435\u043D\u044C","\u041B\u044E\u0442\u044B","\u0421\u0430\u043A\u0430\u0432\u0456\u043A","\u041A\u0440\u0430\u0441\u0430\u0432\u0456\u043A","Ma\u0439","\u0427\u044D\u0440\u0432\u0435\u043D\u044C","\u041B\u0456\u043F\u0435\u043D\u044C","\u0416\u043D\u0456\u0432\u0435\u043D\u044C","\u0412\u0435\u0440\u0430\u0441\u0435\u043D\u044C","\u041A\u0430\u0441\u0442\u0440\u044B\u0447\u043D\u0456\u043A","\u041B\u0456\u0441\u0442\u0430\u043F\u0430\u0434","\u0421\u043D\u0435\u0436\u0430\u043D\u044C"],month_short:["\u0421\u0442\u0443\u0434\u0437","\u041B\u044E\u0442","\u0421\u0430\u043A","\u041A\u0440\u0430\u0441","Ma\u0439","\u0427\u044D\u0440","\u041B\u0456\u043F","\u0416\u043D\u0456\u0432","\u0412\u0435\u0440","\u041A\u0430\u0441\u0442","\u041B\u0456\u0441\u0442","\u0421\u043D\u0435\u0436"],day_full:["\u041D\u044F\u0434\u0437\u0435\u043B\u044F","\u041F\u0430\u043D\u044F\u0434\u0437\u0435\u043B\u0430\u043A","\u0410\u045E\u0442\u043E\u0440\u0430\u043A","\u0421\u0435\u0440\u0430\u0434\u0430","\u0427\u0430\u0446\u0432\u0435\u0440","\u041F\u044F\u0442\u043D\u0456\u0446\u0430","\u0421\u0443\u0431\u043E\u0442\u0430"],day_short:["\u041D\u0434","\u041F\u043D","\u0410\u045E\u0442","\u0421\u0440","\u0427\u0446\u0432","\u041F\u0442","\u0421\u0431"]},labels:{dhx_cal_today_button:"\u0421\u0451\u043D\u043D\u044F",day_tab:"\u0414\u0437\u0435\u043D\u044C",week_tab:"\u0422\u044B\u0434\u0437\u0435\u043D\u044C",month_tab:"\u041C\u0435\u0441\u044F\u0446",new_event:"\u041D\u043E\u0432\u0430\u044F \u043F\u0430\u0434\u0437\u0435\u044F",icon_save:"\u0417\u0430\u0445\u0430\u0432\u0430\u0446\u044C",icon_cancel:"\u0410\u0434\u043C\u044F\u043D\u0456\u0446\u044C",icon_details:"\u0414\u044D\u0442\u0430\u043B\u0456",icon_edit:"\u0417\u043C\u044F\u043D\u0456\u0446\u044C",icon_delete:"\u0412\u044B\u0434\u0430\u043B\u0456\u0446\u044C",confirm_closing:"",confirm_deleting:"\u041F\u0430\u0434\u0437\u0435\u044F \u0431\u0443\u0434\u0437\u0435 \u0432\u044B\u0434\u0430\u043B\u0435\u043D\u0430 \u043D\u0435\u0437\u0432\u0430\u0440\u043E\u0442\u043D\u0430, \u043F\u0440\u0430\u0446\u044F\u0433\u043D\u0443\u0446\u044C?",section_description:"\u0410\u043F\u0456\u0441\u0430\u043D\u043D\u0435",section_time:"\u041F\u0435\u0440\u044B\u044F\u0434 \u0447\u0430\u0441\u0443",full_day:"\u0423\u0432\u0435\u0441\u044C \u0434\u0437\u0435\u043D\u044C",confirm_recurring:"\u0412\u044B \u0445\u043E\u0447\u0430\u0446\u0435 \u0437\u043C\u044F\u043D\u0456\u0446\u044C \u0443\u0441\u044E \u0441\u0435\u0440\u044B\u044E \u043F\u0430\u045E\u0442\u0430\u0440\u0430\u043B\u044C\u043D\u044B\u0445 \u043F\u0430\u0434\u0437\u0435\u0439?",section_recurring:"\u041F\u0430\u045E\u0442\u0430\u0440\u044D\u043D\u043D\u0435",button_recurring:"\u0410\u0434\u043A\u043B\u044E\u0447\u0430\u043D\u0430",button_recurring_open:"\u0423\u043A\u043B\u044E\u0447\u0430\u043D\u0430",button_edit_series:"\u0420\u044D\u0434\u0430\u0433\u0430\u0432\u0430\u0446\u044C \u0441\u0435\u0440\u044B\u044E",button_edit_occurrence:"\u0420\u044D\u0434\u0430\u0433\u0430\u0432\u0430\u0446\u044C \u0430\u0441\u043E\u0431\u043D\u0456\u043A",agenda_tab:"\u0421\u043F\u0456\u0441",date:"\u0414\u0430\u0442\u0430",description:"\u0410\u043F\u0456\u0441\u0430\u043D\u043D\u0435",year_tab:"\u0413\u043E\u0434",week_agenda_tab:"\u0421\u043F\u0456\u0441",grid_tab:"\u0421\u043Fic",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"\u0414\u0437\u0435\u043D\u044C",repeat_radio_week:"\u0422\u044B\u0434\u0437\u0435\u043D\u044C",repeat_radio_month:"\u041C\u0435\u0441\u044F\u0446",repeat_radio_year:"\u0413\u043E\u0434",repeat_radio_day_type:"\u041A\u043E\u0436\u043D\u044B",repeat_text_day_count:"\u0434\u0437\u0435\u043D\u044C",repeat_radio_day_type2:"\u041A\u043E\u0436\u043D\u044B \u043F\u0440\u0430\u0446\u043E\u045E\u043D\u044B \u0434\u0437\u0435\u043D\u044C",repeat_week:" \u041F\u0430\u045E\u0442\u0430\u0440\u0430\u0446\u044C \u043A\u043E\u0436\u043D\u044B",repeat_text_week_count:"\u0442\u044B\u0434\u0437\u0435\u043D\u044C",repeat_radio_month_type:"\u041F\u0430\u045E\u0442\u0430\u0440\u0430\u0446\u044C",repeat_radio_month_start:"",repeat_text_month_day:" \u0447\u044B\u0441\u043B\u0430 \u043A\u043E\u0436\u043D\u0430\u0433\u0430",repeat_text_month_count:"\u043C\u0435\u0441\u044F\u0446\u0443",repeat_text_month_count2_before:"\u043A\u043E\u0436\u043D\u044B ",repeat_text_month_count2_after:"\u043C\u0435\u0441\u044F\u0446",repeat_year_label:"",select_year_day2:"",repeat_text_year_day:"\u0434\u0435\u043D\u044C",select_year_month:"",repeat_radio_end:"\u0411\u0435\u0437 \u0434\u0430\u0442\u044B \u0437\u0430\u043A\u0430\u043D\u0447\u044D\u043D\u043D\u044F",repeat_text_occurences_count:"\u043F\u0430\u045E\u0442\u043E\u0440\u0430\u045E",repeat_radio_end2:"",repeat_radio_end3:"\u0414\u0430 ",month_for_recurring:["\u0421\u0442\u0443\u0434\u0437\u0435\u043D\u044F","\u041B\u044E\u0442\u0430\u0433\u0430","\u0421\u0430\u043A\u0430\u0432\u0456\u043A\u0430","\u041A\u0440\u0430\u0441\u0430\u0432\u0456\u043A\u0430","\u041C\u0430\u044F","\u0427\u044D\u0440\u0432\u0435\u043D\u044F","\u041B\u0456\u043Fe\u043D\u044F","\u0416\u043D\u0456\u045E\u043D\u044F","\u0412\u0435\u0440\u0430\u0441\u043D\u044F","\u041A\u0430\u0441\u0442\u0440\u044B\u0447\u043D\u0456\u043A\u0430","\u041B\u0456\u0441\u0442\u0430\u043F\u0430\u0434\u0430","\u0421\u043D\u0435\u0436\u043D\u044F"],day_for_recurring:["\u041D\u044F\u0434\u0437\u0435\u043B\u044E","\u041F\u0430\u043D\u044F\u0434\u0437\u0435\u043B\u0430\u043A","\u0410\u045E\u0442\u043E\u0440\u0430\u043A","\u0421\u0435\u0440\u0430\u0434\u0443","\u0427\u0430\u0446\u0432\u0435\u0440","\u041F\u044F\u0442\u043D\u0456\u0446\u0443","\u0421\u0443\u0431\u043E\u0442\u0443"]}},ze={date:{month_full:["Gener","Febrer","Mar\xE7","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"],month_short:["Gen","Feb","Mar","Abr","Mai","Jun","Jul","Ago","Set","Oct","Nov","Des"],day_full:["Diumenge","Dilluns","Dimarts","Dimecres","Dijous","Divendres","Dissabte"],day_short:["Dg","Dl","Dm","Dc","Dj","Dv","Ds"]},labels:{dhx_cal_today_button:"Hui",day_tab:"Dia",week_tab:"Setmana",month_tab:"Mes",new_event:"Nou esdeveniment",icon_save:"Guardar",icon_cancel:"Cancel\xB7lar",icon_details:"Detalls",icon_edit:"Editar",icon_delete:"Esborrar",confirm_closing:"",confirm_deleting:"L'esdeveniment s'esborrar\xE0 definitivament, continuar ?",section_description:"Descripci\xF3",section_time:"Periode de temps",full_day:"Tot el dia",confirm_recurring:"\xBFDesitja modificar el conjunt d'esdeveniments repetits?",section_recurring:"Repeteixca l'esdeveniment",button_recurring:"Impedit",button_recurring_open:"Perm\xE9s",button_edit_series:"Edit s\xE8rie",button_edit_occurrence:"Edita Inst\xE0ncia",agenda_tab:"Agenda",date:"Data",description:"Descripci\xF3",year_tab:"Any",week_agenda_tab:"Agenda",grid_tab:"Taula",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute"}},se={date:{month_full:["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"],month_short:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],day_full:["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"],day_short:["\u65E5","\u4E00","\u4E8C","\u4E09","\u56DB","\u4E94","\u516D"]},labels:{dhx_cal_today_button:"\u4ECA\u5929",day_tab:"\u65E5",week_tab:"\u5468",month_tab:"\u6708",new_event:"\u65B0\u5EFA\u65E5\u7A0B",icon_save:"\u4FDD\u5B58",icon_cancel:"\u5173\u95ED",icon_details:"\u8BE6\u7EC6",icon_edit:"\u7F16\u8F91",icon_delete:"\u5220\u9664",confirm_closing:"\u8BF7\u786E\u8BA4\u662F\u5426\u64A4\u9500\u4FEE\u6539!",confirm_deleting:"\u662F\u5426\u5220\u9664\u65E5\u7A0B?",section_description:"\u63CF\u8FF0",section_time:"\u65F6\u95F4\u8303\u56F4",full_day:"\u6574\u5929",confirm_recurring:"\u8BF7\u786E\u8BA4\u662F\u5426\u5C06\u65E5\u7A0B\u8BBE\u4E3A\u91CD\u590D\u6A21\u5F0F?",section_recurring:"\u91CD\u590D\u5468\u671F",button_recurring:"\u7981\u7528",button_recurring_open:"\u542F\u7528",button_edit_series:"\u7F16\u8F91\u7CFB\u5217",button_edit_occurrence:"\u7F16\u8F91\u5B9E\u4F8B",agenda_tab:"\u8BAE\u7A0B",date:"\u65E5\u671F",description:"\u8BF4\u660E",year_tab:"\u4ECA\u5E74",week_agenda_tab:"\u8BAE\u7A0B",grid_tab:"\u7535\u7F51",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"\u6309\u5929",repeat_radio_week:"\u6309\u5468",repeat_radio_month:"\u6309\u6708",repeat_radio_year:"\u6309\u5E74",repeat_radio_day_type:"\u6BCF",repeat_text_day_count:"\u5929",repeat_radio_day_type2:"\u6BCF\u4E2A\u5DE5\u4F5C\u65E5",repeat_week:" \u91CD\u590D \u6BCF",repeat_text_week_count:"\u661F\u671F\u7684:",repeat_radio_month_type:"\u91CD\u590D",repeat_radio_month_start:"\u5728",repeat_text_month_day:"\u65E5 \u6BCF",repeat_text_month_count:"\u6708",repeat_text_month_count2_before:"\u6BCF",repeat_text_month_count2_after:"\u6708",repeat_year_label:"\u5728",select_year_day2:"\u7684",repeat_text_year_day:"\u65E5",select_year_month:"\u6708",repeat_radio_end:"\u65E0\u7ED3\u675F\u65E5\u671F",repeat_text_occurences_count:"\u6B21\u7ED3\u675F",repeat_radio_end2:"\u91CD\u590D",repeat_radio_end3:"\u7ED3\u675F\u4E8E",month_for_recurring:["\u4E00\u6708","\u4E8C\u6708","\u4E09\u6708","\u56DB\u6708","\u4E94\u6708","\u516D\u6708","\u4E03\u6708","\u516B\u6708","\u4E5D\u6708","\u5341\u6708","\u5341\u4E00\u6708","\u5341\u4E8C\u6708"],day_for_recurring:["\u661F\u671F\u65E5","\u661F\u671F\u4E00","\u661F\u671F\u4E8C","\u661F\u671F\u4E09","\u661F\u671F\u56DB","\u661F\u671F\u4E94","\u661F\u671F\u516D"]}},Me={date:{month_full:["Leden","\xDAnor","B\u0159ezen","Duben","Kv\u011Bten","\u010Cerven","\u010Cervenec","Srpen","Z\xE1\u0159\xED","\u0158\xEDjen","Listopad","Prosinec"],month_short:["Led","\xDAn","B\u0159e","Dub","Kv\u011B","\u010Cer","\u010Cec","Srp","Z\xE1\u0159\xED","\u0158\xEDj","List","Pro"],day_full:["Ned\u011Ble","Pond\u011Bl\xED","\xDAter\xFD","St\u0159eda","\u010Ctvrtek","P\xE1tek","Sobota"],day_short:["Ne","Po","\xDAt","St","\u010Ct","P\xE1","So"]},labels:{dhx_cal_today_button:"Dnes",day_tab:"Den",week_tab:"T\xFDden",month_tab:"M\u011Bs\xEDc",new_event:"Nov\xE1 ud\xE1lost",icon_save:"Ulo\u017Eit",icon_cancel:"Zp\u011Bt",icon_details:"Detail",icon_edit:"Edituj",icon_delete:"Smazat",confirm_closing:"",confirm_deleting:"Ud\xE1lost bude trvale smaz\xE1na, opravdu?",section_description:"Pozn\xE1mky",section_time:"Doba platnosti",confirm_recurring:"P\u0159ejete si upravit celou \u0159adu opakovan\xFDch ud\xE1lost\xED?",section_recurring:"Opakov\xE1n\xED ud\xE1losti",button_recurring:"Vypnuto",button_recurring_open:"Zapnuto",button_edit_series:"Edit series",button_edit_occurrence:"Upravit instance",agenda_tab:"Program",date:"Datum",description:"Pozn\xE1mka",year_tab:"Rok",full_day:"Full day",week_agenda_tab:"Program",grid_tab:"M\u0159\xED\u017Eka",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Denn\u011B",repeat_radio_week:"T\xFDdn\u011B",repeat_radio_month:"M\u011Bs\xED\u010Dn\u011B",repeat_radio_year:"Ro\u010Dn\u011B",repeat_radio_day_type:"ka\u017Ed\xFD",repeat_text_day_count:"Den",repeat_radio_day_type2:"pracovn\xED dny",repeat_week:"Opakuje ka\u017Ed\xFDch",repeat_text_week_count:"T\xFDdn\u016F na:",repeat_radio_month_type:"u ka\u017Ed\xE9ho",repeat_radio_month_start:"na",repeat_text_month_day:"Den ka\u017Ed\xE9ho",repeat_text_month_count:"M\u011Bs\xEDc",repeat_text_month_count2_before:"ka\u017Ed\xFD",repeat_text_month_count2_after:"M\u011Bs\xEDc",repeat_year_label:"na",select_year_day2:"v",repeat_text_year_day:"Den v",select_year_month:"",repeat_radio_end:"bez data ukon\u010Den\xED",repeat_text_occurences_count:"Ud\xE1losti",repeat_radio_end2:"po",repeat_radio_end3:"Konec",month_for_recurring:["Leden","\xDAnor","B\u0159ezen","Duben","Kv\u011Bten","\u010Cerven","\u010Cervenec","Srpen","Z\xE1\u0159\xED","\u0158\xEDjen","Listopad","Prosinec"],day_for_recurring:["Ned\u011Ble ","Pond\u011Bl\xED","\xDAter\xFD","St\u0159eda","\u010Ctvrtek","P\xE1tek","Sobota"]}},tt={date:{month_full:["Januar","Februar","Marts","April","Maj","Juni","Juli","August","September","Oktober","November","December"],month_short:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["S\xF8ndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","L\xF8rdag"],day_short:["S\xF8n","Man","Tir","Ons","Tor","Fre","L\xF8r"]},labels:{dhx_cal_today_button:"Idag",day_tab:"Dag",week_tab:"Uge",month_tab:"M\xE5ned",new_event:"Ny begivenhed",icon_save:"Gem",icon_cancel:"Fortryd",icon_details:"Detaljer",icon_edit:"Tilret",icon_delete:"Slet",confirm_closing:"Dine rettelser vil g\xE5 tabt.. Er dy sikker?",confirm_deleting:"Bigivenheden vil blive slettet permanent. Er du sikker?",section_description:"Beskrivelse",section_time:"Tidsperiode",confirm_recurring:"Vil du tilrette hele serien af gentagne begivenheder?",section_recurring:"Gentag begivenhed",button_recurring:"Frakoblet",button_recurring_open:"Tilkoblet",button_edit_series:"Rediger serien",button_edit_occurrence:"Rediger en kopi",agenda_tab:"Dagsorden",date:"Dato",description:"Beskrivelse",year_tab:"\xC5r",week_agenda_tab:"Dagsorden",grid_tab:"Grid",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Daglig",repeat_radio_week:"Ugenlig",repeat_radio_month:"M\xE5nedlig",repeat_radio_year:"\xC5rlig",repeat_radio_day_type:"Hver",repeat_text_day_count:"dag",repeat_radio_day_type2:"P\xE5 hver arbejdsdag",repeat_week:" Gentager sig hver",repeat_text_week_count:"uge p\xE5 f\xF8lgende dage:",repeat_radio_month_type:"Hver den",repeat_radio_month_start:"Den",repeat_text_month_day:" i hver",repeat_text_month_count:"m\xE5ned",repeat_text_month_count2_before:"hver",repeat_text_month_count2_after:"m\xE5ned",repeat_year_label:"Den",select_year_day2:"i",repeat_text_year_day:"dag i",select_year_month:"",repeat_radio_end:"Ingen slutdato",repeat_text_occurences_count:"gentagelse",repeat_radio_end2:"Efter",repeat_radio_end3:"Slut",month_for_recurring:["Januar","Februar","M\xE4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],day_for_recurring:["S\xF8ndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","L\xF8rdag"]}},et={date:{month_full:[" Januar"," Februar"," M\xE4rz "," April"," Mai"," Juni"," Juli"," August"," September "," Oktober"," November "," Dezember"],month_short:["Jan","Feb","M\xE4r","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],day_full:["Sonntag","Montag","Dienstag"," Mittwoch"," Donnerstag","Freitag","Samstag"],day_short:["So","Mo","Di","Mi","Do","Fr","Sa"]},labels:{dhx_cal_today_button:"Heute",day_tab:"Tag",week_tab:"Woche",month_tab:"Monat",new_event:"neuer Eintrag",icon_save:"Speichern",icon_cancel:"Abbrechen",icon_details:"Details",icon_edit:"\xC4ndern",icon_delete:"L\xF6schen",confirm_closing:"",confirm_deleting:"Der Eintrag wird gel\xF6scht",section_description:"Beschreibung",section_time:"Zeitspanne",full_day:"Ganzer Tag",confirm_recurring:"Wollen Sie alle Eintr\xE4ge bearbeiten oder nur diesen einzelnen Eintrag?",section_recurring:"Wiederholung",button_recurring:"Aus",button_recurring_open:"An",button_edit_series:"Bearbeiten Sie die Serie",button_edit_occurrence:"Bearbeiten Sie eine Kopie",agenda_tab:"Agenda",date:"Datum",description:"Beschreibung",year_tab:"Jahre",week_agenda_tab:"Agenda",grid_tab:"Grid",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"T\xE4glich",repeat_radio_week:"W\xF6chentlich",repeat_radio_month:"Monatlich",repeat_radio_year:"J\xE4hrlich",repeat_radio_day_type:"jeden",repeat_text_day_count:"Tag",repeat_radio_day_type2:"an jedem Arbeitstag",repeat_week:" Wiederholt sich jede",repeat_text_week_count:"Woche am:",repeat_radio_month_type:"an jedem",repeat_radio_month_start:"am",repeat_text_month_day:"Tag eines jeden",repeat_text_month_count:"Monats",repeat_text_month_count2_before:"jeden",repeat_text_month_count2_after:"Monats",repeat_year_label:"am",select_year_day2:"im",repeat_text_year_day:"Tag im",select_year_month:"",repeat_radio_end:"kein Enddatum",repeat_text_occurences_count:"Ereignissen",repeat_radio_end3:"Schlu\xDF",repeat_radio_end2:"nach",month_for_recurring:["Januar","Februar","M\xE4rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],day_for_recurring:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"]}},We={date:{month_full:["\u0399\u03B1\u03BD\u03BF\u03C5\u03AC\u03C1\u03B9\u03BF\u03C2","\u03A6\u03B5\u03B2\u03C1\u03BF\u03C5\u03AC\u03C1\u03B9\u03BF\u03C2","\u039C\u03AC\u03C1\u03C4\u03B9\u03BF\u03C2","\u0391\u03C0\u03C1\u03AF\u03BB\u03B9\u03BF\u03C2","\u039C\u03AC\u03CA\u03BF\u03C2","\u0399\u03BF\u03CD\u03BD\u03B9\u03BF\u03C2","\u0399\u03BF\u03CD\u03BB\u03B9\u03BF\u03C2","\u0391\u03CD\u03B3\u03BF\u03C5\u03C3\u03C4\u03BF\u03C2","\u03A3\u03B5\u03C0\u03C4\u03AD\u03BC\u03B2\u03C1\u03B9\u03BF\u03C2","\u039F\u03BA\u03C4\u03CE\u03B2\u03C1\u03B9\u03BF\u03C2","\u039D\u03BF\u03AD\u03BC\u03B2\u03C1\u03B9\u03BF\u03C2","\u0394\u03B5\u03BA\u03AD\u03BC\u03B2\u03C1\u03B9\u03BF\u03C2"],month_short:["\u0399\u0391\u039D","\u03A6\u0395\u0392","\u039C\u0391\u03A1","\u0391\u03A0\u03A1","\u039C\u0391\u0399","\u0399\u039F\u03A5\u039D","\u0399\u039F\u03A5\u039B","\u0391\u03A5\u0393","\u03A3\u0395\u03A0","\u039F\u039A\u03A4","\u039D\u039F\u0395","\u0394\u0395\u039A"],day_full:["\u039A\u03C5\u03C1\u03B9\u03B1\u03BA\u03AE","\u0394\u03B5\u03C5\u03C4\u03AD\u03C1\u03B1","\u03A4\u03C1\u03AF\u03C4\u03B7","\u03A4\u03B5\u03C4\u03AC\u03C1\u03C4\u03B7","\u03A0\u03AD\u03BC\u03C0\u03C4\u03B7","\u03A0\u03B1\u03C1\u03B1\u03C3\u03BA\u03B5\u03C5\u03AE","\u039A\u03C5\u03C1\u03B9\u03B1\u03BA\u03AE"],day_short:["\u039A\u03A5","\u0394\u0395","\u03A4\u03A1","\u03A4\u0395","\u03A0\u0395","\u03A0\u0391","\u03A3\u0391"]},labels:{dhx_cal_today_button:"\u03A3\u03AE\u03BC\u03B5\u03C1\u03B1",day_tab:"\u0397\u03BC\u03AD\u03C1\u03B1",week_tab:"\u0395\u03B2\u03B4\u03BF\u03BC\u03AC\u03B4\u03B1",month_tab:"\u039C\u03AE\u03BD\u03B1\u03C2",new_event:"\u039D\u03AD\u03BF \u03AD\u03C1\u03B3\u03BF",icon_save:"\u0391\u03C0\u03BF\u03B8\u03AE\u03BA\u03B5\u03C5\u03C3\u03B7",icon_cancel:"\u0386\u03BA\u03C5\u03C1\u03BF",icon_details:"\u039B\u03B5\u03C0\u03C4\u03BF\u03BC\u03AD\u03C1\u03B5\u03B9\u03B5\u03C2",icon_edit:"\u0395\u03C0\u03B5\u03BE\u03B5\u03C1\u03B3\u03B1\u03C3\u03AF\u03B1",icon_delete:"\u0394\u03B9\u03B1\u03B3\u03C1\u03B1\u03C6\u03AE",confirm_closing:"",confirm_deleting:"\u03A4\u03BF \u03AD\u03C1\u03B3\u03BF \u03B8\u03B1 \u03B4\u03B9\u03B1\u03B3\u03C1\u03B1\u03C6\u03B5\u03AF \u03BF\u03C1\u03B9\u03C3\u03C4\u03B9\u03BA\u03AC. \u0398\u03AD\u03BB\u03B5\u03C4\u03B5 \u03BD\u03B1 \u03C3\u03C5\u03BD\u03B5\u03C7\u03AF\u03C3\u03B5\u03C4\u03B5;",section_description:"\u03A0\u03B5\u03C1\u03B9\u03B3\u03C1\u03B1\u03C6\u03AE",section_time:"\u03A7\u03C1\u03BF\u03BD\u03B9\u03BA\u03AE \u03C0\u03B5\u03C1\u03AF\u03BF\u03B4\u03BF\u03C2",full_day:"\u03A0\u03BB\u03AE\u03C1\u03B7\u03C2 \u0397\u03BC\u03AD\u03C1\u03B1",confirm_recurring:"\u0398\u03AD\u03BB\u03B5\u03C4\u03B5 \u03BD\u03B1 \u03B5\u03C0\u03B5\u03BE\u03B5\u03C1\u03B3\u03B1\u03C3\u03B8\u03B5\u03AF\u03C4\u03B5 \u03BF\u03BB\u03CC\u03BA\u03BB\u03B7\u03C1\u03B7 \u03C4\u03B7\u03BD \u03BF\u03BC\u03AC\u03B4\u03B1 \u03C4\u03C9\u03BD \u03B5\u03C0\u03B1\u03BD\u03B1\u03BB\u03B1\u03BC\u03B2\u03B1\u03BD\u03CC\u03BC\u03B5\u03BD\u03C9\u03BD \u03AD\u03C1\u03B3\u03C9\u03BD;",section_recurring:"\u0395\u03C0\u03B1\u03BD\u03B1\u03BB\u03B1\u03BC\u03B2\u03B1\u03BD\u03CC\u03BC\u03B5\u03BD\u03BF \u03AD\u03C1\u03B3\u03BF",button_recurring:"\u0391\u03BD\u03B5\u03BD\u03B5\u03C1\u03B3\u03CC",button_recurring_open:"\u0395\u03BD\u03B5\u03C1\u03B3\u03CC",button_edit_series:"\u0395\u03C0\u03B5\u03BE\u03B5\u03C1\u03B3\u03B1\u03C3\u03C4\u03B5\u03AF\u03C4\u03B5 \u03C4\u03B7 \u03C3\u03B5\u03B9\u03C1\u03AC",button_edit_occurrence:"\u0395\u03C0\u03B5\u03BE\u03B5\u03C1\u03B3\u03B1\u03C3\u03AF\u03B1 \u03AD\u03BD\u03B1 \u03B1\u03BD\u03C4\u03AF\u03B3\u03C1\u03B1\u03C6\u03BF",agenda_tab:"\u0397\u03BC\u03B5\u03C1\u03AE\u03C3\u03B9\u03B1 \u0394\u03B9\u03AC\u03C4\u03B1\u03BE\u03B7",date:"\u0397\u03BC\u03B5\u03C1\u03BF\u03BC\u03B7\u03BD\u03AF\u03B1",description:"\u03A0\u03B5\u03C1\u03B9\u03B3\u03C1\u03B1\u03C6\u03AE",year_tab:"\u0388\u03C4\u03BF\u03C2",week_agenda_tab:"\u0397\u03BC\u03B5\u03C1\u03AE\u03C3\u03B9\u03B1 \u0394\u03B9\u03AC\u03C4\u03B1\u03BE\u03B7",grid_tab:"\u03A0\u03BB\u03AD\u03B3\u03BC\u03B1",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"\u0397\u03BC\u03B5\u03C1\u03B7\u03C3\u03AF\u03C9\u03C2",repeat_radio_week:"\u0395\u03B2\u03B4\u03BF\u03BC\u03B1\u03B4\u03B9\u03B1\u03AF\u03C9\u03C2",repeat_radio_month:"\u039C\u03B7\u03BD\u03B9\u03B1\u03AF\u03C9\u03C2",repeat_radio_year:"\u0395\u03C4\u03B7\u03C3\u03AF\u03C9\u03C2",repeat_radio_day_type:"\u039A\u03AC\u03B8\u03B5",repeat_text_day_count:"\u03B7\u03BC\u03AD\u03C1\u03B1",repeat_radio_day_type2:"\u039A\u03AC\u03B8\u03B5 \u03B5\u03C1\u03B3\u03AC\u03C3\u03B9\u03BC\u03B7",repeat_week:" \u0395\u03C0\u03B1\u03BD\u03AC\u03BB\u03B7\u03C8\u03B7 \u03BA\u03AC\u03B8\u03B5",repeat_text_week_count:"\u03B5\u03B2\u03B4\u03BF\u03BC\u03AC\u03B4\u03B1 \u03C4\u03B9\u03C2 \u03B5\u03C0\u03CC\u03BC\u03B5\u03BD\u03B5\u03C2 \u03B7\u03BC\u03AD\u03C1\u03B5\u03C2:",repeat_radio_month_type:"\u0395\u03C0\u03B1\u03BD\u03AC\u03BB\u03B7\u03C8\u03B7",repeat_radio_month_start:"\u03A4\u03B7\u03BD",repeat_text_month_day:"\u03B7\u03BC\u03AD\u03C1\u03B1 \u03BA\u03AC\u03B8\u03B5",repeat_text_month_count:"\u03BC\u03AE\u03BD\u03B1",repeat_text_month_count2_before:"\u03BA\u03AC\u03B8\u03B5",repeat_text_month_count2_after:"\u03BC\u03AE\u03BD\u03B1",repeat_year_label:"\u03A4\u03B7\u03BD",select_year_day2:"\u03C4\u03BF\u03C5",repeat_text_year_day:"\u03B7\u03BC\u03AD\u03C1\u03B1",select_year_month:"\u03BC\u03AE\u03BD\u03B1",repeat_radio_end:"\u03A7\u03C9\u03C1\u03AF\u03C2 \u03B7\u03BC\u03B5\u03C1\u03BF\u03BC\u03B7\u03BD\u03AF\u03B1 \u03BB\u03AE\u03BE\u03B5\u03C9\u03C2",repeat_text_occurences_count:"\u03B5\u03C0\u03B1\u03BD\u03B1\u03BB\u03AE\u03C8\u03B5\u03B9\u03C2",repeat_radio_end3:"\u039B\u03AE\u03B3\u03B5\u03B9 \u03C4\u03B7\u03BD",repeat_radio_end2:"\u039C\u03B5\u03C4\u03AC \u03B1\u03C0\u03CC",month_for_recurring:["\u0399\u03B1\u03BD\u03BF\u03C5\u03AC\u03C1\u03B9\u03BF\u03C2","\u03A6\u03B5\u03B2\u03C1\u03BF\u03C5\u03AC\u03C1\u03B9\u03BF\u03C2","\u039C\u03AC\u03C1\u03C4\u03B9\u03BF\u03C2","\u0391\u03C0\u03C1\u03AF\u03BB\u03B9\u03BF\u03C2","\u039C\u03AC\u03CA\u03BF\u03C2","\u0399\u03BF\u03CD\u03BD\u03B9\u03BF\u03C2","\u0399\u03BF\u03CD\u03BB\u03B9\u03BF\u03C2","\u0391\u03CD\u03B3\u03BF\u03C5\u03C3\u03C4\u03BF\u03C2","\u03A3\u03B5\u03C0\u03C4\u03AD\u03BC\u03B2\u03C1\u03B9\u03BF\u03C2","\u039F\u03BA\u03C4\u03CE\u03B2\u03C1\u03B9\u03BF\u03C2","\u039D\u03BF\u03AD\u03BC\u03B2\u03C1\u03B9\u03BF\u03C2","\u0394\u03B5\u03BA\u03AD\u03BC\u03B2\u03C1\u03B9\u03BF\u03C2"],day_for_recurring:["\u039A\u03C5\u03C1\u03B9\u03B1\u03BA\u03AE","\u0394\u03B5\u03C5\u03C4\u03AD\u03C1\u03B1","\u03A4\u03C1\u03AF\u03C4\u03B7","\u03A4\u03B5\u03C4\u03AC\u03C1\u03C4\u03B7","\u03A0\u03AD\u03BC\u03C0\u03C4\u03B7","\u03A0\u03B1\u03C1\u03B1\u03C3\u03BA\u03B5\u03C5\u03AE","\u03A3\u03AC\u03B2\u03B2\u03B1\u03C4\u03BF"]}},pt={date:{month_full:["January","February","March","April","May","June","July","August","September","October","November","December"],month_short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],day_full:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],day_short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},labels:{dhx_cal_today_button:"Today",day_tab:"Day",week_tab:"Week",month_tab:"Month",new_event:"New event",icon_save:"Save",icon_cancel:"Cancel",icon_details:"Details",icon_edit:"Edit",icon_delete:"Delete",confirm_closing:"",confirm_deleting:"Event will be deleted permanently, are you sure?",section_description:"Description",section_time:"Time period",full_day:"Full day",confirm_recurring:"Do you want to edit the whole set of repeated events?",section_recurring:"Repeat event",button_recurring:"Disabled",button_recurring_open:"Enabled",button_edit_series:"Edit series",button_edit_occurrence:"Edit occurrence",agenda_tab:"Agenda",date:"Date",description:"Description",year_tab:"Year",week_agenda_tab:"Agenda",grid_tab:"Grid",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Daily",repeat_radio_week:"Weekly",repeat_radio_month:"Monthly",repeat_radio_year:"Yearly",repeat_radio_day_type:"Every",repeat_text_day_count:"day",repeat_radio_day_type2:"Every workday",repeat_week:" Repeat every",repeat_text_week_count:"week next days:",repeat_radio_month_type:"Repeat",repeat_radio_month_start:"On",repeat_text_month_day:"day every",repeat_text_month_count:"month",repeat_text_month_count2_before:"every",repeat_text_month_count2_after:"month",repeat_year_label:"On",select_year_day2:"of",repeat_text_year_day:"day",select_year_month:"month",repeat_radio_end:"No end date",repeat_text_occurences_count:"occurrences",repeat_radio_end2:"After",repeat_radio_end3:"End by",month_for_recurring:["January","February","March","April","May","June","July","August","September","October","November","December"],day_for_recurring:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]}},yn={date:{month_full:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],month_short:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],day_full:["Domingo","Lunes","Martes","Mi\xE9rcoles","Jueves","Viernes","S\xE1bado"],day_short:["Dom","Lun","Mar","Mi\xE9","Jue","Vie","S\xE1b"]},labels:{dhx_cal_today_button:"Hoy",day_tab:"D\xEDa",week_tab:"Semana",month_tab:"Mes",new_event:"Nuevo evento",icon_save:"Guardar",icon_cancel:"Cancelar",icon_details:"Detalles",icon_edit:"Editar",icon_delete:"Eliminar",confirm_closing:"",confirm_deleting:"El evento se borrar\xE1 definitivamente, \xBFcontinuar?",section_description:"Descripci\xF3n",section_time:"Per\xEDodo",full_day:"Todo el d\xEDa",confirm_recurring:"\xBFDesea modificar el conjunto de eventos repetidos?",section_recurring:"Repita el evento",button_recurring:"Impedido",button_recurring_open:"Permitido",button_edit_series:"Editar la serie",button_edit_occurrence:"Editar este evento",agenda_tab:"D\xEDa",date:"Fecha",description:"Descripci\xF3n",year_tab:"A\xF1o",week_agenda_tab:"D\xEDa",grid_tab:"Reja",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Diariamente",repeat_radio_week:"Semanalmente",repeat_radio_month:"Mensualmente",repeat_radio_year:"Anualmente",repeat_radio_day_type:"Cada",repeat_text_day_count:"dia",repeat_radio_day_type2:"Cada jornada de trabajo",repeat_week:" Repetir cada",repeat_text_week_count:"semana:",repeat_radio_month_type:"Repita",repeat_radio_month_start:"El",repeat_text_month_day:"dia cada ",repeat_text_month_count:"mes",repeat_text_month_count2_before:"cada",repeat_text_month_count2_after:"mes",repeat_year_label:"El",select_year_day2:"del",repeat_text_year_day:"dia",select_year_month:"mes",repeat_radio_end:"Sin fecha de finalizaci\xF3n",repeat_text_occurences_count:"ocurrencias",repeat_radio_end3:"Fin",repeat_radio_end2:"Despu\xE9s de",month_for_recurring:["Enero","Febrero","\u041C\u0430rzo","\u0410bril","Mayo","Junio","Julio","\u0410gosto","Setiembre","Octubre","Noviembre","Diciembre"],day_for_recurring:["Domingo","Lunes","Martes","Mi\xE9rcoles","Jeuves","Viernes","Sabado"]}},or={date:{month_full:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kes&auml;kuu","Hein&auml;kuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],month_short:["Tam","Hel","Maa","Huh","Tou","Kes","Hei","Elo","Syy","Lok","Mar","Jou"],day_full:["Sunnuntai","Maanantai","Tiistai","Keskiviikko","Torstai","Perjantai","Lauantai"],day_short:["Su","Ma","Ti","Ke","To","Pe","La"]},labels:{dhx_cal_today_button:"T\xE4n\xE4\xE4n",day_tab:"P\xE4iv\xE4",week_tab:"Viikko",month_tab:"Kuukausi",new_event:"Uusi tapahtuma",icon_save:"Tallenna",icon_cancel:"Peru",icon_details:"Tiedot",icon_edit:"Muokkaa",icon_delete:"Poista",confirm_closing:"",confirm_deleting:"Haluatko varmasti poistaa tapahtuman?",section_description:"Kuvaus",section_time:"Aikajakso",full_day:"Koko p\xE4iv\xE4",confirm_recurring:"Haluatko varmasti muokata toistuvan tapahtuman kaikkia jaksoja?",section_recurring:"Toista tapahtuma",button_recurring:"Ei k&auml;yt&ouml;ss&auml;",button_recurring_open:"K&auml;yt&ouml;ss&auml;",button_edit_series:"Muokkaa sarja",button_edit_occurrence:"Muokkaa kopio",agenda_tab:"Esityslista",date:"P\xE4iv\xE4m\xE4\xE4r\xE4",description:"Kuvaus",year_tab:"Vuoden",week_agenda_tab:"Esityslista",grid_tab:"Ritil\xE4",drag_to_create:"Luo uusi vet\xE4m\xE4ll\xE4",drag_to_move:"Siirr\xE4 vet\xE4m\xE4ll\xE4",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"P&auml;ivitt&auml;in",repeat_radio_week:"Viikoittain",repeat_radio_month:"Kuukausittain",repeat_radio_year:"Vuosittain",repeat_radio_day_type:"Joka",repeat_text_day_count:"p&auml;iv&auml;",repeat_radio_day_type2:"Joka arkip&auml;iv&auml;",repeat_week:"Toista joka",repeat_text_week_count:"viikko n&auml;in&auml; p&auml;ivin&auml;:",repeat_radio_month_type:"Toista",repeat_radio_month_start:"",repeat_text_month_day:"p&auml;iv&auml;n&auml; joka",repeat_text_month_count:"kuukausi",repeat_text_month_count2_before:"joka",repeat_text_month_count2_after:"kuukausi",repeat_year_label:"",select_year_day2:"",repeat_text_year_day:"p&auml;iv&auml;",select_year_month:"kuukausi",repeat_radio_end:"Ei loppumisaikaa",repeat_text_occurences_count:"Toiston j&auml;lkeen",repeat_radio_end3:"Loppuu",repeat_radio_end2:"",month_for_recurring:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kes&auml;kuu","Hein&auml;kuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],day_for_recurring:["Sunnuntai","Maanantai","Tiistai","Keskiviikko","Torstai","Perjantai","Lauantai"]}},bi={date:{month_full:["Janvier","F\xE9vrier","Mars","Avril","Mai","Juin","Juillet","Ao\xFBt","Septembre","Octobre","Novembre","D\xE9cembre"],month_short:["Jan","F\xE9v","Mar","Avr","Mai","Juin","Juil","Ao\xFB","Sep","Oct","Nov","D\xE9c"],day_full:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],day_short:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"]},labels:{dhx_cal_today_button:"Aujourd'hui",day_tab:"Jour",week_tab:"Semaine",month_tab:"Mois",new_event:"Nouvel \xE9v\xE9nement",icon_save:"Enregistrer",icon_cancel:"Annuler",icon_details:"D\xE9tails",icon_edit:"Modifier",icon_delete:"Effacer",confirm_closing:"",confirm_deleting:"L'\xE9v\xE9nement sera effac\xE9 sans appel, \xEAtes-vous s\xFBr ?",section_description:"Description",section_time:"P\xE9riode",full_day:"Journ\xE9e compl\xE8te",confirm_recurring:"Voulez-vous \xE9diter toute une s\xE9rie d'\xE9v\xE8nements r\xE9p\xE9t\xE9s?",section_recurring:"P\xE9riodicit\xE9",button_recurring:"D\xE9sactiv\xE9",button_recurring_open:"Activ\xE9",button_edit_series:"Modifier la s\xE9rie",button_edit_occurrence:"Modifier une copie",agenda_tab:"Jour",date:"Date",description:"Description",year_tab:"Ann\xE9e",week_agenda_tab:"Jour",grid_tab:"Grille",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Quotidienne",repeat_radio_week:"Hebdomadaire",repeat_radio_month:"Mensuelle",repeat_radio_year:"Annuelle",repeat_radio_day_type:"Chaque",repeat_text_day_count:"jour",repeat_radio_day_type2:"Chaque journ\xE9e de travail",repeat_week:" R\xE9p\xE9ter toutes les",repeat_text_week_count:"semaine:",repeat_radio_month_type:"R\xE9p\xE9ter",repeat_radio_month_start:"Le",repeat_text_month_day:"jour chaque",repeat_text_month_count:"mois",repeat_text_month_count2_before:"chaque",repeat_text_month_count2_after:"mois",repeat_year_label:"Le",select_year_day2:"du",repeat_text_year_day:"jour",select_year_month:"mois",repeat_radio_end:"Pas de date d&quot;ach\xE8vement",repeat_text_occurences_count:"occurrences",repeat_radio_end3:"Fin",repeat_radio_end2:"Apr\xE8s",month_for_recurring:["Janvier","F\xE9vrier","Mars","Avril","Mai","Juin","Juillet","Ao\xFBt","Septembre","Octobre","Novembre","D\xE9cembre"],day_for_recurring:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"]}},Rr={date:{month_full:["\u05D9\u05E0\u05D5\u05D0\u05E8","\u05E4\u05D1\u05E8\u05D5\u05D0\u05E8","\u05DE\u05E8\u05E5","\u05D0\u05E4\u05E8\u05D9\u05DC","\u05DE\u05D0\u05D9","\u05D9\u05D5\u05E0\u05D9","\u05D9\u05D5\u05DC\u05D9","\u05D0\u05D5\u05D2\u05D5\u05E1\u05D8","\u05E1\u05E4\u05D8\u05DE\u05D1\u05E8","\u05D0\u05D5\u05E7\u05D8\u05D5\u05D1\u05E8","\u05E0\u05D5\u05D1\u05DE\u05D1\u05E8","\u05D3\u05E6\u05DE\u05D1\u05E8"],month_short:["\u05D9\u05E0\u05D5","\u05E4\u05D1\u05E8","\u05DE\u05E8\u05E5","\u05D0\u05E4\u05E8","\u05DE\u05D0\u05D9","\u05D9\u05D5\u05E0","\u05D9\u05D5\u05DC","\u05D0\u05D5\u05D2","\u05E1\u05E4\u05D8","\u05D0\u05D5\u05E7","\u05E0\u05D5\u05D1","\u05D3\u05E6\u05DE"],day_full:["\u05E8\u05D0\u05E9\u05D5\u05DF","\u05E9\u05E0\u05D9","\u05E9\u05DC\u05D9\u05E9\u05D9","\u05E8\u05D1\u05D9\u05E2\u05D9","\u05D7\u05DE\u05D9\u05E9\u05D9","\u05E9\u05D9\u05E9\u05D9","\u05E9\u05D1\u05EA"],day_short:["\u05D0","\u05D1","\u05D2","\u05D3","\u05D4","\u05D5","\u05E9"]},labels:{dhx_cal_today_button:"\u05D4\u05D9\u05D5\u05DD",day_tab:"\u05D9\u05D5\u05DD",week_tab:"\u05E9\u05D1\u05D5\u05E2",month_tab:"\u05D7\u05D5\u05D3\u05E9",new_event:"\u05D0\u05E8\u05D5\u05E2 \u05D7\u05D3\u05E9",icon_save:"\u05E9\u05DE\u05D5\u05E8",icon_cancel:"\u05D1\u05D8\u05DC",icon_details:"\u05E4\u05E8\u05D8\u05D9\u05DD",icon_edit:"\u05E2\u05E8\u05D5\u05DA",icon_delete:"\u05DE\u05D7\u05E7",confirm_closing:"",confirm_deleting:"\u05D0\u05E8\u05D5\u05E2 \u05D9\u05DE\u05D7\u05E7 \u05E1\u05D5\u05E4\u05D9\u05EA.\u05DC\u05D4\u05DE\u05E9\u05D9\u05DA?",section_description:"\u05EA\u05D9\u05D0\u05D5\u05E8",section_time:"\u05EA\u05E7\u05D5\u05E4\u05D4",confirm_recurring:"\u05D4\u05D0\u05DD \u05D1\u05E8\u05E6\u05D5\u05E0\u05DA \u05DC\u05E9\u05E0\u05D5\u05EA \u05DB\u05DC \u05E1\u05D3\u05E8\u05EA \u05D0\u05E8\u05D5\u05E2\u05D9\u05DD \u05DE\u05EA\u05DE\u05E9\u05DB\u05D9\u05DD?",section_recurring:"\u05DC\u05D4\u05E2\u05EA\u05D9\u05E7 \u05D0\u05E8\u05D5\u05E2",button_recurring:"\u05DC\u05D0 \u05E4\u05E2\u05D9\u05DC",button_recurring_open:"\u05E4\u05E2\u05D9\u05DC",full_day:"\u05D9\u05D5\u05DD \u05E9\u05DC\u05DD",button_edit_series:"\u05E2\u05E8\u05D5\u05DA \u05D0\u05EA \u05D4\u05E1\u05D3\u05E8\u05D4",button_edit_occurrence:"\u05E2\u05E8\u05D9\u05DB\u05EA \u05E2\u05D5\u05EA\u05E7",agenda_tab:"\u05E1\u05D3\u05E8 \u05D9\u05D5\u05DD",date:"\u05EA\u05D0\u05E8\u05D9\u05DA",description:"\u05EA\u05D9\u05D0\u05D5\u05E8",year_tab:"\u05DC\u05E9\u05E0\u05D4",week_agenda_tab:"\u05E1\u05D3\u05E8 \u05D9\u05D5\u05DD",grid_tab:"\u05E1\u05D5\u05E8\u05D2",drag_to_create:"Drag to create",drag_to_move:"\u05D2\u05E8\u05D5\u05E8 \u05DB\u05D3\u05D9 \u05DC\u05D4\u05D6\u05D9\u05D6",message_ok:"OK",message_cancel:"\u05D1\u05D8\u05DC",next:"\u05D4\u05D1\u05D0",prev:"\u05D4\u05E7\u05D5\u05D3\u05DD",year:"\u05E9\u05E0\u05D4",month:"\u05D7\u05D5\u05D3\u05E9",day:"\u05D9\u05D5\u05DD",hour:"\u05E9\u05E2\u05D4",minute:"\u05D3\u05E7\u05D4",repeat_radio_day:"\u05D9\u05D5\u05DE\u05D9",repeat_radio_week:"\u05E9\u05D1\u05D5\u05E2\u05D9",repeat_radio_month:"\u05D7\u05D5\u05D3\u05E9\u05D9",repeat_radio_year:"\u05E9\u05E0\u05EA\u05D9",repeat_radio_day_type:"\u05D7\u05D6\u05D5\u05E8 \u05DB\u05DC",repeat_text_day_count:"\u05D9\u05DE\u05D9\u05DD",repeat_radio_day_type2:"\u05D7\u05D6\u05D5\u05E8 \u05DB\u05DC \u05D9\u05D5\u05DD \u05E2\u05D1\u05D5\u05D3\u05D4",repeat_week:" \u05D7\u05D6\u05D5\u05E8 \u05DB\u05DC",repeat_text_week_count:"\u05E9\u05D1\u05D5\u05E2 \u05DC\u05E4\u05D9 \u05D9\u05DE\u05D9\u05DD:",repeat_radio_month_type:"\u05D7\u05D6\u05D5\u05E8 \u05DB\u05DC",repeat_radio_month_start:"\u05DB\u05DC",repeat_text_month_day:"\u05D9\u05DE\u05D9\u05DD \u05DB\u05DC",repeat_text_month_count:"\u05D7\u05D5\u05D3\u05E9\u05D9\u05DD",repeat_text_month_count2_before:"\u05D7\u05D6\u05D5\u05E8 \u05DB\u05DC",repeat_text_month_count2_after:"\u05D7\u05D5\u05D3\u05E9",repeat_year_label:"\u05DB\u05DC",select_year_day2:"\u05D1\u05D7\u05D5\u05D3\u05E9",repeat_text_year_day:"\u05D9\u05DE\u05D9\u05DD",select_year_month:"\u05D7\u05D5\u05D3\u05E9",repeat_radio_end:"\u05DC\u05E2\u05D5\u05DC\u05DD \u05DC\u05D0 \u05DE\u05E1\u05EA\u05D9\u05D9\u05DD",repeat_text_occurences_count:"\u05D0\u05D9\u05E8\u05D5\u05E2\u05D9\u05DD",repeat_radio_end3:"\u05DE\u05E1\u05EA\u05D9\u05D9\u05DD \u05D1",repeat_radio_end2:"\u05D0\u05D7\u05E8\u05D9",month_for_recurring:["\u05D9\u05E0\u05D5\u05D0\u05E8","\u05E4\u05D1\u05E8\u05D5\u05D0\u05E8","\u05DE\u05E8\u05E5","\u05D0\u05E4\u05E8\u05D9\u05DC","\u05DE\u05D0\u05D9","\u05D9\u05D5\u05E0\u05D9","\u05D9\u05D5\u05DC\u05D9","\u05D0\u05D5\u05D2\u05D5\u05E1\u05D8","\u05E1\u05E4\u05D8\u05DE\u05D1\u05E8","\u05D0\u05D5\u05E7\u05D8\u05D5\u05D1\u05E8","\u05E0\u05D5\u05D1\u05DE\u05D1\u05E8","\u05D3\u05E6\u05DE\u05D1\u05E8"],day_for_recurring:["\u05E8\u05D0\u05E9\u05D5\u05DF","\u05E9\u05E0\u05D9","\u05E9\u05DC\u05D9\u05E9\u05D9","\u05E8\u05D1\u05D9\u05E2\u05D9","\u05D7\u05DE\u05D9\u05E9\u05D9","\u05E9\u05D9\u05E9\u05D9","\u05E9\u05D1\u05EA"]}},Kr={date:{month_full:["Janu\xE1r","Febru\xE1r","M\xE1rcius","\xC1prilis","M\xE1jus","J\xFAnius","J\xFAlius","Augusztus","Szeptember","Okt\xF3ber","November","December"],month_short:["Jan","Feb","M\xE1r","\xC1pr","M\xE1j","J\xFAn","J\xFAl","Aug","Sep","Okt","Nov","Dec"],day_full:["Vas\xE1rnap","H\xE9tf\xF5","Kedd","Szerda","Cs\xFCt\xF6rt\xF6k","P\xE9ntek","szombat"],day_short:["Va","H\xE9","Ke","Sze","Cs\xFC","P\xE9","Szo"]},labels:{dhx_cal_today_button:"Ma",day_tab:"Nap",week_tab:"H\xE9t",month_tab:"H\xF3nap",new_event:"\xDAj esem\xE9ny",icon_save:"Ment\xE9s",icon_cancel:"M\xE9gse",icon_details:"R\xE9szletek",icon_edit:"Szerkeszt\xE9s",icon_delete:"T\xF6rl\xE9s",confirm_closing:"",confirm_deleting:"Az esem\xE9ny t\xF6r\xF6lve lesz, biztosan folytatja?",section_description:"Le\xEDr\xE1s",section_time:"Id\xF5szak",full_day:"Egesz napos",confirm_recurring:"Biztosan szerkeszteni akarod az \xF6sszes ism\xE9tl\xF5d\xF5 esem\xE9ny be\xE1ll\xEDt\xE1s\xE1t?",section_recurring:"Esem\xE9ny ism\xE9tl\xE9se",button_recurring:"Tilt\xE1s",button_recurring_open:"Enged\xE9lyez\xE9s",button_edit_series:"Edit series",button_edit_occurrence:"Szerkeszt\xE9s b\xEDr\xF3s\xE1g",agenda_tab:"Napirend",date:"D\xE1tum",description:"Le\xEDr\xE1s",year_tab:"\xC9v",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute"}},Dc={date:{month_full:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],month_short:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Ags","Sep","Okt","Nov","Des"],day_full:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"],day_short:["Ming","Sen","Sel","Rab","Kam","Jum","Sab"]},labels:{dhx_cal_today_button:"Hari Ini",day_tab:"Hari",week_tab:"Minggu",month_tab:"Bulan",new_event:"Acara Baru",icon_save:"Simpan",icon_cancel:"Batal",icon_details:"Detail",icon_edit:"Edit",icon_delete:"Hapus",confirm_closing:"",confirm_deleting:"Acara akan dihapus",section_description:"Keterangan",section_time:"Periode",full_day:"Hari penuh",confirm_recurring:"Apakah acara ini akan berulang?",section_recurring:"Acara Rutin",button_recurring:"Tidak Difungsikan",button_recurring_open:"Difungsikan",button_edit_series:"Mengedit seri",button_edit_occurrence:"Mengedit salinan",agenda_tab:"Agenda",date:"Tanggal",description:"Keterangan",year_tab:"Tahun",week_agenda_tab:"Agenda",grid_tab:"Tabel",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute"}},_o={date:{month_full:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],month_short:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],day_full:["Domenica","Luned\xEC","Marted\xEC","Mercoled\xEC","Gioved\xEC","Venerd\xEC","Sabato"],day_short:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"]},labels:{dhx_cal_today_button:"Oggi",day_tab:"Giorno",week_tab:"Settimana",month_tab:"Mese",new_event:"Nuovo evento",icon_save:"Salva",icon_cancel:"Chiudi",icon_details:"Dettagli",icon_edit:"Modifica",icon_delete:"Elimina",confirm_closing:"",confirm_deleting:"L'evento sar\xE0 eliminato, siete sicuri?",section_description:"Descrizione",section_time:"Periodo di tempo",full_day:"Intera giornata",confirm_recurring:"Vuoi modificare l'intera serie di eventi?",section_recurring:"Ripetere l'evento",button_recurring:"Disattivato",button_recurring_open:"Attivato",button_edit_series:"Modificare la serie",button_edit_occurrence:"Modificare una copia",agenda_tab:"Agenda",date:"Data",description:"Descrizione",year_tab:"Anno",week_agenda_tab:"Agenda",grid_tab:"Griglia",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Quotidiano",repeat_radio_week:"Settimanale",repeat_radio_month:"Mensile",repeat_radio_year:"Annuale",repeat_radio_day_type:"Ogni",repeat_text_day_count:"giorno",repeat_radio_day_type2:"Ogni giornata lavorativa",repeat_week:" Ripetere ogni",repeat_text_week_count:"settimana:",repeat_radio_month_type:"Ripetere",repeat_radio_month_start:"Il",repeat_text_month_day:"giorno ogni",repeat_text_month_count:"mese",repeat_text_month_count2_before:"ogni",repeat_text_month_count2_after:"mese",repeat_year_label:"Il",select_year_day2:"del",repeat_text_year_day:"giorno",select_year_month:"mese",repeat_radio_end:"Senza data finale",repeat_text_occurences_count:"occorenze",repeat_radio_end3:"Fine",repeat_radio_end2:"Dopo",month_for_recurring:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Jiugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],day_for_recurring:["Domenica","Luned\xEC","Marted\xEC","Mercoled\xEC","Joved\xEC","Venerd\xEC","Sabato"]}},Yr={date:{month_full:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],month_short:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"],day_full:["\u65E5\u66DC\u65E5","\u6708\u66DC\u65E5","\u706B\u66DC\u65E5","\u6C34\u66DC\u65E5","\u6728\u66DC\u65E5","\u91D1\u66DC\u65E5","\u571F\u66DC\u65E5"],day_short:["\u65E5","\u6708","\u706B","\u6C34","\u6728","\u91D1","\u571F"]},labels:{dhx_cal_today_button:"\u4ECA\u65E5",day_tab:"\u65E5",week_tab:"\u9031",month_tab:"\u6708",new_event:"\u65B0\u30A4\u30D9\u30F3\u30C8",icon_save:"\u4FDD\u5B58",icon_cancel:"\u30AD\u30E3\u30F3\u30BB\u30EB",icon_details:"\u8A73\u7D30",icon_edit:"\u7DE8\u96C6",icon_delete:"\u524A\u9664",confirm_closing:"",confirm_deleting:"\u30A4\u30D9\u30F3\u30C8\u5B8C\u5168\u306B\u524A\u9664\u3055\u308C\u307E\u3059\u3001\u5B9C\u3057\u3044\u3067\u3059\u304B\uFF1F",section_description:"\u30C7\u30B9\u30AF\u30EA\u30D7\u30B7\u30E7\u30F3",section_time:"\u671F\u9593",confirm_recurring:"\u7E70\u308A\u8FD4\u3055\u308C\u3066\u3044\u308B\u30A4\u30D9\u30F3\u30C8\u3092\u5168\u3066\u7DE8\u96C6\u3057\u307E\u3059\u304B\uFF1F",section_recurring:"\u30A4\u30D9\u30F3\u30C8\u3092\u7E70\u308A\u8FD4\u3059",button_recurring:"\u7121\u52B9",button_recurring_open:"\u6709\u52B9",full_day:"\u7D42\u65E5",button_edit_series:"\u30B7\u30EA\u30FC\u30BA\u3092\u7DE8\u96C6\u3057\u307E\u3059",button_edit_occurrence:"\u30B3\u30D4\u30FC\u3092\u7DE8\u96C6",agenda_tab:"\u8B70\u984C\u306F",date:"\u65E5\u4ED8",description:"\u8AAC\u660E",year_tab:"\u4ECA\u5E74",week_agenda_tab:"\u8B70\u984C\u306F",grid_tab:"\u30B0\u30EA\u30C3\u30C9",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute"}};function po(s,w){for(var d=0;d<w.length;d++){var m=w[d];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(s,m.key,m)}}var bt=function(){function s(w){for(var d in function(m,_){if(!(m instanceof _))throw new TypeError("Cannot call a class as a function")}(this,s),this._locales={},w)this._locales[d]=w[d]}return function(w,d,m){d&&po(w.prototype,d),m&&po(w,m)}(s,[{key:"addLocale",value:function(w,d){this._locales[w]=d}},{key:"getLocale",value:function(w){return this._locales[w]}}]),s}(),ae={date:{month_full:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],month_short:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],day_full:["S\xF8ndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","L\xF8rdag"],day_short:["S\xF8n","Mon","Tir","Ons","Tor","Fre","L\xF8r"]},labels:{dhx_cal_today_button:"I dag",day_tab:"Dag",week_tab:"Uke",month_tab:"M\xE5ned",new_event:"Ny hendelse",icon_save:"Lagre",icon_cancel:"Avbryt",icon_details:"Detaljer",icon_edit:"Rediger",icon_delete:"Slett",confirm_closing:"",confirm_deleting:"Hendelsen vil bli slettet permanent. Er du sikker?",section_description:"Beskrivelse",section_time:"Tidsperiode",confirm_recurring:"Vil du forandre hele dette settet av repeterende hendelser?",section_recurring:"Repeter hendelsen",button_recurring:"Av",button_recurring_open:"P\xE5",button_edit_series:"Rediger serien",button_edit_occurrence:"Redigere en kopi",agenda_tab:"Agenda",date:"Dato",description:"Beskrivelse",year_tab:"\xC5r",week_agenda_tab:"Agenda",grid_tab:"Grid",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Daglig",repeat_radio_week:"Ukentlig",repeat_radio_month:"M\xE5nedlig",repeat_radio_year:"\xC5rlig",repeat_radio_day_type:"Hver",repeat_text_day_count:"dag",repeat_radio_day_type2:"Alle hverdager",repeat_week:" Gjentas hver",repeat_text_week_count:"uke p\xE5:",repeat_radio_month_type:"P\xE5 hver",repeat_radio_month_start:"P\xE5",repeat_text_month_day:"dag hver",repeat_text_month_count:"m\xE5ned",repeat_text_month_count2_before:"hver",repeat_text_month_count2_after:"m\xE5ned",repeat_year_label:"p\xE5",select_year_day2:"i",repeat_text_year_day:"dag i",select_year_month:"",repeat_radio_end:"Ingen sluttdato",repeat_text_occurences_count:"forekomst",repeat_radio_end3:"Stop den",repeat_radio_end2:"Etter",month_for_recurring:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],day_for_recurring:["Sondag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","L\xF8rdag"]}},ce={date:{month_full:["Januari","Februari","Maart","April","Mei","Juni","Juli","Augustus","September","Oktober","November","December"],month_short:["Jan","Feb","mrt","Apr","Mei","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["Zondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrijdag","Zaterdag"],day_short:["Zo","Ma","Di","Wo","Do","Vr","Za"]},labels:{dhx_cal_today_button:"Vandaag",day_tab:"Dag",week_tab:"Week",month_tab:"Maand",new_event:"Nieuw item",icon_save:"Opslaan",icon_cancel:"Annuleren",icon_details:"Details",icon_edit:"Bewerken",icon_delete:"Verwijderen",confirm_closing:"",confirm_deleting:"Item zal permanent worden verwijderd, doorgaan?",section_description:"Beschrijving",section_time:"Tijd periode",full_day:"Hele dag",confirm_recurring:"Wilt u alle terugkerende items bijwerken?",section_recurring:"Item herhalen",button_recurring:"Uit",button_recurring_open:"Aan",button_edit_series:"Bewerk de serie",button_edit_occurrence:"Bewerk een kopie",agenda_tab:"Agenda",date:"Datum",description:"Omschrijving",year_tab:"Jaar",week_agenda_tab:"Agenda",grid_tab:"Tabel",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Dagelijks",repeat_radio_week:"Wekelijks",repeat_radio_month:"Maandelijks",repeat_radio_year:"Jaarlijks",repeat_radio_day_type:"Elke",repeat_text_day_count:"dag(en)",repeat_radio_day_type2:"Elke werkdag",repeat_week:" Herhaal elke",repeat_text_week_count:"week op de volgende dagen:",repeat_radio_month_type:"Herhaal",repeat_radio_month_start:"Op",repeat_text_month_day:"dag iedere",repeat_text_month_count:"maanden",repeat_text_month_count2_before:"iedere",repeat_text_month_count2_after:"maanden",repeat_year_label:"Op",select_year_day2:"van",repeat_text_year_day:"dag",select_year_month:"maand",repeat_radio_end:"Geen eind datum",repeat_text_occurences_count:"keren",repeat_radio_end3:"Eindigd per",repeat_radio_end2:"Na",month_for_recurring:["Januari","Februari","Maart","April","Mei","Juni","Juli","Augustus","September","Oktober","November","December"],day_for_recurring:["Zondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrijdag","Zaterdag"]}},_e={date:{month_full:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],month_short:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],day_full:["S\xF8ndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","L\xF8rdag"],day_short:["S\xF8n","Man","Tir","Ons","Tor","Fre","L\xF8r"]},labels:{dhx_cal_today_button:"Idag",day_tab:"Dag",week_tab:"Uke",month_tab:"M\xE5ned",new_event:"Ny",icon_save:"Lagre",icon_cancel:"Avbryt",icon_details:"Detaljer",icon_edit:"Endre",icon_delete:"Slett",confirm_closing:"Endringer blir ikke lagret, er du sikker?",confirm_deleting:"Oppf\xF8ringen vil bli slettet, er du sikker?",section_description:"Beskrivelse",section_time:"Tidsperiode",full_day:"Full dag",confirm_recurring:"Vil du endre hele settet med repeterende oppf\xF8ringer?",section_recurring:"Repeterende oppf\xF8ring",button_recurring:"Ikke aktiv",button_recurring_open:"Aktiv",button_edit_series:"Rediger serien",button_edit_occurrence:"Redigere en kopi",agenda_tab:"Agenda",date:"Dato",description:"Beskrivelse",year_tab:"\xC5r",week_agenda_tab:"Agenda",grid_tab:"Grid",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute"}},me={date:{month_full:["Stycze\u0144","Luty","Marzec","Kwiecie\u0144","Maj","Czerwiec","Lipiec","Sierpie\u0144","Wrzesie\u0144","Pa\u017Adziernik","Listopad","Grudzie\u0144"],month_short:["Sty","Lut","Mar","Kwi","Maj","Cze","Lip","Sie","Wrz","Pa\u017A","Lis","Gru"],day_full:["Niedziela","Poniedzia\u0142ek","Wtorek","\u015Aroda","Czwartek","Pi\u0105tek","Sobota"],day_short:["Nie","Pon","Wto","\u015Aro","Czw","Pi\u0105","Sob"]},labels:{dhx_cal_today_button:"Dzi\u015B",day_tab:"Dzie\u0144",week_tab:"Tydzie\u0144",month_tab:"Miesi\u0105c",new_event:"Nowe zdarzenie",icon_save:"Zapisz",icon_cancel:"Anuluj",icon_details:"Szczeg\xF3\u0142y",icon_edit:"Edytuj",icon_delete:"Usu\u0144",confirm_closing:"",confirm_deleting:"Zdarzenie zostanie usuni\u0119te na zawsze, kontynuowa\u0107?",section_description:"Opis",section_time:"Okres czasu",full_day:"Ca\u0142y dzie\u0144",confirm_recurring:"Czy chcesz edytowa\u0107 ca\u0142y zbi\xF3r powtarzaj\u0105cych si\u0119 zdarze\u0144?",section_recurring:"Powt\xF3rz zdarzenie",button_recurring:"Nieaktywne",button_recurring_open:"Aktywne",button_edit_series:"Edytuj seri\u0119",button_edit_occurrence:"Edytuj kopi\u0119",agenda_tab:"Agenda",date:"Data",description:"Opis",year_tab:"Rok",week_agenda_tab:"Agenda",grid_tab:"Tabela",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Codziennie",repeat_radio_week:"Co tydzie",repeat_radio_month:"Co miesic",repeat_radio_year:"Co rok",repeat_radio_day_type:"Kadego",repeat_text_day_count:"dnia",repeat_radio_day_type2:"Kadego dnia roboczego",repeat_week:" Powtarzaj kadego",repeat_text_week_count:"tygodnia w dni:",repeat_radio_month_type:"Powtrz",repeat_radio_month_start:"W",repeat_text_month_day:"dnia kadego",repeat_text_month_count:"miesica",repeat_text_month_count2_before:"kadego",repeat_text_month_count2_after:"miesica",repeat_year_label:"W",select_year_day2:"miesica",repeat_text_year_day:"dnia miesica",select_year_month:"",repeat_radio_end:"Bez daty kocowej",repeat_text_occurences_count:"wystpieniu/ach",repeat_radio_end3:"Zakocz w",repeat_radio_end2:"Po",month_for_recurring:["Stycznia","Lutego","Marca","Kwietnia","Maja","Czerwca","Lipca","Sierpnia","Wrzenia","Padziernka","Listopada","Grudnia"],day_for_recurring:["Niedziela","Poniedziaek","Wtorek","roda","Czwartek","Pitek","Sobota"]}},Le={date:{month_full:["Janeiro","Fevereiro","Mar\xE7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],month_short:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],day_full:["Domingo","Segunda","Ter\xE7a","Quarta","Quinta","Sexta","S\xE1bado"],day_short:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"]},labels:{dhx_cal_today_button:"Hoje",day_tab:"Dia",week_tab:"Semana",month_tab:"M\xEAs",new_event:"Novo evento",icon_save:"Salvar",icon_cancel:"Cancelar",icon_details:"Detalhes",icon_edit:"Editar",icon_delete:"Deletar",confirm_closing:"",confirm_deleting:"Tem certeza que deseja excluir?",section_description:"Descri\xE7\xE3o",section_time:"Per\xEDodo de tempo",full_day:"Dia inteiro",confirm_recurring:"Deseja editar todos esses eventos repetidos?",section_recurring:"Repetir evento",button_recurring:"Desabilitar",button_recurring_open:"Habilitar",button_edit_series:"Editar a s\xE9rie",button_edit_occurrence:"Editar uma c\xF3pia",agenda_tab:"Dia",date:"Data",description:"Descri\xE7\xE3o",year_tab:"Ano",week_agenda_tab:"Dia",grid_tab:"Grade",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Di\xE1rio",repeat_radio_week:"Semanal",repeat_radio_month:"Mensal",repeat_radio_year:"Anual",repeat_radio_day_type:"Cada",repeat_text_day_count:"dia(s)",repeat_radio_day_type2:"Cada trabalho di\xE1rio",repeat_week:" Repita cada",repeat_text_week_count:"semana:",repeat_radio_month_type:"Repetir",repeat_radio_month_start:"Em",repeat_text_month_day:"todo dia",repeat_text_month_count:"m\xEAs",repeat_text_month_count2_before:"todo",repeat_text_month_count2_after:"m\xEAs",repeat_year_label:"Em",select_year_day2:"of",repeat_text_year_day:"dia",select_year_month:"m\xEAs",repeat_radio_end:"Sem data final",repeat_text_occurences_count:"ocorr\xEAncias",repeat_radio_end3:"Fim",repeat_radio_end2:"Depois",month_for_recurring:["Janeiro","Fevereiro","Mar\xE7o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],day_for_recurring:["Domingo","Segunda","Ter\xE7a","Quarta","Quinta","Sexta","S\xE1bado"]}},Be={date:{month_full:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","November","December"],month_short:["Ian","Feb","Mar","Apr","Mai","Iun","Iul","Aug","Sep","Oct","Nov","Dec"],day_full:["Duminica","Luni","Marti","Miercuri","Joi","Vineri","Sambata"],day_short:["Du","Lu","Ma","Mi","Jo","Vi","Sa"]},labels:{dhx_cal_today_button:"Astazi",day_tab:"Zi",week_tab:"Saptamana",month_tab:"Luna",new_event:"Eveniment nou",icon_save:"Salveaza",icon_cancel:"Anuleaza",icon_details:"Detalii",icon_edit:"Editeaza",icon_delete:"Sterge",confirm_closing:"Schimbarile nu vor fi salvate, esti sigur?",confirm_deleting:"Evenimentul va fi sters permanent, esti sigur?",section_description:"Descriere",section_time:"Interval",full_day:"Toata ziua",confirm_recurring:"Vrei sa editezi toata seria de evenimente repetate?",section_recurring:"Repetare",button_recurring:"Dezactivata",button_recurring_open:"Activata",button_edit_series:"Editeaza serie",button_edit_occurrence:"Editeaza doar intrare",agenda_tab:"Agenda",date:"Data",description:"Descriere",year_tab:"An",week_agenda_tab:"Agenda",grid_tab:"Lista",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Zilnic",repeat_radio_week:"Saptamanal",repeat_radio_month:"Lunar",repeat_radio_year:"Anual",repeat_radio_day_type:"La fiecare",repeat_text_day_count:"zi(le)",repeat_radio_day_type2:"Fiecare zi lucratoare",repeat_week:" Repeta la fiecare",repeat_text_week_count:"saptamana in urmatoarele zile:",repeat_radio_month_type:"Repeta in",repeat_radio_month_start:"In a",repeat_text_month_day:"zi la fiecare",repeat_text_month_count:"luni",repeat_text_month_count2_before:"la fiecare",repeat_text_month_count2_after:"luni",repeat_year_label:"In",select_year_day2:"a lunii",repeat_text_year_day:"zi a lunii",select_year_month:"",repeat_radio_end:"Fara data de sfarsit",repeat_text_occurences_count:"evenimente",repeat_radio_end3:"La data",repeat_radio_end2:"Dupa",month_for_recurring:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","Noiembrie","Decembrie"],day_for_recurring:["Duminica","Luni","Marti","Miercuri","Joi","Vineri","Sambata"]}},Re={date:{month_full:["\u042F\u043D\u0432\u0430\u0440\u044C","\u0424\u0435\u0432\u0440\u0430\u043B\u044C","\u041C\u0430\u0440\u0442","\u0410\u043F\u0440\u0435\u043B\u044C","Ma\u0439","\u0418\u044E\u043D\u044C","\u0418\u044E\u043B\u044C","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043D\u0442\u044F\u0431\u0440\u044C","O\u043A\u0442\u044F\u0431\u0440\u044C","\u041D\u043E\u044F\u0431\u0440\u044C","\u0414\u0435\u043A\u0430\u0431\u0440\u044C"],month_short:["\u042F\u043D\u0432","\u0424\u0435\u0432","Ma\u0440","A\u043F\u0440","Ma\u0439","\u0418\u044E\u043D","\u0418\u044E\u043B","A\u0432\u0433","\u0421\u0435\u043D","\u041E\u043A\u0442","\u041D\u043E\u044F","\u0414\u0435\u043A"],day_full:["\u0412\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u044C\u0435","\u041F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A","\u0412\u0442\u043E\u0440\u043D\u0438\u043A","\u0421\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440\u0433","\u041F\u044F\u0442\u043D\u0438\u0446\u0430","\u0421\u0443\u0431\u0431\u043E\u0442\u0430"],day_short:["\u0412\u0441","\u041F\u043D","\u0412\u0442","\u0421\u0440","\u0427\u0442","\u041F\u0442","\u0421\u0431"]},labels:{dhx_cal_today_button:"\u0421\u0435\u0433\u043E\u0434\u043D\u044F",day_tab:"\u0414\u0435\u043D\u044C",week_tab:"\u041D\u0435\u0434\u0435\u043B\u044F",month_tab:"\u041C\u0435\u0441\u044F\u0446",new_event:"\u041D\u043E\u0432\u043E\u0435 \u0441\u043E\u0431\u044B\u0442\u0438\u0435",icon_save:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C",icon_cancel:"\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C",icon_details:"\u0414\u0435\u0442\u0430\u043B\u0438",icon_edit:"\u0418\u0437\u043C\u0435\u043D\u0438\u0442\u044C",icon_delete:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C",confirm_closing:"",confirm_deleting:"\u0421\u043E\u0431\u044B\u0442\u0438\u0435 \u0431\u0443\u0434\u0435\u0442 \u0443\u0434\u0430\u043B\u0435\u043D\u043E \u0431\u0435\u0437\u0432\u043E\u0437\u0432\u0440\u0430\u0442\u043D\u043E, \u043F\u0440\u043E\u0434\u043E\u043B\u0436\u0438\u0442\u044C?",section_description:"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435",section_time:"\u041F\u0435\u0440\u0438\u043E\u0434 \u0432\u0440\u0435\u043C\u0435\u043D\u0438",full_day:"\u0412\u0435\u0441\u044C \u0434\u0435\u043D\u044C",confirm_recurring:"\u0412\u044B \u0445\u043E\u0442\u0438\u0442\u0435 \u0438\u0437\u043C\u0435\u043D\u0438\u0442\u044C \u0432\u0441\u044E \u0441\u0435\u0440\u0438\u044E \u043F\u043E\u0432\u0442\u043E\u0440\u044F\u044E\u0449\u0438\u0445\u0441\u044F \u0441\u043E\u0431\u044B\u0442\u0438\u0439?",section_recurring:"\u041F\u043E\u0432\u0442\u043E\u0440\u0435\u043D\u0438\u0435",button_recurring:"\u041E\u0442\u043A\u043B\u044E\u0447\u0435\u043D\u043E",button_recurring_open:"\u0412\u043A\u043B\u044E\u0447\u0435\u043D\u043E",button_edit_series:"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u0441\u0435\u0440\u0438\u044E",button_edit_occurrence:"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C \u044D\u043A\u0437\u0435\u043C\u043F\u043B\u044F\u0440",agenda_tab:"\u0421\u043F\u0438\u0441\u043E\u043A",date:"\u0414\u0430\u0442\u0430",description:"\u041E\u043F\u0438\u0441\u0430\u043D\u0438\u0435",year_tab:"\u0413\u043E\u0434",week_agenda_tab:"\u0421\u043F\u0438\u0441\u043E\u043A",grid_tab:"\u0422\u0430\u0431\u043B\u0438\u0446\u0430",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"\u0414\u0435\u043D\u044C",repeat_radio_week:"\u041D\u0435\u0434\u0435\u043B\u044F",repeat_radio_month:"\u041C\u0435\u0441\u044F\u0446",repeat_radio_year:"\u0413\u043E\u0434",repeat_radio_day_type:"\u041A\u0430\u0436\u0434\u044B\u0439",repeat_text_day_count:"\u0434\u0435\u043D\u044C",repeat_radio_day_type2:"\u041A\u0430\u0436\u0434\u044B\u0439 \u0440\u0430\u0431\u043E\u0447\u0438\u0439 \u0434\u0435\u043D\u044C",repeat_week:" \u041F\u043E\u0432\u0442\u043E\u0440\u044F\u0442\u044C \u043A\u0430\u0436\u0434\u0443\u044E",repeat_text_week_count:"\u043D\u0435\u0434\u0435\u043B\u044E , \u0432:",repeat_radio_month_type:"\u041F\u043E\u0432\u0442\u043E\u0440\u044F\u0442\u044C",repeat_radio_month_start:"",repeat_text_month_day:" \u0447\u0438\u0441\u043B\u0430 \u043A\u0430\u0436\u0434\u044B\u0439 ",repeat_text_month_count:"\u043C\u0435\u0441\u044F\u0446",repeat_text_month_count2_before:"\u043A\u0430\u0436\u0434\u044B\u0439 ",repeat_text_month_count2_after:"\u043C\u0435\u0441\u044F\u0446",repeat_year_label:"",select_year_day2:"",repeat_text_year_day:"\u0434\u0435\u043D\u044C",select_year_month:"",repeat_radio_end:"\u0411\u0435\u0437 \u0434\u0430\u0442\u044B \u043E\u043A\u043E\u043D\u0447\u0430\u043D\u0438\u044F",repeat_text_occurences_count:"\u043F\u043E\u0432\u0442\u043E\u0440\u0435\u043D\u0438\u0439",repeat_radio_end3:"\u0414\u043E ",repeat_radio_end2:"",month_for_recurring:["\u042F\u043D\u0432\u0430\u0440\u044F","\u0424\u0435\u0432\u0440\u0430\u043B\u044F","\u041C\u0430\u0440\u0442\u0430","\u0410\u043F\u0440\u0435\u043B\u044F","\u041C\u0430\u044F","\u0418\u044E\u043D\u044F","\u0418\u044E\u043B\u044F","\u0410\u0432\u0433\u0443\u0441\u0442\u0430","\u0421\u0435\u043D\u0442\u044F\u0431\u0440\u044F","\u041E\u043A\u0442\u044F\u0431\u0440\u044F","\u041D\u043E\u044F\u0431\u0440\u044F","\u0414\u0435\u043A\u0430\u0431\u0440\u044F"],day_for_recurring:["\u0412\u043E\u0441\u043A\u0440\u0435\u0441\u0435\u043D\u044C\u0435","\u041F\u043E\u043D\u0435\u0434\u0435\u043B\u044C\u043D\u0438\u043A","\u0412\u0442\u043E\u0440\u043D\u0438\u043A","\u0421\u0440\u0435\u0434\u0443","\u0427\u0435\u0442\u0432\u0435\u0440\u0433","\u041F\u044F\u0442\u043D\u0438\u0446\u0443","\u0421\u0443\u0431\u0431\u043E\u0442\u0443"]}},ut={date:{month_full:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],month_short:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["Nedelja","Ponedeljek","Torek","Sreda","\u010Cetrtek","Petek","Sobota"],day_short:["Ned","Pon","Tor","Sre","\u010Cet","Pet","Sob"]},labels:{dhx_cal_today_button:"Danes",day_tab:"Dan",week_tab:"Teden",month_tab:"Mesec",new_event:"Nov dogodek",icon_save:"Shrani",icon_cancel:"Prekli\u010Di",icon_details:"Podrobnosti",icon_edit:"Uredi",icon_delete:"Izbri\u0161i",confirm_closing:"",confirm_deleting:"Dogodek bo izbrisan. \u017Delite nadaljevati?",section_description:"Opis",section_time:"\u010Casovni okvir",full_day:"Ves dan",confirm_recurring:"\u017Delite urediti celoten set ponavljajo\u010Dih dogodkov?",section_recurring:"Ponovi dogodek",button_recurring:"Onemogo\u010Deno",button_recurring_open:"Omogo\u010Deno",button_edit_series:"Edit series",button_edit_occurrence:"Edit occurrence",agenda_tab:"Zadeva",date:"Datum",description:"Opis",year_tab:"Leto",week_agenda_tab:"Zadeva",grid_tab:"Miza",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute"}},At={date:{month_full:["Janu\xE1r","Febru\xE1r","Marec","Apr\xEDl","M\xE1j","J\xFAn","J\xFAl","August","September","Okt\xF3ber","November","December"],month_short:["Jan","Feb","Mar","Apr","M\xE1j","J\xFAn","J\xFAl","Aug","Sept","Okt","Nov","Dec"],day_full:["Nede\u013Ea","Pondelok","Utorok","Streda","\u0160tvrtok","Piatok","Sobota"],day_short:["Ne","Po","Ut","St","\u0160t","Pi","So"]},labels:{dhx_cal_today_button:"Dnes",day_tab:"De\u0148",week_tab:"T\xFD\u017Ede\u0148",month_tab:"Mesiac",new_event:"Nov\xE1 udalos\u0165",icon_save:"Ulo\u017Ei\u0165",icon_cancel:"Sp\xE4\u0165",icon_details:"Detail",icon_edit:"Edituj",icon_delete:"Zmaza\u0165",confirm_closing:"Va\u0161e zmeny nebud\xFA ulo\u017Een\xE9. Skuto\u010Dne?",confirm_deleting:"Udalos\u0165 bude natrvalo vymazan\xE1. Skuto\u010Dne?",section_description:"Pozn\xE1mky",section_time:"Doba platnosti",confirm_recurring:"Prajete si upravi\u0165 cel\xFA radu opakovan\xFDch udalost\xED?",section_recurring:"Opakovanie udalosti",button_recurring:"Vypnut\xE9",button_recurring_open:"Zapnut\xE9",button_edit_series:"Upravi\u0165 opakovania",button_edit_occurrence:"Upravi\u0165 in\u0161tancie",agenda_tab:"Program",date:"D\xE1tum",description:"Pozn\xE1mka",year_tab:"Rok",full_day:"Cel\xFD de\u0148",week_agenda_tab:"Program",grid_tab:"Mrie\u017Eka",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Denne",repeat_radio_week:"T\xFD\u017Edenne",repeat_radio_month:"Mesa\xE8ne",repeat_radio_year:"Ro\xE8ne",repeat_radio_day_type:"Ka\u017Ed\xFD",repeat_text_day_count:"de\xF2",repeat_radio_day_type2:"Ka\u017Ed\xFD prac. de\xF2",repeat_week:"Opakova ka\u017Ed\xFD",repeat_text_week_count:"t\xFD\u017Ede\xF2 v d\xF2och:",repeat_radio_month_type:"Opakova",repeat_radio_month_start:"On",repeat_text_month_day:"de\xF2 ka\u017Ed\xFD",repeat_text_month_count:"mesiac",repeat_text_month_count2_before:"ka\u017Ed\xFD",repeat_text_month_count2_after:"mesiac",repeat_year_label:"On",select_year_day2:"po\xE8as",repeat_text_year_day:"de\xF2",select_year_month:"mesiac",repeat_radio_end:"Bez d\xE1tumu ukon\xE8enia",repeat_text_occurences_count:"udalostiach",repeat_radio_end3:"Ukon\xE8i",repeat_radio_end2:"Po",month_for_recurring:["Janu\xE1r","Febru\xE1r","Marec","Apr\xEDl","M\xE1j","J\xFAn","J\xFAl","August","September","Okt\xF3ber","November","December"],day_for_recurring:["Nede\xBEa","Pondelok","Utorok","Streda","\u0160tvrtok","Piatok","Sobota"]}},gt={date:{month_full:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],month_short:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],day_full:["S\xF6ndag","M\xE5ndag","Tisdag","Onsdag","Torsdag","Fredag","L\xF6rdag"],day_short:["S\xF6n","M\xE5n","Tis","Ons","Tor","Fre","L\xF6r"]},labels:{dhx_cal_today_button:"Idag",day_tab:"Dag",week_tab:"Vecka",month_tab:"M\xE5nad",new_event:"Ny h\xE4ndelse",icon_save:"Spara",icon_cancel:"\xC5ngra",icon_details:"Detaljer",icon_edit:"\xC4ndra",icon_delete:"Ta bort",confirm_closing:"",confirm_deleting:"\xC4r du s\xE4ker p\xE5 att du vill ta bort h\xE4ndelsen permanent?",section_description:"Beskrivning",section_time:"Tid",full_day:"Hela dagen",confirm_recurring:"Vill du redigera hela serien med repeterande h\xE4ndelser?",section_recurring:"Upprepa h\xE4ndelse",button_recurring:"Inaktiverat",button_recurring_open:"Aktiverat",button_edit_series:"Redigera serien",button_edit_occurrence:"Redigera en kopia",agenda_tab:"Dagordning",date:"Datum",description:"Beskrivning",year_tab:"\xC5r",week_agenda_tab:"Dagordning",grid_tab:"Galler",drag_to_create:"Dra f\xF6r att skapa ny",drag_to_move:"Dra f\xF6r att flytta",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"Dagligen",repeat_radio_week:"Veckovis",repeat_radio_month:"M\xE5nadsvis",repeat_radio_year:"\xC5rligen",repeat_radio_day_type:"Var",repeat_text_day_count:"dag",repeat_radio_day_type2:"Varje arbetsdag",repeat_week:" Upprepa var",repeat_text_week_count:"vecka dessa dagar:",repeat_radio_month_type:"Upprepa",repeat_radio_month_start:"Den",repeat_text_month_day:"dagen var",repeat_text_month_count:"m\xE5nad",repeat_text_month_count2_before:"var",repeat_text_month_count2_after:"m\xE5nad",repeat_year_label:"Den",select_year_day2:"i",repeat_text_year_day:"dag i",select_year_month:"m\xE5nad",repeat_radio_end:"Inget slutdatum",repeat_text_occurences_count:"upprepningar",repeat_radio_end3:"Sluta efter",repeat_radio_end2:"Efter",month_for_recurring:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],day_for_recurring:["S\xF6ndag","M\xE5ndag","Tisdag","Onsdag","Torsdag","Fredag","L\xF6rdag"]}},Jr={date:{month_full:["Ocak","\xDEubat","Mart","Nisan","May\xFDs","Haziran","Temmuz","A\xF0ustos","Eyl\xFCl","Ekim","Kas\xFDm","Aral\xFDk"],month_short:["Oca","\xDEub","Mar","Nis","May","Haz","Tem","A\xF0u","Eyl","Eki","Kas","Ara"],day_full:["Pazar","Pazartes,","Sal\xFD","\xC7ar\xFEamba","Per\xFEembe","Cuma","Cumartesi"],day_short:["Paz","Pts","Sal","\xC7ar","Per","Cum","Cts"]},labels:{dhx_cal_today_button:"Bug\xFCn",day_tab:"G\xFCn",week_tab:"Hafta",month_tab:"Ay",new_event:"Uygun",icon_save:"Kaydet",icon_cancel:"\xDDptal",icon_details:"Detaylar",icon_edit:"D\xFCzenle",icon_delete:"Sil",confirm_closing:"",confirm_deleting:"Etkinlik silinecek, devam?",section_description:"A\xE7\xFDklama",section_time:"Zaman aral\xFD\xF0\xFD",full_day:"Tam g\xFCn",confirm_recurring:"T\xFCm tekrar eden etkinlikler silinecek, devam?",section_recurring:"Etkinli\xF0i tekrarla",button_recurring:"Pasif",button_recurring_open:"Aktif",button_edit_series:"Dizi d\xFCzenleme",button_edit_occurrence:"Bir kopyas\u0131n\u0131 d\xFCzenleyin",agenda_tab:"Ajanda",date:"Tarih",description:"A\xE7\xFDklama",year_tab:"Y\xFDl",week_agenda_tab:"Ajanda",grid_tab:"Izgara",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute"}},zn={date:{month_full:["\u0421\u0456\u0447\u0435\u043D\u044C","\u041B\u044E\u0442\u0438\u0439","\u0411\u0435\u0440\u0435\u0437\u0435\u043D\u044C","\u041A\u0432\u0456\u0442\u0435\u043D\u044C","\u0422\u0440\u0430\u0432\u0435\u043D\u044C","\u0427\u0435\u0440\u0432\u0435\u043D\u044C","\u041B\u0438\u043F\u0435\u043D\u044C","\u0421\u0435\u0440\u043F\u0435\u043D\u044C","\u0412\u0435\u0440\u0435\u0441\u0435\u043D\u044C","\u0416\u043E\u0432\u0442\u0435\u043D\u044C","\u041B\u0438\u0441\u0442\u043E\u043F\u0430\u0434","\u0413\u0440\u0443\u0434\u0435\u043D\u044C"],month_short:["\u0421\u0456\u0447","\u041B\u044E\u0442","\u0411\u0435\u0440","\u041A\u0432\u0456","\u0422\u0440\u0430","\u0427\u0435\u0440","\u041B\u0438\u043F","\u0421\u0435\u0440","\u0412\u0435\u0440","\u0416\u043E\u0432","\u041B\u0438\u0441","\u0413\u0440\u0443"],day_full:["\u041D\u0435\u0434\u0456\u043B\u044F","\u041F\u043E\u043D\u0435\u0434\u0456\u043B\u043E\u043A","\u0412\u0456\u0432\u0442\u043E\u0440\u043E\u043A","\u0421\u0435\u0440\u0435\u0434\u0430","\u0427\u0435\u0442\u0432\u0435\u0440","\u041F'\u044F\u0442\u043D\u0438\u0446\u044F","\u0421\u0443\u0431\u043E\u0442\u0430"],day_short:["\u041D\u0435\u0434","\u041F\u043E\u043D","\u0412\u0456\u0432","\u0421\u0435\u0440","\u0427\u0435\u0442","\u041F\u0442\u043D","\u0421\u0443\u0431"]},labels:{dhx_cal_today_button:"\u0421\u044C\u043E\u0433\u043E\u0434\u043D\u0456",day_tab:"\u0414\u0435\u043D\u044C",week_tab:"\u0422\u0438\u0436\u0434\u0435\u043D\u044C",month_tab:"\u041C\u0456\u0441\u044F\u0446\u044C",new_event:"\u041D\u043E\u0432\u0430 \u043F\u043E\u0434\u0456\u044F",icon_save:"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438",icon_cancel:"\u0412\u0456\u0434\u043C\u0456\u043D\u0430",icon_details:"\u0414\u0435\u0442\u0430\u043B\u0456",icon_edit:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438",icon_delete:"\u0412\u0438\u043B\u0443\u0447\u0438\u0442\u0438",confirm_closing:"",confirm_deleting:"\u041F\u043E\u0434\u0456\u044F \u0432\u0438\u043B\u0443\u0447\u0438\u0442\u044C\u0441\u044F \u043D\u0430\u0437\u0430\u0432\u0436\u0434\u0438. \u0412\u0438 \u0432\u043F\u0435\u0432\u043D\u0435\u043D\u0456?",section_description:"\u041E\u043F\u0438\u0441",section_time:"\u0427\u0430\u0441\u043E\u0432\u0438\u0439 \u043F\u0440\u043E\u043C\u0456\u0436\u043E\u043A",full_day:"\u0412\u0435\u0441\u044C \u0434\u0435\u043D\u044C",confirm_recurring:"\u0425\u043E\u0447\u0435\u0442\u0435 \u0440\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0432\u0435\u0441\u044C \u043F\u0435\u0440\u0435\u043B\u0456\u043A \u043F\u043E\u0432\u0442\u043E\u0440\u044E\u0432\u0430\u043D\u0438\u0445 \u043F\u043E\u0434\u0456\u0439?",section_recurring:"\u041F\u043E\u0432\u0442\u043E\u0440\u044E\u0432\u0430\u043D\u0430 \u043F\u043E\u0434\u0456\u044F",button_recurring:"\u0412\u0456\u0434\u043A\u043B\u044E\u0447\u0435\u043D\u043E",button_recurring_open:"\u0412\u043A\u043B\u044E\u0447\u0435\u043D\u043E",button_edit_series:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u0441\u0435\u0440\u0456\u044E",button_edit_occurrence:"\u0420\u0435\u0434\u0430\u0433\u0443\u0432\u0430\u0442\u0438 \u043F\u0440\u0438\u043C\u0456\u0440\u043D\u0438\u043A",agenda_tab:"\u041F\u0435\u0440\u0435\u043B\u0456\u043A",date:"\u0414\u0430\u0442\u0430",description:"\u041E\u043F\u0438\u0441",year_tab:"\u0420\u0456\u043A",week_agenda_tab:"\u041F\u0435\u0440\u0435\u043B\u0456\u043A",grid_tab:"\u0422\u0430\u0431\u043B\u0438\u0446\u044F",drag_to_create:"Drag to create",drag_to_move:"Drag to move",message_ok:"OK",message_cancel:"Cancel",next:"Next",prev:"Previous",year:"Year",month:"Month",day:"Day",hour:"Hour",minute:"Minute",repeat_radio_day:"\u0414\u0435\u043D\u044C",repeat_radio_week:"\u0422\u0438\u0436\u0434\u0435\u043D\u044C",repeat_radio_month:"\u041C\u0456\u0441\u044F\u0446\u044C",repeat_radio_year:"\u0420\u0456\u043A",repeat_radio_day_type:"\u041A\u043E\u0436\u043D\u0438\u0439",repeat_text_day_count:"\u0434\u0435\u043D\u044C",repeat_radio_day_type2:"\u041A\u043E\u0436\u043D\u0438\u0439 \u0440\u043E\u0431\u043E\u0447\u0438\u0439 \u0434\u0435\u043D\u044C",repeat_week:" \u041F\u043E\u0432\u0442\u043E\u0440\u044E\u0432\u0430\u0442\u0438 \u043A\u043E\u0436\u0435\u043D",repeat_text_week_count:"\u0442\u0438\u0436\u0434\u0435\u043D\u044C , \u043F\u043E:",repeat_radio_month_type:"\u041F\u043E\u0432\u0442\u043E\u0440\u044E\u0432\u0430\u0442\u0438",repeat_radio_month_start:"",repeat_text_month_day:" \u0447\u0438\u0441\u043B\u0430 \u043A\u043E\u0436\u043D\u0438\u0439 ",repeat_text_month_count:"\u043C\u0456\u0441\u044F\u0446\u044C",repeat_text_month_count2_before:"\u043A\u043E\u0436\u0435\u043D ",repeat_text_month_count2_after:"\u043C\u0456\u0441\u044F\u0446\u044C",repeat_year_label:"",select_year_day2:"",repeat_text_year_day:"\u0434\u0435\u043D\u044C",select_year_month:"",repeat_radio_end:"\u0411\u0435\u0437 \u0434\u0430\u0442\u0438 \u0437\u0430\u043A\u0456\u043D\u0447\u0435\u043D\u043D\u044F",repeat_text_occurences_count:"\u043F\u043E\u0432\u0442\u043E\u0440\u0435\u043D\u044C",repeat_radio_end3:"\u0414\u043E ",repeat_radio_end2:"",month_for_recurring:["\u0441\u0456\u0447\u043D\u044F","\u043B\u044E\u0442\u043E\u0433\u043E","\u0431\u0435\u0440\u0435\u0437\u043D\u044F","\u043A\u0432\u0456\u0442\u043D\u044F","\u0442\u0440\u0430\u0432\u043D\u044F","\u0447\u0435\u0440\u0432\u043D\u044F","\u043B\u0438\u043F\u043D\u044F","\u0441\u0435\u0440\u043F\u043D\u044F","\u0432\u0435\u0440\u0435\u0441\u043D\u044F","\u0436\u043E\u0432\u0442\u043D\u044F","\u043B\u0438\u0441\u0442\u043E\u043F\u0430\u0434\u0430","\u0433\u0440\u0443\u0434\u043D\u044F"],day_for_recurring:["\u041D\u0435\u0434\u0456\u043B\u044F\u043C","\u041F\u043E\u043D\u0435\u0434\u0456\u043B\u043A\u0430\u043C","\u0412\u0456\u0432\u0442\u043E\u0440\u043A\u0430\u043C","\u0421\u0435\u0440\u0435\u0434\u0430\u043C","\u0427\u0435\u0442\u0432\u0435\u0440\u0433\u0430\u043C","\u041F'\u044F\u0442\u043D\u0438\u0446\u044F\u043C","\u0421\u0443\u0431\u043E\u0442\u0430\u043C"]}};function Qn(s){return(Qn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}var mo=function(s){var w={version:"6.0.2"};(function(o){var c={agenda:"https://docs.dhtmlx.com/scheduler/agenda_view.html",grid:"https://docs.dhtmlx.com/scheduler/grid_view.html",map:"https://docs.dhtmlx.com/scheduler/map_view.html",unit:"https://docs.dhtmlx.com/scheduler/units_view.html",timeline:"https://docs.dhtmlx.com/scheduler/timeline_view.html",week_agenda:"https://docs.dhtmlx.com/scheduler/weekagenda_view.html",year:"https://docs.dhtmlx.com/scheduler/year_view.html",anythingElse:"https://docs.dhtmlx.com/scheduler/views.html"},u={agenda:"ext/dhtmlxscheduler_agenda_view.js",grid:"ext/dhtmlxscheduler_grid_view.js",map:"ext/dhtmlxscheduler_map_view.js",unit:"ext/dhtmlxscheduler_units.js",timeline:"ext/dhtmlxscheduler_timeline.js, ext/dhtmlxscheduler_treetimeline.js, ext/dhtmlxscheduler_daytimeline.js",week_agenda:"ext/dhtmlxscheduler_week_agenda.js",year:"ext/dhtmlxscheduler_year_view.js",limit:"ext/dhtmlxscheduler_limit.js"};o._commonErrorMessages={unknownView:function(f){var y=u[f]?"You're probably missing "+u[f]+".":"";return"`"+f+"` view is not defined. \nPlease check parameters you pass to `scheduler.init` or `scheduler.setCurrentView` in your code and ensure you've imported appropriate extensions. \nRelated docs: "+(c[f]||c.anythingElse)+`
`+(y?y+`
`:"")},collapsedContainer:function(f){return`Scheduler container height is set to *100%* but the rendered height is zero and the scheduler is not visible. 
Make sure that the container has some initial height or use different units. For example:
<div id='scheduler_here' class='dhx_cal_container' style='width:100%; height:600px;'> 
`}},o.createTimelineView=function(){throw new Error("scheduler.createTimelineView is not implemented. Be sure to add the required extension: "+u.timeline+`
Related docs: `+c.timeline)},o.createUnitsView=function(){throw new Error("scheduler.createUnitsView is not implemented. Be sure to add the required extension: "+u.unit+`
Related docs: `+c.unit)},o.createGridView=function(){throw new Error("scheduler.createGridView is not implemented. Be sure to add the required extension: "+u.grid+`
Related docs: `+c.grid)},o.addMarkedTimespan=function(){throw new Error(`scheduler.addMarkedTimespan is not implemented. Be sure to add the required extension: ext/dhtmlxscheduler_limit.js
Related docs: https://docs.dhtmlx.com/scheduler/limits.html`)},o.renderCalendar=function(){throw new Error(`scheduler.renderCalendar is not implemented. Be sure to add the required extension: ext/dhtmlxscheduler_minical.js
https://docs.dhtmlx.com/scheduler/minicalendar.html`)},o.exportToPNG=function(){throw new Error(["scheduler.exportToPNG is not implemented.","This feature requires an additional module, be sure to check the related doc here https://docs.dhtmlx.com/scheduler/png.html","Licensing info: https://dhtmlx.com/docs/products/dhtmlxScheduler/export.shtml"].join(`
`))},o.exportToPDF=function(){throw new Error(["scheduler.exportToPDF is not implemented.","This feature requires an additional module, be sure to check the related doc here https://docs.dhtmlx.com/scheduler/pdf.html","Licensing info: https://dhtmlx.com/docs/products/dhtmlxScheduler/export.shtml"].join(`
`))}})(w),function(o){var c=R();o.event=c.attach,o.eventRemove=c.detach,o._eventRemoveAll=c.detachAll,o._createDomEventScope=c.extend,o._trim=function(u){return(String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")}).apply(u)},o._isDate=function(u){return!(!u||D(u)!="object"||!(u.getFullYear&&u.getMonth&&u.getDate))},o._isObject=function(u){return u&&D(u)=="object"}}(w),function(o){N(o),l(o),o._detachDomEvent=function(g,k,b){g.removeEventListener?g.removeEventListener(k,b,!1):g.detachEvent&&g.detachEvent("on"+k,b)},o._init_once=function(){h(o),o._init_once=function(){}};var c={render:function(g){return o._init_nav_bar(g)}},u={render:function(g){var k=document.createElement("div");return k.className="dhx_cal_header",k}},f={render:function(g){var k=document.createElement("div");return k.className="dhx_cal_data",k}};function y(g){return!!(g.querySelector(".dhx_cal_header")&&g.querySelector(".dhx_cal_data")&&g.querySelector(".dhx_cal_navline"))}o.init=function(g,k,b){if(!this.$destroyed){if(k=k||o._currentDate(),b=b||"week",this._obj&&this.unset_actions(),this._obj=typeof g=="string"?document.getElementById(g):g,this.$container=this._obj,this.$root=this._obj,!this.$container.offsetHeight&&this.$container.offsetWidth&&this.$container.style.height==="100%"&&window.console.error(o._commonErrorMessages.collapsedContainer(),this.$container),this.config.wai_aria_attributes&&this.config.wai_aria_application_role&&this.$container.setAttribute("role","application"),this.config.header||y(this.$container)||(this.config.header=function(E){var T=["day","week","month"];if(E.matrix)for(var O in E.matrix)T.push(O);if(E._props)for(var O in E._props)T.push(O);if(E._grid&&E._grid.names)for(var O in E._grid.names)T.push(O);return["map","agenda","week_agenda","year"].forEach(function(U){E[U+"_view"]&&T.push(U)}),T.concat(["date"]).concat(["prev","today","next"])}(this),window.console.log(["Required DOM elements are missing from the scheduler container and **scheduler.config.header** is not specified.","Using a default header configuration: ","scheduler.config.header = "+JSON.stringify(this.config.header,null,2),"Check this article for the details: https://docs.dhtmlx.com/scheduler/initialization.html"].join(`
`))),this.config.header)this.$container.innerHTML="",this.$container.classList.add("dhx_cal_container"),this.config.header.height&&(this.xy.nav_height=this.config.header.height),this.$container.appendChild(c.render(this.config.header)),this.$container.appendChild(u.render()),this.$container.appendChild(f.render());else if(!y(this.$container))throw new Error(["Required DOM elements are missing from the scheduler container.","Be sure to either specify them manually in the markup: https://docs.dhtmlx.com/scheduler/initialization.html#initializingschedulerviamarkup","Or to use **scheduler.config.header** setting so they could be created automatically: https://docs.dhtmlx.com/scheduler/initialization.html#initializingschedulerviaheaderconfig"].join(`
`));this.config.rtl&&(this.$container.className+=" dhx_cal_container_rtl"),this._skin_init&&o._skin_init(),o.date.init(),this._scroll=!0,this._quirks=this.$env.isIE&&document.compatMode=="BackCompat",this._quirks7=this.$env.isIE&&navigator.appVersion.indexOf("MSIE 8")==-1,this._els=[],this.get_elements(),this.init_templates(),this.set_actions(),this._init_once(),this._init_touch_events(),this.set_sizes(),o.callEvent("onSchedulerReady",[]),this.setCurrentView(k,b)}},o.xy={min_event_height:40,scale_width:50,scroll_width:18,scale_height:20,month_scale_height:20,menu_width:25,margin_top:0,margin_left:0,editor_width:140,month_head_height:22,event_header_height:14},o.keys={edit_save:13,edit_cancel:27},o.bind=function(g,k){return g.bind?g.bind(k):function(){return g.apply(k,arguments)}},o.set_sizes=function(){var g=this._x=this._obj.clientWidth-this.xy.margin_left,k=this._y=this._obj.clientHeight-this.xy.margin_top,b=this._table_view?0:this.xy.scale_width+this.xy.scroll_width,E=this._table_view?-1:this.xy.scale_width,T=this.$container.querySelector(".dhx_cal_scale_placeholder");o._is_material_skin()?(T||((T=document.createElement("div")).className="dhx_cal_scale_placeholder",this.$container.insertBefore(T,this._els.dhx_cal_header[0])),T.style.display="block",this.set_xy(T,g,this.xy.scale_height+1,0,this.xy.nav_height+(this._quirks?-1:1))):T&&T.parentNode.removeChild(T),this._lightbox&&(o.$container.offsetWidth<1200||this._setLbPosition(document.querySelector(".dhx_cal_light"))),this.set_xy(this._els.dhx_cal_navline[0],g,this.xy.nav_height,0,0),this.set_xy(this._els.dhx_cal_header[0],g-b,this.xy.scale_height,E,this.xy.nav_height+(this._quirks?-1:1));var O=this._els.dhx_cal_navline[0].offsetHeight;O>0&&(this.xy.nav_height=O);var U=this.xy.scale_height+this.xy.nav_height+(this._quirks?-2:0);this.set_xy(this._els.dhx_cal_data[0],g,k-(U+2),0,U+2)},o.set_xy=function(g,k,b,E,T){var O="left";g.style.width=Math.max(0,k)+"px",g.style.height=Math.max(0,b)+"px",arguments.length>3&&(this.config.rtl&&(O="right"),g.style[O]=E+"px",g.style.top=T+"px")},o.get_elements=function(){for(var g=this._obj.getElementsByTagName("DIV"),k=0;k<g.length;k++){var b=o._getClassName(g[k]),E=g[k].getAttribute("data-tab")||g[k].getAttribute("name")||"";b&&(b=b.split(" ")[0]),this._els[b]||(this._els[b]=[]),this._els[b].push(g[k]);var T=o.locale.labels[E+"_tab"]||o.locale.labels[E||b];typeof T!="string"&&E&&!g[k].innerHTML&&(T=E.split("_")[0]),T&&(this._waiAria.labelAttr(g[k],T),g[k].innerHTML=T)}};var x=o._createDomEventScope();o.unset_actions=function(){x.detachAll()},o.set_actions=function(){for(var g in this._els)if(this._click[g])for(var k=0;k<this._els[g].length;k++){var b=this._els[g][k],E=this._click[g].bind(b);x.attach(b,"click",E)}x.attach(this._obj,"selectstart",function(T){return T.preventDefault(),!1}),x.attach(this._obj,"mousemove",function(T){o._temp_touch_block||o._on_mouse_move(T)}),x.attach(this._obj,"mousedown",function(T){o._ignore_next_click||o._on_mouse_down(T)}),x.attach(this._obj,"mouseup",function(T){o._ignore_next_click||o._on_mouse_up(T)}),x.attach(this._obj,"dblclick",function(T){o._on_dbl_click(T)}),x.attach(this._obj,"contextmenu",function(T){var O=T,U=O.target||O.srcElement;return o.callEvent("onContextMenu",[o._locate_event(U),O])})},o.select=function(g){this._select_id!=g&&(o._close_not_saved(),this.editStop(!1),this._select_id&&this.unselect(),this._select_id=g,this.updateEvent(g),this.callEvent("onEventSelected",[g]))},o.unselect=function(g){if(!g||g==this._select_id){var k=this._select_id;this._select_id=null,k&&this.getEvent(k)&&this.updateEvent(k),this.callEvent("onEventUnselected",[k])}},o.getState=function(){return{mode:this._mode,date:new Date(this._date),min_date:new Date(this._min_date),max_date:new Date(this._max_date),editor_id:this._edit_id,lightbox_id:this._lightbox_id,new_event:this._new_event,select_id:this._select_id,expanded:this.expanded,drag_id:this._drag_id,drag_mode:this._drag_mode}},o._click={dhx_cal_data:function(g){if(o._ignore_next_click)return g.preventDefault&&g.preventDefault(),g.cancelBubble=!0,o._ignore_next_click=!1,!1;var k=g.target,b=o._locate_event(k);if(b){if(!o.callEvent("onClick",[b,g])||o.config.readonly)return}else o.callEvent("onEmptyClick",[o.getActionData(g).date,g]);if(b&&o.config.select){o.select(b);var E=o._getClassName(k);E.indexOf("_icon")!=-1&&o._click.buttons[E.split(" ")[1].replace("icon_","")](b)}else o._close_not_saved(),o.getState().select_id&&new Date().valueOf()-(o._new_event||0)>500&&o.unselect()},dhx_cal_prev_button:function(){o._click.dhx_cal_next_button(0,-1)},dhx_cal_next_button:function(g,k){var b=1;o.config.rtl&&(k=-k,b=-b),o.setCurrentView(o.date.add(o.date[o._mode+"_start"](new Date(o._date)),k||b,o._mode))},dhx_cal_today_button:function(){o.callEvent("onBeforeTodayDisplayed",[])&&o.setCurrentView(o._currentDate())},dhx_cal_tab:function(){var g=this.getAttribute("data-tab"),k=this.getAttribute("name"),b=g||k.substring(0,k.search("_tab"));o.setCurrentView(o._date,b)},buttons:{delete:function(g){var k=o.locale.labels.confirm_deleting;o._dhtmlx_confirm(k,o.locale.labels.title_confirm_deleting,function(){o.deleteEvent(g)})},edit:function(g){o.edit(g)},save:function(g){o.editStop(!0)},details:function(g){o.showLightbox(g)},cancel:function(g){o.editStop(!1)}}},o._dhtmlx_confirm=function(g,k,b){if(!g)return b();var E={text:g};k&&(E.title=k),b&&(E.callback=function(T){T&&b()}),o.confirm(E)},o.addEventNow=function(g,k,b){var E={};o._isObject(g)&&!o._isDate(g)&&(E=g,g=null);var T=6e4*(this.config.event_duration||this.config.time_step);g||(g=E.start_date||Math.round(o._currentDate().valueOf()/T)*T);var O=new Date(g);if(!k){var U=this.config.first_hour;U>O.getHours()&&(O.setHours(U),g=O.valueOf()),k=g.valueOf()+T}var $=new Date(k);O.valueOf()==$.valueOf()&&$.setTime($.valueOf()+T),E.start_date=E.start_date||O,E.end_date=E.end_date||$,E.text=E.text||this.locale.labels.new_event,E.id=this._drag_id=E.id||this.uid(),this._drag_mode="new-size",this._loading=!0;var V=this.addEvent(E);return this.callEvent("onEventCreated",[this._drag_id,b]),this._loading=!1,this._drag_event={},this._on_mouse_up(b),V},o._on_dbl_click=function(g,k){if(k=k||g.target||g.srcElement,!this.config.readonly){var b=o._getClassName(k).split(" ")[0];switch(b){case"dhx_scale_holder":case"dhx_scale_holder_now":case"dhx_month_body":case"dhx_wa_day_data":if(!o.config.dblclick_create)break;this.addEventNow(this.getActionData(g).date,null,g);break;case"dhx_cal_event":case"dhx_wa_ev_body":case"dhx_agenda_line":case"dhx_grid_event":case"dhx_cal_event_line":case"dhx_cal_event_clear":var E=this._locate_event(k);if(!this.callEvent("onDblClick",[E,g]))return;this.config.details_on_dblclick||this._table_view||!this.getEvent(E)._timed||!this.config.select?this.showLightbox(E):this.edit(E);break;case"dhx_time_block":case"dhx_cal_container":return;default:var T=this["dblclick_"+b];if(T)T.call(this,g);else if(k.parentNode&&k!=this)return o._on_dbl_click(g,k.parentNode)}}},o._get_column_index=function(g){var k=0;if(this._cols){for(var b=0,E=0;b+this._cols[E]<g&&E<this._cols.length;)b+=this._cols[E],E++;if(k=E+(this._cols[E]?(g-b)/this._cols[E]:0),this._ignores&&k>=this._cols.length)for(;k>=1&&this._ignores[Math.floor(k)];)k--}return k},o._week_indexes_from_pos=function(g){if(this._cols){var k=this._get_column_index(g.x);return g.x=Math.min(this._cols.length-1,Math.max(0,Math.ceil(k)-1)),g.y=Math.max(0,Math.ceil(60*g.y/(this.config.time_step*this.config.hour_size_px))-1)+this.config.first_hour*(60/this.config.time_step),g}return g},o._mouse_coords=function(g){var k,b=document.body,E=document.documentElement;k=this.$env.isIE||!g.pageX&&!g.pageY?{x:g.clientX+(b.scrollLeft||E.scrollLeft||0)-b.clientLeft,y:g.clientY+(b.scrollTop||E.scrollTop||0)-b.clientTop}:{x:g.pageX,y:g.pageY},this.config.rtl&&this._colsS?(k.x=this.$container.querySelector(".dhx_cal_data").offsetWidth-k.x,this._mode!=="month"&&(k.x-=this.xy.scale_width)):k.x-=this.$domHelpers.getAbsoluteLeft(this._obj)+(this._table_view?0:this.xy.scale_width);var T=this.$container.querySelector(".dhx_cal_data");k.y-=this.$domHelpers.getAbsoluteTop(T)-this._els.dhx_cal_data[0].scrollTop,k.ev=g;var O=this["mouse_"+this._mode];if(O)k=O.call(this,k);else if(this._table_view){var U=this._get_column_index(k.x);if(!this._cols||!this._colsS)return k;var $=0;for($=1;$<this._colsS.heights.length&&!(this._colsS.heights[$]>k.y);$++);k.y=Math.ceil(24*(Math.max(0,U)+7*Math.max(0,$-1))*60/this.config.time_step),(o._drag_mode||this._mode=="month")&&(k.y=24*(Math.max(0,Math.ceil(U)-1)+7*Math.max(0,$-1))*60/this.config.time_step),this._drag_mode=="move"&&o._ignores_detected&&o.config.preserve_length&&(k._ignores=!0,this._drag_event._event_length||(this._drag_event._event_length=this._get_real_event_length(this._drag_event.start_date,this._drag_event.end_date,{x_step:1,x_unit:"day"}))),k.x=0}else k=this._week_indexes_from_pos(k);return k.timestamp=+new Date,k},o._close_not_saved=function(){if(new Date().valueOf()-(o._new_event||0)>500&&o._edit_id){var g=o.locale.labels.confirm_closing;o._dhtmlx_confirm(g,o.locale.labels.title_confirm_closing,function(){o.editStop(o.config.positive_closing)}),g&&(this._drag_id=this._drag_pos=this._drag_mode=null)}},o._correct_shift=function(g,k){return g-6e4*(new Date(o._min_date).getTimezoneOffset()-new Date(g).getTimezoneOffset())*(k?-1:1)},o._is_pos_changed=function(g,k){function b(E,T,O){return Math.abs(E-T)>O}return!g||!this._drag_pos||!!(this._drag_pos.has_moved||!this._drag_pos.timestamp||k.timestamp-this._drag_pos.timestamp>100||b(g.ev.clientX,k.ev.clientX,5)||b(g.ev.clientY,k.ev.clientY,5))},o._correct_drag_start_date=function(g){var k;o.matrix&&(k=o.matrix[o._mode]),k=k||{x_step:1,x_unit:"day"},g=new Date(g);var b=1;return(k._start_correction||k._end_correction)&&(b=60*(k.last_hour||0)-(60*g.getHours()+g.getMinutes())||1),1*g+(o._get_fictional_event_length(g,b,k)-b)},o._correct_drag_end_date=function(g,k){var b;o.matrix&&(b=o.matrix[o._mode]),b=b||{x_step:1,x_unit:"day"};var E=1*g+o._get_fictional_event_length(g,k,b);return new Date(1*E-(o._get_fictional_event_length(E,-1,b,-1)+1))},o._on_mouse_move=function(g){if(this._drag_mode){var k=this._mouse_coords(g);if(this._is_pos_changed(this._drag_pos,k)){var b,E;if(this._edit_id!=this._drag_id&&this._close_not_saved(),!this._drag_mode)return;var T=null;if(this._drag_pos&&!this._drag_pos.has_moved&&((T=this._drag_pos).has_moved=!0),this._drag_pos=k,this._drag_pos.has_moved=!0,this._drag_mode=="create"){if(T&&(k=T),this._close_not_saved(),this.unselect(this._select_id),this._loading=!0,b=this._get_date_from_pos(k).valueOf(),!this._drag_start)return this.callEvent("onBeforeEventCreated",[g,this._drag_id])?(this._loading=!1,void(this._drag_start=b)):void(this._loading=!1);E=b,this._drag_start;var O=new Date(this._drag_start),U=new Date(E);this._mode!="day"&&this._mode!="week"||O.getHours()!=U.getHours()||O.getMinutes()!=U.getMinutes()||(U=new Date(this._drag_start+1e3)),this._drag_id=this.uid(),this.addEvent(O,U,this.locale.labels.new_event,this._drag_id,k.fields),this.callEvent("onEventCreated",[this._drag_id,g]),this._loading=!1,this._drag_mode="new-size"}var $,V=this.config.time_step,Q=this.getEvent(this._drag_id);if(o.matrix&&($=o.matrix[o._mode]),$=$||{x_step:1,x_unit:"day"},this._drag_mode=="move")b=this._min_date.valueOf()+6e4*(k.y*this.config.time_step+24*k.x*60),!k.custom&&this._table_view&&(b+=1e3*this.date.time_part(Q.start_date)),!this._table_view&&this._dragEventBody&&this._drag_event._move_event_shift===void 0&&(this._drag_event._move_event_shift=b-Q.start_date),this._drag_event._move_event_shift&&(b-=this._drag_event._move_event_shift),b=this._correct_shift(b),k._ignores&&this.config.preserve_length&&this._table_view?(b=o._correct_drag_start_date(b),E=o._correct_drag_end_date(b,this._drag_event._event_length)):E=Q.end_date.valueOf()-(Q.start_date.valueOf()-b);else{if(b=Q.start_date.valueOf(),E=Q.end_date.valueOf(),this._table_view){var ee=this._min_date.valueOf()+k.y*this.config.time_step*6e4+(k.custom?0:864e5);if(this._mode=="month")if(ee=this._correct_shift(ee,!1),this._drag_from_start){var G=864e5;ee<=o.date.date_part(new Date(E+G-1)).valueOf()&&(b=ee-G)}else E=ee;else this.config.preserve_length?k.resize_from_start?b=o._correct_drag_start_date(ee):E=o._correct_drag_end_date(ee,0):k.resize_from_start?b=ee:E=ee}else{var re=this.date.date_part(new Date(Q.end_date.valueOf()-1)).valueOf(),q=new Date(re),X=this.config.first_hour,J=60/V*(this.config.last_hour-X);this.config.time_step=1;var ye=this._mouse_coords(g);this.config.time_step=V;var Se=k.y*V*6e4,be=Math.min(k.y+1,J)*V*6e4,Ie=6e4*ye.y;E=Math.abs(Se-Ie)>Math.abs(be-Ie)?re+be:re+Se,E+=6e4*(new Date(E).getTimezoneOffset()-q.getTimezoneOffset()),this._els.dhx_cal_data[0].style.cursor="s-resize",this._mode!="week"&&this._mode!="day"||(E=this._correct_shift(E))}if(this._drag_mode=="new-size")if(E<=this._drag_start){var Ce=k.shift||(this._table_view&&!k.custom?864e5:0);b=E-(k.shift?0:Ce),E=this._drag_start+(Ce||6e4*V)}else b=this._drag_start;else E<=b&&(E=b+6e4*V)}var $e=new Date(E-1),qe=new Date(b);if(this._drag_mode=="move"&&o.config.limit_drag_out&&(+qe<+o._min_date||+E>+o._max_date)){if(+Q.start_date<+o._min_date||+Q.end_date>+o._max_date)qe=new Date(Q.start_date),E=new Date(Q.end_date);else{var Xe=E-qe;+qe<+o._min_date?(qe=new Date(o._min_date),k._ignores&&this.config.preserve_length&&this._table_view?(qe=new Date(o._correct_drag_start_date(qe)),$._start_correction&&(qe=new Date(qe.valueOf()+$._start_correction)),E=new Date(1*qe+this._get_fictional_event_length(qe,this._drag_event._event_length,$))):E=new Date(+qe+Xe)):(E=new Date(o._max_date),k._ignores&&this.config.preserve_length&&this._table_view?($._end_correction&&(E=new Date(E.valueOf()-$._end_correction)),E=new Date(1*E-this._get_fictional_event_length(E,0,$,!0)),qe=new Date(1*E-this._get_fictional_event_length(E,this._drag_event._event_length,$,!0)),this._ignores_detected&&(qe=o.date.add(qe,$.x_step,$.x_unit),E=new Date(1*E-this._get_fictional_event_length(E,0,$,!0)),E=o.date.add(E,$.x_step,$.x_unit))):qe=new Date(+E-Xe))}$e=new Date(E-1)}if(!this._table_view&&this._dragEventBody&&!o.config.all_timed&&(!o._get_section_view()&&k.x!=this._get_event_sday({start_date:new Date(b),end_date:new Date(b)})||new Date(b).getHours()<this.config.first_hour)&&(Xe=E-qe,this._drag_mode=="move"&&(G=this._min_date.valueOf()+24*k.x*60*6e4,(qe=new Date(G)).setHours(this.config.first_hour),E=new Date(qe.valueOf()+Xe),$e=new Date(E-1))),this._table_view||o.config.all_timed||!(!o.getView()&&k.x!=this._get_event_sday({start_date:new Date(E),end_date:new Date(E)})||new Date(E).getHours()>=this.config.last_hour)||(Xe=E-qe,G=this._min_date.valueOf()+24*k.x*60*6e4,(E=o.date.date_part(new Date(G))).setHours(this.config.last_hour),$e=new Date(E-1),this._drag_mode=="move"&&(qe=new Date(+E-Xe))),this._table_view||$e.getDate()==qe.getDate()&&$e.getHours()<this.config.last_hour||o._allow_dnd)if(Q.start_date=qe,Q.end_date=new Date(E),this.config.update_render){var Tt=o._els.dhx_cal_data[0].scrollTop;this.update_view(),o._els.dhx_cal_data[0].scrollTop=Tt}else this.updateEvent(this._drag_id);this._table_view&&this.for_rendered(this._drag_id,function($r){$r.className+=" dhx_in_move dhx_cal_event_drag"}),this.callEvent("onEventDrag",[this._drag_id,this._drag_mode,g])}}else if(o.checkEvent("onMouseMove")){var lr=this._locate_event(g.target||g.srcElement);this.callEvent("onMouseMove",[lr,g])}},o._on_mouse_down=function(g,k){if(g.button!=2&&!this.config.readonly&&!this._drag_mode){k=k||g.target||g.srcElement;var b=o._getClassName(k).split(" ")[0];switch(this.config.drag_event_body&&b=="dhx_body"&&k.parentNode&&k.parentNode.className.indexOf("dhx_cal_select_menu")===-1&&(b="dhx_event_move",this._dragEventBody=!0),b){case"dhx_cal_event_line":case"dhx_cal_event_clear":this._table_view&&(this._drag_mode="move");break;case"dhx_event_move":case"dhx_wa_ev_body":this._drag_mode="move";break;case"dhx_event_resize":this._drag_mode="resize",o._getClassName(k).indexOf("dhx_event_resize_end")<0?o._drag_from_start=!0:o._drag_from_start=!1;break;case"dhx_scale_holder":case"dhx_scale_holder_now":case"dhx_month_body":case"dhx_matrix_cell":case"dhx_marked_timespan":this._drag_mode="create";break;case"":if(k.parentNode)return o._on_mouse_down(g,k.parentNode);break;default:if((!o.checkEvent("onMouseDown")||o.callEvent("onMouseDown",[b,g]))&&k.parentNode&&k!=this&&b!="dhx_body")return o._on_mouse_down(g,k.parentNode);this._drag_mode=null,this._drag_id=null}if(this._drag_mode){var E=this._locate_event(k);if(this.config["drag_"+this._drag_mode]&&this.callEvent("onBeforeDrag",[E,this._drag_mode,g])){if(this._drag_id=E,(this._edit_id!=this._drag_id||this._edit_id&&this._drag_mode=="create")&&this._close_not_saved(),!this._drag_mode)return;this._drag_event=o._lame_clone(this.getEvent(this._drag_id)||{}),this._drag_pos=this._mouse_coords(g)}else this._drag_mode=this._drag_id=0}this._drag_start=null}},o._get_private_properties=function(g){var k={};for(var b in g)b.indexOf("_")===0&&(k[b]=!0);return k},o._clear_temporary_properties=function(g,k){var b=this._get_private_properties(g),E=this._get_private_properties(k);for(var T in E)b[T]||delete k[T]},o._on_mouse_up=function(g){if(!g||g.button!=2||!this._mobile){if(this._drag_mode&&this._drag_id){this._els.dhx_cal_data[0].style.cursor="default";var k=this._drag_id,b=this._drag_mode,E=!this._drag_pos||this._drag_pos.has_moved;delete this._drag_event._move_event_shift;var T=this.getEvent(this._drag_id);if(E&&(this._drag_event._dhx_changed||!this._drag_event.start_date||T.start_date.valueOf()!=this._drag_event.start_date.valueOf()||T.end_date.valueOf()!=this._drag_event.end_date.valueOf())){var O=this._drag_mode=="new-size";if(this.callEvent("onBeforeEventChanged",[T,g,O,this._drag_event]))if(this._drag_id=this._drag_mode=null,O&&this.config.edit_on_create){if(this.unselect(),this._new_event=new Date,this._table_view||this.config.details_on_create||!this.config.select||!this.isOneDayEvent(this.getEvent(k)))return o.callEvent("onDragEnd",[k,b,g]),this.showLightbox(k);this._drag_pos=!0,this._select_id=this._edit_id=k}else this._new_event||this.callEvent(O?"onEventAdded":"onEventChanged",[k,this.getEvent(k)]);else O?this.deleteEvent(T.id,!0):(this._drag_event._dhx_changed=!1,this._clear_temporary_properties(T,this._drag_event),o._lame_copy(T,this._drag_event),this.updateEvent(T.id))}this._drag_pos&&(this._drag_pos.has_moved||this._drag_pos===!0)&&(this._drag_id=this._drag_mode=null,this.render_view_data()),o.callEvent("onDragEnd",[k,b,g])}this._drag_id=null,this._drag_mode=null,this._drag_pos=null}},o._trigger_dyn_loading=function(){return!(!this._load_mode||!this._load()||(this._render_wait=!0,0))},o.update_view=function(){this._reset_ignores(),this._update_nav_bar(this.config.header,this.$container.querySelector(".dhx_cal_navline"));var g=this[this._mode+"_view"];if(g?g.call(this,!0):this._reset_scale(),this._trigger_dyn_loading())return!0;this.render_view_data()},o.isViewExists=function(g){return!!(o[g+"_view"]||o.date[g+"_start"]&&o.templates[g+"_date"]&&o.templates[g+"_scale_date"])},o._set_aria_buttons_attrs=function(){for(var g=["dhx_cal_next_button","dhx_cal_prev_button","dhx_cal_tab","dhx_cal_today_button"],k=0;k<g.length;k++)for(var b=this._els[g[k]],E=0;b&&E<b.length;E++){var T=b[E].getAttribute("data-tab")||b[E].getAttribute("name"),O=this.locale.labels[g[k]];T&&(O=this.locale.labels[T+"_tab"]||this.locale.labels[T]||O),g[k]=="dhx_cal_next_button"?O=this.locale.labels.next:g[k]=="dhx_cal_prev_button"&&(O=this.locale.labels.prev),this._waiAria.headerButtonsAttributes(b[E],O||"")}},o.updateView=function(g,k){if(!this.$container)throw new Error(`The scheduler is not initialized. 
 **scheduler.updateView** or **scheduler.setCurrentView** can be called only after **scheduler.init**`);g=g||this._date,k=k||this._mode;var b=this._obj,E="dhx_scheduler_"+this._mode,T="dhx_scheduler_"+k;this._mode&&b.className.indexOf(E)!=-1?b.className=b.className.replace(E,T):b.className+=" "+T;var O,U=!(this._mode!=k||!this.config.preserve_scroll)&&this._els.dhx_cal_data[0].scrollTop;this._els.dhx_multi_day&&this._els.dhx_multi_day[0]&&(O=this._els.dhx_multi_day[0].scrollTop),this[this._mode+"_view"]&&k&&this._mode!=k&&this[this._mode+"_view"](!1),this._close_not_saved(),this._els.dhx_multi_day&&(this._els.dhx_multi_day[0].parentNode.removeChild(this._els.dhx_multi_day[0]),this._els.dhx_multi_day=null),this._mode=k,this._date=g,this._table_view=this._mode=="month",this._dy_shift=0,this.update_view(),this._set_aria_buttons_attrs();var $=this._els.dhx_cal_tab;if($)for(var V=0;V<$.length;V++){var Q=$[V];Q.getAttribute("data-tab")==this._mode||Q.getAttribute("name")==this._mode+"_tab"?(Q.classList.add("active"),this._waiAria.headerToggleState(Q,!0)):(Q.classList.remove("active"),this._waiAria.headerToggleState(Q,!1))}typeof U=="number"&&(this._els.dhx_cal_data[0].scrollTop=U),typeof O=="number"&&this._els.dhx_multi_day&&this._els.dhx_multi_day[0]&&(this._els.dhx_multi_day[0].scrollTop=O)},o.setCurrentView=function(g,k){this.callEvent("onBeforeViewChange",[this._mode,this._date,k||this._mode,g||this._date])&&(this.updateView(g,k),this.callEvent("onViewChange",[this._mode,this._date]))},o.render=function(g,k){o.setCurrentView(g,k)},o._render_x_header=function(g,k,b,E,T){T=T||0;var O=document.createElement("div");O.className="dhx_scale_bar",this.templates[this._mode+"_scalex_class"]&&(O.className+=" "+this.templates[this._mode+"_scalex_class"](b));var U=this._cols[g]-1;this._mode=="month"&&g===0&&this.config.left_border&&(O.className+=" dhx_scale_bar_border",k+=1),this.set_xy(O,U,this.xy.scale_height-2,k,T);var $=this.templates[this._mode+"_scale_date"](b,this._mode);O.innerHTML=$,this._waiAria.dayHeaderAttr(O,$),E.appendChild(O)},o._get_columns_num=function(g,k){var b=7;if(!o._table_view){var E=o.date["get_"+o._mode+"_end"];E&&(k=E(g)),b=Math.round((k.valueOf()-g.valueOf())/864e5)}return b},o._get_timeunit_start=function(){return this.date[this._mode+"_start"](new Date(this._date.valueOf()))},o._get_view_end=function(){var g=this._get_timeunit_start(),k=o.date.add(g,1,this._mode);if(!o._table_view){var b=o.date["get_"+o._mode+"_end"];b&&(k=b(g))}return k},o._calc_scale_sizes=function(g,k,b){var E=this.config.rtl,T=g,O=this._get_columns_num(k,b);this._process_ignores(k,O,"day",1);for(var U=O-this._ignores_detected,$=0;$<O;$++)this._ignores[$]?(this._cols[$]=0,U++):this._cols[$]=Math.floor(T/(U-$)),T-=this._cols[$],this._colsS[$]=(this._cols[$-1]||0)+(this._colsS[$-1]||(this._table_view?0:(E?this.xy.scroll_width:this.xy.scale_width)+2));this._colsS.col_length=O,this._colsS[O]=this._cols[O-1]+this._colsS[O-1]||0},o._set_scale_col_size=function(g,k,b){var E=this.config;this.set_xy(g,k-1,E.hour_size_px*(E.last_hour-E.first_hour),b+this.xy.scale_width+1,0)},o._render_scales=function(g,k){var b=new Date(o._min_date),E=new Date(o._max_date),T=this.date.date_part(o._currentDate()),O=parseInt(g.style.width,10),U=new Date(this._min_date),$=this._get_columns_num(b,E);this._calc_scale_sizes(O,b,E);var V=0;g.innerHTML="";for(var Q=0;Q<$;Q++){if(this._ignores[Q]||this._render_x_header(Q,V,U,g),!this._table_view){var ee=document.createElement("div"),G="dhx_scale_holder";U.valueOf()==T.valueOf()&&(G="dhx_scale_holder_now"),ee.setAttribute("data-column-index",Q),this._ignores_detected&&this._ignores[Q]&&(G+=" dhx_scale_ignore"),ee.className=G+" "+this.templates.week_date_class(U,T),this._waiAria.dayColumnAttr(ee,U),this._set_scale_col_size(ee,this._cols[Q],V),k.appendChild(ee),this.callEvent("onScaleAdd",[ee,U])}V+=this._cols[Q],U=this.date.add(U,1,"day"),U=this.date.day_start(U)}},o._getNavDateElement=function(){return this.$container.querySelector(".dhx_cal_date")},o._reset_scale=function(){if(this.templates[this._mode+"_date"]){var g=this._els.dhx_cal_header[0],k=this._els.dhx_cal_data[0],b=this.config;g.innerHTML="",k.innerHTML="";var E,T,O=(b.readonly||!b.drag_resize?" dhx_resize_denied":"")+(b.readonly||!b.drag_move?" dhx_move_denied":"");k.className="dhx_cal_data"+O,this._scales={},this._cols=[],this._colsS={height:0},this._dy_shift=0,this.set_sizes();var U=this._get_timeunit_start(),$=o._get_view_end();E=T=this._table_view?o.date.week_start(U):U,this._min_date=E;var V=this.templates[this._mode+"_date"](U,$,this._mode),Q=this._getNavDateElement();if(Q&&(Q.innerHTML=V,this._waiAria.navBarDateAttr(Q,V)),this._max_date=$,o._render_scales(g,k),this._table_view)this._reset_month_scale(k,U,T);else if(this._reset_hours_scale(k,U,T),b.multi_day){this._els.dhx_multi_day&&(this._els.dhx_multi_day[0].parentNode.removeChild(this._els.dhx_multi_day[0]),this._els.dhx_multi_day=null);var ee=this._els.dhx_cal_navline[0].offsetHeight+this._els.dhx_cal_header[0].offsetHeight+1,G=document.createElement("div");G.className="dhx_multi_day",G.style.visibility="hidden";var re=this._colsS[this._colsS.col_length],q=b.rtl?this.xy.scale_width:this.xy.scroll_width,X=Math.max(re+q-2,0);this.set_xy(G,X,0,0,ee),k.parentNode.insertBefore(G,k);var J=G.cloneNode(!0);J.className="dhx_multi_day_icon",J.style.visibility="hidden",this.set_xy(J,this.xy.scale_width,0,0,ee),G.appendChild(J),this._els.dhx_multi_day=[G,J],o.event(this._els.dhx_multi_day[0],"click",this._click.dhx_cal_data)}}},o._reset_hours_scale=function(g,k,b){var E=document.createElement("div");E.className="dhx_scale_holder";for(var T=new Date(1980,1,1,this.config.first_hour,0,0),O=1*this.config.first_hour;O<this.config.last_hour;O++){var U=document.createElement("div");U.className="dhx_scale_hour",U.style.height=this.config.hour_size_px+"px";var $=this.xy.scale_width;this.config.left_border&&(U.className+=" dhx_scale_hour_border"),U.style.width=$+"px";var V=o.templates.hour_scale(T);U.innerHTML=V,this._waiAria.hourScaleAttr(U,V),E.appendChild(U),T=this.date.add(T,1,"hour")}g.appendChild(E),this.config.scroll_hour&&(g.scrollTop=this.config.hour_size_px*(this.config.scroll_hour-this.config.first_hour))},o._currentDate=function(){return o.config.now_date?new Date(o.config.now_date):new Date},o._reset_ignores=function(){this._ignores={},this._ignores_detected=0},o._process_ignores=function(g,k,b,E,T){this._reset_ignores();var O=o["ignore_"+this._mode];if(O)for(var U=new Date(g),$=0;$<k;$++)O(U)&&(this._ignores_detected+=1,this._ignores[$]=!0,T&&k++),U=o.date.add(U,E,b),o.date[b+"_start"]&&(U=o.date[b+"_start"](U))},o._render_month_scale=function(g,k,b,E){var T=o.date.add(k,1,"month"),O=new Date(b),U=o._currentDate();this.date.date_part(U),this.date.date_part(b),E=E||Math.ceil(Math.round((T.valueOf()-b.valueOf())/864e5)/7);for(var $=[],V=0;V<=7;V++){var Q=(this._cols[V]||0)-1;V===0&&this.config.left_border&&(Q-=1),$[V]=Q+"px"}function ee(xi){var _a=o._colsS.height;return o._colsS.heights[xi+1]!==void 0&&(_a=o._colsS.heights[xi+1]-(o._colsS.heights[xi]||0)),_a}var G=0,re=document.createElement("table");re.setAttribute("cellpadding","0"),re.setAttribute("cellspacing","0");var q=document.createElement("tbody");re.appendChild(q);var X=[];for(V=0;V<E;V++){var J=document.createElement("tr");q.appendChild(J);for(var ye=Math.max(ee(V)-o.xy.month_head_height,0),Se=0;Se<7;Se++){var be=document.createElement("td");J.appendChild(be);var Ie="";b<k?Ie="dhx_before":b>=T?Ie="dhx_after":b.valueOf()==U.valueOf()&&(Ie="dhx_now"),this._ignores_detected&&this._ignores[Se]&&(Ie+=" dhx_scale_ignore"),be.className=Ie+" "+this.templates.month_date_class(b,U),be.setAttribute("data-cell-date",o.templates.format_date(b));var Ce="dhx_month_body",$e="dhx_month_head";if(Se===0&&this.config.left_border&&(Ce+=" dhx_month_body_border",$e+=" dhx_month_head_border"),this._ignores_detected&&this._ignores[Se])be.appendChild(document.createElement("div")),be.appendChild(document.createElement("div"));else{this._waiAria.monthCellAttr(be,b);var qe=document.createElement("div");qe.className=$e,qe.innerHTML=this.templates.month_day(b),be.appendChild(qe);var Xe=document.createElement("div");Xe.className=Ce,Xe.style.height=ye+"px",Xe.style.width=$[Se],be.appendChild(Xe)}X.push(b);var Tt=b.getDate();(b=this.date.add(b,1,"day")).getDate()-Tt>1&&(b=new Date(b.getFullYear(),b.getMonth(),Tt+1,12,0))}o._colsS.heights[V]=G,G+=ee(V)}this._min_date=O,this._max_date=b,g.innerHTML="",g.appendChild(re),this._scales={};var lr=g.getElementsByTagName("div");for(V=0;V<X.length;V++){g=lr[2*V+1];var $r=X[V];this._scales[+$r]=g}for(V=0;V<X.length;V++)$r=X[V],this.callEvent("onScaleAdd",[this._scales[+$r],$r]);return this._max_date},o._reset_month_scale=function(g,k,b,E){var T=o.date.add(k,1,"month"),O=o._currentDate();this.date.date_part(O),this.date.date_part(b),E=E||Math.ceil(Math.round((T.valueOf()-b.valueOf())/864e5)/7);var U=Math.floor(g.clientHeight/E)-this.xy.month_head_height;return this._colsS.height=U+this.xy.month_head_height,this._colsS.heights=[],o._render_month_scale(g,k,b,E)},o.getView=function(g){return g||(g=o.getState().mode),o.matrix&&o.matrix[g]?o.matrix[g]:o._props&&o._props[g]?o._props[g]:null},o.getLabel=function(g,k){for(var b=this.config.lightbox.sections,E=0;E<b.length;E++)if(b[E].map_to==g){for(var T=b[E].options,O=0;O<T.length;O++)if(T[O].key==k)return T[O].label}return""},o.updateCollection=function(g,k){var b=o.serverList(g);return!!b&&(b.splice(0,b.length),b.push.apply(b,k||[]),o.callEvent("onOptionsLoad",[]),o.resetLightbox(),o.hideCover(),!0)},o._lame_clone=function(g,k){var b,E,T;for(k=k||[],b=0;b<k.length;b+=2)if(g===k[b])return k[b+1];if(g&&C(g)=="object"){for(T=Object.create(g),E=[Array,Date,Number,String,Boolean],b=0;b<E.length;b++)g instanceof E[b]&&(T=b?new E[b](g):new E[b]);for(b in k.push(g,T),g)Object.prototype.hasOwnProperty.apply(g,[b])&&(T[b]=o._lame_clone(g[b],k))}return T||g},o._lame_copy=function(g,k){for(var b in k)k.hasOwnProperty(b)&&(g[b]=k[b]);return g},o._get_date_from_pos=function(g){var k=this._min_date.valueOf()+6e4*(g.y*this.config.time_step+24*(this._table_view?0:g.x)*60);return new Date(this._correct_shift(k))},o.getActionData=function(g){var k=this._mouse_coords(g);return{date:this._get_date_from_pos(k),section:k.section}},o._focus=function(g,k){if(g&&g.focus)if(this._mobile)window.setTimeout(function(){g.focus()},10);else try{k&&g.select&&g.offsetWidth&&g.select(),g.focus()}catch{}},o._get_real_event_length=function(g,k,b){var E,T=k-g,O=b._start_correction+b._end_correction||0,U=this["ignore_"+this._mode],$=0;b.render?($=this._get_date_index(b,g),E=this._get_date_index(b,k)):E=Math.round(T/60/60/1e3/24);for(var V=!0;$<E;){var Q=o.date.add(k,-b.x_step,b.x_unit);U&&U(k)&&(!V||V&&U(Q))?T-=k-Q:(V=!1,T-=O),k=Q,E--}return T},o._get_fictional_event_length=function(g,k,b,E){var T=new Date(g),O=E?-1:1;if(b._start_correction||b._end_correction){var U;U=E?60*T.getHours()+T.getMinutes()-60*(b.first_hour||0):60*(b.last_hour||0)-(60*T.getHours()+T.getMinutes());var $=60*(b.last_hour-b.first_hour),V=Math.ceil((k/6e4-U)/$);V<0&&(V=0),k+=V*(1440-$)*60*1e3}var Q,ee=new Date(1*g+k*O),G=this["ignore_"+this._mode],re=0;for(b.render?(re=this._get_date_index(b,T),Q=this._get_date_index(b,ee)):Q=Math.round(k/60/60/1e3/24);re*O<=Q*O;){var q=o.date.add(T,b.x_step*O,b.x_unit);G&&G(T)&&(k+=(q-T)*O,Q+=O),T=q,re+=O}return k},o._get_section_view=function(){return this.getView()},o._get_section_property=function(){return this.matrix&&this.matrix[this._mode]?this.matrix[this._mode].y_property:this._props&&this._props[this._mode]?this._props[this._mode].map_to:null},o._is_initialized=function(){var g=this.getState();return this._obj&&g.date&&g.mode},o._is_lightbox_open=function(){var g=this.getState();return g.lightbox_id!==null&&g.lightbox_id!==void 0}}(w),function(o){(function(){var c=new RegExp(`<(?:.|
)*?>`,"gm"),u=new RegExp(" +","gm");function f(k){return(k+"").replace(c," ").replace(u," ")}var y=new RegExp("'","gm");function x(k){return(k+"").replace(y,"&#39;")}for(var g in o._waiAria={getAttributeString:function(k){var b=[" "];for(var E in k)if(typeof k[E]!="function"&&L(k[E])!="object"){var T=x(f(k[E]));b.push(E+"='"+T+"'")}return b.push(" "),b.join(" ")},setAttributes:function(k,b){for(var E in b)k.setAttribute(E,f(b[E]));return k},labelAttr:function(k,b){return this.setAttributes(k,{"aria-label":b})},label:function(k){return o._waiAria.getAttributeString({"aria-label":k})},hourScaleAttr:function(k,b){this.labelAttr(k,b)},monthCellAttr:function(k,b){this.labelAttr(k,o.templates.day_date(b))},navBarDateAttr:function(k,b){this.labelAttr(k,b)},dayHeaderAttr:function(k,b){this.labelAttr(k,b)},dayColumnAttr:function(k,b){this.dayHeaderAttr(k,o.templates.day_date(b))},headerButtonsAttributes:function(k,b){return this.setAttributes(k,{role:"button","aria-label":b})},headerToggleState:function(k,b){return this.setAttributes(k,{"aria-pressed":b?"true":"false"})},getHeaderCellAttr:function(k){return o._waiAria.getAttributeString({"aria-label":k})},eventAttr:function(k,b){this._eventCommonAttr(k,b)},_eventCommonAttr:function(k,b){b.setAttribute("aria-label",f(o.templates.event_text(k.start_date,k.end_date,k))),o.config.readonly&&b.setAttribute("aria-readonly",!0),k.$dataprocessor_class&&b.setAttribute("aria-busy",!0),b.setAttribute("aria-selected",o.getState().select_id==k.id?"true":"false")},setEventBarAttr:function(k,b){this._eventCommonAttr(k,b)},_getAttributes:function(k,b){var E={setAttribute:function(T,O){this[T]=O}};return k.apply(this,[b,E]),E},eventBarAttrString:function(k){return this.getAttributeString(this._getAttributes(this.setEventBarAttr,k))},agendaHeadAttrString:function(){return this.getAttributeString({role:"row"})},agendaHeadDateString:function(k){return this.getAttributeString({role:"columnheader","aria-label":k})},agendaHeadDescriptionString:function(k){return this.agendaHeadDateString(k)},agendaDataAttrString:function(){return this.getAttributeString({role:"grid"})},agendaEventAttrString:function(k){var b=this._getAttributes(this._eventCommonAttr,k);return b.role="row",this.getAttributeString(b)},agendaDetailsBtnString:function(){return this.getAttributeString({role:"button","aria-label":o.locale.labels.icon_details})},gridAttrString:function(){return this.getAttributeString({role:"grid"})},gridRowAttrString:function(k){return this.agendaEventAttrString(k)},gridCellAttrString:function(k,b,E){return this.getAttributeString({role:"gridcell","aria-label":[b.label===void 0?b.id:b.label,": ",E]})},mapAttrString:function(){return this.gridAttrString()},mapRowAttrString:function(k){return this.gridRowAttrString(k)},mapDetailsBtnString:function(){return this.agendaDetailsBtnString()},minicalHeader:function(k,b){this.setAttributes(k,{id:b+"","aria-live":"assertice","aria-atomic":"true"})},minicalGrid:function(k,b){this.setAttributes(k,{"aria-labelledby":b+"",role:"grid"})},minicalRow:function(k){this.setAttributes(k,{role:"row"})},minicalDayCell:function(k,b){var E=b.valueOf()<o._max_date.valueOf()&&b.valueOf()>=o._min_date.valueOf();this.setAttributes(k,{role:"gridcell","aria-label":o.templates.day_date(b),"aria-selected":E?"true":"false"})},minicalHeadCell:function(k){this.setAttributes(k,{role:"columnheader"})},weekAgendaDayCell:function(k,b){var E=k.querySelector(".dhx_wa_scale_bar"),T=k.querySelector(".dhx_wa_day_data"),O=o.uid()+"";this.setAttributes(E,{id:O}),this.setAttributes(T,{"aria-labelledby":O})},weekAgendaEvent:function(k,b){this.eventAttr(b,k)},lightboxHiddenAttr:function(k){k.setAttribute("aria-hidden","true")},lightboxVisibleAttr:function(k){k.setAttribute("aria-hidden","false")},lightboxSectionButtonAttrString:function(k){return this.getAttributeString({role:"button","aria-label":k,tabindex:"0"})},yearHeader:function(k,b){this.setAttributes(k,{id:b+""})},yearGrid:function(k,b){this.minicalGrid(k,b)},yearHeadCell:function(k){return this.minicalHeadCell(k)},yearRow:function(k){return this.minicalRow(k)},yearDayCell:function(k){this.setAttributes(k,{role:"gridcell"})},lightboxAttr:function(k){k.setAttribute("role","dialog"),k.setAttribute("aria-hidden","true"),k.firstChild.setAttribute("role","heading")},lightboxButtonAttrString:function(k){return this.getAttributeString({role:"button","aria-label":o.locale.labels[k],tabindex:"0"})},eventMenuAttrString:function(k){return this.getAttributeString({role:"button","aria-label":o.locale.labels[k]})},lightboxHeader:function(k,b){k.setAttribute("aria-label",b)},lightboxSelectAttrString:function(k){var b="";switch(k){case"%Y":b=o.locale.labels.year;break;case"%m":b=o.locale.labels.month;break;case"%d":b=o.locale.labels.day;break;case"%H:%i":b=o.locale.labels.hour+" "+o.locale.labels.minute}return o._waiAria.getAttributeString({"aria-label":b})},messageButtonAttrString:function(k){return"tabindex='0' role='button' aria-label='"+k+"'"},messageInfoAttr:function(k){k.setAttribute("role","alert")},messageModalAttr:function(k,b){k.setAttribute("role","dialog"),b&&k.setAttribute("aria-labelledby",b)},quickInfoAttr:function(k){k.setAttribute("role","dialog")},quickInfoHeaderAttrString:function(){return" role='heading' "},quickInfoHeader:function(k,b){k.setAttribute("aria-label",b)},quickInfoButtonAttrString:function(k){return o._waiAria.getAttributeString({role:"button","aria-label":k,tabindex:"0"})},tooltipAttr:function(k){k.setAttribute("role","tooltip")},tooltipVisibleAttr:function(k){k.setAttribute("aria-hidden","false")},tooltipHiddenAttr:function(k){k.setAttribute("aria-hidden","true")}},o._waiAria)o._waiAria[g]=function(k){return function(){return o.config.wai_aria_attributes?k.apply(this,arguments):" "}}(o._waiAria[g])})()}(w),w.utils=z,w.$domHelpers=xe,w.utils.dom=xe,w.uid=z.uid,w.mixin=z.mixin,w.defined=z.defined,w.assert=function(o){return function(c,u){c||o.config.show_errors&&o.callEvent("onError",[u])!==!1&&(o.message?o.message({type:"error",text:u,expire:-1}):console.log(u))}}(w),w.copy=z.copy,w._getFocusableNodes=xe.getFocusableNodes,w._getClassName=xe.getClassName,w._locate_css=xe.locateCss;var d=we(w);w.utils.mixin(w,d),w.env=w.$env=rt,w.Promise=fe,function(o){o.destructor=function(){for(var c in o.callEvent("onDestroy",[]),this.clearAll(),this.$container&&(this.$container.innerHTML=""),this._eventRemoveAll&&this._eventRemoveAll(),this.resetLightbox&&this.resetLightbox(),this._dp&&this._dp.destructor&&this._dp.destructor(),this.detachAllEvents(),this)c.indexOf("$")===0&&delete this[c];o.$destroyed=!0}}(w),function(o){function c(u,f){var y={method:u};if(f.length===0)throw new Error("Arguments list of query is wrong.");if(f.length===1)return typeof f[0]=="string"?(y.url=f[0],y.async=!0):(y.url=f[0].url,y.async=f[0].async||!0,y.callback=f[0].callback,y.headers=f[0].headers),f[0].data?typeof f[0].data!="string"?y.data=Ne()(f[0].data):y.data=f[0].data:y.data="",y;switch(y.url=f[0],u){case"GET":case"DELETE":y.callback=f[1],y.headers=f[2];break;case"POST":case"PUT":f[1]?typeof f[1]!="string"?y.data=Ne()(f[1]):y.data=f[1]:y.data="",y.callback=f[2],y.headers=f[3]}return y}o.Promise=fe,o.ajax={cache:!0,method:"get",serializeRequestParams:Ne.a,parse:function(u){return typeof u!="string"?u:(u=u.replace(/^[\s]+/,""),typeof DOMParser>"u"||o.$env.isIE?window.ActiveXObject!==void 0&&((f=new window.ActiveXObject("Microsoft.XMLDOM")).async="false",f.loadXML(u)):f=new DOMParser().parseFromString(u,"text/xml"),f);var f},xmltop:function(u,f,y){if(f.status===void 0||f.status<400){var x=f.responseXML?f.responseXML||f:this.parse(f.responseText||f);if(x&&x.documentElement!==null&&!x.getElementsByTagName("parsererror").length)return x.getElementsByTagName(u)[0]}return y!==-1&&o.callEvent("onLoadXMLError",["Incorrect XML",arguments[1],y]),document.createElement("DIV")},xpath:function(u,f){if(f.nodeName||(f=f.responseXML||f),o.$env.isIE)return f.selectNodes(u)||[];for(var y,x=[],g=(f.ownerDocument||f).evaluate(u,f,null,XPathResult.ANY_TYPE,null);y=g.iterateNext();)x.push(y);return x},query:function(u){return this._call(u.method||"GET",u.url,u.data||"",u.async||!0,u.callback,u.headers)},get:function(u,f,y){var x=c("GET",arguments);return this.query(x)},getSync:function(u,f){var y=c("GET",arguments);return y.async=!1,this.query(y)},put:function(u,f,y,x){var g=c("PUT",arguments);return this.query(g)},del:function(u,f,y){var x=c("DELETE",arguments);return this.query(x)},post:function(u,f,y,x){(arguments.length==1||arguments.length==2&&typeof f=="function")&&(f="");var g=c("POST",arguments);return this.query(g)},postSync:function(u,f,y){f=f===null?"":String(f);var x=c("POST",arguments);return x.async=!1,this.query(x)},_call:function(u,f,y,x,g,k){return new o.Promise(function(b,E){var T=(typeof XMLHttpRequest>"u"?"undefined":Ve(XMLHttpRequest))===void 0||o.$env.isIE?new window.ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest,O=navigator.userAgent.match(/AppleWebKit/)!==null&&navigator.userAgent.match(/Qt/)!==null&&navigator.userAgent.match(/Safari/)!==null;if(x&&T.addEventListener("readystatechange",function(){if(T.readyState==4||O&&T.readyState==3){if((T.status!=200||T.responseText==="")&&!o.callEvent("onAjaxError",[T]))return;setTimeout(function(){typeof g=="function"&&g.apply(window,[{xmlDoc:T,filePath:f}]),b(T),typeof g=="function"&&(g=null,T=null)},0)}}),u!="GET"||this.cache||(f+=(f.indexOf("?")>=0?"&":"?")+"dhxr"+new Date().getTime()+"=1"),T.open(u,f,x),k)for(var U in k)T.setRequestHeader(U,k[U]);else u.toUpperCase()=="POST"||u=="PUT"||u=="DELETE"?T.setRequestHeader("Content-Type","application/x-www-form-urlencoded"):u=="GET"&&(y=null);if(T.setRequestHeader("X-Requested-With","XMLHttpRequest"),T.send(y),!x)return{xmlDoc:T,filePath:f}}.bind(this))},urlSeparator:function(u){return u.indexOf("?")!=-1?"&":"?"}},o.$ajax=o.ajax}(w),Ye(w),function(o){o.config={default_date:"%j %M %Y",month_date:"%F %Y",load_date:"%Y-%m-%d",week_date:"%l",day_date:"%D, %F %j",hour_date:"%H:%i",month_day:"%d",date_format:"%Y-%m-%d %H:%i",api_date:"%d-%m-%Y %H:%i",parse_exact_format:!1,preserve_length:!0,time_step:5,start_on_monday:!0,first_hour:0,last_hour:24,readonly:!1,drag_resize:!0,drag_move:!0,drag_create:!0,drag_event_body:!0,dblclick_create:!0,edit_on_create:!0,details_on_create:!1,header:null,resize_month_events:!1,resize_month_timed:!1,responsive_lightbox:!1,rtl:!1,cascade_event_display:!1,cascade_event_count:4,cascade_event_margin:30,multi_day:!0,multi_day_height_limit:0,drag_lightbox:!0,preserve_scroll:!0,select:!0,server_utc:!1,touch:!0,touch_tip:!0,touch_drag:500,touch_swipe_dates:!1,quick_info_detached:!0,positive_closing:!1,drag_highlight:!0,limit_drag_out:!1,icons_edit:["icon_save","icon_cancel"],icons_select:["icon_details","icon_edit","icon_delete"],buttons_left:["dhx_save_btn","dhx_cancel_btn"],buttons_right:["dhx_delete_btn"],lightbox:{sections:[{name:"description",map_to:"text",type:"textarea",focus:!0},{name:"time",height:72,type:"time",map_to:"auto"}]},highlight_displayed_event:!0,left_border:!1,ajax_error:"alert",delay_render:0,timeline_swap_resize:!0,wai_aria_attributes:!0,wai_aria_application_role:!0,csp:"auto",event_attribute:"data-event-id",show_errors:!0},o.config.buttons_left.$initial=o.config.buttons_left.join(),o.config.buttons_right.$initial=o.config.buttons_right.join(),o._helpers={parseDate:function(c){return(o.templates.xml_date||o.templates.parse_date)(c)},formatDate:function(c){return(o.templates.xml_format||o.templates.format_date)(c)}},o.templates={},o.init_templates=function(){var c=o.locale.labels;c.dhx_save_btn=c.icon_save,c.dhx_cancel_btn=c.icon_cancel,c.dhx_delete_btn=c.icon_delete;var u=o.date.date_to_str,f=o.config;(function(y,x){for(var g in x)y[g]||(y[g]=x[g])})(o.templates,{day_date:u(f.default_date),month_date:u(f.month_date),week_date:function(y,x){return f.rtl?o.templates.day_date(o.date.add(x,-1,"day"))+" &ndash; "+o.templates.day_date(y):o.templates.day_date(y)+" &ndash; "+o.templates.day_date(o.date.add(x,-1,"day"))},day_scale_date:u(f.default_date),month_scale_date:u(f.week_date),week_scale_date:u(f.day_date),hour_scale:u(f.hour_date),time_picker:u(f.hour_date),event_date:u(f.hour_date),month_day:u(f.month_day),load_format:u(f.load_date),format_date:u(f.date_format,f.server_utc),parse_date:o.date.str_to_date(f.date_format,f.server_utc),api_date:o.date.str_to_date(f.api_date,!1,!1),event_header:function(y,x,g){return o.templates.event_date(y)+" - "+o.templates.event_date(x)},event_text:function(y,x,g){return g.text},event_class:function(y,x,g){return""},month_date_class:function(y){return""},week_date_class:function(y){return""},event_bar_date:function(y,x,g){return o.templates.event_date(y)+" "},event_bar_text:function(y,x,g){return g.text},month_events_link:function(y,x){return"<a>View more("+x+" events)</a>"},drag_marker_class:function(y,x,g){return""},drag_marker_content:function(y,x,g){return""},tooltip_date_format:o.date.date_to_str("%Y-%m-%d %H:%i"),tooltip_text:function(y,x,g){return"<b>Event:</b> "+g.text+"<br/><b>Start date:</b> "+o.templates.tooltip_date_format(y)+"<br/><b>End date:</b> "+o.templates.tooltip_date_format(x)}}),this.callEvent("onTemplatesReady",[])}}(w),function(o){o._events={},o.clearAll=function(){this._events={},this._loaded={},this._edit_id=null,this._select_id=null,this._drag_id=null,this._drag_mode=null,this._drag_pos=null,this._new_event=null,this.clear_view(),this.callEvent("onClearAll",[])},o.addEvent=function(c,u,f,y,x){if(!arguments.length)return this.addEventNow();var g=c;arguments.length!=1&&((g=x||{}).start_date=c,g.end_date=u,g.text=f,g.id=y),g.id=g.id||o.uid(),g.text=g.text||"",typeof g.start_date=="string"&&(g.start_date=this.templates.api_date(g.start_date)),typeof g.end_date=="string"&&(g.end_date=this.templates.api_date(g.end_date));var k=6e4*(this.config.event_duration||this.config.time_step);g.start_date.valueOf()==g.end_date.valueOf()&&g.end_date.setTime(g.end_date.valueOf()+k),g.start_date.setMilliseconds(0),g.end_date.setMilliseconds(0),g._timed=this.isOneDayEvent(g);var b=!this._events[g.id];return this._events[g.id]=g,this.event_updated(g),this._loading||this.callEvent(b?"onEventAdded":"onEventChanged",[g.id,g]),g.id},o.deleteEvent=function(c,u){var f=this._events[c];(u||this.callEvent("onBeforeEventDelete",[c,f])&&this.callEvent("onConfirmedBeforeEventDelete",[c,f]))&&(f&&(o.getState().select_id==c&&o.unselect(),delete this._events[c],this.event_updated(f),this._drag_id==f.id&&(this._drag_id=null,this._drag_mode=null,this._drag_pos=null)),this.callEvent("onEventDeleted",[c,f]))},o.getEvent=function(c){return this._events[c]},o.setEvent=function(c,u){u.id||(u.id=c),this._events[c]=u},o.for_rendered=function(c,u){for(var f=this._rendered.length-1;f>=0;f--)this._rendered[f].getAttribute(this.config.event_attribute)==c&&u(this._rendered[f],f)},o.changeEventId=function(c,u){if(c!=u){var f=this._events[c];f&&(f.id=u,this._events[u]=f,delete this._events[c]),this.for_rendered(c,function(y){y.setAttribute("event_id",u),y.setAttribute(o.config.event_attribute,u)}),this._select_id==c&&(this._select_id=u),this._edit_id==c&&(this._edit_id=u),this.callEvent("onEventIdChange",[c,u])}},function(){for(var c=["text","Text","start_date","StartDate","end_date","EndDate"],u=function(x){return function(g){return o.getEvent(g)[x]}},f=function(x){return function(g,k){var b=o.getEvent(g);b[x]=k,b._changed=!0,b._timed=this.isOneDayEvent(b),o.event_updated(b,!0)}},y=0;y<c.length;y+=2)o["getEvent"+c[y+1]]=u(c[y]),o["setEvent"+c[y+1]]=f(c[y])}(),o.event_updated=function(c,u){this.is_visible_events(c)?this.render_view_data():this.clear_event(c.id)},o.is_visible_events=function(c){if(!this._min_date||!this._max_date)return!1;if(c.start_date.valueOf()<this._max_date.valueOf()&&this._min_date.valueOf()<c.end_date.valueOf()){var u=c.start_date.getHours(),f=c.end_date.getHours()+c.end_date.getMinutes()/60,y=this.config.last_hour,x=this.config.first_hour;return!(!this._table_view&&(f>y||f<=x)&&(u>=y||u<x)&&!((c.end_date.valueOf()-c.start_date.valueOf())/36e5>24-(this.config.last_hour-this.config.first_hour)||u<y&&f>x))}return!1},o.isOneDayEvent=function(c){var u=new Date(c.end_date.valueOf()-1);return c.start_date.getFullYear()===u.getFullYear()&&c.start_date.getMonth()===u.getMonth()&&c.start_date.getDate()===u.getDate()&&c.end_date.valueOf()-c.start_date.valueOf()<864e5},o.get_visible_events=function(c){var u=[];for(var f in this._events)this.is_visible_events(this._events[f])&&(c&&!this._events[f]._timed||this.filter_event(f,this._events[f])&&u.push(this._events[f]));return u},o.filter_event=function(c,u){var f=this["filter_"+this._mode];return!f||f(c,u)},o._is_main_area_event=function(c){return!!c._timed},o.render_view_data=function(c,u){var f=!1;if(!c){if(f=!0,this._not_render)return void(this._render_wait=!0);this._render_wait=!1,this.clear_view(),c=this.get_visible_events(!(this._table_view||this.config.multi_day))}for(var y=0,x=c.length;y<x;y++)this._recalculate_timed(c[y]);if(this.config.multi_day&&!this._table_view){var g=[],k=[];for(y=0;y<c.length;y++)this._is_main_area_event(c[y])?g.push(c[y]):k.push(c[y]);if(!this._els.dhx_multi_day){var b=o._commonErrorMessages.unknownView(this._mode);throw new Error(b)}this._rendered_location=this._els.dhx_multi_day[0],this._table_view=!0,this.render_data(k,u),this._table_view=!1,this._rendered_location=this._els.dhx_cal_data[0],this._table_view=!1,this.render_data(g,u)}else{var E=document.createDocumentFragment(),T=this._els.dhx_cal_data[0];this._rendered_location=E,this.render_data(c,u),T.appendChild(E),this._rendered_location=T}f&&this.callEvent("onDataRender",[])},o._view_month_day=function(c){var u=o.getActionData(c).date;o.callEvent("onViewMoreClick",[u])&&o.setCurrentView(u,"day")},o._render_month_link=function(c){for(var u=this._rendered_location,f=this._lame_clone(c),y=c._sday;y<c._eday;y++){f._sday=y,f._eday=y+1;var x=o.date,g=o._min_date;g=x.add(g,f._sweek,"week"),g=x.add(g,f._sday,"day");var k=o.getEvents(g,x.add(g,1,"day")).length,b=this._get_event_bar_pos(f),E=b.x2-b.x,T=document.createElement("div");o.event(T,"click",function(O){o._view_month_day(O)}),T.className="dhx_month_link",T.style.top=b.y+"px",T.style.left=b.x+"px",T.style.width=E+"px",T.innerHTML=o.templates.month_events_link(g,k),this._rendered.push(T),u.appendChild(T)}},o._recalculate_timed=function(c){var u;c&&(u=Ht(c)!="object"?this._events[c]:c)&&(u._timed=o.isOneDayEvent(u))},o.attachEvent("onEventChanged",o._recalculate_timed),o.attachEvent("onEventAdded",o._recalculate_timed),o.render_data=function(c,u){c=this._pre_render_events(c,u);for(var f={},y=0;y<c.length;y++)if(this._table_view)if(o._mode!="month")this.render_event_bar(c[y]);else{var x=o.config.max_month_events;x!==1*x||c[y]._sorder<x?this.render_event_bar(c[y]):x!==void 0&&c[y]._sorder==x&&o._render_month_link(c[y])}else{var g=c[y],k=o.locate_holder(g._sday);if(!k)continue;f[g._sday]||(f[g._sday]={real:k,buffer:document.createDocumentFragment(),width:k.clientWidth});var b=f[g._sday];this.render_event(g,b.buffer,b.width)}for(var y in f)(b=f[y]).real&&b.buffer&&b.real.appendChild(b.buffer)},o._get_first_visible_cell=function(c){for(var u=0;u<c.length;u++)if((c[u].className||"").indexOf("dhx_scale_ignore")==-1)return c[u];return c[0]},o._pre_render_events=function(c,u){var f=this.xy.bar_height,y=this._colsS.heights,x=this._colsS.heights=[0,0,0,0,0,0,0],g=this._els.dhx_cal_data[0];if(c=this._table_view?this._pre_render_events_table(c,u):this._pre_render_events_line(c,u),this._table_view)if(u)this._colsS.heights=y;else{var k=g.firstChild;if(k.rows){for(var b=0;b<k.rows.length;b++){x[b]++;var E=k.rows[b].cells,T=this._colsS.height-this.xy.month_head_height;if(x[b]*f>T){var O=T;1*this.config.max_month_events!==this.config.max_month_events||x[b]<=this.config.max_month_events?O=x[b]*f:(this.config.max_month_events+1)*f>T&&(O=(this.config.max_month_events+1)*f);for(var U=0;U<E.length;U++)E[U].childNodes[1].style.height=O+"px"}x[b]=(x[b-1]||0)+o._get_first_visible_cell(E).offsetHeight}if(x.unshift(0),k.parentNode.offsetHeight<k.parentNode.scrollHeight&&!o._colsS.scroll_fix&&o.xy.scroll_width){var $=o._colsS,V=$[$.col_length],Q=$.heights.slice();V-=o.xy.scroll_width||0,this._calc_scale_sizes(V,this._min_date,this._max_date),o._colsS.heights=Q,this.set_xy(this._els.dhx_cal_header[0],V,this.xy.scale_height),o._render_scales(this._els.dhx_cal_header[0]),o._render_month_scale(this._els.dhx_cal_data[0],this._get_timeunit_start(),this._min_date),$.scroll_fix=!0}}else if(c.length||this._els.dhx_multi_day[0].style.visibility!="visible"||(x[0]=-1),c.length||x[0]==-1){var ee=(x[0]+1)*f+1,G=ee,re=ee+"px";this.config.multi_day_height_limit&&(re=(G=Math.min(ee,this.config.multi_day_height_limit))+"px"),g.style.top=this._els.dhx_cal_navline[0].offsetHeight+this._els.dhx_cal_header[0].offsetHeight+G+"px",g.style.height=this._obj.offsetHeight-parseInt(g.style.top,10)-(this.xy.margin_top||0)+"px";var q=this._els.dhx_multi_day[0];q.style.height=re,q.style.visibility=x[0]==-1?"hidden":"visible";var X=this._els.dhx_multi_day[1];X.style.height=re,X.style.visibility=x[0]==-1?"hidden":"visible",X.className=x[0]?"dhx_multi_day_icon":"dhx_multi_day_icon_small",this._dy_shift=(x[0]+1)*f,this.config.multi_day_height_limit&&(this._dy_shift=Math.min(this.config.multi_day_height_limit,this._dy_shift)),x[0]=0,G!=ee&&(g.style.top=parseInt(g.style.top)+2+"px",q.style.overflowY="auto",X.style.position="fixed",X.style.top="",X.style.left="")}}return c},o._get_event_sday=function(c){var u=this.date.day_start(new Date(c.start_date));return Math.round((u.valueOf()-this._min_date.valueOf())/864e5)},o._get_event_mapped_end_date=function(c){var u=c.end_date;if(this.config.separate_short_events){var f=(c.end_date-c.start_date)/6e4;f<this._min_mapped_duration&&(u=this.date.add(u,this._min_mapped_duration-f,"minute"))}return u},o._pre_render_events_line=function(c,u){c.sort(function(q,X){return q.start_date.valueOf()==X.start_date.valueOf()?q.id>X.id?1:-1:q.start_date>X.start_date?1:-1});var f=[],y=[];this._min_mapped_duration=Math.ceil(60*this.xy.min_event_height/this.config.hour_size_px);for(var x=0;x<c.length;x++){var g=c[x],k=g.start_date,b=g.end_date,E=k.getHours(),T=b.getHours();if(g._sday=this._get_event_sday(g),this._ignores[g._sday])c.splice(x,1),x--;else{if(f[g._sday]||(f[g._sday]=[]),!u){g._inner=!1;for(var O=f[g._sday];O.length;){var U=O[O.length-1];if(!(this._get_event_mapped_end_date(U).valueOf()<=g.start_date.valueOf()))break;O.splice(O.length-1,1)}for(var $=O.length,V=!1,Q=0;Q<O.length;Q++)if(U=O[Q],this._get_event_mapped_end_date(U).valueOf()<=g.start_date.valueOf()){V=!0,g._sorder=U._sorder,$=Q,g._inner=!0;break}if(O.length&&(O[O.length-1]._inner=!0),!V)if(O.length)if(O.length<=O[O.length-1]._sorder){if(O[O.length-1]._sorder)for(Q=0;Q<O.length;Q++){for(var ee=!1,G=0;G<O.length;G++)if(O[G]._sorder==Q){ee=!0;break}if(!ee){g._sorder=Q;break}}else g._sorder=0;g._inner=!0}else{var re=O[0]._sorder;for(Q=1;Q<O.length;Q++)O[Q]._sorder>re&&(re=O[Q]._sorder);g._sorder=re+1,g._inner=!1}else g._sorder=0;O.splice($,$==O.length?0:1,g),O.length>(O.max_count||0)?(O.max_count=O.length,g._count=O.length):g._count=g._count?g._count:1}(E<this.config.first_hour||T>=this.config.last_hour)&&(y.push(g),c[x]=g=this._copy_event(g),E<this.config.first_hour&&(g.start_date.setHours(this.config.first_hour),g.start_date.setMinutes(0)),T>=this.config.last_hour&&(g.end_date.setMinutes(0),g.end_date.setHours(this.config.last_hour)),g.start_date>g.end_date||E==this.config.last_hour)&&(c.splice(x,1),x--)}}if(!u){for(x=0;x<c.length;x++)c[x]._count=f[c[x]._sday].max_count;for(x=0;x<y.length;x++)y[x]._count=f[y[x]._sday].max_count}return c},o._time_order=function(c){c.sort(function(u,f){return u.start_date.valueOf()==f.start_date.valueOf()?u._timed&&!f._timed?1:!u._timed&&f._timed?-1:u.id>f.id?1:-1:u.start_date>f.start_date?1:-1})},o._is_any_multiday_cell_visible=function(c,u,f){var y=this._cols.length,x=!1,g=c,k=!0,b=new Date(u);for(o.date.day_start(new Date(u)).valueOf()!=u.valueOf()&&(b=o.date.day_start(b),b=o.date.add(b,1,"day"));g<b;){k=!1;var E=this.locate_holder_day(g,!1,f)%y;if(!this._ignores[E]){x=!0;break}g=o.date.add(g,1,"day")}return k||x},o._pre_render_events_table=function(c,u){this._time_order(c);for(var f,y=[],x=[[],[],[],[],[],[],[]],g=this._colsS.heights,k=this._cols.length,b={},E=0;E<c.length;E++){var T=c[E],O=T.id;b[O]||(b[O]={first_chunk:!0,last_chunk:!0});var U=b[O],$=f||T.start_date,V=T.end_date;$<this._min_date&&(U.first_chunk=!1,$=this._min_date),V>this._max_date&&(U.last_chunk=!1,V=this._max_date);var Q=this.locate_holder_day($,!1,T);if(T._sday=Q%k,!this._ignores[T._sday]||!T._timed){var ee=this.locate_holder_day(V,!0,T)||k;if(T._eday=ee%k||k,T._length=ee-Q,T._sweek=Math.floor((this._correct_shift($.valueOf(),1)-this._min_date.valueOf())/(864e5*k)),o._is_any_multiday_cell_visible($,V,T)){var G,re=x[T._sweek];for(G=0;G<re.length&&!(re[G]._eday<=T._sday);G++);if(T._sorder&&u||(T._sorder=G),T._sday+T._length<=k)f=null,y.push(T),re[G]=T,g[T._sweek]=re.length-1,T._first_chunk=U.first_chunk,T._last_chunk=U.last_chunk;else{var q=this._copy_event(T);q.id=T.id,q._length=k-T._sday,q._eday=k,q._sday=T._sday,q._sweek=T._sweek,q._sorder=T._sorder,q.end_date=this.date.add($,q._length,"day"),q._first_chunk=U.first_chunk,U.first_chunk&&(U.first_chunk=!1),y.push(q),re[G]=q,f=q.end_date,g[T._sweek]=re.length-1,E--}}}}return y},o._copy_dummy=function(){var c=new Date(this.start_date),u=new Date(this.end_date);this.start_date=c,this.end_date=u},o._copy_event=function(c){return this._copy_dummy.prototype=c,new this._copy_dummy},o._rendered=[],o.clear_view=function(){for(var c=0;c<this._rendered.length;c++){var u=this._rendered[c];u.parentNode&&u.parentNode.removeChild(u)}this._rendered=[]},o.updateEvent=function(c){var u=this.getEvent(c);this.clear_event(c),u&&this.is_visible_events(u)&&this.filter_event(c,u)&&(this._table_view||this.config.multi_day||u._timed)&&(this.config.update_render?this.render_view_data():this.getState().mode!="month"||this.getState().drag_id||this.isOneDayEvent(u)?this.render_view_data([u],!0):this.render_view_data())},o.clear_event=function(c){this.for_rendered(c,function(u,f){u.parentNode&&u.parentNode.removeChild(u),o._rendered.splice(f,1)})},o._y_from_date=function(c){var u=60*c.getHours()+c.getMinutes();return Math.round((60*u*1e3-60*this.config.first_hour*60*1e3)*this.config.hour_size_px/36e5)%(24*this.config.hour_size_px)},o._calc_event_y=function(c,u){u=u||0;var f=60*c.start_date.getHours()+c.start_date.getMinutes(),y=60*c.end_date.getHours()+c.end_date.getMinutes()||60*o.config.last_hour;return{top:this._y_from_date(c.start_date),height:Math.max(u,(y-f)*this.config.hour_size_px/60)}},o.render_event=function(c,u,f){var y=o.xy.menu_width,x=this.config.use_select_menu_space?0:y;if(!(c._sday<0)){var g=o.locate_holder(c._sday);if(g){u=u||g;var k=this._calc_event_y(c,o.xy.min_event_height),b=k.top,E=k.height,T=c._count||1,O=c._sorder||0;f=f||g.clientWidth;var U=Math.floor((f-x)/T),$=O*U+1;if(c._inner||(U*=T-O),this.config.cascade_event_display){var V=this.config.cascade_event_count,Q=this.config.cascade_event_margin;$=O%V*Q;var ee=c._inner?(T-O-1)%V*Q/2:0;U=Math.floor(f-x-$-ee)}var G=this._render_v_bar(c,x+$,b,U,E,c._text_style,o.templates.event_header(c.start_date,c.end_date,c),o.templates.event_text(c.start_date,c.end_date,c));if(this._waiAria.eventAttr(c,G),this._rendered.push(G),u.appendChild(G),$=$+parseInt(this.config.rtl?g.style.right:g.style.left,10)+x,this._edit_id==c.id){G.style.zIndex=1,U=Math.max(U-4,o.xy.editor_width),(G=document.createElement("div")).setAttribute("event_id",c.id),G.setAttribute(this.config.event_attribute,c.id),this._waiAria.eventAttr(c,G),G.className="dhx_cal_event dhx_cal_editor",this.config.rtl&&$++,this.set_xy(G,U,E-20,$,b+(o.xy.event_header_height||14)),c.color&&(G.style.backgroundColor=c.color);var re=o.templates.event_class(c.start_date,c.end_date,c);re&&(G.className+=" "+re);var q=document.createElement("div");this.set_xy(q,U-6,E-26),q.style.cssText+=";margin:2px 2px 2px 2px;overflow:hidden;",G.appendChild(q),this._els.dhx_cal_data[0].appendChild(G),this._rendered.push(G),q.innerHTML="<textarea class='dhx_cal_editor'>"+c.text+"</textarea>",this._editor=q.querySelector("textarea"),this._quirks7&&(this._editor.style.height=E-12+"px"),o.event(this._editor,"keydown",function($e){if($e.shiftKey)return!0;var qe=$e.keyCode;qe==o.keys.edit_save&&o.editStop(!0),qe==o.keys.edit_cancel&&o.editStop(!1),qe!=o.keys.edit_save&&qe!=o.keys.edit_cancel||$e.preventDefault&&$e.preventDefault()}),o.event(this._editor,"selectstart",function($e){return $e.cancelBubble=!0,!0}),o._focus(this._editor,!0),this._els.dhx_cal_data[0].scrollLeft=0}if(this.xy.menu_width!==0&&this._select_id==c.id){this.config.cascade_event_display&&this._drag_mode&&(G.style.zIndex=1);for(var X,J=this.config["icons_"+(this._edit_id==c.id?"edit":"select")],ye="",Se=c.color?"background-color: "+c.color+";":"",be=c.textColor?"color: "+c.textColor+";":"",Ie=0;Ie<J.length;Ie++)X=this._waiAria.eventMenuAttrString(J[Ie]),ye+="<div class='dhx_menu_icon "+J[Ie]+"' style='"+Se+be+"' title='"+this.locale.labels[J[Ie]]+"'"+X+"></div>";var Ce=this._render_v_bar(c,$-y+1,b,y,20*J.length+26-2,"","<div style='"+Se+be+"' class='dhx_menu_head'></div>",ye,!0);Ce.style.left=$-y+1,this._els.dhx_cal_data[0].appendChild(Ce),this._rendered.push(Ce)}this.config.drag_highlight&&this._drag_id==c.id&&this.highlightEventPosition(c)}}},o._render_v_bar=function(c,u,f,y,x,g,k,b,E){var T=document.createElement("div"),O=c.id,U=E?"dhx_cal_event dhx_cal_select_menu":"dhx_cal_event",$=o.getState();$.drag_id==c.id&&(U+=" dhx_cal_event_drag"),$.select_id==c.id&&(U+=" dhx_cal_event_selected");var V=o.templates.event_class(c.start_date,c.end_date,c);V&&(U=U+" "+V),this.config.cascade_event_display&&(U+=" dhx_cal_event_cascade");var Q=c.color?"background-color:"+c.color+";":"",ee=c.textColor?"color:"+c.textColor+";":"",G=o._border_box_events(),re=y-2,q=G?re:y-4,X=G?re:y-6,J=G?re:y-(this._quirks?4:14),ye=G?re-2:y-8,Se=G?x-this.xy.event_header_height-1:x-(this._quirks?20:30)+1,be='<div event_id="'+O+'" '+this.config.event_attribute+'="'+O+'" class="'+U+'" style="position:absolute; top:'+f+"px; "+(this.config.rtl?"right:":"left:")+u+"px; width:"+q+"px; height:"+x+"px;"+(g||"")+'"></div>';T.innerHTML=be;var Ie=T.cloneNode(!0).firstChild;if(!E&&o.renderEvent(Ie,c,y,x,k,b))return Ie;Ie=T.firstChild;var Ce='<div class="dhx_event_move dhx_header" style=" width:'+X+"px;"+Q+'" >&nbsp;</div>';Ce+='<div class="dhx_event_move dhx_title" style="'+Q+ee+'">'+k+"</div>",Ce+='<div class="dhx_body" style=" width:'+J+"px; height:"+Se+"px;"+Q+ee+'">'+b+"</div>";var $e="dhx_event_resize dhx_footer";return(E||c._drag_resize===!1)&&($e="dhx_resize_denied "+$e),Ce+='<div class="'+$e+'" style=" width:'+ye+"px;"+(E?" margin-top:-1px;":"")+Q+ee+'" ></div>',Ie.innerHTML=Ce,Ie},o.renderEvent=function(){return!1},o.locate_holder=function(c){return this._mode=="day"?this._els.dhx_cal_data[0].firstChild:this._els.dhx_cal_data[0].childNodes[c]},o.locate_holder_day=function(c,u){var f=Math.floor((this._correct_shift(c,1)-this._min_date)/864e5);return u&&this.date.time_part(c)&&f++,f},o._get_dnd_order=function(c,u,f){if(!this._drag_event)return c;this._drag_event._orig_sorder?c=this._drag_event._orig_sorder:this._drag_event._orig_sorder=c;for(var y=u*c;y+u>f;)c--,y-=u;return c=Math.max(c,0)},o._get_event_bar_pos=function(c){var u=this.config.rtl,f=this._colsS,y=f[c._sday],x=f[c._eday];u&&(y=f[f.col_length]-f[c._eday]+f[0],x=f[f.col_length]-f[c._sday]+f[0]),x==y&&(x=f[c._eday+1]);var g=this.xy.bar_height,k=c._sorder;if(c.id==this._drag_id){var b=f.heights[c._sweek+1]-f.heights[c._sweek]-this.xy.month_head_height;k=o._get_dnd_order(k,g,b)}var E=k*g;return{x:y,x2:x,y:f.heights[c._sweek]+(f.height?this.xy.month_scale_height+2:2)+E}},o.render_event_bar=function(c){var u=this._rendered_location,f=this._get_event_bar_pos(c),y=f.y,x=f.x,g=f.x2,k="";if(g){var b=o.config.resize_month_events&&this._mode=="month"&&(!c._timed||o.config.resize_month_timed),E=document.createElement("div"),T=c.hasOwnProperty("_first_chunk")&&c._first_chunk,O=c.hasOwnProperty("_last_chunk")&&c._last_chunk,U=b&&(c._timed||T),$=b&&(c._timed||O),V=!0,Q="dhx_cal_event_clear";c._timed&&!b||(V=!1,Q="dhx_cal_event_line"),T&&(Q+=" dhx_cal_event_line_start"),O&&(Q+=" dhx_cal_event_line_end"),U&&(k+="<div class='dhx_event_resize dhx_event_resize_start'></div>"),$&&(k+="<div class='dhx_event_resize dhx_event_resize_end'></div>");var ee=o.templates.event_class(c.start_date,c.end_date,c);ee&&(Q+=" "+ee);var G=c.color?"background:"+c.color+";":"",re=c.textColor?"color:"+c.textColor+";":"",q=["position:absolute","top:"+y+"px","left:"+x+"px","width:"+(g-x-3-(V?1:0))+"px",re,G,c._text_style||""].join(";"),X="<div event_id='"+c.id+"' "+this.config.event_attribute+"='"+c.id+"' class='"+Q+"' style='"+q+"'"+this._waiAria.eventBarAttrString(c)+">";b&&(X+=k),o.getState().mode=="month"&&(c=o.getEvent(c.id)),c._timed&&(X+=o.templates.event_bar_date(c.start_date,c.end_date,c)),X+=o.templates.event_bar_text(c.start_date,c.end_date,c)+"</div>",X+="</div>",E.innerHTML=X,this._rendered.push(E.firstChild),u.appendChild(E.firstChild)}},o._locate_event=function(c){for(var u=null;c&&!u&&c.getAttribute;)u=c.getAttribute(this.config.event_attribute),c=c.parentNode;return u},o.edit=function(c){this._edit_id!=c&&(this.editStop(!1,c),this._edit_id=c,this.updateEvent(c))},o.editStop=function(c,u){if(!u||this._edit_id!=u){var f=this.getEvent(this._edit_id);f&&(c&&(f.text=this._editor.value),this._edit_id=null,this._editor=null,this.updateEvent(f.id),this._edit_stop_event(f,c))}},o._edit_stop_event=function(c,u){this._new_event?(u?this.callEvent("onEventAdded",[c.id,c]):c&&this.deleteEvent(c.id,!0),this._new_event=null):u&&this.callEvent("onEventChanged",[c.id,c])},o.getEvents=function(c,u){var f=[];for(var y in this._events){var x=this._events[y];x&&(!c&&!u||x.start_date<u&&x.end_date>c)&&f.push(x)}return f},o.getRenderedEvent=function(c){if(c){for(var u=o._rendered,f=0;f<u.length;f++){var y=u[f];if(y.getAttribute(o.config.event_attribute)==c)return y}return null}},o.showEvent=function(c,u){c&&Ht(c)==="object"&&(u=c.mode,O=c.section,c=c.section);var f=typeof c=="number"||typeof c=="string"?o.getEvent(c):c;if(u=u||o._mode,f&&(!this.checkEvent("onBeforeEventDisplay")||this.callEvent("onBeforeEventDisplay",[f,u]))){var y=o.config.scroll_hour;o.config.scroll_hour=f.start_date.getHours();var x=o.config.preserve_scroll;o.config.preserve_scroll=!1;var g=f.color,k=f.textColor;if(o.config.highlight_displayed_event&&(f.color=o.config.displayed_event_color,f.textColor=o.config.displayed_event_text_color),o.setCurrentView(new Date(f.start_date),u),o.config.scroll_hour=y,o.config.preserve_scroll=x,o.matrix&&o.matrix[u]){var b=o.getView(),E=b.y_property,T=o.getEvent(f.id);if(T){if(!O){var O=T[E];Array.isArray(O)?O=O[0]:typeof O=="string"&&o.config.section_delimiter&&O.indexOf(o.config.section_delimiter)>-1&&(O=O.split(o.config.section_delimiter)[0])}var U=b.getSectionTop(O),$=b.posFromDate(T.start_date),V=o.$container.querySelector(".dhx_timeline_data_wrapper");if($-=(V.offsetWidth-b.dx)/2,U=U-V.offsetHeight/2+b.dy/2,b._smartRenderingEnabled())var Q=b.attachEvent("onScroll",function(){ee(),b.detachEvent(Q)});b.scrollTo({left:$,top:U}),b._smartRenderingEnabled()||ee()}}else ee();o.callEvent("onAfterEventDisplay",[f,u])}function ee(){f.color=g,f.textColor=k}}}(w),function(o){o._append_drag_marker=function(c){if(!c.parentNode){var u=o._els.dhx_cal_data[0].lastChild,f=o._getClassName(u);f.indexOf("dhx_scale_holder")<0&&u.previousSibling&&(u=u.previousSibling),f=o._getClassName(u),u&&f.indexOf("dhx_scale_holder")===0&&u.appendChild(c)}},o._update_marker_position=function(c,u){var f=o._calc_event_y(u,0);c.style.top=f.top+"px",c.style.height=f.height+"px"},o.highlightEventPosition=function(c){var u=document.createElement("div");u.setAttribute("event_id",c.id),u.setAttribute(this.config.event_attribute,c.id),this._rendered.push(u),this._update_marker_position(u,c);var f=this.templates.drag_marker_class(c.start_date,c.end_date,c),y=this.templates.drag_marker_content(c.start_date,c.end_date,c);u.className="dhx_drag_marker",f&&(u.className+=" "+f),y&&(u.innerHTML=y),this._append_drag_marker(u)}}(w),le(w),function(o){o._lightbox_controls={},o.formSection=function(c){for(var u=this.config.lightbox.sections,f=0;f<u.length&&u[f].name!=c;f++);if(f===u.length)return null;var y=u[f];o._lightbox||o.getLightbox();var x=document.getElementById(y.id),g=x.nextSibling,k={section:y,header:x,node:g,getValue:function(E){return o.form_blocks[y.type].get_value(g,E||{},y)},setValue:function(E,T){return o.form_blocks[y.type].set_value(g,E,T||{},y)}},b=o._lightbox_controls["get_"+y.type+"_control"];return b?b(k):k},o._lightbox_controls.get_template_control=function(c){return c.control=c.node,c},o._lightbox_controls.get_select_control=function(c){return c.control=c.node.getElementsByTagName("select")[0],c},o._lightbox_controls.get_textarea_control=function(c){return c.control=c.node.getElementsByTagName("textarea")[0],c},o._lightbox_controls.get_time_control=function(c){return c.control=c.node.getElementsByTagName("select"),c},o._lightbox_controls.defaults={template:{height:30},textarea:{height:200},select:{height:23},time:{height:20}},o.form_blocks={template:{render:function(c){var u=o._lightbox_controls.defaults.template,f=u?u.height:30;return"<div class='dhx_cal_ltext dhx_cal_template' style='height:"+(c.height||f||30)+"px;'></div>"},set_value:function(c,u,f,y){c.innerHTML=u||""},get_value:function(c,u,f){return c.innerHTML||""},focus:function(c){}},textarea:{render:function(c){var u=o._lightbox_controls.defaults.textarea,f=u?u.height:200;return"<div class='dhx_cal_ltext' style='height:"+(c.height||f||"130")+"px;'><textarea></textarea></div>"},set_value:function(c,u,f){o.form_blocks.textarea._get_input(c).value=u||""},get_value:function(c,u){return o.form_blocks.textarea._get_input(c).value},focus:function(c){var u=o.form_blocks.textarea._get_input(c);o._focus(u,!0)},_get_input:function(c){return c.getElementsByTagName("textarea")[0]}},select:{render:function(c){for(var u=o._lightbox_controls.defaults.select,f=u?u.height:23,y="<div class='dhx_cal_ltext' style='height:"+(c.height||f||"23")+"px;'><select style='width:100%;'>",x=0;x<c.options.length;x++)y+="<option value='"+c.options[x].key+"'>"+c.options[x].label+"</option>";return y+="</select></div>"},set_value:function(c,u,f,y){var x=c.firstChild;!x._dhx_onchange&&y.onchange&&(o.event(x,"change",y.onchange),x._dhx_onchange=!0),u===void 0&&(u=(x.options[0]||{}).value),x.value=u||""},get_value:function(c,u){return c.firstChild.value},focus:function(c){var u=c.firstChild;o._focus(u,!0)}},time:{render:function(c){c.time_format||(c.time_format=["%H:%i","%d","%m","%Y"]),c._time_format_order={};var u=c.time_format,f=o.config,y=o.date.date_part(o._currentDate()),x=1440,g=0;o.config.limit_time_select&&(x=60*f.last_hour+1,g=60*f.first_hour,y.setHours(f.first_hour));for(var k="",b=0;b<u.length;b++){var E=u[b];b>0&&(k+=" ");var T="",O="";switch(E){case"%Y":var U,$,V;T="dhx_lightbox_year_select",c._time_format_order[3]=b,c.year_range&&(isNaN(c.year_range)?c.year_range.push&&($=c.year_range[0],V=c.year_range[1]):U=c.year_range),U=U||10;var Q=Q||Math.floor(U/2);$=$||y.getFullYear()-Q,V=V||$+U;for(var ee=$;ee<V;ee++)O+="<option value='"+ee+"'>"+ee+"</option>";break;case"%m":for(T="dhx_lightbox_month_select",c._time_format_order[2]=b,ee=0;ee<12;ee++)O+="<option value='"+ee+"'>"+this.locale.date.month_full[ee]+"</option>";break;case"%d":for(T="dhx_lightbox_day_select",c._time_format_order[1]=b,ee=1;ee<32;ee++)O+="<option value='"+ee+"'>"+ee+"</option>";break;case"%H:%i":T="dhx_lightbox_time_select",c._time_format_order[0]=b,ee=g;var G=y.getDate();for(c._time_values=[];ee<x;)O+="<option value='"+ee+"'>"+this.templates.time_picker(y)+"</option>",c._time_values.push(ee),y.setTime(y.valueOf()+60*this.config.time_step*1e3),ee=24*(y.getDate()!=G?1:0)*60+60*y.getHours()+y.getMinutes()}if(O){var re=o._waiAria.lightboxSelectAttrString(E);k+="<select class='"+T+"' "+(c.readonly?"disabled='disabled'":"")+re+">"+O+"</select> "}}var q=o._lightbox_controls.defaults.select;return"<div style='height:"+((q?q.height:23)||30)+"px;padding-top:0px;font-size:inherit;' class='dhx_section_time'>"+k+"<span style='font-weight:normal; font-size:10pt;'> &nbsp;&ndash;&nbsp; </span>"+k+"</div>"},set_value:function(c,u,f,y){var x,g,k=o.config,b=c.getElementsByTagName("select"),E=y._time_format_order;if(k.full_day){if(!c._full_day){var T="<label class='dhx_fullday'><input type='checkbox' name='full_day' value='true'> "+o.locale.labels.full_day+"&nbsp;</label></input>";o.config.wide_form||(T=c.previousSibling.innerHTML+T),c.previousSibling.innerHTML=T,c._full_day=!0}var O=c.previousSibling.getElementsByTagName("input")[0];O.checked=o.date.time_part(f.start_date)===0&&o.date.time_part(f.end_date)===0,b[E[0]].disabled=O.checked,b[E[0]+b.length/2].disabled=O.checked,O.$_eventAttached||(O.$_eventAttached=!0,o.event(O,"click",function(){if(O.checked){var Q={};o.form_blocks.time.get_value(c,Q,y),x=o.date.date_part(Q.start_date),(+(g=o.date.date_part(Q.end_date))==+x||+g>=+x&&(f.end_date.getHours()!==0||f.end_date.getMinutes()!==0))&&(g=o.date.add(g,1,"day"))}else x=null,g=null;b[E[0]].disabled=O.checked,b[E[0]+b.length/2].disabled=O.checked,V(b,0,x||f.start_date),V(b,4,g||f.end_date)}))}if(k.auto_end_date&&k.event_duration)for(var U=function(){k.auto_end_date&&k.event_duration&&(x=new Date(b[E[3]].value,b[E[2]].value,b[E[1]].value,0,b[E[0]].value),g=new Date(x.getTime()+60*o.config.event_duration*1e3),V(b,4,g))},$=0;$<4;$++)b[$].$_eventAttached||(b[$].$_eventAttached=!0,o.event(b[$],"change",U));function V(Q,ee,G){for(var re=y._time_values,q=60*G.getHours()+G.getMinutes(),X=q,J=!1,ye=0;ye<re.length;ye++){var Se=re[ye];if(Se===q){J=!0;break}Se<q&&(X=Se)}Q[ee+E[0]].value=J?q:X,J||X||(Q[ee+E[0]].selectedIndex=-1),Q[ee+E[1]].value=G.getDate(),Q[ee+E[2]].value=G.getMonth(),Q[ee+E[3]].value=G.getFullYear()}V(b,0,f.start_date),V(b,4,f.end_date)},get_value:function(c,u,f){var y=c.getElementsByTagName("select"),x=f._time_format_order;if(u.start_date=new Date(y[x[3]].value,y[x[2]].value,y[x[1]].value,0,y[x[0]].value),u.end_date=new Date(y[x[3]+4].value,y[x[2]+4].value,y[x[1]+4].value,0,y[x[0]+4].value),!y[x[3]].value||!y[x[3]+4].value){var g=o.getEvent(o._lightbox_id);g&&(u.start_date=g.start_date,u.end_date=g.end_date)}return u.end_date<=u.start_date&&(u.end_date=o.date.add(u.start_date,o.config.time_step,"minute")),{start_date:new Date(u.start_date),end_date:new Date(u.end_date)}},focus:function(c){o._focus(c.getElementsByTagName("select")[0])}}},o._setLbPosition=function(c){if(c){var u=window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop,f=window.pageXOffset||document.body.scrollLeft||document.documentElement.scrollLeft,y=window.innerHeight||document.documentElement.clientHeight;c.style.top=u?Math.round(u+Math.max((y-c.offsetHeight)/2,0))+"px":Math.round(Math.max((y-c.offsetHeight)/2,0)+9)+"px",document.documentElement.scrollWidth>document.body.offsetWidth?c.style.left=Math.round(f+(document.body.offsetWidth-c.offsetWidth)/2)+"px":c.style.left=Math.round((document.body.offsetWidth-c.offsetWidth)/2)+"px"}},o.showCover=function(c){c&&(c.style.display="block",this._setLbPosition(c)),o.config.responsive_lightbox&&(document.documentElement.classList.add("dhx_cal_overflow_container"),document.body.classList.add("dhx_cal_overflow_container")),this.show_cover()},o.showLightbox=function(c){if(c)if(this.callEvent("onBeforeLightbox",[c])){var u=this.getLightbox();this.showCover(u),this._fill_lightbox(c,u),this._waiAria.lightboxVisibleAttr(u),this.callEvent("onLightbox",[c])}else this._new_event&&(this._new_event=null)},o._fill_lightbox=function(c,u){var f=this.getEvent(c),y=u.getElementsByTagName("span"),x=[];if(o.templates.lightbox_header){x.push("");var g=o.templates.lightbox_header(f.start_date,f.end_date,f);x.push(g),y[1].innerHTML="",y[2].innerHTML=g}else{var k=this.templates.event_header(f.start_date,f.end_date,f),b=(this.templates.event_bar_text(f.start_date,f.end_date,f)||"").substr(0,70);x.push(k),x.push(b),y[1].innerHTML=k,y[2].innerHTML=b}this._waiAria.lightboxHeader(u,x.join(" "));for(var E=this.config.lightbox.sections,T=0;T<E.length;T++){var O=E[T],U=o._get_lightbox_section_node(O),$=this.form_blocks[O.type],V=f[O.map_to]!==void 0?f[O.map_to]:O.default_value;$.set_value.call(this,U,V,f,O),E[T].focus&&$.focus.call(this,U)}o._lightbox_id=c},o._get_lightbox_section_node=function(c){return document.getElementById(c.id).nextSibling},o._lightbox_out=function(c){for(var u=this.config.lightbox.sections,f=0;f<u.length;f++){var y=document.getElementById(u[f].id);y=y&&y.nextSibling;var x=this.form_blocks[u[f].type].get_value.call(this,y,c,u[f]);u[f].map_to!="auto"&&(c[u[f].map_to]=x)}return c},o._empty_lightbox=function(c){var u=o._lightbox_id,f=this.getEvent(u);this._lame_copy(f,c),this.setEvent(f.id,f),this._edit_stop_event(f,!0),this.render_view_data()},o.hide_lightbox=function(c){o.endLightbox(!1,this.getLightbox())},o.hideCover=function(c){c&&(c.style.display="none"),this.hide_cover(),o.config.responsive_lightbox&&(document.documentElement.classList.remove("dhx_cal_overflow_container"),document.body.classList.remove("dhx_cal_overflow_container"))},o.hide_cover=function(){this._cover&&this._cover.parentNode.removeChild(this._cover),this._cover=null},o.show_cover=function(){this._cover||(this._cover=document.createElement("div"),this._cover.className="dhx_cal_cover",document.body.appendChild(this._cover))},o.save_lightbox=function(){var c=this._lightbox_out({},this._lame_copy(this.getEvent(this._lightbox_id)));this.checkEvent("onEventSave")&&!this.callEvent("onEventSave",[this._lightbox_id,c,this._new_event])||(this._empty_lightbox(c),this.hide_lightbox())},o.startLightbox=function(c,u){this._lightbox_id=c,this._custom_lightbox=!0,this._temp_lightbox=this._lightbox,this._lightbox=u,this.showCover(u)},o.endLightbox=function(c,u){u=u||o.getLightbox();var f=o.getEvent(this._lightbox_id);f&&this._edit_stop_event(f,c),c&&o.render_view_data(),this.hideCover(u),this._custom_lightbox&&(this._lightbox=this._temp_lightbox,this._custom_lightbox=!1),this._temp_lightbox=this._lightbox_id=null,this._waiAria.lightboxHiddenAttr(u),this.callEvent("onAfterLightbox",[])},o.resetLightbox=function(){o._lightbox&&!o._custom_lightbox&&o._lightbox.parentNode.removeChild(o._lightbox),o._lightbox=null},o.cancel_lightbox=function(){this._lightbox_id&&this.callEvent("onEventCancel",[this._lightbox_id,this._new_event]),this.hide_lightbox()},o.hideLightbox=o.cancel_lightbox,o._init_lightbox_events=function(){if(!this.getLightbox().$_eventAttached){var c=this.getLightbox();c.$_eventAttached=!0,o.event(c,"click",function(u){var f=o.$domHelpers.closest(u.target,".dhx_btn_set");if(f){var y=f?f.getAttribute("data-action"):null;switch(y){case"dhx_save_btn":case"save":if(o.config.readonly_active)return;o.save_lightbox();break;case"dhx_delete_btn":case"delete":if(o.config.readonly_active)return;var x=o.locale.labels.confirm_deleting;o._dhtmlx_confirm(x,o.locale.labels.title_confirm_deleting,function(){o.deleteEvent(o._lightbox_id),o._new_event=null,o.hide_lightbox()});break;case"dhx_cancel_btn":case"cancel":o.cancel_lightbox();break;default:o.callEvent("onLightboxButton",[y,f,u])}}else{var g=o.$domHelpers.closest(u.target,".dhx_custom_button[data-section-index]");if(g){var k=Number(g.getAttribute("data-section-index"));o.form_blocks[o.config.lightbox.sections[k].type].button_click(o.$domHelpers.closest(g,".dhx_cal_lsection"),g,u)}}}),o.event(c,"keydown",function(u){var f=u||window.event,y=u.target||u.srcElement,x=y.querySelector("[dhx_button]");switch(x||(x=y.parentNode.querySelector(".dhx_custom_button, .dhx_readonly")),(u||f).keyCode){case 32:if((u||f).shiftKey)return;x&&x.click&&x.click();break;case o.keys.edit_save:if((u||f).shiftKey)return;if(x&&x.click)x.click();else{if(o.config.readonly_active)return;o.save_lightbox()}break;case o.keys.edit_cancel:o.cancel_lightbox()}})}},o.setLightboxSize=function(){var c=this._lightbox;if(c){var u=c.childNodes[1];u.style.height="0px",u.style.height=u.scrollHeight+"px",c.style.height=u.scrollHeight+o.xy.lightbox_additional_height+"px",u.style.height=u.scrollHeight+"px"}},o._init_dnd_events=function(){o.event(document.body,"mousemove",o._move_while_dnd),o.event(document.body,"mouseup",o._finish_dnd),o._init_dnd_events=function(){}},o._move_while_dnd=function(c){if(o._dnd_start_lb){document.dhx_unselectable||(document.body.className+=" dhx_unselectable",document.dhx_unselectable=!0);var u=o.getLightbox(),f=[c.pageX,c.pageY];u.style.top=o._lb_start[1]+f[1]-o._dnd_start_lb[1]+"px",u.style.left=o._lb_start[0]+f[0]-o._dnd_start_lb[0]+"px"}},o._ready_to_dnd=function(c){var u=o.getLightbox();o._lb_start=[parseInt(u.style.left,10),parseInt(u.style.top,10)],o._dnd_start_lb=[c.pageX,c.pageY]},o._finish_dnd=function(){o._lb_start&&(o._lb_start=o._dnd_start_lb=!1,document.body.className=document.body.className.replace(" dhx_unselectable",""),document.dhx_unselectable=!1)},o.getLightbox=function(){if(!this._lightbox){var c=document.createElement("div");c.className="dhx_cal_light",o.config.wide_form&&(c.className+=" dhx_cal_light_wide"),o.form_blocks.recurring&&(c.className+=" dhx_cal_light_rec"),o.config.rtl&&(c.className+=" dhx_cal_light_rtl"),o.config.responsive_lightbox&&(c.className+=" dhx_cal_light_responsive"),c.style.visibility="hidden";for(var u=this._lightbox_template,f=this.config.buttons_left,y=0;y<f.length;y++)u+="<div "+this._waiAria.lightboxButtonAttrString(f[y])+" data-action='"+f[y]+"' class='dhx_btn_set dhx_"+(o.config.rtl?"right":"left")+"_btn_set "+f[y]+"_set'><div class='"+f[y]+"'></div><div>"+o.locale.labels[f[y]]+"</div></div>";f=this.config.buttons_right;var x=o.config.rtl;for(y=0;y<f.length;y++)u+="<div "+this._waiAria.lightboxButtonAttrString(f[y])+" data-action='"+f[y]+"' class='dhx_btn_set dhx_"+(x?"left":"right")+"_btn_set "+f[y]+"_set' style='float:"+(x?"left":"right")+";'><div class='"+f[y]+"'></div><div>"+o.locale.labels[f[y]]+"</div></div>";u+="</div>",c.innerHTML=u,o.config.drag_lightbox&&(o.event(c.firstChild,"mousedown",o._ready_to_dnd),o.event(c.firstChild,"selectstart",function(U){return U.preventDefault(),!1}),c.firstChild.style.cursor="move",o._init_dnd_events()),this._waiAria.lightboxAttr(c),document.body.insertBefore(c,document.body.firstChild),this._lightbox=c;var g=this.config.lightbox.sections;for(u="",y=0;y<g.length;y++){var k=this.form_blocks[g[y].type];if(k){g[y].id="area_"+this.uid();var b="";g[y].button&&(b="<div "+o._waiAria.lightboxSectionButtonAttrString(this.locale.labels["button_"+g[y].button])+" class='dhx_custom_button' data-section-index='"+y+"' index='"+y+"'><div class='dhx_custom_button_"+g[y].button+"'></div><div>"+this.locale.labels["button_"+g[y].button]+"</div></div>"),this.config.wide_form&&(u+="<div class='dhx_wrap_section'>");var E=this.locale.labels["section_"+g[y].name];typeof E!="string"&&(E=g[y].name),u+="<div id='"+g[y].id+"' class='dhx_cal_lsection'>"+b+"<label>"+E+"</label></div>"+k.render.call(this,g[y]),u+="</div>"}}var T=c.getElementsByTagName("div");for(y=0;y<T.length;y++){var O=T[y];if(o._getClassName(O)=="dhx_cal_larea"){O.innerHTML=u;break}}o._bindLightboxLabels(g),this.setLightboxSize(),this._init_lightbox_events(this),c.style.display="none",c.style.visibility="visible"}return this._lightbox},o._bindLightboxLabels=function(c){for(var u=0;u<c.length;u++){var f=c[u];if(f.id&&document.getElementById(f.id)){for(var y=document.getElementById(f.id).querySelector("label"),x=o._get_lightbox_section_node(f);x&&!x.querySelector;)x=x.nextSibling;var g=!0;if(x){var k=x.querySelector("input, select, textarea");k&&(f.inputId=k.id||"input_"+o.uid(),k.id||(k.id=f.inputId),y.setAttribute("for",f.inputId),g=!1)}g&&o.form_blocks[f.type].focus&&o.event(y,"click",function(b){return function(){var E=o.form_blocks[b.type],T=o._get_lightbox_section_node(b);E&&E.focus&&E.focus.call(o,T)}}(f))}}},o.attachEvent("onEventIdChange",function(c,u){this._lightbox_id==c&&(this._lightbox_id=u)}),o._lightbox_template="<div class='dhx_cal_ltitle'><span class='dhx_mark'>&nbsp;</span><span class='dhx_time'></span><span class='dhx_title'></span></div><div class='dhx_cal_larea'></div>"}(w),Gr(w),function(o){o.getRootView=function(){return{view:{render:function(){return{tag:"div",type:1,attrs:{style:"width:100%;height:100%;"},hooks:{didInsert:function(){o.setCurrentView()}},body:[{el:this.el,type:1}]}},init:function(){var c=document.createElement("DIV");c.id="scheduler_"+o.uid(),c.style.width="100%",c.style.height="100%",c.classList.add("dhx_cal_container"),c.cmp="grid",c.innerHTML='<div class="dhx_cal_navline"><div class="dhx_cal_prev_button">&nbsp;</div><div class="dhx_cal_next_button">&nbsp;</div><div class="dhx_cal_today_button"></div><div class="dhx_cal_date"></div><div class="dhx_cal_tab" data-tab="day"></div><div class="dhx_cal_tab" data-tab="week"></div><div class="dhx_cal_tab" data-tab="month"></div></div><div class="dhx_cal_header"></div><div class="dhx_cal_data"></div>',o.init(c),this.el=c}},type:4}}}(w),fa(w),window.jQuery&&function(o){var c=0,u=[];o.fn.dhx_scheduler=function(f){if(typeof f!="string"){var y=[];return this.each(function(){if(this&&this.getAttribute)if(this.getAttribute("dhxscheduler"))y.push(window[this.getAttribute("dhxscheduler")]);else{var x="scheduler";c&&(x="scheduler"+(c+1),window[x]=Scheduler.getSchedulerInstance());var g=window[x];for(var k in this.setAttribute("dhxscheduler",x),f)k!="data"&&(g.config[k]=f[k]);this.getElementsByTagName("div").length||(this.innerHTML='<div class="dhx_cal_navline"><div class="dhx_cal_prev_button">&nbsp;</div><div class="dhx_cal_next_button">&nbsp;</div><div class="dhx_cal_today_button"></div><div class="dhx_cal_date"></div><div class="dhx_cal_tab" name="day_tab" data-tab="day" style="right:204px;"></div><div class="dhx_cal_tab" name="week_tab" data-tab="week" style="right:140px;"></div><div class="dhx_cal_tab" name="month_tab" data-tab="month" style="right:76px;"></div></div><div class="dhx_cal_header"></div><div class="dhx_cal_data"></div>',this.className+=" dhx_cal_container"),g.init(this,g.config.date,g.config.mode),f.data&&g.parse(f.data),y.push(g),c++}}),y.length===1?y[0]:y}if(u[f])return u[f].apply(this,[]);o.error("Method "+f+" does not exist on jQuery.dhx_scheduler")}}(window.jQuery),function(o){(function(){var c=o.setCurrentView,u=o.updateView,f=null,y=null,x=function(b,E){var T=this;a.a.clearTimeout(y),a.a.clearTimeout(f);var O=T._date,U=T._mode;k(this,b,E),y=setTimeout(function(){T.callEvent("onBeforeViewChange",[U,O,E||T._mode,b||T._date])?(u.call(T,b,E),T.callEvent("onViewChange",[T._mode,T._date]),a.a.clearTimeout(f),y=0):k(T,O,U)},o.config.delay_render)},g=function(b,E){var T=this,O=arguments;k(this,b,E),a.a.clearTimeout(f),f=setTimeout(function(){y||u.apply(T,O)},o.config.delay_render)};function k(b,E,T){E&&(b._date=E),T&&(b._mode=T)}o.attachEvent("onSchedulerReady",function(){o.config.delay_render?(o.setCurrentView=x,o.updateView=g):(o.setCurrentView=c,o.updateView=u)})})()}(w),function(o){o.createDataProcessor=function(c){var u,f;c instanceof Function?u=c:c.hasOwnProperty("router")?u=c.router:c.hasOwnProperty("event")&&(u=c),f=u?"CUSTOM":c.mode||"REST-JSON";var y=new ne(c.url);return y.init(o),y.setTransactionMode({mode:f,router:u},c.batchUpdate),y},o.DataProcessor=ne}(w),function(o){o.attachEvent("onSchedulerReady",function(){typeof dhtmlxError<"u"&&window.dhtmlxError.catchError("LoadXML",function(c,u,f){var y=f[0].responseText;switch(o.config.ajax_error){case"alert":a.a.alert(y);break;case"console":a.a.console.log(y)}})})}(w);var m=new bt({en:pt,ar:De,be:He,ca:ze,cn:se,cs:Me,da:tt,de:et,el:We,es:yn,fi:or,fr:bi,he:Rr,hu:Kr,id:Dc,it:_o,jp:Yr,nb:ae,nl:ce,no:_e,pl:me,pt:Le,ro:Be,ru:Re,si:ut,sk:At,sv:gt,tr:Jr,ua:zn});w.i18n={addLocale:m.addLocale,setLocale:function(o){if(typeof o=="string"){var c=m.getLocale(o);c||(c=m.getLocale("en")),w.locale=c}else if(o)if(w.locale)for(var u in o)o[u]&&Qn(o[u])==="object"?(w.locale[u]||(w.locale[u]={}),w.mixin(w.locale[u],o[u],!0)):w.locale[u]=o[u];else w.locale=o},getLocale:m.getLocale},w.i18n.setLocale("en"),w.ext={};var _={};return w.plugins=function(o){(function(c,u,f){var y=[];for(var x in c)if(c[x]){var g=x.toLowerCase();u[g]&&u[g].forEach(function(k){var b=k.toLowerCase();c[b]||y.push(b)}),y.push(g)}return y.sort(function(k,b){var E=f[k]||0,T=f[b]||0;return E>T?1:E<T?-1:0}),y})(o,{treetimeline:["timeline"],daytimeline:["timeline"],outerdrag:["legacy"]},{legacy:1,limit:1,timeline:2,daytimeline:3,treetimeline:3,outerdrag:6}).forEach(function(c){if(!_[c]){var u=s.getExtension(c);if(!u)throw new Error("unknown plugin "+c);u(w),_[c]=!0}})},w};function Fg(s,w){for(var d=0;d<w.length;d++){var m=w[d];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(s,m.key,m)}}var WS=function(){function s(w){for(var d in function(m,_){if(!(m instanceof _))throw new TypeError("Cannot call a class as a function")}(this,s),this._extensions={},w)this._extensions[d]=w[d]}return function(w,d,m){d&&Fg(w.prototype,d),m&&Fg(w,m)}(s,[{key:"addExtension",value:function(w,d){this._extensions[w]=d}},{key:"getExtension",value:function(w){return this._extensions[w]}}]),s}();function Ug(s,w){for(var d=0;d<w.length;d++){var m=w[d];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(s,m.key,m)}}typeof dhtmlx<"u"&&dhtmlx.attaches&&(dhtmlx.attaches.attachScheduler=function(s,w,d,m){d=d||'<div class="dhx_cal_tab" name="day_tab" data-tab="day" style="right:204px;"></div><div class="dhx_cal_tab" name="week_tab" data-tab="week" style="right:140px;"></div><div class="dhx_cal_tab" name="month_tab" data-tab="month" style="right:76px;"></div>';var _=document.createElement("DIV");return _.id="dhxSchedObj_"+this._genStr(12),_.innerHTML='<div id="'+_.id+'" class="dhx_cal_container" style="width:100%; height:100%;"><div class="dhx_cal_navline"><div class="dhx_cal_prev_button">&nbsp;</div><div class="dhx_cal_next_button">&nbsp;</div><div class="dhx_cal_today_button"></div><div class="dhx_cal_date"></div>'+d+'</div><div class="dhx_cal_header"></div><div class="dhx_cal_data"></div></div>',document.body.appendChild(_.firstChild),this.attachObject(_.id,!1,!0),this.vs[this.av].sched=m,this.vs[this.av].schedId=_.id,m.setSizes=m.updateView,m.destructor=function(){},m.init(_.id,s,w),this.vs[this._viewRestore()].sched});var wi=function(s,w){w(!1,"The ".concat(s,` extension is not included in this version of dhtmlxScheduler.<br>
		You may need a <a href="https://docs.dhtmlx.com/scheduler/editions_comparison.html" target="_blank">Professional version of the component</a>.<br>
		Contact us at <a href="https://dhtmlx.com/docs/contact.shtml" target="_blank">https://dhtmlx.com/docs/contact.shtml</a> if you have any questions.`))},GS=function(s){(function(){var w=[];function d(){return!!w.length}function m(f){setTimeout(function(){d()||function(y,x){for(;y&&y!=x;)y=y.parentNode;return y==x}(document.activeElement,s.$container)||s.focus()},1)}function _(f){var y=(f=f||window.event).currentTarget;(function(x){return x==w[w.length-1]})(y)&&s.$keyboardNavigation.trapFocus(y,f)}if(s.attachEvent("onLightbox",function(){(function(f){s.eventRemove(f,"keydown",_),s.event(f,"keydown",_),w.push(f)})(s.getLightbox())}),s.attachEvent("onAfterLightbox",function(){var f=w.pop();f&&s.eventRemove(f,"keydown",_),m()}),s.attachEvent("onAfterQuickInfo",function(){m()}),!s._keyNavMessagePopup){s._keyNavMessagePopup=!0;var o=null,c=null,u=[];s.attachEvent("onMessagePopup",function(f){for(o=document.activeElement,c=o;c&&s._getClassName(c).indexOf("dhx_cal_data")<0;)c=c.parentNode;c&&(c=c.parentNode),s.eventRemove(f,"keydown",_),s.event(f,"keydown",_),u.push(f)}),s.attachEvent("onAfterMessagePopup",function(){var f=u.pop();f&&s.eventRemove(f,"keydown",_),setTimeout(function(){for(var y=document.activeElement;y&&s._getClassName(y).indexOf("dhx_cal_light")<0;)y=y.parentNode;y||(o&&o.parentNode?o.focus():c&&c.parentNode&&c.focus(),o=null,c=null)},1)})}s.$keyboardNavigation.isModal=d})()},KS=function(s){s._temp_key_scope=function(){s.config.key_nav=!0,s.$keyboardNavigation._pasteDate=null,s.$keyboardNavigation._pasteSection=null;var w=null,d={};function m(c){c=c||window.event,d.x=c.clientX,d.y=c.clientY}function _(){for(var c,u,f=document.elementFromPoint(d.x,d.y);f&&f!=s._obj;)f=f.parentNode;return c=f==s._obj,u=s.$keyboardNavigation.dispatcher.isEnabled(),c||u}function o(c){return s._lame_copy({},c)}document.body?s.event(document.body,"mousemove",m):s.event(window,"load",function(){s.event(document.body,"mousemove",m)}),s.attachEvent("onMouseMove",function(c,u){var f=s.getState();if(f.mode&&f.min_date){var y=s.getActionData(u);s.$keyboardNavigation._pasteDate=y.date,s.$keyboardNavigation._pasteSection=y.section}}),s._make_pasted_event=function(c){var u=s.$keyboardNavigation._pasteDate,f=s.$keyboardNavigation._pasteSection,y=c.end_date-c.start_date,x=o(c);if(function(k){delete k.rec_type,delete k.rec_pattern,delete k.event_pid,delete k.event_length}(x),x.start_date=new Date(u),x.end_date=new Date(x.start_date.valueOf()+y),f){var g=s._get_section_property();s.config.multisection?x[g]=c[g]:x[g]=f}return x},s._do_paste=function(c,u,f){s.callEvent("onBeforeEventPasted",[c,u,f])!==!1&&(s.addEvent(u),s.callEvent("onEventPasted",[c,u,f]))},s._is_key_nav_active=function(){return!(!this._is_initialized()||this._is_lightbox_open()||!this.config.key_nav)},s.event(document,"keydown",function(c){(c.ctrlKey||c.metaKey)&&c.keyCode==86&&s._buffer_event&&!s.$keyboardNavigation.dispatcher.isEnabled()&&(s.$keyboardNavigation.dispatcher.isActive=_())}),s._key_nav_copy_paste=function(c){if(!s._is_key_nav_active())return!0;if(c.keyCode==37||c.keyCode==39){c.cancelBubble=!0;var u=s.date.add(s._date,c.keyCode==37?-1:1,s._mode);return s.setCurrentView(u),!0}var f=function(){var g=s.$keyboardNavigation.dispatcher.getActiveNode();return g&&g.eventId?g.eventId:s._select_id}();if((c.ctrlKey||c.metaKey)&&c.keyCode==67)return f&&(s._buffer_event=o(s.getEvent(f)),w=!0,s.callEvent("onEventCopied",[s.getEvent(f)])),!0;if((c.ctrlKey||c.metaKey)&&c.keyCode==88&&f){w=!1;var y=s._buffer_event=o(s.getEvent(f));s.updateEvent(y.id),s.callEvent("onEventCut",[y])}if((c.ctrlKey||c.metaKey)&&c.keyCode==86&&_()){if(y=(y=s._buffer_event?s.getEvent(s._buffer_event.id):s._buffer_event)||s._buffer_event){var x=s._make_pasted_event(y);w?(x.id=s.uid(),s._do_paste(w,x,y)):s.callEvent("onBeforeEventChanged",[x,c,!1,y])&&(s._do_paste(w,x,y),w=!0)}return!0}}},s._temp_key_scope()},YS=function(s){s.$keyboardNavigation.attachSchedulerHandlers=function(){var w,d=s.$keyboardNavigation.dispatcher,m=function(f){if(s.config.key_nav)return d.keyDownHandler(f)},_=function(){d.keepScrollPosition(function(){d.focusGlobalNode()})};s.attachEvent("onDataRender",function(){s.config.key_nav&&d.isEnabled()&&!s.getState().editor_id&&(clearTimeout(w),w=setTimeout(function(){d.isEnabled()||d.enable(),o()}))});var o=function(){if(d.isEnabled()){var f=d.getActiveNode();f&&(f.isValid()||(f=f.fallback()),!f||f instanceof s.$keyboardNavigation.MinicalButton||f instanceof s.$keyboardNavigation.MinicalCell||d.keepScrollPosition(function(){f.focus(!0)}))}};function c(f){if(!s.config.key_nav)return!0;var y,x=s.$keyboardNavigation.isChildOf(f.target||f.srcElement,s.$container.querySelector(".dhx_cal_data")),g=s.getActionData(f);s._locate_event(f.target||f.srcElement)?y=new s.$keyboardNavigation.Event(s._locate_event(f.target||f.srcElement)):x&&(y=new s.$keyboardNavigation.TimeSlot,g.date&&x&&(y=y.nextSlot(new s.$keyboardNavigation.TimeSlot(g.date,null,g.section)))),y&&(d.isEnabled()?g.date&&x&&d.delay(function(){d.setActiveNode(y)}):d.activeNode=y)}s.attachEvent("onSchedulerReady",function(){var f=s.$container;s.eventRemove(document,"keydown",m),s.eventRemove(f,"mousedown",c),s.eventRemove(f,"focus",_),s.config.key_nav?(s.event(document,"keydown",m),s.event(f,"mousedown",c),s.event(f,"focus",_),f.setAttribute("tabindex","0")):f.removeAttribute("tabindex")});var u=s.updateEvent;s.updateEvent=function(f){var y=u.apply(this,arguments);if(s.config.key_nav&&d.isEnabled()&&s.getState().select_id==f){var x=new s.$keyboardNavigation.Event(f);s.getState().lightbox_id||function(g){if(s.config.key_nav&&d.isEnabled()){var k=g,b=new s.$keyboardNavigation.Event(k.eventId);if(!b.isValid()){var E=b.start||k.start,T=b.end||k.end,O=b.section||k.section;(b=new s.$keyboardNavigation.TimeSlot(E,T,O)).isValid()||(b=new s.$keyboardNavigation.TimeSlot)}d.setActiveNode(b);var U=d.getActiveNode();U&&U.getNode&&document.activeElement!=U.getNode()&&d.focusNode(d.getActiveNode())}}(x)}return y},s.attachEvent("onEventDeleted",function(f){return s.config.key_nav&&d.isEnabled()&&d.getActiveNode().eventId==f&&d.setActiveNode(new s.$keyboardNavigation.TimeSlot),!0}),s.attachEvent("onClearAll",function(){if(!s.config.key_nav)return!0;d.isEnabled()&&d.getActiveNode()instanceof s.$keyboardNavigation.Event&&d.setActiveNode(new s.$keyboardNavigation.TimeSlot)})}};function Ic(s){return(Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}function Ah(s){return(Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}function jg(s){return(jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}function zg(s){return(zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}function Oh(s){return(Oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w})(s)}var Mh=new(function(){function s(w){(function(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")})(this,s),this._seed=0,this._schedulerPlugins=[],this._bundledExtensions=w,this._extensionsManager=new WS(w)}return function(w,d,m){d&&Ug(w.prototype,d),m&&Ug(w,m)}(s,[{key:"plugin",value:function(w){this._schedulerPlugins.push(w),a.a.scheduler&&w(a.a.scheduler)}},{key:"getSchedulerInstance",value:function(w){for(var d=mo(this._extensionsManager),m=0;m<this._schedulerPlugins.length;m++)this._schedulerPlugins[m](d);return d._internal_id=this._seed++,this.$syncFactory&&this.$syncFactory(d),w&&this._initFromConfig(d,w),d}},{key:"_initFromConfig",value:function(w,d){if(d.plugins&&w.plugins(d.plugins),d.config&&w.mixin(w.config,d.config,!0),d.templates&&w.attachEvent("onTemplatesReady",function(){w.mixin(w.templates,d.templates,!0)},{once:!0}),d.events)for(var m in d.events)w.attachEvent(m,d.events[m]);d.locale&&w.i18n.setLocale(d.locale),Array.isArray(d.calendars)&&d.calendars.forEach(function(_){w.addCalendar(_)}),d.container?w.init(d.container):w.init(),d.data&&(typeof d.data=="string"?w.load(d.data):w.parse(d.data))}}]),s}())({active_links:function(s){s.config.active_link_view="day",s._active_link_click=function(w){var d=w.target.getAttribute("data-link-date"),m=s.date.str_to_date(s.config.api_date,!1,!0);if(d)return s.setCurrentView(m(d),s.config.active_link_view),w&&w.preventDefault&&w.preventDefault(),!1},s.attachEvent("onTemplatesReady",function(){var w=function(m,_){_=_||m+"_scale_date",s.templates["_active_links_old_"+_]||(s.templates["_active_links_old_"+_]=s.templates[_]);var o=s.templates["_active_links_old_"+_],c=s.date.date_to_str(s.config.api_date);s.templates[_]=function(u){return"<a data-link-date='"+c(u)+"' href='#'>"+o(u)+"</a>"}};if(w("week"),w("","month_day"),this.matrix)for(var d in this.matrix)w(d);this._detachDomEvent(this._obj,"click",s._active_link_click),s.event(this._obj,"click",s._active_link_click)})},agenda_view:function(s){s.date.add_agenda=function(w){return s.date.add(w,1,"year")},s.templates.agenda_time=function(w,d,m){return m._timed?this.day_date(m.start_date,m.end_date,m)+" "+this.event_date(w):s.templates.day_date(w)+" &ndash; "+s.templates.day_date(d)},s.templates.agenda_text=function(w,d,m){return m.text},s.templates.agenda_date=function(){return""},s.date.agenda_start=function(){return s.date.date_part(s._currentDate())},s.attachEvent("onTemplatesReady",function(){var w=s.dblclick_dhx_cal_data;s.dblclick_dhx_cal_data=function(){if(this._mode=="agenda")!this.config.readonly&&this.config.dblclick_create&&this.addEventNow();else if(w)return w.apply(this,arguments)};var d=s.render_data;s.render_data=function(o){if(this._mode!="agenda")return d.apply(this,arguments);_()};var m=s.render_view_data;function _(){var o=s.get_visible_events();o.sort(function(U,$){return U.start_date>$.start_date?1:-1});for(var c,u="<div class='dhx_agenda_area' "+s._waiAria.agendaDataAttrString()+">",f=0;f<o.length;f++){var y=o[f],x=y.color?"background:"+y.color+";":"",g=y.textColor?"color:"+y.textColor+";":"",k=s.templates.event_class(y.start_date,y.end_date,y);c=s._waiAria.agendaEventAttrString(y);var b=s._waiAria.agendaDetailsBtnString();u+="<div "+c+" class='dhx_agenda_line"+(k?" "+k:"")+"' event_id='"+y.id+"' "+s.config.event_attribute+"='"+y.id+"' style='"+g+x+(y._text_style||"")+"'><div class='dhx_agenda_event_time'>"+(s.config.rtl?s.templates.agenda_time(y.end_date,y.start_date,y):s.templates.agenda_time(y.start_date,y.end_date,y))+"</div>",u+="<div "+b+" class='dhx_event_icon icon_details'>&nbsp;</div>",u+="<span>"+s.templates.agenda_text(y.start_date,y.end_date,y)+"</span></div>"}u+="<div class='dhx_v_border'></div></div>",s._els.dhx_cal_data[0].innerHTML=u,s._els.dhx_cal_data[0].childNodes[0].scrollTop=s._agendaScrollTop||0;var E=s._els.dhx_cal_data[0].childNodes[0];E.childNodes[E.childNodes.length-1].style.height=E.offsetHeight<s._els.dhx_cal_data[0].offsetHeight?"100%":E.offsetHeight+"px";var T=s._els.dhx_cal_data[0].firstChild.childNodes,O=s._getNavDateElement();for(O&&(O.innerHTML=s.templates.agenda_date(s._min_date,s._max_date,s._mode)),s._rendered=[],f=0;f<T.length-1;f++)s._rendered[f]=T[f]}s.render_view_data=function(){return this._mode=="agenda"&&(s._agendaScrollTop=s._els.dhx_cal_data[0].childNodes[0].scrollTop,s._els.dhx_cal_data[0].childNodes[0].scrollTop=0),m.apply(this,arguments)},s.agenda_view=function(o){s._min_date=s.config.agenda_start||s.date.agenda_start(s._date),s._max_date=s.config.agenda_end||s.date.add_agenda(s._min_date,1),function(c){if(c){var u=s.locale.labels,f=s._waiAria.agendaHeadAttrString(),y=s._waiAria.agendaHeadDateString(u.date),x=s._waiAria.agendaHeadDescriptionString(u.description);s._els.dhx_cal_header[0].innerHTML="<div "+f+" class='dhx_agenda_line'><div "+y+">"+u.date+"</div><span class = 'description_header' style='padding-left:25px' "+x+">"+u.description+"</span></div>",s._table_view=!0,s.set_sizes()}}(o),o?(s._cols=null,s._colsS=null,s._table_view=!0,_()):s._table_view=!1}})},all_timed:function(s){s.config.all_timed="short",s.config.all_timed_month=!1;var w=function(u){return!((u.end_date-u.start_date)/36e5>=24)||s._drag_mode=="resize"&&s._drag_id==u.id};s._safe_copy=function(u){var f=null,y=s._copy_event(u);return u.event_pid&&(f=s.getEvent(u.event_pid)),f&&f.isPrototypeOf(u)&&(delete y.event_length,delete y.event_pid,delete y.rec_pattern,delete y.rec_type),y};var d=s._pre_render_events_line,m=s._pre_render_events_table,_=function(u,f){return this._table_view?m.call(this,u,f):d.call(this,u,f)};s._pre_render_events_line=s._pre_render_events_table=function(u,f){if(!this.config.all_timed||this._table_view&&this._mode!="month"||this._mode=="month"&&!this.config.all_timed_month)return _.call(this,u,f);for(var y=0;y<u.length;y++){var x=u[y];if(!x._timed)if(this.config.all_timed!="short"||w(x)){var g=this._safe_copy(x);x._virtual?g._first_chunk=!1:g._first_chunk=!0,g._drag_resize=!1,g._virtual=!0,g.start_date=new Date(g.start_date),T(x)?(g.end_date=O(g.start_date),this.config.last_hour!=24&&(g.end_date=U(g.start_date,this.config.last_hour))):g.end_date=new Date(x.end_date);var k=!1;g.start_date<this._max_date&&g.end_date>this._min_date&&g.start_date<g.end_date&&(u[y]=g,k=!0);var b=this._safe_copy(x);if(b._virtual=!0,b.end_date=new Date(b.end_date),b.start_date<this._min_date?b.start_date=U(this._min_date,this.config.first_hour):b.start_date=U(O(x.start_date),this.config.first_hour),b.start_date<this._max_date&&b.start_date<b.end_date){if(!k){u[y--]=b;continue}u.splice(y+1,0,b),b._last_chunk=!1}else g._last_chunk=!0,g._drag_resize=!0}else this._mode!="month"&&u.splice(y--,1)}var E=this._drag_mode!="move"&&f;return _.call(this,u,E);function T($){var V=O($.start_date);return+$.end_date>+V}function O($){var V=s.date.add($,1,"day");return V=s.date.date_part(V)}function U($,V){var Q=s.date.date_part(new Date($));return Q.setHours(V),Q}};var o=s.get_visible_events;s.get_visible_events=function(u){return this.config.all_timed&&this.config.multi_day?o.call(this,!1):o.call(this,u)},s.attachEvent("onBeforeViewChange",function(u,f,y,x){return s._allow_dnd=y=="day"||y=="week",!0}),s._is_main_area_event=function(u){return!!(u._timed||this.config.all_timed===!0||this.config.all_timed=="short"&&w(u))};var c=s.updateEvent;s.updateEvent=function(u){var f,y,x=s.getEvent(u);x&&(f=s.config.all_timed&&!(s.isOneDayEvent(s._events[u])||s.getState().drag_id))&&(y=s.config.update_render,s.config.update_render=!0),c.apply(s,arguments),x&&f&&(s.config.update_render=y)}},collision:function(s){var w,d;function m(_){s._get_section_view()&&_&&(w=s.getEvent(_)[s._get_section_property()])}s.config.collision_limit=1,s.attachEvent("onBeforeDrag",function(_){return m(_),!0}),s.attachEvent("onBeforeLightbox",function(_){var o=s.getEvent(_);return d=[o.start_date,o.end_date],m(_),!0}),s.attachEvent("onEventChanged",function(_){if(!_||!s.getEvent(_))return!0;var o=s.getEvent(_);if(!s.checkCollision(o)){if(!d)return!1;o.start_date=d[0],o.end_date=d[1],o._timed=this.isOneDayEvent(o)}return!0}),s.attachEvent("onBeforeEventChanged",function(_,o,c){return s.checkCollision(_)}),s.attachEvent("onEventAdded",function(_,o){s.checkCollision(o)||s.deleteEvent(_)}),s.attachEvent("onEventSave",function(_,o,c){if((o=s._lame_clone(o)).id=_,!o.start_date||!o.end_date){var u=s.getEvent(_);o.start_date=new Date(u.start_date),o.end_date=new Date(u.end_date)}return o.rec_type&&s._roll_back_dates(o),s.checkCollision(o)}),s._check_sections_collision=function(_,o){var c=s._get_section_property();return _[c]==o[c]&&_.id!=o.id},s.checkCollision=function(_){var o=[],c=s.config.collision_limit;if(_.rec_type)for(var u=s.getRecDates(_),f=0;f<u.length;f++)for(var y=s.getEvents(u[f].start_date,u[f].end_date),x=0;x<y.length;x++)(y[x].event_pid||y[x].id)!=_.id&&o.push(y[x]);else{o=s.getEvents(_.start_date,_.end_date);for(var g=0;g<o.length;g++){var k=o[g];if(k.id==_.id||k.event_length&&[k.event_pid,k.event_length].join("#")==_.id){o.splice(g,1);break}}}var b=s._get_section_view(),E=s._get_section_property(),T=!0;if(b){var O=0;for(g=0;g<o.length;g++)o[g].id!=_.id&&this._check_sections_collision(o[g],_)&&O++;O>=c&&(T=!1)}else o.length>=c&&(T=!1);if(!T){var U=!s.callEvent("onEventCollision",[_,o]);return U||(_[E]=w||_[E]),U}return T}},container_autoresize:function(s){s.config.container_autoresize=!0,s.config.month_day_min_height=90,s.config.min_grid_size=25,s.config.min_map_size=400;var w=s._pre_render_events,d=!0,m=0,_=0;s._pre_render_events=function(x,g){if(!s.config.container_autoresize||!d)return w.apply(this,arguments);var k=this.xy.bar_height,b=this._colsS.heights,E=this._colsS.heights=[0,0,0,0,0,0,0],T=this._els.dhx_cal_data[0];if(x=this._table_view?this._pre_render_events_table(x,g):this._pre_render_events_line(x,g),this._table_view)if(g)this._colsS.heights=b;else{var O=T.firstChild;if(O.rows){for(var U=0;U<O.rows.length;U++){if(E[U]++,E[U]*k>this._colsS.height-this.xy.month_head_height){var $=O.rows[U].cells,V=this._colsS.height-this.xy.month_head_height;1*this.config.max_month_events!==this.config.max_month_events||E[U]<=this.config.max_month_events?V=E[U]*k:(this.config.max_month_events+1)*k>this._colsS.height-this.xy.month_head_height&&(V=(this.config.max_month_events+1)*k);for(var Q=0;Q<$.length;Q++)$[Q].childNodes[1].style.height=V+"px";E[U]=(E[U-1]||0)+$[0].offsetHeight}E[U]=(E[U-1]||0)+O.rows[U].cells[0].offsetHeight}E.unshift(0),O.parentNode.offsetHeight<O.parentNode.scrollHeight&&O._h_fix}else if(x.length||this._els.dhx_multi_day[0].style.visibility!="visible"||(E[0]=-1),x.length||E[0]==-1){var ee=(E[0]+1)*k+1;_!=ee+1&&(this._obj.style.height=m-_+ee-1+"px"),ee+="px",T.style.top=this._els.dhx_cal_navline[0].offsetHeight+this._els.dhx_cal_header[0].offsetHeight+parseInt(ee,10)+"px",T.style.height=this._obj.offsetHeight-parseInt(T.style.top,10)-(this.xy.margin_top||0)+"px";var G=this._els.dhx_multi_day[0];G.style.height=ee,G.style.visibility=E[0]==-1?"hidden":"visible",(G=this._els.dhx_multi_day[1]).style.height=ee,G.style.visibility=E[0]==-1?"hidden":"visible",G.className=E[0]?"dhx_multi_day_icon":"dhx_multi_day_icon_small",this._dy_shift=(E[0]+1)*k,E[0]=0}}return x};var o=["dhx_cal_navline","dhx_cal_header","dhx_multi_day","dhx_cal_data"],c=function(x){m=0;for(var g=0;g<o.length;g++){var k=o[g],b=s._els[k]?s._els[k][0]:null,E=0;switch(k){case"dhx_cal_navline":case"dhx_cal_header":E=parseInt(b.style.height,10);break;case"dhx_multi_day":E=b?b.offsetHeight-1:0,_=E;break;case"dhx_cal_data":var T=s.getState().mode;if(E=b.childNodes[1]&&T!="month"?b.childNodes[1].offsetHeight:Math.max(b.offsetHeight-1,b.scrollHeight),T=="month")s.config.month_day_min_height&&!x&&(E=b.getElementsByTagName("tr").length*s.config.month_day_min_height),x&&(b.style.height=E+"px");else if(T=="year")E=190*s.config.year_y;else if(T=="agenda"){if(E=0,b.childNodes&&b.childNodes.length)for(var O=0;O<b.childNodes.length;O++)E+=b.childNodes[O].offsetHeight;E+2<s.config.min_grid_size?E=s.config.min_grid_size:E+=2}else if(T=="week_agenda"){for(var U,$,V=s.xy.week_agenda_scale_height+s.config.min_grid_size,Q=0;Q<b.childNodes.length;Q++)for($=b.childNodes[Q],O=0;O<$.childNodes.length;O++){for(var ee=0,G=$.childNodes[O].childNodes[1],re=0;re<G.childNodes.length;re++)ee+=G.childNodes[re].offsetHeight;U=ee+s.xy.week_agenda_scale_height,(U=Q!=1||O!=2&&O!=3?U:2*U)>V&&(V=U)}E=3*V}else if(T=="map"){E=0;var q=b.querySelectorAll(".dhx_map_line");for(O=0;O<q.length;O++)E+=q[O].offsetHeight;E+2<s.config.min_map_size?E=s.config.min_map_size:E+=2}else if(s._gridView)if(E=0,b.childNodes[1].childNodes[0].childNodes&&b.childNodes[1].childNodes[0].childNodes.length){for(q=b.childNodes[1].childNodes[0].childNodes[0].childNodes,O=0;O<q.length;O++)E+=q[O].offsetHeight;(E+=2)<s.config.min_grid_size&&(E=s.config.min_grid_size)}else E=s.config.min_grid_size;if(s.matrix&&s.matrix[T]){if(x)E+=0,b.style.height=E+"px";else{E=0;for(var X=s.matrix[T],J=X.y_unit,ye=0;ye<J.length;ye++)E+=X.getSectionHeight(J[ye].key);s.$container.clientWidth!=s.$container.scrollWidth&&(E+=y())}E-=1}(T=="day"||T=="week"||s._props&&s._props[T])&&(E+=2)}m+=E+=1}s._obj.style.height=m+"px",x||s.updateView()};function u(){d=!1,s.callEvent("onAfterSchedulerResize",[]),d=!0}var f=function(){if(!s.config.container_autoresize||!d)return!0;var x=s.getState().mode;if(!x)return!0;var g=window.requestAnimationFrame||window.setTimeout,k=document.documentElement.scrollTop;g(function(){c()}),s.matrix&&s.matrix[x]||x=="month"?g(function(){c(!0),document.documentElement.scrollTop=k,u()},1):u()};function y(){var x=document.createElement("div");x.style.cssText="visibility:hidden;position:absolute;left:-1000px;width:100px;padding:0px;margin:0px;height:110px;min-height:100px;overflow-y:scroll;",document.body.appendChild(x);var g=x.offsetWidth-x.clientWidth;return document.body.removeChild(x),g}s.attachEvent("onBeforeViewChange",function(){var x=s.config.container_autoresize;if(s.xy.$original_scroll_width||(s.xy.$original_scroll_width=s.xy.scroll_width),s.xy.scroll_width=x?0:s.xy.$original_scroll_width,s.matrix)for(var g in s.matrix){var k=s.matrix[g];k.$original_section_autoheight||(k.$original_section_autoheight=k.section_autoheight),k.section_autoheight=!x&&k.$original_section_autoheight}return!0}),s.attachEvent("onViewChange",f),s.attachEvent("onXLE",f),s.attachEvent("onEventChanged",f),s.attachEvent("onEventCreated",f),s.attachEvent("onEventAdded",f),s.attachEvent("onEventDeleted",f),s.attachEvent("onAfterSchedulerResize",f),s.attachEvent("onClearAll",f),s.attachEvent("onBeforeExpand",function(){return d=!1,!0}),s.attachEvent("onBeforeCollapse",function(){return d=!0,!0})},cookie:function(s){function w(_){return(_._obj.id||"scheduler")+"_settings"}var d=!0;s.attachEvent("onBeforeViewChange",function(_,o,c,u){if(d&&s._get_url_nav){var f=s._get_url_nav();(f.date||f.mode||f.event)&&(d=!1)}var y=w(s);if(d){d=!1;var x=function(k){var b=k+"=";if(document.cookie.length>0){var E=document.cookie.indexOf(b);if(E!=-1){E+=b.length;var T=document.cookie.indexOf(";",E);return T==-1&&(T=document.cookie.length),document.cookie.substring(E,T)}}return""}(y);if(x){s._min_date||(s._min_date=u),(x=unescape(x).split("@"))[0]=this._helpers.parseDate(x[0]);var g=this.isViewExists(x[1])?x[1]:c;return u=isNaN(+x[0])?u:x[0],window.setTimeout(function(){s.setCurrentView(u,g)},1),!1}}return!0}),s.attachEvent("onViewChange",function(_,o){(function(c,u,f){var y=c+"="+f+(u?"; "+u:"");document.cookie=y})(w(s),"expires=Sun, 31 Jan 9999 22:00:00 GMT",escape(this._helpers.formatDate(o)+"@"+_))});var m=s._load;s._load=function(){var _=arguments;if(s._date)m.apply(this,_);else{var o=this;window.setTimeout(function(){m.apply(o,_)},1)}}},daytimeline:function(s){wi("Day Timeline",s.assert)},drag_between:function(s){wi("Drag Between",s.assert)},editors:function(s){s.form_blocks.combo={render:function(w){w.cached_options||(w.cached_options={});var d="";return d+="<div class='"+w.type+"' style='height:"+(w.height||20)+"px;' ></div>"},set_value:function(w,d,m,_){(function(){b();var k=s.attachEvent("onAfterLightbox",function(){b(),s.detachEvent(k)});function b(){if(w._combo&&w._combo.DOMParent){var E=w._combo;E.unload?E.unload():E.destructor&&E.destructor(),E.DOMParent=E.DOMelem=null}}})(),window.dhx_globalImgPath=_.image_path||"/",w._combo=new dhtmlXCombo(w,_.name,w.offsetWidth-8),_.onchange&&w._combo.attachEvent("onChange",_.onchange),_.options_height&&w._combo.setOptionHeight(_.options_height);var o=w._combo;if(o.enableFilteringMode(_.filtering,_.script_path||null,!!_.cache),_.script_path){var c=m[_.map_to];c?_.cached_options[c]?(o.addOption(c,_.cached_options[c]),o.disable(1),o.selectOption(0),o.disable(0)):s.ajax.get(_.script_path+"?id="+c+"&uid="+s.uid(),function(k){var b,E=k.xmlDoc.responseText;try{b=JSON.parse(E).options[0].text}catch{b=s.ajax.xpath("//option",k.xmlDoc)[0].childNodes[0].nodeValue}_.cached_options[c]=b,o.addOption(c,b),o.disable(1),o.selectOption(0),o.disable(0)}):o.setComboValue("")}else{for(var u=[],f=0;f<_.options.length;f++){var y=_.options[f],x=[y.key,y.label,y.css];u.push(x)}if(o.addOption(u),m[_.map_to]){var g=o.getIndexByValue(m[_.map_to]);o.selectOption(g)}}},get_value:function(w,d,m){var _=w._combo.getSelectedValue();return m.script_path&&(m.cached_options[_]=w._combo.getSelectedText()),_},focus:function(w){}},s.form_blocks.radio={render:function(w){var d="";d+="<div class='dhx_cal_ltext dhx_cal_radio' style='height:"+w.height+"px;' >";for(var m=0;m<w.options.length;m++){var _=s.uid();d+="<input id='"+_+"' type='radio' name='"+w.name+"' value='"+w.options[m].key+"'><label for='"+_+"'> "+w.options[m].label+"</label>",w.vertical&&(d+="<br/>")}return d+="</div>"},set_value:function(w,d,m,_){for(var o=w.getElementsByTagName("input"),c=0;c<o.length;c++){o[c].checked=!1;var u=m[_.map_to]||d;o[c].value==u&&(o[c].checked=!0)}},get_value:function(w,d,m){for(var _=w.getElementsByTagName("input"),o=0;o<_.length;o++)if(_[o].checked)return _[o].value},focus:function(w){}},s.form_blocks.checkbox={render:function(w){return s.config.wide_form?'<div class="dhx_cal_wide_checkbox" '+(w.height?"style='height:"+w.height+"px;'":"")+"></div>":""},set_value:function(w,d,m,_){w=document.getElementById(_.id);var o=s.uid(),c=_.checked_value!==void 0?d==_.checked_value:!!d;w.className+=" dhx_cal_checkbox";var u="<input id='"+o+"' type='checkbox' value='true' name='"+_.name+"'"+(c?"checked='true'":"")+"'>",f="<label for='"+o+"'>"+(s.locale.labels["section_"+_.name]||_.name)+"</label>";if(s.config.wide_form?(w.innerHTML=f,w.nextSibling.innerHTML=u):w.innerHTML=u+f,_.handler){var y=w.getElementsByTagName("input")[0];if(y.$_eventAttached)return;y.$_eventAttached=!0,s.event(y,"click",_.handler)}},get_value:function(w,d,m){var _=(w=document.getElementById(m.id)).getElementsByTagName("input")[0];return _||(_=w.nextSibling.getElementsByTagName("input")[0]),_.checked?m.checked_value||!0:m.unchecked_value||!1},focus:function(w){}}},expand:function(s){s.ext.fullscreen={toggleIcon:null},s.expand=function(){if(s.callEvent("onBeforeExpand",[])){var w=s._obj;do w._position=w.style.position||"",w.style.position="static";while((w=w.parentNode)&&w.style);(w=s._obj).style.position="absolute",w._width=w.style.width,w._height=w.style.height,w.style.width=w.style.height="100%",w.style.top=w.style.left="0px";var d=document.body;d.scrollTop=0,(d=d.parentNode)&&(d.scrollTop=0),document.body._overflow=document.body.style.overflow||"",document.body.style.overflow="hidden",s._maximize(),s.callEvent("onExpand",[])}},s.collapse=function(){if(s.callEvent("onBeforeCollapse",[])){var w=s._obj;do w.style.position=w._position;while((w=w.parentNode)&&w.style);(w=s._obj).style.width=w._width,w.style.height=w._height,document.body.style.overflow=document.body._overflow,s._maximize(),s.callEvent("onCollapse",[])}},s.attachEvent("onTemplatesReady",function(){var w=document.createElement("div");w.className="dhx_expand_icon",s.ext.fullscreen.toggleIcon=w,s._obj.appendChild(w),s.event(w,"click",function(){s.expanded?s.collapse():s.expand()})}),s._maximize=function(){this.expanded=!this.expanded,s.ext.fullscreen.toggleIcon.style.backgroundPosition="0 "+(this.expanded?"0":"18")+"px";for(var w=["left","top"],d=0;d<w.length;d++){var m=s["_prev_margin_"+w[d]];s.xy["margin_"+w[d]]?(s["_prev_margin_"+w[d]]=s.xy["margin_"+w[d]],s.xy["margin_"+w[d]]=0):m&&(s.xy["margin_"+w[d]]=s["_prev_margin_"+w[d]],delete s["_prev_margin_"+w[d]])}s.setCurrentView()}},grid_view:function(s){wi("Grid",s.assert)},html_templates:function(s){s.attachEvent("onTemplatesReady",function(){for(var w=document.body.getElementsByTagName("DIV"),d=0;d<w.length;d++){var m=w[d].className||"";if((m=m.split(":")).length==2&&m[0]=="template"){var _='return "'+(w[d].innerHTML||"").replace(/"/g,'\\"').replace(/[\n\r]+/g,"")+'";';_=unescape(_).replace(/\{event\.([a-z]+)\}/g,function(o,c){return'"+ev.'+c+'+"'}),s.templates[m[1]]=Function("start","end","ev",_),w[d].style.display="none"}}})},key_nav:function(s){function w(d){var m={minicalButton:s.$keyboardNavigation.MinicalButton,minicalDate:s.$keyboardNavigation.MinicalCell,scheduler:s.$keyboardNavigation.SchedulerNode,dataArea:s.$keyboardNavigation.DataArea,timeSlot:s.$keyboardNavigation.TimeSlot,event:s.$keyboardNavigation.Event},_={};for(var o in m)_[o.toLowerCase()]=m[o];return _[d=(d+"").toLowerCase()]||m.scheduler}s.config.key_nav=!0,s.config.key_nav_step=30,s.addShortcut=function(d,m,_){var o=w(_);o&&o.prototype.bind(d,m)},s.getShortcutHandler=function(d,m){var _=w(m);if(_){var o=s.$keyboardNavigation.shortcuts.parse(d);if(o.length)return _.prototype.findHandler(o[0])}},s.removeShortcut=function(d,m){var _=w(m);_&&_.prototype.unbind(d)},s.focus=function(){if(s.config.key_nav){var d=s.$keyboardNavigation.dispatcher;d.enable();var m=d.getActiveNode();!m||m instanceof s.$keyboardNavigation.MinicalButton||m instanceof s.$keyboardNavigation.MinicalCell?d.setDefaultNode():d.focusNode(d.getActiveNode())}},s.$keyboardNavigation={},s._compose=function(){for(var d=Array.prototype.slice.call(arguments,0),m={},_=0;_<d.length;_++){var o=d[_];for(var c in typeof o=="function"&&(o=new o),o)m[c]=o[c]}return m},function(d){d.$keyboardNavigation.shortcuts={createCommand:function(){return{modifiers:{shift:!1,alt:!1,ctrl:!1,meta:!1},keyCode:null}},parse:function(m){for(var _=[],o=this.getExpressions(this.trim(m)),c=0;c<o.length;c++){for(var u=this.getWords(o[c]),f=this.createCommand(),y=0;y<u.length;y++)this.commandKeys[u[y]]?f.modifiers[u[y]]=!0:this.specialKeys[u[y]]?f.keyCode=this.specialKeys[u[y]]:f.keyCode=u[y].charCodeAt(0);_.push(f)}return _},getCommandFromEvent:function(m){var _=this.createCommand();_.modifiers.shift=!!m.shiftKey,_.modifiers.alt=!!m.altKey,_.modifiers.ctrl=!!m.ctrlKey,_.modifiers.meta=!!m.metaKey,_.keyCode=m.which||m.keyCode,_.keyCode>=96&&_.keyCode<=105&&(_.keyCode-=48);var o=String.fromCharCode(_.keyCode);return o&&(_.keyCode=o.toLowerCase().charCodeAt(0)),_},getHashFromEvent:function(m){return this.getHash(this.getCommandFromEvent(m))},getHash:function(m){var _=[];for(var o in m.modifiers)m.modifiers[o]&&_.push(o);return _.push(m.keyCode),_.join(this.junctionChar)},getExpressions:function(m){return m.split(this.junctionChar)},getWords:function(m){return m.split(this.combinationChar)},trim:function(m){return m.replace(/\s/g,"")},junctionChar:",",combinationChar:"+",commandKeys:{shift:16,alt:18,ctrl:17,meta:!0},specialKeys:{backspace:8,tab:9,enter:13,esc:27,space:32,up:38,down:40,left:37,right:39,home:36,end:35,pageup:33,pagedown:34,delete:46,insert:45,plus:107,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123}}}(s),function(d){d.$keyboardNavigation.EventHandler={_handlers:null,findHandler:function(m){this._handlers||(this._handlers={});var _=d.$keyboardNavigation.shortcuts.getHash(m);return this._handlers[_]},doAction:function(m,_){var o=this.findHandler(m);o&&(o.call(this,_),_.preventDefault?_.preventDefault():_.returnValue=!1)},bind:function(m,_){this._handlers||(this._handlers={});for(var o=d.$keyboardNavigation.shortcuts,c=o.parse(m),u=0;u<c.length;u++)this._handlers[o.getHash(c[u])]=_},unbind:function(m){for(var _=d.$keyboardNavigation.shortcuts,o=_.parse(m),c=0;c<o.length;c++)this._handlers[_.getHash(o[c])]&&delete this._handlers[_.getHash(o[c])]},bindAll:function(m){for(var _ in m)this.bind(_,m[_])},initKeys:function(){this._handlers||(this._handlers={}),this.keys&&this.bindAll(this.keys)}}}(s),function(d){d.$keyboardNavigation.getFocusableNodes=d._getFocusableNodes,d.$keyboardNavigation.trapFocus=function(m,_){if(_.keyCode!=9)return!1;for(var o,c=d.$keyboardNavigation.getFocusableNodes(m),u=document.activeElement,f=-1,y=0;y<c.length;y++)if(c[y]==u){f=y;break}if(_.shiftKey){if(o=c[f<=0?c.length-1:f-1])return o.focus(),_.preventDefault(),!0}else if(o=c[f>=c.length-1?0:f+1])return o.focus(),_.preventDefault(),!0;return!1}}(s),function(d){d.$keyboardNavigation.marker={clear:function(){for(var m=d.$container.querySelectorAll(".dhx_focus_slot"),_=0;_<m.length;_++)m[_].parentNode.removeChild(m[_])},createElement:function(){var m=document.createElement("div");return m.setAttribute("tabindex",-1),m.className="dhx_focus_slot",m},renderMultiple:function(m,_,o){for(var c=[],u=new Date(m),f=new Date(Math.min(_.valueOf(),d.date.add(d.date.day_start(new Date(m)),1,"day").valueOf()));u.valueOf()<_.valueOf();)c=c.concat(o.call(this,u,new Date(Math.min(f.valueOf(),_.valueOf())))),u=d.date.day_start(d.date.add(u,1,"day")),f=d.date.day_start(d.date.add(u,1,"day")),f=new Date(Math.min(f.valueOf(),_.valueOf()));return c},render:function(m,_,o){this.clear();var c=[],u=d.$keyboardNavigation.TimeSlot.prototype._modes;switch(d.$keyboardNavigation.TimeSlot.prototype._getMode()){case u.units:c=this.renderVerticalMarker(m,_,o);break;case u.timeline:c=this.renderTimelineMarker(m,_,o);break;case u.year:c=c.concat(this.renderMultiple(m,_,this.renderYearMarker));break;case u.month:c=this.renderMonthMarker(m,_);break;case u.weekAgenda:c=c.concat(this.renderMultiple(m,_,this.renderWeekAgendaMarker));break;case u.list:c=this.renderAgendaMarker(m,_);break;case u.dayColumns:c=c.concat(this.renderMultiple(m,_,this.renderVerticalMarker))}this.addWaiAriaLabel(c,m,_,o),this.addDataAttributes(c,m,_,o);for(var f=c.length-1;f>=0;f--)if(c[f].offsetWidth)return c[f];return null},addDataAttributes:function(m,_,o,c){for(var u=d.date.date_to_str(d.config.api_date),f=u(_),y=u(o),x=0;x<m.length;x++)m[x].setAttribute("data-start-date",f),m[x].setAttribute("data-end-date",y),c&&m[x].setAttribute("data-section",c)},addWaiAriaLabel:function(m,_,o,c){var u="",f=d.getState().mode,y=!1;u+=d.templates.day_date(_),d.date.day_start(new Date(_)).valueOf()!=_.valueOf()&&(u+=" "+d.templates.hour_scale(_),y=!0),d.date.day_start(new Date(_)).valueOf()!=d.date.day_start(new Date(o)).valueOf()&&(u+=" - "+d.templates.day_date(o),(y||d.date.day_start(new Date(o)).valueOf()!=o.valueOf())&&(u+=" "+d.templates.hour_scale(o))),c&&(d.matrix&&d.matrix[f]?u+=", "+d.templates[f+"_scale_label"](c.key,c.label,c):d._props&&d._props[f]&&(u+=", "+d.templates[f+"_scale_text"](c.key,c.label,c)));for(var x=0;x<m.length;x++)d._waiAria.setAttributes(m[x],{"aria-label":u,"aria-live":"polite"})},renderWeekAgendaMarker:function(m,_){for(var o=d.$container.querySelectorAll(".dhx_wa_day_cont .dhx_wa_scale_bar"),c=d.date.week_start(new Date(d.getState().min_date)),u=-1,f=d.date.day_start(new Date(m)),y=0;y<o.length&&(u++,d.date.day_start(new Date(c)).valueOf()!=f.valueOf());y++)c=d.date.add(c,1,"day");return u!=-1?this._wrapDiv(o[u]):[]},_wrapDiv:function(m){var _=this.createElement();return _.style.top=m.offsetTop+"px",_.style.left=m.offsetLeft+"px",_.style.width=m.offsetWidth+"px",_.style.height=m.offsetHeight+"px",m.appendChild(_),[_]},renderYearMarker:function(m,_){var o=d._get_year_cell(m);o.style.position="relative";var c=this.createElement();return c.style.top="0px",c.style.left="0px",c.style.width="100%",c.style.height="100%",o.appendChild(c),[c]},renderAgendaMarker:function(m,_){var o=this.createElement();return o.style.height="1px",o.style.width="100%",o.style.opacity=1,o.style.top="0px",o.style.left="0px",d.$container.querySelector(".dhx_cal_data").appendChild(o),[o]},renderTimelineMarker:function(m,_,o){var c=d._lame_copy({},d.matrix[d._mode]),u=c._scales;c.round_position=!1;var f=[],y=m?new Date(m):d._min_date,x=_?new Date(_):d._max_date;if(y.valueOf()<d._min_date.valueOf()&&(y=new Date(d._min_date)),x.valueOf()>d._max_date.valueOf()&&(x=new Date(d._max_date)),!c._trace_x)return f;for(var g=0;g<c._trace_x.length&&!d._is_column_visible(c._trace_x[g]);g++);if(g==c._trace_x.length)return f;var k=u[o];if(!(y<_&&x>m))return f;var b=this.createElement(),E=d._timeline_getX({start_date:m},!1,c)-1,T=d._timeline_getX({start_date:_},!1,c)-1,O=c._section_height[o]-1||c.dy-1,U=0;d._isRender("cell")&&(U=k.offsetTop,E+=c.dx,T+=c.dx,k=d.$container.querySelector(".dhx_cal_data"));var $=Math.max(1,T-E-1);return b.style.cssText="height: "+O+"px; left: "+E+"px; width: "+$+"px; top: "+U+"px;",k.appendChild(b),f.push(b),f},renderMonthCell:function(m){for(var _=d.$container.querySelectorAll(".dhx_month_head"),o=[],c=0;c<_.length;c++)o.push(_[c].parentNode);var u=-1,f=0,y=-1,x=d.date.week_start(new Date(d.getState().min_date)),g=d.date.day_start(new Date(m));for(c=0;c<o.length&&(u++,y==6?(f++,y=0):y++,d.date.day_start(new Date(x)).valueOf()!=g.valueOf());c++)x=d.date.add(x,1,"day");if(u==-1)return[];var k=d._colsS[y],b=d._colsS.heights[f],E=this.createElement();E.style.top=b+"px",E.style.left=k+"px",E.style.width=d._cols[y]+"px",E.style.height=(d._colsS.heights[f+1]-b||d._colsS.height)+"px";var T=d.$container.querySelector(".dhx_cal_data"),O=T.querySelector("table");return O.nextSibling?T.insertBefore(E,O.nextSibling):T.appendChild(E),E},renderMonthMarker:function(m,_){for(var o=[],c=m;c.valueOf()<_.valueOf();)o.push(this.renderMonthCell(c)),c=d.date.add(c,1,"day");return o},renderVerticalMarker:function(m,_,o){var c=d.locate_holder_day(m),u=[],f=null,y=d.config;if(d._ignores[c])return u;if(d._props&&d._props[d._mode]&&o){var x=d._props[d._mode];c=x.order[o];var g=x.order[o];x.days>1?c=d.locate_holder_day(m)+g:(c=g,x.size&&c>x.position+x.size&&(c=0))}if(!(f=d.locate_holder(c))||f.querySelector(".dhx_scale_hour"))return document.createElement("div");var k=Math.max(60*m.getHours()+m.getMinutes(),60*y.first_hour),b=Math.min(60*_.getHours()+_.getMinutes(),60*y.last_hour);if(!b&&d.date.day_start(new Date(_)).valueOf()>d.date.day_start(new Date(m)).valueOf()&&(b=60*y.last_hour),b<=k)return[];var E=this.createElement(),T=d.config.hour_size_px*y.last_hour+1;return E.style.top=Math.round((60*k*1e3-36e5*d.config.first_hour)*d.config.hour_size_px/36e5)%T+"px",E.style.lineHeight=E.style.height=Math.max(Math.round(60*(b-k)*1e3*d.config.hour_size_px/36e5)%T,1)+"px",E.style.width="100%",f.appendChild(E),u.push(E),u[0]}}}(s),function(d){d.$keyboardNavigation.SchedulerNode=function(){},d.$keyboardNavigation.SchedulerNode.prototype=d._compose(d.$keyboardNavigation.EventHandler,{getDefaultNode:function(){var m=new d.$keyboardNavigation.TimeSlot;return m.isValid()||(m=m.fallback()),m},_modes:{month:"month",year:"year",dayColumns:"dayColumns",timeline:"timeline",units:"units",weekAgenda:"weekAgenda",list:"list"},getMode:function(){var m=d.getState().mode;return d.matrix&&d.matrix[m]?this._modes.timeline:d._props&&d._props[m]?this._modes.units:m=="month"?this._modes.month:m=="year"?this._modes.year:m=="week_agenda"?this._modes.weekAgenda:m=="map"||m=="agenda"||d._grid&&d["grid_"+m]?this._modes.list:this._modes.dayColumns},focus:function(){d.focus()},blur:function(){},disable:function(){d.$container.setAttribute("tabindex","0")},enable:function(){d.$container&&d.$container.removeAttribute("tabindex")},isEnabled:function(){return d.$container.hasAttribute("tabindex")},_compareEvents:function(m,_){return m.start_date.valueOf()==_.start_date.valueOf()?m.id>_.id?1:-1:m.start_date.valueOf()>_.start_date.valueOf()?1:-1},_pickEvent:function(m,_,o,c){var u=d.getState();m=new Date(Math.max(u.min_date.valueOf(),m.valueOf())),_=new Date(Math.min(u.max_date.valueOf(),_.valueOf()));var f=d.getEvents(m,_);f.sort(this._compareEvents),c&&(f=f.reverse());for(var y=!!o,x=0;x<f.length&&y;x++)f[x].id==o&&(y=!1),f.splice(x,1),x--;for(x=0;x<f.length;x++)if(new d.$keyboardNavigation.Event(f[x].id).getNode())return f[x];return null},nextEventHandler:function(m){var _=d.$keyboardNavigation.dispatcher.activeNode,o=m||_&&_.eventId,c=null;if(o&&d.getEvent(o)){var u=d.getEvent(o);c=d.$keyboardNavigation.SchedulerNode.prototype._pickEvent(u.start_date,d.date.add(u.start_date,1,"year"),u.id,!1)}if(!c&&!m){var f=d.getState();c=d.$keyboardNavigation.SchedulerNode.prototype._pickEvent(f.min_date,d.date.add(f.min_date,1,"year"),null,!1)}if(c){var y=new d.$keyboardNavigation.Event(c.id);y.isValid()?(_&&_.blur(),d.$keyboardNavigation.dispatcher.setActiveNode(y)):this.nextEventHandler(c.id)}},prevEventHandler:function(m){var _=d.$keyboardNavigation.dispatcher.activeNode,o=m||_&&_.eventId,c=null;if(o&&d.getEvent(o)){var u=d.getEvent(o);c=d.$keyboardNavigation.SchedulerNode.prototype._pickEvent(d.date.add(u.end_date,-1,"year"),u.end_date,u.id,!0)}if(!c&&!m){var f=d.getState();c=d.$keyboardNavigation.SchedulerNode.prototype._pickEvent(d.date.add(f.max_date,-1,"year"),f.max_date,null,!0)}if(c){var y=new d.$keyboardNavigation.Event(c.id);y.isValid()?(_&&_.blur(),d.$keyboardNavigation.dispatcher.setActiveNode(y)):this.prevEventHandler(c.id)}},keys:{"alt+1, alt+2, alt+3, alt+4, alt+5, alt+6, alt+7, alt+8, alt+9":function(m){var _=d.$keyboardNavigation.HeaderCell.prototype.getNodes(".dhx_cal_navline .dhx_cal_tab"),o=m.key;o===void 0&&(o=m.keyCode-48),_[1*o-1]&&_[1*o-1].click()},"ctrl+left,meta+left":function(m){d._click.dhx_cal_prev_button()},"ctrl+right,meta+right":function(m){d._click.dhx_cal_next_button()},"ctrl+up,meta+up":function(m){d.$container.querySelector(".dhx_cal_data").scrollTop-=20},"ctrl+down,meta+down":function(m){d.$container.querySelector(".dhx_cal_data").scrollTop+=20},e:function(){this.nextEventHandler()},home:function(){d.setCurrentView(new Date)},"shift+e":function(){this.prevEventHandler()},"ctrl+enter,meta+enter":function(){d.addEventNow({start_date:new Date(d.getState().date)})},"ctrl+c,meta+c":function(m){d._key_nav_copy_paste(m)},"ctrl+v,meta+v":function(m){d._key_nav_copy_paste(m)},"ctrl+x,meta+x":function(m){d._key_nav_copy_paste(m)}}}),d.$keyboardNavigation.SchedulerNode.prototype.bindAll(d.$keyboardNavigation.SchedulerNode.prototype.keys)}(s),function(d){d.$keyboardNavigation.KeyNavNode=function(){},d.$keyboardNavigation.KeyNavNode.prototype=d._compose(d.$keyboardNavigation.EventHandler,{isValid:function(){return!0},fallback:function(){return null},moveTo:function(m){d.$keyboardNavigation.dispatcher.setActiveNode(m)},compareTo:function(m){if(!m)return!1;for(var _ in this){if(!!this[_]!=!!m[_])return!1;var o=!(!this[_]||!this[_].toString),c=!(!m[_]||!m[_].toString);if(c!=o)return!1;if(c&&o){if(m[_].toString()!=this[_].toString())return!1}else if(m[_]!=this[_])return!1}return!0},getNode:function(){},focus:function(){var m=this.getNode();m&&(m.setAttribute("tabindex","-1"),m.focus&&m.focus())},blur:function(){var m=this.getNode();m&&m.setAttribute("tabindex","-1")}})}(s),function(d){d.$keyboardNavigation.HeaderCell=function(m){this.index=m||0},d.$keyboardNavigation.HeaderCell.prototype=d._compose(d.$keyboardNavigation.KeyNavNode,{getNode:function(m){m=m||this.index||0;var _=this.getNodes();if(_[m])return _[m]},getNodes:function(m){m=m||[".dhx_cal_navline .dhx_cal_prev_button",".dhx_cal_navline .dhx_cal_next_button",".dhx_cal_navline .dhx_cal_today_button",".dhx_cal_navline .dhx_cal_tab"].join(", ");var _=Array.prototype.slice.call(d.$container.querySelectorAll(m));return _.sort(function(o,c){return o.offsetLeft-c.offsetLeft}),_},_handlers:null,isValid:function(){return!!this.getNode(this.index)},fallback:function(){var m=this.getNode(0);return m||(m=new d.$keyboardNavigation.TimeSlot),m},keys:{left:function(){var m=this.index-1;m<0&&(m=this.getNodes().length-1),this.moveTo(new d.$keyboardNavigation.HeaderCell(m))},right:function(){var m=this.index+1;m>=this.getNodes().length&&(m=0),this.moveTo(new d.$keyboardNavigation.HeaderCell(m))},down:function(){this.moveTo(new d.$keyboardNavigation.TimeSlot)},enter:function(){var m=this.getNode();m&&m.click()}}}),d.$keyboardNavigation.HeaderCell.prototype.bindAll(d.$keyboardNavigation.HeaderCell.prototype.keys)}(s),function(d){d.$keyboardNavigation.Event=function(m){if(this.eventId=null,d.getEvent(m)){var _=d.getEvent(m);this.start=new Date(_.start_date),this.end=new Date(_.end_date),this.section=this._getSection(_),this.eventId=m}},d.$keyboardNavigation.Event.prototype=d._compose(d.$keyboardNavigation.KeyNavNode,{_getNodes:function(){return Array.prototype.slice.call(d.$container.querySelectorAll("["+d.config.event_attribute+"]"))},_modes:d.$keyboardNavigation.SchedulerNode.prototype._modes,getMode:d.$keyboardNavigation.SchedulerNode.prototype.getMode,_handlers:null,isValid:function(){return!(!d.getEvent(this.eventId)||!this.getNode())},fallback:function(){var m=this._getNodes()[0],_=null;if(m&&d._locate_event(m)){var o=d._locate_event(m);_=new d.$keyboardNavigation.Event(o)}else _=new d.$keyboardNavigation.TimeSlot;return _},isScrolledIntoView:function(m){var _=m.getBoundingClientRect(),o=d.$container.querySelector(".dhx_cal_data").getBoundingClientRect();return!(_.bottom<o.top||_.top>o.bottom)},getNode:function(){var m="["+d.config.event_attribute+"='"+this.eventId+"']",_=d.$keyboardNavigation.dispatcher.getInlineEditor(this.eventId);if(_)return _;if(d.isMultisectionEvent&&d.isMultisectionEvent(d.getEvent(this.eventId))){for(var o=d.$container.querySelectorAll(m),c=0;c<o.length;c++)if(this.isScrolledIntoView(o[c]))return o[c];return o[0]}return d.$container.querySelector(m)},focus:function(){var m=d.getEvent(this.eventId),_=d.getState();(m.start_date.valueOf()>_.max_date.valueOf()||m.end_date.valueOf()<=_.min_date.valueOf())&&d.setCurrentView(m.start_date);var o=this.getNode();this.isScrolledIntoView(o)?d.$keyboardNavigation.dispatcher.keepScrollPosition(function(){d.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this)}.bind(this)):d.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this)},blur:function(){d.$keyboardNavigation.KeyNavNode.prototype.blur.apply(this)},_getSection:function(m){var _=null,o=d.getState().mode;return d.matrix&&d.matrix[o]?_=m[d.matrix[d.getState().mode].y_property]:d._props&&d._props[o]&&(_=m[d._props[o].map_to]),_},_moveToSlot:function(m){var _=d.getEvent(this.eventId);if(_){var o=this._getSection(_),c=new d.$keyboardNavigation.TimeSlot(_.start_date,null,o);this.moveTo(c.nextSlot(c,m))}else this.moveTo(new d.$keyboardNavigation.TimeSlot)},keys:{left:function(){this._moveToSlot("left")},right:function(){this._moveToSlot("right")},down:function(){this.getMode()==this._modes.list?d.$keyboardNavigation.SchedulerNode.prototype.nextEventHandler():this._moveToSlot("down")},space:function(){var m=this.getNode();m&&m.click?m.click():this.moveTo(new d.$keyboardNavigation.TimeSlot)},up:function(){this.getMode()==this._modes.list?d.$keyboardNavigation.SchedulerNode.prototype.prevEventHandler():this._moveToSlot("up")},delete:function(){d.getEvent(this.eventId)?d._click.buttons.delete(this.eventId):this.moveTo(new d.$keyboardNavigation.TimeSlot)},enter:function(){d.getEvent(this.eventId)?d.showLightbox(this.eventId):this.moveTo(new d.$keyboardNavigation.TimeSlot)}}}),d.$keyboardNavigation.Event.prototype.bindAll(d.$keyboardNavigation.Event.prototype.keys)}(s),function(d){d.$keyboardNavigation.TimeSlot=function(m,_,o,c){var u=d.getState(),f=d.matrix&&d.matrix[u.mode];m||(m=this.getDefaultDate()),_||(_=f?d.date.add(m,f.x_step,f.x_unit):d.date.add(m,d.config.key_nav_step,"minute")),this.section=o||this._getDefaultSection(),this.start_date=new Date(m),this.end_date=new Date(_),this.movingDate=c||null},d.$keyboardNavigation.TimeSlot.prototype=d._compose(d.$keyboardNavigation.KeyNavNode,{_handlers:null,getDefaultDate:function(){var m,_=d.getState(),o=new Date(_.date);o.setSeconds(0),o.setMilliseconds(0);var c=new Date;c.setSeconds(0),c.setMilliseconds(0);var u=d.matrix&&d.matrix[_.mode],f=!1;if(o.valueOf()===c.valueOf()&&(f=!0),u)f?(u.x_unit==="day"?(c.setHours(0),c.setMinutes(0)):u.x_unit==="hour"&&c.setMinutes(0),m=c):m=d.date[u.name+"_start"](new Date(_.date)),m=this.findVisibleColumn(m);else if(m=new Date(d.getState().min_date),f&&(m=c),m=this.findVisibleColumn(m),f||m.setHours(d.config.first_hour),!d._table_view){var y=d.$container.querySelector(".dhx_cal_data");y.scrollTop&&m.setHours(d.config.first_hour+Math.ceil(y.scrollTop/d.config.hour_size_px))}return m},clone:function(m){return new d.$keyboardNavigation.TimeSlot(m.start_date,m.end_date,m.section,m.movingDate)},_getMultisectionView:function(){var m,_=d.getState();return d._props&&d._props[_.mode]?m=d._props[_.mode]:d.matrix&&d.matrix[_.mode]&&(m=d.matrix[_.mode]),m},_getDefaultSection:function(){var m=null;return this._getMultisectionView()&&!m&&(m=this._getNextSection()),m},_getNextSection:function(m,_){var o=this._getMultisectionView(),c=o.order[m],u=c;u=(u=c!==void 0?c+_:o.size&&o.position?o.position:0)<0?u=(o.options||o.y_unit).length-1:u;var f=o.options||o.y_unit;return f[u]?f[u].key:null},isValid:function(){var m=d.getState();if(this.start_date.valueOf()<m.min_date.valueOf()||this.start_date.valueOf()>=m.max_date.valueOf()||!this.isVisible(this.start_date,this.end_date))return!1;var _=this._getMultisectionView();return!_||_.order[this.section]!==void 0},fallback:function(){var m=new d.$keyboardNavigation.TimeSlot;return m.isValid()?m:new d.$keyboardNavigation.DataArea},getNodes:function(){return Array.prototype.slice.call(d.$container.querySelectorAll(".dhx_focus_slot"))},getNode:function(){return this.getNodes()[0]},focus:function(){d.$keyboardNavigation.marker.render(this.start_date,this.end_date,this.section),d.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this),d.$keyboardNavigation._pasteDate=this.start_date,d.$keyboardNavigation._pasteSection=this.section},blur:function(){d.$keyboardNavigation.KeyNavNode.prototype.blur.apply(this),d.$keyboardNavigation.marker.clear()},_modes:d.$keyboardNavigation.SchedulerNode.prototype._modes,_getMode:d.$keyboardNavigation.SchedulerNode.prototype.getMode,addMonthDate:function(m,_,o){var c;switch(_){case"up":c=d.date.add(m,-1,"week");break;case"down":c=d.date.add(m,1,"week");break;case"left":c=d.date.day_start(d.date.add(m,-1,"day")),c=this.findVisibleColumn(c,-1);break;case"right":c=d.date.day_start(d.date.add(m,1,"day")),c=this.findVisibleColumn(c,1);break;default:c=d.date.day_start(new Date(m))}var u=d.getState();return(m.valueOf()<u.min_date.valueOf()||!o&&m.valueOf()>=u.max_date.valueOf())&&(c=new Date(u.min_date)),c},nextMonthSlot:function(m,_,o){var c,u;return(c=this.addMonthDate(m.start_date,_,o)).setHours(d.config.first_hour),(u=new Date(c)).setHours(d.config.last_hour),{start_date:c,end_date:u}},_alignTimeSlot:function(m,_,o,c){for(var u=new Date(_);u.valueOf()<m.valueOf();)u=d.date.add(u,c,o);return u.valueOf()>m.valueOf()&&(u=d.date.add(u,-c,o)),u},nextTimelineSlot:function(m,_,o){var c=d.getState(),u=d.matrix[c.mode],f=this._alignTimeSlot(m.start_date,d.date[u.name+"_start"](new Date(m.start_date)),u.x_unit,u.x_step),y=this._alignTimeSlot(m.end_date,d.date[u.name+"_start"](new Date(m.end_date)),u.x_unit,u.x_step);y.valueOf()<=f.valueOf()&&(y=d.date.add(f,u.x_step,u.x_unit));var x=this.clone(m);switch(x.start_date=f,x.end_date=y,x.section=m.section||this._getNextSection(),_){case"up":x.section=this._getNextSection(m.section,-1);break;case"down":x.section=this._getNextSection(m.section,1);break;case"left":x.start_date=this.findVisibleColumn(d.date.add(x.start_date,-u.x_step,u.x_unit),-1),x.end_date=d.date.add(x.start_date,u.x_step,u.x_unit);break;case"right":x.start_date=this.findVisibleColumn(d.date.add(x.start_date,u.x_step,u.x_unit),1),x.end_date=d.date.add(x.start_date,u.x_step,u.x_unit)}return(x.start_date.valueOf()<c.min_date.valueOf()||x.start_date.valueOf()>=c.max_date.valueOf())&&(o&&x.start_date.valueOf()>=c.max_date.valueOf()?x.start_date=new Date(c.max_date):(x.start_date=d.date[c.mode+"_start"](d.date.add(c.date,_=="left"?-1:1,c.mode)),x.end_date=d.date.add(x.start_date,u.x_step,u.x_unit))),x},nextUnitsSlot:function(m,_,o){var c=this.clone(m);c.section=m.section||this._getNextSection();var u=m.section||this._getNextSection(),f=d.getState(),y=d._props[f.mode];switch(_){case"left":u=this._getNextSection(m.section,-1);var x=y.size?y.size-1:y.options.length;y.days>1&&y.order[u]==x-1&&d.date.add(m.start_date,-1,"day").valueOf()>=f.min_date.valueOf()&&(c=this.nextDaySlot(m,_,o));break;case"right":u=this._getNextSection(m.section,1),y.days>1&&!y.order[u]&&d.date.add(m.start_date,1,"day").valueOf()<f.max_date.valueOf()&&(c=this.nextDaySlot(m,_,o));break;default:c=this.nextDaySlot(m,_,o),u=m.section}return c.section=u,c},_moveDate:function(m,_){var o=this.findVisibleColumn(d.date.add(m,_,"day"),_);return o.setHours(m.getHours()),o.setMinutes(m.getMinutes()),o},isBeforeLastHour:function(m,_){var o=m.getMinutes(),c=m.getHours(),u=d.config.last_hour;return c<u||!_&&(u==24||c==u)&&!o},isAfterFirstHour:function(m,_){var o=m.getMinutes(),c=m.getHours(),u=d.config.first_hour,f=d.config.last_hour;return c>=u||!_&&!o&&(!c&&f==24||c==f)},isInVisibleDayTime:function(m,_){return this.isBeforeLastHour(m,_)&&this.isAfterFirstHour(m,_)},nextDaySlot:function(m,_,o){var c,u,f=d.config.key_nav_step,y=this._alignTimeSlot(m.start_date,d.date.day_start(new Date(m.start_date)),"minute",f),x=m.start_date;switch(_){case"up":if(c=d.date.add(y,-f,"minute"),!this.isInVisibleDayTime(c,!0)&&(!o||this.isInVisibleDayTime(x,!0))){var g=!0;o&&d.date.date_part(new Date(c)).valueOf()!=d.date.date_part(new Date(x)).valueOf()&&(g=!1),g&&(c=this.findVisibleColumn(d.date.add(m.start_date,-1,"day"),-1)),c.setHours(d.config.last_hour),c.setMinutes(0),c=d.date.add(c,-f,"minute")}u=d.date.add(c,f,"minute");break;case"down":c=d.date.add(y,f,"minute");var k=o?c:d.date.add(c,f,"minute");this.isInVisibleDayTime(k,!1)||o&&!this.isInVisibleDayTime(x,!1)||(o?(g=!0,d.date.date_part(new Date(x)).valueOf()==x.valueOf()&&(g=!1),g&&(c=this.findVisibleColumn(d.date.add(m.start_date,1,"day"),1)),c.setHours(d.config.first_hour),c.setMinutes(0),c=d.date.add(c,f,"minute")):((c=this.findVisibleColumn(d.date.add(m.start_date,1,"day"),1)).setHours(d.config.first_hour),c.setMinutes(0))),u=d.date.add(c,f,"minute");break;case"left":c=this._moveDate(m.start_date,-1),u=this._moveDate(m.end_date,-1);break;case"right":c=this._moveDate(m.start_date,1),u=this._moveDate(m.end_date,1);break;default:c=y,u=d.date.add(c,f,"minute")}return{start_date:c,end_date:u}},nextWeekAgendaSlot:function(m,_){var o,c,u=d.getState();switch(_){case"down":case"left":o=d.date.day_start(d.date.add(m.start_date,-1,"day")),o=this.findVisibleColumn(o,-1);break;case"up":case"right":o=d.date.day_start(d.date.add(m.start_date,1,"day")),o=this.findVisibleColumn(o,1);break;default:o=d.date.day_start(m.start_date)}return(m.start_date.valueOf()<u.min_date.valueOf()||m.start_date.valueOf()>=u.max_date.valueOf())&&(o=new Date(u.min_date)),(c=new Date(o)).setHours(d.config.last_hour),{start_date:o,end_date:c}},nextAgendaSlot:function(m,_){return{start_date:m.start_date,end_date:m.end_date}},isDateVisible:function(m){if(!d._ignores_detected)return!0;var _,o=d.matrix&&d.matrix[d.getState().mode];return _=o?d._get_date_index(o,m):d.locate_holder_day(m),!d._ignores[_]},findVisibleColumn:function(m,_){var o=m;_=_||1;for(var c=d.getState();!this.isDateVisible(o)&&(_>0&&o.valueOf()<=c.max_date.valueOf()||_<0&&o.valueOf()>=c.min_date.valueOf());)o=this.nextDateColumn(o,_);return o},nextDateColumn:function(m,_){_=_||1;var o=d.matrix&&d.matrix[d.getState().mode];return o?d.date.add(m,_*o.x_step,o.x_unit):d.date.day_start(d.date.add(m,_,"day"))},isVisible:function(m,_){if(!d._ignores_detected)return!0;for(var o=new Date(m);o.valueOf()<_.valueOf();){if(this.isDateVisible(o))return!0;o=this.nextDateColumn(o)}return!1},nextSlot:function(m,_,o,c){var u;o=o||this._getMode();var f=d.$keyboardNavigation.TimeSlot.prototype.clone(m);switch(o){case this._modes.units:u=this.nextUnitsSlot(f,_,c);break;case this._modes.timeline:u=this.nextTimelineSlot(f,_,c);break;case this._modes.year:case this._modes.month:u=this.nextMonthSlot(f,_,c);break;case this._modes.weekAgenda:u=this.nextWeekAgendaSlot(f,_,c);break;case this._modes.list:u=this.nextAgendaSlot(f,_,c);break;case this._modes.dayColumns:u=this.nextDaySlot(f,_,c)}return u.start_date.valueOf()>=u.end_date.valueOf()&&(u=this.nextSlot(u,_,o)),d.$keyboardNavigation.TimeSlot.prototype.clone(u)},extendSlot:function(m,_){var o;switch(this._getMode()){case this._modes.units:o=_=="left"||_=="right"?this.nextUnitsSlot(m,_):this.extendUnitsSlot(m,_);break;case this._modes.timeline:o=_=="down"||_=="up"?this.nextTimelineSlot(m,_):this.extendTimelineSlot(m,_);break;case this._modes.year:case this._modes.month:o=this.extendMonthSlot(m,_);break;case this._modes.dayColumns:o=this.extendDaySlot(m,_);break;case this._modes.weekAgenda:o=this.extendWeekAgendaSlot(m,_);break;default:o=m}var c=d.getState();return o.start_date.valueOf()<c.min_date.valueOf()&&(o.start_date=this.findVisibleColumn(c.min_date),o.start_date.setHours(d.config.first_hour)),o.end_date.valueOf()>c.max_date.valueOf()&&(o.end_date=this.findVisibleColumn(c.max_date,-1)),d.$keyboardNavigation.TimeSlot.prototype.clone(o)},extendTimelineSlot:function(m,_){return this.extendGenericSlot({left:"start_date",right:"end_date"},m,_,"timeline")},extendWeekAgendaSlot:function(m,_){return this.extendGenericSlot({left:"start_date",right:"end_date"},m,_,"weekAgenda")},extendGenericSlot:function(m,_,o,c){var u,f=_.movingDate;if(f||(f=m[o]),!f||!m[o])return _;if(!o)return d.$keyboardNavigation.TimeSlot.prototype.clone(_);(u=this.nextSlot({start_date:_[f],section:_.section},o,c,!0)).start_date.valueOf()==_.start_date.valueOf()&&(u=this.nextSlot({start_date:u.start_date,section:u.section},o,c,!0)),u.movingDate=f;var y=this.extendSlotDates(_,u,u.movingDate);return y.end_date.valueOf()<=y.start_date.valueOf()&&(u.movingDate=u.movingDate=="end_date"?"start_date":"end_date"),y=this.extendSlotDates(_,u,u.movingDate),u.start_date=y.start_date,u.end_date=y.end_date,u},extendSlotDates:function(m,_,o){var c={start_date:null,end_date:null};return o=="start_date"?(c.start_date=_.start_date,c.end_date=m.end_date):(c.start_date=m.start_date,c.end_date=_.start_date),c},extendMonthSlot:function(m,_){return(m=this.extendGenericSlot({up:"start_date",down:"end_date",left:"start_date",right:"end_date"},m,_,"month")).start_date.setHours(d.config.first_hour),m.end_date=d.date.add(m.end_date,-1,"day"),m.end_date.setHours(d.config.last_hour),m},extendUnitsSlot:function(m,_){var o;switch(_){case"down":case"up":o=this.extendDaySlot(m,_);break;default:o=m}return o.section=m.section,o},extendDaySlot:function(m,_){return this.extendGenericSlot({up:"start_date",down:"end_date",left:"start_date",right:"end_date"},m,_,"dayColumns")},scrollSlot:function(m){var _=d.getState(),o=this.nextSlot(this,m);(o.start_date.valueOf()<_.min_date.valueOf()||o.start_date.valueOf()>=_.max_date.valueOf())&&d.setCurrentView(new Date(o.start_date)),this.moveTo(o)},keys:{left:function(){this.scrollSlot("left")},right:function(){this.scrollSlot("right")},down:function(){this._getMode()==this._modes.list?d.$keyboardNavigation.SchedulerNode.prototype.nextEventHandler():this.scrollSlot("down")},up:function(){this._getMode()==this._modes.list?d.$keyboardNavigation.SchedulerNode.prototype.prevEventHandler():this.scrollSlot("up")},"shift+down":function(){this.moveTo(this.extendSlot(this,"down"))},"shift+up":function(){this.moveTo(this.extendSlot(this,"up"))},"shift+right":function(){this.moveTo(this.extendSlot(this,"right"))},"shift+left":function(){this.moveTo(this.extendSlot(this,"left"))},enter:function(){var m={start_date:new Date(this.start_date),end_date:new Date(this.end_date)},_=d.getState().mode;d.matrix&&d.matrix[_]?m[d.matrix[d.getState().mode].y_property]=this.section:d._props&&d._props[_]&&(m[d._props[_].map_to]=this.section),d.addEventNow(m)}}}),d.$keyboardNavigation.TimeSlot.prototype.bindAll(d.$keyboardNavigation.TimeSlot.prototype.keys)}(s),function(d){d.$keyboardNavigation.MinicalButton=function(m,_){this.container=m,this.index=_||0},d.$keyboardNavigation.MinicalButton.prototype=d._compose(d.$keyboardNavigation.KeyNavNode,{isValid:function(){return!!this.container.offsetWidth},fallback:function(){var m=new d.$keyboardNavigation.TimeSlot;return m.isValid()?m:new d.$keyboardNavigation.DataArea},focus:function(){d.$keyboardNavigation.dispatcher.globalNode.disable(),this.container.removeAttribute("tabindex"),d.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this)},blur:function(){this.container.setAttribute("tabindex","0"),d.$keyboardNavigation.KeyNavNode.prototype.blur.apply(this)},getNode:function(){return this.index?this.container.querySelector(".dhx_cal_next_button"):this.container.querySelector(".dhx_cal_prev_button")},keys:{right:function(m){this.moveTo(new d.$keyboardNavigation.MinicalButton(this.container,this.index?0:1))},left:function(m){this.moveTo(new d.$keyboardNavigation.MinicalButton(this.container,this.index?0:1))},down:function(){var m=new d.$keyboardNavigation.MinicalCell(this.container,0,0);m&&!m.isValid()&&(m=m.fallback()),this.moveTo(m)},enter:function(m){this.getNode().click()}}}),d.$keyboardNavigation.MinicalButton.prototype.bindAll(d.$keyboardNavigation.MinicalButton.prototype.keys)}(s),function(d){d.$keyboardNavigation.MinicalCell=function(m,_,o){this.container=m,this.row=_||0,this.col=o||0},d.$keyboardNavigation.MinicalCell.prototype=d._compose(d.$keyboardNavigation.KeyNavNode,{isValid:function(){var m=this._getGrid();return!(!m[this.row]||!m[this.row][this.col])},fallback:function(){var m=this.row,_=this.col,o=this._getGrid();o[m]||(m=0);var c=!0;if(m>o.length/2&&(c=!1),!o[m]){var u=new d.$keyboardNavigation.TimeSlot;return u.isValid()?u:new d.$keyboardNavigation.DataArea}if(c){for(var f=_;o[m]&&f<o[m].length;f++)if(o[m][f]||f!=o[m].length-1||(m++,_=0),o[m][f])return new d.$keyboardNavigation.MinicalCell(this.container,m,f)}else for(f=_;o[m]&&f<o[m].length;f--)if(o[m][f]||f||(_=o[--m].length-1),o[m][f])return new d.$keyboardNavigation.MinicalCell(this.container,m,f);return new d.$keyboardNavigation.MinicalButton(this.container,0)},focus:function(){d.$keyboardNavigation.dispatcher.globalNode.disable(),this.container.removeAttribute("tabindex"),d.$keyboardNavigation.KeyNavNode.prototype.focus.apply(this)},blur:function(){this.container.setAttribute("tabindex","0"),d.$keyboardNavigation.KeyNavNode.prototype.blur.apply(this)},_getNode:function(m,_){return this.container.querySelector(".dhx_year_body tr:nth-child("+(m+1)+") td:nth-child("+(_+1)+")")},getNode:function(){return this._getNode(this.row,this.col)},_getGrid:function(){for(var m=this.container.querySelectorAll(".dhx_year_body tr"),_=[],o=0;o<m.length;o++){_[o]=[];for(var c=m[o].querySelectorAll("td"),u=0;u<c.length;u++){var f=c[u],y=!0,x=d._getClassName(f);(x.indexOf("dhx_after")>-1||x.indexOf("dhx_before")>-1||x.indexOf("dhx_scale_ignore")>-1)&&(y=!1),_[o][u]=y}}return _},keys:{right:function(m){var _=this._getGrid(),o=this.row,c=this.col+1;_[o]&&_[o][c]||(_[o+1]?(o+=1,c=0):c=this.col);var u=new d.$keyboardNavigation.MinicalCell(this.container,o,c);u.isValid()||(u=u.fallback()),this.moveTo(u)},left:function(m){var _=this._getGrid(),o=this.row,c=this.col-1;_[o]&&_[o][c]||(c=_[o-1]?_[o-=1].length-1:this.col);var u=new d.$keyboardNavigation.MinicalCell(this.container,o,c);u.isValid()||(u=u.fallback()),this.moveTo(u)},down:function(){var m=this._getGrid(),_=this.row+1,o=this.col;m[_]&&m[_][o]||(_=this.row);var c=new d.$keyboardNavigation.MinicalCell(this.container,_,o);c.isValid()||(c=c.fallback()),this.moveTo(c)},up:function(){var m=this._getGrid(),_=this.row-1,o=this.col;if(m[_]&&m[_][o]){var c=new d.$keyboardNavigation.MinicalCell(this.container,_,o);c.isValid()||(c=c.fallback()),this.moveTo(c)}else{var u=0;this.col>m[this.row].length/2&&(u=1),this.moveTo(new d.$keyboardNavigation.MinicalButton(this.container,u))}},enter:function(m){this.getNode().querySelector(".dhx_month_head").click()}}}),d.$keyboardNavigation.MinicalCell.prototype.bindAll(d.$keyboardNavigation.MinicalCell.prototype.keys)}(s),function(d){d.$keyboardNavigation.DataArea=function(m){this.index=m||0},d.$keyboardNavigation.DataArea.prototype=d._compose(d.$keyboardNavigation.KeyNavNode,{getNode:function(m){return d.$container.querySelector(".dhx_cal_data")},_handlers:null,isValid:function(){return!0},fallback:function(){return this},keys:{"up,down,right,left":function(){this.moveTo(new d.$keyboardNavigation.TimeSlot)}}}),d.$keyboardNavigation.DataArea.prototype.bindAll(d.$keyboardNavigation.DataArea.prototype.keys)}(s),GS(s),function(d){d.$keyboardNavigation.dispatcher={isActive:!1,activeNode:null,globalNode:new d.$keyboardNavigation.SchedulerNode,keepScrollPosition:function(m){var _,o,c=d.$container.querySelector(".dhx_timeline_scrollable_data");c||(c=d.$container.querySelector(".dhx_cal_data")),c&&(_=c.scrollTop,o=c.scrollLeft),m(),c&&(c.scrollTop=_,c.scrollLeft=o)},enable:function(){if(d.$container){this.isActive=!0;var m=this;this.keepScrollPosition(function(){m.globalNode.enable(),m.setActiveNode(m.getActiveNode())})}},disable:function(){this.isActive=!1,this.globalNode.disable()},isEnabled:function(){return!!this.isActive},getDefaultNode:function(){return this.globalNode.getDefaultNode()},setDefaultNode:function(){this.setActiveNode(this.getDefaultNode())},getActiveNode:function(){var m=this.activeNode;return m&&!m.isValid()&&(m=m.fallback()),m},focusGlobalNode:function(){this.blurNode(this.globalNode),this.focusNode(this.globalNode)},setActiveNode:function(m){m&&m.isValid()&&(this.activeNode&&this.activeNode.compareTo(m)||this.isEnabled()&&(this.blurNode(this.activeNode),this.activeNode=m,this.focusNode(this.activeNode)))},focusNode:function(m){m&&m.focus&&(m.focus(),m.getNode&&document.activeElement!=m.getNode()&&this.setActiveNode(new d.$keyboardNavigation.DataArea))},blurNode:function(m){m&&m.blur&&m.blur()},getInlineEditor:function(m){var _=d.$container.querySelector(".dhx_cal_editor["+d.config.event_attribute+"='"+m+"'] textarea");return _&&_.offsetWidth?_:null},keyDownHandler:function(m){if(!m.defaultPrevented){var _=this.getActiveNode();if((!d.$keyboardNavigation.isModal()||_&&_.container&&d.utils.dom.locateCss({target:_.container},"dhx_minical_popup",!1))&&(!d.getState().editor_id||!this.getInlineEditor(d.getState().editor_id))&&this.isEnabled()){m=m||window.event;var o=this.globalNode,c=d.$keyboardNavigation.shortcuts.getCommandFromEvent(m);_?_.findHandler(c)?_.doAction(c,m):o.findHandler(c)&&o.doAction(c,m):this.setDefaultNode()}}},_timeout:null,delay:function(m,_){clearTimeout(this._timeout),this._timeout=setTimeout(m,_||1)}}}(s),KS(s),function(){YS(s),function(c){c.$keyboardNavigation._minicalendars=[],c.$keyboardNavigation.isMinical=function(u){for(var f=c.$keyboardNavigation._minicalendars,y=0;y<f.length;y++)if(this.isChildOf(u,f[y]))return!0;return!1},c.$keyboardNavigation.isChildOf=function(u,f){for(;u&&u!==f;)u=u.parentNode;return u===f},c.$keyboardNavigation.patchMinicalendar=function(){var u=c.$keyboardNavigation.dispatcher;function f(k){var b=k.target;u.enable(),u.setActiveNode(new c.$keyboardNavigation.MinicalButton(b,0))}function y(k){var b=k.target||k.srcElement,E=c.utils.dom.locateCss(k,"dhx_cal_prev_button",!1),T=c.utils.dom.locateCss(k,"dhx_cal_next_button",!1),O=c.utils.dom.locateCss(k,"dhx_year_body",!1),U=0,$=0;if(O){for(var V,Q,ee=b;ee&&ee.tagName.toLowerCase()!="td";)ee=ee.parentNode;if(ee&&(V=(Q=ee).parentNode),V&&Q){for(var G=V.parentNode.querySelectorAll("tr"),re=0;re<G.length;re++)if(G[re]==V){U=re;break}var q=V.querySelectorAll("td");for(re=0;re<q.length;re++)if(q[re]==Q){$=re;break}}}var X=k.currentTarget;u.delay(function(){var J;(E||T||O)&&(E?(J=new c.$keyboardNavigation.MinicalButton(X,0),u.setActiveNode(new c.$keyboardNavigation.MinicalButton(X,0))):T?J=new c.$keyboardNavigation.MinicalButton(X,1):O&&(J=new c.$keyboardNavigation.MinicalCell(X,U,$)),J&&(u.enable(),J.isValid()&&(u.activeNode=null,u.setActiveNode(J))))})}if(c.renderCalendar){var x=c.renderCalendar;c.renderCalendar=function(){var k=x.apply(this,arguments),b=c.$keyboardNavigation._minicalendars;c.eventRemove(k,"click",y),c.event(k,"click",y),c.eventRemove(k,"focus",f),c.event(k,"focus",f);for(var E=!1,T=0;T<b.length;T++)if(b[T]==k){E=!0;break}if(E||b.push(k),u.isEnabled()){var O=u.getActiveNode();O&&O.container==k?u.focusNode(O):k.setAttribute("tabindex","0")}else k.setAttribute("tabindex","0");return k}}if(c.destroyCalendar){var g=c.destroyCalendar;c.destroyCalendar=function(k,b){k=k||(c._def_count?c._def_count.firstChild:null);var E=g.apply(this,arguments);if(!k||!k.parentNode)for(var T=c.$keyboardNavigation._minicalendars,O=0;O<T.length;O++)T[O]==k&&(c.eventRemove(T[O],"focus",f),T.splice(O,1),O--);return E}}}}(s);var d=s.$keyboardNavigation.dispatcher;if(s.$keyboardNavigation.attachSchedulerHandlers(),s.renderCalendar)s.$keyboardNavigation.patchMinicalendar();else var m=s.attachEvent("onSchedulerReady",function(){s.detachEvent(m),s.$keyboardNavigation.patchMinicalendar()});function _(){if(s.config.key_nav){var c=document.activeElement;return!(!c||s.utils.dom.locateCss(c,"dhx_cal_quick_info",!1))&&(s.$keyboardNavigation.isChildOf(c,s.$container)||s.$keyboardNavigation.isMinical(c))}}function o(c){c&&!d.isEnabled()?d.enable():!c&&d.isEnabled()&&d.disable()}setInterval(function(){if(s.$container&&s.$keyboardNavigation.isChildOf(s.$container,document.body)){var c=_();c?o(c):!c&&d.isEnabled()&&setTimeout(function(){s.config.key_nav?o(_()):s.$container.removeAttribute("tabindex")},100)}},500)}()},layer:function(s){s.attachEvent("onTemplatesReady",function(){this.layers.sort(function(d,m){return d.zIndex-m.zIndex}),s._dp_init=function(d){d._methods=["_set_event_text_style","","changeEventId","deleteEvent"],this.attachEvent("onEventAdded",function(m){!this._loading&&this.validId(m)&&this.getEvent(m)&&this.getEvent(m).layer==d.layer&&d.setUpdated(m,!0,"inserted")}),this.attachEvent("onBeforeEventDelete",function(m){if(this.getEvent(m)&&this.getEvent(m).layer==d.layer){if(!this.validId(m))return;var _=d.getState(m);return _=="inserted"||this._new_event?(d.setUpdated(m,!1),!0):_!="deleted"&&(_=="true_deleted"||(d.setUpdated(m,!0,"deleted"),!1))}return!0}),this.attachEvent("onEventChanged",function(m){!this._loading&&this.validId(m)&&this.getEvent(m)&&this.getEvent(m).layer==d.layer&&d.setUpdated(m,!0,"updated")}),d._getRowData=function(m,_){var o=this.obj.getEvent(m),c={};for(var u in o)u.indexOf("_")!==0&&(o[u]&&o[u].getUTCFullYear?c[u]=this.obj._helpers.formatDate(o[u]):c[u]=o[u]);return c},d._clearUpdateFlag=function(){},d.attachEvent("insertCallback",s._update_callback),d.attachEvent("updateCallback",s._update_callback),d.attachEvent("deleteCallback",function(m,_){this.obj.setUserData(_,this.action_param,"true_deleted"),this.obj.deleteEvent(_)})},function(){var d=function o(c){if(c===null||Ic(c)!="object")return c;var u=new c.constructor;for(var f in c)u[f]=o(c[f]);return u};s._dataprocessors=[],s._layers_zindex={};for(var m=0;m<s.layers.length;m++){if(s.config["lightbox_"+s.layers[m].name]={},s.config["lightbox_"+s.layers[m].name].sections=d(s.config.lightbox.sections),s._layers_zindex[s.layers[m].name]=s.config.initial_layer_zindex||5+3*m,s.layers[m].url){var _=s.createDataProcessor({url:s.layers[m].url});_.layer=s.layers[m].name,s._dataprocessors.push(_),s._dataprocessors[m].init(s)}s.layers[m].isDefault&&(s.defaultLayer=s.layers[m].name)}}(),s.showLayer=function(d){this.toggleLayer(d,!0)},s.hideLayer=function(d){this.toggleLayer(d,!1)},s.toggleLayer=function(d,m){var _=this.getLayer(d);_.visible=m!==void 0?!!m:!_.visible,this.setCurrentView(this._date,this._mode)},s.getLayer=function(d){var m,_;typeof d=="string"&&(_=d),Ic(d)=="object"&&(_=d.layer);for(var o=0;o<s.layers.length;o++)s.layers[o].name==_&&(m=s.layers[o]);return m},s.attachEvent("onBeforeLightbox",function(d){var m=this.getEvent(d);return this.config.lightbox.sections=this.config["lightbox_"+m.layer].sections,s.resetLightbox(),!0}),s.attachEvent("onClick",function(d,m){var _=s.getEvent(d);return!s.getLayer(_.layer).noMenu}),s.attachEvent("onEventCollision",function(d,m){var _=this.getLayer(d);if(!_.checkCollision)return!1;for(var o=0,c=0;c<m.length;c++)m[c].layer==_.name&&m[c].id!=d.id&&o++;return o>=s.config.collision_limit}),s.addEvent=function(d,m,_,o,c){var u=d;arguments.length!=1&&((u=c||{}).start_date=d,u.end_date=m,u.text=_,u.id=o,u.layer=this.defaultLayer),u.id=u.id||s.uid(),u.text=u.text||"",typeof u.start_date=="string"&&(u.start_date=this.templates.api_date(u.start_date)),typeof u.end_date=="string"&&(u.end_date=this.templates.api_date(u.end_date)),u._timed=this.isOneDayEvent(u);var f=!this._events[u.id];this._events[u.id]=u,this.event_updated(u),this._loading||this.callEvent(f?"onEventAdded":"onEventChanged",[u.id,u])},this._evs_layer={};for(var w=0;w<this.layers.length;w++)this._evs_layer[this.layers[w].name]=[];s.addEventNow=function(d,m,_){var o={};Ic(d)=="object"&&(o=d,d=null);var c=6e4*(this.config.event_duration||this.config.time_step);d||(d=Math.round(s._currentDate().valueOf()/c)*c);var u=new Date(d);if(!m){var f=this.config.first_hour;f>u.getHours()&&(u.setHours(f),d=u.valueOf()),m=d+c}o.start_date=o.start_date||u,o.end_date=o.end_date||new Date(m),o.text=o.text||this.locale.labels.new_event,o.id=this._drag_id=this.uid(),o.layer=this.defaultLayer,this._drag_mode="new-size",this._loading=!0,this.addEvent(o),this.callEvent("onEventCreated",[this._drag_id,_]),this._loading=!1,this._drag_event={},this._on_mouse_up(_)},s._t_render_view_data=function(d){if(this.config.multi_day&&!this._table_view){for(var m=[],_=[],o=0;o<d.length;o++)d[o]._timed?m.push(d[o]):_.push(d[o]);this._table_view=!0,this.render_data(_),this._table_view=!1,this.render_data(m)}else this.render_data(d)},s.render_view_data=function(){if(this._not_render)this._render_wait=!0;else{this._render_wait=!1,this.clear_view(),this._evs_layer={};for(var d=0;d<this.layers.length;d++)this._evs_layer[this.layers[d].name]=[];var m=this.get_visible_events();for(d=0;d<m.length;d++)this._evs_layer[m[d].layer]&&this._evs_layer[m[d].layer].push(m[d]);if(this._mode=="month"){var _=[];for(d=0;d<this.layers.length;d++)this.layers[d].visible&&(_=_.concat(this._evs_layer[this.layers[d].name]));this._t_render_view_data(_)}else for(d=0;d<this.layers.length;d++)if(this.layers[d].visible){var o=this._evs_layer[this.layers[d].name];this._t_render_view_data(o)}}},s._render_v_bar=function(d,m,_,o,c,u,f,y,x){var g=d.id;f.indexOf("<div class=")==-1&&(f=s.templates["event_header_"+d.layer]?s.templates["event_header_"+d.layer](d.start_date,d.end_date,d):f),y.indexOf("<div class=")==-1&&(y=s.templates["event_text_"+d.layer]?s.templates["event_text_"+d.layer](d.start_date,d.end_date,d):y);var k=document.createElement("div"),b="dhx_cal_event",E=s.templates["event_class_"+d.layer]?s.templates["event_class_"+d.layer](d.start_date,d.end_date,d):s.templates.event_class(d.start_date,d.end_date,d);E&&(b=b+" "+E);var T=s._border_box_events(),O=o-2,U=T?O:o-4,$=T?O:o-6,V=T?O:o-(this._quirks?4:14),Q=T?O-2:o-8,ee=T?c-this.xy.event_header_height:c-(this._quirks?20:30)+1,G='<div event_id="'+g+'" '+s.config.event_attribute+'="'+g+'" class="'+b+'" style="position:absolute; top:'+_+"px; left:"+m+"px; width:"+U+"px; height:"+c+"px;"+(u||"")+'">';return G+='<div class="dhx_header" style=" width:'+$+'px;" >&nbsp;</div>',G+='<div class="dhx_title">'+f+"</div>",G+='<div class="dhx_body" style=" width:'+V+"px; height:"+ee+'px;">'+y+"</div>",G+='<div class="dhx_footer" style=" width:'+Q+"px;"+(x?" margin-top:-1px;":"")+'" ></div></div>',k.innerHTML=G,k.style.zIndex=100,k.firstChild},s.render_event_bar=function(d){var m=this._els.dhx_cal_data[0],_=this._colsS[d._sday],o=this._colsS[d._eday];o==_&&(o=this._colsS[d._eday+1]);var c=this.xy.bar_height,u=this._colsS.heights[d._sweek]+(this._colsS.height?this.xy.month_scale_height+2:2)+d._sorder*c,f=document.createElement("div"),y=d._timed?"dhx_cal_event_clear":"dhx_cal_event_line",x=s.templates["event_class_"+d.layer]?s.templates["event_class_"+d.layer](d.start_date,d.end_date,d):s.templates.event_class(d.start_date,d.end_date,d);x&&(y=y+" "+x);var g='<div event_id="'+d.id+'" '+this.config.event_attribute+'="'+d.id+'" class="'+y+'" style="position:absolute; top:'+u+"px; left:"+_+"px; width:"+(o-_-15)+"px;"+(d._text_style||"")+'">';d._timed&&(g+=s.templates["event_bar_date_"+d.layer]?s.templates["event_bar_date_"+d.layer](d.start_date,d.end_date,d):s.templates.event_bar_date(d.start_date,d.end_date,d)),g+=s.templates["event_bar_text_"+d.layer]?s.templates["event_bar_text_"+d.layer](d.start_date,d.end_date,d):s.templates.event_bar_text(d.start_date,d.end_date,d)+"</div>)",g+="</div>",f.innerHTML=g,this._rendered.push(f.firstChild),m.appendChild(f.firstChild)},s.render_event=function(d){var m=s.xy.menu_width;if(s.getLayer(d.layer).noMenu&&(m=0),!(d._sday<0)){var _=s.locate_holder(d._sday);if(_){var o=60*d.start_date.getHours()+d.start_date.getMinutes(),c=60*d.end_date.getHours()+d.end_date.getMinutes()||60*s.config.last_hour,u=Math.round((60*o*1e3-60*this.config.first_hour*60*1e3)*this.config.hour_size_px/36e5)%(24*this.config.hour_size_px)+1,f=Math.max(s.xy.min_event_height,(c-o)*this.config.hour_size_px/60)+1,y=Math.floor((_.clientWidth-m)/d._count),x=d._sorder*y+1;d._inner||(y*=d._count-d._sorder);var g=this._render_v_bar(d.id,m+x,u,y,f,d._text_style,s.templates.event_header(d.start_date,d.end_date,d),s.templates.event_text(d.start_date,d.end_date,d));if(this._rendered.push(g),_.appendChild(g),x=x+parseInt(_.style.left,10)+m,u+=this._dy_shift,g.style.zIndex=this._layers_zindex[d.layer],this._edit_id==d.id){g.style.zIndex=parseInt(g.style.zIndex)+1;var k=g.style.zIndex;y=Math.max(y-4,s.xy.editor_width),(g=document.createElement("div")).setAttribute("event_id",d.id),g.setAttribute(this.config.event_attribute,d.id),this.set_xy(g,y,f-20,x,u+14),g.className="dhx_cal_editor",g.style.zIndex=k;var b=document.createElement("div");this.set_xy(b,y-6,f-26),b.style.cssText+=";margin:2px 2px 2px 2px;overflow:hidden;",b.style.zIndex=k,g.appendChild(b),this._els.dhx_cal_data[0].appendChild(g),this._rendered.push(g),b.innerHTML="<textarea class='dhx_cal_editor'>"+d.text+"</textarea>",this._quirks7&&(b.firstChild.style.height=f-12+"px"),this._editor=b.firstChild,this._editor.addEventListener("keypress",function($){if($.shiftKey)return!0;var V=$.keyCode;V==s.keys.edit_save&&s.editStop(!0),V==s.keys.edit_cancel&&s.editStop(!1)}),this._editor.addEventListener("selectstart",function($){return $.cancelBubble=!0,!0}),b.firstChild.focus(),this._els.dhx_cal_data[0].scrollLeft=0,b.firstChild.select()}if(this._select_id==d.id){g.style.zIndex=parseInt(g.style.zIndex)+1;for(var E=this.config["icons_"+(this._edit_id==d.id?"edit":"select")],T="",O=0;O<E.length;O++)T+="<div class='dhx_menu_icon "+E[O]+"' title='"+this.locale.labels[E[O]]+"'></div>";var U=this._render_v_bar(d.id,x-m+1,u,m,20*E.length+26,"","<div class='dhx_menu_head'></div>",T,!0);U.style.left=x-m+1,U.style.zIndex=g.style.zIndex,this._els.dhx_cal_data[0].appendChild(U),this._rendered.push(U)}}}},s.filter_agenda=function(d,m){var _=s.getLayer(m.layer);return _&&_.visible}})},limit:function(s){s.config.limit_start=null,s.config.limit_end=null,s.config.limit_view=!1,s.config.check_limits=!0,s.config.mark_now=!0,s.config.display_marked_timespans=!0,s.config.overwrite_marked_timespans=!0,s._temp_limit_scope=function(){var w=null,d=function(o,c,u){var f=Ah(o)=="object"?o:{days:o};return f.type="dhx_time_block",f.css="",c&&(u&&(f.sections=u),f=function(y,x,g){return x instanceof Date&&g instanceof Date?(y.start_date=x,y.end_date=g):(y.days=x,y.zones=g),y}(f,o,c)),f};s.blockTime=function(o,c,u){var f=d(o,c,u);return s.addMarkedTimespan(f)},s.unblockTime=function(o,c,u){var f=d(o,c=c||"fullday",u);return s.deleteMarkedTimespan(f)},s.attachEvent("onBeforeViewChange",function(o,c,u,f){function y(x,g){var k=s.config.limit_start,b=s.config.limit_end,E=s.date.add(x,1,g);return x.valueOf()>b.valueOf()||E<=k.valueOf()}return!s.config.limit_view||!y(f=f||c,u=u||o)||c.valueOf()==f.valueOf()||(setTimeout(function(){var x=y(c,u)?s.config.limit_start:c;s.setCurrentView(y(x,u)?null:x,u)},1),!1)}),s.checkInMarkedTimespan=function(o,c,u){c=c||"default";for(var f=!0,y=new Date(o.start_date.valueOf()),x=s.date.add(y,1,"day"),g=s._marked_timespans;y<o.end_date;y=s.date.date_part(x),x=s.date.add(y,1,"day")){var k=+s.date.date_part(new Date(y)),b=_(o,g,y.getDay(),k,c);if(b)for(var E=0;E<b.length;E+=2){var T=s._get_zone_minutes(y),O=o.end_date>x||o.end_date.getDate()!=y.getDate()?1440:s._get_zone_minutes(o.end_date),U=b[E],$=b[E+1];if(U<O&&$>T&&!(f=typeof u=="function"&&u(o,T,O,U,$)))break}}return!f};var m=s.checkLimitViolation=function(o){if(!o||!s.config.check_limits)return!0;var c=s,u=c.config,f=[];if(o.rec_type)for(var y=s.getRecDates(o),x=0;x<y.length;x++){var g=s._copy_event(o);s._lame_copy(g,y[x]),f.push(g)}else f=[o];for(var k=!0,b=0;b<f.length;b++){var E=!0;(g=f[b])._timed=s.isOneDayEvent(g),(E=!u.limit_start||!u.limit_end||g.start_date.valueOf()>=u.limit_start.valueOf()&&g.end_date.valueOf()<=u.limit_end.valueOf())&&(E=!s.checkInMarkedTimespan(g,"dhx_time_block",function(T,O,U,$,V){var Q=!0;return O<=V&&O>=$&&((V==1440||U<=V)&&(Q=!1),T._timed&&c._drag_id&&c._drag_mode=="new-size"?(T.start_date.setHours(0),T.start_date.setMinutes(V)):Q=!1),(U>=$&&U<=V||O<$&&U>V)&&(T._timed&&c._drag_id&&c._drag_mode=="new-size"?(T.end_date.setHours(0),T.end_date.setMinutes($)):Q=!1),Q})),E||(E=c.checkEvent("onLimitViolation")?c.callEvent("onLimitViolation",[g.id,g]):E),k=k&&E}return k||(c._drag_id=null,c._drag_mode=null),k};function _(o,c,u,f,y){var x=s,g=[],k={_props:"map_to",matrix:"y_property"};for(var b in k){var E=k[b];if(x[b])for(var T in x[b]){var O=x[b][T][E];o[O]&&(g=x._add_timespan_zones(g,s._get_blocked_zones(c[T],o[O],u,f,y)))}}return g=x._add_timespan_zones(g,s._get_blocked_zones(c,"global",u,f,y))}s._get_blocked_zones=function(o,c,u,f,y){var x=[];if(o&&o[c])for(var g=o[c],k=this._get_relevant_blocked_zones(u,f,g,y),b=0;b<k.length;b++)x=this._add_timespan_zones(x,k[b].zones);return x},s._get_relevant_blocked_zones=function(o,c,u,f){var y;return s.config.overwrite_marked_timespans?y=u[c]&&u[c][f]?u[c][f]:u[o]&&u[o][f]?u[o][f]:[]:(y=[],u[c]&&u[c][f]&&(y=y.concat(u[c][f])),u[o]&&u[o][f]&&(y=y.concat(u[o][f]))),y},s.attachEvent("onMouseDown",function(o){return o!="dhx_time_block"}),s.attachEvent("onBeforeDrag",function(o){return!o||m(s.getEvent(o))}),s.attachEvent("onClick",function(o,c){return m(s.getEvent(o))}),s.attachEvent("onBeforeLightbox",function(o){var c=s.getEvent(o);return w=[c.start_date,c.end_date],m(c)}),s.attachEvent("onEventSave",function(o,c,u){if(!c.start_date||!c.end_date){var f=s.getEvent(o);c.start_date=new Date(f.start_date),c.end_date=new Date(f.end_date)}if(c.rec_type){var y=s._lame_clone(c);return s._roll_back_dates(y),m(y)}return m(c)}),s.attachEvent("onEventAdded",function(o){if(!o)return!0;var c=s.getEvent(o);return!m(c)&&s.config.limit_start&&s.config.limit_end&&(c.start_date<s.config.limit_start&&(c.start_date=new Date(s.config.limit_start)),c.start_date.valueOf()>=s.config.limit_end.valueOf()&&(c.start_date=this.date.add(s.config.limit_end,-1,"day")),c.end_date<s.config.limit_start&&(c.end_date=new Date(s.config.limit_start)),c.end_date.valueOf()>=s.config.limit_end.valueOf()&&(c.end_date=this.date.add(s.config.limit_end,-1,"day")),c.start_date.valueOf()>=c.end_date.valueOf()&&(c.end_date=this.date.add(c.start_date,this.config.event_duration||this.config.time_step,"minute")),c._timed=this.isOneDayEvent(c)),!0}),s.attachEvent("onEventChanged",function(o){if(!o)return!0;var c=s.getEvent(o);if(!m(c)){if(!w)return!1;c.start_date=w[0],c.end_date=w[1],c._timed=this.isOneDayEvent(c)}return!0}),s.attachEvent("onBeforeEventChanged",function(o,c,u){return m(o)}),s.attachEvent("onBeforeEventCreated",function(o){var c=s.getActionData(o).date,u={_timed:!0,start_date:c,end_date:s.date.add(c,s.config.time_step,"minute")};return m(u)}),s.attachEvent("onViewChange",function(){s._mark_now()}),s.attachEvent("onAfterSchedulerResize",function(){return window.setTimeout(function(){s._mark_now()},1),!0}),s.attachEvent("onTemplatesReady",function(){s._mark_now_timer=window.setInterval(function(){s._is_initialized()&&s._mark_now()},6e4)}),s._mark_now=function(o){this._els.dhx_now_time||(this._els.dhx_now_time=[]);var c=s._currentDate(),u=this.config;if(s._remove_mark_now(),!o&&u.mark_now&&c<this._max_date&&c>this._min_date&&c.getHours()>=u.first_hour&&c.getHours()<u.last_hour){var f=this.locate_holder_day(c);this._els.dhx_now_time=s._append_mark_now(f,c)}},s._append_mark_now=function(o,c){var u=s._get_zone_minutes(c),f={zones:[u,u+1],css:"dhx_now_time",type:"dhx_now_time"};if(!this._table_view){if(this._props&&this._props[this._mode]){var y,x,g=this._props[this._mode],k=g.size||g.options.length;g.days>1?(g.size&&g.options.length&&(o=(g.position+o)/g.options.length*g.size),y=o,x=o+k):x=(y=0)+k;for(var b=[],E=y;E<x;E++){var T=E;f.days=T;var O=s._render_marked_timespan(f,null,T)[0];b.push(O)}return b}return f.days=o,s._render_marked_timespan(f,null,o)}if(this._mode=="month")return f.days=+s.date.date_part(c),s._render_marked_timespan(f,null,null)},s._remove_mark_now=function(){for(var o=this._els.dhx_now_time,c=0;c<o.length;c++){var u=o[c],f=u.parentNode;f&&f.removeChild(u)}this._els.dhx_now_time=[]},s._marked_timespans={global:{}},s._get_zone_minutes=function(o){return 60*o.getHours()+o.getMinutes()},s._prepare_timespan_options=function(o){var c=[],u=[];if(o.days=="fullweek"&&(o.days=[0,1,2,3,4,5,6]),o.days instanceof Array){for(var f=o.days.slice(),y=0;y<f.length;y++){var x=s._lame_clone(o);x.days=f[y],c.push.apply(c,s._prepare_timespan_options(x))}return c}if(!o||!(o.start_date&&o.end_date&&o.end_date>o.start_date||o.days!==void 0&&o.zones)&&!o.type)return c;o.zones=="fullday"&&(o.zones=[0,1440]),o.zones&&o.invert_zones&&(o.zones=s.invertZones(o.zones)),o.id=s.uid(),o.css=o.css||"",o.type=o.type||"default";var g=o.sections;if(g){for(var k in g)if(g.hasOwnProperty(k)){var b=g[k];for(b instanceof Array||(b=[b]),y=0;y<b.length;y++)(Q=s._lame_copy({},o)).sections={},Q.sections[k]=b[y],u.push(Q)}}else u.push(o);for(var E=0;E<u.length;E++){var T=u[E],O=T.start_date,U=T.end_date;if(O&&U)for(var $=s.date.date_part(new Date(O)),V=s.date.add($,1,"day");$<U;){var Q;delete(Q=s._lame_copy({},T)).start_date,delete Q.end_date,Q.days=$.valueOf();var ee=O>$?s._get_zone_minutes(O):0,G=U>V||U.getDate()!=$.getDate()?1440:s._get_zone_minutes(U);Q.zones=[ee,G],c.push(Q),$=V,V=s.date.add(V,1,"day")}else T.days instanceof Date&&(T.days=s.date.date_part(T.days).valueOf()),T.zones=o.zones.slice(),c.push(T)}return c},s._get_dates_by_index=function(o,c,u){var f=[];c=s.date.date_part(new Date(c||s._min_date)),u=new Date(u||s._max_date);for(var y=c.getDay(),x=o-y>=0?o-y:7-c.getDay()+o,g=s.date.add(c,x,"day");g<u;g=s.date.add(g,1,"week"))f.push(g);return f},s._get_css_classes_by_config=function(o){var c=[];return o.type=="dhx_time_block"&&(c.push("dhx_time_block"),o.css&&c.push("dhx_time_block_reset")),c.push("dhx_marked_timespan",o.css),c.join(" ")},s._get_block_by_config=function(o){var c=document.createElement("div");return o.html&&(typeof o.html=="string"?c.innerHTML=o.html:c.appendChild(o.html)),c},s._render_marked_timespan=function(o,c,u){var f=[],y=s.config,x=this._min_date,g=this._max_date,k=!1;if(!y.display_marked_timespans)return f;if(!u&&u!==0){if(o.days<7)u=o.days;else{var b=new Date(o.days);if(k=+b,!(+g>+b&&+x<=+b))return f;u=b.getDay()}var E=x.getDay();E>u?u=7-(E-u):u-=E}var T=o.zones,O=s._get_css_classes_by_config(o);if(s._table_view&&s._mode=="month"){var U=[],$=[];if(c)U.push(c),$.push(u);else{$=k?[k]:s._get_dates_by_index(u);for(var V=0;V<$.length;V++)U.push(this._scales[$[V]])}for(V=0;V<U.length;V++){c=U[V],u=$[V];var Q=Math.floor((this._correct_shift(u,1)-x.valueOf())/(864e5*this._cols.length)),ee=this.locate_holder_day(u,!1)%this._cols.length;if(!this._ignores[ee]){var G=this.config.rtl?this._colsS.col_length-1-ee:ee,re=s._get_block_by_config(o),q=Math.max(c.offsetHeight-1,0),X=Math.max(c.offsetWidth-1,0),J=this._colsS[G],ye=this._colsS.heights[Q]+(this._colsS.height?this.xy.month_scale_height+2:2)-1;re.className=O,re.style.top=ye+"px",re.style.lineHeight=re.style.height=q+"px";for(var Se=0;Se<T.length;Se+=2){var be=T[V];if((qe=T[V+1])<=be)return[];(Xe=re.cloneNode(!0)).style.left=J+Math.round(be/1440*X)+"px",Xe.style.width=Math.round((qe-be)/1440*X)+"px",c.appendChild(Xe),f.push(Xe)}}}}else{var Ie=u;if(this._ignores[this.locate_holder_day(u,!1)])return f;if(this._props&&this._props[this._mode]&&o.sections&&o.sections[this._mode]){var Ce=this._props[this._mode];Ie=Ce.order[o.sections[this._mode]];var $e=Ce.order[o.sections[this._mode]];Ce.days>1?Ie=Ie*(Ce.size||Ce.options.length)+$e:(Ie=$e,Ce.size&&Ie>Ce.position+Ce.size&&(Ie=0))}for(c=c||s.locate_holder(Ie),V=0;V<T.length;V+=2){var qe,Xe;if(be=Math.max(T[V],60*y.first_hour),(qe=Math.min(T[V+1],60*y.last_hour))<=be){if(V+2<T.length)continue;return[]}(Xe=s._get_block_by_config(o)).className=O;var Tt=24*this.config.hour_size_px+1;Xe.style.top=Math.round((60*be*1e3-36e5*this.config.first_hour)*this.config.hour_size_px/36e5)%Tt+"px",Xe.style.lineHeight=Xe.style.height=Math.max(Math.round(60*(qe-be)*1e3*this.config.hour_size_px/36e5)%Tt,1)+"px",c.appendChild(Xe),f.push(Xe)}}return f},s._mark_timespans=function(){var o=this._els.dhx_cal_data[0],c=[];if(s._table_view&&s._mode=="month")for(var u in this._scales){var f=new Date(+u);c.push.apply(c,s._on_scale_add_marker(this._scales[u],f))}else{f=new Date(s._min_date);for(var y=0,x=o.childNodes.length;y<x;y++){var g=o.childNodes[y];g.firstChild&&s._getClassName(g.firstChild).indexOf("dhx_scale_hour")>-1||(c.push.apply(c,s._on_scale_add_marker(g,f)),f=s.date.add(f,1,"day"))}}return c},s.markTimespan=function(o){var c=!1;this._els.dhx_cal_data||(s.get_elements(),c=!0);var u=s._marked_timespans_ids,f=s._marked_timespans_types,y=s._marked_timespans;s.deleteMarkedTimespan(),s.addMarkedTimespan(o);var x=s._mark_timespans();return c&&(s._els=[]),s._marked_timespans_ids=u,s._marked_timespans_types=f,s._marked_timespans=y,x},s.unmarkTimespan=function(o){if(o)for(var c=0;c<o.length;c++){var u=o[c];u.parentNode&&u.parentNode.removeChild(u)}},s._addMarkerTimespanConfig=function(o){var c=s._marked_timespans,u=o.id,f=s._marked_timespans_ids;f[u]||(f[u]=[]);var y=o.days,x=o.sections,g=o.type;if(o.id=u,x){for(var k in x)if(x.hasOwnProperty(k)){c[k]||(c[k]={});var b=x[k],E=c[k];E[b]||(E[b]={}),E[b][y]||(E[b][y]={}),E[b][y][g]||(E[b][y][g]=[],s._marked_timespans_types||(s._marked_timespans_types={}),s._marked_timespans_types[g]||(s._marked_timespans_types[g]=!0));var T=E[b][y][g];o._array=T,T.push(o),f[u].push(o)}}else c.global[y]||(c.global[y]={}),c.global[y][g]||(c.global[y][g]=[]),s._marked_timespans_types||(s._marked_timespans_types={}),s._marked_timespans_types[g]||(s._marked_timespans_types[g]=!0),T=c.global[y][g],o._array=T,T.push(o),f[u].push(o)},s._marked_timespans_ids={},s.addMarkedTimespan=function(o){var c=s._prepare_timespan_options(o);if(c.length){for(var u=c[0].id,f=0;f<c.length;f++)s._addMarkerTimespanConfig(c[f]);return u}},s._add_timespan_zones=function(o,c){var u=o.slice();if(c=c.slice(),!u.length)return c;for(var f=0;f<u.length;f+=2)for(var y=u[f],x=u[f+1],g=f+2==u.length,k=0;k<c.length;k+=2){var b=c[k],E=c[k+1];if(E>x&&b<=x||b<y&&E>=y)u[f]=Math.min(y,b),u[f+1]=Math.max(x,E),f-=2;else{if(!g)continue;var T=y>b?0:2;u.splice(f+T,0,b,E)}c.splice(k--,2);break}return u},s._subtract_timespan_zones=function(o,c){for(var u=o.slice(),f=0;f<u.length;f+=2)for(var y=u[f],x=u[f+1],g=0;g<c.length;g+=2){var k=c[g],b=c[g+1];if(b>y&&k<x){var E=!1;y>=k&&x<=b&&u.splice(f,2),y<k&&(u.splice(f,2,y,k),E=!0),x>b&&u.splice(E?f+2:f,E?0:2,b,x),f-=2;break}}return u},s.invertZones=function(o){return s._subtract_timespan_zones([0,1440],o.slice())},s._delete_marked_timespan_by_id=function(o){var c=s._marked_timespans_ids[o];if(c){for(var u=0;u<c.length;u++)for(var f=c[u],y=f._array,x=0;x<y.length;x++)if(y[x]==f){y.splice(x,1);break}}},s._delete_marked_timespan_by_config=function(o){var c,u=s._marked_timespans,f=o.sections,y=o.days,x=o.type||"default";if(f){for(var g in f)if(f.hasOwnProperty(g)&&u[g]){var k=f[g];u[g][k]&&(c=u[g][k])}}else c=u.global;if(c){if(y!==void 0)c[y]&&c[y][x]&&(s._addMarkerTimespanConfig(o),s._delete_marked_timespans_list(c[y][x],o));else for(var b in c)if(c[b][x]){var E=s._lame_clone(o);o.days=b,s._addMarkerTimespanConfig(E),s._delete_marked_timespans_list(c[b][x],o)}}},s._delete_marked_timespans_list=function(o,c){for(var u=0;u<o.length;u++){var f=o[u],y=s._subtract_timespan_zones(f.zones,c.zones);if(y.length)f.zones=y;else{o.splice(u,1),u--;for(var x=s._marked_timespans_ids[f.id],g=0;g<x.length;g++)if(x[g]==f){x.splice(g,1);break}}}},s.deleteMarkedTimespan=function(o){if(arguments.length||(s._marked_timespans={global:{}},s._marked_timespans_ids={},s._marked_timespans_types={}),Ah(o)!="object")s._delete_marked_timespan_by_id(o);else{o.start_date&&o.end_date||(o.days!==void 0||o.type||(o.days="fullweek"),o.zones||(o.zones="fullday"));var c=[];if(o.type)c.push(o.type);else for(var u in s._marked_timespans_types)c.push(u);for(var f=s._prepare_timespan_options(o),y=0;y<f.length;y++)for(var x=f[y],g=0;g<c.length;g++){var k=s._lame_clone(x);k.type=c[g],s._delete_marked_timespan_by_config(k)}}},s._get_types_to_render=function(o,c){var u=o?s._lame_copy({},o):{};for(var f in c||{})c.hasOwnProperty(f)&&(u[f]=c[f]);return u},s._get_configs_to_render=function(o){var c=[];for(var u in o)o.hasOwnProperty(u)&&c.push.apply(c,o[u]);return c},s._on_scale_add_marker=function(o,c){if(!s._table_view||s._mode=="month"){var u=c.getDay(),f=c.valueOf(),y=this._mode,x=s._marked_timespans,g=[],k=[];if(this._props&&this._props[y]){var b=this._props[y],E=b.options,T=E[s._get_unit_index(b,c)];if(b.days>1){var O=Math.round((c-s._min_date)/864e5),U=b.size||E.length;c=s.date.add(s._min_date,Math.floor(O/U),"day"),c=s.date.date_part(c)}else c=s.date.date_part(new Date(this._date));if(u=c.getDay(),f=c.valueOf(),x[y]&&x[y][T.key]){var $=x[y][T.key],V=s._get_types_to_render($[u],$[f]);g.push.apply(g,s._get_configs_to_render(V))}}var Q=x.global;if(s.config.overwrite_marked_timespans){var ee=Q[f]||Q[u];g.push.apply(g,s._get_configs_to_render(ee))}else Q[f]&&g.push.apply(g,s._get_configs_to_render(Q[f])),Q[u]&&g.push.apply(g,s._get_configs_to_render(Q[u]));for(var G=0;G<g.length;G++)k.push.apply(k,s._render_marked_timespan(g[G],o,c));return k}},s.attachEvent("onScaleAdd",function(){s._on_scale_add_marker.apply(s,arguments)}),s.dblclick_dhx_marked_timespan=function(o,c){s.callEvent("onScaleDblClick",[s.getActionData(o).date,c,o]),s.config.dblclick_create&&s.addEventNow(s.getActionData(o).date,null,o)}},s._temp_limit_scope()},map_view:function(s){var w;s.xy.map_date_width=188,s.xy.map_icon_width=25,s.xy.map_description_width=400,s.config.map_resolve_event_location=!0,s.config.map_resolve_user_location=!0,s.config.map_initial_position=new google.maps.LatLng(48.724,8.215),s.config.map_error_position=new google.maps.LatLng(15,15),s.config.map_infowindow_max_width=300,s.config.map_type=google.maps.MapTypeId.ROADMAP,s.config.map_zoom_after_resolve=15,s.locale.labels.marker_geo_success="It seems you are here.",s.locale.labels.marker_geo_fail="Sorry, could not get your current position using geolocation.",s.templates.marker_date=s.date.date_to_str("%Y-%m-%d %H:%i"),s.templates.marker_text=function(d,m,_){return"<div><b>"+_.text+"</b><br/><br/>"+(_.event_location||"")+"<br/><br/>"+s.templates.marker_date(d)+" - "+s.templates.marker_date(m)+"</div>"},s.dblclick_dhx_map_area=function(){!this.config.readonly&&this.config.dblclick_create&&this.addEventNow({start_date:s._date,end_date:s.date.add(s._date,s.config.time_step,"minute")})},s.templates.map_time=function(d,m,_){return s.config.rtl&&!_._timed?s.templates.day_date(m)+" &ndash; "+s.templates.day_date(d):_._timed?this.day_date(_.start_date,_.end_date,_)+" "+this.event_date(d):s.templates.day_date(d)+" &ndash; "+s.templates.day_date(m)},s.templates.map_text=function(d,m,_){return _.text},s.date.map_start=function(d){return d},s.date.add_map=function(d,m,_){return new Date(d.valueOf())},s.templates.map_date=function(d,m,_){return""},s._latLngUpdate=!1,s.attachEvent("onSchedulerReady",function(){s._isMapPositionSet=!1;var d=document.createElement("div");d.className="dhx_map",d.id="dhx_gmap",d.style.display="none",s._obj.appendChild(d),s._els.dhx_gmap=[],s._els.dhx_gmap.push(d),f("dhx_gmap");var m={zoom:s.config.map_initial_zoom||10,center:s.config.map_initial_position,mapTypeId:s.config.map_type||google.maps.MapTypeId.ROADMAP},_=new google.maps.Map(document.getElementById("dhx_gmap"),m);_.disableDefaultUI=!1,_.disableDoubleClickZoom=!s.config.readonly,google.maps.event.addListener(_,"dblclick",function(b){if(!s.config.readonly&&s.config.dblclick_create){var E=b.latLng;w.geocode({latLng:E},function(T,O){O==google.maps.GeocoderStatus.OK&&(E=T[0].geometry.location,s.addEventNow({lat:E.lat(),lng:E.lng(),event_location:T[0].formatted_address,start_date:s._date,end_date:s.date.add(s._date,s.config.time_step,"minute")}))})}});var o={content:""};s.config.map_infowindow_max_width&&(o.maxWidth=s.config.map_infowindow_max_width),s.map={_points:[],_markers:[],_infowindow:new google.maps.InfoWindow(o),_infowindows_content:[],_initialization_count:-1,_obj:_},w=new google.maps.Geocoder,s.config.map_resolve_user_location&&navigator.geolocation&&(s._isMapPositionSet||navigator.geolocation.getCurrentPosition(function(b){var E=new google.maps.LatLng(b.coords.latitude,b.coords.longitude);_.setCenter(E),_.setZoom(s.config.map_zoom_after_resolve||10),s.map._infowindow.setContent(s.locale.labels.marker_geo_success),s.map._infowindow.position=_.getCenter(),s.map._infowindow.open(_),s._isMapPositionSet=!0},function(){s.map._infowindow.setContent(s.locale.labels.marker_geo_fail),s.map._infowindow.setPosition(_.getCenter()),s.map._infowindow.open(_),s._isMapPositionSet=!0})),google.maps.event.addListener(_,"resize",function(b){d.style.zIndex="5",_.setZoom(_.getZoom())}),google.maps.event.addListener(_,"tilesloaded",function(b){d.style.zIndex="5"}),d.style.display="none";var c=s.render_data;function u(){var b=s.get_visible_events();b.sort(function(q,X){return q.start_date.valueOf()==X.start_date.valueOf()?q.id>X.id?1:-1:q.start_date>X.start_date?1:-1});for(var E="<div "+(Q=s._waiAria.mapAttrString())+" class='dhx_map_area'>",T=0;T<b.length;T++){var O=b[T],U=O.id==s._selected_event_id?"dhx_map_line highlight":"dhx_map_line",$=O.color?"background:"+O.color+";":"",V=O.textColor?"color:"+O.textColor+";":"",Q=s._waiAria.mapRowAttrString(O),ee=s._waiAria.mapDetailsBtnString();E+="<div "+Q+" class='"+U+"' event_id='"+O.id+"' "+s.config.event_attribute+"='"+O.id+"' style='"+$+V+(O._text_style||"")+" width: "+(s.xy.map_date_width+s.xy.map_description_width+2)+"px;'><div class='dhx_map_event_time' style='width: "+s.xy.map_date_width+"px;' >"+s.templates.map_time(O.start_date,O.end_date,O)+"</div>",E+="<div "+ee+" class='dhx_event_icon icon_details'>&nbsp;</div>",E+="<div class='line_description' style='width:"+(s.xy.map_description_width-s.xy.map_icon_width)+"px;'>"+s.templates.map_text(O.start_date,O.end_date,O)+"</div></div>"}E+="<div class='dhx_v_border' style="+(s.config.rtl?"'right: ":"'left: ")+(s.xy.map_date_width-2)+"px;'></div><div class='dhx_v_border_description'></div></div>",s._els.dhx_cal_data[0].scrollTop=0,s._els.dhx_cal_data[0].innerHTML=E,s._els.dhx_cal_data[0].style.width=s.xy.map_date_width+s.xy.map_description_width+1+"px";var G=s._els.dhx_cal_data[0].firstChild.childNodes,re=s._getNavDateElement();for(re&&(re.innerHTML=s.templates[s._mode+"_date"](s._min_date,s._max_date,s._mode)),s._rendered=[],T=0;T<G.length-2;T++)s._rendered[T]=G[T]}function f(b){var E=document.getElementById(b),T=s._y-s.xy.nav_height;T<0&&(T=0);var O=s._x-s.xy.map_date_width-s.xy.map_description_width-1;O<0&&(O=0),E.style.height=T+"px",E.style.width=O+"px",s.config.rtl?E.style.marginRight=s.xy.map_date_width+s.xy.map_description_width+1+"px":E.style.marginLeft=s.xy.map_date_width+s.xy.map_description_width+1+"px",E.style.marginTop=s.xy.nav_height+2+"px"}s.render_data=function(b,E){if(this._mode!="map")return c.apply(this,arguments);u();for(var T=s.get_visible_events(),O=0;O<T.length;O++)s.map._markers[T[O].id]||x(T[O],!1,!1)},s.map_view=function(b){s.map._initialization_count++;var E,T=s._els.dhx_gmap[0];if(s._els.dhx_cal_data[0].style.width=s.xy.map_date_width+s.xy.map_description_width+1+"px",s._min_date=s.config.map_start||s._currentDate(),s._max_date=s.config.map_end||s.date.add(s._currentDate(),1,"year"),s._table_view=!0,function($){if($){var V=s.locale.labels;s._els.dhx_cal_header[0].innerHTML="<div class='dhx_map_line' style='width: "+(s.xy.map_date_width+s.xy.map_description_width+2)+"px;' ><div class='headline_date' style='width: "+s.xy.map_date_width+"px;'>"+V.date+"</div><div class='headline_description' style='width: "+s.xy.map_description_width+"px;'>"+V.description+"</div></div>",s._table_view=!0,s.set_sizes()}}(b),b){(function(){s._selected_event_id=null,s.map._infowindow.close();var $=s.map._markers;for(var V in $)$.hasOwnProperty(V)&&($[V].setMap(null),delete s.map._markers[V],s.map._infowindows_content[V]&&delete s.map._infowindows_content[V])})(),u(),T.style.display="block",f("dhx_gmap"),E=s.map._obj.getCenter();for(var O=s.get_visible_events(),U=0;U<O.length;U++)s.map._markers[O[U].id]||x(O[U])}else T.style.display="none";google.maps.event.trigger(s.map._obj,"resize"),s.map._initialization_count===0&&E&&s.map._obj.setCenter(E),s._selected_event_id&&y(s._selected_event_id)};var y=function(b){s.map._obj.setCenter(s.map._points[b]),s.callEvent("onClick",[b])},x=function(b,E,T){var O=s.config.map_error_position;b.lat&&b.lng&&(O=new google.maps.LatLng(b.lat,b.lng));var U=s.templates.marker_text(b.start_date,b.end_date,b);s._new_event||(s.map._infowindows_content[b.id]=U,s.map._markers[b.id]&&s.map._markers[b.id].setMap(null),s.map._markers[b.id]=new google.maps.Marker({position:O,map:s.map._obj}),google.maps.event.addListener(s.map._markers[b.id],"click",function(){s.map._infowindow.setContent(s.map._infowindows_content[b.id]),s.map._infowindow.open(s.map._obj,s.map._markers[b.id]),s._selected_event_id=b.id,s.render_data()}),s.map._points[b.id]=O,E&&s.map._obj.setCenter(s.map._points[b.id]),T&&s.callEvent("onClick",[b.id]))};s.attachEvent("onClick",function(b,E){if(this._mode=="map"){s._selected_event_id=b;for(var T=0;T<s._rendered.length;T++)s._rendered[T].className="dhx_map_line",s._rendered[T].getAttribute(s.config.event_attribute)==b&&(s._rendered[T].className+=" highlight");s.map._points[b]&&s.map._markers[b]&&(s.map._obj.setCenter(s.map._points[b]),google.maps.event.trigger(s.map._markers[b],"click"))}return!0});var g=function(b){b.event_location&&w?w.geocode({address:b.event_location,language:s.uid().toString()},function(E,T){var O={};T!=google.maps.GeocoderStatus.OK?(O=s.callEvent("onLocationError",[b.id]))&&O!==!0||(O=s.config.map_error_position):O=E[0].geometry.location,b.lat=O.lat(),b.lng=O.lng(),s._selected_event_id=b.id,s._latLngUpdate=!0,s.callEvent("onEventChanged",[b.id,b]),x(b,!0,!0)}):x(b,!0,!0)},k=function(b){b.event_location&&w&&w.geocode({address:b.event_location,language:s.uid().toString()},function(E,T){var O={};T!=google.maps.GeocoderStatus.OK?(O=s.callEvent("onLocationError",[b.id]))&&O!==!0||(O=s.config.map_error_position):O=E[0].geometry.location,b.lat=O.lat(),b.lng=O.lng(),s._latLngUpdate=!0,s.callEvent("onEventChanged",[b.id,b])})};s.attachEvent("onEventChanged",function(b,E){if(this._latLngUpdate)this._latLngUpdate=!1;else{var T=s.getEvent(b);T.start_date<s._min_date&&T.end_date>s._min_date||T.start_date<s._max_date&&T.end_date>s._max_date||T.start_date.valueOf()>=s._min_date&&T.end_date.valueOf()<=s._max_date?(s.map._markers[b]&&s.map._markers[b].setMap(null),g(T)):(s._selected_event_id=null,s.map._infowindow.close(),s.map._markers[b]&&s.map._markers[b].setMap(null))}return!0}),s.attachEvent("onEventIdChange",function(b,E){var T=s.getEvent(E);return(T.start_date<s._min_date&&T.end_date>s._min_date||T.start_date<s._max_date&&T.end_date>s._max_date||T.start_date.valueOf()>=s._min_date&&T.end_date.valueOf()<=s._max_date)&&(s.map._markers[b]&&(s.map._markers[b].setMap(null),delete s.map._markers[b]),s.map._infowindows_content[b]&&delete s.map._infowindows_content[b],g(T)),!0}),s.attachEvent("onEventAdded",function(b,E){return s._dataprocessor||(E.start_date<s._min_date&&E.end_date>s._min_date||E.start_date<s._max_date&&E.end_date>s._max_date||E.start_date.valueOf()>=s._min_date&&E.end_date.valueOf()<=s._max_date)&&(s.map._markers[b]&&s.map._markers[b].setMap(null),g(E)),!0}),s.attachEvent("onBeforeEventDelete",function(b,E){return s.map._markers[b]&&s.map._markers[b].setMap(null),s._selected_event_id=null,s.map._infowindow.close(),!0}),s._event_resolve_delay=1500,s.attachEvent("onEventLoading",function(b){return s.config.map_resolve_event_location&&b.event_location&&!b.lat&&!b.lng&&(s._event_resolve_delay+=1500,function(E,T,O,U){setTimeout(function(){var $=E.apply(T,O);return E=T=O=null,$},U||1)}(k,this,[b],s._event_resolve_delay)),!0}),s.attachEvent("onEventCancel",function(b,E){return E&&(s.map._markers[b]&&s.map._markers[b].setMap(null),s.map._infowindow.close()),!0})})},minical:function(s){var w=s._createDomEventScope();s.templates.calendar_month=s.date.date_to_str("%F %Y"),s.templates.calendar_scale_date=s.date.date_to_str("%D"),s.templates.calendar_date=s.date.date_to_str("%d"),s.config.minicalendar={mark_events:!0},s._synced_minicalendars=[],s.renderCalendar=function(d,m,_){var o=null,c=d.date||s._currentDate();if(typeof c=="string"&&(c=this.templates.api_date(c)),m)o=this._render_calendar(m.parentNode,c,d,m),s.unmarkCalendar(o);else{var u=d.container,f=d.position;if(typeof u=="string"&&(u=document.getElementById(u)),typeof f=="string"&&(f=document.getElementById(f)),f&&f.left===void 0&&f.right===void 0){var y=s.$domHelpers.getOffset(f);f={top:y.top+f.offsetHeight,left:y.left}}u||(u=s._get_def_cont(f)),(o=this._render_calendar(u,c,d)).$_eventAttached||(o.$_eventAttached=!0,w.attach(o,"click",function($){var V=$.target||$.srcElement,Q=s.$domHelpers;if(Q.closest(V,".dhx_month_head")&&!Q.closest(V,".dhx_after")&&!Q.closest(V,".dhx_before")){var ee=Q.closest(V,"[data-cell-date]").getAttribute("data-cell-date"),G=s.templates.parse_date(ee);s.unmarkCalendar(this),s.markCalendar(this,G,"dhx_calendar_click"),this._last_date=G,this.conf.handler&&this.conf.handler.call(s,G,this)}}.bind(o)))}if(s.config.minicalendar.mark_events)for(var x=s.date.month_start(c),g=s.date.add(x,1,"month"),k=this.getEvents(x,g),b=this["filter_"+this._mode],E={},T=0;T<k.length;T++){var O=k[T];if(!b||b(O.id,O)){var U=O.start_date;for(U.valueOf()<x.valueOf()&&(U=x),U=s.date.date_part(new Date(U.valueOf()));U<O.end_date&&(E[+U]||(E[+U]=!0,this.markCalendar(o,U,"dhx_year_event")),!((U=this.date.add(U,1,"day")).valueOf()>=g.valueOf())););}}return this._markCalendarCurrentDate(o),o.conf=d,d.sync&&!_&&this._synced_minicalendars.push(o),o.conf._on_xle_handler||(o.conf._on_xle_handler=s.attachEvent("onXLE",function(){s.updateCalendar(o,o.conf.date)})),this.config.wai_aria_attributes&&this.config.wai_aria_application_role&&o.setAttribute("role","application"),o},s._get_def_cont=function(d){return this._def_count||(this._def_count=document.createElement("div"),this._def_count.className="dhx_minical_popup",s.event(this._def_count,"click",function(m){m.cancelBubble=!0}),document.body.appendChild(this._def_count)),d.left&&(this._def_count.style.left=d.left+"px"),d.right&&(this._def_count.style.right=d.right+"px"),d.top&&(this._def_count.style.top=d.top+"px"),d.bottom&&(this._def_count.style.bottom=d.bottom+"px"),this._def_count._created=new Date,this._def_count},s._locateCalendar=function(d,m){if(typeof m=="string"&&(m=s.templates.api_date(m)),+m>+d._max_date||+m<+d._min_date)return null;for(var _=d.querySelector(".dhx_year_body").childNodes[0],o=0,c=new Date(d._min_date);+this.date.add(c,1,"week")<=+m;)c=this.date.add(c,1,"week"),o++;var u=s.config.start_on_monday,f=(m.getDay()||(u?7:0))-(u?1:0);return _.rows[o].cells[f].firstChild},s.markCalendar=function(d,m,_){var o=this._locateCalendar(d,m);o&&(o.className+=" "+_)},s.unmarkCalendar=function(d,m,_){if(m=m||d._last_date,_=_||"dhx_calendar_click",m){var o=this._locateCalendar(d,m);o&&(o.className=(o.className||"").replace(RegExp(_,"g")))}},s._week_template=function(d){for(var m=d||250,_=0,o=document.createElement("div"),c=this.date.week_start(s._currentDate()),u=0;u<7;u++)this._cols[u]=Math.floor(m/(7-u)),this._render_x_header(u,_,c,o),c=this.date.add(c,1,"day"),m-=this._cols[u],_+=this._cols[u];return o.lastChild.className+=" dhx_scale_bar_last",o},s.updateCalendar=function(d,m){d.conf.date=m,this.renderCalendar(d.conf,d,!0)},s._mini_cal_arrows=["&nbsp;","&nbsp;"],s._render_calendar=function(d,m,_,o){var c=s.templates,u=this._cols;this._cols=[];var f=this._mode;this._mode="calendar";var y=this._colsS;this._colsS={height:0};var x=new Date(this._min_date),g=new Date(this._max_date),k=new Date(s._date),b=c.month_day,E=this._ignores_detected;this._ignores_detected=0,c.month_day=c.calendar_date,m=this.date.month_start(m);var T,O=this._week_template(d.offsetWidth-1-this.config.minicalendar.padding);o?T=o:(T=document.createElement("div")).className="dhx_cal_container dhx_mini_calendar",T.setAttribute("date",this._helpers.formatDate(m)),T.innerHTML="<div class='dhx_year_month'></div><div class='dhx_year_grid"+(s.config.rtl?" dhx_grid_rtl'>":"'>")+"<div class='dhx_year_week'>"+(O?O.innerHTML:"")+"</div><div class='dhx_year_body'></div></div>";var U=T.querySelector(".dhx_year_month"),$=T.querySelector(".dhx_year_week"),V=T.querySelector(".dhx_year_body");if(U.innerHTML=this.templates.calendar_month(m),_.navigation)for(var Q=function(Xe,Tt){var lr=s.date.add(Xe._date,Tt,"month");s.updateCalendar(Xe,lr),s._date.getMonth()==Xe._date.getMonth()&&s._date.getFullYear()==Xe._date.getFullYear()&&s._markCalendarCurrentDate(Xe)},ee=["dhx_cal_prev_button","dhx_cal_next_button"],G=["left:1px;top:2px;position:absolute;","left:auto; right:1px;top:2px;position:absolute;"],re=[-1,1],q=function(Xe){return function(){if(_.sync)for(var Tt=s._synced_minicalendars,lr=0;lr<Tt.length;lr++)Q(Tt[lr],Xe);else s.config.rtl&&(Xe=-Xe),Q(T,Xe)}},X=[s.locale.labels.prev,s.locale.labels.next],J=0;J<2;J++){var ye=document.createElement("div");ye.className=ee[J],s._waiAria.headerButtonsAttributes(ye,X[J]),ye.style.cssText=G[J],ye.innerHTML=this._mini_cal_arrows[J],U.appendChild(ye),w.attach(ye,"click",q(re[J]))}T._date=new Date(m),T.week_start=(m.getDay()-(this.config.start_on_monday?1:0)+7)%7;var Se=T._min_date=this.date.week_start(m);T._max_date=this.date.add(T._min_date,6,"week"),this._reset_month_scale(V,m,Se,6),o||d.appendChild(T),$.style.height=$.childNodes[0].offsetHeight-1+"px";var be=s.uid();s._waiAria.minicalHeader(U,be),s._waiAria.minicalGrid(T.querySelector(".dhx_year_grid"),be),s._waiAria.minicalRow($);for(var Ie=$.querySelectorAll(".dhx_scale_bar"),Ce=0;Ce<Ie.length;Ce++)s._waiAria.minicalHeadCell(Ie[Ce]);var $e=V.querySelectorAll("td"),qe=new Date(Se);for(Ce=0;Ce<$e.length;Ce++)s._waiAria.minicalDayCell($e[Ce],new Date(qe)),qe=s.date.add(qe,1,"day");return s._waiAria.minicalHeader(U,be),this._cols=u,this._mode=f,this._colsS=y,this._min_date=x,this._max_date=g,s._date=k,c.month_day=b,this._ignores_detected=E,T},s.destroyCalendar=function(d,m){!d&&this._def_count&&this._def_count.firstChild&&(m||new Date().valueOf()-this._def_count._created.valueOf()>500)&&(d=this._def_count.firstChild),d&&(w.detachAll(),d.innerHTML="",d.parentNode&&d.parentNode.removeChild(d),this._def_count&&(this._def_count.style.top="-1000px"),d.conf&&d.conf._on_xle_handler&&s.detachEvent(d.conf._on_xle_handler))},s.isCalendarVisible=function(){return!!(this._def_count&&parseInt(this._def_count.style.top,10)>0)&&this._def_count},s.attachEvent("onTemplatesReady",function(){s.event(document.body,"click",function(){s.destroyCalendar()})},{once:!0}),s.templates.calendar_time=s.date.date_to_str("%d-%m-%Y"),s.form_blocks.calendar_time={render:function(d){var m="<input class='dhx_readonly' type='text' readonly='true'>",_=s.config,o=this.date.date_part(s._currentDate()),c=1440,u=0;_.limit_time_select&&(u=60*_.first_hour,c=60*_.last_hour+1),o.setHours(u/60),d._time_values=[],m+=" <select class='dhx_lightbox_time_select'>";for(var f=u;f<c;f+=1*this.config.time_step)m+="<option value='"+f+"'>"+this.templates.time_picker(o)+"</option>",d._time_values.push(f),o=this.date.add(o,this.config.time_step,"minute");return"<div style='height:30px;padding-top:0; font-size:inherit;' class='dhx_section_time dhx_lightbox_minical'>"+(m+="</select>")+"<span style='font-weight:normal; font-size:10pt;'> &nbsp;&ndash;&nbsp; </span>"+m+"</div>"},set_value:function(d,m,_,o){var c,u,f=d.getElementsByTagName("input"),y=d.getElementsByTagName("select"),x=function(U,$,V){s.event(U,"click",function(){s.destroyCalendar(null,!0),s.renderCalendar({position:U,date:new Date(this._date),navigation:!0,handler:function(Q){U.value=s.templates.calendar_time(Q),U._date=new Date(Q),s.destroyCalendar(),s.config.event_duration&&s.config.auto_end_date&&V===0&&E()}})})};if(s.config.full_day){if(!d._full_day){var g="<label class='dhx_fullday'><input type='checkbox' name='full_day' value='true'> "+s.locale.labels.full_day+"&nbsp;</label></input>";s.config.wide_form||(g=d.previousSibling.innerHTML+g),d.previousSibling.innerHTML=g,d._full_day=!0}var k=d.previousSibling.getElementsByTagName("input")[0],b=s.date.time_part(_.start_date)===0&&s.date.time_part(_.end_date)===0;k.checked=b,y[0].disabled=k.checked,y[1].disabled=k.checked,k.$_eventAttached||(k.$_eventAttached=!0,s.event(k,"click",function(){if(k.checked===!0){var U={};s.form_blocks.calendar_time.get_value(d,U),c=s.date.date_part(U.start_date),(+(u=s.date.date_part(U.end_date))==+c||+u>=+c&&(_.end_date.getHours()!==0||_.end_date.getMinutes()!==0))&&(u=s.date.add(u,1,"day"))}var $=c||_.start_date,V=u||_.end_date;T(f[0],$),T(f[1],V),y[0].value=60*$.getHours()+$.getMinutes(),y[1].value=60*V.getHours()+V.getMinutes(),y[0].disabled=k.checked,y[1].disabled=k.checked}))}if(s.config.event_duration&&s.config.auto_end_date){var E=function(){s.config.auto_end_date&&s.config.event_duration&&(c=s.date.add(f[0]._date,y[0].value,"minute"),u=new Date(c.getTime()+60*s.config.event_duration*1e3),f[1].value=s.templates.calendar_time(u),f[1]._date=s.date.date_part(new Date(u)),y[1].value=60*u.getHours()+u.getMinutes())};y[0].$_eventAttached||y[0].addEventListener("change",E)}function T(U,$,V){x(U,$,V),U.value=s.templates.calendar_time($),U._date=s.date.date_part(new Date($))}function O(U){for(var $=o._time_values,V=60*U.getHours()+U.getMinutes(),Q=V,ee=!1,G=0;G<$.length;G++){var re=$[G];if(re===V){ee=!0;break}re<V&&(Q=re)}return ee||Q?ee?V:Q:-1}T(f[0],_.start_date,0),T(f[1],_.end_date,1),x=function(){},y[0].value=O(_.start_date),y[1].value=O(_.end_date)},get_value:function(d,m){var _=d.getElementsByTagName("input"),o=d.getElementsByTagName("select");return m.start_date=s.date.add(_[0]._date,o[0].value,"minute"),m.end_date=s.date.add(_[1]._date,o[1].value,"minute"),m.end_date<=m.start_date&&(m.end_date=s.date.add(m.start_date,s.config.time_step,"minute")),{start_date:new Date(m.start_date),end_date:new Date(m.end_date)}},focus:function(d){}},s.linkCalendar=function(d,m){var _=function(){var o=s._date,c=new Date(o.valueOf());return m&&(c=m(c)),c.setDate(1),s.updateCalendar(d,c),!0};s.attachEvent("onViewChange",_),s.attachEvent("onXLE",_),s.attachEvent("onEventAdded",_),s.attachEvent("onEventChanged",_),s.attachEvent("onEventDeleted",_),_()},s._markCalendarCurrentDate=function(d){var m=s.getState(),_=m.min_date,o=m.max_date,c=m.mode,u=s.date.month_start(new Date(d._date)),f=s.date.add(u,1,"month");if(!({month:!0,year:!0,agenda:!0,grid:!0}[c]||_.valueOf()<=u.valueOf()&&o.valueOf()>=f.valueOf()))for(var y=_;y.valueOf()<o.valueOf();)u.valueOf()<=y.valueOf()&&f>y&&s.markCalendar(d,y,"dhx_calendar_click"),y=s.date.add(y,1,"day")},s.attachEvent("onEventCancel",function(){s.destroyCalendar(null,!0)}),s.attachEvent("onDestroy",function(){s.destroyCalendar()})},monthheight:function(s){s.attachEvent("onTemplatesReady",function(){s.xy.scroll_width=0;var w=s.render_view_data;s.render_view_data=function(){var m=this._els.dhx_cal_data[0];m.firstChild._h_fix=!0,w.apply(s,arguments);var _=parseInt(m.style.height);m.style.height="1px",m.style.height=m.scrollHeight+"px",this._obj.style.height=this._obj.clientHeight+m.scrollHeight-_+"px"};var d=s._reset_month_scale;s._reset_month_scale=function(m,_,o,c){var u={clientHeight:100};d.apply(s,[u,_,o,c]),m.innerHTML=u.innerHTML}})},multisection:function(s){wi("Multisection",s.assert)},multisource:function(s){var w=s._load;s._load=function(d,m){if(jg(d=d||this._load_url)=="object")for(var _=function(c){var u=function(){};return u.prototype=c,u}(this._loaded),o=0;o<d.length;o++)this._loaded=new _,w.call(this,d[o],m);else w.apply(this,arguments)}},mvc:function(s){var w,d={use_id:!1};function m(c){var u={};for(var f in c)f.indexOf("_")!==0&&(u[f]=c[f]);return d.use_id||delete u.id,u}function _(c){c._not_render=!1,c._render_wait&&c.render_view_data(),c._loading=!1,c.callEvent("onXLE",[])}function o(c){return d.use_id?c.id:c.cid}s.backbone=function(c,u){u&&(d=u),c.bind("change",function(x,g){var k=o(x),b=s._events[k]=x.toJSON();b.id=k,s._init_event(b),clearTimeout(w),w=setTimeout(function(){s.updateView()},1)}),c.bind("remove",function(x,g){var k=o(x);s._events[k]&&s.deleteEvent(k)});var f=[];function y(){f.length&&(s.parse(f,"json"),f=[])}c.bind("add",function(x,g){var k=o(x);if(!s._events[k]){var b=x.toJSON();b.id=k,s._init_event(b),f.push(b),f.length==1&&setTimeout(y,1)}}),c.bind("request",function(x){x instanceof Backbone.Collection&&function(g){g._loading=!0,g._not_render=!0,g.callEvent("onXLS",[])}(s)}),c.bind("sync",function(x){x instanceof Backbone.Collection&&_(s)}),c.bind("error",function(x){x instanceof Backbone.Collection&&_(s)}),s.attachEvent("onEventCreated",function(x){var g=new c.model(s.getEvent(x));return s._events[x]=g.toJSON(),s._events[x].id=x,!0}),s.attachEvent("onEventAdded",function(x){if(!c.get(x)){var g=m(s.getEvent(x)),k=new c.model(g),b=o(k);b!=x&&this.changeEventId(x,b),c.add(k),c.trigger("scheduler:add",k)}return!0}),s.attachEvent("onEventChanged",function(x){var g=c.get(x),k=m(s.getEvent(x));return g.set(k),c.trigger("scheduler:change",g),!0}),s.attachEvent("onEventDeleted",function(x){var g=c.get(x);return g&&(c.trigger("scheduler:remove",g),c.remove(x)),!0})}},outerdrag:function(s){s.attachEvent("onTemplatesReady",function(){var w,d=new dhtmlDragAndDropObject,m=d.stopDrag;function _(o,c,u,f){if(!s.checkEvent("onBeforeExternalDragIn")||s.callEvent("onBeforeExternalDragIn",[o,c,u,f,w])){var y=s.attachEvent("onEventCreated",function(E){s.callEvent("onExternalDragIn",[E,o,w])||(this._drag_mode=this._drag_id=null,this.deleteEvent(E))}),x=s.getActionData(w),g={start_date:new Date(x.date)};if(s.matrix&&s.matrix[s._mode]){var k=s.matrix[s._mode];g[k.y_property]=x.section;var b=s._locate_cell_timeline(w);g.start_date=k._trace_x[b.x],g.end_date=s.date.add(g.start_date,k.x_step,k.x_unit)}s._props&&s._props[s._mode]&&(g[s._props[s._mode].map_to]=x.section),s.addEventNow(g),s.detachEvent(y)}}d.stopDrag=function(o){return w=o,m.apply(this,arguments)},d.addDragLanding(s._els.dhx_cal_data[0],{_drag:function(o,c,u,f){_(o,c,u,f)},_dragIn:function(o,c){return o},_dragOut:function(o){return this}}),dhtmlx.DragControl&&dhtmlx.DragControl.addDrop(s._els.dhx_cal_data[0],{onDrop:function(o,c,u,f){var y=dhtmlx.DragControl.getMaster(o);w=f,_(o,y,c,f.target||f.srcElement)},onDragIn:function(o,c,u){return c}},!0)})},pdf:function(s){var w,d,m=new RegExp("<[^>]*>","g"),_=new RegExp("<br[^>]*>","g");function o(G){return G.replace(_,`
`).replace(m,"")}function c(G,re){G=parseFloat(G),re=parseFloat(re),isNaN(re)||(G-=re);var q=f(G);return G=G-q.width+q.cols*w,isNaN(G)?"auto":100*G/w}function u(G,re,q){G=parseFloat(G),re=parseFloat(re),!isNaN(re)&&q&&(G-=re);var X=f(G);return G=G-X.width+X.cols*w,isNaN(G)?"auto":100*G/(w-(isNaN(re)?0:re))}function f(G){for(var re=0,q=s._els.dhx_cal_header[0].childNodes,X=q[1]?q[1].childNodes:q[0].childNodes,J=0;J<X.length;J++){var ye=X[J].style?X[J]:X[J].parentNode,Se=parseFloat(ye.style.width);if(!(G>Se))break;G-=Se+1,re+=Se+1}return{width:re,cols:J}}function y(G){return G=parseFloat(G),isNaN(G)?"auto":100*G/d}function x(G,re){return(window.getComputedStyle?window.getComputedStyle(G,null)[re]:G.currentStyle?G.currentStyle[re]:null)||""}function g(G,re){for(var q=parseInt(G.style.left,10),X=0;X<s._cols.length;X++)if((q-=s._cols[X])<0)return X;return re}function k(G,re){for(var q=parseInt(G.style.top,10),X=0;X<s._colsS.heights.length;X++)if(s._colsS.heights[X]>q)return X;return re}function b(G){return G?"<"+G+">":""}function E(G){return G?"</"+G+">":""}function T(G,re,q,X){var J="<"+G+" profile='"+re+"'";return q&&(J+=" header='"+q+"'"),X&&(J+=" footer='"+X+"'"),J+=">"}function O(){var G="",re=s._mode;if(s.matrix&&s.matrix[s._mode]&&(re=s.matrix[s._mode].render=="cell"?"matrix":"timeline"),G+="<scale mode='"+re+"' today='"+s._els.dhx_cal_date[0].innerHTML+"'>",s._mode=="week_agenda")for(var q=s._els.dhx_cal_data[0].getElementsByTagName("DIV"),X=0;X<q.length;X++)q[X].className=="dhx_wa_scale_bar"&&(G+="<column>"+o(q[X].innerHTML)+"</column>");else if(s._mode=="agenda"||s._mode=="map")G+="<column>"+o((q=s._els.dhx_cal_header[0].childNodes[0].childNodes)[0].innerHTML)+"</column><column>"+o(q[1].innerHTML)+"</column>";else if(s._mode=="year")for(q=s._els.dhx_cal_data[0].childNodes,X=0;X<q.length;X++)G+="<month label='"+o(q[X].querySelector(".dhx_year_month").innerHTML)+"'>",G+=$(q[X].querySelector(".dhx_year_week").childNodes),G+=U(q[X].querySelector(".dhx_year_body")),G+="</month>";else{G+="<x>",G+=$(q=s._els.dhx_cal_header[0].childNodes),G+="</x>";var J=s._els.dhx_cal_data[0];if(s.matrix&&s.matrix[s._mode]){for(G+="<y>",X=0;X<J.firstChild.rows.length;X++)G+="<row><![CDATA["+o(J.firstChild.rows[X].cells[0].innerHTML)+"]]></row>";G+="</y>",d=J.firstChild.rows[0].cells[0].offsetHeight}else if(J.firstChild.tagName=="TABLE")G+=U(J);else{for(J=J.childNodes[J.childNodes.length-1];J.className.indexOf("dhx_scale_holder")==-1;)J=J.previousSibling;for(J=J.childNodes,G+="<y>",X=0;X<J.length;X++)G+=`
<row><![CDATA[`+o(J[X].innerHTML)+"]]></row>";G+="</y>",d=J[0].offsetHeight}}return G+="</scale>"}function U(G){for(var re="",q=G.querySelectorAll("tr"),X=0;X<q.length;X++){for(var J=[],ye=q[X].querySelectorAll("td"),Se=0;Se<ye.length;Se++)J.push(ye[Se].querySelector(".dhx_month_head").innerHTML);re+=`
<row height='`+ye[0].offsetHeight+"'><![CDATA["+o(J.join("|"))+"]]></row>",d=ye[0].offsetHeight}return re}function $(G){var re,q="";s.matrix&&s.matrix[s._mode]&&(s.matrix[s._mode].second_scale&&(re=G[1].childNodes),G=G[0].childNodes);for(var X=0;X<G.length;X++)q+=`
<column><![CDATA[`+o(G[X].innerHTML)+"]]></column>";if(w=G[0].offsetWidth,re){var J=0,ye=G[0].offsetWidth,Se=1;for(X=0;X<re.length;X++)q+=`
<column second_scale='`+Se+"'><![CDATA["+o(re[X].innerHTML)+"]]></column>",(J+=re[X].offsetWidth)>=ye&&(ye+=G[Se]?G[Se].offsetWidth:0,Se++),w=re[0].offsetWidth}return q}function V(G){var re="",q=s._rendered,X=s.matrix&&s.matrix[s._mode];if(s._mode=="agenda"||s._mode=="map")for(var J=0;J<q.length;J++)re+="<event><head><![CDATA["+o(q[J].childNodes[0].innerHTML)+"]]></head><body><![CDATA["+o(q[J].childNodes[2].innerHTML)+"]]></body></event>";else if(s._mode=="week_agenda")for(J=0;J<q.length;J++)re+="<event day='"+q[J].parentNode.getAttribute("day")+"'><body>"+o(q[J].innerHTML)+"</body></event>";else if(s._mode=="year")for(q=s.get_visible_events(),J=0;J<q.length;J++){var ye=q[J].start_date;for(ye.valueOf()<s._min_date.valueOf()&&(ye=s._min_date);ye<q[J].end_date;){var Se=ye.getMonth()+12*(ye.getFullYear()-s._min_date.getFullYear())-s.week_starts._month,be=s.week_starts[Se]+ye.getDate()-1,Ie=G?x(s._get_year_cell(ye),"color"):"",Ce=G?x(s._get_year_cell(ye),"backgroundColor"):"";if(re+="<event day='"+be%7+"' week='"+Math.floor(be/7)+"' month='"+Se+"' backgroundColor='"+Ce+"' color='"+Ie+"'></event>",(ye=s.date.add(ye,1,"day")).valueOf()>=s._max_date.valueOf())break}}else if(X&&X.render=="cell")for(q=s._els.dhx_cal_data[0].getElementsByTagName("TD"),J=0;J<q.length;J++)Ie=G?x(q[J],"color"):"",re+=`
<event><body backgroundColor='`+(Ce=G?x(q[J],"backgroundColor"):"")+"' color='"+Ie+"'><![CDATA["+o(q[J].innerHTML)+"]]></body></event>";else for(J=0;J<q.length;J++){var $e,qe;if(s.matrix&&s.matrix[s._mode])$e=c(q[J].style.left),qe=c(q[J].offsetWidth)-1;else{var Xe=s.config.use_select_menu_space?0:26;$e=u(q[J].style.left,Xe,!0),qe=u(q[J].style.width,Xe)-1}if(!isNaN(1*qe)){var Tt=y(q[J].style.top),lr=y(q[J].style.height),$r=q[J].className.split(" ")[0].replace("dhx_cal_","");if($r!=="dhx_tooltip_line"){var xi=s.getEvent(q[J].getAttribute(s.config.event_attribute));if(xi){be=xi._sday;var _a=xi._sweek,JS=xi._length||0;if(s._mode=="month")lr=parseInt(q[J].offsetHeight,10),Tt=parseInt(q[J].style.top,10)-s.xy.month_head_height,be=g(q[J],be),_a=k(q[J],_a);else if(s.matrix&&s.matrix[s._mode]){be=0,_a=q[J].parentNode.parentNode.parentNode.rowIndex;var QS=d;d=q[J].parentNode.offsetHeight,Tt=y(q[J].style.top),Tt-=.2*Tt,d=QS}else{if(q[J].parentNode==s._els.dhx_cal_data[0])continue;var Hg=s._els.dhx_cal_data[0].childNodes[0],XS=parseFloat(Hg.className.indexOf("dhx_scale_holder")!=-1?Hg.style.left:0);$e+=c(q[J].parentNode.style.left,XS)}re+=`
<event week='`+_a+"' day='"+be+"' type='"+$r+"' x='"+$e+"' y='"+Tt+"' width='"+qe+"' height='"+lr+"' len='"+JS+"'>",$r=="event"?(re+="<header><![CDATA["+o(q[J].childNodes[1].innerHTML)+"]]></header>",Ie=G?x(q[J].childNodes[2],"color"):"",re+="<body backgroundColor='"+(Ce=G?x(q[J].childNodes[2],"backgroundColor"):"")+"' color='"+Ie+"'><![CDATA["+o(q[J].childNodes[2].innerHTML)+"]]></body>"):(Ie=G?x(q[J],"color"):"",re+="<body backgroundColor='"+(Ce=G?x(q[J],"backgroundColor"):"")+"' color='"+Ie+"'><![CDATA["+o(q[J].innerHTML)+"]]></body>"),re+="</event>"}}}}return re}function Q(G,re,q,X,J,ye){var Se=!1;X=="fullcolor"&&(Se=!0,X="color"),X=X||"color";var be="";if(G){var Ie=s._date,Ce=s._mode;re=s.date[q+"_start"](re),re=s.date["get_"+q+"_end"]?s.date["get_"+q+"_end"](re):s.date.add(re,1,q),be=T("pages",X,J,ye);for(var $e=new Date(G);+$e<+re;$e=this.date.add($e,1,q))this.setCurrentView($e,q),be+=b("page")+O().replace("\u2013","-")+V(Se)+E("page");be+=E("pages"),this.setCurrentView(Ie,Ce)}else be=T("data",X,J,ye)+O().replace("\u2013","-")+V(Se)+E("data");return be}function ee(G,re,q,X,J,ye,Se){(function(be,Ie){var Ce=s.uid(),$e=document.createElement("div");$e.style.display="none",document.body.appendChild($e),$e.innerHTML='<form id="'+Ce+'" method="post" target="_blank" action="'+Ie+'" accept-charset="utf-8" enctype="application/x-www-form-urlencoded"><input type="hidden" name="mycoolxmlbody"/> </form>',document.getElementById(Ce).firstChild.value=encodeURIComponent(be),document.getElementById(Ce).submit(),$e.parentNode.removeChild($e)})(zg(J)=="object"?function(be){for(var Ie="<data>",Ce=0;Ce<be.length;Ce++)Ie+=be[Ce].source.getPDFData(be[Ce].start,be[Ce].end,be[Ce].view,be[Ce].mode,be[Ce].header,be[Ce].footer);return Ie+="</data>"}(J):Q.apply(this,[G,re,q,J,ye,Se]),X)}s.getPDFData=Q,s.toPDF=function(G,re,q,X){return ee.apply(this,[null,null,null,G,re,q,X])},s.toPDFRange=function(G,re,q,X,J,ye,Se){return typeof G=="string"&&(G=s.templates.api_date(G),re=s.templates.api_date(re)),ee.apply(this,arguments)}},quick_info:function(s){s.config.icons_select=["icon_details","icon_delete"],s.config.details_on_create=!0,s.config.show_quick_info=!0,s.xy.menu_width=0,s.attachEvent("onClick",function(w){if(s.config.show_quick_info)return s.showQuickInfo(w),!0}),function(){for(var w=["onEmptyClick","onViewChange","onLightbox","onBeforeEventDelete","onBeforeDrag"],d=function(){return s.hideQuickInfo(!0),!0},m=0;m<w.length;m++)s.attachEvent(w[m],d)}(),s.templates.quick_info_title=function(w,d,m){return m.text.substr(0,50)},s.templates.quick_info_content=function(w,d,m){return m.details||m.text},s.templates.quick_info_date=function(w,d,m){return s.isOneDayEvent(m)&&s.config.rtl?s.templates.day_date(w,d,m)+" "+s.templates.event_header(d,w,m):s.isOneDayEvent(m)?s.templates.day_date(w,d,m)+" "+s.templates.event_header(w,d,m):s.config.rtl?s.templates.week_date(d,w,m):s.templates.week_date(w,d,m)},s.showQuickInfo=function(w){if(w!=this._quick_info_box_id&&(this.hideQuickInfo(!0),this.callEvent("onBeforeQuickInfo",[w])!==!1)){var d=this._get_event_counter_part(w);d&&(this._quick_info_box=this._init_quick_info(d),this._fill_quick_data(w),this._show_quick_info(d),this.callEvent("onQuickInfo",[w]))}},function(){function w(d){d=d||"";var m,_=parseFloat(d),o=d.match(/m?s/);switch(o&&(o=o[0]),o){case"s":m=1e3*_;break;case"ms":m=_;break;default:m=0}return m}s.hideQuickInfo=function(d){var m=this._quick_info_box,_=this._quick_info_box_id;if(this._quick_info_box_id=0,m&&m.parentNode){var o=m.offsetWidth;if(s.config.quick_info_detached)return this.callEvent("onAfterQuickInfo",[_]),m.parentNode.removeChild(m);if(m.style.right=="auto"?m.style.left=-o+"px":m.style.right=-o+"px",d)m.parentNode.removeChild(m);else{var c;window.getComputedStyle?c=window.getComputedStyle(m,null):m.currentStyle&&(c=m.currentStyle);var u=w(c["transition-delay"])+w(c["transition-duration"]);setTimeout(function(){m.parentNode&&m.parentNode.removeChild(m)},u)}this.callEvent("onAfterQuickInfo",[_])}}}(),s.event(window,"keydown",function(w){w.keyCode==27&&s.hideQuickInfo()}),s._show_quick_info=function(w){var d=s._quick_info_box;s._obj.appendChild(d);var m=d.offsetWidth,_=d.offsetHeight;if(s.config.quick_info_detached){var o=w.left-w.dx*(m-w.width);o+m>window.innerWidth&&(o=window.innerWidth-m),o=Math.max(0,o),d.style.left=o+"px",d.style.top=w.top-(w.dy?_:-w.height)+"px"}else d.style.top=this.xy.scale_height+this.xy.nav_height+20+"px",w.dx==1?(d.style.right="auto",d.style.left=-m+"px",setTimeout(function(){d.style.left="-10px"},1)):(d.style.left="auto",d.style.right=-m+"px",setTimeout(function(){d.style.right="-10px"},1)),d.className=d.className.replace(" dhx_qi_left","").replace(" dhx_qi_right","")+" dhx_qi_"+(w.dx==1?"left":"right")},s.attachEvent("onTemplatesReady",function(){if(s.hideQuickInfo(),this._quick_info_box){var w=this._quick_info_box;w.parentNode&&w.parentNode.removeChild(w),this._quick_info_box=null}}),s._quick_info_onscroll_handler=function(w){s.hideQuickInfo()},s._init_quick_info=function(){if(!this._quick_info_box){var w=s.xy,d=this._quick_info_box=document.createElement("div");this._waiAria.quickInfoAttr(d),d.className="dhx_cal_quick_info",s.$testmode&&(d.className+=" dhx_no_animate"),s.config.rtl&&(d.className+=" dhx_quick_info_rtl");var m=this._waiAria.quickInfoHeaderAttrString(),_='<div class="dhx_cal_qi_title" style="height:'+w.quick_info_title+'px" '+m+'><div class="dhx_cal_qi_tcontent"></div><div  class="dhx_cal_qi_tdate"></div></div><div class="dhx_cal_qi_content"></div>';_+='<div class="dhx_cal_qi_controls" style="height:'+w.quick_info_buttons+'px">';for(var o=s.config.icons_select,c=0;c<o.length;c++)_+="<div "+(m=this._waiAria.quickInfoButtonAttrString(this.locale.labels[o[c]]))+' class="dhx_qi_big_icon '+o[c]+'" title="'+s.locale.labels[o[c]]+`"><div class='dhx_menu_icon `+o[c]+"'></div><div>"+s.locale.labels[o[c]]+"</div></div>";_+="</div>",d.innerHTML=_,s.event(d,"click",function(u){s._qi_button_click(u.target||u.srcElement)}),s.config.quick_info_detached&&(s._detachDomEvent(s._els.dhx_cal_data[0],"scroll",s._quick_info_onscroll_handler),s.event(s._els.dhx_cal_data[0],"scroll",s._quick_info_onscroll_handler))}return this._quick_info_box},s._qi_button_click=function(w){var d=s._quick_info_box;if(w&&w!=d){var m=s._getClassName(w);if(m.indexOf("_icon")!=-1){var _=s._quick_info_box_id;s._click.buttons[m.split(" ")[1].replace("icon_","")](_)}else s._qi_button_click(w.parentNode)}},s._get_event_counter_part=function(w){for(var d=s.getRenderedEvent(w),m=0,_=0,o=d;o&&o!=s._obj;)m+=o.offsetLeft,_+=o.offsetTop-o.scrollTop,o=o.offsetParent;return o?{left:m,top:_,dx:m+d.offsetWidth/2>s._x/2?1:0,dy:_+d.offsetHeight/2>s._y/2?1:0,width:d.offsetWidth,height:d.offsetHeight}:0},s._fill_quick_data=function(w){var d=s.getEvent(w),m=s._quick_info_box;s._quick_info_box_id=w;var _={content:s.templates.quick_info_title(d.start_date,d.end_date,d),date:s.templates.quick_info_date(d.start_date,d.end_date,d)},o=m.firstChild.firstChild;o.innerHTML=_.content,o.nextSibling.innerHTML=_.date,s._waiAria.quickInfoHeader(m,[_.content,_.date].join(" ")),m.firstChild.nextSibling.innerHTML=s.templates.quick_info_content(d.start_date,d.end_date,d)}},readonly:function(s){s.attachEvent("onTemplatesReady",function(){var w;s.form_blocks.recurring&&(w=s.form_blocks.recurring.set_value);var d=s.config.buttons_left.slice(),m=s.config.buttons_right.slice();function _(f,y,x,g){for(var k=y.getElementsByTagName(f),b=x.getElementsByTagName(f),E=b.length-1;E>=0;E--)if(x=b[E],g){var T=document.createElement("span");T.className="dhx_text_disabled",T.innerHTML=g(k[E]),x.parentNode.insertBefore(T,x),x.parentNode.removeChild(x)}else x.disabled=!0,y.checked&&(x.checked=!0)}s.attachEvent("onBeforeLightbox",function(f){this.config.readonly_form||this.getEvent(f).readonly?this.config.readonly_active=!0:(this.config.readonly_active=!1,s.config.buttons_left=d.slice(),s.config.buttons_right=m.slice(),s.form_blocks.recurring&&(s.form_blocks.recurring.set_value=w));var y=this.config.lightbox.sections;if(this.config.readonly_active){for(var x=0;x<y.length;x++)y[x].type=="recurring"&&this.config.readonly_active&&s.form_blocks.recurring&&(s.form_blocks.recurring.set_value=function($,V,Q){var ee=s.$domHelpers.closest($,".dhx_wrap_section");ee.querySelector(".dhx_cal_lsection").display="none",ee.querySelector(".dhx_form_repeat").display="none",ee.style.display="none",s.setLightboxSize()});var g=["dhx_delete_btn","dhx_save_btn"],k=[s.config.buttons_left,s.config.buttons_right];for(x=0;x<g.length;x++)for(var b=g[x],E=0;E<k.length;E++){for(var T=k[E],O=-1,U=0;U<T.length;U++)if(T[U]==b){O=U;break}O!=-1&&T.splice(O,1)}}return this.resetLightbox(),!0});var o=s._fill_lightbox;s._fill_lightbox=function(){var f=this.getLightbox();this.config.readonly_active&&(f.style.visibility="hidden",f.style.display="block");var y=o.apply(this,arguments);if(this.config.readonly_active&&(f.style.visibility="",f.style.display="none"),this.config.readonly_active){var x=this.getLightbox(),g=this._lightbox_r=x.cloneNode(!0);g.id=s.uid(),g.className+=" dhx_cal_light_readonly",_("textarea",x,g,function(k){return k.value}),_("input",x,g,!1),_("select",x,g,function(k){return k.options.length?k.options[Math.max(k.selectedIndex||0,0)].text:""}),x.parentNode.insertBefore(g,x),c.call(this,g),s._lightbox&&s._lightbox.parentNode.removeChild(s._lightbox),this._lightbox=g,s.config.drag_lightbox&&s.event(g.firstChild,"mousedown",s._ready_to_dnd),s._init_lightbox_events(),this.setLightboxSize()}return y};var c=s.showCover;s.showCover=function(){this.config.readonly_active||c.apply(this,arguments)};var u=s.hide_lightbox;s.hide_lightbox=function(){return this._lightbox_r&&(this._lightbox_r.parentNode.removeChild(this._lightbox_r),this._lightbox_r=this._lightbox=null),u.apply(this,arguments)}})},recurring:function(s){function w(){var _=s.formSection("recurring");if(_||(_=d("recurring")),!_)throw new Error(["Can't locate the Recurring form section.","Make sure that you have the recurring control on the lightbox configuration https://docs.dhtmlx.com/scheduler/recurring_events.html#recurringlightbox ",'and that the recurring control has name "recurring":',"","scheduler.config.lightbox.sections = [",'	{name:"recurring", ... }',"];"].join(`
`));return _}function d(_){for(var o=0;o<s.config.lightbox.sections.length;o++){var c=s.config.lightbox.sections[o];if(c.type===_)return s.formSection(c.name)}return null}function m(_){return new Date(_.getFullYear(),_.getMonth(),_.getDate(),_.getHours(),_.getMinutes(),_.getSeconds(),0)}s.config.occurrence_timestamp_in_utc=!1,s.config.recurring_workdays=[1,2,3,4,5],s.form_blocks.recurring={_get_node:function(_){return typeof _=="string"&&(_=document.getElementById(_)),_.style.display=="none"&&(_.style.display=""),_},_outer_html:function(_){return _.outerHTML||function(o){var c,u=document.createElement("div");return u.appendChild(o.cloneNode(!0)),c=u.innerHTML,u=null,c}(_)},render:function(_){if(_.form){var o=s.form_blocks.recurring,c=o._get_node(_.form),u=o._outer_html(c);return c.style.display="none",u}var f=s.locale.labels;return'<div class="dhx_form_repeat"> <form> <div class="dhx_repeat_left"> <label><input class="dhx_repeat_radio" type="radio" name="repeat" value="day" />'+f.repeat_radio_day+'</label><br /> <label><input class="dhx_repeat_radio" type="radio" name="repeat" value="week"/>'+f.repeat_radio_week+'</label><br /> <label><input class="dhx_repeat_radio" type="radio" name="repeat" value="month" checked />'+f.repeat_radio_month+'</label><br /> <label><input class="dhx_repeat_radio" type="radio" name="repeat" value="year" />'+f.repeat_radio_year+'</label> </div> <div class="dhx_repeat_divider"></div> <div class="dhx_repeat_center"> <div style="display:none;" id="dhx_repeat_day"> <label><input class="dhx_repeat_radio" type="radio" name="day_type" value="d"/>'+f.repeat_radio_day_type+'</label><label><input class="dhx_repeat_text" type="text" name="day_count" value="1" />'+f.repeat_text_day_count+'</label><br /> <label><input class="dhx_repeat_radio" type="radio" name="day_type" checked value="w"/>'+f.repeat_radio_day_type2+'</label> </div> <div style="display:none;" id="dhx_repeat_week"><label>'+f.repeat_week+'<input class="dhx_repeat_text" type="text" name="week_count" value="1" /></label><span>'+f.repeat_text_week_count+'</span><br /> <table class="dhx_repeat_days"> <tr> <td> <label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="1" />'+f.day_for_recurring[1]+'</label><br /> <label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="4" />'+f.day_for_recurring[4]+'</label> </td> <td> <label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="2" />'+f.day_for_recurring[2]+'</label><br /> <label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="5" />'+f.day_for_recurring[5]+'</label> </td> <td> <label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="3" />'+f.day_for_recurring[3]+'</label><br /> <label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="6" />'+f.day_for_recurring[6]+'</label> </td> <td> <label><input class="dhx_repeat_checkbox" type="checkbox" name="week_day" value="0" />'+f.day_for_recurring[0]+'</label><br /><br /> </td> </tr> </table> </div> <div id="dhx_repeat_month"> <label class = "dhx_repeat_month_label"><input class="dhx_repeat_radio" type="radio" name="month_type" value="d"/>'+f.repeat_radio_month_type+'</label><label><input class="dhx_repeat_text" type="text" name="month_day" value="1" />'+f.repeat_text_month_day+'</label><label><input class="dhx_repeat_text" type="text" name="month_count" value="1" />'+f.repeat_text_month_count+'</label><br /> <label class = "dhx_repeat_month_label"><input class="dhx_repeat_radio" type="radio" name="month_type" checked value="w"/>'+f.repeat_radio_month_start+'</label><input class="dhx_repeat_text" type="text" name="month_week2" value="1" /><label><select name="month_day2">	<option value="1" selected >'+s.locale.date.day_full[1]+'<option value="2">'+s.locale.date.day_full[2]+'<option value="3">'+s.locale.date.day_full[3]+'<option value="4">'+s.locale.date.day_full[4]+'<option value="5">'+s.locale.date.day_full[5]+'<option value="6">'+s.locale.date.day_full[6]+'<option value="0">'+s.locale.date.day_full[0]+"</select>"+f.repeat_text_month_count2_before+'</label><label><input class="dhx_repeat_text" type="text" name="month_count2" value="1" />'+f.repeat_text_month_count2_after+'</label><br /> </div> <div style="display:none;" id="dhx_repeat_year"> <label class = "dhx_repeat_year_label"><input class="dhx_repeat_radio" type="radio" name="year_type" value="d"/>'+f.repeat_radio_day_type+'</label><label><input class="dhx_repeat_text" type="text" name="year_day" value="1" />'+f.repeat_text_year_day+'</label><label><select name="year_month"><option value="0" selected >'+f.month_for_recurring[0]+'<option value="1">'+f.month_for_recurring[1]+'<option value="2">'+f.month_for_recurring[2]+'<option value="3">'+f.month_for_recurring[3]+'<option value="4">'+f.month_for_recurring[4]+'<option value="5">'+f.month_for_recurring[5]+'<option value="6">'+f.month_for_recurring[6]+'<option value="7">'+f.month_for_recurring[7]+'<option value="8">'+f.month_for_recurring[8]+'<option value="9">'+f.month_for_recurring[9]+'<option value="10">'+f.month_for_recurring[10]+'<option value="11">'+f.month_for_recurring[11]+"</select>"+f.select_year_month+'</label><br /> <label class = "dhx_repeat_year_label"><input class="dhx_repeat_radio" type="radio" name="year_type" checked value="w"/>'+f.repeat_year_label+'</label><input class="dhx_repeat_text" type="text" name="year_week2" value="1" /><select name="year_day2"><option value="1" selected >'+s.locale.date.day_full[1]+'<option value="2">'+s.locale.date.day_full[2]+'<option value="3">'+s.locale.date.day_full[3]+'<option value="4">'+s.locale.date.day_full[4]+'<option value="5">'+s.locale.date.day_full[5]+'<option value="6">'+s.locale.date.day_full[6]+'<option value="7">'+s.locale.date.day_full[0]+"</select>"+f.select_year_day2+'<select name="year_month2"><option value="0" selected >'+f.month_for_recurring[0]+'<option value="1">'+f.month_for_recurring[1]+'<option value="2">'+f.month_for_recurring[2]+'<option value="3">'+f.month_for_recurring[3]+'<option value="4">'+f.month_for_recurring[4]+'<option value="5">'+f.month_for_recurring[5]+'<option value="6">'+f.month_for_recurring[6]+'<option value="7">'+f.month_for_recurring[7]+'<option value="8">'+f.month_for_recurring[8]+'<option value="9">'+f.month_for_recurring[9]+'<option value="10">'+f.month_for_recurring[10]+'<option value="11">'+f.month_for_recurring[11]+'</select><br /> </div> </div> <div class="dhx_repeat_divider"></div> <div class="dhx_repeat_right"> <label><input class="dhx_repeat_radio" type="radio" name="end" checked/>'+f.repeat_radio_end+'</label><br /> <label><input class="dhx_repeat_radio" type="radio" name="end" />'+f.repeat_radio_end2+'</label><input class="dhx_repeat_text" type="text" name="occurences_count" value="1" />'+f.repeat_text_occurences_count+'<br /> <label><input class="dhx_repeat_radio" type="radio" name="end" />'+f.repeat_radio_end3+'</label><input class="dhx_repeat_date" type="text" name="date_of_end" value="'+s.config.repeat_date_of_end+'" /><br /> </div> </form> </div> <div style="clear:both"> </div>'},_ds:{},_get_form_node:function(_,o,c){var u=_[o];if(!u)return null;if(u.nodeName)return u;if(u.length){for(var f=0;f<u.length;f++)if(u[f].value==c)return u[f]}},_get_node_value:function(_,o,c){var u=_[o];if(!u)return"";if(u.length){if(c){for(var f=[],y=0;y<u.length;y++)u[y].checked&&f.push(u[y].value);return f}for(y=0;y<u.length;y++)if(u[y].checked)return u[y].value}return u.value?c?[u.value]:u.value:void 0},_get_node_numeric_value:function(_,o){return 1*s.form_blocks.recurring._get_node_value(_,o)||0},_set_node_value:function(_,o,c){var u=_[o];if(u){if(u.name==o)u.value=c;else if(u.length)for(var f=Oh(c)=="object",y=0;y<u.length;y++)(f||u[y].value==c)&&(u[y].checked=f?!!c[u[y].value]:!!c)}},_init_set_value:function(_,o,c){var u=s.form_blocks.recurring,f=u._get_node_value,y=u._set_node_value;s.form_blocks.recurring._ds={start:c.start_date,end:c._end_date};var x=s.date.str_to_date(s.config.repeat_date,!1,!0),g=function(q){var X=x(q);return s.config.include_end_by&&(X=s.date.add(X,1,"day")),X},k=s.date.date_to_str(s.config.repeat_date),b=_.getElementsByTagName("FORM")[0],E={};function T(q){for(var X=0;X<q.length;X++){var J=q[X];if(J.name)if(E[J.name])if(E[J.name].nodeType){var ye=E[J.name];E[J.name]=[ye,J]}else E[J.name].push(J);else E[J.name]=J}}if(T(b.getElementsByTagName("INPUT")),T(b.getElementsByTagName("SELECT")),!s.config.repeat_date_of_end){var O=s.date.date_to_str(s.config.repeat_date);s.config.repeat_date_of_end=O(s.date.add(s._currentDate(),30,"day"))}y(E,"date_of_end",s.config.repeat_date_of_end);var U=function(q){return document.getElementById(q)||{style:{}}};function $(){U("dhx_repeat_day").style.display="none",U("dhx_repeat_week").style.display="none",U("dhx_repeat_month").style.display="none",U("dhx_repeat_year").style.display="none",U("dhx_repeat_"+this.value).style.display="block",s.setLightboxSize()}function V(q,X){var J=q.end;if(J.length)if(J[0].value&&J[0].value!="on")for(var ye=0;ye<J.length;ye++)J[ye].value==X&&(J[ye].checked=!0);else{var Se=0;switch(X){case"no":Se=0;break;case"date_of_end":Se=2;break;default:Se=1}J[Se].checked=!0}else J.value=X}s.form_blocks.recurring._get_repeat_code=function(q){var X=[f(E,"repeat")];for(Q[X[0]](X,q);X.length<5;)X.push("");var J="",ye=function(Se){var be=Se.end;if(be.length){for(var Ie=0;Ie<be.length;Ie++)if(be[Ie].checked)return be[Ie].value&&be[Ie].value!="on"?be[Ie].value:Ie?Ie==2?"date_of_end":"occurences_count":"no"}else if(be.value)return be.value;return"no"}(E);return ye=="no"?(q.end=new Date(9999,1,1),J="no"):ye=="date_of_end"?q.end=g(f(E,"date_of_end")):(s.transpose_type(X.join("_")),J=Math.max(1,f(E,"occurences_count")),q.end=s.date["add_"+X.join("_")](new Date(q.start),J+0,{start_date:q.start})||q.start),X.join("_")+"#"+J};var Q={month:function(q,X){var J=s.form_blocks.recurring._get_node_value,ye=s.form_blocks.recurring._get_node_numeric_value;J(E,"month_type")=="d"?(q.push(Math.max(1,ye(E,"month_count"))),X.start.setDate(J(E,"month_day"))):(q.push(Math.max(1,ye(E,"month_count2"))),q.push(J(E,"month_day2")),q.push(Math.max(1,ye(E,"month_week2"))),s.config.repeat_precise||X.start.setDate(1)),X._start=!0},week:function(q,X){var J=s.form_blocks.recurring._get_node_value,ye=s.form_blocks.recurring._get_node_numeric_value;q.push(Math.max(1,ye(E,"week_count"))),q.push(""),q.push("");for(var Se=[],be=J(E,"week_day",!0),Ie=X.start.getDay(),Ce=!1,$e=0;$e<be.length;$e++)Se.push(be[$e]),Ce=Ce||be[$e]==Ie;Se.length||(Se.push(Ie),Ce=!0),Se.sort(),s.config.repeat_precise?Ce||(s.transpose_day_week(X.start,Se,1,7),X._start=!0):(X.start=s.date.week_start(X.start),X._start=!0),q.push(Se.join(","))},day:function(q){var X=s.form_blocks.recurring._get_node_value,J=s.form_blocks.recurring._get_node_numeric_value;X(E,"day_type")=="d"?q.push(Math.max(1,J(E,"day_count"))):(q.push("week"),q.push(1),q.push(""),q.push(""),q.push(s.config.recurring_workdays.join(",")),q.splice(0,1))},year:function(q,X){var J=s.form_blocks.recurring._get_node_value;J(E,"year_type")=="d"?(q.push("1"),X.start.setMonth(0),X.start.setDate(J(E,"year_day")),X.start.setMonth(J(E,"year_month"))):(q.push("1"),q.push(J(E,"year_day2")),q.push(J(E,"year_week2")),X.start.setDate(1),X.start.setMonth(J(E,"year_month2"))),X._start=!0}},ee={week:function(q,X){var J=s.form_blocks.recurring._set_node_value;J(E,"week_count",q[1]);for(var ye=q[4].split(","),Se={},be=0;be<ye.length;be++)Se[ye[be]]=!0;J(E,"week_day",Se)},month:function(q,X){var J=s.form_blocks.recurring._set_node_value;q[2]===""?(J(E,"month_type","d"),J(E,"month_count",q[1]),J(E,"month_day",X.start.getDate())):(J(E,"month_type","w"),J(E,"month_count2",q[1]),J(E,"month_week2",q[3]),J(E,"month_day2",q[2]))},day:function(q,X){var J=s.form_blocks.recurring._set_node_value;J(E,"day_type","d"),J(E,"day_count",q[1])},year:function(q,X){var J=s.form_blocks.recurring._set_node_value;q[2]===""?(J(E,"year_type","d"),J(E,"year_day",X.start.getDate()),J(E,"year_month",X.start.getMonth())):(J(E,"year_type","w"),J(E,"year_week2",q[3]),J(E,"year_day2",q[2]),J(E,"year_month2",X.start.getMonth()))}};s.form_blocks.recurring._set_repeat_code=function(q,X){var J=s.form_blocks.recurring._set_node_value,ye=q.split("#");switch(q=ye[0].split("_"),ee[q[0]](q,X),ye[1]){case"no":V(E,"no");break;case"":V(E,"date_of_end");var Se=X.end;s.config.include_end_by&&(Se=s.date.add(Se,-1,"day")),J(E,"date_of_end",k(Se));break;default:V(E,"occurences_count"),J(E,"occurences_count",ye[1])}J(E,"repeat",q[0]);var be=s.form_blocks.recurring._get_form_node(E,"repeat",q[0]);be.nodeName=="SELECT"?(be.dispatchEvent(new Event("change")),be.dispatchEvent(new MouseEvent("click"))):be.dispatchEvent(new MouseEvent("click"))};for(var G=0;G<b.elements.length;G++){var re=b.elements[G];switch(re.name){case"repeat":re.nodeName!="SELECT"||re.$_eventAttached?re.$_eventAttached||(re.$_eventAttached=!0,re.addEventListener("click",$)):(re.$_eventAttached=!0,re.addEventListener("change",$))}}s._lightbox._rec_init_done=!0},set_value:function(_,o,c){var u=s.form_blocks.recurring;s._lightbox._rec_init_done||u._init_set_value(_,o,c),_.open=!c.rec_type,_.blocked=this._is_modified_occurence(c);var f=u._ds;f.start=c.start_date,f.end=c._end_date,u._toggle_block(),o&&u._set_repeat_code(o,f)},get_value:function(_,o){if(_.open){var c=s.form_blocks.recurring._ds,u={};(function(){var f=s.formSection("time");if(f||(f=d("time")),f||(f=d("calendar_time")),!f)throw new Error(["Can't calculate the recurring rule, the Recurring form block can't find the Time control. Make sure you have the time control in 'scheduler.config.lightbox.sections' config.","You can use either the default time control https://docs.dhtmlx.com/scheduler/time.html, or the datepicker https://docs.dhtmlx.com/scheduler/minicalendar.html, or a custom control. ",'In the latter case, make sure the control is named "time":',"","scheduler.config.lightbox.sections = [",'{name:"time", height:72, type:"YOU CONTROL", map_to:"auto" }];'].join(`
`));return f})().getValue(u),c.start=u.start_date,o.rec_type=s.form_blocks.recurring._get_repeat_code(c),c._start?(o.start_date=new Date(c.start),o._start_date=new Date(c.start),c._start=!1):o._start_date=null,o._end_date=c.end,o.rec_pattern=o.rec_type.split("#")[0]}else o.rec_type=o.rec_pattern="",o._end_date=o.end_date;return o.rec_type},_get_button:function(){return w().header.firstChild.firstChild},_get_form:function(){return w().node},open:function(){var _=s.form_blocks.recurring;_._get_form().open||_._toggle_block()},close:function(){var _=s.form_blocks.recurring;_._get_form().open&&_._toggle_block()},_toggle_block:function(){var _=s.form_blocks.recurring,o=_._get_form(),c=_._get_button();o.open||o.blocked?(o.style.height="0px",c&&(c.style.backgroundPosition="-5px 20px",c.nextSibling.innerHTML=s.locale.labels.button_recurring)):(o.style.height="auto",c&&(c.style.backgroundPosition="-5px 0px",c.nextSibling.innerHTML=s.locale.labels.button_recurring_open)),o.open=!o.open,s.setLightboxSize()},focus:function(_){},button_click:function(_,o,c){s.form_blocks.recurring._get_form().blocked||s.form_blocks.recurring._toggle_block()}},s._rec_markers={},s._rec_markers_pull={},s._add_rec_marker=function(_,o){_._pid_time=o,this._rec_markers[_.id]=_,this._rec_markers_pull[_.event_pid]||(this._rec_markers_pull[_.event_pid]={}),this._rec_markers_pull[_.event_pid][o]=_},s._get_rec_marker=function(_,o){var c=this._rec_markers_pull[o];return c?c[_]:null},s._get_rec_markers=function(_){return this._rec_markers_pull[_]||[]},s._rec_temp=[],function(){var _=s.addEvent;s.addEvent=function(o,c,u,f,y){var x=_.apply(this,arguments);if(x&&s.getEvent(x)){var g=s.getEvent(x);g.start_date&&(g.start_date=m(g.start_date)),g.end_date&&(g.end_date=m(g.end_date)),this._is_modified_occurence(g)&&s._add_rec_marker(g,1e3*g.event_length),g.rec_type&&(g.rec_pattern=g.rec_type.split("#")[0])}return x}}(),s.attachEvent("onEventIdChange",function(_,o){if(!this._ignore_call){this._ignore_call=!0,s._rec_markers[_]&&(s._rec_markers[o]=s._rec_markers[_],delete s._rec_markers[_]),s._rec_markers_pull[_]&&(s._rec_markers_pull[o]=s._rec_markers_pull[_],delete s._rec_markers_pull[_]);for(var c=0;c<this._rec_temp.length;c++)(u=this._rec_temp[c]).event_pid==_&&(u.event_pid=o,this.changeEventId(u.id,o+"#"+u.id.split("#")[1]));for(var c in this._rec_markers){var u;(u=this._rec_markers[c]).event_pid==_&&(u.event_pid=o,u._pid_changed=!0)}var f=s._rec_markers[o];f&&f._pid_changed&&(delete f._pid_changed,setTimeout(function(){s.callEvent("onEventChanged",[o,s.getEvent(o)])},1)),delete this._ignore_call}}),s.attachEvent("onConfirmedBeforeEventDelete",function(_){var o=this.getEvent(_);if(this._is_virtual_event(_)||this._is_modified_occurence(o)&&o.rec_type&&o.rec_type!="none"){_=_.split("#");var c=this.uid(),u=_[1]?_[1]:Math.round(o._pid_time/1e3),f=this._copy_event(o);f.id=c,f.event_pid=o.event_pid||_[0];var y=u;f.event_length=y,f.rec_type=f.rec_pattern="none",this.addEvent(f),this._add_rec_marker(f,1e3*y)}else{o.rec_type&&this._lightbox_id&&this._roll_back_dates(o);var x=this._get_rec_markers(_);for(var g in x)x.hasOwnProperty(g)&&(_=x[g].id,this.getEvent(_)&&this.deleteEvent(_,!0))}return!0}),s.attachEvent("onEventDeleted",function(_,o){!this._is_virtual_event(_)&&this._is_modified_occurence(o)&&(s._events[_]||(o.rec_type=o.rec_pattern="none",this.setEvent(_,o)))}),s.attachEvent("onEventChanged",function(_,o){if(this._loading)return!0;var c=this.getEvent(_);if(this._is_virtual_event(_)){_=_.split("#");var u=this.uid();this._not_render=!0;var f=this._copy_event(o);f.id=u,f.event_pid=_[0];var y=_[1];f.event_length=y,f.rec_type=f.rec_pattern="",this._add_rec_marker(f,1e3*y),this.addEvent(f),this._not_render=!1}else{c.start_date&&(c.start_date=m(c.start_date)),c.end_date&&(c.end_date=m(c.end_date)),c.rec_type&&this._lightbox_id&&this._roll_back_dates(c);var x=this._get_rec_markers(_);for(var g in x)x.hasOwnProperty(g)&&(delete this._rec_markers[x[g].id],this.deleteEvent(x[g].id,!0));delete this._rec_markers_pull[_];for(var k=!1,b=0;b<this._rendered.length;b++)this._rendered[b].getAttribute(this.config.event_attribute)==_&&(k=!0);k||(this._select_id=null)}return!0}),s.attachEvent("onEventAdded",function(_){if(!this._loading){var o=this.getEvent(_);o.rec_type&&!o.event_length&&this._roll_back_dates(o)}return!0}),s.attachEvent("onEventSave",function(_,o,c){return this.getEvent(_).rec_type||!o.rec_type||this._is_virtual_event(_)||(this._select_id=null),!0}),s.attachEvent("onEventCreated",function(_){var o=this.getEvent(_);return o.rec_type||(o.rec_type=o.rec_pattern=o.event_length=o.event_pid=""),!0}),s.attachEvent("onEventCancel",function(_){var o=this.getEvent(_);o.rec_type&&(this._roll_back_dates(o),this.render_view_data())}),s._roll_back_dates=function(_){_.start_date&&(_.start_date=m(_.start_date)),_.end_date&&(_.end_date=m(_.end_date)),_.event_length=Math.round((_.end_date.valueOf()-_.start_date.valueOf())/1e3),_.end_date=_._end_date,_._start_date&&(_.start_date.setMonth(0),_.start_date.setDate(_._start_date.getDate()),_.start_date.setMonth(_._start_date.getMonth()),_.start_date.setFullYear(_._start_date.getFullYear()))},s._is_virtual_event=function(_){return _.toString().indexOf("#")!=-1},s._is_modified_occurence=function(_){return _.event_pid&&_.event_pid!="0"},s._validId=function(_){return!this._is_virtual_event(_)},s.showLightbox_rec=s.showLightbox,s.showLightbox=function(_){var o=this.locale,c=s.config.lightbox_recurring,u=this.getEvent(_),f=u.event_pid,y=this._is_virtual_event(_);y&&(f=_.split("#")[0]);var x=function(k){var b=s.getEvent(k);return b._end_date=b.end_date,b.end_date=new Date(b.start_date.valueOf()+1e3*b.event_length),s.showLightbox_rec(k)};if((f||1*f==0)&&u.rec_type)return x(_);if(!f||f==="0"||!o.labels.confirm_recurring||c=="instance"||c=="series"&&!y)return this.showLightbox_rec(_);if(c=="ask"){var g=this;s.modalbox({text:o.labels.confirm_recurring,title:o.labels.title_confirm_recurring,width:"500px",position:"middle",buttons:[o.labels.button_edit_series,o.labels.button_edit_occurrence,o.labels.icon_cancel],callback:function(k){switch(+k){case 0:return x(f);case 1:return g.showLightbox_rec(_);case 2:return}}})}else x(f)},s.get_visible_events_rec=s.get_visible_events,s.get_visible_events=function(_){for(var o=0;o<this._rec_temp.length;o++)delete this._events[this._rec_temp[o].id];this._rec_temp=[];var c=this.get_visible_events_rec(_),u=[];for(o=0;o<c.length;o++)c[o].rec_type?c[o].rec_pattern!="none"&&this.repeat_date(c[o],u):u.push(c[o]);return u},function(){var _=s.isOneDayEvent;s.isOneDayEvent=function(c){return!!c.rec_type||_.call(this,c)};var o=s.updateEvent;s.updateEvent=function(c){var u=s.getEvent(c);u&&u.rec_type&&(u.rec_pattern=(u.rec_type||"").split("#")[0]),u&&u.rec_type&&!this._is_virtual_event(c)?s.update_view():o.call(this,c)}}(),s.transponse_size={day:1,week:7,month:1,year:12},s.date.day_week=function(_,o,c){_.setDate(1);var u=s.date.month_start(new Date(_)),f=1*o+(c=7*(c-1))-_.getDay()+1;_.setDate(f<=c?f+7:f);var y=s.date.month_start(new Date(_));return u.valueOf()===y.valueOf()},s.transpose_day_week=function(_,o,c,u,f){for(var y=(_.getDay()||(s.config.start_on_monday?7:0))-c,x=0;x<o.length;x++)if(o[x]>y)return _.setDate(_.getDate()+1*o[x]-y-(u?c:f));this.transpose_day_week(_,o,c+u,null,c)},s.transpose_type=function(_){var o="transpose_"+_;if(!this.date[o]){var c=_.split("_"),u="add_"+_,f=this.transponse_size[c[0]]*c[1];if(c[0]=="day"||c[0]=="week"){var y=null;if(c[4]&&(y=c[4].split(","),s.config.start_on_monday)){for(var x=0;x<y.length;x++)y[x]=1*y[x]||7;y.sort()}this.date[o]=function(g,k){var b=Math.floor((k.valueOf()-g.valueOf())/(864e5*f));return b>0&&g.setDate(g.getDate()+b*f),y&&s.transpose_day_week(g,y,1,f),g},this.date[u]=function(g,k){var b=new Date(g.valueOf());if(y)for(var E=0;E<k;E++)s.transpose_day_week(b,y,0,f);else b.setDate(b.getDate()+k*f);return b}}else c[0]!="month"&&c[0]!="year"||(this.date[o]=function(g,k,b){var E=Math.ceil((12*k.getFullYear()+1*k.getMonth()+1-(12*g.getFullYear()+1*g.getMonth()+1))/f-1);return E>=0&&(g.setDate(1),g.setMonth(g.getMonth()+E*f)),s.date[u](g,0,b)},this.date[u]=function(g,k,b,E){if(E?E++:E=1,E>12)return null;var T=new Date(g.valueOf());T.setDate(1),T.setMonth(T.getMonth()+k*f);var O=T.getMonth(),U=T.getFullYear();T.setDate(b.start_date.getDate()),c[3]&&s.date.day_week(T,c[2],c[3]);var $=s.config.recurring_overflow_instances;return T.getMonth()!=O&&$!="none"&&(T=$==="lastDay"?new Date(U,O+1,0,T.getHours(),T.getMinutes(),T.getSeconds(),T.getMilliseconds()):s.date[u](new Date(U,O+1,0),k||1,b,E)),T})}},s.repeat_date=function(_,o,c,u,f,y){u=u||this._min_date,f=f||this._max_date;var x=y||-1,g=new Date(_.start_date.valueOf()),k=g.getHours(),b=0;for(!_.rec_pattern&&_.rec_type&&(_.rec_pattern=_.rec_type.split("#")[0]),this.transpose_type(_.rec_pattern),g=s.date["transpose_"+_.rec_pattern](g,u,_);g&&(g<_.start_date||s._fix_daylight_saving_date(g,u,_,g,new Date(g.valueOf()+1e3*_.event_length)).valueOf()<=u.valueOf()||g.valueOf()+1e3*_.event_length<=u.valueOf());)g=this.date["add_"+_.rec_pattern](g,1,_);for(;g&&g<f&&g<_.end_date&&(x<0||b<x);){g.setHours(k);var E=s.config.occurrence_timestamp_in_utc?Date.UTC(g.getFullYear(),g.getMonth(),g.getDate(),g.getHours(),g.getMinutes(),g.getSeconds()):g.valueOf(),T=this._get_rec_marker(E,_.id);if(T)c&&(T.rec_type!="none"&&b++,o.push(T));else{var O=new Date(g.valueOf()+1e3*_.event_length),U=this._copy_event(_);if(U.text=_.text,U.start_date=g,U.event_pid=_.id,U.id=_.id+"#"+Math.round(E/1e3),U.end_date=O,U.end_date=s._fix_daylight_saving_date(U.start_date,U.end_date,_,g,U.end_date),U._timed=this.isOneDayEvent(U),!U._timed&&!this._table_view&&!this.config.multi_day)return;o.push(U),c||(this._events[U.id]=U,this._rec_temp.push(U)),b++}g=this.date["add_"+_.rec_pattern](g,1,_)}},s._fix_daylight_saving_date=function(_,o,c,u,f){var y=_.getTimezoneOffset()-o.getTimezoneOffset();return y?y>0?new Date(u.valueOf()+1e3*c.event_length-60*y*1e3):new Date(o.valueOf()-60*y*1e3):new Date(f.valueOf())},s.getRecDates=function(_,o){var c=Oh(_)=="object"?_:s.getEvent(_),u=[];if(o=o||100,!c.rec_type)return[{start_date:c.start_date,end_date:c.end_date}];if(c.rec_type=="none")return[];s.repeat_date(c,u,!0,c.start_date,c.end_date,o);for(var f=[],y=0;y<u.length;y++)u[y].rec_type!="none"&&f.push({start_date:u[y].start_date,end_date:u[y].end_date});return f},s.getEvents=function(_,o){var c=[];for(var u in this._events){var f=this._events[u];if(f&&f.start_date<o&&f.end_date>_)if(f.rec_pattern){if(f.rec_pattern=="none")continue;var y=[];this.repeat_date(f,y,!0,_,o);for(var x=0;x<y.length;x++)!y[x].rec_pattern&&y[x].start_date<o&&y[x].end_date>_&&!this._rec_markers[y[x].id]&&c.push(y[x])}else this._is_virtual_event(f.id)||c.push(f)}return c},s.config.repeat_date="%m.%d.%Y",s.config.lightbox.sections=[{name:"description",map_to:"text",type:"textarea",focus:!0},{name:"recurring",type:"recurring",map_to:"rec_type",button:"recurring"},{name:"time",height:72,type:"time",map_to:"auto"}],s._copy_dummy=function(_){var o=new Date(this.start_date),c=new Date(this.end_date);this.start_date=o,this.end_date=c,this.event_length=this.event_pid=this.rec_pattern=this.rec_type=null},s.config.include_end_by=!1,s.config.lightbox_recurring="ask",s.attachEvent("onClearAll",function(){s._rec_markers={},s._rec_markers_pull={},s._rec_temp=[]})},serialize:function(s){var w=mt()(s);s.data_attributes=function(){var d=[],m=s._helpers.formatDate,_=w();for(var o in _){var c=_[o];for(var u in c)u.substr(0,1)!="_"&&d.push([u,u=="start_date"||u=="end_date"?m:null]);break}return d},s.toXML=function(d){var m=[],_=this.data_attributes(),o=w();for(var c in o){var u=o[c];m.push("<event>");for(var f=0;f<_.length;f++)m.push("<"+_[f][0]+"><![CDATA["+(_[f][1]?_[f][1](u[_[f][0]]):u[_[f][0]])+"]]></"+_[f][0]+">");m.push("</event>")}return(d||"")+"<data>"+m.join(`
`)+"</data>"},s._serialize_json_value=function(d){return d===null||typeof d=="boolean"?d=""+d:(d||d===0||(d=""),d='"'+d.toString().replace(/\n/g,"").replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"'),d},s.toJSON=function(){return JSON.stringify(this.serialize())},s.toICal=function(d){var m=s.date.date_to_str("%Y%m%dT%H%i%s"),_=s.date.date_to_str("%Y%m%d"),o=[],c=w();for(var u in c){var f=c[u];o.push("BEGIN:VEVENT"),f._timed&&(f.start_date.getHours()||f.start_date.getMinutes())?o.push("DTSTART:"+m(f.start_date)):o.push("DTSTART:"+_(f.start_date)),f._timed&&(f.end_date.getHours()||f.end_date.getMinutes())?o.push("DTEND:"+m(f.end_date)):o.push("DTEND:"+_(f.end_date)),o.push("SUMMARY:"+f.text),o.push("END:VEVENT")}return`BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//dhtmlXScheduler//NONSGML v2.2//EN
DESCRIPTION:`+(d||"")+`
`+o.join(`
`)+`
END:VCALENDAR`}},timeline:function(s){wi("Timeline",s.assert)},tooltip:function(s){var w=s._createDomEventScope(),d={};s.ext.tooltip=s.dhtmlXTooltip=s.tooltip=d,d.config={className:"dhtmlXTooltip scheduler_tooltip tooltip",timeout_to_display:50,timeout_to_hide:50,delta_x:15,delta_y:-20},d.tooltip=document.createElement("div"),d.tooltip.className=d.config.className,s._waiAria.tooltipAttr(d.tooltip),d.show=function(m,_){if(!this._mobile||s.config.touch_tooltip){var o=d,c=this.tooltip,u=c.style;o.tooltip.className=o.config.className;var f=this.position(m),y=m.target||m.srcElement;if(!this.isTooltip(y)){var x=f.x+(o.config.delta_x||0),g=f.y-(o.config.delta_y||0);u.visibility="hidden",u.right="",u.bottom="",u.left="0",u.top="0",s.config.rtl&&(c.className+=" dhtmlXTooltip_rtl"),this.tooltip.innerHTML=_,document.body.appendChild(this.tooltip);var k=this.tooltip.offsetWidth,b=this.tooltip.offsetHeight;if(document.documentElement.clientWidth-x-k<0?(u.left="",u.right=document.documentElement.clientWidth-x+2*(o.config.delta_x||0)+"px"):u.left=x<0?f.x+Math.abs(o.config.delta_x||0)+"px":x+"px",document.documentElement.clientHeight-g-b<0){var E=document.documentElement.clientHeight-g-2*(o.config.delta_y||0);E+b>document.documentElement.clientHeight?(g-=Math.abs(document.documentElement.clientHeight-g-b),g=Math.max(g,0),u.top=g+"px"):(u.bottom=E+"px",u.top="")}else u.top=g<0?f.y+Math.abs(o.config.delta_y||0)+"px":g+"px";s._waiAria.tooltipVisibleAttr(this.tooltip),u.visibility="visible",w.attach(this.tooltip,"mouseleave",function(T){for(var O=s.dhtmlXTooltip,U=T.relatedTarget;U!=s._obj&&U;)U=U.parentNode;U!=s._obj&&O.delay(O.hide,O,[],O.config.timeout_to_hide)}),s.callEvent("onTooltipDisplayed",[this.tooltip,this.tooltip.event_id])}}},d._clearTimeout=function(){this.tooltip._timeout_id&&clearTimeout(this.tooltip._timeout_id)},d.hide=function(){if(this.tooltip.parentNode){s._waiAria.tooltipHiddenAttr(this.tooltip);var m=this.tooltip.event_id;this.tooltip.event_id=null,w.detachAll(),this.tooltip.parentNode.removeChild(this.tooltip),s.callEvent("onAfterTooltip",[m])}this._clearTimeout()},d.delay=function(m,_,o,c){this._clearTimeout(),this.tooltip._timeout_id=setTimeout(function(){var u=m.apply(_,o);return m=_=o=null,u},c||this.config.timeout_to_display)},d.isTooltip=function(m){for(var _=!1;m&&!_;)_=m.className==this.tooltip.className,m=m.parentNode;return _},d.position=function(m){return{x:m.clientX,y:m.clientY}},s.attachEvent("onMouseMove",function(m,_){var o=_.target||_.srcElement,c=d,u=c.isTooltip(o),f=c.isTooltipTarget&&c.isTooltipTarget(o);if(m&&s.getState().editor_id!=m||u||f){var y,x;if(m||c.tooltip.event_id){var g=s.getEvent(m)||s.getEvent(c.tooltip.event_id);if(!g)return;if(c.tooltip.event_id=g.id,!(y=s.templates.tooltip_text(g.start_date,g.end_date,g)))return c.hide()}if(f&&(y=""),s.$env.isIE)for(var k in x={pageX:void 0,pageY:void 0,clientX:void 0,clientY:void 0,target:void 0,srcElement:void 0})x[k]=_[k];if(!s.callEvent("onBeforeTooltip",[m])||!y)return;c.delay(c.show,c,[x||_,y])}else c.delay(c.hide,c,[],c.config.timeout_to_hide)}),s.attachEvent("onBeforeDrag",function(){return d.hide(),!0}),s.attachEvent("onEventDeleted",function(){return d.hide(),!0}),s.attachEvent("onDestroy",function(){d.hide()})},treetimeline:function(s){wi("Tree Timeline",s.assert)},units:function(s){wi("Units",s.assert)},url:function(s){s._get_url_nav=function(){for(var w={},d=(document.location.hash||"").replace("#","").split(","),m=0;m<d.length;m++){var _=d[m].split("=");_.length==2&&(w[_[0]]=_[1])}return w},s.attachEvent("onTemplatesReady",function(){var w=!0,d=s.date.str_to_date("%Y-%m-%d"),m=s.date.date_to_str("%Y-%m-%d"),_=s._get_url_nav().event||null;function o(c){_=c,s.getEvent(c)&&s.showEvent(c)}s.attachEvent("onAfterEventDisplay",function(c){return _=null,!0}),s.attachEvent("onBeforeViewChange",function(c,u,f,y){if(w){w=!1;var x=s._get_url_nav();if(x.event)try{if(s.getEvent(x.event))return setTimeout(function(){o(x.event)}),!1;var g=s.attachEvent("onXLE",function(){setTimeout(function(){o(x.event)}),s.detachEvent(g)})}catch{}if(x.date||x.mode){try{this.setCurrentView(x.date?d(x.date):null,x.mode||null)}catch{this.setCurrentView(x.date?d(x.date):null,f)}return!1}}var k=["date="+m(y||u),"mode="+(f||c)];_&&k.push("event="+_);var b="#"+k.join(",");return document.location.hash=b,!0})})},week_agenda:function(s){wi("Week Agenda",s.assert)},wp:function(s){s.attachEvent("onLightBox",function(){if(this._cover)try{this._cover.style.height=this.expanded?"100%":(document.body.parentNode||document.body).scrollHeight+"px"}catch{}}),s.form_blocks.select.set_value=function(w,d,m){d!==void 0&&d!==""||(d=(w.firstChild.options[0]||{}).value),w.firstChild.value=d||""}},year_view:function(s){s.config.year_x=4,s.config.year_y=3,s.xy.year_top=0,s.templates.year_date=function(u){return s.date.date_to_str(s.locale.labels.year_tab+" %Y")(u)},s.templates.year_month=s.date.date_to_str("%F"),s.templates.year_scale_date=s.date.date_to_str("%D"),s.templates.year_tooltip=function(u,f,y){return y.text};var w=function(){return s._mode=="year"};s.dblclick_dhx_month_head=function(u){if(w()){var f=u.target||u.srcElement,y=s._getClassName(f.parentNode);if(y.indexOf("dhx_before")!=-1||y.indexOf("dhx_after")!=-1)return!1;for(var x=f;x&&(!x.hasAttribute||!x.hasAttribute("date"));)x=x.parentNode;if(x){var g=this._helpers.parseDate(x.getAttribute("date"));g.setDate(parseInt(f.innerHTML,10));var k=this.date.add(g,1,"day");!this.config.readonly&&this.config.dblclick_create&&this.addEventNow(g.valueOf(),k.valueOf(),u)}}};var d=s.changeEventId;s.changeEventId=function(){d.apply(this,arguments),w()&&this.year_view(!0)};var m=s.render_data;s.render_data=function(u){if(!w())return m.apply(this,arguments);for(var f=0;f<u.length;f++)this._year_render_event(u[f])};var _=s.clear_view;s.clear_view=function(){if(!w())return _.apply(this,arguments);var u=s._year_marked_cells,f=null;for(var y in u)u.hasOwnProperty(y)&&((f=u[y]).className="dhx_month_head",f.removeAttribute("date"));s._year_marked_cells={}},s._hideToolTip=function(){this._tooltip&&(this._tooltip.style.display="none",this._tooltip.date=new Date(9999,1,1))},s._showToolTip=function(u,f,y,x){if(this._tooltip){if(this._tooltip.date.valueOf()==u.valueOf())return;this._tooltip.innerHTML=""}else{var g=this._tooltip=document.createElement("div");g.className="dhx_year_tooltip",this.config.rtl&&(g.className+=" dhx_tooltip_rtl"),document.body.appendChild(g),g.addEventListener("click",s._click.dhx_cal_data)}for(var k=this.getEvents(u,this.date.add(u,1,"day")),b="",E=0;E<k.length;E++){var T=k[E];if(this.filter_event(T.id,T)){var O=T.color?"background:"+T.color+";":"",U=T.textColor?"color:"+T.textColor+";":"";b+="<div class='dhx_tooltip_line' style='"+O+U+"' event_id='"+k[E].id+"' "+this.config.event_attribute+"='"+k[E].id+"'>",b+="<div class='dhx_tooltip_date' style='"+O+U+"'>"+(k[E]._timed?this.templates.event_date(k[E].start_date):"")+"</div>",b+="<div class='dhx_event_icon icon_details'>&nbsp;</div>",b+=this.templates.year_tooltip(k[E].start_date,k[E].end_date,k[E])+"</div>"}}this._tooltip.style.display="",this._tooltip.style.top="0px",document.body.offsetWidth-f.left-this._tooltip.offsetWidth<0?this._tooltip.style.left=f.left-this._tooltip.offsetWidth+"px":this._tooltip.style.left=f.left+x.offsetWidth+"px",this._tooltip.date=u,this._tooltip.innerHTML=b,document.body.offsetHeight-f.top-this._tooltip.offsetHeight<0?this._tooltip.style.top=f.top-this._tooltip.offsetHeight+x.offsetHeight+"px":this._tooltip.style.top=f.top+"px"},s._year_view_tooltip_handler=function(u){if(w()){var f=u.target||u.srcElement;f.tagName.toLowerCase()=="a"&&(f=f.parentNode),s._getClassName(f).indexOf("dhx_year_event")!=-1?s._showToolTip(s.templates.parse_date(f.getAttribute("data-year-date")),s.$domHelpers.getOffset(f),u,f):s._hideToolTip()}},s._init_year_tooltip=function(){s._detachDomEvent(s._els.dhx_cal_data[0],"mouseover",s._year_view_tooltip_handler),s.event(s._els.dhx_cal_data[0],"mouseover",s._year_view_tooltip_handler)},s._get_year_cell=function(u){var f=u.getMonth()+12*(u.getFullYear()-this._min_date.getFullYear())-this.week_starts._month,y=this._els.dhx_cal_data[0].childNodes[f],x=this.week_starts[f]+u.getDate()-1;return y.querySelectorAll(".dhx_year_body tr")[Math.floor(x/7)].querySelectorAll("td")[x%7].querySelector(".dhx_month_head")},s._year_marked_cells={},s._mark_year_date=function(u,f){var y=s.templates.format_date(u),x=this._get_year_cell(u);if(x){var g=this.templates.event_class(f.start_date,f.end_date,f);s._year_marked_cells[y]||(x.className="dhx_month_head dhx_year_event",x.setAttribute("data-year-date",y),x.setAttribute("date",y),s._year_marked_cells[y]=x),x.className+=g?" "+g:""}},s._unmark_year_date=function(u){var f=this._get_year_cell(u);f&&(f.className="dhx_month_head")},s._year_render_event=function(u){var f=u.start_date;for(f=f.valueOf()<this._min_date.valueOf()?this._min_date:this.date.date_part(new Date(f));f<u.end_date;)if(this._mark_year_date(f,u),(f=this.date.add(f,1,"day")).valueOf()>=this._max_date.valueOf())return},s.year_view=function(u){var f;if(u&&(f=s.xy.scale_height,s.xy.scale_height=-1),s._els.dhx_cal_header[0].style.display=u?"none":"",s.set_sizes(),u&&(s.xy.scale_height=f),s._table_view=u,!this._load_mode||!this._load())if(u){if(s._init_year_tooltip(),s._reset_year_scale(),s._load_mode&&s._load())return void(s._render_wait=!0);s.render_view_data()}else s._hideToolTip()},s._reset_year_scale=function(){this._cols=[],this._colsS={};var u=[],f=this._els.dhx_cal_data[0],y=this.config;f.scrollTop=0,f.innerHTML="";var x=Math.floor(parseInt(f.style.width)/y.year_x),g=Math.floor((parseInt(f.style.height)-s.xy.year_top)/y.year_y);g<190&&(g=190,x=Math.floor((parseInt(f.style.width)-s.xy.scroll_width)/y.year_x));var k=x-11,b=0,E=document.createElement("div"),T=this.date.week_start(s._currentDate());this._process_ignores(T,7,"day",1);for(var O=7-(this._ignores_detected||0),U=0,$=0;$<7;$++)this._ignores&&this._ignores[$]||(this._cols[$]=Math.floor(k/(O-U)),this._render_x_header($,b,T,E),k-=this._cols[$],b+=this._cols[$],U++),T=this.date.add(T,1,"day");for(E.lastChild.className+=" dhx_scale_bar_last",$=0;$<E.childNodes.length;$++)this._waiAria.yearHeadCell(E.childNodes[$]);var V=this.date[this._mode+"_start"](this.date.copy(this._date)),Q=V,ee=null;for($=0;$<y.year_y;$++)for(var G=0;G<y.year_x;G++){(ee=document.createElement("div")).className="dhx_year_box",ee.style.cssText="position:absolute;",ee.setAttribute("date",this._helpers.formatDate(V)),ee.innerHTML="<div class='dhx_year_month'></div><div class='dhx_year_grid'><div class='dhx_year_week'>"+E.innerHTML+"</div><div class='dhx_year_body'></div></div>";var re=ee.querySelector(".dhx_year_month"),q=ee.querySelector(".dhx_year_grid"),X=ee.querySelector(".dhx_year_week"),J=ee.querySelector(".dhx_year_body"),ye=s.uid();this._waiAria.yearHeader(re,ye),this._waiAria.yearGrid(q,ye),re.innerHTML=this.templates.year_month(V);var Se=this.date.week_start(V);this._reset_month_scale(J,V,Se,6);for(var be=J.querySelectorAll("td"),Ie=0;Ie<be.length;Ie++)this._waiAria.yearDayCell(be[Ie]);f.appendChild(ee),X.style.height=X.childNodes[0].offsetHeight+"px";var Ce=Math.round((g-190)/2);ee.style.marginTop=Ce+"px",this.set_xy(ee,x-10,g-Ce-10,x*G+5,g*$+5+s.xy.year_top),u[$*y.year_x+G]=(V.getDay()-(this.config.start_on_monday?1:0)+7)%7,V=this.date.add(V,1,"month")}var $e=this._getNavDateElement();$e&&($e.innerHTML=this.templates[this._mode+"_date"](Q,V,this._mode)),this.week_starts=u,u._month=Q.getMonth(),this._min_date=Q,this._max_date=V};var o=s.getActionData;s.getActionData=function(u){if(!w())return o.apply(s,arguments);var f=u.target,y=s._get_year_month_date(f),x=s._get_year_month_cell(f),g=s._get_year_day_indexes(x);return g&&y?(y=s.date.add(y,g.week,"week"),y=s.date.add(y,g.day,"day")):y=null,{date:y,section:null}},s._get_year_day_indexes=function(u){var f=s._get_year_el_node(u,this._locate_year_month_table);if(!f)return null;for(var y=0,x=0,g=(y=0,f.rows.length);y<g;y++){for(var k=f.rows[y].getElementsByTagName("td"),b=(x=0,k.length);x<b&&k[x]!=u;x++);if(x<b)break}return y<g?{day:x,week:y}:null},s._get_year_month_date=function(u){if(!(u=s._get_year_el_node(u,s._locate_year_month_root)))return null;var f=u.getAttribute("data-year-date");return f?s.date.week_start(s.date.month_start(s.templates.parse_date(f))):null},s._locate_year_month_day=function(u){return s._getClassName(u).indexOf("dhx_year_event")!=-1&&u.hasAttribute&&u.hasAttribute("data-year-date")};var c=s._locate_event;s._locate_event=function(u){var f=c.apply(s,arguments);if(!f){var y=s._get_year_el_node(u,s._locate_year_month_day);if(!y||!y.hasAttribute("data-year-date"))return null;var x=s.templates.parse_date(y.getAttribute("data-year-date")),g=s.getEvents(x,s.date.add(x,1,"day"));if(!g.length)return null;f=g[0].id}return f},s._locate_year_month_cell=function(u){return u.nodeName.toLowerCase()=="td"},s._locate_year_month_table=function(u){return u.nodeName.toLowerCase()=="table"},s._locate_year_month_root=function(u){return u.hasAttribute&&u.hasAttribute("data-year-date")},s._get_year_month_cell=function(u){return this._get_year_el_node(u,this._locate_year_month_cell)},s._get_year_month_table=function(u){return this._get_year_el_node(u,this._locate_year_month_table)},s._get_year_month_root=function(u){return this._get_year_el_node(this._get_year_month_table(u),this._locate_year_month_root)},s._get_year_el_node=function(u,f){for(;u&&!f(u);)u=u.parentNode;return u},s.attachEvent("onDestroy",function(){s._hideToolTip()})}}),Ac=Mh.getSchedulerInstance(),Vg={plugin:Ac.bind(Mh.plugin,Mh)};window.scheduler=Ac,window.Scheduler=Vg,r.default=Ac}])})})(pz);const Ao=window.scheduler,mz=Je.now().toFormat("y, L, d");class gz extends oe.exports.Component{componentDidMount(){Ao.skin="material",Ao.config.header=["day","week","month","date","prev","today","next"];const{events:e}=this.props;Ao.init(this.schedulerContainer,mz),Ao.clearAll(),Ao.parse(e)}render(){return P("div",{ref:e=>{this.schedulerContainer=e},style:{width:"100%",height:"800px"}})}}const vz=()=>{const{user:t}=Tn(),[e,n]=oe.exports.useState([]),[r,i]=oe.exports.useState(!0);return oe.exports.useEffect(()=>{const a=mn(),l=br(a,`Users/${t.uid}/mySchedule`);sa(l).then(h=>{const p=h.docs.map(S=>({...S.data()})),v=[];p.forEach(S=>Object.keys(S).forEach(N=>v.push({start_date:S[N].start_date,end_date:S[N].end_date,text:S[N].text}))),n(v),i(!1)})},[t]),r?P("h5",{children:"loading..."}):P("div",{children:P("div",{className:"scheduler-container",children:P(gz,{events:e})})})};const yz=({info:t})=>{const{user:e}=Tn(),[n,r]=oe.exports.useState(t.checked),i=t.timeStamp.toDate().toString(),a=async()=>{try{const l=mn(),h=Lt(l,`Users/${e.uid}`);await zr(h,{notifications:Bl(-1)});const p=Lt(l,`Users/${e.uid}/myNotifications/${t.id}`);await zr(p,{checked:!0})}catch(l){swal("UPS!",`${l.message}`,"error")}r(!n)};return P("div",{className:"notification_container",children:ie("div",{className:"notification_card",children:[ie("p",{className:"notification_type",children:[" ",t.notificationType," "]}),ie("p",{className:"notification_info",children:[" ",t.textNotification," "]}),ie("p",{className:"notification_date",children:[" ",i," "]}),!n&&P("button",{className:"notification_button",onClick:a,children:"Visto"})]})})},bz=({notificaciones:t=[]})=>(t.sort((e,n)=>e.timeStamp>n.timeStamp?-1:e.timeStamp<n.timeStamp?1:0),t.map(e=>P(yz,{info:e},e.id)));const wz=()=>{const{user:t}=Tn(),[e,n]=oe.exports.useState([]);return oe.exports.useEffect(()=>{const r=mn(),i=br(r,`Users/${t.uid}/myNotifications`);sa(i).then(a=>n(a.docs.map(l=>({id:l.id,...l.data()}))))},[t]),P("div",{className:"notification_body",children:P(bz,{notificaciones:e})})};const xz=({teacher:t,newDate:e})=>{const n=[],r=t.disponibility;return t.teacherWeek.map((i,a)=>{let l=r[i.day],h=parseInt(i.timeStart),p=parseInt(i.timeEnd);for(let v=h;v<p;v++){let S=v.toString();if(S=S+":00",l[S]){const N={day:i.day,time:S};n.push(N)}}}),P("div",{children:n.map((i,a)=>P("div",{className:"listaHorarios_container",children:ie("div",{className:"listaHorarios_card",children:[ie("div",{className:"listaHorarios_data",children:[ie("p",{className:"listaHorarios_dia",children:[i.day,":"]}),ie("p",{className:"listaHorarios_hora",children:[i.time," HS"]})]}),P("button",{className:"listaHorarios_button",onClick:()=>{e(i.day,i.time)},children:"Seleccionar"})]})},a))})};const kz=()=>{const{user:t}=Tn(),[e,n]=oe.exports.useState(),[r,i]=oe.exports.useState(),a=t.misClases.actualClass,l=t.misClases.teacherUid;let h=[];Un();async function p(S){const N=mn(),C=Lt(N,`Users/${S}`),R=(await _R(C)).data(),D=br(N,`Users/${t.uid}/mySchedule`);return sa(D).then(L=>{i(L.docs.map(I=>({id:I.id,...I.data()})))}),R}oe.exports.useEffect(()=>{p(l).then(S=>{const N={disponibility:S.disponibility,teacherWeek:S.weekDisponibility};n(N)})},[]);const v=(S,N)=>{const C=r[0],A=C[a];let R=new Date(A.year,A.month,A.day);const D=(te,Z)=>{te.setDate(te.getDate()+Z)};let L=0,I=1,M=2,F=3,z=4,j=5,W=6;switch(R.getDay()){case 0:D(R,0);break;case 1:D(R,-1);break;case 2:D(R,-2);break;case 3:D(R,-3);break;case 4:D(R,-4);break;case 5:D(R,-5);break;case 6:D(R,-6);break}const B=(te,Z)=>{D(R,Z);let ue=R.getDate(),xe=R.getMonth(),je=R.getFullYear(),ke=parseInt(te),rt=new Date(je,xe,ue,ke),fe=te,ve=parseInt(te);ve++,ve=ve.toString(),ve=ve+":00";let Ne=`${je}-${xe+1}-${ue} ${fe}`,Ve=`${je}-${xe+1}-${ue} ${ve}`;const Ye={condition:"pending",start_date:`${Ne}`,end_date:`${Ve}`,date:rt,time:te,day:ue,month:xe,year:je,dayNumber:Z};({...Ye,text:`${t.form.name}${t.form.lastName}`},h={...Ye,text:`Profesor : ${t.form.teacherName}`}),D(R,-Z)},K=(te,Z)=>{te==="domingo"&&B(Z,L),te==="lunes"&&B(Z,I),te==="martes"&&B(Z,M),te==="miercoles"&&B(Z,F),te==="jueves"&&B(Z,z),te==="viernes"&&B(Z,j),te==="sabado"&&B(Z,W)};D(R,7),K(S,N),C[a]=h;const Y=[];r.forEach(te=>Object.keys(te).forEach(Z=>Y.push(te[Z]))),Y.pop(),Y.sort((te,Z)=>te.start_date<Z.start_date?-1:te.start_date>Z.start_date?1:0),Y.map(te=>{({...te,text:`${t.form.name}${t.form.lastName}`})})};if(e)return ie("div",{children:[ie("div",{className:"reprogramar_title",children:[P("h5",{children:"REPROGRAMAR CLASE"}),P("p",{children:"Aqui veras una lista de los horarios disponibles para reprogramar tu clase, recuerda que solo puedes hacer esto 2 veces por mes"})]}),P("div",{children:P(xz,{teacher:e,newDate:v})})]})};function Ez(){return P(jn,{children:P(WN,{children:P(xR,{children:ie(kR,{children:[P(DR,{}),ie(HN,{children:[P(an,{path:"/",element:P(LF,{})}),P(an,{path:"/signIn",element:P(UF,{})}),P(an,{path:"/signUp",element:P(Uj,{})}),P(an,{path:"/Admin",element:P(rz,{})}),P(an,{path:"/Admin/CreateTeacherAccount",element:P(sz,{})}),P(an,{path:"/Admin/ProgramingClassesAsAdmin",element:P(dz,{})}),P(an,{path:"/Panel",element:P(nz,{})}),P(an,{path:"/Account/ReprogramClass",element:P(kz,{})}),P(an,{path:"/Account/Teacher/MyStudents",element:P(_z,{})}),P(an,{path:"/MiCalendario",element:P(vz,{})}),P(an,{path:"/Checkout",element:P(HE,{})}),P(an,{path:"/MisNotificaciones",element:P(wz,{})}),P(an,{path:"/account",element:P(jj,{children:P(Gj,{})})}),P(an,{path:"/Alumn",element:P(zj,{children:P(BS,{})})}),P(an,{path:"/Teacher",element:P(Vj,{children:P(qS,{})})}),P(an,{path:"*",element:P("h1",{children:"404"})})]}),P(FF,{})]})})})})}Ff.createRoot(document.getElementById("root")).render(P(La.StrictMode,{children:P(Ez,{})}));
