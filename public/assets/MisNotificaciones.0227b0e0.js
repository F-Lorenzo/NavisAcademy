import{d as l,r as d,j as e,a as o,c as p,x as f,T as m,k as h,D as S,g as x}from"./index.f321a84a.js";const y=({info:t})=>{const{user:i}=l(),[s,c]=d.exports.useState(t.checked),n=t.timeStamp.toDate().toString(),r=async()=>{c(!s);try{const a=p(),u=f(a,`Users/${i.uid}`);await m(u,{notifications:h(-1)});const N=f(a,`Users/${i.uid}/myNotifications/${t.id}`);await m(N,{checked:!0})}catch(a){swal("UPS!",`${a.message}`,"error")}};return e("div",{className:"notification_container",children:o("div",{className:"notification_card",children:[o("p",{className:"notification_type",children:[" ",t.notificationType," "]}),o("p",{className:"notification_info",children:[" ",t.textNotification," "]}),o("p",{className:"notification_date",children:[" ",n," "]}),!s&&e("button",{className:"notification_button",onClick:r,children:"Visto"})]})})},U=({notificaciones:t=[]})=>(t.sort((i,s)=>i.timeStamp>s.timeStamp?-1:i.timeStamp<s.timeStamp?1:0),t.map(i=>e(y,{info:i},i.id)));const $=()=>{const{user:t}=l(),[i,s]=d.exports.useState([]);return d.exports.useEffect(()=>{const c=p(),n=S(c,`Users/${t.uid}/myNotifications`);x(n).then(r=>s(r.docs.map(a=>({id:a.id,...a.data()}))))},[t]),e("div",{className:"notification_body",children:e(U,{notificaciones:i})})};export{$ as default};
